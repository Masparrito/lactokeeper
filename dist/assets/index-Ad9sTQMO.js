var gL=Object.defineProperty;var yL=(t,e,n)=>e in t?gL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gf=(t,e,n)=>yL(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function St(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BC={exports:{}},dy={},zC={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),vL=Symbol.for("react.portal"),bL=Symbol.for("react.fragment"),_L=Symbol.for("react.strict_mode"),wL=Symbol.for("react.profiler"),xL=Symbol.for("react.provider"),EL=Symbol.for("react.context"),SL=Symbol.for("react.forward_ref"),AL=Symbol.for("react.suspense"),TL=Symbol.for("react.memo"),PL=Symbol.for("react.lazy"),aS=Symbol.iterator;function IL(t){return t===null||typeof t!="object"?null:(t=aS&&t[aS]||t["@@iterator"],typeof t=="function"?t:null)}var UC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qC=Object.assign,KC={};function Cc(t,e,n){this.props=t,this.context=e,this.refs=KC,this.updater=n||UC}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WC(){}WC.prototype=Cc.prototype;function tx(t,e,n){this.props=t,this.context=e,this.refs=KC,this.updater=n||UC}var nx=tx.prototype=new WC;nx.constructor=tx;qC(nx,Cc.prototype);nx.isPureReactComponent=!0;var sS=Array.isArray,HC=Object.prototype.hasOwnProperty,rx={current:null},GC={key:!0,ref:!0,__self:!0,__source:!0};function XC(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)HC.call(e,r)&&!GC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:_d,type:t,key:o,ref:a,props:i,_owner:rx.current}}function OL(t,e){return{$$typeof:_d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ix(t){return typeof t=="object"&&t!==null&&t.$$typeof===_d}function CL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lS=/\/+/g;function Gv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CL(""+t.key):e.toString(36)}function Yp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _d:case vL:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Gv(a,0):r,sS(i)?(n="",t!=null&&(n=t.replace(lS,"$&/")+"/"),Yp(i,e,n,"",function(u){return u})):i!=null&&(ix(i)&&(i=OL(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(lS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",sS(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Gv(o,s);a+=Yp(o,e,n,l,i)}else if(l=IL(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Gv(o,s++),a+=Yp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fp(t,e,n){if(t==null)return t;var r=[],i=0;return Yp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function kL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cr={current:null},Qp={transition:null},NL={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:Qp,ReactCurrentOwner:rx};function YC(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:fp,forEach:function(t,e,n){fp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fp(t,function(){e++}),e},toArray:function(t){return fp(t,function(e){return e})||[]},only:function(t){if(!ix(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Component=Cc;nt.Fragment=bL;nt.Profiler=wL;nt.PureComponent=tx;nt.StrictMode=_L;nt.Suspense=AL;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL;nt.act=YC;nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qC({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=rx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)HC.call(e,l)&&!GC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:_d,type:t.type,key:i,ref:o,props:r,_owner:a}};nt.createContext=function(t){return t={$$typeof:EL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xL,_context:t},t.Consumer=t};nt.createElement=XC;nt.createFactory=function(t){var e=XC.bind(null,t);return e.type=t,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:SL,render:t}};nt.isValidElement=ix;nt.lazy=function(t){return{$$typeof:PL,_payload:{_status:-1,_result:t},_init:kL}};nt.memo=function(t,e){return{$$typeof:TL,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=Qp.transition;Qp.transition={};try{t()}finally{Qp.transition=e}};nt.unstable_act=YC;nt.useCallback=function(t,e){return cr.current.useCallback(t,e)};nt.useContext=function(t){return cr.current.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t){return cr.current.useDeferredValue(t)};nt.useEffect=function(t,e){return cr.current.useEffect(t,e)};nt.useId=function(){return cr.current.useId()};nt.useImperativeHandle=function(t,e,n){return cr.current.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return cr.current.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return cr.current.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return cr.current.useMemo(t,e)};nt.useReducer=function(t,e,n){return cr.current.useReducer(t,e,n)};nt.useRef=function(t){return cr.current.useRef(t)};nt.useState=function(t){return cr.current.useState(t)};nt.useSyncExternalStore=function(t,e,n){return cr.current.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return cr.current.useTransition()};nt.version="18.3.1";zC.exports=nt;var G=zC.exports;const K=St(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL=G,RL=Symbol.for("react.element"),DL=Symbol.for("react.fragment"),ML=Object.prototype.hasOwnProperty,$L=jL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LL={key:!0,ref:!0,__self:!0,__source:!0};function QC(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ML.call(e,r)&&!LL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RL,type:t,key:o,ref:a,props:i,_owner:$L.current}}dy.Fragment=DL;dy.jsx=QC;dy.jsxs=QC;BC.exports=dy;var y=BC.exports,sb={},JC={exports:{}},qr={},ZC={exports:{}},ek={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,oe){var de=q.length;q.push(oe);e:for(;0<de;){var Te=de-1>>>1,be=q[Te];if(0<i(be,oe))q[Te]=oe,q[de]=be,de=Te;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var oe=q[0],de=q.pop();if(de!==oe){q[0]=de;e:for(var Te=0,be=q.length,ke=be>>>1;Te<ke;){var Ye=2*(Te+1)-1,ct=q[Ye],ht=Ye+1,nn=q[ht];if(0>i(ct,de))ht<be&&0>i(nn,ct)?(q[Te]=nn,q[ht]=de,Te=ht):(q[Te]=ct,q[Ye]=de,Te=Ye);else if(ht<be&&0>i(nn,de))q[Te]=nn,q[ht]=de,Te=ht;else break e}}return oe}function i(q,oe){var de=q.sortIndex-oe.sortIndex;return de!==0?de:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,c=null,p=3,g=!1,_=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(q){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=q)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function R(q){if(v=!1,P(q),!_)if(n(l)!==null)_=!0,se(T);else{var oe=n(u);oe!==null&&ge(R,oe.startTime-q)}}function T(q,oe){_=!1,v&&(v=!1,S(I),I=-1),g=!0;var de=p;try{for(P(oe),c=n(l);c!==null&&(!(c.expirationTime>oe)||q&&!D());){var Te=c.callback;if(typeof Te=="function"){c.callback=null,p=c.priorityLevel;var be=Te(c.expirationTime<=oe);oe=t.unstable_now(),typeof be=="function"?c.callback=be:c===n(l)&&r(l),P(oe)}else r(l);c=n(l)}if(c!==null)var ke=!0;else{var Ye=n(u);Ye!==null&&ge(R,Ye.startTime-oe),ke=!1}return ke}finally{c=null,p=de,g=!1}}var O=!1,w=null,I=-1,k=5,$=-1;function D(){return!(t.unstable_now()-$<k)}function V(){if(w!==null){var q=t.unstable_now();$=q;var oe=!0;try{oe=w(!0,q)}finally{oe?M():(O=!1,w=null)}}else O=!1}var M;if(typeof A=="function")M=function(){A(V)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=V,M=function(){ie.postMessage(null)}}else M=function(){x(V,0)};function se(q){w=q,O||(O=!0,M())}function ge(q,oe){I=x(function(){q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,se(T))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var de=p;p=oe;try{return q()}finally{p=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=p;p=q;try{return oe()}finally{p=de}},t.unstable_scheduleCallback=function(q,oe,de){var Te=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Te+de:Te):de=Te,q){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=de+be,q={id:f++,callback:oe,priorityLevel:q,startTime:de,expirationTime:be,sortIndex:-1},de>Te?(q.sortIndex=de,e(u,q),n(l)===null&&q===n(u)&&(v?(S(I),I=-1):v=!0,ge(R,de-Te))):(q.sortIndex=be,e(l,q),_||g||(_=!0,se(T))),q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(q){var oe=p;return function(){var de=p;p=oe;try{return q.apply(this,arguments)}finally{p=de}}}})(ek);ZC.exports=ek;var VL=ZC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL=G,Ur=VL;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tk=new Set,dh={};function Cl(t,e){Ku(t,e),Ku(t+"Capture",e)}function Ku(t,e){for(dh[t]=e,t=0;t<e.length;t++)tk.add(e[t])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=Object.prototype.hasOwnProperty,BL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uS={},cS={};function zL(t){return lb.call(cS,t)?!0:lb.call(uS,t)?!1:BL.test(t)?cS[t]=!0:(uS[t]=!0,!1)}function UL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qL(t,e,n,r){if(e===null||typeof e>"u"||UL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var ox=/[\-:]([a-z])/g;function ax(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ox,ax);Vn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ox,ax);Vn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ox,ax);Vn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function sx(t,e,n,r){var i=Vn.hasOwnProperty(e)?Vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qL(e,n,i,r)&&(n=null),r||i===null?zL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=FL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hp=Symbol.for("react.element"),pu=Symbol.for("react.portal"),mu=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),ux=Symbol.for("react.forward_ref"),cb=Symbol.for("react.suspense"),fb=Symbol.for("react.suspense_list"),cx=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),ik=Symbol.for("react.offscreen"),fS=Symbol.iterator;function yf(t){return t===null||typeof t!="object"?null:(t=fS&&t[fS]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,Xv;function Df(t){if(Xv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xv=e&&e[1]||""}return`
`+Xv+t}var Yv=!1;function Qv(t,e){if(!t||Yv)return"";Yv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Yv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Df(t):""}function KL(t){switch(t.tag){case 5:return Df(t.type);case 16:return Df("Lazy");case 13:return Df("Suspense");case 19:return Df("SuspenseList");case 0:case 2:case 15:return t=Qv(t.type,!1),t;case 11:return t=Qv(t.type.render,!1),t;case 1:return t=Qv(t.type,!0),t;default:return""}}function hb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mu:return"Fragment";case pu:return"Portal";case ub:return"Profiler";case lx:return"StrictMode";case cb:return"Suspense";case fb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rk:return(t.displayName||"Context")+".Consumer";case nk:return(t._context.displayName||"Context")+".Provider";case ux:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cx:return e=t.displayName||null,e!==null?e:hb(t.type)||"Memo";case Ta:e=t._payload,t=t._init;try{return hb(t(e))}catch{}}return null}function WL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hb(e);case 8:return e===lx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ok(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HL(t){var e=ok(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dp(t){t._valueTracker||(t._valueTracker=HL(t))}function ak(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ok(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function db(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sk(t,e){e=e.checked,e!=null&&sx(t,"checked",e,!1)}function pb(t,e){sk(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mb(t,e.type,n):e.hasOwnProperty("defaultValue")&&mb(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mb(t,e,n){(e!=="number"||bm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mf=Array.isArray;function Cu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(Mf(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function lk(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pp,ck=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pp=pp||document.createElement("div"),pp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ph(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GL=["Webkit","ms","Moz","O"];Object.keys(Hf).forEach(function(t){GL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hf[e]=Hf[t]})});function fk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hf.hasOwnProperty(t)&&Hf[t]?(""+e).trim():e+"px"}function hk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XL=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(t,e){if(e){if(XL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function bb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _b=null;function fx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wb=null,ku=null,Nu=null;function gS(t){if(t=Ed(t)){if(typeof wb!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=vy(e),wb(t.stateNode,t.type,e))}}function dk(t){ku?Nu?Nu.push(t):Nu=[t]:ku=t}function pk(){if(ku){var t=ku,e=Nu;if(Nu=ku=null,gS(t),e)for(t=0;t<e.length;t++)gS(e[t])}}function mk(t,e){return t(e)}function gk(){}var Jv=!1;function yk(t,e,n){if(Jv)return t(e,n);Jv=!0;try{return mk(t,e,n)}finally{Jv=!1,(ku!==null||Nu!==null)&&(gk(),pk())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=vy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var xb=!1;if(Xo)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){xb=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{xb=!1}function YL(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Gf=!1,_m=null,wm=!1,Eb=null,QL={onError:function(t){Gf=!0,_m=t}};function JL(t,e,n,r,i,o,a,s,l){Gf=!1,_m=null,YL.apply(QL,arguments)}function ZL(t,e,n,r,i,o,a,s,l){if(JL.apply(this,arguments),Gf){if(Gf){var u=_m;Gf=!1,_m=null}else throw Error(_e(198));wm||(wm=!0,Eb=u)}}function kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yS(t){if(kl(t)!==t)throw Error(_e(188))}function e4(t){var e=t.alternate;if(!e){if(e=kl(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yS(i),t;if(o===r)return yS(i),e;o=o.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function bk(t){return t=e4(t),t!==null?_k(t):null}function _k(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_k(t);if(e!==null)return e;t=t.sibling}return null}var wk=Ur.unstable_scheduleCallback,vS=Ur.unstable_cancelCallback,t4=Ur.unstable_shouldYield,n4=Ur.unstable_requestPaint,tn=Ur.unstable_now,r4=Ur.unstable_getCurrentPriorityLevel,hx=Ur.unstable_ImmediatePriority,xk=Ur.unstable_UserBlockingPriority,xm=Ur.unstable_NormalPriority,i4=Ur.unstable_LowPriority,Ek=Ur.unstable_IdlePriority,py=null,fo=null;function o4(t){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(py,t,void 0,(t.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:l4,a4=Math.log,s4=Math.LN2;function l4(t){return t>>>=0,t===0?32:31-(a4(t)/s4|0)|0}var mp=64,gp=4194304;function $f(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Em(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=$f(s):(o&=a,o!==0&&(r=$f(o)))}else a=n&~i,a!==0?r=$f(a):o!==0&&(r=$f(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fi(e),i=1<<n,r|=t[n],e&=~i;return r}function u4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Fi(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=u4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Sb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sk(){var t=mp;return mp<<=1,!(mp&4194240)&&(mp=64),t}function Zv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fi(e),t[e]=n}function f4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function dx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wt=0;function Ak(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tk,px,Pk,Ik,Ok,Ab=!1,yp=[],za=null,Ua=null,qa=null,gh=new Map,yh=new Map,Oa=[],h4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bS(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function bf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ed(e),e!==null&&px(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function d4(t,e,n,r,i){switch(e){case"focusin":return za=bf(za,t,e,n,r,i),!0;case"dragenter":return Ua=bf(Ua,t,e,n,r,i),!0;case"mouseover":return qa=bf(qa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return gh.set(o,bf(gh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yh.set(o,bf(yh.get(o)||null,t,e,n,r,i)),!0}return!1}function Ck(t){var e=Qs(t.target);if(e!==null){var n=kl(e);if(n!==null){if(e=n.tag,e===13){if(e=vk(n),e!==null){t.blockedOn=e,Ok(t.priority,function(){Pk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_b=r,n.target.dispatchEvent(r),_b=null}else return e=Ed(n),e!==null&&px(e),t.blockedOn=n,!1;e.shift()}return!0}function _S(t,e,n){Jp(t)&&n.delete(e)}function p4(){Ab=!1,za!==null&&Jp(za)&&(za=null),Ua!==null&&Jp(Ua)&&(Ua=null),qa!==null&&Jp(qa)&&(qa=null),gh.forEach(_S),yh.forEach(_S)}function _f(t,e){t.blockedOn===e&&(t.blockedOn=null,Ab||(Ab=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,p4)))}function vh(t){function e(i){return _f(i,t)}if(0<yp.length){_f(yp[0],t);for(var n=1;n<yp.length;n++){var r=yp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&_f(za,t),Ua!==null&&_f(Ua,t),qa!==null&&_f(qa,t),gh.forEach(e),yh.forEach(e),n=0;n<Oa.length;n++)r=Oa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oa.length&&(n=Oa[0],n.blockedOn===null);)Ck(n),n.blockedOn===null&&Oa.shift()}var ju=aa.ReactCurrentBatchConfig,Sm=!0;function m4(t,e,n,r){var i=wt,o=ju.transition;ju.transition=null;try{wt=1,mx(t,e,n,r)}finally{wt=i,ju.transition=o}}function g4(t,e,n,r){var i=wt,o=ju.transition;ju.transition=null;try{wt=4,mx(t,e,n,r)}finally{wt=i,ju.transition=o}}function mx(t,e,n,r){if(Sm){var i=Tb(t,e,n,r);if(i===null)u0(t,e,r,Am,n),bS(t,r);else if(d4(i,t,e,n,r))r.stopPropagation();else if(bS(t,r),e&4&&-1<h4.indexOf(t)){for(;i!==null;){var o=Ed(i);if(o!==null&&Tk(o),o=Tb(t,e,n,r),o===null&&u0(t,e,r,Am,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else u0(t,e,r,null,n)}}var Am=null;function Tb(t,e,n,r){if(Am=null,t=fx(r),t=Qs(t),t!==null)if(e=kl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Am=t,null}function kk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r4()){case hx:return 1;case xk:return 4;case xm:case i4:return 16;case Ek:return 536870912;default:return 16}default:return 16}}var Ma=null,gx=null,Zp=null;function Nk(){if(Zp)return Zp;var t,e=gx,n=e.length,r,i="value"in Ma?Ma.value:Ma.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Zp=i.slice(t,1<r?1-r:void 0)}function em(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vp(){return!0}function wS(){return!1}function Kr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vp:wS,this.isPropagationStopped=wS,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vp)},persist:function(){},isPersistent:vp}),e}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yx=Kr(kc),xd=Ht({},kc,{view:0,detail:0}),y4=Kr(xd),e0,t0,wf,my=Ht({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wf&&(wf&&t.type==="mousemove"?(e0=t.screenX-wf.screenX,t0=t.screenY-wf.screenY):t0=e0=0,wf=t),e0)},movementY:function(t){return"movementY"in t?t.movementY:t0}}),xS=Kr(my),v4=Ht({},my,{dataTransfer:0}),b4=Kr(v4),_4=Ht({},xd,{relatedTarget:0}),n0=Kr(_4),w4=Ht({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),x4=Kr(w4),E4=Ht({},kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S4=Kr(E4),A4=Ht({},kc,{data:0}),ES=Kr(A4),T4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I4[t])?!!e[t]:!1}function vx(){return O4}var C4=Ht({},xd,{key:function(t){if(t.key){var e=T4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=em(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vx,charCode:function(t){return t.type==="keypress"?em(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?em(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k4=Kr(C4),N4=Ht({},my,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SS=Kr(N4),j4=Ht({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vx}),R4=Kr(j4),D4=Ht({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),M4=Kr(D4),$4=Ht({},my,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L4=Kr($4),V4=[9,13,27,32],bx=Xo&&"CompositionEvent"in window,Xf=null;Xo&&"documentMode"in document&&(Xf=document.documentMode);var F4=Xo&&"TextEvent"in window&&!Xf,jk=Xo&&(!bx||Xf&&8<Xf&&11>=Xf),AS=" ",TS=!1;function Rk(t,e){switch(t){case"keyup":return V4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gu=!1;function B4(t,e){switch(t){case"compositionend":return Dk(e);case"keypress":return e.which!==32?null:(TS=!0,AS);case"textInput":return t=e.data,t===AS&&TS?null:t;default:return null}}function z4(t,e){if(gu)return t==="compositionend"||!bx&&Rk(t,e)?(t=Nk(),Zp=gx=Ma=null,gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jk&&e.locale!=="ko"?null:e.data;default:return null}}var U4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U4[t.type]:e==="textarea"}function Mk(t,e,n,r){dk(r),e=Tm(e,"onChange"),0<e.length&&(n=new yx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yf=null,bh=null;function q4(t){Hk(t,0)}function gy(t){var e=bu(t);if(ak(e))return t}function K4(t,e){if(t==="change")return e}var $k=!1;if(Xo){var r0;if(Xo){var i0="oninput"in document;if(!i0){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),i0=typeof IS.oninput=="function"}r0=i0}else r0=!1;$k=r0&&(!document.documentMode||9<document.documentMode)}function OS(){Yf&&(Yf.detachEvent("onpropertychange",Lk),bh=Yf=null)}function Lk(t){if(t.propertyName==="value"&&gy(bh)){var e=[];Mk(e,bh,t,fx(t)),yk(q4,e)}}function W4(t,e,n){t==="focusin"?(OS(),Yf=e,bh=n,Yf.attachEvent("onpropertychange",Lk)):t==="focusout"&&OS()}function H4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gy(bh)}function G4(t,e){if(t==="click")return gy(e)}function X4(t,e){if(t==="input"||t==="change")return gy(e)}function Y4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zi=typeof Object.is=="function"?Object.is:Y4;function _h(t,e){if(zi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lb.call(e,i)||!zi(t[i],e[i]))return!1}return!0}function CS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kS(t,e){var n=CS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CS(n)}}function Vk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fk(){for(var t=window,e=bm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bm(t.document)}return e}function _x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Q4(t){var e=Fk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vk(n.ownerDocument.documentElement,n)){if(r!==null&&_x(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kS(n,o);var a=kS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var J4=Xo&&"documentMode"in document&&11>=document.documentMode,yu=null,Pb=null,Qf=null,Ib=!1;function NS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ib||yu==null||yu!==bm(r)||(r=yu,"selectionStart"in r&&_x(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qf&&_h(Qf,r)||(Qf=r,r=Tm(Pb,"onSelect"),0<r.length&&(e=new yx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yu)))}function bp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vu={animationend:bp("Animation","AnimationEnd"),animationiteration:bp("Animation","AnimationIteration"),animationstart:bp("Animation","AnimationStart"),transitionend:bp("Transition","TransitionEnd")},o0={},Bk={};Xo&&(Bk=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function yy(t){if(o0[t])return o0[t];if(!vu[t])return t;var e=vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bk)return o0[t]=e[n];return t}var zk=yy("animationend"),Uk=yy("animationiteration"),qk=yy("animationstart"),Kk=yy("transitionend"),Wk=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){Wk.set(t,e),Cl(e,[t])}for(var a0=0;a0<jS.length;a0++){var s0=jS[a0],Z4=s0.toLowerCase(),eV=s0[0].toUpperCase()+s0.slice(1);cs(Z4,"on"+eV)}cs(zk,"onAnimationEnd");cs(Uk,"onAnimationIteration");cs(qk,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(Kk,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lf));function RS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZL(r,e,void 0,t),t.currentTarget=null}function Hk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;RS(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;RS(i,s,u),o=l}}}if(wm)throw t=Eb,wm=!1,Eb=null,t}function Dt(t,e){var n=e[jb];n===void 0&&(n=e[jb]=new Set);var r=t+"__bubble";n.has(r)||(Gk(e,t,2,!1),n.add(r))}function l0(t,e,n){var r=0;e&&(r|=4),Gk(n,t,r,e)}var _p="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[_p]){t[_p]=!0,tk.forEach(function(n){n!=="selectionchange"&&(tV.has(n)||l0(n,!1,t),l0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_p]||(e[_p]=!0,l0("selectionchange",!1,e))}}function Gk(t,e,n,r){switch(kk(e)){case 1:var i=m4;break;case 4:i=g4;break;default:i=mx}n=i.bind(null,e,n,t),i=void 0,!xb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function u0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Qs(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}yk(function(){var u=o,f=fx(n),c=[];e:{var p=Wk.get(t);if(p!==void 0){var g=yx,_=t;switch(t){case"keypress":if(em(n)===0)break e;case"keydown":case"keyup":g=k4;break;case"focusin":_="focus",g=n0;break;case"focusout":_="blur",g=n0;break;case"beforeblur":case"afterblur":g=n0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=b4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=R4;break;case zk:case Uk:case qk:g=x4;break;case Kk:g=M4;break;case"scroll":g=y4;break;case"wheel":g=L4;break;case"copy":case"cut":case"paste":g=S4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=SS}var v=(e&4)!==0,x=!v&&t==="scroll",S=v?p!==null?p+"Capture":null:p;v=[];for(var A=u,P;A!==null;){P=A;var R=P.stateNode;if(P.tag===5&&R!==null&&(P=R,S!==null&&(R=mh(A,S),R!=null&&v.push(xh(A,R,P)))),x)break;A=A.return}0<v.length&&(p=new g(p,_,null,n,f),c.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==_b&&(_=n.relatedTarget||n.fromElement)&&(Qs(_)||_[Yo]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Qs(_):null,_!==null&&(x=kl(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=xS,R="onMouseLeave",S="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(v=SS,R="onPointerLeave",S="onPointerEnter",A="pointer"),x=g==null?p:bu(g),P=_==null?p:bu(_),p=new v(R,A+"leave",g,n,f),p.target=x,p.relatedTarget=P,R=null,Qs(f)===u&&(v=new v(S,A+"enter",_,n,f),v.target=P,v.relatedTarget=x,R=v),x=R,g&&_)t:{for(v=g,S=_,A=0,P=v;P;P=iu(P))A++;for(P=0,R=S;R;R=iu(R))P++;for(;0<A-P;)v=iu(v),A--;for(;0<P-A;)S=iu(S),P--;for(;A--;){if(v===S||S!==null&&v===S.alternate)break t;v=iu(v),S=iu(S)}v=null}else v=null;g!==null&&DS(c,p,g,v,!1),_!==null&&x!==null&&DS(c,x,_,v,!0)}}e:{if(p=u?bu(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var T=K4;else if(PS(p))if($k)T=X4;else{T=H4;var O=W4}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=G4);if(T&&(T=T(t,u))){Mk(c,T,n,f);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&mb(p,"number",p.value)}switch(O=u?bu(u):window,t){case"focusin":(PS(O)||O.contentEditable==="true")&&(yu=O,Pb=u,Qf=null);break;case"focusout":Qf=Pb=yu=null;break;case"mousedown":Ib=!0;break;case"contextmenu":case"mouseup":case"dragend":Ib=!1,NS(c,n,f);break;case"selectionchange":if(J4)break;case"keydown":case"keyup":NS(c,n,f)}var w;if(bx)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else gu?Rk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(jk&&n.locale!=="ko"&&(gu||I!=="onCompositionStart"?I==="onCompositionEnd"&&gu&&(w=Nk()):(Ma=f,gx="value"in Ma?Ma.value:Ma.textContent,gu=!0)),O=Tm(u,I),0<O.length&&(I=new ES(I,t,null,n,f),c.push({event:I,listeners:O}),w?I.data=w:(w=Dk(n),w!==null&&(I.data=w)))),(w=F4?B4(t,n):z4(t,n))&&(u=Tm(u,"onBeforeInput"),0<u.length&&(f=new ES("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=w))}Hk(c,e)})}function xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mh(t,n),o!=null&&r.unshift(xh(t,o,i)),o=mh(t,e),o!=null&&r.push(xh(t,o,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=mh(n,o),l!=null&&a.unshift(xh(n,l,s))):i||(l=mh(n,o),l!=null&&a.push(xh(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var nV=/\r\n?/g,rV=/\u0000|\uFFFD/g;function MS(t){return(typeof t=="string"?t:""+t).replace(nV,`
`).replace(rV,"")}function wp(t,e,n){if(e=MS(e),MS(t)!==e&&n)throw Error(_e(425))}function Pm(){}var Ob=null,Cb=null;function kb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nb=typeof setTimeout=="function"?setTimeout:void 0,iV=typeof clearTimeout=="function"?clearTimeout:void 0,$S=typeof Promise=="function"?Promise:void 0,oV=typeof queueMicrotask=="function"?queueMicrotask:typeof $S<"u"?function(t){return $S.resolve(null).then(t).catch(aV)}:Nb;function aV(t){setTimeout(function(){throw t})}function c0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vh(e)}function Ka(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),so="__reactFiber$"+Nc,Eh="__reactProps$"+Nc,Yo="__reactContainer$"+Nc,jb="__reactEvents$"+Nc,sV="__reactListeners$"+Nc,lV="__reactHandles$"+Nc;function Qs(t){var e=t[so];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yo]||n[so]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LS(t);t!==null;){if(n=t[so])return n;t=LS(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[so]||t[Yo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function vy(t){return t[Eh]||null}var Rb=[],_u=-1;function fs(t){return{current:t}}function Vt(t){0>_u||(t.current=Rb[_u],Rb[_u]=null,_u--)}function kt(t,e){_u++,Rb[_u]=t.current,t.current=e}var rs={},Zn=fs(rs),Sr=fs(!1),dl=rs;function Wu(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(t){return t=t.childContextTypes,t!=null}function Im(){Vt(Sr),Vt(Zn)}function VS(t,e,n){if(Zn.current!==rs)throw Error(_e(168));kt(Zn,e),kt(Sr,n)}function Xk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,WL(t)||"Unknown",i));return Ht({},n,r)}function Om(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,dl=Zn.current,kt(Zn,t),kt(Sr,Sr.current),!0}function FS(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=Xk(t,e,dl),r.__reactInternalMemoizedMergedChildContext=t,Vt(Sr),Vt(Zn),kt(Zn,t)):Vt(Sr),kt(Sr,n)}var Do=null,by=!1,f0=!1;function Yk(t){Do===null?Do=[t]:Do.push(t)}function uV(t){by=!0,Yk(t)}function hs(){if(!f0&&Do!==null){f0=!0;var t=0,e=wt;try{var n=Do;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Do=null,by=!1}catch(i){throw Do!==null&&(Do=Do.slice(t+1)),wk(hx,hs),i}finally{wt=e,f0=!1}}return null}var wu=[],xu=0,Cm=null,km=0,ri=[],ii=0,pl=null,Mo=1,$o="";function Ks(t,e){wu[xu++]=km,wu[xu++]=Cm,Cm=t,km=e}function Qk(t,e,n){ri[ii++]=Mo,ri[ii++]=$o,ri[ii++]=pl,pl=t;var r=Mo;t=$o;var i=32-Fi(r)-1;r&=~(1<<i),n+=1;var o=32-Fi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Mo=1<<32-Fi(e)+i|n<<i|r,$o=o+t}else Mo=1<<o|n<<i|r,$o=t}function wx(t){t.return!==null&&(Ks(t,1),Qk(t,1,0))}function xx(t){for(;t===Cm;)Cm=wu[--xu],wu[xu]=null,km=wu[--xu],wu[xu]=null;for(;t===pl;)pl=ri[--ii],ri[ii]=null,$o=ri[--ii],ri[ii]=null,Mo=ri[--ii],ri[ii]=null}var zr=null,Fr=null,Bt=!1,Mi=null;function Jk(t,e){var n=si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zr=t,Fr=Ka(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zr=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pl!==null?{id:Mo,overflow:$o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zr=t,Fr=null,!0):!1;default:return!1}}function Db(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mb(t){if(Bt){var e=Fr;if(e){var n=e;if(!BS(t,e)){if(Db(t))throw Error(_e(418));e=Ka(n.nextSibling);var r=zr;e&&BS(t,e)?Jk(r,n):(t.flags=t.flags&-4097|2,Bt=!1,zr=t)}}else{if(Db(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Bt=!1,zr=t}}}function zS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zr=t}function xp(t){if(t!==zr)return!1;if(!Bt)return zS(t),Bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kb(t.type,t.memoizedProps)),e&&(e=Fr)){if(Db(t))throw Zk(),Error(_e(418));for(;e;)Jk(t,e),e=Ka(e.nextSibling)}if(zS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fr=Ka(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=zr?Ka(t.stateNode.nextSibling):null;return!0}function Zk(){for(var t=Fr;t;)t=Ka(t.nextSibling)}function Hu(){Fr=zr=null,Bt=!1}function Ex(t){Mi===null?Mi=[t]:Mi.push(t)}var cV=aa.ReactCurrentBatchConfig;function xf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function Ep(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function US(t){var e=t._init;return e(t._payload)}function e2(t){function e(S,A){if(t){var P=S.deletions;P===null?(S.deletions=[A],S.flags|=16):P.push(A)}}function n(S,A){if(!t)return null;for(;A!==null;)e(S,A),A=A.sibling;return null}function r(S,A){for(S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function i(S,A){return S=Xa(S,A),S.index=0,S.sibling=null,S}function o(S,A,P){return S.index=P,t?(P=S.alternate,P!==null?(P=P.index,P<A?(S.flags|=2,A):P):(S.flags|=2,A)):(S.flags|=1048576,A)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function s(S,A,P,R){return A===null||A.tag!==6?(A=v0(P,S.mode,R),A.return=S,A):(A=i(A,P),A.return=S,A)}function l(S,A,P,R){var T=P.type;return T===mu?f(S,A,P.props.children,R,P.key):A!==null&&(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ta&&US(T)===A.type)?(R=i(A,P.props),R.ref=xf(S,A,P),R.return=S,R):(R=sm(P.type,P.key,P.props,null,S.mode,R),R.ref=xf(S,A,P),R.return=S,R)}function u(S,A,P,R){return A===null||A.tag!==4||A.stateNode.containerInfo!==P.containerInfo||A.stateNode.implementation!==P.implementation?(A=b0(P,S.mode,R),A.return=S,A):(A=i(A,P.children||[]),A.return=S,A)}function f(S,A,P,R,T){return A===null||A.tag!==7?(A=sl(P,S.mode,R,T),A.return=S,A):(A=i(A,P),A.return=S,A)}function c(S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return A=v0(""+A,S.mode,P),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hp:return P=sm(A.type,A.key,A.props,null,S.mode,P),P.ref=xf(S,null,A),P.return=S,P;case pu:return A=b0(A,S.mode,P),A.return=S,A;case Ta:var R=A._init;return c(S,R(A._payload),P)}if(Mf(A)||yf(A))return A=sl(A,S.mode,P,null),A.return=S,A;Ep(S,A)}return null}function p(S,A,P,R){var T=A!==null?A.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return T!==null?null:s(S,A,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case hp:return P.key===T?l(S,A,P,R):null;case pu:return P.key===T?u(S,A,P,R):null;case Ta:return T=P._init,p(S,A,T(P._payload),R)}if(Mf(P)||yf(P))return T!==null?null:f(S,A,P,R,null);Ep(S,P)}return null}function g(S,A,P,R,T){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(P)||null,s(A,S,""+R,T);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case hp:return S=S.get(R.key===null?P:R.key)||null,l(A,S,R,T);case pu:return S=S.get(R.key===null?P:R.key)||null,u(A,S,R,T);case Ta:var O=R._init;return g(S,A,P,O(R._payload),T)}if(Mf(R)||yf(R))return S=S.get(P)||null,f(A,S,R,T,null);Ep(A,R)}return null}function _(S,A,P,R){for(var T=null,O=null,w=A,I=A=0,k=null;w!==null&&I<P.length;I++){w.index>I?(k=w,w=null):k=w.sibling;var $=p(S,w,P[I],R);if($===null){w===null&&(w=k);break}t&&w&&$.alternate===null&&e(S,w),A=o($,A,I),O===null?T=$:O.sibling=$,O=$,w=k}if(I===P.length)return n(S,w),Bt&&Ks(S,I),T;if(w===null){for(;I<P.length;I++)w=c(S,P[I],R),w!==null&&(A=o(w,A,I),O===null?T=w:O.sibling=w,O=w);return Bt&&Ks(S,I),T}for(w=r(S,w);I<P.length;I++)k=g(w,S,I,P[I],R),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?I:k.key),A=o(k,A,I),O===null?T=k:O.sibling=k,O=k);return t&&w.forEach(function(D){return e(S,D)}),Bt&&Ks(S,I),T}function v(S,A,P,R){var T=yf(P);if(typeof T!="function")throw Error(_e(150));if(P=T.call(P),P==null)throw Error(_e(151));for(var O=T=null,w=A,I=A=0,k=null,$=P.next();w!==null&&!$.done;I++,$=P.next()){w.index>I?(k=w,w=null):k=w.sibling;var D=p(S,w,$.value,R);if(D===null){w===null&&(w=k);break}t&&w&&D.alternate===null&&e(S,w),A=o(D,A,I),O===null?T=D:O.sibling=D,O=D,w=k}if($.done)return n(S,w),Bt&&Ks(S,I),T;if(w===null){for(;!$.done;I++,$=P.next())$=c(S,$.value,R),$!==null&&(A=o($,A,I),O===null?T=$:O.sibling=$,O=$);return Bt&&Ks(S,I),T}for(w=r(S,w);!$.done;I++,$=P.next())$=g(w,S,I,$.value,R),$!==null&&(t&&$.alternate!==null&&w.delete($.key===null?I:$.key),A=o($,A,I),O===null?T=$:O.sibling=$,O=$);return t&&w.forEach(function(V){return e(S,V)}),Bt&&Ks(S,I),T}function x(S,A,P,R){if(typeof P=="object"&&P!==null&&P.type===mu&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case hp:e:{for(var T=P.key,O=A;O!==null;){if(O.key===T){if(T=P.type,T===mu){if(O.tag===7){n(S,O.sibling),A=i(O,P.props.children),A.return=S,S=A;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ta&&US(T)===O.type){n(S,O.sibling),A=i(O,P.props),A.ref=xf(S,O,P),A.return=S,S=A;break e}n(S,O);break}else e(S,O);O=O.sibling}P.type===mu?(A=sl(P.props.children,S.mode,R,P.key),A.return=S,S=A):(R=sm(P.type,P.key,P.props,null,S.mode,R),R.ref=xf(S,A,P),R.return=S,S=R)}return a(S);case pu:e:{for(O=P.key;A!==null;){if(A.key===O)if(A.tag===4&&A.stateNode.containerInfo===P.containerInfo&&A.stateNode.implementation===P.implementation){n(S,A.sibling),A=i(A,P.children||[]),A.return=S,S=A;break e}else{n(S,A);break}else e(S,A);A=A.sibling}A=b0(P,S.mode,R),A.return=S,S=A}return a(S);case Ta:return O=P._init,x(S,A,O(P._payload),R)}if(Mf(P))return _(S,A,P,R);if(yf(P))return v(S,A,P,R);Ep(S,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,A!==null&&A.tag===6?(n(S,A.sibling),A=i(A,P),A.return=S,S=A):(n(S,A),A=v0(P,S.mode,R),A.return=S,S=A),a(S)):n(S,A)}return x}var Gu=e2(!0),t2=e2(!1),Nm=fs(null),jm=null,Eu=null,Sx=null;function Ax(){Sx=Eu=jm=null}function Tx(t){var e=Nm.current;Vt(Nm),t._currentValue=e}function $b(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ru(t,e){jm=t,Sx=Eu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wr=!0),t.firstContext=null)}function pi(t){var e=t._currentValue;if(Sx!==t)if(t={context:t,memoizedValue:e,next:null},Eu===null){if(jm===null)throw Error(_e(308));Eu=t,jm.dependencies={lanes:0,firstContext:t}}else Eu=Eu.next=t;return e}var Js=null;function Px(t){Js===null?Js=[t]:Js.push(t)}function n2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Px(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pa=!1;function Ix(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(t,n)}return i=r.interleaved,i===null?(e.next=e,Px(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(t,n)}function tm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}function qS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rm(t,e,n,r){var i=t.updateQueue;Pa=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,f=u=l=null,s=o;do{var p=s.lane,g=s.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,v=s;switch(p=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){c=_.call(g,c,p);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,p=typeof _=="function"?_.call(g,c,p):_,p==null)break e;c=Ht({},c,p);break e;case 2:Pa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else g={eventTime:g,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=g,l=c):f=f.next=g,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gl|=a,t.lanes=a,t.memoizedState=c}}function KS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var Sd={},ho=fs(Sd),Sh=fs(Sd),Ah=fs(Sd);function Zs(t){if(t===Sd)throw Error(_e(174));return t}function Ox(t,e){switch(kt(Ah,e),kt(Sh,t),kt(ho,Sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yb(e,t)}Vt(ho),kt(ho,e)}function Xu(){Vt(ho),Vt(Sh),Vt(Ah)}function i2(t){Zs(Ah.current);var e=Zs(ho.current),n=yb(e,t.type);e!==n&&(kt(Sh,t),kt(ho,n))}function Cx(t){Sh.current===t&&(Vt(ho),Vt(Sh))}var Kt=fs(0);function Dm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h0=[];function kx(){for(var t=0;t<h0.length;t++)h0[t]._workInProgressVersionPrimary=null;h0.length=0}var nm=aa.ReactCurrentDispatcher,d0=aa.ReactCurrentBatchConfig,ml=0,Wt=null,bn=null,On=null,Mm=!1,Jf=!1,Th=0,fV=0;function qn(){throw Error(_e(321))}function Nx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zi(t[n],e[n]))return!1;return!0}function jx(t,e,n,r,i,o){if(ml=o,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nm.current=t===null||t.memoizedState===null?mV:gV,t=n(r,i),Jf){o=0;do{if(Jf=!1,Th=0,25<=o)throw Error(_e(301));o+=1,On=bn=null,e.updateQueue=null,nm.current=yV,t=n(r,i)}while(Jf)}if(nm.current=$m,e=bn!==null&&bn.next!==null,ml=0,On=bn=Wt=null,Mm=!1,e)throw Error(_e(300));return t}function Rx(){var t=Th!==0;return Th=0,t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Wt.memoizedState=On=t:On=On.next=t,On}function mi(){if(bn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=On===null?Wt.memoizedState:On.next;if(e!==null)On=e,bn=t;else{if(t===null)throw Error(_e(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},On===null?Wt.memoizedState=On=t:On=On.next=t}return On}function Ph(t,e){return typeof e=="function"?e(t):e}function p0(t){var e=mi(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((ml&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=r):l=l.next=c,Wt.lanes|=f,gl|=f}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,zi(r,e.memoizedState)||(wr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Wt.lanes|=o,gl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function m0(t){var e=mi(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);zi(o,e.memoizedState)||(wr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function o2(){}function a2(t,e){var n=Wt,r=mi(),i=e(),o=!zi(r.memoizedState,i);if(o&&(r.memoizedState=i,wr=!0),r=r.queue,Dx(u2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,Ih(9,l2.bind(null,n,r,i,e),void 0,null),Cn===null)throw Error(_e(349));ml&30||s2(n,e,i)}return i}function s2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l2(t,e,n,r){e.value=n,e.getSnapshot=r,c2(e)&&f2(t)}function u2(t,e,n){return n(function(){c2(e)&&f2(t)})}function c2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zi(t,n)}catch{return!0}}function f2(t){var e=Qo(t,1);e!==null&&Bi(e,t,1,-1)}function WS(t){var e=oo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},e.queue=t,t=t.dispatch=pV.bind(null,Wt,t),[e.memoizedState,t]}function Ih(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h2(){return mi().memoizedState}function rm(t,e,n,r){var i=oo();Wt.flags|=t,i.memoizedState=Ih(1|e,n,void 0,r===void 0?null:r)}function _y(t,e,n,r){var i=mi();r=r===void 0?null:r;var o=void 0;if(bn!==null){var a=bn.memoizedState;if(o=a.destroy,r!==null&&Nx(r,a.deps)){i.memoizedState=Ih(e,n,o,r);return}}Wt.flags|=t,i.memoizedState=Ih(1|e,n,o,r)}function HS(t,e){return rm(8390656,8,t,e)}function Dx(t,e){return _y(2048,8,t,e)}function d2(t,e){return _y(4,2,t,e)}function p2(t,e){return _y(4,4,t,e)}function m2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g2(t,e,n){return n=n!=null?n.concat([t]):null,_y(4,4,m2.bind(null,e,t),n)}function Mx(){}function y2(t,e){var n=mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v2(t,e){var n=mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b2(t,e,n){return ml&21?(zi(n,e)||(n=Sk(),Wt.lanes|=n,gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=n)}function hV(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=d0.transition;d0.transition={};try{t(!1),e()}finally{wt=n,d0.transition=r}}function _2(){return mi().memoizedState}function dV(t,e,n){var r=Ga(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w2(t))x2(e,n);else if(n=n2(t,e,n,r),n!==null){var i=lr();Bi(n,t,r,i),E2(n,e,r)}}function pV(t,e,n){var r=Ga(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w2(t))x2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,zi(s,a)){var l=e.interleaved;l===null?(i.next=i,Px(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=n2(t,e,i,r),n!==null&&(i=lr(),Bi(n,t,r,i),E2(n,e,r))}}function w2(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function x2(t,e){Jf=Mm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}var $m={readContext:pi,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},mV={readContext:pi,useCallback:function(t,e){return oo().memoizedState=[t,e===void 0?null:e],t},useContext:pi,useEffect:HS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rm(4194308,4,m2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rm(4194308,4,t,e)},useInsertionEffect:function(t,e){return rm(4,2,t,e)},useMemo:function(t,e){var n=oo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dV.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=oo();return t={current:t},e.memoizedState=t},useState:WS,useDebugValue:Mx,useDeferredValue:function(t){return oo().memoizedState=t},useTransition:function(){var t=WS(!1),e=t[0];return t=hV.bind(null,t[1]),oo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,i=oo();if(Bt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Cn===null)throw Error(_e(349));ml&30||s2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,HS(u2.bind(null,r,o,t),[t]),r.flags|=2048,Ih(9,l2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=oo(),e=Cn.identifierPrefix;if(Bt){var n=$o,r=Mo;n=(r&~(1<<32-Fi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Th++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gV={readContext:pi,useCallback:y2,useContext:pi,useEffect:Dx,useImperativeHandle:g2,useInsertionEffect:d2,useLayoutEffect:p2,useMemo:v2,useReducer:p0,useRef:h2,useState:function(){return p0(Ph)},useDebugValue:Mx,useDeferredValue:function(t){var e=mi();return b2(e,bn.memoizedState,t)},useTransition:function(){var t=p0(Ph)[0],e=mi().memoizedState;return[t,e]},useMutableSource:o2,useSyncExternalStore:a2,useId:_2,unstable_isNewReconciler:!1},yV={readContext:pi,useCallback:y2,useContext:pi,useEffect:Dx,useImperativeHandle:g2,useInsertionEffect:d2,useLayoutEffect:p2,useMemo:v2,useReducer:m0,useRef:h2,useState:function(){return m0(Ph)},useDebugValue:Mx,useDeferredValue:function(t){var e=mi();return bn===null?e.memoizedState=t:b2(e,bn.memoizedState,t)},useTransition:function(){var t=m0(Ph)[0],e=mi().memoizedState;return[t,e]},useMutableSource:o2,useSyncExternalStore:a2,useId:_2,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wy={isMounted:function(t){return(t=t._reactInternals)?kl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lr(),i=Ga(t),o=Uo(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wa(t,o,i),e!==null&&(Bi(e,t,i,r),tm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lr(),i=Ga(t),o=Uo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wa(t,o,i),e!==null&&(Bi(e,t,i,r),tm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lr(),r=Ga(t),i=Uo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wa(t,i,r),e!==null&&(Bi(e,t,r,n),tm(e,t,r))}};function GS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!_h(n,r)||!_h(i,o):!0}function S2(t,e,n){var r=!1,i=rs,o=e.contextType;return typeof o=="object"&&o!==null?o=pi(o):(i=Ar(e)?dl:Zn.current,r=e.contextTypes,o=(r=r!=null)?Wu(t,i):rs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function XS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wy.enqueueReplaceState(e,e.state,null)}function Vb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ix(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=pi(o):(o=Ar(e)?dl:Zn.current,i.context=Wu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wy.enqueueReplaceState(i,i.state,null),Rm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yu(t,e){try{var n="",r=e;do n+=KL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function g0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vV=typeof WeakMap=="function"?WeakMap:Map;function A2(t,e,n){n=Uo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vm||(Vm=!0,Yb=r),Fb(t,e)},n}function T2(t,e,n){n=Uo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fb(t,e),typeof r!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function YS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NV.bind(null,t,e,n),e.then(t,t))}function QS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Uo(-1,1),e.tag=2,Wa(n,e,1))),n.lanes|=1),t)}var bV=aa.ReactCurrentOwner,wr=!1;function ir(t,e,n,r){e.child=t===null?t2(e,null,n,r):Gu(e,t.child,n,r)}function ZS(t,e,n,r,i){n=n.render;var o=e.ref;return Ru(e,i),r=jx(t,e,n,r,o,i),n=Rx(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Bt&&n&&wx(e),e.flags|=1,ir(t,e,r,i),e.child)}function eA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,P2(t,e,o,r,i)):(t=sm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:_h,n(a,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Xa(o,r),t.ref=e.ref,t.return=e,e.child=t}function P2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_h(o,r)&&t.ref===e.ref)if(wr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return Bb(t,e,n,r,i)}function I2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Au,$r),$r|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(Au,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,kt(Au,$r),$r|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,kt(Au,$r),$r|=r;return ir(t,e,i,n),e.child}function O2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bb(t,e,n,r,i){var o=Ar(n)?dl:Zn.current;return o=Wu(e,o),Ru(e,i),n=jx(t,e,n,r,o,i),r=Rx(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Bt&&r&&wx(e),e.flags|=1,ir(t,e,n,i),e.child)}function tA(t,e,n,r,i){if(Ar(n)){var o=!0;Om(e)}else o=!1;if(Ru(e,i),e.stateNode===null)im(t,e),S2(e,n,r),Vb(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=pi(u):(u=Ar(n)?dl:Zn.current,u=Wu(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&XS(e,a,r,u),Pa=!1;var p=e.memoizedState;a.state=p,Rm(e,r,a,i),l=e.memoizedState,s!==r||p!==l||Sr.current||Pa?(typeof f=="function"&&(Lb(e,n,f,r),l=e.memoizedState),(s=Pa||GS(e,n,s,r,p,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,r2(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Ni(e.type,s),a.props=u,c=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=pi(l):(l=Ar(n)?dl:Zn.current,l=Wu(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||p!==l)&&XS(e,a,r,l),Pa=!1,p=e.memoizedState,a.state=p,Rm(e,r,a,i);var _=e.memoizedState;s!==c||p!==_||Sr.current||Pa?(typeof g=="function"&&(Lb(e,n,g,r),_=e.memoizedState),(u=Pa||GS(e,n,u,r,p,_,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return zb(t,e,n,r,o,i)}function zb(t,e,n,r,i,o){O2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&FS(e,n,!1),Jo(t,e,o);r=e.stateNode,bV.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Gu(e,t.child,null,o),e.child=Gu(e,null,s,o)):ir(t,e,s,o),e.memoizedState=r.state,i&&FS(e,n,!0),e.child}function C2(t){var e=t.stateNode;e.pendingContext?VS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VS(t,e.context,!1),Ox(t,e.containerInfo)}function nA(t,e,n,r,i){return Hu(),Ex(i),e.flags|=256,ir(t,e,n,r),e.child}var Ub={dehydrated:null,treeContext:null,retryLane:0};function qb(t){return{baseLanes:t,cachePool:null,transitions:null}}function k2(t,e,n){var r=e.pendingProps,i=Kt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kt(Kt,i&1),t===null)return Mb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Sy(a,r,0,null),t=sl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qb(n),e.memoizedState=Ub,t):$x(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return _V(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Xa(s,o):(o=sl(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?qb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ub,r}return o=t.child,t=o.sibling,r=Xa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $x(t,e){return e=Sy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sp(t,e,n,r){return r!==null&&Ex(r),Gu(e,t.child,null,n),t=$x(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _V(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=g0(Error(_e(422))),Sp(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Sy({mode:"visible",children:r.children},i,0,null),o=sl(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Gu(e,t.child,null,a),e.child.memoizedState=qb(a),e.memoizedState=Ub,o);if(!(e.mode&1))return Sp(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(_e(419)),r=g0(o,r,void 0),Sp(t,e,a,r)}if(s=(a&t.childLanes)!==0,wr||s){if(r=Cn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qo(t,i),Bi(r,t,i,-1))}return Ux(),r=g0(Error(_e(421))),Sp(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fr=Ka(i.nextSibling),zr=e,Bt=!0,Mi=null,t!==null&&(ri[ii++]=Mo,ri[ii++]=$o,ri[ii++]=pl,Mo=t.id,$o=t.overflow,pl=e),e=$x(e,r.children),e.flags|=4096,e)}function rA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$b(t.return,e,n)}function y0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function N2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ir(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rA(t,n,e);else if(t.tag===19)rA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),y0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}y0(e,!0,n,null,o);break;case"together":y0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function im(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Xa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wV(t,e,n){switch(e.tag){case 3:C2(e),Hu();break;case 5:i2(e);break;case 1:Ar(e.type)&&Om(e);break;case 4:Ox(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kt(Nm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?k2(t,e,n):(kt(Kt,Kt.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);kt(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,I2(t,e,n)}return Jo(t,e,n)}var j2,Kb,R2,D2;j2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kb=function(){};R2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zs(ho.current);var o=null;switch(n){case"input":i=db(t,i),r=db(t,r),o=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),o=[];break;case"textarea":i=gb(t,i),r=gb(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pm)}vb(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dh.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Dt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};D2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ef(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xV(t,e,n){var r=e.pendingProps;switch(xx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(e),null;case 1:return Ar(e.type)&&Im(),Kn(e),null;case 3:return r=e.stateNode,Xu(),Vt(Sr),Vt(Zn),kx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(Zb(Mi),Mi=null))),Kb(t,e),Kn(e),null;case 5:Cx(e);var i=Zs(Ah.current);if(n=e.type,t!==null&&e.stateNode!=null)R2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Kn(e),null}if(t=Zs(ho.current),xp(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[so]=e,r[Eh]=o,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<Lf.length;i++)Dt(Lf[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":hS(r,o),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",r);break;case"textarea":pS(r,o),Dt("invalid",r)}vb(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&wp(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&wp(r.textContent,s,t),i=["children",""+s]):dh.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":dp(r),dS(r,o,!0);break;case"textarea":dp(r),mS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[so]=e,t[Eh]=r,j2(t,e,!1,!1),e.stateNode=t;e:{switch(a=bb(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),i=r;break;case"iframe":case"object":case"embed":Dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lf.length;i++)Dt(Lf[i],t);i=r;break;case"source":Dt("error",t),i=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=r;break;case"details":Dt("toggle",t),i=r;break;case"input":hS(t,r),i=db(t,r),Dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":pS(t,r),i=gb(t,r),Dt("invalid",t);break;default:i=r}vb(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?hk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ck(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ph(t,l):typeof l=="number"&&ph(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Dt("scroll",t):l!=null&&sx(t,o,l,a))}switch(n){case"input":dp(t),dS(t,r,!1);break;case"textarea":dp(t),mS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Cu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Cu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kn(e),null;case 6:if(t&&e.stateNode!=null)D2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Zs(Ah.current),Zs(ho.current),xp(e)){if(r=e.stateNode,n=e.memoizedProps,r[so]=e,(o=r.nodeValue!==n)&&(t=zr,t!==null))switch(t.tag){case 3:wp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[so]=e,e.stateNode=r}return Kn(e),null;case 13:if(Vt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bt&&Fr!==null&&e.mode&1&&!(e.flags&128))Zk(),Hu(),e.flags|=98560,o=!1;else if(o=xp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(_e(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[so]=e}else Hu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kn(e),o=!1}else Mi!==null&&(Zb(Mi),Mi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?wn===0&&(wn=3):Ux())),e.updateQueue!==null&&(e.flags|=4),Kn(e),null);case 4:return Xu(),Kb(t,e),t===null&&wh(e.stateNode.containerInfo),Kn(e),null;case 10:return Tx(e.type._context),Kn(e),null;case 17:return Ar(e.type)&&Im(),Kn(e),null;case 19:if(Vt(Kt),o=e.memoizedState,o===null)return Kn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ef(o,!1);else{if(wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Dm(t),a!==null){for(e.flags|=128,Ef(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Kt,Kt.current&1|2),e.child}t=t.sibling}o.tail!==null&&tn()>Qu&&(e.flags|=128,r=!0,Ef(o,!1),e.lanes=4194304)}else{if(!r)if(t=Dm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ef(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Bt)return Kn(e),null}else 2*tn()-o.renderingStartTime>Qu&&n!==1073741824&&(e.flags|=128,r=!0,Ef(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,n=Kt.current,kt(Kt,r?n&1|2:n&1),e):(Kn(e),null);case 22:case 23:return zx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$r&1073741824&&(Kn(e),e.subtreeFlags&6&&(e.flags|=8192)):Kn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function EV(t,e){switch(xx(e),e.tag){case 1:return Ar(e.type)&&Im(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xu(),Vt(Sr),Vt(Zn),kx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cx(e),null;case 13:if(Vt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Hu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Kt),null;case 4:return Xu(),null;case 10:return Tx(e.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var Ap=!1,Xn=!1,SV=typeof WeakSet=="function"?WeakSet:Set,De=null;function Su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(t,e,r)}else n.current=null}function Wb(t,e,n){try{n()}catch(r){Yt(t,e,r)}}var iA=!1;function AV(t,e){if(Ob=Sm,t=Fk(),_x(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,f=0,c=t,p=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(s=a+i),c!==o||r!==0&&c.nodeType!==3||(l=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(g=c.firstChild)!==null;)p=c,c=g;for(;;){if(c===t)break t;if(p===n&&++u===i&&(s=a),p===o&&++f===r&&(l=a),(g=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cb={focusedElem:t,selectionRange:n},Sm=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,x=_.memoizedState,S=e.stateNode,A=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ni(e.type,v),x);S.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(R){Yt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return _=iA,iA=!1,_}function Zf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wb(e,n,o)}i=i.next}while(i!==r)}}function xy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M2(t){var e=t.alternate;e!==null&&(t.alternate=null,M2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[so],delete e[Eh],delete e[jb],delete e[sV],delete e[lV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $2(t){return t.tag===5||t.tag===3||t.tag===4}function oA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pm));else if(r!==4&&(t=t.child,t!==null))for(Gb(t,e,n),t=t.sibling;t!==null;)Gb(t,e,n),t=t.sibling}function Xb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xb(t,e,n),t=t.sibling;t!==null;)Xb(t,e,n),t=t.sibling}var jn=null,ji=!1;function Ea(t,e,n){for(n=n.child;n!==null;)L2(t,e,n),n=n.sibling}function L2(t,e,n){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(py,n)}catch{}switch(n.tag){case 5:Xn||Su(n,e);case 6:var r=jn,i=ji;jn=null,Ea(t,e,n),jn=r,ji=i,jn!==null&&(ji?(t=jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(ji?(t=jn,n=n.stateNode,t.nodeType===8?c0(t.parentNode,n):t.nodeType===1&&c0(t,n),vh(t)):c0(jn,n.stateNode));break;case 4:r=jn,i=ji,jn=n.stateNode.containerInfo,ji=!0,Ea(t,e,n),jn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Wb(n,e,a),i=i.next}while(i!==r)}Ea(t,e,n);break;case 1:if(!Xn&&(Su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Yt(n,e,s)}Ea(t,e,n);break;case 21:Ea(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,Ea(t,e,n),Xn=r):Ea(t,e,n);break;default:Ea(t,e,n)}}function aA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SV),e.forEach(function(r){var i=RV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ci(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:jn=s.stateNode,ji=!1;break e;case 3:jn=s.stateNode.containerInfo,ji=!0;break e;case 4:jn=s.stateNode.containerInfo,ji=!0;break e}s=s.return}if(jn===null)throw Error(_e(160));L2(o,a,i),jn=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V2(e,t),e=e.sibling}function V2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ci(e,t),io(t),r&4){try{Zf(3,t,t.return),xy(3,t)}catch(v){Yt(t,t.return,v)}try{Zf(5,t,t.return)}catch(v){Yt(t,t.return,v)}}break;case 1:Ci(e,t),io(t),r&512&&n!==null&&Su(n,n.return);break;case 5:if(Ci(e,t),io(t),r&512&&n!==null&&Su(n,n.return),t.flags&32){var i=t.stateNode;try{ph(i,"")}catch(v){Yt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&sk(i,o),bb(s,a);var u=bb(s,o);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?hk(i,c):f==="dangerouslySetInnerHTML"?ck(i,c):f==="children"?ph(i,c):sx(i,f,c,u)}switch(s){case"input":pb(i,o);break;case"textarea":lk(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Cu(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Cu(i,!!o.multiple,o.defaultValue,!0):Cu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eh]=o}catch(v){Yt(t,t.return,v)}}break;case 6:if(Ci(e,t),io(t),r&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Yt(t,t.return,v)}}break;case 3:if(Ci(e,t),io(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(v){Yt(t,t.return,v)}break;case 4:Ci(e,t),io(t);break;case 13:Ci(e,t),io(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Fx=tn())),r&4&&aA(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(u=Xn)||f,Ci(e,t),Xn=u):Ci(e,t),io(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(De=t,f=t.child;f!==null;){for(c=De=f;De!==null;){switch(p=De,g=p.child,p.tag){case 0:case 11:case 14:case 15:Zf(4,p,p.return);break;case 1:Su(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Yt(r,n,v)}}break;case 5:Su(p,p.return);break;case 22:if(p.memoizedState!==null){lA(c);continue}}g!==null?(g.return=p,De=g):lA(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=fk("display",a))}catch(v){Yt(t,t.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Yt(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ci(e,t),io(t),r&4&&aA(t);break;case 21:break;default:Ci(e,t),io(t)}}function io(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($2(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ph(i,""),r.flags&=-33);var o=oA(t);Xb(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=oA(t);Gb(t,s,a);break;default:throw Error(_e(161))}}catch(l){Yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TV(t,e,n){De=t,F2(t)}function F2(t,e,n){for(var r=(t.mode&1)!==0;De!==null;){var i=De,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ap;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Xn;s=Ap;var u=Xn;if(Ap=a,(Xn=l)&&!u)for(De=i;De!==null;)a=De,l=a.child,a.tag===22&&a.memoizedState!==null?uA(i):l!==null?(l.return=a,De=l):uA(i);for(;o!==null;)De=o,F2(o),o=o.sibling;De=i,Ap=s,Xn=u}sA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,De=o):sA(t)}}function sA(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||xy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&KS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&vh(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Xn||e.flags&512&&Hb(e)}catch(p){Yt(e,e.return,p)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function lA(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function uA(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xy(4,e)}catch(l){Yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yt(e,i,l)}}var o=e.return;try{Hb(e)}catch(l){Yt(e,o,l)}break;case 5:var a=e.return;try{Hb(e)}catch(l){Yt(e,a,l)}}}catch(l){Yt(e,e.return,l)}if(e===t){De=null;break}var s=e.sibling;if(s!==null){s.return=e.return,De=s;break}De=e.return}}var PV=Math.ceil,Lm=aa.ReactCurrentDispatcher,Lx=aa.ReactCurrentOwner,ci=aa.ReactCurrentBatchConfig,ft=0,Cn=null,cn=null,Ln=0,$r=0,Au=fs(0),wn=0,Oh=null,gl=0,Ey=0,Vx=0,eh=null,br=null,Fx=0,Qu=1/0,Ro=null,Vm=!1,Yb=null,Ha=null,Tp=!1,$a=null,Fm=0,th=0,Qb=null,om=-1,am=0;function lr(){return ft&6?tn():om!==-1?om:om=tn()}function Ga(t){return t.mode&1?ft&2&&Ln!==0?Ln&-Ln:cV.transition!==null?(am===0&&(am=Sk()),am):(t=wt,t!==0||(t=window.event,t=t===void 0?16:kk(t.type)),t):1}function Bi(t,e,n,r){if(50<th)throw th=0,Qb=null,Error(_e(185));wd(t,n,r),(!(ft&2)||t!==Cn)&&(t===Cn&&(!(ft&2)&&(Ey|=n),wn===4&&Ca(t,Ln)),Tr(t,r),n===1&&ft===0&&!(e.mode&1)&&(Qu=tn()+500,by&&hs()))}function Tr(t,e){var n=t.callbackNode;c4(t,e);var r=Em(t,t===Cn?Ln:0);if(r===0)n!==null&&vS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vS(n),e===1)t.tag===0?uV(cA.bind(null,t)):Yk(cA.bind(null,t)),oV(function(){!(ft&6)&&hs()}),n=null;else{switch(Ak(r)){case 1:n=hx;break;case 4:n=xk;break;case 16:n=xm;break;case 536870912:n=Ek;break;default:n=xm}n=G2(n,B2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B2(t,e){if(om=-1,am=0,ft&6)throw Error(_e(327));var n=t.callbackNode;if(Du()&&t.callbackNode!==n)return null;var r=Em(t,t===Cn?Ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bm(t,r);else{e=r;var i=ft;ft|=2;var o=U2();(Cn!==t||Ln!==e)&&(Ro=null,Qu=tn()+500,al(t,e));do try{CV();break}catch(s){z2(t,s)}while(!0);Ax(),Lm.current=o,ft=i,cn!==null?e=0:(Cn=null,Ln=0,e=wn)}if(e!==0){if(e===2&&(i=Sb(t),i!==0&&(r=i,e=Jb(t,i))),e===1)throw n=Oh,al(t,0),Ca(t,r),Tr(t,tn()),n;if(e===6)Ca(t,r);else{if(i=t.current.alternate,!(r&30)&&!IV(i)&&(e=Bm(t,r),e===2&&(o=Sb(t),o!==0&&(r=o,e=Jb(t,o))),e===1))throw n=Oh,al(t,0),Ca(t,r),Tr(t,tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:Ws(t,br,Ro);break;case 3:if(Ca(t,r),(r&130023424)===r&&(e=Fx+500-tn(),10<e)){if(Em(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nb(Ws.bind(null,t,br,Ro),e);break}Ws(t,br,Ro);break;case 4:if(Ca(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Fi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PV(r/1960))-r,10<r){t.timeoutHandle=Nb(Ws.bind(null,t,br,Ro),r);break}Ws(t,br,Ro);break;case 5:Ws(t,br,Ro);break;default:throw Error(_e(329))}}}return Tr(t,tn()),t.callbackNode===n?B2.bind(null,t):null}function Jb(t,e){var n=eh;return t.current.memoizedState.isDehydrated&&(al(t,e).flags|=256),t=Bm(t,e),t!==2&&(e=br,br=n,e!==null&&Zb(e)),t}function Zb(t){br===null?br=t:br.push.apply(br,t)}function IV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e){for(e&=~Vx,e&=~Ey,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fi(e),r=1<<n;t[n]=-1,e&=~r}}function cA(t){if(ft&6)throw Error(_e(327));Du();var e=Em(t,0);if(!(e&1))return Tr(t,tn()),null;var n=Bm(t,e);if(t.tag!==0&&n===2){var r=Sb(t);r!==0&&(e=r,n=Jb(t,r))}if(n===1)throw n=Oh,al(t,0),Ca(t,e),Tr(t,tn()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,br,Ro),Tr(t,tn()),null}function Bx(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(Qu=tn()+500,by&&hs())}}function yl(t){$a!==null&&$a.tag===0&&!(ft&6)&&Du();var e=ft;ft|=1;var n=ci.transition,r=wt;try{if(ci.transition=null,wt=1,t)return t()}finally{wt=r,ci.transition=n,ft=e,!(ft&6)&&hs()}}function zx(){$r=Au.current,Vt(Au)}function al(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iV(n)),cn!==null)for(n=cn.return;n!==null;){var r=n;switch(xx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Im();break;case 3:Xu(),Vt(Sr),Vt(Zn),kx();break;case 5:Cx(r);break;case 4:Xu();break;case 13:Vt(Kt);break;case 19:Vt(Kt);break;case 10:Tx(r.type._context);break;case 22:case 23:zx()}n=n.return}if(Cn=t,cn=t=Xa(t.current,null),Ln=$r=e,wn=0,Oh=null,Vx=Ey=gl=0,br=eh=null,Js!==null){for(e=0;e<Js.length;e++)if(n=Js[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Js=null}return t}function z2(t,e){do{var n=cn;try{if(Ax(),nm.current=$m,Mm){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mm=!1}if(ml=0,On=bn=Wt=null,Jf=!1,Th=0,Lx.current=null,n===null||n.return===null){wn=1,Oh=e,cn=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ln,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=QS(a);if(g!==null){g.flags&=-257,JS(g,a,s,o,e),g.mode&1&&YS(o,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){YS(o,u,e),Ux();break e}l=Error(_e(426))}}else if(Bt&&s.mode&1){var x=QS(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),JS(x,a,s,o,e),Ex(Yu(l,s));break e}}o=l=Yu(l,s),wn!==4&&(wn=2),eh===null?eh=[o]:eh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=A2(o,l,e);qS(o,S);break e;case 1:s=l;var A=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Ha===null||!Ha.has(P)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=T2(o,s,e);qS(o,R);break e}}o=o.return}while(o!==null)}K2(n)}catch(T){e=T,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(!0)}function U2(){var t=Lm.current;return Lm.current=$m,t===null?$m:t}function Ux(){(wn===0||wn===3||wn===2)&&(wn=4),Cn===null||!(gl&268435455)&&!(Ey&268435455)||Ca(Cn,Ln)}function Bm(t,e){var n=ft;ft|=2;var r=U2();(Cn!==t||Ln!==e)&&(Ro=null,al(t,e));do try{OV();break}catch(i){z2(t,i)}while(!0);if(Ax(),ft=n,Lm.current=r,cn!==null)throw Error(_e(261));return Cn=null,Ln=0,wn}function OV(){for(;cn!==null;)q2(cn)}function CV(){for(;cn!==null&&!t4();)q2(cn)}function q2(t){var e=H2(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?K2(t):cn=e,Lx.current=null}function K2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EV(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wn=6,cn=null;return}}else if(n=xV(n,e,$r),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);wn===0&&(wn=5)}function Ws(t,e,n){var r=wt,i=ci.transition;try{ci.transition=null,wt=1,kV(t,e,n,r)}finally{ci.transition=i,wt=r}return null}function kV(t,e,n,r){do Du();while($a!==null);if(ft&6)throw Error(_e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(f4(t,o),t===Cn&&(cn=Cn=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tp||(Tp=!0,G2(xm,function(){return Du(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ci.transition,ci.transition=null;var a=wt;wt=1;var s=ft;ft|=4,Lx.current=null,AV(t,n),V2(n,t),Q4(Cb),Sm=!!Ob,Cb=Ob=null,t.current=n,TV(n),n4(),ft=s,wt=a,ci.transition=o}else t.current=n;if(Tp&&(Tp=!1,$a=t,Fm=i),o=t.pendingLanes,o===0&&(Ha=null),o4(n.stateNode),Tr(t,tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vm)throw Vm=!1,t=Yb,Yb=null,t;return Fm&1&&t.tag!==0&&Du(),o=t.pendingLanes,o&1?t===Qb?th++:(th=0,Qb=t):th=0,hs(),null}function Du(){if($a!==null){var t=Ak(Fm),e=ci.transition,n=wt;try{if(ci.transition=null,wt=16>t?16:t,$a===null)var r=!1;else{if(t=$a,$a=null,Fm=0,ft&6)throw Error(_e(331));var i=ft;for(ft|=4,De=t.current;De!==null;){var o=De,a=o.child;if(De.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(De=u;De!==null;){var f=De;switch(f.tag){case 0:case 11:case 15:Zf(8,f,o)}var c=f.child;if(c!==null)c.return=f,De=c;else for(;De!==null;){f=De;var p=f.sibling,g=f.return;if(M2(f),f===u){De=null;break}if(p!==null){p.return=g,De=p;break}De=g}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}De=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,De=a;else e:for(;De!==null;){if(o=De,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zf(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,De=S;break e}De=o.return}}var A=t.current;for(De=A;De!==null;){a=De;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,De=P;else e:for(a=A;De!==null;){if(s=De,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xy(9,s)}}catch(T){Yt(s,s.return,T)}if(s===a){De=null;break e}var R=s.sibling;if(R!==null){R.return=s.return,De=R;break e}De=s.return}}if(ft=i,hs(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(py,t)}catch{}r=!0}return r}finally{wt=n,ci.transition=e}}return!1}function fA(t,e,n){e=Yu(n,e),e=A2(t,e,1),t=Wa(t,e,1),e=lr(),t!==null&&(wd(t,1,e),Tr(t,e))}function Yt(t,e,n){if(t.tag===3)fA(t,t,n);else for(;e!==null;){if(e.tag===3){fA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){t=Yu(n,t),t=T2(e,t,1),e=Wa(e,t,1),t=lr(),e!==null&&(wd(e,1,t),Tr(e,t));break}}e=e.return}}function NV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lr(),t.pingedLanes|=t.suspendedLanes&n,Cn===t&&(Ln&n)===n&&(wn===4||wn===3&&(Ln&130023424)===Ln&&500>tn()-Fx?al(t,0):Vx|=n),Tr(t,e)}function W2(t,e){e===0&&(t.mode&1?(e=gp,gp<<=1,!(gp&130023424)&&(gp=4194304)):e=1);var n=lr();t=Qo(t,e),t!==null&&(wd(t,e,n),Tr(t,n))}function jV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W2(t,n)}function RV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),W2(t,n)}var H2;H2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sr.current)wr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wr=!1,wV(t,e,n);wr=!!(t.flags&131072)}else wr=!1,Bt&&e.flags&1048576&&Qk(e,km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;im(t,e),t=e.pendingProps;var i=Wu(e,Zn.current);Ru(e,n),i=jx(null,e,r,t,i,n);var o=Rx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(r)?(o=!0,Om(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ix(e),i.updater=wy,e.stateNode=i,i._reactInternals=e,Vb(e,r,t,n),e=zb(null,e,r,!0,o,n)):(e.tag=0,Bt&&o&&wx(e),ir(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(im(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MV(r),t=Ni(r,t),i){case 0:e=Bb(null,e,r,t,n);break e;case 1:e=tA(null,e,r,t,n);break e;case 11:e=ZS(null,e,r,t,n);break e;case 14:e=eA(null,e,r,Ni(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Bb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),tA(t,e,r,i,n);case 3:e:{if(C2(e),t===null)throw Error(_e(387));r=e.pendingProps,o=e.memoizedState,i=o.element,r2(t,e),Rm(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yu(Error(_e(423)),e),e=nA(t,e,r,n,i);break e}else if(r!==i){i=Yu(Error(_e(424)),e),e=nA(t,e,r,n,i);break e}else for(Fr=Ka(e.stateNode.containerInfo.firstChild),zr=e,Bt=!0,Mi=null,n=t2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hu(),r===i){e=Jo(t,e,n);break e}ir(t,e,r,n)}e=e.child}return e;case 5:return i2(e),t===null&&Mb(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,kb(r,i)?a=null:o!==null&&kb(r,o)&&(e.flags|=32),O2(t,e),ir(t,e,a,n),e.child;case 6:return t===null&&Mb(e),null;case 13:return k2(t,e,n);case 4:return Ox(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gu(e,null,r,n):ir(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),ZS(t,e,r,i,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:return ir(t,e,e.pendingProps.children,n),e.child;case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,kt(Nm,r._currentValue),r._currentValue=a,o!==null)if(zi(o.value,a)){if(o.children===i.children&&!Sr.current){e=Jo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Uo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$b(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(_e(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),$b(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ir(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ru(e,n),i=pi(i),r=r(i),e.flags|=1,ir(t,e,r,n),e.child;case 14:return r=e.type,i=Ni(r,e.pendingProps),i=Ni(r.type,i),eA(t,e,r,i,n);case 15:return P2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),im(t,e),e.tag=1,Ar(r)?(t=!0,Om(e)):t=!1,Ru(e,n),S2(e,r,i),Vb(e,r,i,n),zb(null,e,r,!0,t,n);case 19:return N2(t,e,n);case 22:return I2(t,e,n)}throw Error(_e(156,e.tag))};function G2(t,e){return wk(t,e)}function DV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,n,r){return new DV(t,e,n,r)}function qx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MV(t){if(typeof t=="function")return qx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ux)return 11;if(t===cx)return 14}return 2}function Xa(t,e){var n=t.alternate;return n===null?(n=si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sm(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")qx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case mu:return sl(n.children,i,o,e);case lx:a=8,i|=8;break;case ub:return t=si(12,n,e,i|2),t.elementType=ub,t.lanes=o,t;case cb:return t=si(13,n,e,i),t.elementType=cb,t.lanes=o,t;case fb:return t=si(19,n,e,i),t.elementType=fb,t.lanes=o,t;case ik:return Sy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nk:a=10;break e;case rk:a=9;break e;case ux:a=11;break e;case cx:a=14;break e;case Ta:a=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=si(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function sl(t,e,n,r){return t=si(7,t,r,e),t.lanes=n,t}function Sy(t,e,n,r){return t=si(22,t,r,e),t.elementType=ik,t.lanes=n,t.stateNode={isHidden:!1},t}function v0(t,e,n){return t=si(6,t,null,e),t.lanes=n,t}function b0(t,e,n){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $V(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zv(0),this.expirationTimes=Zv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kx(t,e,n,r,i,o,a,s,l){return t=new $V(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=si(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(o),t}function LV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X2(t){if(!t)return rs;t=t._reactInternals;e:{if(kl(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Ar(n))return Xk(t,n,e)}return e}function Y2(t,e,n,r,i,o,a,s,l){return t=Kx(n,r,!0,t,i,o,a,s,l),t.context=X2(null),n=t.current,r=lr(),i=Ga(n),o=Uo(r,i),o.callback=e??null,Wa(n,o,i),t.current.lanes=i,wd(t,i,r),Tr(t,r),t}function Ay(t,e,n,r){var i=e.current,o=lr(),a=Ga(i);return n=X2(n),e.context===null?e.context=n:e.pendingContext=n,e=Uo(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wa(i,e,a),t!==null&&(Bi(t,i,a,o),tm(t,i,a)),a}function zm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wx(t,e){hA(t,e),(t=t.alternate)&&hA(t,e)}function VV(){return null}var Q2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hx(t){this._internalRoot=t}Ty.prototype.render=Hx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Ay(t,e,null,null)};Ty.prototype.unmount=Hx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yl(function(){Ay(null,t,null,null)}),e[Yo]=null}};function Ty(t){this._internalRoot=t}Ty.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ik();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oa.length&&e!==0&&e<Oa[n].priority;n++);Oa.splice(n,0,t),n===0&&Ck(t)}};function Gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dA(){}function FV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zm(a);o.call(u)}}var a=Y2(e,r,t,0,null,!1,!1,"",dA);return t._reactRootContainer=a,t[Yo]=a.current,wh(t.nodeType===8?t.parentNode:t),yl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=zm(l);s.call(u)}}var l=Kx(t,0,!1,null,null,!1,!1,"",dA);return t._reactRootContainer=l,t[Yo]=l.current,wh(t.nodeType===8?t.parentNode:t),yl(function(){Ay(e,l,n,r)}),l}function Iy(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=zm(a);s.call(l)}}Ay(e,a,t,i)}else a=FV(n,e,t,i,r);return zm(a)}Tk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$f(e.pendingLanes);n!==0&&(dx(e,n|1),Tr(e,tn()),!(ft&6)&&(Qu=tn()+500,hs()))}break;case 13:yl(function(){var r=Qo(t,1);if(r!==null){var i=lr();Bi(r,t,1,i)}}),Wx(t,1)}};px=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=lr();Bi(e,t,134217728,n)}Wx(t,134217728)}};Pk=function(t){if(t.tag===13){var e=Ga(t),n=Qo(t,e);if(n!==null){var r=lr();Bi(n,t,e,r)}Wx(t,e)}};Ik=function(){return wt};Ok=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};wb=function(t,e,n){switch(e){case"input":if(pb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vy(r);if(!i)throw Error(_e(90));ak(r),pb(r,i)}}}break;case"textarea":lk(t,n);break;case"select":e=n.value,e!=null&&Cu(t,!!n.multiple,e,!1)}};mk=Bx;gk=yl;var BV={usingClientEntryPoint:!1,Events:[Ed,bu,vy,dk,pk,Bx]},Sf={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zV={bundleType:Sf.bundleType,version:Sf.version,rendererPackageName:Sf.rendererPackageName,rendererConfig:Sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bk(t),t===null?null:t.stateNode},findFiberByHostInstance:Sf.findFiberByHostInstance||VV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{py=Pp.inject(zV),fo=Pp}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BV;qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gx(e))throw Error(_e(200));return LV(t,e,null,n)};qr.createRoot=function(t,e){if(!Gx(t))throw Error(_e(299));var n=!1,r="",i=Q2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kx(t,1,!1,null,null,n,!1,r,i),t[Yo]=e.current,wh(t.nodeType===8?t.parentNode:t),new Hx(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=bk(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return yl(t)};qr.hydrate=function(t,e,n){if(!Py(e))throw Error(_e(200));return Iy(null,t,e,!0,n)};qr.hydrateRoot=function(t,e,n){if(!Gx(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Q2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Y2(e,null,t,1,n??null,i,!1,o,a),t[Yo]=e.current,wh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ty(e)};qr.render=function(t,e,n){if(!Py(e))throw Error(_e(200));return Iy(null,t,e,!1,n)};qr.unmountComponentAtNode=function(t){if(!Py(t))throw Error(_e(40));return t._reactRootContainer?(yl(function(){Iy(null,null,t,!1,function(){t._reactRootContainer=null,t[Yo]=null})}),!0):!1};qr.unstable_batchedUpdates=Bx;qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Py(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Iy(t,e,n,!1,r)};qr.version="18.3.1-next-f1338f8080-20240426";function J2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J2)}catch(t){console.error(t)}}J2(),JC.exports=qr;var UV=JC.exports,pA=UV;sb.createRoot=pA.createRoot,sb.hydrateRoot=pA.hydrateRoot;const qV=()=>{};var mA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},eN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,c=(o&3)<<4|s>>4;let p=(s&15)<<2|u>>6,g=u&63;l||(g=64,a||(p=64)),r.push(n[f],n[c],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||c==null)throw new WV;const p=o<<2|s>>4;if(r.push(p),u!==64){const g=s<<4&240|u>>2;if(r.push(g),c!==64){const _=u<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HV=function(t){const e=Z2(t);return eN.encodeByteArray(e,!0)},Um=function(t){return HV(t).replace(/\./g,"")},tN=function(t){try{return eN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=()=>GV().__FIREBASE_DEFAULTS__,YV=()=>{if(typeof process>"u"||typeof mA>"u")return;const t=mA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tN(t[1]);return e&&JSON.parse(e)},Oy=()=>{try{return qV()||XV()||YV()||QV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nN=t=>{var e,n;return(n=(e=Oy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JV=t=>{const e=nN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rN=()=>{var t;return(t=Oy())==null?void 0:t.config},iN=t=>{var e;return(e=Oy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Um(JSON.stringify(n)),Um(JSON.stringify(a)),""].join(".")}const nh={};function t5(){const t={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?t.emulator.push(e):t.prod.push(e);return t}function n5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gA=!1;function aN(t,e){if(typeof window>"u"||typeof document>"u"||!jc(window.location.host)||nh[t]===e||nh[t]||gA)return;nh[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=t5().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{gA=!0,a()},p}function f(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function c(){const p=n5(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),S=n("preprendIcon"),A=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const P=p.element;s(P),f(x,v);const R=u();l(A,S),P.append(A,_,x,R),document.body.appendChild(P)}o?(_.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function i5(){var e;const t=(e=Oy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l5(){const t=er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u5(){return!i5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c5(){try{return typeof indexedDB=="object"}catch{return!1}}function f5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="FirebaseError";class sa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h5,Object.setPrototypeOf(this,sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?d5(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new sa(i,s,r)}}function d5(t,e){return t.replace(p5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p5=/\{\$([^}]+)}/g;function m5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(yA(o)&&yA(a)){if(!vl(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ff(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g5(t,e){const n=new y5(t,e);return n.subscribe.bind(n)}class y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_0),i.error===void 0&&(i.error=_0),i.complete===void 0&&(i.complete=_0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class bl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w5(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _5(t){return t===Hs?void 0:t}function w5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const E5={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},S5=rt.INFO,A5={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},T5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=A5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xx{constructor(e){this.name=e,this._logLevel=S5,this._logHandler=T5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const P5=(t,e)=>e.some(n=>t instanceof n);let vA,bA;function I5(){return vA||(vA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O5(){return bA||(bA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sN=new WeakMap,e_=new WeakMap,lN=new WeakMap,w0=new WeakMap,Yx=new WeakMap;function C5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ya(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&sN.set(n,t)}).catch(()=>{}),Yx.set(e,t),e}function k5(t){if(e_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});e_.set(t,e)}let t_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N5(t){t_=t(t_)}function j5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(x0(this),e,...n);return lN.set(r,e.sort?e.sort():[e]),Ya(r)}:O5().includes(t)?function(...e){return t.apply(x0(this),e),Ya(sN.get(this))}:function(...e){return Ya(t.apply(x0(this),e))}}function R5(t){return typeof t=="function"?j5(t):(t instanceof IDBTransaction&&k5(t),P5(t,I5())?new Proxy(t,t_):t)}function Ya(t){if(t instanceof IDBRequest)return C5(t);if(w0.has(t))return w0.get(t);const e=R5(t);return e!==t&&(w0.set(t,e),Yx.set(e,t)),e}const x0=t=>Yx.get(t);function D5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Ya(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ya(a.result),l.oldVersion,l.newVersion,Ya(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const M5=["get","getKey","getAll","getAllKeys","count"],$5=["put","add","delete","clear"],E0=new Map;function _A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E0.get(e))return E0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||M5.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return E0.set(e,o),o}N5(t=>({...t,get:(e,n,r)=>_A(e,n)||t.get(e,n,r),has:(e,n)=>!!_A(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n_="@firebase/app",wA="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Xx("@firebase/app"),F5="@firebase/app-compat",B5="@firebase/analytics-compat",z5="@firebase/analytics",U5="@firebase/app-check-compat",q5="@firebase/app-check",K5="@firebase/auth",W5="@firebase/auth-compat",H5="@firebase/database",G5="@firebase/data-connect",X5="@firebase/database-compat",Y5="@firebase/functions",Q5="@firebase/functions-compat",J5="@firebase/installations",Z5="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",n3="@firebase/performance",r3="@firebase/performance-compat",i3="@firebase/remote-config",o3="@firebase/remote-config-compat",a3="@firebase/storage",s3="@firebase/storage-compat",l3="@firebase/firestore",u3="@firebase/ai",c3="@firebase/firestore-compat",f3="firebase",h3="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="[DEFAULT]",d3={[n_]:"fire-core",[F5]:"fire-core-compat",[z5]:"fire-analytics",[B5]:"fire-analytics-compat",[q5]:"fire-app-check",[U5]:"fire-app-check-compat",[K5]:"fire-auth",[W5]:"fire-auth-compat",[H5]:"fire-rtdb",[G5]:"fire-data-connect",[X5]:"fire-rtdb-compat",[Y5]:"fire-fn",[Q5]:"fire-fn-compat",[J5]:"fire-iid",[Z5]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[n3]:"fire-perf",[r3]:"fire-perf-compat",[i3]:"fire-rc",[o3]:"fire-rc-compat",[a3]:"fire-gcs",[s3]:"fire-gcs-compat",[l3]:"fire-fst",[c3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[f3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Map,p3=new Map,i_=new Map;function xA(t,e){try{t.container.addComponent(e)}catch(n){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ju(t){const e=t.name;if(i_.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(const n of qm.values())xA(n,t);for(const n of p3.values())xA(n,t);return!0}function Qx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Ad("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=h3;function uN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:r_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=rN()),!n)throw Qa.create("no-options");const o=qm.get(i);if(o){if(vl(n,o.options)&&vl(r,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const a=new x5(i);for(const l of i_.values())a.addComponent(l);const s=new g3(n,r,a);return qm.set(i,s),s}function cN(t=r_){const e=qm.get(t);if(!e&&t===r_&&rN())return uN();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=d3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zo.warn(a.join(" "));return}Ju(new bl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebase-heartbeat-database",v3=1,Ch="firebase-heartbeat-store";let S0=null;function fN(){return S0||(S0=D5(y3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),S0}async function b3(t){try{const n=(await fN()).transaction(Ch),r=await n.objectStore(Ch).get(hN(t));return await n.done,r}catch(e){if(e instanceof sa)Zo.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(n.message)}}}async function EA(t,e){try{const r=(await fN()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,hN(t)),await r.done}catch(n){if(n instanceof sa)Zo.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zo.warn(r.message)}}}function hN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=1024,w3=30;class x3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>w3){const a=A3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SA(),{heartbeatsToSend:r,unsentEntries:i}=E3(this._heartbeatsCache.heartbeats),o=Um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zo.warn(n),""}}}function SA(){return new Date().toISOString().substring(0,10)}function E3(t,e=_3){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),AA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c5()?f5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return EA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return EA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AA(t){return Um(JSON.stringify({version:2,heartbeats:t})).length}function A3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){Ju(new bl("platform-logger",e=>new L5(e),"PRIVATE")),Ju(new bl("heartbeat",e=>new x3(e),"PRIVATE")),Ja(n_,wA,t),Ja(n_,wA,"esm2020"),Ja("fire-js","")}T3("");function dN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P3=dN,pN=new Ad("auth","Firebase",dN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Xx("@firebase/auth");function I3(t,...e){Km.logLevel<=rt.WARN&&Km.warn(`Auth (${Rc}): ${t}`,...e)}function lm(t,...e){Km.logLevel<=rt.ERROR&&Km.error(`Auth (${Rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,...e){throw Jx(t,...e)}function po(t,...e){return Jx(t,...e)}function mN(t,e,n){const r={...P3(),[e]:n};return new Ad("auth","Firebase",r).create(e,{appName:t.name})}function qo(t){return mN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pN.create(t,...e)}function Ve(t,e,...n){if(!t)throw Jx(e,...n)}function Lo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lm(e),new Error(e)}function ea(t,e){t||Lo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function O3(){return TA()==="http:"||TA()==="https:"}function TA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O3()||a5()||"connection"in navigator)?navigator.onLine:!0}function k3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=r5()||s5()}get(){return C3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R3=new Pd(3e4,6e4);function ds(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ps(t,e,n,r,i={}){return yN(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Td({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return o5()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&jc(t.emulatorConfig.host)&&(u.credentials="include"),gN.fetch()(await vN(t,t.config.apiHost,n,s),u)})}async function yN(t,e,n){t._canInitEmulator=!1;const r={...N3,...e};try{const i=new M3(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Ip(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Ip(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Ip(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mN(t,f,u);Ui(t,f)}}catch(i){if(i instanceof sa)throw i;Ui(t,"network-request-failed",{message:String(i)})}}async function Id(t,e,n,r,i={}){const o=await ps(t,e,n,r,i);return"mfaPendingCredential"in o&&Ui(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vN(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?Zx(t.config,i):`${t.config.apiScheme}://${i}`;return j3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function D3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),R3.get())})}}function Ip(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=po(t,e,r);return i.customData._tokenResponse=n,i}function PA(t){return t!==void 0&&t.enterprise!==void 0}class $3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L3(t,e){return ps(t,"GET","/v2/recaptchaConfig",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function Wm(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F3(t,e=!1){const n=mn(t),r=await n.getIdToken(e),i=e1(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:rh(A0(i.auth_time)),issuedAtTime:rh(A0(i.iat)),expirationTime:rh(A0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function A0(t){return Number(t)*1e3}function e1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=tN(n);return i?JSON.parse(i):(lm("Failed to decode base64 JWT payload"),null)}catch(i){return lm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IA(t){const e=e1(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sa&&B3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(t){var c;const e=t.auth,n=await t.getIdToken(),r=await kh(t,Wm(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(c=i.providerUserInfo)!=null&&c.length?bN(i.providerUserInfo):[],a=q3(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function U3(t){const e=mn(t);await Hm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e){const n=await yN(t,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await vN(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&jc(t.emulatorConfig.host)&&(l.credentials="include"),gN.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W3(t,e){return ps(t,"POST","/v2/accounts:revokeToken",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=IA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await K3(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Mu;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return Lo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new z3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new a_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await kh(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F3(this,e)}reload(){return U3(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(qo(this.auth));const e=await this.getIdToken();return await kh(this,V3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:c,emailVerified:p,isAnonymous:g,providerData:_,stsTokenManager:v}=n;Ve(c&&v,e,"internal-error");const x=Mu.fromJSON(this.name,v);Ve(typeof c=="string",e,"internal-error"),Sa(r,e.name),Sa(i,e.name),Ve(typeof p=="boolean",e,"internal-error"),Ve(typeof g=="boolean",e,"internal-error"),Sa(o,e.name),Sa(a,e.name),Sa(s,e.name),Sa(l,e.name),Sa(u,e.name),Sa(f,e.name);const S=new Li({uid:c,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:g,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:x,createdAt:u,lastLoginAt:f});return _&&Array.isArray(_)&&(S.providerData=_.map(A=>({...A}))),l&&(S._redirectEventId=l),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mu;i.updateFromServerResponse(n);const o=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?bN(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Mu;s.updateFromIdToken(r);const l=new Li({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Map;function Vo(t){ea(t instanceof Function,"Expected a class definition");let e=OA.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_N.type="NONE";const CA=_N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e,n){return`firebase:${t}:${e}:${n}`}class $u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,o),this.fullPersistenceKey=um("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wm(this.auth,{idToken:e}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $u(Vo(CA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Vo(CA);const a=um(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const f=await u._get(a);if(f){let c;if(typeof f=="string"){const p=await Wm(e,{idToken:f}).catch(()=>{});if(!p)break;c=await Li._fromGetAccountInfoResponse(e,p,f)}else c=Li._fromJSON(e,f);u!==o&&(s=c),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new $u(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new $u(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TN(e))return"Blackberry";if(PN(e))return"Webos";if(xN(e))return"Safari";if((e.includes("chrome/")||EN(e))&&!e.includes("edge/"))return"Chrome";if(AN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wN(t=er()){return/firefox\//i.test(t)}function xN(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EN(t=er()){return/crios\//i.test(t)}function SN(t=er()){return/iemobile/i.test(t)}function AN(t=er()){return/android/i.test(t)}function TN(t=er()){return/blackberry/i.test(t)}function PN(t=er()){return/webos/i.test(t)}function t1(t=er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H3(t=er()){var e;return t1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function G3(){return l5()&&document.documentMode===10}function IN(t=er()){return t1(t)||AN(t)||PN(t)||TN(t)||/windows phone/i.test(t)||SN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e=[]){let n;switch(t){case"Browser":n=kA(er());break;case"Worker":n=`${kA(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=6;class J3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NA(this),this.idTokenSubscription=new NA(this),this.beforeStateQueue=new X3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wm(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(qo(this));const n=e?mn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y3(this),n=new J3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vo(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[Vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ON(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&I3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nl(t){return mn(t)}class NA{constructor(e){this.auth=e,this.observer=null,this.addObserver=g5(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eF(t){Cy=t}function CN(t){return Cy.loadJS(t)}function tF(){return Cy.recaptchaEnterpriseScript}function nF(){return Cy.gapiScript}function rF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iF{constructor(){this.enterprise=new oF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aF="recaptcha-enterprise",kN="NO_RECAPTCHA";class sF{constructor(e){this.type=aF,this.auth=Nl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{L3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new $3(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;PA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(kN)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iF().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&PA(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tF();l.length!==0&&(l+=s),CN(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function jA(t,e,n,r=!1,i=!1){const o=new sF(t);let a;if(i)a=kN;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function s_(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await jA(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await jA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t,e){const n=Qx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(vl(o,e??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:e})}function uF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cF(t,e,n){const r=Nl(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=NN(e),{host:a,port:s}=fF(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},f=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(vl(u,r.config.emulator)&&vl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,jc(a)?(oN(`${o}//${a}${l}`),aN("Auth",!0)):hF()}function NN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fF(t){const e=NN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:RA(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:RA(a)}}}function RA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lo("not implemented")}_getIdTokenResponse(e){return Lo("not implemented")}_linkToIdToken(e,n){return Lo("not implemented")}_getReauthenticationResolver(e){return Lo("not implemented")}}async function dF(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e){return Id(t,"POST","/v1/accounts:signInWithPassword",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}async function gF(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends n1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,n,"signInWithPassword",pF);case"emailLink":return mF(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,r,"signUpPassword",dF);case"emailLink":return gF(e,{idToken:n,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e){return Id(t,"POST","/v1/accounts:signInWithIdp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="http://localhost";class _l extends n1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new _l(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lu(e,n)}buildRequest(){const e={requestUri:yF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bF(t){const e=Vf(Ff(t)).link,n=e?Vf(Ff(e)).deep_link_id:null,r=Vf(Ff(t)).deep_link_id;return(r?Vf(Ff(r)).link:null)||r||n||e||t}class r1{constructor(e){const n=Vf(Ff(e)),r=n.apiKey??null,i=n.oobCode??null,o=vF(n.mode??null);Ve(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bF(e);try{return new r1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.providerId=Dc.PROVIDER_ID}static credential(e,n){return Nh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r1.parseLink(n);return Ve(r,"argument-error"),Nh._fromEmailAndCode(e,r.code,r.tenantId)}}Dc.PROVIDER_ID="password";Dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends jN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Od{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Od{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Od{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return Id(t,"POST","/v1/accounts:signUp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Li._fromIdTokenResponse(e,r,i),a=DA(r);return new wl({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DA(r);return new wl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends sa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gm(e,n,r,i)}}function RN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gm._fromErrorAndOperation(t,o,e,r):o})}async function wF(t,e,n=!1){const r=await kh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(qo(r));const i="reauthenticate";try{const o=await kh(t,RN(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const a=e1(o.idToken);Ve(a,r,"internal-error");const{sub:s}=a;return Ve(t.uid===s,r,"user-mismatch"),wl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e,n=!1){if(oi(t.app))return Promise.reject(qo(t));const r="signIn",i=await RN(t,r,e),o=await wl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function EF(t,e){return DN(Nl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t){const e=Nl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SF(t,e,n){if(oi(t.app))return Promise.reject(qo(t));const r=Nl(t),a=await s_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_F).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MN(t),l}),s=await wl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function AF(t,e,n){return oi(t.app)?Promise.reject(qo(t)):EF(mn(t),Dc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MN(t),r})}function TF(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function PF(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function IF(t,e,n,r){return mn(t).onAuthStateChanged(e,n,r)}const Xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=1e3,CF=10;class LN extends $N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);G3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LN.type="LOCAL";const kF=LN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN extends $N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VN.type="SESSION";const FN=VN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ky(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await NF(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ky.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=i1("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(c){const p=c;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(p.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return window}function RF(t){mo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof mo().WorkerGlobalScope<"u"&&typeof mo().importScripts=="function"}async function DF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $F(){return BN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firebaseLocalStorageDb",LF=1,Ym="firebaseLocalStorage",UN="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ny(t,e){return t.transaction([Ym],e?"readwrite":"readonly").objectStore(Ym)}function VF(){const t=indexedDB.deleteDatabase(zN);return new Cd(t).toPromise()}function l_(){const t=indexedDB.open(zN,LF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ym,{keyPath:UN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ym)?e(r):(r.close(),await VF(),e(await l_()))})})}async function MA(t,e,n){const r=Ny(t,!0).put({[UN]:e,value:n});return new Cd(r).toPromise()}async function FF(t,e){const n=Ny(t,!1).get(e),r=await new Cd(n).toPromise();return r===void 0?null:r.value}function $A(t,e){const n=Ny(t,!0).delete(e);return new Cd(n).toPromise()}const BF=800,zF=3;class qN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ky._getInstance($F()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await DF(),!this.activeServiceWorker)return;this.sender=new jF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l_();return await MA(e,Xm,"1"),await $A(e,Xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$A(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ny(i,!1).getAll();return new Cd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qN.type="LOCAL";const UF=qN;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e){return e?Vo(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends n1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KF(t){return DN(t.auth,new o1(t),t.bypassAuthState)}function WF(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),xF(n,new o1(t),t.bypassAuthState)}async function HF(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),wF(n,new o1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KF;case"linkViaPopup":case"linkViaRedirect":return HF;case"reauthViaPopup":case"reauthViaRedirect":return WF;default:Ui(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new Pd(2e3,1e4);class Tu extends KN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=i1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GF.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="pendingRedirect",cm=new Map;class YF extends KN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const r=await QF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QF(t,e){const n=e6(e),r=ZF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JF(t,e){cm.set(t._key(),e)}function ZF(t){return Vo(t._redirectPersistence)}function e6(t){return um(XF,t.config.apiKey,t.name)}async function t6(t,e,n=!1){if(oi(t.app))return Promise.reject(qo(t));const r=Nl(t),i=qF(r,e),a=await new YF(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=10*60*1e3;class r6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WN(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(po(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n6&&this.cachedEventUids.clear(),this.cachedEventUids.has(LA(e))}saveEventToCache(e){this.cachedEventUids.add(LA(e)),this.lastProcessedEventTime=Date.now()}}function LA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s6=/^https?/;async function l6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o6(t);for(const n of e)try{if(u6(n))return}catch{}Ui(t,"unauthorized-domain")}function u6(t){const e=o_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!s6.test(n))return!1;if(a6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Pd(3e4,6e4);function VA(){const t=mo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f6(t){return new Promise((e,n)=>{var i,o,a;function r(){VA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VA(),n(po(t,"network-request-failed"))},timeout:c6.get()})}if((o=(i=mo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=mo().gapi)!=null&&a.load)r();else{const s=rF("iframefcb");return mo()[s]=()=>{gapi.load?r():n(po(t,"network-request-failed"))},CN(`${nF()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw fm=null,e})}let fm=null;function h6(t){return fm=fm||f6(t),fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new Pd(5e3,15e3),p6="__/auth/iframe",m6="emulator/auth/iframe",g6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v6(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zx(e,m6):`https://${t.config.authDomain}/${p6}`,r={apiKey:e.apiKey,appName:t.name,v:Rc},i=y6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Td(r).slice(1)}`}async function b6(t){const e=await h6(t),n=mo().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:v6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=po(t,"network-request-failed"),s=mo().setTimeout(()=>{o(a)},d6.get());function l(){mo().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w6=500,x6=600,E6="_blank",S6="http://localhost";class FA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A6(t,e,n,r=w6,i=x6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={..._6,width:r.toString(),height:i.toString(),top:o,left:a},u=er().toLowerCase();n&&(s=EN(u)?E6:n),wN(u)&&(e=e||S6,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(H3(u)&&s!=="_self")return T6(e||"",s),new FA(null);const c=window.open(e||"",s,f);Ve(c,t,"popup-blocked");try{c.focus()}catch{}return new FA(c)}function T6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",I6="emulator/auth/handler",O6=encodeURIComponent("fac");async function BA(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rc,eventId:i};if(e instanceof jN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",m5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,c]of Object.entries({}))a[f]=c}if(e instanceof Od){const f=e.getScopes().filter(c=>c!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${O6}=${encodeURIComponent(l)}`:"";return`${C6(t)}?${Td(s).slice(1)}${u}`}function C6({config:t}){return t.emulator?Zx(t,I6):`https://${t.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="webStorageSupport";class k6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FN,this._completeRedirectFn=t6,this._overrideRedirectResult=JF}async _openPopup(e,n,r,i){var a;ea((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await BA(e,n,r,o_(),i);return A6(e,o,i1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await BA(e,n,r,o_(),i);return RF(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ea(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b6(e),r=new r6(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(T0,{type:T0},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[T0];o!==void 0&&n(!!o),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IN()||xN()||t1()}}const N6=k6;var zA="@firebase/auth",UA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D6(t){Ju(new bl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ve(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ON(t)},u=new Z3(r,i,o,l);return uF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ju(new bl("auth-internal",e=>{const n=Nl(e.getProvider("auth").getImmediate());return(r=>new j6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(zA,UA,R6(t)),Ja(zA,UA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=5*60,$6=iN("authIdTokenMaxAge")||M6;let qA=null;const L6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$6)return;const i=n==null?void 0:n.token;qA!==i&&(qA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function V6(t=cN()){const e=Qx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lF(t,{popupRedirectResolver:N6,persistence:[UF,kF,FN]}),r=iN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=L6(o.toString());PF(n,a,()=>a(n.currentUser)),TF(n,s=>a(s))}}const i=nN("auth");return i&&cF(n,`http://${i}`),n}function F6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}eF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",F6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D6("Browser");var B6="firebase",z6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(B6,z6,"app");var KA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,HN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,I){function k(){}k.prototype=I.prototype,w.F=I.prototype,w.prototype=new k,w.prototype.constructor=w,w.D=function($,D,V){for(var M=Array(arguments.length-2),re=2;re<arguments.length;re++)M[re-2]=arguments[re];return I.prototype[D].apply($,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,I,k){k||(k=0);const $=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)$[D]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(D=0;D<16;++D)$[D]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=w.g[0],k=w.g[1],D=w.g[2];let V=w.g[3],M;M=I+(V^k&(D^V))+$[0]+3614090360&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(D^I&(k^D))+$[1]+3905402710&4294967295,V=I+(M<<12&4294967295|M>>>20),M=D+(k^V&(I^k))+$[2]+606105819&4294967295,D=V+(M<<17&4294967295|M>>>15),M=k+(I^D&(V^I))+$[3]+3250441966&4294967295,k=D+(M<<22&4294967295|M>>>10),M=I+(V^k&(D^V))+$[4]+4118548399&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(D^I&(k^D))+$[5]+1200080426&4294967295,V=I+(M<<12&4294967295|M>>>20),M=D+(k^V&(I^k))+$[6]+2821735955&4294967295,D=V+(M<<17&4294967295|M>>>15),M=k+(I^D&(V^I))+$[7]+4249261313&4294967295,k=D+(M<<22&4294967295|M>>>10),M=I+(V^k&(D^V))+$[8]+1770035416&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(D^I&(k^D))+$[9]+2336552879&4294967295,V=I+(M<<12&4294967295|M>>>20),M=D+(k^V&(I^k))+$[10]+4294925233&4294967295,D=V+(M<<17&4294967295|M>>>15),M=k+(I^D&(V^I))+$[11]+2304563134&4294967295,k=D+(M<<22&4294967295|M>>>10),M=I+(V^k&(D^V))+$[12]+1804603682&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(D^I&(k^D))+$[13]+4254626195&4294967295,V=I+(M<<12&4294967295|M>>>20),M=D+(k^V&(I^k))+$[14]+2792965006&4294967295,D=V+(M<<17&4294967295|M>>>15),M=k+(I^D&(V^I))+$[15]+1236535329&4294967295,k=D+(M<<22&4294967295|M>>>10),M=I+(D^V&(k^D))+$[1]+4129170786&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^D&(I^k))+$[6]+3225465664&4294967295,V=I+(M<<9&4294967295|M>>>23),M=D+(I^k&(V^I))+$[11]+643717713&4294967295,D=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(D^V))+$[0]+3921069994&4294967295,k=D+(M<<20&4294967295|M>>>12),M=I+(D^V&(k^D))+$[5]+3593408605&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^D&(I^k))+$[10]+38016083&4294967295,V=I+(M<<9&4294967295|M>>>23),M=D+(I^k&(V^I))+$[15]+3634488961&4294967295,D=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(D^V))+$[4]+3889429448&4294967295,k=D+(M<<20&4294967295|M>>>12),M=I+(D^V&(k^D))+$[9]+568446438&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^D&(I^k))+$[14]+3275163606&4294967295,V=I+(M<<9&4294967295|M>>>23),M=D+(I^k&(V^I))+$[3]+4107603335&4294967295,D=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(D^V))+$[8]+1163531501&4294967295,k=D+(M<<20&4294967295|M>>>12),M=I+(D^V&(k^D))+$[13]+2850285829&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^D&(I^k))+$[2]+4243563512&4294967295,V=I+(M<<9&4294967295|M>>>23),M=D+(I^k&(V^I))+$[7]+1735328473&4294967295,D=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(D^V))+$[12]+2368359562&4294967295,k=D+(M<<20&4294967295|M>>>12),M=I+(k^D^V)+$[5]+4294588738&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^D)+$[8]+2272392833&4294967295,V=I+(M<<11&4294967295|M>>>21),M=D+(V^I^k)+$[11]+1839030562&4294967295,D=V+(M<<16&4294967295|M>>>16),M=k+(D^V^I)+$[14]+4259657740&4294967295,k=D+(M<<23&4294967295|M>>>9),M=I+(k^D^V)+$[1]+2763975236&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^D)+$[4]+1272893353&4294967295,V=I+(M<<11&4294967295|M>>>21),M=D+(V^I^k)+$[7]+4139469664&4294967295,D=V+(M<<16&4294967295|M>>>16),M=k+(D^V^I)+$[10]+3200236656&4294967295,k=D+(M<<23&4294967295|M>>>9),M=I+(k^D^V)+$[13]+681279174&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^D)+$[0]+3936430074&4294967295,V=I+(M<<11&4294967295|M>>>21),M=D+(V^I^k)+$[3]+3572445317&4294967295,D=V+(M<<16&4294967295|M>>>16),M=k+(D^V^I)+$[6]+76029189&4294967295,k=D+(M<<23&4294967295|M>>>9),M=I+(k^D^V)+$[9]+3654602809&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^D)+$[12]+3873151461&4294967295,V=I+(M<<11&4294967295|M>>>21),M=D+(V^I^k)+$[15]+530742520&4294967295,D=V+(M<<16&4294967295|M>>>16),M=k+(D^V^I)+$[2]+3299628645&4294967295,k=D+(M<<23&4294967295|M>>>9),M=I+(D^(k|~V))+$[0]+4096336452&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~D))+$[7]+1126891415&4294967295,V=I+(M<<10&4294967295|M>>>22),M=D+(I^(V|~k))+$[14]+2878612391&4294967295,D=V+(M<<15&4294967295|M>>>17),M=k+(V^(D|~I))+$[5]+4237533241&4294967295,k=D+(M<<21&4294967295|M>>>11),M=I+(D^(k|~V))+$[12]+1700485571&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~D))+$[3]+2399980690&4294967295,V=I+(M<<10&4294967295|M>>>22),M=D+(I^(V|~k))+$[10]+4293915773&4294967295,D=V+(M<<15&4294967295|M>>>17),M=k+(V^(D|~I))+$[1]+2240044497&4294967295,k=D+(M<<21&4294967295|M>>>11),M=I+(D^(k|~V))+$[8]+1873313359&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~D))+$[15]+4264355552&4294967295,V=I+(M<<10&4294967295|M>>>22),M=D+(I^(V|~k))+$[6]+2734768916&4294967295,D=V+(M<<15&4294967295|M>>>17),M=k+(V^(D|~I))+$[13]+1309151649&4294967295,k=D+(M<<21&4294967295|M>>>11),M=I+(D^(k|~V))+$[4]+4149444226&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~D))+$[11]+3174756917&4294967295,V=I+(M<<10&4294967295|M>>>22),M=D+(I^(V|~k))+$[2]+718787259&4294967295,D=V+(M<<15&4294967295|M>>>17),M=k+(V^(D|~I))+$[9]+3951481745&4294967295,w.g[0]=w.g[0]+I&4294967295,w.g[1]=w.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+V&4294967295}r.prototype.v=function(w,I){I===void 0&&(I=w.length);const k=I-this.blockSize,$=this.C;let D=this.h,V=0;for(;V<I;){if(D==0)for(;V<=k;)i(this,w,V),V+=this.blockSize;if(typeof w=="string"){for(;V<I;)if($[D++]=w.charCodeAt(V++),D==this.blockSize){i(this,$),D=0;break}}else for(;V<I;)if($[D++]=w[V++],D==this.blockSize){i(this,$),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var I=1;I<w.length-8;++I)w[I]=0;I=this.o*8;for(var k=w.length-8;k<w.length;++k)w[k]=I&255,I/=256;for(this.v(w),w=Array(16),I=0,k=0;k<4;++k)for(let $=0;$<32;$+=8)w[I++]=this.g[k]>>>$&255;return w};function o(w,I){var k=s;return Object.prototype.hasOwnProperty.call(k,w)?k[w]:k[w]=I(w)}function a(w,I){this.h=I;const k=[];let $=!0;for(let D=w.length-1;D>=0;D--){const V=w[D]|0;$&&V==I||(k[D]=V,$=!1)}this.g=k}var s={};function l(w){return-128<=w&&w<128?o(w,function(I){return new a([I|0],I<0?-1:0)}):new a([w|0],w<0?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return c;if(w<0)return x(u(-w));const I=[];let k=1;for(let $=0;w>=k;$++)I[$]=w/k|0,k*=4294967296;return new a(I,0)}function f(w,I){if(w.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(w.charAt(0)=="-")return x(f(w.substring(1),I));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(I,8));let $=c;for(let V=0;V<w.length;V+=8){var D=Math.min(8,w.length-V);const M=parseInt(w.substring(V,V+D),I);D<8?(D=u(Math.pow(I,D)),$=$.j(D).add(u(M))):($=$.j(k),$=$.add(u(M)))}return $}var c=l(0),p=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-x(this).m();let w=0,I=1;for(let k=0;k<this.g.length;k++){const $=this.i(k);w+=($>=0?$:4294967296+$)*I,I*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(_(this))return"0";if(v(this))return"-"+x(this).toString(w);const I=u(Math.pow(w,6));var k=this;let $="";for(;;){const D=R(k,I).g;k=S(k,D.j(I));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(w);if(k=D,_(k))return V+$;for(;V.length<6;)V="0"+V;$=V+$}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function _(w){if(w.h!=0)return!1;for(let I=0;I<w.g.length;I++)if(w.g[I]!=0)return!1;return!0}function v(w){return w.h==-1}t.l=function(w){return w=S(this,w),v(w)?-1:_(w)?0:1};function x(w){const I=w.g.length,k=[];for(let $=0;$<I;$++)k[$]=~w.g[$];return new a(k,~w.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(w){const I=Math.max(this.g.length,w.g.length),k=[];let $=0;for(let D=0;D<=I;D++){let V=$+(this.i(D)&65535)+(w.i(D)&65535),M=(V>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);$=M>>>16,V&=65535,M&=65535,k[D]=M<<16|V}return new a(k,k[k.length-1]&-2147483648?-1:0)};function S(w,I){return w.add(x(I))}t.j=function(w){if(_(this)||_(w))return c;if(v(this))return v(w)?x(this).j(x(w)):x(x(this).j(w));if(v(w))return x(this.j(x(w)));if(this.l(g)<0&&w.l(g)<0)return u(this.m()*w.m());const I=this.g.length+w.g.length,k=[];for(var $=0;$<2*I;$++)k[$]=0;for($=0;$<this.g.length;$++)for(let D=0;D<w.g.length;D++){const V=this.i($)>>>16,M=this.i($)&65535,re=w.i(D)>>>16,ie=w.i(D)&65535;k[2*$+2*D]+=M*ie,A(k,2*$+2*D),k[2*$+2*D+1]+=V*ie,A(k,2*$+2*D+1),k[2*$+2*D+1]+=M*re,A(k,2*$+2*D+1),k[2*$+2*D+2]+=V*re,A(k,2*$+2*D+2)}for(w=0;w<I;w++)k[w]=k[2*w+1]<<16|k[2*w];for(w=I;w<2*I;w++)k[w]=0;return new a(k,0)};function A(w,I){for(;(w[I]&65535)!=w[I];)w[I+1]+=w[I]>>>16,w[I]&=65535,I++}function P(w,I){this.g=w,this.h=I}function R(w,I){if(_(I))throw Error("division by zero");if(_(w))return new P(c,c);if(v(w))return I=R(x(w),I),new P(x(I.g),x(I.h));if(v(I))return I=R(w,x(I)),new P(x(I.g),I.h);if(w.g.length>30){if(v(w)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var k=p,$=I;$.l(w)<=0;)k=T(k),$=T($);var D=O(k,1),V=O($,1);for($=O($,2),k=O(k,2);!_($);){var M=V.add($);M.l(w)<=0&&(D=D.add(k),V=M),$=O($,1),k=O(k,1)}return I=S(w,D.j(I)),new P(D,I)}for(D=c;w.l(I)>=0;){for(k=Math.max(1,Math.floor(w.m()/I.m())),$=Math.ceil(Math.log(k)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),V=u(k),M=V.j(I);v(M)||M.l(w)>0;)k-=$,V=u(k),M=V.j(I);_(V)&&(V=p),D=D.add(V),w=S(w,M)}return new P(D,w)}t.B=function(w){return R(this,w).h},t.and=function(w){const I=Math.max(this.g.length,w.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)&w.i($);return new a(k,this.h&w.h)},t.or=function(w){const I=Math.max(this.g.length,w.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)|w.i($);return new a(k,this.h|w.h)},t.xor=function(w){const I=Math.max(this.g.length,w.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)^w.i($);return new a(k,this.h^w.h)};function T(w){const I=w.g.length+1,k=[];for(let $=0;$<I;$++)k[$]=w.i($)<<1|w.i($-1)>>>31;return new a(k,w.h)}function O(w,I){const k=I>>5;I%=32;const $=w.g.length-k,D=[];for(let V=0;V<$;V++)D[V]=I>0?w.i(V+k)>>>I|w.i(V+k+1)<<32-I:w.i(V+k);return new a(D,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,Za=a}).apply(typeof KA<"u"?KA:typeof self<"u"?self:typeof window<"u"?window:{});var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GN,Bf,XN,hm,u_,YN,QN,JN;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Op=="object"&&Op];for(var E=0;E<h.length;++E){var N=h[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(h,E){if(E)e:{var N=r;h=h.split(".");for(var F=0;F<h.length-1;F++){var ne=h[F];if(!(ne in N))break e;N=N[ne]}h=h[h.length-1],F=N[h],E=E(F),E!=F&&E!=null&&e(N,h,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(E){var N=[],F;for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&N.push([F,E[F]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function l(h,E,N){return h.call.apply(h.bind,arguments)}function u(h,E,N){return u=l,u.apply(null,arguments)}function f(h,E){var N=Array.prototype.slice.call(arguments,1);return function(){var F=N.slice();return F.push.apply(F,arguments),h.apply(this,F)}}function c(h,E){function N(){}N.prototype=E.prototype,h.Z=E.prototype,h.prototype=new N,h.prototype.constructor=h,h.Ob=function(F,ne,ae){for(var Se=Array(arguments.length-2),He=2;He<arguments.length;He++)Se[He-2]=arguments[He];return E.prototype[ne].apply(F,Se)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function g(h){const E=h.length;if(E>0){const N=Array(E);for(let F=0;F<E;F++)N[F]=h[F];return N}return[]}function _(h,E){for(let F=1;F<arguments.length;F++){const ne=arguments[F];var N=typeof ne;if(N=N!="object"?N:ne?Array.isArray(ne)?"array":N:"null",N=="array"||N=="object"&&typeof ne.length=="number"){N=h.length||0;const ae=ne.length||0;h.length=N+ae;for(let Se=0;Se<ae;Se++)h[N+Se]=ne[Se]}else h.push(ne)}}class v{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(h){a.setTimeout(()=>{throw h},0)}function S(){var h=w;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class A{constructor(){this.h=this.g=null}add(E,N){const F=P.get();F.set(E,N),this.h?this.h.next=F:this.g=F,this.h=F}}var P=new v(()=>new R,h=>h.reset());class R{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let T,O=!1,w=new A,I=()=>{const h=Promise.resolve(void 0);T=()=>{h.then(k)}};function k(){for(var h;h=S();){try{h.h.call(h.g)}catch(N){x(N)}var E=P;E.j(h),E.h<100&&(E.h++,h.next=E.g,E.g=h)}O=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};a.addEventListener("test",N,E),a.removeEventListener("test",N,E)}catch{}return h}();function M(h){return/^[\s\xa0]*$/.test(h)}function re(h,E){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,E)}c(re,D),re.prototype.init=function(h,E){const N=this.type=h.type,F=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget,E||(N=="mouseover"?E=h.fromElement:N=="mouseout"&&(E=h.toElement)),this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),se=0;function ge(h,E,N,F,ne){this.listener=h,this.proxy=null,this.src=E,this.type=N,this.capture=!!F,this.ha=ne,this.key=++se,this.da=this.fa=!1}function q(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function oe(h,E,N){for(const F in h)E.call(N,h[F],F,h)}function de(h,E){for(const N in h)E.call(void 0,h[N],N,h)}function Te(h){const E={};for(const N in h)E[N]=h[N];return E}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(h,E){let N,F;for(let ne=1;ne<arguments.length;ne++){F=arguments[ne];for(N in F)h[N]=F[N];for(let ae=0;ae<be.length;ae++)N=be[ae],Object.prototype.hasOwnProperty.call(F,N)&&(h[N]=F[N])}}function Ye(h){this.src=h,this.g={},this.h=0}Ye.prototype.add=function(h,E,N,F,ne){const ae=h.toString();h=this.g[ae],h||(h=this.g[ae]=[],this.h++);const Se=ht(h,E,F,ne);return Se>-1?(E=h[Se],N||(E.fa=!1)):(E=new ge(E,this.src,ae,!!F,ne),E.fa=N,h.push(E)),E};function ct(h,E){const N=E.type;if(N in h.g){var F=h.g[N],ne=Array.prototype.indexOf.call(F,E,void 0),ae;(ae=ne>=0)&&Array.prototype.splice.call(F,ne,1),ae&&(q(E),h.g[N].length==0&&(delete h.g[N],h.h--))}}function ht(h,E,N,F){for(let ne=0;ne<h.length;++ne){const ae=h[ne];if(!ae.da&&ae.listener==E&&ae.capture==!!N&&ae.ha==F)return ne}return-1}var nn="closure_lm_"+(Math.random()*1e6|0),rn={};function fe(h,E,N,F,ne){if(Array.isArray(E)){for(let ae=0;ae<E.length;ae++)fe(h,E[ae],N,F,ne);return null}return N=Or(N),h&&h[ie]?h.J(E,N,s(F)?!!F.capture:!1,ne):Be(h,E,N,!1,F,ne)}function Be(h,E,N,F,ne,ae){if(!E)throw Error("Invalid event type");const Se=s(ne)?!!ne.capture:!!ne;let He=jt(h);if(He||(h[nn]=He=new Ye(h)),N=He.add(E,N,F,Se,ae),N.proxy)return N;if(F=ze(),N.proxy=F,F.src=h,F.listener=N,h.addEventListener)V||(ne=Se),ne===void 0&&(ne=!1),h.addEventListener(E.toString(),F,ne);else if(h.attachEvent)h.attachEvent(Ze(E.toString()),F);else if(h.addListener&&h.removeListener)h.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ze(){function h(N){return E.call(h.src,h.listener,N)}const E=bt;return h}function he(h,E,N,F,ne){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)he(h,E[ae],N,F,ne);else F=s(F)?!!F.capture:!!F,N=Or(N),h&&h[ie]?(h=h.i,ae=String(E).toString(),ae in h.g&&(E=h.g[ae],N=ht(E,N,F,ne),N>-1&&(q(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete h.g[ae],h.h--)))):h&&(h=jt(h))&&(E=h.g[E.toString()],h=-1,E&&(h=ht(E,N,F,ne)),(N=h>-1?E[h]:null)&&dt(N))}function dt(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[ie])ct(E.i,h);else{var N=h.type,F=h.proxy;E.removeEventListener?E.removeEventListener(N,F,h.capture):E.detachEvent?E.detachEvent(Ze(N),F):E.addListener&&E.removeListener&&E.removeListener(F),(N=jt(E))?(ct(N,h),N.h==0&&(N.src=null,E[nn]=null)):q(h)}}}function Ze(h){return h in rn?rn[h]:rn[h]="on"+h}function bt(h,E){if(h.da)h=!0;else{E=new re(E,this);const N=h.listener,F=h.ha||h.src;h.fa&&dt(h),h=N.call(F,E)}return h}function jt(h){return h=h[nn],h instanceof Ye?h:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(h){return typeof h=="function"?h:(h[on]||(h[on]=function(E){return h.handleEvent(E)}),h[on])}function Rt(){$.call(this),this.i=new Ye(this),this.M=this,this.G=null}c(Rt,$),Rt.prototype[ie]=!0,Rt.prototype.removeEventListener=function(h,E,N,F){he(this,h,E,N,F)};function Ft(h,E){var N,F=h.G;if(F)for(N=[];F;F=F.G)N.push(F);if(h=h.M,F=E.type||E,typeof E=="string")E=new D(E,h);else if(E instanceof D)E.target=E.target||h;else{var ne=E;E=new D(F,h),ke(E,ne)}ne=!0;let ae,Se;if(N)for(Se=N.length-1;Se>=0;Se--)ae=E.g=N[Se],ne=Ut(ae,F,!0,E)&&ne;if(ae=E.g=h,ne=Ut(ae,F,!0,E)&&ne,ne=Ut(ae,F,!1,E)&&ne,N)for(Se=0;Se<N.length;Se++)ae=E.g=N[Se],ne=Ut(ae,F,!1,E)&&ne}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var h=this.i;for(const E in h.g){const N=h.g[E];for(let F=0;F<N.length;F++)q(N[F]);delete h.g[E],h.h--}}this.G=null},Rt.prototype.J=function(h,E,N,F){return this.i.add(String(h),E,!1,N,F)},Rt.prototype.K=function(h,E,N,F){return this.i.add(String(h),E,!0,N,F)};function Ut(h,E,N,F){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();let ne=!0;for(let ae=0;ae<E.length;++ae){const Se=E[ae];if(Se&&!Se.da&&Se.capture==N){const He=Se.listener,qt=Se.ha||Se.src;Se.fa&&ct(h.i,Se),ne=He.call(qt,F)!==!1&&ne}}return ne&&!F.defaultPrevented}function Wr(h,E){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:a.setTimeout(h,E||0)}function Hr(h){h.g=Wr(()=>{h.g=null,h.i&&(h.i=!1,Hr(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class Es extends ${constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Hr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(h){$.call(this),this.h=h,this.g={}}c(hr,$);var Wi=[];function Hi(h){oe(h.g,function(E,N){this.g.hasOwnProperty(N)&&dt(E)},h),h.g={}}hr.prototype.N=function(){hr.Z.N.call(this),Hi(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=a.JSON.stringify,As=a.JSON.parse,nf=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ts(){}function Gi(){}var Xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ps(){D.call(this,"d")}c(Ps,D);function Gr(){D.call(this,"c")}c(Gr,D);var Re={},fa=null;function Xr(){return fa=fa||new Rt}Re.Ia="serverreachability";function Is(h){D.call(this,Re.Ia,h)}c(Is,D);function Pe(h){const E=Xr();Ft(E,new Is(E))}Re.STAT_EVENT="statevent";function Fl(h,E){D.call(this,Re.STAT_EVENT,h),this.stat=E}c(Fl,D);function An(h){const E=Xr();Ft(E,new Fl(E,h))}Re.Ja="timingevent";function Bl(h,E){D.call(this,Re.Ja,h),this.size=E}c(Bl,D);function ha(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function To(){this.g=!0}To.prototype.ua=function(){this.g=!1};function Fv(h,E,N,F,ne,ae){h.info(function(){if(h.g)if(ae){var Se="",He=ae.split("&");for(let pt=0;pt<He.length;pt++){var qt=He[pt].split("=");if(qt.length>1){const sn=qt[0];qt=qt[1];const yr=sn.split("_");Se=yr.length>=2&&yr[1]=="type"?Se+(sn+"="+qt+"&"):Se+(sn+"=redacted&")}}}else Se=null;else Se=ae;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+E+`
`+N+`
`+Se})}function Bv(h,E,N,F,ne,ae,Se){h.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+E+`
`+N+`
`+ae+" "+Se})}function Cr(h,E,N,F){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+rf(h,N)+(F?" "+F:"")})}function da(h,E){h.info(function(){return"TIMEOUT: "+E})}To.prototype.info=function(){};function rf(h,E){if(!h.g)return E;if(!E)return null;try{const ae=JSON.parse(E);if(ae){for(h=0;h<ae.length;h++)if(Array.isArray(ae[h])){var N=ae[h];if(!(N.length<2)){var F=N[1];if(Array.isArray(F)&&!(F.length<1)){var ne=F[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Se=1;Se<F.length;Se++)F[Se]=""}}}}return Ss(ae)}catch{return E}}var Po={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},At={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jt;function of(){}c(of,Ts),of.prototype.g=function(){return new XMLHttpRequest},Jt=new of;function Yi(h){return encodeURIComponent(String(h))}function zl(h){var E=1;h=h.split(":");const N=[];for(;E>0&&h.length;)N.push(h.shift()),E--;return h.length&&N.push(h.join(":")),N}function kr(h,E,N,F){this.j=h,this.i=E,this.l=N,this.S=F||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xd}function Xd(){this.i=null,this.g="",this.h=!1}var _i={},Qi={};function Yr(h,E,N){h.M=1,h.A=Zi(jr(E)),h.u=N,h.R=!0,Os(h,null)}function Os(h,E){h.F=Date.now(),Qr(h),h.B=jr(h.A);var N=h.B,F=h.S;Array.isArray(F)||(F=[String(F)]),tp(N.i,"t",F),h.C=0,N=h.j.L,h.h=new Xd,h.g=_a(h.j,N?E:null,!h.u),h.P>0&&(h.O=new Es(u(h.Y,h,h.g),h.P)),E=h.V,N=h.g,F=h.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Wi[0]=ne.toString()),ne=Wi);for(let ae=0;ae<ne.length;ae++){const Se=fe(N,ne[ae],F||E.handleEvent,!1,E.h||E);if(!Se)break;E.g[Se.key]=Se}E=h.J?Te(h.J):{},h.u?(h.v||(h.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,E)):(h.v="GET",h.g.ea(h.B,h.v,null,E)),Pe(),Fv(h.i,h.v,h.B,h.l,h.S,h.u)}kr.prototype.ba=function(h){h=h.target;const E=this.O;E&&gr(h)==3?E.j():this.Y(h)},kr.prototype.Y=function(h){try{if(h==this.g)e:{const He=gr(this.g),qt=this.g.ya(),pt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||op(this.g)))){this.K||He!=4||qt==7||(qt==8||pt<=0?Pe(3):Pe(2)),Cs(this);var E=this.g.ca();this.X=E;var N=zv(this);if(this.o=E==200,Bv(this.i,this.v,this.B,this.l,this.S,He,E),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ne=this.g;if((F=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(F)){var ae=F;break t}}ae=null}if(h=ae)Cr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nr(this,h);else{this.o=!1,this.m=3,An(12),tr(this),Tt(this);break e}}if(this.R){h=!0;let sn;for(;!this.K&&this.C<N.length;)if(sn=Yd(this,N),sn==Qi){He==4&&(this.m=4,An(14),h=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==_i){this.m=4,An(15),Cr(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else Cr(this.i,this.l,sn,null),Nr(this,sn);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||N.length!=0||this.h.h||(this.m=1,An(16),h=!1),this.o=this.o&&h,!h)Cr(this.i,this.l,N,"[Invalid Chunked Response]"),tr(this),Tt(this);else if(N.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Ql(Se),Se.P=!0,An(11))}}else Cr(this.i,this.l,N,null),Nr(this,N);He==4&&tr(this),this.o&&!this.K&&(He==4?Jl(this.j,this):(this.o=!1,Qr(this)))}else Uv(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,An(12)):(this.m=0,An(13)),tr(this),Tt(this)}}}catch{}finally{}};function zv(h){if(!wi(h))return h.g.la();const E=op(h.g);if(E==="")return"";let N="";const F=E.length,ne=gr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return tr(h),Tt(h),"";h.h.i=new a.TextDecoder}for(let ae=0;ae<F;ae++)h.h.h=!0,N+=h.h.i.decode(E[ae],{stream:!(ne&&ae==F-1)});return E.length=0,h.h.g+=N,h.C=0,h.h.g}function wi(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yd(h,E){var N=h.C,F=E.indexOf(`
`,N);return F==-1?Qi:(N=Number(E.substring(N,F)),isNaN(N)?_i:(F+=1,F+N>E.length?Qi:(E=E.slice(F,F+N),h.C=F+N,E)))}kr.prototype.cancel=function(){this.K=!0,tr(this)};function Qr(h){h.T=Date.now()+h.H,af(h,h.H)}function af(h,E){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ha(u(h.aa,h),E)}function Cs(h){h.D&&(a.clearTimeout(h.D),h.D=null)}kr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(da(this.i,this.B),this.M!=2&&(Pe(),An(17)),tr(this),this.m=2,Tt(this)):af(this,this.T-h)};function Tt(h){h.j.I==0||h.K||Jl(h.j,h)}function tr(h){Cs(h);var E=h.O;E&&typeof E.dispose=="function"&&E.dispose(),h.O=null,Hi(h.V),h.g&&(E=h.g,h.g=null,E.abort(),E.dispose())}function Nr(h,E){try{var N=h.j;if(N.I!=0&&(N.g==h||Ns(N.h,h))){if(!h.L&&Ns(N.h,h)&&N.I==3){try{var F=N.Ba.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ne=F;if(ne[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<h.F)Ai(N),Gl(N);else break e;ba(N),An(18)}}else N.xa=ne[1],0<N.xa-N.K&&ne[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=ha(u(N.Va,N),6e3));Ul(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ti(N,11)}else if((h.L||N.g==h)&&Ai(N),!M(E))for(ne=N.Ba.g.parse(E),E=0;E<ne.length;E++){let pt=ne[E];const sn=pt[0];if(!(sn<=N.K))if(N.K=sn,pt=pt[1],N.I==2)if(pt[0]=="c"){N.M=pt[1],N.ba=pt[2];const yr=pt[3];yr!=null&&(N.ka=yr,N.j.info("VER="+N.ka));const Ii=pt[4];Ii!=null&&(N.za=Ii,N.j.info("SVER="+N.za));const ro=pt[5];ro!=null&&typeof ro=="number"&&ro>0&&(F=1.5*ro,N.O=F,N.j.info("backChannelRequestTimeoutMs_="+F)),F=N;const Oi=h.g;if(Oi){const tu=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var ae=F.h;ae.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(xi(ae,ae.h),ae.h=null))}if(F.G){const nu=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;nu&&(F.wa=nu,gt(F.J,F.G,nu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-h.F,N.j.info("Handshake RTT: "+N.T+"ms")),F=N;var Se=h;if(F.na=gn(F,F.L?F.ba:null,F.W),Se.L){sf(F.h,Se);var He=Se,qt=F.O;qt&&(He.H=qt),He.D&&(Cs(He),Qr(He)),F.g=Se}else Vs(F);N.i.length>0&&Xl(N)}else pt[0]!="stop"&&pt[0]!="close"||Ti(N,7);else N.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Ti(N,7):$s(N):pt[0]!="noop"&&N.l&&N.l.qa(pt),N.A=0)}}Pe(4)}catch{}}var Qd=class{constructor(h,E){this.g=h,this.map=E}};function Io(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ks(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ul(h){return h.h?1:h.g?h.g.size:0}function Ns(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function xi(h,E){h.g?h.g.add(E):h.h=E}function sf(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}Io.prototype.cancel=function(){if(this.i=js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function js(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const N of h.g.values())E=E.concat(N.G);return E}return g(h.i)}var lf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tt(h,E){if(h){h=h.split("&");for(let N=0;N<h.length;N++){const F=h[N].indexOf("=");let ne,ae=null;F>=0?(ne=h[N].substring(0,F),ae=h[N].substring(F+1)):ne=h[N],E(ne,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ei(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;h instanceof Ei?(this.l=h.l,Ji(this,h.j),this.o=h.o,this.g=h.g,pa(this,h.u),this.h=h.h,_t(this,Bn(h.i)),this.m=h.m):h&&(E=String(h).match(lf))?(this.l=!1,Ji(this,E[1]||"",!0),this.o=Jr(E[2]||""),this.g=Jr(E[3]||"",!0),pa(this,E[4]),this.h=Jr(E[5]||"",!0),_t(this,E[6]||"",!0),this.m=Jr(E[7]||"")):(this.l=!1,this.i=new ma(null,this.l))}Ei.prototype.toString=function(){const h=[];var E=this.j;E&&h.push(Oo(E,Rs,!0),":");var N=this.g;return(N||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Oo(E,Rs,!0),"@"),h.push(Yi(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&h.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Oo(N,N.charAt(0)=="/"?ql:Jd,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Oo(N,Ds)),h.join("")},Ei.prototype.resolve=function(h){const E=jr(this);let N=!!h.j;N?Ji(E,h.j):N=!!h.o,N?E.o=h.o:N=!!h.g,N?E.g=h.g:N=h.u!=null;var F=h.h;if(N)pa(E,h.u);else if(N=!!h.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ne=E.h.lastIndexOf("/");ne!=-1&&(F=E.h.slice(0,ne+1)+F)}if(ne=F,ne==".."||ne==".")F="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){F=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ae=[];for(let Se=0;Se<ne.length;){const He=ne[Se++];He=="."?F&&Se==ne.length&&ae.push(""):He==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),F&&Se==ne.length&&ae.push("")):(ae.push(He),F=!0)}F=ae.join("/")}else F=ne}return N?E.h=F:N=h.i.toString()!=="",N?_t(E,Bn(h.i)):N=!!h.m,N&&(E.m=h.m),E};function jr(h){return new Ei(h)}function Ji(h,E,N){h.j=N?Jr(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function pa(h,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);h.u=E}else h.u=null}function _t(h,E,N){E instanceof ma?(h.i=E,Kl(h.i,h.l)):(N||(E=Oo(E,Zd)),h.i=new ma(E,h.l))}function gt(h,E,N){h.i.set(E,N)}function Zi(h){return gt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Jr(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Oo(h,E,N){return typeof h=="string"?(h=encodeURI(h).replace(E,uf),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Rs=/[#\/\?@]/g,Jd=/[#\?:]/g,ql=/[#\?]/g,Zd=/[#\?@]/g,Ds=/#/g;function ma(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Co(h){h.g||(h.g=new Map,h.h=0,h.i&&tt(h.i,function(E,N){h.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=ma.prototype,t.add=function(h,E){Co(this),this.i=null,h=Rr(this,h);let N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(E),this.h+=1,this};function at(h,E){Co(h),E=Rr(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function cf(h,E){return Co(h),E=Rr(h,E),h.g.has(E)}t.forEach=function(h,E){Co(this),this.g.forEach(function(N,F){N.forEach(function(ne){h.call(E,ne,F,this)},this)},this)};function ep(h,E){Co(h);let N=[];if(typeof E=="string")cf(h,E)&&(N=N.concat(h.g.get(Rr(h,E))));else for(h=Array.from(h.g.values()),E=0;E<h.length;E++)N=N.concat(h[E]);return N}t.set=function(h,E){return Co(this),this.i=null,h=Rr(this,h),cf(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=ep(this,h),h.length>0?String(h[0]):E):E};function tp(h,E,N){at(h,E),N.length>0&&(h.i=null,h.g.set(Rr(h,E),g(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(let F=0;F<E.length;F++){var N=E[F];const ne=Yi(N);N=ep(this,N);for(let ae=0;ae<N.length;ae++){let Se=ne;N[ae]!==""&&(Se+="="+Yi(N[ae])),h.push(Se)}}return this.i=h.join("&")};function Bn(h){const E=new ma;return E.i=h.i,h.g&&(E.g=new Map(h.g),E.h=h.h),E}function Rr(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function Kl(h,E){E&&!h.j&&(Co(h),h.i=null,h.g.forEach(function(N,F){const ne=F.toLowerCase();F!=ne&&(at(this,F),tp(this,ne,N))},h)),h.j=E}function eo(h,E){const N=new To;if(a.Image){const F=new Image;F.onload=f(Si,N,"TestLoadImage: loaded",!0,E,F),F.onerror=f(Si,N,"TestLoadImage: error",!1,E,F),F.onabort=f(Si,N,"TestLoadImage: abort",!1,E,F),F.ontimeout=f(Si,N,"TestLoadImage: timeout",!1,E,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=h}else E(!1)}function np(h,E){const N=new To,F=new AbortController,ne=setTimeout(()=>{F.abort(),Si(N,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:F.signal}).then(ae=>{clearTimeout(ne),ae.ok?Si(N,"TestPingServer: ok",!0,E):Si(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),Si(N,"TestPingServer: error",!1,E)})}function Si(h,E,N,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(N)}catch{}}function an(){this.g=new nf}function dr(h){this.i=h.Sb||null,this.h=h.ab||!1}c(dr,Ts),dr.prototype.g=function(){return new to(this.i,this.h)};function to(h,E){Rt.call(this),this.H=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}c(to,Rt),t=to.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=E,this.readyState=1,pr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(E.body=h),(this.H||a).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?ko(this):pr(this),this.readyState==3&&ga(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,ko(this))},t.Na=function(h){this.g&&(this.response=h,ko(this))},t.ga=function(){this.g&&ko(this)};function ko(h){h.readyState=4,h.l=null,h.j=null,h.B=null,pr(h)}t.setRequestHeader=function(h,E){this.A.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=E.next();return h.join(`\r
`)};function pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rp(h){let E="";return oe(h,function(N,F){E+=F,E+=":",E+=N,E+=`\r
`}),E}function mr(h,E,N){e:{for(F in N){var F=!1;break e}F=!0}F||(N=rp(N),typeof h=="string"?N!=null&&Yi(N):gt(h,E,N))}function It(h){Rt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}c(It,Rt);var ip=/^https?$/i,ff=["POST","PUT"];t=It.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,E,N,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jt.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(ae){ya(this,ae);return}if(h=N||"",N=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)N.set(ne,F[ne]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())N.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(N.keys()).find(ae=>ae.toLowerCase()=="content-type"),ne=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(ff,E,void 0)>=0)||F||ne||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Se]of N)this.g.setRequestHeader(ae,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ae){ya(this,ae)}};function ya(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.o=5,Wl(h),Hl(h)}function Wl(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hl(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hf(this):this.Xa())},t.Xa=function(){hf(this)};function hf(h){if(h.h&&typeof o<"u"){if(h.v&&gr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),gr(h)==4){h.h=!1;try{const ae=h.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var F;if(F=ae===0){let Se=String(h.D).match(lf)[1]||null;!Se&&a.self&&a.self.location&&(Se=a.self.location.protocol.slice(0,-1)),F=!ip.test(Se?Se.toLowerCase():"")}N=F}if(N)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var ne=gr(h)>2?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.ca()+"]",Wl(h)}}finally{Hl(h)}}}}function Hl(h,E){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const N=h.g;h.g=null,E||Ft(h,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gr(h){return h.g?h.g.readyState:0}t.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),As(E)}};function op(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Uv(h){const E={};h=(h.g&&gr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<h.length;F++){if(M(h[F]))continue;var N=zl(h[F]);const ne=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ae=E[ne]||[];E[ne]=ae,ae.push(N)}de(E,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(h,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||E}function Ms(h){this.za=0,this.i=[],this.j=new To,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=no("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=no("baseRetryDelayMs",5e3,h),this.Za=no("retryDelaySeedMs",1e4,h),this.Ta=no("forwardChannelMaxRetries",2,h),this.va=no("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(h&&h.concurrentRequestLimit),this.Ba=new an,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ms.prototype,t.ka=8,t.I=1,t.connect=function(h,E,N,F){An(0),this.W=h,this.H=E||{},N&&F!==void 0&&(this.H.OSID=N,this.H.OAID=F),this.F=this.X,this.J=gn(this,null,this.W),Xl(this)};function $s(h){if(ap(h),h.I==3){var E=h.V++,N=jr(h.J);if(gt(N,"SID",h.M),gt(N,"RID",E),gt(N,"TYPE","terminate"),va(h,N),E=new kr(h,h.j,E),E.M=2,E.A=Zi(jr(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&a.Image&&(new Image().src=E.A,N=!0),N||(E.g=_a(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Qr(E)}eu(h)}function Gl(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function ap(h){Gl(h),h.v&&(a.clearTimeout(h.v),h.v=null),Ai(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function Xl(h){if(!ks(h.h)&&!h.m){h.m=!0;var E=h.Ea;T||I(),O||(T(),O=!0),w.add(E,h),h.D=0}}function df(h,E){return Ul(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=E.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ha(u(h.Ea,h,E),Zl(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const ne=new kr(this,this.j,h);let ae=this.o;if(this.U&&(ae?(ae=Te(ae),ke(ae,this.U)):ae=this.U),this.u!==null||this.R||(ne.J=ae,ae=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var F=this.i[N];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=Ls(this,ne,E),N=jr(this.J),gt(N,"RID",h),gt(N,"CVER",22),this.G&&gt(N,"X-HTTP-Session-Id",this.G),va(this,N),ae&&(this.R?E="headers="+Yi(rp(ae))+"&"+E:this.u&&mr(N,this.u,ae)),xi(this.h,ne),this.Ra&&gt(N,"TYPE","init"),this.S?(gt(N,"$req",E),gt(N,"SID","null"),ne.U=!0,Yr(ne,N,null)):Yr(ne,N,E),this.I=2}}else this.I==3&&(h?Yl(this,h):this.i.length==0||ks(this.h)||Yl(this))};function Yl(h,E){var N;E?N=E.l:N=h.V++;const F=jr(h.J);gt(F,"SID",h.M),gt(F,"RID",N),gt(F,"AID",h.K),va(h,F),h.u&&h.o&&mr(F,h.u,h.o),N=new kr(h,h.j,N,h.D+1),h.u===null&&(N.J=h.o),E&&(h.i=E.G.concat(h.i)),E=Ls(h,N,1e3),N.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xi(h.h,N),Yr(N,F,E)}function va(h,E){h.H&&oe(h.H,function(N,F){gt(E,F,N)}),h.l&&oe({},function(N,F){gt(E,F,N)})}function Ls(h,E,N){N=Math.min(h.i.length,N);const F=h.l?u(h.l.Ka,h.l,h):null;e:{var ne=h.i;let He=-1;for(;;){const qt=["count="+N];He==-1?N>0?(He=ne[0].g,qt.push("ofs="+He)):He=0:qt.push("ofs="+He);let pt=!0;for(let sn=0;sn<N;sn++){var ae=ne[sn].g;const yr=ne[sn].map;if(ae-=He,ae<0)He=Math.max(0,ne[sn].g-100),pt=!1;else try{ae="req"+ae+"_"||"";try{var Se=yr instanceof Map?yr:Object.entries(yr);for(const[Ii,ro]of Se){let Oi=ro;s(ro)&&(Oi=Ss(ro)),qt.push(ae+Ii+"="+encodeURIComponent(Oi))}}catch(Ii){throw qt.push(ae+"type="+encodeURIComponent("_badmap")),Ii}}catch{F&&F(yr)}}if(pt){Se=qt.join("&");break e}}Se=void 0}return h=h.i.splice(0,N),E.G=h,Se}function Vs(h){if(!h.g&&!h.v){h.Y=1;var E=h.Da;T||I(),O||(T(),O=!0),w.add(E,h),h.A=0}}function ba(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ha(u(h.Da,h),Zl(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,sp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ha(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,An(10),Gl(this),sp(this))};function Ql(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function sp(h){h.g=new kr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var E=jr(h.na);gt(E,"RID","rpc"),gt(E,"SID",h.M),gt(E,"AID",h.K),gt(E,"CI",h.F?"0":"1"),!h.F&&h.ia&&gt(E,"TO",h.ia),gt(E,"TYPE","xmlhttp"),va(h,E),h.u&&h.o&&mr(E,h.u,h.o),h.O&&(h.g.H=h.O);var N=h.g;h=h.ba,N.M=1,N.A=Zi(jr(E)),N.u=null,N.R=!0,Os(N,h)}t.Va=function(){this.C!=null&&(this.C=null,Gl(this),ba(this),An(19))};function Ai(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Jl(h,E){var N=null;if(h.g==E){Ai(h),Ql(h),h.g=null;var F=2}else if(Ns(h.h,E))N=E.G,sf(h.h,E),F=1;else return;if(h.I!=0){if(E.o)if(F==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var ne=h.D;F=Xr(),Ft(F,new Bl(F,N)),Xl(h)}else Vs(h);else if(ne=E.m,ne==3||ne==0&&E.X>0||!(F==1&&df(h,E)||F==2&&ba(h)))switch(N&&N.length>0&&(E=h.h,E.i=E.i.concat(N)),ne){case 1:Ti(h,5);break;case 4:Ti(h,10);break;case 3:Ti(h,6);break;default:Ti(h,2)}}}function Zl(h,E){let N=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(N*=2),N*E}function Ti(h,E){if(h.j.info("Error code "+E),E==2){var N=u(h.bb,h),F=h.Ua;const ne=!F;F=new Ei(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ji(F,"https"),Zi(F),ne?eo(F.toString(),N):np(F.toString(),N)}else An(2);h.I=0,h.l&&h.l.pa(E),eu(h),ap(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function eu(h){if(h.I=0,h.ja=[],h.l){const E=js(h.h);(E.length!=0||h.i.length!=0)&&(_(h.ja,E),_(h.ja,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.oa()}}function gn(h,E,N){var F=N instanceof Ei?jr(N):new Ei(N);if(F.g!="")E&&(F.g=E+"."+F.g),pa(F,F.u);else{var ne=a.location;F=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;const ae=new Ei(null);F&&Ji(ae,F),E&&(ae.g=E),ne&&pa(ae,ne),N&&(ae.h=N),F=ae}return N=h.G,E=h.wa,N&&E&&gt(F,N,E),gt(F,"VER",h.ka),va(h,F),F}function _a(h,E,N){if(E&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Aa&&!h.ma?new It(new dr({ab:N})):new It(h.ma),E.Fa(h.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}t=wa.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fs(){}Fs.prototype.g=function(h,E){return new Tn(h,E)};function Tn(h,E){Rt.call(this),this.g=new Ms(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(h?h["X-WebChannel-Client-Profile"]=E.sa:h={"X-WebChannel-Client-Profile":E.sa}),this.g.U=h,(h=E&&E.Qb)&&!M(h)&&(this.g.u=h),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.G=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Pi(this)}c(Tn,Rt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){$s(this.g)},Tn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.v&&(N={},N.__data__=Ss(h),h=N);E.i.push(new Qd(E.Ya++,h)),E.I==3&&Xl(E)},Tn.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,Tn.Z.N.call(this)};function pf(h){Ps.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const N in E){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}c(pf,Ps);function mf(){Gr.call(this),this.status=1}c(mf,Gr);function Pi(h){this.g=h}c(Pi,wa),Pi.prototype.ra=function(){Ft(this.g,"a")},Pi.prototype.qa=function(h){Ft(this.g,new pf(h))},Pi.prototype.pa=function(h){Ft(this.g,new mf)},Pi.prototype.oa=function(){Ft(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,JN=function(){return new Fs},QN=function(){return Xr()},YN=Re,u_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,hm=Po,At.COMPLETE="complete",XN=At,Gi.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Bf=Gi,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,GN=It}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});const WA="@firebase/firestore",HA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Xx("@firebase/firestore");function uu(){return xl.logLevel}function je(t,...e){if(xl.logLevel<=rt.DEBUG){const n=e.map(a1);xl.debug(`Firestore (${Mc}): ${t}`,...n)}}function ta(t,...e){if(xl.logLevel<=rt.ERROR){const n=e.map(a1);xl.error(`Firestore (${Mc}): ${t}`,...n)}}function Zu(t,...e){if(xl.logLevel<=rt.WARN){const n=e.map(a1);xl.warn(`Firestore (${Mc}): ${t}`,...n)}}function a1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZN(t,r,n)}function ZN(t,e,n){let r=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ta(r),new Error(r)}function vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZN(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends sa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class q6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K6{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ll;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ll,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ll)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new ej(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class W6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new W6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,je("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new GA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function c_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return P0(i)===P0(o)?it(i,o):P0(i)?1:-1}return it(t.length,e.length)}const Y6=55296,Q6=57343;function P0(t){const e=t.charCodeAt(0);return e>=Y6&&e<=Q6}function ec(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__name__";class ao{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ao.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ao?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ao.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return it(e.length,n.length)}static compareSegments(e,n){const r=ao.isNumericId(e),i=ao.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ao.extractNumericId(e).compare(ao.extractNumericId(n)):c_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class Ct extends ao{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const J6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends ao{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return J6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XA}static keyField(){return new Mn([XA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Ct.fromString(e))}static fromName(e){return new $e(Ct.fromString(e).popFirst(5))}static empty(){return new $e(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e,n){if(!n)throw new Ne(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z6(t,e,n,r){if(e===!0&&r===!0)throw new Ne(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YA(t){if(!$e.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QA(t){if($e.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function Ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jy(t);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function kd(t,e){if(!nj(t))throw new Ne(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ne(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=-62135596800,ZA=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZA);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JA)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZA}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kd(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:hn("string",Lt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Lt(0,0))}static max(){return new qe(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=-1;function eB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new is(i,$e.empty(),e)}function tB(t){return new is(t.readTime,t.key,jh)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(qe.min(),$e.empty(),jh)}static max(){return new is(qe.max(),$e.empty(),jh)}}function nB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==rB)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{a[u]=f,++s,s===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new ye((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function oB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ry.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=-1;function Dy(t){return t==null}function Qm(t){return t===0&&1/t==-1/0}function aB(t){return typeof t=="number"&&Number.isInteger(t)&&!Qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="";function sB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eT(e)),e=lB(t.get(n),e);return eT(e)}function lB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case rj:n+="";break;default:n+=o}}return n}function eT(t){return t+rj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Br([])}unionWith(e){let n=new En(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oj("Invalid base64 string: "+o):o}}(e);return new Fn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const uB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=uB.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="server_timestamp",sj="__type__",lj="__previous_value__",uj="__local_write_time__";function u1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sj])==null?void 0:r.stringValue)===aj}function My(t){const e=t.mapValue.fields[lj];return u1(e)?My(e):e}function Rh(t){const e=os(t.mapValue.fields[uj].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r,i,o,a,s,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Jm="(default)";class Dh{constructor(e,n){this.projectId=e,this.database=n||Jm}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===Jm}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="__type__",fB="__max__",kp={mapValue:{}},fj="__vector__",Zm="value";function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u1(t)?4:dB(t)?9007199254740991:hB(t)?10:11:Fe(28295,{value:t})}function xo(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=os(i.timestampValue),s=os(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return as(i.bytesValue).isEqual(as(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return en(i.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return en(i.integerValue)===en(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=en(i.doubleValue),s=en(o.doubleValue);return a===s?Qm(a)===Qm(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(tT(a)!==tT(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!xo(a[l],s[l])))return!1;return!0}(t,e);default:return Fe(52216,{left:t})}}function Mh(t,e){return(t.values||[]).find(n=>xo(n,e))!==void 0}function tc(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=en(o.integerValue||o.doubleValue),l=en(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return rT(t.timestampValue,e.timestampValue);case 4:return rT(Rh(t),Rh(e));case 5:return c_(t.stringValue,e.stringValue);case 6:return function(o,a){const s=as(o),l=as(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=it(s[u],l[u]);if(f!==0)return f}return it(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=it(en(o.latitude),en(a.latitude));return s!==0?s:it(en(o.longitude),en(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return function(o,a){var p,g,_,v;const s=o.fields||{},l=a.fields||{},u=(p=s[Zm])==null?void 0:p.arrayValue,f=(g=l[Zm])==null?void 0:g.arrayValue,c=it(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((v=f==null?void 0:f.values)==null?void 0:v.length)||0);return c!==0?c:iT(u,f)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===kp.mapValue&&a===kp.mapValue)return 0;if(o===kp.mapValue)return 1;if(a===kp.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let c=0;c<l.length&&c<f.length;++c){const p=c_(l[c],f[c]);if(p!==0)return p;const g=tc(s[l[c]],u[f[c]]);if(g!==0)return g}return it(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function rT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=os(t),r=os(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function iT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=tc(n[i],r[i]);if(o)return o}return it(n.length,r.length)}function nc(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return as(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=f_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${f_(n.fields[a])}`;return i+"}"}(t.mapValue):Fe(61005,{value:t})}function dm(t){switch(ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=My(t);return e?16+dm(e):16;case 5:return 2*t.stringValue.length;case 6:return as(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+dm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ms(r.fields,(o,a)=>{i+=o.length+dm(a)}),i}(t.mapValue);default:throw Fe(13486,{value:t})}}function oT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h_(t){return!!t&&"integerValue"in t}function c1(t){return!!t&&"arrayValue"in t}function aT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function hB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cj])==null?void 0:r.stringValue)===fj}function ih(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ih(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ih(t.arrayValue.values[n]);return e}return{...t}}function dB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=ih(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new _r(ih(this.value))}}function hj(t){const e=[];return ms(t.fields,(n,r)=>{const i=new Mn([n]);if(pm(r)){const o=hj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Yn(e,0,qe.min(),qe.min(),qe.min(),_r.empty(),0)}static newFoundDocument(e,n,r,i){return new Yn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new Yn(e,2,n,qe.min(),qe.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,qe.min(),qe.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.position=e,this.inclusive=n}}function lT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=$e.comparator($e.fromName(a.referenceValue),n.key):r=tc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n="asc"){this.field=e,this.dir=n}}function pB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{}class fn extends dj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gB(e,n,r):n==="array-contains"?new bB(e,r):n==="in"?new _B(e,r):n==="not-in"?new wB(e,r):n==="array-contains-any"?new xB(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yB(e,r):new vB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tc(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends dj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return pj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pj(t){return t.op==="and"}function mj(t){return mB(t)&&pj(t)}function mB(t){for(const e of t.filters)if(e instanceof qi)return!1;return!0}function d_(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(mj(t))return t.filters.map(e=>d_(e)).join(",");{const e=t.filters.map(n=>d_(n)).join(",");return`${t.op}(${e})`}}function gj(t,e){return t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&xo(r.value,i.value)}(t,e):t instanceof qi?function(r,i){return i instanceof qi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&gj(a,i.filters[s]),!0):!1}(t,e):void Fe(19439)}function yj(t){return t instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof qi?function(n){return n.op.toString()+" {"+n.getFilters().map(yj).join(" ,")+"}"}(t):"Filter"}class gB extends fn{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class yB extends fn{constructor(e,n){super(e,"in",n),this.keys=vj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vB extends fn{constructor(e,n){super(e,"not-in",n),this.keys=vj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class bB extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c1(n)&&Mh(n.arrayValue,this.value)}}class _B extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class wB extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mh(this.value.arrayValue,n)}}class xB extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function cT(t,e=null,n=[],r=[],i=null,o=null,a=null){return new EB(t,e,n,r,i,o,a)}function f1(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>d_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.Te=n}return e.Te}function h1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function p_(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SB(t,e,n,r,i,o,a,s){return new Nd(t,e,n,r,i,o,a,s)}function d1(t){return new Nd(t)}function fT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bj(t){return t.collectionGroup!==null}function oh(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new En(Mn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new tg(o,r))}),n.has(Mn.keyField().canonicalString())||e.Ie.push(new tg(Mn.keyField(),r))}return e.Ie}function go(t){const e=We(t);return e.Ee||(e.Ee=AB(e,oh(t))),e.Ee}function AB(t,e){if(t.limitType==="F")return cT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tg(i.field,o)});const n=t.endAt?new eg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eg(t.startAt.position,t.startAt.inclusive):null;return cT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m_(t,e){const n=t.filters.concat([e]);return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function g_(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $y(t,e){return h1(go(t),go(e))&&t.limitType===e.limitType}function _j(t){return`${f1(go(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yj(i)).join(", ")}]`),Dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(go(t))}; limitType=${t.limitType})`}function Ly(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of oh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=lT(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,oh(r),i)||r.endAt&&!function(a,s,l){const u=lT(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,oh(r),i))}(t,e)}function TB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wj(t){return(e,n)=>{let r=!1;for(const i of oh(t)){const o=PB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function PB(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?tc(l,u):Fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ij(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new Gt($e.comparator);function na(){return IB}const xj=new Gt($e.comparator);function zf(...t){let e=xj;for(const n of t)e=e.insert(n.key,n);return e}function Ej(t){let e=xj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return ah()}function Sj(){return ah()}function ah(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const OB=new Gt($e.comparator),CB=new En($e.comparator);function ot(...t){let e=CB;for(const n of t)e=e.add(n);return e}const kB=new En(it);function NB(){return kB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function Aj(t){return{integerValue:""+t}}function jB(t,e){return aB(e)?Aj(e):p1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this._=void 0}}function RB(t,e,n){return t instanceof ng?function(i,o){const a={fields:{[sj]:{stringValue:aj},[uj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&u1(o)&&(o=My(o)),o&&(a.fields[lj]=o),{mapValue:a}}(n,e):t instanceof $h?Pj(t,e):t instanceof Lh?Ij(t,e):function(i,o){const a=Tj(i,o),s=hT(a)+hT(i.Ae);return h_(a)&&h_(i.Ae)?Aj(s):p1(i.serializer,s)}(t,e)}function DB(t,e,n){return t instanceof $h?Pj(t,e):t instanceof Lh?Ij(t,e):n}function Tj(t,e){return t instanceof rg?function(r){return h_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ng extends Vy{}class $h extends Vy{constructor(e){super(),this.elements=e}}function Pj(t,e){const n=Oj(e);for(const r of t.elements)n.some(i=>xo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lh extends Vy{constructor(e){super(),this.elements=e}}function Ij(t,e){let n=Oj(e);for(const r of t.elements)n=n.filter(i=>!xo(i,r));return{arrayValue:{values:n}}}class rg extends Vy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hT(t){return en(t.integerValue||t.doubleValue)}function Oj(t){return c1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $h&&i instanceof $h||r instanceof Lh&&i instanceof Lh?ec(r.elements,i.elements,xo):r instanceof rg&&i instanceof rg?xo(r.Ae,i.Ae):r instanceof ng&&i instanceof ng}(t.transform,e.transform)}class $B{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fy{}function Cj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new By(t.key,Pr.none()):new jd(t.key,t.data,Pr.none());{const n=t.data,r=_r.empty();let i=new En(Mn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new gs(t.key,r,new Br(i.toArray()),Pr.none())}}function LB(t,e,n){t instanceof jd?function(i,o,a){const s=i.value.clone(),l=pT(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof gs?function(i,o,a){if(!mm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=pT(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(kj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function sh(t,e,n,r){return t instanceof jd?function(o,a,s,l){if(!mm(o.precondition,a))return s;const u=o.value.clone(),f=mT(o.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gs?function(o,a,s,l){if(!mm(o.precondition,a))return s;const u=mT(o.fieldTransforms,l,a),f=a.data;return f.setAll(kj(o)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,a,s){return mm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function VB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Tj(r.transform,i||null);o!=null&&(n===null&&(n=_r.empty()),n.set(r.field,o))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(o,a)=>MB(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jd extends Fy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gs extends Fy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pT(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,DB(a,s,n[i]))}return r}function mT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,RB(o,a,e))}return r}class By extends Fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FB extends Fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&LB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Sj();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=Cj(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>dT(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>dT(n,r))}}class m1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return OB}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new m1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,ut;function qB(t){switch(t){case me.OK:return Fe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function Nj(t){if(t===void 0)return ta("GRPC error has no .code"),me.UNKNOWN;switch(t){case ln.OK:return me.OK;case ln.CANCELLED:return me.CANCELLED;case ln.UNKNOWN:return me.UNKNOWN;case ln.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case ln.INTERNAL:return me.INTERNAL;case ln.UNAVAILABLE:return me.UNAVAILABLE;case ln.UNAUTHENTICATED:return me.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case ln.NOT_FOUND:return me.NOT_FOUND;case ln.ALREADY_EXISTS:return me.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return me.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case ln.ABORTED:return me.ABORTED;case ln.OUT_OF_RANGE:return me.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return me.UNIMPLEMENTED;case ln.DATA_LOSS:return me.DATA_LOSS;default:return Fe(39323,{code:t})}}(ut=ln||(ln={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new Za([4294967295,4294967295],0);function gT(t){const e=KB().encode(t),n=new HN;return n.update(e),new Uint8Array(n.digest())}function yT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,o],0)]}class g1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uf(`Invalid padding: ${n}`);if(r<0)throw new Uf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(WB)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gT(e),[r,i]=yT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new g1(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=gT(e),[r,i]=yT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zy(qe.min(),i,new Gt(it),na(),ot())}}class Rd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class jj{constructor(e,n){this.targetId=e,this.Ce=n}}class Rj{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vT{constructor(){this.ve=0,this.Fe=bT(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:o})}}),new Rd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HB{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=Np(),this.He=Np(),this.Ye=new Gt(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(p_(o))if(r===0){const a=new $e(o.path);this.et(n,a,Yn.newNoDocument(a,qe.min()))}else vt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=as(r).toUint8Array()}catch(l){if(l instanceof oj)return Zu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new g1(a,i,o)}catch(l){return Zu(l instanceof Uf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&p_(s.target)){const l=new $e(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Yn.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=ot();this.He.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new zy(e,n,this.Ye,this.je,r);return this.je=na(),this.Je=Np(),this.He=Np(),this.Ye=new Gt(it),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new vT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new En(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new En(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Np(){return new Gt($e.comparator)}function bT(){return new Gt($e.comparator)}const GB={asc:"ASCENDING",desc:"DESCENDING"},XB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YB={and:"AND",or:"OR"};class QB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||Dy(e)?e:{value:e}}function ig(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JB(t,e){return ig(t,e.toTimestamp())}function yo(t){return vt(!!t,49232),qe.fromTimestamp(function(n){const r=os(n);return new Lt(r.seconds,r.nanos)}(t))}function y1(t,e){return v_(t,e).canonicalString()}function v_(t,e){const n=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Mj(t){const e=Ct.fromString(t);return vt(Bj(e),10190,{key:e.toString()}),e}function b_(t,e){return y1(t.databaseId,e.path)}function I0(t,e){const n=Mj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(Lj(n))}function $j(t,e){return y1(t.databaseId,e)}function ZB(t){const e=Mj(t);return e.length===4?Ct.emptyPath():Lj(e)}function __(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lj(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _T(t,e,n){return{name:b_(t,e),fields:n.value.mapValue.fields}}function ez(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(vt(f===void 0||typeof f=="string",58123),Fn.fromBase64String(f||"")):(vt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Fn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const f=u.code===void 0?me.UNKNOWN:Nj(u.code);return new Ne(f,u.message||"")}(a);n=new Rj(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=I0(t,r.document.name),o=yo(r.document.updateTime),a=r.document.createTime?yo(r.document.createTime):qe.min(),s=new _r({mapValue:{fields:r.document.fields}}),l=Yn.newFoundDocument(i,o,a,s),u=r.targetIds||[],f=r.removedTargetIds||[];n=new gm(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=I0(t,r.document),o=r.readTime?yo(r.readTime):qe.min(),a=Yn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new gm([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=I0(t,r.document),o=r.removedTargetIds||[];n=new gm([],o,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new UB(i,o),s=r.targetId;n=new jj(s,a)}}return n}function tz(t,e){let n;if(e instanceof jd)n={update:_T(t,e.key,e.value)};else if(e instanceof By)n={delete:b_(t,e.key)};else if(e instanceof gs)n={update:_T(t,e.key,e.data),updateMask:cz(e.fieldMask)};else{if(!(e instanceof FB))return Fe(16599,{Vt:e.type});n={verify:b_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof ng)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $h)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Lh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof rg)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw Fe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:JB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)}(t,e.precondition)),n}function nz(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?yo(i.updateTime):yo(o);return a.isEqual(qe.min())&&(a=yo(o)),new $B(a,i.transformResults||[])}(n,e))):[]}function rz(t,e){return{documents:[$j(t,e.path)]}}function iz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$j(t,i);const o=function(u){if(u.length!==0)return Fj(qi.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:fu(p.field),direction:sz(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=y_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function oz(t){let e=ZB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(c){const p=Vj(c);return p instanceof qi&&mj(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(c){return c.map(p=>function(_){return new tg(hu(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let s=null;n.limit&&(s=function(c){let p;return p=typeof c=="object"?c.value:c,Dy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(c){const p=!!c.before,g=c.values||[];return new eg(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const p=!c.before,g=c.values||[];return new eg(g,p)}(n.endAt)),SB(e,i,a,o,s,"F",l,u)}function az(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hu(n.unaryFilter.field);return fn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hu(n.unaryFilter.field);return fn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return fn.create(hu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qi.create(n.compositeFilter.filters.map(r=>Vj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(n.compositeFilter.op))}(t):Fe(30097,{filter:t})}function sz(t){return GB[t]}function lz(t){return XB[t]}function uz(t){return YB[t]}function fu(t){return{fieldPath:t.canonicalString()}}function hu(t){return Mn.fromServerFormat(t.fieldPath)}function Fj(t){return t instanceof fn?function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(aT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(aT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:lz(n.op),value:n.value}}}(t):t instanceof qi?function(n){const r=n.getFilters().map(i=>Fj(i));return r.length===1?r[0]:{compositeFilter:{op:uz(n.op),filters:r}}}(t):Fe(54877,{filter:t})}function cz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Bj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r,i,o=qe.min(),a=qe.min(),s=Fn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.yt=e}}function hz(t){const e=oz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.Cn=new pz}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(is.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class pz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new En(Ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zj=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(zj,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rc(0)}static cr(){return new rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="LruGarbageCollector",mz=1048576;function ET([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class gz{constructor(e){this.Ir=e,this.buffer=new En(ET),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ET(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){je(xT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lc(n)?je(xT,"Ignoring IndexedDB error during garbage collection: ",n):await $c(n)}await this.Vr(3e5)})}}class vz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Ry.ce);const r=new gz(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(wT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,s,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,a=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(r=c,s=Date.now(),this.removeTargets(e,r,n))).next(c=>(o=c,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(c=>(u=Date.now(),uu()<=rt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:c})))}}function bz(t,e){return new vz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sh(r.mutation,i,Br.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=el();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=zf();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=na();const a=ah(),s=function(){return ah()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof gs)?o=o.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),sh(f.mutation,u,f.mutation.getFieldMask(),Lt.now())):a.set(u.key,Br.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>s.set(u,new wz(f,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=ah();let i=new Gt((a,s)=>a-s),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Br.empty();f=s.applyToLocalView(u,f),r.set(l,f);const c=(i.get(s.batchId)||ot()).add(l);i=i.insert(s.batchId,c)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,c=Sj();f.forEach(p=>{if(!o.has(p)){const g=Cj(n.get(p),r.get(p));g!==null&&c.set(p,g),o=o.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,c))}return ye.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return $e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ye.resolve(el());let s=jh,l=o;return a.next(u=>ye.forEach(u,(f,c)=>(s<c.largestBatchId&&(s=c.largestBatchId),o.get(f)?ye.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ot())).next(f=>({batchId:s,changes:Ej(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let i=zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=zf();return this.indexManager.getCollectionParents(e,o).next(s=>ye.forEach(s,l=>{const u=function(c,p){return new Nd(p,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((c,p)=>{a=a.insert(c,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,Yn.newInvalidDocument(f)))});let s=zf();return a.forEach((l,u)=>{const f=o.get(l);f!==void 0&&sh(f.mutation,u,Br.empty(),Lt.now()),Ly(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:hz(i.bundledQuery),readTime:yo(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.overlays=new Gt($e.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return ye.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=el(),o=n.length+1,a=new $e(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Gt((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=el(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=el(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>s.set(u,f)),!(s.size()>=i)););return ye.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new zB(n,r));let o=this.qr.get(n);o===void 0&&(o=ot(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.Qr=new En(Pn.$r),this.Ur=new En(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new $e(new Ct([])),r=new Pn(n,e),i=new Pn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new $e(new Ct([])),r=new Pn(n,e),i=new Pn(n,e+1);let o=ot();return this.Ur.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return $e.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new En(Pn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new BB(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new Pn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ye.resolve(a)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?l1:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],a=>{const s=this.Xr(a.Yr);o.push(s)}),ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(it);return n.forEach(i=>{const o=new Pn(i,0),a=new Pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],s=>{r=r.add(s.Yr)})}),ye.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;$e.isDocumentKey(o)||(o=o.child(""));const a=new Pn(new $e(o),0);let s=new En(it);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},a),ye.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ye.forEach(n.mutations,i=>{const o=new Pn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Zr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.ri=e,this.docs=function(){return new Gt($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yn.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=na();const a=n.path,s=new $e(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||nB(tB(f),r)<=0||(i.has(f.key)||Ly(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}ii(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iz(this)}getSize(e){return ye.resolve(this.size)}}class Iz extends _z{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.persistence=e,this.si=new jl(n=>f1(n),h1),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new v1,this.targetCount=0,this.ai=rc.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ye.waitFor(o).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ye.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ry(0),this.li=!1,this.li=!0,this.hi=new Az,this.referenceDelegate=e(this),this.Pi=new Oz(this),this.indexManager=new dz,this.remoteDocumentCache=function(i){return new Pz(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new fz(n),this.Ii=new Ez(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Tz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new Cz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return ye.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Cz extends iB{constructor(e){super(),this.currentSequenceNumber=e}}class b1{constructor(e){this.persistence=e,this.Ri=new v1,this.Vi=null}static mi(e){return new b1(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,r=>{const i=$e.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,qe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class og{constructor(e,n){this.persistence=e,this.pi=new jl(r=>sB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=bz(this,n)}static mi(e,n){return new og(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ye.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?ye.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(s=>{s||(r++,o.removeEntry(a,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dm(e.data.value)),n}br(e,n,r){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u5()?8:oB(er())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new kz;return this.Ss(e,n,a).next(s=>{if(o.result=s,this.Vs)return this.bs(e,n,a,s.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(uu()<=rt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(uu()<=rt.DEBUG&&je("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uu()<=rt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,go(n))):ye.resolve())}ys(e,n){if(fT(n))return ye.resolve(null);let r=go(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=g_(n,null,"F"),r=go(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ot(...o);return this.ps.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,a,l.readTime)?this.ys(e,g_(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return fT(n)||i.isEqual(qe.min())?ye.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?ye.resolve(null):(uu()<=rt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.vs(e,a,n,eB(i,jh)).next(s=>s))})}Ds(e,n){let r=new En(wj(e));return n.forEach((i,o)=>{Ly(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return uu()<=rt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",cu(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="LocalStore",jz=3e8;class Rz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Gt(it),this.xs=new jl(o=>f1(o),h1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Dz(t,e,n,r){return new Rz(t,e,n,r)}async function qj(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=ot();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:s}))})})}function Mz(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,f){const c=u.batch,p=c.keys();let g=ye.resolve();return p.forEach(_=>{g=g.next(()=>f.getEntry(l,_)).next(v=>{const x=u.docVersions.get(_);vt(x!==null,48541),v.version.compareTo(x)<0&&(c.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),f.addEntry(v)))})}),g.next(()=>s.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ot();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Kj(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function $z(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((f,c)=>{const p=i.get(c);if(!p)return;s.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,c).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,c)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?g=g.withResumeToken(Fn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(c,g),function(v,x,S){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=jz?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,g,f)&&s.push(n.Pi.updateTargetData(o,g))});let l=na(),u=ot();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),s.push(Lz(o,a,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!r.isEqual(qe.min())){const f=n.Pi.getLastRemoteSnapshotVersion(o).next(c=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(f)}return ye.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Lz(t,e,n){let r=ot(),i=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=na();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(qe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):je(w1,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function Vz(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=l1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fz(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,ye.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new La(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function w_(t,e,n){const r=We(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Lc(a))throw a;je(w1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ST(t,e,n){const r=We(t);let i=qe.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,f){const c=We(l),p=c.xs.get(f);return p!==void 0?ye.resolve(c.Ms.get(p)):c.Pi.getTargetData(u,f)}(r,a,go(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:qe.min(),n?o:ot())).next(s=>(Bz(r,TB(e),s),{documents:s,Qs:o})))}function Bz(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class AT{constructor(){this.activeTargetIds=NB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zz{constructor(){this.Mo=new AT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class PT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(TT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){je(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp=null;function x_(){return jp===null?jp=function(){return 268435456+Math.round(2147483648*Math.random())}():jp++,"0x"+jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="RestConnection",qz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Jm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=x_(),s=this.zo(e,n.toUriEncodedString());je(O0,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(s),f=jc(u);return this.Jo(e,s,l,r,f).then(c=>(je(O0,`Received RPC '${e}' ${a}: `,c),c),c=>{throw Zu(O0,`RPC '${e}' ${a} failed with error: `,c,"url: ",s,"request:",r),c})}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=qz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class Hz extends Kz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=x_();return new Promise((s,l)=>{const u=new GN;u.setWithCredentials(!0),u.listenOnce(XN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hm.NO_ERROR:const c=u.getResponseJson();je(Wn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),s(c);break;case hm.TIMEOUT:je(Wn,`RPC '${e}' ${a} timed out`),l(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const p=u.getStatus();if(je(Wn,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const v=function(S){const A=S.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(A)>=0?A:me.UNKNOWN}(_.status);l(new Ne(v,_.message))}else l(new Ne(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{je(Wn,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);je(Wn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=x_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=JN(),s=QN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");je(Wn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const c=a.createWebChannel(f,l);this.I_(c);let p=!1,g=!1;const _=new Wz({Yo:x=>{g?je(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(je(Wn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),p=!0),je(Wn,`RPC '${e}' stream ${i} sending:`,x),c.send(x))},Zo:()=>c.close()}),v=(x,S,A)=>{x.listen(S,P=>{try{A(P)}catch(R){setTimeout(()=>{throw R},0)}})};return v(c,Bf.EventType.OPEN,()=>{g||(je(Wn,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),v(c,Bf.EventType.CLOSE,()=>{g||(g=!0,je(Wn,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(c))}),v(c,Bf.EventType.ERROR,x=>{g||(g=!0,Zu(Wn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),_.a_(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),v(c,Bf.EventType.MESSAGE,x=>{var S;if(!g){const A=x.data[0];vt(!!A,16349);const P=A,R=(P==null?void 0:P.error)||((S=P[0])==null?void 0:S.error);if(R){je(Wn,`RPC '${e}' stream ${i} received error:`,R);const T=R.status;let O=function(k){const $=ln[k];if($!==void 0)return Nj($)}(T),w=R.message;O===void 0&&(O=me.INTERNAL,w="Unknown error status: "+T+" with message "+R.message),g=!0,_.a_(new Ne(O,w)),c.close()}else je(Wn,`RPC '${e}' stream ${i} received:`,A),_.u_(A)}}),v(s,YN.STAT_EVENT,x=>{x.stat===u_.PROXY?je(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===u_.NOPROXY&&je(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function C0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){return new QB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class Hj{constructor(e,n,r,i,o,a,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ne(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return je(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(je(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gz extends Hj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ez(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?yo(a.readTime):qe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=__(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=p_(l)?{documents:rz(o,l)}:{query:iz(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=Dj(o,a.resumeToken);const u=y_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(qe.min())>0){s.readTime=ig(o,a.snapshotVersion.toTimestamp());const u=y_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=az(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=__(this.serializer),n.removeTarget=e,this.q_(n)}}class Xz extends Hj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nz(e.writeResults,e.commitTime),r=yo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=__(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tz(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{}class Qz extends Yz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,v_(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(me.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Ho(e,v_(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(me.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Jz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class Zz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Rl(this)&&(je(El,"Restarting streams for network reachability change."),await async function(l){const u=We(l);u.Ea.add(4),await Dd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await qy(u)}(this))})}),this.Ra=new Jz(r,i)}}async function qy(t){if(Rl(t))for(const e of t.da)await e(!0)}async function Dd(t){for(const e of t.da)await e(!1)}function Gj(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),A1(n)?S1(n):Vc(n).O_()&&E1(n,e))}function x1(t,e){const n=We(t),r=Vc(n);n.Ia.delete(e),r.O_()&&Xj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Ra.set("Unknown"))}function E1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vc(t).Y_(e)}function Xj(t,e){t.Va.Ue(e),Vc(t).Z_(e)}function S1(t){t.Va=new HB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vc(t).start(),t.Ra.ua()}function A1(t){return Rl(t)&&!Vc(t).x_()&&t.Ia.size>0}function Rl(t){return We(t).Ea.size===0}function Yj(t){t.Va=void 0}async function eU(t){t.Ra.set("Online")}async function tU(t){t.Ia.forEach((e,n)=>{E1(t,e)})}async function nU(t,e){Yj(t),A1(t)?(t.Ra.ha(e),S1(t)):t.Ra.set("Unknown")}async function rU(t,e,n){if(t.Ra.set("Online"),e instanceof Rj&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){je(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ag(t,r)}else if(e instanceof gm?t.Va.Ze(e):e instanceof jj?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await Kj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.Ia.get(u);f&&o.Ia.set(u,f.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const f=o.Ia.get(l);if(!f)return;o.Ia.set(l,f.withResumeToken(Fn.EMPTY_BYTE_STRING,f.snapshotVersion)),Xj(o,l);const c=new La(f.target,l,u,f.sequenceNumber);E1(o,c)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){je(El,"Failed to raise snapshot:",r),await ag(t,r)}}async function ag(t,e,n){if(!Lc(e))throw e;t.Ea.add(1),await Dd(t),t.Ra.set("Offline"),n||(n=()=>Kj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je(El,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qy(t)})}function Qj(t,e){return e().catch(n=>ag(t,n,e))}async function Ky(t){const e=We(t),n=ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:l1;for(;iU(e);)try{const i=await Vz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oU(e,i)}catch(i){await ag(e,i)}Jj(e)&&Zj(e)}function iU(t){return Rl(t)&&t.Ta.length<10}function oU(t,e){t.Ta.push(e);const n=ls(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Jj(t){return Rl(t)&&!ls(t).x_()&&t.Ta.length>0}function Zj(t){ls(t).start()}async function aU(t){ls(t).ra()}async function sU(t){const e=ls(t);for(const n of t.Ta)e.ea(n.mutations)}async function lU(t,e,n){const r=t.Ta.shift(),i=m1.from(r,e,n);await Qj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ky(t)}async function uU(t,e){e&&ls(t).X_&&await async function(r,i){if(function(a){return qB(a)&&a!==me.ABORTED}(i.code)){const o=r.Ta.shift();ls(r).B_(),await Qj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ky(r)}}(t,e),Jj(t)&&Zj(t)}async function OT(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),je(El,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await Dd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qy(n)}async function cU(t,e){const n=We(t);e?(n.Ea.delete(2),await qy(n)):e||(n.Ea.add(2),await Dd(n),n.Ra.set("Unknown"))}function Vc(t){return t.ma||(t.ma=function(n,r,i){const o=We(n);return o.sa(),new Gz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:eU.bind(null,t),t_:tU.bind(null,t),r_:nU.bind(null,t),H_:rU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),A1(t)?S1(t):t.Ra.set("Unknown")):(await t.ma.stop(),Yj(t))})),t.ma}function ls(t){return t.fa||(t.fa=function(n,r,i){const o=We(n);return o.sa(),new Xz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aU.bind(null,t),r_:uU.bind(null,t),ta:sU.bind(null,t),na:lU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ky(t)):(await t.fa.stop(),t.Ta.length>0&&(je(El,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new T1(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P1(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Lc(t))return new Ne(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{static emptySet(e){return new Vu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=zf(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ga=new Gt($e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ic{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new ic(e,n,Vu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hU{constructor(){this.queries=kT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),o=i.queries;i.queries=kT(),o.forEach((a,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new Ne(me.ABORTED,"Firestore shutting down"))}}function kT(){return new jl(t=>_j(t),$y)}async function dU(t,e){const n=We(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new fU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=P1(a,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&I1(n)}async function pU(t,e){const n=We(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mU(t,e){const n=We(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(r=!0);a.wa=i}}r&&I1(n)}function gU(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function I1(t){t.Ca.forEach(e=>{e.next()})}var E_,NT;(NT=E_||(E_={})).Ma="default",NT.Cache="cache";class yU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.key=e}}class tR{constructor(e){this.key=e}}class vU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=wj(e),this.tu=new Vu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new CT,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const p=i.get(f),g=Ly(this.query,c)?c:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),x=!0):this.su(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(s=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(s=!0)),x&&(g?(a=a.add(g),o=v?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,c)=>function(g,_){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:x})}};return v(g)-v(_)}(f.type,c.type)||this.eu(f.doc,c.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new ic(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new tR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new eR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const O1="SyncEngine";class bU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _U{constructor(e){this.key=e,this.hu=!1}}class wU{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new jl(s=>_j(s),$y),this.Iu=new Map,this.Eu=new Set,this.du=new Gt($e.comparator),this.Au=new Map,this.Ru=new v1,this.Vu={},this.mu=new Map,this.fu=rc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xU(t,e,n=!0){const r=sR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await nR(r,e,n,!0),i}async function EU(t,e){const n=sR(t);await nR(n,e,!0,!1)}async function nR(t,e,n,r){const i=await Fz(t.localStore,go(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await SU(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Gj(t.remoteStore,i),s}async function SU(t,e,n,r,i){t.pu=(c,p,g)=>async function(v,x,S,A){let P=x.view.ru(S);P.Cs&&(P=await ST(v.localStore,x.query,!1).then(({documents:w})=>x.view.ru(w,P)));const R=A&&A.targetChanges.get(x.targetId),T=A&&A.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(P,v.isPrimaryClient,R,T);return RT(v,x.targetId,O.au),O.snapshot}(t,c,p,g);const o=await ST(t.localStore,e,!0),a=new vU(e,o.Qs),s=a.ru(o.documents),l=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);RT(t,n,u.au);const f=new bU(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function AU(t,e,n){const r=We(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!$y(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await w_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x1(r.remoteStore,i.targetId),S_(r,i.targetId)}).catch($c)):(S_(r,i.targetId),await w_(r.localStore,i.targetId,!0))}async function TU(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x1(n.remoteStore,r.targetId))}async function PU(t,e,n){const r=RU(t);try{const i=await function(a,s){const l=We(a),u=Lt.now(),f=s.reduce((g,_)=>g.add(_.key),ot());let c,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=na(),v=ot();return l.Ns.getEntries(g,f).next(x=>{_=x,_.forEach((S,A)=>{A.isValidDocument()||(v=v.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(x=>{c=x;const S=[];for(const A of s){const P=VB(A,c.get(A.key).overlayedDocument);P!=null&&S.push(new gs(A.key,P,hj(P.value.mapValue),Pr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,S,s)}).next(x=>{p=x;const S=x.applyToLocalDocumentSet(c,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,S)})}).then(()=>({batchId:p.batchId,changes:Ej(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new Gt(it)),u=u.insert(s,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await Md(r,i.changes),await Ky(r.remoteStore)}catch(i){const o=P1(i,"Failed to persist write");n.reject(o)}}async function rR(t,e){const n=We(t);try{const r=await $z(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?vt(a.hu,14607):i.removedDocuments.size>0&&(vt(a.hu,42227),a.hu=!1))}),await Md(n,r,e)}catch(r){await $c(r)}}function jT(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=We(a);l.onlineState=s;let u=!1;l.queries.forEach((f,c)=>{for(const p of c.Sa)p.va(s)&&(u=!0)}),u&&I1(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IU(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Gt($e.comparator);a=a.insert(o,Yn.newNoDocument(o,qe.min()));const s=ot().add(o),l=new zy(qe.min(),new Map,new Gt(it),a,s);await rR(r,l),r.du=r.du.remove(o),r.Au.delete(e),C1(r)}else await w_(r.localStore,e,!1).then(()=>S_(r,e,n)).catch($c)}async function OU(t,e){const n=We(t),r=e.batch.batchId;try{const i=await Mz(n.localStore,e);oR(n,r,null),iR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Md(n,i)}catch(i){await $c(i)}}async function CU(t,e,n){const r=We(t);try{const i=await function(a,s){const l=We(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next(c=>(vt(c!==null,37113),f=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);oR(r,e,n),iR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Md(r,i)}catch(i){await $c(i)}}function iR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function oR(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function S_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||aR(t,r)})}function aR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(x1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),C1(t))}function RT(t,e,n){for(const r of n)r instanceof eR?(t.Ru.addReference(r.key,e),kU(t,r)):r instanceof tR?(je(O1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||aR(t,r.key)):Fe(19791,{wu:r})}function kU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(je(O1,"New document in limbo: "+n),t.Eu.add(r),C1(t))}function C1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $e(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new _U(n)),t.du=t.du.insert(n,r),Gj(t.remoteStore,new La(go(d1(n.path)),r,"TargetPurposeLimboResolution",Ry.ce))}}async function Md(t,e,n){const r=We(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const c=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=_1.As(l.targetId,u);o.push(c)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const f=We(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>ye.forEach(u,p=>ye.forEach(p.Es,g=>f.persistence.referenceDelegate.addReference(c,p.targetId,g)).next(()=>ye.forEach(p.ds,g=>f.persistence.referenceDelegate.removeReference(c,p.targetId,g)))))}catch(c){if(!Lc(c))throw c;je(w1,"Failed to update sequence numbers: "+c)}for(const c of u){const p=c.targetId;if(!c.fromCache){const g=f.Ms.get(p),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);f.Ms=f.Ms.insert(p,v)}}}(r.localStore,o))}async function NU(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){je(O1,"User change. New user:",e.toKey());const r=await qj(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new Ne(me.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Md(n,r.Ls)}}function jU(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function sR(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IU.bind(null,e),e.Pu.H_=mU.bind(null,e.eventManager),e.Pu.yu=gU.bind(null,e.eventManager),e}function RU(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CU.bind(null,e),e}class sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Dz(this.persistence,new Nz,e.initialUser,this.serializer)}Cu(e){return new Uj(b1.mi,this.serializer)}Du(e){return new zz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sg.provider={build:()=>new sg};class DU extends sg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof og,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new Uj(r=>og.mi(r,n),this.serializer)}}class A_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NU.bind(null,this.syncEngine),await cU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hU}()}createDatastore(e){const n=Uy(e.databaseInfo.databaseId),r=function(o){return new Hz(o)}(e.databaseInfo);return function(o,a,s,l){return new Qz(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new Zz(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>jT(this.syncEngine,n,0),function(){return PT.v()?new PT:new Uz}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,f){const c=new wU(i,o,a,s,l,u);return f&&(c.gu=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=We(i);je(El,"RemoteStore shutting down."),o.Ea.add(5),await Dd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}A_.provider={build:()=>new A_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class $U{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gn.UNAUTHENTICATED,this.clientId=s1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{je(us,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(je(us,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function k0(t,e){t.asyncQueue.verifyOperationInProgress(),je(us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LU(t);je(us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OT(e.remoteStore,i)),t._onlineComponents=e}async function LU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(us,"Using user provided OfflineComponentProvider");try{await k0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await k0(t,new sg)}}else je(us,"Using default OfflineComponentProvider"),await k0(t,new DU(void 0));return t._offlineComponents}async function lR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(us,"Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(je(us,"Using default OnlineComponentProvider"),await DT(t,new A_))),t._onlineComponents}function VU(t){return lR(t).then(e=>e.syncEngine)}async function MT(t){const e=await lR(t),n=e.eventManager;return n.onListen=xU.bind(null,e.syncEngine),n.onUnlisten=AU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TU.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firestore.googleapis.com",LT=!0;class VT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cR,this.ssl=LT}else this.host=e.host,this.ssl=e.ssl??LT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mz)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U6;switch(r.type){case"firstParty":return new H6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$T.get(n);r&&(je("ComponentProvider","Removing Datastore"),$T.delete(n),r.terminate())}(this),Promise.resolve()}}function FU(t,e,n,r={}){var u;t=Ko(t,Wy);const i=jc(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(oN(`https://${s}`),aN("Firestore",!0)),o.host!==cR&&o.host!==s&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!vl(l,a)&&(t._setSettings(l),r.mockUserToken)){let f,c;if(typeof r.mockUserToken=="string")f=r.mockUserToken,c=Gn.MOCK_USER;else{f=e5(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gn(p)}t._authCredentials=new q6(new ej(f,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fc(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kd(n,dn._jsonSchema))return new dn(e,r||null,new $e(Ct.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:hn("string",dn._jsonSchemaVersion),referencePath:hn("string")};class es extends Fc{constructor(e,n,r){super(e,n,d1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new $e(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Rp(t,e,...n){if(t=mn(t),tj("collection","path",e),t instanceof Wy){const r=Ct.fromString(e,...n);return QA(r),new es(t,null,r)}{if(!(t instanceof dn||t instanceof es))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return QA(r),new es(t.firestore,null,r)}}function qf(t,e,...n){if(t=mn(t),arguments.length===1&&(e=s1.newId()),tj("doc","path",e),t instanceof Wy){const r=Ct.fromString(e,...n);return YA(r),new dn(t,null,new $e(r))}{if(!(t instanceof dn||t instanceof es))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return YA(r),new dn(t.firestore,t instanceof es?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="AsyncQueue";class BT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wj(this,"async_queue_retry"),this._c=()=>{const r=C0();r&&je(FT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=C0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=C0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ll;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lc(e))throw e;je(FT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",zT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=T1.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Sl extends Wy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function BU(t,e){const n=typeof t=="object"?t:cN(),r=typeof t=="string"?t:Jm,i=Qx(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=JV("firestore");o&&FU(i,...o)}return i}function k1(t){if(t._terminated)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zU(t),t._firestoreClient}function zU(t){var r,i,o;const e=t._freezeSettings(),n=function(s,l,u,f){return new cB(s,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,uR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $U(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Fn.fromBase64String(e))}catch(n){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kd(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:hn("string",ai._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vo._jsonSchemaVersion}}static fromJSON(e){if(kd(e,vo._jsonSchema))return new vo(e.latitude,e.longitude)}}vo._jsonSchemaVersion="firestore/geoPoint/1.0",vo._jsonSchema={type:hn("string",vo._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kd(e,bo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bo(e.vectorValues);throw new Ne(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bo._jsonSchemaVersion="firestore/vectorValue/1.0",bo._jsonSchema={type:hn("string",bo._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=/^__.*__$/;class qU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new jd(e,this.data,n,this.fieldTransforms)}}class fR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class j1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new j1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hR(this.Ac)&&UU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uy(e)}Cc(e,n,r,i=!1){return new j1({Ac:e,methodName:n,Dc:r,path:Mn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hy(t){const e=t._freezeSettings(),n=Uy(t._databaseId);return new KU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dR(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);R1("Data must be an object, but it was:",a,r);const s=gR(r,a);let l,u;if(o.merge)l=new Br(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const c of o.mergeFields){const p=T_(e,c,n);if(!a.contains(p))throw new Ne(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);vR(f,p)||f.push(p)}l=new Br(f),u=a.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=a.fieldTransforms;return new qU(new _r(s),l,u)}class Gy extends N1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gy}}function pR(t,e,n,r){const i=t.Cc(1,e,n);R1("Data must be an object, but it was:",i,r);const o=[],a=_r.empty();ms(r,(l,u)=>{const f=D1(e,l,n);u=mn(u);const c=i.yc(f);if(u instanceof Gy)o.push(f);else{const p=Ld(u,c);p!=null&&(o.push(f),a.set(f,p))}});const s=new Br(o);return new fR(a,s,i.fieldTransforms)}function mR(t,e,n,r,i,o){const a=t.Cc(1,e,n),s=[T_(e,r,n)],l=[i];if(o.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)s.push(T_(e,o[p])),l.push(o[p+1]);const u=[],f=_r.empty();for(let p=s.length-1;p>=0;--p)if(!vR(u,s[p])){const g=s[p];let _=l[p];_=mn(_);const v=a.yc(g);if(_ instanceof Gy)u.push(g);else{const x=Ld(_,v);x!=null&&(u.push(g),f.set(g,x))}}const c=new Br(u);return new fR(f,c,a.fieldTransforms)}function WU(t,e,n,r=!1){return Ld(n,t.Cc(r?4:3,e))}function Ld(t,e){if(yR(t=mn(t)))return R1("Unsupported field value:",e,t),gR(t,e);if(t instanceof N1)return function(r,i){if(!hR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Ld(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:ig(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ig(i.serializer,o)}}if(r instanceof vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:Dj(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bo)return function(a,s){return{mapValue:{fields:{[cj]:{stringValue:fj},[Zm]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return p1(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${jy(r)}`)}(t,e)}function gR(t,e){const n={};return ij(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,(r,i)=>{const o=Ld(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof vo||t instanceof ai||t instanceof dn||t instanceof N1||t instanceof bo)}function R1(t,e,n){if(!yR(n)||!nj(n)){const r=jy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function T_(t,e,n){if((e=mn(e))instanceof $d)return e._internalPath;if(typeof e=="string")return D1(t,e);throw lg("Field path arguments must be of type string or ",t,!1,void 0,n)}const HU=new RegExp("[~\\*/\\[\\]]");function D1(t,e,n){if(e.search(HU)>=0)throw lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lg(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ne(me.INVALID_ARGUMENT,s+t+l)}function vR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GU extends bR{data(){return super.data()}}function M1(t,e){return typeof e=="string"?D1(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $1{}class YU extends $1{}function QU(t,e,...n){let r=[];e instanceof $1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof L1).length,s=o.filter(l=>l instanceof Xy).length;if(a>1||a>0&&s>0)throw new Ne(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xy extends YU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xy(e,n,r)}_apply(e){const n=this._parse(e);return _R(e._query,n),new Fc(e.firestore,e.converter,m_(e._query,n))}_parse(e){const n=Hy(e.firestore);return function(o,a,s,l,u,f,c){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){KT(c,f);const _=[];for(const v of c)_.push(qT(l,o,v));p={arrayValue:{values:_}}}else p=qT(l,o,c)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||KT(c,f),p=WU(s,a,c,f==="in"||f==="not-in");return fn.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JU(t,e,n){const r=e,i=M1("where",t);return Xy._create(i,r,n)}class L1 extends $1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)_R(a,l),a=m_(a,l)}(e._query,n),new Fc(e.firestore,e.converter,m_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qT(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bj(e)&&n.indexOf("/")!==-1)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!$e.isDocumentKey(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oT(t,new $e(r))}if(n instanceof dn)return oT(t,n._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(n)}.`)}function KT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _R(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZU{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ms(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Zm].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>en(a.doubleValue));return new bo(n)}convertGeoPoint(e){return new vo(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=My(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const n=os(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);vt(Bj(r),9688,{name:e});const i=new Dh(r.get(1),r.get(3)),o=new $e(r.popFirst(5));return i.isEqual(n)||ta(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends bR{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(M1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:hn("string",ul._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class ym extends ul{data(e={}){return super.data(e)}}class Fu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ym(this._firestore,this._userDataWriter,r.key,r,new Kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new ym(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Kf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new ym(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Kf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),f=a.indexOf(s.doc.key)),{type:e9(s.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=s1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}Fu._jsonSchemaVersion="firestore/querySnapshot/1.0",Fu._jsonSchema={type:hn("string",Fu._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class xR extends ZU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function t9(t,e,n,...r){t=Ko(t,dn);const i=Ko(t.firestore,Sl),o=Hy(i);let a;return a=typeof(e=mn(e))=="string"||e instanceof $d?mR(o,"updateDoc",t._key,e,n,r):pR(o,"updateDoc",t._key,e),Yy(i,[a.toMutation(t._key,Pr.exists(!0))])}function n9(t){return Yy(Ko(t.firestore,Sl),[new By(t._key,Pr.none())])}function r9(t,e){const n=Ko(t.firestore,Sl),r=qf(t),i=wR(t.converter,e);return Yy(n,[dR(Hy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function i9(t,...e){var l,u,f;t=mn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||UT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(UT(e[r])){const c=e[r];e[r]=(l=c.next)==null?void 0:l.bind(c),e[r+1]=(u=c.error)==null?void 0:u.bind(c),e[r+2]=(f=c.complete)==null?void 0:f.bind(c)}let o,a,s;if(t instanceof dn)a=Ko(t.firestore,Sl),s=d1(t._key.path),o={next:c=>{e[r]&&e[r](o9(a,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Ko(t,Fc);a=Ko(c.firestore,Sl),s=c._query;const p=new xR(a);o={next:g=>{e[r]&&e[r](new Fu(a,p,c,g))},error:e[r+1],complete:e[r+2]},XU(t._query)}return function(p,g,_,v){const x=new MU(v),S=new yU(g,x,_);return p.asyncQueue.enqueueAndForget(async()=>dU(await MT(p),S)),()=>{x.Nu(),p.asyncQueue.enqueueAndForget(async()=>pU(await MT(p),S))}}(k1(a),s,i,o)}function Yy(t,e){return function(r,i){const o=new ll;return r.asyncQueue.enqueueAndForget(async()=>PU(await VU(r),i,o)),o.promise}(k1(t),e)}function o9(t,e,n){const r=n.docs.get(e._key),i=new xR(t);return new ul(t,i,e._key,r,new Kf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hy(e)}set(e,n,r){this._verifyNotCommitted();const i=N0(e,this._firestore),o=wR(i.converter,n,r),a=dR(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Pr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=N0(e,this._firestore);let a;return a=typeof(n=mn(n))=="string"||n instanceof $d?mR(this._dataReader,"WriteBatch.update",o._key,n,r,i):pR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=N0(e,this._firestore);return this._mutations=this._mutations.concat(new By(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function N0(t,e){if((t=mn(t)).firestore!==e)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){return k1(t=Ko(t,Sl)),new a9(t,e=>Yy(t,e))}(function(e,n=!0){(function(i){Mc=i})(Rc),Ju(new bl("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Sl(new K6(r.getProvider("auth-internal")),new G6(a,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(u.options.projectId,f)}(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Ja(WA,HA,e),Ja(WA,HA,"esm2020")})();const l9={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},ER=uN(l9),ug=V6(ER),Us=BU(ER),SR=G.createContext({currentUser:null,isLoading:!0}),AR=()=>G.useContext(SR),u9=({children:t})=>{const[e,n]=G.useState(null),[r,i]=G.useState(!0);G.useEffect(()=>IF(ug,s=>{n(s),i(!1)}),[]);const o={currentUser:e,isLoading:r};return r?y.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center",children:y.jsx("p",{className:"text-white text-xl",children:"Cargando LactoKeeper..."})}):y.jsx(SR.Provider,{value:o,children:t})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>G.createElement("svg",{ref:l,...f9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TR("lucide",i),...s},[...a.map(([u,f])=>G.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=G.forwardRef(({className:r,...i},o)=>G.createElement(h9,{ref:o,iconNode:e,className:TR(`lucide-${c9(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=et("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=et("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=et("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=et("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=et("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=et("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=et("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=et("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=et("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=et("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=et("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=et("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=et("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=et("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=et("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=et("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=et("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=et("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=et("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=et("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=et("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),M9=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,o]=G.useState(""),[a,s]=G.useState(null),[l,u]=G.useState(!1),f=p=>{switch(p.code){case"auth/invalid-email":return"El formato del correo electrnico no es vlido.";case"auth/user-not-found":case"auth/wrong-password":return"Correo electrnico o contrasea incorrectos.";case"auth/email-already-in-use":return"Este correo electrnico ya est registrado.";case"auth/weak-password":return"La contrasea debe tener al menos 6 caracteres.";default:return"Ocurri un error. Por favor, intenta de nuevo."}},c=async p=>{p.preventDefault(),s(null),u(!0);try{t?await AF(ug,n,i):await SF(ug,n,i)}catch(g){s(f(g))}finally{u(!1)}};return y.jsx("div",{className:"bg-gray-900 min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:y.jsxs("div",{className:"w-full max-w-sm",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[y.jsx(Fd,{className:"w-10 h-10 text-indigo-400"}),y.jsx("h1",{className:"text-4xl font-bold text-white",children:"LactoKeeper"})]}),y.jsx("p",{className:"text-zinc-400",children:"Tu gestin de rebao, en la nube."})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[y.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[y.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesin"}),y.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),y.jsxs("form",{onSubmit:c,className:"space-y-4",children:[y.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),placeholder:"Correo electrnico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),y.jsx("input",{type:"password",value:i,onChange:p=>o(p.target.value),placeholder:"Contrasea",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),a&&y.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-red-300",children:[y.jsx(Jy,{size:18}),y.jsx("span",{children:a})]}),y.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-amber text-black font-bold py-3 rounded-xl transition-colors hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesin":"Crear Cuenta"})]})]})]})})};function CR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CR(t))&&(r&&(r+=" "),r+=e);return r}var $9=Array.isArray,Ir=$9,L9=typeof du=="object"&&du&&du.Object===Object&&du,kR=L9,V9=kR,F9=typeof self=="object"&&self&&self.Object===Object&&self,B9=V9||F9||Function("return this")(),Ao=B9,z9=Ao,U9=z9.Symbol,Bd=U9,WT=Bd,NR=Object.prototype,q9=NR.hasOwnProperty,K9=NR.toString,Af=WT?WT.toStringTag:void 0;function W9(t){var e=q9.call(t,Af),n=t[Af];try{t[Af]=void 0;var r=!0}catch{}var i=K9.call(t);return r&&(e?t[Af]=n:delete t[Af]),i}var H9=W9,G9=Object.prototype,X9=G9.toString;function Y9(t){return X9.call(t)}var Q9=Y9,HT=Bd,J9=H9,Z9=Q9,e8="[object Null]",t8="[object Undefined]",GT=HT?HT.toStringTag:void 0;function n8(t){return t==null?t===void 0?t8:e8:GT&&GT in Object(t)?J9(t):Z9(t)}var la=n8;function r8(t){return t!=null&&typeof t=="object"}var ua=r8,i8=la,o8=ua,a8="[object Symbol]";function s8(t){return typeof t=="symbol"||o8(t)&&i8(t)==a8}var Bc=s8,l8=Ir,u8=Bc,c8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f8=/^\w*$/;function h8(t,e){if(l8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||u8(t)?!0:f8.test(t)||!c8.test(t)||e!=null&&t in Object(e)}var K1=h8;function d8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ys=d8;const zc=St(ys);var p8=la,m8=ys,g8="[object AsyncFunction]",y8="[object Function]",v8="[object GeneratorFunction]",b8="[object Proxy]";function _8(t){if(!m8(t))return!1;var e=p8(t);return e==y8||e==v8||e==g8||e==b8}var W1=_8;const Xe=St(W1);var w8=Ao,x8=w8["__core-js_shared__"],E8=x8,j0=E8,XT=function(){var t=/[^.]+$/.exec(j0&&j0.keys&&j0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function S8(t){return!!XT&&XT in t}var A8=S8,T8=Function.prototype,P8=T8.toString;function I8(t){if(t!=null){try{return P8.call(t)}catch{}try{return t+""}catch{}}return""}var jR=I8,O8=W1,C8=A8,k8=ys,N8=jR,j8=/[\\^$.*+?()[\]{}|]/g,R8=/^\[object .+?Constructor\]$/,D8=Function.prototype,M8=Object.prototype,$8=D8.toString,L8=M8.hasOwnProperty,V8=RegExp("^"+$8.call(L8).replace(j8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F8(t){if(!k8(t)||C8(t))return!1;var e=O8(t)?V8:R8;return e.test(N8(t))}var B8=F8;function z8(t,e){return t==null?void 0:t[e]}var U8=z8,q8=B8,K8=U8;function W8(t,e){var n=K8(t,e);return q8(n)?n:void 0}var Dl=W8,H8=Dl,G8=H8(Object,"create"),Zy=G8,YT=Zy;function X8(){this.__data__=YT?YT(null):{},this.size=0}var Y8=X8;function Q8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var J8=Q8,Z8=Zy,e7="__lodash_hash_undefined__",t7=Object.prototype,n7=t7.hasOwnProperty;function r7(t){var e=this.__data__;if(Z8){var n=e[t];return n===e7?void 0:n}return n7.call(e,t)?e[t]:void 0}var i7=r7,o7=Zy,a7=Object.prototype,s7=a7.hasOwnProperty;function l7(t){var e=this.__data__;return o7?e[t]!==void 0:s7.call(e,t)}var u7=l7,c7=Zy,f7="__lodash_hash_undefined__";function h7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=c7&&e===void 0?f7:e,this}var d7=h7,p7=Y8,m7=J8,g7=i7,y7=u7,v7=d7;function Uc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uc.prototype.clear=p7;Uc.prototype.delete=m7;Uc.prototype.get=g7;Uc.prototype.has=y7;Uc.prototype.set=v7;var b7=Uc;function _7(){this.__data__=[],this.size=0}var w7=_7;function x7(t,e){return t===e||t!==t&&e!==e}var H1=x7,E7=H1;function S7(t,e){for(var n=t.length;n--;)if(E7(t[n][0],e))return n;return-1}var ev=S7,A7=ev,T7=Array.prototype,P7=T7.splice;function I7(t){var e=this.__data__,n=A7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():P7.call(e,n,1),--this.size,!0}var O7=I7,C7=ev;function k7(t){var e=this.__data__,n=C7(e,t);return n<0?void 0:e[n][1]}var N7=k7,j7=ev;function R7(t){return j7(this.__data__,t)>-1}var D7=R7,M7=ev;function $7(t,e){var n=this.__data__,r=M7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var L7=$7,V7=w7,F7=O7,B7=N7,z7=D7,U7=L7;function qc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qc.prototype.clear=V7;qc.prototype.delete=F7;qc.prototype.get=B7;qc.prototype.has=z7;qc.prototype.set=U7;var tv=qc,q7=Dl,K7=Ao,W7=q7(K7,"Map"),G1=W7,QT=b7,H7=tv,G7=G1;function X7(){this.size=0,this.__data__={hash:new QT,map:new(G7||H7),string:new QT}}var Y7=X7;function Q7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var J7=Q7,Z7=J7;function eq(t,e){var n=t.__data__;return Z7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var nv=eq,tq=nv;function nq(t){var e=tq(this,t).delete(t);return this.size-=e?1:0,e}var rq=nq,iq=nv;function oq(t){return iq(this,t).get(t)}var aq=oq,sq=nv;function lq(t){return sq(this,t).has(t)}var uq=lq,cq=nv;function fq(t,e){var n=cq(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var hq=fq,dq=Y7,pq=rq,mq=aq,gq=uq,yq=hq;function Kc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kc.prototype.clear=dq;Kc.prototype.delete=pq;Kc.prototype.get=mq;Kc.prototype.has=gq;Kc.prototype.set=yq;var X1=Kc,RR=X1,vq="Expected a function";function Y1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Y1.Cache||RR),n}Y1.Cache=RR;var DR=Y1;const bq=St(DR);var _q=DR,wq=500;function xq(t){var e=_q(t,function(r){return n.size===wq&&n.clear(),r}),n=e.cache;return e}var Eq=xq,Sq=Eq,Aq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tq=/\\(\\)?/g,Pq=Sq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Aq,function(n,r,i,o){e.push(i?o.replace(Tq,"$1"):r||n)}),e}),Iq=Pq;function Oq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Q1=Oq,JT=Bd,Cq=Q1,kq=Ir,Nq=Bc,ZT=JT?JT.prototype:void 0,eP=ZT?ZT.toString:void 0;function MR(t){if(typeof t=="string")return t;if(kq(t))return Cq(t,MR)+"";if(Nq(t))return eP?eP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var jq=MR,Rq=jq;function Dq(t){return t==null?"":Rq(t)}var $R=Dq,Mq=Ir,$q=K1,Lq=Iq,Vq=$R;function Fq(t,e){return Mq(t)?t:$q(t,e)?[t]:Lq(Vq(t))}var LR=Fq,Bq=Bc;function zq(t){if(typeof t=="string"||Bq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var rv=zq,Uq=LR,qq=rv;function Kq(t,e){e=Uq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[qq(e[n++])];return n&&n==r?t:void 0}var J1=Kq,Wq=J1;function Hq(t,e,n){var r=t==null?void 0:Wq(t,e);return r===void 0?n:r}var VR=Hq;const fi=St(VR);function Gq(t){return t==null}var Xq=Gq;const Je=St(Xq);var Yq=la,Qq=Ir,Jq=ua,Zq="[object String]";function eK(t){return typeof t=="string"||!Qq(t)&&Jq(t)&&Yq(t)==Zq}var tK=eK;const Al=St(tK);var FR={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=Symbol.for("react.element"),eE=Symbol.for("react.portal"),iv=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),sv=Symbol.for("react.provider"),lv=Symbol.for("react.context"),nK=Symbol.for("react.server_context"),uv=Symbol.for("react.forward_ref"),cv=Symbol.for("react.suspense"),fv=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),rK=Symbol.for("react.offscreen"),BR;BR=Symbol.for("react.module.reference");function yi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Z1:switch(t=t.type,t){case iv:case av:case ov:case cv:case fv:return t;default:switch(t=t&&t.$$typeof,t){case nK:case lv:case uv:case dv:case hv:case sv:return t;default:return e}}case eE:return e}}}xt.ContextConsumer=lv;xt.ContextProvider=sv;xt.Element=Z1;xt.ForwardRef=uv;xt.Fragment=iv;xt.Lazy=dv;xt.Memo=hv;xt.Portal=eE;xt.Profiler=av;xt.StrictMode=ov;xt.Suspense=cv;xt.SuspenseList=fv;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(t){return yi(t)===lv};xt.isContextProvider=function(t){return yi(t)===sv};xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Z1};xt.isForwardRef=function(t){return yi(t)===uv};xt.isFragment=function(t){return yi(t)===iv};xt.isLazy=function(t){return yi(t)===dv};xt.isMemo=function(t){return yi(t)===hv};xt.isPortal=function(t){return yi(t)===eE};xt.isProfiler=function(t){return yi(t)===av};xt.isStrictMode=function(t){return yi(t)===ov};xt.isSuspense=function(t){return yi(t)===cv};xt.isSuspenseList=function(t){return yi(t)===fv};xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iv||t===av||t===ov||t===cv||t===fv||t===rK||typeof t=="object"&&t!==null&&(t.$$typeof===dv||t.$$typeof===hv||t.$$typeof===sv||t.$$typeof===lv||t.$$typeof===uv||t.$$typeof===BR||t.getModuleId!==void 0)};xt.typeOf=yi;FR.exports=xt;var iK=FR.exports,oK=la,aK=ua,sK="[object Number]";function lK(t){return typeof t=="number"||aK(t)&&oK(t)==sK}var zR=lK;const uK=St(zR);var cK=zR;function fK(t){return cK(t)&&t!=+t}var hK=fK;const Wc=St(hK);var Vi=function(e){return e===0?0:e>0?1:-1},tl=function(e){return Al(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return uK(e)&&!Wc(e)},dK=function(e){return Je(e)},xn=function(e){return Ee(e)||Al(e)},pK=0,Hc=function(e){var n=++pK;return"".concat(e||"").concat(n)},Tl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!Al(e))return r;var o;if(tl(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Wc(o)&&(o=r),i&&o>n&&(o=n),o},Da=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Dn=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function fg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fi(r,e))===n})}var gK=function(e,n){return Ee(e)&&Ee(n)?e-n:Al(e)&&Al(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Bu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I_(t){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(t)}var yK=["viewBox","children"],vK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tP=["points","pathLength"],R0={svg:yK,polygon:tP,polyline:tP},tE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(G.isValidElement(e)&&(r=e.props),!zc(r))return null;var i={};return Object.keys(r).forEach(function(o){tE.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},bK=function(e,n,r){return function(i){return e(n,r,i),null}},dg=function(e,n,r){if(!zc(e)||I_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];tE.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=bK(a,n,r))}),i},_K=["children"],wK=["children"];function nP(t,e){if(t==null)return{};var n=xK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O_(t){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O_(t)}var rP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iP=null,D0=null,nE=function t(e){if(e===iP&&Array.isArray(D0))return D0;var n=[];return G.Children.forEach(e,function(r){Je(r)||(iK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),D0=n,iP=e,n};function hi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Wo(i)}):r=[Wo(e)],nE(t).forEach(function(i){var o=fi(i,"type.displayName")||fi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Lr(t,e){var n=hi(t,e);return n&&n[0]}var oP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},EK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],SK=function(e){return e&&e.type&&Al(e.type)&&EK.indexOf(e.type)>=0},UR=function(e){return e&&O_(e)==="object"&&"clipDot"in e},AK=function(e,n,r,i){var o,a=(o=R0==null?void 0:R0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Xe(e)&&(i&&a.includes(n)||vK.includes(n))||r&&tE.includes(n)},Qe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(G.isValidElement(e)&&(i=e.props),!zc(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;AK((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},C_=function t(e,n){if(e===n)return!0;var r=G.Children.count(e);if(r!==G.Children.count(n))return!1;if(r===0)return!0;if(r===1)return aP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!aP(o,a))return!1}return!0},aP=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,o=nP(r,_K),a=n.props||{},s=a.children,l=nP(a,wK);return i&&s?Bu(o,l)&&C_(i,s):!i&&!s?Bu(o,l):!1}return!1},sP=function(e,n){var r=[],i={};return nE(e).forEach(function(o,a){if(SK(o))r.push(o);else if(o){var s=Wo(o.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(o,s,a);r.push(c),i[s]=!0}}}),r},TK=function(e){var n=e&&e.type;return n&&rP[n]?rP[n]:null},PK=function(e,n){return nE(n).indexOf(e)},IK=["children","width","height","viewBox","className","style","title","desc"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function OK(t,e){if(t==null)return{};var n=CK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=OK(t,IK),f=i||{width:n,height:r,x:0,y:0},c=st("recharts-surface",o);return K.createElement("svg",k_({},Qe(u,!0,"svg"),{className:c,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),K.createElement("title",null,s),K.createElement("desc",null,l),e)}var kK=["children","className"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function NK(t,e){if(t==null)return{};var n=jK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nt=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=NK(t,kK),o=st("recharts-layer",r);return K.createElement("g",j_({className:o},Qe(i,!0),{ref:e}),n)}),Ho=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function RK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var DK=RK,MK=DK;function $K(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:MK(t,e,n)}var LK=$K,VK="\\ud800-\\udfff",FK="\\u0300-\\u036f",BK="\\ufe20-\\ufe2f",zK="\\u20d0-\\u20ff",UK=FK+BK+zK,qK="\\ufe0e\\ufe0f",KK="\\u200d",WK=RegExp("["+KK+VK+UK+qK+"]");function HK(t){return WK.test(t)}var qR=HK;function GK(t){return t.split("")}var XK=GK,KR="\\ud800-\\udfff",YK="\\u0300-\\u036f",QK="\\ufe20-\\ufe2f",JK="\\u20d0-\\u20ff",ZK=YK+QK+JK,eW="\\ufe0e\\ufe0f",tW="["+KR+"]",R_="["+ZK+"]",D_="\\ud83c[\\udffb-\\udfff]",nW="(?:"+R_+"|"+D_+")",WR="[^"+KR+"]",HR="(?:\\ud83c[\\udde6-\\uddff]){2}",GR="[\\ud800-\\udbff][\\udc00-\\udfff]",rW="\\u200d",XR=nW+"?",YR="["+eW+"]?",iW="(?:"+rW+"(?:"+[WR,HR,GR].join("|")+")"+YR+XR+")*",oW=YR+XR+iW,aW="(?:"+[WR+R_+"?",R_,HR,GR,tW].join("|")+")",sW=RegExp(D_+"(?="+D_+")|"+aW+oW,"g");function lW(t){return t.match(sW)||[]}var uW=lW,cW=XK,fW=qR,hW=uW;function dW(t){return fW(t)?hW(t):cW(t)}var pW=dW,mW=LK,gW=qR,yW=pW,vW=$R;function bW(t){return function(e){e=vW(e);var n=gW(e)?yW(e):void 0,r=n?n[0]:e.charAt(0),i=n?mW(n,1).join(""):e.slice(1);return r[t]()+i}}var _W=bW,wW=_W,xW=wW("toUpperCase"),EW=xW;const pv=St(EW);function Ot(t){return function(){return t}}const QR=Math.cos,pg=Math.sin,Ki=Math.sqrt,mg=Math.PI,mv=2*mg,M_=Math.PI,$_=2*M_,Gs=1e-6,SW=$_-Gs;function JR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function AW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class TW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JR:AW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,f=a-e,c=s-n,p=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Gs)if(!(Math.abs(c*l-u*f)>Gs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,_=i-s,v=l*l+u*u,x=g*g+_*_,S=Math.sqrt(v),A=Math.sqrt(p),P=o*Math.tan((M_-Math.acos((v+p-x)/(2*S*A)))/2),R=P/A,T=P/S;Math.abs(R-1)>Gs&&this._append`L${e+R*f},${n+R*c}`,this._append`A${o},${o},0,0,${+(c*g>f*_)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,c=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Gs||Math.abs(this._y1-f)>Gs)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%$_+$_),p>SW?this._append`A${r},${r},0,1,${c},${e-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:p>Gs&&this._append`A${r},${r},0,${+(p>=M_)},${c},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new TW(e)}function iE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZR(t){this._context=t}ZR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gv(t){return new ZR(t)}function eD(t){return t[0]}function tD(t){return t[1]}function nD(t,e){var n=Ot(!0),r=null,i=gv,o=null,a=rE(s);t=typeof t=="function"?t:t===void 0?eD:Ot(t),e=typeof e=="function"?e:e===void 0?tD:Ot(e);function s(l){var u,f=(l=iE(l)).length,c,p=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(c,u,l),+e(c,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ot(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Dp(t,e,n){var r=null,i=Ot(!0),o=null,a=gv,s=null,l=rE(u);t=typeof t=="function"?t:t===void 0?eD:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tD:Ot(+n);function u(c){var p,g,_,v=(c=iE(c)).length,x,S=!1,A,P=new Array(v),R=new Array(v);for(o==null&&(s=a(A=l())),p=0;p<=v;++p){if(!(p<v&&i(x=c[p],p,c))===S)if(S=!S)g=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=p-1;_>=g;--_)s.point(P[_],R[_]);s.lineEnd(),s.areaEnd()}S&&(P[p]=+t(x,p,c),R[p]=+e(x,p,c),s.point(r?+r(x,p,c):P[p],n?+n(x,p,c):R[p]))}if(A)return s=null,A+""||null}function f(){return nD().defined(i).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ot(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Ot(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Ot(!!c),u):i},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}class rD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PW(t){return new rD(t,!0)}function IW(t){return new rD(t,!1)}const oE={draw(t,e){const n=Ki(e/mg);t.moveTo(n,0),t.arc(0,0,n,0,mv)}},OW={draw(t,e){const n=Ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iD=Ki(1/3),CW=iD*2,kW={draw(t,e){const n=Ki(e/CW),r=n*iD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NW={draw(t,e){const n=Ki(e),r=-n/2;t.rect(r,r,n,n)}},jW=.8908130915292852,oD=pg(mg/10)/pg(7*mg/10),RW=pg(mv/10)*oD,DW=-QR(mv/10)*oD,MW={draw(t,e){const n=Ki(e*jW),r=RW*n,i=DW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=mv*o/5,s=QR(a),l=pg(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},M0=Ki(3),$W={draw(t,e){const n=-Ki(e/(M0*3));t.moveTo(0,n*2),t.lineTo(-M0*n,-n),t.lineTo(M0*n,-n),t.closePath()}},ei=-.5,ti=Ki(3)/2,L_=1/Ki(12),LW=(L_/2+1)*3,VW={draw(t,e){const n=Ki(e/LW),r=n/2,i=n*L_,o=r,a=n*L_+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ei*r-ti*i,ti*r+ei*i),t.lineTo(ei*o-ti*a,ti*o+ei*a),t.lineTo(ei*s-ti*l,ti*s+ei*l),t.lineTo(ei*r+ti*i,ei*i-ti*r),t.lineTo(ei*o+ti*a,ei*a-ti*o),t.lineTo(ei*s+ti*l,ei*l-ti*s),t.closePath()}};function FW(t,e){let n=null,r=rE(i);t=typeof t=="function"?t:Ot(t||oE),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function gg(){}function yg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aD(t){this._context=t}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BW(t){return new aD(t)}function sD(t){this._context=t}sD.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zW(t){return new sD(t)}function lD(t){this._context=t}lD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UW(t){return new lD(t)}function uD(t){this._context=t}uD.prototype={areaStart:gg,areaEnd:gg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qW(t){return new uD(t)}function lP(t){return t<0?-1:1}function uP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(lP(o)+lP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function cP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function vg(t){this._context=t}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$0(this,this._t0,cP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$0(this,cP(this,n=uP(this,t,e)),n);break;default:$0(this,this._t0,n=uP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cD(t){this._context=new fD(t)}(cD.prototype=Object.create(vg.prototype)).point=function(t,e){vg.prototype.point.call(this,e,t)};function fD(t){this._context=t}fD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function KW(t){return new vg(t)}function WW(t){return new cD(t)}function hD(t){this._context=t}hD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fP(t),i=fP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function HW(t){return new hD(t)}function yv(t,e){this._context=t,this._t=e}yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GW(t){return new yv(t,.5)}function XW(t){return new yv(t,0)}function YW(t){return new yv(t,1)}function oc(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function V_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function QW(t,e){return t[e]}function JW(t){const e=[];return e.key=t,e}function ZW(){var t=Ot([]),e=V_,n=oc,r=QW;function i(o){var a=Array.from(t.apply(this,arguments),JW),s,l=a.length,u=-1,f;for(const c of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(c,a[s].key,u,o)]).data=c;for(s=0,f=iE(e(a));s<l;++s)a[f[s]].index=s;return n(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?V_:typeof o=="function"?o:Ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??oc,i):n},i}function eH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}oc(t,e)}}function tH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}oc(t,e)}}function nH(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var f=t[e[s]],c=f[r][1]||0,p=f[r-1][1]||0,g=(c-p)/2,_=0;_<s;++_){var v=t[e[_]],x=v[r][1]||0,S=v[r-1][1]||0;g+=x-S}l+=c,u+=g*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,oc(t,e)}}function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}var rH=["type","size","sizeType"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){iH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iH(t,e,n){return e=oH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oH(t){var e=aH(t,"string");return Vh(e)=="symbol"?e:e+""}function aH(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sH(t,e){if(t==null)return{};var n=lH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dD={symbolCircle:oE,symbolCross:OW,symbolDiamond:kW,symbolSquare:NW,symbolStar:MW,symbolTriangle:$W,symbolWye:VW},uH=Math.PI/180,cH=function(e){var n="symbol".concat(pv(e));return dD[n]||oE},fH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hH=function(e,n){dD["symbol".concat(pv(e))]=n},aE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=sH(e,rH),u=dP(dP({},l),{},{type:r,size:o,sizeType:s}),f=function(){var x=cH(r),S=FW().type(x).size(fH(o,s,r));return S()},c=u.className,p=u.cx,g=u.cy,_=Qe(u,!0);return p===+p&&g===+g&&o===+o?K.createElement("path",F_({},_,{className:st("recharts-symbols",c),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};aE.registerSymbol=hH;function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function gH(t,e,n){return e&&mH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yH(t,e,n){return e=bg(e),vH(t,pD()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function vH(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bH(t)}function bH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function Fh(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=wH(t,"string");return ac(e)=="symbol"?e:e+""}function wH(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,sE=function(t){function e(){return pH(this,e),yH(this,e,arguments)}return _H(e,t),gH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ni/2,a=ni/6,s=ni/3,l=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ni,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ni,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var u=dH({},r);return delete u.legendIcon,K.cloneElement(r.legendIcon,u)}return K.createElement(aE,{fill:l,cx:o,cy:o,size:ni,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ni,height:ni},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,_){var v=g.formatter||l,x=st(Fh(Fh({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",g.inactive));if(g.type==="none")return null;var S=Xe(g.value)?null:g.value;Ho(!Xe(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=g.inactive?u:g.color;return K.createElement("li",B_({className:x,style:c,key:"legend-item-".concat(_)},dg(r.props,g,_)),K.createElement(N_,{width:a,height:a,viewBox:f,style:p},r.renderIcon(g)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},v?v(S,g,_):S))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(G.PureComponent);Fh(sE,"displayName","Legend");Fh(sE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xH=tv;function EH(){this.__data__=new xH,this.size=0}var SH=EH;function AH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var TH=AH;function PH(t){return this.__data__.get(t)}var IH=PH;function OH(t){return this.__data__.has(t)}var CH=OH,kH=tv,NH=G1,jH=X1,RH=200;function DH(t,e){var n=this.__data__;if(n instanceof kH){var r=n.__data__;if(!NH||r.length<RH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jH(r)}return n.set(t,e),this.size=n.size,this}var MH=DH,$H=tv,LH=SH,VH=TH,FH=IH,BH=CH,zH=MH;function Gc(t){var e=this.__data__=new $H(t);this.size=e.size}Gc.prototype.clear=LH;Gc.prototype.delete=VH;Gc.prototype.get=FH;Gc.prototype.has=BH;Gc.prototype.set=zH;var gD=Gc,UH="__lodash_hash_undefined__";function qH(t){return this.__data__.set(t,UH),this}var KH=qH;function WH(t){return this.__data__.has(t)}var HH=WH,GH=X1,XH=KH,YH=HH;function _g(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new GH;++e<n;)this.add(t[e])}_g.prototype.add=_g.prototype.push=XH;_g.prototype.has=YH;var yD=_g;function QH(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vD=QH;function JH(t,e){return t.has(e)}var bD=JH,ZH=yD,eG=vD,tG=bD,nG=1,rG=2;function iG(t,e,n,r,i,o){var a=n&nG,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var c=-1,p=!0,g=n&rG?new ZH:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var _=t[c],v=e[c];if(r)var x=a?r(v,_,c,e,t,o):r(_,v,c,t,e,o);if(x!==void 0){if(x)continue;p=!1;break}if(g){if(!eG(e,function(S,A){if(!tG(g,A)&&(_===S||i(_,S,n,r,o)))return g.push(A)})){p=!1;break}}else if(!(_===v||i(_,v,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}var _D=iG,oG=Ao,aG=oG.Uint8Array,sG=aG;function lG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var uG=lG;function cG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var lE=cG,mP=Bd,gP=sG,fG=H1,hG=_D,dG=uG,pG=lE,mG=1,gG=2,yG="[object Boolean]",vG="[object Date]",bG="[object Error]",_G="[object Map]",wG="[object Number]",xG="[object RegExp]",EG="[object Set]",SG="[object String]",AG="[object Symbol]",TG="[object ArrayBuffer]",PG="[object DataView]",yP=mP?mP.prototype:void 0,L0=yP?yP.valueOf:void 0;function IG(t,e,n,r,i,o,a){switch(n){case PG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TG:return!(t.byteLength!=e.byteLength||!o(new gP(t),new gP(e)));case yG:case vG:case wG:return fG(+t,+e);case bG:return t.name==e.name&&t.message==e.message;case xG:case SG:return t==e+"";case _G:var s=dG;case EG:var l=r&mG;if(s||(s=pG),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=gG,a.set(t,e);var f=hG(s(t),s(e),r,i,o,a);return a.delete(t),f;case AG:if(L0)return L0.call(t)==L0.call(e)}return!1}var OG=IG;function CG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var wD=CG,kG=wD,NG=Ir;function jG(t,e,n){var r=e(t);return NG(t)?r:kG(r,n(t))}var RG=jG;function DG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var MG=DG;function $G(){return[]}var LG=$G,VG=MG,FG=LG,BG=Object.prototype,zG=BG.propertyIsEnumerable,vP=Object.getOwnPropertySymbols,UG=vP?function(t){return t==null?[]:(t=Object(t),VG(vP(t),function(e){return zG.call(t,e)}))}:FG,qG=UG;function KG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var WG=KG,HG=la,GG=ua,XG="[object Arguments]";function YG(t){return GG(t)&&HG(t)==XG}var QG=YG,bP=QG,JG=ua,xD=Object.prototype,ZG=xD.hasOwnProperty,eX=xD.propertyIsEnumerable,tX=bP(function(){return arguments}())?bP:function(t){return JG(t)&&ZG.call(t,"callee")&&!eX.call(t,"callee")},uE=tX,wg={exports:{}};function nX(){return!1}var rX=nX;wg.exports;(function(t,e){var n=Ao,r=rX,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(wg,wg.exports);var ED=wg.exports,iX=9007199254740991,oX=/^(?:0|[1-9]\d*)$/;function aX(t,e){var n=typeof t;return e=e??iX,!!e&&(n=="number"||n!="symbol"&&oX.test(t))&&t>-1&&t%1==0&&t<e}var cE=aX,sX=9007199254740991;function lX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sX}var fE=lX,uX=la,cX=fE,fX=ua,hX="[object Arguments]",dX="[object Array]",pX="[object Boolean]",mX="[object Date]",gX="[object Error]",yX="[object Function]",vX="[object Map]",bX="[object Number]",_X="[object Object]",wX="[object RegExp]",xX="[object Set]",EX="[object String]",SX="[object WeakMap]",AX="[object ArrayBuffer]",TX="[object DataView]",PX="[object Float32Array]",IX="[object Float64Array]",OX="[object Int8Array]",CX="[object Int16Array]",kX="[object Int32Array]",NX="[object Uint8Array]",jX="[object Uint8ClampedArray]",RX="[object Uint16Array]",DX="[object Uint32Array]",Mt={};Mt[PX]=Mt[IX]=Mt[OX]=Mt[CX]=Mt[kX]=Mt[NX]=Mt[jX]=Mt[RX]=Mt[DX]=!0;Mt[hX]=Mt[dX]=Mt[AX]=Mt[pX]=Mt[TX]=Mt[mX]=Mt[gX]=Mt[yX]=Mt[vX]=Mt[bX]=Mt[_X]=Mt[wX]=Mt[xX]=Mt[EX]=Mt[SX]=!1;function MX(t){return fX(t)&&cX(t.length)&&!!Mt[uX(t)]}var $X=MX;function LX(t){return function(e){return t(e)}}var SD=LX,xg={exports:{}};xg.exports;(function(t,e){var n=kR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(xg,xg.exports);var VX=xg.exports,FX=$X,BX=SD,_P=VX,wP=_P&&_P.isTypedArray,zX=wP?BX(wP):FX,AD=zX,UX=WG,qX=uE,KX=Ir,WX=ED,HX=cE,GX=AD,XX=Object.prototype,YX=XX.hasOwnProperty;function QX(t,e){var n=KX(t),r=!n&&qX(t),i=!n&&!r&&WX(t),o=!n&&!r&&!i&&GX(t),a=n||r||i||o,s=a?UX(t.length,String):[],l=s.length;for(var u in t)(e||YX.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||HX(u,l)))&&s.push(u);return s}var JX=QX,ZX=Object.prototype;function eY(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ZX;return t===n}var tY=eY;function nY(t,e){return function(n){return t(e(n))}}var TD=nY,rY=TD,iY=rY(Object.keys,Object),oY=iY,aY=tY,sY=oY,lY=Object.prototype,uY=lY.hasOwnProperty;function cY(t){if(!aY(t))return sY(t);var e=[];for(var n in Object(t))uY.call(t,n)&&n!="constructor"&&e.push(n);return e}var fY=cY,hY=W1,dY=fE;function pY(t){return t!=null&&dY(t.length)&&!hY(t)}var zd=pY,mY=JX,gY=fY,yY=zd;function vY(t){return yY(t)?mY(t):gY(t)}var vv=vY,bY=RG,_Y=qG,wY=vv;function xY(t){return bY(t,wY,_Y)}var EY=xY,xP=EY,SY=1,AY=Object.prototype,TY=AY.hasOwnProperty;function PY(t,e,n,r,i,o){var a=n&SY,s=xP(t),l=s.length,u=xP(e),f=u.length;if(l!=f&&!a)return!1;for(var c=l;c--;){var p=s[c];if(!(a?p in e:TY.call(e,p)))return!1}var g=o.get(t),_=o.get(e);if(g&&_)return g==e&&_==t;var v=!0;o.set(t,e),o.set(e,t);for(var x=a;++c<l;){p=s[c];var S=t[p],A=e[p];if(r)var P=a?r(A,S,p,e,t,o):r(S,A,p,t,e,o);if(!(P===void 0?S===A||i(S,A,n,r,o):P)){v=!1;break}x||(x=p=="constructor")}if(v&&!x){var R=t.constructor,T=e.constructor;R!=T&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof T=="function"&&T instanceof T)&&(v=!1)}return o.delete(t),o.delete(e),v}var IY=PY,OY=Dl,CY=Ao,kY=OY(CY,"DataView"),NY=kY,jY=Dl,RY=Ao,DY=jY(RY,"Promise"),MY=DY,$Y=Dl,LY=Ao,VY=$Y(LY,"Set"),PD=VY,FY=Dl,BY=Ao,zY=FY(BY,"WeakMap"),UY=zY,U_=NY,q_=G1,K_=MY,W_=PD,H_=UY,ID=la,Xc=jR,EP="[object Map]",qY="[object Object]",SP="[object Promise]",AP="[object Set]",TP="[object WeakMap]",PP="[object DataView]",KY=Xc(U_),WY=Xc(q_),HY=Xc(K_),GY=Xc(W_),XY=Xc(H_),Xs=ID;(U_&&Xs(new U_(new ArrayBuffer(1)))!=PP||q_&&Xs(new q_)!=EP||K_&&Xs(K_.resolve())!=SP||W_&&Xs(new W_)!=AP||H_&&Xs(new H_)!=TP)&&(Xs=function(t){var e=ID(t),n=e==qY?t.constructor:void 0,r=n?Xc(n):"";if(r)switch(r){case KY:return PP;case WY:return EP;case HY:return SP;case GY:return AP;case XY:return TP}return e});var YY=Xs,V0=gD,QY=_D,JY=OG,ZY=IY,IP=YY,OP=Ir,CP=ED,eQ=AD,tQ=1,kP="[object Arguments]",NP="[object Array]",Mp="[object Object]",nQ=Object.prototype,jP=nQ.hasOwnProperty;function rQ(t,e,n,r,i,o){var a=OP(t),s=OP(e),l=a?NP:IP(t),u=s?NP:IP(e);l=l==kP?Mp:l,u=u==kP?Mp:u;var f=l==Mp,c=u==Mp,p=l==u;if(p&&CP(t)){if(!CP(e))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new V0),a||eQ(t)?QY(t,e,n,r,i,o):JY(t,e,l,n,r,i,o);if(!(n&tQ)){var g=f&&jP.call(t,"__wrapped__"),_=c&&jP.call(e,"__wrapped__");if(g||_){var v=g?t.value():t,x=_?e.value():e;return o||(o=new V0),i(v,x,n,r,o)}}return p?(o||(o=new V0),ZY(t,e,n,r,i,o)):!1}var iQ=rQ,oQ=iQ,RP=ua;function OD(t,e,n,r,i){return t===e?!0:t==null||e==null||!RP(t)&&!RP(e)?t!==t&&e!==e:oQ(t,e,n,r,OD,i)}var hE=OD,aQ=gD,sQ=hE,lQ=1,uQ=2;function cQ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],f=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var c=new aQ;if(r)var p=r(u,f,l,t,e,c);if(!(p===void 0?sQ(f,u,lQ|uQ,r,c):p))return!1}}return!0}var fQ=cQ,hQ=ys;function dQ(t){return t===t&&!hQ(t)}var CD=dQ,pQ=CD,mQ=vv;function gQ(t){for(var e=mQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,pQ(i)]}return e}var yQ=gQ;function vQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var kD=vQ,bQ=fQ,_Q=yQ,wQ=kD;function xQ(t){var e=_Q(t);return e.length==1&&e[0][2]?wQ(e[0][0],e[0][1]):function(n){return n===t||bQ(n,t,e)}}var EQ=xQ;function SQ(t,e){return t!=null&&e in Object(t)}var AQ=SQ,TQ=LR,PQ=uE,IQ=Ir,OQ=cE,CQ=fE,kQ=rv;function NQ(t,e,n){e=TQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=kQ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&CQ(i)&&OQ(a,i)&&(IQ(t)||PQ(t)))}var jQ=NQ,RQ=AQ,DQ=jQ;function MQ(t,e){return t!=null&&DQ(t,e,RQ)}var $Q=MQ,LQ=hE,VQ=VR,FQ=$Q,BQ=K1,zQ=CD,UQ=kD,qQ=rv,KQ=1,WQ=2;function HQ(t,e){return BQ(t)&&zQ(e)?UQ(qQ(t),e):function(n){var r=VQ(n,t);return r===void 0&&r===e?FQ(n,t):LQ(e,r,KQ|WQ)}}var GQ=HQ;function XQ(t){return t}var Yc=XQ;function YQ(t){return function(e){return e==null?void 0:e[t]}}var QQ=YQ,JQ=J1;function ZQ(t){return function(e){return JQ(e,t)}}var eJ=ZQ,tJ=QQ,nJ=eJ,rJ=K1,iJ=rv;function oJ(t){return rJ(t)?tJ(iJ(t)):nJ(t)}var aJ=oJ,sJ=EQ,lJ=GQ,uJ=Yc,cJ=Ir,fJ=aJ;function hJ(t){return typeof t=="function"?t:t==null?uJ:typeof t=="object"?cJ(t)?lJ(t[0],t[1]):sJ(t):fJ(t)}var vs=hJ;function dJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var ND=dJ;function pJ(t){return t!==t}var mJ=pJ;function gJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var yJ=gJ,vJ=ND,bJ=mJ,_J=yJ;function wJ(t,e,n){return e===e?_J(t,e,n):vJ(t,bJ,n)}var xJ=wJ,EJ=xJ;function SJ(t,e){var n=t==null?0:t.length;return!!n&&EJ(t,e,0)>-1}var AJ=SJ;function TJ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var PJ=TJ;function IJ(){}var OJ=IJ,F0=PD,CJ=OJ,kJ=lE,NJ=1/0,jJ=F0&&1/kJ(new F0([,-0]))[1]==NJ?function(t){return new F0(t)}:CJ,RJ=jJ,DJ=yD,MJ=AJ,$J=PJ,LJ=bD,VJ=RJ,FJ=lE,BJ=200;function zJ(t,e,n){var r=-1,i=MJ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=$J;else if(o>=BJ){var u=e?null:VJ(t);if(u)return FJ(u);a=!1,i=LJ,l=new DJ}else l=e?[]:s;e:for(;++r<o;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,a&&c===c){for(var p=l.length;p--;)if(l[p]===c)continue e;e&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var UJ=zJ,qJ=vs,KJ=UJ;function WJ(t,e){return t&&t.length?KJ(t,qJ(e)):[]}var HJ=WJ;const DP=St(HJ);function jD(t,e,n){return e===!0?DP(t,n):Xe(e)?DP(t,e):t}function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}var GJ=["ref"];function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){bv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DD(r.key),r)}}function YJ(t,e,n){return e&&$P(t.prototype,e),n&&$P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QJ(t,e,n){return e=Eg(e),JJ(t,RD()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function JJ(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(t)}function ZJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function eZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function bv(t,e,n){return e=DD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t){var e=tZ(t,"string");return sc(e)=="symbol"?e:e+""}function tZ(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nZ(t,e){if(t==null)return{};var n=rZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iZ(t){return t.value}function oZ(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=nZ(e,GJ);return K.createElement(sE,n)}var LP=1,cl=function(t){function e(){var n;XJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=QJ(this,e,[].concat(i)),bv(n,"lastBoundingBox",{width:-1,height:-1}),n}return eZ(e,t),YJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>LP||Math.abs(i.height-this.lastBoundingBox.height)>LP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?jo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();c={left:((u||0)-g.width)/2}}else c=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var _=this.getBBoxSnapshot();p={top:((f||0)-_.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return jo(jo({},c),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=jo(jo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return K.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(g){r.wrapperNode=g}},oZ(o,jo(jo({},this.props),{},{payload:jD(f,u,iZ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=jo(jo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(G.PureComponent);bv(cl,"displayName","Legend");bv(cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VP=Bd,aZ=uE,sZ=Ir,FP=VP?VP.isConcatSpreadable:void 0;function lZ(t){return sZ(t)||aZ(t)||!!(FP&&t&&t[FP])}var uZ=lZ,cZ=wD,fZ=uZ;function MD(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=fZ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?MD(s,e-1,n,r,i):cZ(i,s):r||(i[i.length]=s)}return i}var $D=MD;function hZ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var dZ=hZ,pZ=dZ,mZ=pZ(),gZ=mZ,yZ=gZ,vZ=vv;function bZ(t,e){return t&&yZ(t,e,vZ)}var LD=bZ,_Z=zd;function wZ(t,e){return function(n,r){if(n==null)return n;if(!_Z(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var xZ=wZ,EZ=LD,SZ=xZ,AZ=SZ(EZ),dE=AZ,TZ=dE,PZ=zd;function IZ(t,e){var n=-1,r=PZ(t)?Array(t.length):[];return TZ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var VD=IZ;function OZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var CZ=OZ,BP=Bc;function kZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=BP(t),a=e!==void 0,s=e===null,l=e===e,u=BP(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var NZ=kZ,jZ=NZ;function RZ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=jZ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var DZ=RZ,B0=Q1,MZ=J1,$Z=vs,LZ=VD,VZ=CZ,FZ=SD,BZ=DZ,zZ=Yc,UZ=Ir;function qZ(t,e,n){e.length?e=B0(e,function(o){return UZ(o)?function(a){return MZ(a,o.length===1?o[0]:o)}:o}):e=[zZ];var r=-1;e=B0(e,FZ($Z));var i=LZ(t,function(o,a,s){var l=B0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return VZ(i,function(o,a){return BZ(o,a,n)})}var KZ=qZ;function WZ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var HZ=WZ,GZ=HZ,zP=Math.max;function XZ(t,e,n){return e=zP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=zP(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),GZ(t,this,s)}}var YZ=XZ;function QZ(t){return function(){return t}}var JZ=QZ,ZZ=Dl,eee=function(){try{var t=ZZ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),FD=eee,tee=JZ,UP=FD,nee=Yc,ree=UP?function(t,e){return UP(t,"toString",{configurable:!0,enumerable:!1,value:tee(e),writable:!0})}:nee,iee=ree,oee=800,aee=16,see=Date.now;function lee(t){var e=0,n=0;return function(){var r=see(),i=aee-(r-n);if(n=r,i>0){if(++e>=oee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uee=lee,cee=iee,fee=uee,hee=fee(cee),dee=hee,pee=Yc,mee=YZ,gee=dee;function yee(t,e){return gee(mee(t,e,pee),t+"")}var vee=yee,bee=H1,_ee=zd,wee=cE,xee=ys;function Eee(t,e,n){if(!xee(n))return!1;var r=typeof e;return(r=="number"?_ee(n)&&wee(e,n.length):r=="string"&&e in n)?bee(n[e],t):!1}var _v=Eee,See=$D,Aee=KZ,Tee=vee,qP=_v,Pee=Tee(function(t,e){if(t==null)return[];var n=e.length;return n>1&&qP(t,e[0],e[1])?e=[]:n>2&&qP(e[0],e[1],e[2])&&(e=[e[0]]),Aee(t,See(e,1),[])}),Iee=Pee;const pE=St(Iee);function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function Oee(t,e){return jee(t)||Nee(t,e)||kee(t,e)||Cee()}function Cee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kee(t,e){if(t){if(typeof t=="string")return KP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jee(t){if(Array.isArray(t))return t}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ree(t,e,n){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=Mee(t,"string");return Bh(e)=="symbol"?e:e+""}function Mee(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ee(t){return Array.isArray(t)&&xn(t[0])&&xn(t[1])?t.join(" ~ "):t}var Lee=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,c=e.formatter,p=e.itemSorter,g=e.wrapperClassName,_=e.labelClassName,v=e.label,x=e.labelFormatter,S=e.accessibilityLayer,A=S===void 0?!1:S,P=function(){if(f&&f.length){var V={padding:0,margin:0},M=(p?pE(f,p):f).map(function(re,ie){if(re.type==="none")return null;var se=z0({display:"block",paddingTop:4,paddingBottom:4,color:re.color||"#000"},s),ge=re.formatter||c||$ee,q=re.value,oe=re.name,de=q,Te=oe;if(ge&&de!=null&&Te!=null){var be=ge(q,oe,re,ie,f);if(Array.isArray(be)){var ke=Oee(be,2);de=ke[0],Te=ke[1]}else de=be}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:se},xn(Te)?K.createElement("span",{className:"recharts-tooltip-item-name"},Te):null,xn(Te)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},de),K.createElement("span",{className:"recharts-tooltip-item-unit"},re.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:V},M)}return null},R=z0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=z0({margin:0},u),O=!Je(v),w=O?v:"",I=st("recharts-default-tooltip",g),k=st("recharts-tooltip-label",_);O&&x&&f!==void 0&&f!==null&&(w=x(v,f));var $=A?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",X_({className:I,style:R},$),K.createElement("p",{className:k,style:T},K.isValidElement(w)?w:"".concat(w)),P())};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function $p(t,e,n){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vee(t){var e=Fee(t,"string");return zh(e)=="symbol"?e:e+""}function Fee(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tf="recharts-tooltip-wrapper",Bee={visibility:"hidden"};function zee(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return st(Tf,$p($p($p($p({},"".concat(Tf,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(Tf,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(Tf,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(Tf,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function HP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Ee(o[r]))return o[r];var f=n[r]-s-i,c=n[r]+i;if(e[r])return a[r]?f:c;if(a[r]){var p=f,g=l[r];return p<g?Math.max(c,l[r]):Math.max(f,l[r])}var _=c+s,v=l[r]+u;return _>v?Math.max(f,l[r]):Math.max(c,l[r])}function Uee(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function qee(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,c;return a.height>0&&a.width>0&&n?(f=HP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),c=HP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Uee({translateX:f,translateY:c,useTranslate3d:s})):u=Bee,{cssProperties:u,cssClasses:zee({translateX:f,translateY:c,coordinate:n})}}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function Hee(t,e,n){return e&&Wee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gee(t,e,n){return e=Sg(e),Xee(t,BD()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function Xee(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yee(t)}function Yee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function Qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function Q_(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=Jee(t,"string");return lc(e)=="symbol"?e:e+""}function Jee(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YP=1,Zee=function(t){function e(){var n;Kee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Gee(this,e,[].concat(i)),Q_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Q_(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return Qee(e,t),Hee(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>YP||Math.abs(r.height-this.state.lastBoundingBox.height)>YP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,p=i.isAnimationActive,g=i.offset,_=i.position,v=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,P=qee({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:g,position:_,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),R=P.cssClasses,T=P.cssProperties,O=XP(XP({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&c?"visible":"hidden",position:"absolute",top:0,left:0},A);return K.createElement("div",{tabIndex:-1,className:R,style:O,ref:function(I){r.wrapperNode=I}},u)}}])}(G.PureComponent),ete=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ml={isSsr:ete()};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){mE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function rte(t,e,n){return e&&nte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ite(t,e,n){return e=Ag(e),ote(t,UD()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function ote(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ate(t)}function ate(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function ste(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function mE(t,e,n){return e=qD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qD(t){var e=lte(t,"string");return uc(e)=="symbol"?e:e+""}function lte(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ute(t){return t.dataKey}function cte(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(Lee,e)}var _n=function(t){function e(){return tte(this,e),ite(this,e,arguments)}return ste(e,t),rte(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,p=i.isAnimationActive,g=i.offset,_=i.payload,v=i.payloadUniqBy,x=i.position,S=i.reverseDirection,A=i.useTranslate3d,P=i.viewBox,R=i.wrapperStyle,T=_??[];c&&T.length&&(T=jD(_.filter(function(w){return w.value!=null&&(w.hide!==!0||r.props.includeHidden)}),v,ute));var O=T.length>0;return K.createElement(Zee,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:f,hasPayload:O,offset:g,position:x,reverseDirection:S,useTranslate3d:A,viewBox:P,wrapperStyle:R},cte(u,JP(JP({},this.props),{},{payload:T})))}}])}(G.PureComponent);mE(_n,"displayName","Tooltip");mE(_n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fte=Ao,hte=function(){return fte.Date.now()},dte=hte,pte=/\s/;function mte(t){for(var e=t.length;e--&&pte.test(t.charAt(e)););return e}var gte=mte,yte=gte,vte=/^\s+/;function bte(t){return t&&t.slice(0,yte(t)+1).replace(vte,"")}var _te=bte,wte=_te,ZP=ys,xte=Bc,eI=NaN,Ete=/^[-+]0x[0-9a-f]+$/i,Ste=/^0b[01]+$/i,Ate=/^0o[0-7]+$/i,Tte=parseInt;function Pte(t){if(typeof t=="number")return t;if(xte(t))return eI;if(ZP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ZP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=wte(t);var n=Ste.test(t);return n||Ate.test(t)?Tte(t.slice(2),n?2:8):Ete.test(t)?eI:+t}var KD=Pte,Ite=ys,U0=dte,tI=KD,Ote="Expected a function",Cte=Math.max,kte=Math.min;function Nte(t,e,n){var r,i,o,a,s,l,u=0,f=!1,c=!1,p=!0;if(typeof t!="function")throw new TypeError(Ote);e=tI(e)||0,Ite(n)&&(f=!!n.leading,c="maxWait"in n,o=c?Cte(tI(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g(O){var w=r,I=i;return r=i=void 0,u=O,a=t.apply(I,w),a}function _(O){return u=O,s=setTimeout(S,e),f?g(O):a}function v(O){var w=O-l,I=O-u,k=e-w;return c?kte(k,o-I):k}function x(O){var w=O-l,I=O-u;return l===void 0||w>=e||w<0||c&&I>=o}function S(){var O=U0();if(x(O))return A(O);s=setTimeout(S,v(O))}function A(O){return s=void 0,p&&r?g(O):(r=i=void 0,a)}function P(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function R(){return s===void 0?a:A(U0())}function T(){var O=U0(),w=x(O);if(r=arguments,i=this,l=O,w){if(s===void 0)return _(l);if(c)return clearTimeout(s),s=setTimeout(S,e),g(l)}return s===void 0&&(s=setTimeout(S,e)),a}return T.cancel=P,T.flush=R,T}var jte=Nte,Rte=jte,Dte=ys,Mte="Expected a function";function $te(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Mte);return Dte(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rte(t,e,{leading:r,maxWait:e,trailing:i})}var Lte=$te;const WD=St(Lte);function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return e=Fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Bte(t,"string");return Uh(e)=="symbol"?e:e+""}function Bte(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zte(t,e){return Wte(t)||Kte(t,e)||qte(t,e)||Ute()}function Ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(t,e){if(t){if(typeof t=="string")return rI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wte(t){if(Array.isArray(t))return t}var lo=G.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,c=t.minHeight,p=t.maxHeight,g=t.children,_=t.debounce,v=_===void 0?0:_,x=t.id,S=t.className,A=t.onResize,P=t.style,R=P===void 0?{}:P,T=G.useRef(null),O=G.useRef();O.current=A,G.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var w=G.useState({containerWidth:i.width,containerHeight:i.height}),I=zte(w,2),k=I[0],$=I[1],D=G.useCallback(function(M,re){$(function(ie){var se=Math.round(M),ge=Math.round(re);return ie.containerWidth===se&&ie.containerHeight===ge?ie:{containerWidth:se,containerHeight:ge}})},[]);G.useEffect(function(){var M=function(oe){var de,Te=oe[0].contentRect,be=Te.width,ke=Te.height;D(be,ke),(de=O.current)===null||de===void 0||de.call(O,be,ke)};v>0&&(M=WD(M,v,{trailing:!0,leading:!1}));var re=new ResizeObserver(M),ie=T.current.getBoundingClientRect(),se=ie.width,ge=ie.height;return D(se,ge),re.observe(T.current),function(){re.disconnect()}},[D,v]);var V=G.useMemo(function(){var M=k.containerWidth,re=k.containerHeight;if(M<0||re<0)return null;Ho(tl(a)||tl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ho(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ie=tl(a)?M:a,se=tl(l)?re:l;n&&n>0&&(ie?se=ie/n:se&&(ie=se*n),p&&se>p&&(se=p)),Ho(ie>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,se,a,l,f,c,n);var ge=!Array.isArray(g)&&Wo(g.type).endsWith("Chart");return K.Children.map(g,function(q){return K.isValidElement(q)?G.cloneElement(q,Lp({width:ie,height:se},ge?{style:Lp({height:"100%",width:"100%",maxHeight:se,maxWidth:ie},q.props.style)}:{})):q})},[n,g,l,p,c,f,k,a]);return K.createElement("div",{id:x?"".concat(x):void 0,className:st("recharts-responsive-container",S),style:Lp(Lp({},R),{},{width:a,height:l,minWidth:f,minHeight:c,maxHeight:p}),ref:T},V)}),Ud=function(e){return null};Ud.displayName="Cell";function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Xte(t,"string");return qh(e)=="symbol"?e:e+""}function Xte(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou={widthCache:{},cacheCount:0},Yte=2e3,Qte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oI="recharts_measurement_span";function Jte(t){var e=Z_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var lh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ml.isSsr)return{width:0,height:0};var r=Jte(n),i=JSON.stringify({text:e,copyStyle:r});if(ou.widthCache[i])return ou.widthCache[i];try{var o=document.getElementById(oI);o||(o=document.createElement("span"),o.setAttribute("id",oI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Z_(Z_({},Qte),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ou.widthCache[i]=l,++ou.cacheCount>Yte&&(ou.cacheCount=0,ou.widthCache={}),l}catch{return{width:0,height:0}}},Zte=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function Tg(t,e){return rne(t)||nne(t,e)||tne(t,e)||ene()}function ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(t,e){if(t){if(typeof t=="string")return aI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(t,e)}}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rne(t){if(Array.isArray(t))return t}function ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ane(r.key),r)}}function one(t,e,n){return e&&sI(t.prototype,e),n&&sI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ane(t){var e=sne(t,"string");return Kh(e)=="symbol"?e:e+""}function sne(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,une=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cne=Object.keys(HD),Pu="NaN";function fne(t,e){return t*HD[e]}var Vp=function(){function t(e,n){ine(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!lne.test(n)&&(this.num=NaN,this.unit=""),cne.includes(n)&&(this.num=fne(e,n),this.unit="px")}return one(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=une.exec(n))!==null&&r!==void 0?r:[],o=Tg(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function GD(t){if(t.includes(Pu))return Pu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=lI.exec(e))!==null&&n!==void 0?n:[],i=Tg(r,4),o=i[1],a=i[2],s=i[3],l=Vp.parse(o??""),u=Vp.parse(s??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Pu;e=e.replace(lI,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,p=(c=uI.exec(e))!==null&&c!==void 0?c:[],g=Tg(p,4),_=g[1],v=g[2],x=g[3],S=Vp.parse(_??""),A=Vp.parse(x??""),P=v==="+"?S.add(A):S.subtract(A);if(P.isNaN())return Pu;e=e.replace(uI,P.toString())}return e}var cI=/\(([^()]*)\)/;function hne(t){for(var e=t;e.includes("(");){var n=cI.exec(e),r=Tg(n,2),i=r[1];e=e.replace(cI,GD(i))}return e}function dne(t){var e=t.replace(/\s+/g,"");return e=hne(e),e=GD(e),e}function pne(t){try{return dne(t)}catch{return Pu}}function q0(t){var e=pne(t.slice(5,-1));return e===Pu?"":e}var mne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gne=["dx","dy","angle","className","breakAll"];function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function fI(t,e){if(t==null)return{};var n=yne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hI(t,e){return wne(t)||_ne(t,e)||bne(t,e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return dI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(t,e)}}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wne(t){if(Array.isArray(t))return t}var XD=/[ \f\n\r\t\v\u2028\u2029]+/,YD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Je(n)||(r?o=n.toString().split(""):o=n.toString().split(XD));var a=o.map(function(l){return{word:l,width:lh(l,i).width}}),s=r?0:lh("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},xne=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=Ee(a),c=s,p=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(se,ge){var q=ge.word,oe=ge.width,de=se[se.length-1];if(de&&(i==null||o||de.width+oe+r<Number(i)))de.words.push(q),de.width+=oe+r;else{var Te={words:[q],width:oe};se.push(Te)}return se},[])},g=p(n),_=function(ie){return ie.reduce(function(se,ge){return se.width>ge.width?se:ge})};if(!f)return g;for(var v="",x=function(ie){var se=c.slice(0,ie),ge=YD({breakAll:u,style:l,children:se+v}).wordsWithComputedWidth,q=p(ge),oe=q.length>a||_(q).width>Number(i);return[oe,q]},S=0,A=c.length-1,P=0,R;S<=A&&P<=c.length-1;){var T=Math.floor((S+A)/2),O=T-1,w=x(O),I=hI(w,2),k=I[0],$=I[1],D=x(T),V=hI(D,1),M=V[0];if(!k&&!M&&(S=T+1),k&&M&&(A=T-1),!k&&M){R=$;break}P++}return R||g},pI=function(e){var n=Je(e)?[]:e.toString().split(XD);return[{words:n}]},Ene=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ml.isSsr){var l,u,f=YD({breakAll:a,children:i,style:o});if(f){var c=f.wordsWithComputedWidth,p=f.spaceWidth;l=c,u=p}else return pI(i);return xne({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return pI(i)},mI="#808080",Pg=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,c=f===void 0?!1:f,p=e.textAnchor,g=p===void 0?"start":p,_=e.verticalAnchor,v=_===void 0?"end":_,x=e.fill,S=x===void 0?mI:x,A=fI(e,mne),P=G.useMemo(function(){return Ene({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:c,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,c,A.style,A.width]),R=A.dx,T=A.dy,O=A.angle,w=A.className,I=A.breakAll,k=fI(A,gne);if(!xn(r)||!xn(o))return null;var $=r+(Ee(R)?R:0),D=o+(Ee(T)?T:0),V;switch(v){case"start":V=q0("calc(".concat(u,")"));break;case"middle":V=q0("calc(".concat((P.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:V=q0("calc(".concat(P.length-1," * -").concat(s,")"));break}var M=[];if(c){var re=P[0].width,ie=A.width;M.push("scale(".concat((Ee(ie)?ie/re:1)/re,")"))}return O&&M.push("rotate(".concat(O,", ").concat($,", ").concat(D,")")),M.length&&(k.transform=M.join(" ")),K.createElement("text",ew({},Qe(k,!0),{x:$,y:D,className:st("recharts-text",w),textAnchor:g,fill:S.includes("url")?mI:S}),P.map(function(se,ge){var q=se.words.join(I?"":" ");return K.createElement("tspan",{x:$,dy:ge===0?V:s,key:"".concat(q,"-").concat(ge)},q)}))};function ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gE(t){let e,n,r;t.length!==2?(e=ts,n=(s,l)=>ts(t(s),l),r=(s,l)=>t(s)-l):(e=t===ts||t===Sne?t:Ane,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:a,right:o}}function Ane(){return 0}function QD(t){return t===null?NaN:+t}function*Tne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Pne=gE(ts),qd=Pne.right;gE(QD).center;class gI extends Map{constructor(e,n=Cne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yI(this,e))}has(e){return super.has(yI(this,e))}set(e,n){return super.set(Ine(this,e),n)}delete(e){return super.delete(One(this,e))}}function yI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ine({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function One({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Cne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kne(t=ts){if(t===ts)return JD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function JD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nne=Math.sqrt(50),jne=Math.sqrt(10),Rne=Math.sqrt(2);function Ig(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Nne?10:o>=jne?5:o>=Rne?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Ig(t,e,n*2):[s,l,u]}function tw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ig(e,t,n):Ig(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function nw(t,e,n){return e=+e,t=+t,n=+n,Ig(t,e,n)[2]}function rw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?nw(e,t,n):nw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?JD:kne(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*c/l+p)),_=Math.min(r,Math.floor(e+(l-u)*c/l+p));ZD(t,e,g,_,i)}const o=t[e];let a=n,s=r;for(Pf(t,n,e),i(t[r],o)>0&&Pf(t,n,r);a<s;){for(Pf(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Pf(t,n,s):(++s,Pf(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Pf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Dne(t,e,n){if(t=Float64Array.from(Tne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return bI(t);if(e>=1)return vI(t);var r,i=(r-1)*e,o=Math.floor(i),a=vI(ZD(t,o).subarray(0,o+1)),s=bI(t.subarray(o+1));return a+(s-a)*(i-o)}}function Mne(t,e,n=QD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function $ne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ca(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iw=Symbol("implicit");function yE(){var t=new gI,e=[],n=[],r=iw;function i(o){let a=t.get(o);if(a===void 0){if(r!==iw)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new gI;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yE(e,n).unknown(r)},vi.apply(i,arguments),i}function Wh(){var t=yE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var p=e().length,g=i<r,_=g?i:r,v=g?r:i;o=(v-_)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),_+=(v-_-o*(p-l))*f,a=o*(1-l),s&&(_=Math.round(_),a=Math.round(a));var x=$ne(p).map(function(S){return _+o*S});return n(g?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),c()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,c()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),c()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),c()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,c()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),c()):f},t.copy=function(){return Wh(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},vi.apply(c(),arguments)}function eM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eM(e())},t}function uh(){return eM(Wh.apply(null,arguments).paddingInner(1))}function vE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kd(){}var Hh=.7,Og=1/Hh,zu="\\s*([+-]?\\d+)\\s*",Gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lne=/^#([0-9a-f]{3,8})$/,Vne=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),Fne=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Bne=new RegExp(`^rgba\\(${zu},${zu},${zu},${Gh}\\)$`),zne=new RegExp(`^rgba\\(${_o},${_o},${_o},${Gh}\\)$`),Une=new RegExp(`^hsl\\(${Gh},${_o},${_o}\\)$`),qne=new RegExp(`^hsla\\(${Gh},${_o},${_o},${Gh}\\)$`),_I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vE(Kd,Xh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wI,formatHex:wI,formatHex8:Kne,formatHsl:Wne,formatRgb:xI,toString:xI});function wI(){return this.rgb().formatHex()}function Kne(){return this.rgb().formatHex8()}function Wne(){return nM(this).formatHsl()}function xI(){return this.rgb().formatRgb()}function Xh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?EI(e):n===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vne.exec(t))?new xr(e[1],e[2],e[3],1):(e=Fne.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bne.exec(t))?Fp(e[1],e[2],e[3],e[4]):(e=zne.exec(t))?Fp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Une.exec(t))?TI(e[1],e[2]/100,e[3]/100,1):(e=qne.exec(t))?TI(e[1],e[2]/100,e[3]/100,e[4]):_I.hasOwnProperty(t)?EI(_I[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function EI(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Fp(t,e,n,r){return r<=0&&(t=e=n=NaN),new xr(t,e,n,r)}function Hne(t){return t instanceof Kd||(t=Xh(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function ow(t,e,n,r){return arguments.length===1?Hne(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vE(xr,ow,tM(Kd,{brighter(t){return t=t==null?Og:Math.pow(Og,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hh:Math.pow(Hh,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(fl(this.r),fl(this.g),fl(this.b),Cg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SI,formatHex:SI,formatHex8:Gne,formatRgb:AI,toString:AI}));function SI(){return`#${nl(this.r)}${nl(this.g)}${nl(this.b)}`}function Gne(){return`#${nl(this.r)}${nl(this.g)}${nl(this.b)}${nl((isNaN(this.opacity)?1:this.opacity)*255)}`}function AI(){const t=Cg(this.opacity);return`${t===1?"rgb(":"rgba("}${fl(this.r)}, ${fl(this.g)}, ${fl(this.b)}${t===1?")":`, ${t})`}`}function Cg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nl(t){return t=fl(t),(t<16?"0":"")+t.toString(16)}function TI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $i(t,e,n,r)}function nM(t){if(t instanceof $i)return new $i(t.h,t.s,t.l,t.opacity);if(t instanceof Kd||(t=Xh(t)),!t)return new $i;if(t instanceof $i)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new $i(a,s,l,t.opacity)}function Xne(t,e,n,r){return arguments.length===1?nM(t):new $i(t,e,n,r??1)}function $i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vE($i,Xne,tM(Kd,{brighter(t){return t=t==null?Og:Math.pow(Og,t),new $i(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hh:Math.pow(Hh,t),new $i(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xr(K0(t>=240?t-240:t+120,i,r),K0(t,i,r),K0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $i(PI(this.h),Bp(this.s),Bp(this.l),Cg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cg(this.opacity);return`${t===1?"hsl(":"hsla("}${PI(this.h)}, ${Bp(this.s)*100}%, ${Bp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function PI(t){return t=(t||0)%360,t<0?t+360:t}function Bp(t){return Math.max(0,Math.min(1,t||0))}function K0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bE=t=>()=>t;function Yne(t,e){return function(n){return t+n*e}}function Qne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jne(t){return(t=+t)==1?rM:function(e,n){return n-e?Qne(e,n,t):bE(isNaN(e)?n:e)}}function rM(t,e){var n=e-t;return n?Yne(t,n):bE(isNaN(t)?e:t)}const II=function t(e){var n=Jne(e);function r(i,o){var a=n((i=ow(i)).r,(o=ow(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=rM(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Zne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ere(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Qc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function nre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W0=new RegExp(aw.source,"g");function ire(t){return function(){return t}}function ore(t){return function(e){return t(e)+""}}function are(t,e){var n=aw.lastIndex=W0.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=aw.exec(t))&&(i=W0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:kg(r,i)})),n=W0.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?ore(l[0].x):ire(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function Qc(t,e){var n=typeof e,r;return e==null||n==="boolean"?bE(e):(n==="number"?kg:n==="string"?(r=Xh(e))?(e=r,II):are:e instanceof Xh?II:e instanceof Date?nre:ere(e)?Zne:Array.isArray(e)?tre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rre:kg)(t,e)}function _E(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function sre(t,e){e===void 0&&(e=t,t=Qc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function lre(t){return function(){return t}}function Ng(t){return+t}var OI=[0,1];function sr(t){return t}function sw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lre(isNaN(e)?NaN:.5)}function ure(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cre(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=sw(i,r),o=n(a,o)):(r=sw(r,i),o=n(o,a)),function(s){return o(r(s))}}function fre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=sw(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=qd(t,s,1,r)-1;return o[l](i[l](s))}}function Wd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wv(){var t=OI,e=OI,n=Qc,r,i,o,a=sr,s,l,u;function f(){var p=Math.min(t.length,e.length);return a!==sr&&(a=ure(t[0],t[p-1])),s=p>2?fre:cre,l=u=null,c}function c(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(r),e,n)))(r(a(p)))}return c.invert=function(p){return a(i((u||(u=s(e,t.map(r),kg)))(p)))},c.domain=function(p){return arguments.length?(t=Array.from(p,Ng),f()):t.slice()},c.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},c.rangeRound=function(p){return e=Array.from(p),n=_E,f()},c.clamp=function(p){return arguments.length?(a=p?!0:sr,f()):a!==sr},c.interpolate=function(p){return arguments.length?(n=p,f()):n},c.unknown=function(p){return arguments.length?(o=p,c):o},function(p,g){return r=p,i=g,f()}}function wE(){return wv()(sr,sr)}function hre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cc(t){return t=jg(Math.abs(t)),t?t[1]:NaN}function dre(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function pre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yh(t){if(!(e=mre.exec(t)))throw new Error("invalid format: "+t);var e;return new xE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yh.prototype=xE.prototype;function xE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var iM;function yre(t,e){var n=jg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(iM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jg(t,Math.max(0,e+o-1))[0]}function CI(t,e){var n=jg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CI(t*100,e),r:CI,s:yre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NI(t){return t}var jI=Array.prototype.map,RI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vre(t){var e=t.grouping===void 0||t.thousands===void 0?NI:dre(jI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?NI:pre(jI.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Yh(c);var p=c.fill,g=c.align,_=c.sign,v=c.symbol,x=c.zero,S=c.width,A=c.comma,P=c.precision,R=c.trim,T=c.type;T==="n"?(A=!0,T="g"):kI[T]||(P===void 0&&(P=12),R=!0,T="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var O=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",w=v==="$"?r:/[%p]/.test(T)?a:"",I=kI[T],k=/[defgprs%]/.test(T);P=P===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(D){var V=O,M=w,re,ie,se;if(T==="c")M=I(D)+M,D="";else{D=+D;var ge=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),P),R&&(D=gre(D)),ge&&+D==0&&_!=="+"&&(ge=!1),V=(ge?_==="("?_:s:_==="-"||_==="("?"":_)+V,M=(T==="s"?RI[8+iM/3]:"")+M+(ge&&_==="("?")":""),k){for(re=-1,ie=D.length;++re<ie;)if(se=D.charCodeAt(re),48>se||se>57){M=(se===46?i+D.slice(re+1):D.slice(re))+M,D=D.slice(0,re);break}}}A&&!x&&(D=e(D,1/0));var q=V.length+D.length+M.length,oe=q<S?new Array(S-q+1).join(p):"";switch(A&&x&&(D=e(oe+D,oe.length?S-M.length:1/0),oe=""),g){case"<":D=V+D+M+oe;break;case"=":D=V+oe+D+M;break;case"^":D=oe.slice(0,q=oe.length>>1)+V+D+M+oe.slice(q);break;default:D=oe+V+D+M;break}return o(D)}return $.toString=function(){return c+""},$}function f(c,p){var g=u((c=Yh(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(cc(p)/3)))*3,v=Math.pow(10,-_),x=RI[8+_/3];return function(S){return g(v*S)+x}}return{format:u,formatPrefix:f}}var zp,EE,oM;bre({thousands:",",grouping:[3],currency:["$",""]});function bre(t){return zp=vre(t),EE=zp.format,oM=zp.formatPrefix,zp}function _re(t){return Math.max(0,-cc(Math.abs(t)))}function wre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cc(e)/3)))*3-cc(Math.abs(t)))}function xre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cc(e)-cc(t))+1}function aM(t,e,n,r){var i=rw(t,e,n),o;switch(r=Yh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=wre(i,a))&&(r.precision=o),oM(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=_re(i))&&(r.precision=o-(r.type==="%")*2);break}}return EE(r)}function bs(t){var e=t.domain;return t.ticks=function(n){var r=e();return tw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return aM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,f=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=nw(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Rg(){var t=wE();return t.copy=function(){return Wd(t,Rg())},vi.apply(t,arguments),bs(t)}function sM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ng),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sM(t).unknown(e)},t=arguments.length?Array.from(t,Ng):[0,1],bs(n)}function lM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function DI(t){return Math.log(t)}function MI(t){return Math.exp(t)}function Ere(t){return-Math.log(-t)}function Sre(t){return-Math.exp(-t)}function Are(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Tre(t){return t===10?Are:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Pre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $I(t){return(e,n)=>-t(-e,n)}function SE(t){const e=t(DI,MI),n=e.domain;let r=10,i,o;function a(){return i=Pre(r),o=Tre(r),n()[0]<0?(i=$I(i),o=$I(o),t(Ere,Sre)):t(DI,MI),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let p=i(u),g=i(f),_,v;const x=s==null?10:+s;let S=[];if(!(r%1)&&g-p<x){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(_=1;_<r;++_)if(v=p<0?_/o(-p):_*o(p),!(v<u)){if(v>f)break;S.push(v)}}else for(;p<=g;++p)for(_=r-1;_>=1;--_)if(v=p>0?_/o(-p):_*o(p),!(v<u)){if(v>f)break;S.push(v)}S.length*2<x&&(S=tw(u,f,x))}else S=tw(p,g,Math.min(g-p,x)).map(o);return c?S.reverse():S},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Yh(l)).precision==null&&(l.trim=!0),l=EE(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let c=f/o(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(lM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function uM(){const t=SE(wv()).domain([1,10]);return t.copy=()=>Wd(t,uM()).base(t.base()),vi.apply(t,arguments),t}function LI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AE(t){var e=1,n=t(LI(e),VI(e));return n.constant=function(r){return arguments.length?t(LI(e=+r),VI(e)):e},bs(n)}function cM(){var t=AE(wv());return t.copy=function(){return Wd(t,cM()).constant(t.constant())},vi.apply(t,arguments)}function FI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ire(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ore(t){return t<0?-t*t:t*t}function TE(t){var e=t(sr,sr),n=1;function r(){return n===1?t(sr,sr):n===.5?t(Ire,Ore):t(FI(n),FI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bs(e)}function PE(){var t=TE(wv());return t.copy=function(){return Wd(t,PE()).exponent(t.exponent())},vi.apply(t,arguments),t}function Cre(){return PE.apply(null,arguments).exponent(.5)}function BI(t){return Math.sign(t)*t*t}function kre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fM(){var t=wE(),e=[0,1],n=!1,r;function i(o){var a=kre(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(BI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ng)).map(BI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vi.apply(i,arguments),bs(i)}function hM(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Mne(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[qd(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ts),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return hM().domain(t).range(e).unknown(r)},vi.apply(o,arguments)}function dM(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[qd(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return dM().domain([t,e]).range(i).unknown(o)},vi.apply(bs(a),arguments)}function pM(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[qd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return pM().domain(t).range(e).unknown(n)},vi.apply(i,arguments)}const H0=new Date,G0=new Date;function Sn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Sn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(H0.setTime(+o),G0.setTime(+a),t(H0),t(G0),Math.floor(n(H0,G0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Dg=Sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dg);Dg.range;const Fo=1e3,li=Fo*60,Bo=li*60,ra=Bo*24,IE=ra*7,zI=ra*30,X0=ra*365,rl=Sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fo)},(t,e)=>(e-t)/Fo,t=>t.getUTCSeconds());rl.range;const OE=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fo)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getMinutes());OE.range;const CE=Sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCMinutes());CE.range;const kE=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fo-t.getMinutes()*li)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getHours());kE.range;const NE=Sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCHours());NE.range;const Hd=Sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/ra,t=>t.getDate()-1);Hd.range;const xv=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);xv.range;const mM=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));mM.range;function $l(t){return Sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*li)/IE)}const Ev=$l(0),Mg=$l(1),Nre=$l(2),jre=$l(3),fc=$l(4),Rre=$l(5),Dre=$l(6);Ev.range;Mg.range;Nre.range;jre.range;fc.range;Rre.range;Dre.range;function Ll(t){return Sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/IE)}const Sv=Ll(0),$g=Ll(1),Mre=Ll(2),$re=Ll(3),hc=Ll(4),Lre=Ll(5),Vre=Ll(6);Sv.range;$g.range;Mre.range;$re.range;hc.range;Lre.range;Vre.range;const jE=Sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jE.range;const RE=Sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RE.range;const ia=Sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ia.range;const oa=Sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oa.range;function gM(t,e,n,r,i,o){const a=[[rl,1,Fo],[rl,5,5*Fo],[rl,15,15*Fo],[rl,30,30*Fo],[o,1,li],[o,5,5*li],[o,15,15*li],[o,30,30*li],[i,1,Bo],[i,3,3*Bo],[i,6,6*Bo],[i,12,12*Bo],[r,1,ra],[r,2,2*ra],[n,1,IE],[e,1,zI],[e,3,3*zI],[t,1,X0]];function s(u,f,c){const p=f<u;p&&([u,f]=[f,u]);const g=c&&typeof c.range=="function"?c:l(u,f,c),_=g?g.range(u,+f+1):[];return p?_.reverse():_}function l(u,f,c){const p=Math.abs(f-u)/c,g=gE(([,,x])=>x).right(a,p);if(g===a.length)return t.every(rw(u/X0,f/X0,c));if(g===0)return Dg.every(Math.max(rw(u,f,c),1));const[_,v]=a[p/a[g-1][2]<a[g][2]/p?g-1:g];return _.every(v)}return[s,l]}const[Fre,Bre]=gM(oa,RE,Sv,mM,NE,CE),[zre,Ure]=gM(ia,jE,Ev,Hd,kE,OE);function Y0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function If(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Of(i),f=Cf(i),c=Of(o),p=Cf(o),g=Of(a),_=Cf(a),v=Of(s),x=Cf(s),S=Of(l),A=Cf(l),P={a:ge,A:q,b:oe,B:de,c:null,d:GI,e:GI,f:die,g:Eie,G:Aie,H:cie,I:fie,j:hie,L:yM,m:pie,M:mie,p:Te,q:be,Q:QI,s:JI,S:gie,u:yie,U:vie,V:bie,w:_ie,W:wie,x:null,X:null,y:xie,Y:Sie,Z:Tie,"%":YI},R={a:ke,A:Ye,b:ct,B:ht,c:null,d:XI,e:XI,f:Cie,g:Fie,G:zie,H:Pie,I:Iie,j:Oie,L:bM,m:kie,M:Nie,p:nn,q:rn,Q:QI,s:JI,S:jie,u:Rie,U:Die,V:Mie,w:$ie,W:Lie,x:null,X:null,y:Vie,Y:Bie,Z:Uie,"%":YI},T={a:$,A:D,b:V,B:M,c:re,d:WI,e:WI,f:aie,g:KI,G:qI,H:HI,I:HI,j:nie,L:oie,m:tie,M:rie,p:k,q:eie,Q:lie,s:uie,S:iie,u:Xre,U:Yre,V:Qre,w:Gre,W:Jre,x:ie,X:se,y:KI,Y:qI,Z:Zre,"%":sie};P.x=O(n,P),P.X=O(r,P),P.c=O(e,P),R.x=O(n,R),R.X=O(r,R),R.c=O(e,R);function O(fe,Be){return function(ze){var he=[],dt=-1,Ze=0,bt=fe.length,jt,on,Or;for(ze instanceof Date||(ze=new Date(+ze));++dt<bt;)fe.charCodeAt(dt)===37&&(he.push(fe.slice(Ze,dt)),(on=UI[jt=fe.charAt(++dt)])!=null?jt=fe.charAt(++dt):on=jt==="e"?" ":"0",(Or=Be[jt])&&(jt=Or(ze,on)),he.push(jt),Ze=dt+1);return he.push(fe.slice(Ze,dt)),he.join("")}}function w(fe,Be){return function(ze){var he=If(1900,void 0,1),dt=I(he,fe,ze+="",0),Ze,bt;if(dt!=ze.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Be&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ze=Q0(If(he.y,0,1)),bt=Ze.getUTCDay(),Ze=bt>4||bt===0?$g.ceil(Ze):$g(Ze),Ze=xv.offset(Ze,(he.V-1)*7),he.y=Ze.getUTCFullYear(),he.m=Ze.getUTCMonth(),he.d=Ze.getUTCDate()+(he.w+6)%7):(Ze=Y0(If(he.y,0,1)),bt=Ze.getDay(),Ze=bt>4||bt===0?Mg.ceil(Ze):Mg(Ze),Ze=Hd.offset(Ze,(he.V-1)*7),he.y=Ze.getFullYear(),he.m=Ze.getMonth(),he.d=Ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),bt="Z"in he?Q0(If(he.y,0,1)).getUTCDay():Y0(If(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(bt+5)%7:he.w+he.U*7-(bt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Q0(he)):Y0(he)}}function I(fe,Be,ze,he){for(var dt=0,Ze=Be.length,bt=ze.length,jt,on;dt<Ze;){if(he>=bt)return-1;if(jt=Be.charCodeAt(dt++),jt===37){if(jt=Be.charAt(dt++),on=T[jt in UI?Be.charAt(dt++):jt],!on||(he=on(fe,ze,he))<0)return-1}else if(jt!=ze.charCodeAt(he++))return-1}return he}function k(fe,Be,ze){var he=u.exec(Be.slice(ze));return he?(fe.p=f.get(he[0].toLowerCase()),ze+he[0].length):-1}function $(fe,Be,ze){var he=g.exec(Be.slice(ze));return he?(fe.w=_.get(he[0].toLowerCase()),ze+he[0].length):-1}function D(fe,Be,ze){var he=c.exec(Be.slice(ze));return he?(fe.w=p.get(he[0].toLowerCase()),ze+he[0].length):-1}function V(fe,Be,ze){var he=S.exec(Be.slice(ze));return he?(fe.m=A.get(he[0].toLowerCase()),ze+he[0].length):-1}function M(fe,Be,ze){var he=v.exec(Be.slice(ze));return he?(fe.m=x.get(he[0].toLowerCase()),ze+he[0].length):-1}function re(fe,Be,ze){return I(fe,e,Be,ze)}function ie(fe,Be,ze){return I(fe,n,Be,ze)}function se(fe,Be,ze){return I(fe,r,Be,ze)}function ge(fe){return a[fe.getDay()]}function q(fe){return o[fe.getDay()]}function oe(fe){return l[fe.getMonth()]}function de(fe){return s[fe.getMonth()]}function Te(fe){return i[+(fe.getHours()>=12)]}function be(fe){return 1+~~(fe.getMonth()/3)}function ke(fe){return a[fe.getUTCDay()]}function Ye(fe){return o[fe.getUTCDay()]}function ct(fe){return l[fe.getUTCMonth()]}function ht(fe){return s[fe.getUTCMonth()]}function nn(fe){return i[+(fe.getUTCHours()>=12)]}function rn(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Be=O(fe+="",P);return Be.toString=function(){return fe},Be},parse:function(fe){var Be=w(fe+="",!1);return Be.toString=function(){return fe},Be},utcFormat:function(fe){var Be=O(fe+="",R);return Be.toString=function(){return fe},Be},utcParse:function(fe){var Be=w(fe+="",!0);return Be.toString=function(){return fe},Be}}}var UI={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,Kre=/^%/,Wre=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Hre(t){return t.replace(Wre,"\\$&")}function Of(t){return new RegExp("^(?:"+t.map(Hre).join("|")+")","i")}function Cf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Gre(t,e,n){var r=kn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xre(t,e,n){var r=kn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Yre(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qre(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Jre(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function qI(t,e,n){var r=kn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function KI(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eie(t,e,n){var r=kn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function tie(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function WI(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=kn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HI(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function iie(t,e,n){var r=kn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=kn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=kn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sie(t,e,n){var r=Kre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function lie(t,e,n){var r=kn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=kn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function GI(t,e){return mt(t.getDate(),e,2)}function cie(t,e){return mt(t.getHours(),e,2)}function fie(t,e){return mt(t.getHours()%12||12,e,2)}function hie(t,e){return mt(1+Hd.count(ia(t),t),e,3)}function yM(t,e){return mt(t.getMilliseconds(),e,3)}function die(t,e){return yM(t,e)+"000"}function pie(t,e){return mt(t.getMonth()+1,e,2)}function mie(t,e){return mt(t.getMinutes(),e,2)}function gie(t,e){return mt(t.getSeconds(),e,2)}function yie(t){var e=t.getDay();return e===0?7:e}function vie(t,e){return mt(Ev.count(ia(t)-1,t),e,2)}function vM(t){var e=t.getDay();return e>=4||e===0?fc(t):fc.ceil(t)}function bie(t,e){return t=vM(t),mt(fc.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function _ie(t){return t.getDay()}function wie(t,e){return mt(Mg.count(ia(t)-1,t),e,2)}function xie(t,e){return mt(t.getFullYear()%100,e,2)}function Eie(t,e){return t=vM(t),mt(t.getFullYear()%100,e,2)}function Sie(t,e){return mt(t.getFullYear()%1e4,e,4)}function Aie(t,e){var n=t.getDay();return t=n>=4||n===0?fc(t):fc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Tie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function XI(t,e){return mt(t.getUTCDate(),e,2)}function Pie(t,e){return mt(t.getUTCHours(),e,2)}function Iie(t,e){return mt(t.getUTCHours()%12||12,e,2)}function Oie(t,e){return mt(1+xv.count(oa(t),t),e,3)}function bM(t,e){return mt(t.getUTCMilliseconds(),e,3)}function Cie(t,e){return bM(t,e)+"000"}function kie(t,e){return mt(t.getUTCMonth()+1,e,2)}function Nie(t,e){return mt(t.getUTCMinutes(),e,2)}function jie(t,e){return mt(t.getUTCSeconds(),e,2)}function Rie(t){var e=t.getUTCDay();return e===0?7:e}function Die(t,e){return mt(Sv.count(oa(t)-1,t),e,2)}function _M(t){var e=t.getUTCDay();return e>=4||e===0?hc(t):hc.ceil(t)}function Mie(t,e){return t=_M(t),mt(hc.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function $ie(t){return t.getUTCDay()}function Lie(t,e){return mt($g.count(oa(t)-1,t),e,2)}function Vie(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Fie(t,e){return t=_M(t),mt(t.getUTCFullYear()%100,e,2)}function Bie(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function zie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hc(t):hc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function Uie(){return"+0000"}function YI(){return"%"}function QI(t){return+t}function JI(t){return Math.floor(+t/1e3)}var au,wM,xM;qie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qie(t){return au=qre(t),wM=au.format,au.parse,xM=au.utcFormat,au.utcParse,au}function Kie(t){return new Date(t)}function Wie(t){return t instanceof Date?+t:+new Date(+t)}function DE(t,e,n,r,i,o,a,s,l,u){var f=wE(),c=f.invert,p=f.domain,g=u(".%L"),_=u(":%S"),v=u("%I:%M"),x=u("%I %p"),S=u("%a %d"),A=u("%b %d"),P=u("%B"),R=u("%Y");function T(O){return(l(O)<O?g:s(O)<O?_:a(O)<O?v:o(O)<O?x:r(O)<O?i(O)<O?S:A:n(O)<O?P:R)(O)}return f.invert=function(O){return new Date(c(O))},f.domain=function(O){return arguments.length?p(Array.from(O,Wie)):p().map(Kie)},f.ticks=function(O){var w=p();return t(w[0],w[w.length-1],O??10)},f.tickFormat=function(O,w){return w==null?T:u(w)},f.nice=function(O){var w=p();return(!O||typeof O.range!="function")&&(O=e(w[0],w[w.length-1],O??10)),O?p(lM(w,O)):f},f.copy=function(){return Wd(f,DE(t,e,n,r,i,o,a,s,l,u))},f}function Hie(){return vi.apply(DE(zre,Ure,ia,jE,Ev,Hd,kE,OE,rl,wM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gie(){return vi.apply(DE(Fre,Bre,oa,RE,Sv,xv,NE,CE,rl,xM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Av(){var t=0,e=1,n,r,i,o,a=sr,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:a(i===0?.5:(c=(o(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(a=c,u):a};function f(c){return function(p){var g,_;return arguments.length?([g,_]=p,a=c(g,_),u):[a(0),a(1)]}}return u.range=f(Qc),u.rangeRound=f(_E),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return o=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function _s(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EM(){var t=bs(Av()(sr));return t.copy=function(){return _s(t,EM())},ca.apply(t,arguments)}function SM(){var t=SE(Av()).domain([1,10]);return t.copy=function(){return _s(t,SM()).base(t.base())},ca.apply(t,arguments)}function AM(){var t=AE(Av());return t.copy=function(){return _s(t,AM()).constant(t.constant())},ca.apply(t,arguments)}function ME(){var t=TE(Av());return t.copy=function(){return _s(t,ME()).exponent(t.exponent())},ca.apply(t,arguments)}function Xie(){return ME.apply(null,arguments).exponent(.5)}function TM(){var t=[],e=sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((qd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ts),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Dne(t,o/r))},n.copy=function(){return TM(e).domain(t)},ca.apply(n,arguments)}function Tv(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=sr,f,c=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+f(v))-o)*(r*v<r*o?s:l),u(c?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=f(t=+t),o=f(e=+e),a=f(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(c=!!v,g):c},g.interpolator=function(v){return arguments.length?(u=v,g):u};function _(v){return function(x){var S,A,P;return arguments.length?([S,A,P]=x,u=sre(v,[S,A,P]),g):[u(0),u(.5),u(1)]}}return g.range=_(Qc),g.rangeRound=_(_E),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return f=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function PM(){var t=bs(Tv()(sr));return t.copy=function(){return _s(t,PM())},ca.apply(t,arguments)}function IM(){var t=SE(Tv()).domain([.1,1,10]);return t.copy=function(){return _s(t,IM()).base(t.base())},ca.apply(t,arguments)}function OM(){var t=AE(Tv());return t.copy=function(){return _s(t,OM()).constant(t.constant())},ca.apply(t,arguments)}function $E(){var t=TE(Tv());return t.copy=function(){return _s(t,$E()).exponent(t.exponent())},ca.apply(t,arguments)}function Yie(){return $E.apply(null,arguments).exponent(.5)}const ZI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wh,scaleDiverging:PM,scaleDivergingLog:IM,scaleDivergingPow:$E,scaleDivergingSqrt:Yie,scaleDivergingSymlog:OM,scaleIdentity:sM,scaleImplicit:iw,scaleLinear:Rg,scaleLog:uM,scaleOrdinal:yE,scalePoint:uh,scalePow:PE,scaleQuantile:hM,scaleQuantize:dM,scaleRadial:fM,scaleSequential:EM,scaleSequentialLog:SM,scaleSequentialPow:ME,scaleSequentialQuantile:TM,scaleSequentialSqrt:Xie,scaleSequentialSymlog:AM,scaleSqrt:Cre,scaleSymlog:cM,scaleThreshold:pM,scaleTime:Hie,scaleUtc:Gie,tickFormat:aM},Symbol.toStringTag,{value:"Module"}));var Qie=Bc;function Jie(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Qie(a):n(a,s)))var s=a,l=o}return l}var CM=Jie;function Zie(t,e){return t>e}var eoe=Zie,toe=CM,noe=eoe,roe=Yc;function ioe(t){return t&&t.length?toe(t,roe,noe):void 0}var ooe=ioe;const Va=St(ooe);function aoe(t,e){return t<e}var soe=aoe,loe=CM,uoe=soe,coe=Yc;function foe(t){return t&&t.length?loe(t,coe,uoe):void 0}var hoe=foe;const Pv=St(hoe);var doe=Q1,poe=vs,moe=VD,goe=Ir;function yoe(t,e){var n=goe(t)?doe:moe;return n(t,poe(e))}var voe=yoe,boe=$D,_oe=voe;function woe(t,e){return boe(_oe(t,e),1)}var xoe=woe;const Eoe=St(xoe);var Soe=hE;function Aoe(t,e){return Soe(t,e)}var Toe=Aoe;const dc=St(Toe);var Jc=1e9,Poe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VE,zt=!0,gi="[DecimalError] ",hl=gi+"Invalid argument: ",LE=gi+"Exponent out of range: ",Zc=Math.floor,Ys=Math.pow,Ioe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,In=1e7,$t=7,kM=9007199254740991,Lg=Zc(kM/$t),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*$t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Go(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Pt(Go(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return pn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vr))throw Error(gi+"NaN");if(n.s<1)throw Error(gi+(n.s?"NaN":"-Infinity"));return n.eq(Vr)?new r(0):(zt=!1,e=Go(Qh(n,o),Qh(t,o),o),zt=!0,Pt(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RM(e,t):NM(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gi+"NaN");return n.s?(zt=!1,e=Go(n,t,0,1).times(t),zt=!0,n.minus(e)):Pt(new r(n),i)};Me.naturalExponential=Me.exp=function(){return jM(this)};Me.naturalLogarithm=Me.ln=function(){return Qh(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NM(e,t):RM(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hl+t);if(e=pn(i)+1,r=i.d.length-1,n=r*$t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(gi+"NaN")}for(t=pn(s),zt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=uo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Go(s,o,a+2)).times(.5),uo(o.d).slice(0,a)===(e=uo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Pt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return zt=!0,Pt(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,o,a,s,l,u,f=this,c=f.constructor,p=f.d,g=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,u=g.length,l<u&&(o=p,p=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*p[i-r-1]+e,o[i--]=s%In|0,e=s/In|0;o[i]=(o[i]+e)%In|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,zt?Pt(t,c.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Eo(t,0,Jc),e===void 0?e=r.rounding:Eo(e,0,8),Pt(n,t+pn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Pl(r,!0):(Eo(t,0,Jc),e===void 0?e=i.rounding:Eo(e,0,8),r=Pt(new i(r),t+1,e),n=Pl(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Pl(i):(Eo(t,0,Jc),e===void 0?e=o.rounding:Eo(e,0,8),r=Pt(new o(i),t+pn(i)+1,e),n=Pl(r.abs(),!1,t+pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),pn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Vr);if(s=new l(s),!s.s){if(t.s<1)throw Error(gi+"Infinity");return s}if(s.eq(Vr))return s;if(r=l.precision,t.eq(Vr))return Pt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=f<0?-f:f)<=kM){for(i=new l(Vr),e=Math.ceil(r/$t+4),zt=!1;n%2&&(i=i.times(s),tO(i.d,e)),n=Zc(n/2),n!==0;)s=s.times(s),tO(s.d,e);return zt=!0,t.s<0?new l(Vr).div(i):Pt(i,r)}}else if(o<0)throw Error(gi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,zt=!1,i=t.times(Qh(s,r+u)),zt=!0,i=jM(i),i.s=o,i};Me.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=pn(i),r=Pl(i,n<=o.toExpNeg||n>=o.toExpPos)):(Eo(t,1,Jc),e===void 0?e=o.rounding:Eo(e,0,8),i=Pt(new o(i),t,e),n=pn(i),r=Pl(i,t<=n||n<=o.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Eo(t,1,Jc),e===void 0?e=r.rounding:Eo(e,0,8)),Pt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pn(t),n=t.constructor;return Pl(t,e<=n.toExpNeg||e>=n.toExpPos)};function NM(t,e){var n,r,i,o,a,s,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),zt?Pt(e,c):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(c/$t),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/In|0,l[o]%=In;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,zt?Pt(e,c):e}function Eo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hl+t)}function uo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=$t-r.length,n&&(o+=Ia(n)),o+=r;a=t[e],r=a+"",n=$t-r.length,n&&(o+=Ia(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Go=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%In|0,a=o/In|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*In+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,f,c,p,g,_,v,x,S,A,P,R,T,O,w,I,k=r.constructor,$=r.s==i.s?1:-1,D=r.d,V=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(gi+"Division by zero");for(l=r.e-i.e,w=V.length,T=D.length,g=new k($),_=g.d=[],u=0;V[u]==(D[u]||0);)++u;if(V[u]>(D[u]||0)&&--l,o==null?A=o=k.precision:a?A=o+(pn(r)-pn(i))+1:A=o,A<0)return new k(0);if(A=A/$t+2|0,u=0,w==1)for(f=0,V=V[0],A++;(u<T||f)&&A--;u++)P=f*In+(D[u]||0),_[u]=P/V|0,f=P%V|0;else{for(f=In/(V[0]+1)|0,f>1&&(V=t(V,f),D=t(D,f),w=V.length,T=D.length),R=w,v=D.slice(0,w),x=v.length;x<w;)v[x++]=0;I=V.slice(),I.unshift(0),O=V[0],V[1]>=In/2&&++O;do f=0,s=e(V,v,w,x),s<0?(S=v[0],w!=x&&(S=S*In+(v[1]||0)),f=S/O|0,f>1?(f>=In&&(f=In-1),c=t(V,f),p=c.length,x=v.length,s=e(c,v,p,x),s==1&&(f--,n(c,w<p?I:V,p))):(f==0&&(s=f=1),c=V.slice()),p=c.length,p<x&&c.unshift(0),n(v,c,x),s==-1&&(x=v.length,s=e(V,v,w,x),s<1&&(f++,n(v,w<x?I:V,x))),x=v.length):s===0&&(f++,v=[0]),_[u++]=f,s&&v[0]?v[x++]=D[R]||0:(v=[D[R]],x=1);while((R++<T||v[0]!==void 0)&&A--)}return _[0]||_.shift(),g.e=l,Pt(g,a?o+pn(g)+1:o)}}();function jM(t,e){var n,r,i,o,a,s,l=0,u=0,f=t.constructor,c=f.precision;if(pn(t)>16)throw Error(LE+pn(t));if(!t.s)return new f(Vr);for(zt=!1,s=c,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ys(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new f(Vr),f.precision=s;;){if(i=Pt(i.times(t),s),n=n.times(++l),a=o.plus(Go(i,n,s)),uo(a.d).slice(0,s)===uo(o.d).slice(0,s)){for(;u--;)o=Pt(o.times(o),s);return f.precision=c,e==null?(zt=!0,Pt(o,c)):o}o=a}}function pn(t){for(var e=t.e*$t,n=t.d[0];n>=10;n/=10)e++;return e}function J0(t,e,n){if(e>t.LN10.sd())throw zt=!0,n&&(t.precision=n),Error(gi+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function Ia(t){for(var e="";t--;)e+="0";return e}function Qh(t,e){var n,r,i,o,a,s,l,u,f,c=1,p=10,g=t,_=g.d,v=g.constructor,x=v.precision;if(g.s<1)throw Error(gi+(g.s?"NaN":"-Infinity"));if(g.eq(Vr))return new v(0);if(e==null?(zt=!1,u=x):u=e,g.eq(10))return e==null&&(zt=!0),J0(v,u);if(u+=p,v.precision=u,n=uo(_),r=n.charAt(0),o=pn(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=uo(g.d),r=n.charAt(0),c++;o=pn(g),r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1))}else return l=J0(v,u+2,x).times(o+""),g=Qh(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=x,e==null?(zt=!0,Pt(g,x)):g;for(s=a=g=Go(g.minus(Vr),g.plus(Vr),u),f=Pt(g.times(g),u),i=3;;){if(a=Pt(a.times(f),u),l=s.plus(Go(a,new v(i),u)),uo(l.d).slice(0,u)===uo(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(J0(v,u+2,x).times(o+""))),s=Go(s,new v(c),u),v.precision=x,e==null?(zt=!0,Pt(s,x)):s;s=l,i+=2}}function eO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zc(n/$t),t.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=$t;r<i;)t.d.push(+e.slice(r,r+=$t));e=e.slice(r),r=$t-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),zt&&(t.e>Lg||t.e<-Lg))throw Error(LE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,n){var r,i,o,a,s,l,u,f,c=t.d;for(a=1,o=c[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=$t,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/$t),o=c.length,f>=o)return t;for(u=o=c[f],a=1;o>=10;o/=10)a++;r%=$t,i=r-$t+a}if(n!==void 0&&(o=Ys(10,a-i-1),s=u/o%10|0,l=e<0||c[f+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ys(10,a-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(o=pn(t),c.length=1,e=e-o-1,c[0]=Ys(10,($t-e%$t)%$t),t.e=Zc(-e/$t)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,o=1,f--):(c.length=f+1,o=Ys(10,$t-r),c[f]=i>0?(u/Ys(10,a-i)%Ys(10,i)|0)*o:0),l)for(;;)if(f==0){(c[0]+=o)==In&&(c[0]=1,++t.e);break}else{if(c[f]+=o,c[f]!=In)break;c[f--]=0,o=1}for(r=c.length;c[--r]===0;)c.pop();if(zt&&(t.e>Lg||t.e<-Lg))throw Error(LE+pn(t));return t}function RM(t,e){var n,r,i,o,a,s,l,u,f,c,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),zt?Pt(e,g):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(f=a<0,f?(n=l,a=-a,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(g/$t),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}a=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>a;){if(l[--i]<c[i]){for(o=i;o&&l[--o]===0;)l[o]=In-1;--l[o],l[i]+=In}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,zt?Pt(e,g):e):new p(0)}function Pl(t,e,n){var r,i=pn(t),o=uo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ia(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ia(-i-1)+o,n&&(r=n-a)>0&&(o+=Ia(r))):i>=a?(o+=Ia(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ia(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ia(r))),t.s<0?"-"+o:o}function tO(t,e){if(t.length>e)return t.length=e,!0}function DM(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(hl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return eO(a,o.toString())}else if(typeof o!="string")throw Error(hl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Ioe.test(o))eO(a,o);else throw Error(hl+o)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=DM,i.config=i.set=Ooe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ooe(t){if(!t||typeof t!="object")throw Error(gi+"Object expected");var e,n,r,i=["precision",1,Jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hl+n+": "+r);return this}var VE=DM(Poe);Vr=new VE(1);const Et=VE;function Coe(t){return Roe(t)||joe(t)||Noe(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function joe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Roe(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Doe=function(e){return e},MM={},$M=function(e){return e===MM},nO=function(e){return function n(){return arguments.length===0||arguments.length===1&&$M(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Moe=function t(e,n){return e===1?n:nO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==MM}).length;return a>=e?n.apply(void 0,i):t(e-a,nO(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return $M(c)?l.shift():c});return n.apply(void 0,Coe(f).concat(l))}))})},Iv=function(e){return Moe(e.length,e)},uw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},$oe=Iv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Loe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Doe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},LM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Voe(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function Foe(t,e,n){for(var r=new Et(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Boe=Iv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),zoe=Iv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Uoe=Iv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ov={rangeStep:Foe,getDigitCount:Voe,interpolateNumber:Boe,uninterpolateNumber:zoe,uninterpolateTruncation:Uoe};function fw(t){return Woe(t)||Koe(t)||VM(t)||qoe()}function qoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Woe(t){if(Array.isArray(t))return hw(t)}function Jh(t,e){return Xoe(t)||Goe(t,e)||VM(t,e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VM(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Goe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Xoe(t){if(Array.isArray(t))return t}function FM(t){var e=Jh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function BM(t,e,n){if(t.lte(0))return new Et(0);var r=Ov.getDigitCount(t.toNumber()),i=new Et(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Et(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Et(Math.ceil(l))}function Yoe(t,e,n){var r=1,i=new Et(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Et(10).pow(Ov.getDigitCount(t)-1),i=new Et(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):n||(i=new Et(Math.floor(t)));var a=Math.floor((e-1)/2),s=Loe($oe(function(l){return i.add(new Et(l-a).mul(r)).toNumber()}),uw);return s(0,e)}function zM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var o=BM(new Et(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Et(0):(a=new Et(t).add(e).div(2),a=a.sub(new Et(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Et(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?zM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Et(s).mul(o)),tickMax:a.add(new Et(l).mul(o))})}function Qoe(t){var e=Jh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=FM([n,r]),l=Jh(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(fw(uw(0,i-1).map(function(){return 1/0}))):[].concat(fw(uw(0,i-1).map(function(){return-1/0})),[f]);return n>r?cw(c):c}if(u===f)return Yoe(u,i,o);var p=zM(u,f,a,o),g=p.step,_=p.tickMin,v=p.tickMax,x=Ov.rangeStep(_,v.add(new Et(.1).mul(g)),g);return n>r?cw(x):x}function Joe(t,e){var n=Jh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=FM([r,i]),s=Jh(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=BM(new Et(u).sub(l).div(f-1),o,0),p=[].concat(fw(Ov.rangeStep(new Et(l),new Et(u).sub(new Et(.99).mul(c)),c)),[u]);return r>i?cw(p):p}var Zoe=LM(Qoe),eae=LM(Joe),tae="Invariant failed";function Il(t,e){throw new Error(tae)}var nae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function rae(t,e){return sae(t)||aae(t,e)||oae(t,e)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return rO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(t,e)}}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sae(t){if(Array.isArray(t))return t}function lae(t,e){if(t==null)return{};var n=uae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KM(r.key),r)}}function hae(t,e,n){return e&&fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dae(t,e,n){return e=Fg(e),pae(t,UM()?Reflect.construct(e,n||[],Fg(t).constructor):e.apply(t,n))}function pae(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mae(t)}function mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}function gae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function qM(t,e,n){return e=KM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KM(t){var e=yae(t,"string");return pc(e)=="symbol"?e:e+""}function yae(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gd=function(t){function e(){return cae(this,e),dae(this,e,arguments)}return gae(e,t),hae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,p=lae(r,nae),g=Qe(p,!1);this.props.direction==="x"&&f.type!=="number"&&Il();var _=l.map(function(v){var x=u(v,s),S=x.x,A=x.y,P=x.value,R=x.errorVal;if(!R)return null;var T=[],O,w;if(Array.isArray(R)){var I=rae(R,2);O=I[0],w=I[1]}else O=w=R;if(o==="vertical"){var k=f.scale,$=A+i,D=$+a,V=$-a,M=k(P-O),re=k(P+w);T.push({x1:re,y1:D,x2:re,y2:V}),T.push({x1:M,y1:$,x2:re,y2:$}),T.push({x1:M,y1:D,x2:M,y2:V})}else if(o==="horizontal"){var ie=c.scale,se=S+i,ge=se-a,q=se+a,oe=ie(P-O),de=ie(P+w);T.push({x1:ge,y1:de,x2:q,y2:de}),T.push({x1:se,y1:oe,x2:se,y2:de}),T.push({x1:ge,y1:oe,x2:q,y2:oe})}return K.createElement(Nt,Vg({className:"recharts-errorBar",key:"bar-".concat(T.map(function(Te){return"".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))},g),T.map(function(Te){return K.createElement("line",Vg({},Te,{key:"line-".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))}))});return K.createElement(Nt,{className:"recharts-errorBars"},_)}}])}(K.Component);qM(Gd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qM(Gd,"displayName","ErrorBar");function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return e=bae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=_ae(t,"string");return Zh(e)=="symbol"?e:e+""}function _ae(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Lr(n,cl);if(!a)return null;var s=cl.defaultProps,l=s!==void 0?qs(qs({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(f,c){var p=c.item,g=c.props,_=g.sectors||g.data||[];return f.concat(_.map(function(v){return{type:a.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var c=f.item,p=c.type.defaultProps,g=p!==void 0?qs(qs({},p),c.props):{},_=g.dataKey,v=g.name,x=g.legendType,S=g.hide;return{inactive:S,dataKey:_,type:l.iconType||x||"square",color:FE(c),value:v||_,payload:g}}),qs(qs(qs({},l),cl.getWithHeight(a,i)),{},{payload:u,item:a})};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function oO(t){return Sae(t)||Eae(t)||xae(t)||wae()}function wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(t,e){if(t){if(typeof t=="string")return pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pw(t,e)}}function Eae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sae(t){if(Array.isArray(t))return pw(t)}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Uu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uu(t,e,n){return e=Aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Tae(t,"string");return ed(e)=="symbol"?e:e+""}function Tae(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ur(t,e,n){return Je(t)||Je(e)?n:xn(e)?fi(t,e,n):Xe(e)?e(t):n}function ch(t,e,n,r){var i=Eoe(t,function(s){return ur(s,e)});if(n==="number"){var o=i.filter(function(s){return Ee(s)||parseFloat(s)});return o.length?[Pv(o),Va(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Je(s)}):i;return a.map(function(s){return xn(s)||s instanceof Date?s:""})}var Pae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Vi(c-f)!==Vi(p-c)){var _=[];if(Vi(p-c)===Vi(l[1]-l[0])){g=p;var v=c+l[1]-l[0];_[0]=Math.min(v,(v+f)/2),_[1]=Math.max(v,(v+f)/2)}else{g=f;var x=p+l[1]-l[0];_[0]=Math.min(c,(x+c)/2),_[1]=Math.max(c,(x+c)/2)}var S=[Math.min(c,(g+c)/2),Math.max(c,(g+c)/2)];if(e>S[0]&&e<=S[1]||e>=_[0]&&e<=_[1]){a=i[u].index;break}}else{var A=Math.min(f,p),P=Math.max(f,p);if(e>(A+c)/2&&e<=(P+c)/2){a=i[u].index;break}}}else for(var R=0;R<s;R++)if(R===0&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R>0&&R<s-1&&e>(r[R].coordinate+r[R-1].coordinate)/2&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R===s-1&&e>(r[R].coordinate+r[R-1].coordinate)/2){a=r[R].index;break}return a},FE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Iae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var f=o[s[l]].stackGroups,c=Object.keys(f),p=0,g=c.length;p<g;p++){var _=f[c[p]],v=_.items,x=_.cateAxisId,S=v.filter(function(w){return Wo(w.type).indexOf("Bar")>=0});if(S&&S.length){var A=S[0].type.defaultProps,P=A!==void 0?Qt(Qt({},A),S[0].props):S[0].props,R=P.barSize,T=P[x];a[T]||(a[T]=[]);var O=Je(R)?n:R;a[T].push({item:S[0],stackList:S.slice(1),barSize:Je(O)?void 0:Tl(O,r,0)})}}return a},Oae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Tl(n,i,0,!0),f,c=[];if(a[0].barSize===+a[0].barSize){var p=!1,g=i/l,_=a.reduce(function(R,T){return R+T.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&g>0&&(p=!0,g*=.9,_=l*g);var v=(i-_)/2>>0,x={offset:v-u,size:0};f=a.reduce(function(R,T){var O={item:T.item,position:{offset:x.offset+x.size+u,size:p?g:T.barSize}},w=[].concat(oO(R),[O]);return x=w[w.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(I){w.push({item:I,position:x})}),w},c)}else{var S=Tl(r,i,0,!0);i-2*S-(l-1)*u<=0&&(u=0);var A=(i-2*S-(l-1)*u)/l;A>1&&(A>>=0);var P=s===+s?Math.min(A,s):A;f=a.reduce(function(R,T,O){var w=[].concat(oO(R),[{item:T.item,position:{offset:S+(A+u)*O+(A-P)/2,size:P}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(I){w.push({item:I,position:w[w.length-1].position})}),w},c)}return f},Cae=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=WM({children:o,legendWidth:l});if(u){var f=i||{},c=f.width,p=f.height,g=u.align,_=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&_==="middle")&&g!=="center"&&Ee(e[g]))return Qt(Qt({},e),{},Uu({},g,e[g]+(c||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&_!=="middle"&&Ee(e[_]))return Qt(Qt({},e),{},Uu({},_,e[_]+(p||0)))}return e},kae=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},HM=function(e,n,r,i,o){var a=n.props.children,s=hi(a,Gd).filter(function(u){return kae(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=ur(f,r);if(Je(c))return u;var p=Array.isArray(c)?[Pv(c),Va(c)]:[c,c],g=l.reduce(function(_,v){var x=ur(f,v,0),S=p[0]-Math.abs(Array.isArray(x)?x[0]:x),A=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,_[0]),Math.max(A,_[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Nae=function(e,n,r,i,o){var a=n.map(function(s){return HM(e,s,r,o,i)}).filter(function(s){return!Je(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},GM=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&HM(e,l,u,i)||ch(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},XM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},YM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},zo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Vi(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(c){var p=o?o.indexOf(c):c;return{coordinate:i(p)+u,value:c,offset:u}});return f.filter(function(c){return!Wc(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,p){return{coordinate:i(c)+u,value:c,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,p){return{coordinate:i(c)+u,value:o?o[c]:c,index:p,offset:u}})},Z0=new WeakMap,Up=function(e,n){if(typeof n!="function")return e;Z0.has(e)||Z0.set(e,new WeakMap);var r=Z0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jae=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Wh(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Rg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:uh(),realScaleType:"point"}:o==="category"?{scale:Wh(),realScaleType:"band"}:{scale:Rg(),realScaleType:"linear"};if(Al(i)){var l="scale".concat(pv(i));return{scale:(ZI[l]||uh)(),realScaleType:ZI[l]?l:"point"}}return Xe(i)?{scale:i}:{scale:uh(),realScaleType:"point"}},sO=1e-4,Rae=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-sO,a=Math.max(i[0],i[1])+sO,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Dae=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Mae=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(o[0]=r),(!Ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},$ae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Wc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Lae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Wc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Vae={sign:$ae,expand:eH,none:oc,silhouette:tH,wiggle:nH,positive:Lae},Fae=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Vae[r],a=ZW().keys(i).value(function(s,l){return+ur(s,l,0)}).order(V_).offset(o);return a(e)},Bae=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(c,p){var g,_=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Qt(Qt({},p.type.defaultProps),p.props):p.props,v=_.stackId,x=_.hide;if(x)return c;var S=_[r],A=c[S]||{hasStack:!1,stackGroups:{}};if(xn(v)){var P=A.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};P.items.push(p),A.hasStack=!0,A.stackGroups[v]=P}else A.stackGroups[Hc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Qt(Qt({},c),{},Uu({},S,A))},l),f={};return Object.keys(u).reduce(function(c,p){var g=u[p];if(g.hasStack){var _={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,x){var S=g.stackGroups[x];return Qt(Qt({},v),{},Uu({},x,{numericAxisId:r,cateAxisId:i,items:S.items,stackedData:Fae(e,S.items,o)}))},_)}return Qt(Qt({},c),{},Uu({},p,g))},f)},zae=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Zoe(u,o,s);return e.domain([Pv(f),Va(f)]),{niceTicks:f}}if(o&&i==="number"){var c=e.domain(),p=eae(c,o,s);return{niceTicks:p}}return null};function Bg(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var s=fg(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=ur(i,Je(a)?e.dataKey:a);return Je(l)?null:e.scale(l)}var lO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ur(a,n.dataKey,n.domain[s]);return Je(l)?null:n.scale(l)-o/2+i},Uae=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},qae=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(xn(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Kae=function(e){return e.reduce(function(n,r){return[Pv(r.concat([n[0]]).filter(Ee)),Va(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},QM=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,f){var c=Kae(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mw=function(e,n,r){if(Xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(uO.test(e[0])){var o=+uO.exec(e[0])[1];i[0]=n[0]-o}else Xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(cO.test(e[1])){var a=+cO.exec(e[1])[1];i[1]=n[1]+a}else Xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},zg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=pE(n,function(c){return c.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],f=o[s-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},fO=function(e,n,r){return!e||!e.length||dc(e,fi(r,"type.defaultProps.domain"))?n:e},JM=function(e,n){var r=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return Qt(Qt({},Qe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:FE(e),value:ur(n,i),type:l,payload:n,chartType:u,hide:f})};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Gae(t,"string");return td(e)=="symbol"?e:e+""}function Gae(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=Math.PI/180,Xae=function(e){return e*180/Math.PI},$n=function(e,n,r,i){return{x:e+Math.cos(-Ug*i)*r,y:n+Math.sin(-Ug*i)*r}},Yae=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Qae=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Yae({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Xae(u),angleInRadian:u}},Jae=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Zae=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},pO=function(e,n){var r=e.x,i=e.y,o=Qae({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var f=Jae(n),c=f.startAngle,p=f.endAngle,g=s,_;if(c<=p){for(;g>p;)g-=360;for(;g<c;)g+=360;_=g>=c&&g<=p}else{for(;g>c;)g-=360;for(;g<p;)g+=360;_=g>=p&&g<=c}return _?dO(dO({},n),{},{radius:a,angle:Zae(g,n)}):null};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}var ese=["offset"];function tse(t){return ose(t)||ise(t)||rse(t)||nse()}function nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function ise(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ose(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ase(t,e){if(t==null)return{};var n=sse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lse(t,e,n){return e=use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return nd(e)=="symbol"?e:e+""}function cse(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}var fse=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Xe(r)?r(i):i},hse=function(e,n){var r=Vi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},dse=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,f=l.cy,c=l.innerRadius,p=l.outerRadius,g=l.startAngle,_=l.endAngle,v=l.clockWise,x=(c+p)/2,S=hse(g,_),A=S>=0?1:-1,P,R;i==="insideStart"?(P=g+A*a,R=v):i==="insideEnd"?(P=_-A*a,R=!v):i==="end"&&(P=_+A*a,R=v),R=S<=0?R:!R;var T=$n(u,f,x,P),O=$n(u,f,x,P+(R?1:-1)*359),w="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(R?0:1,`,
    `).concat(O.x,",").concat(O.y),I=Je(e.id)?Hc("recharts-radial-line-"):e.id;return K.createElement("text",rd({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",s)}),K.createElement("defs",null,K.createElement("path",{id:I,d:w})),K.createElement("textPath",{xlinkHref:"#".concat(I)},n))},pse=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,f=o.startAngle,c=o.endAngle,p=(f+c)/2;if(i==="outside"){var g=$n(a,s,u+r,p),_=g.x,v=g.y;return{x:_,y:v,textAnchor:_>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,S=$n(a,s,x,p),A=S.x,P=S.y;return{x:A,y:P,textAnchor:"middle",verticalAnchor:"middle"}},mse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,f=a.height,c=f>=0?1:-1,p=c*i,g=c>0?"end":"start",_=c>0?"start":"end",v=u>=0?1:-1,x=v*i,S=v>0?"end":"start",A=v>0?"start":"end";if(o==="top"){var P={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:g};return vn(vn({},P),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var R={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:_};return vn(vn({},R),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(o==="left"){var T={x:s-x,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return vn(vn({},T),r?{width:Math.max(T.x-r.x,0),height:f}:{})}if(o==="right"){var O={x:s+u+x,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return vn(vn({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:f}:{})}var w=r?{width:u,height:f}:{};return o==="insideLeft"?vn({x:s+x,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},w):o==="insideRight"?vn({x:s+u-x,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},w):o==="insideTop"?vn({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:_},w):o==="insideBottom"?vn({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:g},w):o==="insideTopLeft"?vn({x:s+x,y:l+p,textAnchor:A,verticalAnchor:_},w):o==="insideTopRight"?vn({x:s+u-x,y:l+p,textAnchor:S,verticalAnchor:_},w):o==="insideBottomLeft"?vn({x:s+x,y:l+f-p,textAnchor:A,verticalAnchor:g},w):o==="insideBottomRight"?vn({x:s+u-x,y:l+f-p,textAnchor:S,verticalAnchor:g},w):zc(o)&&(Ee(o.x)||tl(o.x))&&(Ee(o.y)||tl(o.y))?vn({x:s+Tl(o.x,u),y:l+Tl(o.y,f),textAnchor:"end",verticalAnchor:"end"},w):vn({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},w)},gse=function(e){return"cx"in e&&Ee(e.cx)};function Qn(t){var e=t.offset,n=e===void 0?5:e,r=ase(t,ese),i=vn({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,p=i.textBreakAll;if(!o||Je(s)&&Je(l)&&!G.isValidElement(u)&&!Xe(u))return null;if(G.isValidElement(u))return G.cloneElement(u,i);var g;if(Xe(u)){if(g=G.createElement(u,i),G.isValidElement(g))return g}else g=fse(i);var _=gse(o),v=Qe(i,!0);if(_&&(a==="insideStart"||a==="insideEnd"||a==="end"))return dse(i,g,v);var x=_?pse(i):mse(i);return K.createElement(Pg,rd({className:st("recharts-label",c)},v,x,{breakAll:p}),g)}Qn.displayName="Label";var ZM=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,p=e.y,g=e.top,_=e.left,v=e.width,x=e.height,S=e.clockWise,A=e.labelViewBox;if(A)return A;if(Ee(v)&&Ee(x)){if(Ee(c)&&Ee(p))return{x:c,y:p,width:v,height:x};if(Ee(g)&&Ee(_))return{x:g,y:_,width:v,height:x}}return Ee(c)&&Ee(p)?{x:c,y:p,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:S}:e.viewBox?e.viewBox:{}},yse=function(e,n){return e?e===!0?K.createElement(Qn,{key:"label-implicit",viewBox:n}):xn(e)?K.createElement(Qn,{key:"label-implicit",viewBox:n,value:e}):G.isValidElement(e)?e.type===Qn?G.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(Qn,{key:"label-implicit",content:e,viewBox:n}):Xe(e)?K.createElement(Qn,{key:"label-implicit",content:e,viewBox:n}):zc(e)?K.createElement(Qn,rd({viewBox:n},e,{key:"label-implicit"})):null:null},vse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=ZM(e),a=hi(i,Qn).map(function(l,u){return G.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=yse(e.label,n||o);return[s].concat(tse(a))};Qn.parseViewBox=ZM;Qn.renderCallByParent=vse;function bse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var _se=bse;const wse=St(_se);function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var xse=["valueAccessor"],Ese=["data","dataKey","clockWise","id","textBreakAll"];function Sse(t){return Ise(t)||Pse(t)||Tse(t)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tse(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function Pse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ise(t){if(Array.isArray(t))return yw(t)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ose(t,e,n){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=kse(t,"string");return id(e)=="symbol"?e:e+""}function kse(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vO(t,e){if(t==null)return{};var n=Nse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jse=function(e){return Array.isArray(e.value)?wse(e.value):e.value};function di(t){var e=t.valueAccessor,n=e===void 0?jse:e,r=vO(t,xse),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=vO(r,Ese);return!i||!i.length?null:K.createElement(Nt,{className:"recharts-label-list"},i.map(function(f,c){var p=Je(o)?n(f,c):ur(f&&f.payload,o),g=Je(s)?{}:{id:"".concat(s,"-").concat(c)};return K.createElement(Qn,qg({},Qe(f,!0),u,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:Qn.parseViewBox(Je(a)?f:yO(yO({},f),{},{clockWise:a})),key:"label-".concat(c),index:c}))}))}di.displayName="LabelList";function Rse(t,e){return t?t===!0?K.createElement(di,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Xe(t)?K.createElement(di,{key:"labelList-implicit",data:e,content:t}):zc(t)?K.createElement(di,qg({data:e},t,{key:"labelList-implicit"})):null:null}function Dse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hi(r,di).map(function(a,s){return G.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Rse(t.label,e);return[o].concat(Sse(i))}di.renderCallByParent=Dse;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mse(t,e,n){return e=$se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Lse(t,"string");return od(e)=="symbol"?e:e+""}function Lse(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vse=function(e,n){var r=Vi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},qp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/Ug,p=u?o:o+a*c,g=$n(n,r,f,p),_=$n(n,r,i,p),v=u?o-a*c:o,x=$n(n,r,f*Math.cos(c*Ug),v);return{center:g,circleTangency:_,lineTangency:x,theta:c}},e$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Vse(a,s),u=a+l,f=$n(n,r,o,a),c=$n(n,r,o,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var g=$n(n,r,i,a),_=$n(n,r,i,u);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Fse=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=Vi(f-u),p=qp({cx:n,cy:r,radius:o,angle:u,sign:c,cornerRadius:a,cornerIsExternal:l}),g=p.circleTangency,_=p.lineTangency,v=p.theta,x=qp({cx:n,cy:r,radius:o,angle:f,sign:-c,cornerRadius:a,cornerIsExternal:l}),S=x.circleTangency,A=x.lineTangency,P=x.theta,R=l?Math.abs(u-f):Math.abs(u-f)-v-P;if(R<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):e$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f});var T="M ".concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(c<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var O=qp({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),w=O.circleTangency,I=O.lineTangency,k=O.theta,$=qp({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=$.circleTangency,V=$.lineTangency,M=$.theta,re=l?Math.abs(u-f):Math.abs(u-f)-k-M;if(re<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(re>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Bse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},t$=function(e){var n=_O(_O({},Bse),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,p=n.className;if(a<o||f===c)return null;var g=st("recharts-sector",p),_=a-o,v=Tl(s,_,0,!0),x;return v>0&&Math.abs(f-c)<360?x=Fse({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):x=e$({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:f,endAngle:c}),K.createElement("path",vw({},Qe(n,!0),{className:g,d:x,role:"img"}))};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e,n){return e=Use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=qse(t,"string");return ad(e)=="symbol"?e:e+""}function qse(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EO={curveBasisClosed:zW,curveBasisOpen:UW,curveBasis:BW,curveBumpX:PW,curveBumpY:IW,curveLinearClosed:qW,curveLinear:gv,curveMonotoneX:KW,curveMonotoneY:WW,curveNatural:HW,curveStep:GW,curveStepAfter:YW,curveStepBefore:XW},Kp=function(e){return e.x===+e.x&&e.y===+e.y},kf=function(e){return e.x},Nf=function(e){return e.y},Kse=function(e,n){if(Xe(e))return e;var r="curve".concat(pv(e));return(r==="curveMonotone"||r==="curveBump")&&n?EO["".concat(r).concat(n==="vertical"?"Y":"X")]:EO[r]||gv},Wse=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=Kse(r,s),c=u?o.filter(function(v){return Kp(v)}):o,p;if(Array.isArray(a)){var g=u?a.filter(function(v){return Kp(v)}):a,_=c.map(function(v,x){return xO(xO({},v),{},{base:g[x]})});return s==="vertical"?p=Dp().y(Nf).x1(kf).x0(function(v){return v.base.x}):p=Dp().x(kf).y1(Nf).y0(function(v){return v.base.y}),p.defined(Kp).curve(f),p(_)}return s==="vertical"&&Ee(a)?p=Dp().y(Nf).x1(kf).x0(a):Ee(a)?p=Dp().x(kf).y1(Nf).y0(a):p=nD().x(kf).y(Nf),p.defined(Kp).curve(f),p(c)},qu=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Wse(e):i;return G.createElement("path",bw({},Qe(e,!1),hg(e),{className:st("recharts-curve",n),d:a,ref:o}))},n$={exports:{}},Hse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gse=Hse,Xse=Gse;function r$(){}function i$(){}i$.resetWarningCache=r$;var Yse=function(){function t(r,i,o,a,s,l){if(l!==Xse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i$,resetWarningCache:r$};return n.PropTypes=n,n};n$.exports=Yse();var Qse=n$.exports;const yt=St(Qse);var Jse=Object.getOwnPropertyNames,Zse=Object.getOwnPropertySymbols,ele=Object.prototype.hasOwnProperty;function SO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Wp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function tle(t){return t!=null?t[Symbol.toStringTag]:void 0}function AO(t){return Jse(t).concat(Zse(t))}var nle=Object.hasOwn||function(t,e){return ele.call(t,e)};function Vl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var rle="__v",ile="__o",ole="_owner",TO=Object.getOwnPropertyDescriptor,PO=Object.keys;function ale(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function sle(t,e){return Vl(t.getTime(),e.getTime())}function lle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ule(t,e){return t===e}function IO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),f=!1,c=0;(s=u.next())&&!s.done;){if(i[c]){c++;continue}var p=a.value,g=s.value;if(n.equals(p[0],g[0],l,c,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var cle=Vl;function fle(t,e,n){var r=PO(t),i=r.length;if(PO(e).length!==i)return!1;for(;i-- >0;)if(!o$(t,e,n,r[i]))return!1;return!0}function jf(t,e,n){var r=AO(t),i=r.length;if(AO(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!o$(t,e,n,o)||(a=TO(t,o),s=TO(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function hle(t,e){return Vl(t.valueOf(),e.valueOf())}function dle(t,e){return t.source===e.source&&t.flags===e.flags}function OO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function ple(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function mle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function o$(t,e,n,r){return(r===ole||r===ile||r===rle)&&(t.$$typeof||e.$$typeof)?!0:nle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var gle="[object Arguments]",yle="[object Boolean]",vle="[object Date]",ble="[object Error]",_le="[object Map]",wle="[object Number]",xle="[object Object]",Ele="[object RegExp]",Sle="[object Set]",Ale="[object String]",Tle="[object URL]",Ple=Array.isArray,CO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kO=Object.assign,Ile=Object.prototype.toString.call.bind(Object.prototype.toString);function Ole(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,c=t.areTypedArraysEqual,p=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,x,S){if(v===x)return!0;if(v==null||x==null)return!1;var A=typeof v;if(A!==typeof x)return!1;if(A!=="object")return A==="number"?a(v,x,S):A==="function"?i(v,x,S):!1;var P=v.constructor;if(P!==x.constructor)return!1;if(P===Object)return s(v,x,S);if(Ple(v))return e(v,x,S);if(CO!=null&&CO(v))return c(v,x,S);if(P===Date)return n(v,x,S);if(P===RegExp)return u(v,x,S);if(P===Map)return o(v,x,S);if(P===Set)return f(v,x,S);var R=Ile(v);if(R===vle)return n(v,x,S);if(R===Ele)return u(v,x,S);if(R===_le)return o(v,x,S);if(R===Sle)return f(v,x,S);if(R===xle)return typeof v.then!="function"&&typeof x.then!="function"&&s(v,x,S);if(R===Tle)return p(v,x,S);if(R===ble)return r(v,x,S);if(R===gle)return s(v,x,S);if(R===yle||R===wle||R===Ale)return l(v,x,S);if(g){var T=g[R];if(!T){var O=tle(v);O&&(T=g[O])}if(T)return T(v,x,S)}return!1}}function Cle(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?jf:ale,areDatesEqual:sle,areErrorsEqual:lle,areFunctionsEqual:ule,areMapsEqual:r?SO(IO,jf):IO,areNumbersEqual:cle,areObjectsEqual:r?jf:fle,arePrimitiveWrappersEqual:hle,areRegExpsEqual:dle,areSetsEqual:r?SO(OO,jf):OO,areTypedArraysEqual:r?jf:ple,areUrlsEqual:mle,unknownTagComparators:void 0};if(n&&(i=kO({},i,n(i))),e){var o=Wp(i.areArraysEqual),a=Wp(i.areMapsEqual),s=Wp(i.areObjectsEqual),l=Wp(i.areSetsEqual);i=kO({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function kle(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Nle(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var f=r(),c=f.cache,p=c===void 0?e?new WeakMap:void 0:c,g=f.meta;return n(l,u,{cache:p,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var jle=ws();ws({strict:!0});ws({circular:!0});ws({circular:!0,strict:!0});ws({createInternalComparator:function(){return Vl}});ws({strict:!0,createInternalComparator:function(){return Vl}});ws({circular:!0,createInternalComparator:function(){return Vl}});ws({circular:!0,createInternalComparator:function(){return Vl},strict:!0});function ws(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Cle(t),l=Ole(s),u=r?r(l):kle(l);return Nle({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Rle(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Rle(i)};requestAnimationFrame(r)}function _w(t){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(t)}function Dle(t){return Vle(t)||Lle(t)||$le(t)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return jO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vle(t){if(Array.isArray(t))return t}function Fle(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Dle(a),l=s[0],u=s.slice(1);if(typeof l=="number"){NO(i.bind(null,u),l);return}i(l),NO(i.bind(null,u));return}_w(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){a$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a$(t,e,n){return e=Ble(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=zle(t,"string");return sd(e)==="symbol"?e:String(e)}function zle(t,e){if(sd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ule=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},qle=function(e){return e},Kle=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fh=function(e,n){return Object.keys(n).reduce(function(r,i){return DO(DO({},r),{},a$({},i,e(i,n[i])))},{})},MO=function(e,n,r){return e.map(function(i){return"".concat(Kle(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Wle(t,e){return Xle(t)||Gle(t,e)||s$(t,e)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xle(t){if(Array.isArray(t))return t}function Yle(t){return Zle(t)||Jle(t)||s$(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function Jle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zle(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kg=1e-4,l$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},u$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},$O=function(e,n){return function(r){var i=l$(e,n);return u$(i,r)}},eue=function(e,n){return function(r){var i=l$(e,n),o=[].concat(Yle(i.map(function(a,s){return a*s}).slice(1)),[0]);return u$(o,r)}},LO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=Wle(u,4);i=f[0],o=f[1],a=f[2],s=f[3]}}}var c=$O(i,a),p=$O(o,s),g=eue(i,a),_=function(S){return S>1?1:S<0?0:S},v=function(S){for(var A=S>1?1:S,P=A,R=0;R<8;++R){var T=c(P)-A,O=g(P);if(Math.abs(T-A)<Kg||O<Kg)return p(P);P=_(P-T/O)}return p(P)};return v.isStepper=!1,v},tue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(f,c,p){var g=-(f-c)*r,_=p*o,v=p+(g-_)*s/1e3,x=p*s/1e3+f;return Math.abs(x-c)<Kg&&Math.abs(v)<Kg?[c,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},nue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LO(i);case"spring":return tue();default:if(i.split("(")[0]==="cubic-bezier")return LO(i)}return typeof i=="function"?i:null};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function VO(t){return oue(t)||iue(t)||c$(t)||rue()}function rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oue(t){if(Array.isArray(t))return Ew(t)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xw(t,e,n){return e=aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return ld(e)==="symbol"?e:String(e)}function sue(t,e){if(ld(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t,e){return fue(t)||cue(t,e)||c$(t,e)||uue()}function uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fue(t){if(Array.isArray(t))return t}var Wg=function(e,n,r){return e+(n-e)*r},Sw=function(e){var n=e.from,r=e.to;return n!==r},hue=function t(e,n,r){var i=fh(function(o,a){if(Sw(a)){var s=e(a.from,a.to,a.velocity),l=lue(s,2),u=l[0],f=l[1];return Nn(Nn({},a),{},{from:u,velocity:f})}return a},n);return r<1?fh(function(o,a){return Sw(a)?Nn(Nn({},a),{},{velocity:Wg(a.velocity,i[o].velocity,r),from:Wg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const due=function(t,e,n,r,i){var o=Ule(t,e),a=o.reduce(function(x,S){return Nn(Nn({},x),{},xw({},S,[t[S],e[S]]))},{}),s=o.reduce(function(x,S){return Nn(Nn({},x),{},xw({},S,{from:t[S],velocity:0,to:e[S]}))},{}),l=-1,u,f,c=function(){return null},p=function(){return fh(function(S,A){return A.from},s)},g=function(){return!Object.values(s).filter(Sw).length},_=function(S){u||(u=S);var A=S-u,P=A/n.dt;s=hue(n,s,P),i(Nn(Nn(Nn({},t),e),p())),u=S,g()||(l=requestAnimationFrame(c))},v=function(S){f||(f=S);var A=(S-f)/r,P=fh(function(T,O){return Wg.apply(void 0,VO(O).concat([n(A)]))},a);if(i(Nn(Nn(Nn({},t),e),P)),A<1)l=requestAnimationFrame(c);else{var R=fh(function(T,O){return Wg.apply(void 0,VO(O).concat([n(1)]))},a);i(Nn(Nn(Nn({},t),e),R))}};return c=n.isStepper?_:v,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}var pue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mue(t,e){if(t==null)return{};var n=gue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eb(t){return _ue(t)||bue(t)||vue(t)||yue()}function yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ue(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Wf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wf(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function Eue(t,e,n){return e&&xue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f$(t){var e=Sue(t,"string");return mc(e)==="symbol"?e:String(e)}function Sue(t,e){if(mc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function Tue(t){var e=Pue();return function(){var r=Hg(t),i;if(e){var o=Hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Pw(this,i)}}function Pw(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iw(t)}function Iw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hg(t)}var So=function(t){Aue(n,t);var e=Tue(n);function n(r,i){var o;wue(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,f=a.to,c=a.steps,p=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Iw(o)),o.changeStyle=o.changeStyle.bind(Iw(o)),!s||g<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:f}),Pw(o);if(c&&c.length)o.state={style:c[0].style};else if(u){if(typeof p=="function")return o.state={style:u},Pw(o);o.state={style:l?Wf({},l,u):u}}else o.state={style:{}};return o}return Eue(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,f=o.to,c=o.from,p=this.state.style;if(s){if(!a){var g={style:l?Wf({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(g);return}if(!(jle(i.to,f)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=_||u?c:i.to;if(this.state&&p){var x={style:l?Wf({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(x)}this.runAnimation(ki(ki({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,p=i.onAnimationStart,g=due(a,s,nue(u),l,this.changeStyle),_=function(){o.stopJSAnimation=g()};this.manager.start([p,f,_,l,c])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],f=u.style,c=u.duration,p=c===void 0?0:c,g=function(v,x,S){if(S===0)return v;var A=x.duration,P=x.easing,R=P===void 0?"ease":P,T=x.style,O=x.properties,w=x.onAnimationEnd,I=S>0?a[S-1]:x,k=O||Object.keys(T);if(typeof R=="function"||R==="spring")return[].concat(eb(v),[o.runJSAnimation.bind(o,{from:I.style,to:T,duration:A,easing:R}),A]);var $=MO(k,A,R),D=ki(ki(ki({},I.style),T),{},{transition:$});return[].concat(eb(v),[D,A,w]).filter(qle)};return this.manager.start([l].concat(eb(a.reduce(g,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fle());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,p=i.steps,g=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=s?Wf({},s,l):l,x=MO(Object.keys(v),a,u);_.start([f,o,ki(ki({},v),{},{transition:x}),a,c])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=mue(i,pue),u=G.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||u===0||a<=0)return o;var c=function(g){var _=g.props,v=_.style,x=v===void 0?{}:v,S=_.className,A=G.cloneElement(g,ki(ki({},l),{},{style:ki(ki({},x),f),className:S}));return A};return u===1?c(G.Children.only(o)):K.createElement("div",null,G.Children.map(o,function(p){return c(p)}))}}]),n}(G.PureComponent);So.displayName="Animate";So.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};So.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function Iue(t,e){return Nue(t)||kue(t,e)||Cue(t,e)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cue(t,e){if(t){if(typeof t=="string")return zO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nue(t){if(Array.isArray(t))return t}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return e=Rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=Due(t,"string");return ud(e)=="symbol"?e:e+""}function Due(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&o instanceof Array){for(var c=[0,0,0,0],p=0,g=4;p<g;p++)c[p]=o[p]>a?a:o[p];f="M".concat(e,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*c[1])),f+="L ".concat(e+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*c[3])),f+="Z"}else if(a>0&&o===+o&&o>0){var _=Math.min(a,o);f="M ".concat(e,",").concat(n+s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*_,`
            L `).concat(e+r,",").concat(n+i-s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*_," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Mue=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),f=Math.max(o,o+s),c=Math.min(a,a+l),p=Math.max(a,a+l);return r>=u&&r<=f&&i>=c&&i<=p}return!1},$ue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BE=function(e){var n=qO(qO({},$ue),e),r=G.useRef(),i=G.useState(-1),o=Iue(i,2),a=o[0],s=o[1];G.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&s(R)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,p=n.radius,g=n.className,_=n.animationEasing,v=n.animationDuration,x=n.animationBegin,S=n.isAnimationActive,A=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var P=st("recharts-rectangle",g);return A?K.createElement(So,{canBegin:a>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:v,animationEasing:_,isActive:A},function(R){var T=R.width,O=R.height,w=R.x,I=R.y;return K.createElement(So,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:S,easing:_},K.createElement("path",Gg({},Qe(n,!0),{className:P,d:KO(w,I,T,O,p),ref:r})))}):K.createElement("path",Gg({},Qe(n,!0),{className:P,d:KO(l,u,f,c,p)}))};function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}var Cv=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=st("recharts-dot",o);return n===+n&&r===+r&&i===+i?G.createElement("circle",Ow({},Qe(e,!1),hg(e),{className:a,cx:n,cy:r,r:i})):null};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}var Lue=["x","y","top","left","width","height","className"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return e=Bue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=zue(t,"string");return cd(e)=="symbol"?e:e+""}function zue(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uue(t,e){if(t==null)return{};var n=que(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function que(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kue=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Wue=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,f=e.width,c=f===void 0?0:f,p=e.height,g=p===void 0?0:p,_=e.className,v=Uue(e,Lue),x=Vue({x:r,y:o,top:s,left:u,width:c,height:g},v);return!Ee(r)||!Ee(o)||!Ee(c)||!Ee(g)||!Ee(s)||!Ee(u)?null:K.createElement("path",Cw({},Qe(x,!0),{className:st("recharts-cross",_),d:Kue(r,o,c,g,s,u)}))},Hue=TD,Gue=Hue(Object.getPrototypeOf,Object),Xue=Gue,Yue=la,Que=Xue,Jue=ua,Zue="[object Object]",ece=Function.prototype,tce=Object.prototype,h$=ece.toString,nce=tce.hasOwnProperty,rce=h$.call(Object);function ice(t){if(!Jue(t)||Yue(t)!=Zue)return!1;var e=Que(t);if(e===null)return!0;var n=nce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&h$.call(n)==rce}var oce=ice;const ace=St(oce);var sce=la,lce=ua,uce="[object Boolean]";function cce(t){return t===!0||t===!1||lce(t)&&sce(t)==uce}var fce=cce;const hce=St(fce);function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function dce(t,e){return yce(t)||gce(t,e)||mce(t,e)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(t){if(typeof t=="string")return HO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yce(t){if(Array.isArray(t))return t}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return e=bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=_ce(t,"string");return fd(e)=="symbol"?e:e+""}function _ce(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},wce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xce=function(e){var n=XO(XO({},wce),e),r=G.useRef(),i=G.useState(-1),o=dce(i,2),a=o[0],s=o[1];G.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,p=n.height,g=n.className,_=n.animationEasing,v=n.animationDuration,x=n.animationBegin,S=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||p!==+p||f===0&&c===0||p===0)return null;var A=st("recharts-trapezoid",g);return S?K.createElement(So,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:p,x:l,y:u},duration:v,animationEasing:_,isActive:S},function(P){var R=P.upperWidth,T=P.lowerWidth,O=P.height,w=P.x,I=P.y;return K.createElement(So,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:_},K.createElement("path",Xg({},Qe(n,!0),{className:A,d:YO(w,I,R,T,O),ref:r})))}):K.createElement("g",null,K.createElement("path",Xg({},Qe(n,!0),{className:A,d:YO(l,u,f,c,p)})))},Ece=["option","shapeType","propTransformer","activeClassName","isActive"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Sce(t,e){if(t==null)return{};var n=Ace(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return e=Pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Ice(t,"string");return hd(e)=="symbol"?e:e+""}function Ice(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){return Yg(Yg({},e),t)}function Cce(t,e){return t==="symbols"}function JO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(BE,n);case"trapezoid":return K.createElement(xce,n);case"sector":return K.createElement(t$,n);case"symbols":if(Cce(e))return K.createElement(aE,n);break;default:return null}}function kce(t){return G.isValidElement(t)?t.props:t}function Nce(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Oce:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Sce(t,Ece),u;if(G.isValidElement(e))u=G.cloneElement(e,Yg(Yg({},l),kce(e)));else if(Xe(e))u=e(l);else if(ace(e)&&!hce(e)){var f=i(e,l);u=K.createElement(JO,{shapeType:n,elementProps:f})}else{var c=l;u=K.createElement(JO,{shapeType:n,elementProps:c})}return s?K.createElement(Nt,{className:a},u):u}function kv(t,e){return e!=null&&"trapezoids"in t.props}function Nv(t,e){return e!=null&&"sectors"in t.props}function dd(t,e){return e!=null&&"points"in t.props}function jce(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Rce(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Dce(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Mce(t,e){var n;return kv(t,e)?n=jce:Nv(t,e)?n=Rce:dd(t,e)&&(n=Dce),n}function $ce(t,e){var n;return kv(t,e)?n="trapezoids":Nv(t,e)?n="sectors":dd(t,e)&&(n="points"),n}function Lce(t,e){if(kv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Nv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return dd(t,e)?e.payload:{}}function Vce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=$ce(n,e),o=Lce(n,e),a=r.filter(function(l,u){var f=dc(o,l),c=n.props[i].filter(function(_){var v=Mce(n,e);return v(_,e)}),p=n.props[i].indexOf(c[c.length-1]),g=u===p;return f&&g}),s=r.indexOf(a[a.length-1]);return s}var Fce=Math.ceil,Bce=Math.max;function zce(t,e,n,r){for(var i=-1,o=Bce(Fce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Uce=zce,qce=KD,ZO=1/0,Kce=17976931348623157e292;function Wce(t){if(!t)return t===0?t:0;if(t=qce(t),t===ZO||t===-ZO){var e=t<0?-1:1;return e*Kce}return t===t?t:0}var d$=Wce,Hce=Uce,Gce=_v,tb=d$;function Xce(t){return function(e,n,r){return r&&typeof r!="number"&&Gce(e,n,r)&&(n=r=void 0),e=tb(e),n===void 0?(n=e,e=0):n=tb(n),r=r===void 0?e<n?1:-1:tb(r),Hce(e,n,r,t)}}var Yce=Xce,Qce=Yce,Jce=Qce(),Zce=Jce;const Qg=St(Zce);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){p$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p$(t,e,n){return e=efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return pd(e)=="symbol"?e:e+""}function tfe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nfe=["Webkit","Moz","O","ms"],rfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=nfe.reduce(function(o,a){return tC(tC({},o),{},p$({},a+r,n))},{});return i[e]=n,i};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){Mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function ofe(t,e,n){return e&&rC(t.prototype,e),n&&rC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function afe(t,e,n){return e=Zg(e),sfe(t,m$()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function sfe(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lfe(t)}function lfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function ufe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kw(t,e)}function Mr(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=cfe(t,"string");return gc(e)=="symbol"?e:e+""}function cfe(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ffe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=uh().domain(Qg(0,l)).range([o,o+a-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},iC=function(e){return e.changedTouches&&!!e.changedTouches.length},yc=function(t){function e(n){var r;return ife(this,e),r=afe(this,e,[n]),Mr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Mr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Mr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Mr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Mr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Mr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Mr(r,"handleSlideDragStart",function(i){var o=iC(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ufe(e,t),ofe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,c=Math.min(i,o),p=Math.max(i,o),g=e.getIndexInRange(a,c),_=e.getIndexInRange(a,p);return{startIndex:g-g%l,endIndex:_===f?f:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ur(o[r],s,r);return Xe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,p=l.startIndex,g=l.endIndex,_=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+f-c-s,u+f-c-a):v<0&&(v=Math.max(v,u-a,u-s));var x=this.getIndex({startX:a+v,endX:s+v});(x.startIndex!==p||x.endIndex!==g)&&_&&_(x),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=iC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],f=this.props,c=f.x,p=f.width,g=f.travellerWidth,_=f.onChange,v=f.gap,x=f.data,S={startX:this.state.startX,endX:this.state.endX},A=r.pageX-o;A>0?A=Math.min(A,c+p-g-u):A<0&&(A=Math.max(A,c-u)),S[a]=u+A;var P=this.getIndex(S),R=P.startIndex,T=P.endIndex,O=function(){var I=x.length-1;return a==="startX"&&(s>l?R%v===0:T%v===0)||s<l&&T===I||a==="endX"&&(s>l?T%v===0:R%v===0)||s>l&&T===I};this.setState(Mr(Mr({},a,u+A),"brushMoveStartX",r.pageX),function(){_&&O()&&_(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,f=this.state[i],c=s.indexOf(f);if(c!==-1){var p=c+r;if(!(p===-1||p>=s.length)){var g=s[p];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(Mr({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return K.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,c=G.Children.only(u);return c?K.cloneElement(c,{x:i,y:o,width:a,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,p=l.traveller,g=l.ariaLabel,_=l.data,v=l.startIndex,x=l.endIndex,S=Math.max(r,this.props.x),A=nb(nb({},Qe(this.props,!1)),{},{x:S,y:u,width:f,height:c}),P=g||"Min value: ".concat((o=_[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=_[x])===null||a===void 0?void 0:a.name);return K.createElement(Nt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,A))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:c,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,p=f.endX,g=5,_={pointerEvents:"none",fill:u};return K.createElement(Nt,{className:"recharts-brush-texts"},K.createElement(Pg,Jg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,p)-g,y:a+s/2},_),this.getTextOfTick(i)),K.createElement(Pg,Jg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,p)+l+g,y:a+s/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,p=this.state,g=p.startX,_=p.endX,v=p.isTextActive,x=p.isSlideMoving,S=p.isTravellerMoving,A=p.isTravellerFocused;if(!i||!i.length||!Ee(s)||!Ee(l)||!Ee(u)||!Ee(f)||u<=0||f<=0)return null;var P=st("recharts-brush",o),R=K.Children.count(a)===1,T=rfe("userSelect","none");return K.createElement(Nt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(g,_),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(_,"endX"),(v||x||S||A||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),K.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return nb({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?ffe({data:o,width:a,x:s,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(G.PureComponent);Mr(yc,"displayName","Brush");Mr(yc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hfe=dE;function dfe(t,e){var n;return hfe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var pfe=dfe,mfe=vD,gfe=vs,yfe=pfe,vfe=Ir,bfe=_v;function _fe(t,e,n){var r=vfe(t)?mfe:yfe;return n&&bfe(t,e,n)&&(e=void 0),r(t,gfe(e))}var wfe=_fe;const xfe=St(wfe);var wo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},oC=FD;function Efe(t,e,n){e=="__proto__"&&oC?oC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Sfe=Efe,Afe=Sfe,Tfe=LD,Pfe=vs;function Ife(t,e){var n={};return e=Pfe(e),Tfe(t,function(r,i,o){Afe(n,i,e(r,i,o))}),n}var Ofe=Ife;const Cfe=St(Ofe);function kfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Nfe=kfe,jfe=dE;function Rfe(t,e){var n=!0;return jfe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Dfe=Rfe,Mfe=Nfe,$fe=Dfe,Lfe=vs,Vfe=Ir,Ffe=_v;function Bfe(t,e,n){var r=Vfe(t)?Mfe:$fe;return n&&Ffe(t,e,n)&&(e=void 0),r(t,Lfe(e))}var zfe=Bfe;const y$=St(zfe);var Ufe=["x","y"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Wfe(t,"string");return md(e)=="symbol"?e:e+""}function Wfe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hfe(t,e){if(t==null)return{};var n=Gfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xfe(t,e){var n=t.x,r=t.y,i=Hfe(t,Ufe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),c="".concat(e.width||i.width),p=parseInt(c,10);return Rf(Rf(Rf(Rf(Rf({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function sC(t){return K.createElement(Nce,Nw({shapeType:"rectangle",propTransformer:Xfe,activeClassName:"recharts-active-bar"},t))}var Yfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ee(r)||dK(r);return o?e(r,i):(o||Il(),n)}},Qfe=["value","background"],v$;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Jfe(t,e){if(t==null)return{};var n=Zfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){Fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_$(r.key),r)}}function the(t,e,n){return e&&uC(t.prototype,e),n&&uC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nhe(t,e,n){return e=ty(e),rhe(t,b$()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function rhe(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(t)}function ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function ohe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function Fa(t,e,n){return e=_$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=ahe(t,"string");return vc(e)=="symbol"?e:e+""}function ahe(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Er=function(t){function e(){var n;ehe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=nhe(this,e,[].concat(i)),Fa(n,"state",{isAnimationFinished:!1}),Fa(n,"id",Hc("recharts-bar-")),Fa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Fa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ohe(e,t),the(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,f=Qe(this.props,!1);return r&&r.map(function(c,p){var g=p===l,_=g?u:a,v=un(un(un({},f),c),{},{isActive:g,option:_,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Nt,ey({className:"recharts-bar-rectangle"},dg(i.props,c,p),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(p)}),K.createElement(sC,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,p=this.state.prevData;return K.createElement(So,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var _=g.t,v=o.map(function(x,S){var A=p&&p[S];if(A){var P=Dn(A.x,x.x),R=Dn(A.y,x.y),T=Dn(A.width,x.width),O=Dn(A.height,x.height);return un(un({},x),{},{x:P(_),y:R(_),width:T(_),height:O(_)})}if(a==="horizontal"){var w=Dn(0,x.height),I=w(_);return un(un({},x),{},{y:x.y+x.height-I,height:I})}var k=Dn(0,x.width),$=k(_);return un(un({},x),{},{width:$})});return K.createElement(Nt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!dc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Qe(this.props.background,!1);return o.map(function(u,f){u.value;var c=u.background,p=Jfe(u,Qfe);if(!c)return null;var g=un(un(un(un(un({},p),{},{fill:"#eee"},c),l),dg(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return K.createElement(sC,ey({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,c=hi(f,Gd);if(!c)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,g=function(x,S){var A=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:A,errorVal:ur(x,S)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(Nt,_,c.map(function(v){return K.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,p=r.height,g=r.isAnimationActive,_=r.background,v=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,S=st("recharts-bar",a),A=s&&s.allowDataOverflow,P=l&&l.allowDataOverflow,R=A||P,T=Je(v)?this.id:v;return K.createElement(Nt,{className:S},A||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(T)},K.createElement("rect",{x:A?u:u-c/2,y:P?f:f-p/2,width:A?c:c*2,height:P?p:p*2}))):null,K.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(T,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,T),(!g||x)&&di.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(G.PureComponent);v$=Er;Fa(Er,"displayName","Bar");Fa(Er,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fa(Er,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,p=t.offset,g=Dae(r,n);if(!g)return null;var _=e.layout,v=n.type.defaultProps,x=v!==void 0?un(un({},v),n.props):n.props,S=x.dataKey,A=x.children,P=x.minPointSize,R=_==="horizontal"?a:o,T=u?R.scale.domain():null,O=Uae({numericAxis:R}),w=hi(A,Ud),I=c.map(function(k,$){var D,V,M,re,ie,se;u?D=Mae(u[f+$],T):(D=ur(k,S),Array.isArray(D)||(D=[O,D]));var ge=Yfe(P,v$.defaultProps.minPointSize)(D[1],$);if(_==="horizontal"){var q,oe=[a.scale(D[0]),a.scale(D[1])],de=oe[0],Te=oe[1];V=lO({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:k,index:$}),M=(q=Te??de)!==null&&q!==void 0?q:void 0,re=g.size;var be=de-Te;if(ie=Number.isNaN(be)?0:be,se={x:V,y:a.y,width:re,height:a.height},Math.abs(ge)>0&&Math.abs(ie)<Math.abs(ge)){var ke=Vi(ie||ge)*(Math.abs(ge)-Math.abs(ie));M-=ke,ie+=ke}}else{var Ye=[o.scale(D[0]),o.scale(D[1])],ct=Ye[0],ht=Ye[1];if(V=ct,M=lO({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:k,index:$}),re=ht-ct,ie=g.size,se={x:o.x,y:M,width:o.width,height:ie},Math.abs(ge)>0&&Math.abs(re)<Math.abs(ge)){var nn=Vi(re||ge)*(Math.abs(ge)-Math.abs(re));re+=nn}}return un(un(un({},k),{},{x:V,y:M,width:re,height:ie,value:u?D:D[1],payload:k,background:se},w&&w[$]&&w[$].props),{},{tooltipPayload:[JM(n,k)],tooltipPosition:{x:V+re/2,y:M+ie/2}})});return un({data:I,layout:_},p)});function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function she(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function lhe(t,e,n){return e&&cC(t.prototype,e),n&&cC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){jv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jv(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=uhe(t,"string");return gd(e)=="symbol"?e:e+""}function uhe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zE=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Lr(u,Er);return f.reduce(function(g,_){var v=n[_],x=v.orientation,S=v.domain,A=v.padding,P=A===void 0?{}:A,R=v.mirror,T=v.reversed,O="".concat(x).concat(R?"Mirror":""),w,I,k,$,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var V=S[1]-S[0],M=1/0,re=v.categoricalDomain.sort(gK);if(re.forEach(function(Ye,ct){ct>0&&(M=Math.min((Ye||0)-(re[ct-1]||0),M))}),Number.isFinite(M)){var ie=M/V,se=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(w=ie*se/2),v.padding==="no-gap"){var ge=Tl(e.barCategoryGap,ie*se),q=ie*se/2;w=q-ge-(q-ge)/se*ge}}}i==="xAxis"?I=[r.left+(P.left||0)+(w||0),r.left+r.width-(P.right||0)-(w||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(w||0),r.top+r.height-(P.bottom||0)-(w||0)]:I=v.range,T&&(I=[I[1],I[0]]);var oe=jae(v,o,p),de=oe.scale,Te=oe.realScaleType;de.domain(S).range(I),Rae(de);var be=zae(de,Ri(Ri({},v),{},{realScaleType:Te}));i==="xAxis"?(D=x==="top"&&!R||x==="bottom"&&R,k=r.left,$=c[O]-D*v.height):i==="yAxis"&&(D=x==="left"&&!R||x==="right"&&R,k=c[O]-D*v.width,$=r.top);var ke=Ri(Ri(Ri({},v),be),{},{realScaleType:Te,x:k,y:$,scale:de,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return ke.bandSize=zg(ke,be),!v.hide&&i==="xAxis"?c[O]+=(D?-1:1)*ke.height:v.hide||(c[O]+=(D?-1:1)*ke.width),Ri(Ri({},g),{},jv({},_,ke))},{})},x$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},che=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return x$({x:n,y:r},{x:i,y:o})},E$=function(){function t(e){she(this,t),this.scale=e}return lhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();jv(E$,"EPS",1e-4);var UE=function(e){var n=Object.keys(e).reduce(function(r,i){return Ri(Ri({},r),{},jv({},i,E$.create(e[i])))},{});return Ri(Ri({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Cfe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return y$(i,function(o,a){return n[a].isInRange(o)})}})};function fhe(t){return(t%180+180)%180}var hhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fhe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},dhe=vs,phe=zd,mhe=vv;function ghe(t){return function(e,n,r){var i=Object(e);if(!phe(e)){var o=dhe(n);e=mhe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var yhe=ghe,vhe=d$;function bhe(t){var e=vhe(t),n=e%1;return e===e?n?e-n:e:0}var _he=bhe,whe=ND,xhe=vs,Ehe=_he,She=Math.max;function Ahe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ehe(n);return i<0&&(i=She(r+i,0)),whe(t,xhe(e),i)}var The=Ahe,Phe=yhe,Ihe=The,Ohe=Phe(Ihe),Che=Ohe;const khe=St(Che);var Nhe=bq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qE=G.createContext(void 0),KE=G.createContext(void 0),S$=G.createContext(void 0),A$=G.createContext({}),T$=G.createContext(void 0),P$=G.createContext(0),I$=G.createContext(0),hC=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,f=Nhe(o);return K.createElement(qE.Provider,{value:r},K.createElement(KE.Provider,{value:i},K.createElement(A$.Provider,{value:o},K.createElement(S$.Provider,{value:f},K.createElement(T$.Provider,{value:a},K.createElement(P$.Provider,{value:u},K.createElement(I$.Provider,{value:l},s)))))))},jhe=function(){return G.useContext(T$)},O$=function(e){var n=G.useContext(qE);n==null&&Il();var r=n[e];return r==null&&Il(),r},Rhe=function(){var e=G.useContext(qE);return Da(e)},Dhe=function(){var e=G.useContext(KE),n=khe(e,function(r){return y$(r.domain,Number.isFinite)});return n||Da(e)},C$=function(e){var n=G.useContext(KE);n==null&&Il();var r=n[e];return r==null&&Il(),r},Mhe=function(){var e=G.useContext(S$);return e},$he=function(){return G.useContext(A$)},WE=function(){return G.useContext(I$)},HE=function(){return G.useContext(P$)};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function Lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function Fhe(t,e,n){return e&&Vhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bhe(t,e,n){return e=ny(e),zhe(t,k$()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function zhe(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uhe(t)}function Uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){GE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GE(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=Khe(t,"string");return bc(e)=="symbol"?e:e+""}function Khe(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Whe(t,e){return Yhe(t)||Xhe(t,e)||Ghe(t,e)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Yhe(t){if(Array.isArray(t))return t}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}var Qhe=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Xe(e)?r=e(n):r=K.createElement("line",Dw({},n,{className:"recharts-reference-line-line"})),r},Jhe=function(e,n,r,i,o,a,s,l,u){var f=o.x,c=o.y,p=o.width,g=o.height;if(r){var _=u.y,v=e.y.apply(_,{position:a});if(wo(u,"discard")&&!e.y.isInRange(v))return null;var x=[{x:f+p,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(n){var S=u.x,A=e.x.apply(S,{position:a});if(wo(u,"discard")&&!e.x.isInRange(A))return null;var P=[{x:A,y:c+g},{x:A,y:c}];return s==="top"?P.reverse():P}if(i){var R=u.segment,T=R.map(function(O){return e.apply(O,{position:a})});return wo(u,"discard")&&xfe(T,function(O){return!e.isInRange(O)})?null:T}return null};function Zhe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=jhe(),f=O$(i),c=C$(o),p=Mhe();if(!u||!p)return null;Ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=UE({x:f.scale,y:c.scale}),_=xn(e),v=xn(n),x=r&&r.length===2,S=Jhe(g,_,v,x,p,t.position,f.orientation,c.orientation,t);if(!S)return null;var A=Whe(S,2),P=A[0],R=P.x,T=P.y,O=A[1],w=O.x,I=O.y,k=wo(t,"hidden")?"url(#".concat(u,")"):void 0,$=pC(pC({clipPath:k},Qe(t,!0)),{},{x1:R,y1:T,x2:w,y2:I});return K.createElement(Nt,{className:st("recharts-reference-line",s)},Qhe(a,$),Qn.renderCallByParent(t,che({x1:R,y1:T,x2:w,y2:I})))}var Rv=function(t){function e(){return Lhe(this,e),Bhe(this,e,arguments)}return qhe(e,t),Fhe(e,[{key:"render",value:function(){return K.createElement(Zhe,this.props)}}])}(K.Component);GE(Rv,"displayName","ReferenceLine");GE(Rv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){Dv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R$(r.key),r)}}function nde(t,e,n){return e&&tde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rde(t,e,n){return e=ry(e),ide(t,j$()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function ide(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ode(t)}function ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function Dv(t,e,n){return e=R$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$(t){var e=sde(t,"string");return _c(e)=="symbol"?e:e+""}function sde(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lde=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=UE({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return wo(e,"discard")&&!a.isInRange(s)?null:s},Mv=function(t){function e(){return ede(this,e),rde(this,e,arguments)}return ade(e,t),nde(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=xn(i),f=xn(o);if(Ho(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=lde(this.props);if(!c)return null;var p=c.x,g=c.y,_=this.props,v=_.shape,x=_.className,S=wo(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=yC(yC({clipPath:S},Qe(this.props,!0)),{},{cx:p,cy:g});return K.createElement(Nt,{className:st("recharts-reference-dot",x)},e.renderDot(v,A),Qn.renderCallByParent(this.props,{x:p-a,y:g-a,width:2*a,height:2*a}))}}])}(K.Component);Dv(Mv,"displayName","ReferenceDot");Dv(Mv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dv(Mv,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Xe(t)?n=t(e):n=K.createElement(Cv,Mw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){$v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M$(r.key),r)}}function fde(t,e,n){return e&&cde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hde(t,e,n){return e=iy(e),dde(t,D$()?Reflect.construct(e,n||[],iy(t).constructor):e.apply(t,n))}function dde(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pde(t)}function pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}function mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function $v(t,e,n){return e=M$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=gde(t,"string");return wc(e)=="symbol"?e:e+""}function gde(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yde=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,f=o.xAxis,c=o.yAxis;if(!f||!c)return null;var p=UE({x:f.scale,y:c.scale}),g={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},_={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return wo(o,"discard")&&(!p.isInRange(g)||!p.isInRange(_))?null:x$(g,_)},Lv=function(t){function e(){return ude(this,e),hde(this,e,arguments)}return mde(e,t),fde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;Ho(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=xn(i),p=xn(o),g=xn(a),_=xn(s),v=this.props.shape;if(!c&&!p&&!g&&!_&&!v)return null;var x=yde(c,p,g,_,this.props);if(!x&&!v)return null;var S=wo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return K.createElement(Nt,{className:st("recharts-reference-area",l)},e.renderRect(v,bC(bC({clipPath:S},Qe(this.props,!0)),x)),Qn.renderCallByParent(this.props,x))}}])}(K.Component);$v(Lv,"displayName","ReferenceArea");$v(Lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$v(Lv,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Xe(t)?n=t(e):n=K.createElement(BE,Lw({},e,{className:"recharts-reference-area-rect"})),n});function $$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function vde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hhe(r,n)}function bde(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function oy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function _de(t,e){return $$(t,e+1)}function wde(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,f=a,c=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:$$(r,u)};var v=l,x,S=function(){return x===void 0&&(x=n(_,v)),x},A=_.coordinate,P=l===0||oy(t,A,S,f,s);P||(l=0,f=a,u+=1),P&&(f=A+t*(S()/2+i),l+=u)},p;u<=o.length;)if(p=c(),p)return p.v;return[]}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e,n){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Sde(t,"string");return yd(e)=="symbol"?e:e+""}function Sde(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ade(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(p){var g=o[p],_,v=function(){return _===void 0&&(_=n(g,p)),_};if(p===a-1){var x=t*(g.coordinate+t*v()/2-l);o[p]=g=Hn(Hn({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else o[p]=g=Hn(Hn({},g),{},{tickCoord:g.coordinate});var S=oy(t,g.tickCoord,v,s,l);S&&(l=g.tickCoord-t*(v()/2+i),o[p]=Hn(Hn({},g),{},{isShow:!0}))},f=a-1;f>=0;f--)u(f);return o}function Tde(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var f=r[s-1],c=n(f,s-1),p=t*(f.coordinate+t*c/2-u);a[s-1]=f=Hn(Hn({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var g=oy(t,f.tickCoord,function(){return c},l,u);g&&(u=f.tickCoord-t*(c/2+i),a[s-1]=Hn(Hn({},f),{},{isShow:!0}))}for(var _=o?s-1:s,v=function(A){var P=a[A],R,T=function(){return R===void 0&&(R=n(P,A)),R};if(A===0){var O=t*(P.coordinate-t*T()/2-l);a[A]=P=Hn(Hn({},P),{},{tickCoord:O<0?P.coordinate-O*t:P.coordinate})}else a[A]=P=Hn(Hn({},P),{},{tickCoord:P.coordinate});var w=oy(t,P.tickCoord,T,l,u);w&&(l=P.tickCoord+t*(T()/2+i),a[A]=Hn(Hn({},P),{},{isShow:!0}))},x=0;x<_;x++)v(x);return a}function XE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(Ee(l)||Ml.isSsr)return _de(i,typeof l=="number"&&Ee(l)?l:0);var p=[],g=s==="top"||s==="bottom"?"width":"height",_=f&&g==="width"?lh(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(P,R){var T=Xe(u)?u(P.value,R):P.value;return g==="width"?vde(lh(T,{fontSize:e,letterSpacing:n}),_,c):lh(T,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Vi(i[1].coordinate-i[0].coordinate):1,S=bde(o,x,g);return l==="equidistantPreserveStart"?wde(x,S,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Tde(x,S,v,i,a,l==="preserveStartEnd"):p=Ade(x,S,v,i,a),p.filter(function(A){return A.isShow}))}var Pde=["viewBox"],Ide=["viewBox"],Ode=["ticks"];function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function wC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(n),!0).forEach(function(r){YE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rb(t,e){if(t==null)return{};var n=Cde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V$(r.key),r)}}function Nde(t,e,n){return e&&xC(t.prototype,e),n&&xC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jde(t,e,n){return e=ay(e),Rde(t,L$()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function Rde(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dde(t)}function Dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L$=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function Mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function YE(t,e,n){return e=V$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V$(t){var e=$de(t,"string");return xc(e)=="symbol"?e:e+""}function $de(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ef=function(t){function e(n){var r;return kde(this,e),r=jde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Mde(e,t),Nde(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=rb(r,Pde),s=this.props,l=s.viewBox,u=rb(s,Ide);return!Bu(o,l)||!Bu(a,u)||!Bu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,p=i.tickMargin,g,_,v,x,S,A,P=c?-1:1,R=r.tickSize||f,T=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=_=r.coordinate,x=a+ +!c*l,v=x-P*R,A=v-P*p,S=T;break;case"left":v=x=r.coordinate,_=o+ +!c*s,g=_-P*R,S=g-P*p,A=T;break;case"right":v=x=r.coordinate,_=o+ +c*s,g=_+P*R,S=g+P*p,A=T;break;default:g=_=r.coordinate,x=a+ +c*l,v=x+P*R,A=v+P*p,S=T;break}return{line:{x1:g,y1:v,x2:_,y2:x},tick:{x:S,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=yn(yn(yn({},Qe(this.props,!1)),Qe(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);c=yn(yn({},c),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);c=yn(yn({},c),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return K.createElement("line",Iu({},c,{className:st("recharts-cartesian-axis-line",fi(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,c=s.tickFormatter,p=s.unit,g=XE(yn(yn({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Qe(this.props,!1),S=Qe(f,!1),A=yn(yn({},x),{},{fill:"none"},Qe(l,!1)),P=g.map(function(R,T){var O=a.getTickLineCoord(R),w=O.line,I=O.tick,k=yn(yn(yn(yn({textAnchor:_,verticalAnchor:v},x),{},{stroke:"none",fill:u},S),I),{},{index:T,payload:R,visibleTicksCount:g.length,tickFormatter:c});return K.createElement(Nt,Iu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},dg(a.props,R,T)),l&&K.createElement("line",Iu({},A,w,{className:st("recharts-cartesian-axis-tick-line",fi(l,"className"))})),f&&e.renderTickItem(f,k,"".concat(Xe(c)?c(R.value,T):R.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,p=c.ticks,g=rb(c,Ode),_=p;return Xe(l)&&(_=p&&p.length>0?l(this.props):l(g)),a<=0||s<=0||!_||!_.length?null:K.createElement(Nt,{className:st("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=st(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?a=K.cloneElement(r,yn(yn({},i),{},{className:s})):Xe(r)?a=r(yn(yn({},i),{},{className:s})):a=K.createElement(Pg,Iu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(G.Component);YE(ef,"displayName","CartesianAxis");YE(ef,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lde=["x1","y1","x2","y2","key"],Vde=["offset"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){Fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fde(t,e,n){return e=Bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=zde(t,"string");return Ol(e)=="symbol"?e:e+""}function zde(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function SC(t,e){if(t==null)return{};var n=Ude(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ude(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return K.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function F$(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Xe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=SC(e,Lde),u=Qe(l,!1);u.offset;var f=SC(u,Vde);n=K.createElement("line",il({},f,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Kde(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Jn(Jn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return F$(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Wde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Jn(Jn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return F$(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Hde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var c=f.map(function(p,g){var _=!f[g+1],v=_?i+a-p:f[g+1]-p;if(v<=0)return null;var x=g%e.length;return K.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:v,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Gde(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+o-o)}).sort(function(p,g){return p-g});o!==f[0]&&f.unshift(0);var c=f.map(function(p,g){var _=!f[g+1],v=_?o+s-p:f[g+1]-p;if(v<=0)return null;var x=g%r.length;return K.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Xde=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return YM(XE(Jn(Jn(Jn({},ef.defaultProps),r),{},{ticks:zo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Yde=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return YM(XE(Jn(Jn(Jn({},ef.defaultProps),r),{},{ticks:zo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},su={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function QE(t){var e,n,r,i,o,a,s=WE(),l=HE(),u=$he(),f=Jn(Jn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:su.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:su.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:su.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:su.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:su.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:su.verticalFill,x:Ee(t.x)?t.x:u.left,y:Ee(t.y)?t.y:u.top,width:Ee(t.width)?t.width:u.width,height:Ee(t.height)?t.height:u.height}),c=f.x,p=f.y,g=f.width,_=f.height,v=f.syncWithTicks,x=f.horizontalValues,S=f.verticalValues,A=Rhe(),P=Dhe();if(!Ee(g)||g<=0||!Ee(_)||_<=0||!Ee(c)||c!==+c||!Ee(p)||p!==+p)return null;var R=f.verticalCoordinatesGenerator||Xde,T=f.horizontalCoordinatesGenerator||Yde,O=f.horizontalPoints,w=f.verticalPoints;if((!O||!O.length)&&Xe(T)){var I=x&&x.length,k=T({yAxis:P?Jn(Jn({},P),{},{ticks:I?x:P.ticks}):void 0,width:s,height:l,offset:u},I?!0:v);Ho(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(k),"]")),Array.isArray(k)&&(O=k)}if((!w||!w.length)&&Xe(R)){var $=S&&S.length,D=R({xAxis:A?Jn(Jn({},A),{},{ticks:$?S:A.ticks}):void 0,width:s,height:l,offset:u},$?!0:v);Ho(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(D),"]")),Array.isArray(D)&&(w=D)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(qde,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),K.createElement(Kde,il({},f,{offset:u,horizontalPoints:O,xAxis:A,yAxis:P})),K.createElement(Wde,il({},f,{offset:u,verticalPoints:w,xAxis:A,yAxis:P})),K.createElement(Hde,il({},f,{horizontalPoints:O})),K.createElement(Gde,il({},f,{verticalPoints:w})))}QE.displayName="CartesianGrid";var Qde=["type","layout","connectNulls","ref"],Jde=["key"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function AC(t,e){if(t==null)return{};var n=Zde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){Di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lu(t){return rpe(t)||npe(t)||tpe(t)||epe()}function epe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function npe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rpe(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function ope(t,e,n){return e&&PC(t.prototype,e),n&&PC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t,e,n){return e=sy(e),spe(t,B$()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function spe(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function Di(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=cpe(t,"string");return Ec(e)=="symbol"?e:e+""}function cpe(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sc=function(t){function e(){var n;ipe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ape(this,e,[].concat(i)),Di(n,"state",{isAnimationFinished:!0,totalLength:0}),Di(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Di(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(S,A){return S+A});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var f=Math.floor(a/u),c=a%u,p=s-a,g=[],_=0,v=0;_<l.length;v+=l[_],++_)if(v+l[_]>c){g=[].concat(lu(l.slice(0,_)),[c-v]);break}var x=g.length%2===0?[0,p]:[p];return[].concat(lu(e.repeat(l,f)),lu(g),x).map(function(S){return"".concat(S,"px")}).join(", ")}),Di(n,"id",Hc("recharts-line-")),Di(n,"pathRef",function(a){n.mainCurve=a}),Di(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Di(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return upe(e,t),ope(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,c=hi(f,Gd);if(!c)return null;var p=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:ur(v.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(Nt,g,c.map(function(_){return K.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=Qe(this.props,!1),p=Qe(l,!0),g=u.map(function(v,x){var S=Dr(Dr(Dr({key:"dot-".concat(x),r:3},c),p),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:u});return e.renderDotItem(l,S)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Nt,hh({className:"recharts-line-dots",key:"dots"},_),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var c=AC(s,Qde),p=Dr(Dr(Dr({},Qe(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:f});return K.createElement(qu,hh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,f=a.animationBegin,c=a.animationDuration,p=a.animationEasing,g=a.animationId,_=a.animateNewValues,v=a.width,x=a.height,S=this.state,A=S.prevPoints,P=S.totalLength;return K.createElement(So,{begin:f,duration:c,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var T=R.t;if(A){var O=A.length/s.length,w=s.map(function(V,M){var re=Math.floor(M*O);if(A[re]){var ie=A[re],se=Dn(ie.x,V.x),ge=Dn(ie.y,V.y);return Dr(Dr({},V),{},{x:se(T),y:ge(T)})}if(_){var q=Dn(v*2,V.x),oe=Dn(x/2,V.y);return Dr(Dr({},V),{},{x:q(T),y:oe(T)})}return Dr(Dr({},V),{},{x:V.x,y:V.y})});return o.renderCurveStatically(w,r,i)}var I=Dn(0,P),k=I(T),$;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});$=o.getStrokeDasharray(k,P,D)}else $=o.generateSimpleStrokeDasharray(P,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&a&&a.length&&(!u&&f>0||!dc(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,p=i.left,g=i.width,_=i.height,v=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var S=this.state.isAnimationFinished,A=s.length===1,P=st("recharts-line",l),R=u&&u.allowDataOverflow,T=f&&f.allowDataOverflow,O=R||T,w=Je(x)?this.id:x,I=(r=Qe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=I.r,$=k===void 0?3:k,D=I.strokeWidth,V=D===void 0?2:D,M=UR(a)?a:{},re=M.clipDot,ie=re===void 0?!0:re,se=$*2+V;return K.createElement(Nt,{className:P},R||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(w)},K.createElement("rect",{x:R?p:p-g/2,y:T?c:c-_/2,width:R?g:g*2,height:T?_:_*2})),!ie&&K.createElement("clipPath",{id:"clipPath-dots-".concat(w)},K.createElement("rect",{x:p-se/2,y:c-se/2,width:g+se,height:_+se}))):null,!A&&this.renderCurve(O,w),this.renderErrorBar(O,w),(A||a)&&this.renderDots(O,ie,w),(!v||S)&&di.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(lu(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(lu(a),lu(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(K.isValidElement(r))o=K.cloneElement(r,i);else if(Xe(r))o=r(i);else{var a=i.key,s=AC(i,Jde),l=st("recharts-line-dot",typeof r!="boolean"?r.className:"");o=K.createElement(Cv,hh({key:a},s,{className:l}))}return o}}])}(G.PureComponent);Di(Sc,"displayName","Line");Di(Sc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Di(Sc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(p,g){var _=ur(p,a);return f==="horizontal"?{x:Bg({axis:n,ticks:i,bandSize:s,entry:p,index:g}),y:Je(_)?null:r.scale(_),value:_,payload:p}:{x:Je(_)?null:n.scale(_),y:Bg({axis:r,ticks:o,bandSize:s,entry:p,index:g}),value:_,payload:p}});return Dr({points:c,layout:f},u)});var fpe=["layout","type","stroke","connectNulls","isRange","ref"],hpe=["key"],U$;function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function q$(t,e){if(t==null)return{};var n=dpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){co(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function mpe(t,e,n){return e&&OC(t.prototype,e),n&&OC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=ly(e),ype(t,K$()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function co(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=_pe(t,"string");return Ac(e)=="symbol"?e:e+""}function _pe(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=function(t){function e(){var n;ppe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gpe(this,e,[].concat(i)),co(n,"state",{isAnimationFinished:!0}),co(n,"id",Hc("recharts-area-")),co(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(a)&&a()}),co(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(a)&&a()}),n}return bpe(e,t),mpe(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,f=l.points,c=l.dataKey,p=Qe(this.props,!1),g=Qe(u,!0),_=f.map(function(x,S){var A=Aa(Aa(Aa({key:"dot-".concat(S),r:3},p),g),{},{index:S,cx:x.x,cy:x.y,dataKey:c,value:x.value,payload:x.payload,points:f});return e.renderDotItem(u,A)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Nt,ol({className:"recharts-area-dots"},v),_)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,f=r*Math.abs(l-u),c=Va(a.map(function(p){return p.y||0}));return Ee(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(Va(o.map(function(p){return p.y||0})),c)),Ee(c)?K.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,f=r*Math.abs(l-u),c=Va(a.map(function(p){return p.x||0}));return Ee(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(Va(o.map(function(p){return p.x||0})),c)),Ee(c)?K.createElement("rect",{x:0,y:l<u?l:l-f,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,f=s.stroke,c=s.connectNulls,p=s.isRange;s.ref;var g=q$(s,fpe);return K.createElement(Nt,{clipPath:o?"url(#clipPath-".concat(a,")"):null},K.createElement(qu,ol({},Qe(g,!0),{points:r,connectNulls:c,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&K.createElement(qu,ol({},Qe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:r})),f!=="none"&&p&&K.createElement(qu,ol({},Qe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,f=a.animationBegin,c=a.animationDuration,p=a.animationEasing,g=a.animationId,_=this.state,v=_.prevPoints,x=_.prevBaseLine;return K.createElement(So,{begin:f,duration:c,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(v){var P=v.length/s.length,R=s.map(function(I,k){var $=Math.floor(k*P);if(v[$]){var D=v[$],V=Dn(D.x,I.x),M=Dn(D.y,I.y);return Aa(Aa({},I),{},{x:V(A),y:M(A)})}return I}),T;if(Ee(l)&&typeof l=="number"){var O=Dn(x,l);T=O(A)}else if(Je(l)||Wc(l)){var w=Dn(x,0);T=w(A)}else T=l.map(function(I,k){var $=Math.floor(k*P);if(x[$]){var D=x[$],V=Dn(D.x,I.x),M=Dn(D.y,I.y);return Aa(Aa({},I),{},{x:V(A),y:M(A)})}return I});return o.renderAreaStatically(R,T,r,i)}return K.createElement(Nt,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),K.createElement(Nt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,f=u.prevPoints,c=u.prevBaseLine,p=u.totalLength;return l&&a&&a.length&&(!f&&p>0||!dc(f,a)||!dc(c,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,f=i.left,c=i.xAxis,p=i.yAxis,g=i.width,_=i.height,v=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var S=this.state.isAnimationFinished,A=s.length===1,P=st("recharts-area",l),R=c&&c.allowDataOverflow,T=p&&p.allowDataOverflow,O=R||T,w=Je(x)?this.id:x,I=(r=Qe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=I.r,$=k===void 0?3:k,D=I.strokeWidth,V=D===void 0?2:D,M=UR(a)?a:{},re=M.clipDot,ie=re===void 0?!0:re,se=$*2+V;return K.createElement(Nt,{className:P},R||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(w)},K.createElement("rect",{x:R?f:f-g/2,y:T?u:u-_/2,width:R?g:g*2,height:T?_:_*2})),!ie&&K.createElement("clipPath",{id:"clipPath-dots-".concat(w)},K.createElement("rect",{x:f-se/2,y:u-se/2,width:g+se,height:_+se}))):null,A?null:this.renderArea(O,w),(a||A)&&this.renderDots(O,ie,w),(!v||S)&&di.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(G.PureComponent);U$=xs;co(xs,"displayName","Area");co(xs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ml.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});co(xs,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return s==="dataMin"?c:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});co(xs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,p=t.offset,g=e.layout,_=u&&u.length,v=U$.getBaseValue(e,n,r,i),x=g==="horizontal",S=!1,A=c.map(function(R,T){var O;_?O=u[f+T]:(O=ur(R,l),Array.isArray(O)?S=!0:O=[v,O]);var w=O[1]==null||_&&ur(R,l)==null;return x?{x:Bg({axis:r,ticks:o,bandSize:s,entry:R,index:T}),y:w?null:i.scale(O[1]),value:O,payload:R}:{x:w?null:r.scale(O[1]),y:Bg({axis:i,ticks:a,bandSize:s,entry:R,index:T}),value:O,payload:R}}),P;return _||S?P=A.map(function(R){var T=Array.isArray(R.value)?R.value[0]:null;return x?{x:R.x,y:T!=null&&R.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:R.y}}):P=x?i.scale(v):r.scale(v),Aa({points:A,baseLine:P,layout:g,isRange:S},p)});co(xs,"renderDotItem",function(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Xe(t))n=t(e);else{var r=st("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=q$(e,hpe);n=K.createElement(Cv,ol({},o,{key:i,className:r}))}return n});function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function Epe(t,e,n){return e&&xpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Spe(t,e,n){return e=uy(e),Ape(t,H$()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function Ape(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(t)}function Tpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function Ppe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function G$(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=Ipe(t,"string");return Tc(e)=="symbol"?e:e+""}function Ipe(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function Ope(t){var e=t.xAxisId,n=WE(),r=HE(),i=O$(e);return i==null?null:G.createElement(ef,Kw({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return zo(a,!0)}}))}var or=function(t){function e(){return wpe(this,e),Spe(this,e,arguments)}return Ppe(e,t),Epe(e,[{key:"render",value:function(){return G.createElement(Ope,this.props)}}])}(G.Component);G$(or,"displayName","XAxis");G$(or,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J$(r.key),r)}}function Npe(t,e,n){return e&&kpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jpe(t,e,n){return e=cy(e),Rpe(t,Y$()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function Rpe(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dpe(t)}function Dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y$=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function Mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function Q$(t,e,n){return e=J$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=$pe(t,"string");return Pc(e)=="symbol"?e:e+""}function $pe(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}var Lpe=function(e){var n=e.yAxisId,r=WE(),i=HE(),o=C$(n);return o==null?null:G.createElement(ef,Hw({},o,{className:st("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return zo(s,!0)}}))},ar=function(t){function e(){return Cpe(this,e),jpe(this,e,arguments)}return Mpe(e,t),Npe(e,[{key:"render",value:function(){return G.createElement(Lpe,this.props)}}])}(G.Component);Q$(ar,"displayName","YAxis");Q$(ar,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CC(t){return zpe(t)||Bpe(t)||Fpe(t)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(t,e){if(t){if(typeof t=="string")return Gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(t,e)}}function Bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zpe(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xw=function(e,n,r,i,o){var a=hi(e,Rv),s=hi(e,Mv),l=[].concat(CC(a),CC(s)),u=hi(e,Lv),f="".concat(i,"Id"),c=i[0],p=n;if(l.length&&(p=l.reduce(function(v,x){if(x.props[f]===r&&wo(x.props,"extendDomain")&&Ee(x.props[c])){var S=x.props[c];return[Math.min(v[0],S),Math.max(v[1],S)]}return v},p)),u.length){var g="".concat(c,"1"),_="".concat(c,"2");p=u.reduce(function(v,x){if(x.props[f]===r&&wo(x.props,"extendDomain")&&Ee(x.props[g])&&Ee(x.props[_])){var S=x.props[g],A=x.props[_];return[Math.min(v[0],S,A),Math.max(v[1],S,A)]}return v},p)}return o&&o.length&&(p=o.reduce(function(v,x){return Ee(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},p)),p},Z$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,c,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,c||l,p),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],g]:l._events[_].push(g):(l._events[_]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var p=0,g=c.length,_=new Array(g);p<g;p++)_[p]=c[p].fn;return _},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,p,g,_){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],S=arguments.length,A,P;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,c),!0;case 4:return x.fn.call(x.context,f,c,p),!0;case 5:return x.fn.call(x.context,f,c,p,g),!0;case 6:return x.fn.call(x.context,f,c,p,g,_),!0}for(P=1,A=new Array(S-1);P<S;P++)A[P-1]=arguments[P];x.fn.apply(x.context,A)}else{var R=x.length,T;for(P=0;P<R;P++)switch(x[P].once&&this.removeListener(u,x[P].fn,void 0,!0),S){case 1:x[P].fn.call(x[P].context);break;case 2:x[P].fn.call(x[P].context,f);break;case 3:x[P].fn.call(x[P].context,f,c);break;case 4:x[P].fn.call(x[P].context,f,c,p);break;default:if(!A)for(T=1,A=new Array(S-1);T<S;T++)A[T-1]=arguments[T];x[P].fn.apply(x[P].context,A)}}return!0},s.prototype.on=function(u,f,c){return o(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return o(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,p){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return a(this,g),this;var _=this._events[g];if(_.fn)_.fn===f&&(!p||_.once)&&(!c||_.context===c)&&a(this,g);else{for(var v=0,x=[],S=_.length;v<S;v++)(_[v].fn!==f||p&&!_[v].once||c&&_[v].context!==c)&&x.push(_[v]);x.length?this._events[g]=x.length===1?x[0]:x:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(Z$);var Upe=Z$.exports;const qpe=St(Upe);var ib=new qpe,ob="recharts.syncMouseEvents";function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eL(r.key),r)}}function Hpe(t,e,n){return e&&Wpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ab(t,e,n){return e=eL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eL(t){var e=Gpe(t,"string");return vd(e)=="symbol"?e:e+""}function Gpe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xpe=function(){function t(){Kpe(this,t),ab(this,"activeIndex",0),ab(this,"coordinateList",[]),ab(this,"layout","horizontal")}return Hpe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=o+l+u,p=a+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:c,pageY:p})}}}])}();function Ype(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function Qpe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function tL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=$n(e,n,r,i),s=$n(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Jpe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,c=e.angle,p=$n(s,l,u,c),g=$n(s,l,f,c);r=p.x,i=p.y,o=g.x,a=g.y}else return tL(e);return[{x:r,y:i},{x:o,y:a}]}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return bd(e)=="symbol"?e:e+""}function tme(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,c=t.layout,p=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var _,v=qu;if(p==="ScatterChart")_=a,v=Wue;else if(p==="BarChart")_=Qpe(c,a,l,f),v=BE;else if(c==="radial"){var x=tL(a),S=x.cx,A=x.cy,P=x.radius,R=x.startAngle,T=x.endAngle;_={cx:S,cy:A,startAngle:R,endAngle:T,innerRadius:P,outerRadius:P},v=t$}else _={points:Jpe(c,a,l)},v=qu;var O=Hp(Hp(Hp(Hp({stroke:"#ccc",pointerEvents:"none"},l),_),Qe(g,!1)),{},{payload:s,payloadIndex:u,className:st("recharts-tooltip-cursor",g.className)});return G.isValidElement(g)?G.cloneElement(g,O):G.createElement(v,O)}var rme=["item"],ime=["children","className","width","height","style","compact","title","desc"];function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}function NC(t,e){return sme(t)||ame(t,e)||rL(t,e)||ome()}function ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ame(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sme(t){if(Array.isArray(t))return t}function jC(t,e){if(t==null)return{};var n=lme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function fme(t,e,n){return e&&cme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=fy(e),dme(t,nL()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function dme(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function Oc(t){return vme(t)||yme(t)||rL(t)||gme()}function gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rL(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function yme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vme(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){Le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Le(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=bme(t,"string");return Ic(e)=="symbol"?e:e+""}function bme(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _me={xAxis:["bottom","top"],yAxis:["left","right"]},wme={width:"100%",height:"100%"},oL={x:0,y:0};function Gp(t){return t}var xme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Eme=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return pe(pe(pe({},i),$n(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return pe(pe(pe({},i),$n(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return oL},Vv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Oc(s),Oc(u)):s},[]);return a.length>0?a:e&&e.length&&Ee(i)&&Ee(o)?e.slice(i,o+1):[]};function aL(t){return t==="number"?[0,"auto"]:void 0}var Jw=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Vv(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var g=c===void 0?s:c;p=fg(g,a.dataKey,i)}else p=c&&c[r]||s[r];return p?[].concat(Oc(l),[JM(u,p)]):l},[])},DC=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=xme(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Pae(a,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,p=Jw(e,n,f,c),g=Eme(r,s,f,o);return{activeTooltipIndex:f,activeLabel:c,activePayload:p,activeCoordinate:g}}return null},Sme=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,p=e.stackOffset,g=XM(f,o);return r.reduce(function(_,v){var x,S=v.type.defaultProps!==void 0?pe(pe({},v.type.defaultProps),v.props):v.props,A=S.type,P=S.dataKey,R=S.allowDataOverflow,T=S.allowDuplicatedCategory,O=S.scale,w=S.ticks,I=S.includeHidden,k=S[a];if(_[k])return _;var $=Vv(e.data,{graphicalItems:i.filter(function(be){var ke,Ye=a in be.props?be.props[a]:(ke=be.type.defaultProps)===null||ke===void 0?void 0:ke[a];return Ye===k}),dataStartIndex:l,dataEndIndex:u}),D=$.length,V,M,re;Ype(S.domain,R,A)&&(V=mw(S.domain,null,R),g&&(A==="number"||O!=="auto")&&(re=ch($,P,"category")));var ie=aL(A);if(!V||V.length===0){var se,ge=(se=S.domain)!==null&&se!==void 0?se:ie;if(P){if(V=ch($,P,A),A==="category"&&g){var q=mK(V);T&&q?(M=V,V=Qg(0,D)):T||(V=fO(ge,V,v).reduce(function(be,ke){return be.indexOf(ke)>=0?be:[].concat(Oc(be),[ke])},[]))}else if(A==="category")T?V=V.filter(function(be){return be!==""&&!Je(be)}):V=fO(ge,V,v).reduce(function(be,ke){return be.indexOf(ke)>=0||ke===""||Je(ke)?be:[].concat(Oc(be),[ke])},[]);else if(A==="number"){var oe=Nae($,i.filter(function(be){var ke,Ye,ct=a in be.props?be.props[a]:(ke=be.type.defaultProps)===null||ke===void 0?void 0:ke[a],ht="hide"in be.props?be.props.hide:(Ye=be.type.defaultProps)===null||Ye===void 0?void 0:Ye.hide;return ct===k&&(I||!ht)}),P,o,f);oe&&(V=oe)}g&&(A==="number"||O!=="auto")&&(re=ch($,P,"category"))}else g?V=Qg(0,D):s&&s[k]&&s[k].hasStack&&A==="number"?V=p==="expand"?[0,1]:QM(s[k].stackGroups,l,u):V=GM($,i.filter(function(be){var ke=a in be.props?be.props[a]:be.type.defaultProps[a],Ye="hide"in be.props?be.props.hide:be.type.defaultProps.hide;return ke===k&&(I||!Ye)}),A,f,!0);if(A==="number")V=Xw(c,V,k,o,w),ge&&(V=mw(ge,V,R));else if(A==="category"&&ge){var de=ge,Te=V.every(function(be){return de.indexOf(be)>=0});Te&&(V=de)}}return pe(pe({},_),{},Le({},k,pe(pe({},S),{},{axisType:o,domain:V,categoricalDomain:re,duplicateDomain:M,originalDomain:(x=S.domain)!==null&&x!==void 0?x:ie,isCategorical:g,layout:f})))},{})},Ame=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,p=Vv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=p.length,_=XM(f,o),v=-1;return r.reduce(function(x,S){var A=S.type.defaultProps!==void 0?pe(pe({},S.type.defaultProps),S.props):S.props,P=A[a],R=aL("number");if(!x[P]){v++;var T;return _?T=Qg(0,g):s&&s[P]&&s[P].hasStack?(T=QM(s[P].stackGroups,l,u),T=Xw(c,T,P,o)):(T=mw(R,GM(p,r.filter(function(O){var w,I,k=a in O.props?O.props[a]:(w=O.type.defaultProps)===null||w===void 0?void 0:w[a],$="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return k===P&&!$}),"number",f),i.defaultProps.allowDataOverflow),T=Xw(c,T,P,o)),pe(pe({},x),{},Le({},P,pe(pe({axisType:o},i.defaultProps),{},{hide:!0,orientation:fi(_me,"".concat(o,".").concat(v%2),null),domain:T,originalDomain:R,isCategorical:_,layout:f})))}return x},{})},Tme=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),p=hi(f,o),g={};return p&&p.length?g=Sme(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=Ame(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},Pme=function(e){var n=Da(e),r=zo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:zg(n,r)}},MC=function(e){var n=e.children,r=e.defaultShowTooltip,i=Lr(n,yc),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Ime=function(e){return!e||!e.length?!1:e.some(function(n){var r=Wo(n&&n.type);return r&&r.indexOf("Bar")>=0})},$C=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ome=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,p=r.margin||{},g=Lr(c,yc),_=Lr(c,cl),v=Object.keys(l).reduce(function(T,O){var w=l[O],I=w.orientation;return!w.mirror&&!w.hide?pe(pe({},T),{},Le({},I,T[I]+w.width)):T},{left:p.left||0,right:p.right||0}),x=Object.keys(a).reduce(function(T,O){var w=a[O],I=w.orientation;return!w.mirror&&!w.hide?pe(pe({},T),{},Le({},I,fi(T,"".concat(I))+w.height)):T},{top:p.top||0,bottom:p.bottom||0}),S=pe(pe({},x),v),A=S.bottom;g&&(S.bottom+=g.props.height||yc.defaultProps.height),_&&n&&(S=Cae(S,i,r,n));var P=u-S.left-S.right,R=f-S.top-S.bottom;return pe(pe({brushBottom:A},S),{},{width:Math.max(P,0),height:Math.max(R,0)})},Cme=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},JE=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,c=e.defaultProps,p=function(S,A){var P=A.graphicalItems,R=A.stackGroups,T=A.offset,O=A.updateId,w=A.dataStartIndex,I=A.dataEndIndex,k=S.barSize,$=S.layout,D=S.barGap,V=S.barCategoryGap,M=S.maxBarSize,re=$C($),ie=re.numericAxisName,se=re.cateAxisName,ge=Ime(P),q=[];return P.forEach(function(oe,de){var Te=Vv(S.data,{graphicalItems:[oe],dataStartIndex:w,dataEndIndex:I}),be=oe.type.defaultProps!==void 0?pe(pe({},oe.type.defaultProps),oe.props):oe.props,ke=be.dataKey,Ye=be.maxBarSize,ct=be["".concat(ie,"Id")],ht=be["".concat(se,"Id")],nn={},rn=l.reduce(function(Ut,Wr){var Hr=A["".concat(Wr.axisType,"Map")],Es=be["".concat(Wr.axisType,"Id")];Hr&&Hr[Es]||Wr.axisType==="zAxis"||Il();var hr=Hr[Es];return pe(pe({},Ut),{},Le(Le({},Wr.axisType,hr),"".concat(Wr.axisType,"Ticks"),zo(hr)))},nn),fe=rn[se],Be=rn["".concat(se,"Ticks")],ze=R&&R[ct]&&R[ct].hasStack&&qae(oe,R[ct].stackGroups),he=Wo(oe.type).indexOf("Bar")>=0,dt=zg(fe,Be),Ze=[],bt=ge&&Iae({barSize:k,stackGroups:R,totalSize:Cme(rn,se)});if(he){var jt,on,Or=Je(Ye)?M:Ye,Rt=(jt=(on=zg(fe,Be,!0))!==null&&on!==void 0?on:Or)!==null&&jt!==void 0?jt:0;Ze=Oae({barGap:D,barCategoryGap:V,bandSize:Rt!==dt?Rt:dt,sizeList:bt[ht],maxBarSize:Or}),Rt!==dt&&(Ze=Ze.map(function(Ut){return pe(pe({},Ut),{},{position:pe(pe({},Ut.position),{},{offset:Ut.position.offset-Rt/2})})}))}var Ft=oe&&oe.type&&oe.type.getComposedData;Ft&&q.push({props:pe(pe({},Ft(pe(pe({},rn),{},{displayedData:Te,props:S,dataKey:ke,item:oe,bandSize:dt,barPosition:Ze,offset:T,stackedData:ze,layout:$,dataStartIndex:w,dataEndIndex:I}))),{},Le(Le(Le({key:oe.key||"item-".concat(de)},ie,rn[ie]),se,rn[se]),"animationId",O)),childIndex:PK(oe,S.children),item:oe})}),q},g=function(S,A){var P=S.props,R=S.dataStartIndex,T=S.dataEndIndex,O=S.updateId;if(!oP({props:P}))return null;var w=P.children,I=P.layout,k=P.stackOffset,$=P.data,D=P.reverseStackOrder,V=$C(I),M=V.numericAxisName,re=V.cateAxisName,ie=hi(w,r),se=Bae($,ie,"".concat(M,"Id"),"".concat(re,"Id"),k,D),ge=l.reduce(function(be,ke){var Ye="".concat(ke.axisType,"Map");return pe(pe({},be),{},Le({},Ye,Tme(P,pe(pe({},ke),{},{graphicalItems:ie,stackGroups:ke.axisType===M&&se,dataStartIndex:R,dataEndIndex:T}))))},{}),q=Ome(pe(pe({},ge),{},{props:P,graphicalItems:ie}),A==null?void 0:A.legendBBox);Object.keys(ge).forEach(function(be){ge[be]=f(P,ge[be],q,be.replace("Map",""),n)});var oe=ge["".concat(re,"Map")],de=Pme(oe),Te=p(P,pe(pe({},ge),{},{dataStartIndex:R,dataEndIndex:T,updateId:O,graphicalItems:ie,stackGroups:se,offset:q}));return pe(pe({formattedGraphicalItems:Te,graphicalItems:ie,offset:q,stackGroups:se},de),ge)},_=function(x){function S(A){var P,R,T;return ume(this,S),T=hme(this,S,[A]),Le(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(T,"accessibilityManager",new Xpe),Le(T,"handleLegendBBoxUpdate",function(O){if(O){var w=T.state,I=w.dataStartIndex,k=w.dataEndIndex,$=w.updateId;T.setState(pe({legendBBox:O},g({props:T.props,dataStartIndex:I,dataEndIndex:k,updateId:$},pe(pe({},T.state),{},{legendBBox:O}))))}}),Le(T,"handleReceiveSyncEvent",function(O,w,I){if(T.props.syncId===O){if(I===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(w)}}),Le(T,"handleBrushChange",function(O){var w=O.startIndex,I=O.endIndex;if(w!==T.state.dataStartIndex||I!==T.state.dataEndIndex){var k=T.state.updateId;T.setState(function(){return pe({dataStartIndex:w,dataEndIndex:I},g({props:T.props,dataStartIndex:w,dataEndIndex:I,updateId:k},T.state))}),T.triggerSyncEvent({dataStartIndex:w,dataEndIndex:I})}}),Le(T,"handleMouseEnter",function(O){var w=T.getMouseInfo(O);if(w){var I=pe(pe({},w),{},{isTooltipActive:!0});T.setState(I),T.triggerSyncEvent(I);var k=T.props.onMouseEnter;Xe(k)&&k(I,O)}}),Le(T,"triggeredAfterMouseMove",function(O){var w=T.getMouseInfo(O),I=w?pe(pe({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(I),T.triggerSyncEvent(I);var k=T.props.onMouseMove;Xe(k)&&k(I,O)}),Le(T,"handleItemMouseEnter",function(O){T.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Le(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Le(T,"handleMouseMove",function(O){O.persist(),T.throttleTriggeredAfterMouseMove(O)}),Le(T,"handleMouseLeave",function(O){T.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};T.setState(w),T.triggerSyncEvent(w);var I=T.props.onMouseLeave;Xe(I)&&I(w,O)}),Le(T,"handleOuterEvent",function(O){var w=TK(O),I=fi(T.props,"".concat(w));if(w&&Xe(I)){var k,$;/.*touch.*/i.test(w)?$=T.getMouseInfo(O.changedTouches[0]):$=T.getMouseInfo(O),I((k=$)!==null&&k!==void 0?k:{},O)}}),Le(T,"handleClick",function(O){var w=T.getMouseInfo(O);if(w){var I=pe(pe({},w),{},{isTooltipActive:!0});T.setState(I),T.triggerSyncEvent(I);var k=T.props.onClick;Xe(k)&&k(I,O)}}),Le(T,"handleMouseDown",function(O){var w=T.props.onMouseDown;if(Xe(w)){var I=T.getMouseInfo(O);w(I,O)}}),Le(T,"handleMouseUp",function(O){var w=T.props.onMouseUp;if(Xe(w)){var I=T.getMouseInfo(O);w(I,O)}}),Le(T,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Le(T,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.handleMouseDown(O.changedTouches[0])}),Le(T,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.handleMouseUp(O.changedTouches[0])}),Le(T,"handleDoubleClick",function(O){var w=T.props.onDoubleClick;if(Xe(w)){var I=T.getMouseInfo(O);w(I,O)}}),Le(T,"handleContextMenu",function(O){var w=T.props.onContextMenu;if(Xe(w)){var I=T.getMouseInfo(O);w(I,O)}}),Le(T,"triggerSyncEvent",function(O){T.props.syncId!==void 0&&ib.emit(ob,T.props.syncId,O,T.eventEmitterSymbol)}),Le(T,"applySyncEvent",function(O){var w=T.props,I=w.layout,k=w.syncMethod,$=T.state.updateId,D=O.dataStartIndex,V=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)T.setState(pe({dataStartIndex:D,dataEndIndex:V},g({props:T.props,dataStartIndex:D,dataEndIndex:V,updateId:$},T.state)));else if(O.activeTooltipIndex!==void 0){var M=O.chartX,re=O.chartY,ie=O.activeTooltipIndex,se=T.state,ge=se.offset,q=se.tooltipTicks;if(!ge)return;if(typeof k=="function")ie=k(q,O);else if(k==="value"){ie=-1;for(var oe=0;oe<q.length;oe++)if(q[oe].value===O.activeLabel){ie=oe;break}}var de=pe(pe({},ge),{},{x:ge.left,y:ge.top}),Te=Math.min(M,de.x+de.width),be=Math.min(re,de.y+de.height),ke=q[ie]&&q[ie].value,Ye=Jw(T.state,T.props.data,ie),ct=q[ie]?{x:I==="horizontal"?q[ie].coordinate:Te,y:I==="horizontal"?be:q[ie].coordinate}:oL;T.setState(pe(pe({},O),{},{activeLabel:ke,activeCoordinate:ct,activePayload:Ye,activeTooltipIndex:ie}))}else T.setState(O)}),Le(T,"renderCursor",function(O){var w,I=T.state,k=I.isTooltipActive,$=I.activeCoordinate,D=I.activePayload,V=I.offset,M=I.activeTooltipIndex,re=I.tooltipAxisBandSize,ie=T.getTooltipEventType(),se=(w=O.props.active)!==null&&w!==void 0?w:k,ge=T.props.layout,q=O.key||"_recharts-cursor";return K.createElement(nme,{key:q,activeCoordinate:$,activePayload:D,activeTooltipIndex:M,chartName:n,element:O,isActive:se,layout:ge,offset:V,tooltipAxisBandSize:re,tooltipEventType:ie})}),Le(T,"renderPolarAxis",function(O,w,I){var k=fi(O,"type.axisType"),$=fi(T.state,"".concat(k,"Map")),D=O.type.defaultProps,V=D!==void 0?pe(pe({},D),O.props):O.props,M=$&&$[V["".concat(k,"Id")]];return G.cloneElement(O,pe(pe({},M),{},{className:st(k,M.className),key:O.key||"".concat(w,"-").concat(I),ticks:zo(M,!0)}))}),Le(T,"renderPolarGrid",function(O){var w=O.props,I=w.radialLines,k=w.polarAngles,$=w.polarRadius,D=T.state,V=D.radiusAxisMap,M=D.angleAxisMap,re=Da(V),ie=Da(M),se=ie.cx,ge=ie.cy,q=ie.innerRadius,oe=ie.outerRadius;return G.cloneElement(O,{polarAngles:Array.isArray(k)?k:zo(ie,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray($)?$:zo(re,!0).map(function(de){return de.coordinate}),cx:se,cy:ge,innerRadius:q,outerRadius:oe,key:O.key||"polar-grid",radialLines:I})}),Le(T,"renderLegend",function(){var O=T.state.formattedGraphicalItems,w=T.props,I=w.children,k=w.width,$=w.height,D=T.props.margin||{},V=k-(D.left||0)-(D.right||0),M=WM({children:I,formattedGraphicalItems:O,legendWidth:V,legendContent:u});if(!M)return null;var re=M.item,ie=jC(M,rme);return G.cloneElement(re,pe(pe({},ie),{},{chartWidth:k,chartHeight:$,margin:D,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Le(T,"renderTooltip",function(){var O,w=T.props,I=w.children,k=w.accessibilityLayer,$=Lr(I,_n);if(!$)return null;var D=T.state,V=D.isTooltipActive,M=D.activeCoordinate,re=D.activePayload,ie=D.activeLabel,se=D.offset,ge=(O=$.props.active)!==null&&O!==void 0?O:V;return G.cloneElement($,{viewBox:pe(pe({},se),{},{x:se.left,y:se.top}),active:ge,label:ie,payload:ge?re:[],coordinate:M,accessibilityLayer:k})}),Le(T,"renderBrush",function(O){var w=T.props,I=w.margin,k=w.data,$=T.state,D=$.offset,V=$.dataStartIndex,M=$.dataEndIndex,re=$.updateId;return G.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Up(T.handleBrushChange,O.props.onChange),data:k,x:Ee(O.props.x)?O.props.x:D.left,y:Ee(O.props.y)?O.props.y:D.top+D.height+D.brushBottom-(I.bottom||0),width:Ee(O.props.width)?O.props.width:D.width,startIndex:V,endIndex:M,updateId:"brush-".concat(re)})}),Le(T,"renderReferenceElement",function(O,w,I){if(!O)return null;var k=T,$=k.clipPathId,D=T.state,V=D.xAxisMap,M=D.yAxisMap,re=D.offset,ie=O.type.defaultProps||{},se=O.props,ge=se.xAxisId,q=ge===void 0?ie.xAxisId:ge,oe=se.yAxisId,de=oe===void 0?ie.yAxisId:oe;return G.cloneElement(O,{key:O.key||"".concat(w,"-").concat(I),xAxis:V[q],yAxis:M[de],viewBox:{x:re.left,y:re.top,width:re.width,height:re.height},clipPathId:$})}),Le(T,"renderActivePoints",function(O){var w=O.item,I=O.activePoint,k=O.basePoint,$=O.childIndex,D=O.isRange,V=[],M=w.props.key,re=w.item.type.defaultProps!==void 0?pe(pe({},w.item.type.defaultProps),w.item.props):w.item.props,ie=re.activeDot,se=re.dataKey,ge=pe(pe({index:$,dataKey:se,cx:I.x,cy:I.y,r:4,fill:FE(w.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Qe(ie,!1)),hg(ie));return V.push(S.renderActiveDot(ie,ge,"".concat(M,"-activePoint-").concat($))),k?V.push(S.renderActiveDot(ie,pe(pe({},ge),{},{cx:k.x,cy:k.y}),"".concat(M,"-basePoint-").concat($))):D&&V.push(null),V}),Le(T,"renderGraphicChild",function(O,w,I){var k=T.filterFormatItem(O,w,I);if(!k)return null;var $=T.getTooltipEventType(),D=T.state,V=D.isTooltipActive,M=D.tooltipAxis,re=D.activeTooltipIndex,ie=D.activeLabel,se=T.props.children,ge=Lr(se,_n),q=k.props,oe=q.points,de=q.isRange,Te=q.baseLine,be=k.item.type.defaultProps!==void 0?pe(pe({},k.item.type.defaultProps),k.item.props):k.item.props,ke=be.activeDot,Ye=be.hide,ct=be.activeBar,ht=be.activeShape,nn=!!(!Ye&&V&&ge&&(ke||ct||ht)),rn={};$!=="axis"&&ge&&ge.props.trigger==="click"?rn={onClick:Up(T.handleItemMouseEnter,O.props.onClick)}:$!=="axis"&&(rn={onMouseLeave:Up(T.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Up(T.handleItemMouseEnter,O.props.onMouseEnter)});var fe=G.cloneElement(O,pe(pe({},k.props),rn));function Be(Wr){return typeof M.dataKey=="function"?M.dataKey(Wr.payload):null}if(nn)if(re>=0){var ze,he;if(M.dataKey&&!M.allowDuplicatedCategory){var dt=typeof M.dataKey=="function"?Be:"payload.".concat(M.dataKey.toString());ze=fg(oe,dt,ie),he=de&&Te&&fg(Te,dt,ie)}else ze=oe==null?void 0:oe[re],he=de&&Te&&Te[re];if(ht||ct){var Ze=O.props.activeIndex!==void 0?O.props.activeIndex:re;return[G.cloneElement(O,pe(pe(pe({},k.props),rn),{},{activeIndex:Ze})),null,null]}if(!Je(ze))return[fe].concat(Oc(T.renderActivePoints({item:k,activePoint:ze,basePoint:he,childIndex:re,isRange:de})))}else{var bt,jt=(bt=T.getItemByXY(T.state.activeCoordinate))!==null&&bt!==void 0?bt:{graphicalItem:fe},on=jt.graphicalItem,Or=on.item,Rt=Or===void 0?O:Or,Ft=on.childIndex,Ut=pe(pe(pe({},k.props),rn),{},{activeIndex:Ft});return[G.cloneElement(Rt,Ut),null,null]}return de?[fe,null,null]:[fe,null]}),Le(T,"renderCustomized",function(O,w,I){return G.cloneElement(O,pe(pe({key:"recharts-customized-".concat(I)},T.props),T.state))}),Le(T,"renderMap",{CartesianGrid:{handler:Gp,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Gp},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Gp},YAxis:{handler:Gp},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((P=A.id)!==null&&P!==void 0?P:Hc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=WD(T.triggeredAfterMouseMove,(R=A.throttleDelay)!==null&&R!==void 0?R:1e3/60),T.state={},T}return mme(S,x),fme(S,[{key:"componentDidMount",value:function(){var P,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,R=P.children,T=P.data,O=P.height,w=P.layout,I=Lr(R,_n);if(I){var k=I.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,D=Jw(this.state,T,k,$),V=this.state.tooltipTicks[k].coordinate,M=(this.state.offset.top+O)/2,re=w==="horizontal",ie=re?{x:V,y:M}:{y:V,x:M},se=this.state.formattedGraphicalItems.find(function(q){var oe=q.item;return oe.type.name==="Scatter"});se&&(ie=pe(pe({},ie),se.props.points[k].tooltipPosition),D=se.props.points[k].tooltipPayload);var ge={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:$,activePayload:D,activeCoordinate:ie};this.setState(ge),this.renderCursor(I),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var T,O;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(P){C_([Lr(P.children,_n)],[Lr(this.props.children,_n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Lr(this.props.children,_n);if(P&&typeof P.props.shared=="boolean"){var R=P.props.shared?"axis":"item";return s.indexOf(R)>=0?R:o}return o}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var R=this.container,T=R.getBoundingClientRect(),O=Zte(T),w={chartX:Math.round(P.pageX-O.left),chartY:Math.round(P.pageY-O.top)},I=T.width/R.offsetWidth||1,k=this.inRange(w.chartX,w.chartY,I);if(!k)return null;var $=this.state,D=$.xAxisMap,V=$.yAxisMap,M=this.getTooltipEventType(),re=DC(this.state,this.props.data,this.props.layout,k);if(M!=="axis"&&D&&V){var ie=Da(D).scale,se=Da(V).scale,ge=ie&&ie.invert?ie.invert(w.chartX):null,q=se&&se.invert?se.invert(w.chartY):null;return pe(pe({},w),{},{xValue:ge,yValue:q},re)}return re?pe(pe({},w),re):null}},{key:"inRange",value:function(P,R){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,w=P/T,I=R/T;if(O==="horizontal"||O==="vertical"){var k=this.state.offset,$=w>=k.left&&w<=k.left+k.width&&I>=k.top&&I<=k.top+k.height;return $?{x:w,y:I}:null}var D=this.state,V=D.angleAxisMap,M=D.radiusAxisMap;if(V&&M){var re=Da(V);return pO({x:w,y:I},re)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,R=this.getTooltipEventType(),T=Lr(P,_n),O={};T&&R==="axis"&&(T.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=hg(this.props,this.handleOuterEvent);return pe(pe({},w),O)}},{key:"addListener",value:function(){ib.on(ob,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ib.removeListener(ob,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,R,T){for(var O=this.state.formattedGraphicalItems,w=0,I=O.length;w<I;w++){var k=O[w];if(k.item===P||k.props.key===P.key||R===Wo(k.item.type)&&T===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,R=this.state.offset,T=R.left,O=R.top,w=R.height,I=R.width;return K.createElement("defs",null,K.createElement("clipPath",{id:P},K.createElement("rect",{x:T,y:O,height:w,width:I})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(R,T){var O=NC(T,2),w=O[0],I=O[1];return pe(pe({},R),{},Le({},w,I.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(R,T){var O=NC(T,2),w=O[0],I=O[1];return pe(pe({},R),{},Le({},w,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(P){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(P){var R=this.state,T=R.formattedGraphicalItems,O=R.activeItem;if(T&&T.length)for(var w=0,I=T.length;w<I;w++){var k=T[w],$=k.props,D=k.item,V=D.type.defaultProps!==void 0?pe(pe({},D.type.defaultProps),D.props):D.props,M=Wo(D.type);if(M==="Bar"){var re=($.data||[]).find(function(q){return Mue(P,q)});if(re)return{graphicalItem:k,payload:re}}else if(M==="RadialBar"){var ie=($.data||[]).find(function(q){return pO(P,q)});if(ie)return{graphicalItem:k,payload:ie}}else if(kv(k,O)||Nv(k,O)||dd(k,O)){var se=Vce({graphicalItem:k,activeTooltipItem:O,itemData:V.data}),ge=V.activeIndex===void 0?se:V.activeIndex;return{graphicalItem:pe(pe({},k),{},{childIndex:ge}),payload:dd(k,O)?V.data[se]:k.props.data[se]}}}return null}},{key:"render",value:function(){var P=this;if(!oP(this))return null;var R=this.props,T=R.children,O=R.className,w=R.width,I=R.height,k=R.style,$=R.compact,D=R.title,V=R.desc,M=jC(R,ime),re=Qe(M,!1);if($)return K.createElement(hC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(N_,Ou({},re,{width:w,height:I,title:D,desc:V}),this.renderClipPath(),sP(T,this.renderMap)));if(this.props.accessibilityLayer){var ie,se;re.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,re.role=(se=this.props.role)!==null&&se!==void 0?se:"application",re.onKeyDown=function(q){P.accessibilityManager.keyboardEvent(q)},re.onFocus=function(){P.accessibilityManager.focus()}}var ge=this.parseEventsOfWrapper();return K.createElement(hC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Ou({className:st("recharts-wrapper",O),style:pe({position:"relative",cursor:"default",width:w,height:I},k)},ge,{ref:function(oe){P.container=oe}}),K.createElement(N_,Ou({},re,{width:w,height:I,title:D,desc:V,style:wme}),this.renderClipPath(),sP(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(G.Component);Le(_,"displayName",n),Le(_,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),Le(_,"getDerivedStateFromProps",function(x,S){var A=x.dataKey,P=x.data,R=x.children,T=x.width,O=x.height,w=x.layout,I=x.stackOffset,k=x.margin,$=S.dataStartIndex,D=S.dataEndIndex;if(S.updateId===void 0){var V=MC(x);return pe(pe(pe({},V),{},{updateId:0},g(pe(pe({props:x},V),{},{updateId:0}),S)),{},{prevDataKey:A,prevData:P,prevWidth:T,prevHeight:O,prevLayout:w,prevStackOffset:I,prevMargin:k,prevChildren:R})}if(A!==S.prevDataKey||P!==S.prevData||T!==S.prevWidth||O!==S.prevHeight||w!==S.prevLayout||I!==S.prevStackOffset||!Bu(k,S.prevMargin)){var M=MC(x),re={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},ie=pe(pe({},DC(S,P,w)),{},{updateId:S.updateId+1}),se=pe(pe(pe({},M),re),ie);return pe(pe(pe({},se),g(pe({props:x},se),S)),{},{prevDataKey:A,prevData:P,prevWidth:T,prevHeight:O,prevLayout:w,prevStackOffset:I,prevMargin:k,prevChildren:R})}if(!C_(R,S.prevChildren)){var ge,q,oe,de,Te=Lr(R,yc),be=Te&&(ge=(q=Te.props)===null||q===void 0?void 0:q.startIndex)!==null&&ge!==void 0?ge:$,ke=Te&&(oe=(de=Te.props)===null||de===void 0?void 0:de.endIndex)!==null&&oe!==void 0?oe:D,Ye=be!==$||ke!==D,ct=!Je(P),ht=ct&&!Ye?S.updateId:S.updateId+1;return pe(pe({updateId:ht},g(pe(pe({props:x},S),{},{updateId:ht,dataStartIndex:be,dataEndIndex:ke}),S)),{},{prevChildren:R,dataStartIndex:be,dataEndIndex:ke})}return null}),Le(_,"renderActiveDot",function(x,S,A){var P;return G.isValidElement(x)?P=G.cloneElement(x,S):Xe(x)?P=x(S):P=K.createElement(Cv,S),K.createElement(Nt,{className:"recharts-active-dot",key:A},P)});var v=G.forwardRef(function(S,A){return K.createElement(_,Ou({},S,{ref:A}))});return v.displayName=_.displayName,v},kme=JE({chartName:"LineChart",GraphicalChild:Sc,axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:ar}],formatAxisMap:zE}),Ba=JE({chartName:"BarChart",GraphicalChild:Er,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:ar}],formatAxisMap:zE}),Nme=JE({chartName:"AreaChart",GraphicalChild:xs,axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:ar}],formatAxisMap:zE}),sL={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(du,function(){var n=function(d,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var j in C)Object.prototype.hasOwnProperty.call(C,j)&&(b[j]=C[j])})(d,m)},r=function(){return(r=Object.assign||function(d){for(var m,b=1,C=arguments.length;b<C;b++)for(var j in m=arguments[b])Object.prototype.hasOwnProperty.call(m,j)&&(d[j]=m[j]);return d}).apply(this,arguments)};function i(d,m,b){for(var C,j=0,L=m.length;j<L;j++)!C&&j in m||((C=C||Array.prototype.slice.call(m,0,j))[j]=m[j]);return d.concat(C||Array.prototype.slice.call(m))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:du,a=Object.keys,s=Array.isArray;function l(d,m){return typeof m!="object"||a(m).forEach(function(b){d[b]=m[b]}),d}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function c(d,m){return f.call(d,m)}function p(d,m){typeof m=="function"&&(m=m(u(d))),(typeof Reflect>"u"?a:Reflect.ownKeys)(m).forEach(function(b){_(d,b,m[b])})}var g=Object.defineProperty;function _(d,m,b,C){g(d,m,l(b&&c(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},C))}function v(d){return{from:function(m){return d.prototype=Object.create(m.prototype),_(d.prototype,"constructor",d),{extend:p.bind(null,d.prototype)}}}}var x=Object.getOwnPropertyDescriptor,S=[].slice;function A(d,m,b){return S.call(d,m,b)}function P(d,m){return m(d)}function R(d){if(!d)throw new Error("Assertion Failed")}function T(d){o.setImmediate?setImmediate(d):setTimeout(d,0)}function O(d,m){if(typeof m=="string"&&c(d,m))return d[m];if(!m)return d;if(typeof m!="string"){for(var b=[],C=0,j=m.length;C<j;++C){var L=O(d,m[C]);b.push(L)}return b}var B=m.indexOf(".");if(B!==-1){var z=d[m.substr(0,B)];return z==null?void 0:O(z,m.substr(B+1))}}function w(d,m,b){if(d&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof m!="string"&&"length"in m){R(typeof b!="string"&&"length"in b);for(var C=0,j=m.length;C<j;++C)w(d,m[C],b[C])}else{var L,B,z=m.indexOf(".");z!==-1?(L=m.substr(0,z),(B=m.substr(z+1))===""?b===void 0?s(d)&&!isNaN(parseInt(L))?d.splice(L,1):delete d[L]:d[L]=b:w(z=!(z=d[L])||!c(d,L)?d[L]={}:z,B,b)):b===void 0?s(d)&&!isNaN(parseInt(m))?d.splice(m,1):delete d[m]:d[m]=b}}function I(d){var m,b={};for(m in d)c(d,m)&&(b[m]=d[m]);return b}var k=[].concat;function $(d){return k.apply([],d)}var Wi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(m){return m+d+"Array"})}))).filter(function(d){return o[d]}),D=new Set(Wi.map(function(d){return o[d]})),V=null;function M(d){return V=new WeakMap,d=function m(b){if(!b||typeof b!="object")return b;var C=V.get(b);if(C)return C;if(s(b)){C=[],V.set(b,C);for(var j=0,L=b.length;j<L;++j)C.push(m(b[j]))}else if(D.has(b.constructor))C=b;else{var B,z=u(b);for(B in C=z===Object.prototype?{}:Object.create(z),V.set(b,C),b)c(b,B)&&(C[B]=m(b[B]))}return C}(d),V=null,d}var re={}.toString;function ie(d){return re.call(d).slice(8,-1)}var se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof se=="symbol"?function(d){var m;return d!=null&&(m=d[se])&&m.apply(d)}:function(){return null};function q(d,m){return m=d.indexOf(m),0<=m&&d.splice(m,1),0<=m}var oe={};function de(d){var m,b,C,j;if(arguments.length===1){if(s(d))return d.slice();if(this===oe&&typeof d=="string")return[d];if(j=ge(d)){for(b=[];!(C=j.next()).done;)b.push(C.value);return b}if(d==null)return[d];if(typeof(m=d.length)!="number")return[d];for(b=new Array(m);m--;)b[m]=d[m];return b}for(m=arguments.length,b=new Array(m);m--;)b[m]=arguments[m];return b}var Te=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},hr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(hr),be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ke(d,m){this.name=d,this.message=m}function Ye(d,m){return d+". Errors: "+Object.keys(m).map(function(b){return m[b].toString()}).filter(function(b,C,j){return j.indexOf(b)===C}).join(`
`)}function ct(d,m,b,C){this.failures=m,this.failedKeys=C,this.successCount=b,this.message=Ye(d,m)}function ht(d,m){this.name="BulkError",this.failures=Object.keys(m).map(function(b){return m[b]}),this.failuresByPos=m,this.message=Ye(d,this.failures)}v(ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(ct).from(ke),v(ht).from(ke);var nn=Zr.reduce(function(d,m){return d[m]=m+"Error",d},{}),rn=ke,fe=Zr.reduce(function(d,m){var b=m+"Error";function C(j,L){this.name=b,j?typeof j=="string"?(this.message="".concat(j).concat(L?`
 `+L:""),this.inner=L||null):typeof j=="object"&&(this.message="".concat(j.name," ").concat(j.message),this.inner=j):(this.message=be[m]||b,this.inner=null)}return v(C).from(rn),d[m]=C,d},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var Be=hr.reduce(function(d,m){return d[m+"Error"]=fe[m],d},{}),ze=Zr.reduce(function(d,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(d[m+"Error"]=fe[m]),d},{});function he(){}function dt(d){return d}function Ze(d,m){return d==null||d===dt?m:function(b){return m(d(b))}}function bt(d,m){return function(){d.apply(this,arguments),m.apply(this,arguments)}}function jt(d,m){return d===he?m:function(){var b=d.apply(this,arguments);b!==void 0&&(arguments[0]=b);var C=this.onsuccess,j=this.onerror;this.onsuccess=null,this.onerror=null;var L=m.apply(this,arguments);return C&&(this.onsuccess=this.onsuccess?bt(C,this.onsuccess):C),j&&(this.onerror=this.onerror?bt(j,this.onerror):j),L!==void 0?L:b}}function on(d,m){return d===he?m:function(){d.apply(this,arguments);var b=this.onsuccess,C=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?bt(b,this.onsuccess):b),C&&(this.onerror=this.onerror?bt(C,this.onerror):C)}}function Or(d,m){return d===he?m:function(b){var C=d.apply(this,arguments);l(b,C);var j=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,b=m.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?bt(j,this.onsuccess):j),L&&(this.onerror=this.onerror?bt(L,this.onerror):L),C===void 0?b===void 0?void 0:b:l(C,b)}}function Rt(d,m){return d===he?m:function(){return m.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function Ft(d,m){return d===he?m:function(){var b=d.apply(this,arguments);if(b&&typeof b.then=="function"){for(var C=this,j=arguments.length,L=new Array(j);j--;)L[j]=arguments[j];return b.then(function(){return m.apply(C,L)})}return m.apply(this,arguments)}}ze.ModifyError=ct,ze.DexieError=ke,ze.BulkError=ht;var Ut=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wr(d){Ut=d}var Hr={},Es=100,Wi=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,u(m),d]}(),hr=Wi[0],Zr=Wi[1],Wi=Wi[2],Zr=Zr&&Zr.then,Hi=hr&&hr.constructor,Ss=!!Wi,As=function(d,m){fa.push([d,m]),Ts&&(queueMicrotask(Bv),Ts=!1)},nf=!0,Ts=!0,Gi=[],Xi=[],Ps=dt,Gr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:he,pgp:!1,env:{},finalize:he},Re=Gr,fa=[],Xr=0,Is=[];function Pe(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Re;if(typeof d!="function"){if(d!==Hr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bl(this,this._value))}this._state=null,this._value=null,++m.ref,function b(C,j){try{j(function(L){if(C._state===null){if(L===C)throw new TypeError("A promise cannot be resolved with itself.");var B=C._lib&&Cr();L&&typeof L.then=="function"?b(C,function(z,W){L instanceof Pe?L._then(z,W):L.then(z,W)}):(C._state=!0,C._value=L,ha(C)),B&&da()}},Bl.bind(null,C))}catch(L){Bl(C,L)}}(this,d)}var Fl={get:function(){var d=Re,m=kr;function b(C,j){var L=this,B=!d.global&&(d!==Re||m!==kr),z=B&&!Yr(),W=new Pe(function(X,Q){To(L,new An(af(C,d,B,z),af(j,d,B,z),X,Q,d))});return this._consoleTask&&(W._consoleTask=this._consoleTask),W}return b.prototype=Hr,b},set:function(d){_(this,"then",d&&d.prototype===Hr?Fl:{get:function(){return d},set:Fl.set})}};function An(d,m,b,C,j){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof m=="function"?m:null,this.resolve=b,this.reject=C,this.psd=j}function Bl(d,m){var b,C;Xi.push(m),d._state===null&&(b=d._lib&&Cr(),m=Ps(m),d._state=!1,d._value=m,C=d,Gi.some(function(j){return j._value===C._value})||Gi.push(C),ha(d),b&&da())}function ha(d){var m=d._listeners;d._listeners=[];for(var b=0,C=m.length;b<C;++b)To(d,m[b]);var j=d._PSD;--j.ref||j.finalize(),Xr===0&&(++Xr,As(function(){--Xr==0&&rf()},[]))}function To(d,m){if(d._state!==null){var b=d._state?m.onFulfilled:m.onRejected;if(b===null)return(d._state?m.resolve:m.reject)(d._value);++m.psd.ref,++Xr,As(Fv,[b,d,m])}else d._listeners.push(m)}function Fv(d,m,b){try{var C,j=m._value;!m._state&&Xi.length&&(Xi=[]),C=Ut&&m._consoleTask?m._consoleTask.run(function(){return d(j)}):d(j),m._state||Xi.indexOf(j)!==-1||function(L){for(var B=Gi.length;B;)if(Gi[--B]._value===L._value)return Gi.splice(B,1)}(m),b.resolve(C)}catch(L){b.reject(L)}finally{--Xr==0&&rf(),--b.psd.ref||b.psd.finalize()}}function Bv(){Qr(Gr,function(){Cr()&&da()})}function Cr(){var d=nf;return Ts=nf=!1,d}function da(){var d,m,b;do for(;0<fa.length;)for(d=fa,fa=[],b=d.length,m=0;m<b;++m){var C=d[m];C[0].apply(null,C[1])}while(0<fa.length);Ts=nf=!0}function rf(){var d=Gi;Gi=[],d.forEach(function(C){C._PSD.onunhandled.call(null,C._value,C)});for(var m=Is.slice(0),b=m.length;b;)m[--b]()}function Po(d){return new Pe(Hr,!1,d)}function At(d,m){var b=Re;return function(){var C=Cr(),j=Re;try{return wi(b,!0),d.apply(this,arguments)}catch(L){m&&m(L)}finally{wi(j,!1),C&&da()}}}p(Pe.prototype,{then:Fl,_then:function(d,m){To(this,new An(null,null,d,m,Re))},catch:function(d){if(arguments.length===1)return this.then(null,d);var m=d,b=arguments[1];return typeof m=="function"?this.then(null,function(C){return(C instanceof m?b:Po)(C)}):this.then(null,function(C){return(C&&C.name===m?b:Po)(C)})},finally:function(d){return this.then(function(m){return Pe.resolve(d()).then(function(){return m})},function(m){return Pe.resolve(d()).then(function(){return Po(m)})})},timeout:function(d,m){var b=this;return d<1/0?new Pe(function(C,j){var L=setTimeout(function(){return j(new fe.Timeout(m))},d);b.then(C,j).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(Pe.prototype,Symbol.toStringTag,"Dexie.Promise"),Gr.env=Yd(),p(Pe,{all:function(){var d=de.apply(null,arguments).map(Os);return new Pe(function(m,b){d.length===0&&m([]);var C=d.length;d.forEach(function(j,L){return Pe.resolve(j).then(function(B){d[L]=B,--C||m(d)},b)})})},resolve:function(d){return d instanceof Pe?d:d&&typeof d.then=="function"?new Pe(function(m,b){d.then(m,b)}):new Pe(Hr,!0,d)},reject:Po,race:function(){var d=de.apply(null,arguments).map(Os);return new Pe(function(m,b){d.map(function(C){return Pe.resolve(C).then(m,b)})})},PSD:{get:function(){return Re},set:function(d){return Re=d}},totalEchoes:{get:function(){return kr}},newPSD:_i,usePSD:Qr,scheduler:{get:function(){return As},set:function(d){As=d}},rejectionMapper:{get:function(){return Ps},set:function(d){Ps=d}},follow:function(d,m){return new Pe(function(b,C){return _i(function(j,L){var B=Re;B.unhandleds=[],B.onunhandled=L,B.finalize=bt(function(){var z,W=this;z=function(){W.unhandleds.length===0?j():L(W.unhandleds[0])},Is.push(function X(){z(),Is.splice(Is.indexOf(X),1)}),++Xr,As(function(){--Xr==0&&rf()},[])},B.finalize),d()},m,b,C)})}}),Hi&&(Hi.allSettled&&_(Pe,"allSettled",function(){var d=de.apply(null,arguments).map(Os);return new Pe(function(m){d.length===0&&m([]);var b=d.length,C=new Array(b);d.forEach(function(j,L){return Pe.resolve(j).then(function(B){return C[L]={status:"fulfilled",value:B}},function(B){return C[L]={status:"rejected",reason:B}}).then(function(){return--b||m(C)})})})}),Hi.any&&typeof AggregateError<"u"&&_(Pe,"any",function(){var d=de.apply(null,arguments).map(Os);return new Pe(function(m,b){d.length===0&&b(new AggregateError([]));var C=d.length,j=new Array(C);d.forEach(function(L,B){return Pe.resolve(L).then(function(z){return m(z)},function(z){j[B]=z,--C||b(new AggregateError(j))})})})}),Hi.withResolvers&&(Pe.withResolvers=Hi.withResolvers));var Jt={awaits:0,echoes:0,id:0},of=0,Yi=[],zl=0,kr=0,Xd=0;function _i(d,m,b,C){var j=Re,L=Object.create(j);return L.parent=j,L.ref=0,L.global=!1,L.id=++Xd,Gr.env,L.env=Ss?{Promise:Pe,PromiseProp:{value:Pe,configurable:!0,writable:!0},all:Pe.all,race:Pe.race,allSettled:Pe.allSettled,any:Pe.any,resolve:Pe.resolve,reject:Pe.reject}:{},m&&l(L,m),++j.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},C=Qr(L,d,b,C),L.ref===0&&L.finalize(),C}function Qi(){return Jt.id||(Jt.id=++of),++Jt.awaits,Jt.echoes+=Es,Jt.id}function Yr(){return!!Jt.awaits&&(--Jt.awaits==0&&(Jt.id=0),Jt.echoes=Jt.awaits*Es,!0)}function Os(d){return Jt.echoes&&d&&d.constructor===Hi?(Qi(),d.then(function(m){return Yr(),m},function(m){return Yr(),Tt(m)})):d}function zv(){var d=Yi[Yi.length-1];Yi.pop(),wi(d,!1)}function wi(d,m){var b,C=Re;(m?!Jt.echoes||zl++&&d===Re:!zl||--zl&&d===Re)||queueMicrotask(m?(function(j){++kr,Jt.echoes&&--Jt.echoes!=0||(Jt.echoes=Jt.awaits=Jt.id=0),Yi.push(Re),wi(j,!0)}).bind(null,d):zv),d!==Re&&(Re=d,C===Gr&&(Gr.env=Yd()),Ss&&(b=Gr.env.Promise,m=d.env,(C.global||d.global)&&(Object.defineProperty(o,"Promise",m.PromiseProp),b.all=m.all,b.race=m.race,b.resolve=m.resolve,b.reject=m.reject,m.allSettled&&(b.allSettled=m.allSettled),m.any&&(b.any=m.any))))}function Yd(){var d=o.Promise;return Ss?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Qr(d,m,b,C,j){var L=Re;try{return wi(d,!0),m(b,C,j)}finally{wi(L,!1)}}function af(d,m,b,C){return typeof d!="function"?d:function(){var j=Re;b&&Qi(),wi(m,!0);try{return d.apply(this,arguments)}finally{wi(j,!1),C&&queueMicrotask(Yr)}}}function Cs(d){Promise===Hi&&Jt.echoes===0?zl===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Zr).indexOf("[native code]")===-1&&(Qi=Yr=he);var Tt=Pe.reject,tr="",Nr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qd="String expected.",Io=[],ks="__dbnames",Ul="readonly",Ns="readwrite";function xi(d,m){return d?m?function(){return d.apply(this,arguments)&&m.apply(this,arguments)}:d:m}var sf={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function js(d){return typeof d!="string"||/\./.test(d)?function(m){return m}:function(m){return m[d]===void 0&&d in m&&delete(m=M(m))[d],m}}function lf(){throw fe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function tt(d,m){try{var b=Ei(d),C=Ei(m);if(b!==C)return b==="Array"?1:C==="Array"?-1:b==="binary"?1:C==="binary"?-1:b==="string"?1:C==="string"?-1:b==="Date"?1:C!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return m<d?1:d<m?-1:0;case"binary":return function(j,L){for(var B=j.length,z=L.length,W=B<z?B:z,X=0;X<W;++X)if(j[X]!==L[X])return j[X]<L[X]?-1:1;return B===z?0:B<z?-1:1}(jr(d),jr(m));case"Array":return function(j,L){for(var B=j.length,z=L.length,W=B<z?B:z,X=0;X<W;++X){var Q=tt(j[X],L[X]);if(Q!==0)return Q}return B===z?0:B<z?-1:1}(d,m)}}catch{}return NaN}function Ei(d){var m=typeof d;return m!="object"?m:ArrayBuffer.isView(d)?"binary":(d=ie(d),d==="ArrayBuffer"?"binary":d)}function jr(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Ji(d,m,b){var C=d.schema.yProps;return C?(m&&0<b.numFailures&&(m=m.filter(function(j,L){return!b.failures[L]})),Promise.all(C.map(function(j){return j=j.updatesTable,m?d.db.table(j).where("k").anyOf(m).delete():d.db.table(j).clear()})).then(function(){return b})):b}var pa=(_t.prototype._trans=function(d,m,b){var C=this._tx||Re.trans,j=this.name,L=Ut&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function B(X,Q,U){if(!U.schema[j])throw new fe.NotFound("Table "+j+" not part of transaction");return m(U.idbtrans,U)}var z=Cr();try{var W=C&&C.db._novip===this.db._novip?C===Re.trans?C._promise(d,B,b):_i(function(){return C._promise(d,B,b)},{trans:C,transless:Re.transless||Re}):function X(Q,U,ee,H){if(Q.idbdb&&(Q._state.openComplete||Re.letThrough||Q._vip)){var Y=Q._createTransaction(U,ee,Q._dbSchema);try{Y.create(),Q._state.PR1398_maxLoop=3}catch(Z){return Z.name===nn.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return X(Q,U,ee,H)})):Tt(Z)}return Y._promise(U,function(Z,J){return _i(function(){return Re.trans=Y,H(Z,J,Y)})}).then(function(Z){if(U==="readwrite")try{Y.idbtrans.commit()}catch{}return U==="readonly"?Z:Y._completion.then(function(){return Z})})}if(Q._state.openComplete)return Tt(new fe.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return Tt(new fe.DatabaseClosed);Q.open().catch(he)}return Q._state.dbReadyPromise.then(function(){return X(Q,U,ee,H)})}(this.db,d,[this.name],B);return L&&(W._consoleTask=L,W=W.catch(function(X){return console.trace(X),Tt(X)})),W}finally{z&&da()}},_t.prototype.get=function(d,m){var b=this;return d&&d.constructor===Object?this.where(d).first(m):d==null?Tt(new fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(C){return b.core.get({trans:C,key:d}).then(function(j){return b.hook.reading.fire(j)})}).then(m)},_t.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(s(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var m=a(d);if(m.length===1)return this.where(m[0]).equals(d[m[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(z){if(z.compound&&m.every(function(X){return 0<=z.keyPath.indexOf(X)})){for(var W=0;W<m.length;++W)if(m.indexOf(z.keyPath[W])===-1)return!1;return!0}return!1}).sort(function(z,W){return z.keyPath.length-W.keyPath.length})[0];if(b&&this.db._maxKey!==tr){var L=b.keyPath.slice(0,m.length);return this.where(L).equals(L.map(function(W){return d[W]}))}!b&&Ut&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var C=this.schema.idxByName;function j(z,W){return tt(z,W)===0}var B=m.reduce(function(U,W){var X=U[0],Q=U[1],U=C[W],ee=d[W];return[X||U,X||!U?xi(Q,U&&U.multi?function(H){return H=O(H,W),s(H)&&H.some(function(Y){return j(ee,Y)})}:function(H){return j(ee,O(H,W))}):Q]},[null,null]),L=B[0],B=B[1];return L?this.where(L.name).equals(d[L.keyPath]).filter(B):b?this.filter(B):this.where(m).equals("")},_t.prototype.filter=function(d){return this.toCollection().and(d)},_t.prototype.count=function(d){return this.toCollection().count(d)},_t.prototype.offset=function(d){return this.toCollection().offset(d)},_t.prototype.limit=function(d){return this.toCollection().limit(d)},_t.prototype.each=function(d){return this.toCollection().each(d)},_t.prototype.toArray=function(d){return this.toCollection().toArray(d)},_t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},_t.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,s(d)?"[".concat(d.join("+"),"]"):d))},_t.prototype.reverse=function(){return this.toCollection().reverse()},_t.prototype.mapToClass=function(d){var m,b=this.db,C=this.name;function j(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof lf&&(function(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function Q(){this.constructor=W}n(W,X),W.prototype=X===null?Object.create(X):(Q.prototype=X.prototype,new Q)}(j,m=d),Object.defineProperty(j.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),j.prototype.table=function(){return C},d=j);for(var L=new Set,B=d.prototype;B;B=u(B))Object.getOwnPropertyNames(B).forEach(function(W){return L.add(W)});function z(W){if(!W)return W;var X,Q=Object.create(d.prototype);for(X in W)if(!L.has(X))try{Q[X]=W[X]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=z,this.hook("reading",z),d},_t.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},_t.prototype.add=function(d,m){var b=this,C=this.schema.primKey,j=C.auto,L=C.keyPath,B=d;return L&&j&&(B=js(L)(d)),this._trans("readwrite",function(z){return b.core.mutate({trans:z,type:"add",keys:m!=null?[m]:null,values:[B]})}).then(function(z){return z.numFailures?Pe.reject(z.failures[0]):z.lastResult}).then(function(z){if(L)try{w(d,L,z)}catch{}return z})},_t.prototype.update=function(d,m){return typeof d!="object"||s(d)?this.where(":id").equals(d).modify(m):(d=O(d,this.schema.primKey.keyPath),d===void 0?Tt(new fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(m))},_t.prototype.put=function(d,m){var b=this,C=this.schema.primKey,j=C.auto,L=C.keyPath,B=d;return L&&j&&(B=js(L)(d)),this._trans("readwrite",function(z){return b.core.mutate({trans:z,type:"put",values:[B],keys:m!=null?[m]:null})}).then(function(z){return z.numFailures?Pe.reject(z.failures[0]):z.lastResult}).then(function(z){if(L)try{w(d,L,z)}catch{}return z})},_t.prototype.delete=function(d){var m=this;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"delete",keys:[d]}).then(function(C){return Ji(m,[d],C)}).then(function(C){return C.numFailures?Pe.reject(C.failures[0]):void 0})})},_t.prototype.clear=function(){var d=this;return this._trans("readwrite",function(m){return d.core.mutate({trans:m,type:"deleteRange",range:sf}).then(function(b){return Ji(d,null,b)})}).then(function(m){return m.numFailures?Pe.reject(m.failures[0]):void 0})},_t.prototype.bulkGet=function(d){var m=this;return this._trans("readonly",function(b){return m.core.getMany({keys:d,trans:b}).then(function(C){return C.map(function(j){return m.hook.reading.fire(j)})})})},_t.prototype.bulkAdd=function(d,m,b){var C=this,j=Array.isArray(m)?m:void 0,L=(b=b||(j?void 0:m))?b.allKeys:void 0;return this._trans("readwrite",function(B){var X=C.schema.primKey,z=X.auto,X=X.keyPath;if(X&&j)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(j&&j.length!==d.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,X=X&&z?d.map(js(X)):d;return C.core.mutate({trans:B,type:"add",keys:j,values:X,wantResults:L}).then(function(Y){var U=Y.numFailures,ee=Y.results,H=Y.lastResult,Y=Y.failures;if(U===0)return L?ee:H;throw new ht("".concat(C.name,".bulkAdd(): ").concat(U," of ").concat(W," operations failed"),Y)})})},_t.prototype.bulkPut=function(d,m,b){var C=this,j=Array.isArray(m)?m:void 0,L=(b=b||(j?void 0:m))?b.allKeys:void 0;return this._trans("readwrite",function(B){var X=C.schema.primKey,z=X.auto,X=X.keyPath;if(X&&j)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(j&&j.length!==d.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,X=X&&z?d.map(js(X)):d;return C.core.mutate({trans:B,type:"put",keys:j,values:X,wantResults:L}).then(function(Y){var U=Y.numFailures,ee=Y.results,H=Y.lastResult,Y=Y.failures;if(U===0)return L?ee:H;throw new ht("".concat(C.name,".bulkPut(): ").concat(U," of ").concat(W," operations failed"),Y)})})},_t.prototype.bulkUpdate=function(d){var m=this,b=this.core,C=d.map(function(B){return B.key}),j=d.map(function(B){return B.changes}),L=[];return this._trans("readwrite",function(B){return b.getMany({trans:B,keys:C,cache:"clone"}).then(function(z){var W=[],X=[];d.forEach(function(U,ee){var H=U.key,Y=U.changes,Z=z[ee];if(Z){for(var J=0,te=Object.keys(Y);J<te.length;J++){var le=te[J],ue=Y[le];if(le===m.schema.primKey.keyPath){if(tt(ue,H)!==0)throw new fe.Constraint("Cannot update primary key in bulkUpdate()")}else w(Z,le,ue)}L.push(ee),W.push(H),X.push(Z)}});var Q=W.length;return b.mutate({trans:B,type:"put",keys:W,values:X,updates:{keys:C,changeSpecs:j}}).then(function(U){var ee=U.numFailures,H=U.failures;if(ee===0)return Q;for(var Y=0,Z=Object.keys(H);Y<Z.length;Y++){var J,te=Z[Y],le=L[Number(te)];le!=null&&(J=H[te],delete H[te],H[le]=J)}throw new ht("".concat(m.name,".bulkUpdate(): ").concat(ee," of ").concat(Q," operations failed"),H)})})})},_t.prototype.bulkDelete=function(d){var m=this,b=d.length;return this._trans("readwrite",function(C){return m.core.mutate({trans:C,type:"delete",keys:d}).then(function(j){return Ji(m,d,j)})}).then(function(B){var j=B.numFailures,L=B.lastResult,B=B.failures;if(j===0)return L;throw new ht("".concat(m.name,".bulkDelete(): ").concat(j," of ").concat(b," operations failed"),B)})},_t);function _t(){}function gt(d){function m(B,z){if(z){for(var W=arguments.length,X=new Array(W-1);--W;)X[W-1]=arguments[W];return b[B].subscribe.apply(null,X),d}if(typeof B=="string")return b[B]}var b={};m.addEventType=L;for(var C=1,j=arguments.length;C<j;++C)L(arguments[C]);return m;function L(B,z,W){if(typeof B!="object"){var X;z=z||Rt;var Q={subscribers:[],fire:W=W||he,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=z(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function(ee){return ee!==U}),Q.fire=Q.subscribers.reduce(z,W)}};return b[B]=m[B]=Q}a(X=B).forEach(function(U){var ee=X[U];if(s(ee))L(U,X[U][0],X[U][1]);else{if(ee!=="asap")throw new fe.InvalidArgument("Invalid event config");var H=L(U,dt,function(){for(var Y=arguments.length,Z=new Array(Y);Y--;)Z[Y]=arguments[Y];H.subscribers.forEach(function(J){T(function(){J.apply(null,Z)})})})}})}}function Zi(d,m){return v(m).from({prototype:d}),m}function Jr(d,m){return!(d.filter||d.algorithm||d.or)&&(m?d.justLimit:!d.replayFilter)}function Oo(d,m){d.filter=xi(d.filter,m)}function uf(d,m,b){var C=d.replayFilter;d.replayFilter=C?function(){return xi(C(),m())}:m,d.justLimit=b&&!C}function Rs(d,m){if(d.isPrimKey)return m.primaryKey;var b=m.getIndexByKeyPath(d.index);if(!b)throw new fe.Schema("KeyPath "+d.index+" on object store "+m.name+" is not indexed");return b}function Jd(d,m,b){var C=Rs(d,m.schema);return m.openCursor({trans:b,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:C,range:d.range}})}function ql(d,m,b,C){var j=d.replayFilter?xi(d.filter,d.replayFilter()):d.filter;if(d.or){var L={},B=function(z,W,X){var Q,U;j&&!j(W,X,function(ee){return W.stop(ee)},function(ee){return W.fail(ee)})||((U=""+(Q=W.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),c(L,U)||(L[U]=!0,m(z,W,X)))};return Promise.all([d.or._iterate(B,b),Zd(Jd(d,C,b),d.algorithm,B,!d.keysOnly&&d.valueMapper)])}return Zd(Jd(d,C,b),xi(d.algorithm,j),m,!d.keysOnly&&d.valueMapper)}function Zd(d,m,b,C){var j=At(C?function(L,B,z){return b(C(L),B,z)}:b);return d.then(function(L){if(L)return L.start(function(){var B=function(){return L.continue()};m&&!m(L,function(z){return B=z},function(z){L.stop(z),B=he},function(z){L.fail(z),B=he})||j(L.value,L,function(z){return B=z}),B()})})}var Ds=(ma.prototype.execute=function(d){var m=this["@@propmod"];if(m.add!==void 0){var b=m.add;if(s(b))return i(i([],s(d)?d:[],!0),b).sort();if(typeof b=="number")return(Number(d)||0)+b;if(typeof b=="bigint")try{return BigInt(d)+b}catch{return BigInt(0)+b}throw new TypeError("Invalid term ".concat(b))}if(m.remove!==void 0){var C=m.remove;if(s(C))return s(d)?d.filter(function(j){return!C.includes(j)}).sort():[];if(typeof C=="number")return Number(d)-C;if(typeof C=="bigint")try{return BigInt(d)-C}catch{return BigInt(0)-C}throw new TypeError("Invalid subtrahend ".concat(C))}return b=(b=m.replacePrefix)===null||b===void 0?void 0:b[0],b&&typeof d=="string"&&d.startsWith(b)?m.replacePrefix[1]+d.substring(b.length):d},ma);function ma(d){this["@@propmod"]=d}var Co=(at.prototype._read=function(d,m){var b=this._ctx;return b.error?b.table._trans(null,Tt.bind(null,b.error)):b.table._trans("readonly",d).then(m)},at.prototype._write=function(d){var m=this._ctx;return m.error?m.table._trans(null,Tt.bind(null,m.error)):m.table._trans("readwrite",d,"locked")},at.prototype._addAlgorithm=function(d){var m=this._ctx;m.algorithm=xi(m.algorithm,d)},at.prototype._iterate=function(d,m){return ql(this._ctx,d,m,this._ctx.table.core)},at.prototype.clone=function(d){var m=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return d&&l(b,d),m._ctx=b,m},at.prototype.raw=function(){return this._ctx.valueMapper=null,this},at.prototype.each=function(d){var m=this._ctx;return this._read(function(b){return ql(m,d,b,m.table.core)})},at.prototype.count=function(d){var m=this;return this._read(function(b){var C=m._ctx,j=C.table.core;if(Jr(C,!0))return j.count({trans:b,query:{index:Rs(C,j.schema),range:C.range}}).then(function(B){return Math.min(B,C.limit)});var L=0;return ql(C,function(){return++L,!1},b,j).then(function(){return L})}).then(d)},at.prototype.sortBy=function(d,m){var b=d.split(".").reverse(),C=b[0],j=b.length-1;function L(W,X){return X?L(W[b[X]],X-1):W[C]}var B=this._ctx.dir==="next"?1:-1;function z(W,X){return tt(L(W,j),L(X,j))*B}return this.toArray(function(W){return W.sort(z)}).then(m)},at.prototype.toArray=function(d){var m=this;return this._read(function(b){var C=m._ctx;if(C.dir==="next"&&Jr(C,!0)&&0<C.limit){var j=C.valueMapper,L=Rs(C,C.table.core.schema);return C.table.core.query({trans:b,limit:C.limit,values:!0,query:{index:L,range:C.range}}).then(function(z){return z=z.result,j?z.map(j):z})}var B=[];return ql(C,function(z){return B.push(z)},b,C.table.core).then(function(){return B})},d)},at.prototype.offset=function(d){var m=this._ctx;return d<=0||(m.offset+=d,Jr(m)?uf(m,function(){var b=d;return function(C,j){return b===0||(b===1?--b:j(function(){C.advance(b),b=0}),!1)}}):uf(m,function(){var b=d;return function(){return--b<0}})),this},at.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),uf(this._ctx,function(){var m=d;return function(b,C,j){return--m<=0&&C(j),0<=m}},!0),this},at.prototype.until=function(d,m){return Oo(this._ctx,function(b,C,j){return!d(b.value)||(C(j),m)}),this},at.prototype.first=function(d){return this.limit(1).toArray(function(m){return m[0]}).then(d)},at.prototype.last=function(d){return this.reverse().first(d)},at.prototype.filter=function(d){var m;return Oo(this._ctx,function(b){return d(b.value)}),(m=this._ctx).isMatch=xi(m.isMatch,d),this},at.prototype.and=function(d){return this.filter(d)},at.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},at.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},at.prototype.desc=function(){return this.reverse()},at.prototype.eachKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(b,C){d(C.key,C)})},at.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},at.prototype.eachPrimaryKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(b,C){d(C.primaryKey,C)})},at.prototype.keys=function(d){var m=this._ctx;m.keysOnly=!m.isMatch;var b=[];return this.each(function(C,j){b.push(j.key)}).then(function(){return b}).then(d)},at.prototype.primaryKeys=function(d){var m=this._ctx;if(m.dir==="next"&&Jr(m,!0)&&0<m.limit)return this._read(function(C){var j=Rs(m,m.table.core.schema);return m.table.core.query({trans:C,values:!1,limit:m.limit,query:{index:j,range:m.range}})}).then(function(C){return C.result}).then(d);m.keysOnly=!m.isMatch;var b=[];return this.each(function(C,j){b.push(j.primaryKey)}).then(function(){return b}).then(d)},at.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},at.prototype.firstKey=function(d){return this.limit(1).keys(function(m){return m[0]}).then(d)},at.prototype.lastKey=function(d){return this.reverse().firstKey(d)},at.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var m={};return Oo(this._ctx,function(j){var C=j.primaryKey.toString(),j=c(m,C);return m[C]=!0,!j}),this},at.prototype.modify=function(d){var m=this,b=this._ctx;return this._write(function(C){var j,L,B;B=typeof d=="function"?d:(j=a(d),L=j.length,function(te){for(var le=!1,ue=0;ue<L;++ue){var ce=j[ue],ve=d[ce],Ae=O(te,ce);ve instanceof Ds?(w(te,ce,ve.execute(Ae)),le=!0):Ae!==ve&&(w(te,ce,ve),le=!0)}return le});var z=b.table.core,U=z.schema.primaryKey,W=U.outbound,X=U.extractKey,Q=200,U=m.db._options.modifyChunkSize;U&&(Q=typeof U=="object"?U[z.name]||U["*"]||200:U);function ee(te,ce){var ue=ce.failures,ce=ce.numFailures;Y+=te-ce;for(var ve=0,Ae=a(ue);ve<Ae.length;ve++){var we=Ae[ve];H.push(ue[we])}}var H=[],Y=0,Z=[],J=d===cf;return m.clone().primaryKeys().then(function(te){function le(ce){var ve=Math.min(Q,te.length-ce),Ae=te.slice(ce,ce+ve);return(J?Promise.resolve([]):z.getMany({trans:C,keys:Ae,cache:"immutable"})).then(function(we){var xe=[],Oe=[],Ie=W?[]:null,Ce=J?Ae:[];if(!J)for(var Ge=0;Ge<ve;++Ge){var lt=we[Ge],Ke={value:M(lt),primKey:te[ce+Ge]};B.call(Ke,Ke.value,Ke)!==!1&&(Ke.value==null?Ce.push(te[ce+Ge]):W||tt(X(lt),X(Ke.value))===0?(Oe.push(Ke.value),W&&Ie.push(te[ce+Ge])):(Ce.push(te[ce+Ge]),xe.push(Ke.value)))}return Promise.resolve(0<xe.length&&z.mutate({trans:C,type:"add",values:xe}).then(function(Xt){for(var Ue in Xt.failures)Ce.splice(parseInt(Ue),1);ee(xe.length,Xt)})).then(function(){return(0<Oe.length||ue&&typeof d=="object")&&z.mutate({trans:C,type:"put",keys:Ie,values:Oe,criteria:ue,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<ce}).then(function(Xt){return ee(Oe.length,Xt)})}).then(function(){return(0<Ce.length||ue&&J)&&z.mutate({trans:C,type:"delete",keys:Ce,criteria:ue,isAdditionalChunk:0<ce}).then(function(Xt){return Ji(b.table,Ce,Xt)}).then(function(Xt){return ee(Ce.length,Xt)})}).then(function(){return te.length>ce+ve&&le(ce+Q)})})}var ue=Jr(b)&&b.limit===1/0&&(typeof d!="function"||J)&&{index:b.index,range:b.range};return le(0).then(function(){if(0<H.length)throw new ct("Error modifying one or more objects",H,Y,Z);return te.length})})})},at.prototype.delete=function(){var d=this._ctx,m=d.range;return!Jr(d)||d.table.schema.yProps||!d.isPrimKey&&m.type!==3?this.modify(cf):this._write(function(b){var C=d.table.core.schema.primaryKey,j=m;return d.table.core.count({trans:b,query:{index:C,range:j}}).then(function(L){return d.table.core.mutate({trans:b,type:"deleteRange",range:j}).then(function(W){var z=W.failures,W=W.numFailures;if(W)throw new ct("Could not delete some values",Object.keys(z).map(function(X){return z[X]}),L-W);return L-W})})})},at);function at(){}var cf=function(d,m){return m.value=null};function ep(d,m){return d<m?-1:d===m?0:1}function tp(d,m){return m<d?-1:d===m?0:1}function Bn(d,m,b){return d=d instanceof Si?new d.Collection(d):d,d._ctx.error=new(b||TypeError)(m),d}function Rr(d){return new d.Collection(d,function(){return np("")}).limit(0)}function Kl(d,m,b,C){var j,L,B,z,W,X,Q,U=b.length;if(!b.every(function(Y){return typeof Y=="string"}))return Bn(d,Qd);function ee(Y){j=Y==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},L=Y==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},B=Y==="next"?ep:tp;var Z=b.map(function(J){return{lower:L(J),upper:j(J)}}).sort(function(J,te){return B(J.lower,te.lower)});z=Z.map(function(J){return J.upper}),W=Z.map(function(J){return J.lower}),Q=(X=Y)==="next"?"":C}ee("next"),d=new d.Collection(d,function(){return eo(z[0],W[U-1]+C)}),d._ondirectionchange=function(Y){ee(Y)};var H=0;return d._addAlgorithm(function(Y,Z,J){var te=Y.key;if(typeof te!="string")return!1;var le=L(te);if(m(le,W,H))return!0;for(var ue=null,ce=H;ce<U;++ce){var ve=function(Ae,we,xe,Oe,Ie,Ce){for(var Ge=Math.min(Ae.length,Oe.length),lt=-1,Ke=0;Ke<Ge;++Ke){var Xt=we[Ke];if(Xt!==Oe[Ke])return Ie(Ae[Ke],xe[Ke])<0?Ae.substr(0,Ke)+xe[Ke]+xe.substr(Ke+1):Ie(Ae[Ke],Oe[Ke])<0?Ae.substr(0,Ke)+Oe[Ke]+xe.substr(Ke+1):0<=lt?Ae.substr(0,lt)+we[lt]+xe.substr(lt+1):null;Ie(Ae[Ke],Xt)<0&&(lt=Ke)}return Ge<Oe.length&&Ce==="next"?Ae+xe.substr(Ae.length):Ge<Ae.length&&Ce==="prev"?Ae.substr(0,xe.length):lt<0?null:Ae.substr(0,lt)+Oe[lt]+xe.substr(lt+1)}(te,le,z[ce],W[ce],B,X);ve===null&&ue===null?H=ce+1:(ue===null||0<B(ue,ve))&&(ue=ve)}return Z(ue!==null?function(){Y.continue(ue+Q)}:J),!1}),d}function eo(d,m,b,C){return{type:2,lower:d,upper:m,lowerOpen:b,upperOpen:C}}function np(d){return{type:1,lower:d,upper:d}}var Si=(Object.defineProperty(an.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),an.prototype.between=function(d,m,b,C){b=b!==!1,C=C===!0;try{return 0<this._cmp(d,m)||this._cmp(d,m)===0&&(b||C)&&(!b||!C)?Rr(this):new this.Collection(this,function(){return eo(d,m,!b,!C)})}catch{return Bn(this,Nr)}},an.prototype.equals=function(d){return d==null?Bn(this,Nr):new this.Collection(this,function(){return np(d)})},an.prototype.above=function(d){return d==null?Bn(this,Nr):new this.Collection(this,function(){return eo(d,void 0,!0)})},an.prototype.aboveOrEqual=function(d){return d==null?Bn(this,Nr):new this.Collection(this,function(){return eo(d,void 0,!1)})},an.prototype.below=function(d){return d==null?Bn(this,Nr):new this.Collection(this,function(){return eo(void 0,d,!1,!0)})},an.prototype.belowOrEqual=function(d){return d==null?Bn(this,Nr):new this.Collection(this,function(){return eo(void 0,d)})},an.prototype.startsWith=function(d){return typeof d!="string"?Bn(this,Qd):this.between(d,d+tr,!0,!0)},an.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):Kl(this,function(m,b){return m.indexOf(b[0])===0},[d],tr)},an.prototype.equalsIgnoreCase=function(d){return Kl(this,function(m,b){return m===b[0]},[d],"")},an.prototype.anyOfIgnoreCase=function(){var d=de.apply(oe,arguments);return d.length===0?Rr(this):Kl(this,function(m,b){return b.indexOf(m)!==-1},d,"")},an.prototype.startsWithAnyOfIgnoreCase=function(){var d=de.apply(oe,arguments);return d.length===0?Rr(this):Kl(this,function(m,b){return b.some(function(C){return m.indexOf(C)===0})},d,tr)},an.prototype.anyOf=function(){var d=this,m=de.apply(oe,arguments),b=this._cmp;try{m.sort(b)}catch{return Bn(this,Nr)}if(m.length===0)return Rr(this);var C=new this.Collection(this,function(){return eo(m[0],m[m.length-1])});C._ondirectionchange=function(L){b=L==="next"?d._ascending:d._descending,m.sort(b)};var j=0;return C._addAlgorithm(function(L,B,z){for(var W=L.key;0<b(W,m[j]);)if(++j===m.length)return B(z),!1;return b(W,m[j])===0||(B(function(){L.continue(m[j])}),!1)}),C},an.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},an.prototype.noneOf=function(){var d=de.apply(oe,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Bn(this,Nr)}var m=d.reduce(function(b,C){return b?b.concat([[b[b.length-1][1],C]]):[[-1/0,C]]},null);return m.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},an.prototype.inAnyRange=function(te,m){var b=this,C=this._cmp,j=this._ascending,L=this._descending,B=this._min,z=this._max;if(te.length===0)return Rr(this);if(!te.every(function(le){return le[0]!==void 0&&le[1]!==void 0&&j(le[0],le[1])<=0}))return Bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);var W=!m||m.includeLowers!==!1,X=m&&m.includeUppers===!0,Q,U=j;function ee(le,ue){return U(le[0],ue[0])}try{(Q=te.reduce(function(le,ue){for(var ce=0,ve=le.length;ce<ve;++ce){var Ae=le[ce];if(C(ue[0],Ae[1])<0&&0<C(ue[1],Ae[0])){Ae[0]=B(Ae[0],ue[0]),Ae[1]=z(Ae[1],ue[1]);break}}return ce===ve&&le.push(ue),le},[])).sort(ee)}catch{return Bn(this,Nr)}var H=0,Y=X?function(le){return 0<j(le,Q[H][1])}:function(le){return 0<=j(le,Q[H][1])},Z=W?function(le){return 0<L(le,Q[H][0])}:function(le){return 0<=L(le,Q[H][0])},J=Y,te=new this.Collection(this,function(){return eo(Q[0][0],Q[Q.length-1][1],!W,!X)});return te._ondirectionchange=function(le){U=le==="next"?(J=Y,j):(J=Z,L),Q.sort(ee)},te._addAlgorithm(function(le,ue,ce){for(var ve,Ae=le.key;J(Ae);)if(++H===Q.length)return ue(ce),!1;return!Y(ve=Ae)&&!Z(ve)||(b._cmp(Ae,Q[H][1])===0||b._cmp(Ae,Q[H][0])===0||ue(function(){U===j?le.continue(Q[H][0]):le.continue(Q[H][1])}),!1)}),te},an.prototype.startsWithAnyOf=function(){var d=de.apply(oe,arguments);return d.every(function(m){return typeof m=="string"})?d.length===0?Rr(this):this.inAnyRange(d.map(function(m){return[m,m+tr]})):Bn(this,"startsWithAnyOf() only works with strings")},an);function an(){}function dr(d){return At(function(m){return to(m),d(m.target.error),!1})}function to(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var ga="storagemutated",ko="x-storagemutated-1",pr=gt(null,ga),rp=(mr.prototype._lock=function(){return R(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},mr.prototype._unlock=function(){if(R(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Qr(d[1],d[0])}catch{}}return this},mr.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},mr.prototype.create=function(d){var m=this;if(!this.mode)return this;var b=this.db.idbdb,C=this.db._state.dbOpenError;if(R(!this.idbtrans),!d&&!b)switch(C&&C.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(C);case"MissingAPIError":throw new fe.MissingAPI(C.message,C);default:throw new fe.OpenFailed(C)}if(!this.active)throw new fe.TransactionInactive;return R(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=At(function(j){to(j),m._reject(d.error)}),d.onabort=At(function(j){to(j),m.active&&m._reject(new fe.Abort(d.error)),m.active=!1,m.on("abort").fire(j)}),d.oncomplete=At(function(){m.active=!1,m._resolve(),"mutatedParts"in d&&pr.storagemutated.fire(d.mutatedParts)}),this},mr.prototype._promise=function(d,m,b){var C=this;if(d==="readwrite"&&this.mode!=="readwrite")return Tt(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new fe.TransactionInactive);if(this._locked())return new Pe(function(L,B){C._blockedFuncs.push([function(){C._promise(d,m,b).then(L,B)},Re])});if(b)return _i(function(){var L=new Pe(function(B,z){C._lock();var W=m(B,z,C);W&&W.then&&W.then(B,z)});return L.finally(function(){return C._unlock()}),L._lib=!0,L});var j=new Pe(function(L,B){var z=m(L,B,C);z&&z.then&&z.then(L,B)});return j._lib=!0,j},mr.prototype._root=function(){return this.parent?this.parent._root():this},mr.prototype.waitFor=function(d){var m,b=this._root(),C=Pe.resolve(d);b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return C}):(b._waitingFor=C,b._waitingQueue=[],m=b.idbtrans.objectStore(b.storeNames[0]),function L(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(m.get(-1/0).onsuccess=L)}());var j=b._waitingFor;return new Pe(function(L,B){C.then(function(z){return b._waitingQueue.push(At(L.bind(null,z)))},function(z){return b._waitingQueue.push(At(B.bind(null,z)))}).finally(function(){b._waitingFor===j&&(b._waitingFor=null)})})},mr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))},mr.prototype.table=function(d){var m=this._memoizedTables||(this._memoizedTables={});if(c(m,d))return m[d];var b=this.schema[d];if(!b)throw new fe.NotFound("Table "+d+" not part of transaction");return b=new this.db.Table(d,b,this),b.core=this.db.core.table(d),m[d]=b},mr);function mr(){}function It(d,m,b,C,j,L,B,z){return{name:d,keyPath:m,unique:b,multi:C,auto:j,compound:L,src:(b&&!B?"&":"")+(C?"*":"")+(j?"++":"")+ip(m),type:z}}function ip(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function ff(d,m,b){return{name:d,primKey:m,indexes:b,mappedClass:null,idxByName:(C=function(j){return[j.name,j]},b.reduce(function(j,L,B){return B=C(L,B),B&&(j[B[0]]=B[1]),j},{}))};var C}var ya=function(d){try{return d.only([[]]),ya=function(){return[[]]},[[]]}catch{return ya=function(){return tr},tr}};function Wl(d){return d==null?function(){}:typeof d=="string"?(m=d).split(".").length===1?function(b){return b[m]}:function(b){return O(b,m)}:function(b){return O(b,d)};var m}function hf(d){return[].slice.call(d)}var Hl=0;function gr(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function op(d,m,W){function C(J){if(J.type===3)return null;if(J.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var H=J.lower,Y=J.upper,Z=J.lowerOpen,J=J.upperOpen;return H===void 0?Y===void 0?null:m.upperBound(Y,!!J):Y===void 0?m.lowerBound(H,!!Z):m.bound(H,Y,!!Z,!!J)}function j(ee){var H,Y=ee.name;return{name:Y,schema:ee,mutate:function(Z){var J=Z.trans,te=Z.type,le=Z.keys,ue=Z.values,ce=Z.range;return new Promise(function(ve,Ae){ve=At(ve);var we=J.objectStore(Y),xe=we.keyPath==null,Oe=te==="put"||te==="add";if(!Oe&&te!=="delete"&&te!=="deleteRange")throw new Error("Invalid operation type: "+te);var Ie,Ce=(le||ue||{length:1}).length;if(le&&ue&&le.length!==ue.length)throw new Error("Given keys array must have same length as given values array.");if(Ce===0)return ve({numFailures:0,failures:{},results:[],lastResult:void 0});function Ge(nr){++Xt,to(nr)}var lt=[],Ke=[],Xt=0;if(te==="deleteRange"){if(ce.type===4)return ve({numFailures:Xt,failures:Ke,results:[],lastResult:void 0});ce.type===3?lt.push(Ie=we.clear()):lt.push(Ie=we.delete(C(ce)))}else{var xe=Oe?xe?[ue,le]:[ue,null]:[le,null],Ue=xe[0],zn=xe[1];if(Oe)for(var Un=0;Un<Ce;++Un)lt.push(Ie=zn&&zn[Un]!==void 0?we[te](Ue[Un],zn[Un]):we[te](Ue[Un])),Ie.onerror=Ge;else for(Un=0;Un<Ce;++Un)lt.push(Ie=we[te](Ue[Un])),Ie.onerror=Ge}function cp(nr){nr=nr.target.result,lt.forEach(function(zs,Hv){return zs.error!=null&&(Ke[Hv]=zs.error)}),ve({numFailures:Xt,failures:Ke,results:te==="delete"?le:lt.map(function(zs){return zs.result}),lastResult:nr})}Ie.onerror=function(nr){Ge(nr),cp(nr)},Ie.onsuccess=cp})},getMany:function(Z){var J=Z.trans,te=Z.keys;return new Promise(function(le,ue){le=At(le);for(var ce,ve=J.objectStore(Y),Ae=te.length,we=new Array(Ae),xe=0,Oe=0,Ie=function(lt){lt=lt.target,we[lt._pos]=lt.result,++Oe===xe&&le(we)},Ce=dr(ue),Ge=0;Ge<Ae;++Ge)te[Ge]!=null&&((ce=ve.get(te[Ge]))._pos=Ge,ce.onsuccess=Ie,ce.onerror=Ce,++xe);xe===0&&le(we)})},get:function(Z){var J=Z.trans,te=Z.key;return new Promise(function(le,ue){le=At(le);var ce=J.objectStore(Y).get(te);ce.onsuccess=function(ve){return le(ve.target.result)},ce.onerror=dr(ue)})},query:(H=X,function(Z){return new Promise(function(J,te){J=At(J);var le,ue,ce,xe=Z.trans,ve=Z.values,Ae=Z.limit,Ie=Z.query,we=Ae===1/0?void 0:Ae,Oe=Ie.index,Ie=Ie.range,xe=xe.objectStore(Y),Oe=Oe.isPrimaryKey?xe:xe.index(Oe.name),Ie=C(Ie);if(Ae===0)return J({result:[]});H?((we=ve?Oe.getAll(Ie,we):Oe.getAllKeys(Ie,we)).onsuccess=function(Ce){return J({result:Ce.target.result})},we.onerror=dr(te)):(le=0,ue=!ve&&"openKeyCursor"in Oe?Oe.openKeyCursor(Ie):Oe.openCursor(Ie),ce=[],ue.onsuccess=function(Ce){var Ge=ue.result;return Ge?(ce.push(ve?Ge.value:Ge.primaryKey),++le===Ae?J({result:ce}):void Ge.continue()):J({result:ce})},ue.onerror=dr(te))})}),openCursor:function(Z){var J=Z.trans,te=Z.values,le=Z.query,ue=Z.reverse,ce=Z.unique;return new Promise(function(ve,Ae){ve=At(ve);var Oe=le.index,we=le.range,xe=J.objectStore(Y),xe=Oe.isPrimaryKey?xe:xe.index(Oe.name),Oe=ue?ce?"prevunique":"prev":ce?"nextunique":"next",Ie=!te&&"openKeyCursor"in xe?xe.openKeyCursor(C(we),Oe):xe.openCursor(C(we),Oe);Ie.onerror=dr(Ae),Ie.onsuccess=At(function(Ce){var Ge,lt,Ke,Xt,Ue=Ie.result;Ue?(Ue.___id=++Hl,Ue.done=!1,Ge=Ue.continue.bind(Ue),lt=(lt=Ue.continuePrimaryKey)&&lt.bind(Ue),Ke=Ue.advance.bind(Ue),Xt=function(){throw new Error("Cursor not stopped")},Ue.trans=J,Ue.stop=Ue.continue=Ue.continuePrimaryKey=Ue.advance=function(){throw new Error("Cursor not started")},Ue.fail=At(Ae),Ue.next=function(){var zn=this,Un=1;return this.start(function(){return Un--?zn.continue():zn.stop()}).then(function(){return zn})},Ue.start=function(zn){function Un(){if(Ie.result)try{zn()}catch(nr){Ue.fail(nr)}else Ue.done=!0,Ue.start=function(){throw new Error("Cursor behind last entry")},Ue.stop()}var cp=new Promise(function(nr,zs){nr=At(nr),Ie.onerror=dr(zs),Ue.fail=zs,Ue.stop=function(Hv){Ue.stop=Ue.continue=Ue.continuePrimaryKey=Ue.advance=Xt,nr(Hv)}});return Ie.onsuccess=At(function(nr){Ie.onsuccess=Un,Un()}),Ue.continue=Ge,Ue.continuePrimaryKey=lt,Ue.advance=Ke,Un(),cp},ve(Ue)):ve(null)},Ae)})},count:function(Z){var J=Z.query,te=Z.trans,le=J.index,ue=J.range;return new Promise(function(ce,ve){var Ae=te.objectStore(Y),we=le.isPrimaryKey?Ae:Ae.index(le.name),Ae=C(ue),we=Ae?we.count(Ae):we.count();we.onsuccess=At(function(xe){return ce(xe.target.result)}),we.onerror=dr(ve)})}}}var L,B,z,Q=(B=W,z=hf((L=d).objectStoreNames),{schema:{name:L.name,tables:z.map(function(ee){return B.objectStore(ee)}).map(function(ee){var H=ee.keyPath,J=ee.autoIncrement,Y=s(H),Z={},J={name:ee.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H==null,compound:Y,keyPath:H,autoIncrement:J,unique:!0,extractKey:Wl(H)},indexes:hf(ee.indexNames).map(function(te){return ee.index(te)}).map(function(ce){var le=ce.name,ue=ce.unique,ve=ce.multiEntry,ce=ce.keyPath,ve={name:le,compound:s(ce),keyPath:ce,unique:ue,multiEntry:ve,extractKey:Wl(ce)};return Z[gr(ce)]=ve}),getIndexByKeyPath:function(te){return Z[gr(te)]}};return Z[":id"]=J.primaryKey,H!=null&&(Z[gr(H)]=J.primaryKey),J})},hasGetAll:0<z.length&&"getAll"in B.objectStore(z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),W=Q.schema,X=Q.hasGetAll,Q=W.tables.map(j),U={};return Q.forEach(function(ee){return U[ee.name]=ee}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ee){if(!U[ee])throw new Error("Table '".concat(ee,"' not found"));return U[ee]},MIN_KEY:-1/0,MAX_KEY:ya(m),schema:W}}function Uv(d,m,b,C){var j=b.IDBKeyRange;return b.indexedDB,{dbcore:(C=op(m,j,C),d.dbcore.reduce(function(L,B){return B=B.create,r(r({},L),B(L))},C))}}function no(d,C){var b=C.db,C=Uv(d._middlewares,b,d._deps,C);d.core=C.dbcore,d.tables.forEach(function(j){var L=j.name;d.core.schema.tables.some(function(B){return B.name===L})&&(j.core=d.core.table(L),d[L]instanceof d.Table&&(d[L].core=j.core))})}function Ms(d,m,b,C){b.forEach(function(j){var L=C[j];m.forEach(function(B){var z=function W(X,Q){return x(X,Q)||(X=u(X))&&W(X,Q)}(B,j);(!z||"value"in z&&z.value===void 0)&&(B===d.Transaction.prototype||B instanceof d.Transaction?_(B,j,{get:function(){return this.table(j)},set:function(W){g(this,j,{value:W,writable:!0,configurable:!0,enumerable:!0})}}):B[j]=new d.Table(j,L))})})}function $s(d,m){m.forEach(function(b){for(var C in b)b[C]instanceof d.Table&&delete b[C]})}function Gl(d,m){return d._cfg.version-m._cfg.version}function ap(d,m,b,C){var j=d._dbSchema;b.objectStoreNames.contains("$meta")&&!j.$meta&&(j.$meta=ff("$meta",Ql("")[0],[]),d._storeNames.push("$meta"));var L=d._createTransaction("readwrite",d._storeNames,j);L.create(b),L._completion.catch(C);var B=L._reject.bind(L),z=Re.transless||Re;_i(function(){return Re.trans=L,Re.transless=z,m!==0?(no(d,b),X=m,((W=L).storeNames.includes("$meta")?W.table("$meta").get("version").then(function(Q){return Q??X}):Pe.resolve(X)).then(function(Q){return ee=Q,H=L,Y=b,Z=[],Q=(U=d)._versions,J=U._dbSchema=Vs(0,U.idbdb,Y),(Q=Q.filter(function(te){return te._cfg.version>=ee})).length!==0?(Q.forEach(function(te){Z.push(function(){var le=J,ue=te._cfg.dbschema;ba(U,le,Y),ba(U,ue,Y),J=U._dbSchema=ue;var ce=df(le,ue);ce.add.forEach(function(Oe){Yl(Y,Oe[0],Oe[1].primKey,Oe[1].indexes)}),ce.change.forEach(function(Oe){if(Oe.recreate)throw new fe.Upgrade("Not yet support for changing primary key");var Ie=Y.objectStore(Oe.name);Oe.add.forEach(function(Ce){return Ls(Ie,Ce)}),Oe.change.forEach(function(Ce){Ie.deleteIndex(Ce.name),Ls(Ie,Ce)}),Oe.del.forEach(function(Ce){return Ie.deleteIndex(Ce)})});var ve=te._cfg.contentUpgrade;if(ve&&te._cfg.version>ee){no(U,Y),H._memoizedTables={};var Ae=I(ue);ce.del.forEach(function(Oe){Ae[Oe]=le[Oe]}),$s(U,[U.Transaction.prototype]),Ms(U,[U.Transaction.prototype],a(Ae),Ae),H.schema=Ae;var we,xe=Te(ve);return xe&&Qi(),ce=Pe.follow(function(){var Oe;(we=ve(H))&&xe&&(Oe=Yr.bind(null,null),we.then(Oe,Oe))}),we&&typeof we.then=="function"?Pe.resolve(we):ce.then(function(){return we})}}),Z.push(function(le){var ue,ce,ve=te._cfg.dbschema;ue=ve,ce=le,[].slice.call(ce.db.objectStoreNames).forEach(function(Ae){return ue[Ae]==null&&ce.db.deleteObjectStore(Ae)}),$s(U,[U.Transaction.prototype]),Ms(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),H.schema=U._dbSchema}),Z.push(function(le){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===te._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ue){return ue!=="$meta"})):le.objectStore("$meta").put(te._cfg.version,"version"))})}),function te(){return Z.length?Pe.resolve(Z.shift()(H.idbtrans)).then(te):Pe.resolve()}().then(function(){va(J,Y)})):Pe.resolve();var U,ee,H,Y,Z,J}).catch(B)):(a(j).forEach(function(Q){Yl(b,Q,j[Q].primKey,j[Q].indexes)}),no(d,b),void Pe.follow(function(){return d.on.populate.fire(L)}).catch(B));var W,X})}function Xl(d,m){va(d._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var b=Vs(0,d.idbdb,m);ba(d,d._dbSchema,m);for(var C=0,j=df(b,d._dbSchema).change;C<j.length;C++){var L=function(B){if(B.change.length||B.recreate)return console.warn("Unable to patch indexes of table ".concat(B.name," because it has changes on the type of index or primary key.")),{value:void 0};var z=m.objectStore(B.name);B.add.forEach(function(W){Ut&&console.debug("Dexie upgrade patch: Creating missing index ".concat(B.name,".").concat(W.src)),Ls(z,W)})}(j[C]);if(typeof L=="object")return L.value}}function df(d,m){var b,C={del:[],add:[],change:[]};for(b in d)m[b]||C.del.push(b);for(b in m){var j=d[b],L=m[b];if(j){var B={name:b,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(j.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||j.primKey.auto!==L.primKey.auto)B.recreate=!0,C.change.push(B);else{var z=j.idxByName,W=L.idxByName,X=void 0;for(X in z)W[X]||B.del.push(X);for(X in W){var Q=z[X],U=W[X];Q?Q.src!==U.src&&B.change.push(U):B.add.push(U)}(0<B.del.length||0<B.add.length||0<B.change.length)&&C.change.push(B)}}else C.add.push([b,L])}return C}function Yl(d,m,b,C){var j=d.db.createObjectStore(m,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});return C.forEach(function(L){return Ls(j,L)}),j}function va(d,m){a(d).forEach(function(b){m.db.objectStoreNames.contains(b)||(Ut&&console.debug("Dexie: Creating missing table",b),Yl(m,b,d[b].primKey,d[b].indexes))})}function Ls(d,m){d.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Vs(d,m,b){var C={};return A(m.objectStoreNames,0).forEach(function(j){for(var L=b.objectStore(j),B=It(ip(X=L.keyPath),X||"",!0,!1,!!L.autoIncrement,X&&typeof X!="string",!0),z=[],W=0;W<L.indexNames.length;++W){var Q=L.index(L.indexNames[W]),X=Q.keyPath,Q=It(Q.name,X,!!Q.unique,!!Q.multiEntry,!1,X&&typeof X!="string",!1);z.push(Q)}C[j]=ff(j,B,z)}),C}function ba(d,m,b){for(var C=b.db.objectStoreNames,j=0;j<C.length;++j){var L=C[j],B=b.objectStore(L);d._hasGetAll="getAll"in B;for(var z=0;z<B.indexNames.length;++z){var W=B.indexNames[z],X=B.index(W).keyPath,Q=typeof X=="string"?X:"["+A(X).join("+")+"]";!m[L]||(X=m[L].idxByName[Q])&&(X.name=W,delete m[L].idxByName[Q],m[L].idxByName[W]=X)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function Ql(d){return d.split(",").map(function(m,b){var L=m.split(":"),C=(j=L[1])===null||j===void 0?void 0:j.trim(),j=(m=L[0].trim()).replace(/([&*]|\+\+)/g,""),L=/^\[/.test(j)?j.match(/^\[(.*)\]$/)[1].split("+"):j;return It(j,L||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),s(L),b===0,C)})}var sp=(Ai.prototype._createTableSchema=ff,Ai.prototype._parseIndexSyntax=Ql,Ai.prototype._parseStoresSpec=function(d,m){var b=this;a(d).forEach(function(C){if(d[C]!==null){var j=b._parseIndexSyntax(d[C]),L=j.shift();if(!L)throw new fe.Schema("Invalid schema for table "+C+": "+d[C]);if(L.unique=!0,L.multi)throw new fe.Schema("Primary key cannot be multiEntry*");j.forEach(function(B){if(B.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!B.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),j=b._createTableSchema(C,L,j),m[C]=j}})},Ai.prototype.stores=function(b){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,b):b;var b=m._versions,C={},j={};return b.forEach(function(L){l(C,L._cfg.storesSource),j=L._cfg.dbschema={},L._parseStoresSpec(C,j)}),m._dbSchema=j,$s(m,[m._allTables,m,m.Transaction.prototype]),Ms(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],a(j),j),m._storeNames=a(j),this},Ai.prototype.upgrade=function(d){return this._cfg.contentUpgrade=Ft(this._cfg.contentUpgrade||he,d),this},Ai);function Ai(){}function Jl(d,m){var b=d._dbNamesDB;return b||(b=d._dbNamesDB=new No(ks,{addons:[],indexedDB:d,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function Zl(d){return d&&typeof d.databases=="function"}function Ti(d){return _i(function(){return Re.letThrough=!0,d()})}function eu(d){return!("from"in d)}var gn=function(d,m){if(!this){var b=new gn;return d&&"d"in d&&l(b,d),b}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?m:d}:{d:0})};function _a(d,m,b){var C=tt(m,b);if(!isNaN(C)){if(0<C)throw RangeError();if(eu(d))return l(d,{from:m,to:b,d:1});var j=d.l,C=d.r;if(tt(b,d.from)<0)return j?_a(j,m,b):d.l={from:m,to:b,d:1,l:null,r:null},pf(d);if(0<tt(m,d.to))return C?_a(C,m,b):d.r={from:m,to:b,d:1,l:null,r:null},pf(d);tt(m,d.from)<0&&(d.from=m,d.l=null,d.d=C?C.d+1:1),0<tt(b,d.to)&&(d.to=b,d.r=null,d.d=d.l?d.l.d+1:1),b=!d.r,j&&!d.l&&wa(d,j),C&&b&&wa(d,C)}}function wa(d,m){eu(m)||function b(C,W){var L=W.from,B=W.to,z=W.l,W=W.r;_a(C,L,B),z&&b(C,z),W&&b(C,W)}(d,m)}function Fs(d,m){var b=Tn(m),C=b.next();if(C.done)return!1;for(var j=C.value,L=Tn(d),B=L.next(j.from),z=B.value;!C.done&&!B.done;){if(tt(z.from,j.to)<=0&&0<=tt(z.to,j.from))return!0;tt(j.from,z.from)<0?j=(C=b.next(z.from)).value:z=(B=L.next(j.from)).value}return!1}function Tn(d){var m=eu(d)?null:{s:0,n:d};return{next:function(b){for(var C=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,C)for(;m.n.l&&tt(b,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!C||tt(b,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function pf(d){var m,b,C=(((m=d.r)===null||m===void 0?void 0:m.d)||0)-(((b=d.l)===null||b===void 0?void 0:b.d)||0),j=1<C?"r":C<-1?"l":"";j&&(m=j=="r"?"l":"r",b=r({},d),C=d[j],d.from=C.from,d.to=C.to,d[j]=C[j],b[j]=C[m],(d[m]=b).d=mf(b)),d.d=mf(d)}function mf(b){var m=b.r,b=b.l;return(m?b?Math.max(m.d,b.d):m.d:b?b.d:0)+1}function Pi(d,m){return a(m).forEach(function(b){d[b]?wa(d[b],m[b]):d[b]=function C(j){var L,B,z={};for(L in j)c(j,L)&&(B=j[L],z[L]=!B||typeof B!="object"||D.has(B.constructor)?B:C(B));return z}(m[b])}),d}function h(d,m){return d.all||m.all||Object.keys(d).some(function(b){return m[b]&&Fs(m[b],d[b])})}p(gn.prototype,((Zr={add:function(d){return wa(this,d),this},addKey:function(d){return _a(this,d,d),this},addKeys:function(d){var m=this;return d.forEach(function(b){return _a(m,b,b)}),this},hasKey:function(d){var m=Tn(this).next(d).value;return m&&tt(m.from,d)<=0&&0<=tt(m.to,d)}})[se]=function(){return Tn(this)},Zr));var E={},N={},F=!1;function ne(d){Pi(N,d),F||(F=!0,setTimeout(function(){F=!1,ae(N,!(N={}))},0))}function ae(d,m){m===void 0&&(m=!1);var b=new Set;if(d.all)for(var C=0,j=Object.values(E);C<j.length;C++)Se(B=j[C],d,b,m);else for(var L in d){var B,z=/^idb\:\/\/(.*)\/(.*)\//.exec(L);z&&(L=z[1],z=z[2],(B=E["idb://".concat(L,"/").concat(z)])&&Se(B,d,b,m))}b.forEach(function(W){return W()})}function Se(d,m,b,C){for(var j=[],L=0,B=Object.entries(d.queries.query);L<B.length;L++){for(var z=B[L],W=z[0],X=[],Q=0,U=z[1];Q<U.length;Q++){var ee=U[Q];h(m,ee.obsSet)?ee.subscribers.forEach(function(J){return b.add(J)}):C&&X.push(ee)}C&&j.push([W,X])}if(C)for(var H=0,Y=j;H<Y.length;H++){var Z=Y[H],W=Z[0],X=Z[1];d.queries.query[W]=X}}function He(d){var m=d._state,b=d._deps.indexedDB;if(m.isBeingOpened||d.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Tt(m.dbOpenError):d});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var C=m.openCanceller,j=Math.round(10*d.verno),L=!1;function B(){if(m.openCanceller!==C)throw new fe.DatabaseClosed("db.open() was cancelled")}function z(){return new Pe(function(ee,H){if(B(),!b)throw new fe.MissingAPI;var Y=d.name,Z=m.autoSchema||!j?b.open(Y):b.open(Y,j);if(!Z)throw new fe.MissingAPI;Z.onerror=dr(H),Z.onblocked=At(d._fireOnBlocked),Z.onupgradeneeded=At(function(J){var te;Q=Z.transaction,m.autoSchema&&!d._options.allowEmptyDB?(Z.onerror=to,Q.abort(),Z.result.close(),(te=b.deleteDatabase(Y)).onsuccess=te.onerror=At(function(){H(new fe.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(Q.onerror=dr(H),J=J.oldVersion>Math.pow(2,62)?0:J.oldVersion,U=J<1,d.idbdb=Z.result,L&&Xl(d,Q),ap(d,J/10,Q,H))},H),Z.onsuccess=At(function(){Q=null;var J,te,le,ue,ce,ve=d.idbdb=Z.result,Ae=A(ve.objectStoreNames);if(0<Ae.length)try{var we=ve.transaction((ue=Ae).length===1?ue[0]:ue,"readonly");if(m.autoSchema)te=ve,le=we,(J=d).verno=te.version/10,le=J._dbSchema=Vs(0,te,le),J._storeNames=A(te.objectStoreNames,0),Ms(J,[J._allTables],a(le),le);else if(ba(d,d._dbSchema,we),((ce=df(Vs(0,(ce=d).idbdb,we),ce._dbSchema)).add.length||ce.change.some(function(xe){return xe.add.length||xe.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ve.close(),j=ve.version+1,L=!0,ee(z());no(d,we)}catch{}Io.push(d),ve.onversionchange=At(function(xe){m.vcFired=!0,d.on("versionchange").fire(xe)}),ve.onclose=At(function(xe){d.on("close").fire(xe)}),U&&(ce=d._deps,we=Y,ve=ce.indexedDB,ce=ce.IDBKeyRange,Zl(ve)||we===ks||Jl(ve,ce).put({name:we}).catch(he)),ee()},H)}).catch(function(ee){switch(ee==null?void 0:ee.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),z();break;case"VersionError":if(0<j)return j=0,z()}return Pe.reject(ee)})}var W,X=m.dbReadyResolve,Q=null,U=!1;return Pe.race([C,(typeof navigator>"u"?Pe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ee){function H(){return indexedDB.databases().finally(ee)}W=setInterval(H,100),H()}).finally(function(){return clearInterval(W)}):Promise.resolve()).then(z)]).then(function(){return B(),m.onReadyBeingFired=[],Pe.resolve(Ti(function(){return d.on.ready.fire(d.vip)})).then(function ee(){if(0<m.onReadyBeingFired.length){var H=m.onReadyBeingFired.reduce(Ft,he);return m.onReadyBeingFired=[],Pe.resolve(Ti(function(){return H(d.vip)})).then(ee)}})}).finally(function(){m.openCanceller===C&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(ee){m.dbOpenError=ee;try{Q&&Q.abort()}catch{}return C===m.openCanceller&&d._close(),Tt(ee)}).finally(function(){m.openComplete=!0,X()}).then(function(){var ee;return U&&(ee={},d.tables.forEach(function(H){H.schema.indexes.forEach(function(Y){Y.name&&(ee["idb://".concat(d.name,"/").concat(H.name,"/").concat(Y.name)]=new gn(-1/0,[[[]]]))}),ee["idb://".concat(d.name,"/").concat(H.name,"/")]=ee["idb://".concat(d.name,"/").concat(H.name,"/:dels")]=new gn(-1/0,[[[]]])}),pr(ga).fire(ee),ae(ee,!0)),d})}function qt(d){function m(L){return d.next(L)}var b=j(m),C=j(function(L){return d.throw(L)});function j(L){return function(W){var z=L(W),W=z.value;return z.done?W:W&&typeof W.then=="function"?W.then(b,C):s(W)?Promise.all(W).then(b,C):b(W)}}return j(m)()}function pt(d,m,b){for(var C=s(d)?d.slice():[d],j=0;j<b;++j)C.push(m);return C}var sn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(m){var b=d.table(m),C=b.schema,j={},L=[];function B(U,ee,H){var Y=gr(U),Z=j[Y]=j[Y]||[],J=U==null?0:typeof U=="string"?1:U.length,te=0<ee,te=r(r({},H),{name:te?"".concat(Y,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:te,keyTail:ee,keyLength:J,extractKey:Wl(U),unique:!te&&H.unique});return Z.push(te),te.isPrimaryKey||L.push(te),1<J&&B(J===2?U[0]:U.slice(0,J-1),ee+1,H),Z.sort(function(le,ue){return le.keyTail-ue.keyTail}),te}m=B(C.primaryKey.keyPath,0,C.primaryKey),j[":id"]=[m];for(var z=0,W=C.indexes;z<W.length;z++){var X=W[z];B(X.keyPath,0,X)}function Q(U){var ee,H=U.query.index;return H.isVirtual?r(r({},U),{query:{index:H.lowLevelIndex,range:(ee=U.query.range,H=H.keyTail,{type:ee.type===1?2:ee.type,lower:pt(ee.lower,ee.lowerOpen?d.MAX_KEY:d.MIN_KEY,H),lowerOpen:!0,upper:pt(ee.upper,ee.upperOpen?d.MIN_KEY:d.MAX_KEY,H),upperOpen:!0})}}):U}return r(r({},b),{schema:r(r({},C),{primaryKey:m,indexes:L,getIndexByKeyPath:function(U){return(U=j[gr(U)])&&U[0]}}),count:function(U){return b.count(Q(U))},query:function(U){return b.query(Q(U))},openCursor:function(U){var ee=U.query.index,H=ee.keyTail,Y=ee.isVirtual,Z=ee.keyLength;return Y?b.openCursor(Q(U)).then(function(te){return te&&J(te)}):b.openCursor(U);function J(te){return Object.create(te,{continue:{value:function(le){le!=null?te.continue(pt(le,U.reverse?d.MAX_KEY:d.MIN_KEY,H)):U.unique?te.continue(te.key.slice(0,Z).concat(U.reverse?d.MIN_KEY:d.MAX_KEY,H)):te.continue()}},continuePrimaryKey:{value:function(le,ue){te.continuePrimaryKey(pt(le,d.MAX_KEY,H),ue)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var le=te.key;return Z===1?le[0]:le.slice(0,Z)}},value:{get:function(){return te.value}}})}}})}})}};function yr(d,m,b,C){return b=b||{},C=C||"",a(d).forEach(function(j){var L,B,z;c(m,j)?(L=d[j],B=m[j],typeof L=="object"&&typeof B=="object"&&L&&B?(z=ie(L))!==ie(B)?b[C+j]=m[j]:z==="Object"?yr(L,B,b,C+j+"."):L!==B&&(b[C+j]=m[j]):L!==B&&(b[C+j]=m[j])):b[C+j]=void 0}),a(m).forEach(function(j){c(d,j)||(b[C+j]=m[j])}),b}function Ii(d,m){return m.type==="delete"?m.keys:m.keys||m.values.map(d.extractKey)}var ro={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(m){var b=d.table(m),C=b.schema.primaryKey;return r(r({},b),{mutate:function(j){var L=Re.trans,B=L.table(m).hook,z=B.deleting,W=B.creating,X=B.updating;switch(j.type){case"add":if(W.fire===he)break;return L._promise("readwrite",function(){return Q(j)},!0);case"put":if(W.fire===he&&X.fire===he)break;return L._promise("readwrite",function(){return Q(j)},!0);case"delete":if(z.fire===he)break;return L._promise("readwrite",function(){return Q(j)},!0);case"deleteRange":if(z.fire===he)break;return L._promise("readwrite",function(){return function U(ee,H,Y){return b.query({trans:ee,values:!1,query:{index:C,range:H},limit:Y}).then(function(Z){var J=Z.result;return Q({type:"delete",keys:J,trans:ee}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):J.length<Y?{failures:[],numFailures:0,lastResult:void 0}:U(ee,r(r({},H),{lower:J[J.length-1],lowerOpen:!0}),Y)})})}(j.trans,j.range,1e4)},!0)}return b.mutate(j);function Q(U){var ee,H,Y,Z=Re.trans,J=U.keys||Ii(C,U);if(!J)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?r(r({},U),{keys:J}):r({},U)).type!=="delete"&&(U.values=i([],U.values)),U.keys&&(U.keys=i([],U.keys)),ee=b,Y=J,((H=U).type==="add"?Promise.resolve([]):ee.getMany({trans:H.trans,keys:Y,cache:"immutable"})).then(function(te){var le=J.map(function(ue,ce){var ve,Ae,we,xe=te[ce],Oe={onerror:null,onsuccess:null};return U.type==="delete"?z.fire.call(Oe,ue,xe,Z):U.type==="add"||xe===void 0?(ve=W.fire.call(Oe,ue,U.values[ce],Z),ue==null&&ve!=null&&(U.keys[ce]=ue=ve,C.outbound||w(U.values[ce],C.keyPath,ue))):(ve=yr(xe,U.values[ce]),(Ae=X.fire.call(Oe,ve,ue,xe,Z))&&(we=U.values[ce],Object.keys(Ae).forEach(function(Ie){c(we,Ie)?we[Ie]=Ae[Ie]:w(we,Ie,Ae[Ie])}))),Oe});return b.mutate(U).then(function(ue){for(var ce=ue.failures,ve=ue.results,Ae=ue.numFailures,ue=ue.lastResult,we=0;we<J.length;++we){var xe=(ve||J)[we],Oe=le[we];xe==null?Oe.onerror&&Oe.onerror(ce[we]):Oe.onsuccess&&Oe.onsuccess(U.type==="put"&&te[we]?U.values[we]:xe)}return{failures:ce,results:ve,numFailures:Ae,lastResult:ue}}).catch(function(ue){return le.forEach(function(ce){return ce.onerror&&ce.onerror(ue)}),Promise.reject(ue)})})}}})}})}};function Oi(d,m,b){try{if(!m||m.keys.length<d.length)return null;for(var C=[],j=0,L=0;j<m.keys.length&&L<d.length;++j)tt(m.keys[j],d[L])===0&&(C.push(b?M(m.values[j]):m.values[j]),++L);return C.length===d.length?C:null}catch{return null}}var tu={stack:"dbcore",level:-1,create:function(d){return{table:function(m){var b=d.table(m);return r(r({},b),{getMany:function(C){if(!C.cache)return b.getMany(C);var j=Oi(C.keys,C.trans._cache,C.cache==="clone");return j?Pe.resolve(j):b.getMany(C).then(function(L){return C.trans._cache={keys:C.keys,values:C.cache==="clone"?M(L):L},L})},mutate:function(C){return C.type!=="add"&&(C.trans._cache=null),b.mutate(C)}})}}}};function nu(d,m){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function eS(d,m){switch(d){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fL={stack:"dbcore",level:0,name:"Observability",create:function(d){var m=d.schema.name,b=new gn(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(C,j,L){if(Re.subscr&&j!=="readonly")throw new fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return d.transaction(C,j,L)},table:function(C){var j=d.table(C),L=j.schema,B=L.primaryKey,U=L.indexes,z=B.extractKey,W=B.outbound,X=B.autoIncrement&&U.filter(function(H){return H.compound&&H.keyPath.includes(B.keyPath)}),Q=r(r({},j),{mutate:function(H){function Y(Ie){return Ie="idb://".concat(m,"/").concat(C,"/").concat(Ie),ue[Ie]||(ue[Ie]=new gn)}var Z,J,te,le=H.trans,ue=H.mutatedParts||(H.mutatedParts={}),ce=Y(""),ve=Y(":dels"),Ae=H.type,Oe=H.type==="deleteRange"?[H.range]:H.type==="delete"?[H.keys]:H.values.length<50?[Ii(B,H).filter(function(Ie){return Ie}),H.values]:[],we=Oe[0],xe=Oe[1],Oe=H.trans._cache;return s(we)?(ce.addKeys(we),(Oe=Ae==="delete"||we.length===xe.length?Oi(we,Oe):null)||ve.addKeys(we),(Oe||xe)&&(Z=Y,J=Oe,te=xe,L.indexes.forEach(function(Ie){var Ce=Z(Ie.name||"");function Ge(Ke){return Ke!=null?Ie.extractKey(Ke):null}function lt(Ke){return Ie.multiEntry&&s(Ke)?Ke.forEach(function(Xt){return Ce.addKey(Xt)}):Ce.addKey(Ke)}(J||te).forEach(function(Ke,zn){var Ue=J&&Ge(J[zn]),zn=te&&Ge(te[zn]);tt(Ue,zn)!==0&&(Ue!=null&&lt(Ue),zn!=null&&lt(zn))})}))):we?(xe={from:(xe=we.lower)!==null&&xe!==void 0?xe:d.MIN_KEY,to:(xe=we.upper)!==null&&xe!==void 0?xe:d.MAX_KEY},ve.add(xe),ce.add(xe)):(ce.add(b),ve.add(b),L.indexes.forEach(function(Ie){return Y(Ie.name).add(b)})),j.mutate(H).then(function(Ie){return!we||H.type!=="add"&&H.type!=="put"||(ce.addKeys(Ie.results),X&&X.forEach(function(Ce){for(var Ge=H.values.map(function(Ue){return Ce.extractKey(Ue)}),lt=Ce.keyPath.findIndex(function(Ue){return Ue===B.keyPath}),Ke=0,Xt=Ie.results.length;Ke<Xt;++Ke)Ge[Ke][lt]=Ie.results[Ke];Y(Ce.name).addKeys(Ge)})),le.mutatedParts=Pi(le.mutatedParts||{},ue),Ie})}}),U=function(Y){var Z=Y.query,Y=Z.index,Z=Z.range;return[Y,new gn((Y=Z.lower)!==null&&Y!==void 0?Y:d.MIN_KEY,(Z=Z.upper)!==null&&Z!==void 0?Z:d.MAX_KEY)]},ee={get:function(H){return[B,new gn(H.key)]},getMany:function(H){return[B,new gn().addKeys(H.keys)]},count:U,query:U,openCursor:U};return a(ee).forEach(function(H){Q[H]=function(Y){var Z=Re.subscr,J=!!Z,te=nu(Re,j)&&eS(H,Y)?Y.obsSet={}:Z;if(J){var le=function(xe){return xe="idb://".concat(m,"/").concat(C,"/").concat(xe),te[xe]||(te[xe]=new gn)},ue=le(""),ce=le(":dels"),Z=ee[H](Y),J=Z[0],Z=Z[1];if((H==="query"&&J.isPrimaryKey&&!Y.values?ce:le(J.name||"")).add(Z),!J.isPrimaryKey){if(H!=="count"){var ve=H==="query"&&W&&Y.values&&j.query(r(r({},Y),{values:!1}));return j[H].apply(this,arguments).then(function(xe){if(H==="query"){if(W&&Y.values)return ve.then(function(Ge){return Ge=Ge.result,ue.addKeys(Ge),xe});var Oe=Y.values?xe.result.map(z):xe.result;(Y.values?ue:ce).addKeys(Oe)}else if(H==="openCursor"){var Ie=xe,Ce=Y.values;return Ie&&Object.create(Ie,{key:{get:function(){return ce.addKey(Ie.primaryKey),Ie.key}},primaryKey:{get:function(){var Ge=Ie.primaryKey;return ce.addKey(Ge),Ge}},value:{get:function(){return Ce&&ue.addKey(Ie.primaryKey),Ie.value}}})}return xe})}ce.add(b)}}return j[H].apply(this,arguments)}}),Q}})}};function tS(d,m,b){if(b.numFailures===0)return m;if(m.type==="deleteRange")return null;var C=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return b.numFailures===C?null:(m=r({},m),s(m.keys)&&(m.keys=m.keys.filter(function(j,L){return!(L in b.failures)})),"values"in m&&s(m.values)&&(m.values=m.values.filter(function(j,L){return!(L in b.failures)})),m)}function qv(d,m){return b=d,((C=m).lower===void 0||(C.lowerOpen?0<tt(b,C.lower):0<=tt(b,C.lower)))&&(d=d,(m=m).upper===void 0||(m.upperOpen?tt(d,m.upper)<0:tt(d,m.upper)<=0));var b,C}function nS(d,m,ee,C,j,L){if(!ee||ee.length===0)return d;var B=m.query.index,z=B.multiEntry,W=m.query.range,X=C.schema.primaryKey.extractKey,Q=B.extractKey,U=(B.lowLevelIndex||B).extractKey,ee=ee.reduce(function(H,Y){var Z=H,J=[];if(Y.type==="add"||Y.type==="put")for(var te=new gn,le=Y.values.length-1;0<=le;--le){var ue,ce=Y.values[le],ve=X(ce);te.hasKey(ve)||(ue=Q(ce),(z&&s(ue)?ue.some(function(Ie){return qv(Ie,W)}):qv(ue,W))&&(te.addKey(ve),J.push(ce)))}switch(Y.type){case"add":var Ae=new gn().addKeys(m.values?H.map(function(Ce){return X(Ce)}):H),Z=H.concat(m.values?J.filter(function(Ce){return Ce=X(Ce),!Ae.hasKey(Ce)&&(Ae.addKey(Ce),!0)}):J.map(function(Ce){return X(Ce)}).filter(function(Ce){return!Ae.hasKey(Ce)&&(Ae.addKey(Ce),!0)}));break;case"put":var we=new gn().addKeys(Y.values.map(function(Ce){return X(Ce)}));Z=H.filter(function(Ce){return!we.hasKey(m.values?X(Ce):Ce)}).concat(m.values?J:J.map(function(Ce){return X(Ce)}));break;case"delete":var xe=new gn().addKeys(Y.keys);Z=H.filter(function(Ce){return!xe.hasKey(m.values?X(Ce):Ce)});break;case"deleteRange":var Oe=Y.range;Z=H.filter(function(Ce){return!qv(X(Ce),Oe)})}return Z},d);return ee===d?d:(ee.sort(function(H,Y){return tt(U(H),U(Y))||tt(X(H),X(Y))}),m.limit&&m.limit<1/0&&(ee.length>m.limit?ee.length=m.limit:d.length===m.limit&&ee.length<m.limit&&(j.dirty=!0)),L?Object.freeze(ee):ee)}function rS(d,m){return tt(d.lower,m.lower)===0&&tt(d.upper,m.upper)===0&&!!d.lowerOpen==!!m.lowerOpen&&!!d.upperOpen==!!m.upperOpen}function hL(d,m){return function(b,C,j,L){if(b===void 0)return C!==void 0?-1:0;if(C===void 0)return 1;if((C=tt(b,C))===0){if(j&&L)return 0;if(j)return 1;if(L)return-1}return C}(d.lower,m.lower,d.lowerOpen,m.lowerOpen)<=0&&0<=function(b,C,j,L){if(b===void 0)return C!==void 0?1:0;if(C===void 0)return-1;if((C=tt(b,C))===0){if(j&&L)return 0;if(j)return-1;if(L)return 1}return C}(d.upper,m.upper,d.upperOpen,m.upperOpen)}function dL(d,m,b,C){d.subscribers.add(b),C.addEventListener("abort",function(){var j,L;d.subscribers.delete(b),d.subscribers.size===0&&(j=d,L=m,setTimeout(function(){j.subscribers.size===0&&q(L,j)},3e3))})}var pL={stack:"dbcore",level:0,name:"Cache",create:function(d){var m=d.schema.name;return r(r({},d),{transaction:function(b,C,j){var L,B,z=d.transaction(b,C,j);return C==="readwrite"&&(B=(L=new AbortController).signal,j=function(W){return function(){if(L.abort(),C==="readwrite"){for(var X=new Set,Q=0,U=b;Q<U.length;Q++){var ee=U[Q],H=E["idb://".concat(m,"/").concat(ee)];if(H){var Y=d.table(ee),Z=H.optimisticOps.filter(function(Ce){return Ce.trans===z});if(z._explicit&&W&&z.mutatedParts)for(var J=0,te=Object.values(H.queries.query);J<te.length;J++)for(var le=0,ue=(Ae=te[J]).slice();le<ue.length;le++)h((we=ue[le]).obsSet,z.mutatedParts)&&(q(Ae,we),we.subscribers.forEach(function(Ce){return X.add(Ce)}));else if(0<Z.length){H.optimisticOps=H.optimisticOps.filter(function(Ce){return Ce.trans!==z});for(var ce=0,ve=Object.values(H.queries.query);ce<ve.length;ce++)for(var Ae,we,xe,Oe=0,Ie=(Ae=ve[ce]).slice();Oe<Ie.length;Oe++)(we=Ie[Oe]).res!=null&&z.mutatedParts&&(W&&!we.dirty?(xe=Object.isFrozen(we.res),xe=nS(we.res,we.req,Z,Y,we,xe),we.dirty?(q(Ae,we),we.subscribers.forEach(function(Ce){return X.add(Ce)})):xe!==we.res&&(we.res=xe,we.promise=Pe.resolve({result:xe}))):(we.dirty&&q(Ae,we),we.subscribers.forEach(function(Ce){return X.add(Ce)})))}}}X.forEach(function(Ce){return Ce()})}}},z.addEventListener("abort",j(!1),{signal:B}),z.addEventListener("error",j(!1),{signal:B}),z.addEventListener("complete",j(!0),{signal:B})),z},table:function(b){var C=d.table(b),j=C.schema.primaryKey;return r(r({},C),{mutate:function(L){var B=Re.trans;if(j.outbound||B.db._options.cache==="disabled"||B.explicit||B.idbtrans.mode!=="readwrite")return C.mutate(L);var z=E["idb://".concat(m,"/").concat(b)];return z?(B=C.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||Ii(j,L).some(function(W){return W==null}))?(z.optimisticOps.push(L),L.mutatedParts&&ne(L.mutatedParts),B.then(function(W){0<W.numFailures&&(q(z.optimisticOps,L),(W=tS(0,L,W))&&z.optimisticOps.push(W),L.mutatedParts&&ne(L.mutatedParts))}),B.catch(function(){q(z.optimisticOps,L),L.mutatedParts&&ne(L.mutatedParts)})):B.then(function(W){var X=tS(0,r(r({},L),{values:L.values.map(function(Q,U){var ee;return W.failures[U]?Q:(Q=(ee=j.keyPath)!==null&&ee!==void 0&&ee.includes(".")?M(Q):r({},Q),w(Q,j.keyPath,W.results[U]),Q)})}),W);z.optimisticOps.push(X),queueMicrotask(function(){return L.mutatedParts&&ne(L.mutatedParts)})}),B):C.mutate(L)},query:function(L){if(!nu(Re,C)||!eS("query",L))return C.query(L);var B=((X=Re.trans)===null||X===void 0?void 0:X.db._options.cache)==="immutable",U=Re,z=U.requery,W=U.signal,X=function(Y,Z,J,te){var le=E["idb://".concat(Y,"/").concat(Z)];if(!le)return[];if(!(Z=le.queries[J]))return[null,!1,le,null];var ue=Z[(te.query?te.query.index.name:null)||""];if(!ue)return[null,!1,le,null];switch(J){case"query":var ce=ue.find(function(ve){return ve.req.limit===te.limit&&ve.req.values===te.values&&rS(ve.req.query.range,te.query.range)});return ce?[ce,!0,le,ue]:[ue.find(function(ve){return("limit"in ve.req?ve.req.limit:1/0)>=te.limit&&(!te.values||ve.req.values)&&hL(ve.req.query.range,te.query.range)}),!1,le,ue];case"count":return ce=ue.find(function(ve){return rS(ve.req.query.range,te.query.range)}),[ce,!!ce,le,ue]}}(m,b,"query",L),Q=X[0],U=X[1],ee=X[2],H=X[3];return Q&&U?Q.obsSet=L.obsSet:(U=C.query(L).then(function(Y){var Z=Y.result;if(Q&&(Q.res=Z),B){for(var J=0,te=Z.length;J<te;++J)Object.freeze(Z[J]);Object.freeze(Z)}else Y.result=M(Z);return Y}).catch(function(Y){return H&&Q&&q(H,Q),Promise.reject(Y)}),Q={obsSet:L.obsSet,promise:U,subscribers:new Set,type:"query",req:L,dirty:!1},H?H.push(Q):(H=[Q],(ee=ee||(E["idb://".concat(m,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=H)),dL(Q,H,z,W),Q.promise.then(function(Y){return{result:nS(Y.result,L,ee==null?void 0:ee.optimisticOps,C,Q,B)}})}})}})}};function lp(d,m){return new Proxy(d,{get:function(b,C,j){return C==="db"?m:Reflect.get(b,C,j)}})}var No=(Zt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new fe.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var m=this._versions,b=m.filter(function(C){return C._cfg.version===d})[0];return b||(b=new this.Version(d),m.push(b),m.sort(Gl),b.stores({}),this._state.autoSchema=!1,b)},Zt.prototype._whenReady=function(d){var m=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?d():new Pe(function(b,C){if(m._state.openComplete)return C(new fe.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void C(new fe.DatabaseClosed);m.open().catch(he)}m._state.dbReadyPromise.then(b,C)}).then(d)},Zt.prototype.use=function(d){var m=d.stack,b=d.create,C=d.level,j=d.name;return j&&this.unuse({stack:m,name:j}),d=this._middlewares[m]||(this._middlewares[m]=[]),d.push({stack:m,create:b,level:C??10,name:j}),d.sort(function(L,B){return L.level-B.level}),this},Zt.prototype.unuse=function(d){var m=d.stack,b=d.name,C=d.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(j){return C?j.create!==C:!!b&&j.name!==b})),this},Zt.prototype.open=function(){var d=this;return Qr(Gr,function(){return He(d)})},Zt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,m=Io.indexOf(this);if(0<=m&&Io.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Pe(function(b){d.dbReadyResolve=b}),d.openCanceller=new Pe(function(b,C){d.cancelOpen=C}))},Zt.prototype.close=function(b){var m=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,b=this._state;m?(b.isBeingOpened&&b.cancelOpen(new fe.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new fe.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},Zt.prototype.delete=function(d){var m=this;d===void 0&&(d={disableAutoOpen:!0});var b=0<arguments.length&&typeof arguments[0]!="object",C=this._state;return new Pe(function(j,L){function B(){m.close(d);var z=m._deps.indexedDB.deleteDatabase(m.name);z.onsuccess=At(function(){var W,X,Q;W=m._deps,X=m.name,Q=W.indexedDB,W=W.IDBKeyRange,Zl(Q)||X===ks||Jl(Q,W).delete(X).catch(he),j()}),z.onerror=dr(L),z.onblocked=m._fireOnBlocked}if(b)throw new fe.InvalidArgument("Invalid closeOptions argument to db.delete()");C.isBeingOpened?C.dbReadyPromise.then(B):B()})},Zt.prototype.backendDB=function(){return this.idbdb},Zt.prototype.isOpen=function(){return this.idbdb!==null},Zt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Zt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Zt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Zt.prototype,"tables",{get:function(){var d=this;return a(this._allTables).map(function(m){return d._allTables[m]})},enumerable:!1,configurable:!0}),Zt.prototype.transaction=function(){var d=(function(m,b,C){var j=arguments.length;if(j<2)throw new fe.InvalidArgument("Too few arguments");for(var L=new Array(j-1);--j;)L[j-1]=arguments[j];return C=L.pop(),[m,$(L),C]}).apply(this,arguments);return this._transaction.apply(this,d)},Zt.prototype._transaction=function(d,m,b){var C=this,j=Re.trans;j&&j.db===this&&d.indexOf("!")===-1||(j=null);var L,B,z=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(B=m.map(function(X){if(X=X instanceof C.Table?X.name:X,typeof X!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return X}),d=="r"||d===Ul)L=Ul;else{if(d!="rw"&&d!=Ns)throw new fe.InvalidArgument("Invalid transaction mode: "+d);L=Ns}if(j){if(j.mode===Ul&&L===Ns){if(!z)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&B.forEach(function(X){if(j&&j.storeNames.indexOf(X)===-1){if(!z)throw new fe.SubTransaction("Table "+X+" not included in parent transaction.");j=null}}),z&&j&&!j.active&&(j=null)}}catch(X){return j?j._promise(null,function(Q,U){U(X)}):Tt(X)}var W=(function X(Q,U,ee,H,Y){return Pe.resolve().then(function(){var Z=Re.transless||Re,J=Q._createTransaction(U,ee,Q._dbSchema,H);if(J.explicit=!0,Z={trans:J,transless:Z},H)J.idbtrans=H.idbtrans;else try{J.create(),J.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ue){return ue.name===nn.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return X(Q,U,ee,null,Y)})):Tt(ue)}var te,le=Te(Y);return le&&Qi(),Z=Pe.follow(function(){var ue;(te=Y.call(J,J))&&(le?(ue=Yr.bind(null,null),te.then(ue,ue)):typeof te.next=="function"&&typeof te.throw=="function"&&(te=qt(te)))},Z),(te&&typeof te.then=="function"?Pe.resolve(te).then(function(ue){return J.active?ue:Tt(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Z.then(function(){return te})).then(function(ue){return H&&J._resolve(),J._completion.then(function(){return ue})}).catch(function(ue){return J._reject(ue),Tt(ue)})})}).bind(null,this,L,B,j,b);return j?j._promise(L,W,"lock"):Re.trans?Qr(Re.transless,function(){return C._whenReady(W)}):this._whenReady(W)},Zt.prototype.table=function(d){if(!c(this._allTables,d))throw new fe.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Zt);function Zt(d,m){var b=this;this._middlewares={},this.verno=0;var C=Zt.dependencies;this._options=m=r({addons:Zt.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},C=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var j,L,B,z,W,X={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};X.dbReadyPromise=new Pe(function(U){X.dbReadyResolve=U}),X.openCanceller=new Pe(function(U,ee){X.cancelOpen=ee}),this._state=X,this.name=d,this.on=gt(this,"populate","blocked","versionchange","close",{ready:[Ft,he]}),this.once=function(U,ee){var H=function(){for(var Y=[],Z=0;Z<arguments.length;Z++)Y[Z]=arguments[Z];b.on(U).unsubscribe(H),ee.apply(b,Y)};return b.on(U,H)},this.on.ready.subscribe=P(this.on.ready.subscribe,function(U){return function(ee,H){Zt.vip(function(){var Y,Z=b._state;Z.openComplete?(Z.dbOpenError||Pe.resolve().then(ee),H&&U(ee)):Z.onReadyBeingFired?(Z.onReadyBeingFired.push(ee),H&&U(ee)):(U(ee),Y=b,H||U(function J(){Y.on.ready.unsubscribe(ee),Y.on.ready.unsubscribe(J)}))})}}),this.Collection=(j=this,Zi(Co.prototype,function(te,J){this.db=j;var H=sf,Y=null;if(J)try{H=J()}catch(le){Y=le}var Z=te._ctx,J=Z.table,te=J.hook.reading.fire;this._ctx={table:J,index:Z.index,isPrimKey:!Z.index||J.schema.primKey.keyPath&&Z.index===J.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:Z.or,valueMapper:te!==dt?te:null}})),this.Table=(L=this,Zi(pa.prototype,function(U,ee,H){this.db=L,this._tx=H,this.name=U,this.schema=ee,this.hook=L._allTables[U]?L._allTables[U].hook:gt(null,{creating:[jt,he],reading:[Ze,dt],updating:[Or,he],deleting:[on,he]})})),this.Transaction=(B=this,Zi(rp.prototype,function(U,ee,H,Y,Z){var J=this;U!=="readonly"&&ee.forEach(function(te){te=(te=H[te])===null||te===void 0?void 0:te.yProps,te&&(ee=ee.concat(te.map(function(le){return le.updatesTable})))}),this.db=B,this.mode=U,this.storeNames=ee,this.schema=H,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=gt(this,"complete","error","abort"),this.parent=Z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pe(function(te,le){J._resolve=te,J._reject=le}),this._completion.then(function(){J.active=!1,J.on.complete.fire()},function(te){var le=J.active;return J.active=!1,J.on.error.fire(te),J.parent?J.parent._reject(te):le&&J.idbtrans&&J.idbtrans.abort(),Tt(te)})})),this.Version=(z=this,Zi(sp.prototype,function(U){this.db=z,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(W=this,Zi(Si.prototype,function(U,ee,H){if(this.db=W,this._ctx={table:U,index:ee===":id"?null:ee,or:H},this._cmp=this._ascending=tt,this._descending=function(Y,Z){return tt(Z,Y)},this._max=function(Y,Z){return 0<tt(Y,Z)?Y:Z},this._min=function(Y,Z){return tt(Y,Z)<0?Y:Z},this._IDBKeyRange=W._deps.IDBKeyRange,!this._IDBKeyRange)throw new fe.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(b.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(b.name,"'. Closing db now to resume the delete request.")),b.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(b.name,"') was blocked")):console.warn("Upgrade '".concat(b.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=ya(m.IDBKeyRange),this._createTransaction=function(U,ee,H,Y){return new b.Transaction(U,ee,H,b._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(U){b.on("blocked").fire(U),Io.filter(function(ee){return ee.name===b.name&&ee!==b&&!ee._state.vcFired}).map(function(ee){return ee.on("versionchange").fire(U)})},this.use(tu),this.use(pL),this.use(fL),this.use(sn),this.use(ro);var Q=new Proxy(this,{get:function(U,ee,H){if(ee==="_vip")return!0;if(ee==="table")return function(Z){return lp(b.table(Z),Q)};var Y=Reflect.get(U,ee,H);return Y instanceof pa?lp(Y,Q):ee==="tables"?Y.map(function(Z){return lp(Z,Q)}):ee==="_createTransaction"?function(){return lp(Y.apply(this,arguments),Q)}:Y}});this.vip=Q,C.forEach(function(U){return U(b)})}var up,Zr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",mL=(Kv.prototype.subscribe=function(d,m,b){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:m,complete:b})},Kv.prototype[Zr]=function(){return this},Kv);function Kv(d){this._subscribe=d}try{up={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{up={indexedDB:null,IDBKeyRange:null}}function iS(d){var m,b=!1,C=new mL(function(j){var L=Te(d),B,z=!1,W={},X={},Q={get closed(){return z},unsubscribe:function(){z||(z=!0,B&&B.abort(),U&&pr.storagemutated.unsubscribe(H))}};j.start&&j.start(Q);var U=!1,ee=function(){return Cs(Y)},H=function(Z){Pi(W,Z),h(X,W)&&ee()},Y=function(){var Z,J,te;!z&&up.indexedDB&&(W={},Z={},B&&B.abort(),B=new AbortController,te=function(le){var ue=Cr();try{L&&Qi();var ce=_i(d,le);return ce=L?ce.finally(Yr):ce}finally{ue&&da()}}(J={subscr:Z,signal:B.signal,requery:ee,querier:d,trans:null}),Promise.resolve(te).then(function(le){b=!0,m=le,z||J.signal.aborted||(W={},function(ue){for(var ce in ue)if(c(ue,ce))return;return 1}(X=Z)||U||(pr(ga,H),U=!0),Cs(function(){return!z&&j.next&&j.next(le)}))},function(le){b=!1,["DatabaseClosedError","AbortError"].includes(le==null?void 0:le.name)||z||Cs(function(){z||j.error&&j.error(le)})}))};return setTimeout(ee,0),Q});return C.hasValue=function(){return b},C.getValue=function(){return m},C}var Bs=No;function Wv(d){var m=xa;try{xa=!0,pr.storagemutated.fire(d),ae(d,!0)}finally{xa=m}}p(Bs,r(r({},ze),{delete:function(d){return new Bs(d,{addons:[]}).delete()},exists:function(d){return new Bs(d,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return m=Bs.dependencies,b=m.indexedDB,m=m.IDBKeyRange,(Zl(b)?Promise.resolve(b.databases()).then(function(C){return C.map(function(j){return j.name}).filter(function(j){return j!==ks})}):Jl(b,m).toCollection().primaryKeys()).then(d)}catch{return Tt(new fe.MissingAPI)}var m,b},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return Re.trans?Qr(Re.transless,d):d()},vip:Ti,async:function(d){return function(){try{var m=qt(d.apply(this,arguments));return m&&typeof m.then=="function"?m:Pe.resolve(m)}catch(b){return Tt(b)}}},spawn:function(d,m,b){try{var C=qt(d.apply(b,m||[]));return C&&typeof C.then=="function"?C:Pe.resolve(C)}catch(j){return Tt(j)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(d,m){return m=Pe.resolve(typeof d=="function"?Bs.ignoreTransaction(d):d).timeout(m||6e4),Re.trans?Re.trans.waitFor(m):m},Promise:Pe,debug:{get:function(){return Ut},set:function(d){Wr(d)}},derive:v,extend:l,props:p,override:P,Events:gt,on:pr,liveQuery:iS,extendObservabilitySet:Pi,getByKeyPath:O,setByKeyPath:w,delByKeyPath:function(d,m){typeof m=="string"?w(d,m,void 0):"length"in m&&[].map.call(m,function(b){w(d,b,void 0)})},shallowClone:I,deepClone:M,getObjectDiff:yr,cmp:tt,asap:T,minKey:-1/0,addons:[],connections:Io,errnames:nn,dependencies:up,cache:E,semVer:"4.2.0",version:"4.2.0".split(".").map(function(d){return parseInt(d)}).reduce(function(d,m,b){return d+m/Math.pow(10,2*b)})})),Bs.maxKey=ya(Bs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(pr(ga,function(d){xa||(d=new CustomEvent(ko,{detail:d}),xa=!0,dispatchEvent(d),xa=!1)}),addEventListener(ko,function(d){d=d.detail,xa||Wv(d)}));var ru,xa=!1,oS=function(){};return typeof BroadcastChannel<"u"&&((oS=function(){(ru=new BroadcastChannel(ko)).onmessage=function(d){return d.data&&Wv(d.data)}})(),typeof ru.unref=="function"&&ru.unref(),pr(ga,function(d){xa||ru.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!No.disableBfCache&&d.persisted){Ut&&console.debug("Dexie: handling persisted pagehide"),ru!=null&&ru.close();for(var m=0,b=Io;m<b.length;m++)b[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!No.disableBfCache&&d.persisted&&(Ut&&console.debug("Dexie: handling persisted pageshow"),oS(),Wv({all:new gn(-1/0,[[]])}))})),Pe.rejectionMapper=function(d,m){return!d||d instanceof ke||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Be[d.name]?d:(m=new Be[d.name](m||d.message,d),"stack"in d&&_(m,"stack",{get:function(){return this.inner.stack}}),m)},Wr(Ut),r(No,Object.freeze({__proto__:null,Dexie:No,liveQuery:iS,Entity:lf,cmp:tt,PropModification:Ds,replacePrefix:function(d,m){return new Ds({replacePrefix:[d,m]})},add:function(d){return new Ds({add:d})},remove:function(d){return new Ds({remove:d})},default:No,RangeSet:gn,mergeRanges:wa,rangesOverlap:Fs}),{default:No}),No})})(sL);var jme=sL.exports;const Zw=St(jme),LC=Symbol.for("Dexie"),hy=globalThis[LC]||(globalThis[LC]=Zw);if(Zw.semVer!==hy.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Zw.semVer} and ${hy.semVer}`);const{liveQuery:hge,mergeRanges:dge,rangesOverlap:pge,RangeSet:mge,cmp:gge,Entity:yge,PropModification:vge,replacePrefix:bge,add:_ge,remove:wge,DexieYProvider:xge}=hy;class Rme extends hy{constructor(){super("LactoKeeperDB_v2");gf(this,"animals");gf(this,"fathers");gf(this,"parturitions");gf(this,"weighings");this.version(1).stores({animals:"&id, motherId, fatherId, parturitionId, status",fathers:"&id",parturitions:"++id, goatId, sireId, status, firestoreId",weighings:"++id, goatId, date"})}}const rr=new Rme,lL=G.createContext({animals:[],fathers:[],weighings:[],parturitions:[],isLoading:!0,addWeighing:async()=>{},addParturition:async()=>{},updateWeighing:async()=>{},deleteWeighing:async()=>{},startDryingProcess:async()=>{},setLactationAsDry:async()=>{},fetchData:async()=>{},addFather:async()=>{}}),bi=()=>G.useContext(lL),Dme=({children:t})=>{const{currentUser:e}=AR(),[n,r]=G.useState([]),[i,o]=G.useState([]),[a,s]=G.useState([]),[l,u]=G.useState([]),[f,c]=G.useState(!0),p=G.useCallback(async()=>{try{const[w,I,k,$]=await Promise.all([rr.animals.toArray(),rr.fathers.toArray(),rr.weighings.toArray(),rr.parturitions.toArray()]);r(w),o(I),s(k),u($)}catch(w){console.error("Error al cargar datos locales:",w)}finally{c(!1)}},[]);G.useEffect(()=>{if(!e){c(!1),Promise.all([rr.animals.clear(),rr.fathers.clear(),rr.weighings.clear(),rr.parturitions.clear()]).then(()=>{r([]),o([]),s([]),u([])});return}const w=M=>QU(Rp(Us,M),JU("userId","==",e.uid)),I=(M,re)=>i9(w(M),async ie=>{const se=ie.docs.map(ge=>({...ge.data(),firestoreId:ge.id}));await re.bulkPut(se),p()},ie=>console.error(`Error sincronizando ${M}:`,ie)),k=I("animals",rr.animals),$=I("fathers",rr.fathers),D=I("parturitions",rr.parturitions),V=I("weighings",rr.weighings);return()=>{k(),$(),D(),V()}},[e,p]);const g=async(w,I)=>{if(!e)throw new Error("Usuario no autenticado");await r9(Rp(Us,w),{...I,userId:e.uid})},_=async w=>g("weighings",w),v=async w=>g("fathers",w),x=async w=>{if(!e)throw new Error("Usuario no autenticado");const I=s9(Us),k=qf(Rp(Us,"parturitions"));I.set(k,{goatId:w.motherId,parturitionDate:w.parturitionDate,sireId:w.sireId,offspringCount:w.offspring.length,parturitionType:w.parturitionType,status:"activa",userId:e.uid}),w.offspring.forEach($=>{const D=qf(Rp(Us,"animals"));I.set(D,{id:$.id,sex:$.sex,status:$.sex==="Macho"?"Descartado":"Activo",birthDate:w.parturitionDate,motherId:w.motherId,fatherId:w.sireId,birthWeight:parseFloat($.birthWeight),userId:e.uid})}),await I.commit()},S=async(w,I,k)=>{if(!e)throw new Error("Usuario no autenticado");const $=qf(Us,w,I);await t9($,k)},A=async(w,I)=>{if(!e)throw new Error("Usuario no autenticado");const k=qf(Us,w,I);await n9(k)},P=async(w,I)=>S("weighings",w,{kg:I}),R=async w=>A("weighings",w),T=async w=>S("parturitions",w,{status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0]}),O=async w=>S("parturitions",w,{status:"seca"});return y.jsx(lL.Provider,{value:{animals:n,fathers:i,weighings:a,parturitions:l,isLoading:f,addWeighing:_,addParturition:x,updateWeighing:P,deleteWeighing:R,startDryingProcess:T,setLactationAsDry:O,fetchData:p,addFather:v},children:t})},tf=(t,e)=>{const n=new Date(t),r=new Date(e);if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),o=Math.ceil(i/(1e3*60*60*24));return Math.max(0,o)},Mme=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},ex=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebao";return"range"in e[0].payload?y.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[y.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),y.jsxs("p",{className:"font-bold text-base",children:["N de Cabras: ",e[0].value]})]}):y.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[y.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Das en Leche (DEL): ${n}`:`DEL: ${n}`}),y.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Produccin: ${e[0].value.toFixed(2)} Kg`})]})}return null},ui=({isOpen:t,onClose:e,title:n,children:r})=>t?y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in",onClick:e,children:y.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700/80 rounded-2xl shadow-2xl w-full max-w-md m-4 text-white transform transition-all animate-slide-up",onClick:i=>i.stopPropagation(),children:[y.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-zinc-800/80",children:[y.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),y.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:y.jsx(q1,{size:20})})]}),y.jsx("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:r})]})}):null;function VC({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=bi(),[o,a]=G.useState("current"),[s,l]=G.useState(!1),[u,f]=G.useState(!1),c=G.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let p=0;if(n.length>0){const O=n.reduce((w,I)=>I.date>w?I.date:w,n[0].date);p=new Set(n.filter(w=>w.date===O).map(w=>w.goatId)).size}let g=n;if(o==="current"){const O=new Set(r.filter(w=>w.status==="activa").map(w=>w.goatId));g=n.filter(w=>O.has(w.goatId))}const _={};g.forEach(O=>{const w=r.filter(k=>k.goatId===O.goatId&&new Date(O.date)>=new Date(k.parturitionDate)).sort((k,$)=>new Date($.parturitionDate).getTime()-new Date(k.parturitionDate).getTime())[0];if(!w)return;const I=tf(w.parturitionDate,O.date);_[I]||(_[I]={totalKg:0,count:0}),_[I].totalKg+=O.kg,_[I].count++});const v=Object.entries(_).map(([O,w])=>({del:parseInt(O),kg:w.totalKg/w.count,name:"Promedio Rebao"})).sort((O,w)=>O.del-w.del),x=e.map(O=>{const w=n.filter(k=>k.goatId===O.id);return w.length===0?null:{avg:w.reduce((k,$)=>k+$.kg,0)/w.length}}).filter(Boolean),S=x.length>0?x.reduce((O,w)=>O+w.avg,0)/x.length:0,A=x.length>0?Math.sqrt(x.reduce((O,w)=>O+Math.pow(w.avg-S,2),0)/x.length):0,P=[];if(x.length>0){const O=Math.floor(Math.min(...x.map(I=>I.avg))*4)/4,w=Math.ceil(Math.max(...x.map(I=>I.avg))*4)/4;for(let I=O;I<=w;I+=.25){const k=I,$=I+.25,D=x.filter(V=>V.avg>=k&&V.avg<$).length;D>0&&P.push({range:`${k.toFixed(2)}`,count:D})}}const R={distribution:P,mean:S,stdDev:A};return{herdAverage:n.length>0?n.reduce((O,w)=>O+w.kg,0)/n.length:0,activeGoats:p,herdLactationCurve:v,gaussData:R}},[e,n,r,i,o]);return i?y.jsx("div",{className:"text-center p-10",children:y.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebao..."})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[y.jsxs("header",{className:"text-center pt-8 pb-4",children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Dashboard"}),y.jsx("p",{className:"text-xl text-zinc-400",children:"Rebao Masparrito"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[y.jsx(Fd,{}),y.jsx("span",{children:"Promedio Global"})]}),y.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[c.herdAverage.toFixed(2)," ",y.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),y.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[y.jsx(j9,{}),y.jsx("span",{children:"Animales en Ordeo"})]}),y.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:c.activeGoats})]})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[y.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[y.jsx("path",{d:"M12 2v4"}),y.jsx("path",{d:"m16.2 7.8 2.9-2.9"}),y.jsx("path",{d:"M20 12h4"}),y.jsx("path",{d:"m16.2 16.2 2.9 2.9"}),y.jsx("path",{d:"M12 20v4"}),y.jsx("path",{d:"m7.8 16.2-2.9 2.9"}),y.jsx("path",{d:"M4 12H0"}),y.jsx("path",{d:"m7.8 7.8-2.9-2.9"}),y.jsx("circle",{cx:"12",cy:"12",r:"4"})]}),y.jsx("span",{children:"Produccin Promedio"}),y.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:y.jsx(cg,{size:14})})]}),y.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[y.jsx("button",{onClick:()=>a("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${o==="current"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),y.jsx("button",{onClick:()=>a("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${o==="historical"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histrico"})]})]}),y.jsx("div",{className:"w-full h-48",children:y.jsx(lo,{children:y.jsxs(Nme,{data:c.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"weatherGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#F59E0B",stopOpacity:.7}),y.jsx("stop",{offset:"60%",stopColor:"#10B981",stopOpacity:.2}),y.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.1})]})}),y.jsx(or,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),y.jsx(_n,{content:y.jsx(ex,{})}),y.jsx(xs,{type:"monotone",dataKey:"kg",stroke:"#FBBF24",strokeWidth:2.5,fill:"url(#weatherGradient)"})]})})})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[y.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[y.jsx(IR,{}),y.jsx("span",{children:"Distribucin del Rebao"}),y.jsx("button",{onClick:()=>f(!0),className:"text-zinc-500 hover:text-white transition-colors",children:y.jsx(cg,{size:14})})]})}),y.jsx("div",{className:"w-full h-48",children:y.jsx(lo,{children:y.jsxs(Ba,{data:c.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[y.jsx(QE,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),y.jsx(or,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),y.jsx(_n,{content:y.jsx(ex,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),y.jsx(Er,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"N de Cabras"}),y.jsx(Rv,{x:c.gaussData.mean.toFixed(2),stroke:"#34d399",strokeWidth:2,label:{value:"",fill:"#34d399",position:"insideTopLeft"}})]})})})]})]}),y.jsx(ui,{isOpen:s,onClose:()=>l(!1),title:"Qu es la Curva de Lactancia del Rebao?",children:y.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[y.jsx("p",{children:'Este grfico revela la **"personalidad productiva"** de tu rebao. No es un promedio simple, sino una lnea de tiempo del rendimiento promedio.'}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:"Cmo se Calcula?"}),y.jsx("p",{className:"text-sm",children:'Para cada "Da en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese da de su ciclo y calcula el promedio.'}),y.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[y.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su da 50 de lactancia.']})]}),y.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: Cundo ocurre el pico de produccin del rebao? y Qu tan persistente es la lactancia despus del pico?"})]})}),y.jsx(ui,{isOpen:u,onClose:()=>f(!1),title:"Qu es la Distribucin del Rebao?",children:y.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[y.jsx("p",{children:"Este grfico, conocido como Campana de Gauss o distribucin normal, clasifica el rendimiento promedio de cada animal en el rebao."}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media ()"}),y.jsx("p",{className:"text-sm",children:"La lnea verde marcada como **** representa el **promedio de produccin de todo el rebao**. Es el punto de referencia central."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),y.jsx("p",{className:"text-sm",children:"Cada barra muestra cuntos animales caen dentro de un rango especfico de produccin. Una barra alta en el centro (cerca de ) indica que la mayora de tu rebao tiene un rendimiento promedio y consistente."})]}),y.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rpidamente a los animales de lite (extremo derecho) y a los que podran necesitar atencin (extremo izquierdo)."})]})})]})}const $me=({onBack:t})=>{const{addWeighing:e,fetchData:n}=bi(),[r,i]=G.useState(""),[o,a]=G.useState(""),[s,l]=G.useState(null),u=async f=>{if(f.preventDefault(),!r||!o){l({type:"error",text:"El ID y los Kg son obligatorios."});return}const c={goatId:r.toUpperCase().trim(),kg:parseFloat(o),date:new Date().toISOString().split("T")[0]};try{await e(c),l({type:"success",text:`Pesaje para ${r.toUpperCase().trim()} aadido.`}),i(""),a(""),await n()}catch(p){l({type:"error",text:"No se pudo guardar el pesaje."}),console.error(p)}setTimeout(()=>l(null),3e3)};return y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[y.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2 mb-4",children:[y.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:y.jsx(Vd,{size:20})}),y.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Individual"})]}),y.jsxs("form",{onSubmit:u,className:"space-y-4",children:[y.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"ID del Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none transition-colors"}),y.jsx("input",{type:"number",step:"0.01",value:o,onChange:f=>a(f.target.value),placeholder:"Produccin en Kg",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none transition-colors"}),y.jsx("button",{type:"submit",className:"w-full bg-brand-amber hover:bg-yellow-500 text-black font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:"Guardar Pesaje"}),s&&y.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${s.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[s.type==="success"?y.jsx(B1,{size:18}):y.jsx(Jy,{size:18}),y.jsx("span",{children:s.text})]})]})]})},Lme=({entry:t,onDelete:e,onRegister:n})=>{const r=t.isUnrecognized;return y.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-red-900/40 border border-red-500/50":"bg-black/20"}`,children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[r&&y.jsx(Jy,{className:"text-amber-400 flex-shrink-0",size:18}),y.jsx("span",{className:"font-semibold text-white",children:t.goatId})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[r?y.jsx("button",{onClick:()=>n(t.goatId),className:"text-xs font-semibold bg-amber-500 text-black px-2 py-1 rounded-md hover:bg-amber-400",children:"Registrar Parto"}):y.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),y.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(q1,{size:16})})]})]})},Vme=({onBack:t,onNavigate:e})=>{const{animals:n,fetchData:r}=bi(),[i,o]=G.useState(""),[a,s]=G.useState(""),[l,u]=G.useState([]),[f,c]=G.useState(null),p=G.useRef(null),g=G.useRef(null),_=G.useMemo(()=>new Set(n.map(T=>T.id)),[n]);G.useEffect(()=>{var T;(T=p.current)==null||T.focus()},[]);const v=()=>{var w;if(!i||!a)return;const T=i.toUpperCase().trim(),O={tempId:Date.now(),goatId:T,kg:parseFloat(a),date:new Date().toISOString().split("T")[0],isUnrecognized:!_.has(T)};u(I=>[O,...I]),o(""),s(""),(w=p.current)==null||w.focus()},x=async()=>{c(null);const T=l.filter(O=>O.isUnrecognized).length;if(T>0){c({type:"error",text:`No se puede guardar. Tienes ${T} animal(es) sin registrar.`});return}if(l.length===0){c({type:"error",text:"No hay pesajes en la lista para guardar."});return}try{const O=l.map(({goatId:w,kg:I,date:k})=>({goatId:w,kg:I,date:k}));await rr.weighings.bulkAdd(O),c({type:"success",text:`${l.length} pesajes guardados con xito.`}),u([]),await r()}catch(O){c({type:"error",text:"Ocurri un error al guardar los datos."}),console.error(O)}},S=T=>{var O;T.key==="Enter"&&i&&(T.preventDefault(),(O=g.current)==null||O.focus())},A=T=>{T.key==="Enter"&&a&&(T.preventDefault(),v())},P=T=>{u(O=>O.filter(w=>w.tempId!==T))},R=T=>{e("add-parturition",{motherId:T})};return y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[y.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2",children:[y.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:y.jsx(Vd,{size:20})}),y.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Rpida"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{ref:p,type:"text",value:i,onChange:T=>o(T.target.value),onKeyDown:S,placeholder:"ID Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"}),y.jsx("input",{ref:g,type:"number",step:"0.01",value:a,onChange:T=>s(T.target.value),onKeyDown:A,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"}),y.jsx("button",{onClick:v,disabled:!i||!a,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-indigo-600 text-white rounded-xl flex items-center justify-center transition-all hover:bg-indigo-500 disabled:opacity-40 disabled:cursor-not-allowed",children:y.jsx(z1,{size:24})})]}),y.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2 border-t border-b border-brand-border py-2",children:[l.length===0&&y.jsx("p",{className:"text-center text-zinc-500 text-sm",children:"Los pesajes aadidos aparecern aqu."}),l.map(T=>y.jsx(Lme,{entry:T,onDelete:P,onRegister:R},T.tempId))]}),y.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 bg-brand-amber hover:bg-yellow-500 text-black font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[y.jsx(I9,{size:20})," Guardar ",l.length>0?`(${l.length})`:""," Pesajes"]}),f&&y.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${f.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[f.type==="success"?y.jsx(B1,{size:18}):y.jsx(k9,{size:18}),y.jsx("span",{children:f.text})]})]})};function Fme({onNavigate:t}){const[e,n]=G.useState("options"),r=e==="options"?"options":"form";return y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[y.jsxs("header",{className:"text-center pt-8 pb-4",children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Aadir Datos"}),y.jsx("p",{className:"text-xl text-zinc-400",children:"Captura de Produccin"})]}),y.jsxs("div",{children:[e==="options"&&y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("button",{onClick:()=>n("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-amber-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[y.jsx(P_,{className:"w-12 h-12 mb-2 text-amber-400"}),y.jsx("span",{className:"text-lg font-semibold",children:"Entrada Rpida"}),y.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),y.jsxs("button",{onClick:()=>t("add-parturition"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[y.jsx(w9,{className:"w-12 h-12 mb-2 text-green-400"}),y.jsx("span",{className:"text-lg font-semibold",children:"Registrar Parto"}),y.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Inicia una nueva lactancia"})]}),y.jsxs("button",{onClick:()=>t("ocr"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[y.jsx(O9,{className:"w-12 h-12 mb-2 text-blue-400"}),y.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),y.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]}),y.jsxs("button",{onClick:()=>n("manual"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-gray-500 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[y.jsx(z1,{className:"w-12 h-12 mb-2"}),y.jsx("span",{className:"text-lg font-semibold",children:"Entrada Individual"}),y.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Formulario tradicional"})]})]}),e==="rapid"&&y.jsx(Vme,{onBack:()=>n("options"),onNavigate:t}),e==="manual"&&y.jsx($me,{onBack:()=>n("options")})]},r)]})}const Bme=t=>{const[e,n]=G.useState([]),[r,i]=G.useState([]),[o,a]=G.useState(!0);return G.useEffect(()=>{if(!t)return;(async()=>{a(!0);try{const[u,f]=await Promise.all([rr.weighings.where("goatId").equals(t).toArray(),rr.parturitions.where("goatId").equals(t).toArray()]);n(u),i(f.sort((c,p)=>new Date(c.parturitionDate).getTime()-new Date(p.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{a(!1)}})()},[t]),{...G.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((c,p)=>{const g=new Date(c.parturitionDate),_=p<r.length-1?new Date(r[p+1].parturitionDate):new Date,v=e.filter(O=>{const w=new Date(O.date);return w>=g&&w<_}),x=v.map(O=>({del:tf(c.parturitionDate,O.date),kg:O.kg})).sort((O,w)=>O.del-w.del),S=v.reduce((O,w)=>O+w.kg,0),A=v.length>0?S/v.length:0,P=x.reduce((O,w)=>w.kg>O.kg?w:O,{kg:0,del:0}),R=x[x.length-1],T=R?R.del:0;return{parturitionDate:c.parturitionDate,weighings:v,lactationCurve:x,averageProduction:A,peakProduction:P,totalDays:T}}),u=r.slice(1).map((c,p)=>{const g=r[p],_=new Date(c.parturitionDate).getTime()-new Date(g.parturitionDate).getTime();return{period:`${g.parturitionDate.substring(0,4)} - ${c.parturitionDate.substring(0,4)}`,days:Math.round(_/(1e3*60*60*24))}}),f=e.sort((c,p)=>new Date(p.date).getTime()-new Date(c.date).getTime())[0];return{allLactations:l,parturitionIntervals:u,lastWeighingDate:(f==null?void 0:f.date)||null}},[e,r]),isLoading:o}},zme=(t,e,n,r)=>{const[i,o]=G.useState([]),[a,s]=G.useState(!1);return G.useEffect(()=>{if(!t||!e.length){o([]);return}(()=>{s(!0);let u=[];if(t==="PRIMIPARAS_HISTORICAL"){const g=n.reduce((_,v)=>(_[v.goatId]=(_[v.goatId]||0)+1,_),{});u=e.filter(_=>g[_.id]===1).map(_=>_.id)}else if(t==="MULTIPARAS_HISTORICAL"){const g=n.reduce((_,v)=>(_[v.goatId]=(_[v.goatId]||0)+1,_),{});u=e.filter(_=>g[_.id]>1).map(_=>_.id)}const f=r.filter(g=>u.includes(g.goatId)),c={};f.forEach(g=>{const _=n.filter(x=>x.goatId===g.goatId&&new Date(g.date)>=new Date(x.parturitionDate)).sort((x,S)=>new Date(S.parturitionDate).getTime()-new Date(x.parturitionDate).getTime())[0];if(!_)return;const v=tf(_.parturitionDate,g.date);c[v]||(c[v]={totalKg:0,count:0}),c[v].totalKg+=g.kg,c[v].count++});const p=Object.entries(c).map(([g,_])=>({del:parseInt(g),kg:_.totalKg/_.count})).sort((g,_)=>g.del-_.del);o(p),s(!1)})()},[t,e,n,r]),{comparativeCurve:i,isLoading:a}},Xp=({active:t,payload:e,label:n,context:r})=>{if(t&&e&&e.length){let i="",o="";switch(r){case"average":i=`Lactancia del ${n}`,o=`Promedio: ${e[0].value.toFixed(2)} Kg`;break;case"peak":i=`Lactancia del ${n}`,o=`Pico: ${e[0].value.toFixed(2)} Kg`;break;case"del":i=`Lactancia del ${n}`,o=`Duracin: ${e[0].value} das`;break;case"interval":i=`Perodo ${n}`,o=`Intervalo: ${e[0].value} das`;break}return y.jsxs("div",{className:"bg-black/60 backdrop-blur-xl p-3 rounded-lg border border-zinc-700 text-white",children:[y.jsx("p",{className:"label text-zinc-400 text-sm font-medium",children:i}),y.jsx("p",{className:"font-semibold text-base",children:o})]})}return null};function Ume({animalId:t,onBack:e}){const{animals:n,parturitions:r,weighings:i,startDryingProcess:o,setLactationAsDry:a}=bi(),{allLactations:s,parturitionIntervals:l,lastWeighingDate:u,isLoading:f}=Bme(t),[c,p]=G.useState(null),[g,_]=G.useState(null),[v,x]=G.useState(!1),{comparativeCurve:S,isLoading:A}=zme(g,n,r,i),P=G.useMemo(()=>{if(s.length===0)return null;const D=s[s.length-1],V=r.find(M=>M.parturitionDate===D.parturitionDate&&M.goatId===t);return{...D,id:V==null?void 0:V.id,firestoreId:V==null?void 0:V.firestoreId,status:V==null?void 0:V.status}},[s,r,t]),R=G.useMemo(()=>P?tf(P.parturitionDate,new Date().toISOString().split("T")[0]):"N/A",[P]),T=G.useMemo(()=>({average:s.map(D=>({name:new Date(D.parturitionDate).getFullYear().toString(),value:D.averageProduction})),peak:s.map(D=>({name:new Date(D.parturitionDate).getFullYear().toString(),value:D.peakProduction.kg})),del:s.map(D=>({name:new Date(D.parturitionDate).getFullYear().toString(),value:D.totalDays})),interval:l.map(D=>({name:D.period,value:D.days}))}),[s,l]);if(f)return y.jsx("div",{className:"text-center p-10",children:y.jsxs("h1",{className:"text-2xl text-zinc-400",children:["Cargando perfil de ",t,"..."]})});const O=s.length>0?s[s.length-1]:null,w=l.length>0?l[l.length-1].days:0,I=s.length===1,k=()=>{const D=!v;x(D),D||_(null)},$=D=>{_(V=>V===D?null:D)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in",children:[y.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[y.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:y.jsx(Vd,{size:24})}),y.jsxs("div",{className:"text-center flex-grow",children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:t}),y.jsx("p",{className:"text-xl text-zinc-400",children:"Perfil de Lactancia"})]}),y.jsx("div",{className:"w-8"})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[y.jsxs("button",{onClick:()=>p("average"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[y.jsx(Fd,{size:14}),y.jsx("span",{children:"Promedio"})]}),y.jsxs("p",{className:"text-2xl font-bold text-white",children:[(O==null?void 0:O.averageProduction.toFixed(2))||"N/A"," ",y.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),y.jsxs("button",{onClick:()=>p("peak"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[y.jsx(OR,{size:14}),y.jsx("span",{children:"Pico Prod."})]}),y.jsxs("p",{className:"text-2xl font-bold text-white",children:[(O==null?void 0:O.peakProduction.kg.toFixed(2))||"N/A"," ",y.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),y.jsxs("button",{onClick:()=>p("del"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[y.jsx(y9,{size:14}),y.jsx("span",{children:"DEL"})]}),y.jsx("p",{className:"text-2xl font-bold text-white",children:R})]}),y.jsxs("button",{onClick:()=>p("interval"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[y.jsx(P9,{size:14}),y.jsx("span",{children:"Int. Partos"})]}),y.jsxs("p",{className:"text-2xl font-bold text-white",children:[w," ",y.jsx("span",{className:"text-lg text-zinc-400",children:"das"})]})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[y.jsx(m9,{size:14}),y.jsx("span",{children:"lt. Pesaje"})]}),y.jsx("p",{className:"text-xl font-bold text-white",children:u?new Date(u).toLocaleDateString():"N/A"})]})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[y.jsxs("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:["Curva de Lactancia Actual (Parto: ",(O==null?void 0:O.parturitionDate)||"N/A",")"]}),y.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[y.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),y.jsx("button",{onClick:k,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:y.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})}),v&&y.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[y.jsx("button",{onClick:()=>$("PRIMIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${g==="PRIMIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${I?"ring-2 ring-amber-400":""}`,children:"vs Primparas"}),y.jsx("button",{onClick:()=>$("MULTIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${g==="MULTIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${I?"":"ring-2 ring-amber-400"}`,children:"vs Multparas"})]})]})]}),y.jsxs("div",{className:"w-full h-56 -ml-4",children:[y.jsx(lo,{children:y.jsxs(kme,{margin:{top:5,right:20,left:-10,bottom:5},children:[y.jsx(QE,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),y.jsx(or,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(_n,{content:y.jsx(ex,{})}),y.jsx(cl,{verticalAlign:"top",height:36,iconType:"plainline"}),y.jsx(Sc,{type:"monotone",data:O==null?void 0:O.lactationCurve,dataKey:"kg",name:t,stroke:"#FBBF24",strokeWidth:2.5,dot:!1}),g&&!A&&y.jsx(Sc,{type:"monotone",data:S,dataKey:"kg",name:"Promedio del Grupo",stroke:"#34d399",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),A&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:"Calculando comparacin..."})]})]}),(P==null?void 0:P.firestoreId)&&y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[y.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestin de Lactancia Actual"}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[P.status==="activa"&&y.jsxs("button",{onClick:()=>o(P.firestoreId),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[y.jsx(D9,{size:20}),y.jsx("span",{children:"Iniciar Proceso de Secado"})]}),P.status==="en-secado"&&y.jsxs("button",{onClick:()=>a(P.firestoreId),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[y.jsx(d9,{size:20}),y.jsx("span",{children:"Declarar Lactancia como Seca"})]}),P.status==="seca"&&y.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:y.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),P.status==="en-secado"&&y.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]}),y.jsx(ui,{isOpen:c==="average",onClose:()=>p(null),title:"Historial de Promedios",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"w-full h-48 -ml-4",children:y.jsx(lo,{children:y.jsxs(Ba,{data:T.average,margin:{top:5,right:20,left:-20,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"modalBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#FBBF24",stopOpacity:.8}),y.jsx("stop",{offset:"100%",stopColor:"#FBBF24",stopOpacity:.2})]})}),y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),y.jsx(_n,{content:y.jsx(Xp,{context:"average"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),y.jsx(Er,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradient)"})]})})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),y.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(D=>y.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[y.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",D.parturitionDate]}),y.jsxs("span",{className:"text-base font-semibold text-white",children:[D.averageProduction.toFixed(2)," Kg"]})]},D.parturitionDate))})]})]})}),y.jsx(ui,{isOpen:c==="peak",onClose:()=>p(null),title:"Historial de Picos de Produccin",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"w-full h-48 -ml-4",children:y.jsx(lo,{children:y.jsxs(Ba,{data:T.peak,margin:{top:5,right:20,left:-20,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"modalBarGradientPeak",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),y.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.2})]})}),y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),y.jsx(_n,{content:y.jsx(Xp,{context:"peak"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),y.jsx(Er,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientPeak)"})]})})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),y.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(D=>y.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[y.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",D.parturitionDate]}),y.jsxs("span",{className:"text-base font-semibold text-white",children:[D.peakProduction.kg.toFixed(2)," Kg ",y.jsxs("span",{className:"font-normal text-zinc-400",children:["(Da ",D.peakProduction.del,")"]})]})]},D.parturitionDate))})]})]})}),y.jsx(ui,{isOpen:c==="del",onClose:()=>p(null),title:"Historial de Duracin de Lactancias",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"w-full h-48 -ml-4",children:y.jsx(lo,{children:y.jsxs(Ba,{data:T.del,margin:{top:5,right:20,left:-20,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"modalBarGradientDel",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:.8}),y.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.2})]})}),y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),y.jsx(_n,{content:y.jsx(Xp,{context:"del"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),y.jsx(Er,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientDel)"})]})})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),y.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(D=>y.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[y.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",D.parturitionDate]}),y.jsxs("span",{className:"text-base font-semibold text-white",children:[D.totalDays," das"]})]},D.parturitionDate))})]})]})}),y.jsx(ui,{isOpen:c==="interval",onClose:()=>p(null),title:"Historial de Intervalos entre Partos",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"w-full h-48 -ml-4",children:y.jsx(lo,{children:y.jsxs(Ba,{data:T.interval,margin:{top:5,right:20,left:-20,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"modalBarGradientInt",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:.8}),y.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:.2})]})}),y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),y.jsx(ar,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),y.jsx(_n,{content:y.jsx(Xp,{context:"interval"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),y.jsx(Er,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientInt)"})]})})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles de Intervalos"}),y.jsx("ul",{className:"space-y-1",children:l.slice().reverse().map(D=>y.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[y.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Perodo ",D.period]}),y.jsxs("span",{className:"text-base font-semibold text-white",children:[D.days," das"]})]},D.period))})]})]})})]})}const qme=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=G.useState(""),[o,a]=G.useState(""),[s,l]=G.useState(""),{fathers:u}=bi(),f=()=>{l("");const c=r.trim().toUpperCase(),p=o.trim();if(!c||!p){l("Ambos campos son obligatorios.");return}if(u.some(g=>g.id===c)){l("Este ID ya est en uso. Por favor, elige otro.");return}n({id:c,name:p}),i(""),a("")};return y.jsx(ui,{isOpen:t,onClose:e,title:"Aadir Nuevo Padre",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID nico y el nombre del nuevo semental."}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"}),y.jsx("input",{type:"text",value:o,onChange:c=>a(c.target.value),placeholder:"Nombre del Padre (ej. Sansn)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"})]}),s&&y.jsx("p",{className:"text-sm text-red-400",children:s}),y.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500",children:"Cancelar"}),y.jsx("button",{onClick:f,className:"px-4 py-2 bg-brand-amber text-black font-bold rounded-lg hover:bg-yellow-500",children:"Guardar Padre"})]})]})})},FC=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cudruple"},{count:5,name:"Quntuple"}],Kme=({value:t,onChange:e})=>y.jsxs("div",{className:"flex bg-zinc-800/80 rounded-xl p-1 w-full",children:[y.jsx("button",{type:"button",onClick:()=>e("Hembra"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Hembra"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Hembra"}),y.jsx("button",{type:"button",onClick:()=>e("Macho"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Macho"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Macho"})]});function Wme({onBack:t,motherId:e}){const{fathers:n,addParturition:r,addFather:i}=bi(),[o,a]=G.useState(e||""),[s,l]=G.useState(new Date().toISOString().split("T")[0]),[u,f]=G.useState(""),[c,p]=G.useState(1),[g,_]=G.useState([]),[v,x]=G.useState(null),[S,A]=G.useState(!1),[P,R]=G.useState(!1);G.useEffect(()=>{_(M=>{const re=[...M];for(;re.length<c;)re.push({sex:"Hembra",correlative:"",birthWeight:""});return re.slice(0,c)})},[c]);const T=(M,re,ie)=>{const se=[...g];se[M]={...se[M],[re]:ie},_(se)},O=async M=>{var ie;M.preventDefault(),x(null);const re=g.every(se=>se.correlative&&se.birthWeight);if(!o||!s||!u||!re){x({type:"error",text:"Por favor, completa todos los campos requeridos."});return}try{const se=n.find(q=>q.id===u),ge=g.map(q=>{const oe=q.sex==="Macho"?"X":se.name.charAt(0).toUpperCase();return{...q,id:`${oe}${q.correlative}`}});await r({motherId:o.toUpperCase(),parturitionDate:s,sireId:u,parturitionType:(ie=FC.find(q=>q.count===c))==null?void 0:ie.name,offspring:ge}),x({type:"success",text:"Parto y cras registrados con xito."})}catch(se){x({type:"error",text:"Error al registrar el parto."}),console.error(se)}},w=M=>{const re=n.find(se=>se.id===u);return!M.correlative||!re?"ID se genera aqu":`${M.sex==="Macho"?"X":re.name.charAt(0).toUpperCase()}${M.correlative}`},I=async M=>{await i(M),f(M.id),A(!1)},k=G.useMemo(()=>{var M;return(M=n.find(re=>re.id===u))==null?void 0:M.name},[u,n]),$=M=>{f(M),R(!1)},D=M=>y.jsx("input",{...M,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),V=M=>y.jsx("select",{...M,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none"});return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in pb-12",children:[y.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[y.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:y.jsx(Vd,{size:24})}),y.jsxs("div",{className:"text-center flex-grow",children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Registrar Parto"}),y.jsx("p",{className:"text-xl text-zinc-400",children:"Y sus cras"})]}),y.jsx("div",{className:"w-8"})]}),y.jsxs("form",{onSubmit:O,className:"space-y-6",children:[y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[y.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2",children:[y.jsx(R9,{size:20})," Datos del Parto"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(D,{type:"text",value:o,onChange:M=>a(M.target.value),placeholder:"ID de la Madre",required:!0}),y.jsx(D,{type:"date",value:s,onChange:M=>l(M.target.value),required:!0}),y.jsxs("div",{className:"relative md:col-span-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>R(!P),className:"w-full flex justify-between items-center text-left bg-zinc-800/80 text-white p-3 rounded-xl",children:[y.jsx("span",{className:k?"text-white":"text-zinc-400",children:k||"Seleccione el Padre"}),y.jsx(b9,{className:`transition-transform ${P?"rotate-180":""}`,size:20})]}),y.jsx("button",{type:"button",onClick:()=>A(!0),className:"h-full aspect-square flex-shrink-0 bg-indigo-600/80 text-white rounded-xl flex items-center justify-center hover:bg-indigo-500","aria-label":"Aadir nuevo padre",children:y.jsx(T9,{size:20})})]}),P&&y.jsx("div",{className:"absolute z-10 top-full mt-2 w-full bg-zinc-800 border border-zinc-700 rounded-xl max-h-48 overflow-y-auto",children:n.map(M=>y.jsx("button",{type:"button",onClick:()=>$(M.id),className:"w-full text-left p-3 hover:bg-zinc-700",children:M.name},M.id))})]}),y.jsx(V,{value:c,onChange:M=>p(Number(M.target.value)),required:!0,children:FC.map(M=>y.jsxs("option",{value:M.count,children:["Parto ",M.name," (",M.count,")"]},M.count))})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2 ml-1",children:[y.jsx(U1,{size:20})," Registro de Cras"]}),g.map((M,re)=>y.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-800/50 space-y-4",children:[y.jsxs("p",{className:"font-semibold text-brand-amber",children:["Cra ",re+1]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[y.jsx(Kme,{value:M.sex,onChange:ie=>T(re,"sex",ie)}),y.jsx(D,{type:"text",value:M.correlative,onChange:ie=>T(re,"correlative",ie.target.value),placeholder:"N Correlativo",required:!0}),y.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl h-full flex items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-zinc-400 mr-2",children:"ID:"}),y.jsx("span",{className:"font-mono text-indigo-300 font-bold",children:w(M)})]}),y.jsx(D,{type:"number",step:"0.1",value:M.birthWeight,onChange:ie=>T(re,"birthWeight",ie.target.value),placeholder:"Peso al Nacer (Kg)",required:!0})]})]},re))]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{type:"submit",className:"w-full bg-brand-amber text-black font-bold py-4 rounded-xl text-lg",children:"Guardar Registro"}),v&&y.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${v.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[(()=>{const M=v.type==="success"?B1:Jy;return y.jsx(M,{size:18})})(),y.jsx("span",{children:v.text})]})]})]})]}),y.jsx(qme,{isOpen:S,onClose:()=>A(!1),onSave:I})]})}const ZE=(t,e,n,r,i)=>G.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const o=t.reduce((v,x)=>{const S=e.find(k=>k.id===x.goatId);if(!S)return v;const A=r.filter(k=>k.goatId===S.id&&new Date(k.parturitionDate)<=new Date(x.date)).sort((k,$)=>new Date($.parturitionDate).getTime()-new Date(k.parturitionDate).getTime())[0];if(!A)return v;const P=n.filter(k=>k.goatId===S.id).sort((k,$)=>new Date($.date).getTime()-new Date(k.date).getTime()),R=tf(A.parturitionDate,x.date),T=i?Mme(x.kg,R):x.kg;let O="single";const w=.15,I=P.findIndex(k=>k.id===x.id);if(I>0){const k=P[I-1],$=x.kg-k.kg;$>w?O="up":$<-w?O="down":O="stable"}return v.push({...S,latestWeighing:x.kg,weighingId:x.id,del:R,score:T,trend:O,date:x.date}),v},[]);if(!o.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=i?"score":"latestWeighing",s=o.reduce((v,x)=>v+x[a],0)/o.length,l=Math.sqrt(o.reduce((v,x)=>v+Math.pow(x[a]-s,2),0)/o.length),u=s-.4*l,f=s+.4*l,c=o.map(v=>{const x=v[a];let S="Promedio";return l>.1&&(x<u?S="Pobre":x>f&&(S="Sobresaliente")),{...v,classification:S}}),p=[{name:"Pobre",count:c.filter(v=>v.classification==="Pobre").length,fill:"#EF4444"},{name:"Promedio",count:c.filter(v=>v.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:c.filter(v=>v.classification==="Sobresaliente").length,fill:"#22C55E"}],g=o.reduce((v,x)=>v+x.latestWeighing,0)/o.length,_=o.reduce((v,x)=>v+x.score,0)/o.length;return{classifiedAnimals:c,distribution:p,mean:g,stdDev:l,weightedMean:_}},[t,e,n,r,i]),Hme=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:"text-green-400",down:"text-red-400",stable:"text-zinc-500"};return y.jsxs("div",{className:`flex items-center font-semibold text-sm ${n[t]}`,children:[t==="up"&&y.jsx(F1,{size:16}),t==="down"&&y.jsx(V1,{size:16}),t==="stable"&&y.jsx(A9,{size:16}),e&&y.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},Gme=(t,e)=>{const[n,r]=G.useState(null),[i,o]=G.useState(0),[a,s]=G.useState(!1),[l,u]=G.useState([]);return G.useEffect(()=>{const f=e.filter(x=>x.goatId===t).sort((x,S)=>new Date(S.date).getTime()-new Date(x.date).getTime());if(f.length<2){r(f.length===1?"single":null),u(f),o(0),s(!1);return}const c=f[0].kg,p=f[1].kg,g=c-p,_=.15;o(g),u([f[0],f[1]]);let v="stable";if(g>_&&(v="up"),g<-_&&(v="down"),r(v),f.length>=3){const x=f[2].kg,S=p-x;g>_&&S>_||g<-_&&S<-_?s(!0):s(!1)}else s(!1)},[t,e]),{trend:n,difference:i,isLongTrend:a,lastTwoWeighings:l}},Xme=(t,e)=>{const[n,r]=G.useState(""),i=G.useMemo(()=>n?t.filter(o=>e.some(a=>{const s=o[a];return typeof s=="string"||typeof s=="number"?s.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},Yme=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,o]=G.useState(!1),a=G.useRef(null);G.useEffect(()=>{var l;i&&((l=a.current)==null||l.focus())},[i]);const s=()=>{r(""),o(!1)};return y.jsxs("header",{className:"text-center pt-8 pb-4 relative overflow-hidden",children:[y.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:t}),y.jsx("p",{className:"text-xl text-zinc-400",children:e})]}),y.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-4 ${i?"translate-y-0":"translate-y-20"}`,children:y.jsx("input",{ref:a,type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),y.jsx("div",{className:"absolute top-8 right-0 pt-2",children:y.jsx("button",{onClick:i?s:()=>o(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?y.jsx(q1,{size:24}):y.jsx(C9,{size:24})})})]})},Qme=t=>{const{x:e,y:n,width:r,height:i,value:o,total:a}=t;if(a===0||o===0)return null;const s=(o/a*100).toFixed(0);return y.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${s}%`})},Jme=({animal:t,onSelectAnimal:e})=>{var u,f;const{weighings:n}=bi(),{isLongTrend:r,lastTwoWeighings:i,difference:o}=Gme(t.id,n),[a,s]=G.useState(!1),l=c=>{c.stopPropagation(),t.trend&&t.trend!=="single"&&s(!0)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{onClick:()=>e(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),y.jsxs("p",{className:"text-sm text-zinc-400",children:["DEL: ",t.del," | Score: ",t.score.toFixed(2)," | ",y.jsxs("span",{className:"font-semibold text-amber-400",children:[" Pesaje: ",t.latestWeighing.toFixed(2)," Kg"]})]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors disabled:cursor-not-allowed",disabled:!t.trend||t.trend==="single",children:y.jsx(Hme,{trend:t.trend,isLongTrend:r})}),y.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-red-500/80":t.classification==="Sobresaliente"?"bg-green-500/80":"bg-gray-500/80"}`,children:t.classification}),y.jsx(Qy,{className:"text-zinc-600"})]})]}),y.jsx(ui,{isOpen:a,onClose:()=>s(!1),title:`Tendencia de ${t.id}`,children:y.jsxs("div",{className:"text-center text-white space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",i[1]?new Date(i[1].date).toLocaleDateString():"N/A",")"]}),y.jsxs("p",{className:"text-2xl font-semibold",children:[((u=i[1])==null?void 0:u.kg.toFixed(2))||"N/A"," Kg"]})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-sm text-zinc-400",children:["ltimo Pesaje (",i[0]?new Date(i[0].date).toLocaleDateString():"N/A",")"]}),y.jsxs("p",{className:"text-2xl font-semibold",children:[((f=i[0])==null?void 0:f.kg.toFixed(2))||"N/A"," Kg"]})]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),y.jsxs("p",{className:`text-3xl font-bold ${o>0?"text-green-400":o<0?"text-red-400":"text-zinc-400"}`,children:[o>0?"+":"",o.toFixed(2)," Kg"]})]})]})})]})};function Zme({onSelectAnimal:t}){const{animals:e,parturitions:n,weighings:r,isLoading:i}=bi(),[o,a]=G.useState(!1),[s,l]=G.useState("all"),[u,f]=G.useState("all"),[c,p]=G.useState("all"),[g,_]=G.useState(!1),[v,x]=G.useState(!1),{weighingsByDate:S,availableDates:A}=G.useMemo(()=>{const q={};r.forEach(de=>{q[de.date]||(q[de.date]=[]),q[de.date].push(de)});const oe=Object.keys(q).sort((de,Te)=>new Date(Te).getTime()-new Date(de).getTime());return{weighingsByDate:q,availableDates:oe}},[r]),[P,R]=G.useState(0),T=A[P],O=S[T]||[],{classifiedAnimals:w,distribution:I,mean:k,stdDev:$}=ZE(O,e,r,n,o),D=G.useMemo(()=>{let q=[...w];return s!=="all"&&(q=q.filter(oe=>oe.classification===s)),u!=="all"&&(q=q.filter(oe=>oe.trend===u)),c!=="all"&&(q=q.filter(oe=>{const de=oe.del;return c==="first"?de>0&&de<=100:c==="second"?de>100&&de<=200:c==="third"?de>200&&de<270:c==="drying"?de>=270:!0})),q.sort((oe,de)=>oe.id.localeCompare(de.id))},[w,s,u,c]),{searchTerm:V,setSearchTerm:M,filteredItems:re}=Xme(D,["id"]),ie=G.useMemo(()=>{const q=w.length;if(q===0)return{up:0,down:0,new:0,stable:0,total:0};const oe=w.filter(ke=>ke.trend==="up").length,de=w.filter(ke=>ke.trend==="down").length,Te=w.filter(ke=>ke.trend==="stable").length,be=w.filter(ke=>ke.trend==="single").length;return{up:oe/q*100,down:de/q*100,stable:Te/q*100,new:be/q*100,total:q}},[w]),se=()=>{l("all"),f("all"),p("all")},ge=q=>{if(q!=null&&q.name){const oe=q.name;l(de=>de===oe?"all":oe)}};return i?y.jsx("div",{className:"text-center p-10",children:y.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando animales..."})}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[y.jsx(Yme,{title:"Anlisis de Rebao",subtitle:"Animales en Ordeo",searchTerm:V,setSearchTerm:M}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[y.jsx("button",{onClick:()=>R(q=>Math.min(q+1,A.length-1)),disabled:P>=A.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:y.jsx(_9,{})}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-lg font-semibold text-white",children:T?new Date(T).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),y.jsxs("p",{className:"text-sm text-zinc-400",children:[O.length," animales pesados"]})]}),y.jsx("button",{onClick:()=>R(q=>Math.max(q-1,0)),disabled:P===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:y.jsx(Qy,{})})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[y.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(PR,{className:"text-amber-400",size:18}),y.jsx("h3",{className:"text-lg font-semibold text-white",children:"Anlisis del Da"}),y.jsx("button",{onClick:()=>_(!0),className:"text-zinc-500 hover:text-white",children:y.jsx(cg,{size:14})})]}),y.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[y.jsx(P_,{size:14,className:o?"text-amber-400":"text-zinc-500"}),y.jsx("span",{children:"Ponderado a DEL"}),y.jsx("button",{type:"button",onClick:q=>{q.preventDefault(),q.stopPropagation(),x(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:y.jsx(cg,{size:14})}),y.jsx("input",{type:"checkbox",checked:o,onChange:q=>a(q.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-amber-500 focus:ring-offset-0"})]})]}),y.jsx("div",{className:"w-full h-48",children:y.jsx(lo,{children:y.jsxs(Ba,{data:I,margin:{top:20,right:10,left:-20,bottom:0},children:[y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(ar,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(_n,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),y.jsxs(Er,{dataKey:"count",onClick:ge,cursor:"pointer",children:[I.map(q=>y.jsx(Ud,{fill:q.fill,className:`${s!=="all"&&s!==q.name?"opacity-30":"opacity-100"} transition-opacity`},q.name)),y.jsx(di,{dataKey:"count",content:y.jsx(Qme,{total:w.length})})]})]})})}),y.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[y.jsxs("span",{children:[" = ",k.toFixed(2)]})," | ",y.jsxs("span",{children:[" = ",$.toFixed(2)]})]})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[y.jsx("button",{onClick:()=>f("all"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${u==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),y.jsxs("button",{onClick:()=>f("up"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="up"?"bg-green-700 text-white":"bg-zinc-800/50 text-green-400"}`,children:[y.jsx(F1,{size:14})," ",y.jsxs("span",{children:[ie.up.toFixed(0),"%"]})]}),y.jsxs("button",{onClick:()=>f("down"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="down"?"bg-red-700 text-white":"bg-zinc-800/50 text-red-400"}`,children:[y.jsx(V1,{size:14})," ",y.jsxs("span",{children:[ie.down.toFixed(0),"%"]})]}),y.jsxs("button",{onClick:()=>f("single"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="single"?"bg-blue-700 text-white":"bg-zinc-800/50 text-blue-400"}`,children:[y.jsx(N9,{size:14})," ",y.jsxs("span",{children:[ie.new.toFixed(0),"%"]})]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("div",{className:"text-sm font-medium text-zinc-500",children:[re.length," / ",w.length]}),y.jsx("button",{onClick:se,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:y.jsx(x9,{size:16})})]})]}),y.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[y.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[y.jsx("button",{onClick:()=>p("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${c==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),y.jsx("button",{onClick:()=>p("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${c==="first"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),y.jsx("button",{onClick:()=>p("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${c==="second"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),y.jsx("button",{onClick:()=>p("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${c==="third"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),y.jsx("button",{onClick:()=>p("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${c==="drying"?"bg-red-700/80 text-white":"bg-zinc-800/50 text-red-300"}`,children:"A Secado"})]})]})]}),y.jsx("div",{className:"space-y-2",children:re.length>0?re.map(q=>y.jsx(Jme,{animal:q,onSelectAnimal:t},q.weighingId||q.id)):y.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:y.jsx("p",{className:"text-zinc-400",children:V?`No se encontraron resultados para "${V}"`:"No se encontraron animales con los filtros actuales."})})}),y.jsx(ui,{isOpen:g,onClose:()=>_(!1),title:"Qu es el Anlisis del Ordeo?",children:y.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[y.jsx("p",{children:"Este panel clasifica a los animales en ordeo segn su rendimiento, permitindote identificar rpidamente a los individuos de mayor y menor produccin."}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:"Clasificacin (Pobre, Promedio, Sobresaliente)"}),y.jsx("p",{className:"text-sm",children:"Se calcula usando la media () y la desviacin estndar () de la produccin. Los animales que se desvan significativamente del promedio se marcan como pobres o sobresalientes."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:"Ponderado a DEL"}),y.jsxs("p",{className:"text-sm",children:["Al activar este interruptor (",y.jsx(P_,{size:12,className:"inline-block mb-0.5"}),'), el anlisis se vuelve ms inteligente. Otorga un mayor "score" a los animales que producen bien al inicio de su lactancia, ya que es ms valioso que la misma produccin en una etapa tarda.']})]})]})}),y.jsx(ui,{isOpen:v,onClose:()=>x(!1),title:"Qu es el Score Ponderado?",children:y.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[y.jsx("p",{children:"El Score Ponderado ajusta la produccin de un animal para premiar la **persistencia lechera**, un indicador clave de la calidad gentica y la eficiencia."}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:"Frmula Aplicada"}),y.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center",children:"Score = Kg  (1 + ((DEL - 50) / (DEL + 50)))"})]}),y.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"Esto significa que 2 Kg en el da **200** de lactancia obtendrn un score **mucho ms alto** que 2 Kg en el da 40, ayudndote a identificar a tus animales ms eficientes y persistentes."})]})})]})}const ege=t=>G.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,o)=>{const a=o.date.substring(0,7);return i[a]||(i[a]=[]),i[a].push(o),i},{});let r=Object.entries(n).map(([i,o])=>{const a=new Date(`${i}-02T12:00:00Z`),s=a.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=a.getUTCFullYear(),u=o.length,f=o.reduce((c,p)=>c+p.kg,0);return{periodLabel:`${s.charAt(0).toUpperCase()+s.slice(1)} ${l}`,periodId:i,totalKg:f,averageKg:u>0?f/u:0,weighingCount:u,animalCount:new Set(o.map(c=>c.goatId)).size,weighingEvents:new Set(o.map(c=>c.date)).size,weighings:o,newAnimalsWeighings:[]}}).sort((i,o)=>o.periodId.localeCompare(i.periodId));return r=r.map((i,o,a)=>{const s=a[o+1];if(s){const l=s.averageKg?(i.averageKg-s.averageKg)/s.averageKg*100:void 0,u=s.animalCount?(i.animalCount-s.animalCount)/s.animalCount*100:void 0,f=new Set(s.weighings.map(v=>v.goatId)),c=new Set(i.weighings.map(v=>v.goatId)),p=new Set([...c].filter(v=>!f.has(v))),g=i.weighings.filter(v=>p.has(v.goatId)),_=[...f].filter(v=>!c.has(v)).length;return{...i,avgKgChange:l,animalCountChange:u,newAnimalsWeighings:g,previousAnimalCount:s.animalCount,exitingAnimalCount:_}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),vm=({value:t})=>{if(t===void 0||isNaN(t))return null;const e=t>0,n=e?"text-green-400":"text-red-400",r=e?F1:V1;return y.jsxs("span",{className:`flex items-center text-sm font-bold ${n}`,children:[y.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},tge=({stats:t,onClick:e})=>y.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-lg text-white",children:t.periodLabel}),y.jsxs("p",{className:"text-sm text-zinc-400",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(vm,{value:t.avgKgChange}),y.jsx(Qy,{className:"text-zinc-600"})]})]}),uL=({weighing:t,onSelectAnimal:e})=>y.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-amber-400/50",children:[y.jsx("div",{className:"flex items-center gap-4",children:y.jsx("div",{children:y.jsxs("p",{className:"font-bold text-base text-white flex items-center gap-2",children:[t.id,y.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-red-500/80":t.classification==="Sobresaliente"?"bg-green-500/80":"bg-gray-500/80"}`,children:t.classification})]})})}),y.jsxs("p",{className:"font-semibold text-lg text-white",children:[t.latestWeighing.toFixed(2)," ",y.jsx("span",{className:"text-base font-medium text-zinc-400",children:"Kg"})]})]}),cL=t=>{const{x:e,y:n,width:r,value:i,total:o}=t;if(o===0||i===0)return null;const a=(i/o*100).toFixed(0);return y.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${a}%`})},nge=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:o,weighings:a,parturitions:s}=bi(),[l,u]=G.useState("all"),f=ZE((n==null?void 0:n.weighings)||[],o,a,s,!1),c=G.useMemo(()=>l==="all"?f.classifiedAnimals:f.classifiedAnimals.filter(g=>g.classification===l),[f.classifiedAnimals,l]),p=g=>{if(g!=null&&g.name){const _=g.name;u(v=>v===_?"all":_)}};return!t||!n?null:y.jsx(ui,{isOpen:t,onClose:e,title:`Anlisis de Nuevos Ingresos - ${r}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[y.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[y.jsx(Fd,{size:14}),"Promedio"]}),y.jsxs("p",{className:"text-2xl font-bold text-white",children:[f.mean.toFixed(2),y.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),y.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[y.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[y.jsx(U1,{size:14}),"Animales"]}),y.jsx("p",{className:"text-2xl font-bold text-white",children:f.classifiedAnimals.length})]})]}),y.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:y.jsx("div",{className:"w-full h-48",children:y.jsx(lo,{children:y.jsxs(Ba,{data:f.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(ar,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(_n,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),y.jsxs(Er,{dataKey:"count",onClick:p,cursor:"pointer",children:[f.distribution.map(g=>y.jsx(Ud,{fill:g.fill,className:`${l!=="all"&&l!==g.name?"opacity-30":"opacity-100"}`},g.name)),y.jsx(di,{dataKey:"count",content:y.jsx(cL,{total:f.classifiedAnimals.length})})]})]})})})}),y.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:c.sort((g,_)=>_.latestWeighing-g.latestWeighing).map(g=>y.jsx(uL,{weighing:g,onSelectAnimal:i},g.weighingId||g.id))})]})})};function rge({onSelectAnimal:t,selectedPeriod:e,setSelectedPeriod:n}){const{animals:r,weighings:i,parturitions:o,isLoading:a}=bi(),[s,l]=G.useState("monthly"),[u,f]=G.useState(!1),[c,p]=G.useState(null),[g,_]=G.useState("all"),{monthlyData:v}=ege(i),x=ZE((e==null?void 0:e.weighings)||[],r,i,o,!1),S=G.useMemo(()=>g==="all"?x.classifiedAnimals:x.classifiedAnimals.filter(T=>T.classification===g),[x.classifiedAnimals,g]),A=T=>{if(T!=null&&T.name){const O=T.name;_(w=>w===O?"all":O)}},R={monthly:v,quarterly:[],yearly:[]}[s];return a?y.jsx("div",{className:"text-center p-10",children:y.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):e?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in",children:[y.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[y.jsx("button",{onClick:()=>{n(null),_("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:y.jsx(Vd,{size:24})}),y.jsxs("div",{className:"text-center flex-grow",children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:e.periodLabel}),y.jsx("p",{className:"text-lg text-zinc-400",children:"Anlisis del Perodo"})]}),y.jsx("div",{className:"w-8"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[y.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[y.jsx(Fd,{size:14}),"Promedio / Animal"]}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.averageKg.toFixed(2),y.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),y.jsx(vm,{value:e.avgKgChange})]})]}),y.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[y.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[y.jsx(v9,{size:14}),"Eventos de Pesaje"]}),y.jsx("p",{className:"text-2xl font-bold text-white",children:e.weighingEvents})]}),y.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[y.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[y.jsx(U1,{size:14}),"Animales Ordeados"]}),y.jsxs("button",{onClick:()=>f(!0),className:"flex items-baseline gap-2 w-full text-left",children:[y.jsx("p",{className:"text-2xl font-bold text-white",children:e.animalCount}),y.jsx(vm,{value:e.animalCountChange})]})]}),y.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[y.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[y.jsx(OR,{size:14}),"Total Registrado"]}),y.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.totalKg.toFixed(0),y.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),y.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[y.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[y.jsx(PR,{className:"text-amber-400",size:18}),y.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribucin del Perodo"})]}),y.jsx("div",{className:"w-full h-48",children:y.jsx(lo,{children:y.jsxs(Ba,{data:x.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[y.jsx(or,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(ar,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),y.jsx(_n,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),y.jsxs(Er,{dataKey:"count",onClick:A,cursor:"pointer",children:[x.distribution.map(T=>y.jsx(Ud,{fill:T.fill,className:`${g!=="all"&&g!==T.name?"opacity-30":"opacity-100"} transition-opacity`},T.name)),y.jsx(di,{dataKey:"count",content:y.jsx(cL,{total:x.classifiedAnimals.length})})]})]})})}),y.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[y.jsxs("span",{children:[" = ",x.mean.toFixed(2)," Kg"]})," | ",y.jsxs("span",{children:[" = ",x.stdDev.toFixed(2)]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Perodo (",S.length,")"]}),S.sort((T,O)=>O.latestWeighing-T.latestWeighing).map(T=>y.jsx(uL,{weighing:T,onSelectAnimal:t},T.weighingId||T.id))]})]}),y.jsx(ui,{isOpen:u,onClose:()=>f(!1),title:"Variacin de Animales en Ordeo",children:y.jsxs("div",{className:"text-zinc-300 space-y-4",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"font-semibold text-white mb-1",children:[e.periodLabel," vs Mes Anterior"]}),y.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenas ",y.jsx("span",{className:"font-bold text-white",children:e.previousAnimalCount})," animales en ordeo. Este mes tienes ",y.jsx("span",{className:"font-bold text-white",children:e.animalCount}),"."]}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsxs("p",{children:["El cambio neto es de ",y.jsx("span",{className:"font-bold text-white",children:e.animalCount-e.previousAnimalCount})," animales"]}),y.jsx(vm,{value:e.animalCountChange})]})]}),y.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[e.exitingAnimalCount>0&&y.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeo: ",y.jsx("span",{className:"font-bold text-red-400",children:e.exitingAnimalCount})," animales."]}),e.newAnimalsWeighings.length>0&&y.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",y.jsx("span",{className:"font-bold text-green-400",children:new Set(e.newAnimalsWeighings.map(T=>T.goatId)).size})," animales."]}),e.newAnimalsWeighings.length>0&&y.jsxs("button",{onClick:()=>{p({...e,weighings:e.newAnimalsWeighings}),f(!1)},className:"w-full mt-4 bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500",children:["Analizar los ",new Set(e.newAnimalsWeighings.map(T=>T.goatId)).size," Nuevos Ingresos"]})]})]})}),y.jsx(nge,{isOpen:!!c,onClose:()=>p(null),data:c,periodLabel:e.periodLabel,onSelectAnimal:t})]}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[y.jsxs("header",{className:"text-center pt-8 pb-4",children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Historial de Produccin"}),y.jsx("p",{className:"text-xl text-zinc-400",children:"La pelcula de tu rebao"})]}),y.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:y.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[y.jsx("button",{onClick:()=>l("monthly"),className:`w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${s==="monthly"?"bg-amber-500 text-black":"text-zinc-300 hover:bg-zinc-700/50"}`,children:"Mensual"}),y.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Trimestral"}),y.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Anual"})]})}),y.jsx("div",{className:"space-y-2",children:(R||[]).map(T=>y.jsx(tge,{stats:T,onClick:()=>n(T)},T.periodId))})]})}const ige=({animal:t,parturition:e,onSelectAnimal:n})=>y.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),y.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),y.jsx(Qy,{className:"text-zinc-600"})]});function oge({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=bi(),[o,a]=G.useState(e);G.useEffect(()=>{a(e)},[e]);const s=G.useMemo(()=>{const u=p=>n.find(g=>g.id===p),f=r.filter(p=>p.status==="en-secado").map(p=>({animal:u(p.goatId),parturition:p})).filter(p=>p.animal),c=r.filter(p=>p.status==="seca").map(p=>({animal:u(p.goatId),parturition:p})).filter(p=>p.animal);return{drying:f,dry:c}},[n,r]),l=s[o]||[];return i?y.jsx("div",{className:"text-center p-10",children:y.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[y.jsxs("header",{className:"text-center pt-8 pb-4",children:[y.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestin de Rebao"}),y.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),y.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:y.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[y.jsxs("button",{onClick:()=>a("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${o==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),y.jsxs("button",{onClick:()=>a("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${o==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),y.jsx("div",{className:"space-y-2",children:l.length>0?l.map(({animal:u,parturition:f})=>y.jsx(ige,{animal:u,parturition:f,onSelectAnimal:t},f.id)):y.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:y.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}const age=()=>{const{parturitions:t}=bi();return{alertsCount:G.useMemo(()=>{const n=new Date().toISOString().split("T")[0],r=t.filter(o=>o.status!=="activa"?!1:tf(o.parturitionDate,n)>=270).length,i=t.filter(o=>o.status==="en-secado").length;return r+i},[t])}},sge=()=>{const[t,e]=G.useState({name:"dashboard"}),[n,r]=G.useState([]),[i,o]=G.useState(null),{alertsCount:a}=age(),s=[{page:{name:"dashboard"},label:"Dashboard",icon:IR},{page:{name:"animals"},label:"Anlisis",icon:E9},{page:{name:"management"},label:"Manejo",icon:p9},{page:{name:"history"},label:"Historial",icon:g9},{page:{name:"add-data"},label:"Aadir",icon:z1}],l=c=>{t.name==="history"&&c.name!=="history"&&o(null),r(p=>[...p,t]),e(c)},u=()=>{const c=n[n.length-1];c?(r(p=>p.slice(0,-1)),e(c)):e({name:"dashboard"})},f=()=>{switch(t.name){case"dashboard":return y.jsx(VC,{onNavigateToAnalysis:()=>l({name:"animals"})});case"animals":return y.jsx(Zme,{onSelectAnimal:c=>l({name:"animal-profile",animalId:c})});case"management":return y.jsx(oge,{onSelectAnimal:c=>l({name:"animal-profile",animalId:c})});case"history":return y.jsx(rge,{onSelectAnimal:c=>l({name:"animal-profile",animalId:c}),selectedPeriod:i,setSelectedPeriod:o});case"add-data":return y.jsx(Fme,{onNavigate:(c,p)=>l({name:c,...p})});case"add-parturition":return y.jsx(Wme,{onBack:u,motherId:t.motherId});case"animal-profile":return y.jsx(Ume,{animalId:t.animalId,onBack:u});default:return y.jsx(VC,{onNavigateToAnalysis:()=>l({name:"animals"})})}};return y.jsxs("div",{className:"font-sans bg-gray-900 text-gray-200 min-h-screen",children:[y.jsx("div",{className:"p-4 pt-0 pb-24",children:f()}),y.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around animate-fade-in",children:[s.map(c=>{let p=!1;return t.name===c.page.name&&(p=!0),t.name==="management"&&c.label==="Manejo"&&(p=!0),t.name==="animals"&&c.label==="Anlisis"&&(p=!0),y.jsxs("button",{onClick:()=>{r([]),e(c.page)},className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${p?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[a>0&&c.label==="Manejo"&&y.jsx("div",{className:"absolute top-2 right-[calc(50%-20px)] w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-black/50"}),y.jsx(c.icon,{}),y.jsx("span",{className:"text-xs font-semibold mt-1",children:c.label})]},c.label)}),y.jsxs("button",{onClick:()=>ug.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[y.jsx(S9,{}),y.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})};function lge(){const{currentUser:t}=AR();return t?y.jsx(sge,{}):y.jsx(M9,{})}sb.createRoot(document.getElementById("root")).render(y.jsx(K.StrictMode,{children:y.jsx(u9,{children:y.jsx(Dme,{children:y.jsx(lge,{})})})}));
