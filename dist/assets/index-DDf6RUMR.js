var AV=Object.defineProperty;var PV=(t,e,n)=>e in t?AV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hr=(t,e,n)=>PV(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BM={exports:{}},D0={},UM={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Symbol.for("react.element"),EV=Symbol.for("react.portal"),TV=Symbol.for("react.fragment"),CV=Symbol.for("react.strict_mode"),kV=Symbol.for("react.profiler"),NV=Symbol.for("react.provider"),OV=Symbol.for("react.context"),IV=Symbol.for("react.forward_ref"),DV=Symbol.for("react.suspense"),MV=Symbol.for("react.memo"),RV=Symbol.for("react.lazy"),PE=Symbol.iterator;function LV(t){return t===null||typeof t!="object"?null:(t=PE&&t[PE]||t["@@iterator"],typeof t=="function"?t:null)}var WM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KM=Object.assign,qM={};function bf(t,e,n){this.props=t,this.context=e,this.refs=qM,this.updater=n||WM}bf.prototype.isReactComponent={};bf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HM(){}HM.prototype=bf.prototype;function CS(t,e,n){this.props=t,this.context=e,this.refs=qM,this.updater=n||WM}var kS=CS.prototype=new HM;kS.constructor=CS;KM(kS,bf.prototype);kS.isPureReactComponent=!0;var EE=Array.isArray,GM=Object.prototype.hasOwnProperty,NS={current:null},YM={key:!0,ref:!0,__self:!0,__source:!0};function XM(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)GM.call(e,r)&&!YM.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Nm,type:t,key:a,ref:s,props:i,_owner:NS.current}}function $V(t,e){return{$$typeof:Nm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nm}function zV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var TE=/\/+/g;function kb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zV(""+t.key):e.toString(36)}function hy(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Nm:case EV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+kb(s,0):r,EE(i)?(n="",t!=null&&(n=t.replace(TE,"$&/")+"/"),hy(i,e,n,"",function(u){return u})):i!=null&&(OS(i)&&(i=$V(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(TE,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",EE(t))for(var o=0;o<t.length;o++){a=t[o];var c=r+kb(a,o);s+=hy(a,e,n,c,i)}else if(c=LV(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=r+kb(a,o++),s+=hy(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Sg(t,e,n){if(t==null)return t;var r=[],i=0;return hy(t,r,"","",function(a){return e.call(n,a,i++)}),r}function FV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},py={transition:null},VV={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:py,ReactCurrentOwner:NS};function QM(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:Sg,forEach:function(t,e,n){Sg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sg(t,function(){e++}),e},toArray:function(t){return Sg(t,function(e){return e})||[]},only:function(t){if(!OS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=bf;mt.Fragment=TV;mt.Profiler=kV;mt.PureComponent=CS;mt.StrictMode=CV;mt.Suspense=DV;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VV;mt.act=QM;mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KM({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=NS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)GM.call(e,c)&&!YM.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Nm,type:t.type,key:i,ref:a,props:r,_owner:s}};mt.createContext=function(t){return t={$$typeof:OV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NV,_context:t},t.Consumer=t};mt.createElement=XM;mt.createFactory=function(t){var e=XM.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:IV,render:t}};mt.isValidElement=OS;mt.lazy=function(t){return{$$typeof:RV,_payload:{_status:-1,_result:t},_init:FV}};mt.memo=function(t,e){return{$$typeof:MV,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=py.transition;py.transition={};try{t()}finally{py.transition=e}};mt.unstable_act=QM;mt.useCallback=function(t,e){return Gr.current.useCallback(t,e)};mt.useContext=function(t){return Gr.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};mt.useEffect=function(t,e){return Gr.current.useEffect(t,e)};mt.useId=function(){return Gr.current.useId()};mt.useImperativeHandle=function(t,e,n){return Gr.current.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return Gr.current.useMemo(t,e)};mt.useReducer=function(t,e,n){return Gr.current.useReducer(t,e,n)};mt.useRef=function(t){return Gr.current.useRef(t)};mt.useState=function(t){return Gr.current.useState(t)};mt.useSyncExternalStore=function(t,e,n){return Gr.current.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return Gr.current.useTransition()};mt.version="18.3.1";UM.exports=mt;var N=UM.exports;const q=Nt(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BV=N,UV=Symbol.for("react.element"),WV=Symbol.for("react.fragment"),KV=Object.prototype.hasOwnProperty,qV=BV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HV={key:!0,ref:!0,__self:!0,__source:!0};function JM(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)KV.call(e,r)&&!HV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UV,type:t,key:a,ref:s,props:i,_owner:qV.current}}D0.Fragment=WV;D0.jsx=JM;D0.jsxs=JM;BM.exports=D0;var l=BM.exports,dw={},ZM={exports:{}},$i={},e4={exports:{}},t4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var oe=V.length;V.push(Y);e:for(;0<oe;){var ue=oe-1>>>1,ye=V[ue];if(0<i(ye,Y))V[ue]=Y,V[oe]=ye,oe=ue;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],oe=V.pop();if(oe!==Y){V[0]=oe;e:for(var ue=0,ye=V.length,_e=ye>>>1;ue<_e;){var Ue=2*(ue+1)-1,He=V[Ue],nt=Ue+1,bt=V[nt];if(0>i(He,oe))nt<ye&&0>i(bt,He)?(V[ue]=bt,V[nt]=oe,ue=nt):(V[ue]=He,V[Ue]=oe,ue=Ue);else if(nt<ye&&0>i(bt,oe))V[ue]=bt,V[nt]=oe,ue=nt;else break e}}return Y}function i(V,Y){var oe=V.sortIndex-Y.sortIndex;return oe!==0?oe:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=V)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function C(V){if(y=!1,S(V),!v)if(n(c)!==null)v=!0,U(E);else{var Y=n(u);Y!==null&&K(C,Y.startTime-V)}}function E(V,Y){v=!1,y&&(y=!1,x(A),A=-1),p=!0;var oe=h;try{for(S(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||V&&!R());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,h=f.priorityLevel;var ye=ue(f.expirationTime<=Y);Y=t.unstable_now(),typeof ye=="function"?f.callback=ye:f===n(c)&&r(c),S(Y)}else r(c);f=n(c)}if(f!==null)var _e=!0;else{var Ue=n(u);Ue!==null&&K(C,Ue.startTime-Y),_e=!1}return _e}finally{f=null,h=oe,p=!1}}var P=!1,j=null,A=-1,O=5,D=-1;function R(){return!(t.unstable_now()-D<O)}function $(){if(j!==null){var V=t.unstable_now();D=V;var Y=!0;try{Y=j(!0,V)}finally{Y?z():(P=!1,j=null)}}else P=!1}var z;if(typeof _=="function")z=function(){_($)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=$,z=function(){te.postMessage(null)}}else z=function(){b($,0)};function U(V){j=V,P||(P=!0,z())}function K(V,Y){A=b(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,U(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var oe=h;h=Y;try{return V()}finally{h=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=h;h=V;try{return Y()}finally{h=oe}},t.unstable_scheduleCallback=function(V,Y,oe){var ue=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ue+oe:ue):oe=ue,V){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=oe+ye,V={id:d++,callback:Y,priorityLevel:V,startTime:oe,expirationTime:ye,sortIndex:-1},oe>ue?(V.sortIndex=oe,e(u,V),n(c)===null&&V===n(u)&&(y?(x(A),A=-1):y=!0,K(C,oe-ue))):(V.sortIndex=ye,e(c,V),v||p||(v=!0,U(E))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Y=h;return function(){var oe=h;h=Y;try{return V.apply(this,arguments)}finally{h=oe}}}})(t4);e4.exports=t4;var GV=e4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YV=N,Mi=GV;function Ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n4=new Set,pp={};function eu(t,e){Ad(t,e),Ad(t+"Capture",e)}function Ad(t,e){for(pp[t]=e,t=0;t<e.length;t++)n4.add(e[t])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fw=Object.prototype.hasOwnProperty,XV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CE={},kE={};function QV(t){return fw.call(kE,t)?!0:fw.call(CE,t)?!1:XV.test(t)?kE[t]=!0:(CE[t]=!0,!1)}function JV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZV(t,e,n,r){if(e===null||typeof e>"u"||JV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_r[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_r[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_r[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_r[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_r[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_r[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_r[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_r[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_r[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var IS=/[\-:]([a-z])/g;function DS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IS,DS);_r[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IS,DS);_r[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IS,DS);_r[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_r[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});_r.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_r[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function MS(t,e,n,r){var i=_r.hasOwnProperty(e)?_r[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZV(e,n,i,r)&&(n=null),r||i===null?QV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var co=YV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jg=Symbol.for("react.element"),Wu=Symbol.for("react.portal"),Ku=Symbol.for("react.fragment"),RS=Symbol.for("react.strict_mode"),hw=Symbol.for("react.profiler"),r4=Symbol.for("react.provider"),i4=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),mw=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),a4=Symbol.for("react.offscreen"),NE=Symbol.iterator;function oh(t){return t===null||typeof t!="object"?null:(t=NE&&t[NE]||t["@@iterator"],typeof t=="function"?t:null)}var gn=Object.assign,Nb;function Eh(t){if(Nb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nb=e&&e[1]||""}return`
`+Nb+t}var Ob=!1;function Ib(t,e){if(!t||Ob)return"";Ob=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{Ob=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eh(t):""}function e9(t){switch(t.tag){case 5:return Eh(t.type);case 16:return Eh("Lazy");case 13:return Eh("Suspense");case 19:return Eh("SuspenseList");case 0:case 2:case 15:return t=Ib(t.type,!1),t;case 11:return t=Ib(t.type.render,!1),t;case 1:return t=Ib(t.type,!0),t;default:return""}}function gw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ku:return"Fragment";case Wu:return"Portal";case hw:return"Profiler";case RS:return"StrictMode";case pw:return"Suspense";case mw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i4:return(t.displayName||"Context")+".Consumer";case r4:return(t._context.displayName||"Context")+".Provider";case LS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:gw(t.type)||"Memo";case Bo:e=t._payload,t=t._init;try{return gw(t(e))}catch{}}return null}function t9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gw(e);case 8:return e===RS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n9(t){var e=s4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ag(t){t._valueTracker||(t._valueTracker=n9(t))}function o4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ry(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yw(t,e){var n=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function OE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l4(t,e){e=e.checked,e!=null&&MS(t,"checked",e,!1)}function vw(t,e){l4(t,e);var n=hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xw(t,e.type,n):e.hasOwnProperty("defaultValue")&&xw(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xw(t,e,n){(e!=="number"||Ry(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Th=Array.isArray;function fd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ae(92));if(Th(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hl(n)}}function c4(t,e){var n=hl(e.value),r=hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ME(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pg,d4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r9=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(t){r9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vh[e]=Vh[t]})});function f4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vh.hasOwnProperty(t)&&Vh[t]?(""+e).trim():e+"px"}function h4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=f4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var i9=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _w(t,e){if(e){if(i9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ae(62))}}function Sw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jw=null;function zS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aw=null,hd=null,pd=null;function RE(t){if(t=Dm(t)){if(typeof Aw!="function")throw Error(Ae(280));var e=t.stateNode;e&&(e=z0(e),Aw(t.stateNode,t.type,e))}}function p4(t){hd?pd?pd.push(t):pd=[t]:hd=t}function m4(){if(hd){var t=hd,e=pd;if(pd=hd=null,RE(t),e)for(t=0;t<e.length;t++)RE(e[t])}}function g4(t,e){return t(e)}function y4(){}var Db=!1;function v4(t,e,n){if(Db)return t(e,n);Db=!0;try{return g4(t,e,n)}finally{Db=!1,(hd!==null||pd!==null)&&(y4(),m4())}}function gp(t,e){var n=t.stateNode;if(n===null)return null;var r=z0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ae(231,e,typeof n));return n}var Pw=!1;if(Ys)try{var lh={};Object.defineProperty(lh,"passive",{get:function(){Pw=!0}}),window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{Pw=!1}function a9(t,e,n,r,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Bh=!1,Ly=null,$y=!1,Ew=null,s9={onError:function(t){Bh=!0,Ly=t}};function o9(t,e,n,r,i,a,s,o,c){Bh=!1,Ly=null,a9.apply(s9,arguments)}function l9(t,e,n,r,i,a,s,o,c){if(o9.apply(this,arguments),Bh){if(Bh){var u=Ly;Bh=!1,Ly=null}else throw Error(Ae(198));$y||($y=!0,Ew=u)}}function tu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LE(t){if(tu(t)!==t)throw Error(Ae(188))}function c9(t){var e=t.alternate;if(!e){if(e=tu(t),e===null)throw Error(Ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return LE(i),t;if(a===r)return LE(i),e;a=a.sibling}throw Error(Ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ae(189))}}if(n.alternate!==r)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?t:e}function b4(t){return t=c9(t),t!==null?w4(t):null}function w4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w4(t);if(e!==null)return e;t=t.sibling}return null}var _4=Mi.unstable_scheduleCallback,$E=Mi.unstable_cancelCallback,u9=Mi.unstable_shouldYield,d9=Mi.unstable_requestPaint,Tn=Mi.unstable_now,f9=Mi.unstable_getCurrentPriorityLevel,FS=Mi.unstable_ImmediatePriority,S4=Mi.unstable_UserBlockingPriority,zy=Mi.unstable_NormalPriority,h9=Mi.unstable_LowPriority,j4=Mi.unstable_IdlePriority,M0=null,is=null;function p9(t){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(M0,t,void 0,(t.current.flags&128)===128)}catch{}}var Pa=Math.clz32?Math.clz32:y9,m9=Math.log,g9=Math.LN2;function y9(t){return t>>>=0,t===0?32:31-(m9(t)/g9|0)|0}var Eg=64,Tg=4194304;function Ch(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Ch(o):(a&=s,a!==0&&(r=Ch(a)))}else s=n&~i,s!==0?r=Ch(s):a!==0&&(r=Ch(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pa(e),i=1<<n,r|=t[n],e&=~i;return r}function v9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Pa(a),o=1<<s,c=i[s];c===-1?(!(o&n)||o&r)&&(i[s]=v9(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function Tw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A4(){var t=Eg;return Eg<<=1,!(Eg&4194240)&&(Eg=64),t}function Mb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Om(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pa(e),t[e]=n}function b9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function VS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Mt=0;function P4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var E4,BS,T4,C4,k4,Cw=!1,Cg=[],el=null,tl=null,nl=null,yp=new Map,vp=new Map,Ko=[],w9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zE(t,e){switch(t){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vp.delete(e.pointerId)}}function ch(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Dm(e),e!==null&&BS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _9(t,e,n,r,i){switch(e){case"focusin":return el=ch(el,t,e,n,r,i),!0;case"dragenter":return tl=ch(tl,t,e,n,r,i),!0;case"mouseover":return nl=ch(nl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yp.set(a,ch(yp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vp.set(a,ch(vp.get(a)||null,t,e,n,r,i)),!0}return!1}function N4(t){var e=fc(t.target);if(e!==null){var n=tu(e);if(n!==null){if(e=n.tag,e===13){if(e=x4(n),e!==null){t.blockedOn=e,k4(t.priority,function(){T4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function my(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jw=r,n.target.dispatchEvent(r),jw=null}else return e=Dm(n),e!==null&&BS(e),t.blockedOn=n,!1;e.shift()}return!0}function FE(t,e,n){my(t)&&n.delete(e)}function S9(){Cw=!1,el!==null&&my(el)&&(el=null),tl!==null&&my(tl)&&(tl=null),nl!==null&&my(nl)&&(nl=null),yp.forEach(FE),vp.forEach(FE)}function uh(t,e){t.blockedOn===e&&(t.blockedOn=null,Cw||(Cw=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,S9)))}function xp(t){function e(i){return uh(i,t)}if(0<Cg.length){uh(Cg[0],t);for(var n=1;n<Cg.length;n++){var r=Cg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(el!==null&&uh(el,t),tl!==null&&uh(tl,t),nl!==null&&uh(nl,t),yp.forEach(e),vp.forEach(e),n=0;n<Ko.length;n++)r=Ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ko.length&&(n=Ko[0],n.blockedOn===null);)N4(n),n.blockedOn===null&&Ko.shift()}var md=co.ReactCurrentBatchConfig,Vy=!0;function j9(t,e,n,r){var i=Mt,a=md.transition;md.transition=null;try{Mt=1,US(t,e,n,r)}finally{Mt=i,md.transition=a}}function A9(t,e,n,r){var i=Mt,a=md.transition;md.transition=null;try{Mt=4,US(t,e,n,r)}finally{Mt=i,md.transition=a}}function US(t,e,n,r){if(Vy){var i=kw(t,e,n,r);if(i===null)Kb(t,e,r,By,n),zE(t,r);else if(_9(i,t,e,n,r))r.stopPropagation();else if(zE(t,r),e&4&&-1<w9.indexOf(t)){for(;i!==null;){var a=Dm(i);if(a!==null&&E4(a),a=kw(t,e,n,r),a===null&&Kb(t,e,r,By,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Kb(t,e,r,null,n)}}var By=null;function kw(t,e,n,r){if(By=null,t=zS(r),t=fc(t),t!==null)if(e=tu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return By=t,null}function O4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f9()){case FS:return 1;case S4:return 4;case zy:case h9:return 16;case j4:return 536870912;default:return 16}default:return 16}}var Go=null,WS=null,gy=null;function I4(){if(gy)return gy;var t,e=WS,n=e.length,r,i="value"in Go?Go.value:Go.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return gy=i.slice(t,1<r?1-r:void 0)}function yy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kg(){return!0}function VE(){return!1}function zi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kg:VE,this.isPropagationStopped=VE,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kg)},persist:function(){},isPersistent:kg}),e}var wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KS=zi(wf),Im=gn({},wf,{view:0,detail:0}),P9=zi(Im),Rb,Lb,dh,R0=gn({},Im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dh&&(dh&&t.type==="mousemove"?(Rb=t.screenX-dh.screenX,Lb=t.screenY-dh.screenY):Lb=Rb=0,dh=t),Rb)},movementY:function(t){return"movementY"in t?t.movementY:Lb}}),BE=zi(R0),E9=gn({},R0,{dataTransfer:0}),T9=zi(E9),C9=gn({},Im,{relatedTarget:0}),$b=zi(C9),k9=gn({},wf,{animationName:0,elapsedTime:0,pseudoElement:0}),N9=zi(k9),O9=gn({},wf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I9=zi(O9),D9=gn({},wf,{data:0}),UE=zi(D9),M9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L9[t])?!!e[t]:!1}function qS(){return $9}var z9=gn({},Im,{key:function(t){if(t.key){var e=M9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qS,charCode:function(t){return t.type==="keypress"?yy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F9=zi(z9),V9=gn({},R0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WE=zi(V9),B9=gn({},Im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qS}),U9=zi(B9),W9=gn({},wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),K9=zi(W9),q9=gn({},R0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H9=zi(q9),G9=[9,13,27,32],HS=Ys&&"CompositionEvent"in window,Uh=null;Ys&&"documentMode"in document&&(Uh=document.documentMode);var Y9=Ys&&"TextEvent"in window&&!Uh,D4=Ys&&(!HS||Uh&&8<Uh&&11>=Uh),KE=" ",qE=!1;function M4(t,e){switch(t){case"keyup":return G9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qu=!1;function X9(t,e){switch(t){case"compositionend":return R4(e);case"keypress":return e.which!==32?null:(qE=!0,KE);case"textInput":return t=e.data,t===KE&&qE?null:t;default:return null}}function Q9(t,e){if(qu)return t==="compositionend"||!HS&&M4(t,e)?(t=I4(),gy=WS=Go=null,qu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D4&&e.locale!=="ko"?null:e.data;default:return null}}var J9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J9[t.type]:e==="textarea"}function L4(t,e,n,r){p4(r),e=Uy(e,"onChange"),0<e.length&&(n=new KS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wh=null,bp=null;function Z9(t){G4(t,0)}function L0(t){var e=Yu(t);if(o4(e))return t}function e7(t,e){if(t==="change")return e}var $4=!1;if(Ys){var zb;if(Ys){var Fb="oninput"in document;if(!Fb){var GE=document.createElement("div");GE.setAttribute("oninput","return;"),Fb=typeof GE.oninput=="function"}zb=Fb}else zb=!1;$4=zb&&(!document.documentMode||9<document.documentMode)}function YE(){Wh&&(Wh.detachEvent("onpropertychange",z4),bp=Wh=null)}function z4(t){if(t.propertyName==="value"&&L0(bp)){var e=[];L4(e,bp,t,zS(t)),v4(Z9,e)}}function t7(t,e,n){t==="focusin"?(YE(),Wh=e,bp=n,Wh.attachEvent("onpropertychange",z4)):t==="focusout"&&YE()}function n7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L0(bp)}function r7(t,e){if(t==="click")return L0(e)}function i7(t,e){if(t==="input"||t==="change")return L0(e)}function a7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ka=typeof Object.is=="function"?Object.is:a7;function wp(t,e){if(ka(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fw.call(e,i)||!ka(t[i],e[i]))return!1}return!0}function XE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QE(t,e){var n=XE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XE(n)}}function F4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V4(){for(var t=window,e=Ry();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ry(t.document)}return e}function GS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s7(t){var e=V4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F4(n.ownerDocument.documentElement,n)){if(r!==null&&GS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=QE(n,a);var s=QE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o7=Ys&&"documentMode"in document&&11>=document.documentMode,Hu=null,Nw=null,Kh=null,Ow=!1;function JE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ow||Hu==null||Hu!==Ry(r)||(r=Hu,"selectionStart"in r&&GS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kh&&wp(Kh,r)||(Kh=r,r=Uy(Nw,"onSelect"),0<r.length&&(e=new KS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hu)))}function Ng(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gu={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},Vb={},B4={};Ys&&(B4=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function $0(t){if(Vb[t])return Vb[t];if(!Gu[t])return t;var e=Gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B4)return Vb[t]=e[n];return t}var U4=$0("animationend"),W4=$0("animationiteration"),K4=$0("animationstart"),q4=$0("transitionend"),H4=new Map,ZE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xl(t,e){H4.set(t,e),eu(e,[t])}for(var Bb=0;Bb<ZE.length;Bb++){var Ub=ZE[Bb],l7=Ub.toLowerCase(),c7=Ub[0].toUpperCase()+Ub.slice(1);xl(l7,"on"+c7)}xl(U4,"onAnimationEnd");xl(W4,"onAnimationIteration");xl(K4,"onAnimationStart");xl("dblclick","onDoubleClick");xl("focusin","onFocus");xl("focusout","onBlur");xl(q4,"onTransitionEnd");Ad("onMouseEnter",["mouseout","mouseover"]);Ad("onMouseLeave",["mouseout","mouseover"]);Ad("onPointerEnter",["pointerout","pointerover"]);Ad("onPointerLeave",["pointerout","pointerover"]);eu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eu("onBeforeInput",["compositionend","keypress","textInput","paste"]);eu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u7=new Set("cancel close invalid load scroll toggle".split(" ").concat(kh));function eT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,l9(r,e,void 0,t),t.currentTarget=null}function G4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;eT(i,o,u),a=c}else for(s=0;s<r.length;s++){if(o=r[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;eT(i,o,u),a=c}}}if($y)throw t=Ew,$y=!1,Ew=null,t}function Zt(t,e){var n=e[Lw];n===void 0&&(n=e[Lw]=new Set);var r=t+"__bubble";n.has(r)||(Y4(e,t,2,!1),n.add(r))}function Wb(t,e,n){var r=0;e&&(r|=4),Y4(n,t,r,e)}var Og="_reactListening"+Math.random().toString(36).slice(2);function _p(t){if(!t[Og]){t[Og]=!0,n4.forEach(function(n){n!=="selectionchange"&&(u7.has(n)||Wb(n,!1,t),Wb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Og]||(e[Og]=!0,Wb("selectionchange",!1,e))}}function Y4(t,e,n,r){switch(O4(e)){case 1:var i=j9;break;case 4:i=A9;break;default:i=US}n=i.bind(null,e,n,t),i=void 0,!Pw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=fc(o),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}o=o.parentNode}}r=r.return}v4(function(){var u=a,d=zS(n),f=[];e:{var h=H4.get(t);if(h!==void 0){var p=KS,v=t;switch(t){case"keypress":if(yy(n)===0)break e;case"keydown":case"keyup":p=F9;break;case"focusin":v="focus",p=$b;break;case"focusout":v="blur",p=$b;break;case"beforeblur":case"afterblur":p=$b;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=U9;break;case U4:case W4:case K4:p=N9;break;case q4:p=K9;break;case"scroll":p=P9;break;case"wheel":p=H9;break;case"copy":case"cut":case"paste":p=I9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WE}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var _=u,S;_!==null;){S=_;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,x!==null&&(C=gp(_,x),C!=null&&y.push(Sp(_,C,S)))),b)break;_=_.return}0<y.length&&(h=new p(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==jw&&(v=n.relatedTarget||n.fromElement)&&(fc(v)||v[Xs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?fc(v):null,v!==null&&(b=tu(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=BE,C="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=WE,C="onPointerLeave",x="onPointerEnter",_="pointer"),b=p==null?h:Yu(p),S=v==null?h:Yu(v),h=new y(C,_+"leave",p,n,d),h.target=b,h.relatedTarget=S,C=null,fc(d)===u&&(y=new y(x,_+"enter",v,n,d),y.target=S,y.relatedTarget=b,C=y),b=C,p&&v)t:{for(y=p,x=v,_=0,S=y;S;S=Ou(S))_++;for(S=0,C=x;C;C=Ou(C))S++;for(;0<_-S;)y=Ou(y),_--;for(;0<S-_;)x=Ou(x),S--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ou(y),x=Ou(x)}y=null}else y=null;p!==null&&tT(f,h,p,y,!1),v!==null&&b!==null&&tT(f,b,v,y,!0)}}e:{if(h=u?Yu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=e7;else if(HE(h))if($4)E=i7;else{E=n7;var P=t7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=r7);if(E&&(E=E(t,u))){L4(f,E,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&xw(h,"number",h.value)}switch(P=u?Yu(u):window,t){case"focusin":(HE(P)||P.contentEditable==="true")&&(Hu=P,Nw=u,Kh=null);break;case"focusout":Kh=Nw=Hu=null;break;case"mousedown":Ow=!0;break;case"contextmenu":case"mouseup":case"dragend":Ow=!1,JE(f,n,d);break;case"selectionchange":if(o7)break;case"keydown":case"keyup":JE(f,n,d)}var j;if(HS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qu?M4(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(D4&&n.locale!=="ko"&&(qu||A!=="onCompositionStart"?A==="onCompositionEnd"&&qu&&(j=I4()):(Go=d,WS="value"in Go?Go.value:Go.textContent,qu=!0)),P=Uy(u,A),0<P.length&&(A=new UE(A,t,null,n,d),f.push({event:A,listeners:P}),j?A.data=j:(j=R4(n),j!==null&&(A.data=j)))),(j=Y9?X9(t,n):Q9(t,n))&&(u=Uy(u,"onBeforeInput"),0<u.length&&(d=new UE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}G4(f,e)})}function Sp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gp(t,n),a!=null&&r.unshift(Sp(t,a,i)),a=gp(t,e),a!=null&&r.push(Sp(t,a,i))),t=t.return}return r}function Ou(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tT(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=gp(n,a),c!=null&&s.unshift(Sp(n,c,o))):i||(c=gp(n,a),c!=null&&s.push(Sp(n,c,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var d7=/\r\n?/g,f7=/\u0000|\uFFFD/g;function nT(t){return(typeof t=="string"?t:""+t).replace(d7,`
`).replace(f7,"")}function Ig(t,e,n){if(e=nT(e),nT(t)!==e&&n)throw Error(Ae(425))}function Wy(){}var Iw=null,Dw=null;function Mw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rw=typeof setTimeout=="function"?setTimeout:void 0,h7=typeof clearTimeout=="function"?clearTimeout:void 0,rT=typeof Promise=="function"?Promise:void 0,p7=typeof queueMicrotask=="function"?queueMicrotask:typeof rT<"u"?function(t){return rT.resolve(null).then(t).catch(m7)}:Rw;function m7(t){setTimeout(function(){throw t})}function qb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xp(e)}function rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _f=Math.random().toString(36).slice(2),Ja="__reactFiber$"+_f,jp="__reactProps$"+_f,Xs="__reactContainer$"+_f,Lw="__reactEvents$"+_f,g7="__reactListeners$"+_f,y7="__reactHandles$"+_f;function fc(t){var e=t[Ja];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xs]||n[Ja]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iT(t);t!==null;){if(n=t[Ja])return n;t=iT(t)}return e}t=n,n=t.parentNode}return null}function Dm(t){return t=t[Ja]||t[Xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ae(33))}function z0(t){return t[jp]||null}var $w=[],Xu=-1;function bl(t){return{current:t}}function rn(t){0>Xu||(t.current=$w[Xu],$w[Xu]=null,Xu--)}function Gt(t,e){Xu++,$w[Xu]=t.current,t.current=e}var pl={},Mr=bl(pl),fi=bl(!1),Oc=pl;function Pd(t,e){var n=t.type.contextTypes;if(!n)return pl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hi(t){return t=t.childContextTypes,t!=null}function Ky(){rn(fi),rn(Mr)}function aT(t,e,n){if(Mr.current!==pl)throw Error(Ae(168));Gt(Mr,e),Gt(fi,n)}function X4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ae(108,t9(t)||"Unknown",i));return gn({},n,r)}function qy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pl,Oc=Mr.current,Gt(Mr,t),Gt(fi,fi.current),!0}function sT(t,e,n){var r=t.stateNode;if(!r)throw Error(Ae(169));n?(t=X4(t,e,Oc),r.__reactInternalMemoizedMergedChildContext=t,rn(fi),rn(Mr),Gt(Mr,t)):rn(fi),Gt(fi,n)}var Rs=null,F0=!1,Hb=!1;function Q4(t){Rs===null?Rs=[t]:Rs.push(t)}function v7(t){F0=!0,Q4(t)}function wl(){if(!Hb&&Rs!==null){Hb=!0;var t=0,e=Mt;try{var n=Rs;for(Mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rs=null,F0=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(t+1)),_4(FS,wl),i}finally{Mt=e,Hb=!1}}return null}var Qu=[],Ju=0,Hy=null,Gy=0,Gi=[],Yi=0,Ic=null,Ls=1,$s="";function nc(t,e){Qu[Ju++]=Gy,Qu[Ju++]=Hy,Hy=t,Gy=e}function J4(t,e,n){Gi[Yi++]=Ls,Gi[Yi++]=$s,Gi[Yi++]=Ic,Ic=t;var r=Ls;t=$s;var i=32-Pa(r)-1;r&=~(1<<i),n+=1;var a=32-Pa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ls=1<<32-Pa(e)+i|n<<i|r,$s=a+t}else Ls=1<<a|n<<i|r,$s=t}function YS(t){t.return!==null&&(nc(t,1),J4(t,1,0))}function XS(t){for(;t===Hy;)Hy=Qu[--Ju],Qu[Ju]=null,Gy=Qu[--Ju],Qu[Ju]=null;for(;t===Ic;)Ic=Gi[--Yi],Gi[Yi]=null,$s=Gi[--Yi],Gi[Yi]=null,Ls=Gi[--Yi],Gi[Yi]=null}var Ni=null,Ci=null,on=!1,ja=null;function Z4(t,e){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,Ci=rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,Ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ic!==null?{id:Ls,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ni=t,Ci=null,!0):!1;default:return!1}}function zw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fw(t){if(on){var e=Ci;if(e){var n=e;if(!oT(t,e)){if(zw(t))throw Error(Ae(418));e=rl(n.nextSibling);var r=Ni;e&&oT(t,e)?Z4(r,n):(t.flags=t.flags&-4097|2,on=!1,Ni=t)}}else{if(zw(t))throw Error(Ae(418));t.flags=t.flags&-4097|2,on=!1,Ni=t}}}function lT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function Dg(t){if(t!==Ni)return!1;if(!on)return lT(t),on=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mw(t.type,t.memoizedProps)),e&&(e=Ci)){if(zw(t))throw eR(),Error(Ae(418));for(;e;)Z4(t,e),e=rl(e.nextSibling)}if(lT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ci=rl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ci=null}}else Ci=Ni?rl(t.stateNode.nextSibling):null;return!0}function eR(){for(var t=Ci;t;)t=rl(t.nextSibling)}function Ed(){Ci=Ni=null,on=!1}function QS(t){ja===null?ja=[t]:ja.push(t)}var x7=co.ReactCurrentBatchConfig;function fh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var r=n.stateNode}if(!r)throw Error(Ae(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,t))}return t}function Mg(t,e){throw t=Object.prototype.toString.call(e),Error(Ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cT(t){var e=t._init;return e(t._payload)}function tR(t){function e(x,_){if(t){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=ol(x,_),x.index=0,x.sibling=null,x}function a(x,_,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,_,S,C){return _===null||_.tag!==6?(_=e1(S,x.mode,C),_.return=x,_):(_=i(_,S),_.return=x,_)}function c(x,_,S,C){var E=S.type;return E===Ku?d(x,_,S.props.children,C,S.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Bo&&cT(E)===_.type)?(C=i(_,S.props),C.ref=fh(x,_,S),C.return=x,C):(C=jy(S.type,S.key,S.props,null,x.mode,C),C.ref=fh(x,_,S),C.return=x,C)}function u(x,_,S,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=t1(S,x.mode,C),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function d(x,_,S,C,E){return _===null||_.tag!==7?(_=jc(S,x.mode,C,E),_.return=x,_):(_=i(_,S),_.return=x,_)}function f(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=e1(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jg:return S=jy(_.type,_.key,_.props,null,x.mode,S),S.ref=fh(x,null,_),S.return=x,S;case Wu:return _=t1(_,x.mode,S),_.return=x,_;case Bo:var C=_._init;return f(x,C(_._payload),S)}if(Th(_)||oh(_))return _=jc(_,x.mode,S,null),_.return=x,_;Mg(x,_)}return null}function h(x,_,S,C){var E=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:o(x,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jg:return S.key===E?c(x,_,S,C):null;case Wu:return S.key===E?u(x,_,S,C):null;case Bo:return E=S._init,h(x,_,E(S._payload),C)}if(Th(S)||oh(S))return E!==null?null:d(x,_,S,C,null);Mg(x,S)}return null}function p(x,_,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(S)||null,o(_,x,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jg:return x=x.get(C.key===null?S:C.key)||null,c(_,x,C,E);case Wu:return x=x.get(C.key===null?S:C.key)||null,u(_,x,C,E);case Bo:var P=C._init;return p(x,_,S,P(C._payload),E)}if(Th(C)||oh(C))return x=x.get(S)||null,d(_,x,C,E,null);Mg(_,C)}return null}function v(x,_,S,C){for(var E=null,P=null,j=_,A=_=0,O=null;j!==null&&A<S.length;A++){j.index>A?(O=j,j=null):O=j.sibling;var D=h(x,j,S[A],C);if(D===null){j===null&&(j=O);break}t&&j&&D.alternate===null&&e(x,j),_=a(D,_,A),P===null?E=D:P.sibling=D,P=D,j=O}if(A===S.length)return n(x,j),on&&nc(x,A),E;if(j===null){for(;A<S.length;A++)j=f(x,S[A],C),j!==null&&(_=a(j,_,A),P===null?E=j:P.sibling=j,P=j);return on&&nc(x,A),E}for(j=r(x,j);A<S.length;A++)O=p(j,x,A,S[A],C),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?A:O.key),_=a(O,_,A),P===null?E=O:P.sibling=O,P=O);return t&&j.forEach(function(R){return e(x,R)}),on&&nc(x,A),E}function y(x,_,S,C){var E=oh(S);if(typeof E!="function")throw Error(Ae(150));if(S=E.call(S),S==null)throw Error(Ae(151));for(var P=E=null,j=_,A=_=0,O=null,D=S.next();j!==null&&!D.done;A++,D=S.next()){j.index>A?(O=j,j=null):O=j.sibling;var R=h(x,j,D.value,C);if(R===null){j===null&&(j=O);break}t&&j&&R.alternate===null&&e(x,j),_=a(R,_,A),P===null?E=R:P.sibling=R,P=R,j=O}if(D.done)return n(x,j),on&&nc(x,A),E;if(j===null){for(;!D.done;A++,D=S.next())D=f(x,D.value,C),D!==null&&(_=a(D,_,A),P===null?E=D:P.sibling=D,P=D);return on&&nc(x,A),E}for(j=r(x,j);!D.done;A++,D=S.next())D=p(j,x,A,D.value,C),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?A:D.key),_=a(D,_,A),P===null?E=D:P.sibling=D,P=D);return t&&j.forEach(function($){return e(x,$)}),on&&nc(x,A),E}function b(x,_,S,C){if(typeof S=="object"&&S!==null&&S.type===Ku&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case jg:e:{for(var E=S.key,P=_;P!==null;){if(P.key===E){if(E=S.type,E===Ku){if(P.tag===7){n(x,P.sibling),_=i(P,S.props.children),_.return=x,x=_;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Bo&&cT(E)===P.type){n(x,P.sibling),_=i(P,S.props),_.ref=fh(x,P,S),_.return=x,x=_;break e}n(x,P);break}else e(x,P);P=P.sibling}S.type===Ku?(_=jc(S.props.children,x.mode,C,S.key),_.return=x,x=_):(C=jy(S.type,S.key,S.props,null,x.mode,C),C.ref=fh(x,_,S),C.return=x,x=C)}return s(x);case Wu:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=t1(S,x.mode,C),_.return=x,x=_}return s(x);case Bo:return P=S._init,b(x,_,P(S._payload),C)}if(Th(S))return v(x,_,S,C);if(oh(S))return y(x,_,S,C);Mg(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,S),_.return=x,x=_):(n(x,_),_=e1(S,x.mode,C),_.return=x,x=_),s(x)):n(x,_)}return b}var Td=tR(!0),nR=tR(!1),Yy=bl(null),Xy=null,Zu=null,JS=null;function ZS(){JS=Zu=Xy=null}function ej(t){var e=Yy.current;rn(Yy),t._currentValue=e}function Vw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gd(t,e){Xy=t,JS=Zu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(li=!0),t.firstContext=null)}function na(t){var e=t._currentValue;if(JS!==t)if(t={context:t,memoizedValue:e,next:null},Zu===null){if(Xy===null)throw Error(Ae(308));Zu=t,Xy.dependencies={lanes:0,firstContext:t}}else Zu=Zu.next=t;return e}var hc=null;function tj(t){hc===null?hc=[t]:hc.push(t)}function rR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tj(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qs(t,r)}function Qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Uo=!1;function nj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function il(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qs(t,n)}return i=r.interleaved,i===null?(e.next=e,tj(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qs(t,n)}function vy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VS(t,n)}}function uT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qy(t,e,n,r){var i=t.updateQueue;Uo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,y=o;switch(h=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=gn({},f,h);break e;case 2:Uo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Mc|=s,t.lanes=s,t.memoizedState=f}}function dT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ae(191,i));i.call(r)}}}var Mm={},as=bl(Mm),Ap=bl(Mm),Pp=bl(Mm);function pc(t){if(t===Mm)throw Error(Ae(174));return t}function rj(t,e){switch(Gt(Pp,e),Gt(Ap,t),Gt(as,Mm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ww(e,t)}rn(as),Gt(as,e)}function Cd(){rn(as),rn(Ap),rn(Pp)}function aR(t){pc(Pp.current);var e=pc(as.current),n=ww(e,t.type);e!==n&&(Gt(Ap,t),Gt(as,n))}function ij(t){Ap.current===t&&(rn(as),rn(Ap))}var pn=bl(0);function Jy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gb=[];function aj(){for(var t=0;t<Gb.length;t++)Gb[t]._workInProgressVersionPrimary=null;Gb.length=0}var xy=co.ReactCurrentDispatcher,Yb=co.ReactCurrentBatchConfig,Dc=0,mn=null,Hn=null,ar=null,Zy=!1,qh=!1,Ep=0,b7=0;function Pr(){throw Error(Ae(321))}function sj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ka(t[n],e[n]))return!1;return!0}function oj(t,e,n,r,i,a){if(Dc=a,mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xy.current=t===null||t.memoizedState===null?j7:A7,t=n(r,i),qh){a=0;do{if(qh=!1,Ep=0,25<=a)throw Error(Ae(301));a+=1,ar=Hn=null,e.updateQueue=null,xy.current=P7,t=n(r,i)}while(qh)}if(xy.current=ev,e=Hn!==null&&Hn.next!==null,Dc=0,ar=Hn=mn=null,Zy=!1,e)throw Error(Ae(300));return t}function lj(){var t=Ep!==0;return Ep=0,t}function Qa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?mn.memoizedState=ar=t:ar=ar.next=t,ar}function ra(){if(Hn===null){var t=mn.alternate;t=t!==null?t.memoizedState:null}else t=Hn.next;var e=ar===null?mn.memoizedState:ar.next;if(e!==null)ar=e,Hn=t;else{if(t===null)throw Error(Ae(310));Hn=t,t={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ar===null?mn.memoizedState=ar=t:ar=ar.next=t}return ar}function Tp(t,e){return typeof e=="function"?e(t):e}function Xb(t){var e=ra(),n=e.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=t;var r=Hn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((Dc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=r):c=c.next=f,mn.lanes|=d,Mc|=d}u=u.next}while(u!==null&&u!==a);c===null?s=r:c.next=o,ka(r,e.memoizedState)||(li=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,mn.lanes|=a,Mc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qb(t){var e=ra(),n=e.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ka(a,e.memoizedState)||(li=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function sR(){}function oR(t,e){var n=mn,r=ra(),i=e(),a=!ka(r.memoizedState,i);if(a&&(r.memoizedState=i,li=!0),r=r.queue,cj(uR.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,Cp(9,cR.bind(null,n,r,i,e),void 0,null),or===null)throw Error(Ae(349));Dc&30||lR(n,e,i)}return i}function lR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cR(t,e,n,r){e.value=n,e.getSnapshot=r,dR(e)&&fR(t)}function uR(t,e,n){return n(function(){dR(e)&&fR(t)})}function dR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ka(t,n)}catch{return!0}}function fR(t){var e=Qs(t,1);e!==null&&Ea(e,t,1,-1)}function fT(t){var e=Qa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:t},e.queue=t,t=t.dispatch=S7.bind(null,mn,t),[e.memoizedState,t]}function Cp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hR(){return ra().memoizedState}function by(t,e,n,r){var i=Qa();mn.flags|=t,i.memoizedState=Cp(1|e,n,void 0,r===void 0?null:r)}function V0(t,e,n,r){var i=ra();r=r===void 0?null:r;var a=void 0;if(Hn!==null){var s=Hn.memoizedState;if(a=s.destroy,r!==null&&sj(r,s.deps)){i.memoizedState=Cp(e,n,a,r);return}}mn.flags|=t,i.memoizedState=Cp(1|e,n,a,r)}function hT(t,e){return by(8390656,8,t,e)}function cj(t,e){return V0(2048,8,t,e)}function pR(t,e){return V0(4,2,t,e)}function mR(t,e){return V0(4,4,t,e)}function gR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yR(t,e,n){return n=n!=null?n.concat([t]):null,V0(4,4,gR.bind(null,e,t),n)}function uj(){}function vR(t,e){var n=ra();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sj(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xR(t,e){var n=ra();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sj(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bR(t,e,n){return Dc&21?(ka(n,e)||(n=A4(),mn.lanes|=n,Mc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,li=!0),t.memoizedState=n)}function w7(t,e){var n=Mt;Mt=n!==0&&4>n?n:4,t(!0);var r=Yb.transition;Yb.transition={};try{t(!1),e()}finally{Mt=n,Yb.transition=r}}function wR(){return ra().memoizedState}function _7(t,e,n){var r=sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_R(t))SR(e,n);else if(n=rR(t,e,n,r),n!==null){var i=qr();Ea(n,t,r,i),jR(n,e,r)}}function S7(t,e,n){var r=sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_R(t))SR(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ka(o,s)){var c=e.interleaved;c===null?(i.next=i,tj(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=rR(t,e,i,r),n!==null&&(i=qr(),Ea(n,t,r,i),jR(n,e,r))}}function _R(t){var e=t.alternate;return t===mn||e!==null&&e===mn}function SR(t,e){qh=Zy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VS(t,n)}}var ev={readContext:na,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},j7={readContext:na,useCallback:function(t,e){return Qa().memoizedState=[t,e===void 0?null:e],t},useContext:na,useEffect:hT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,by(4194308,4,gR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return by(4194308,4,t,e)},useInsertionEffect:function(t,e){return by(4,2,t,e)},useMemo:function(t,e){var n=Qa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_7.bind(null,mn,t),[r.memoizedState,t]},useRef:function(t){var e=Qa();return t={current:t},e.memoizedState=t},useState:fT,useDebugValue:uj,useDeferredValue:function(t){return Qa().memoizedState=t},useTransition:function(){var t=fT(!1),e=t[0];return t=w7.bind(null,t[1]),Qa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mn,i=Qa();if(on){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=e(),or===null)throw Error(Ae(349));Dc&30||lR(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,hT(uR.bind(null,r,a,t),[t]),r.flags|=2048,Cp(9,cR.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Qa(),e=or.identifierPrefix;if(on){var n=$s,r=Ls;n=(r&~(1<<32-Pa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ep++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A7={readContext:na,useCallback:vR,useContext:na,useEffect:cj,useImperativeHandle:yR,useInsertionEffect:pR,useLayoutEffect:mR,useMemo:xR,useReducer:Xb,useRef:hR,useState:function(){return Xb(Tp)},useDebugValue:uj,useDeferredValue:function(t){var e=ra();return bR(e,Hn.memoizedState,t)},useTransition:function(){var t=Xb(Tp)[0],e=ra().memoizedState;return[t,e]},useMutableSource:sR,useSyncExternalStore:oR,useId:wR,unstable_isNewReconciler:!1},P7={readContext:na,useCallback:vR,useContext:na,useEffect:cj,useImperativeHandle:yR,useInsertionEffect:pR,useLayoutEffect:mR,useMemo:xR,useReducer:Qb,useRef:hR,useState:function(){return Qb(Tp)},useDebugValue:uj,useDeferredValue:function(t){var e=ra();return Hn===null?e.memoizedState=t:bR(e,Hn.memoizedState,t)},useTransition:function(){var t=Qb(Tp)[0],e=ra().memoizedState;return[t,e]},useMutableSource:sR,useSyncExternalStore:oR,useId:wR,unstable_isNewReconciler:!1};function xa(t,e){if(t&&t.defaultProps){e=gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var B0={isMounted:function(t){return(t=t._reactInternals)?tu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qr(),i=sl(t),a=Ws(r,i);a.payload=e,n!=null&&(a.callback=n),e=il(t,a,i),e!==null&&(Ea(e,t,i,r),vy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qr(),i=sl(t),a=Ws(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=il(t,a,i),e!==null&&(Ea(e,t,i,r),vy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qr(),r=sl(t),i=Ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=il(t,i,r),e!==null&&(Ea(e,t,r,n),vy(e,t,r))}};function pT(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!wp(n,r)||!wp(i,a):!0}function AR(t,e,n){var r=!1,i=pl,a=e.contextType;return typeof a=="object"&&a!==null?a=na(a):(i=hi(e)?Oc:Mr.current,r=e.contextTypes,a=(r=r!=null)?Pd(t,i):pl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function mT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&B0.enqueueReplaceState(e,e.state,null)}function Uw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nj(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=na(a):(a=hi(e)?Oc:Mr.current,i.context=Pd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Bw(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&B0.enqueueReplaceState(i,i.state,null),Qy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function kd(t,e){try{var n="",r=e;do n+=e9(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Jb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ww(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E7=typeof WeakMap=="function"?WeakMap:Map;function PR(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nv||(nv=!0,e_=r),Ww(t,e)},n}function ER(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ww(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ww(t,e),typeof r!="function"&&(al===null?al=new Set([this]):al.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function gT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V7.bind(null,t,e,n),e.then(t,t))}function yT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,il(n,e,1))),n.lanes|=1),t)}var T7=co.ReactCurrentOwner,li=!1;function Vr(t,e,n,r){e.child=t===null?nR(e,null,n,r):Td(e,t.child,n,r)}function xT(t,e,n,r,i){n=n.render;var a=e.ref;return gd(e,i),r=oj(t,e,n,r,a,i),n=lj(),t!==null&&!li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(on&&n&&YS(e),e.flags|=1,Vr(t,e,r,i),e.child)}function bT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!vj(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,TR(t,e,a,r,i)):(t=jy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:wp,n(s,r)&&t.ref===e.ref)return Js(t,e,i)}return e.flags|=1,t=ol(a,r),t.ref=e.ref,t.return=e,e.child=t}function TR(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(wp(a,r)&&t.ref===e.ref)if(li=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(li=!0);else return e.lanes=t.lanes,Js(t,e,i)}return Kw(t,e,n,r,i)}function CR(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(td,Pi),Pi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gt(td,Pi),Pi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Gt(td,Pi),Pi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Gt(td,Pi),Pi|=r;return Vr(t,e,i,n),e.child}function kR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kw(t,e,n,r,i){var a=hi(n)?Oc:Mr.current;return a=Pd(e,a),gd(e,i),n=oj(t,e,n,r,a,i),r=lj(),t!==null&&!li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(on&&r&&YS(e),e.flags|=1,Vr(t,e,n,i),e.child)}function wT(t,e,n,r,i){if(hi(n)){var a=!0;qy(e)}else a=!1;if(gd(e,i),e.stateNode===null)wy(t,e),AR(e,n,r),Uw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=na(u):(u=hi(n)?Oc:Mr.current,u=Pd(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||c!==u)&&mT(e,s,r,u),Uo=!1;var h=e.memoizedState;s.state=h,Qy(e,r,s,i),c=e.memoizedState,o!==r||h!==c||fi.current||Uo?(typeof d=="function"&&(Bw(e,n,d,r),c=e.memoizedState),(o=Uo||pT(e,n,o,r,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,iR(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:xa(e.type,o),s.props=u,f=e.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=na(c):(c=hi(n)?Oc:Mr.current,c=Pd(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&mT(e,s,r,c),Uo=!1,h=e.memoizedState,s.state=h,Qy(e,r,s,i);var v=e.memoizedState;o!==f||h!==v||fi.current||Uo?(typeof p=="function"&&(Bw(e,n,p,r),v=e.memoizedState),(u=Uo||pT(e,n,u,r,h,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qw(t,e,n,r,a,i)}function qw(t,e,n,r,i,a){kR(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&sT(e,n,!1),Js(t,e,a);r=e.stateNode,T7.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Td(e,t.child,null,a),e.child=Td(e,null,o,a)):Vr(t,e,o,a),e.memoizedState=r.state,i&&sT(e,n,!0),e.child}function NR(t){var e=t.stateNode;e.pendingContext?aT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aT(t,e.context,!1),rj(t,e.containerInfo)}function _T(t,e,n,r,i){return Ed(),QS(i),e.flags|=256,Vr(t,e,n,r),e.child}var Hw={dehydrated:null,treeContext:null,retryLane:0};function Gw(t){return{baseLanes:t,cachePool:null,transitions:null}}function OR(t,e,n){var r=e.pendingProps,i=pn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Gt(pn,i&1),t===null)return Fw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=K0(s,r,0,null),t=jc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Gw(n),e.memoizedState=Hw,t):dj(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return C7(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ol(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ol(o,a):(a=jc(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Gw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Hw,r}return a=t.child,t=a.sibling,r=ol(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dj(t,e){return e=K0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rg(t,e,n,r){return r!==null&&QS(r),Td(e,t.child,null,n),t=dj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C7(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Jb(Error(Ae(422))),Rg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=K0({mode:"visible",children:r.children},i,0,null),a=jc(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Td(e,t.child,null,s),e.child.memoizedState=Gw(s),e.memoizedState=Hw,a);if(!(e.mode&1))return Rg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ae(419)),r=Jb(a,r,void 0),Rg(t,e,s,r)}if(o=(s&t.childLanes)!==0,li||o){if(r=or,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qs(t,i),Ea(r,t,i,-1))}return yj(),r=Jb(Error(Ae(421))),Rg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=B7.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ci=rl(i.nextSibling),Ni=e,on=!0,ja=null,t!==null&&(Gi[Yi++]=Ls,Gi[Yi++]=$s,Gi[Yi++]=Ic,Ls=t.id,$s=t.overflow,Ic=e),e=dj(e,r.children),e.flags|=4096,e)}function ST(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vw(t.return,e,n)}function Zb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function IR(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Vr(t,e,r.children,n),r=pn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ST(t,n,e);else if(t.tag===19)ST(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Gt(pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zb(e,!0,n,null,a);break;case"together":Zb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ae(153));if(e.child!==null){for(t=e.child,n=ol(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k7(t,e,n){switch(e.tag){case 3:NR(e),Ed();break;case 5:aR(e);break;case 1:hi(e.type)&&qy(e);break;case 4:rj(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Gt(Yy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Gt(pn,pn.current&1),e.flags|=128,null):n&e.child.childLanes?OR(t,e,n):(Gt(pn,pn.current&1),t=Js(t,e,n),t!==null?t.sibling:null);Gt(pn,pn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(pn,pn.current),r)break;return null;case 22:case 23:return e.lanes=0,CR(t,e,n)}return Js(t,e,n)}var DR,Yw,MR,RR;DR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yw=function(){};MR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pc(as.current);var a=null;switch(n){case"input":i=yw(t,i),r=yw(t,r),a=[];break;case"select":i=gn({},i,{value:void 0}),r=gn({},r,{value:void 0}),a=[];break;case"textarea":i=bw(t,i),r=bw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wy)}_w(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",t),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};RR=function(t,e,n,r){n!==r&&(e.flags|=4)};function hh(t,e){if(!on)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function N7(t,e,n){var r=e.pendingProps;switch(XS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(e),null;case 1:return hi(e.type)&&Ky(),Er(e),null;case 3:return r=e.stateNode,Cd(),rn(fi),rn(Mr),aj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ja!==null&&(r_(ja),ja=null))),Yw(t,e),Er(e),null;case 5:ij(e);var i=pc(Pp.current);if(n=e.type,t!==null&&e.stateNode!=null)MR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ae(166));return Er(e),null}if(t=pc(as.current),Dg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ja]=e,r[jp]=a,t=(e.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<kh.length;i++)Zt(kh[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":OE(r,a),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",r);break;case"textarea":DE(r,a),Zt("invalid",r)}_w(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ig(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ig(r.textContent,o,t),i=["children",""+o]):pp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Zt("scroll",r)}switch(n){case"input":Ag(r),IE(r,a,!0);break;case"textarea":Ag(r),ME(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Wy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ja]=e,t[jp]=r,DR(t,e,!1,!1),e.stateNode=t;e:{switch(s=Sw(n,r),n){case"dialog":Zt("cancel",t),Zt("close",t),i=r;break;case"iframe":case"object":case"embed":Zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<kh.length;i++)Zt(kh[i],t);i=r;break;case"source":Zt("error",t),i=r;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=r;break;case"details":Zt("toggle",t),i=r;break;case"input":OE(t,r),i=yw(t,r),Zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gn({},r,{value:void 0}),Zt("invalid",t);break;case"textarea":DE(t,r),i=bw(t,r),Zt("invalid",t);break;default:i=r}_w(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?h4(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d4(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mp(t,c):typeof c=="number"&&mp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Zt("scroll",t):c!=null&&MS(t,a,c,s))}switch(n){case"input":Ag(t),IE(t,r,!1);break;case"textarea":Ag(t),ME(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hl(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?fd(t,!!r.multiple,a,!1):r.defaultValue!=null&&fd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Er(e),null;case 6:if(t&&e.stateNode!=null)RR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ae(166));if(n=pc(Pp.current),pc(as.current),Dg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ja]=e,(a=r.nodeValue!==n)&&(t=Ni,t!==null))switch(t.tag){case 3:Ig(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ig(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ja]=e,e.stateNode=r}return Er(e),null;case 13:if(rn(pn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(on&&Ci!==null&&e.mode&1&&!(e.flags&128))eR(),Ed(),e.flags|=98560,a=!1;else if(a=Dg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ae(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ae(317));a[Ja]=e}else Ed(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Er(e),a=!1}else ja!==null&&(r_(ja),ja=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pn.current&1?Yn===0&&(Yn=3):yj())),e.updateQueue!==null&&(e.flags|=4),Er(e),null);case 4:return Cd(),Yw(t,e),t===null&&_p(e.stateNode.containerInfo),Er(e),null;case 10:return ej(e.type._context),Er(e),null;case 17:return hi(e.type)&&Ky(),Er(e),null;case 19:if(rn(pn),a=e.memoizedState,a===null)return Er(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)hh(a,!1);else{if(Yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Jy(t),s!==null){for(e.flags|=128,hh(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Gt(pn,pn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Tn()>Nd&&(e.flags|=128,r=!0,hh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Jy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!on)return Er(e),null}else 2*Tn()-a.renderingStartTime>Nd&&n!==1073741824&&(e.flags|=128,r=!0,hh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tn(),e.sibling=null,n=pn.current,Gt(pn,r?n&1|2:n&1),e):(Er(e),null);case 22:case 23:return gj(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pi&1073741824&&(Er(e),e.subtreeFlags&6&&(e.flags|=8192)):Er(e),null;case 24:return null;case 25:return null}throw Error(Ae(156,e.tag))}function O7(t,e){switch(XS(e),e.tag){case 1:return hi(e.type)&&Ky(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cd(),rn(fi),rn(Mr),aj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ij(e),null;case 13:if(rn(pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ae(340));Ed()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(pn),null;case 4:return Cd(),null;case 10:return ej(e.type._context),null;case 22:case 23:return gj(),null;case 24:return null;default:return null}}var Lg=!1,Nr=!1,I7=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ed(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wn(t,e,r)}else n.current=null}function Xw(t,e,n){try{n()}catch(r){wn(t,e,r)}}var jT=!1;function D7(t,e){if(Iw=Vy,t=V4(),GS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(o=s),h===a&&++d===r&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dw={focusedElem:t,selectionRange:n},Vy=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:xa(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(C){wn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return v=jT,jT=!1,v}function Hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Xw(e,n,a)}i=i.next}while(i!==r)}}function U0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LR(t){var e=t.alternate;e!==null&&(t.alternate=null,LR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ja],delete e[jp],delete e[Lw],delete e[g7],delete e[y7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $R(t){return t.tag===5||t.tag===3||t.tag===4}function AT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$R(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wy));else if(r!==4&&(t=t.child,t!==null))for(Jw(t,e,n),t=t.sibling;t!==null;)Jw(t,e,n),t=t.sibling}function Zw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zw(t,e,n),t=t.sibling;t!==null;)Zw(t,e,n),t=t.sibling}var mr=null,wa=!1;function Io(t,e,n){for(n=n.child;n!==null;)zR(t,e,n),n=n.sibling}function zR(t,e,n){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(M0,n)}catch{}switch(n.tag){case 5:Nr||ed(n,e);case 6:var r=mr,i=wa;mr=null,Io(t,e,n),mr=r,wa=i,mr!==null&&(wa?(t=mr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mr.removeChild(n.stateNode));break;case 18:mr!==null&&(wa?(t=mr,n=n.stateNode,t.nodeType===8?qb(t.parentNode,n):t.nodeType===1&&qb(t,n),xp(t)):qb(mr,n.stateNode));break;case 4:r=mr,i=wa,mr=n.stateNode.containerInfo,wa=!0,Io(t,e,n),mr=r,wa=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Xw(n,e,s),i=i.next}while(i!==r)}Io(t,e,n);break;case 1:if(!Nr&&(ed(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){wn(n,e,o)}Io(t,e,n);break;case 21:Io(t,e,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,Io(t,e,n),Nr=r):Io(t,e,n);break;default:Io(t,e,n)}}function PT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I7),e.forEach(function(r){var i=U7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ga(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:mr=o.stateNode,wa=!1;break e;case 3:mr=o.stateNode.containerInfo,wa=!0;break e;case 4:mr=o.stateNode.containerInfo,wa=!0;break e}o=o.return}if(mr===null)throw Error(Ae(160));zR(a,s,i),mr=null,wa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){wn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FR(e,t),e=e.sibling}function FR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ga(e,t),Xa(t),r&4){try{Hh(3,t,t.return),U0(3,t)}catch(y){wn(t,t.return,y)}try{Hh(5,t,t.return)}catch(y){wn(t,t.return,y)}}break;case 1:ga(e,t),Xa(t),r&512&&n!==null&&ed(n,n.return);break;case 5:if(ga(e,t),Xa(t),r&512&&n!==null&&ed(n,n.return),t.flags&32){var i=t.stateNode;try{mp(i,"")}catch(y){wn(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&l4(i,a),Sw(o,s);var u=Sw(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?h4(i,f):d==="dangerouslySetInnerHTML"?d4(i,f):d==="children"?mp(i,f):MS(i,d,f,u)}switch(o){case"input":vw(i,a);break;case"textarea":c4(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?fd(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?fd(i,!!a.multiple,a.defaultValue,!0):fd(i,!!a.multiple,a.multiple?[]:"",!1))}i[jp]=a}catch(y){wn(t,t.return,y)}}break;case 6:if(ga(e,t),Xa(t),r&4){if(t.stateNode===null)throw Error(Ae(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){wn(t,t.return,y)}}break;case 3:if(ga(e,t),Xa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xp(e.containerInfo)}catch(y){wn(t,t.return,y)}break;case 4:ga(e,t),Xa(t);break;case 13:ga(e,t),Xa(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(pj=Tn())),r&4&&PT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nr=(u=Nr)||d,ga(e,t),Nr=u):ga(e,t),Xa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($e=t,d=t.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hh(4,h,h.return);break;case 1:ed(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){wn(r,n,y)}}break;case 5:ed(h,h.return);break;case 22:if(h.memoizedState!==null){TT(f);continue}}p!==null?(p.return=h,$e=p):TT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=f4("display",s))}catch(y){wn(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){wn(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ga(e,t),Xa(t),r&4&&PT(t);break;case 21:break;default:ga(e,t),Xa(t)}}function Xa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($R(n)){var r=n;break e}n=n.return}throw Error(Ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mp(i,""),r.flags&=-33);var a=AT(t);Zw(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=AT(t);Jw(t,o,s);break;default:throw Error(Ae(161))}}catch(c){wn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M7(t,e,n){$e=t,VR(t)}function VR(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var i=$e,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Lg;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Nr;o=Lg;var u=Nr;if(Lg=s,(Nr=c)&&!u)for($e=i;$e!==null;)s=$e,c=s.child,s.tag===22&&s.memoizedState!==null?CT(i):c!==null?(c.return=s,$e=c):CT(i);for(;a!==null;)$e=a,VR(a),a=a.sibling;$e=i,Lg=o,Nr=u}ET(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$e=a):ET(t)}}function ET(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||U0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&dT(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dT(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}Nr||e.flags&512&&Qw(e)}catch(h){wn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function TT(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function CT(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{U0(4,e)}catch(c){wn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){wn(e,i,c)}}var a=e.return;try{Qw(e)}catch(c){wn(e,a,c)}break;case 5:var s=e.return;try{Qw(e)}catch(c){wn(e,s,c)}}}catch(c){wn(e,e.return,c)}if(e===t){$e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$e=o;break}$e=e.return}}var R7=Math.ceil,tv=co.ReactCurrentDispatcher,fj=co.ReactCurrentOwner,Zi=co.ReactCurrentBatchConfig,At=0,or=null,Ln=null,br=0,Pi=0,td=bl(0),Yn=0,kp=null,Mc=0,W0=0,hj=0,Gh=null,si=null,pj=0,Nd=1/0,Ds=null,nv=!1,e_=null,al=null,$g=!1,Yo=null,rv=0,Yh=0,t_=null,_y=-1,Sy=0;function qr(){return At&6?Tn():_y!==-1?_y:_y=Tn()}function sl(t){return t.mode&1?At&2&&br!==0?br&-br:x7.transition!==null?(Sy===0&&(Sy=A4()),Sy):(t=Mt,t!==0||(t=window.event,t=t===void 0?16:O4(t.type)),t):1}function Ea(t,e,n,r){if(50<Yh)throw Yh=0,t_=null,Error(Ae(185));Om(t,n,r),(!(At&2)||t!==or)&&(t===or&&(!(At&2)&&(W0|=n),Yn===4&&qo(t,br)),pi(t,r),n===1&&At===0&&!(e.mode&1)&&(Nd=Tn()+500,F0&&wl()))}function pi(t,e){var n=t.callbackNode;x9(t,e);var r=Fy(t,t===or?br:0);if(r===0)n!==null&&$E(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$E(n),e===1)t.tag===0?v7(kT.bind(null,t)):Q4(kT.bind(null,t)),p7(function(){!(At&6)&&wl()}),n=null;else{switch(P4(r)){case 1:n=FS;break;case 4:n=S4;break;case 16:n=zy;break;case 536870912:n=j4;break;default:n=zy}n=YR(n,BR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BR(t,e){if(_y=-1,Sy=0,At&6)throw Error(Ae(327));var n=t.callbackNode;if(yd()&&t.callbackNode!==n)return null;var r=Fy(t,t===or?br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=iv(t,r);else{e=r;var i=At;At|=2;var a=WR();(or!==t||br!==e)&&(Ds=null,Nd=Tn()+500,Sc(t,e));do try{z7();break}catch(o){UR(t,o)}while(!0);ZS(),tv.current=a,At=i,Ln!==null?e=0:(or=null,br=0,e=Yn)}if(e!==0){if(e===2&&(i=Tw(t),i!==0&&(r=i,e=n_(t,i))),e===1)throw n=kp,Sc(t,0),qo(t,r),pi(t,Tn()),n;if(e===6)qo(t,r);else{if(i=t.current.alternate,!(r&30)&&!L7(i)&&(e=iv(t,r),e===2&&(a=Tw(t),a!==0&&(r=a,e=n_(t,a))),e===1))throw n=kp,Sc(t,0),qo(t,r),pi(t,Tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ae(345));case 2:rc(t,si,Ds);break;case 3:if(qo(t,r),(r&130023424)===r&&(e=pj+500-Tn(),10<e)){if(Fy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rw(rc.bind(null,t,si,Ds),e);break}rc(t,si,Ds);break;case 4:if(qo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R7(r/1960))-r,10<r){t.timeoutHandle=Rw(rc.bind(null,t,si,Ds),r);break}rc(t,si,Ds);break;case 5:rc(t,si,Ds);break;default:throw Error(Ae(329))}}}return pi(t,Tn()),t.callbackNode===n?BR.bind(null,t):null}function n_(t,e){var n=Gh;return t.current.memoizedState.isDehydrated&&(Sc(t,e).flags|=256),t=iv(t,e),t!==2&&(e=si,si=n,e!==null&&r_(e)),t}function r_(t){si===null?si=t:si.push.apply(si,t)}function L7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ka(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qo(t,e){for(e&=~hj,e&=~W0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pa(e),r=1<<n;t[n]=-1,e&=~r}}function kT(t){if(At&6)throw Error(Ae(327));yd();var e=Fy(t,0);if(!(e&1))return pi(t,Tn()),null;var n=iv(t,e);if(t.tag!==0&&n===2){var r=Tw(t);r!==0&&(e=r,n=n_(t,r))}if(n===1)throw n=kp,Sc(t,0),qo(t,e),pi(t,Tn()),n;if(n===6)throw Error(Ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rc(t,si,Ds),pi(t,Tn()),null}function mj(t,e){var n=At;At|=1;try{return t(e)}finally{At=n,At===0&&(Nd=Tn()+500,F0&&wl())}}function Rc(t){Yo!==null&&Yo.tag===0&&!(At&6)&&yd();var e=At;At|=1;var n=Zi.transition,r=Mt;try{if(Zi.transition=null,Mt=1,t)return t()}finally{Mt=r,Zi.transition=n,At=e,!(At&6)&&wl()}}function gj(){Pi=td.current,rn(td)}function Sc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h7(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(XS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ky();break;case 3:Cd(),rn(fi),rn(Mr),aj();break;case 5:ij(r);break;case 4:Cd();break;case 13:rn(pn);break;case 19:rn(pn);break;case 10:ej(r.type._context);break;case 22:case 23:gj()}n=n.return}if(or=t,Ln=t=ol(t.current,null),br=Pi=e,Yn=0,kp=null,hj=W0=Mc=0,si=Gh=null,hc!==null){for(e=0;e<hc.length;e++)if(n=hc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}hc=null}return t}function UR(t,e){do{var n=Ln;try{if(ZS(),xy.current=ev,Zy){for(var r=mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zy=!1}if(Dc=0,ar=Hn=mn=null,qh=!1,Ep=0,fj.current=null,n===null||n.return===null){Yn=1,kp=e,Ln=null;break}e:{var a=t,s=n.return,o=n,c=e;if(e=br,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yT(s);if(p!==null){p.flags&=-257,vT(p,s,o,a,e),p.mode&1&&gT(a,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){gT(a,u,e),yj();break e}c=Error(Ae(426))}}else if(on&&o.mode&1){var b=yT(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vT(b,s,o,a,e),QS(kd(c,o));break e}}a=c=kd(c,o),Yn!==4&&(Yn=2),Gh===null?Gh=[a]:Gh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=PR(a,c,e);uT(a,x);break e;case 1:o=c;var _=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(al===null||!al.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=ER(a,o,e);uT(a,C);break e}}a=a.return}while(a!==null)}qR(n)}catch(E){e=E,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(!0)}function WR(){var t=tv.current;return tv.current=ev,t===null?ev:t}function yj(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),or===null||!(Mc&268435455)&&!(W0&268435455)||qo(or,br)}function iv(t,e){var n=At;At|=2;var r=WR();(or!==t||br!==e)&&(Ds=null,Sc(t,e));do try{$7();break}catch(i){UR(t,i)}while(!0);if(ZS(),At=n,tv.current=r,Ln!==null)throw Error(Ae(261));return or=null,br=0,Yn}function $7(){for(;Ln!==null;)KR(Ln)}function z7(){for(;Ln!==null&&!u9();)KR(Ln)}function KR(t){var e=GR(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?qR(t):Ln=e,fj.current=null}function qR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O7(n,e),n!==null){n.flags&=32767,Ln=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yn=6,Ln=null;return}}else if(n=N7(n,e,Pi),n!==null){Ln=n;return}if(e=e.sibling,e!==null){Ln=e;return}Ln=e=t}while(e!==null);Yn===0&&(Yn=5)}function rc(t,e,n){var r=Mt,i=Zi.transition;try{Zi.transition=null,Mt=1,F7(t,e,n,r)}finally{Zi.transition=i,Mt=r}return null}function F7(t,e,n,r){do yd();while(Yo!==null);if(At&6)throw Error(Ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ae(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(b9(t,a),t===or&&(Ln=or=null,br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$g||($g=!0,YR(zy,function(){return yd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Zi.transition,Zi.transition=null;var s=Mt;Mt=1;var o=At;At|=4,fj.current=null,D7(t,n),FR(n,t),s7(Dw),Vy=!!Iw,Dw=Iw=null,t.current=n,M7(n),d9(),At=o,Mt=s,Zi.transition=a}else t.current=n;if($g&&($g=!1,Yo=t,rv=i),a=t.pendingLanes,a===0&&(al=null),p9(n.stateNode),pi(t,Tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nv)throw nv=!1,t=e_,e_=null,t;return rv&1&&t.tag!==0&&yd(),a=t.pendingLanes,a&1?t===t_?Yh++:(Yh=0,t_=t):Yh=0,wl(),null}function yd(){if(Yo!==null){var t=P4(rv),e=Zi.transition,n=Mt;try{if(Zi.transition=null,Mt=16>t?16:t,Yo===null)var r=!1;else{if(t=Yo,Yo=null,rv=0,At&6)throw Error(Ae(331));var i=At;for(At|=4,$e=t.current;$e!==null;){var a=$e,s=a.child;if($e.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Hh(8,d,a)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,p=d.return;if(LR(d),d===u){$e=null;break}if(h!==null){h.return=p,$e=h;break}$e=p}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}$e=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,$e=s;else e:for(;$e!==null;){if(a=$e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hh(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,$e=x;break e}$e=a.return}}var _=t.current;for($e=_;$e!==null;){s=$e;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,$e=S;else e:for(s=_;$e!==null;){if(o=$e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:U0(9,o)}}catch(E){wn(o,o.return,E)}if(o===s){$e=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,$e=C;break e}$e=o.return}}if(At=i,wl(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(M0,t)}catch{}r=!0}return r}finally{Mt=n,Zi.transition=e}}return!1}function NT(t,e,n){e=kd(n,e),e=PR(t,e,1),t=il(t,e,1),e=qr(),t!==null&&(Om(t,1,e),pi(t,e))}function wn(t,e,n){if(t.tag===3)NT(t,t,n);else for(;e!==null;){if(e.tag===3){NT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(al===null||!al.has(r))){t=kd(n,t),t=ER(e,t,1),e=il(e,t,1),t=qr(),e!==null&&(Om(e,1,t),pi(e,t));break}}e=e.return}}function V7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qr(),t.pingedLanes|=t.suspendedLanes&n,or===t&&(br&n)===n&&(Yn===4||Yn===3&&(br&130023424)===br&&500>Tn()-pj?Sc(t,0):hj|=n),pi(t,e)}function HR(t,e){e===0&&(t.mode&1?(e=Tg,Tg<<=1,!(Tg&130023424)&&(Tg=4194304)):e=1);var n=qr();t=Qs(t,e),t!==null&&(Om(t,e,n),pi(t,n))}function B7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HR(t,n)}function U7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(e),HR(t,n)}var GR;GR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)li=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return li=!1,k7(t,e,n);li=!!(t.flags&131072)}else li=!1,on&&e.flags&1048576&&J4(e,Gy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wy(t,e),t=e.pendingProps;var i=Pd(e,Mr.current);gd(e,n),i=oj(null,e,r,t,i,n);var a=lj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)?(a=!0,qy(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nj(e),i.updater=B0,e.stateNode=i,i._reactInternals=e,Uw(e,r,t,n),e=qw(null,e,r,!0,a,n)):(e.tag=0,on&&a&&YS(e),Vr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=K7(r),t=xa(r,t),i){case 0:e=Kw(null,e,r,t,n);break e;case 1:e=wT(null,e,r,t,n);break e;case 11:e=xT(null,e,r,t,n);break e;case 14:e=bT(null,e,r,xa(r.type,t),n);break e}throw Error(Ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xa(r,i),Kw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xa(r,i),wT(t,e,r,i,n);case 3:e:{if(NR(e),t===null)throw Error(Ae(387));r=e.pendingProps,a=e.memoizedState,i=a.element,iR(t,e),Qy(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=kd(Error(Ae(423)),e),e=_T(t,e,r,n,i);break e}else if(r!==i){i=kd(Error(Ae(424)),e),e=_T(t,e,r,n,i);break e}else for(Ci=rl(e.stateNode.containerInfo.firstChild),Ni=e,on=!0,ja=null,n=nR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ed(),r===i){e=Js(t,e,n);break e}Vr(t,e,r,n)}e=e.child}return e;case 5:return aR(e),t===null&&Fw(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Mw(r,i)?s=null:a!==null&&Mw(r,a)&&(e.flags|=32),kR(t,e),Vr(t,e,s,n),e.child;case 6:return t===null&&Fw(e),null;case 13:return OR(t,e,n);case 4:return rj(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Td(e,null,r,n):Vr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xa(r,i),xT(t,e,r,i,n);case 7:return Vr(t,e,e.pendingProps,n),e.child;case 8:return Vr(t,e,e.pendingProps.children,n),e.child;case 12:return Vr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Gt(Yy,r._currentValue),r._currentValue=s,a!==null)if(ka(a.value,s)){if(a.children===i.children&&!fi.current){e=Js(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ws(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Vw(a.return,n,e),o.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ae(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Vw(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Vr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gd(e,n),i=na(i),r=r(i),e.flags|=1,Vr(t,e,r,n),e.child;case 14:return r=e.type,i=xa(r,e.pendingProps),i=xa(r.type,i),bT(t,e,r,i,n);case 15:return TR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xa(r,i),wy(t,e),e.tag=1,hi(r)?(t=!0,qy(e)):t=!1,gd(e,n),AR(e,r,i),Uw(e,r,i,n),qw(null,e,r,!0,t,n);case 19:return IR(t,e,n);case 22:return CR(t,e,n)}throw Error(Ae(156,e.tag))};function YR(t,e){return _4(t,e)}function W7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(t,e,n,r){return new W7(t,e,n,r)}function vj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K7(t){if(typeof t=="function")return vj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===LS)return 11;if(t===$S)return 14}return 2}function ol(t,e){var n=t.alternate;return n===null?(n=Qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jy(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")vj(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ku:return jc(n.children,i,a,e);case RS:s=8,i|=8;break;case hw:return t=Qi(12,n,e,i|2),t.elementType=hw,t.lanes=a,t;case pw:return t=Qi(13,n,e,i),t.elementType=pw,t.lanes=a,t;case mw:return t=Qi(19,n,e,i),t.elementType=mw,t.lanes=a,t;case a4:return K0(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r4:s=10;break e;case i4:s=9;break e;case LS:s=11;break e;case $S:s=14;break e;case Bo:s=16,r=null;break e}throw Error(Ae(130,t==null?t:typeof t,""))}return e=Qi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function jc(t,e,n,r){return t=Qi(7,t,r,e),t.lanes=n,t}function K0(t,e,n,r){return t=Qi(22,t,r,e),t.elementType=a4,t.lanes=n,t.stateNode={isHidden:!1},t}function e1(t,e,n){return t=Qi(6,t,null,e),t.lanes=n,t}function t1(t,e,n){return e=Qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mb(0),this.expirationTimes=Mb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xj(t,e,n,r,i,a,s,o,c){return t=new q7(t,e,n,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Qi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nj(a),t}function H7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XR(t){if(!t)return pl;t=t._reactInternals;e:{if(tu(t)!==t||t.tag!==1)throw Error(Ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ae(171))}if(t.tag===1){var n=t.type;if(hi(n))return X4(t,n,e)}return e}function QR(t,e,n,r,i,a,s,o,c){return t=xj(n,r,!0,t,i,a,s,o,c),t.context=XR(null),n=t.current,r=qr(),i=sl(n),a=Ws(r,i),a.callback=e??null,il(n,a,i),t.current.lanes=i,Om(t,i,r),pi(t,r),t}function q0(t,e,n,r){var i=e.current,a=qr(),s=sl(i);return n=XR(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=il(i,e,s),t!==null&&(Ea(t,i,s,a),vy(t,i,s)),s}function av(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bj(t,e){OT(t,e),(t=t.alternate)&&OT(t,e)}function G7(){return null}var JR=typeof reportError=="function"?reportError:function(t){console.error(t)};function wj(t){this._internalRoot=t}H0.prototype.render=wj.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ae(409));q0(t,e,null,null)};H0.prototype.unmount=wj.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rc(function(){q0(null,t,null,null)}),e[Xs]=null}};function H0(t){this._internalRoot=t}H0.prototype.unstable_scheduleHydration=function(t){if(t){var e=C4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ko.length&&e!==0&&e<Ko[n].priority;n++);Ko.splice(n,0,t),n===0&&N4(t)}};function _j(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function G0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IT(){}function Y7(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=av(s);a.call(u)}}var s=QR(e,r,t,0,null,!1,!1,"",IT);return t._reactRootContainer=s,t[Xs]=s.current,_p(t.nodeType===8?t.parentNode:t),Rc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=av(c);o.call(u)}}var c=xj(t,0,!1,null,null,!1,!1,"",IT);return t._reactRootContainer=c,t[Xs]=c.current,_p(t.nodeType===8?t.parentNode:t),Rc(function(){q0(e,c,n,r)}),c}function Y0(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=av(s);o.call(c)}}q0(e,s,t,i)}else s=Y7(n,e,t,i,r);return av(s)}E4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ch(e.pendingLanes);n!==0&&(VS(e,n|1),pi(e,Tn()),!(At&6)&&(Nd=Tn()+500,wl()))}break;case 13:Rc(function(){var r=Qs(t,1);if(r!==null){var i=qr();Ea(r,t,1,i)}}),bj(t,1)}};BS=function(t){if(t.tag===13){var e=Qs(t,134217728);if(e!==null){var n=qr();Ea(e,t,134217728,n)}bj(t,134217728)}};T4=function(t){if(t.tag===13){var e=sl(t),n=Qs(t,e);if(n!==null){var r=qr();Ea(n,t,e,r)}bj(t,e)}};C4=function(){return Mt};k4=function(t,e){var n=Mt;try{return Mt=t,e()}finally{Mt=n}};Aw=function(t,e,n){switch(e){case"input":if(vw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=z0(r);if(!i)throw Error(Ae(90));o4(r),vw(r,i)}}}break;case"textarea":c4(t,n);break;case"select":e=n.value,e!=null&&fd(t,!!n.multiple,e,!1)}};g4=mj;y4=Rc;var X7={usingClientEntryPoint:!1,Events:[Dm,Yu,z0,p4,m4,mj]},ph={findFiberByHostInstance:fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q7={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b4(t),t===null?null:t.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||G7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{M0=zg.inject(Q7),is=zg}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X7;$i.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_j(e))throw Error(Ae(200));return H7(t,e,null,n)};$i.createRoot=function(t,e){if(!_j(t))throw Error(Ae(299));var n=!1,r="",i=JR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xj(t,1,!1,null,null,n,!1,r,i),t[Xs]=e.current,_p(t.nodeType===8?t.parentNode:t),new wj(e)};$i.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ae(188)):(t=Object.keys(t).join(","),Error(Ae(268,t)));return t=b4(e),t=t===null?null:t.stateNode,t};$i.flushSync=function(t){return Rc(t)};$i.hydrate=function(t,e,n){if(!G0(e))throw Error(Ae(200));return Y0(null,t,e,!0,n)};$i.hydrateRoot=function(t,e,n){if(!_j(t))throw Error(Ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=JR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=QR(e,null,t,1,n??null,i,!1,a,s),t[Xs]=e.current,_p(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new H0(e)};$i.render=function(t,e,n){if(!G0(e))throw Error(Ae(200));return Y0(null,t,e,!1,n)};$i.unmountComponentAtNode=function(t){if(!G0(t))throw Error(Ae(40));return t._reactRootContainer?(Rc(function(){Y0(null,null,t,!1,function(){t._reactRootContainer=null,t[Xs]=null})}),!0):!1};$i.unstable_batchedUpdates=mj;$i.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!G0(n))throw Error(Ae(200));if(t==null||t._reactInternals===void 0)throw Error(Ae(38));return Y0(t,e,n,!1,r)};$i.version="18.3.1-next-f1338f8080-20240426";function ZR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZR)}catch(t){console.error(t)}}ZR(),ZM.exports=$i;var e5=ZM.exports,DT=e5;dw.createRoot=DT.createRoot,dw.hydrateRoot=DT.hydrateRoot;var MT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},n5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;c||(p=64,s||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new Z7;const h=a<<2|o>>4;if(r.push(h),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eB=function(t){const e=t5(t);return n5.encodeByteArray(e,!0)},r5=function(t){return eB(t).replace(/\./g,"")},i5=function(t){try{return n5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=()=>tB().__FIREBASE_DEFAULTS__,rB=()=>{if(typeof process>"u"||typeof MT>"u")return;const t=MT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i5(t[1]);return e&&JSON.parse(e)},Sj=()=>{try{return nB()||rB()||iB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aB=()=>{var t;return(t=Sj())===null||t===void 0?void 0:t.config},sB=t=>{var e;return(e=Sj())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function cB(){var t;const e=(t=Sj())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hB(){const t=gi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pB(){return!cB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mB(){try{return typeof indexedDB=="object"}catch{return!1}}function gB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB="FirebaseError";class uo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yB,Object.setPrototypeOf(this,uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?vB(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new uo(i,o,r)}}function vB(t,e){return t.replace(xB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xB=/\{\$([^}]+)}/g;function Np(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(RT(a)&&RT(s)){if(!Np(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Oh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bB(t,e){const n=new wB(t,e);return n.subscribe.bind(n)}class wB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_B(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=n1),i.error===void 0&&(i.error=n1),i.complete===void 0&&(i.complete=n1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _B(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return t&&t._delegate?t._delegate:t}class Lc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AB(e))try{this.getOrInitializeService({instanceIdentifier:ic})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ic){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ic){return this.instances.has(e)}getOptions(e=ic){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ic){return this.component?this.component.multipleInstances?e:ic:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jB(t){return t===ic?void 0:t}function AB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const EB={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},TB=xt.INFO,CB={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},kB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jj{constructor(e){this.name=e,this._logLevel=TB,this._logHandler=kB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const NB=(t,e)=>e.some(n=>t instanceof n);let LT,$T;function OB(){return LT||(LT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IB(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s5=new WeakMap,i_=new WeakMap,o5=new WeakMap,r1=new WeakMap,Aj=new WeakMap;function DB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(ll(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&s5.set(n,t)}).catch(()=>{}),Aj.set(e,t),e}function MB(t){if(i_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});i_.set(t,e)}let a_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ll(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RB(t){a_=t(a_)}function LB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i1(this),e,...n);return o5.set(r,e.sort?e.sort():[e]),ll(r)}:IB().includes(t)?function(...e){return t.apply(i1(this),e),ll(s5.get(this))}:function(...e){return ll(t.apply(i1(this),e))}}function $B(t){return typeof t=="function"?LB(t):(t instanceof IDBTransaction&&MB(t),NB(t,OB())?new Proxy(t,a_):t)}function ll(t){if(t instanceof IDBRequest)return DB(t);if(r1.has(t))return r1.get(t);const e=$B(t);return e!==t&&(r1.set(t,e),Aj.set(e,t)),e}const i1=t=>Aj.get(t);function zB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=ll(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ll(s.result),c.oldVersion,c.newVersion,ll(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const FB=["get","getKey","getAll","getAllKeys","count"],VB=["put","add","delete","clear"],a1=new Map;function zT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a1.get(e))return a1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FB.includes(n)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&c.done]))[0]};return a1.set(e,a),a}RB(t=>({...t,get:(e,n,r)=>zT(e,n)||t.get(e,n,r),has:(e,n)=>!!zT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s_="@firebase/app",FT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new jj("@firebase/app"),WB="@firebase/app-compat",KB="@firebase/analytics-compat",qB="@firebase/analytics",HB="@firebase/app-check-compat",GB="@firebase/app-check",YB="@firebase/auth",XB="@firebase/auth-compat",QB="@firebase/database",JB="@firebase/data-connect",ZB="@firebase/database-compat",eU="@firebase/functions",tU="@firebase/functions-compat",nU="@firebase/installations",rU="@firebase/installations-compat",iU="@firebase/messaging",aU="@firebase/messaging-compat",sU="@firebase/performance",oU="@firebase/performance-compat",lU="@firebase/remote-config",cU="@firebase/remote-config-compat",uU="@firebase/storage",dU="@firebase/storage-compat",fU="@firebase/firestore",hU="@firebase/vertexai-preview",pU="@firebase/firestore-compat",mU="firebase",gU="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="[DEFAULT]",vU={[s_]:"fire-core",[WB]:"fire-core-compat",[qB]:"fire-analytics",[KB]:"fire-analytics-compat",[GB]:"fire-app-check",[HB]:"fire-app-check-compat",[YB]:"fire-auth",[XB]:"fire-auth-compat",[QB]:"fire-rtdb",[JB]:"fire-data-connect",[ZB]:"fire-rtdb-compat",[eU]:"fire-fn",[tU]:"fire-fn-compat",[nU]:"fire-iid",[rU]:"fire-iid-compat",[iU]:"fire-fcm",[aU]:"fire-fcm-compat",[sU]:"fire-perf",[oU]:"fire-perf-compat",[lU]:"fire-rc",[cU]:"fire-rc-compat",[uU]:"fire-gcs",[dU]:"fire-gcs-compat",[fU]:"fire-fst",[pU]:"fire-fst-compat",[hU]:"fire-vertex","fire-js":"fire-js",[mU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map,xU=new Map,l_=new Map;function VT(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Od(t){const e=t.name;if(l_.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;l_.set(e,t);for(const n of o_.values())VT(n,t);for(const n of xU.values())VT(n,t);return!0}function l5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ac=new Rm("app","Firebase",bU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ac.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=gU;function _U(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yU,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ac.create("bad-app-name",{appName:String(i)});if(n||(n=aB()),!n)throw Ac.create("no-options");const a=o_.get(i);if(a){if(Np(n,a.options)&&Np(r,a.config))return a;throw Ac.create("duplicate-app",{appName:i})}const s=new PB(i);for(const c of l_.values())s.addComponent(c);const o=new wU(n,r,s);return o_.set(i,o),o}function cl(t,e,n){var r;let i=(r=vU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(o.join(" "));return}Od(new Lc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="firebase-heartbeat-database",jU=1,Op="firebase-heartbeat-store";let s1=null;function c5(){return s1||(s1=zB(SU,jU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Op)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ac.create("idb-open",{originalErrorMessage:t.message})})),s1}async function AU(t){try{const n=(await c5()).transaction(Op),r=await n.objectStore(Op).get(u5(t));return await n.done,r}catch(e){if(e instanceof uo)Zs.warn(e.message);else{const n=Ac.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function BT(t,e){try{const r=(await c5()).transaction(Op,"readwrite");await r.objectStore(Op).put(e,u5(t)),await r.done}catch(n){if(n instanceof uo)Zs.warn(n.message);else{const r=Ac.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(r.message)}}}function u5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1024,EU=30*24*60*60*1e3;class TU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=UT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=EU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UT(),{heartbeatsToSend:r,unsentEntries:i}=CU(this._heartbeatsCache.heartbeats),a=r5(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Zs.warn(n),""}}}function UT(){return new Date().toISOString().substring(0,10)}function CU(t,e=PU){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),WT(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mB()?gB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WT(t){return r5(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){Od(new Lc("platform-logger",e=>new BB(e),"PRIVATE")),Od(new Lc("heartbeat",e=>new TU(e),"PRIVATE")),cl(s_,FT,t),cl(s_,FT,"esm2017"),cl("fire-js","")}NU("");function d5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function f5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OU=f5,h5=new Rm("auth","Firebase",f5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new jj("@firebase/auth");function IU(t,...e){sv.logLevel<=xt.WARN&&sv.warn(`Auth (${X0}): ${t}`,...e)}function Ay(t,...e){sv.logLevel<=xt.ERROR&&sv.error(`Auth (${X0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t,...e){throw Ej(t,...e)}function Pj(t,...e){return Ej(t,...e)}function p5(t,e,n){const r=Object.assign(Object.assign({},OU()),{[e]:n});return new Rm("auth","Firebase",r).create(e,{appName:t.name})}function Pc(t){return p5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ej(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h5.create(t,...e)}function jt(t,e,...n){if(!t)throw Ej(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ay(e),new Error(e)}function ov(t,e){t||zs(e)}function DU(){return KT()==="http:"||KT()==="https:"}function KT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DU()||dB()||"connection"in navigator)?navigator.onLine:!0}function RU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.shortDelay=e,this.longDelay=n,ov(n>e,"Short delay should be less than long delay!"),this.isMobile=lB()||fB()}get(){return MU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t,e){ov(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Lm(3e4,6e4);function nu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ru(t,e,n,r,i={}){return g5(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=a5(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return uB()||(u.referrerPolicy="no-referrer"),m5.fetch()(y5(t,t.config.apiHost,n,o),u)})}async function g5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$U),e);try{const i=new VU(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Fg(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fg(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Fg(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Fg(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw p5(t,d,u);Id(t,d)}}catch(i){if(i instanceof uo)throw i;Id(t,"network-request-failed",{message:String(i)})}}async function Q0(t,e,n,r,i={}){const a=await ru(t,e,n,r,i);return"mfaPendingCredential"in a&&Id(t,"multi-factor-auth-required",{_serverResponse:a}),a}function y5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?LU(t.config,i):`${t.config.apiScheme}://${i}`}function FU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pj(this.auth,"network-request-failed")),zU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pj(t,e,r);return i.customData._tokenResponse=n,i}function qT(t){return t!==void 0&&t.enterprise!==void 0}class BU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UU(t,e){return ru(t,"GET","/v2/recaptchaConfig",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){return ru(t,"POST","/v1/accounts:delete",e)}async function v5(t,e){return ru(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KU(t,e=!1){const n=lr(t),r=await n.getIdToken(e),i=x5(r);jt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xh(o1(i.auth_time)),issuedAtTime:Xh(o1(i.iat)),expirationTime:Xh(o1(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function o1(t){return Number(t)*1e3}function x5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ay("JWT malformed, contained fewer than 3 sections"),null;try{const i=i5(n);return i?JSON.parse(i):(Ay("Failed to decode base64 JWT payload"),null)}catch(i){return Ay("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HT(t){const e=x5(t);return jt(e,"internal-error"),jt(typeof e.exp<"u","internal-error"),jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof uo&&qU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await c_(t,v5(n,{idToken:r}));jt(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?b5(a.providerUserInfo):[],o=YU(t.providerData,s),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new u_(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function GU(t){const e=lr(t);await lv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b5(t){return t.map(e=>{var{providerId:n}=e,r=d5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){const n=await g5(t,{},async()=>{const r=a5({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=y5(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",m5.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QU(t,e){return ru(t,"POST","/v2/accounts:revokeToken",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jt(e.idToken,"internal-error"),jt(typeof e.idToken<"u","internal-error"),jt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){jt(e.length!==0,"internal-error");const n=HT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await XU(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new vd;return r&&(jt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(jt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(jt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vd,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e){jt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=d5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new u_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await c_(this,this.stsTokenManager.getToken(this.auth,e));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KU(this,e)}reload(){return GU(this)}_assign(e){this!==e&&(jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xo(this.auth.app))return Promise.reject(Pc(this.auth));const e=await this.getIdToken();return await c_(this,WU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:C,isAnonymous:E,providerData:P,stsTokenManager:j}=n;jt(S&&j,e,"internal-error");const A=vd.fromJSON(this.name,j);jt(typeof S=="string",e,"internal-error"),Do(f,e.name),Do(h,e.name),jt(typeof C=="boolean",e,"internal-error"),jt(typeof E=="boolean",e,"internal-error"),Do(p,e.name),Do(v,e.name),Do(y,e.name),Do(b,e.name),Do(x,e.name),Do(_,e.name);const O=new Fs({uid:S,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:E,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:A,createdAt:x,lastLoginAt:_});return P&&Array.isArray(P)&&(O.providerData=P.map(D=>Object.assign({},D))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new vd;i.updateFromServerResponse(n);const a=new Fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];jt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?b5(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new vd;o.updateFromIdToken(r);const c=new Fs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;function mc(t){ov(t instanceof Function,"Expected a class definition");let e=GT.get(t);return e?(ov(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w5.type="NONE";const YT=w5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e,n){return`firebase:${t}:${e}:${n}`}class xd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=l1(this.userKey,i.apiKey,a),this.fullPersistenceKey=l1("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xd(mc(YT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||mc(YT);const s=l1(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(s);if(d){const f=Fs._fromJSON(e,d);u!==a&&(o=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new xd(a,e,r):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new xd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j5(e))return"Blackberry";if(A5(e))return"Webos";if(ZU(e))return"Safari";if((e.includes("chrome/")||eW(e))&&!e.includes("edge/"))return"Chrome";if(S5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JU(t=gi()){return/firefox\//i.test(t)}function ZU(t=gi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eW(t=gi()){return/crios\//i.test(t)}function _5(t=gi()){return/iemobile/i.test(t)}function S5(t=gi()){return/android/i.test(t)}function j5(t=gi()){return/blackberry/i.test(t)}function A5(t=gi()){return/webos/i.test(t)}function tW(t=gi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nW(){return hB()&&document.documentMode===10}function rW(t=gi()){return tW(t)||S5(t)||A5(t)||j5(t)||/windows phone/i.test(t)||_5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e=[]){let n;switch(t){case"Browser":n=XT(gi());break;case"Worker":n=`${XT(gi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${X0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e={}){return ru(t,"GET","/v2/passwordPolicy",nu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=6;class oW{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:sW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QT(this),this.idTokenSubscription=new QT(this),this.beforeStateQueue=new iW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mc(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await v5(this,{idToken:e}),r=await Fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xo(this.app))return Promise.reject(Pc(this));const n=e?lr(e):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xo(this.app)?Promise.reject(Pc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xo(this.app)?Promise.reject(Pc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aW(this),n=new oW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mc(e)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await xd.create(this,[mc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $m(t){return lr(t)}class QT{constructor(e){this.auth=e,this.observer=null,this.addObserver=bB(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cW(t){Tj=t}function uW(t){return Tj.loadJS(t)}function dW(){return Tj.recaptchaEnterpriseScript}const fW="recaptcha-enterprise",hW="NO_RECAPTCHA";class pW{constructor(e){this.type=fW,this.auth=$m(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{UU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new BU(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(c=>{o(c)})})}function i(a,s,o){const c=window.grecaptcha;qT(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(hW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&qT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dW();c.length!==0&&(c+=o),uW(c).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function JT(t,e,n,r=!1){const i=new pW(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function d_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await JT(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await JT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t,e){const n=l5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Np(a,e??{}))return i;Id(i,"already-initialized")}return n.initialize({options:e})}function gW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function vW(t,e){return ru(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,e){return Q0(t,"POST","/v1/accounts:signInWithPassword",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){return Q0(t,"POST","/v1/accounts:signInWithEmailLink",nu(t,e))}async function wW(t,e){return Q0(t,"POST","/v1/accounts:signInWithEmailLink",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends yW{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ip(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ip(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,n,"signInWithPassword",xW);case"emailLink":return bW(e,{email:this._email,oobCode:this._password});default:Id(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,r,"signUpPassword",vW);case"emailLink":return wW(e,{idToken:n,email:this._email,oobCode:this._password});default:Id(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SW(t){const e=Nh(Oh(t)).link,n=e?Nh(Oh(e)).deep_link_id:null,r=Nh(Oh(t)).deep_link_id;return(r?Nh(Oh(r)).link:null)||r||n||e||t}class Cj{constructor(e){var n,r,i,a,s,o;const c=Nh(Oh(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=_W((i=c.mode)!==null&&i!==void 0?i:null);jt(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=c.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=SW(e);try{return new Cj(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.providerId=Sf.PROVIDER_ID}static credential(e,n){return Ip._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cj.parseLink(n);return jt(r,"argument-error"),Ip._fromEmailAndCode(e,r.code,r.tenantId)}}Sf.PROVIDER_ID="password";Sf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e){return Q0(t,"POST","/v1/accounts:signUp",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Fs._fromIdTokenResponse(e,r,i),s=ZT(r);return new Dp({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ZT(r);return new Dp({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ZT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends uo{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cv(e,n,r,i)}}function AW(t,e,n,r){return n._getIdTokenResponse(t).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cv._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PW(t,e,n=!1){if(Xo(t.app))return Promise.reject(Pc(t));const r="signIn",i=await AW(t,r,e),a=await Dp._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function EW(t,e){return PW($m(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t){const e=$m(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TW(t,e,n){if(Xo(t.app))return Promise.reject(Pc(t));const r=$m(t),s=await d_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&E5(t),c}),o=await Dp._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function CW(t,e,n){return Xo(t.app)?Promise.reject(Pc(t)):EW(lr(t),Sf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E5(t),r})}function kW(t,e,n,r){return lr(t).onAuthStateChanged(e,n,r)}const eC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eC,"1"),this.storage.removeItem(eC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=1e3,OW=10;class C5 extends T5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);nW()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}C5.type="LOCAL";const IW=C5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW extends T5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DW.type="SESSION";new Lm(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Lm(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Lm(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Lm(5e3,15e3);var tC="@firebase/auth",nC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LW(t){Od(new Lc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;jt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P5(t)},u=new lW(r,i,a,c);return gW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Od(new Lc("auth-internal",e=>{const n=$m(e.getProvider("auth").getImmediate());return(r=>new MW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cl(tC,nC,RW(t)),cl(tC,nC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=5*60;sB("authIdTokenMaxAge");function zW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Pj("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",zW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LW("Browser");var FW="firebase",VW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cl(FW,VW,"app");var rC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ec,k5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,A){function O(){}O.prototype=A.prototype,j.D=A.prototype,j.prototype=new O,j.prototype.constructor=j,j.C=function(D,R,$){for(var z=Array(arguments.length-2),X=2;X<arguments.length;X++)z[X-2]=arguments[X];return A.prototype[R].apply(D,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,A,O){O||(O=0);var D=Array(16);if(typeof A=="string")for(var R=0;16>R;++R)D[R]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(R=0;16>R;++R)D[R]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=j.g[0],O=j.g[1],R=j.g[2];var $=j.g[3],z=A+($^O&(R^$))+D[0]+3614090360&4294967295;A=O+(z<<7&4294967295|z>>>25),z=$+(R^A&(O^R))+D[1]+3905402710&4294967295,$=A+(z<<12&4294967295|z>>>20),z=R+(O^$&(A^O))+D[2]+606105819&4294967295,R=$+(z<<17&4294967295|z>>>15),z=O+(A^R&($^A))+D[3]+3250441966&4294967295,O=R+(z<<22&4294967295|z>>>10),z=A+($^O&(R^$))+D[4]+4118548399&4294967295,A=O+(z<<7&4294967295|z>>>25),z=$+(R^A&(O^R))+D[5]+1200080426&4294967295,$=A+(z<<12&4294967295|z>>>20),z=R+(O^$&(A^O))+D[6]+2821735955&4294967295,R=$+(z<<17&4294967295|z>>>15),z=O+(A^R&($^A))+D[7]+4249261313&4294967295,O=R+(z<<22&4294967295|z>>>10),z=A+($^O&(R^$))+D[8]+1770035416&4294967295,A=O+(z<<7&4294967295|z>>>25),z=$+(R^A&(O^R))+D[9]+2336552879&4294967295,$=A+(z<<12&4294967295|z>>>20),z=R+(O^$&(A^O))+D[10]+4294925233&4294967295,R=$+(z<<17&4294967295|z>>>15),z=O+(A^R&($^A))+D[11]+2304563134&4294967295,O=R+(z<<22&4294967295|z>>>10),z=A+($^O&(R^$))+D[12]+1804603682&4294967295,A=O+(z<<7&4294967295|z>>>25),z=$+(R^A&(O^R))+D[13]+4254626195&4294967295,$=A+(z<<12&4294967295|z>>>20),z=R+(O^$&(A^O))+D[14]+2792965006&4294967295,R=$+(z<<17&4294967295|z>>>15),z=O+(A^R&($^A))+D[15]+1236535329&4294967295,O=R+(z<<22&4294967295|z>>>10),z=A+(R^$&(O^R))+D[1]+4129170786&4294967295,A=O+(z<<5&4294967295|z>>>27),z=$+(O^R&(A^O))+D[6]+3225465664&4294967295,$=A+(z<<9&4294967295|z>>>23),z=R+(A^O&($^A))+D[11]+643717713&4294967295,R=$+(z<<14&4294967295|z>>>18),z=O+($^A&(R^$))+D[0]+3921069994&4294967295,O=R+(z<<20&4294967295|z>>>12),z=A+(R^$&(O^R))+D[5]+3593408605&4294967295,A=O+(z<<5&4294967295|z>>>27),z=$+(O^R&(A^O))+D[10]+38016083&4294967295,$=A+(z<<9&4294967295|z>>>23),z=R+(A^O&($^A))+D[15]+3634488961&4294967295,R=$+(z<<14&4294967295|z>>>18),z=O+($^A&(R^$))+D[4]+3889429448&4294967295,O=R+(z<<20&4294967295|z>>>12),z=A+(R^$&(O^R))+D[9]+568446438&4294967295,A=O+(z<<5&4294967295|z>>>27),z=$+(O^R&(A^O))+D[14]+3275163606&4294967295,$=A+(z<<9&4294967295|z>>>23),z=R+(A^O&($^A))+D[3]+4107603335&4294967295,R=$+(z<<14&4294967295|z>>>18),z=O+($^A&(R^$))+D[8]+1163531501&4294967295,O=R+(z<<20&4294967295|z>>>12),z=A+(R^$&(O^R))+D[13]+2850285829&4294967295,A=O+(z<<5&4294967295|z>>>27),z=$+(O^R&(A^O))+D[2]+4243563512&4294967295,$=A+(z<<9&4294967295|z>>>23),z=R+(A^O&($^A))+D[7]+1735328473&4294967295,R=$+(z<<14&4294967295|z>>>18),z=O+($^A&(R^$))+D[12]+2368359562&4294967295,O=R+(z<<20&4294967295|z>>>12),z=A+(O^R^$)+D[5]+4294588738&4294967295,A=O+(z<<4&4294967295|z>>>28),z=$+(A^O^R)+D[8]+2272392833&4294967295,$=A+(z<<11&4294967295|z>>>21),z=R+($^A^O)+D[11]+1839030562&4294967295,R=$+(z<<16&4294967295|z>>>16),z=O+(R^$^A)+D[14]+4259657740&4294967295,O=R+(z<<23&4294967295|z>>>9),z=A+(O^R^$)+D[1]+2763975236&4294967295,A=O+(z<<4&4294967295|z>>>28),z=$+(A^O^R)+D[4]+1272893353&4294967295,$=A+(z<<11&4294967295|z>>>21),z=R+($^A^O)+D[7]+4139469664&4294967295,R=$+(z<<16&4294967295|z>>>16),z=O+(R^$^A)+D[10]+3200236656&4294967295,O=R+(z<<23&4294967295|z>>>9),z=A+(O^R^$)+D[13]+681279174&4294967295,A=O+(z<<4&4294967295|z>>>28),z=$+(A^O^R)+D[0]+3936430074&4294967295,$=A+(z<<11&4294967295|z>>>21),z=R+($^A^O)+D[3]+3572445317&4294967295,R=$+(z<<16&4294967295|z>>>16),z=O+(R^$^A)+D[6]+76029189&4294967295,O=R+(z<<23&4294967295|z>>>9),z=A+(O^R^$)+D[9]+3654602809&4294967295,A=O+(z<<4&4294967295|z>>>28),z=$+(A^O^R)+D[12]+3873151461&4294967295,$=A+(z<<11&4294967295|z>>>21),z=R+($^A^O)+D[15]+530742520&4294967295,R=$+(z<<16&4294967295|z>>>16),z=O+(R^$^A)+D[2]+3299628645&4294967295,O=R+(z<<23&4294967295|z>>>9),z=A+(R^(O|~$))+D[0]+4096336452&4294967295,A=O+(z<<6&4294967295|z>>>26),z=$+(O^(A|~R))+D[7]+1126891415&4294967295,$=A+(z<<10&4294967295|z>>>22),z=R+(A^($|~O))+D[14]+2878612391&4294967295,R=$+(z<<15&4294967295|z>>>17),z=O+($^(R|~A))+D[5]+4237533241&4294967295,O=R+(z<<21&4294967295|z>>>11),z=A+(R^(O|~$))+D[12]+1700485571&4294967295,A=O+(z<<6&4294967295|z>>>26),z=$+(O^(A|~R))+D[3]+2399980690&4294967295,$=A+(z<<10&4294967295|z>>>22),z=R+(A^($|~O))+D[10]+4293915773&4294967295,R=$+(z<<15&4294967295|z>>>17),z=O+($^(R|~A))+D[1]+2240044497&4294967295,O=R+(z<<21&4294967295|z>>>11),z=A+(R^(O|~$))+D[8]+1873313359&4294967295,A=O+(z<<6&4294967295|z>>>26),z=$+(O^(A|~R))+D[15]+4264355552&4294967295,$=A+(z<<10&4294967295|z>>>22),z=R+(A^($|~O))+D[6]+2734768916&4294967295,R=$+(z<<15&4294967295|z>>>17),z=O+($^(R|~A))+D[13]+1309151649&4294967295,O=R+(z<<21&4294967295|z>>>11),z=A+(R^(O|~$))+D[4]+4149444226&4294967295,A=O+(z<<6&4294967295|z>>>26),z=$+(O^(A|~R))+D[11]+3174756917&4294967295,$=A+(z<<10&4294967295|z>>>22),z=R+(A^($|~O))+D[2]+718787259&4294967295,R=$+(z<<15&4294967295|z>>>17),z=O+($^(R|~A))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+A&4294967295,j.g[1]=j.g[1]+(R+(z<<21&4294967295|z>>>11))&4294967295,j.g[2]=j.g[2]+R&4294967295,j.g[3]=j.g[3]+$&4294967295}r.prototype.u=function(j,A){A===void 0&&(A=j.length);for(var O=A-this.blockSize,D=this.B,R=this.h,$=0;$<A;){if(R==0)for(;$<=O;)i(this,j,$),$+=this.blockSize;if(typeof j=="string"){for(;$<A;)if(D[R++]=j.charCodeAt($++),R==this.blockSize){i(this,D),R=0;break}}else for(;$<A;)if(D[R++]=j[$++],R==this.blockSize){i(this,D),R=0;break}}this.h=R,this.o+=A},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var A=1;A<j.length-8;++A)j[A]=0;var O=8*this.o;for(A=j.length-8;A<j.length;++A)j[A]=O&255,O/=256;for(this.u(j),j=Array(16),A=O=0;4>A;++A)for(var D=0;32>D;D+=8)j[O++]=this.g[A]>>>D&255;return j};function a(j,A){var O=o;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=A(j)}function s(j,A){this.h=A;for(var O=[],D=!0,R=j.length-1;0<=R;R--){var $=j[R]|0;D&&$==A||(O[R]=$,D=!1)}this.g=O}var o={};function c(j){return-128<=j&&128>j?a(j,function(A){return new s([A|0],0>A?-1:0)}):new s([j|0],0>j?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return f;if(0>j)return b(u(-j));for(var A=[],O=1,D=0;j>=O;D++)A[D]=j/O|0,O*=4294967296;return new s(A,0)}function d(j,A){if(j.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(j.charAt(0)=="-")return b(d(j.substring(1),A));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(A,8)),D=f,R=0;R<j.length;R+=8){var $=Math.min(8,j.length-R),z=parseInt(j.substring(R,R+$),A);8>$?($=u(Math.pow(A,$)),D=D.j($).add(u(z))):(D=D.j(O),D=D.add(u(z)))}return D}var f=c(0),h=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(y(this))return-b(this).m();for(var j=0,A=1,O=0;O<this.g.length;O++){var D=this.i(O);j+=(0<=D?D:4294967296+D)*A,A*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(v(this))return"0";if(y(this))return"-"+b(this).toString(j);for(var A=u(Math.pow(j,6)),O=this,D="";;){var R=C(O,A).g;O=x(O,R.j(A));var $=((0<O.g.length?O.g[0]:O.h)>>>0).toString(j);if(O=R,v(O))return $+D;for(;6>$.length;)$="0"+$;D=$+D}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function v(j){if(j.h!=0)return!1;for(var A=0;A<j.g.length;A++)if(j.g[A]!=0)return!1;return!0}function y(j){return j.h==-1}t.l=function(j){return j=x(this,j),y(j)?-1:v(j)?0:1};function b(j){for(var A=j.g.length,O=[],D=0;D<A;D++)O[D]=~j.g[D];return new s(O,~j.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(j){for(var A=Math.max(this.g.length,j.g.length),O=[],D=0,R=0;R<=A;R++){var $=D+(this.i(R)&65535)+(j.i(R)&65535),z=($>>>16)+(this.i(R)>>>16)+(j.i(R)>>>16);D=z>>>16,$&=65535,z&=65535,O[R]=z<<16|$}return new s(O,O[O.length-1]&-2147483648?-1:0)};function x(j,A){return j.add(b(A))}t.j=function(j){if(v(this)||v(j))return f;if(y(this))return y(j)?b(this).j(b(j)):b(b(this).j(j));if(y(j))return b(this.j(b(j)));if(0>this.l(p)&&0>j.l(p))return u(this.m()*j.m());for(var A=this.g.length+j.g.length,O=[],D=0;D<2*A;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<j.g.length;R++){var $=this.i(D)>>>16,z=this.i(D)&65535,X=j.i(R)>>>16,te=j.i(R)&65535;O[2*D+2*R]+=z*te,_(O,2*D+2*R),O[2*D+2*R+1]+=$*te,_(O,2*D+2*R+1),O[2*D+2*R+1]+=z*X,_(O,2*D+2*R+1),O[2*D+2*R+2]+=$*X,_(O,2*D+2*R+2)}for(D=0;D<A;D++)O[D]=O[2*D+1]<<16|O[2*D];for(D=A;D<2*A;D++)O[D]=0;return new s(O,0)};function _(j,A){for(;(j[A]&65535)!=j[A];)j[A+1]+=j[A]>>>16,j[A]&=65535,A++}function S(j,A){this.g=j,this.h=A}function C(j,A){if(v(A))throw Error("division by zero");if(v(j))return new S(f,f);if(y(j))return A=C(b(j),A),new S(b(A.g),b(A.h));if(y(A))return A=C(j,b(A)),new S(b(A.g),A.h);if(30<j.g.length){if(y(j)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var O=h,D=A;0>=D.l(j);)O=E(O),D=E(D);var R=P(O,1),$=P(D,1);for(D=P(D,2),O=P(O,2);!v(D);){var z=$.add(D);0>=z.l(j)&&(R=R.add(O),$=z),D=P(D,1),O=P(O,1)}return A=x(j,R.j(A)),new S(R,A)}for(R=f;0<=j.l(A);){for(O=Math.max(1,Math.floor(j.m()/A.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),$=u(O),z=$.j(A);y(z)||0<z.l(j);)O-=D,$=u(O),z=$.j(A);v($)&&($=h),R=R.add($),j=x(j,z)}return new S(R,j)}t.A=function(j){return C(this,j).h},t.and=function(j){for(var A=Math.max(this.g.length,j.g.length),O=[],D=0;D<A;D++)O[D]=this.i(D)&j.i(D);return new s(O,this.h&j.h)},t.or=function(j){for(var A=Math.max(this.g.length,j.g.length),O=[],D=0;D<A;D++)O[D]=this.i(D)|j.i(D);return new s(O,this.h|j.h)},t.xor=function(j){for(var A=Math.max(this.g.length,j.g.length),O=[],D=0;D<A;D++)O[D]=this.i(D)^j.i(D);return new s(O,this.h^j.h)};function E(j){for(var A=j.g.length+1,O=[],D=0;D<A;D++)O[D]=j.i(D)<<1|j.i(D-1)>>>31;return new s(O,j.h)}function P(j,A){var O=A>>5;A%=32;for(var D=j.g.length-O,R=[],$=0;$<D;$++)R[$]=0<A?j.i($+O)>>>A|j.i($+O+1)<<32-A:j.i($+O);return new s(R,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ec=s}).apply(typeof rC<"u"?rC:typeof self<"u"?self:typeof window<"u"?window:{});var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N5,Ih,O5,Py,f_,I5,D5,M5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,M){return m==Array.prototype||m==Object.prototype||(m[k]=M.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vg=="object"&&Vg];for(var k=0;k<m.length;++k){var M=m[k];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(m,k){if(k)e:{var M=r;m=m.split(".");for(var B=0;B<m.length-1;B++){var ce=m[B];if(!(ce in M))break e;M=M[ce]}m=m[m.length-1],B=M[m],k=k(B),k!=B&&k!=null&&e(M,m,{configurable:!0,writable:!0,value:k})}}function a(m,k){m instanceof String&&(m+="");var M=0,B=!1,ce={next:function(){if(!B&&M<m.length){var he=M++;return{value:k(he,m[he]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(m){return m||function(){return a(this,function(k,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function c(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function u(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function d(m,k,M){return m.call.apply(m.bind,arguments)}function f(m,k,M){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,B),m.apply(k,ce)}}return function(){return m.apply(k,arguments)}}function h(m,k,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(m,k){var M=Array.prototype.slice.call(arguments,1);return function(){var B=M.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function v(m,k){function M(){}M.prototype=k.prototype,m.aa=k.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function(B,ce,he){for(var Oe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Oe[Ot-2]=arguments[Ot];return k.prototype[ce].apply(B,Oe)}}function y(m){const k=m.length;if(0<k){const M=Array(k);for(let B=0;B<k;B++)M[B]=m[B];return M}return[]}function b(m,k){for(let M=1;M<arguments.length;M++){const B=arguments[M];if(c(B)){const ce=m.length||0,he=B.length||0;m.length=ce+he;for(let Oe=0;Oe<he;Oe++)m[ce+Oe]=B[Oe]}else m.push(B)}}class x{constructor(k,M){this.i=k,this.j=M,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function _(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=o.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var E=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(m,k,M){for(const B in m)k.call(M,m[B],B,m)}function j(m,k){for(const M in m)k.call(void 0,m[M],M,m)}function A(m){const k={};for(const M in m)k[M]=m[M];return k}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(m,k){let M,B;for(let ce=1;ce<arguments.length;ce++){B=arguments[ce];for(M in B)m[M]=B[M];for(let he=0;he<O.length;he++)M=O[he],Object.prototype.hasOwnProperty.call(B,M)&&(m[M]=B[M])}}function R(m){var k=1;m=m.split(":");const M=[];for(;0<k&&m.length;)M.push(m.shift()),k--;return m.length&&M.push(m.join(":")),M}function $(m){o.setTimeout(()=>{throw m},0)}function z(){var m=Y;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class X{constructor(){this.h=this.g=null}add(k,M){const B=te.get();B.set(k,M),this.h?this.h.next=B:this.g=B,this.h=B}}var te=new x(()=>new U,m=>m.reset());class U{constructor(){this.next=this.g=this.h=null}set(k,M){this.h=k,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let K,V=!1,Y=new X,oe=()=>{const m=o.Promise.resolve(void 0);K=()=>{m.then(ue)}};var ue=()=>{for(var m;m=z();){try{m.h.call(m.g)}catch(M){$(M)}var k=te;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}V=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};o.addEventListener("test",M,k),o.removeEventListener("test",M,k)}catch{}return m}();function He(m,k){if(_e.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(E){e:{try{C(k.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(k=null)}}else M=="mouseover"?k=m.fromElement:M=="mouseout"&&(k=m.toElement);this.relatedTarget=k,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:nt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&He.aa.h.call(this)}}v(He,_e);var nt={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Z(m,k,M,B,ce){this.listener=m,this.proxy=null,this.src=k,this.type=M,this.capture=!!B,this.ha=ce,this.key=++Ut,this.da=this.fa=!1}function Pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ve(m){this.src=m,this.g={},this.h=0}ve.prototype.add=function(m,k,M,B,ce){var he=m.toString();m=this.g[he],m||(m=this.g[he]=[],this.h++);var Oe=ft(m,k,B,ce);return-1<Oe?(k=m[Oe],M||(k.fa=!1)):(k=new Z(k,this.src,he,!!B,ce),k.fa=M,m.push(k)),k};function de(m,k){var M=k.type;if(M in m.g){var B=m.g[M],ce=Array.prototype.indexOf.call(B,k,void 0),he;(he=0<=ce)&&Array.prototype.splice.call(B,ce,1),he&&(Pe(k),m.g[M].length==0&&(delete m.g[M],m.h--))}}function ft(m,k,M,B){for(var ce=0;ce<m.length;++ce){var he=m[ce];if(!he.da&&he.listener==k&&he.capture==!!M&&he.ha==B)return ce}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),Ne={};function Qe(m,k,M,B,ce){if(Array.isArray(k)){for(var he=0;he<k.length;he++)Qe(m,k[he],M,B,ce);return null}return M=xi(M),m&&m[bt]?m.K(k,M,u(B)?!!B.capture:!1,ce):vn(m,k,M,!1,B,ce)}function vn(m,k,M,B,ce,he){if(!k)throw Error("Invalid event type");var Oe=u(ce)?!!ce.capture:!!ce,Ot=Lr(m);if(Ot||(m[Ze]=Ot=new ve(m)),M=Ot.add(k,M,B,Oe,he),M.proxy)return M;if(B=Qr(),M.proxy=B,B.src=m,B.listener=M,m.addEventListener)Ue||(ce=Oe),ce===void 0&&(ce=!1),m.addEventListener(k.toString(),B,ce);else if(m.attachEvent)m.attachEvent(dn(k.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Qr(){function m(M){return k.call(m.src,m.listener,M)}const k=Zr;return m}function vi(m,k,M,B,ce){if(Array.isArray(k))for(var he=0;he<k.length;he++)vi(m,k[he],M,B,ce);else B=u(B)?!!B.capture:!!B,M=xi(M),m&&m[bt]?(m=m.i,k=String(k).toString(),k in m.g&&(he=m.g[k],M=ft(he,M,B,ce),-1<M&&(Pe(he[M]),Array.prototype.splice.call(he,M,1),he.length==0&&(delete m.g[k],m.h--)))):m&&(m=Lr(m))&&(k=m.g[k.toString()],m=-1,k&&(m=ft(k,M,B,ce)),(M=-1<m?k[m]:null)&&Jr(M))}function Jr(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[bt])de(k.i,m);else{var M=m.type,B=m.proxy;k.removeEventListener?k.removeEventListener(M,B,m.capture):k.detachEvent?k.detachEvent(dn(M),B):k.addListener&&k.removeListener&&k.removeListener(B),(M=Lr(k))?(de(M,m),M.h==0&&(M.src=null,k[Ze]=null)):Pe(m)}}}function dn(m){return m in Ne?Ne[m]:Ne[m]="on"+m}function Zr(m,k){if(m.da)m=!0;else{k=new He(k,this);var M=m.listener,B=m.ha||m.src;m.fa&&Jr(m),m=M.call(B,k)}return m}function Lr(m){return m=m[Ze],m instanceof ve?m:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function xi(m){return typeof m=="function"?m:(m[la]||(m[la]=function(k){return m.handleEvent(k)}),m[la])}function Wt(){ye.call(this),this.i=new ve(this),this.M=this,this.F=null}v(Wt,ye),Wt.prototype[bt]=!0,Wt.prototype.removeEventListener=function(m,k,M,B){vi(this,m,k,M,B)};function Jt(m,k){var M,B=m.F;if(B)for(M=[];B;B=B.F)M.push(B);if(m=m.M,B=k.type||k,typeof k=="string")k=new _e(k,m);else if(k instanceof _e)k.target=k.target||m;else{var ce=k;k=new _e(B,m),D(k,ce)}if(ce=!0,M)for(var he=M.length-1;0<=he;he--){var Oe=k.g=M[he];ce=za(Oe,B,!0,k)&&ce}if(Oe=k.g=m,ce=za(Oe,B,!0,k)&&ce,ce=za(Oe,B,!1,k)&&ce,M)for(he=0;he<M.length;he++)Oe=k.g=M[he],ce=za(Oe,B,!1,k)&&ce}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var M=m.g[k],B=0;B<M.length;B++)Pe(M[B]);delete m.g[k],m.h--}}this.F=null},Wt.prototype.K=function(m,k,M,B){return this.i.add(String(m),k,!1,M,B)},Wt.prototype.L=function(m,k,M,B){return this.i.add(String(m),k,!0,M,B)};function za(m,k,M,B){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var ce=!0,he=0;he<k.length;++he){var Oe=k[he];if(Oe&&!Oe.da&&Oe.capture==M){var Ot=Oe.listener,Dn=Oe.ha||Oe.src;Oe.fa&&de(m.i,Oe),ce=Ot.call(Dn,B)!==!1&&ce}}return ce&&!B.defaultPrevented}function Fa(m,k,M){if(typeof m=="function")M&&(m=h(m,M));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:o.setTimeout(m,k||0)}function yo(m){m.g=Fa(()=>{m.g=null,m.i&&(m.i=!1,yo(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class vo extends ye{constructor(k,M){super(),this.m=k,this.l=M,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(m){ye.call(this),this.h=m,this.g={}}v($r,ye);var xs=[];function xo(m){P(m.g,function(k,M){this.g.hasOwnProperty(M)&&Jr(k)},m),m.g={}}$r.prototype.N=function(){$r.aa.N.call(this),xo(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=o.JSON.stringify,Fe=o.JSON.parse,xe=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function We(){}We.prototype.h=null;function fn(m){return m.h||(m.h=m.i())}function ke(){}var ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){_e.call(this,"d")}v(Nn,_e);function gt(){_e.call(this,"c")}v(gt,_e);var On={},bi=null;function Va(){return bi=bi||new Wt}On.La="serverreachability";function wi(m){_e.call(this,On.La,m)}v(wi,_e);function Bn(m){const k=Va();Jt(k,new wi(k))}On.STAT_EVENT="statevent";function er(m,k){_e.call(this,On.STAT_EVENT,m),this.stat=k}v(er,_e);function hn(m){const k=Va();Jt(k,new er(k,m))}On.Ma="timingevent";function bs(m,k){_e.call(this,On.Ma,m),this.size=k}v(bs,_e);function Et(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},k)}function Kt(){this.g=!0}Kt.prototype.xa=function(){this.g=!1};function bb(m,k,M,B,ce,he){m.info(function(){if(m.g)if(he)for(var Oe="",Ot=he.split("&"),Dn=0;Dn<Ot.length;Dn++){var vt=Ot[Dn].split("=");if(1<vt.length){var nr=vt[0];vt=vt[1];var Un=nr.split("_");Oe=2<=Un.length&&Un[1]=="type"?Oe+(nr+"="+vt+"&"):Oe+(nr+"=redacted&")}}else Oe=null;else Oe=he;return"XMLHTTP REQ ("+B+") [attempt "+ce+"]: "+k+`
`+M+`
`+Oe})}function mu(m,k,M,B,ce,he,Oe){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ce+"]: "+k+`
`+M+`
`+he+" "+Oe})}function ca(m,k,M,B){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+wb(m,M)+(B?" "+B:"")})}function gu(m,k){m.info(function(){return"TIMEOUT: "+k})}Kt.prototype.info=function(){};function wb(m,k){if(!m.g)return k;if(!k)return null;try{var M=JSON.parse(k);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var B=M[m];if(!(2>B.length)){var ce=B[1];if(Array.isArray(ce)&&!(1>ce.length)){var he=ce[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Oe=1;Oe<ce.length;Oe++)ce[Oe]=""}}}}return ei(M)}catch{return k}}var _i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ws={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function _s(){}v(_s,We),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},Fi=new _s;function Ba(m,k,M,B){this.j=m,this.i=k,this.l=M,this.R=B||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ua}function ua(){this.i=null,this.g="",this.h=!1}var Kf={},da={};function yu(m,k,M){m.L=1,m.v=Ka(Si(k)),m.m=M,m.P=!0,vu(m,null)}function vu(m,k){m.F=Date.now(),ti(m),m.A=Si(m.v);var M=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),jn(M.i,"t",B),m.C=0,M=m.j.J,m.h=new ua,m.g=Ga(m.j,M?k:null,!m.m),0<m.O&&(m.M=new vo(h(m.Y,m,m.g),m.O)),k=m.U,M=m.g,B=m.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(xs[0]=ce.toString()),ce=xs);for(var he=0;he<ce.length;he++){var Oe=Qe(M,ce[he],B||k.handleEvent,!1,k.h||k);if(!Oe)break;k.g[Oe.key]=Oe}k=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),Bn(),bb(m.i,m.u,m.A,m.l,m.R,m.m)}Ba.prototype.ca=function(m){m=m.target;const k=this.M;k&&ma(m)==3?k.j():this.Y(m)},Ba.prototype.Y=function(m){try{if(m==this.g)e:{const Un=ma(this.g);var k=this.g.Ba();const Ya=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Un!=4||k==7||(k==8||0>=Ya?Bn(3):Bn(2)),Ua(this);var M=this.g.Z();this.X=M;t:if(an(this)){var B=Su(this.g);m="";var ce=B.length,he=ma(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fa(this),Wa(this);var Oe="";break t}this.h.i=new o.TextDecoder}for(k=0;k<ce;k++)this.h.h=!0,m+=this.h.i.decode(B[k],{stream:!(he&&k==ce-1)});B.length=0,this.h.g+=m,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=M==200,mu(this.i,this.u,this.A,this.l,this.R,Un,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Dn=this.g;if((Ot=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ot)){var vt=Ot;break t}}vt=null}if(M=vt)ca(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,M);else{this.o=!1,this.s=3,hn(12),fa(this),Wa(this);break e}}if(this.P){M=!0;let ni;for(;!this.J&&this.C<Oe.length;)if(ni=Ss(this,Oe),ni==da){Un==4&&(this.s=4,hn(14),M=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==Kf){this.s=4,hn(15),ca(this.i,this.l,Oe,"[Invalid Chunk]"),M=!1;break}else ca(this.i,this.l,ni,null),Dl(this,ni);if(an(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||Oe.length!=0||this.h.h||(this.s=1,hn(16),M=!1),this.o=this.o&&M,!M)ca(this.i,this.l,Oe,"[Invalid Chunked Response]"),fa(this),Wa(this);else if(0<Oe.length&&!this.W){this.W=!0;var nr=this.j;nr.g==this&&nr.ba&&!nr.M&&(nr.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Cs(nr),nr.M=!0,hn(11))}}else ca(this.i,this.l,Oe,null),Dl(this,Oe);Un==4&&fa(this),this.o&&!this.J&&(Un==4?Hl(this.j,this):(this.o=!1,ti(this)))}else nh(this.g),M==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),fa(this),Wa(this)}}}catch{}finally{}};function an(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ss(m,k){var M=m.C,B=k.indexOf(`
`,M);return B==-1?da:(M=Number(k.substring(M,B)),isNaN(M)?Kf:(B+=1,B+M>k.length?da:(k=k.slice(B,B+M),m.C=B+M,k)))}Ba.prototype.cancel=function(){this.J=!0,fa(this)};function ti(m){m.S=Date.now()+m.I,qf(m,m.I)}function qf(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Et(h(m.ba,m),k)}function Ua(m){m.B&&(o.clearTimeout(m.B),m.B=null)}Ba.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(gu(this.i,this.A),this.L!=2&&(Bn(),hn(17)),fa(this),this.s=2,Wa(this)):qf(this,this.S-m)};function Wa(m){m.j.G==0||m.J||Hl(m.j,m)}function fa(m){Ua(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,xo(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function Dl(m,k){try{var M=m.j;if(M.G!=0&&(M.g==m||ht(M.h,m))){if(!m.K&&ht(M.h,m)&&M.G==3){try{var B=M.Da.g.parse(k)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ce=B;if(ce[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)ql(M),Es(M);else break e;In(M),hn(18)}}else M.za=ce[1],0<M.za-M.T&&37500>ce[2]&&M.F&&M.v==0&&!M.C&&(M.C=Et(h(M.Za,M),6e3));if(1>=Gf(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ha(M,11)}else if((m.K||M.g==m)&&ql(M),!_(k))for(ce=M.Da.g.parse(k),k=0;k<ce.length;k++){let vt=ce[k];if(M.T=vt[0],vt=vt[1],M.G==2)if(vt[0]=="c"){M.K=vt[1],M.ia=vt[2];const nr=vt[3];nr!=null&&(M.la=nr,M.j.info("VER="+M.la));const Un=vt[4];Un!=null&&(M.Aa=Un,M.j.info("SVER="+M.Aa));const Ya=vt[5];Ya!=null&&typeof Ya=="number"&&0<Ya&&(B=1.5*Ya,M.L=B,M.j.info("backChannelRequestTimeoutMs_="+B)),B=M;const ni=m.g;if(ni){const Yl=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var he=B.h;he.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(xu(he,he.h),he.h=null))}if(B.D){const sh=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;sh&&(B.ya=sh,$t(B.I,B.D,sh))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),B=M;var Oe=m;if(B.qa=Tu(B,B.J?B.ia:null,B.W),Oe.K){Yf(B.h,Oe);var Ot=Oe,Dn=B.L;Dn&&(Ot.I=Dn),Ot.B&&(Ua(Ot),ti(Ot)),B.g=Oe}else Eu(B);0<M.i.length&&ju(M)}else vt[0]!="stop"&&vt[0]!="close"||Ha(M,7);else M.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ha(M,7):Eo(M):vt[0]!="noop"&&M.l&&M.l.ta(vt),M.v=0)}}Bn(4)}catch{}}var js=class{constructor(m,k){this.g=m,this.map=k}};function Hf(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Gf(m){return m.h?1:m.g?m.g.size:0}function ht(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function xu(m,k){m.g?m.g.add(k):m.h=k}function Yf(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}Hf.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Rl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const M of m.g.values())k=k.concat(M.D);return k}return y(m.i)}function vg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var k=[],M=m.length,B=0;B<M;B++)k.push(m[B]);return k}k=[],M=0;for(B in m)k[M++]=m[B];return k}function Vt(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var k=[];m=m.length;for(var M=0;M<m;M++)k.push(M);return k}k=[],M=0;for(const B in m)k[M++]=B;return k}}}function bo(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var M=Vt(m),B=vg(m),ce=B.length,he=0;he<ce;he++)k.call(void 0,B[he],M&&M[he],m)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(m,k){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var B=m[M].indexOf("="),ce=null;if(0<=B){var he=m[M].substring(0,B);ce=m[M].substring(B+1)}else he=m[M];k(he,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function ha(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ha){this.h=m.h,As(this,m.j),this.o=m.o,this.g=m.g,Ll(this,m.s),this.l=m.l;var k=m.i,M=new qa;M.i=k.i,k.g&&(M.g=new Map(k.g),M.h=k.h),$l(this,M),this.m=m.m}else m&&(k=String(m).match(wo))?(this.h=!1,As(this,k[1]||"",!0),this.o=So(k[2]||""),this.g=So(k[3]||"",!0),Ll(this,k[4]),this.l=So(k[5]||"",!0),$l(this,k[6]||"",!0),this.m=So(k[7]||"")):(this.h=!1,this.i=new qa(null,this.h))}ha.prototype.toString=function(){var m=[],k=this.j;k&&m.push(zl(k,Xf,!0),":");var M=this.g;return(M||k=="file")&&(m.push("//"),(k=this.o)&&m.push(zl(k,Xf,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(zl(M,M.charAt(0)=="/"?Sb:_b,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",zl(M,jo)),m.join("")};function Si(m){return new ha(m)}function As(m,k,M){m.j=M?So(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Ll(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function $l(m,k,M){k instanceof qa?(m.i=k,Fl(m.i,m.h)):(M||(k=zl(k,zr)),m.i=new qa(k,m.h))}function $t(m,k,M){m.i.set(k,M)}function Ka(m){return $t(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function So(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function zl(m,k,M){return typeof m=="string"?(m=encodeURI(m).replace(k,wt),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wt(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Xf=/[#\/\?@]/g,_b=/[#\?:]/g,Sb=/[#\?]/g,zr=/[#\?@]/g,jo=/#/g;function qa(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function ur(m){m.g||(m.g=new Map,m.h=0,m.i&&_o(m.i,function(k,M){m.add(decodeURIComponent(k.replace(/\+/g," ")),M)}))}t=qa.prototype,t.add=function(m,k){ur(this),this.i=null,m=dr(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(k),this.h+=1,this};function Qf(m,k){ur(m),k=dr(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function Jf(m,k){return ur(m),k=dr(m,k),m.g.has(k)}t.forEach=function(m,k){ur(this),this.g.forEach(function(M,B){M.forEach(function(ce){m.call(k,ce,B,this)},this)},this)},t.na=function(){ur(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),M=[];for(let B=0;B<k.length;B++){const ce=m[B];for(let he=0;he<ce.length;he++)M.push(k[B])}return M},t.V=function(m){ur(this);let k=[];if(typeof m=="string")Jf(this,m)&&(k=k.concat(this.g.get(dr(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)k=k.concat(m[M])}return k},t.set=function(m,k){return ur(this),this.i=null,m=dr(this,m),Jf(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function jn(m,k,M){Qf(m,k),0<M.length&&(m.i=null,m.g.set(dr(m,k),y(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var M=0;M<k.length;M++){var B=k[M];const he=encodeURIComponent(String(B)),Oe=this.V(B);for(B=0;B<Oe.length;B++){var ce=he;Oe[B]!==""&&(ce+="="+encodeURIComponent(String(Oe[B]))),m.push(ce)}}return this.i=m.join("&")};function dr(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function Fl(m,k){k&&!m.j&&(ur(m),m.i=null,m.g.forEach(function(M,B){var ce=B.toLowerCase();B!=ce&&(Qf(this,B),jn(this,ce,M))},m)),m.j=k}function Vl(m,k){const M=new Kt;if(o.Image){const B=new Image;B.onload=p(fr,M,"TestLoadImage: loaded",!0,k,B),B.onerror=p(fr,M,"TestLoadImage: error",!1,k,B),B.onabort=p(fr,M,"TestLoadImage: abort",!1,k,B),B.ontimeout=p(fr,M,"TestLoadImage: timeout",!1,k,B),o.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else k(!1)}function Zf(m,k){const M=new Kt,B=new AbortController,ce=setTimeout(()=>{B.abort(),fr(M,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:B.signal}).then(he=>{clearTimeout(ce),he.ok?fr(M,"TestPingServer: ok",!0,k):fr(M,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ce),fr(M,"TestPingServer: error",!1,k)})}function fr(m,k,M,B,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),B(M)}catch{}}function jb(){this.g=new xe}function Vi(m,k,M){const B=M||"";try{bo(m,function(ce,he){let Oe=ce;u(ce)&&(Oe=ei(ce)),k.push(B+he+"="+encodeURIComponent(Oe))})}catch(ce){throw k.push(B+"type="+encodeURIComponent("_badmap")),ce}}function Ao(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Ao,We),Ao.prototype.g=function(){return new Bl(this.l,this.j)},Ao.prototype.i=function(m){return function(){return m}}({});function Bl(m,k){Wt.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Bl,Wt),t=Bl.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,Ps(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||o).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ps(this)),this.g&&(this.readyState=3,Ps(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?pa(this):Ps(this),this.readyState==3&&bu(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,pa(this))},t.Qa=function(m){this.g&&(this.response=m,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ps(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var M=k.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=k.next();return m.join(`\r
`)};function Ps(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function eh(m){let k="";return P(m,function(M,B){k+=B,k+=":",k+=M,k+=`\r
`}),k}function th(m,k,M){e:{for(B in M){var B=!1;break e}B=!0}B||(M=eh(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):$t(m,k,M))}function zt(m){Wt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(zt,Wt);var Ab=/^https?$/i,Pb=["POST","PUT"];t=zt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,M,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?fn(this.o):fn(Fi),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(he){Ul(this,he);return}if(m=M||"",M=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ce in B)M.set(ce,B[ce]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const he of B.keys())M.set(he,B.get(he));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(M.keys()).find(he=>he.toLowerCase()=="content-type"),ce=o.FormData&&m instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Pb,k,void 0))||B||ce||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Oe]of M)this.g.setRequestHeader(he,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xg(this),this.u=!0,this.g.send(m),this.u=!1}catch(he){Ul(this,he)}};function Ul(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,Wl(m),_u(m)}function Wl(m){m.A||(m.A=!0,Jt(m,"complete"),Jt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Jt(this,"complete"),Jt(this,"abort"),_u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_u(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},t.bb=function(){wu(this)};function wu(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ma(m)!=4||m.Z()!=2)){if(m.u&&ma(m)==4)Fa(m.Ea,0,m);else if(Jt(m,"readystatechange"),ma(m)==4){m.h=!1;try{const Oe=m.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var M;if(!(M=k)){var B;if(B=Oe===0){var ce=String(m.D).match(wo)[1]||null;!ce&&o.self&&o.self.location&&(ce=o.self.location.protocol.slice(0,-1)),B=!Ab.test(ce?ce.toLowerCase():"")}M=B}if(M)Jt(m,"complete"),Jt(m,"success");else{m.m=6;try{var he=2<ma(m)?m.g.statusText:""}catch{he=""}m.l=he+" ["+m.Z()+"]",Wl(m)}}finally{_u(m)}}}}function _u(m,k){if(m.g){xg(m);const M=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||Jt(m,"ready");try{M.onreadystatechange=B}catch{}}}function xg(m){m.I&&(o.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ma(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ma(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),Fe(k)}};function Su(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function nh(m){const k={};m=(m.g&&2<=ma(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(_(m[B]))continue;var M=R(m[B]);const ce=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const he=k[ce]||[];k[ce]=he,he.push(M)}j(k,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(m,k,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||k}function Kl(m){this.Aa=0,this.i=[],this.j=new Kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,m),this.cb=Po("retryDelaySeedMs",1e4,m),this.Wa=Po("forwardChannelMaxRetries",2,m),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Hf(m&&m.concurrentRequestLimit),this.Da=new jb,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kl.prototype,t.la=8,t.G=1,t.connect=function(m,k,M,B){hn(0),this.W=m,this.H=k||{},M&&B!==void 0&&(this.H.OSID=M,this.H.OAID=B),this.F=this.X,this.I=Tu(this,null,this.W),ju(this)};function Eo(m){if(rh(m),m.G==3){var k=m.U++,M=Si(m.I);if($t(M,"SID",m.K),$t(M,"RID",k),$t(M,"TYPE","terminate"),Ts(m,M),k=new Ba(m,m.j,k),k.L=2,k.v=Ka(Si(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(k.v.toString(),"")}catch{}!M&&o.Image&&(new Image().src=k.v,M=!0),M||(k.g=Ga(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ti(k)}Gl(m)}function Es(m){m.g&&(Cs(m),m.g.cancel(),m.g=null)}function rh(m){Es(m),m.u&&(o.clearTimeout(m.u),m.u=null),ql(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&o.clearTimeout(m.s),m.s=null)}function ju(m){if(!Ml(m.h)&&!m.s){m.s=!0;var k=m.Ga;K||oe(),V||(K(),V=!0),Y.add(k,m),m.B=0}}function To(m,k){return Gf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Et(h(m.Ga,m,k),ih(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ce=new Ba(this,this.j,m);let he=this.o;if(this.S&&(he?(he=A(he),D(he,this.S)):he=this.S),this.m!==null||this.O||(ce.H=he,he=null),this.P)e:{for(var k=0,M=0;M<this.i.length;M++){t:{var B=this.i[M];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(k+=B,4096<k){k=M;break e}if(k===4096||M===this.i.length-1){k=M+1;break e}}k=1e3}else k=1e3;k=Pu(this,ce,k),M=Si(this.I),$t(M,"RID",m),$t(M,"CVER",22),this.D&&$t(M,"X-HTTP-Session-Id",this.D),Ts(this,M),he&&(this.O?k="headers="+encodeURIComponent(String(eh(he)))+"&"+k:this.m&&th(M,this.m,he)),xu(this.h,ce),this.Ua&&$t(M,"TYPE","init"),this.P?($t(M,"$req",k),$t(M,"SID","null"),ce.T=!0,yu(ce,M,null)):yu(ce,M,k),this.G=2}}else this.G==3&&(m?Au(this,m):this.i.length==0||Ml(this.h)||Au(this))};function Au(m,k){var M;k?M=k.l:M=m.U++;const B=Si(m.I);$t(B,"SID",m.K),$t(B,"RID",M),$t(B,"AID",m.T),Ts(m,B),m.m&&m.o&&th(B,m.m,m.o),M=new Ba(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),k&&(m.i=k.D.concat(m.i)),k=Pu(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),xu(m.h,M),yu(M,B,k)}function Ts(m,k){m.H&&P(m.H,function(M,B){$t(k,B,M)}),m.l&&bo({},function(M,B){$t(k,B,M)})}function Pu(m,k,M){M=Math.min(m.i.length,M);var B=m.l?h(m.l.Na,m.l,m):null;e:{var ce=m.i;let he=-1;for(;;){const Oe=["count="+M];he==-1?0<M?(he=ce[0].g,Oe.push("ofs="+he)):he=0:Oe.push("ofs="+he);let Ot=!0;for(let Dn=0;Dn<M;Dn++){let vt=ce[Dn].g;const nr=ce[Dn].map;if(vt-=he,0>vt)he=Math.max(0,ce[Dn].g-100),Ot=!1;else try{Vi(nr,Oe,"req"+vt+"_")}catch{B&&B(nr)}}if(Ot){B=Oe.join("&");break e}}}return m=m.i.splice(0,M),k.D=m,B}function Eu(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;K||oe(),V||(K(),V=!0),Y.add(k,m),m.v=0}}function In(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Et(h(m.Fa,m),ih(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Et(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Es(this),Co(this))};function Cs(m){m.A!=null&&(o.clearTimeout(m.A),m.A=null)}function Co(m){m.g=new Ba(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=Si(m.qa);$t(k,"RID","rpc"),$t(k,"SID",m.K),$t(k,"AID",m.T),$t(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&$t(k,"TO",m.ja),$t(k,"TYPE","xmlhttp"),Ts(m,k),m.m&&m.o&&th(k,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=Ka(Si(k)),M.m=null,M.P=!0,vu(M,m)}t.Za=function(){this.C!=null&&(this.C=null,Es(this),In(this),hn(19))};function ql(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function Hl(m,k){var M=null;if(m.g==k){ql(m),Cs(m),m.g=null;var B=2}else if(ht(m.h,k))M=k.D,Yf(m.h,k),B=1;else return;if(m.G!=0){if(k.o)if(B==1){M=k.m?k.m.length:0,k=Date.now()-k.F;var ce=m.B;B=Va(),Jt(B,new bs(B,M)),ju(m)}else Eu(m);else if(ce=k.s,ce==3||ce==0&&0<k.X||!(B==1&&To(m,k)||B==2&&In(m)))switch(M&&0<M.length&&(k=m.h,k.i=k.i.concat(M)),ce){case 1:Ha(m,5);break;case 4:Ha(m,10);break;case 3:Ha(m,6);break;default:Ha(m,2)}}}function ih(m,k){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*k}function Ha(m,k){if(m.j.info("Error code "+k),k==2){var M=h(m.fb,m),B=m.Xa;const ce=!B;B=new ha(B||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||As(B,"https"),Ka(B),ce?Vl(B.toString(),M):Zf(B.toString(),M)}else hn(2);m.G=0,m.l&&m.l.sa(k),Gl(m),rh(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Gl(m){if(m.G=0,m.ka=[],m.l){const k=Rl(m.h);(k.length!=0||m.i.length!=0)&&(b(m.ka,k),b(m.ka,m.i),m.h.i.length=0,y(m.i),m.i.length=0),m.l.ra()}}function Tu(m,k,M){var B=M instanceof ha?Si(M):new ha(M);if(B.g!="")k&&(B.g=k+"."+B.g),Ll(B,B.s);else{var ce=o.location;B=ce.protocol,k=k?k+"."+ce.hostname:ce.hostname,ce=+ce.port;var he=new ha(null);B&&As(he,B),k&&(he.g=k),ce&&Ll(he,ce),M&&(he.l=M),B=he}return M=m.D,k=m.ya,M&&k&&$t(B,M,k),$t(B,"VER",m.la),Ts(m,B),B}function Ga(m,k,M){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new zt(new Ao({eb:M})):new zt(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}t=Cu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ko(){}ko.prototype.g=function(m,k){return new tr(m,k)};function tr(m,k){Wt.call(this),this.g=new Kl(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!_(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!_(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new No(this)}v(tr,Wt),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){Eo(this.g)},tr.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=ei(m),m=M);k.i.push(new js(k.Ya++,m)),k.G==3&&ju(k)},tr.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,tr.aa.N.call(this)};function ku(m){Nn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const M in k){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}v(ku,Nn);function ah(){gt.call(this),this.status=1}v(ah,gt);function No(m){this.g=m}v(No,Cu),No.prototype.ua=function(){Jt(this.g,"a")},No.prototype.ta=function(m){Jt(this.g,new ku(m))},No.prototype.sa=function(m){Jt(this.g,new ah)},No.prototype.ra=function(){Jt(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,M5=function(){return new ko},D5=function(){return Va()},I5=On,f_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Py=_i,ws.COMPLETE="complete",O5=ws,ke.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Ih=ke,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,N5=zt}).apply(typeof Vg<"u"?Vg:typeof self<"u"?self:typeof window<"u"?window:{});const iC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new jj("@firebase/firestore");function mh(){return $c.logLevel}function Ve(t,...e){if($c.logLevel<=xt.DEBUG){const n=e.map(kj);$c.debug(`Firestore (${jf}): ${t}`,...n)}}function eo(t,...e){if($c.logLevel<=xt.ERROR){const n=e.map(kj);$c.error(`Firestore (${jf}): ${t}`,...n)}}function Mp(t,...e){if($c.logLevel<=xt.WARN){const n=e.map(kj);$c.warn(`Firestore (${jf}): ${t}`,...n)}}function kj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: `+t;throw eo(e),new Error(e)}function Rt(t,e){t||et()}function st(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends uo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ai.UNAUTHENTICATED))}shutdown(){}}class WW{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ul,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ul)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string"),new BW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new ai(e)}}class KW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Rt(this.o===void 0);const r=a=>{a.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new HW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function Dd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.timestamp=e}static fromTimestamp(e){return new at(e)}static min(){return new at(new Qn(0,0))}static max(){return new at(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(),r===void 0?r=e.length-n:r>e.length-n&&et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends Rp{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const XW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Rp{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return XW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Le(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Le(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Le(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(nn.fromString(e))}static fromName(e){return new Ke(nn.fromString(e).popFirst(5))}static empty(){return new Ke(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new nn(e.slice()))}}function QW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new Qn(n+1,0):new Qn(n,r));return new ml(i,Ke.empty(),e)}function JW(t){return new ml(t.readTime,t.key,-1)}class ml{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ml(at.min(),Ke.empty(),-1)}static max(){return new ml(at.max(),Ke.empty(),-1)}}function ZW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==eK)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):we.reject(n)}static resolve(e){return new we((n,r)=>{n(e)})}static reject(e){return new we((n,r)=>{r(e)})}static waitFor(e){return new we((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},c=>r(c))}),s=!0,a===i&&n()})}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next(i=>i?we.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new we((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++o,o===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new we((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function nK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nj.oe=-1;function J0(t){return t==null}function uv(t){return t===0&&1/t==-1/0}function rK(t){return typeof t=="number"&&Number.isInteger(t)&&!uv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new yn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bg(this.root,e,this.comparator,!0)}}class Bg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yr.RED,this.left=i??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,n,r,i,a){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sC(this.data.getIterator())}getIteratorFrom(e){return new sC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wr(this.comparator);return n.data=e,n}}class sC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new ki([])}unionWith(e){let n=new wr(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $5("Invalid base64 string: "+a):a}}(e);return new Sr(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const iK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(t){if(Rt(!!t),typeof t=="string"){let e=0;const n=iK.exec(t);if(Rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zc(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ij(t){const e=t.mapValue.fields.__previous_value__;return Oj(e)?Ij(e):e}function Lp(t){const e=gl(t.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,n,r,i,a,s,o,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u}}class $p{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $p("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $p&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={mapValue:{}};function Fc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oj(t)?4:oK(t)?9007199254740991:sK(t)?10:11:et()}function hs(t,e){if(t===e)return!0;const n=Fc(t);if(n!==Fc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lp(t).isEqual(Lp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=gl(i.timestampValue),o=gl(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return zc(i.bytesValue).isEqual(zc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return En(i.geoPointValue.latitude)===En(a.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return En(i.integerValue)===En(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=En(i.doubleValue),o=En(a.doubleValue);return s===o?uv(s)===uv(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Dd(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(aC(s)!==aC(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!hs(s[c],o[c])))return!1;return!0}(t,e);default:return et()}}function zp(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function Md(t,e){if(t===e)return 0;const n=Fc(t),r=Fc(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=En(a.integerValue||a.doubleValue),c=En(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return oC(t.timestampValue,e.timestampValue);case 4:return oC(Lp(t),Lp(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(a,s){const o=zc(a),c=zc(s);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Tt(o[u],c[u]);if(d!==0)return d}return Tt(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Tt(En(a.latitude),En(s.latitude));return o!==0?o:Tt(En(a.longitude),En(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lC(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,c,u,d;const f=a.fields||{},h=s.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,v=(c=h.value)===null||c===void 0?void 0:c.arrayValue,y=Tt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:lC(p,v)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Ug.mapValue&&s===Ug.mapValue)return 0;if(a===Ug.mapValue)return 1;if(s===Ug.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Tt(c[f],d[f]);if(h!==0)return h;const p=Md(o[c[f]],u[d[f]]);if(p!==0)return p}return Tt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw et()}}function oC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=gl(t),r=gl(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function lC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Md(n[i],r[i]);if(a)return a}return Tt(n.length,r.length)}function Rd(t){return h_(t)}function h_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=h_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${h_(n.fields[s])}`;return i+"}"}(t.mapValue):et()}function cC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p_(t){return!!t&&"integerValue"in t}function Dj(t){return!!t&&"arrayValue"in t}function uC(t){return!!t&&"nullValue"in t}function dC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ey(t){return!!t&&"mapValue"in t}function sK(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return iu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ey(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qh(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Qh(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ey(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ey(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){iu(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new oi(Qh(this.value))}}function z5(t){const e=[];return iu(t.fields,(n,r)=>{const i=new vr([n]);if(Ey(r)){const a=z5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ki(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Or(e,0,at.min(),at.min(),at.min(),oi.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,at.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,at.min(),at.min(),oi.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,at.min(),at.min(),oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.position=e,this.inclusive=n}}function fC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Ke.comparator(Ke.fromName(s.referenceValue),n.key):r=Md(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function hC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n="asc"){this.field=e,this.dir=n}}function lK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{}class $n extends F5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uK(e,n,r):n==="array-contains"?new hK(e,r):n==="in"?new pK(e,r):n==="not-in"?new mK(e,r):n==="array-contains-any"?new gK(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dK(e,r):new fK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Md(n,this.value)):n!==null&&Fc(this.value)===Fc(n)&&this.matchesComparison(Md(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends F5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Na(e,n)}matches(e){return V5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function V5(t){return t.op==="and"}function B5(t){return cK(t)&&V5(t)}function cK(t){for(const e of t.filters)if(e instanceof Na)return!1;return!0}function m_(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+Rd(t.value);if(B5(t))return t.filters.map(e=>m_(e)).join(",");{const e=t.filters.map(n=>m_(n)).join(",");return`${t.op}(${e})`}}function U5(t,e){return t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&hs(r.value,i.value)}(t,e):t instanceof Na?function(r,i){return i instanceof Na&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&U5(s,i.filters[o]),!0):!1}(t,e):void et()}function W5(t){return t instanceof $n?function(n){return`${n.field.canonicalString()} ${n.op} ${Rd(n.value)}`}(t):t instanceof Na?function(n){return n.op.toString()+" {"+n.getFilters().map(W5).join(" ,")+"}"}(t):"Filter"}class uK extends $n{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class dK extends $n{constructor(e,n){super(e,"in",n),this.keys=K5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fK extends $n{constructor(e,n){super(e,"not-in",n),this.keys=K5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class hK extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dj(n)&&zp(n.arrayValue,this.value)}}class pK extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zp(this.value.arrayValue,n)}}class mK extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zp(this.value.arrayValue,n)}}class gK extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dj(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function pC(t,e=null,n=[],r=[],i=null,a=null,s=null){return new yK(t,e,n,r,i,a,s)}function Mj(t){const e=st(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),J0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rd(r)).join(",")),e.ue=n}return e.ue}function Rj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hC(t.startAt,e.startAt)&&hC(t.endAt,e.endAt)}function g_(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vK(t,e,n,r,i,a,s,o){return new Vm(t,e,n,r,i,a,s,o)}function Z0(t){return new Vm(t)}function mC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q5(t){return t.collectionGroup!==null}function Jh(t){const e=st(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new wr(vr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new fv(a,r))}),n.has(vr.keyField().canonicalString())||e.ce.push(new fv(vr.keyField(),r))}return e.ce}function ss(t){const e=st(t);return e.le||(e.le=xK(e,Jh(t))),e.le}function xK(t,e){if(t.limitType==="F")return pC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new fv(i.field,a)});const n=t.endAt?new dv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dv(t.startAt.position,t.startAt.inclusive):null;return pC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y_(t,e){const n=t.filters.concat([e]);return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v_(t,e,n){return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ex(t,e){return Rj(ss(t),ss(e))&&t.limitType===e.limitType}function H5(t){return`${Mj(ss(t))}|lt:${t.limitType}`}function Fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>W5(i)).join(", ")}]`),J0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rd(i)).join(",")),`Target(${r})`}(ss(t))}; limitType=${t.limitType})`}function tx(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Jh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,c){const u=fC(s,o,c);return s.inclusive?u<=0:u<0}(r.startAt,Jh(r),i)||r.endAt&&!function(s,o,c){const u=fC(s,o,c);return s.inclusive?u>=0:u>0}(r.endAt,Jh(r),i))}(t,e)}function bK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G5(t){return(e,n)=>{let r=!1;for(const i of Jh(t)){const a=wK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function wK(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?Md(c,u):et()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return L5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=new yn(Ke.comparator);function to(){return _K}const Y5=new yn(Ke.comparator);function Dh(...t){let e=Y5;for(const n of t)e=e.insert(n.key,n);return e}function X5(t){let e=Y5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gc(){return Zh()}function Q5(){return Zh()}function Zh(){return new Af(t=>t.toString(),(t,e)=>t.isEqual(e))}const SK=new yn(Ke.comparator),jK=new wr(Ke.comparator);function yt(...t){let e=jK;for(const n of t)e=e.add(n);return e}const AK=new wr(Tt);function PK(){return AK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uv(e)?"-0":e}}function J5(t){return{integerValue:""+t}}function EK(t,e){return rK(e)?J5(e):Lj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this._=void 0}}function TK(t,e,n){return t instanceof hv?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Oj(a)&&(a=Ij(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof Fp?e3(t,e):t instanceof Vp?t3(t,e):function(i,a){const s=Z5(i,a),o=gC(s)+gC(i.Pe);return p_(s)&&p_(i.Pe)?J5(o):Lj(i.serializer,o)}(t,e)}function CK(t,e,n){return t instanceof Fp?e3(t,e):t instanceof Vp?t3(t,e):n}function Z5(t,e){return t instanceof pv?function(r){return p_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class hv extends nx{}class Fp extends nx{constructor(e){super(),this.elements=e}}function e3(t,e){const n=n3(e);for(const r of t.elements)n.some(i=>hs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vp extends nx{constructor(e){super(),this.elements=e}}function t3(t,e){let n=n3(e);for(const r of t.elements)n=n.filter(i=>!hs(i,r));return{arrayValue:{values:n}}}class pv extends nx{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gC(t){return En(t.integerValue||t.doubleValue)}function n3(t){return Dj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fp&&i instanceof Fp||r instanceof Vp&&i instanceof Vp?Dd(r.elements,i.elements,hs):r instanceof pv&&i instanceof pv?hs(r.Pe,i.Pe):r instanceof hv&&i instanceof hv}(t.transform,e.transform)}class NK{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ty(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rx{}function r3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ix(t.key,Hr.none()):new Bm(t.key,t.data,Hr.none());{const n=t.data,r=oi.empty();let i=new wr(vr.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new _l(t.key,r,new ki(i.toArray()),Hr.none())}}function OK(t,e,n){t instanceof Bm?function(i,a,s){const o=i.value.clone(),c=vC(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof _l?function(i,a,s){if(!Ty(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=vC(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(i3(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ep(t,e,n,r){return t instanceof Bm?function(a,s,o,c){if(!Ty(a.precondition,s))return o;const u=a.value.clone(),d=xC(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _l?function(a,s,o,c){if(!Ty(a.precondition,s))return o;const u=xC(a.fieldTransforms,c,s),d=s.data;return d.setAll(i3(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return Ty(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function IK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Z5(r.transform,i||null);a!=null&&(n===null&&(n=oi.empty()),n.set(r.field,a))}return n||null}function yC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dd(r,i,(a,s)=>kK(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bm extends rx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends rx{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function i3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vC(t,e,n){const r=new Map;Rt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,CK(s,o,n[i]))}return r}function xC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,TK(a,s,e))}return r}class ix extends rx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DK extends rx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&OK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ep(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ep(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q5();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const c=r3(s,o);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&Dd(this.mutations,e.mutations,(n,r)=>yC(n,r))&&Dd(this.baseMutations,e.baseMutations,(n,r)=>yC(n,r))}}class $j{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length);let i=function(){return SK}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new $j(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,St;function $K(t){switch(t){default:return et();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function a3(t){if(t===void 0)return eo("GRPC error has no .code"),be.UNKNOWN;switch(t){case Mn.OK:return be.OK;case Mn.CANCELLED:return be.CANCELLED;case Mn.UNKNOWN:return be.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return be.INTERNAL;case Mn.UNAVAILABLE:return be.UNAVAILABLE;case Mn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Mn.NOT_FOUND:return be.NOT_FOUND;case Mn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Mn.ABORTED:return be.ABORTED;case Mn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Mn.DATA_LOSS:return be.DATA_LOSS;default:return et()}}(St=Mn||(Mn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=new Ec([4294967295,4294967295],0);function bC(t){const e=zK().encode(t),n=new k5;return n.update(e),new Uint8Array(n.digest())}function wC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ec([n,r],0),new Ec([i,a],0)]}class zj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mh(`Invalid padding: ${n}`);if(r<0)throw new Mh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ec.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ec.fromNumber(r)));return i.compare(FK)===1&&(i=new Ec([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=bC(e),[r,i]=wC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new zj(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=bC(e),[r,i]=wC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Um.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ax(at.min(),i,new yn(Tt),to(),yt())}}class Um{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Um(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class s3{constructor(e,n){this.targetId=e,this.me=n}}class o3{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _C{constructor(){this.fe=0,this.ge=jC(),this.pe=Sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=yt(),n=yt(),r=yt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}}),new Um(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VK{constructor(e){this.Le=e,this.Be=new Map,this.ke=to(),this.qe=SC(),this.Qe=new yn(Tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(g_(a))if(r===0){const s=new Ke(a.path);this.Ue(n,s,Or.newNoDocument(s,at.min()))}else Rt(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),c=o?this.Xe(o,e,s):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=zc(r).toUint8Array()}catch(c){if(c instanceof $5)return Mp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new zj(s,i,a)}catch(c){return Mp(c instanceof Mh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&g_(o.target)){const c=new Ke(o.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Or.newNoDocument(c,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=yt();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new ax(e,n,this.Qe,this.ke,r);return this.ke=to(),this.qe=SC(),this.Qe=new yn(Tt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _C,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wr(Tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _C),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function SC(){return new yn(Ke.comparator)}function jC(){return new yn(Ke.comparator)}const BK={asc:"ASCENDING",desc:"DESCENDING"},UK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WK={and:"AND",or:"OR"};class KK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x_(t,e){return t.useProto3Json||J0(e)?e:{value:e}}function mv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qK(t,e){return mv(t,e.toTimestamp())}function os(t){return Rt(!!t),at.fromTimestamp(function(n){const r=gl(n);return new Qn(r.seconds,r.nanos)}(t))}function Fj(t,e){return b_(t,e).canonicalString()}function b_(t,e){const n=function(i){return new nn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c3(t){const e=nn.fromString(t);return Rt(p3(e)),e}function w_(t,e){return Fj(t.databaseId,e.path)}function c1(t,e){const n=c3(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(d3(n))}function u3(t,e){return Fj(t.databaseId,e)}function HK(t){const e=c3(t);return e.length===4?nn.emptyPath():d3(e)}function __(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d3(t){return Rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AC(t,e,n){return{name:w_(t,e),fields:n.value.mapValue.fields}}function GK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Rt(d===void 0||typeof d=="string"),Sr.fromBase64String(d||"")):(Rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?be.UNKNOWN:a3(u.code);return new Le(d,u.message||"")}(s);n=new o3(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=c1(t,r.document.name),a=os(r.document.updateTime),s=r.document.createTime?os(r.document.createTime):at.min(),o=new oi({mapValue:{fields:r.document.fields}}),c=Or.newFoundDocument(i,a,s,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Cy(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=c1(t,r.document),a=r.readTime?os(r.readTime):at.min(),s=Or.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Cy([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=c1(t,r.document),a=r.removedTargetIds||[];n=new Cy([],a,i,null)}else{if(!("filter"in e))return et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new LK(i,a),o=r.targetId;n=new s3(o,s)}}return n}function YK(t,e){let n;if(e instanceof Bm)n={update:AC(t,e.key,e.value)};else if(e instanceof ix)n={delete:w_(t,e.key)};else if(e instanceof _l)n={update:AC(t,e.key,e.data),updateMask:iq(e.fieldMask)};else{if(!(e instanceof DK))return et();n={verify:w_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof hv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pv)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw et()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:qK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:et()}(t,e.precondition)),n}function XK(t,e){return t&&t.length>0?(Rt(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?os(i.updateTime):os(a);return s.isEqual(at.min())&&(s=os(a)),new NK(s,i.transformResults||[])}(n,e))):[]}function QK(t,e){return{documents:[u3(t,e.path)]}}function JK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u3(t,i);const a=function(u){if(u.length!==0)return h3(Na.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Vu(h.field),direction:tq(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=x_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function ZK(t){let e=HK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(f){const h=f3(f);return h instanceof Na&&B5(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new fv(Bu(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,J0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new dv(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new dv(p,h)}(n.endAt)),vK(e,i,s,a,o,"F",c,u)}function eq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bu(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bu(n.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bu(n.unaryFilter.field);return $n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bu(n.unaryFilter.field);return $n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(t):t.fieldFilter!==void 0?function(n){return $n.create(Bu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Na.create(n.compositeFilter.filters.map(r=>f3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et()}}(n.compositeFilter.op))}(t):et()}function tq(t){return BK[t]}function nq(t){return UK[t]}function rq(t){return WK[t]}function Vu(t){return{fieldPath:t.canonicalString()}}function Bu(t){return vr.fromServerFormat(t.fieldPath)}function h3(t){return t instanceof $n?function(n){if(n.op==="=="){if(dC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NAN"}};if(uC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NAN"}};if(uC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(n.field),op:nq(n.op),value:n.value}}}(t):t instanceof Na?function(n){const r=n.getFilters().map(i=>h3(i));return r.length===1?r[0]:{compositeFilter:{op:rq(n.op),filters:r}}}(t):et()}function iq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,i,a=at.min(),s=at.min(),o=Sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.ct=e}}function sq(t){const e=ZK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.un=new lq}addToCollectionParentIndex(e,n){return this.un.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(ml.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(ml.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class lq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wr(nn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ld(0)}static kn(){return new Ld(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.changes=new Af(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ep(r.mutation,i,ki.empty(),Qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){const i=gc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Dh();return a.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=gc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=to();const s=Zh(),o=function(){return Zh()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof _l)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),ep(d.mutation,u,d.mutation.getFieldMask(),Qn.now())):s.set(u.key,ki.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return o.set(u,new uq(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Zh();let i=new yn((s,o)=>s-o),a=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ki.empty();d=o.applyToLocalView(u,d),r.set(c,d);const f=(i.get(o.batchId)||yt()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,f=Q5();d.forEach(h=>{if(!a.has(h)){const p=r3(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return we.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ke.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):we.resolve(gc());let o=-1,c=a;return s.next(u=>we.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(d)?we.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,yt())).next(d=>({batchId:o,changes:X5(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=Dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Dh();return this.indexManager.getCollectionParents(e,a).next(o=>we.forEach(o,c=>{const u=function(f,h){return new Vm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Or.newInvalidDocument(d)))});let o=Dh();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&ep(d.mutation,u,ki.empty(),Qn.now()),tx(n,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return we.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:os(i.createTime)}}(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sq(i.bundledQuery),readTime:os(i.readTime)}}(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(){this.overlays=new yn(Ke.comparator),this.Ir=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gc();return we.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=gc(),a=n.length+1,s=new Ke(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new yn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=gc(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=gc(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return we.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RK(n,r));let a=this.Ir.get(n);a===void 0&&(a=yt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.Tr=new wr(rr.Er),this.dr=new wr(rr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ke(new nn([])),r=new rr(n,e),i=new rr(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ke(new nn([])),r=new rr(n,e),i=new rr(n,e+1);let a=yt();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new rr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ke.comparator(e.key,n.key)||Tt(e.wr,n.wr)}static Ar(e,n){return Tt(e.wr,n.wr)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wr(rr.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MK(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new rr(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return we.resolve(s)}lookupMutationBatch(e,n){return we.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rr(n,0),i=new rr(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wr(Tt);return n.forEach(i=>{const a=new rr(i,0),s=new rr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),we.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ke.isDocumentKey(a)||(a=a.child(""));const s=new rr(new Ke(a),0);let o=new wr(Tt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.wr)),!0)},s),we.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return we.forEach(n.mutations,i=>{const a=new rr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rr(n,0),i=this.br.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.Mr=e,this.docs=function(){return new yn(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=to();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Or.newInvalidDocument(i))}),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=to();const s=n.path,o=new Ke(s.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||ZW(JW(d),r)<=0||(i.has(d.key)||tx(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,n,r,i){et()}Or(e,n){return we.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yq(this)}getSize(e){return we.resolve(this.size)}}class yq extends cq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),we.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.persistence=e,this.Nr=new Af(n=>Mj(n),Rj),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vj,this.targetCount=0,this.kr=Ld.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),we.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ld(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Kn(n),we.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),we.waitFor(a).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),we.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nj(0),this.Kr=!1,this.Kr=!0,this.$r=new pq,this.referenceDelegate=e(this),this.Ur=new vq(this),this.indexManager=new oq,this.remoteDocumentCache=function(i){return new gq(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aq(n),this.Gr=new fq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new mq(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new bq(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return we.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class bq extends tK{constructor(e){super(),this.currentSequenceNumber=e}}class Bj{constructor(e){this.persistence=e,this.Jr=new Vj,this.Yr=null}static Zr(e){return new Bj(e)}get Xr(){if(this.Yr)return this.Yr;throw et()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),we.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,r=>{const i=Ke.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,at.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return we.or([()=>we.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=yt(),i=yt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Uj(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return pB()?8:nK(gi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new wq;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(mh()<=xt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(mh()<=xt.DEBUG&&Ve("QueryEngine","Query:",Fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(mh()<=xt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):we.resolve())}Yi(e,n){if(mC(n))return we.resolve(null);let r=ss(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=v_(n,null,"F"),r=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=yt(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,o);return this.ns(n,u,s,c.readTime)?this.Yi(e,v_(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return mC(n)||i.isEqual(at.min())?we.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?we.resolve(null):(mh()<=xt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fu(n)),this.rs(e,s,n,QW(i,-1)).next(o=>o))})}ts(e,n){let r=new wr(G5(e));return n.forEach((i,a)=>{tx(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return mh()<=xt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Fu(n)),this.Ji.getDocumentsMatchingQuery(e,n,ml.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new yn(Tt),this._s=new Af(a=>Mj(a),Rj),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jq(t,e,n,r){return new Sq(t,e,n,r)}async function m3(t,e){const n=st(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let c=yt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function Aq(t,e){const n=st(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const f=u.batch,h=f.keys();let p=we.resolve();return h.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(y=>{const b=u.docVersions.get(v);Rt(b!==null),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(c,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=yt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function g3(t){const e=st(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Pq(t,e){const n=st(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;o.push(n.Ur.removeMatchingKeys(a,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,d.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Sr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(y,b,x){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,d)&&o.push(n.Ur.updateTargetData(a,p))});let c=to(),u=yt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(Eq(a,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(at.min())){const d=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return we.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.os=i,a))}function Eq(t,e,n){let r=yt(),i=yt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=to();return n.forEach((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(at.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):Ve("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function Tq(t,e){const n=st(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cq(t,e){const n=st(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,we.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Qo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function S_(t,e,n){const r=st(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Fm(s))throw s;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function PC(t,e,n){const r=st(t);let i=at.min(),a=yt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=st(c),h=f._s.get(d);return h!==void 0?we.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,s,ss(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(c=>{a=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:at.min(),n?a:yt())).next(o=>(kq(r,bK(e),o),{documents:o,Ts:a})))}function kq(t,e,n){let r=t.us.get(e)||at.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class EC{constructor(){this.activeTargetIds=PK()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nq{constructor(){this.so=new EC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new EC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg=null;function u1(){return Wg===null?Wg=function(){return 268435456+Math.round(2147483648*Math.random())}():Wg++,"0x"+Wg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class Mq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=u1(),c=this.xo(n,r.toUriEncodedString());Ve("RestConnection",`Sending RPC '${n}' ${o}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(n,c,u,i).then(d=>(Ve("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw Mp("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=Iq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=u1();return new Promise((s,o)=>{const c=new N5;c.setWithCredentials(!0),c.listenOnce(O5.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Py.NO_ERROR:const d=c.getResponseJson();Ve(Tr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),s(d);break;case Py.TIMEOUT:Ve(Tr,`RPC '${e}' ${a} timed out`),o(new Le(be.DEADLINE_EXCEEDED,"Request time out"));break;case Py.HTTP_ERROR:const f=c.getStatus();if(Ve(Tr,`RPC '${e}' ${a} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(x)>=0?x:be.UNKNOWN}(p.status);o(new Le(v,p.message))}else o(new Le(be.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new Le(be.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ve(Tr,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);Ve(Tr,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=u1(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=M5(),o=D5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");Ve(Tr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);let h=!1,p=!1;const v=new Dq({Io:b=>{p?Ve(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(Ve(Tr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ve(Tr,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),y=(b,x,_)=>{b.listen(x,S=>{try{_(S)}catch(C){setTimeout(()=>{throw C},0)}})};return y(f,Ih.EventType.OPEN,()=>{p||(Ve(Tr,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),y(f,Ih.EventType.CLOSE,()=>{p||(p=!0,Ve(Tr,`RPC '${e}' stream ${i} transport closed`),v.So())}),y(f,Ih.EventType.ERROR,b=>{p||(p=!0,Mp(Tr,`RPC '${e}' stream ${i} transport errored:`,b),v.So(new Le(be.UNAVAILABLE,"The operation could not be completed")))}),y(f,Ih.EventType.MESSAGE,b=>{var x;if(!p){const _=b.data[0];Rt(!!_);const S=_,C=S.error||((x=S[0])===null||x===void 0?void 0:x.error);if(C){Ve(Tr,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let P=function(O){const D=Mn[O];if(D!==void 0)return a3(D)}(E),j=C.message;P===void 0&&(P=be.INTERNAL,j="Unknown error status: "+E+" with message "+C.message),p=!0,v.So(new Le(P,j)),f.close()}else Ve(Tr,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),y(o,I5.STAT_EVENT,b=>{b.stat===f_.PROXY?Ve(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===f_.NOPROXY&&Ve(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function d1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){return new KK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,i,a,s,o,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(eo(n.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Le(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rq extends v3{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=GK(this.serializer,e),r=function(a){if(!("targetChange"in a))return at.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?at.min():s.readTime?os(s.readTime):at.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=__(this.serializer),n.addTarget=function(a,s){let o;const c=s.target;if(o=g_(c)?{documents:QK(a,c)}:{query:JK(a,c)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=l3(a,s.resumeToken);const u=x_(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(at.min())>0){o.readTime=mv(a,s.snapshotVersion.toTimestamp());const u=x_(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=eq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=__(this.serializer),n.removeTarget=e,this.a_(n)}}class Lq extends v3{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=XK(e.writeResults,e.commitTime),r=os(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=__(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YK(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,b_(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(be.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,b_(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(be.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(eo(n),this.D_=!1):Ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{au(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=st(c);u.L_.add(4),await Wm(u),u.q_.set("Unknown"),u.L_.delete(4),await ox(u)}(this))})}),this.q_=new zq(r,i)}}async function ox(t){if(au(t))for(const e of t.B_)await e(!0)}async function Wm(t){for(const e of t.B_)await e(!1)}function x3(t,e){const n=st(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hj(n)?qj(n):Pf(n).r_()&&Kj(n,e))}function Wj(t,e){const n=st(t),r=Pf(n);n.N_.delete(e),r.r_()&&b3(n,e),n.N_.size===0&&(r.r_()?r.o_():au(n)&&n.q_.set("Unknown"))}function Kj(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pf(t).A_(e)}function b3(t,e){t.Q_.xe(e),Pf(t).R_(e)}function qj(t){t.Q_=new VK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Pf(t).start(),t.q_.v_()}function Hj(t){return au(t)&&!Pf(t).n_()&&t.N_.size>0}function au(t){return st(t).L_.size===0}function w3(t){t.Q_=void 0}async function Vq(t){t.q_.set("Online")}async function Bq(t){t.N_.forEach((e,n)=>{Kj(t,e)})}async function Uq(t,e){w3(t),Hj(t)?(t.q_.M_(e),qj(t)):t.q_.set("Unknown")}async function Wq(t,e,n){if(t.q_.set("Online"),e instanceof o3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gv(t,r)}else if(e instanceof Cy?t.Q_.Ke(e):e instanceof s3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(at.min()))try{const r=await g3(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.N_.get(u);d&&a.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,u)=>{const d=a.N_.get(c);if(!d)return;a.N_.set(c,d.withResumeToken(Sr.EMPTY_BYTE_STRING,d.snapshotVersion)),b3(a,c);const f=new Qo(d.target,c,u,d.sequenceNumber);Kj(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),await gv(t,r)}}async function gv(t,e,n){if(!Fm(e))throw e;t.L_.add(1),await Wm(t),t.q_.set("Offline"),n||(n=()=>g3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ox(t)})}function _3(t,e){return e().catch(n=>gv(t,n,e))}async function lx(t){const e=st(t),n=yl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kq(e);)try{const i=await Tq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,qq(e,i)}catch(i){await gv(e,i)}S3(e)&&j3(e)}function Kq(t){return au(t)&&t.O_.length<10}function qq(t,e){t.O_.push(e);const n=yl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function S3(t){return au(t)&&!yl(t).n_()&&t.O_.length>0}function j3(t){yl(t).start()}async function Hq(t){yl(t).p_()}async function Gq(t){const e=yl(t);for(const n of t.O_)e.m_(n.mutations)}async function Yq(t,e,n){const r=t.O_.shift(),i=$j.from(r,e,n);await _3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lx(t)}async function Xq(t,e){e&&yl(t).V_&&await async function(r,i){if(function(s){return $K(s)&&s!==be.ABORTED}(i.code)){const a=r.O_.shift();yl(r).s_(),await _3(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await lx(r)}}(t,e),S3(t)&&j3(t)}async function CC(t,e){const n=st(t);n.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=au(n);n.L_.add(3),await Wm(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ox(n)}async function Qq(t,e){const n=st(t);e?(n.L_.delete(2),await ox(n)):e||(n.L_.add(2),await Wm(n),n.q_.set("Unknown"))}function Pf(t){return t.K_||(t.K_=function(n,r,i){const a=st(n);return a.w_(),new Rq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Vq.bind(null,t),Ro:Bq.bind(null,t),mo:Uq.bind(null,t),d_:Wq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hj(t)?qj(t):t.q_.set("Unknown")):(await t.K_.stop(),w3(t))})),t.K_}function yl(t){return t.U_||(t.U_=function(n,r,i){const a=st(n);return a.w_(),new Lq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Hq.bind(null,t),mo:Xq.bind(null,t),f_:Gq.bind(null,t),g_:Yq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lx(t)):(await t.U_.stop(),t.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Gj(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yj(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Fm(t))return new Le(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=Dh(),this.sortedSet=new yn(this.comparator)}static emptySet(e){return new bd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.W_=new yn(Ke.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):et():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $d{constructor(e,n,r,i,a,s,o,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new $d(e,n,bd.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ex(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Zq{constructor(){this.queries=NC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=st(n),a=i.queries;i.queries=NC(),a.forEach((s,o)=>{for(const c of o.j_)c.onError(r)})})(this,new Le(be.ABORTED,"Firestore shutting down"))}}function NC(){return new Af(t=>H5(t),ex)}async function A3(t,e){const n=st(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new Jq,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Yj(s,`Initialization of query '${Fu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Xj(n)}async function P3(t,e){const n=st(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eH(t,e){const n=st(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&Xj(n)}function tH(t,e,n){const r=st(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function Xj(t){t.Y_.forEach(e=>{e.next()})}var j_,OC;(OC=j_||(j_={})).ea="default",OC.Cache="cache";class E3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $d(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==j_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.key=e}}class C3{constructor(e){this.key=e}}class nH{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yt(),this.mutatedKeys=yt(),this.Aa=G5(e),this.Ra=new bd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new kC,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=tx(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),b=!0):this.ga(h,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(c||u)&&(o=!0)),b&&(p?(s=s.add(p),a=y?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,f)=>function(p,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return y(p)-y(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new $d(this.query,e.Ra,a,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=yt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new C3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new T3(r))}),n}ba(e){this.Ta=e.Ts,this.da=yt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $d.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iH{constructor(e){this.key=e,this.va=!1}}class aH{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Af(o=>H5(o),ex),this.Ma=new Map,this.xa=new Set,this.Oa=new yn(Ke.comparator),this.Na=new Map,this.La=new Vj,this.Ba={},this.ka=new Map,this.qa=Ld.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sH(t,e,n=!0){const r=M3(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await k3(r,e,n,!0),i}async function oH(t,e){const n=M3(t);await k3(n,e,!0,!1)}async function k3(t,e,n,r){const i=await Cq(t.localStore,ss(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await lH(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&x3(t.remoteStore,i),o}async function lH(t,e,n,r,i){t.Ka=(f,h,p)=>async function(y,b,x,_){let S=b.view.ma(x);S.ns&&(S=await PC(y.localStore,b.query,!1).then(({documents:j})=>b.view.ma(j,S)));const C=_&&_.targetChanges.get(b.targetId),E=_&&_.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(S,y.isPrimaryClient,C,E);return DC(y,b.targetId,P.wa),P.snapshot}(t,f,h,p);const a=await PC(t.localStore,e,!0),s=new nH(e,a.Ts),o=s.ma(a.documents),c=Um.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,c);DC(t,n,u.wa);const d=new rH(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function cH(t,e,n){const r=st(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!ex(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wj(r.remoteStore,i.targetId),A_(r,i.targetId)}).catch(zm)):(A_(r,i.targetId),await S_(r.localStore,i.targetId,!0))}async function uH(t,e){const n=st(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wj(n.remoteStore,r.targetId))}async function dH(t,e,n){const r=vH(t);try{const i=await function(s,o){const c=st(s),u=Qn.now(),d=o.reduce((p,v)=>p.add(v.key),yt());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=to(),y=yt();return c.cs.getEntries(p,d).next(b=>{v=b,v.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(b=>{f=b;const x=[];for(const _ of o){const S=IK(_,f.get(_.key).overlayedDocument);S!=null&&x.push(new _l(_.key,S,z5(S.value.mapValue),Hr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,o)}).next(b=>{h=b;const x=b.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(p,b.batchId,x)})}).then(()=>({batchId:h.batchId,changes:X5(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new yn(Tt)),u=u.insert(o,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Km(r,i.changes),await lx(r.remoteStore)}catch(i){const a=Yj(i,"Failed to persist write");n.reject(a)}}async function N3(t,e){const n=st(t);try{const r=await Pq(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Rt(s.va):i.removedDocuments.size>0&&(Rt(s.va),s.va=!1))}),await Km(n,r,e)}catch(r){await zm(r)}}function IC(t,e,n){const r=st(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const c=st(s);c.onlineState=o;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(o)&&(u=!0)}),u&&Xj(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fH(t,e,n){const r=st(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new yn(Ke.comparator);s=s.insert(a,Or.newNoDocument(a,at.min()));const o=yt().add(a),c=new ax(at.min(),new Map,new yn(Tt),s,o);await N3(r,c),r.Oa=r.Oa.remove(a),r.Na.delete(e),Qj(r)}else await S_(r.localStore,e,!1).then(()=>A_(r,e,n)).catch(zm)}async function hH(t,e){const n=st(t),r=e.batch.batchId;try{const i=await Aq(n.localStore,e);I3(n,r,null),O3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Km(n,i)}catch(i){await zm(i)}}async function pH(t,e,n){const r=st(t);try{const i=await function(s,o){const c=st(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(f=>(Rt(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);I3(r,e,n),O3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Km(r,i)}catch(i){await zm(i)}}function O3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function I3(t,e,n){const r=st(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function A_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||D3(t,r)})}function D3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Wj(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Qj(t))}function DC(t,e,n){for(const r of n)r instanceof T3?(t.La.addReference(r.key,e),mH(t,r)):r instanceof C3?(Ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||D3(t,r.key)):et()}function mH(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),Qj(t))}function Qj(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ke(nn.fromString(e)),r=t.qa.next();t.Na.set(r,new iH(n)),t.Oa=t.Oa.insert(n,r),x3(t.remoteStore,new Qo(ss(Z0(n.path)),r,"TargetPurposeLimboResolution",Nj.oe))}}async function Km(t,e,n){const r=st(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,c)=>{s.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Uj.Wi(c.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(c,u){const d=st(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>we.forEach(u,h=>we.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>we.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Fm(f))throw f;Ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,y)}}}(r.localStore,a))}async function gH(t,e){const n=st(t);if(!n.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=await m3(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(c=>{c.reject(new Le(be.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Km(n,r.hs)}}function yH(t,e){const n=st(t),r=n.Na.get(e);if(r&&r.va)return yt().add(r.key);{let i=yt();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function M3(t){const e=st(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fH.bind(null,e),e.Ca.d_=eH.bind(null,e.eventManager),e.Ca.$a=tH.bind(null,e.eventManager),e}function vH(t){const e=st(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pH.bind(null,e),e}class Bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jq(this.persistence,new _q,e.initialUser,this.serializer)}Ga(e){return new xq(Bj.Zr,this.serializer)}Wa(e){return new Nq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bp.provider={build:()=>new Bp};class yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gH.bind(null,this.syncEngine),await Qq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zq}()}createDatastore(e){const n=sx(e.databaseInfo.databaseId),r=function(a){return new Mq(a)}(e.databaseInfo);return function(a,s,o,c){return new $q(a,s,o,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Fq(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>IC(this.syncEngine,n,0),function(){return TC.D()?new TC:new Oq}())}createSyncEngine(e,n){return function(i,a,s,o,c,u,d){const f=new aH(i,a,s,o,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=st(i);Ve("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Wm(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=R5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yj(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function f1(t,e){t.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await m3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bH(t);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CC(e.remoteStore,i)),t._onlineComponents=e}async function bH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await f1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mp("Error using user provided cache. Falling back to memory cache: "+n),await f1(t,new Bp)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await f1(t,new Bp);return t._offlineComponents}async function L3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await MC(t,t._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await MC(t,new yv))),t._onlineComponents}function wH(t){return L3(t).then(e=>e.syncEngine)}async function P_(t){const e=await L3(t),n=e.eventManager;return n.onListen=sH.bind(null,e.syncEngine),n.onUnlisten=cH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uH.bind(null,e.syncEngine),n}function _H(t,e,n={}){const r=new ul;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new R3({next:h=>{d.Za(),s.enqueueAndForget(()=>P3(a,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new Le(be.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new Le(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new E3(Z0(o.path),d,{includeMetadataChanges:!0,_a:!0});return A3(a,f)}(await P_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e,n){if(!n)throw new Le(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SH(t,e,n,r){if(e===!0&&r===!0)throw new Le(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LC(t){if(!Ke.isDocumentKey(t))throw new Le(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $C(t){if(Ke.isDocumentKey(t))throw new Le(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cx(t);throw new Le(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Le(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Le(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Le(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jj{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UW;switch(r.type){case"firstParty":return new qW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RC.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),RC.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ef(this.firestore,e,this._query)}}class Dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class dl extends Ef{constructor(e,n,r){super(e,n,Z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Ke(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function qn(t,e,...n){if(t=lr(t),z3("collection","path",e),t instanceof Jj){const r=nn.fromString(e,...n);return $C(r),new dl(t,null,r)}{if(!(t instanceof Dr||t instanceof dl))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return $C(r),new dl(t.firestore,null,r)}}function sn(t,e,...n){if(t=lr(t),arguments.length===1&&(e=R5.newId()),z3("doc","path",e),t instanceof Jj){const r=nn.fromString(e,...n);return LC(r),new Dr(t,null,new Ke(r))}{if(!(t instanceof Dr||t instanceof dl))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return LC(r),new Dr(t.firestore,t instanceof dl?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y3(this,"async_queue_retry"),this.Vu=()=>{const r=d1();r&&Ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=d1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=d1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ul;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fm(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw eo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Gj.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function VC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class no extends Jj{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FC(e),this._firestoreClient=void 0,await e}}}function jH(t,e,n){n||(n="(default)");const r=l5(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Np(a,e))return i;throw new Le(be.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Le(be.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function ux(t){if(t._terminated)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AH(t),t._firestoreClient}function AH(t){var e,n,r;const i=t._freezeSettings(),a=function(o,c,u,d){return new aK(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$3(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xH(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zd(Sr.fromBase64String(e))}catch(n){throw new Le(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zd(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=/^__.*__$/;class EH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bm(e,this.data,n,this.fieldTransforms)}}class F3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class nA{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(V3(this.Cu)&&PH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sx(e)}Qu(e,n,r,i=!1){return new nA({Cu:e,methodName:n,qu:r,path:vr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hm(t){const e=t._freezeSettings(),n=sx(t._databaseId);return new TH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rA(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);iA("Data must be an object, but it was:",s,r);const o=W3(r,s);let c,u;if(a.merge)c=new ki(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=E_(e,f,n);if(!s.contains(h))throw new Le(be.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);q3(d,h)||d.push(h)}c=new ki(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new EH(new oi(o),c,u)}class dx extends Zj{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dx}}function B3(t,e,n,r){const i=t.Qu(1,e,n);iA("Data must be an object, but it was:",i,r);const a=[],s=oi.empty();iu(r,(c,u)=>{const d=aA(e,c,n);u=lr(u);const f=i.Nu(d);if(u instanceof dx)a.push(d);else{const h=Gm(u,f);h!=null&&(a.push(d),s.set(d,h))}});const o=new ki(a);return new F3(s,o,i.fieldTransforms)}function U3(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[E_(e,r,n)],c=[i];if(a.length%2!=0)throw new Le(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(E_(e,a[h])),c.push(a[h+1]);const u=[],d=oi.empty();for(let h=o.length-1;h>=0;--h)if(!q3(u,o[h])){const p=o[h];let v=c[h];v=lr(v);const y=s.Nu(p);if(v instanceof dx)u.push(p);else{const b=Gm(v,y);b!=null&&(u.push(p),d.set(p,b))}}const f=new ki(u);return new F3(d,f,s.fieldTransforms)}function CH(t,e,n,r=!1){return Gm(n,t.Qu(r?4:3,e))}function Gm(t,e){if(K3(t=lr(t)))return iA("Unsupported field value:",e,t),W3(t,e);if(t instanceof Zj)return function(r,i){if(!V3(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let c=Gm(o,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Qn.fromDate(r);return{timestampValue:mv(i.serializer,a)}}if(r instanceof Qn){const a=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mv(i.serializer,a)}}if(r instanceof eA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zd)return{bytesValue:l3(i.serializer,r._byteString)};if(r instanceof Dr){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tA)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Bu("VectorValues must only contain numeric values.");return Lj(o.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${cx(r)}`)}(t,e)}function W3(t,e){const n={};return L5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(t,(r,i)=>{const a=Gm(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function K3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qn||t instanceof eA||t instanceof zd||t instanceof Dr||t instanceof Zj||t instanceof tA)}function iA(t,e,n){if(!K3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function E_(t,e,n){if((e=lr(e))instanceof qm)return e._internalPath;if(typeof e=="string")return aA(t,e);throw vv("Field path arguments must be of type string or ",t,!1,void 0,n)}const kH=new RegExp("[~\\*/\\[\\]]");function aA(t,e,n){if(e.search(kH)>=0)throw vv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qm(...e.split("."))._internalPath}catch{throw vv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Le(be.INVALID_ARGUMENT,o+t+c)}function q3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NH extends H3{data(){return super.data()}}function sA(t,e){return typeof e=="string"?aA(t,e):e instanceof qm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oA{}class IH extends oA{}function DH(t,e,...n){let r=[];e instanceof oA&&r.push(e),r=r.concat(n),function(a){const s=a.filter(c=>c instanceof lA).length,o=a.filter(c=>c instanceof fx).length;if(s>1||s>0&&o>0)throw new Le(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fx extends IH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fx(e,n,r)}_apply(e){const n=this._parse(e);return G3(e._query,n),new Ef(e.firestore,e.converter,y_(e._query,n))}_parse(e){const n=Hm(e.firestore);return function(a,s,o,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Le(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){UC(f,d);const p=[];for(const v of f)p.push(BC(c,a,v));h={arrayValue:{values:p}}}else h=BC(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||UC(f,d),h=CH(o,s,f,d==="in"||d==="not-in");return $n.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MH(t,e,n){const r=e,i=sA("where",t);return fx._create(i,r,n)}class lA extends oA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Na.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)G3(s,c),s=y_(s,c)}(e._query,n),new Ef(e.firestore,e.converter,y_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BC(t,e,n){if(typeof(n=lr(n))=="string"){if(n==="")throw new Le(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q5(e)&&n.indexOf("/")!==-1)throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!Ke.isDocumentKey(r))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cC(t,new Ke(r))}if(n instanceof Dr)return cC(t,n._key);throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cx(n)}.`)}function UC(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G3(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Le(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RH{convertValue(e,n="none"){switch(Fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return iu(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>En(s.doubleValue));return new tA(a)}convertGeoPoint(e){return new eA(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ij(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lp(e));default:return null}}convertTimestamp(e){const n=gl(e);return new Qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);Rt(p3(r));const i=new $p(r.get(1),r.get(3)),a=new Ke(r.popFirst(5));return i.isEqual(n)||eo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Y3 extends H3{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ky extends Y3{data(e={}){return super.data(e)}}class LH{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ky(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const c=new ky(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Rh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new ky(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Rh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:$H(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $H(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){t=ea(t,Dr);const e=ea(t.firestore,no);return _H(ux(e),t._key).then(n=>Q3(e,t,n))}class X3 extends RH{constructor(e){super(),this.firestore=e}convertBytes(e){return new zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,n)}}function FH(t,e,n){t=ea(t,Dr);const r=ea(t.firestore,no),i=cA(t.converter,e,n);return Ym(r,[rA(Hm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hr.none())])}function Mo(t,e,n,...r){t=ea(t,Dr);const i=ea(t.firestore,no),a=Hm(i);let s;return s=typeof(e=lr(e))=="string"||e instanceof qm?U3(a,"updateDoc",t._key,e,n,r):B3(a,"updateDoc",t._key,e),Ym(i,[s.toMutation(t._key,Hr.exists(!0))])}function Ro(t){return Ym(ea(t.firestore,no),[new ix(t._key,Hr.none())])}function ri(t,e){const n=ea(t.firestore,no),r=sn(t),i=cA(t.converter,e);return Ym(n,[rA(Hm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function VH(t,...e){var n,r,i;t=lr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VC(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(VC(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Dr)u=ea(t.firestore,no),d=Z0(t._key.path),c={next:f=>{e[s]&&e[s](Q3(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=ea(t,Ef);u=ea(f.firestore,no),d=f._query;const h=new X3(u);c={next:p=>{e[s]&&e[s](new LH(u,h,f,p))},error:e[s+1],complete:e[s+2]},OH(t._query)}return function(h,p,v,y){const b=new R3(y),x=new E3(p,b,v);return h.asyncQueue.enqueueAndForget(async()=>A3(await P_(h),x)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>P3(await P_(h),x))}}(ux(u),d,o,c)}function Ym(t,e){return function(r,i){const a=new ul;return r.asyncQueue.enqueueAndForget(async()=>dH(await wH(r),i,a)),a.promise}(ux(t),e)}function Q3(t,e,n){const r=n.docs.get(e._key),i=new X3(t);return new Y3(t,i,e._key,r,new Rh(n.hasPendingWrites,n.fromCache),e.converter)}class BH{constructor(e){this.kind="memory",this._onlineComponentProvider=yv.provider,e!=null&&e.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=Bp.provider}toJSON(){return{kind:this.kind}}}function UH(t){return new BH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hm(e)}set(e,n,r){this._verifyNotCommitted();const i=h1(e,this._firestore),a=cA(i.converter,n,r),s=rA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Hr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=h1(e,this._firestore);let s;return s=typeof(n=lr(n))=="string"||n instanceof qm?U3(this._dataReader,"WriteBatch.update",a._key,n,r,i):B3(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=h1(e,this._firestore);return this._mutations=this._mutations.concat(new ix(n._key,Hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function h1(t,e){if((t=lr(t)).firestore!==e)throw new Le(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return ux(t=ea(t,no)),new WH(t,e=>Ym(t,e))}(function(e,n=!0){(function(i){jf=i})(X0),Od(new Lc("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new no(new WW(r.getProvider("auth-internal")),new GW(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $p(u.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),cl(iC,"4.7.3",e),cl(iC,"4.7.3","esm2017")})();const KH={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},J3=_U(KH),Fd=mW(J3,{persistence:IW}),ut=jH(J3,{localCache:UH()}),Z3=N.createContext({currentUser:null,isLoading:!0}),eL=()=>N.useContext(Z3),qH=({children:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState(!0);N.useEffect(()=>kW(Fd,o=>{n(o),setTimeout(()=>i(!1),200)}),[]);const a={currentUser:e,isLoading:r};return l.jsx(Z3.Provider,{value:a,children:t})};var tL={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Uu,function(){var n=function(g,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var L in I)Object.prototype.hasOwnProperty.call(I,L)&&(T[L]=I[L])})(g,w)},r=function(){return(r=Object.assign||function(g){for(var w,T=1,I=arguments.length;T<I;T++)for(var L in w=arguments[T])Object.prototype.hasOwnProperty.call(w,L)&&(g[L]=w[L]);return g}).apply(this,arguments)};function i(g,w,T){for(var I,L=0,F=w.length;L<F;L++)!I&&L in w||((I=I||Array.prototype.slice.call(w,0,L))[L]=w[L]);return g.concat(I||Array.prototype.slice.call(w))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Uu,s=Object.keys,o=Array.isArray;function c(g,w){return typeof w!="object"||s(w).forEach(function(T){g[T]=w[T]}),g}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var u=Object.getPrototypeOf,d={}.hasOwnProperty;function f(g,w){return d.call(g,w)}function h(g,w){typeof w=="function"&&(w=w(u(g))),(typeof Reflect>"u"?s:Reflect.ownKeys)(w).forEach(function(T){v(g,T,w[T])})}var p=Object.defineProperty;function v(g,w,T,I){p(g,w,c(T&&f(T,"get")&&typeof T.get=="function"?{get:T.get,set:T.set,configurable:!0}:{value:T,configurable:!0,writable:!0},I))}function y(g){return{from:function(w){return g.prototype=Object.create(w.prototype),v(g.prototype,"constructor",g),{extend:h.bind(null,g.prototype)}}}}var b=Object.getOwnPropertyDescriptor,x=[].slice;function _(g,w,T){return x.call(g,w,T)}function S(g,w){return w(g)}function C(g){if(!g)throw new Error("Assertion Failed")}function E(g){a.setImmediate?setImmediate(g):setTimeout(g,0)}function P(g,w){if(typeof w=="string"&&f(g,w))return g[w];if(!w)return g;if(typeof w!="string"){for(var T=[],I=0,L=w.length;I<L;++I){var F=P(g,w[I]);T.push(F)}return T}var W=w.indexOf(".");if(W!==-1){var H=g[w.substr(0,W)];return H==null?void 0:P(H,w.substr(W+1))}}function j(g,w,T){if(g&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof w!="string"&&"length"in w){C(typeof T!="string"&&"length"in T);for(var I=0,L=w.length;I<L;++I)j(g,w[I],T[I])}else{var F,W,H=w.indexOf(".");H!==-1?(F=w.substr(0,H),(W=w.substr(H+1))===""?T===void 0?o(g)&&!isNaN(parseInt(F))?g.splice(F,1):delete g[F]:g[F]=T:j(H=!(H=g[F])||!f(g,F)?g[F]={}:H,W,T)):T===void 0?o(g)&&!isNaN(parseInt(w))?g.splice(w,1):delete g[w]:g[w]=T}}function A(g){var w,T={};for(w in g)f(g,w)&&(T[w]=g[w]);return T}var O=[].concat;function D(g){return O.apply([],g)}var Wt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(w){return w+g+"Array"})}))).filter(function(g){return a[g]}),R=new Set(Wt.map(function(g){return a[g]})),$=null;function z(g){return $=new WeakMap,g=function w(T){if(!T||typeof T!="object")return T;var I=$.get(T);if(I)return I;if(o(T)){I=[],$.set(T,I);for(var L=0,F=T.length;L<F;++L)I.push(w(T[L]))}else if(R.has(T.constructor))I=T;else{var W,H=u(T);for(W in I=H===Object.prototype?{}:Object.create(H),$.set(T,I),T)f(T,W)&&(I[W]=w(T[W]))}return I}(g),$=null,g}var X={}.toString;function te(g){return X.call(g).slice(8,-1)}var U=typeof Symbol<"u"?Symbol.iterator:"@@iterator",K=typeof U=="symbol"?function(g){var w;return g!=null&&(w=g[U])&&w.apply(g)}:function(){return null};function V(g,w){return w=g.indexOf(w),0<=w&&g.splice(w,1),0<=w}var Y={};function oe(g){var w,T,I,L;if(arguments.length===1){if(o(g))return g.slice();if(this===Y&&typeof g=="string")return[g];if(L=K(g)){for(T=[];!(I=L.next()).done;)T.push(I.value);return T}if(g==null)return[g];if(typeof(w=g.length)!="number")return[g];for(T=new Array(w);w--;)T[w]=g[w];return T}for(w=arguments.length,T=new Array(w);w--;)T[w]=arguments[w];return T}var ue=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Bi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xi),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _e(g,w){this.name=g,this.message=w}function Ue(g,w){return g+". Errors: "+Object.keys(w).map(function(T){return w[T].toString()}).filter(function(T,I,L){return L.indexOf(T)===I}).join(`
`)}function He(g,w,T,I){this.failures=w,this.failedKeys=I,this.successCount=T,this.message=Ue(g,w)}function nt(g,w){this.name="BulkError",this.failures=Object.keys(w).map(function(T){return w[T]}),this.failuresByPos=w,this.message=Ue(g,this.failures)}y(_e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(He).from(_e),y(nt).from(_e);var bt=Bi.reduce(function(g,w){return g[w]=w+"Error",g},{}),Ut=_e,Z=Bi.reduce(function(g,w){var T=w+"Error";function I(L,F){this.name=T,L?typeof L=="string"?(this.message="".concat(L).concat(F?`
 `+F:""),this.inner=F||null):typeof L=="object"&&(this.message="".concat(L.name," ").concat(L.message),this.inner=L):(this.message=ye[w]||T,this.inner=null)}return y(I).from(Ut),g[w]=I,g},{});Z.Syntax=SyntaxError,Z.Type=TypeError,Z.Range=RangeError;var Pe=xi.reduce(function(g,w){return g[w+"Error"]=Z[w],g},{}),ve=Bi.reduce(function(g,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(g[w+"Error"]=Z[w]),g},{});function de(){}function ft(g){return g}function Ze(g,w){return g==null||g===ft?w:function(T){return w(g(T))}}function Ne(g,w){return function(){g.apply(this,arguments),w.apply(this,arguments)}}function Qe(g,w){return g===de?w:function(){var T=g.apply(this,arguments);T!==void 0&&(arguments[0]=T);var I=this.onsuccess,L=this.onerror;this.onsuccess=null,this.onerror=null;var F=w.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?Ne(I,this.onsuccess):I),L&&(this.onerror=this.onerror?Ne(L,this.onerror):L),F!==void 0?F:T}}function vn(g,w){return g===de?w:function(){g.apply(this,arguments);var T=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?Ne(T,this.onsuccess):T),I&&(this.onerror=this.onerror?Ne(I,this.onerror):I)}}function Qr(g,w){return g===de?w:function(T){var I=g.apply(this,arguments);c(T,I);var L=this.onsuccess,F=this.onerror;return this.onsuccess=null,this.onerror=null,T=w.apply(this,arguments),L&&(this.onsuccess=this.onsuccess?Ne(L,this.onsuccess):L),F&&(this.onerror=this.onerror?Ne(F,this.onerror):F),I===void 0?T===void 0?void 0:T:c(I,T)}}function vi(g,w){return g===de?w:function(){return w.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function Jr(g,w){return g===de?w:function(){var T=g.apply(this,arguments);if(T&&typeof T.then=="function"){for(var I=this,L=arguments.length,F=new Array(L);L--;)F[L]=arguments[L];return T.then(function(){return w.apply(I,F)})}return w.apply(this,arguments)}}ve.ModifyError=He,ve.DexieError=_e,ve.BulkError=nt;var dn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Zr(g){dn=g}var Lr={},la=100,Wt=typeof Promise>"u"?[]:function(){var g=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[g,u(g),g];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,u(w),g]}(),xi=Wt[0],Bi=Wt[1],Wt=Wt[2],Bi=Bi&&Bi.then,Jt=xi&&xi.constructor,za=!!Wt,Fa=function(g,w){xe.push([g,w]),vo&&(queueMicrotask(wi),vo=!1)},yo=!0,vo=!0,$r=[],xs=[],xo=ft,ei={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:de,pgp:!1,env:{},finalize:de},Fe=ei,xe=[],We=0,fn=[];function ke(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=Fe;if(typeof g!="function"){if(g!==Lr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&gt(this,this._value))}this._state=null,this._value=null,++w.ref,function T(I,L){try{L(function(F){if(I._state===null){if(F===I)throw new TypeError("A promise cannot be resolved with itself.");var W=I._lib&&Bn();F&&typeof F.then=="function"?T(I,function(H,Q){F instanceof ke?F._then(H,Q):F.then(H,Q)}):(I._state=!0,I._value=F,On(I)),W&&er()}},gt.bind(null,I))}catch(F){gt(I,F)}}(this,g)}var ot={get:function(){var g=Fe,w=gu;function T(I,L){var F=this,W=!g.global&&(g!==Fe||w!==gu),H=W&&!Fi(),Q=new ke(function(ee,re){bi(F,new Nn(yu(I,g,W,H),yu(L,g,W,H),ee,re,g))});return this._consoleTask&&(Q._consoleTask=this._consoleTask),Q}return T.prototype=Lr,T},set:function(g){v(this,"then",g&&g.prototype===Lr?ot:{get:function(){return g},set:ot.set})}};function Nn(g,w,T,I,L){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof w=="function"?w:null,this.resolve=T,this.reject=I,this.psd=L}function gt(g,w){var T,I;xs.push(w),g._state===null&&(T=g._lib&&Bn(),w=xo(w),g._state=!1,g._value=w,I=g,$r.some(function(L){return L._value===I._value})||$r.push(I),On(g),T&&er())}function On(g){var w=g._listeners;g._listeners=[];for(var T=0,I=w.length;T<I;++T)bi(g,w[T]);var L=g._PSD;--L.ref||L.finalize(),We===0&&(++We,Fa(function(){--We==0&&hn()},[]))}function bi(g,w){if(g._state!==null){var T=g._state?w.onFulfilled:w.onRejected;if(T===null)return(g._state?w.resolve:w.reject)(g._value);++w.psd.ref,++We,Fa(Va,[T,g,w])}else g._listeners.push(w)}function Va(g,w,T){try{var I,L=w._value;!w._state&&xs.length&&(xs=[]),I=dn&&w._consoleTask?w._consoleTask.run(function(){return g(L)}):g(L),w._state||xs.indexOf(L)!==-1||function(F){for(var W=$r.length;W;)if($r[--W]._value===F._value)return $r.splice(W,1)}(w),T.resolve(I)}catch(F){T.reject(F)}finally{--We==0&&hn(),--T.psd.ref||T.psd.finalize()}}function wi(){da(ei,function(){Bn()&&er()})}function Bn(){var g=yo;return vo=yo=!1,g}function er(){var g,w,T;do for(;0<xe.length;)for(g=xe,xe=[],T=g.length,w=0;w<T;++w){var I=g[w];I[0].apply(null,I[1])}while(0<xe.length);vo=yo=!0}function hn(){var g=$r;$r=[],g.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var w=fn.slice(0),T=w.length;T;)w[--T]()}function bs(g){return new ke(Lr,!1,g)}function Et(g,w){var T=Fe;return function(){var I=Bn(),L=Fe;try{return ua(T,!0),g.apply(this,arguments)}catch(F){w&&w(F)}finally{ua(L,!1),I&&er()}}}h(ke.prototype,{then:ot,_then:function(g,w){bi(this,new Nn(null,null,g,w,Fe))},catch:function(g){if(arguments.length===1)return this.then(null,g);var w=g,T=arguments[1];return typeof w=="function"?this.then(null,function(I){return(I instanceof w?T:bs)(I)}):this.then(null,function(I){return(I&&I.name===w?T:bs)(I)})},finally:function(g){return this.then(function(w){return ke.resolve(g()).then(function(){return w})},function(w){return ke.resolve(g()).then(function(){return bs(w)})})},timeout:function(g,w){var T=this;return g<1/0?new ke(function(I,L){var F=setTimeout(function(){return L(new Z.Timeout(w))},g);T.then(I,L).finally(clearTimeout.bind(null,F))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&v(ke.prototype,Symbol.toStringTag,"Dexie.Promise"),ei.env=Kf(),h(ke,{all:function(){var g=oe.apply(null,arguments).map(_s);return new ke(function(w,T){g.length===0&&w([]);var I=g.length;g.forEach(function(L,F){return ke.resolve(L).then(function(W){g[F]=W,--I||w(g)},T)})})},resolve:function(g){return g instanceof ke?g:g&&typeof g.then=="function"?new ke(function(w,T){g.then(w,T)}):new ke(Lr,!0,g)},reject:bs,race:function(){var g=oe.apply(null,arguments).map(_s);return new ke(function(w,T){g.map(function(I){return ke.resolve(I).then(w,T)})})},PSD:{get:function(){return Fe},set:function(g){return Fe=g}},totalEchoes:{get:function(){return gu}},newPSD:_i,usePSD:da,scheduler:{get:function(){return Fa},set:function(g){Fa=g}},rejectionMapper:{get:function(){return xo},set:function(g){xo=g}},follow:function(g,w){return new ke(function(T,I){return _i(function(L,F){var W=Fe;W.unhandleds=[],W.onunhandled=F,W.finalize=Ne(function(){var H,Q=this;H=function(){Q.unhandleds.length===0?L():F(Q.unhandleds[0])},fn.push(function ee(){H(),fn.splice(fn.indexOf(ee),1)}),++We,Fa(function(){--We==0&&hn()},[])},W.finalize),g()},w,T,I)})}}),Jt&&(Jt.allSettled&&v(ke,"allSettled",function(){var g=oe.apply(null,arguments).map(_s);return new ke(function(w){g.length===0&&w([]);var T=g.length,I=new Array(T);g.forEach(function(L,F){return ke.resolve(L).then(function(W){return I[F]={status:"fulfilled",value:W}},function(W){return I[F]={status:"rejected",reason:W}}).then(function(){return--T||w(I)})})})}),Jt.any&&typeof AggregateError<"u"&&v(ke,"any",function(){var g=oe.apply(null,arguments).map(_s);return new ke(function(w,T){g.length===0&&T(new AggregateError([]));var I=g.length,L=new Array(I);g.forEach(function(F,W){return ke.resolve(F).then(function(H){return w(H)},function(H){L[W]=H,--I||T(new AggregateError(L))})})})}),Jt.withResolvers&&(ke.withResolvers=Jt.withResolvers));var Kt={awaits:0,echoes:0,id:0},bb=0,mu=[],ca=0,gu=0,wb=0;function _i(g,w,T,I){var L=Fe,F=Object.create(L);return F.parent=L,F.ref=0,F.global=!1,F.id=++wb,ei.env,F.env=za?{Promise:ke,PromiseProp:{value:ke,configurable:!0,writable:!0},all:ke.all,race:ke.race,allSettled:ke.allSettled,any:ke.any,resolve:ke.resolve,reject:ke.reject}:{},w&&c(F,w),++L.ref,F.finalize=function(){--this.parent.ref||this.parent.finalize()},I=da(F,g,T,I),F.ref===0&&F.finalize(),I}function ws(){return Kt.id||(Kt.id=++bb),++Kt.awaits,Kt.echoes+=la,Kt.id}function Fi(){return!!Kt.awaits&&(--Kt.awaits==0&&(Kt.id=0),Kt.echoes=Kt.awaits*la,!0)}function _s(g){return Kt.echoes&&g&&g.constructor===Jt?(ws(),g.then(function(w){return Fi(),w},function(w){return Fi(),an(w)})):g}function Ba(){var g=mu[mu.length-1];mu.pop(),ua(g,!1)}function ua(g,w){var T,I=Fe;(w?!Kt.echoes||ca++&&g===Fe:!ca||--ca&&g===Fe)||queueMicrotask(w?(function(L){++gu,Kt.echoes&&--Kt.echoes!=0||(Kt.echoes=Kt.awaits=Kt.id=0),mu.push(Fe),ua(L,!0)}).bind(null,g):Ba),g!==Fe&&(Fe=g,I===ei&&(ei.env=Kf()),za&&(T=ei.env.Promise,w=g.env,(I.global||g.global)&&(Object.defineProperty(a,"Promise",w.PromiseProp),T.all=w.all,T.race=w.race,T.resolve=w.resolve,T.reject=w.reject,w.allSettled&&(T.allSettled=w.allSettled),w.any&&(T.any=w.any))))}function Kf(){var g=a.Promise;return za?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function da(g,w,T,I,L){var F=Fe;try{return ua(g,!0),w(T,I,L)}finally{ua(F,!1)}}function yu(g,w,T,I){return typeof g!="function"?g:function(){var L=Fe;T&&ws(),ua(w,!0);try{return g.apply(this,arguments)}finally{ua(L,!1),I&&queueMicrotask(Fi)}}}function vu(g){Promise===Jt&&Kt.echoes===0?ca===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+Bi).indexOf("[native code]")===-1&&(ws=Fi=de);var an=ke.reject,Ss="￿",ti="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",qf="String expected.",Ua=[],Wa="__dbnames",fa="readonly",Dl="readwrite";function js(g,w){return g?w?function(){return g.apply(this,arguments)&&w.apply(this,arguments)}:g:w}var Hf={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ml(g){return typeof g!="string"||/\./.test(g)?function(w){return w}:function(w){return w[g]===void 0&&g in w&&delete(w=z(w))[g],w}}function Gf(){throw Z.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ht(g,w){try{var T=xu(g),I=xu(w);if(T!==I)return T==="Array"?1:I==="Array"?-1:T==="binary"?1:I==="binary"?-1:T==="string"?1:I==="string"?-1:T==="Date"?1:I!=="Date"?NaN:-1;switch(T){case"number":case"Date":case"string":return w<g?1:g<w?-1:0;case"binary":return function(L,F){for(var W=L.length,H=F.length,Q=W<H?W:H,ee=0;ee<Q;++ee)if(L[ee]!==F[ee])return L[ee]<F[ee]?-1:1;return W===H?0:W<H?-1:1}(Yf(g),Yf(w));case"Array":return function(L,F){for(var W=L.length,H=F.length,Q=W<H?W:H,ee=0;ee<Q;++ee){var re=ht(L[ee],F[ee]);if(re!==0)return re}return W===H?0:W<H?-1:1}(g,w)}}catch{}return NaN}function xu(g){var w=typeof g;return w!="object"?w:ArrayBuffer.isView(g)?"binary":(g=te(g),g==="ArrayBuffer"?"binary":g)}function Yf(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}function Rl(g,w,T){var I=g.schema.yProps;return I?(w&&0<T.numFailures&&(w=w.filter(function(L,F){return!T.failures[F]})),Promise.all(I.map(function(L){return L=L.updatesTable,w?g.db.table(L).where("k").anyOf(w).delete():g.db.table(L).clear()})).then(function(){return T})):T}var vg=(Vt.prototype._trans=function(g,w,T){var I=this._tx||Fe.trans,L=this.name,F=dn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function W(ee,re,G){if(!G.schema[L])throw new Z.NotFound("Table "+L+" not part of transaction");return w(G.idbtrans,G)}var H=Bn();try{var Q=I&&I.db._novip===this.db._novip?I===Fe.trans?I._promise(g,W,T):_i(function(){return I._promise(g,W,T)},{trans:I,transless:Fe.transless||Fe}):function ee(re,G,se,J){if(re.idbdb&&(re._state.openComplete||Fe.letThrough||re._vip)){var ne=re._createTransaction(G,se,re._dbSchema);try{ne.create(),re._state.PR1398_maxLoop=3}catch(ae){return ae.name===bt.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return ee(re,G,se,J)})):an(ae)}return ne._promise(G,function(ae,ie){return _i(function(){return Fe.trans=ne,J(ae,ie,ne)})}).then(function(ae){if(G==="readwrite")try{ne.idbtrans.commit()}catch{}return G==="readonly"?ae:ne._completion.then(function(){return ae})})}if(re._state.openComplete)return an(new Z.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return an(new Z.DatabaseClosed);re.open().catch(de)}return re._state.dbReadyPromise.then(function(){return ee(re,G,se,J)})}(this.db,g,[this.name],W);return F&&(Q._consoleTask=F,Q=Q.catch(function(ee){return console.trace(ee),an(ee)})),Q}finally{H&&er()}},Vt.prototype.get=function(g,w){var T=this;return g&&g.constructor===Object?this.where(g).first(w):g==null?an(new Z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return T.core.get({trans:I,key:g}).then(function(L){return T.hook.reading.fire(L)})}).then(w)},Vt.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(o(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var w=s(g);if(w.length===1)return this.where(w[0]).equals(g[w[0]]);var T=this.schema.indexes.concat(this.schema.primKey).filter(function(H){if(H.compound&&w.every(function(ee){return 0<=H.keyPath.indexOf(ee)})){for(var Q=0;Q<w.length;++Q)if(w.indexOf(H.keyPath[Q])===-1)return!1;return!0}return!1}).sort(function(H,Q){return H.keyPath.length-Q.keyPath.length})[0];if(T&&this.db._maxKey!==Ss){var F=T.keyPath.slice(0,w.length);return this.where(F).equals(F.map(function(Q){return g[Q]}))}!T&&dn&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var I=this.schema.idxByName;function L(H,Q){return ht(H,Q)===0}var W=w.reduce(function(G,Q){var ee=G[0],re=G[1],G=I[Q],se=g[Q];return[ee||G,ee||!G?js(re,G&&G.multi?function(J){return J=P(J,Q),o(J)&&J.some(function(ne){return L(se,ne)})}:function(J){return L(se,P(J,Q))}):re]},[null,null]),F=W[0],W=W[1];return F?this.where(F.name).equals(g[F.keyPath]).filter(W):T?this.filter(W):this.where(w).equals("")},Vt.prototype.filter=function(g){return this.toCollection().and(g)},Vt.prototype.count=function(g){return this.toCollection().count(g)},Vt.prototype.offset=function(g){return this.toCollection().offset(g)},Vt.prototype.limit=function(g){return this.toCollection().limit(g)},Vt.prototype.each=function(g){return this.toCollection().each(g)},Vt.prototype.toArray=function(g){return this.toCollection().toArray(g)},Vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Vt.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,o(g)?"[".concat(g.join("+"),"]"):g))},Vt.prototype.reverse=function(){return this.toCollection().reverse()},Vt.prototype.mapToClass=function(g){var w,T=this.db,I=this.name;function L(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=g).prototype instanceof Gf&&(function(Q,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function re(){this.constructor=Q}n(Q,ee),Q.prototype=ee===null?Object.create(ee):(re.prototype=ee.prototype,new re)}(L,w=g),Object.defineProperty(L.prototype,"db",{get:function(){return T},enumerable:!1,configurable:!0}),L.prototype.table=function(){return I},g=L);for(var F=new Set,W=g.prototype;W;W=u(W))Object.getOwnPropertyNames(W).forEach(function(Q){return F.add(Q)});function H(Q){if(!Q)return Q;var ee,re=Object.create(g.prototype);for(ee in Q)if(!F.has(ee))try{re[ee]=Q[ee]}catch{}return re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=H,this.hook("reading",H),g},Vt.prototype.defineClass=function(){return this.mapToClass(function(g){c(this,g)})},Vt.prototype.add=function(g,w){var T=this,I=this.schema.primKey,L=I.auto,F=I.keyPath,W=g;return F&&L&&(W=Ml(F)(g)),this._trans("readwrite",function(H){return T.core.mutate({trans:H,type:"add",keys:w!=null?[w]:null,values:[W]})}).then(function(H){return H.numFailures?ke.reject(H.failures[0]):H.lastResult}).then(function(H){if(F)try{j(g,F,H)}catch{}return H})},Vt.prototype.update=function(g,w){return typeof g!="object"||o(g)?this.where(":id").equals(g).modify(w):(g=P(g,this.schema.primKey.keyPath),g===void 0?an(new Z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(w))},Vt.prototype.put=function(g,w){var T=this,I=this.schema.primKey,L=I.auto,F=I.keyPath,W=g;return F&&L&&(W=Ml(F)(g)),this._trans("readwrite",function(H){return T.core.mutate({trans:H,type:"put",values:[W],keys:w!=null?[w]:null})}).then(function(H){return H.numFailures?ke.reject(H.failures[0]):H.lastResult}).then(function(H){if(F)try{j(g,F,H)}catch{}return H})},Vt.prototype.delete=function(g){var w=this;return this._trans("readwrite",function(T){return w.core.mutate({trans:T,type:"delete",keys:[g]}).then(function(I){return Rl(w,[g],I)}).then(function(I){return I.numFailures?ke.reject(I.failures[0]):void 0})})},Vt.prototype.clear=function(){var g=this;return this._trans("readwrite",function(w){return g.core.mutate({trans:w,type:"deleteRange",range:Hf}).then(function(T){return Rl(g,null,T)})}).then(function(w){return w.numFailures?ke.reject(w.failures[0]):void 0})},Vt.prototype.bulkGet=function(g){var w=this;return this._trans("readonly",function(T){return w.core.getMany({keys:g,trans:T}).then(function(I){return I.map(function(L){return w.hook.reading.fire(L)})})})},Vt.prototype.bulkAdd=function(g,w,T){var I=this,L=Array.isArray(w)?w:void 0,F=(T=T||(L?void 0:w))?T.allKeys:void 0;return this._trans("readwrite",function(W){var ee=I.schema.primKey,H=ee.auto,ee=ee.keyPath;if(ee&&L)throw new Z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(L&&L.length!==g.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var Q=g.length,ee=ee&&H?g.map(Ml(ee)):g;return I.core.mutate({trans:W,type:"add",keys:L,values:ee,wantResults:F}).then(function(ne){var G=ne.numFailures,se=ne.results,J=ne.lastResult,ne=ne.failures;if(G===0)return F?se:J;throw new nt("".concat(I.name,".bulkAdd(): ").concat(G," of ").concat(Q," operations failed"),ne)})})},Vt.prototype.bulkPut=function(g,w,T){var I=this,L=Array.isArray(w)?w:void 0,F=(T=T||(L?void 0:w))?T.allKeys:void 0;return this._trans("readwrite",function(W){var ee=I.schema.primKey,H=ee.auto,ee=ee.keyPath;if(ee&&L)throw new Z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(L&&L.length!==g.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var Q=g.length,ee=ee&&H?g.map(Ml(ee)):g;return I.core.mutate({trans:W,type:"put",keys:L,values:ee,wantResults:F}).then(function(ne){var G=ne.numFailures,se=ne.results,J=ne.lastResult,ne=ne.failures;if(G===0)return F?se:J;throw new nt("".concat(I.name,".bulkPut(): ").concat(G," of ").concat(Q," operations failed"),ne)})})},Vt.prototype.bulkUpdate=function(g){var w=this,T=this.core,I=g.map(function(W){return W.key}),L=g.map(function(W){return W.changes}),F=[];return this._trans("readwrite",function(W){return T.getMany({trans:W,keys:I,cache:"clone"}).then(function(H){var Q=[],ee=[];g.forEach(function(G,se){var J=G.key,ne=G.changes,ae=H[se];if(ae){for(var ie=0,le=Object.keys(ne);ie<le.length;ie++){var fe=le[ie],pe=ne[fe];if(fe===w.schema.primKey.keyPath){if(ht(pe,J)!==0)throw new Z.Constraint("Cannot update primary key in bulkUpdate()")}else j(ae,fe,pe)}F.push(se),Q.push(J),ee.push(ae)}});var re=Q.length;return T.mutate({trans:W,type:"put",keys:Q,values:ee,updates:{keys:I,changeSpecs:L}}).then(function(G){var se=G.numFailures,J=G.failures;if(se===0)return re;for(var ne=0,ae=Object.keys(J);ne<ae.length;ne++){var ie,le=ae[ne],fe=F[Number(le)];fe!=null&&(ie=J[le],delete J[le],J[fe]=ie)}throw new nt("".concat(w.name,".bulkUpdate(): ").concat(se," of ").concat(re," operations failed"),J)})})})},Vt.prototype.bulkDelete=function(g){var w=this,T=g.length;return this._trans("readwrite",function(I){return w.core.mutate({trans:I,type:"delete",keys:g}).then(function(L){return Rl(w,g,L)})}).then(function(W){var L=W.numFailures,F=W.lastResult,W=W.failures;if(L===0)return F;throw new nt("".concat(w.name,".bulkDelete(): ").concat(L," of ").concat(T," operations failed"),W)})},Vt);function Vt(){}function bo(g){function w(W,H){if(H){for(var Q=arguments.length,ee=new Array(Q-1);--Q;)ee[Q-1]=arguments[Q];return T[W].subscribe.apply(null,ee),g}if(typeof W=="string")return T[W]}var T={};w.addEventType=F;for(var I=1,L=arguments.length;I<L;++I)F(arguments[I]);return w;function F(W,H,Q){if(typeof W!="object"){var ee;H=H||vi;var re={subscribers:[],fire:Q=Q||de,subscribe:function(G){re.subscribers.indexOf(G)===-1&&(re.subscribers.push(G),re.fire=H(re.fire,G))},unsubscribe:function(G){re.subscribers=re.subscribers.filter(function(se){return se!==G}),re.fire=re.subscribers.reduce(H,Q)}};return T[W]=w[W]=re}s(ee=W).forEach(function(G){var se=ee[G];if(o(se))F(G,ee[G][0],ee[G][1]);else{if(se!=="asap")throw new Z.InvalidArgument("Invalid event config");var J=F(G,ft,function(){for(var ne=arguments.length,ae=new Array(ne);ne--;)ae[ne]=arguments[ne];J.subscribers.forEach(function(ie){E(function(){ie.apply(null,ae)})})})}})}}function wo(g,w){return y(w).from({prototype:g}),w}function _o(g,w){return!(g.filter||g.algorithm||g.or)&&(w?g.justLimit:!g.replayFilter)}function ha(g,w){g.filter=js(g.filter,w)}function Si(g,w,T){var I=g.replayFilter;g.replayFilter=I?function(){return js(I(),w())}:w,g.justLimit=T&&!I}function As(g,w){if(g.isPrimKey)return w.primaryKey;var T=w.getIndexByKeyPath(g.index);if(!T)throw new Z.Schema("KeyPath "+g.index+" on object store "+w.name+" is not indexed");return T}function Ll(g,w,T){var I=As(g,w.schema);return w.openCursor({trans:T,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:I,range:g.range}})}function $l(g,w,T,I){var L=g.replayFilter?js(g.filter,g.replayFilter()):g.filter;if(g.or){var F={},W=function(H,Q,ee){var re,G;L&&!L(Q,ee,function(se){return Q.stop(se)},function(se){return Q.fail(se)})||((G=""+(re=Q.primaryKey))=="[object ArrayBuffer]"&&(G=""+new Uint8Array(re)),f(F,G)||(F[G]=!0,w(H,Q,ee)))};return Promise.all([g.or._iterate(W,T),$t(Ll(g,I,T),g.algorithm,W,!g.keysOnly&&g.valueMapper)])}return $t(Ll(g,I,T),js(g.algorithm,L),w,!g.keysOnly&&g.valueMapper)}function $t(g,w,T,I){var L=Et(I?function(F,W,H){return T(I(F),W,H)}:T);return g.then(function(F){if(F)return F.start(function(){var W=function(){return F.continue()};w&&!w(F,function(H){return W=H},function(H){F.stop(H),W=de},function(H){F.fail(H),W=de})||L(F.value,F,function(H){return W=H}),W()})})}var Ka=(So.prototype.execute=function(g){var w=this["@@propmod"];if(w.add!==void 0){var T=w.add;if(o(T))return i(i([],o(g)?g:[],!0),T).sort();if(typeof T=="number")return(Number(g)||0)+T;if(typeof T=="bigint")try{return BigInt(g)+T}catch{return BigInt(0)+T}throw new TypeError("Invalid term ".concat(T))}if(w.remove!==void 0){var I=w.remove;if(o(I))return o(g)?g.filter(function(L){return!I.includes(L)}).sort():[];if(typeof I=="number")return Number(g)-I;if(typeof I=="bigint")try{return BigInt(g)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return T=(T=w.replacePrefix)===null||T===void 0?void 0:T[0],T&&typeof g=="string"&&g.startsWith(T)?w.replacePrefix[1]+g.substring(T.length):g},So);function So(g){this["@@propmod"]=g}var zl=(wt.prototype._read=function(g,w){var T=this._ctx;return T.error?T.table._trans(null,an.bind(null,T.error)):T.table._trans("readonly",g).then(w)},wt.prototype._write=function(g){var w=this._ctx;return w.error?w.table._trans(null,an.bind(null,w.error)):w.table._trans("readwrite",g,"locked")},wt.prototype._addAlgorithm=function(g){var w=this._ctx;w.algorithm=js(w.algorithm,g)},wt.prototype._iterate=function(g,w){return $l(this._ctx,g,w,this._ctx.table.core)},wt.prototype.clone=function(g){var w=Object.create(this.constructor.prototype),T=Object.create(this._ctx);return g&&c(T,g),w._ctx=T,w},wt.prototype.raw=function(){return this._ctx.valueMapper=null,this},wt.prototype.each=function(g){var w=this._ctx;return this._read(function(T){return $l(w,g,T,w.table.core)})},wt.prototype.count=function(g){var w=this;return this._read(function(T){var I=w._ctx,L=I.table.core;if(_o(I,!0))return L.count({trans:T,query:{index:As(I,L.schema),range:I.range}}).then(function(W){return Math.min(W,I.limit)});var F=0;return $l(I,function(){return++F,!1},T,L).then(function(){return F})}).then(g)},wt.prototype.sortBy=function(g,w){var T=g.split(".").reverse(),I=T[0],L=T.length-1;function F(Q,ee){return ee?F(Q[T[ee]],ee-1):Q[I]}var W=this._ctx.dir==="next"?1:-1;function H(Q,ee){return ht(F(Q,L),F(ee,L))*W}return this.toArray(function(Q){return Q.sort(H)}).then(w)},wt.prototype.toArray=function(g){var w=this;return this._read(function(T){var I=w._ctx;if(I.dir==="next"&&_o(I,!0)&&0<I.limit){var L=I.valueMapper,F=As(I,I.table.core.schema);return I.table.core.query({trans:T,limit:I.limit,values:!0,query:{index:F,range:I.range}}).then(function(H){return H=H.result,L?H.map(L):H})}var W=[];return $l(I,function(H){return W.push(H)},T,I.table.core).then(function(){return W})},g)},wt.prototype.offset=function(g){var w=this._ctx;return g<=0||(w.offset+=g,_o(w)?Si(w,function(){var T=g;return function(I,L){return T===0||(T===1?--T:L(function(){I.advance(T),T=0}),!1)}}):Si(w,function(){var T=g;return function(){return--T<0}})),this},wt.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),Si(this._ctx,function(){var w=g;return function(T,I,L){return--w<=0&&I(L),0<=w}},!0),this},wt.prototype.until=function(g,w){return ha(this._ctx,function(T,I,L){return!g(T.value)||(I(L),w)}),this},wt.prototype.first=function(g){return this.limit(1).toArray(function(w){return w[0]}).then(g)},wt.prototype.last=function(g){return this.reverse().first(g)},wt.prototype.filter=function(g){var w;return ha(this._ctx,function(T){return g(T.value)}),(w=this._ctx).isMatch=js(w.isMatch,g),this},wt.prototype.and=function(g){return this.filter(g)},wt.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},wt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},wt.prototype.desc=function(){return this.reverse()},wt.prototype.eachKey=function(g){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(T,I){g(I.key,I)})},wt.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},wt.prototype.eachPrimaryKey=function(g){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(T,I){g(I.primaryKey,I)})},wt.prototype.keys=function(g){var w=this._ctx;w.keysOnly=!w.isMatch;var T=[];return this.each(function(I,L){T.push(L.key)}).then(function(){return T}).then(g)},wt.prototype.primaryKeys=function(g){var w=this._ctx;if(w.dir==="next"&&_o(w,!0)&&0<w.limit)return this._read(function(I){var L=As(w,w.table.core.schema);return w.table.core.query({trans:I,values:!1,limit:w.limit,query:{index:L,range:w.range}})}).then(function(I){return I.result}).then(g);w.keysOnly=!w.isMatch;var T=[];return this.each(function(I,L){T.push(L.primaryKey)}).then(function(){return T}).then(g)},wt.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},wt.prototype.firstKey=function(g){return this.limit(1).keys(function(w){return w[0]}).then(g)},wt.prototype.lastKey=function(g){return this.reverse().firstKey(g)},wt.prototype.distinct=function(){var g=this._ctx,g=g.index&&g.table.schema.idxByName[g.index];if(!g||!g.multi)return this;var w={};return ha(this._ctx,function(L){var I=L.primaryKey.toString(),L=f(w,I);return w[I]=!0,!L}),this},wt.prototype.modify=function(g){var w=this,T=this._ctx;return this._write(function(I){var L,F,W;W=typeof g=="function"?g:(L=s(g),F=L.length,function(le){for(var fe=!1,pe=0;pe<F;++pe){var me=L[pe],Se=g[me],Ie=P(le,me);Se instanceof Ka?(j(le,me,Se.execute(Ie)),fe=!0):Ie!==Se&&(j(le,me,Se),fe=!0)}return fe});var H=T.table.core,G=H.schema.primaryKey,Q=G.outbound,ee=G.extractKey,re=200,G=w.db._options.modifyChunkSize;G&&(re=typeof G=="object"?G[H.name]||G["*"]||200:G);function se(le,me){var pe=me.failures,me=me.numFailures;ne+=le-me;for(var Se=0,Ie=s(pe);Se<Ie.length;Se++){var Ee=Ie[Se];J.push(pe[Ee])}}var J=[],ne=0,ae=[],ie=g===Xf;return w.clone().primaryKeys().then(function(le){function fe(me){var Se=Math.min(re,le.length-me),Ie=le.slice(me,me+Se);return(ie?Promise.resolve([]):H.getMany({trans:I,keys:Ie,cache:"immutable"})).then(function(Ee){var Te=[],Me=[],De=Q?[]:null,Re=ie?Ie:[];if(!ie)for(var ct=0;ct<Se;++ct){var _t=Ee[ct],it={value:z(_t),primKey:le[me+ct]};W.call(it,it.value,it)!==!1&&(it.value==null?Re.push(le[me+ct]):Q||ht(ee(_t),ee(it.value))===0?(Me.push(it.value),Q&&De.push(le[me+ct])):(Re.push(le[me+ct]),Te.push(it.value)))}return Promise.resolve(0<Te.length&&H.mutate({trans:I,type:"add",values:Te}).then(function(xn){for(var rt in xn.failures)Re.splice(parseInt(rt),1);se(Te.length,xn)})).then(function(){return(0<Me.length||pe&&typeof g=="object")&&H.mutate({trans:I,type:"put",keys:De,values:Me,criteria:pe,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<me}).then(function(xn){return se(Me.length,xn)})}).then(function(){return(0<Re.length||pe&&ie)&&H.mutate({trans:I,type:"delete",keys:Re,criteria:pe,isAdditionalChunk:0<me}).then(function(xn){return Rl(T.table,Re,xn)}).then(function(xn){return se(Re.length,xn)})}).then(function(){return le.length>me+Se&&fe(me+re)})})}var pe=_o(T)&&T.limit===1/0&&(typeof g!="function"||ie)&&{index:T.index,range:T.range};return fe(0).then(function(){if(0<J.length)throw new He("Error modifying one or more objects",J,ne,ae);return le.length})})})},wt.prototype.delete=function(){var g=this._ctx,w=g.range;return!_o(g)||g.table.schema.yProps||!g.isPrimKey&&w.type!==3?this.modify(Xf):this._write(function(T){var I=g.table.core.schema.primaryKey,L=w;return g.table.core.count({trans:T,query:{index:I,range:L}}).then(function(F){return g.table.core.mutate({trans:T,type:"deleteRange",range:L}).then(function(Q){var H=Q.failures,Q=Q.numFailures;if(Q)throw new He("Could not delete some values",Object.keys(H).map(function(ee){return H[ee]}),F-Q);return F-Q})})})},wt);function wt(){}var Xf=function(g,w){return w.value=null};function _b(g,w){return g<w?-1:g===w?0:1}function Sb(g,w){return w<g?-1:g===w?0:1}function zr(g,w,T){return g=g instanceof Jf?new g.Collection(g):g,g._ctx.error=new(T||TypeError)(w),g}function jo(g){return new g.Collection(g,function(){return Qf("")}).limit(0)}function qa(g,w,T,I){var L,F,W,H,Q,ee,re,G=T.length;if(!T.every(function(ne){return typeof ne=="string"}))return zr(g,qf);function se(ne){L=ne==="next"?function(ie){return ie.toUpperCase()}:function(ie){return ie.toLowerCase()},F=ne==="next"?function(ie){return ie.toLowerCase()}:function(ie){return ie.toUpperCase()},W=ne==="next"?_b:Sb;var ae=T.map(function(ie){return{lower:F(ie),upper:L(ie)}}).sort(function(ie,le){return W(ie.lower,le.lower)});H=ae.map(function(ie){return ie.upper}),Q=ae.map(function(ie){return ie.lower}),re=(ee=ne)==="next"?"":I}se("next"),g=new g.Collection(g,function(){return ur(H[0],Q[G-1]+I)}),g._ondirectionchange=function(ne){se(ne)};var J=0;return g._addAlgorithm(function(ne,ae,ie){var le=ne.key;if(typeof le!="string")return!1;var fe=F(le);if(w(fe,Q,J))return!0;for(var pe=null,me=J;me<G;++me){var Se=function(Ie,Ee,Te,Me,De,Re){for(var ct=Math.min(Ie.length,Me.length),_t=-1,it=0;it<ct;++it){var xn=Ee[it];if(xn!==Me[it])return De(Ie[it],Te[it])<0?Ie.substr(0,it)+Te[it]+Te.substr(it+1):De(Ie[it],Me[it])<0?Ie.substr(0,it)+Me[it]+Te.substr(it+1):0<=_t?Ie.substr(0,_t)+Ee[_t]+Te.substr(_t+1):null;De(Ie[it],xn)<0&&(_t=it)}return ct<Me.length&&Re==="next"?Ie+Te.substr(Ie.length):ct<Ie.length&&Re==="prev"?Ie.substr(0,Te.length):_t<0?null:Ie.substr(0,_t)+Me[_t]+Te.substr(_t+1)}(le,fe,H[me],Q[me],W,ee);Se===null&&pe===null?J=me+1:(pe===null||0<W(pe,Se))&&(pe=Se)}return ae(pe!==null?function(){ne.continue(pe+re)}:ie),!1}),g}function ur(g,w,T,I){return{type:2,lower:g,upper:w,lowerOpen:T,upperOpen:I}}function Qf(g){return{type:1,lower:g,upper:g}}var Jf=(Object.defineProperty(jn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),jn.prototype.between=function(g,w,T,I){T=T!==!1,I=I===!0;try{return 0<this._cmp(g,w)||this._cmp(g,w)===0&&(T||I)&&(!T||!I)?jo(this):new this.Collection(this,function(){return ur(g,w,!T,!I)})}catch{return zr(this,ti)}},jn.prototype.equals=function(g){return g==null?zr(this,ti):new this.Collection(this,function(){return Qf(g)})},jn.prototype.above=function(g){return g==null?zr(this,ti):new this.Collection(this,function(){return ur(g,void 0,!0)})},jn.prototype.aboveOrEqual=function(g){return g==null?zr(this,ti):new this.Collection(this,function(){return ur(g,void 0,!1)})},jn.prototype.below=function(g){return g==null?zr(this,ti):new this.Collection(this,function(){return ur(void 0,g,!1,!0)})},jn.prototype.belowOrEqual=function(g){return g==null?zr(this,ti):new this.Collection(this,function(){return ur(void 0,g)})},jn.prototype.startsWith=function(g){return typeof g!="string"?zr(this,qf):this.between(g,g+Ss,!0,!0)},jn.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):qa(this,function(w,T){return w.indexOf(T[0])===0},[g],Ss)},jn.prototype.equalsIgnoreCase=function(g){return qa(this,function(w,T){return w===T[0]},[g],"")},jn.prototype.anyOfIgnoreCase=function(){var g=oe.apply(Y,arguments);return g.length===0?jo(this):qa(this,function(w,T){return T.indexOf(w)!==-1},g,"")},jn.prototype.startsWithAnyOfIgnoreCase=function(){var g=oe.apply(Y,arguments);return g.length===0?jo(this):qa(this,function(w,T){return T.some(function(I){return w.indexOf(I)===0})},g,Ss)},jn.prototype.anyOf=function(){var g=this,w=oe.apply(Y,arguments),T=this._cmp;try{w.sort(T)}catch{return zr(this,ti)}if(w.length===0)return jo(this);var I=new this.Collection(this,function(){return ur(w[0],w[w.length-1])});I._ondirectionchange=function(F){T=F==="next"?g._ascending:g._descending,w.sort(T)};var L=0;return I._addAlgorithm(function(F,W,H){for(var Q=F.key;0<T(Q,w[L]);)if(++L===w.length)return W(H),!1;return T(Q,w[L])===0||(W(function(){F.continue(w[L])}),!1)}),I},jn.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},jn.prototype.noneOf=function(){var g=oe.apply(Y,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch{return zr(this,ti)}var w=g.reduce(function(T,I){return T?T.concat([[T[T.length-1][1],I]]):[[-1/0,I]]},null);return w.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},jn.prototype.inAnyRange=function(le,w){var T=this,I=this._cmp,L=this._ascending,F=this._descending,W=this._min,H=this._max;if(le.length===0)return jo(this);if(!le.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&L(fe[0],fe[1])<=0}))return zr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Z.InvalidArgument);var Q=!w||w.includeLowers!==!1,ee=w&&w.includeUppers===!0,re,G=L;function se(fe,pe){return G(fe[0],pe[0])}try{(re=le.reduce(function(fe,pe){for(var me=0,Se=fe.length;me<Se;++me){var Ie=fe[me];if(I(pe[0],Ie[1])<0&&0<I(pe[1],Ie[0])){Ie[0]=W(Ie[0],pe[0]),Ie[1]=H(Ie[1],pe[1]);break}}return me===Se&&fe.push(pe),fe},[])).sort(se)}catch{return zr(this,ti)}var J=0,ne=ee?function(fe){return 0<L(fe,re[J][1])}:function(fe){return 0<=L(fe,re[J][1])},ae=Q?function(fe){return 0<F(fe,re[J][0])}:function(fe){return 0<=F(fe,re[J][0])},ie=ne,le=new this.Collection(this,function(){return ur(re[0][0],re[re.length-1][1],!Q,!ee)});return le._ondirectionchange=function(fe){G=fe==="next"?(ie=ne,L):(ie=ae,F),re.sort(se)},le._addAlgorithm(function(fe,pe,me){for(var Se,Ie=fe.key;ie(Ie);)if(++J===re.length)return pe(me),!1;return!ne(Se=Ie)&&!ae(Se)||(T._cmp(Ie,re[J][1])===0||T._cmp(Ie,re[J][0])===0||pe(function(){G===L?fe.continue(re[J][0]):fe.continue(re[J][1])}),!1)}),le},jn.prototype.startsWithAnyOf=function(){var g=oe.apply(Y,arguments);return g.every(function(w){return typeof w=="string"})?g.length===0?jo(this):this.inAnyRange(g.map(function(w){return[w,w+Ss]})):zr(this,"startsWithAnyOf() only works with strings")},jn);function jn(){}function dr(g){return Et(function(w){return Fl(w),g(w.target.error),!1})}function Fl(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var Vl="storagemutated",Zf="x-storagemutated-1",fr=bo(null,Vl),jb=(Vi.prototype._lock=function(){return C(!Fe.global),++this._reculock,this._reculock!==1||Fe.global||(Fe.lockOwnerFor=this),this},Vi.prototype._unlock=function(){if(C(!Fe.global),--this._reculock==0)for(Fe.global||(Fe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{da(g[1],g[0])}catch{}}return this},Vi.prototype._locked=function(){return this._reculock&&Fe.lockOwnerFor!==this},Vi.prototype.create=function(g){var w=this;if(!this.mode)return this;var T=this.db.idbdb,I=this.db._state.dbOpenError;if(C(!this.idbtrans),!g&&!T)switch(I&&I.name){case"DatabaseClosedError":throw new Z.DatabaseClosed(I);case"MissingAPIError":throw new Z.MissingAPI(I.message,I);default:throw new Z.OpenFailed(I)}if(!this.active)throw new Z.TransactionInactive;return C(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||T).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Et(function(L){Fl(L),w._reject(g.error)}),g.onabort=Et(function(L){Fl(L),w.active&&w._reject(new Z.Abort(g.error)),w.active=!1,w.on("abort").fire(L)}),g.oncomplete=Et(function(){w.active=!1,w._resolve(),"mutatedParts"in g&&fr.storagemutated.fire(g.mutatedParts)}),this},Vi.prototype._promise=function(g,w,T){var I=this;if(g==="readwrite"&&this.mode!=="readwrite")return an(new Z.ReadOnly("Transaction is readonly"));if(!this.active)return an(new Z.TransactionInactive);if(this._locked())return new ke(function(F,W){I._blockedFuncs.push([function(){I._promise(g,w,T).then(F,W)},Fe])});if(T)return _i(function(){var F=new ke(function(W,H){I._lock();var Q=w(W,H,I);Q&&Q.then&&Q.then(W,H)});return F.finally(function(){return I._unlock()}),F._lib=!0,F});var L=new ke(function(F,W){var H=w(F,W,I);H&&H.then&&H.then(F,W)});return L._lib=!0,L},Vi.prototype._root=function(){return this.parent?this.parent._root():this},Vi.prototype.waitFor=function(g){var w,T=this._root(),I=ke.resolve(g);T._waitingFor?T._waitingFor=T._waitingFor.then(function(){return I}):(T._waitingFor=I,T._waitingQueue=[],w=T.idbtrans.objectStore(T.storeNames[0]),function F(){for(++T._spinCount;T._waitingQueue.length;)T._waitingQueue.shift()();T._waitingFor&&(w.get(-1/0).onsuccess=F)}());var L=T._waitingFor;return new ke(function(F,W){I.then(function(H){return T._waitingQueue.push(Et(F.bind(null,H)))},function(H){return T._waitingQueue.push(Et(W.bind(null,H)))}).finally(function(){T._waitingFor===L&&(T._waitingFor=null)})})},Vi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Z.Abort))},Vi.prototype.table=function(g){var w=this._memoizedTables||(this._memoizedTables={});if(f(w,g))return w[g];var T=this.schema[g];if(!T)throw new Z.NotFound("Table "+g+" not part of transaction");return T=new this.db.Table(g,T,this),T.core=this.db.core.table(g),w[g]=T},Vi);function Vi(){}function Ao(g,w,T,I,L,F,W,H){return{name:g,keyPath:w,unique:T,multi:I,auto:L,compound:F,src:(T&&!W?"&":"")+(I?"*":"")+(L?"++":"")+Bl(w),type:H}}function Bl(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function bu(g,w,T){return{name:g,primKey:w,indexes:T,mappedClass:null,idxByName:(I=function(L){return[L.name,L]},T.reduce(function(L,F,W){return W=I(F,W),W&&(L[W[0]]=W[1]),L},{}))};var I}var pa=function(g){try{return g.only([[]]),pa=function(){return[[]]},[[]]}catch{return pa=function(){return Ss},Ss}};function Ps(g){return g==null?function(){}:typeof g=="string"?(w=g).split(".").length===1?function(T){return T[w]}:function(T){return P(T,w)}:function(T){return P(T,g)};var w}function eh(g){return[].slice.call(g)}var th=0;function zt(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function Ab(g,w,Q){function I(ie){if(ie.type===3)return null;if(ie.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var J=ie.lower,ne=ie.upper,ae=ie.lowerOpen,ie=ie.upperOpen;return J===void 0?ne===void 0?null:w.upperBound(ne,!!ie):ne===void 0?w.lowerBound(J,!!ae):w.bound(J,ne,!!ae,!!ie)}function L(se){var J,ne=se.name;return{name:ne,schema:se,mutate:function(ae){var ie=ae.trans,le=ae.type,fe=ae.keys,pe=ae.values,me=ae.range;return new Promise(function(Se,Ie){Se=Et(Se);var Ee=ie.objectStore(ne),Te=Ee.keyPath==null,Me=le==="put"||le==="add";if(!Me&&le!=="delete"&&le!=="deleteRange")throw new Error("Invalid operation type: "+le);var De,Re=(fe||pe||{length:1}).length;if(fe&&pe&&fe.length!==pe.length)throw new Error("Given keys array must have same length as given values array.");if(Re===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function ct(Fr){++xn,Fl(Fr)}var _t=[],it=[],xn=0;if(le==="deleteRange"){if(me.type===4)return Se({numFailures:xn,failures:it,results:[],lastResult:void 0});me.type===3?_t.push(De=Ee.clear()):_t.push(De=Ee.delete(I(me)))}else{var Te=Me?Te?[pe,fe]:[pe,null]:[fe,null],rt=Te[0],jr=Te[1];if(Me)for(var Ar=0;Ar<Re;++Ar)_t.push(De=jr&&jr[Ar]!==void 0?Ee[le](rt[Ar],jr[Ar]):Ee[le](rt[Ar])),De.onerror=ct;else for(Ar=0;Ar<Re;++Ar)_t.push(De=Ee[le](rt[Ar])),De.onerror=ct}function _g(Fr){Fr=Fr.target.result,_t.forEach(function(Ql,Cb){return Ql.error!=null&&(it[Cb]=Ql.error)}),Se({numFailures:xn,failures:it,results:le==="delete"?fe:_t.map(function(Ql){return Ql.result}),lastResult:Fr})}De.onerror=function(Fr){ct(Fr),_g(Fr)},De.onsuccess=_g})},getMany:function(ae){var ie=ae.trans,le=ae.keys;return new Promise(function(fe,pe){fe=Et(fe);for(var me,Se=ie.objectStore(ne),Ie=le.length,Ee=new Array(Ie),Te=0,Me=0,De=function(_t){_t=_t.target,Ee[_t._pos]=_t.result,++Me===Te&&fe(Ee)},Re=dr(pe),ct=0;ct<Ie;++ct)le[ct]!=null&&((me=Se.get(le[ct]))._pos=ct,me.onsuccess=De,me.onerror=Re,++Te);Te===0&&fe(Ee)})},get:function(ae){var ie=ae.trans,le=ae.key;return new Promise(function(fe,pe){fe=Et(fe);var me=ie.objectStore(ne).get(le);me.onsuccess=function(Se){return fe(Se.target.result)},me.onerror=dr(pe)})},query:(J=ee,function(ae){return new Promise(function(ie,le){ie=Et(ie);var fe,pe,me,Te=ae.trans,Se=ae.values,Ie=ae.limit,De=ae.query,Ee=Ie===1/0?void 0:Ie,Me=De.index,De=De.range,Te=Te.objectStore(ne),Me=Me.isPrimaryKey?Te:Te.index(Me.name),De=I(De);if(Ie===0)return ie({result:[]});J?((Ee=Se?Me.getAll(De,Ee):Me.getAllKeys(De,Ee)).onsuccess=function(Re){return ie({result:Re.target.result})},Ee.onerror=dr(le)):(fe=0,pe=!Se&&"openKeyCursor"in Me?Me.openKeyCursor(De):Me.openCursor(De),me=[],pe.onsuccess=function(Re){var ct=pe.result;return ct?(me.push(Se?ct.value:ct.primaryKey),++fe===Ie?ie({result:me}):void ct.continue()):ie({result:me})},pe.onerror=dr(le))})}),openCursor:function(ae){var ie=ae.trans,le=ae.values,fe=ae.query,pe=ae.reverse,me=ae.unique;return new Promise(function(Se,Ie){Se=Et(Se);var Me=fe.index,Ee=fe.range,Te=ie.objectStore(ne),Te=Me.isPrimaryKey?Te:Te.index(Me.name),Me=pe?me?"prevunique":"prev":me?"nextunique":"next",De=!le&&"openKeyCursor"in Te?Te.openKeyCursor(I(Ee),Me):Te.openCursor(I(Ee),Me);De.onerror=dr(Ie),De.onsuccess=Et(function(Re){var ct,_t,it,xn,rt=De.result;rt?(rt.___id=++th,rt.done=!1,ct=rt.continue.bind(rt),_t=(_t=rt.continuePrimaryKey)&&_t.bind(rt),it=rt.advance.bind(rt),xn=function(){throw new Error("Cursor not stopped")},rt.trans=ie,rt.stop=rt.continue=rt.continuePrimaryKey=rt.advance=function(){throw new Error("Cursor not started")},rt.fail=Et(Ie),rt.next=function(){var jr=this,Ar=1;return this.start(function(){return Ar--?jr.continue():jr.stop()}).then(function(){return jr})},rt.start=function(jr){function Ar(){if(De.result)try{jr()}catch(Fr){rt.fail(Fr)}else rt.done=!0,rt.start=function(){throw new Error("Cursor behind last entry")},rt.stop()}var _g=new Promise(function(Fr,Ql){Fr=Et(Fr),De.onerror=dr(Ql),rt.fail=Ql,rt.stop=function(Cb){rt.stop=rt.continue=rt.continuePrimaryKey=rt.advance=xn,Fr(Cb)}});return De.onsuccess=Et(function(Fr){De.onsuccess=Ar,Ar()}),rt.continue=ct,rt.continuePrimaryKey=_t,rt.advance=it,Ar(),_g},Se(rt)):Se(null)},Ie)})},count:function(ae){var ie=ae.query,le=ae.trans,fe=ie.index,pe=ie.range;return new Promise(function(me,Se){var Ie=le.objectStore(ne),Ee=fe.isPrimaryKey?Ie:Ie.index(fe.name),Ie=I(pe),Ee=Ie?Ee.count(Ie):Ee.count();Ee.onsuccess=Et(function(Te){return me(Te.target.result)}),Ee.onerror=dr(Se)})}}}var F,W,H,re=(W=Q,H=eh((F=g).objectStoreNames),{schema:{name:F.name,tables:H.map(function(se){return W.objectStore(se)}).map(function(se){var J=se.keyPath,ie=se.autoIncrement,ne=o(J),ae={},ie={name:se.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:J==null,compound:ne,keyPath:J,autoIncrement:ie,unique:!0,extractKey:Ps(J)},indexes:eh(se.indexNames).map(function(le){return se.index(le)}).map(function(me){var fe=me.name,pe=me.unique,Se=me.multiEntry,me=me.keyPath,Se={name:fe,compound:o(me),keyPath:me,unique:pe,multiEntry:Se,extractKey:Ps(me)};return ae[zt(me)]=Se}),getIndexByKeyPath:function(le){return ae[zt(le)]}};return ae[":id"]=ie.primaryKey,J!=null&&(ae[zt(J)]=ie.primaryKey),ie})},hasGetAll:0<H.length&&"getAll"in W.objectStore(H[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Q=re.schema,ee=re.hasGetAll,re=Q.tables.map(L),G={};return re.forEach(function(se){return G[se.name]=se}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(se){if(!G[se])throw new Error("Table '".concat(se,"' not found"));return G[se]},MIN_KEY:-1/0,MAX_KEY:pa(w),schema:Q}}function Pb(g,w,T,I){var L=T.IDBKeyRange;return T.indexedDB,{dbcore:(I=Ab(w,L,I),g.dbcore.reduce(function(F,W){return W=W.create,r(r({},F),W(F))},I))}}function Ul(g,I){var T=I.db,I=Pb(g._middlewares,T,g._deps,I);g.core=I.dbcore,g.tables.forEach(function(L){var F=L.name;g.core.schema.tables.some(function(W){return W.name===F})&&(L.core=g.core.table(F),g[F]instanceof g.Table&&(g[F].core=L.core))})}function Wl(g,w,T,I){T.forEach(function(L){var F=I[L];w.forEach(function(W){var H=function Q(ee,re){return b(ee,re)||(ee=u(ee))&&Q(ee,re)}(W,L);(!H||"value"in H&&H.value===void 0)&&(W===g.Transaction.prototype||W instanceof g.Transaction?v(W,L,{get:function(){return this.table(L)},set:function(Q){p(this,L,{value:Q,writable:!0,configurable:!0,enumerable:!0})}}):W[L]=new g.Table(L,F))})})}function wu(g,w){w.forEach(function(T){for(var I in T)T[I]instanceof g.Table&&delete T[I]})}function _u(g,w){return g._cfg.version-w._cfg.version}function xg(g,w,T,I){var L=g._dbSchema;T.objectStoreNames.contains("$meta")&&!L.$meta&&(L.$meta=bu("$meta",rh("")[0],[]),g._storeNames.push("$meta"));var F=g._createTransaction("readwrite",g._storeNames,L);F.create(T),F._completion.catch(I);var W=F._reject.bind(F),H=Fe.transless||Fe;_i(function(){return Fe.trans=F,Fe.transless=H,w!==0?(Ul(g,T),ee=w,((Q=F).storeNames.includes("$meta")?Q.table("$meta").get("version").then(function(re){return re??ee}):ke.resolve(ee)).then(function(re){return se=re,J=F,ne=T,ae=[],re=(G=g)._versions,ie=G._dbSchema=Eo(0,G.idbdb,ne),(re=re.filter(function(le){return le._cfg.version>=se})).length!==0?(re.forEach(function(le){ae.push(function(){var fe=ie,pe=le._cfg.dbschema;Es(G,fe,ne),Es(G,pe,ne),ie=G._dbSchema=pe;var me=Su(fe,pe);me.add.forEach(function(Me){nh(ne,Me[0],Me[1].primKey,Me[1].indexes)}),me.change.forEach(function(Me){if(Me.recreate)throw new Z.Upgrade("Not yet support for changing primary key");var De=ne.objectStore(Me.name);Me.add.forEach(function(Re){return Kl(De,Re)}),Me.change.forEach(function(Re){De.deleteIndex(Re.name),Kl(De,Re)}),Me.del.forEach(function(Re){return De.deleteIndex(Re)})});var Se=le._cfg.contentUpgrade;if(Se&&le._cfg.version>se){Ul(G,ne),J._memoizedTables={};var Ie=A(pe);me.del.forEach(function(Me){Ie[Me]=fe[Me]}),wu(G,[G.Transaction.prototype]),Wl(G,[G.Transaction.prototype],s(Ie),Ie),J.schema=Ie;var Ee,Te=ue(Se);return Te&&ws(),me=ke.follow(function(){var Me;(Ee=Se(J))&&Te&&(Me=Fi.bind(null,null),Ee.then(Me,Me))}),Ee&&typeof Ee.then=="function"?ke.resolve(Ee):me.then(function(){return Ee})}}),ae.push(function(fe){var pe,me,Se=le._cfg.dbschema;pe=Se,me=fe,[].slice.call(me.db.objectStoreNames).forEach(function(Ie){return pe[Ie]==null&&me.db.deleteObjectStore(Ie)}),wu(G,[G.Transaction.prototype]),Wl(G,[G.Transaction.prototype],G._storeNames,G._dbSchema),J.schema=G._dbSchema}),ae.push(function(fe){G.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(G.idbdb.version/10)===le._cfg.version?(G.idbdb.deleteObjectStore("$meta"),delete G._dbSchema.$meta,G._storeNames=G._storeNames.filter(function(pe){return pe!=="$meta"})):fe.objectStore("$meta").put(le._cfg.version,"version"))})}),function le(){return ae.length?ke.resolve(ae.shift()(J.idbtrans)).then(le):ke.resolve()}().then(function(){Po(ie,ne)})):ke.resolve();var G,se,J,ne,ae,ie}).catch(W)):(s(L).forEach(function(re){nh(T,re,L[re].primKey,L[re].indexes)}),Ul(g,T),void ke.follow(function(){return g.on.populate.fire(F)}).catch(W));var Q,ee})}function ma(g,w){Po(g._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var T=Eo(0,g.idbdb,w);Es(g,g._dbSchema,w);for(var I=0,L=Su(T,g._dbSchema).change;I<L.length;I++){var F=function(W){if(W.change.length||W.recreate)return console.warn("Unable to patch indexes of table ".concat(W.name," because it has changes on the type of index or primary key.")),{value:void 0};var H=w.objectStore(W.name);W.add.forEach(function(Q){dn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(W.name,".").concat(Q.src)),Kl(H,Q)})}(L[I]);if(typeof F=="object")return F.value}}function Su(g,w){var T,I={del:[],add:[],change:[]};for(T in g)w[T]||I.del.push(T);for(T in w){var L=g[T],F=w[T];if(L){var W={name:T,def:F,recreate:!1,del:[],add:[],change:[]};if(""+(L.primKey.keyPath||"")!=""+(F.primKey.keyPath||"")||L.primKey.auto!==F.primKey.auto)W.recreate=!0,I.change.push(W);else{var H=L.idxByName,Q=F.idxByName,ee=void 0;for(ee in H)Q[ee]||W.del.push(ee);for(ee in Q){var re=H[ee],G=Q[ee];re?re.src!==G.src&&W.change.push(G):W.add.push(G)}(0<W.del.length||0<W.add.length||0<W.change.length)&&I.change.push(W)}}else I.add.push([T,F])}return I}function nh(g,w,T,I){var L=g.db.createObjectStore(w,T.keyPath?{keyPath:T.keyPath,autoIncrement:T.auto}:{autoIncrement:T.auto});return I.forEach(function(F){return Kl(L,F)}),L}function Po(g,w){s(g).forEach(function(T){w.db.objectStoreNames.contains(T)||(dn&&console.debug("Dexie: Creating missing table",T),nh(w,T,g[T].primKey,g[T].indexes))})}function Kl(g,w){g.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function Eo(g,w,T){var I={};return _(w.objectStoreNames,0).forEach(function(L){for(var F=T.objectStore(L),W=Ao(Bl(ee=F.keyPath),ee||"",!0,!1,!!F.autoIncrement,ee&&typeof ee!="string",!0),H=[],Q=0;Q<F.indexNames.length;++Q){var re=F.index(F.indexNames[Q]),ee=re.keyPath,re=Ao(re.name,ee,!!re.unique,!!re.multiEntry,!1,ee&&typeof ee!="string",!1);H.push(re)}I[L]=bu(L,W,H)}),I}function Es(g,w,T){for(var I=T.db.objectStoreNames,L=0;L<I.length;++L){var F=I[L],W=T.objectStore(F);g._hasGetAll="getAll"in W;for(var H=0;H<W.indexNames.length;++H){var Q=W.indexNames[H],ee=W.index(Q).keyPath,re=typeof ee=="string"?ee:"["+_(ee).join("+")+"]";!w[F]||(ee=w[F].idxByName[re])&&(ee.name=Q,delete w[F].idxByName[re],w[F].idxByName[Q]=ee)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function rh(g){return g.split(",").map(function(w,T){var F=w.split(":"),I=(L=F[1])===null||L===void 0?void 0:L.trim(),L=(w=F[0].trim()).replace(/([&*]|\+\+)/g,""),F=/^\[/.test(L)?L.match(/^\[(.*)\]$/)[1].split("+"):L;return Ao(L,F||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),o(F),T===0,I)})}var ju=(To.prototype._createTableSchema=bu,To.prototype._parseIndexSyntax=rh,To.prototype._parseStoresSpec=function(g,w){var T=this;s(g).forEach(function(I){if(g[I]!==null){var L=T._parseIndexSyntax(g[I]),F=L.shift();if(!F)throw new Z.Schema("Invalid schema for table "+I+": "+g[I]);if(F.unique=!0,F.multi)throw new Z.Schema("Primary key cannot be multiEntry*");L.forEach(function(W){if(W.auto)throw new Z.Schema("Only primary key can be marked as autoIncrement (++)");if(!W.keyPath)throw new Z.Schema("Index must have a name and cannot be an empty string")}),L=T._createTableSchema(I,F,L),w[I]=L}})},To.prototype.stores=function(T){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,T):T;var T=w._versions,I={},L={};return T.forEach(function(F){c(I,F._cfg.storesSource),L=F._cfg.dbschema={},F._parseStoresSpec(I,L)}),w._dbSchema=L,wu(w,[w._allTables,w,w.Transaction.prototype]),Wl(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],s(L),L),w._storeNames=s(L),this},To.prototype.upgrade=function(g){return this._cfg.contentUpgrade=Jr(this._cfg.contentUpgrade||de,g),this},To);function To(){}function Au(g,w){var T=g._dbNamesDB;return T||(T=g._dbNamesDB=new ks(Wa,{addons:[],indexedDB:g,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),T.table("dbnames")}function Ts(g){return g&&typeof g.databases=="function"}function Pu(g){return _i(function(){return Fe.letThrough=!0,g()})}function Eu(g){return!("from"in g)}var In=function(g,w){if(!this){var T=new In;return g&&"d"in g&&c(T,g),T}c(this,arguments.length?{d:1,from:g,to:1<arguments.length?w:g}:{d:0})};function Cs(g,w,T){var I=ht(w,T);if(!isNaN(I)){if(0<I)throw RangeError();if(Eu(g))return c(g,{from:w,to:T,d:1});var L=g.l,I=g.r;if(ht(T,g.from)<0)return L?Cs(L,w,T):g.l={from:w,to:T,d:1,l:null,r:null},ih(g);if(0<ht(w,g.to))return I?Cs(I,w,T):g.r={from:w,to:T,d:1,l:null,r:null},ih(g);ht(w,g.from)<0&&(g.from=w,g.l=null,g.d=I?I.d+1:1),0<ht(T,g.to)&&(g.to=T,g.r=null,g.d=g.l?g.l.d+1:1),T=!g.r,L&&!g.l&&Co(g,L),I&&T&&Co(g,I)}}function Co(g,w){Eu(w)||function T(I,Q){var F=Q.from,W=Q.to,H=Q.l,Q=Q.r;Cs(I,F,W),H&&T(I,H),Q&&T(I,Q)}(g,w)}function ql(g,w){var T=Hl(w),I=T.next();if(I.done)return!1;for(var L=I.value,F=Hl(g),W=F.next(L.from),H=W.value;!I.done&&!W.done;){if(ht(H.from,L.to)<=0&&0<=ht(H.to,L.from))return!0;ht(L.from,H.from)<0?L=(I=T.next(H.from)).value:H=(W=F.next(L.from)).value}return!1}function Hl(g){var w=Eu(g)?null:{s:0,n:g};return{next:function(T){for(var I=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,I)for(;w.n.l&&ht(T,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!I||ht(T,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function ih(g){var w,T,I=(((w=g.r)===null||w===void 0?void 0:w.d)||0)-(((T=g.l)===null||T===void 0?void 0:T.d)||0),L=1<I?"r":I<-1?"l":"";L&&(w=L=="r"?"l":"r",T=r({},g),I=g[L],g.from=I.from,g.to=I.to,g[L]=I[L],T[L]=I[w],(g[w]=T).d=Ha(T)),g.d=Ha(g)}function Ha(T){var w=T.r,T=T.l;return(w?T?Math.max(w.d,T.d):w.d:T?T.d:0)+1}function Gl(g,w){return s(w).forEach(function(T){g[T]?Co(g[T],w[T]):g[T]=function I(L){var F,W,H={};for(F in L)f(L,F)&&(W=L[F],H[F]=!W||typeof W!="object"||R.has(W.constructor)?W:I(W));return H}(w[T])}),g}function Tu(g,w){return g.all||w.all||Object.keys(g).some(function(T){return w[T]&&ql(w[T],g[T])})}h(In.prototype,((Bi={add:function(g){return Co(this,g),this},addKey:function(g){return Cs(this,g,g),this},addKeys:function(g){var w=this;return g.forEach(function(T){return Cs(w,T,T)}),this},hasKey:function(g){var w=Hl(this).next(g).value;return w&&ht(w.from,g)<=0&&0<=ht(w.to,g)}})[U]=function(){return Hl(this)},Bi));var Ga={},Cu={},ko=!1;function tr(g){Gl(Cu,g),ko||(ko=!0,setTimeout(function(){ko=!1,ku(Cu,!(Cu={}))},0))}function ku(g,w){w===void 0&&(w=!1);var T=new Set;if(g.all)for(var I=0,L=Object.values(Ga);I<L.length;I++)ah(W=L[I],g,T,w);else for(var F in g){var W,H=/^idb\:\/\/(.*)\/(.*)\//.exec(F);H&&(F=H[1],H=H[2],(W=Ga["idb://".concat(F,"/").concat(H)])&&ah(W,g,T,w))}T.forEach(function(Q){return Q()})}function ah(g,w,T,I){for(var L=[],F=0,W=Object.entries(g.queries.query);F<W.length;F++){for(var H=W[F],Q=H[0],ee=[],re=0,G=H[1];re<G.length;re++){var se=G[re];Tu(w,se.obsSet)?se.subscribers.forEach(function(ie){return T.add(ie)}):I&&ee.push(se)}I&&L.push([Q,ee])}if(I)for(var J=0,ne=L;J<ne.length;J++){var ae=ne[J],Q=ae[0],ee=ae[1];g.queries.query[Q]=ee}}function No(g){var w=g._state,T=g._deps.indexedDB;if(w.isBeingOpened||g.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?an(w.dbOpenError):g});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var I=w.openCanceller,L=Math.round(10*g.verno),F=!1;function W(){if(w.openCanceller!==I)throw new Z.DatabaseClosed("db.open() was cancelled")}function H(){return new ke(function(se,J){if(W(),!T)throw new Z.MissingAPI;var ne=g.name,ae=w.autoSchema||!L?T.open(ne):T.open(ne,L);if(!ae)throw new Z.MissingAPI;ae.onerror=dr(J),ae.onblocked=Et(g._fireOnBlocked),ae.onupgradeneeded=Et(function(ie){var le;re=ae.transaction,w.autoSchema&&!g._options.allowEmptyDB?(ae.onerror=Fl,re.abort(),ae.result.close(),(le=T.deleteDatabase(ne)).onsuccess=le.onerror=Et(function(){J(new Z.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})):(re.onerror=dr(J),ie=ie.oldVersion>Math.pow(2,62)?0:ie.oldVersion,G=ie<1,g.idbdb=ae.result,F&&ma(g,re),xg(g,ie/10,re,J))},J),ae.onsuccess=Et(function(){re=null;var ie,le,fe,pe,me,Se=g.idbdb=ae.result,Ie=_(Se.objectStoreNames);if(0<Ie.length)try{var Ee=Se.transaction((pe=Ie).length===1?pe[0]:pe,"readonly");if(w.autoSchema)le=Se,fe=Ee,(ie=g).verno=le.version/10,fe=ie._dbSchema=Eo(0,le,fe),ie._storeNames=_(le.objectStoreNames,0),Wl(ie,[ie._allTables],s(fe),fe);else if(Es(g,g._dbSchema,Ee),((me=Su(Eo(0,(me=g).idbdb,Ee),me._dbSchema)).add.length||me.change.some(function(Te){return Te.add.length||Te.change.length}))&&!F)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),L=Se.version+1,F=!0,se(H());Ul(g,Ee)}catch{}Ua.push(g),Se.onversionchange=Et(function(Te){w.vcFired=!0,g.on("versionchange").fire(Te)}),Se.onclose=Et(function(Te){g.on("close").fire(Te)}),G&&(me=g._deps,Ee=ne,Se=me.indexedDB,me=me.IDBKeyRange,Ts(Se)||Ee===Wa||Au(Se,me).put({name:Ee}).catch(de)),se()},J)}).catch(function(se){switch(se==null?void 0:se.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),H();break;case"VersionError":if(0<L)return L=0,H()}return ke.reject(se)})}var Q,ee=w.dbReadyResolve,re=null,G=!1;return ke.race([I,(typeof navigator>"u"?ke.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(se){function J(){return indexedDB.databases().finally(se)}Q=setInterval(J,100),J()}).finally(function(){return clearInterval(Q)}):Promise.resolve()).then(H)]).then(function(){return W(),w.onReadyBeingFired=[],ke.resolve(Pu(function(){return g.on.ready.fire(g.vip)})).then(function se(){if(0<w.onReadyBeingFired.length){var J=w.onReadyBeingFired.reduce(Jr,de);return w.onReadyBeingFired=[],ke.resolve(Pu(function(){return J(g.vip)})).then(se)}})}).finally(function(){w.openCanceller===I&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(se){w.dbOpenError=se;try{re&&re.abort()}catch{}return I===w.openCanceller&&g._close(),an(se)}).finally(function(){w.openComplete=!0,ee()}).then(function(){var se;return G&&(se={},g.tables.forEach(function(J){J.schema.indexes.forEach(function(ne){ne.name&&(se["idb://".concat(g.name,"/").concat(J.name,"/").concat(ne.name)]=new In(-1/0,[[[]]]))}),se["idb://".concat(g.name,"/").concat(J.name,"/")]=se["idb://".concat(g.name,"/").concat(J.name,"/:dels")]=new In(-1/0,[[[]]])}),fr(Vl).fire(se),ku(se,!0)),g})}function m(g){function w(F){return g.next(F)}var T=L(w),I=L(function(F){return g.throw(F)});function L(F){return function(Q){var H=F(Q),Q=H.value;return H.done?Q:Q&&typeof Q.then=="function"?Q.then(T,I):o(Q)?Promise.all(Q).then(T,I):T(Q)}}return L(w)()}function k(g,w,T){for(var I=o(g)?g.slice():[g],L=0;L<T;++L)I.push(w);return I}var M={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return r(r({},g),{table:function(w){var T=g.table(w),I=T.schema,L={},F=[];function W(G,se,J){var ne=zt(G),ae=L[ne]=L[ne]||[],ie=G==null?0:typeof G=="string"?1:G.length,le=0<se,le=r(r({},J),{name:le?"".concat(ne,"(virtual-from:").concat(J.name,")"):J.name,lowLevelIndex:J,isVirtual:le,keyTail:se,keyLength:ie,extractKey:Ps(G),unique:!le&&J.unique});return ae.push(le),le.isPrimaryKey||F.push(le),1<ie&&W(ie===2?G[0]:G.slice(0,ie-1),se+1,J),ae.sort(function(fe,pe){return fe.keyTail-pe.keyTail}),le}w=W(I.primaryKey.keyPath,0,I.primaryKey),L[":id"]=[w];for(var H=0,Q=I.indexes;H<Q.length;H++){var ee=Q[H];W(ee.keyPath,0,ee)}function re(G){var se,J=G.query.index;return J.isVirtual?r(r({},G),{query:{index:J.lowLevelIndex,range:(se=G.query.range,J=J.keyTail,{type:se.type===1?2:se.type,lower:k(se.lower,se.lowerOpen?g.MAX_KEY:g.MIN_KEY,J),lowerOpen:!0,upper:k(se.upper,se.upperOpen?g.MIN_KEY:g.MAX_KEY,J),upperOpen:!0})}}):G}return r(r({},T),{schema:r(r({},I),{primaryKey:w,indexes:F,getIndexByKeyPath:function(G){return(G=L[zt(G)])&&G[0]}}),count:function(G){return T.count(re(G))},query:function(G){return T.query(re(G))},openCursor:function(G){var se=G.query.index,J=se.keyTail,ne=se.isVirtual,ae=se.keyLength;return ne?T.openCursor(re(G)).then(function(le){return le&&ie(le)}):T.openCursor(G);function ie(le){return Object.create(le,{continue:{value:function(fe){fe!=null?le.continue(k(fe,G.reverse?g.MAX_KEY:g.MIN_KEY,J)):G.unique?le.continue(le.key.slice(0,ae).concat(G.reverse?g.MIN_KEY:g.MAX_KEY,J)):le.continue()}},continuePrimaryKey:{value:function(fe,pe){le.continuePrimaryKey(k(fe,g.MAX_KEY,J),pe)}},primaryKey:{get:function(){return le.primaryKey}},key:{get:function(){var fe=le.key;return ae===1?fe[0]:fe.slice(0,ae)}},value:{get:function(){return le.value}}})}}})}})}};function B(g,w,T,I){return T=T||{},I=I||"",s(g).forEach(function(L){var F,W,H;f(w,L)?(F=g[L],W=w[L],typeof F=="object"&&typeof W=="object"&&F&&W?(H=te(F))!==te(W)?T[I+L]=w[L]:H==="Object"?B(F,W,T,I+L+"."):F!==W&&(T[I+L]=w[L]):F!==W&&(T[I+L]=w[L])):T[I+L]=void 0}),s(w).forEach(function(L){f(g,L)||(T[I+L]=w[L])}),T}function ce(g,w){return w.type==="delete"?w.keys:w.keys||w.values.map(g.extractKey)}var he={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return r(r({},g),{table:function(w){var T=g.table(w),I=T.schema.primaryKey;return r(r({},T),{mutate:function(L){var F=Fe.trans,W=F.table(w).hook,H=W.deleting,Q=W.creating,ee=W.updating;switch(L.type){case"add":if(Q.fire===de)break;return F._promise("readwrite",function(){return re(L)},!0);case"put":if(Q.fire===de&&ee.fire===de)break;return F._promise("readwrite",function(){return re(L)},!0);case"delete":if(H.fire===de)break;return F._promise("readwrite",function(){return re(L)},!0);case"deleteRange":if(H.fire===de)break;return F._promise("readwrite",function(){return function G(se,J,ne){return T.query({trans:se,values:!1,query:{index:I,range:J},limit:ne}).then(function(ae){var ie=ae.result;return re({type:"delete",keys:ie,trans:se}).then(function(le){return 0<le.numFailures?Promise.reject(le.failures[0]):ie.length<ne?{failures:[],numFailures:0,lastResult:void 0}:G(se,r(r({},J),{lower:ie[ie.length-1],lowerOpen:!0}),ne)})})}(L.trans,L.range,1e4)},!0)}return T.mutate(L);function re(G){var se,J,ne,ae=Fe.trans,ie=G.keys||ce(I,G);if(!ie)throw new Error("Keys missing");return(G=G.type==="add"||G.type==="put"?r(r({},G),{keys:ie}):r({},G)).type!=="delete"&&(G.values=i([],G.values)),G.keys&&(G.keys=i([],G.keys)),se=T,ne=ie,((J=G).type==="add"?Promise.resolve([]):se.getMany({trans:J.trans,keys:ne,cache:"immutable"})).then(function(le){var fe=ie.map(function(pe,me){var Se,Ie,Ee,Te=le[me],Me={onerror:null,onsuccess:null};return G.type==="delete"?H.fire.call(Me,pe,Te,ae):G.type==="add"||Te===void 0?(Se=Q.fire.call(Me,pe,G.values[me],ae),pe==null&&Se!=null&&(G.keys[me]=pe=Se,I.outbound||j(G.values[me],I.keyPath,pe))):(Se=B(Te,G.values[me]),(Ie=ee.fire.call(Me,Se,pe,Te,ae))&&(Ee=G.values[me],Object.keys(Ie).forEach(function(De){f(Ee,De)?Ee[De]=Ie[De]:j(Ee,De,Ie[De])}))),Me});return T.mutate(G).then(function(pe){for(var me=pe.failures,Se=pe.results,Ie=pe.numFailures,pe=pe.lastResult,Ee=0;Ee<ie.length;++Ee){var Te=(Se||ie)[Ee],Me=fe[Ee];Te==null?Me.onerror&&Me.onerror(me[Ee]):Me.onsuccess&&Me.onsuccess(G.type==="put"&&le[Ee]?G.values[Ee]:Te)}return{failures:me,results:Se,numFailures:Ie,lastResult:pe}}).catch(function(pe){return fe.forEach(function(me){return me.onerror&&me.onerror(pe)}),Promise.reject(pe)})})}}})}})}};function Oe(g,w,T){try{if(!w||w.keys.length<g.length)return null;for(var I=[],L=0,F=0;L<w.keys.length&&F<g.length;++L)ht(w.keys[L],g[F])===0&&(I.push(T?z(w.values[L]):w.values[L]),++F);return I.length===g.length?I:null}catch{return null}}var Ot={stack:"dbcore",level:-1,create:function(g){return{table:function(w){var T=g.table(w);return r(r({},T),{getMany:function(I){if(!I.cache)return T.getMany(I);var L=Oe(I.keys,I.trans._cache,I.cache==="clone");return L?ke.resolve(L):T.getMany(I).then(function(F){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?z(F):F},F})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),T.mutate(I)}})}}}};function Dn(g,w){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function vt(g,w){switch(g){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var nr={stack:"dbcore",level:0,name:"Observability",create:function(g){var w=g.schema.name,T=new In(g.MIN_KEY,g.MAX_KEY);return r(r({},g),{transaction:function(I,L,F){if(Fe.subscr&&L!=="readonly")throw new Z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Fe.querier));return g.transaction(I,L,F)},table:function(I){var L=g.table(I),F=L.schema,W=F.primaryKey,G=F.indexes,H=W.extractKey,Q=W.outbound,ee=W.autoIncrement&&G.filter(function(J){return J.compound&&J.keyPath.includes(W.keyPath)}),re=r(r({},L),{mutate:function(J){function ne(De){return De="idb://".concat(w,"/").concat(I,"/").concat(De),pe[De]||(pe[De]=new In)}var ae,ie,le,fe=J.trans,pe=J.mutatedParts||(J.mutatedParts={}),me=ne(""),Se=ne(":dels"),Ie=J.type,Me=J.type==="deleteRange"?[J.range]:J.type==="delete"?[J.keys]:J.values.length<50?[ce(W,J).filter(function(De){return De}),J.values]:[],Ee=Me[0],Te=Me[1],Me=J.trans._cache;return o(Ee)?(me.addKeys(Ee),(Me=Ie==="delete"||Ee.length===Te.length?Oe(Ee,Me):null)||Se.addKeys(Ee),(Me||Te)&&(ae=ne,ie=Me,le=Te,F.indexes.forEach(function(De){var Re=ae(De.name||"");function ct(it){return it!=null?De.extractKey(it):null}function _t(it){return De.multiEntry&&o(it)?it.forEach(function(xn){return Re.addKey(xn)}):Re.addKey(it)}(ie||le).forEach(function(it,jr){var rt=ie&&ct(ie[jr]),jr=le&&ct(le[jr]);ht(rt,jr)!==0&&(rt!=null&&_t(rt),jr!=null&&_t(jr))})}))):Ee?(Te={from:(Te=Ee.lower)!==null&&Te!==void 0?Te:g.MIN_KEY,to:(Te=Ee.upper)!==null&&Te!==void 0?Te:g.MAX_KEY},Se.add(Te),me.add(Te)):(me.add(T),Se.add(T),F.indexes.forEach(function(De){return ne(De.name).add(T)})),L.mutate(J).then(function(De){return!Ee||J.type!=="add"&&J.type!=="put"||(me.addKeys(De.results),ee&&ee.forEach(function(Re){for(var ct=J.values.map(function(rt){return Re.extractKey(rt)}),_t=Re.keyPath.findIndex(function(rt){return rt===W.keyPath}),it=0,xn=De.results.length;it<xn;++it)ct[it][_t]=De.results[it];ne(Re.name).addKeys(ct)})),fe.mutatedParts=Gl(fe.mutatedParts||{},pe),De})}}),G=function(ne){var ae=ne.query,ne=ae.index,ae=ae.range;return[ne,new In((ne=ae.lower)!==null&&ne!==void 0?ne:g.MIN_KEY,(ae=ae.upper)!==null&&ae!==void 0?ae:g.MAX_KEY)]},se={get:function(J){return[W,new In(J.key)]},getMany:function(J){return[W,new In().addKeys(J.keys)]},count:G,query:G,openCursor:G};return s(se).forEach(function(J){re[J]=function(ne){var ae=Fe.subscr,ie=!!ae,le=Dn(Fe,L)&&vt(J,ne)?ne.obsSet={}:ae;if(ie){var fe=function(Te){return Te="idb://".concat(w,"/").concat(I,"/").concat(Te),le[Te]||(le[Te]=new In)},pe=fe(""),me=fe(":dels"),ae=se[J](ne),ie=ae[0],ae=ae[1];if((J==="query"&&ie.isPrimaryKey&&!ne.values?me:fe(ie.name||"")).add(ae),!ie.isPrimaryKey){if(J!=="count"){var Se=J==="query"&&Q&&ne.values&&L.query(r(r({},ne),{values:!1}));return L[J].apply(this,arguments).then(function(Te){if(J==="query"){if(Q&&ne.values)return Se.then(function(ct){return ct=ct.result,pe.addKeys(ct),Te});var Me=ne.values?Te.result.map(H):Te.result;(ne.values?pe:me).addKeys(Me)}else if(J==="openCursor"){var De=Te,Re=ne.values;return De&&Object.create(De,{key:{get:function(){return me.addKey(De.primaryKey),De.key}},primaryKey:{get:function(){var ct=De.primaryKey;return me.addKey(ct),ct}},value:{get:function(){return Re&&pe.addKey(De.primaryKey),De.value}}})}return Te})}me.add(T)}}return L[J].apply(this,arguments)}}),re}})}};function Un(g,w,T){if(T.numFailures===0)return w;if(w.type==="deleteRange")return null;var I=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return T.numFailures===I?null:(w=r({},w),o(w.keys)&&(w.keys=w.keys.filter(function(L,F){return!(F in T.failures)})),"values"in w&&o(w.values)&&(w.values=w.values.filter(function(L,F){return!(F in T.failures)})),w)}function Ya(g,w){return T=g,((I=w).lower===void 0||(I.lowerOpen?0<ht(T,I.lower):0<=ht(T,I.lower)))&&(g=g,(w=w).upper===void 0||(w.upperOpen?ht(g,w.upper)<0:ht(g,w.upper)<=0));var T,I}function ni(g,w,se,I,L,F){if(!se||se.length===0)return g;var W=w.query.index,H=W.multiEntry,Q=w.query.range,ee=I.schema.primaryKey.extractKey,re=W.extractKey,G=(W.lowLevelIndex||W).extractKey,se=se.reduce(function(J,ne){var ae=J,ie=[];if(ne.type==="add"||ne.type==="put")for(var le=new In,fe=ne.values.length-1;0<=fe;--fe){var pe,me=ne.values[fe],Se=ee(me);le.hasKey(Se)||(pe=re(me),(H&&o(pe)?pe.some(function(De){return Ya(De,Q)}):Ya(pe,Q))&&(le.addKey(Se),ie.push(me)))}switch(ne.type){case"add":var Ie=new In().addKeys(w.values?J.map(function(Re){return ee(Re)}):J),ae=J.concat(w.values?ie.filter(function(Re){return Re=ee(Re),!Ie.hasKey(Re)&&(Ie.addKey(Re),!0)}):ie.map(function(Re){return ee(Re)}).filter(function(Re){return!Ie.hasKey(Re)&&(Ie.addKey(Re),!0)}));break;case"put":var Ee=new In().addKeys(ne.values.map(function(Re){return ee(Re)}));ae=J.filter(function(Re){return!Ee.hasKey(w.values?ee(Re):Re)}).concat(w.values?ie:ie.map(function(Re){return ee(Re)}));break;case"delete":var Te=new In().addKeys(ne.keys);ae=J.filter(function(Re){return!Te.hasKey(w.values?ee(Re):Re)});break;case"deleteRange":var Me=ne.range;ae=J.filter(function(Re){return!Ya(ee(Re),Me)})}return ae},g);return se===g?g:(se.sort(function(J,ne){return ht(G(J),G(ne))||ht(ee(J),ee(ne))}),w.limit&&w.limit<1/0&&(se.length>w.limit?se.length=w.limit:g.length===w.limit&&se.length<w.limit&&(L.dirty=!0)),F?Object.freeze(se):se)}function Yl(g,w){return ht(g.lower,w.lower)===0&&ht(g.upper,w.upper)===0&&!!g.lowerOpen==!!w.lowerOpen&&!!g.upperOpen==!!w.upperOpen}function sh(g,w){return function(T,I,L,F){if(T===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=ht(T,I))===0){if(L&&F)return 0;if(L)return 1;if(F)return-1}return I}(g.lower,w.lower,g.lowerOpen,w.lowerOpen)<=0&&0<=function(T,I,L,F){if(T===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=ht(T,I))===0){if(L&&F)return 0;if(L)return-1;if(F)return 1}return I}(g.upper,w.upper,g.upperOpen,w.upperOpen)}function _V(g,w,T,I){g.subscribers.add(T),I.addEventListener("abort",function(){var L,F;g.subscribers.delete(T),g.subscribers.size===0&&(L=g,F=w,setTimeout(function(){L.subscribers.size===0&&V(F,L)},3e3))})}var SV={stack:"dbcore",level:0,name:"Cache",create:function(g){var w=g.schema.name;return r(r({},g),{transaction:function(T,I,L){var F,W,H=g.transaction(T,I,L);return I==="readwrite"&&(W=(F=new AbortController).signal,L=function(Q){return function(){if(F.abort(),I==="readwrite"){for(var ee=new Set,re=0,G=T;re<G.length;re++){var se=G[re],J=Ga["idb://".concat(w,"/").concat(se)];if(J){var ne=g.table(se),ae=J.optimisticOps.filter(function(Re){return Re.trans===H});if(H._explicit&&Q&&H.mutatedParts)for(var ie=0,le=Object.values(J.queries.query);ie<le.length;ie++)for(var fe=0,pe=(Ie=le[ie]).slice();fe<pe.length;fe++)Tu((Ee=pe[fe]).obsSet,H.mutatedParts)&&(V(Ie,Ee),Ee.subscribers.forEach(function(Re){return ee.add(Re)}));else if(0<ae.length){J.optimisticOps=J.optimisticOps.filter(function(Re){return Re.trans!==H});for(var me=0,Se=Object.values(J.queries.query);me<Se.length;me++)for(var Ie,Ee,Te,Me=0,De=(Ie=Se[me]).slice();Me<De.length;Me++)(Ee=De[Me]).res!=null&&H.mutatedParts&&(Q&&!Ee.dirty?(Te=Object.isFrozen(Ee.res),Te=ni(Ee.res,Ee.req,ae,ne,Ee,Te),Ee.dirty?(V(Ie,Ee),Ee.subscribers.forEach(function(Re){return ee.add(Re)})):Te!==Ee.res&&(Ee.res=Te,Ee.promise=ke.resolve({result:Te}))):(Ee.dirty&&V(Ie,Ee),Ee.subscribers.forEach(function(Re){return ee.add(Re)})))}}}ee.forEach(function(Re){return Re()})}}},H.addEventListener("abort",L(!1),{signal:W}),H.addEventListener("error",L(!1),{signal:W}),H.addEventListener("complete",L(!0),{signal:W})),H},table:function(T){var I=g.table(T),L=I.schema.primaryKey;return r(r({},I),{mutate:function(F){var W=Fe.trans;if(L.outbound||W.db._options.cache==="disabled"||W.explicit||W.idbtrans.mode!=="readwrite")return I.mutate(F);var H=Ga["idb://".concat(w,"/").concat(T)];return H?(W=I.mutate(F),F.type!=="add"&&F.type!=="put"||!(50<=F.values.length||ce(L,F).some(function(Q){return Q==null}))?(H.optimisticOps.push(F),F.mutatedParts&&tr(F.mutatedParts),W.then(function(Q){0<Q.numFailures&&(V(H.optimisticOps,F),(Q=Un(0,F,Q))&&H.optimisticOps.push(Q),F.mutatedParts&&tr(F.mutatedParts))}),W.catch(function(){V(H.optimisticOps,F),F.mutatedParts&&tr(F.mutatedParts)})):W.then(function(Q){var ee=Un(0,r(r({},F),{values:F.values.map(function(re,G){var se;return Q.failures[G]?re:(re=(se=L.keyPath)!==null&&se!==void 0&&se.includes(".")?z(re):r({},re),j(re,L.keyPath,Q.results[G]),re)})}),Q);H.optimisticOps.push(ee),queueMicrotask(function(){return F.mutatedParts&&tr(F.mutatedParts)})}),W):I.mutate(F)},query:function(F){if(!Dn(Fe,I)||!vt("query",F))return I.query(F);var W=((ee=Fe.trans)===null||ee===void 0?void 0:ee.db._options.cache)==="immutable",G=Fe,H=G.requery,Q=G.signal,ee=function(ne,ae,ie,le){var fe=Ga["idb://".concat(ne,"/").concat(ae)];if(!fe)return[];if(!(ae=fe.queries[ie]))return[null,!1,fe,null];var pe=ae[(le.query?le.query.index.name:null)||""];if(!pe)return[null,!1,fe,null];switch(ie){case"query":var me=pe.find(function(Se){return Se.req.limit===le.limit&&Se.req.values===le.values&&Yl(Se.req.query.range,le.query.range)});return me?[me,!0,fe,pe]:[pe.find(function(Se){return("limit"in Se.req?Se.req.limit:1/0)>=le.limit&&(!le.values||Se.req.values)&&sh(Se.req.query.range,le.query.range)}),!1,fe,pe];case"count":return me=pe.find(function(Se){return Yl(Se.req.query.range,le.query.range)}),[me,!!me,fe,pe]}}(w,T,"query",F),re=ee[0],G=ee[1],se=ee[2],J=ee[3];return re&&G?re.obsSet=F.obsSet:(G=I.query(F).then(function(ne){var ae=ne.result;if(re&&(re.res=ae),W){for(var ie=0,le=ae.length;ie<le;++ie)Object.freeze(ae[ie]);Object.freeze(ae)}else ne.result=z(ae);return ne}).catch(function(ne){return J&&re&&V(J,re),Promise.reject(ne)}),re={obsSet:F.obsSet,promise:G,subscribers:new Set,type:"query",req:F,dirty:!1},J?J.push(re):(J=[re],(se=se||(Ga["idb://".concat(w,"/").concat(T)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[F.query.index.name||""]=J)),_V(re,J,H,Q),re.promise.then(function(ne){return{result:ni(ne.result,F,se==null?void 0:se.optimisticOps,I,re,W)}})}})}})}};function bg(g,w){return new Proxy(g,{get:function(T,I,L){return I==="db"?w:Reflect.get(T,I,L)}})}var ks=(An.prototype.version=function(g){if(isNaN(g)||g<.1)throw new Z.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new Z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var w=this._versions,T=w.filter(function(I){return I._cfg.version===g})[0];return T||(T=new this.Version(g),w.push(T),w.sort(_u),T.stores({}),this._state.autoSchema=!1,T)},An.prototype._whenReady=function(g){var w=this;return this.idbdb&&(this._state.openComplete||Fe.letThrough||this._vip)?g():new ke(function(T,I){if(w._state.openComplete)return I(new Z.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void I(new Z.DatabaseClosed);w.open().catch(de)}w._state.dbReadyPromise.then(T,I)}).then(g)},An.prototype.use=function(g){var w=g.stack,T=g.create,I=g.level,L=g.name;return L&&this.unuse({stack:w,name:L}),g=this._middlewares[w]||(this._middlewares[w]=[]),g.push({stack:w,create:T,level:I??10,name:L}),g.sort(function(F,W){return F.level-W.level}),this},An.prototype.unuse=function(g){var w=g.stack,T=g.name,I=g.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(L){return I?L.create!==I:!!T&&L.name!==T})),this},An.prototype.open=function(){var g=this;return da(ei,function(){return No(g)})},An.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var g=this._state,w=Ua.indexOf(this);if(0<=w&&Ua.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new ke(function(T){g.dbReadyResolve=T}),g.openCanceller=new ke(function(T,I){g.cancelOpen=I}))},An.prototype.close=function(T){var w=(T===void 0?{disableAutoOpen:!0}:T).disableAutoOpen,T=this._state;w?(T.isBeingOpened&&T.cancelOpen(new Z.DatabaseClosed),this._close(),T.autoOpen=!1,T.dbOpenError=new Z.DatabaseClosed):(this._close(),T.autoOpen=this._options.autoOpen||T.isBeingOpened,T.openComplete=!1,T.dbOpenError=null)},An.prototype.delete=function(g){var w=this;g===void 0&&(g={disableAutoOpen:!0});var T=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new ke(function(L,F){function W(){w.close(g);var H=w._deps.indexedDB.deleteDatabase(w.name);H.onsuccess=Et(function(){var Q,ee,re;Q=w._deps,ee=w.name,re=Q.indexedDB,Q=Q.IDBKeyRange,Ts(re)||ee===Wa||Au(re,Q).delete(ee).catch(de),L()}),H.onerror=dr(F),H.onblocked=w._fireOnBlocked}if(T)throw new Z.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(W):W()})},An.prototype.backendDB=function(){return this.idbdb},An.prototype.isOpen=function(){return this.idbdb!==null},An.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},An.prototype.hasFailed=function(){return this._state.dbOpenError!==null},An.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(An.prototype,"tables",{get:function(){var g=this;return s(this._allTables).map(function(w){return g._allTables[w]})},enumerable:!1,configurable:!0}),An.prototype.transaction=function(){var g=(function(w,T,I){var L=arguments.length;if(L<2)throw new Z.InvalidArgument("Too few arguments");for(var F=new Array(L-1);--L;)F[L-1]=arguments[L];return I=F.pop(),[w,D(F),I]}).apply(this,arguments);return this._transaction.apply(this,g)},An.prototype._transaction=function(g,w,T){var I=this,L=Fe.trans;L&&L.db===this&&g.indexOf("!")===-1||(L=null);var F,W,H=g.indexOf("?")!==-1;g=g.replace("!","").replace("?","");try{if(W=w.map(function(ee){if(ee=ee instanceof I.Table?ee.name:ee,typeof ee!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ee}),g=="r"||g===fa)F=fa;else{if(g!="rw"&&g!=Dl)throw new Z.InvalidArgument("Invalid transaction mode: "+g);F=Dl}if(L){if(L.mode===fa&&F===Dl){if(!H)throw new Z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");L=null}L&&W.forEach(function(ee){if(L&&L.storeNames.indexOf(ee)===-1){if(!H)throw new Z.SubTransaction("Table "+ee+" not included in parent transaction.");L=null}}),H&&L&&!L.active&&(L=null)}}catch(ee){return L?L._promise(null,function(re,G){G(ee)}):an(ee)}var Q=(function ee(re,G,se,J,ne){return ke.resolve().then(function(){var ae=Fe.transless||Fe,ie=re._createTransaction(G,se,re._dbSchema,J);if(ie.explicit=!0,ae={trans:ie,transless:ae},J)ie.idbtrans=J.idbtrans;else try{ie.create(),ie.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(pe){return pe.name===bt.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return ee(re,G,se,null,ne)})):an(pe)}var le,fe=ue(ne);return fe&&ws(),ae=ke.follow(function(){var pe;(le=ne.call(ie,ie))&&(fe?(pe=Fi.bind(null,null),le.then(pe,pe)):typeof le.next=="function"&&typeof le.throw=="function"&&(le=m(le)))},ae),(le&&typeof le.then=="function"?ke.resolve(le).then(function(pe){return ie.active?pe:an(new Z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ae.then(function(){return le})).then(function(pe){return J&&ie._resolve(),ie._completion.then(function(){return pe})}).catch(function(pe){return ie._reject(pe),an(pe)})})}).bind(null,this,F,W,L,T);return L?L._promise(F,Q,"lock"):Fe.trans?da(Fe.transless,function(){return I._whenReady(Q)}):this._whenReady(Q)},An.prototype.table=function(g){if(!f(this._allTables,g))throw new Z.InvalidTable("Table ".concat(g," does not exist"));return this._allTables[g]},An);function An(g,w){var T=this;this._middlewares={},this.verno=0;var I=An.dependencies;this._options=w=r({addons:An.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},I=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var L,F,W,H,Q,ee={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:de,dbReadyPromise:null,cancelOpen:de,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};ee.dbReadyPromise=new ke(function(G){ee.dbReadyResolve=G}),ee.openCanceller=new ke(function(G,se){ee.cancelOpen=se}),this._state=ee,this.name=g,this.on=bo(this,"populate","blocked","versionchange","close",{ready:[Jr,de]}),this.once=function(G,se){var J=function(){for(var ne=[],ae=0;ae<arguments.length;ae++)ne[ae]=arguments[ae];T.on(G).unsubscribe(J),se.apply(T,ne)};return T.on(G,J)},this.on.ready.subscribe=S(this.on.ready.subscribe,function(G){return function(se,J){An.vip(function(){var ne,ae=T._state;ae.openComplete?(ae.dbOpenError||ke.resolve().then(se),J&&G(se)):ae.onReadyBeingFired?(ae.onReadyBeingFired.push(se),J&&G(se)):(G(se),ne=T,J||G(function ie(){ne.on.ready.unsubscribe(se),ne.on.ready.unsubscribe(ie)}))})}}),this.Collection=(L=this,wo(zl.prototype,function(le,ie){this.db=L;var J=Hf,ne=null;if(ie)try{J=ie()}catch(fe){ne=fe}var ae=le._ctx,ie=ae.table,le=ie.hook.reading.fire;this._ctx={table:ie,index:ae.index,isPrimKey:!ae.index||ie.schema.primKey.keyPath&&ae.index===ie.schema.primKey.name,range:J,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ne,or:ae.or,valueMapper:le!==ft?le:null}})),this.Table=(F=this,wo(vg.prototype,function(G,se,J){this.db=F,this._tx=J,this.name=G,this.schema=se,this.hook=F._allTables[G]?F._allTables[G].hook:bo(null,{creating:[Qe,de],reading:[Ze,ft],updating:[Qr,de],deleting:[vn,de]})})),this.Transaction=(W=this,wo(jb.prototype,function(G,se,J,ne,ae){var ie=this;G!=="readonly"&&se.forEach(function(le){le=(le=J[le])===null||le===void 0?void 0:le.yProps,le&&(se=se.concat(le.map(function(fe){return fe.updatesTable})))}),this.db=W,this.mode=G,this.storeNames=se,this.schema=J,this.chromeTransactionDurability=ne,this.idbtrans=null,this.on=bo(this,"complete","error","abort"),this.parent=ae||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ke(function(le,fe){ie._resolve=le,ie._reject=fe}),this._completion.then(function(){ie.active=!1,ie.on.complete.fire()},function(le){var fe=ie.active;return ie.active=!1,ie.on.error.fire(le),ie.parent?ie.parent._reject(le):fe&&ie.idbtrans&&ie.idbtrans.abort(),an(le)})})),this.Version=(H=this,wo(ju.prototype,function(G){this.db=H,this._cfg={version:G,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Q=this,wo(Jf.prototype,function(G,se,J){if(this.db=Q,this._ctx={table:G,index:se===":id"?null:se,or:J},this._cmp=this._ascending=ht,this._descending=function(ne,ae){return ht(ae,ne)},this._max=function(ne,ae){return 0<ht(ne,ae)?ne:ae},this._min=function(ne,ae){return ht(ne,ae)<0?ne:ae},this._IDBKeyRange=Q._deps.IDBKeyRange,!this._IDBKeyRange)throw new Z.MissingAPI})),this.on("versionchange",function(G){0<G.newVersion?console.warn("Another connection wants to upgrade database '".concat(T.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(T.name,"'. Closing db now to resume the delete request.")),T.close({disableAutoOpen:!1})}),this.on("blocked",function(G){!G.newVersion||G.newVersion<G.oldVersion?console.warn("Dexie.delete('".concat(T.name,"') was blocked")):console.warn("Upgrade '".concat(T.name,"' blocked by other connection holding version ").concat(G.oldVersion/10))}),this._maxKey=pa(w.IDBKeyRange),this._createTransaction=function(G,se,J,ne){return new T.Transaction(G,se,J,T._options.chromeTransactionDurability,ne)},this._fireOnBlocked=function(G){T.on("blocked").fire(G),Ua.filter(function(se){return se.name===T.name&&se!==T&&!se._state.vcFired}).map(function(se){return se.on("versionchange").fire(G)})},this.use(Ot),this.use(SV),this.use(nr),this.use(M),this.use(he);var re=new Proxy(this,{get:function(G,se,J){if(se==="_vip")return!0;if(se==="table")return function(ae){return bg(T.table(ae),re)};var ne=Reflect.get(G,se,J);return ne instanceof vg?bg(ne,re):se==="tables"?ne.map(function(ae){return bg(ae,re)}):se==="_createTransaction"?function(){return bg(ne.apply(this,arguments),re)}:ne}});this.vip=re,I.forEach(function(G){return G(T)})}var wg,Bi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",jV=(Eb.prototype.subscribe=function(g,w,T){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:w,complete:T})},Eb.prototype[Bi]=function(){return this},Eb);function Eb(g){this._subscribe=g}try{wg={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{wg={indexedDB:null,IDBKeyRange:null}}function jE(g){var w,T=!1,I=new jV(function(L){var F=ue(g),W,H=!1,Q={},ee={},re={get closed(){return H},unsubscribe:function(){H||(H=!0,W&&W.abort(),G&&fr.storagemutated.unsubscribe(J))}};L.start&&L.start(re);var G=!1,se=function(){return vu(ne)},J=function(ae){Gl(Q,ae),Tu(ee,Q)&&se()},ne=function(){var ae,ie,le;!H&&wg.indexedDB&&(Q={},ae={},W&&W.abort(),W=new AbortController,le=function(fe){var pe=Bn();try{F&&ws();var me=_i(g,fe);return me=F?me.finally(Fi):me}finally{pe&&er()}}(ie={subscr:ae,signal:W.signal,requery:se,querier:g,trans:null}),Promise.resolve(le).then(function(fe){T=!0,w=fe,H||ie.signal.aborted||(Q={},function(pe){for(var me in pe)if(f(pe,me))return;return 1}(ee=ae)||G||(fr(Vl,J),G=!0),vu(function(){return!H&&L.next&&L.next(fe)}))},function(fe){T=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||H||vu(function(){H||L.error&&L.error(fe)})}))};return setTimeout(se,0),re});return I.hasValue=function(){return T},I.getValue=function(){return w},I}var Xl=ks;function Tb(g){var w=Oo;try{Oo=!0,fr.storagemutated.fire(g),ku(g,!0)}finally{Oo=w}}h(Xl,r(r({},ve),{delete:function(g){return new Xl(g,{addons:[]}).delete()},exists:function(g){return new Xl(g,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return w=Xl.dependencies,T=w.indexedDB,w=w.IDBKeyRange,(Ts(T)?Promise.resolve(T.databases()).then(function(I){return I.map(function(L){return L.name}).filter(function(L){return L!==Wa})}):Au(T,w).toCollection().primaryKeys()).then(g)}catch{return an(new Z.MissingAPI)}var w,T},defineClass:function(){return function(g){c(this,g)}},ignoreTransaction:function(g){return Fe.trans?da(Fe.transless,g):g()},vip:Pu,async:function(g){return function(){try{var w=m(g.apply(this,arguments));return w&&typeof w.then=="function"?w:ke.resolve(w)}catch(T){return an(T)}}},spawn:function(g,w,T){try{var I=m(g.apply(T,w||[]));return I&&typeof I.then=="function"?I:ke.resolve(I)}catch(L){return an(L)}},currentTransaction:{get:function(){return Fe.trans||null}},waitFor:function(g,w){return w=ke.resolve(typeof g=="function"?Xl.ignoreTransaction(g):g).timeout(w||6e4),Fe.trans?Fe.trans.waitFor(w):w},Promise:ke,debug:{get:function(){return dn},set:function(g){Zr(g)}},derive:y,extend:c,props:h,override:S,Events:bo,on:fr,liveQuery:jE,extendObservabilitySet:Gl,getByKeyPath:P,setByKeyPath:j,delByKeyPath:function(g,w){typeof w=="string"?j(g,w,void 0):"length"in w&&[].map.call(w,function(T){j(g,T,void 0)})},shallowClone:A,deepClone:z,getObjectDiff:B,cmp:ht,asap:E,minKey:-1/0,addons:[],connections:Ua,errnames:bt,dependencies:wg,cache:Ga,semVer:"4.2.0",version:"4.2.0".split(".").map(function(g){return parseInt(g)}).reduce(function(g,w,T){return g+w/Math.pow(10,2*T)})})),Xl.maxKey=pa(Xl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fr(Vl,function(g){Oo||(g=new CustomEvent(Zf,{detail:g}),Oo=!0,dispatchEvent(g),Oo=!1)}),addEventListener(Zf,function(g){g=g.detail,Oo||Tb(g)}));var Nu,Oo=!1,AE=function(){};return typeof BroadcastChannel<"u"&&((AE=function(){(Nu=new BroadcastChannel(Zf)).onmessage=function(g){return g.data&&Tb(g.data)}})(),typeof Nu.unref=="function"&&Nu.unref(),fr(Vl,function(g){Oo||Nu.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!ks.disableBfCache&&g.persisted){dn&&console.debug("Dexie: handling persisted pagehide"),Nu!=null&&Nu.close();for(var w=0,T=Ua;w<T.length;w++)T[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!ks.disableBfCache&&g.persisted&&(dn&&console.debug("Dexie: handling persisted pageshow"),AE(),Tb({all:new In(-1/0,[[]])}))})),ke.rejectionMapper=function(g,w){return!g||g instanceof _e||g instanceof TypeError||g instanceof SyntaxError||!g.name||!Pe[g.name]?g:(w=new Pe[g.name](w||g.message,g),"stack"in g&&v(w,"stack",{get:function(){return this.inner.stack}}),w)},Zr(dn),r(ks,Object.freeze({__proto__:null,Dexie:ks,liveQuery:jE,Entity:Gf,cmp:ht,PropModification:Ka,replacePrefix:function(g,w){return new Ka({replacePrefix:[g,w]})},add:function(g){return new Ka({add:g})},remove:function(g){return new Ka({remove:g})},default:ks,RangeSet:In,mergeRanges:Co,rangesOverlap:ql}),{default:ks}),ks})})(tL);var HH=tL.exports;const T_=Nt(HH),WC=Symbol.for("Dexie"),Vd=globalThis[WC]||(globalThis[WC]=T_);if(T_.semVer!==Vd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${T_.semVer} and ${Vd.semVer}`);const{liveQuery:jNe,mergeRanges:ANe,rangesOverlap:PNe,RangeSet:ENe,cmp:TNe,Entity:CNe,PropModification:kNe,replacePrefix:NNe,add:ONe,remove:INe,DexieYProvider:DNe}=Vd,nL="GanaderoOS_DB",GH=6;class YH extends Vd{constructor(){super(nL);hr(this,"animals");hr(this,"fathers");hr(this,"parturitions");hr(this,"weighings");hr(this,"lots");hr(this,"origins");hr(this,"breedingSeasons");hr(this,"sireLots");hr(this,"serviceRecords");hr(this,"events");hr(this,"feedingPlans");hr(this,"bodyWeighings");hr(this,"products");hr(this,"healthPlans");hr(this,"healthPlanTasks");hr(this,"healthEvents");this.version(1).stores({animals:"&id, createdAt, status, isReference, location",fathers:"&id",parturitions:"++id, &goatId, sireId, status",weighings:"++id, goatId, date",lots:"++id, name",origins:"++id, name",breedingGroups:"++id, sireId, status",serviceRecords:"++id, breedingGroupId, femaleId",events:"++id, animalId, date, type",feedingPlans:"++id, lotName",bodyWeighings:"++id, animalId, date"}),this.version(2).stores({products:"++id, &name",healthPlans:"++id, &name",healthPlanTasks:"++id, healthPlanId, productId",healthEvents:"++id, animalId, date, type, taskId"}),this.version(3).stores({animals:"&id, createdAt, status, isReference, location, sireLotId",breedingGroups:null,breedingSeasons:"++id, &name, status",sireLots:"++id, seasonId, sireId",serviceRecords:"++id, sireLotId, femaleId"}),this.version(4).stores({breedingSeasons:"&id, &name, status",sireLots:"&id, seasonId, sireId"}),this.version(5).stores({healthPlanTasks:"++id, healthPlanId, productId"}),this.version(GH).stores({healthPlans:"++id, &name",healthPlanTasks:"++id, healthPlanId, productId"})}}let tp=null;const XH=async()=>{if(tp)return tp;const t=new YH;try{return await t.open(),console.log("Base de datos local abierta con éxito."),tp=t,t}catch(e){return console.error("Error al abrir la base de datos local. Podría ser un problema de migración.",e),confirm("GanaderoOS ha sido actualizado y necesita reiniciar la base de datos local. Tus datos en la nube están a salvo. ¿Deseas continuar? La aplicación se recargará.")?(await Vd.delete(nL),window.location.reload()):alert("La aplicación no puede continuar sin una base de datos funcional. Por favor, recarga la página e intenta de nuevo."),new Promise(()=>{})}},rL=()=>{if(!tp)throw new Error("La base de datos no ha sido inicializada. Llama a initDB() primero.");return tp},iL=N.createContext({animals:[],fathers:[],weighings:[],parturitions:[],lots:[],origins:[],breedingSeasons:[],sireLots:[],serviceRecords:[],events:[],feedingPlans:[],bodyWeighings:[],products:[],healthPlans:[],healthPlanTasks:[],healthEvents:[],isLoading:!0,syncStatus:"idle",addAnimal:async()=>{},updateAnimal:async()=>{},deleteAnimalPermanently:async()=>{},startDryingProcess:async()=>{},setLactationAsDry:async()=>{},addLot:async()=>{},deleteLot:async()=>{},addOrigin:async()=>{},deleteOrigin:async()=>{},addBreedingSeason:async()=>"",updateBreedingSeason:async()=>{},deleteBreedingSeason:async()=>{},addSireLot:async()=>"",updateSireLot:async()=>{},deleteSireLot:async()=>{},addServiceRecord:async()=>{},addFeedingPlan:async()=>{},addBatchEvent:async()=>{},addWeighing:async()=>{},addBodyWeighing:async()=>{},addParturition:async()=>{},fetchData:async()=>{},addFather:async()=>{},addProduct:async()=>{},updateProduct:async()=>{},deleteProduct:async()=>{},addHealthPlan:async()=>{},updateHealthPlan:async()=>{},deleteHealthPlan:async()=>{},addHealthPlanTask:async()=>{},updateHealthPlanTask:async()=>{},deleteHealthPlanTask:async()=>{},addHealthEvent:async()=>{}}),qe=()=>N.useContext(iL),QH=({children:t})=>{const{currentUser:e}=eL(),[n,r]=N.useState([]),[i,a]=N.useState([]),[s,o]=N.useState([]),[c,u]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState([]),[v,y]=N.useState([]),[b,x]=N.useState([]),[_,S]=N.useState([]),[C,E]=N.useState([]),[P,j]=N.useState([]),[A,O]=N.useState([]),[D,R]=N.useState([]),[$,z]=N.useState([]),[X,te]=N.useState([]),[U,K]=N.useState([]),[V,Y]=N.useState(!0),[oe,ue]=N.useState(navigator.onLine?"idle":"offline"),ye=N.useRef(null),_e=N.useCallback(async()=>{try{const xe=rL(),[We,fn,ke,ot,Nn,gt,On,bi,Va,wi,Bn,er,hn,bs,Et,Kt]=await Promise.all([xe.animals.toArray(),xe.fathers.toArray(),xe.weighings.toArray(),xe.parturitions.toArray(),xe.lots.toArray(),xe.origins.toArray(),xe.breedingSeasons.toArray(),xe.sireLots.toArray(),xe.serviceRecords.toArray(),xe.events.toArray(),xe.feedingPlans.toArray(),xe.bodyWeighings.toArray(),xe.products.toArray(),xe.healthPlans.toArray(),xe.healthPlanTasks.toArray(),xe.healthEvents.toArray()]);r(We),a(fn),o(ke),u(ot),f(Nn),p(gt),y(On),x(bi),S(Va),E(wi),j(Bn),O(er),R(hn),z(bs),te(Et),K(Kt)}catch(xe){console.error("Error al cargar datos locales:",xe)}finally{Y(!1)}},[]);N.useEffect(()=>{let xe=[];const We=()=>ue("idle"),fn=()=>ue("offline");return window.addEventListener("online",We),window.addEventListener("offline",fn),(async()=>{if(!e){Y(!1),r([]),a([]),o([]),u([]),f([]),p([]),y([]),x([]),S([]),E([]),j([]),O([]),R([]),z([]),te([]),K([]);return}Y(!0);try{const ot=await XH();await _e();const Nn=On=>DH(qn(ut,On),MH("userId","==",e.uid)),gt=(On,bi)=>{const Va=VH(Nn(On),async wi=>{wi.docChanges().length>0&&(console.log(`[Sync] Recibidos ${wi.docChanges().length} cambios para '${On}'. Actualizando DB local.`),navigator.onLine&&(ue("syncing"),ye.current&&clearTimeout(ye.current),ye.current=setTimeout(()=>ue("idle"),2e3)));const Bn=[];for(const er of wi.docChanges()){const hn={...er.doc.data(),id:er.doc.id};(er.type==="added"||er.type==="modified")&&Bn.push(bi.put(hn)),er.type==="removed"&&Bn.push(bi.delete(er.doc.id))}Bn.length>0&&(await Promise.all(Bn),_e())},wi=>{wi.code!=="permission-denied"&&console.error(`Error sincronizando ${On}:`,wi)});xe.push(Va)};gt("animals",ot.animals),gt("fathers",ot.fathers),gt("parturitions",ot.parturitions),gt("weighings",ot.weighings),gt("lots",ot.lots),gt("origins",ot.origins),gt("breedingSeasons",ot.breedingSeasons),gt("sireLots",ot.sireLots),gt("serviceRecords",ot.serviceRecords),gt("events",ot.events),gt("feedingPlans",ot.feedingPlans),gt("bodyWeighings",ot.bodyWeighings),gt("products",ot.products),gt("healthPlans",ot.healthPlans),gt("healthPlanTasks",ot.healthPlanTasks),gt("healthEvents",ot.healthEvents)}catch(ot){console.error("Fallo crítico en la inicialización de DataProvider:",ot)}})(),()=>{xe.forEach(ot=>ot()),window.removeEventListener("online",We),window.removeEventListener("offline",fn),ye.current&&clearTimeout(ye.current)}},[e,_e]);const Ue=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"events"),{...xe,userId:e.uid})},He=async xe=>{if(!e)throw new Error("Usuario no autenticado");const We=sn(ut,"animals",xe.id.toUpperCase());await FH(We,{...xe,id:xe.id.toUpperCase(),userId:e.uid,createdAt:Date.now()})},nt=async(xe,We)=>{if(!e)throw new Error("Usuario no autenticado");const fn=sn(ut,"animals",xe),ke=await zH(fn);if(!ke.exists())throw new Error("El animal no existe.");const ot=ke.data(),Nn=new Date().toISOString().split("T")[0];if(We.location!==void 0&&We.location!==ot.location&&await Ue({animalId:xe,date:Nn,type:"Movimiento",details:`Movido del lote '${ot.location||"N/A"}' al lote '${We.location||"Sin Asignar"}'`}),We.status&&We.status!==ot.status){let gt=`Estado cambiado de '${ot.status}' a '${We.status}'`;We.status==="Venta"&&(gt=`Vendido por ${We.salePrice||"precio no especificado"}. Comprador: ${We.saleBuyer||"N/A"}. Fin: ${We.salePurpose||"N/A"}.`),We.status==="Muerte"&&(gt=`Muerte. Causa: ${We.deathReason||"No especificada"}.`),We.status==="Descarte"&&(gt=`Descarte. Causa: ${We.cullReason||"No especificada"}. ${We.cullReasonDetails||""}`),await Ue({animalId:xe,date:We.endDate||Nn,type:"Cambio de Estado",details:gt})}await Mo(fn,We)},bt=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"animals",xe))},Ut=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"parturitions",xe),{status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0]})},Z=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"parturitions",xe),{status:"seca"})},Pe=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"lots"),{name:xe,userId:e.uid})},ve=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"lots",xe))},de=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"origins"),{name:xe,userId:e.uid})},ft=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"origins",xe))},Ze=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"weighings"),{...xe,userId:e.uid})},Ne=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"bodyWeighings"),{...xe,userId:e.uid})},Qe=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"fathers"),{...xe,userId:e.uid})},vn=async xe=>{if(!e)throw new Error("Usuario no autenticado");const We=xv(ut),fn=xe.motherId.toUpperCase(),ke=sn(ut,"animals",fn);We.set(ke,{id:fn,sex:"Hembra",status:"Activo",birthDate:"N/A",userId:e.uid},{merge:!0});const ot=sn(qn(ut,"parturitions"));We.set(ot,{goatId:fn,parturitionDate:xe.parturitionDate,sireId:xe.sireId,offspringCount:xe.offspring.length,parturitionType:xe.parturitionType,status:"activa",userId:e.uid}),xe.offspring.forEach(Nn=>{const gt=Nn.id.toUpperCase(),On=sn(ut,"animals",gt),bi={id:gt,sex:Nn.sex,status:Nn.sex==="Macho"?"Descartado":"Activo",birthDate:xe.parturitionDate,motherId:fn,fatherId:xe.sireId,birthWeight:parseFloat(Nn.birthWeight),userId:e.uid,createdAt:Date.now()};We.set(On,bi,{merge:!0})}),await We.commit()},Qr=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"serviceRecords"),{...xe,userId:e.uid})},vi=async xe=>{if(!e)throw new Error("Usuario no autenticado");const We=n.filter(ot=>ot.location===xe.lotName);if(We.length===0){console.warn(`No se encontraron animales en el lote "${xe.lotName}" para registrar el evento.`);return}const fn=xv(ut),ke=qn(ut,"events");We.forEach(ot=>{const Nn=sn(ke),gt={animalId:ot.id,date:xe.date,type:xe.type,details:xe.details,lotName:xe.lotName,notes:`Evento aplicado a todo el lote: ${xe.lotName}`};fn.set(Nn,{...gt,userId:e.uid})}),await fn.commit()},Jr=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"feedingPlans"),{...xe,userId:e.uid})},dn=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"products"),{...xe,userId:e.uid})},Zr=async(xe,We)=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"products",xe),We)},Lr=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"products",xe))},la=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"healthPlans"),{...xe,userId:e.uid})},xi=async(xe,We)=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"healthPlans",xe),We)},Wt=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"healthPlans",xe))},Jt=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"healthPlanTasks"),{...xe,userId:e.uid})},za=async(xe,We)=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"healthPlanTasks",xe),We)},Fa=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"healthPlanTasks",xe))},yo=async xe=>{if(!e)throw new Error("Usuario no autenticado");await ri(qn(ut,"healthEvents"),{...xe,userId:e.uid})},vo=async xe=>{if(!e)throw new Error("Usuario no autenticado");return(await ri(qn(ut,"breedingSeasons"),{...xe,userId:e.uid})).id},$r=async(xe,We)=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"breedingSeasons",xe),We)},xs=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"breedingSeasons",xe))},xo=async xe=>{if(!e)throw new Error("Usuario no autenticado");return(await ri(qn(ut,"sireLots"),{...xe,userId:e.uid})).id},ei=async(xe,We)=>{if(!e)throw new Error("Usuario no autenticado");await Mo(sn(ut,"sireLots",xe),We)},Fe=async xe=>{if(!e)throw new Error("Usuario no autenticado");await Ro(sn(ut,"sireLots",xe))};return l.jsx(iL.Provider,{value:{animals:n,fathers:i,weighings:s,parturitions:c,lots:d,origins:h,breedingSeasons:v,sireLots:b,serviceRecords:_,events:C,feedingPlans:P,bodyWeighings:A,products:D,healthPlans:$,healthPlanTasks:X,healthEvents:U,isLoading:V,syncStatus:oe,addAnimal:He,updateAnimal:nt,deleteAnimalPermanently:bt,startDryingProcess:Ut,setLactationAsDry:Z,addLot:Pe,deleteLot:ve,addOrigin:de,deleteOrigin:ft,addBreedingSeason:vo,updateBreedingSeason:$r,deleteBreedingSeason:xs,addSireLot:xo,updateSireLot:ei,deleteSireLot:Fe,addServiceRecord:Qr,addFeedingPlan:Jr,addBatchEvent:vi,addWeighing:Ze,addBodyWeighing:Ne,addParturition:vn,fetchData:_e,addFather:Qe,addProduct:dn,updateProduct:Zr,deleteProduct:Lr,addHealthPlan:la,updateHealthPlan:xi,deleteHealthPlan:Wt,addHealthPlanTask:Jt,updateHealthPlanTask:za,deleteHealthPlanTask:Fa,addHealthEvent:yo},children:t})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aL=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},c)=>N.createElement("svg",{ref:c,...ZH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aL("lucide",i),...o},[...s.map(([u,d])=>N.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=N.forwardRef(({className:r,...i},a)=>N.createElement(eG,{ref:a,iconNode:e,className:aL(`lucide-${JH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Ce("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Ce("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Ce("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ce("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=Ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=Ce("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ce("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=Ce("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ce("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Ce("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ce("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=Ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ce("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=Ce("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=Ce("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ce("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=Ce("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=Ce("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=Ce("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=Ce("Dna",[["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m17 6-2.5-2.5",key:"5cdfhj"}],["path",{d:"m14 8-1-1",key:"15nbz5"}],["path",{d:"m7 18 2.5 2.5",key:"16tu1a"}],["path",{d:"m3.5 14.5.5.5",key:"hapbhd"}],["path",{d:"m20 9 .5.5",key:"1n7z02"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m10 16 1.5 1.5",key:"11lckj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Ce("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ce("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Ce("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=Ce("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=Ce("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Ce("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=Ce("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Ce("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=Ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=Ce("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=Ce("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Ce("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=Ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=Ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=Ce("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=Ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=Ce("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Ce("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Ce("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=Ce("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=Ce("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Ce("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Ce("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Ce("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Ce("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Ce("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Ce("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Ce("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ce("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Ce("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Ce("Waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Ce("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var xL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HC=q.createContext&&q.createContext(xL),RG=["attr","size","title"];function LG(t,e){if(t==null)return{};var n=$G(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $G(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return e=FG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=VG(t,"string");return typeof e=="symbol"?e:e+""}function VG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bL(t){return t&&t.map((e,n)=>q.createElement(e.tag,_v({key:n},e.attr),bL(e.child)))}function ho(t){return e=>q.createElement(BG,wv({attr:_v({},t.attr)},e),bL(t.child))}function BG(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=LG(t,RG),o=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),q.createElement("svg",wv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:_v(_v({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&q.createElement("title",null,a),t.children)};return HC!==void 0?q.createElement(HC.Consumer,null,n=>e(n)):e(xL)}function wL(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 23.38L89.844 89.845l-64.9 162.254 14.85 5.943c20.312-50.766 40.62-101.535 60.93-152.304l1.432-3.58L256 40.616l153.844 61.54 1.43 3.58 60.93 152.305 14.853-5.942-64.9-162.254C366.77 67.69 311.386 45.534 256 23.38zm0 36.624l-139.996 55.998L72.8 224h.2v263h78V329h-39v-18h297v176h30V224h.2c-14.402-36-28.802-72-43.204-107.998L256 60.004zM151 135h210v114H151V135zm23.563 18L199 201.873V153h-24.438zM313 153v48.873L337.438 153H313zm-144 29.127V231h24.438L169 182.127zm174 0L318.562 231H343v-48.873zm-98.73 18.69c-1.207-.02-2.31.02-3.288.128-2.823.31-10.76 3.708-16.86 7.3-2.796 1.645-5.23 3.22-7.122 4.484V231h78v-16.97c-4.193-1.675-10.334-4.02-17.578-6.368-11.206-3.63-24.71-6.71-33.152-6.846zM160 263h192v18H160v-18zm15.16 66L208 389.205 240.84 329h-65.68zm144 0L352 389.205 384.84 329h-65.68zM169 355.295v105.41L197.748 408 169 355.295zm78 0L218.252 408 247 460.705v-105.41zm66 0v105.41L341.748 408 313 355.295zm78 0L362.252 408 391 460.705v-105.41zm-183 71.5L175.16 487h65.68L208 426.795zm144 0L319.16 487h65.68L352 426.795z"},child:[]}]})(t)}function UG(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23 23v466h466v-18H41v-82.184l85.854-57.234 70.023 70.022 65.133-260.536L387.28 203.7 455.07 95.73l19.317 11.858 6.102-71.1-60.644 37.616 19.884 12.207-59.01 93.99-130.732-65.366-62.865 251.462-57.98-57.978L41 367.184V23H23z"},child:[]}]})(t)}function WG(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M44.62 106a26 26 0 0 0-25.69 29.3c16 124 16 117.4 0 241.4A26 26 0 0 0 54.72 404l138.68-57.7c-1.2 9.5-2.4 18.9-3.9 30.4-2.5 19.8 17.3 35 35.8 27.3l252-124c9.7-4 16-13.5 16-24s-6.3-20-16-24l-252-124c-3.2-1.3-6.6-2-10.1-2-15.6.1-27.7 13.8-25.7 29.3 1.5 11.5 2.7 20.9 3.9 30.4L54.72 108a26 26 0 0 0-10.1-2z"},child:[]}]})(t)}function Qm(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M273 459l7.79-20 6.21 20 5.79-23.33-4.25-48c-7.76 7.94-17.54 17.85-29.74 30.27zm38.5-380.86a115.06 115.06 0 0 0-21.13-19.6c-17.315-11.88-35.418-18.913-55.08-22.14-18.751-3.067-37.99-2.743-56.33.12A203.86 203.86 0 0 0 133 49.42a184.2 184.2 0 0 0-29.62 15.36c-12.304 8.597-10.431 6.828.95 1.82a179.6 179.6 0 0 1 30.9-10c50.427-4.832 98.41-7.579 134.17 27.17a80 80 0 0 1 12.28 16c4.714 8.06 7.805 16.877 9.66 25.59l45.69 2.84c-5.032-17.752-15.256-37.574-25.53-50.06zm50.05 26.63c-8.531-13.217-18.495-25.428-29.66-34.88a78.24 78.24 0 0 0-15.79-10.38c2.67 2.68 5.22 5.45 7.61 8.32a138.13 138.13 0 0 1 9.13 12.11l.1.14.09.14c9.772 15.14 17.164 33.862 20.78 49.15l22.19 1.3a253.49 253.49 0 0 0-14.43-25.91zm29.89 43l70 179.4-11.82 28.37-65.77-37.94-8 13.86 67.56 39-4.327 5.754L394.12 372l-65.33-31.47a42.41 42.41 0 0 0-9.29-1.43c-5.71 0-9.52 2.06-12.71 6.62-2.53 3.61-78.5 80.52-147.64 150.28H16V243.73l92.85 3.85 96.61-33.26 10.13-11a214.71 214.71 0 0 1 38 24.27 18.57 18.57 0 0 0 11.61 3.93c13.792-1.574 22.025-9.12 32.83-17.83-3.267-21.244-6.724-43.71-9.56-62.1-6.463-2.155-12.926-4.308-19.39-6.46l4.39-4.78zm-37.25 65.02c-4.024-14.705-20.114-19.427-30.58-18.14-3.073.432-6.167 1.427-8.77 2.68.868 3.09 2.17 7.87 3.79 10.35 6.527 9.211 17.348 13.898 27.64 12.51 3.967-.672 8.94-3.676 7.92-7.4zm61.63 105.47l19 20 11.6-11-19-20zM475 172.99s-40.54-27.8-57-1.2l11.25 28.83zM294 382.05l13.4 22.28-.4-35.64c-3.29 3.45-7.53 7.82-12.95 13.36zm-30.6-167c5.858 1.872 17.61-6.048 17.33-8.01l-6.67-43.33-28-9.31c-17.65-2.861-58.224-4.989-67.27 9.28 39.596 39.732 39.526 16.87 84.61 51.37zm127.08 172.89c-15.313-7.704-30.838-14.996-46.28-22.44 5.153 29.387 10.895 58.672 15.75 88.11l25.26 37.33-2.6-34L400 469.61v-28.67l10.19-41.95 6.67-11.05z"},child:[]}]})(t)}function KG(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M302.958 20.019l-93.916 46.564v35.404c31.305-15.522 62.61-31.047 93.916-46.568zm6.53 52.252l-95.4 47.3 63.036 78.137 95.397-47.303zm-111.915 55.492l-33.732 16.724h47.224zm-22.119 34.722l71.615 26.633-21.484-26.633zm-41.021 3.948v276.752l131.22 48.796v-276.75zm243.134 1.56c-31.306 15.521-62.61 31.044-93.916 46.567v275.863l93.916-46.567zM176.501 272.466s-15.3 15.085-9.889 24.203c4.167 7.02 21.889 5.418 21.889 5.418l15.549 3.848s17.72 10.374 21.887 5.416c5.41-6.44-9.887-29.098-9.887-29.098s35.91 33.492 29.662 47.318c-3.143 6.955-24.719-2.117-24.719-2.117s5.495 7.21 4.944 10.549c-1.001 6.062-13.774 9.916-13.774 9.916s1.111 21.24-6 25.168c-5.147 2.843-14.628.497-19.775-4.895-7.111-7.448-6-28.136-6-28.136s-12.775-10.177-13.776-16.735c-.55-3.611 4.944-8.103 4.944-8.103s-21.575-1.607-24.717-10.117c-6.247-16.919 29.662-32.635 29.662-32.635z"},child:[]}]})(t)}function qG(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M90.52 390.06h38.497v16.583H65.443V390.06l31.933-28.182c2.852-2.578 4.96-5.098 6.328-7.56 1.368-2.46 2.05-5.018 2.05-7.675 0-4.1-1.386-7.402-4.16-9.902-2.733-2.5-6.386-3.75-10.956-3.75-3.516 0-7.363.763-11.543 2.286-4.18 1.485-8.652 3.71-13.418 6.68v-19.22c5.078-1.678 10.098-2.948 15.06-3.807 4.96-.9 9.823-1.35 14.588-1.35 10.47 0 18.594 2.306 24.375 6.915 5.82 4.61 8.73 11.035 8.73 19.277 0 4.766-1.23 9.22-3.69 13.36-2.46 4.1-7.637 9.61-15.528 16.523l-18.69 16.406m349.377 32.915c5.897 1.524 10.37 4.18 13.417 7.97 3.086 3.75 4.63 8.534 4.63 14.355 0 8.672-3.322 15.273-9.962 19.804-6.64 4.493-16.328 6.74-29.063 6.74-4.492 0-9.004-.372-13.535-1.115-4.492-.704-8.945-1.778-13.36-3.223v-17.403c4.22 2.11 8.4 3.71 12.54 4.805 4.18 1.054 8.28 1.58 12.304 1.58 5.978 0 10.548-1.034 13.712-3.104 3.203-2.07 4.805-5.04 4.805-8.907 0-3.985-1.64-6.993-4.922-9.024-3.242-2.07-8.047-3.105-14.414-3.106h-9.022v-14.53h9.492c5.664 0 9.883-.88 12.656-2.638 2.773-1.796 4.16-4.51 4.16-8.144 0-3.36-1.347-5.957-4.043-7.793-2.695-1.836-6.504-2.754-11.426-2.754-3.632 0-7.304.41-11.015 1.232-3.71.82-7.403 2.03-11.074 3.632V384.83c4.453-1.25 8.867-2.186 13.242-2.812 4.375-.624 8.672-.937 12.89-.937 11.368 0 19.864 1.876 25.49 5.626 5.663 3.71 8.495 9.316 8.495 16.816 0 5.118-1.348 9.317-4.043 12.598-2.696 3.242-6.68 5.527-11.953 6.856M236.062 230.74h19.922v-56.544l-20.45 4.22v-15.352l20.333-4.22h21.445v71.895h19.922v15.585h-61.172V230.74M496 496V352H352V128H176v160H16v208"},child:[]}]})(t)}function HG(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M24.844 25.563c1.333 77.685 25.778 141.568 63.283 187.955 4.367-4.937 8.77-9.796 13.13-14.553a9.5 9.5 0 0 1 7.348-3.178 9.5 9.5 0 0 1 6.66 16.016c-22.957 25.048-46.51 52.82-58.777 76.95-6.132 12.067-9.31 23.07-9.037 31.874.17 5.474 1.374 10.174 4.26 14.562l16.552-22.684a9.5 9.5 0 0 1 7.898-4.008 9.5 9.5 0 0 1 7.45 15.207l-16.635 22.797c2.973.316 6.316-.284 10.474-1.75 8.174-2.882 18.38-9.868 28.734-19.672 20.704-19.608 42.15-50.057 56.953-77.644a9.5 9.5 0 0 1 9.9-4.885c6.228 1.017 22.147 2.215 35.78.573 6.816-.82 13.107-2.395 17.232-4.432 4.124-2.035 5.597-3.84 6.12-5.934a9.5 9.5 0 1 1 18.434 4.603c-2.193 8.78-8.967 14.825-16.145 18.37-7.18 3.542-15.245 5.277-23.372 6.256-12.798 1.542-25.47 1.082-34.522.143-2.816 5.038-5.806 10.122-8.937 15.192 29.03 14.058 60.48 21.354 92.34 21.115 22.055-.164 43.82-4.29 64.64-11.937-6.014-8.637-11.297-17.378-15.596-25.96A9.5 9.5 0 1 1 326 252.03c13.688 27.32 40.692 59.164 67.537 79.982 13.423 10.41 26.846 18.047 37.842 21.363 5.988 1.806 10.902 2.378 14.983 1.854l-10.996-13.093a9.5 9.5 0 0 1 7.06-15.715 9.5 9.5 0 0 1 7.49 3.494l12.054 14.352c3.226-4.725 4.71-9.948 5.042-16.102.513-9.534-2.39-21.344-8.18-34.158-11.578-25.63-34.297-54.796-57.053-79.625a9.5 9.5 0 0 1 7.322-16.01 9.5 9.5 0 0 1 6.685 3.172c3.1 3.384 6.205 6.848 9.29 10.37 37.514-47.34 61.834-111.574 62.892-186.352H24.843zm138.664 270.68c-4.952 14.607-8.863 29.266-11.043 42.61-2.476 15.154-2.608 28.608-.29 37.745 2.32 9.137 5.71 13.32 12.514 15.22 10.31 2.88 17.56 1.32 24.884-3.572 7.325-4.893 14.436-13.87 20.696-25.87 6.813-13.064 12.555-29.486 17.517-47.09-22.16-3.106-43.775-9.54-64.28-19.044zm173.04 6.083c-9.938 3.936-20.108 7.144-30.456 9.57.512.913 1.02 1.844 1.54 2.733 7.736 13.262 16.197 23.722 23.802 29.292 7.604 5.57 12.882 6.638 19.34 3.77 7.937-3.52 12.458-8.014 15.236-14.087-10.454-9.556-20.457-20.185-29.46-31.28z"},child:[]}]})(t)}const GG=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState(""),[i,a]=N.useState(""),[s,o]=N.useState(null),[c,u]=N.useState(!1),d=async()=>{if(window.confirm("¿Estás seguro de que quieres forzar la eliminación de la base de datos local? Esto no afectará tus datos en la nube."))try{await Vd.delete("GanaderoOS_DB"),alert("Base de datos local eliminada con éxito. La página se recargará."),window.location.reload()}catch(p){alert("Error al eliminar la base de datos."),console.error(p)}},f=p=>{if(p.code==="auth/network-request-failed")return"No hay conexión a internet. Se requiere conexión para iniciar sesión.";switch(p.code){case"auth/invalid-email":return"El formato del correo electrónico no es válido.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electrónico o contraseña incorrectos.";case"auth/email-already-in-use":return"Este correo electrónico ya está registrado.";case"auth/weak-password":return"La contraseña debe tener al menos 6 caracteres.";default:return console.error("Firebase Auth Error:",p),"Ocurrió un error inesperado. Por favor, intenta de nuevo."}},h=async p=>{p.preventDefault(),o(null),u(!0);try{t?await CW(Fd,n,i):await TW(Fd,n,i)}catch(v){o(f(v))}finally{u(!1)}};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:l.jsxs("div",{className:"w-full max-w-sm",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[l.jsx(Qm,{className:"w-12 h-12 text-brand-orange"}),l.jsx("h1",{className:"text-4xl font-bold text-white",children:"GanaderoOS"})]}),l.jsx("p",{className:"text-zinc-400",children:"El sistema operativo para tu finca."})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[l.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[l.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesión"}),l.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),placeholder:"Correo electrónico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),l.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),placeholder:"Contraseña",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),s&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:s})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl transition-colors hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Procesando...":t?"Iniciar Sesión":"Crear Cuenta"})]})]}),l.jsxs("div",{className:"mt-6 text-center",children:[l.jsxs("button",{onClick:d,className:"flex items-center justify-center gap-2 mx-auto bg-brand-red/20 text-brand-red font-semibold py-2 px-4 rounded-lg border border-brand-red/50 hover:bg-brand-red/30 transition-colors",children:[l.jsx(fo,{size:16}),"Forzar Reinicio de DB Local"]}),l.jsx("p",{className:"text-xs text-zinc-600 mt-2",children:"Si la app no carga, usa este botón."})]})]})})};function YG(t){return ho({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.28 445.86l-73.03-292.13c-3.8-15.19-16.44-25.72-30.87-25.72h-60.25c3.57-10.05 5.88-20.72 5.88-32 0-53.02-42.98-96-96-96s-96 42.98-96 96c0 11.28 2.3 21.95 5.88 32h-60.25c-14.43 0-27.08 10.54-30.87 25.72L1.72 445.86C-6.61 479.17 16.38 512 48.03 512h415.95c31.64 0 54.63-32.83 46.3-66.14zM256 128c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z"},child:[]}]})(t)}const dt=({isOpen:t,onClose:e,title:n,children:r,size:i="default"})=>{if(!t)return null;const a=i==="fullscreen"?"items-end":"items-center",s={default:"max-w-md m-4 rounded-2xl",large:"max-w-xl m-4 rounded-2xl",fullscreen:"w-full h-[95vh] rounded-t-2xl flex flex-col"};return l.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center z-50 animate-fade-in ${a}`,onClick:e,children:l.jsxs("div",{className:`bg-ios-modal-bg border border-zinc-700/80 shadow-2xl text-white transform transition-all animate-slide-up ${s[i]}`,onClick:o=>o.stopPropagation(),children:[l.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-zinc-800/80",children:[l.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),l.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:l.jsx(Al,{size:20})})]}),l.jsx("div",{className:i==="fullscreen"?"flex-1 overflow-y-auto p-4":"overflow-y-auto max-h-[85vh] p-6",children:r})]})})},_L=({isOpen:t,onClose:e})=>{const{addLot:n}=qe(),[r,i]=N.useState(""),[a,s]=N.useState(""),o=async()=>{if(r.trim()===""){s("El nombre del lote no puede estar vacío.");return}try{await n(r),i(""),s(""),e()}catch(u){s("No se pudo guardar el lote."),console.error(u)}},c=()=>{i(""),s(""),e()};return l.jsx(dt,{isOpen:t,onClose:c,title:"Crear Nuevo Lote",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicación o lote en tu finca."}),l.jsx("div",{children:l.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Cabritonas Servicio",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&l.jsx("p",{className:"text-sm text-brand-red",children:a}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{onClick:c,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:o,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},SL=N.createContext({});function su(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const xA=N.createContext(null),bA=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function XG(t=!0){const e=N.useContext(xA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=N.useId();N.useEffect(()=>{t&&i(a)},[t]);const s=N.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const wA=typeof window<"u",_A=wA?N.useLayoutEffect:N.useEffect,Oi=t=>t;let jL=Oi;function SA(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ks=t=>t*1e3,qs=t=>t/1e3,QG={useManualTiming:!1};function JG(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(c.schedule(u),t()),u(s)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&r?e:n;return d&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const Kg=["read","resolveKeyframes","update","preRender","render","postRender"],ZG=40;function AL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Kg.reduce((x,_)=>(x[_]=JG(a),x),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=s,p=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,ZG),1),i.timestamp=x,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},v=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Kg.reduce((x,_)=>{const S=s[_];return x[_]=(C,E=!1,P=!1)=>(n||v(),S.schedule(C,E,P)),x},{}),cancel:x=>{for(let _=0;_<Kg.length;_++)s[Kg[_]].cancel(x)},state:i,steps:s}}const{schedule:Xt,cancel:io,state:gr,steps:p1}=AL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0),PL=N.createContext({strict:!1}),YC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ud={};for(const t in YC)Ud[t]={isEnabled:e=>YC[t].some(n=>!!e[n])};function eY(t){for(const e in t)Ud[e]={...Ud[e],...t[e]}}const tY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tY.has(t)}let EL=t=>!Sv(t);function nY(t){t&&(EL=e=>e.startsWith("on")?!Sv(e):t(e))}try{nY(require("@emotion/is-prop-valid").default)}catch{}function rY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(EL(i)||n===!0&&Sv(i)||!e&&!Sv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const bx=N.createContext({});function Kp(t){return typeof t=="string"||Array.isArray(t)}function wx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AA=["initial",...jA];function _x(t){return wx(t.animate)||AA.some(e=>Kp(t[e]))}function TL(t){return!!(_x(t)||t.variants)}function aY(t,e){if(_x(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Kp(n)?n:void 0,animate:Kp(r)?r:void 0}}return t.inherit!==!1?e:{}}function sY(t){const{initial:e,animate:n}=aY(t,N.useContext(bx));return N.useMemo(()=>({initial:e,animate:n}),[XC(e),XC(n)])}function XC(t){return Array.isArray(t)?t.join(" "):t}const oY=Symbol.for("motionComponentSymbol");function nd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lY(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):nd(n)&&(n.current=r))},[e])}const PA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cY="framerAppearId",CL="data-"+PA(cY),{schedule:EA}=AL(queueMicrotask,!1),kL=N.createContext({});function uY(t,e,n,r,i){var a,s;const{visualElement:o}=N.useContext(bx),c=N.useContext(PL),u=N.useContext(xA),d=N.useContext(bA).reducedMotion,f=N.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=N.useContext(kL);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&dY(f.current,n,i,p);const v=N.useRef(!1);N.useInsertionEffect(()=>{h&&v.current&&h.update(n,u)});const y=n[CL],b=N.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,y)));return _A(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),EA.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),b.current=!1))}),h}function dY(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NL(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&nd(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function NL(t){if(t)return t.options.allowProjection!==!1?t.projection:NL(t.parent)}function fY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&eY(t);function o(u,d){let f;const h={...N.useContext(bA),...u,layoutId:hY(u)},{isStatic:p}=h,v=sY(u),y=r(u,p);if(!p&&wA){pY();const b=mY(h);f=b.MeasureLayout,v.visualElement=uY(i,y,h,e,b.ProjectionNode)}return l.jsxs(bx.Provider,{value:v,children:[f&&v.visualElement?l.jsx(f,{visualElement:v.visualElement,...h}):null,n(i,u,lY(y,v.visualElement,d),y,p,v.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const c=N.forwardRef(o);return c[oY]=i,c}function hY({layoutId:t}){const e=N.useContext(SL).id;return e&&t!==void 0?e+"-"+t:t}function pY(t,e){N.useContext(PL).strict}function mY(t){const{drag:e,layout:n}=Ud;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TA(t){return typeof t!="string"||t.includes("-")?!1:!!(gY.indexOf(t)>-1||/[A-Z]/u.test(t))}function QC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function CA(t,e,n,r){if(typeof e=="function"){const[i,a]=QC(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=QC(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const I_=t=>Array.isArray(t),yY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vY=t=>I_(t)?t[t.length-1]||0:t,xr=t=>!!(t&&t.getVelocity);function Ny(t){const e=xr(t)?t.get():t;return yY(e)?e.toValue():e}function xY({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:bY(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const OL=t=>(e,n)=>{const r=N.useContext(bx),i=N.useContext(xA),a=()=>xY(t,e,r,i);return n?a():su(a)};function bY(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=Ny(a[h]);let{initial:s,animate:o}=t;const c=_x(t),u=TL(t);e&&u&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;if(f&&typeof f!="boolean"&&!wx(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=CA(t,h[p]);if(v){const{transitionEnd:y,transition:b,...x}=v;for(const _ in x){let S=x[_];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(i[_]=S)}for(const _ in y)i[_]=y[_]}}}return i}const Tf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(Tf),IL=t=>e=>typeof e=="string"&&e.startsWith(t),DL=IL("--"),wY=IL("var(--"),kA=t=>wY(t)?_Y.test(t.split("/*")[0].trim()):!1,_Y=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ML=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ao=(t,e,n)=>n>e?e:n<t?t:n,Cf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qp={...Cf,transform:t=>ao(0,1,t)},qg={...Cf,default:1},Jm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fo=Jm("deg"),ls=Jm("%"),Ye=Jm("px"),SY=Jm("vh"),jY=Jm("vw"),JC={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},AY={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye},PY={rotate:Fo,rotateX:Fo,rotateY:Fo,rotateZ:Fo,scale:qg,scaleX:qg,scaleY:qg,scaleZ:qg,skew:Fo,skewX:Fo,skewY:Fo,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:qp,originX:JC,originY:JC,originZ:Ye},ZC={...Cf,transform:Math.round},NA={...AY,...PY,zIndex:ZC,size:Ye,fillOpacity:qp,strokeOpacity:qp,numOctaves:ZC},EY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TY=Tf.length;function CY(t,e,n){let r="",i=!0;for(let a=0;a<TY;a++){const s=Tf[a],o=t[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=ML(o,NA[s]);if(!c){i=!1;const d=EY[s]||s;r+=`${d}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function OA(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const c in e){const u=e[c];if(ou.has(c)){s=!0;continue}else if(DL(c)){i[c]=u;continue}else{const d=ML(u,NA[c]);c.startsWith("origin")?(o=!0,a[c]=d):r[c]=d}}if(e.transform||(s||n?r.transform=CY(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const kY={offset:"stroke-dashoffset",array:"stroke-dasharray"},NY={offset:"strokeDashoffset",array:"strokeDasharray"};function OY(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?kY:NY;t[a.offset]=Ye.transform(-r);const s=Ye.transform(e),o=Ye.transform(n);t[a.array]=`${s} ${o}`}function ek(t,e,n){return typeof t=="string"?t:Ye.transform(e+n*t)}function IY(t,e,n){const r=ek(e,t.x,t.width),i=ek(n,t.y,t.height);return`${r} ${i}`}function IA(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},d,f){if(OA(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:v}=t;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=IY(v,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&OY(h,s,o,c,!1)}const DA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RL=()=>({...DA(),attrs:{}}),MA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LL(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const $L=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zL(t,e,n,r){LL(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($L.has(i)?i:PA(i),e.attrs[i])}const jv={};function DY(t){Object.assign(jv,t)}function FL(t,{layout:e,layoutId:n}){return ou.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jv[t]||t==="opacity")}function RA(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(xr(i[s])||e.style&&xr(e.style[s])||FL(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function VL(t,e,n){const r=RA(t,e,n);for(const i in t)if(xr(t[i])||xr(e[i])){const a=Tf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function MY(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const tk=["x","y","width","height","cx","cy","r"],RY={useVisualState:OL({scrapeMotionValuesFromProps:VL,createRenderState:RL,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(ou.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<tk.length;o++){const c=tk[o];t[c]!==e[c]&&(s=!0)}s&&Xt.read(()=>{MY(n,r),Xt.render(()=>{IA(r,i,MA(n.tagName),t.transformTemplate),zL(n,r)})})}})},LY={useVisualState:OL({scrapeMotionValuesFromProps:RA,createRenderState:DA})};function BL(t,e,n){for(const r in e)!xr(e[r])&&!FL(r,n)&&(t[r]=e[r])}function $Y({transformTemplate:t},e){return N.useMemo(()=>{const n=DA();return OA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zY(t,e){const n=t.style||{},r={};return BL(r,n,t),Object.assign(r,$Y(t,e)),r}function FY(t,e){const n={},r=zY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function VY(t,e,n,r){const i=N.useMemo(()=>{const a=RL();return IA(a,e,MA(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};BL(a,t.style,t),i.style={...a,...i.style}}return i}function BY(t=!1){return(n,r,i,{latestValues:a},s)=>{const c=(TA(n)?VY:FY)(r,a,s,n),u=rY(r,typeof n=="string",t),d=n!==N.Fragment?{...u,...c,ref:i}:{},{children:f}=r,h=N.useMemo(()=>xr(f)?f.get():f,[f]);return N.createElement(n,{...d,children:h})}}function UY(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...TA(r)?RY:LY,preloadedFeatures:t,useRender:BY(i),createVisualElement:e,Component:r};return fY(s)}}function UL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Sx(t,e,n){const r=t.getProps();return CA(r,e,n!==void 0?n:r.custom,t)}const WY=SA(()=>window.ScrollTimeline!==void 0);class KY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(WY()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qY extends KY{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function LA(t,e){return t?t[e]||t.default||t:void 0}const D_=2e4;function WL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<D_;)e+=n,r=t.next(e);return e>=D_?1/0:e}function $A(t){return typeof t=="function"}function nk(t,e){t.timeline=e,t.onfinish=null}const zA=t=>Array.isArray(t)&&typeof t[0]=="number",HY={linearEasing:void 0};function GY(t,e){const n=SA(t);return()=>{var r;return(r=HY[e])!==null&&r!==void 0?r:n()}}const Av=GY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),KL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Bd(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function qL(t){return!!(typeof t=="function"&&Av()||!t||typeof t=="string"&&(t in M_||Av())||zA(t)||Array.isArray(t)&&t.every(qL))}const Lh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,M_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lh([0,.65,.55,1]),circOut:Lh([.55,0,1,.45]),backIn:Lh([.31,.01,.66,-.59]),backOut:Lh([.33,1.53,.69,.99])};function HL(t,e){if(t)return typeof t=="function"&&Av()?KL(t,e):zA(t)?Lh(t):Array.isArray(t)?t.map(n=>HL(n,e)||M_.easeOut):M_[t]}const va={x:!1,y:!1};function GL(){return va.x||va.y}function YY(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function YL(t,e){const n=YY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function rk(t){return e=>{e.pointerType==="touch"||GL()||t(e)}}function XY(t,e,n={}){const[r,i,a]=YL(t,n),s=rk(o=>{const{target:c}=o,u=e(o);if(typeof u!="function"||!c)return;const d=rk(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const XL=(t,e)=>e?t===e?!0:XL(t,e.parentElement):!1,FA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JY(t){return QY.has(t.tagName)||t.tabIndex!==-1}const $h=new WeakSet;function ik(t){return e=>{e.key==="Enter"&&t(e)}}function m1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ik(()=>{if($h.has(n))return;m1(n,"down");const i=ik(()=>{m1(n,"up")}),a=()=>m1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ak(t){return FA(t)&&!GL()}function eX(t,e,n={}){const[r,i,a]=YL(t,n),s=o=>{const c=o.currentTarget;if(!ak(o)||$h.has(c))return;$h.add(c);const u=e(o),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!ak(p)||!$h.has(c))&&($h.delete(c),typeof u=="function"&&u(p,{success:v}))},f=p=>{d(p,n.useGlobalTarget||XL(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!JY(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>ZY(u,i),i)}),a}function tX(t){return t==="x"||t==="y"?va[t]?null:(va[t]=!0,()=>{va[t]=!1}):va.x||va.y?null:(va.x=va.y=!0,()=>{va.x=va.y=!1})}const QL=new Set(["width","height","top","left","right","bottom",...Tf]);let Oy;function nX(){Oy=void 0}const cs={now:()=>(Oy===void 0&&cs.set(gr.isProcessing||QG.useManualTiming?gr.timestamp:performance.now()),Oy),set:t=>{Oy=t,queueMicrotask(nX)}};function VA(t,e){t.indexOf(e)===-1&&t.push(e)}function BA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function rX([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class UA{constructor(){this.subscriptions=[]}add(e){return VA(this.subscriptions,e),()=>BA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function JL(t,e){return e?t*(1e3/e):0}const sk=30,iX=t=>!isNaN(parseFloat(t)),np={current:void 0};class aX{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=cs.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new UA);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return np.current&&np.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sk);return JL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wd(t,e){return new aX(t,e)}function sX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wd(n))}function WA(t,e){const n=Sx(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=vY(a[s]);sX(t,s,o)}}function oX(t){return!!(xr(t)&&t.add)}function R_(t,e){const n=t.getValue("willChange");if(oX(n))return n.add(e)}function ZL(t){return t.props[CL]}const e$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lX=1e-7,cX=12;function uX(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=e$(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>lX&&++o<cX);return s}function Zm(t,e,n,r){if(t===e&&n===r)return Oi;const i=a=>uX(a,0,1,t,n);return a=>a===0||a===1?a:e$(i(a),e,r)}const t$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n$=t=>e=>1-t(1-e),r$=Zm(.33,1.53,.69,.99),KA=n$(r$),i$=t$(KA),a$=t=>(t*=2)<1?.5*KA(t):.5*(2-Math.pow(2,-10*(t-1))),qA=t=>1-Math.sin(Math.acos(t)),s$=n$(qA),o$=t$(qA),l$=t=>/^0[^.\s]+$/u.test(t);function dX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l$(t):!0}const rp=t=>Math.round(t*1e5)/1e5,HA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fX(t){return t==null}const hX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GA=(t,e)=>n=>!!(typeof n=="string"&&hX.test(n)&&n.startsWith(t)||e&&!fX(n)&&Object.prototype.hasOwnProperty.call(n,e)),c$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(HA);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},pX=t=>ao(0,255,t),g1={...Cf,transform:t=>Math.round(pX(t))},yc={test:GA("rgb","red"),parse:c$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+g1.transform(t)+", "+g1.transform(e)+", "+g1.transform(n)+", "+rp(qp.transform(r))+")"};function mX(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const L_={test:GA("#"),parse:mX,transform:yc.transform},rd={test:GA("hsl","hue"),parse:c$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ls.transform(rp(e))+", "+ls.transform(rp(n))+", "+rp(qp.transform(r))+")"},Cr={test:t=>yc.test(t)||L_.test(t)||rd.test(t),parse:t=>yc.test(t)?yc.parse(t):rd.test(t)?rd.parse(t):L_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yc.transform(t):rd.transform(t)},gX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(HA))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(gX))===null||n===void 0?void 0:n.length)||0)>0}const u$="number",d$="color",vX="var",xX="var(",ok="${}",bX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(bX,c=>(Cr.test(c)?(r.color.push(a),i.push(d$),n.push(Cr.parse(c))):c.startsWith(xX)?(r.var.push(a),i.push(vX),n.push(c)):(r.number.push(a),i.push(u$),n.push(parseFloat(c))),++a,ok)).split(ok);return{values:n,split:o,indexes:r,types:i}}function f$(t){return Hp(t).values}function h$(t){const{split:e,types:n}=Hp(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===u$?a+=rp(i[s]):o===d$?a+=Cr.transform(i[s]):a+=i[s]}return a}}const wX=t=>typeof t=="number"?0:t;function _X(t){const e=f$(t);return h$(t)(e.map(wX))}const vl={test:yX,parse:f$,createTransformer:h$,getAnimatableNone:_X},SX=new Set(["brightness","contrast","saturate","opacity"]);function jX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(HA)||[];if(!r)return t;const i=n.replace(r,"");let a=SX.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const AX=/\b([a-z-]*)\(.*?\)/gu,$_={...vl,getAnimatableNone:t=>{const e=t.match(AX);return e?e.map(jX).join(" "):t}},PX={...NA,color:Cr,backgroundColor:Cr,outlineColor:Cr,fill:Cr,stroke:Cr,borderColor:Cr,borderTopColor:Cr,borderRightColor:Cr,borderBottomColor:Cr,borderLeftColor:Cr,filter:$_,WebkitFilter:$_},YA=t=>PX[t];function p$(t,e){let n=YA(t);return n!==$_&&(n=vl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const EX=new Set(["auto","none","0"]);function TX(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!EX.has(a)&&Hp(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=p$(n,i)}const lk=t=>t===Cf||t===Ye,ck=(t,e)=>parseFloat(t.split(", ")[e]),uk=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ck(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?ck(a[1],t):0}},CX=new Set(["x","y","z"]),kX=Tf.filter(t=>!CX.has(t));function NX(t){const e=[];return kX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Kd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:uk(4,13),y:uk(5,14)};Kd.translateX=Kd.x;Kd.translateY=Kd.y;const Tc=new Set;let z_=!1,F_=!1;function m$(){if(F_){const t=Array.from(Tc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=NX(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}F_=!1,z_=!1,Tc.forEach(t=>t.complete()),Tc.clear()}function g$(){Tc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(F_=!0)})}function OX(){g$(),m$()}class XA{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Tc.add(this),z_||(z_=!0,Xt.read(g$),Xt.resolveKeyframes(m$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Tc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Tc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const y$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),IX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DX(t){const e=IX.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function v$(t,e,n=1){const[r,i]=DX(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return y$(s)?parseFloat(s):s}return kA(i)?v$(i,e,n+1):i}const x$=t=>e=>e.test(t),MX={test:t=>t==="auto",parse:t=>t},b$=[Cf,Ye,ls,Fo,jY,SY,MX],dk=t=>b$.find(x$(t));class w$ extends XA{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),kA(u))){const d=v$(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!QL.has(r)||e.length!==2)return;const[i,a]=e,s=dk(i),o=dk(a);if(s!==o)if(lk(s)&&lk(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)dX(e[i])&&r.push(i);r.length&&TX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Kd[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const fk=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vl.test(t)||t==="0")&&!t.startsWith("url("));function RX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LX(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=fk(i,e),o=fk(a,e);return!s||!o?!1:RX(t)||(n==="spring"||$A(n))&&r}const $X=t=>t!==null;function jx(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter($X),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const zX=40;class _${constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cs.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&OX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=cs.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!LX(e,r,i,a))if(s)this.options.duration=0;else{c&&c(jx(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ln=(t,e,n)=>t+(e-t)*n;function y1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=y1(c,o,t+1/3),a=y1(c,o,t),s=y1(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Pv(t,e){return n=>n>0?e:t}const v1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},VX=[L_,yc,rd],BX=t=>VX.find(e=>e.test(t));function hk(t){const e=BX(t);if(!e)return!1;let n=e.parse(t);return e===rd&&(n=FX(n)),n}const pk=(t,e)=>{const n=hk(t),r=hk(e);if(!n||!r)return Pv(t,e);const i={...n};return a=>(i.red=v1(n.red,r.red,a),i.green=v1(n.green,r.green,a),i.blue=v1(n.blue,r.blue,a),i.alpha=ln(n.alpha,r.alpha,a),yc.transform(i))},UX=(t,e)=>n=>e(t(n)),eg=(...t)=>t.reduce(UX),V_=new Set(["none","hidden"]);function WX(t,e){return V_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KX(t,e){return n=>ln(t,e,n)}function QA(t){return typeof t=="number"?KX:typeof t=="string"?kA(t)?Pv:Cr.test(t)?pk:GX:Array.isArray(t)?S$:typeof t=="object"?Cr.test(t)?pk:qX:Pv}function S$(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>QA(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function qX(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=QA(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function HX(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],c=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=c,i[s]++}return r}const GX=(t,e)=>{const n=vl.createTransformer(e),r=Hp(t),i=Hp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?V_.has(t)&&!i.values.length||V_.has(e)&&!r.values.length?WX(t,e):eg(S$(HX(r,i),i.values),n):Pv(t,e)};function j$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ln(t,e,n):QA(t)(t,e)}const YX=5;function A$(t,e,n){const r=Math.max(e-YX,0);return JL(n-t(r),e-r)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x1=.001;function XX({duration:t=bn.duration,bounce:e=bn.bounce,velocity:n=bn.velocity,mass:r=bn.mass}){let i,a,s=1-e;s=ao(bn.minDamping,bn.maxDamping,s),t=ao(bn.minDuration,bn.maxDuration,qs(t)),s<1?(i=u=>{const d=u*s,f=d*t,h=d-n,p=B_(u,s),v=Math.exp(-f);return x1-h/p*v},a=u=>{const f=u*s*t,h=f*n+n,p=Math.pow(s,2)*Math.pow(u,2)*t,v=Math.exp(-f),y=B_(Math.pow(u,2),s);return(-i(u)+x1>0?-1:1)*((h-p)*v)/y}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-x1+d*f},a=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const o=5/t,c=JX(i,a,o);if(t=Ks(t),isNaN(c))return{stiffness:bn.stiffness,damping:bn.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const QX=12;function JX(t,e,n){let r=n;for(let i=1;i<QX;i++)r=r-t(r)/e(r);return r}function B_(t,e){return t*Math.sqrt(1-e*e)}const ZX=["duration","bounce"],eQ=["stiffness","damping","mass"];function mk(t,e){return e.some(n=>t[n]!==void 0)}function tQ(t){let e={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...t};if(!mk(t,eQ)&&mk(t,ZX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ao(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bn.mass,stiffness:i,damping:a}}else{const n=XX(t);e={...e,...n,mass:bn.mass},e.isResolvedFromDuration=!0}return e}function P$(t=bn.visualDuration,e=bn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=tQ({...n,velocity:-qs(n.velocity||0)}),v=h||0,y=u/(2*Math.sqrt(c*d)),b=s-a,x=qs(Math.sqrt(c/d)),_=Math.abs(b)<5;r||(r=_?bn.restSpeed.granular:bn.restSpeed.default),i||(i=_?bn.restDelta.granular:bn.restDelta.default);let S;if(y<1){const E=B_(x,y);S=P=>{const j=Math.exp(-y*x*P);return s-j*((v+y*x*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(y===1)S=E=>s-Math.exp(-x*E)*(b+(v+x*b)*E);else{const E=x*Math.sqrt(y*y-1);S=P=>{const j=Math.exp(-y*x*P),A=Math.min(E*P,300);return s-j*((v+y*x*b)*Math.sinh(A)+E*b*Math.cosh(A))/E}}const C={calculatedDuration:p&&f||null,next:E=>{const P=S(E);if(p)o.done=E>=f;else{let j=0;y<1&&(j=E===0?Ks(v):A$(S,E,P));const A=Math.abs(j)<=r,O=Math.abs(s-P)<=i;o.done=A&&O}return o.value=o.done?s:P,o},toString:()=>{const E=Math.min(WL(C),D_),P=KL(j=>C.next(E*j).value,E,30);return E+"ms "+P}};return C}function gk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=A=>o!==void 0&&A<o||c!==void 0&&A>c,v=A=>o===void 0?c:c===void 0||Math.abs(o-A)<Math.abs(c-A)?o:c;let y=n*e;const b=f+y,x=s===void 0?b:s(b);x!==b&&(y=x-f);const _=A=>-y*Math.exp(-A/r),S=A=>x+_(A),C=A=>{const O=_(A),D=S(A);h.done=Math.abs(O)<=u,h.value=h.done?x:D};let E,P;const j=A=>{p(h.value)&&(E=A,P=P$({keyframes:[h.value,v(h.value)],velocity:A$(S,A,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:A=>{let O=!1;return!P&&E===void 0&&(O=!0,C(A),j(A)),E!==void 0&&A>=E?P.next(A-E):(!O&&C(A),h)}}}const nQ=Zm(.42,0,1,1),rQ=Zm(0,0,.58,1),E$=Zm(.42,0,.58,1),iQ=t=>Array.isArray(t)&&typeof t[0]!="number",aQ={linear:Oi,easeIn:nQ,easeInOut:E$,easeOut:rQ,circIn:qA,circInOut:o$,circOut:s$,backIn:KA,backInOut:i$,backOut:r$,anticipate:a$},yk=t=>{if(zA(t)){jL(t.length===4);const[e,n,r,i]=t;return Zm(e,n,r,i)}else if(typeof t=="string")return aQ[t];return t};function sQ(t,e,n){const r=[],i=n||j$,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Oi:e;o=eg(c,o)}r.push(o)}return r}function T$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(jL(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=sQ(e,r,i),c=o.length,u=d=>{if(s&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Bd(t[f],t[f+1],d);return o[f](h)};return n?d=>u(ao(t[0],t[a-1],d)):u}function oQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Bd(0,e,r);t.push(ln(n,1,i))}}function lQ(t){const e=[0];return oQ(e,t.length-1),e}function cQ(t,e){return t.map(n=>n*e)}function uQ(t,e){return t.map(()=>e||E$).splice(0,t.length-1)}function Ev({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=iQ(r)?r.map(yk):yk(r),a={done:!1,value:e[0]},s=cQ(n&&n.length===e.length?n:lQ(e),t),o=T$(s,e,{ease:Array.isArray(i)?i:uQ(e,i)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const dQ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xt.update(e,!0),stop:()=>io(e),now:()=>gr.isProcessing?gr.timestamp:cs.now()}},fQ={decay:gk,inertia:gk,tween:Ev,keyframes:Ev,spring:P$},hQ=t=>t/100;class JA extends _${constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||XA,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=$A(n)?n:fQ[n]||Ev;let c,u;o!==Ev&&typeof e[0]!="number"&&(c=eg(hQ,j$(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});a==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=WL(d));const{calculatedDuration:f}=d,h=f+i,p=h*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:v,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),_=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=a;if(p){const A=Math.min(this.currentTime,d)/f;let O=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&O--,O=Math.min(O,p+1),!!(O%2)&&(v==="reverse"?(D=1-D,y&&(D-=y/f)):v==="mirror"&&(C=s)),S=ao(0,1,D)*f}const E=_?{done:!1,value:c[0]}:C.next(S);o&&(E.value=o(E.value));let{done:P}=E;!_&&u!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return j&&i!==void 0&&(E.value=jx(c,this.options,i)),b&&b(E.value),j&&this.finish(),E}get duration(){const{resolved:e}=this;return e?qs(e.calculatedDuration):0}get time(){return qs(this.currentTime)}set time(e){e=Ks(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=dQ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const pQ=new Set(["opacity","clipPath","filter","transform"]);function mQ(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=HL(o,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const gQ=SA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tv=10,yQ=2e4;function vQ(t){return $A(t.type)||t.type==="spring"||!qL(t.ease)}function xQ(t,e){const n=new JA({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<yQ;)r=n.sample(a),i.push(r.value),a+=Tv;return{times:void 0,keyframes:i,duration:a-Tv,ease:"linear"}}const C$={anticipate:a$,backInOut:i$,circInOut:o$};function bQ(t){return t in C$}class vk extends _${constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new w$(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Av()&&bQ(a)&&(a=C$[a]),vQ(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:v,...y}=this.options,b=xQ(e,y);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,a=b.ease,s="keyframes"}const d=mQ(o.owner.current,c,e,{...this.options,duration:r,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(nk(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set(jx(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return qs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return qs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ks(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Oi;const{animation:r}=n;nk(r,e)}return Oi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,v=new JA({...p,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),y=Ks(this.time);u.setWithVelocity(v.sample(y-Tv).value,v.sample(y).value,Tv)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return gQ()&&r&&pQ.has(r)&&!c&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const wQ={type:"spring",stiffness:500,damping:25,restSpeed:10},_Q=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SQ={type:"keyframes",duration:.8},jQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AQ=(t,{keyframes:e})=>e.length>2?SQ:ou.has(t)?t.startsWith("scale")?_Q(e[1]):wQ:jQ;function PQ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ZA=(t,e,n,r={},i,a)=>s=>{const o=LA(r,t)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ks(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};PQ(o)||(d={...d,...AQ(t,d)}),d.duration&&(d.duration=Ks(d.duration)),d.repeatDelay&&(d.repeatDelay=Ks(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const h=jx(d.keyframes,o);if(h!==void 0)return Xt.update(()=>{d.onUpdate(h),d.onComplete()}),new qY([])}return!a&&vk.supports(d)?new vk(d):new JA(d)};function EQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function k$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const h=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),p=c[f];if(p===void 0||d&&EQ(d,f))continue;const v={delay:n,...LA(s||{},f)};let y=!1;if(window.MotionHandoffAnimation){const x=ZL(t);if(x){const _=window.MotionHandoffAnimation(x,f,Xt);_!==null&&(v.startTime=_,y=!0)}}R_(t,f),h.start(ZA(f,h,p,t.shouldReduceMotion&&QL.has(f)?{type:!1}:v,t,y));const b=h.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Xt.update(()=>{o&&WA(t,o)})}),u}function U_(t,e,n={}){var r;const i=Sx(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(k$(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return TQ(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function TQ(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(CQ).forEach((u,d)=>{u.notify("AnimationStart",e),s.push(U_(u,e,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function CQ(t,e){return t.sortNodePosition(e)}function N$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>U_(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=U_(t,e,n);else{const i=typeof e=="function"?Sx(t,e,n.custom):e;r=Promise.all(k$(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const kQ=AA.length;function O$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?O$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kQ;n++){const r=AA[n],i=t.props[r];(Kp(i)||i===!1)&&(e[r]=i)}return e}const NQ=[...jA].reverse(),OQ=jA.length;function IQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>N$(t,n,r)))}function DQ(t){let e=IQ(t),n=xk(),r=!0;const i=c=>(u,d)=>{var f;const h=Sx(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...y}=h;u={...u,...y,...v}}return u};function a(c){e=c(t)}function s(c){const{props:u}=t,d=O$(t.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let b=0;b<OQ;b++){const x=NQ[b],_=n[x],S=u[x]!==void 0?u[x]:d[x],C=Kp(S),E=x===c?_.isActive:null;E===!1&&(v=b);let P=S===d[x]&&S!==u[x]&&C;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),_.protectedKeys={...p},!_.isActive&&E===null||!S&&!_.prevProp||wx(S)||typeof S=="boolean")continue;const j=MQ(_.prevProp,S);let A=j||x===c&&_.isActive&&!P&&C||b>v&&C,O=!1;const D=Array.isArray(S)?S:[S];let R=D.reduce(i(x),{});E===!1&&(R={});const{prevResolvedValues:$={}}=_,z={...$,...R},X=K=>{A=!0,h.has(K)&&(O=!0,h.delete(K)),_.needsAnimating[K]=!0;const V=t.getValue(K);V&&(V.liveStyle=!1)};for(const K in z){const V=R[K],Y=$[K];if(p.hasOwnProperty(K))continue;let oe=!1;I_(V)&&I_(Y)?oe=!UL(V,Y):oe=V!==Y,oe?V!=null?X(K):h.add(K):V!==void 0&&h.has(K)?X(K):_.protectedKeys[K]=!0}_.prevProp=S,_.prevResolvedValues=R,_.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(P&&j)||O)&&f.push(...D.map(K=>({animation:K,options:{type:x}})))}if(h.size){const b={};h.forEach(x=>{const _=t.getBaseTarget(x),S=t.getValue(x);S&&(S.liveStyle=!0),b[x]=_??null}),f.push({animation:b})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const f=s(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=xk(),r=!0}}}function MQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UL(e,t):!1}function Jl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xk(){return{animate:Jl(!0),whileInView:Jl(),whileHover:Jl(),whileTap:Jl(),whileDrag:Jl(),whileFocus:Jl(),exit:Jl()}}class Pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RQ extends Pl{constructor(e){super(e),e.animationState||(e.animationState=DQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let LQ=0;class $Q extends Pl{constructor(){super(...arguments),this.id=LQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const zQ={animation:{Feature:RQ},exit:{Feature:$Q}};function Gp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tg(t){return{point:{x:t.pageX,y:t.pageY}}}const FQ=t=>e=>FA(e)&&t(e,tg(e));function ip(t,e,n,r){return Gp(t,e,FQ(n),r)}const bk=(t,e)=>Math.abs(t-e);function VQ(t,e){const n=bk(t.x,e.x),r=bk(t.y,e.y);return Math.sqrt(n**2+r**2)}class I${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=w1(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=VQ(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:y}=gr;this.history.push({...v,timestamp:y});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=b1(h,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=w1(f.type==="pointercancel"?this.lastMoveEventInfo:b1(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),v&&v(f,b)},!FA(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=tg(e),o=b1(s,this.transformPagePoint),{point:c}=o,{timestamp:u}=gr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,w1(o,this.history)),this.removeListeners=eg(ip(this.contextWindow,"pointermove",this.handlePointerMove),ip(this.contextWindow,"pointerup",this.handlePointerUp),ip(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),io(this.updatePoint)}}function b1(t,e){return e?{point:e(t.point)}:t}function wk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function w1({point:t},e){return{point:t,delta:wk(t,D$(e)),offset:wk(t,BQ(e)),velocity:UQ(e,.1)}}function BQ(t){return t[0]}function D$(t){return t[t.length-1]}function UQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=D$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ks(e)));)n--;if(!r)return{x:0,y:0};const a=qs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const M$=1e-4,WQ=1-M$,KQ=1+M$,R$=.01,qQ=0-R$,HQ=0+R$;function Ri(t){return t.max-t.min}function GQ(t,e,n){return Math.abs(t-e)<=n}function _k(t,e,n,r=.5){t.origin=r,t.originPoint=ln(e.min,e.max,t.origin),t.scale=Ri(n)/Ri(e),t.translate=ln(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WQ&&t.scale<=KQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=qQ&&t.translate<=HQ||isNaN(t.translate))&&(t.translate=0)}function ap(t,e,n,r){_k(t.x,e.x,n.x,r?r.originX:void 0),_k(t.y,e.y,n.y,r?r.originY:void 0)}function Sk(t,e,n){t.min=n.min+e.min,t.max=t.min+Ri(e)}function YQ(t,e,n){Sk(t.x,e.x,n.x),Sk(t.y,e.y,n.y)}function jk(t,e,n){t.min=e.min-n.min,t.max=t.min+Ri(e)}function sp(t,e,n){jk(t.x,e.x,n.x),jk(t.y,e.y,n.y)}function XQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ln(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ln(n,t,r.max):Math.min(t,n)),t}function Ak(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QQ(t,{top:e,left:n,bottom:r,right:i}){return{x:Ak(t.x,n,i),y:Ak(t.y,e,r)}}function Pk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function JQ(t,e){return{x:Pk(t.x,e.x),y:Pk(t.y,e.y)}}function ZQ(t,e){let n=.5;const r=Ri(t),i=Ri(e);return i>r?n=Bd(e.min,e.max-r,t.min):r>i&&(n=Bd(t.min,t.max-i,e.min)),ao(0,1,n)}function eJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const W_=.35;function tJ(t=W_){return t===!1?t=0:t===!0&&(t=W_),{x:Ek(t,"left","right"),y:Ek(t,"top","bottom")}}function Ek(t,e,n){return{min:Tk(t,e),max:Tk(t,n)}}function Tk(t,e){return typeof t=="number"?t:t[e]||0}const Ck=()=>({translate:0,scale:1,origin:0,originPoint:0}),id=()=>({x:Ck(),y:Ck()}),kk=()=>({min:0,max:0}),Pn=()=>({x:kk(),y:kk()});function Hi(t){return[t("x"),t("y")]}function L$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _1(t){return t===void 0||t===1}function K_({scale:t,scaleX:e,scaleY:n}){return!_1(t)||!_1(e)||!_1(n)}function ac(t){return K_(t)||$$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $$(t){return Nk(t.x)||Nk(t.y)}function Nk(t){return t&&t!=="0%"}function Cv(t,e,n){const r=t-n,i=e*r;return n+i}function Ok(t,e,n,r,i){return i!==void 0&&(t=Cv(t,i,r)),Cv(t,n,r)+e}function q_(t,e=0,n=1,r,i){t.min=Ok(t.min,e,n,r,i),t.max=Ok(t.max,e,n,r,i)}function z$(t,{x:e,y:n}){q_(t.x,e.translate,e.scale,e.originPoint),q_(t.y,n.translate,n.scale,n.originPoint)}const Ik=.999999999999,Dk=1.0000000000001;function iJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&sd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,z$(t,s)),r&&ac(a.latestValues)&&sd(t,a.latestValues))}e.x<Dk&&e.x>Ik&&(e.x=1),e.y<Dk&&e.y>Ik&&(e.y=1)}function ad(t,e){t.min=t.min+e,t.max=t.max+e}function Mk(t,e,n,r,i=.5){const a=ln(t.min,t.max,i);q_(t,e,n,a,r)}function sd(t,e){Mk(t.x,e.x,e.scaleX,e.scale,e.originX),Mk(t.y,e.y,e.scaleY,e.scale,e.originY)}function F$(t,e){return L$(rJ(t.getBoundingClientRect(),e))}function aJ(t,e,n){const r=F$(t,n),{scroll:i}=e;return i&&(ad(r.x,i.offset.x),ad(r.y,i.offset.y)),r}const V$=({current:t})=>t?t.ownerDocument.defaultView:null,sJ=new WeakMap;class oJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tg(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tX(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(b=>{let x=this.getAxisMotionValue(b).get()||0;if(ls.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[b];S&&(x=Ri(S)*(parseFloat(x)/100))}}this.originPoint[b]=x}),v&&Xt.postRender(()=>v(d,f)),R_(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=lJ(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(d,f)},o=(d,f)=>this.stop(d,f),c=()=>Hi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new I$(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:V$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Xt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Hg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=XQ(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&nd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=QQ(i.layoutBox,n):this.constraints=!1,this.elastic=tJ(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=eJ(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=aJ(r,i.root,this.visualElement.getTransformPagePoint());let s=JQ(i.layout.layoutBox,a);if(n){const o=n(nJ(s));this.hasMutatedConstraints=!!o,o&&(s=L$(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Hi(d=>{if(!Hg(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return R_(this.visualElement,e),r.start(ZA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hi(n=>{const{drag:r}=this.getProps();if(!Hg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-ln(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hi(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();i[s]=ZQ({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hi(s=>{if(!Hg(s,e,null))return;const o=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];o.set(ln(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;sJ.set(this.visualElement,this);const e=this.visualElement.current,n=ip(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();nd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xt.read(r);const s=Gp(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=W_,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Hg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cJ extends Pl{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new oJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rk=t=>(e,n)=>{t&&Xt.postRender(()=>t(e,n))};class uJ extends Pl{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new I$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Rk(e),onStart:Rk(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Xt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=ip(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Iy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ye.test(t))t=parseFloat(t);else return t;const n=Lk(t,e.target.x),r=Lk(t,e.target.y);return`${n}% ${r}%`}},dJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vl.parse(t);if(i.length>5)return r;const a=vl.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=c;const u=ln(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class fJ extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;DY(hJ),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Iy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Xt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),EA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B$(t){const[e,n]=XG(),r=N.useContext(SL);return l.jsx(fJ,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(kL),isPresent:e,safeToRemove:n})}const hJ={borderRadius:{...gh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gh,borderTopRightRadius:gh,borderBottomLeftRadius:gh,borderBottomRightRadius:gh,boxShadow:dJ};function pJ(t,e,n){const r=xr(t)?t:Wd(t);return r.start(ZA("",r,e,n)),r.animation}function mJ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const gJ=(t,e)=>t.depth-e.depth;class yJ{constructor(){this.children=[],this.isDirty=!1}add(e){VA(this.children,e),this.isDirty=!0}remove(e){BA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gJ),this.isDirty=!1,this.children.forEach(e)}}function vJ(t,e){const n=cs.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(io(r),t(a-e))};return Xt.read(r,!0),()=>io(r)}const U$=["TopLeft","TopRight","BottomLeft","BottomRight"],xJ=U$.length,$k=t=>typeof t=="string"?parseFloat(t):t,zk=t=>typeof t=="number"||Ye.test(t);function bJ(t,e,n,r,i,a){i?(t.opacity=ln(0,n.opacity!==void 0?n.opacity:1,wJ(r)),t.opacityExit=ln(e.opacity!==void 0?e.opacity:1,0,_J(r))):a&&(t.opacity=ln(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<xJ;s++){const o=`border${U$[s]}Radius`;let c=Fk(e,o),u=Fk(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||zk(c)===zk(u)?(t[o]=Math.max(ln($k(c),$k(u),r),0),(ls.test(u)||ls.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ln(e.rotate||0,n.rotate||0,r))}function Fk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wJ=W$(0,.5,s$),_J=W$(.5,.95,Oi);function W$(t,e,n){return r=>r<t?0:r>e?1:n(Bd(t,e,r))}function Vk(t,e){t.min=e.min,t.max=e.max}function Ui(t,e){Vk(t.x,e.x),Vk(t.y,e.y)}function Bk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Uk(t,e,n,r,i){return t-=e,t=Cv(t,1/n,r),i!==void 0&&(t=Cv(t,1/i,r)),t}function SJ(t,e=0,n=1,r=.5,i,a=t,s=t){if(ls.test(e)&&(e=parseFloat(e),e=ln(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=ln(a.min,a.max,r);t===a&&(o-=e),t.min=Uk(t.min,e,n,o,i),t.max=Uk(t.max,e,n,o,i)}function Wk(t,e,[n,r,i],a,s){SJ(t,e[n],e[r],e[i],e.scale,a,s)}const jJ=["x","scaleX","originX"],AJ=["y","scaleY","originY"];function Kk(t,e,n,r){Wk(t.x,e,jJ,n?n.x:void 0,r?r.x:void 0),Wk(t.y,e,AJ,n?n.y:void 0,r?r.y:void 0)}function qk(t){return t.translate===0&&t.scale===1}function K$(t){return qk(t.x)&&qk(t.y)}function Hk(t,e){return t.min===e.min&&t.max===e.max}function PJ(t,e){return Hk(t.x,e.x)&&Hk(t.y,e.y)}function Gk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function q$(t,e){return Gk(t.x,e.x)&&Gk(t.y,e.y)}function Yk(t){return Ri(t.x)/Ri(t.y)}function Xk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class EJ{constructor(){this.members=[]}add(e){VA(this.members,e),e.scheduleRender()}remove(e){if(BA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TJ(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const sc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zh=typeof window<"u"&&window.MotionDebug!==void 0,S1=["","X","Y","Z"],CJ={visibility:"hidden"},Qk=1e3;let kJ=0;function j1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function H$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Xt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&H$(r)}function G$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=kJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zh&&(sc.totalNodes=sc.resolvedTargetDeltas=sc.recalculatedProjection=0),this.nodes.forEach(IJ),this.nodes.forEach($J),this.nodes.forEach(zJ),this.nodes.forEach(DJ),zh&&window.MotionDebug.record(sc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yJ)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new UA),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mJ(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vJ(h,250),Iy.hasAnimatedSinceResize&&(Iy.hasAnimatedSinceResize=!1,this.nodes.forEach(Zk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||WJ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),_=!this.targetLayout||!q$(this.targetLayout,v)||p,S=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const C={...LA(y,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||Zk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FJ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jk);return}this.isUpdating||this.nodes.forEach(RJ),this.isUpdating=!1,this.nodes.forEach(LJ),this.nodes.forEach(NJ),this.nodes.forEach(OJ),this.clearAllSnapshots();const o=cs.now();gr.delta=ao(0,1e3/60,o-gr.timestamp),gr.timestamp=o,gr.isProcessing=!0,p1.update.process(gr),p1.preRender.process(gr),p1.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,EA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MJ),this.sharedNodes.forEach(VJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!K$(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||ac(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),KJ(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Pn();const c=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(qJ))){const{scroll:d}=this.root;d&&(ad(c.x,d.offset.x),ad(c.y,d.offset.y))}return c}removeElementScroll(s){var o;const c=Pn();if(Ui(c,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ui(c,s),ad(c.x,f.offset.x),ad(c.y,f.offset.y))}return c}applyTransform(s,o=!1){const c=Pn();Ui(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&sd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ac(d.latestValues)&&sd(c,d.latestValues)}return ac(this.latestValues)&&sd(c,this.latestValues),c}removeTransform(s){const o=Pn();Ui(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ac(u.latestValues))continue;K_(u.latestValues)&&u.updateSnapshot();const d=Pn(),f=u.measurePageBox();Ui(d,f),Kk(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ac(this.latestValues)&&Kk(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=gr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),sp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ui(this.target,this.layout.layoutBox),z$(this.target,this.targetDelta)):Ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),sp(this.relativeTargetOrigin,this.target,p.target),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zh&&sc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||K_(this.parent.latestValues)||$$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ui(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;iJ(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pn());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bk(this.prevProjectionDelta.x,this.projectionDelta.x),Bk(this.prevProjectionDelta.y,this.projectionDelta.y)),ap(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!Xk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),zh&&sc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=id(),this.projectionDelta=id(),this.projectionDeltaWithTransform=id()}setAnimationOrigin(s,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=id();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Pn(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,b=this.getStack(),x=!b||b.members.length<=1,_=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(UJ));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const E=C/1e3;eN(f.x,s.x,E),eN(f.y,s.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BJ(this.relativeTarget,this.relativeTargetOrigin,h,E),S&&PJ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Pn()),Ui(S,this.relativeTarget)),y&&(this.animationValues=d,bJ(d,u,this.latestValues,E,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{Iy.hasAnimatedSinceResize=!0,this.currentAnimation=pJ(0,Qk,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=s;if(!(!o||!c||!u)){if(this!==s&&this.layout&&u&&Y$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pn();const f=Ri(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Ri(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}Ui(o,c),sd(o,d),ap(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new EJ),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&j1("z",s,u,this.animationValues);for(let d=0;d<S1.length;d++)j1(`rotate${S1[d]}`,s,u,this.animationValues),j1(`skew${S1[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CJ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ny(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Ny(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ac(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=TJ(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in jv){if(h[y]===void 0)continue;const{correct:b,applyTo:x}=jv[y],_=u.transform==="none"?h[y]:b(h[y],f);if(x){const S=x.length;for(let C=0;C<S;C++)u[x[C]]=_}else u[y]=_}return this.options.layoutId&&(u.pointerEvents=f===this?Ny(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Jk),this.root.sharedNodes.clear()}}}function NJ(t){t.updateLayout()}function OJ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Hi(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=Ri(h);h.min=r[f].min,h.max=h.min+p}):Y$(a,n.layoutBox,r)&&Hi(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=Ri(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=id();ap(o,r,n.layoutBox);const c=id();s?ap(c,t.applyTransform(i,!0),n.measuredBox):ap(c,r,n.layoutBox);const u=!K$(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Pn();sp(v,n.layoutBox,h.layoutBox);const y=Pn();sp(y,r,p.layoutBox),q$(v,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function IJ(t){zh&&sc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function DJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function MJ(t){t.clearSnapshot()}function Jk(t){t.clearMeasurements()}function RJ(t){t.isLayoutDirty=!1}function LJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Zk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $J(t){t.resolveTargetDelta()}function zJ(t){t.calcProjection()}function FJ(t){t.resetSkewAndRotation()}function VJ(t){t.removeLeadSnapshot()}function eN(t,e,n){t.translate=ln(e.translate,0,n),t.scale=ln(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tN(t,e,n,r){t.min=ln(e.min,n.min,r),t.max=ln(e.max,n.max,r)}function BJ(t,e,n,r){tN(t.x,e.x,n.x,r),tN(t.y,e.y,n.y,r)}function UJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WJ={duration:.45,ease:[.4,0,.1,1]},nN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rN=nN("applewebkit/")&&!nN("chrome/")?Math.round:Oi;function iN(t){t.min=rN(t.min),t.max=rN(t.max)}function KJ(t){iN(t.x),iN(t.y)}function Y$(t,e,n){return t==="position"||t==="preserve-aspect"&&!GQ(Yk(e),Yk(n),.2)}function qJ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const HJ=G$({attachResizeListener:(t,e)=>Gp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),A1={current:void 0},X$=G$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!A1.current){const t=new HJ({});t.mount(window),t.setOptions({layoutScroll:!0}),A1.current=t}return A1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GJ={pan:{Feature:uJ},drag:{Feature:cJ,ProjectionNode:X$,MeasureLayout:B$}};function aN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Xt.postRender(()=>a(e,tg(e)))}class YJ extends Pl{mount(){const{current:e}=this.node;e&&(this.unmount=XY(e,n=>(aN(this.node,n,"Start"),r=>aN(this.node,r,"End"))))}unmount(){}}class XJ extends Pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eg(Gp(this.node.current,"focus",()=>this.onFocus()),Gp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sN(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Xt.postRender(()=>a(e,tg(e)))}class QJ extends Pl{mount(){const{current:e}=this.node;e&&(this.unmount=eX(e,n=>(sN(this.node,n,"Start"),(r,{success:i})=>sN(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H_=new WeakMap,P1=new WeakMap,JJ=t=>{const e=H_.get(t.target);e&&e(t)},ZJ=t=>{t.forEach(JJ)};function eZ({root:t,...e}){const n=t||document;P1.has(n)||P1.set(n,{});const r=P1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ZJ,{root:t,...e})),r[i]}function tZ(t,e,n){const r=eZ(e);return H_.set(t,n),r.observe(t),()=>{H_.delete(t),r.unobserve(t)}}const nZ={some:0,all:1};class rZ extends Pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:nZ[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return tZ(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iZ(e,n))&&this.startObserver()}unmount(){}}function iZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aZ={inView:{Feature:rZ},tap:{Feature:QJ},focus:{Feature:XJ},hover:{Feature:YJ}},sZ={layout:{ProjectionNode:X$,MeasureLayout:B$}},G_={current:null},Q$={current:!1};function oZ(){if(Q$.current=!0,!!wA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>G_.current=t.matches;t.addListener(e),e()}else G_.current=!1}const lZ=[...b$,Cr,vl],cZ=t=>lZ.find(x$(t)),oN=new WeakMap;function uZ(t,e,n){for(const r in e){const i=e[r],a=n[r];if(xr(i))t.addValue(r,i);else if(xr(a))t.addValue(r,Wd(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,Wd(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=cs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Xt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=s;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=_x(n),this.isVariantNode=TL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const v=h[p];c[p]!==void 0&&xr(v)&&v.set(c[p],!1)}}mount(e){this.current=e,oN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Q$.current||oZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:G_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oN.delete(this.current),this.projection&&this.projection.unmount(),io(this.notifyUpdate),io(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ou.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ud){const n=Ud[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lN.length;r++){const i=lN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=uZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(y$(i)||l$(i))?i=parseFloat(i):!cZ(i)&&vl.test(n)&&(i=p$(e,n)),this.setBaseTarget(e,xr(i)?i.get():i)),xr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=CA(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new UA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class J$ extends dZ{constructor(){super(...arguments),this.KeyframeResolver=w$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fZ(t){return window.getComputedStyle(t)}class hZ extends J${constructor(){super(...arguments),this.type="html",this.renderInstance=LL}readValueFromInstance(e,n){if(ou.has(n)){const r=YA(n);return r&&r.default||0}else{const r=fZ(e),i=(DL(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return F$(e,n)}build(e,n,r){OA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return RA(e,n,r)}}class pZ extends J${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ou.has(n)){const r=YA(n);return r&&r.default||0}return n=$L.has(n)?n:PA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VL(e,n,r)}build(e,n,r){IA(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){zL(e,n,r,i)}mount(e){this.isSVGTag=MA(e.tagName),super.mount(e)}}const mZ=(t,e)=>TA(t)?new pZ(e):new hZ(e,{allowProjection:t!==N.Fragment}),gZ=UY({...zQ,...aZ,...GJ,...sZ},mZ),El=iY(gZ);function Z$(t){const e=su(()=>Wd(t)),{isStatic:n}=N.useContext(bA);if(n){const[,r]=N.useState(t);N.useEffect(()=>e.on("change",r),[])}return e}function e6(t,e){const n=Z$(e()),r=()=>n.set(e());return r(),_A(()=>{const i=()=>Xt.preRender(r,!1,!0),a=t.map(s=>s.on("change",i));return()=>{a.forEach(s=>s()),io(r)}}),n}const yZ=t=>t&&typeof t=="object"&&t.mix,vZ=t=>yZ(t)?t.mix:void 0;function xZ(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],s=t[3+n],o=T$(i,a,{mixer:vZ(a[0]),...s});return e?o(r):o}function bZ(t){np.current=[],t();const e=e6(np.current,t);return np.current=void 0,e}function wZ(t,e,n,r){if(typeof t=="function")return bZ(t);const i=typeof e=="function"?e:xZ(e,n,r);return Array.isArray(t)?cN(t,i):cN([t],([a])=>i(a))}function cN(t,e){const n=su(()=>[]);return e6(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function _Z(t){t.values.forEach(e=>e.stop())}function Y_(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&WA(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{Y_(a,e)})})}function SZ(t,e){if(Array.isArray(e))return Y_(t,e);if(typeof e=="string")return Y_(t,[e]);WA(t,e)}function jZ(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(N$(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{SZ(r,n)})},stop(){t.forEach(n=>{_Z(n)})},mount(){return()=>{e.stop()}}};return e}function AZ(){const t=su(jZ);return _A(t.mount,[]),t}const kf=AZ;class PZ{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const EZ=()=>new PZ;function eP(){return su(EZ)}const t6=N.createContext(null);function TZ(t,e,n,r){if(!r)return t;const i=t.findIndex(d=>d.value===e);if(i===-1)return t;const a=r>0?1:-1,s=t[i+a];if(!s)return t;const o=t[i],c=s.layout,u=ln(c.min,c.max,.5);return a===1&&o.layout.max+n>u||a===-1&&o.layout.min+n<u?rX(t,i,i+a):t}function CZ({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},s){const o=su(()=>El[e]),c=[],u=N.useRef(!1),d={axis:n,registerItem:(f,h)=>{const p=c.findIndex(v=>f===v.value);p!==-1?c[p].layout=h[n]:c.push({value:f,layout:h[n]}),c.sort(NZ)},updateOrder:(f,h,p)=>{if(u.current)return;const v=TZ(c,f,h,p);c!==v&&(u.current=!0,r(v.map(kZ).filter(y=>i.indexOf(y)!==-1)))}};return N.useEffect(()=>{u.current=!1}),l.jsx(o,{...a,ref:s,ignoreStrict:!0,children:l.jsx(t6.Provider,{value:d,children:t})})}const tP=N.forwardRef(CZ);function kZ(t){return t.value}function NZ(t,e){return t.layout.min-e.layout.min}function uN(t,e=0){return xr(t)?t:Z$(e)}function OZ({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...s},o){const c=su(()=>El[r]),u=N.useContext(t6),d={x:uN(e.x),y:uN(e.y)},f=wZ([d.x,d.y],([y,b])=>y||b?1:"unset"),{axis:h,registerItem:p,updateOrder:v}=u;return l.jsx(c,{drag:h,...s,dragSnapToOrigin:!0,style:{...e,x:d.x,y:d.y,zIndex:f},layout:a,onDrag:(y,b)=>{const{velocity:x}=b;x[h]&&v(n,d[h].get(),x[h]),i&&i(y,b)},onLayoutMeasure:y=>p(n,y),ref:o,ignoreStrict:!0,children:t})}const nP=N.forwardRef(OZ),X_=({isOpen:t,onClose:e,title:n,actions:r})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:l.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:i=>i.stopPropagation(),children:[l.jsx("div",{className:"p-2",children:l.jsx("header",{className:"text-center p-2 rounded-lg bg-zinc-800/50",children:l.jsx("h2",{className:"text-sm font-semibold text-brand-light-gray",children:n})})}),l.jsx("div",{className:"p-2",children:l.jsx("div",{className:"bg-zinc-800/50 rounded-lg",children:r.map((i,a)=>l.jsxs("button",{onClick:()=>{i.onClick(),e()},className:`w-full flex items-center p-3 text-left transition-colors hover:bg-white/10 ${i.color||"text-brand-blue"} ${a>0?"border-t border-zinc-700/80":""}`,children:[l.jsx(i.icon,{size:22,className:"mr-4"}),l.jsx("span",{className:"text-lg font-medium text-white",children:i.label})]},a))})}),l.jsx("div",{className:"p-2 mt-1",children:l.jsx("button",{onClick:e,className:"w-full bg-zinc-700 p-3 text-lg font-bold text-white rounded-xl hover:bg-zinc-600 transition-colors",children:"Cancelar"})})]})}):null,IZ=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?l.jsxs(dt,{isOpen:t,onClose:e,title:r,children:[" ",l.jsxs("div",{className:"space-y-6",children:[" ",l.jsx("p",{className:"text-zinc-300",children:i})," ",l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})," "]})," "]}):null,DZ=({lotName:t,count:e,dragControls:n})=>l.jsxs("div",{className:"w-full p-4 flex items-center",children:[l.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:r=>n.start(r),children:l.jsx(pA,{className:"text-zinc-500"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[l.jsx("span",{className:"font-semibold text-brand-orange",children:e})," ",e===1?"animal":"animales"]})]})]}),MZ=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=kf(),s=N.useRef(!1),o=t.count>0,c=t.name!=="Sin Asignar",u=(o?80:0)+(c?80:0);return l.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[l.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[o&&l.jsxs("button",{onClick:e,onPointerDown:d=>d.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-orange text-white",children:[l.jsx(jl,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c&&l.jsxs("button",{onClick:n,onPointerDown:d=>d.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[l.jsx(fo,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Borrar"})]})]}),l.jsx(El.div,{drag:"x",dragConstraints:{left:-u,right:0},dragElastic:.1,onPanStart:()=>{s.current=!0},onPanEnd:()=>{setTimeout(()=>{s.current=!1},50)},onTap:()=>{s.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:l.jsx(DZ,{lotName:t.name,count:t.count,dragControls:i})})]})},RZ=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=eP();return l.jsxs(nP,{value:t,dragListener:!1,dragControls:i,children:[" ",l.jsx(MZ,{lot:t,dragControls:i,onClick:()=>e({name:"lot-detail",lotName:t.name}),onEdit:()=>n(t),onDelete:()=>r(t)})," "]},t.id)};function LZ({navigateTo:t}){const{animals:e,lots:n,deleteLot:r}=qe(),[i,a]=N.useState(!1),[s,o]=N.useState(null),[c,u]=N.useState(null),d=N.useMemo(()=>{const y=new Map;return n.forEach(x=>y.set(x.name,0)),(e||[]).forEach(x=>{const _=x.location||"Sin Asignar";y.set(_,(y.get(_)||0)+1)}),Array.from(new Set([...n.map(x=>x.name),...e.map(x=>x.location||"Sin Asignar")])).map(x=>{const _=n.find(S=>S.name===x);return{id:(_==null?void 0:_.id)||x,name:x,count:y.get(x)||0}}).sort((x,_)=>x.name.localeCompare(_.name))},[e,n]),[f,h]=N.useState(d);N.useEffect(()=>{h(d)},[d]);const p=[{label:"Mover Animales",icon:gL,onClick:()=>t({name:"lot-detail",lotName:(s==null?void 0:s.name)||""})}],v=()=>{c&&r(c.id)};return f.length===0?l.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[l.jsx(wL,{size:32,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay lotes físicos creados."}),l.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botón '+' para empezar a organizar tu rebaño."})]}):l.jsxs(l.Fragment,{children:[l.jsx(tP,{as:"div",axis:"y",values:f,onReorder:h,className:"space-y-3",children:f.map(y=>l.jsx(RZ,{lot:y,navigateTo:t,onEdit:b=>{o(b),a(!0)},onDelete:b=>u(b)},y.id))}),l.jsx(X_,{isOpen:i,onClose:()=>a(!1),title:`Acciones para "${s==null?void 0:s.name}"`,actions:p}),l.jsx(IZ,{isOpen:!!c,onClose:()=>u(null),onConfirm:v,title:"Eliminar Lote",message:`¿Estás seguro de que quieres eliminar el lote "${c==null?void 0:c.name}"? Esta acción no se puede deshacer.`})]})}const $Z=({onSave:t,onCancel:e,existingSeason:n})=>{const[r,i]=N.useState(""),[a,s]=N.useState(""),[o,c]=N.useState("45"),[u,d]=N.useState(!1),[f,h]=N.useState(null),[p,v]=N.useState(!1);N.useEffect(()=>{if(n){i(n.name),s(n.startDate);const b=new Date(n.startDate),x=new Date(n.endDate),_=Math.abs(x.getTime()-b.getTime()),S=Math.ceil(_/(1e3*60*60*24));c(String(S)),d(n.requiresLightTreatment)}else s(new Date().toISOString().split("T")[0])},[n]);const y=async b=>{if(b.preventDefault(),h(null),!r.trim()||!a||!o){h("Todos los campos son obligatorios.");return}v(!0);const x=new Date(a),_=new Date(x);_.setDate(x.getDate()+parseInt(o,10));const S={name:r,startDate:a,endDate:_.toISOString().split("T")[0],requiresLightTreatment:u};try{await t(S)}catch(C){h("No se pudo guardar la temporada de monta."),console.error(C),v(!1)}};return l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre de la Temporada"}),l.jsx("input",{id:"name",type:"text",value:r,onChange:b=>i(b.target.value),placeholder:"Ej: Monta de Otoño 2025",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),l.jsx("input",{id:"startDate",type:"date",value:a,onChange:b=>s(b.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Duración (días)"}),l.jsx("input",{id:"duration",type:"number",value:o,onChange:b=>c(b.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[l.jsx("label",{htmlFor:"lightTreatment",className:"text-sm font-medium text-zinc-300",children:"¿Requiere Tratamiento de Luz?"}),l.jsx("input",{id:"lightTreatment",type:"checkbox",checked:u,onChange:b=>d(b.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),f&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:f})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:p,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:p?"Guardando...":"Guardar Temporada"})]})]})},zZ=({season:t,dragControls:e})=>l.jsxs("div",{className:"w-full p-4 flex items-center",children:[l.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:n=>e.start(n),children:l.jsx(pA,{className:"text-zinc-500"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t.name,t.requiresLightTreatment&&l.jsx("span",{title:"Requiere Tratamiento de Luz",children:l.jsx(kG,{size:16,className:"text-yellow-400"})})]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[new Date(t.startDate+"T00:00:00").toLocaleDateString()," - ",new Date(t.endDate+"T00:00:00").toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${t.status==="Activo"?"bg-green-500/80 text-white":"bg-zinc-600 text-zinc-300"}`,children:t.status}),l.jsx(Rr,{className:"text-zinc-600"})]})]}),FZ=({season:t,onEdit:e,onClick:n,dragControls:r})=>{const i=kf(),a=N.useRef(!1);return l.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:l.jsxs("button",{onClick:e,onPointerDown:s=>s.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[l.jsx(jl,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]})}),l.jsx(El.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onPanStart:()=>{a.current=!0},onPanEnd:()=>{setTimeout(()=>{a.current=!1},50)},onTap:()=>{a.current||n()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:l.jsx(zZ,{season:t,dragControls:r})})]})},VZ=({season:t,navigateTo:e,onEdit:n})=>{const r=eP();return l.jsx(nP,{value:t,dragListener:!1,dragControls:r,children:l.jsx(FZ,{season:t,dragControls:r,onClick:()=>e({name:"breeding-season-detail",seasonId:t.id}),onEdit:()=>n(t)})},t.id)};function BZ({navigateTo:t}){const{breedingSeasons:e,addBreedingSeason:n,updateBreedingSeason:r}=qe(),[i,a]=N.useState(!1),[s,o]=N.useState(void 0),c=N.useMemo(()=>[...e].sort((p,v)=>p.status==="Activo"&&v.status!=="Activo"?-1:p.status!=="Activo"&&v.status==="Activo"?1:new Date(v.startDate).getTime()-new Date(p.startDate).getTime()),[e]),[u,d]=N.useState(c);N.useEffect(()=>{d(c)},[c]);const f=p=>{o(p),a(!0)},h=async p=>{s?await r(s.id,{...p}):await n({...p,status:"Activo"}),a(!1),o(void 0)};return u.length===0?l.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[l.jsx(xx,{size:32,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay temporadas de monta creadas."}),l.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botón de abajo para empezar a planificar."})]}):l.jsxs(l.Fragment,{children:[l.jsx(tP,{as:"div",axis:"y",values:u,onReorder:d,className:"space-y-3",children:u.map(p=>l.jsx(VZ,{season:p,navigateTo:t,onEdit:f},p.id))}),l.jsx("div",{className:"px-4 mt-4",children:l.jsxs("button",{onClick:()=>f(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[l.jsx(Xr,{size:20})," Crear Nueva Temporada"]})}),l.jsx(dt,{isOpen:i,onClose:()=>{a(!1),o(void 0)},title:s?"Editar Temporada de Monta":"Crear Temporada de Monta",children:l.jsx($Z,{onSave:h,onCancel:()=>{a(!1),o(void 0)},existingSeason:s})})]})}function n6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=n6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=n6(t))&&(r&&(r+=" "),r+=e);return r}var UZ=Array.isArray,yi=UZ,WZ=typeof Uu=="object"&&Uu&&Uu.Object===Object&&Uu,r6=WZ,KZ=r6,qZ=typeof self=="object"&&self&&self.Object===Object&&self,HZ=KZ||qZ||Function("return this")(),ys=HZ,GZ=ys,YZ=GZ.Symbol,ng=YZ,dN=ng,i6=Object.prototype,XZ=i6.hasOwnProperty,QZ=i6.toString,yh=dN?dN.toStringTag:void 0;function JZ(t){var e=XZ.call(t,yh),n=t[yh];try{t[yh]=void 0;var r=!0}catch{}var i=QZ.call(t);return r&&(e?t[yh]=n:delete t[yh]),i}var ZZ=JZ,eee=Object.prototype,tee=eee.toString;function nee(t){return tee.call(t)}var ree=nee,fN=ng,iee=ZZ,aee=ree,see="[object Null]",oee="[object Undefined]",hN=fN?fN.toStringTag:void 0;function lee(t){return t==null?t===void 0?oee:see:hN&&hN in Object(t)?iee(t):aee(t)}var po=lee;function cee(t){return t!=null&&typeof t=="object"}var mo=cee,uee=po,dee=mo,fee="[object Symbol]";function hee(t){return typeof t=="symbol"||dee(t)&&uee(t)==fee}var Nf=hee,pee=yi,mee=Nf,gee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yee=/^\w*$/;function vee(t,e){if(pee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||mee(t)?!0:yee.test(t)||!gee.test(t)||e!=null&&t in Object(e)}var rP=vee;function xee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tl=xee;const Of=Nt(Tl);var bee=po,wee=Tl,_ee="[object AsyncFunction]",See="[object Function]",jee="[object GeneratorFunction]",Aee="[object Proxy]";function Pee(t){if(!wee(t))return!1;var e=bee(t);return e==See||e==jee||e==_ee||e==Aee}var iP=Pee;const Xe=Nt(iP);var Eee=ys,Tee=Eee["__core-js_shared__"],Cee=Tee,E1=Cee,pN=function(){var t=/[^.]+$/.exec(E1&&E1.keys&&E1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kee(t){return!!pN&&pN in t}var Nee=kee,Oee=Function.prototype,Iee=Oee.toString;function Dee(t){if(t!=null){try{return Iee.call(t)}catch{}try{return t+""}catch{}}return""}var a6=Dee,Mee=iP,Ree=Nee,Lee=Tl,$ee=a6,zee=/[\\^$.*+?()[\]{}|]/g,Fee=/^\[object .+?Constructor\]$/,Vee=Function.prototype,Bee=Object.prototype,Uee=Vee.toString,Wee=Bee.hasOwnProperty,Kee=RegExp("^"+Uee.call(Wee).replace(zee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qee(t){if(!Lee(t)||Ree(t))return!1;var e=Mee(t)?Kee:Fee;return e.test($ee(t))}var Hee=qee;function Gee(t,e){return t==null?void 0:t[e]}var Yee=Gee,Xee=Hee,Qee=Yee;function Jee(t,e){var n=Qee(t,e);return Xee(n)?n:void 0}var lu=Jee,Zee=lu,ete=Zee(Object,"create"),Ax=ete,mN=Ax;function tte(){this.__data__=mN?mN(null):{},this.size=0}var nte=tte;function rte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ite=rte,ate=Ax,ste="__lodash_hash_undefined__",ote=Object.prototype,lte=ote.hasOwnProperty;function cte(t){var e=this.__data__;if(ate){var n=e[t];return n===ste?void 0:n}return lte.call(e,t)?e[t]:void 0}var ute=cte,dte=Ax,fte=Object.prototype,hte=fte.hasOwnProperty;function pte(t){var e=this.__data__;return dte?e[t]!==void 0:hte.call(e,t)}var mte=pte,gte=Ax,yte="__lodash_hash_undefined__";function vte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gte&&e===void 0?yte:e,this}var xte=vte,bte=nte,wte=ite,_te=ute,Ste=mte,jte=xte;function If(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}If.prototype.clear=bte;If.prototype.delete=wte;If.prototype.get=_te;If.prototype.has=Ste;If.prototype.set=jte;var Ate=If;function Pte(){this.__data__=[],this.size=0}var Ete=Pte;function Tte(t,e){return t===e||t!==t&&e!==e}var aP=Tte,Cte=aP;function kte(t,e){for(var n=t.length;n--;)if(Cte(t[n][0],e))return n;return-1}var Px=kte,Nte=Px,Ote=Array.prototype,Ite=Ote.splice;function Dte(t){var e=this.__data__,n=Nte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ite.call(e,n,1),--this.size,!0}var Mte=Dte,Rte=Px;function Lte(t){var e=this.__data__,n=Rte(e,t);return n<0?void 0:e[n][1]}var $te=Lte,zte=Px;function Fte(t){return zte(this.__data__,t)>-1}var Vte=Fte,Bte=Px;function Ute(t,e){var n=this.__data__,r=Bte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Wte=Ute,Kte=Ete,qte=Mte,Hte=$te,Gte=Vte,Yte=Wte;function Df(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Df.prototype.clear=Kte;Df.prototype.delete=qte;Df.prototype.get=Hte;Df.prototype.has=Gte;Df.prototype.set=Yte;var Ex=Df,Xte=lu,Qte=ys,Jte=Xte(Qte,"Map"),sP=Jte,gN=Ate,Zte=Ex,ene=sP;function tne(){this.size=0,this.__data__={hash:new gN,map:new(ene||Zte),string:new gN}}var nne=tne;function rne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ine=rne,ane=ine;function sne(t,e){var n=t.__data__;return ane(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Tx=sne,one=Tx;function lne(t){var e=one(this,t).delete(t);return this.size-=e?1:0,e}var cne=lne,une=Tx;function dne(t){return une(this,t).get(t)}var fne=dne,hne=Tx;function pne(t){return hne(this,t).has(t)}var mne=pne,gne=Tx;function yne(t,e){var n=gne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var vne=yne,xne=nne,bne=cne,wne=fne,_ne=mne,Sne=vne;function Mf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mf.prototype.clear=xne;Mf.prototype.delete=bne;Mf.prototype.get=wne;Mf.prototype.has=_ne;Mf.prototype.set=Sne;var oP=Mf,s6=oP,jne="Expected a function";function lP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(lP.Cache||s6),n}lP.Cache=s6;var o6=lP;const Ane=Nt(o6);var Pne=o6,Ene=500;function Tne(t){var e=Pne(t,function(r){return n.size===Ene&&n.clear(),r}),n=e.cache;return e}var Cne=Tne,kne=Cne,Nne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,One=/\\(\\)?/g,Ine=kne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Nne,function(n,r,i,a){e.push(i?a.replace(One,"$1"):r||n)}),e}),Dne=Ine;function Mne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var cP=Mne,yN=ng,Rne=cP,Lne=yi,$ne=Nf,vN=yN?yN.prototype:void 0,xN=vN?vN.toString:void 0;function l6(t){if(typeof t=="string")return t;if(Lne(t))return Rne(t,l6)+"";if($ne(t))return xN?xN.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zne=l6,Fne=zne;function Vne(t){return t==null?"":Fne(t)}var c6=Vne,Bne=yi,Une=rP,Wne=Dne,Kne=c6;function qne(t,e){return Bne(t)?t:Une(t,e)?[t]:Wne(Kne(t))}var u6=qne,Hne=Nf;function Gne(t){if(typeof t=="string"||Hne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Cx=Gne,Yne=u6,Xne=Cx;function Qne(t,e){e=Yne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Xne(e[n++])];return n&&n==r?t:void 0}var uP=Qne,Jne=uP;function Zne(t,e,n){var r=t==null?void 0:Jne(t,e);return r===void 0?n:r}var d6=Zne;const Ii=Nt(d6);function ere(t){return t==null}var tre=ere;const tt=Nt(tre);var nre=po,rre=yi,ire=mo,are="[object String]";function sre(t){return typeof t=="string"||!rre(t)&&ire(t)&&nre(t)==are}var ore=sre;const Wc=Nt(ore);var f6={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=Symbol.for("react.element"),fP=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),Ox=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),lre=Symbol.for("react.server_context"),Mx=Symbol.for("react.forward_ref"),Rx=Symbol.for("react.suspense"),Lx=Symbol.for("react.suspense_list"),$x=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),cre=Symbol.for("react.offscreen"),h6;h6=Symbol.for("react.module.reference");function sa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dP:switch(t=t.type,t){case kx:case Ox:case Nx:case Rx:case Lx:return t;default:switch(t=t&&t.$$typeof,t){case lre:case Dx:case Mx:case zx:case $x:case Ix:return t;default:return e}}case fP:return e}}}Lt.ContextConsumer=Dx;Lt.ContextProvider=Ix;Lt.Element=dP;Lt.ForwardRef=Mx;Lt.Fragment=kx;Lt.Lazy=zx;Lt.Memo=$x;Lt.Portal=fP;Lt.Profiler=Ox;Lt.StrictMode=Nx;Lt.Suspense=Rx;Lt.SuspenseList=Lx;Lt.isAsyncMode=function(){return!1};Lt.isConcurrentMode=function(){return!1};Lt.isContextConsumer=function(t){return sa(t)===Dx};Lt.isContextProvider=function(t){return sa(t)===Ix};Lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dP};Lt.isForwardRef=function(t){return sa(t)===Mx};Lt.isFragment=function(t){return sa(t)===kx};Lt.isLazy=function(t){return sa(t)===zx};Lt.isMemo=function(t){return sa(t)===$x};Lt.isPortal=function(t){return sa(t)===fP};Lt.isProfiler=function(t){return sa(t)===Ox};Lt.isStrictMode=function(t){return sa(t)===Nx};Lt.isSuspense=function(t){return sa(t)===Rx};Lt.isSuspenseList=function(t){return sa(t)===Lx};Lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kx||t===Ox||t===Nx||t===Rx||t===Lx||t===cre||typeof t=="object"&&t!==null&&(t.$$typeof===zx||t.$$typeof===$x||t.$$typeof===Ix||t.$$typeof===Dx||t.$$typeof===Mx||t.$$typeof===h6||t.getModuleId!==void 0)};Lt.typeOf=sa;f6.exports=Lt;var ure=f6.exports,dre=po,fre=mo,hre="[object Number]";function pre(t){return typeof t=="number"||fre(t)&&dre(t)==hre}var p6=pre;const mre=Nt(p6);var gre=p6;function yre(t){return gre(t)&&t!=+t}var vre=yre;const Rf=Nt(vre);var Ur=function(e){return e===0?0:e>0?1:-1},vc=function(e){return Wc(e)&&e.indexOf("%")===e.length-1},je=function(e){return mre(e)&&!Rf(e)},xre=function(e){return tt(e)},Xn=function(e){return je(e)||Wc(e)},bre=0,cu=function(e){var n=++bre;return"".concat(e||"").concat(n)},Wr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!Wc(e))return r;var a;if(vc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Rf(a)&&(a=r),i&&a>n&&(a=n),a},Ho=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},wre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Gn=function(e,n){return je(e)&&je(n)?function(r){return e+r*(n-e)}:function(){return n}};function kv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ii(r,e))===n})}var _re=function(e,n){return je(e)&&je(n)?e-n:Wc(e)&&Wc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function wd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Q_(t){"@babel/helpers - typeof";return Q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q_(t)}var Sre=["viewBox","children"],jre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bN=["points","pathLength"],T1={svg:Sre,polygon:bN,polyline:bN},hP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!Of(r))return null;var i={};return Object.keys(r).forEach(function(a){hP.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Are=function(e,n,r){return function(i){return e(n,r,i),null}},Kc=function(e,n,r){if(!Of(e)||Q_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];hP.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Are(s,n,r))}),i},Pre=["children"],Ere=["children"];function wN(t,e){if(t==null)return{};var n=Tre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J_(t){"@babel/helpers - typeof";return J_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J_(t)}var _N={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},SN=null,C1=null,pP=function t(e){if(e===SN&&Array.isArray(C1))return C1;var n=[];return N.Children.forEach(e,function(r){tt(r)||(ure.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),C1=n,SN=e,n};function Di(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hs(i)}):r=[Hs(e)],pP(t).forEach(function(i){var a=Ii(i,"type.displayName")||Ii(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ei(t,e){var n=Di(t,e);return n&&n[0]}var jN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!je(r)||r<=0||!je(i)||i<=0)},Cre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kre=function(e){return e&&e.type&&Wc(e.type)&&Cre.indexOf(e.type)>=0},m6=function(e){return e&&J_(e)==="object"&&"clipDot"in e},Nre=function(e,n,r,i){var a,s=(a=T1==null?void 0:T1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Xe(e)&&(i&&s.includes(n)||jre.includes(n))||r&&hP.includes(n)},Be=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Of(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Nre((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},Z_=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return AN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!AN(a,s))return!1}return!0},AN=function(e,n){if(tt(e)&&tt(n))return!0;if(!tt(e)&&!tt(n)){var r=e.props||{},i=r.children,a=wN(r,Pre),s=n.props||{},o=s.children,c=wN(s,Ere);return i&&o?wd(a,c)&&Z_(i,o):!i&&!o?wd(a,c):!1}return!1},PN=function(e,n){var r=[],i={};return pP(e).forEach(function(a,s){if(kre(a))r.push(a);else if(a){var o=Hs(a.type),c=n[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(a,o,s);r.push(f),i[o]=!0}}}),r},Ore=function(e){var n=e&&e.type;return n&&_N[n]?_N[n]:null},Ire=function(e,n){return pP(n).indexOf(e)},Dre=["children","width","height","viewBox","className","style","title","desc"];function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e2.apply(this,arguments)}function Mre(t,e){if(t==null)return{};var n=Rre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,c=t.desc,u=Mre(t,Dre),d=i||{width:n,height:r,x:0,y:0},f=lt("recharts-surface",a);return q.createElement("svg",e2({},Be(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,o),q.createElement("desc",null,c),e)}var Lre=["children","className"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function $re(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pt=q.forwardRef(function(t,e){var n=t.children,r=t.className,i=$re(t,Lre),a=lt("recharts-layer",r);return q.createElement("g",n2({className:a},Be(i,!0),{ref:e}),n)}),Ta=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Fre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Vre=Fre,Bre=Vre;function Ure(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Bre(t,e,n)}var Wre=Ure,Kre="\\ud800-\\udfff",qre="\\u0300-\\u036f",Hre="\\ufe20-\\ufe2f",Gre="\\u20d0-\\u20ff",Yre=qre+Hre+Gre,Xre="\\ufe0e\\ufe0f",Qre="\\u200d",Jre=RegExp("["+Qre+Kre+Yre+Xre+"]");function Zre(t){return Jre.test(t)}var g6=Zre;function eie(t){return t.split("")}var tie=eie,y6="\\ud800-\\udfff",nie="\\u0300-\\u036f",rie="\\ufe20-\\ufe2f",iie="\\u20d0-\\u20ff",aie=nie+rie+iie,sie="\\ufe0e\\ufe0f",oie="["+y6+"]",r2="["+aie+"]",i2="\\ud83c[\\udffb-\\udfff]",lie="(?:"+r2+"|"+i2+")",v6="[^"+y6+"]",x6="(?:\\ud83c[\\udde6-\\uddff]){2}",b6="[\\ud800-\\udbff][\\udc00-\\udfff]",cie="\\u200d",w6=lie+"?",_6="["+sie+"]?",uie="(?:"+cie+"(?:"+[v6,x6,b6].join("|")+")"+_6+w6+")*",die=_6+w6+uie,fie="(?:"+[v6+r2+"?",r2,x6,b6,oie].join("|")+")",hie=RegExp(i2+"(?="+i2+")|"+fie+die,"g");function pie(t){return t.match(hie)||[]}var mie=pie,gie=tie,yie=g6,vie=mie;function xie(t){return yie(t)?vie(t):gie(t)}var bie=xie,wie=Wre,_ie=g6,Sie=bie,jie=c6;function Aie(t){return function(e){e=jie(e);var n=_ie(e)?Sie(e):void 0,r=n?n[0]:e.charAt(0),i=n?wie(n,1).join(""):e.slice(1);return r[t]()+i}}var Pie=Aie,Eie=Pie,Tie=Eie("toUpperCase"),Cie=Tie;const Fx=Nt(Cie);function Ht(t){return function(){return t}}const S6=Math.cos,Ov=Math.sin,La=Math.sqrt,Iv=Math.PI,Vx=2*Iv,a2=Math.PI,s2=2*a2,oc=1e-6,kie=s2-oc;function j6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Nie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return j6;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Oie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?j6:Nie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=r-e,u=i-n,d=s-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>oc)if(!(Math.abs(f*c-u*d)>oc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,v=i-o,y=c*c+u*u,b=p*p+v*v,x=Math.sqrt(y),_=Math.sqrt(h),S=a*Math.tan((a2-Math.acos((y+h-b)/(2*x*_)))/2),C=S/_,E=S/x;Math.abs(C-1)>oc&&this._append`L${e+C*d},${n+C*f}`,this._append`A${a},${a},0,0,${+(f*p>d*v)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),u=e+o,d=n+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>oc||Math.abs(this._y1-d)>oc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%s2+s2),h>kie?this._append`A${r},${r},0,1,${f},${e-o},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>oc&&this._append`A${r},${r},0,${+(h>=a2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function mP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Oie(e)}function gP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function A6(t){this._context=t}A6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bx(t){return new A6(t)}function P6(t){return t[0]}function E6(t){return t[1]}function T6(t,e){var n=Ht(!0),r=null,i=Bx,a=null,s=mP(o);t=typeof t=="function"?t:t===void 0?P6:Ht(t),e=typeof e=="function"?e:e===void 0?E6:Ht(e);function o(c){var u,d=(c=gP(c)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(p)return a=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ht(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),o):r},o}function Gg(t,e,n){var r=null,i=Ht(!0),a=null,s=Bx,o=null,c=mP(u);t=typeof t=="function"?t:t===void 0?P6:Ht(+t),e=typeof e=="function"?e:Ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?E6:Ht(+n);function u(f){var h,p,v,y=(f=gP(f)).length,b,x=!1,_,S=new Array(y),C=new Array(y);for(a==null&&(o=s(_=c())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(S[v],C[v]);o.lineEnd(),o.areaEnd()}x&&(S[h]=+t(b,h,f),C[h]=+e(b,h,f),o.point(r?+r(b,h,f):S[h],n?+n(b,h,f):C[h]))}if(_)return o=null,_+""||null}function d(){return T6().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ht(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ht(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ht(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class C6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Iie(t){return new C6(t,!0)}function Die(t){return new C6(t,!1)}const yP={draw(t,e){const n=La(e/Iv);t.moveTo(n,0),t.arc(0,0,n,0,Vx)}},Mie={draw(t,e){const n=La(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},k6=La(1/3),Rie=k6*2,Lie={draw(t,e){const n=La(e/Rie),r=n*k6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$ie={draw(t,e){const n=La(e),r=-n/2;t.rect(r,r,n,n)}},zie=.8908130915292852,N6=Ov(Iv/10)/Ov(7*Iv/10),Fie=Ov(Vx/10)*N6,Vie=-S6(Vx/10)*N6,Bie={draw(t,e){const n=La(e*zie),r=Fie*n,i=Vie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Vx*a/5,o=S6(s),c=Ov(s);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}},k1=La(3),Uie={draw(t,e){const n=-La(e/(k1*3));t.moveTo(0,n*2),t.lineTo(-k1*n,-n),t.lineTo(k1*n,-n),t.closePath()}},Wi=-.5,Ki=La(3)/2,o2=1/La(12),Wie=(o2/2+1)*3,Kie={draw(t,e){const n=La(e/Wie),r=n/2,i=n*o2,a=r,s=n*o2+n,o=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Wi*r-Ki*i,Ki*r+Wi*i),t.lineTo(Wi*a-Ki*s,Ki*a+Wi*s),t.lineTo(Wi*o-Ki*c,Ki*o+Wi*c),t.lineTo(Wi*r+Ki*i,Wi*i-Ki*r),t.lineTo(Wi*a+Ki*s,Wi*s-Ki*a),t.lineTo(Wi*o+Ki*c,Wi*c-Ki*o),t.closePath()}};function qie(t,e){let n=null,r=mP(i);t=typeof t=="function"?t:Ht(t||yP),e=typeof e=="function"?e:Ht(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ht(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Dv(){}function Mv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function O6(t){this._context=t}O6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hie(t){return new O6(t)}function I6(t){this._context=t}I6.prototype={areaStart:Dv,areaEnd:Dv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gie(t){return new I6(t)}function D6(t){this._context=t}D6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yie(t){return new D6(t)}function M6(t){this._context=t}M6.prototype={areaStart:Dv,areaEnd:Dv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xie(t){return new M6(t)}function EN(t){return t<0?-1:1}function TN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(EN(a)+EN(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function CN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function N1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Rv(t){this._context=t}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N1(this,this._t0,CN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,N1(this,CN(this,n=TN(this,t,e)),n);break;default:N1(this,this._t0,n=TN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function R6(t){this._context=new L6(t)}(R6.prototype=Object.create(Rv.prototype)).point=function(t,e){Rv.prototype.point.call(this,e,t)};function L6(t){this._context=t}L6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Qie(t){return new Rv(t)}function Jie(t){return new R6(t)}function $6(t){this._context=t}$6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=kN(t),i=kN(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Zie(t){return new $6(t)}function Ux(t,e){this._context=t,this._t=e}Ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eae(t){return new Ux(t,.5)}function tae(t){return new Ux(t,0)}function nae(t){return new Ux(t,1)}function qd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function l2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rae(t,e){return t[e]}function iae(t){const e=[];return e.key=t,e}function aae(){var t=Ht([]),e=l2,n=qd,r=rae;function i(a){var s=Array.from(t.apply(this,arguments),iae),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,d=gP(e(s));o<c;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ht(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?l2:typeof a=="function"?a:Ht(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??qd,i):n},i}function sae(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}qd(t,e)}}function oae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}qd(t,e)}}function lae(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,c=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var y=t[e[v]],b=y[r][1]||0,x=y[r-1][1]||0;p+=b-x}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,qd(t,e)}}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var cae=["type","size","sizeType"];function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uae(t,e,n){return e=dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=fae(t,"string");return Yp(e)=="symbol"?e:e+""}function fae(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hae(t,e){if(t==null)return{};var n=pae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z6={symbolCircle:yP,symbolCross:Mie,symbolDiamond:Lie,symbolSquare:$ie,symbolStar:Bie,symbolTriangle:Uie,symbolWye:Kie},mae=Math.PI/180,gae=function(e){var n="symbol".concat(Fx(e));return z6[n]||yP},yae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vae=function(e,n){z6["symbol".concat(Fx(e))]=n},vP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,c=hae(e,cae),u=ON(ON({},c),{},{type:r,size:a,sizeType:o}),d=function(){var b=gae(r),x=qie().type(b).size(yae(a,o,r));return x()},f=u.className,h=u.cx,p=u.cy,v=Be(u,!0);return h===+h&&p===+p&&a===+a?q.createElement("path",c2({},v,{className:lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};vP.registerSymbol=vae;function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u2.apply(this,arguments)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){Xp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V6(r.key),r)}}function _ae(t,e,n){return e&&wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sae(t,e,n){return e=Lv(e),jae(t,F6()?Reflect.construct(e,n||[],Lv(t).constructor):e.apply(t,n))}function jae(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aae(t)}function Aae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F6=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function Pae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d2(t,e)}function Xp(t,e,n){return e=V6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6(t){var e=Eae(t,"string");return Hd(e)=="symbol"?e:e+""}function Eae(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qi=32,xP=function(t){function e(){return bae(this,e),Sae(this,e,arguments)}return Pae(e,t),_ae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=qi/2,s=qi/6,o=qi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:qi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(qi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qi/8,"h").concat(qi,"v").concat(qi*3/4,"h").concat(-qi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=xae({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(vP,{fill:c,cx:a,cy:a,size:qi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:qi,height:qi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var y=p.formatter||c,b=lt(Xp(Xp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Xe(p.value)?null:p.value;Ta(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return q.createElement("li",u2({className:b,style:f,key:"legend-item-".concat(v)},Kc(r.props,p,v)),q.createElement(t2,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(x,p,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(N.PureComponent);Xp(xP,"displayName","Legend");Xp(xP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Tae=Ex;function Cae(){this.__data__=new Tae,this.size=0}var kae=Cae;function Nae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Oae=Nae;function Iae(t){return this.__data__.get(t)}var Dae=Iae;function Mae(t){return this.__data__.has(t)}var Rae=Mae,Lae=Ex,$ae=sP,zae=oP,Fae=200;function Vae(t,e){var n=this.__data__;if(n instanceof Lae){var r=n.__data__;if(!$ae||r.length<Fae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zae(r)}return n.set(t,e),this.size=n.size,this}var Bae=Vae,Uae=Ex,Wae=kae,Kae=Oae,qae=Dae,Hae=Rae,Gae=Bae;function Lf(t){var e=this.__data__=new Uae(t);this.size=e.size}Lf.prototype.clear=Wae;Lf.prototype.delete=Kae;Lf.prototype.get=qae;Lf.prototype.has=Hae;Lf.prototype.set=Gae;var B6=Lf,Yae="__lodash_hash_undefined__";function Xae(t){return this.__data__.set(t,Yae),this}var Qae=Xae;function Jae(t){return this.__data__.has(t)}var Zae=Jae,ese=oP,tse=Qae,nse=Zae;function $v(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ese;++e<n;)this.add(t[e])}$v.prototype.add=$v.prototype.push=tse;$v.prototype.has=nse;var U6=$v;function rse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var W6=rse;function ise(t,e){return t.has(e)}var K6=ise,ase=U6,sse=W6,ose=K6,lse=1,cse=2;function use(t,e,n,r,i,a){var s=n&lse,o=t.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&cse?new ase:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var v=t[f],y=e[f];if(r)var b=s?r(y,v,f,e,t,a):r(v,y,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!sse(e,function(x,_){if(!ose(p,_)&&(v===x||i(v,x,n,r,a)))return p.push(_)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var q6=use,dse=ys,fse=dse.Uint8Array,hse=fse;function pse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var mse=pse;function gse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var bP=gse,DN=ng,MN=hse,yse=aP,vse=q6,xse=mse,bse=bP,wse=1,_se=2,Sse="[object Boolean]",jse="[object Date]",Ase="[object Error]",Pse="[object Map]",Ese="[object Number]",Tse="[object RegExp]",Cse="[object Set]",kse="[object String]",Nse="[object Symbol]",Ose="[object ArrayBuffer]",Ise="[object DataView]",RN=DN?DN.prototype:void 0,O1=RN?RN.valueOf:void 0;function Dse(t,e,n,r,i,a,s){switch(n){case Ise:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ose:return!(t.byteLength!=e.byteLength||!a(new MN(t),new MN(e)));case Sse:case jse:case Ese:return yse(+t,+e);case Ase:return t.name==e.name&&t.message==e.message;case Tse:case kse:return t==e+"";case Pse:var o=xse;case Cse:var c=r&wse;if(o||(o=bse),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=_se,s.set(t,e);var d=vse(o(t),o(e),r,i,a,s);return s.delete(t),d;case Nse:if(O1)return O1.call(t)==O1.call(e)}return!1}var Mse=Dse;function Rse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var H6=Rse,Lse=H6,$se=yi;function zse(t,e,n){var r=e(t);return $se(t)?r:Lse(r,n(t))}var Fse=zse;function Vse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Bse=Vse;function Use(){return[]}var Wse=Use,Kse=Bse,qse=Wse,Hse=Object.prototype,Gse=Hse.propertyIsEnumerable,LN=Object.getOwnPropertySymbols,Yse=LN?function(t){return t==null?[]:(t=Object(t),Kse(LN(t),function(e){return Gse.call(t,e)}))}:qse,Xse=Yse;function Qse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jse=Qse,Zse=po,eoe=mo,toe="[object Arguments]";function noe(t){return eoe(t)&&Zse(t)==toe}var roe=noe,$N=roe,ioe=mo,G6=Object.prototype,aoe=G6.hasOwnProperty,soe=G6.propertyIsEnumerable,ooe=$N(function(){return arguments}())?$N:function(t){return ioe(t)&&aoe.call(t,"callee")&&!soe.call(t,"callee")},wP=ooe,zv={exports:{}};function loe(){return!1}var coe=loe;zv.exports;(function(t,e){var n=ys,r=coe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||r;t.exports=u})(zv,zv.exports);var Y6=zv.exports,uoe=9007199254740991,doe=/^(?:0|[1-9]\d*)$/;function foe(t,e){var n=typeof t;return e=e??uoe,!!e&&(n=="number"||n!="symbol"&&doe.test(t))&&t>-1&&t%1==0&&t<e}var _P=foe,hoe=9007199254740991;function poe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hoe}var SP=poe,moe=po,goe=SP,yoe=mo,voe="[object Arguments]",xoe="[object Array]",boe="[object Boolean]",woe="[object Date]",_oe="[object Error]",Soe="[object Function]",joe="[object Map]",Aoe="[object Number]",Poe="[object Object]",Eoe="[object RegExp]",Toe="[object Set]",Coe="[object String]",koe="[object WeakMap]",Noe="[object ArrayBuffer]",Ooe="[object DataView]",Ioe="[object Float32Array]",Doe="[object Float64Array]",Moe="[object Int8Array]",Roe="[object Int16Array]",Loe="[object Int32Array]",$oe="[object Uint8Array]",zoe="[object Uint8ClampedArray]",Foe="[object Uint16Array]",Voe="[object Uint32Array]",en={};en[Ioe]=en[Doe]=en[Moe]=en[Roe]=en[Loe]=en[$oe]=en[zoe]=en[Foe]=en[Voe]=!0;en[voe]=en[xoe]=en[Noe]=en[boe]=en[Ooe]=en[woe]=en[_oe]=en[Soe]=en[joe]=en[Aoe]=en[Poe]=en[Eoe]=en[Toe]=en[Coe]=en[koe]=!1;function Boe(t){return yoe(t)&&goe(t.length)&&!!en[moe(t)]}var Uoe=Boe;function Woe(t){return function(e){return t(e)}}var X6=Woe,Fv={exports:{}};Fv.exports;(function(t,e){var n=r6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Fv,Fv.exports);var Koe=Fv.exports,qoe=Uoe,Hoe=X6,zN=Koe,FN=zN&&zN.isTypedArray,Goe=FN?Hoe(FN):qoe,Q6=Goe,Yoe=Jse,Xoe=wP,Qoe=yi,Joe=Y6,Zoe=_P,ele=Q6,tle=Object.prototype,nle=tle.hasOwnProperty;function rle(t,e){var n=Qoe(t),r=!n&&Xoe(t),i=!n&&!r&&Joe(t),a=!n&&!r&&!i&&ele(t),s=n||r||i||a,o=s?Yoe(t.length,String):[],c=o.length;for(var u in t)(e||nle.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Zoe(u,c)))&&o.push(u);return o}var ile=rle,ale=Object.prototype;function sle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ale;return t===n}var ole=sle;function lle(t,e){return function(n){return t(e(n))}}var J6=lle,cle=J6,ule=cle(Object.keys,Object),dle=ule,fle=ole,hle=dle,ple=Object.prototype,mle=ple.hasOwnProperty;function gle(t){if(!fle(t))return hle(t);var e=[];for(var n in Object(t))mle.call(t,n)&&n!="constructor"&&e.push(n);return e}var yle=gle,vle=iP,xle=SP;function ble(t){return t!=null&&xle(t.length)&&!vle(t)}var rg=ble,wle=ile,_le=yle,Sle=rg;function jle(t){return Sle(t)?wle(t):_le(t)}var Wx=jle,Ale=Fse,Ple=Xse,Ele=Wx;function Tle(t){return Ale(t,Ele,Ple)}var Cle=Tle,VN=Cle,kle=1,Nle=Object.prototype,Ole=Nle.hasOwnProperty;function Ile(t,e,n,r,i,a){var s=n&kle,o=VN(t),c=o.length,u=VN(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in e:Ole.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var y=!0;a.set(t,e),a.set(e,t);for(var b=s;++f<c;){h=o[f];var x=t[h],_=e[h];if(r)var S=s?r(_,x,h,e,t,a):r(x,_,h,t,e,a);if(!(S===void 0?x===_||i(x,_,n,r,a):S)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(y=!1)}return a.delete(t),a.delete(e),y}var Dle=Ile,Mle=lu,Rle=ys,Lle=Mle(Rle,"DataView"),$le=Lle,zle=lu,Fle=ys,Vle=zle(Fle,"Promise"),Ble=Vle,Ule=lu,Wle=ys,Kle=Ule(Wle,"Set"),Z6=Kle,qle=lu,Hle=ys,Gle=qle(Hle,"WeakMap"),Yle=Gle,f2=$le,h2=sP,p2=Ble,m2=Z6,g2=Yle,ez=po,$f=a6,BN="[object Map]",Xle="[object Object]",UN="[object Promise]",WN="[object Set]",KN="[object WeakMap]",qN="[object DataView]",Qle=$f(f2),Jle=$f(h2),Zle=$f(p2),ece=$f(m2),tce=$f(g2),lc=ez;(f2&&lc(new f2(new ArrayBuffer(1)))!=qN||h2&&lc(new h2)!=BN||p2&&lc(p2.resolve())!=UN||m2&&lc(new m2)!=WN||g2&&lc(new g2)!=KN)&&(lc=function(t){var e=ez(t),n=e==Xle?t.constructor:void 0,r=n?$f(n):"";if(r)switch(r){case Qle:return qN;case Jle:return BN;case Zle:return UN;case ece:return WN;case tce:return KN}return e});var nce=lc,I1=B6,rce=q6,ice=Mse,ace=Dle,HN=nce,GN=yi,YN=Y6,sce=Q6,oce=1,XN="[object Arguments]",QN="[object Array]",Yg="[object Object]",lce=Object.prototype,JN=lce.hasOwnProperty;function cce(t,e,n,r,i,a){var s=GN(t),o=GN(e),c=s?QN:HN(t),u=o?QN:HN(e);c=c==XN?Yg:c,u=u==XN?Yg:u;var d=c==Yg,f=u==Yg,h=c==u;if(h&&YN(t)){if(!YN(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new I1),s||sce(t)?rce(t,e,n,r,i,a):ice(t,e,c,n,r,i,a);if(!(n&oce)){var p=d&&JN.call(t,"__wrapped__"),v=f&&JN.call(e,"__wrapped__");if(p||v){var y=p?t.value():t,b=v?e.value():e;return a||(a=new I1),i(y,b,n,r,a)}}return h?(a||(a=new I1),ace(t,e,n,r,i,a)):!1}var uce=cce,dce=uce,ZN=mo;function tz(t,e,n,r,i){return t===e?!0:t==null||e==null||!ZN(t)&&!ZN(e)?t!==t&&e!==e:dce(t,e,n,r,tz,i)}var jP=tz,fce=B6,hce=jP,pce=1,mce=2;function gce(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var c=o[0],u=t[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new fce;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?hce(d,u,pce|mce,r,f):h))return!1}}return!0}var yce=gce,vce=Tl;function xce(t){return t===t&&!vce(t)}var nz=xce,bce=nz,wce=Wx;function _ce(t){for(var e=wce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,bce(i)]}return e}var Sce=_ce;function jce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rz=jce,Ace=yce,Pce=Sce,Ece=rz;function Tce(t){var e=Pce(t);return e.length==1&&e[0][2]?Ece(e[0][0],e[0][1]):function(n){return n===t||Ace(n,t,e)}}var Cce=Tce;function kce(t,e){return t!=null&&e in Object(t)}var Nce=kce,Oce=u6,Ice=wP,Dce=yi,Mce=_P,Rce=SP,Lce=Cx;function $ce(t,e,n){e=Oce(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Lce(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Rce(i)&&Mce(s,i)&&(Dce(t)||Ice(t)))}var zce=$ce,Fce=Nce,Vce=zce;function Bce(t,e){return t!=null&&Vce(t,e,Fce)}var Uce=Bce,Wce=jP,Kce=d6,qce=Uce,Hce=rP,Gce=nz,Yce=rz,Xce=Cx,Qce=1,Jce=2;function Zce(t,e){return Hce(t)&&Gce(e)?Yce(Xce(t),e):function(n){var r=Kce(n,t);return r===void 0&&r===e?qce(n,t):Wce(e,r,Qce|Jce)}}var eue=Zce;function tue(t){return t}var zf=tue;function nue(t){return function(e){return e==null?void 0:e[t]}}var rue=nue,iue=uP;function aue(t){return function(e){return iue(e,t)}}var sue=aue,oue=rue,lue=sue,cue=rP,uue=Cx;function due(t){return cue(t)?oue(uue(t)):lue(t)}var fue=due,hue=Cce,pue=eue,mue=zf,gue=yi,yue=fue;function vue(t){return typeof t=="function"?t:t==null?mue:typeof t=="object"?gue(t)?pue(t[0],t[1]):hue(t):yue(t)}var vs=vue;function xue(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var iz=xue;function bue(t){return t!==t}var wue=bue;function _ue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Sue=_ue,jue=iz,Aue=wue,Pue=Sue;function Eue(t,e,n){return e===e?Pue(t,e,n):jue(t,Aue,n)}var Tue=Eue,Cue=Tue;function kue(t,e){var n=t==null?0:t.length;return!!n&&Cue(t,e,0)>-1}var Nue=kue;function Oue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Iue=Oue;function Due(){}var Mue=Due,D1=Z6,Rue=Mue,Lue=bP,$ue=1/0,zue=D1&&1/Lue(new D1([,-0]))[1]==$ue?function(t){return new D1(t)}:Rue,Fue=zue,Vue=U6,Bue=Nue,Uue=Iue,Wue=K6,Kue=Fue,que=bP,Hue=200;function Gue(t,e,n){var r=-1,i=Bue,a=t.length,s=!0,o=[],c=o;if(n)s=!1,i=Uue;else if(a>=Hue){var u=e?null:Kue(t);if(u)return que(u);s=!1,i=Wue,c=new Vue}else c=e?[]:o;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),o.push(d)}else i(c,f,n)||(c!==o&&c.push(f),o.push(d))}return o}var Yue=Gue,Xue=vs,Que=Yue;function Jue(t,e){return t&&t.length?Que(t,Xue(e)):[]}var Zue=Jue;const eO=Nt(Zue);function az(t,e,n){return e===!0?eO(t,n):Xe(e)?eO(t,e):t}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var ede=["ref"];function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Kx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oz(r.key),r)}}function nde(t,e,n){return e&&nO(t.prototype,e),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rde(t,e,n){return e=Vv(e),ide(t,sz()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function ide(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sz=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y2(t,e)}function y2(t,e){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y2(t,e)}function Kx(t,e,n){return e=oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=ode(t,"string");return Gd(e)=="symbol"?e:e+""}function ode(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lde(t,e){if(t==null)return{};var n=cde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ude(t){return t.value}function dde(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=lde(e,ede);return q.createElement(xP,n)}var rO=1,Ca=function(t){function e(){var n;tde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=rde(this,e,[].concat(i)),Kx(n,"lastBoundingBox",{width:-1,height:-1}),n}return sde(e,t),nde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>rO||Math.abs(i.height-this.lastBoundingBox.height)>rO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ns({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ns(Ns({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ns(Ns({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},dde(a,Ns(Ns({},this.props),{},{payload:az(d,u,ude)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ns(Ns({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&je(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);Kx(Ca,"displayName","Legend");Kx(Ca,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iO=ng,fde=wP,hde=yi,aO=iO?iO.isConcatSpreadable:void 0;function pde(t){return hde(t)||fde(t)||!!(aO&&t&&t[aO])}var mde=pde,gde=H6,yde=mde;function lz(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=yde),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?lz(o,e-1,n,r,i):gde(i,o):r||(i[i.length]=o)}return i}var cz=lz;function vde(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var c=s[t?o:++i];if(n(a[c],c,a)===!1)break}return e}}var xde=vde,bde=xde,wde=bde(),_de=wde,Sde=_de,jde=Wx;function Ade(t,e){return t&&Sde(t,e,jde)}var uz=Ade,Pde=rg;function Ede(t,e){return function(n,r){if(n==null)return n;if(!Pde(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Tde=Ede,Cde=uz,kde=Tde,Nde=kde(Cde),AP=Nde,Ode=AP,Ide=rg;function Dde(t,e){var n=-1,r=Ide(t)?Array(t.length):[];return Ode(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var dz=Dde;function Mde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Rde=Mde,sO=Nf;function Lde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=sO(t),s=e!==void 0,o=e===null,c=e===e,u=sO(e);if(!o&&!u&&!a&&t>e||a&&s&&c&&!o&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!c)return-1}return 0}var $de=Lde,zde=$de;function Fde(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var c=zde(i[r],a[r]);if(c){if(r>=o)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Vde=Fde,M1=cP,Bde=uP,Ude=vs,Wde=dz,Kde=Rde,qde=X6,Hde=Vde,Gde=zf,Yde=yi;function Xde(t,e,n){e.length?e=M1(e,function(a){return Yde(a)?function(s){return Bde(s,a.length===1?a[0]:a)}:a}):e=[Gde];var r=-1;e=M1(e,qde(Ude));var i=Wde(t,function(a,s,o){var c=M1(e,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return Kde(i,function(a,s){return Hde(a,s,n)})}var Qde=Xde;function Jde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Zde=Jde,efe=Zde,oO=Math.max;function tfe(t,e,n){return e=oO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=oO(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),efe(t,this,o)}}var nfe=tfe;function rfe(t){return function(){return t}}var ife=rfe,afe=lu,sfe=function(){try{var t=afe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fz=sfe,ofe=ife,lO=fz,lfe=zf,cfe=lO?function(t,e){return lO(t,"toString",{configurable:!0,enumerable:!1,value:ofe(e),writable:!0})}:lfe,ufe=cfe,dfe=800,ffe=16,hfe=Date.now;function pfe(t){var e=0,n=0;return function(){var r=hfe(),i=ffe-(r-n);if(n=r,i>0){if(++e>=dfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var mfe=pfe,gfe=ufe,yfe=mfe,vfe=yfe(gfe),xfe=vfe,bfe=zf,wfe=nfe,_fe=xfe;function Sfe(t,e){return _fe(wfe(t,e,bfe),t+"")}var jfe=Sfe,Afe=aP,Pfe=rg,Efe=_P,Tfe=Tl;function Cfe(t,e,n){if(!Tfe(n))return!1;var r=typeof e;return(r=="number"?Pfe(n)&&Efe(e,n.length):r=="string"&&e in n)?Afe(n[e],t):!1}var qx=Cfe,kfe=cz,Nfe=Qde,Ofe=jfe,cO=qx,Ife=Ofe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&cO(t,e[0],e[1])?e=[]:n>2&&cO(e[0],e[1],e[2])&&(e=[e[0]]),Nfe(t,kfe(e,1),[])}),Dfe=Ife;const PP=Nt(Dfe);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}function Mfe(t,e){return zfe(t)||$fe(t,e)||Lfe(t,e)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,e){if(t){if(typeof t=="string")return uO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uO(t,e)}}function uO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $fe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function zfe(t){if(Array.isArray(t))return t}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){Ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ffe(t,e,n){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Bfe(t,"string");return Qp(e)=="symbol"?e:e+""}function Bfe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ufe(t){return Array.isArray(t)&&Xn(t[0])&&Xn(t[1])?t.join(" ~ "):t}var Wfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,x=e.accessibilityLayer,_=x===void 0?!1:x,S=function(){if(d&&d.length){var $={padding:0,margin:0},z=(h?PP(d,h):d).map(function(X,te){if(X.type==="none")return null;var U=R1({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},o),K=X.formatter||f||Ufe,V=X.value,Y=X.name,oe=V,ue=Y;if(K&&oe!=null&&ue!=null){var ye=K(V,Y,X,te,d);if(Array.isArray(ye)){var _e=Mfe(ye,2);oe=_e[0],ue=_e[1]}else oe=ye}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:U},Xn(ue)?q.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Xn(ue)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},oe),q.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},C=R1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=R1({margin:0},u),P=!tt(y),j=P?y:"",A=lt("recharts-default-tooltip",p),O=lt("recharts-tooltip-label",v);P&&b&&d!==void 0&&d!==null&&(j=b(y,d));var D=_?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",v2({className:A,style:C},D),q.createElement("p",{className:O,style:E},q.isValidElement(j)?j:"".concat(j)),S())};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Xg(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=qfe(t,"string");return Jp(e)=="symbol"?e:e+""}function qfe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vh="recharts-tooltip-wrapper",Hfe={visibility:"hidden"};function Gfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return lt(vh,Xg(Xg(Xg(Xg({},"".concat(vh,"-right"),je(n)&&e&&je(e.x)&&n>=e.x),"".concat(vh,"-left"),je(n)&&e&&je(e.x)&&n<e.x),"".concat(vh,"-bottom"),je(r)&&e&&je(e.y)&&r>=e.y),"".concat(vh,"-top"),je(r)&&e&&je(e.y)&&r<e.y))}function fO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&je(a[r]))return a[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+o,y=c[r]+u;return v>y?Math.max(d,c[r]):Math.max(f,c[r])}function Yfe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Xfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=fO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=fO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Yfe({translateX:d,translateY:f,useTranslate3d:o})):u=Hfe,{cssProperties:u,cssClasses:Gfe({translateX:d,translateY:f,coordinate:n})}}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){b2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pz(r.key),r)}}function Zfe(t,e,n){return e&&Jfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ehe(t,e,n){return e=Bv(e),the(t,hz()?Reflect.construct(e,n||[],Bv(t).constructor):e.apply(t,n))}function the(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nhe(t)}function nhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hz=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(t)}function rhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x2(t,e)}function x2(t,e){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x2(t,e)}function b2(t,e,n){return e=pz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t){var e=ihe(t,"string");return Yd(e)=="symbol"?e:e+""}function ihe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mO=1,ahe=function(t){function e(){var n;Qfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ehe(this,e,[].concat(i)),b2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),b2(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return rhe(e,t),Zfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>mO||Math.abs(r.height-this.state.lastBoundingBox.height)>mO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,S=Xfe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),C=S.cssClasses,E=S.cssProperties,P=pO(pO({transition:h&&a?"transform ".concat(o,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return q.createElement("div",{tabIndex:-1,className:C,style:P,ref:function(A){r.wrapperNode=A}},u)}}])}(N.PureComponent),she=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cl={isSsr:she()};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){EP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gz(r.key),r)}}function che(t,e,n){return e&&lhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uhe(t,e,n){return e=Uv(e),dhe(t,mz()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function dhe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fhe(t)}function fhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w2(t,e)}function EP(t,e,n){return e=gz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gz(t){var e=phe(t,"string");return Xd(e)=="symbol"?e:e+""}function phe(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mhe(t){return t.dataKey}function ghe(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(Wfe,e)}var Dt=function(t){function e(){return ohe(this,e),uhe(this,e,arguments)}return hhe(e,t),che(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,x=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,E=v??[];f&&E.length&&(E=az(v.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),y,mhe));var P=E.length>0;return q.createElement(ahe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:P,offset:p,position:b,reverseDirection:x,useTranslate3d:_,viewBox:S,wrapperStyle:C},ghe(u,yO(yO({},this.props),{},{payload:E})))}}])}(N.PureComponent);EP(Dt,"displayName","Tooltip");EP(Dt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yhe=ys,vhe=function(){return yhe.Date.now()},xhe=vhe,bhe=/\s/;function whe(t){for(var e=t.length;e--&&bhe.test(t.charAt(e)););return e}var _he=whe,She=_he,jhe=/^\s+/;function Ahe(t){return t&&t.slice(0,She(t)+1).replace(jhe,"")}var Phe=Ahe,Ehe=Phe,vO=Tl,The=Nf,xO=NaN,Che=/^[-+]0x[0-9a-f]+$/i,khe=/^0b[01]+$/i,Nhe=/^0o[0-7]+$/i,Ohe=parseInt;function Ihe(t){if(typeof t=="number")return t;if(The(t))return xO;if(vO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ehe(t);var n=khe.test(t);return n||Nhe.test(t)?Ohe(t.slice(2),n?2:8):Che.test(t)?xO:+t}var yz=Ihe,Dhe=Tl,L1=xhe,bO=yz,Mhe="Expected a function",Rhe=Math.max,Lhe=Math.min;function $he(t,e,n){var r,i,a,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Mhe);e=bO(e)||0,Dhe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?Rhe(bO(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var j=r,A=i;return r=i=void 0,u=P,s=t.apply(A,j),s}function v(P){return u=P,o=setTimeout(x,e),d?p(P):s}function y(P){var j=P-c,A=P-u,O=e-j;return f?Lhe(O,a-A):O}function b(P){var j=P-c,A=P-u;return c===void 0||j>=e||j<0||f&&A>=a}function x(){var P=L1();if(b(P))return _(P);o=setTimeout(x,y(P))}function _(P){return o=void 0,h&&r?p(P):(r=i=void 0,s)}function S(){o!==void 0&&clearTimeout(o),u=0,r=c=i=o=void 0}function C(){return o===void 0?s:_(L1())}function E(){var P=L1(),j=b(P);if(r=arguments,i=this,c=P,j){if(o===void 0)return v(c);if(f)return clearTimeout(o),o=setTimeout(x,e),p(c)}return o===void 0&&(o=setTimeout(x,e)),s}return E.cancel=S,E.flush=C,E}var zhe=$he,Fhe=zhe,Vhe=Tl,Bhe="Expected a function";function Uhe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Bhe);return Vhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Fhe(t,e,{leading:r,maxWait:e,trailing:i})}var Whe=Uhe;const vz=Nt(Whe);function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=qhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Hhe(t,"string");return Zp(e)=="symbol"?e:e+""}function Hhe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ghe(t,e){return Jhe(t)||Qhe(t,e)||Xhe(t,e)||Yhe()}function Yhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xhe(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Jhe(t){if(Array.isArray(t))return t}var zn=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,x=t.className,_=t.onResize,S=t.style,C=S===void 0?{}:S,E=N.useRef(null),P=N.useRef();P.current=_,N.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var j=N.useState({containerWidth:i.width,containerHeight:i.height}),A=Ghe(j,2),O=A[0],D=A[1],R=N.useCallback(function(z,X){D(function(te){var U=Math.round(z),K=Math.round(X);return te.containerWidth===U&&te.containerHeight===K?te:{containerWidth:U,containerHeight:K}})},[]);N.useEffect(function(){var z=function(Y){var oe,ue=Y[0].contentRect,ye=ue.width,_e=ue.height;R(ye,_e),(oe=P.current)===null||oe===void 0||oe.call(P,ye,_e)};y>0&&(z=vz(z,y,{trailing:!0,leading:!1}));var X=new ResizeObserver(z),te=E.current.getBoundingClientRect(),U=te.width,K=te.height;return R(U,K),X.observe(E.current),function(){X.disconnect()}},[R,y]);var $=N.useMemo(function(){var z=O.containerWidth,X=O.containerHeight;if(z<0||X<0)return null;Ta(vc(s)||vc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ta(!n||n>0,"The aspect(%s) must be greater than zero.",n);var te=vc(s)?z:s,U=vc(c)?X:c;n&&n>0&&(te?U=te/n:U&&(te=U*n),h&&U>h&&(U=h)),Ta(te>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,U,s,c,d,f,n);var K=!Array.isArray(p)&&Hs(p.type).endsWith("Chart");return q.Children.map(p,function(V){return q.isValidElement(V)?N.cloneElement(V,Qg({width:te,height:U},K?{style:Qg({height:"100%",width:"100%",maxHeight:U,maxWidth:te},V.props.style)}:{})):V})},[n,p,c,h,f,d,O,s]);return q.createElement("div",{id:b?"".concat(b):void 0,className:lt("recharts-responsive-container",x),style:Qg(Qg({},C),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},$)}),Oa=function(e){return null};Oa.displayName="Cell";function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zhe(t,e,n){return e=epe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function epe(t){var e=tpe(t,"string");return em(e)=="symbol"?e:e+""}function tpe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu={widthCache:{},cacheCount:0},npe=2e3,rpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jO="recharts_measurement_span";function ipe(t){var e=_2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var op=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cl.isSsr)return{width:0,height:0};var r=ipe(n),i=JSON.stringify({text:e,copyStyle:r});if(Iu.widthCache[i])return Iu.widthCache[i];try{var a=document.getElementById(jO);a||(a=document.createElement("span"),a.setAttribute("id",jO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=_2(_2({},rpe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return Iu.widthCache[i]=c,++Iu.cacheCount>npe&&(Iu.cacheCount=0,Iu.widthCache={}),c}catch{return{width:0,height:0}}},ape=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Wv(t,e){return cpe(t)||lpe(t,e)||ope(t,e)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(t,e){if(t){if(typeof t=="string")return AO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AO(t,e)}}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cpe(t){if(Array.isArray(t))return t}function upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fpe(r.key),r)}}function dpe(t,e,n){return e&&PO(t.prototype,e),n&&PO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fpe(t){var e=hpe(t,"string");return tm(e)=="symbol"?e:e+""}function hpe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ppe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gpe=Object.keys(xz),od="NaN";function ype(t,e){return t*xz[e]}var Jg=function(){function t(e,n){upe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ppe.test(n)&&(this.num=NaN,this.unit=""),gpe.includes(n)&&(this.num=ype(e,n),this.unit="px")}return dpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=mpe.exec(n))!==null&&r!==void 0?r:[],a=Wv(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function bz(t){if(t.includes(od))return od;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=EO.exec(e))!==null&&n!==void 0?n:[],i=Wv(r,4),a=i[1],s=i[2],o=i[3],c=Jg.parse(a??""),u=Jg.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return od;e=e.replace(EO,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=TO.exec(e))!==null&&f!==void 0?f:[],p=Wv(h,4),v=p[1],y=p[2],b=p[3],x=Jg.parse(v??""),_=Jg.parse(b??""),S=y==="+"?x.add(_):x.subtract(_);if(S.isNaN())return od;e=e.replace(TO,S.toString())}return e}var CO=/\(([^()]*)\)/;function vpe(t){for(var e=t;e.includes("(");){var n=CO.exec(e),r=Wv(n,2),i=r[1];e=e.replace(CO,bz(i))}return e}function xpe(t){var e=t.replace(/\s+/g,"");return e=vpe(e),e=bz(e),e}function bpe(t){try{return xpe(t)}catch{return od}}function $1(t){var e=bpe(t.slice(5,-1));return e===od?"":e}var wpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_pe=["dx","dy","angle","className","breakAll"];function S2(){return S2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S2.apply(this,arguments)}function kO(t,e){if(t==null)return{};var n=Spe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Spe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NO(t,e){return Epe(t)||Ppe(t,e)||Ape(t,e)||jpe()}function jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ape(t,e){if(t){if(typeof t=="string")return OO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Epe(t){if(Array.isArray(t))return t}var wz=/[ \f\n\r\t\v\u2028\u2029]+/,_z=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];tt(n)||(r?a=n.toString().split(""):a=n.toString().split(wz));var s=a.map(function(c){return{word:c,width:op(c,i).width}}),o=r?0:op(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Tpe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=je(s),f=o,h=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(U,K){var V=K.word,Y=K.width,oe=U[U.length-1];if(oe&&(i==null||a||oe.width+Y+r<Number(i)))oe.words.push(V),oe.width+=Y+r;else{var ue={words:[V],width:Y};U.push(ue)}return U},[])},p=h(n),v=function(te){return te.reduce(function(U,K){return U.width>K.width?U:K})};if(!d)return p;for(var y="…",b=function(te){var U=f.slice(0,te),K=_z({breakAll:u,style:c,children:U+y}).wordsWithComputedWidth,V=h(K),Y=V.length>s||v(V).width>Number(i);return[Y,V]},x=0,_=f.length-1,S=0,C;x<=_&&S<=f.length-1;){var E=Math.floor((x+_)/2),P=E-1,j=b(P),A=NO(j,2),O=A[0],D=A[1],R=b(E),$=NO(R,1),z=$[0];if(!O&&!z&&(x=E+1),O&&z&&(_=E-1),!O&&z){C=D;break}S++}return C||p},IO=function(e){var n=tt(e)?[]:e.toString().split(wz);return[{words:n}]},Cpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Cl.isSsr){var c,u,d=_z({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return IO(i);return Tpe({breakAll:s,children:i,maxLines:o,style:a},c,u,n,r)}return IO(i)},DO="#808080",qc=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,x=b===void 0?DO:b,_=kO(e,wpe),S=N.useMemo(function(){return Cpe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,E=_.dy,P=_.angle,j=_.className,A=_.breakAll,O=kO(_,_pe);if(!Xn(r)||!Xn(a))return null;var D=r+(je(C)?C:0),R=a+(je(E)?E:0),$;switch(y){case"start":$=$1("calc(".concat(u,")"));break;case"middle":$=$1("calc(".concat((S.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:$=$1("calc(".concat(S.length-1," * -").concat(o,")"));break}var z=[];if(f){var X=S[0].width,te=_.width;z.push("scale(".concat((je(te)?te/X:1)/X,")"))}return P&&z.push("rotate(".concat(P,", ").concat(D,", ").concat(R,")")),z.length&&(O.transform=z.join(" ")),q.createElement("text",S2({},Be(O,!0),{x:D,y:R,className:lt("recharts-text",j),textAnchor:p,fill:x.includes("url")?DO:x}),S.map(function(U,K){var V=U.words.join(A?"":" ");return q.createElement("tspan",{x:D,dy:K===0?$:o,key:"".concat(V,"-").concat(K)},V)}))};function fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TP(t){let e,n,r;t.length!==2?(e=fl,n=(o,c)=>fl(t(o),c),r=(o,c)=>t(o)-c):(e=t===fl||t===kpe?t:Npe,n=t,r=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function Npe(){return 0}function Sz(t){return t===null?NaN:+t}function*Ope(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ipe=TP(fl),ig=Ipe.right;TP(Sz).center;class MO extends Map{constructor(e,n=Rpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(RO(this,e))}has(e){return super.has(RO(this,e))}set(e,n){return super.set(Dpe(this,e),n)}delete(e){return super.delete(Mpe(this,e))}}function RO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Dpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Mpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Rpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lpe(t=fl){if(t===fl)return jz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function jz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $pe=Math.sqrt(50),zpe=Math.sqrt(10),Fpe=Math.sqrt(2);function Kv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=$pe?10:a>=zpe?5:a>=Fpe?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=n&&n<2?Kv(t,e,n*2):[o,c,u]}function j2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Kv(e,t,n):Kv(t,e,n);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function A2(t,e,n){return e=+e,t=+t,n=+n,Kv(t,e,n)[2]}function P2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?A2(e,t,n):A2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function LO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $O(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Az(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?jz:Lpe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));Az(t,e,p,v,i)}const a=t[e];let s=n,o=r;for(xh(t,n,e),i(t[r],a)>0&&xh(t,n,r);s<o;){for(xh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?xh(t,n,o):(++o,xh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function xh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vpe(t,e,n){if(t=Float64Array.from(Ope(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $O(t);if(e>=1)return LO(t);var r,i=(r-1)*e,a=Math.floor(i),s=LO(Az(t,a).subarray(0,a+1)),o=$O(t.subarray(a+1));return s+(o-s)*(i-a)}}function Bpe(t,e,n=Sz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Upe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function oa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function go(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const E2=Symbol("implicit");function CP(){var t=new MO,e=[],n=[],r=E2;function i(a){let s=t.get(a);if(s===void 0){if(r!==E2)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new MO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return CP(e,n).unknown(r)},oa.apply(i,arguments),i}function nm(){var t=CP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,v=p?i:r,y=p?r:i;a=(y-v)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),v+=(y-v-a*(h-c))*d,s=a*(1-c),o&&(v=Math.round(v),s=Math.round(s));var b=Upe(h).map(function(x){return v+a*x});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return nm(e(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},oa.apply(f(),arguments)}function Pz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Pz(e())},t}function lp(){return Pz(nm.apply(null,arguments).paddingInner(1))}function kP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ez(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ag(){}var rm=.7,qv=1/rm,_d="\\s*([+-]?\\d+)\\s*",im="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wpe=/^#([0-9a-f]{3,8})$/,Kpe=new RegExp(`^rgb\\(${_d},${_d},${_d}\\)$`),qpe=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),Hpe=new RegExp(`^rgba\\(${_d},${_d},${_d},${im}\\)$`),Gpe=new RegExp(`^rgba\\(${us},${us},${us},${im}\\)$`),Ype=new RegExp(`^hsl\\(${im},${us},${us}\\)$`),Xpe=new RegExp(`^hsla\\(${im},${us},${us},${im}\\)$`),zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kP(ag,am,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FO,formatHex:FO,formatHex8:Qpe,formatHsl:Jpe,formatRgb:VO,toString:VO});function FO(){return this.rgb().formatHex()}function Qpe(){return this.rgb().formatHex8()}function Jpe(){return Tz(this).formatHsl()}function VO(){return this.rgb().formatRgb()}function am(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?BO(e):n===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kpe.exec(t))?new ci(e[1],e[2],e[3],1):(e=qpe.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hpe.exec(t))?Zg(e[1],e[2],e[3],e[4]):(e=Gpe.exec(t))?Zg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ype.exec(t))?KO(e[1],e[2]/100,e[3]/100,1):(e=Xpe.exec(t))?KO(e[1],e[2]/100,e[3]/100,e[4]):zO.hasOwnProperty(t)?BO(zO[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function BO(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function Zg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ci(t,e,n,r)}function Zpe(t){return t instanceof ag||(t=am(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function T2(t,e,n,r){return arguments.length===1?Zpe(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kP(ci,T2,Ez(ag,{brighter(t){return t=t==null?qv:Math.pow(qv,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rm:Math.pow(rm,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(Cc(this.r),Cc(this.g),Cc(this.b),Hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UO,formatHex:UO,formatHex8:eme,formatRgb:WO,toString:WO}));function UO(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}`}function eme(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}${xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function WO(){const t=Hv(this.opacity);return`${t===1?"rgb(":"rgba("}${Cc(this.r)}, ${Cc(this.g)}, ${Cc(this.b)}${t===1?")":`, ${t})`}`}function Hv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xc(t){return t=Cc(t),(t<16?"0":"")+t.toString(16)}function KO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Aa(t,e,n,r)}function Tz(t){if(t instanceof Aa)return new Aa(t.h,t.s,t.l,t.opacity);if(t instanceof ag||(t=am(t)),!t)return new Aa;if(t instanceof Aa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Aa(s,o,c,t.opacity)}function tme(t,e,n,r){return arguments.length===1?Tz(t):new Aa(t,e,n,r??1)}function Aa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kP(Aa,tme,Ez(ag,{brighter(t){return t=t==null?qv:Math.pow(qv,t),new Aa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rm:Math.pow(rm,t),new Aa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ci(z1(t>=240?t-240:t+120,i,r),z1(t,i,r),z1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Aa(qO(this.h),ey(this.s),ey(this.l),Hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hv(this.opacity);return`${t===1?"hsl(":"hsla("}${qO(this.h)}, ${ey(this.s)*100}%, ${ey(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qO(t){return t=(t||0)%360,t<0?t+360:t}function ey(t){return Math.max(0,Math.min(1,t||0))}function z1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NP=t=>()=>t;function nme(t,e){return function(n){return t+n*e}}function rme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ime(t){return(t=+t)==1?Cz:function(e,n){return n-e?rme(e,n,t):NP(isNaN(e)?n:e)}}function Cz(t,e){var n=e-t;return n?nme(t,n):NP(isNaN(t)?e:t)}const HO=function t(e){var n=ime(e);function r(i,a){var s=n((i=T2(i)).r,(a=T2(a)).r),o=n(i.g,a.g),c=n(i.b,a.b),u=Cz(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function ame(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function sme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ome(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ff(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function lme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ff(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var C2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F1=new RegExp(C2.source,"g");function ume(t){return function(){return t}}function dme(t){return function(e){return t(e)+""}}function fme(t,e){var n=C2.lastIndex=F1.lastIndex=0,r,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(r=C2.exec(t))&&(i=F1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Gv(r,i)})),n=F1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?dme(c[0].x):ume(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Ff(t,e){var n=typeof e,r;return e==null||n==="boolean"?NP(e):(n==="number"?Gv:n==="string"?(r=am(e))?(e=r,HO):fme:e instanceof am?HO:e instanceof Date?lme:sme(e)?ame:Array.isArray(e)?ome:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cme:Gv)(t,e)}function OP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function hme(t,e){e===void 0&&(e=t,t=Ff);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function pme(t){return function(){return t}}function Yv(t){return+t}var GO=[0,1];function Kr(t){return t}function k2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pme(isNaN(e)?NaN:.5)}function mme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function gme(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=k2(i,r),a=n(s,a)):(r=k2(r,i),a=n(a,s)),function(o){return a(r(o))}}function yme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=k2(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var c=ig(t,o,1,r)-1;return a[c](i[c](o))}}function sg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hx(){var t=GO,e=GO,n=Ff,r,i,a,s=Kr,o,c,u;function d(){var h=Math.min(t.length,e.length);return s!==Kr&&(s=mme(t[0],t[h-1])),o=h>2?yme:gme,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(r),Gv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Yv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=OP,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Kr,d()):s!==Kr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function IP(){return Hx()(Kr,Kr)}function vme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qd(t){return t=Xv(Math.abs(t)),t?t[1]:NaN}function xme(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function bme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var wme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sm(t){if(!(e=wme.exec(t)))throw new Error("invalid format: "+t);var e;return new DP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sm.prototype=DP.prototype;function DP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _me(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kz;function Sme(t,e){var n=Xv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(kz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xv(t,Math.max(0,e+a-1))[0]}function YO(t,e){var n=Xv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const XO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YO(t*100,e),r:YO,s:Sme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QO(t){return t}var JO=Array.prototype.map,ZO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function jme(t){var e=t.grouping===void 0||t.thousands===void 0?QO:xme(JO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?QO:bme(JO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=sm(f);var h=f.fill,p=f.align,v=f.sign,y=f.symbol,b=f.zero,x=f.width,_=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(_=!0,E="g"):XO[E]||(S===void 0&&(S=12),C=!0,E="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var P=y==="$"?n:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",j=y==="$"?r:/[%p]/.test(E)?s:"",A=XO[E],O=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(R){var $=P,z=j,X,te,U;if(E==="c")z=A(R)+z,R="";else{R=+R;var K=R<0||1/R<0;if(R=isNaN(R)?c:A(Math.abs(R),S),C&&(R=_me(R)),K&&+R==0&&v!=="+"&&(K=!1),$=(K?v==="("?v:o:v==="-"||v==="("?"":v)+$,z=(E==="s"?ZO[8+kz/3]:"")+z+(K&&v==="("?")":""),O){for(X=-1,te=R.length;++X<te;)if(U=R.charCodeAt(X),48>U||U>57){z=(U===46?i+R.slice(X+1):R.slice(X))+z,R=R.slice(0,X);break}}}_&&!b&&(R=e(R,1/0));var V=$.length+R.length+z.length,Y=V<x?new Array(x-V+1).join(h):"";switch(_&&b&&(R=e(Y+R,Y.length?x-z.length:1/0),Y=""),p){case"<":R=$+R+z+Y;break;case"=":R=$+Y+R+z;break;case"^":R=Y.slice(0,V=Y.length>>1)+$+R+z+Y.slice(V);break;default:R=Y+$+R+z;break}return a(R)}return D.toString=function(){return f+""},D}function d(f,h){var p=u((f=sm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Qd(h)/3)))*3,y=Math.pow(10,-v),b=ZO[8+v/3];return function(x){return p(y*x)+b}}return{format:u,formatPrefix:d}}var ty,MP,Nz;Ame({thousands:",",grouping:[3],currency:["$",""]});function Ame(t){return ty=jme(t),MP=ty.format,Nz=ty.formatPrefix,ty}function Pme(t){return Math.max(0,-Qd(Math.abs(t)))}function Eme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qd(e)/3)))*3-Qd(Math.abs(t)))}function Tme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qd(e)-Qd(t))+1}function Oz(t,e,n,r){var i=P2(t,e,n),a;switch(r=sm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Eme(i,s))&&(r.precision=a),Nz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Tme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Pme(i))&&(r.precision=a-(r.type==="%")*2);break}}return MP(r)}function kl(t){var e=t.domain;return t.ticks=function(n){var r=e();return j2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Oz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=A2(s,o,n),u===c)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function Qv(){var t=IP();return t.copy=function(){return sg(t,Qv())},oa.apply(t,arguments),kl(t)}function Iz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Yv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Iz(t).unknown(e)},t=arguments.length?Array.from(t,Yv):[0,1],kl(n)}function Dz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function eI(t){return Math.log(t)}function tI(t){return Math.exp(t)}function Cme(t){return-Math.log(-t)}function kme(t){return-Math.exp(-t)}function Nme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ome(t){return t===10?Nme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ime(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nI(t){return(e,n)=>-t(-e,n)}function RP(t){const e=t(eI,tI),n=e.domain;let r=10,i,a;function s(){return i=Ime(r),a=Ome(r),n()[0]<0?(i=nI(i),a=nI(a),t(Cme,kme)):t(eI,tI),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,y;const b=o==null?10:+o;let x=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(y=h<0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<b&&(x=j2(u,d,b))}else x=j2(h,p,Math.min(p-h,b)).map(a);return f?x.reverse():x},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=sm(c)).precision==null&&(c.trim=!0),c=MP(c)),o===1/0)return c;const u=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(Dz(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Mz(){const t=RP(Hx()).domain([1,10]);return t.copy=()=>sg(t,Mz()).base(t.base()),oa.apply(t,arguments),t}function rI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function LP(t){var e=1,n=t(rI(e),iI(e));return n.constant=function(r){return arguments.length?t(rI(e=+r),iI(e)):e},kl(n)}function Rz(){var t=LP(Hx());return t.copy=function(){return sg(t,Rz()).constant(t.constant())},oa.apply(t,arguments)}function aI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mme(t){return t<0?-t*t:t*t}function $P(t){var e=t(Kr,Kr),n=1;function r(){return n===1?t(Kr,Kr):n===.5?t(Dme,Mme):t(aI(n),aI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},kl(e)}function zP(){var t=$P(Hx());return t.copy=function(){return sg(t,zP()).exponent(t.exponent())},oa.apply(t,arguments),t}function Rme(){return zP.apply(null,arguments).exponent(.5)}function sI(t){return Math.sign(t)*t*t}function Lme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Lz(){var t=IP(),e=[0,1],n=!1,r;function i(a){var s=Lme(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(sI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Yv)).map(sI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Lz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oa.apply(i,arguments),kl(i)}function $z(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Bpe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[ig(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(fl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $z().domain(t).range(e).unknown(r)},oa.apply(a,arguments)}function zz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[ig(r,c,0,n)]:a}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return zz().domain([t,e]).range(i).unknown(a)},oa.apply(kl(s),arguments)}function Fz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ig(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Fz().domain(t).range(e).unknown(n)},oa.apply(i,arguments)}const V1=new Date,B1=new Date;function Zn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return c},i.filter=a=>Zn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(V1.setTime(+a),B1.setTime(+s),t(V1),t(B1),Math.floor(n(V1,B1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Jv=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jv);Jv.range;const Vs=1e3,Ji=Vs*60,Bs=Ji*60,so=Bs*24,FP=so*7,oI=so*30,U1=so*365,bc=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCSeconds());bc.range;const VP=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getMinutes());VP.range;const BP=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCMinutes());BP.range;const UP=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs-t.getMinutes()*Ji)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getHours());UP.range;const WP=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCHours());WP.range;const og=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ji)/so,t=>t.getDate()-1);og.range;const Gx=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>t.getUTCDate()-1);Gx.range;const Vz=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>Math.floor(t/so));Vz.range;function uu(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ji)/FP)}const Yx=uu(0),Zv=uu(1),$me=uu(2),zme=uu(3),Jd=uu(4),Fme=uu(5),Vme=uu(6);Yx.range;Zv.range;$me.range;zme.range;Jd.range;Fme.range;Vme.range;function du(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/FP)}const Xx=du(0),e0=du(1),Bme=du(2),Ume=du(3),Zd=du(4),Wme=du(5),Kme=du(6);Xx.range;e0.range;Bme.range;Ume.range;Zd.range;Wme.range;Kme.range;const KP=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());KP.range;const qP=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qP.range;const oo=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oo.range;const lo=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});lo.range;function Bz(t,e,n,r,i,a){const s=[[bc,1,Vs],[bc,5,5*Vs],[bc,15,15*Vs],[bc,30,30*Vs],[a,1,Ji],[a,5,5*Ji],[a,15,15*Ji],[a,30,30*Ji],[i,1,Bs],[i,3,3*Bs],[i,6,6*Bs],[i,12,12*Bs],[r,1,so],[r,2,2*so],[n,1,FP],[e,1,oI],[e,3,3*oI],[t,1,U1]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=TP(([,,b])=>b).right(s,h);if(p===s.length)return t.every(P2(u/U1,d/U1,f));if(p===0)return Jv.every(Math.max(P2(u,d,f),1));const[v,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(y)}return[o,c]}const[qme,Hme]=Bz(lo,qP,Xx,Vz,WP,BP),[Gme,Yme]=Bz(oo,KP,Yx,og,UP,VP);function W1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function K1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Xme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=wh(i),d=_h(i),f=wh(a),h=_h(a),p=wh(s),v=_h(s),y=wh(o),b=_h(o),x=wh(c),_=_h(c),S={a:K,A:V,b:Y,B:oe,c:null,d:hI,e:hI,f:xge,g:Cge,G:Nge,H:gge,I:yge,j:vge,L:Uz,m:bge,M:wge,p:ue,q:ye,Q:gI,s:yI,S:_ge,u:Sge,U:jge,V:Age,w:Pge,W:Ege,x:null,X:null,y:Tge,Y:kge,Z:Oge,"%":mI},C={a:_e,A:Ue,b:He,B:nt,c:null,d:pI,e:pI,f:Rge,g:qge,G:Gge,H:Ige,I:Dge,j:Mge,L:Kz,m:Lge,M:$ge,p:bt,q:Ut,Q:gI,s:yI,S:zge,u:Fge,U:Vge,V:Bge,w:Uge,W:Wge,x:null,X:null,y:Kge,Y:Hge,Z:Yge,"%":mI},E={a:D,A:R,b:$,B:z,c:X,d:dI,e:dI,f:fge,g:uI,G:cI,H:fI,I:fI,j:lge,L:dge,m:oge,M:cge,p:O,q:sge,Q:pge,s:mge,S:uge,u:tge,U:nge,V:rge,w:ege,W:ige,x:te,X:U,y:uI,Y:cI,Z:age,"%":hge};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),C.x=P(n,C),C.X=P(r,C),C.c=P(e,C);function P(Z,Pe){return function(ve){var de=[],ft=-1,Ze=0,Ne=Z.length,Qe,vn,Qr;for(ve instanceof Date||(ve=new Date(+ve));++ft<Ne;)Z.charCodeAt(ft)===37&&(de.push(Z.slice(Ze,ft)),(vn=lI[Qe=Z.charAt(++ft)])!=null?Qe=Z.charAt(++ft):vn=Qe==="e"?" ":"0",(Qr=Pe[Qe])&&(Qe=Qr(ve,vn)),de.push(Qe),Ze=ft+1);return de.push(Z.slice(Ze,ft)),de.join("")}}function j(Z,Pe){return function(ve){var de=bh(1900,void 0,1),ft=A(de,Z,ve+="",0),Ze,Ne;if(ft!=ve.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Pe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ze=K1(bh(de.y,0,1)),Ne=Ze.getUTCDay(),Ze=Ne>4||Ne===0?e0.ceil(Ze):e0(Ze),Ze=Gx.offset(Ze,(de.V-1)*7),de.y=Ze.getUTCFullYear(),de.m=Ze.getUTCMonth(),de.d=Ze.getUTCDate()+(de.w+6)%7):(Ze=W1(bh(de.y,0,1)),Ne=Ze.getDay(),Ze=Ne>4||Ne===0?Zv.ceil(Ze):Zv(Ze),Ze=og.offset(Ze,(de.V-1)*7),de.y=Ze.getFullYear(),de.m=Ze.getMonth(),de.d=Ze.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Ne="Z"in de?K1(bh(de.y,0,1)).getUTCDay():W1(bh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Ne+5)%7:de.w+de.U*7-(Ne+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,K1(de)):W1(de)}}function A(Z,Pe,ve,de){for(var ft=0,Ze=Pe.length,Ne=ve.length,Qe,vn;ft<Ze;){if(de>=Ne)return-1;if(Qe=Pe.charCodeAt(ft++),Qe===37){if(Qe=Pe.charAt(ft++),vn=E[Qe in lI?Pe.charAt(ft++):Qe],!vn||(de=vn(Z,ve,de))<0)return-1}else if(Qe!=ve.charCodeAt(de++))return-1}return de}function O(Z,Pe,ve){var de=u.exec(Pe.slice(ve));return de?(Z.p=d.get(de[0].toLowerCase()),ve+de[0].length):-1}function D(Z,Pe,ve){var de=p.exec(Pe.slice(ve));return de?(Z.w=v.get(de[0].toLowerCase()),ve+de[0].length):-1}function R(Z,Pe,ve){var de=f.exec(Pe.slice(ve));return de?(Z.w=h.get(de[0].toLowerCase()),ve+de[0].length):-1}function $(Z,Pe,ve){var de=x.exec(Pe.slice(ve));return de?(Z.m=_.get(de[0].toLowerCase()),ve+de[0].length):-1}function z(Z,Pe,ve){var de=y.exec(Pe.slice(ve));return de?(Z.m=b.get(de[0].toLowerCase()),ve+de[0].length):-1}function X(Z,Pe,ve){return A(Z,e,Pe,ve)}function te(Z,Pe,ve){return A(Z,n,Pe,ve)}function U(Z,Pe,ve){return A(Z,r,Pe,ve)}function K(Z){return s[Z.getDay()]}function V(Z){return a[Z.getDay()]}function Y(Z){return c[Z.getMonth()]}function oe(Z){return o[Z.getMonth()]}function ue(Z){return i[+(Z.getHours()>=12)]}function ye(Z){return 1+~~(Z.getMonth()/3)}function _e(Z){return s[Z.getUTCDay()]}function Ue(Z){return a[Z.getUTCDay()]}function He(Z){return c[Z.getUTCMonth()]}function nt(Z){return o[Z.getUTCMonth()]}function bt(Z){return i[+(Z.getUTCHours()>=12)]}function Ut(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Pe=P(Z+="",S);return Pe.toString=function(){return Z},Pe},parse:function(Z){var Pe=j(Z+="",!1);return Pe.toString=function(){return Z},Pe},utcFormat:function(Z){var Pe=P(Z+="",C);return Pe.toString=function(){return Z},Pe},utcParse:function(Z){var Pe=j(Z+="",!0);return Pe.toString=function(){return Z},Pe}}}var lI={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,Qme=/^%/,Jme=/[\\^$*+?|[\]().{}]/g;function Ct(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Zme(t){return t.replace(Jme,"\\$&")}function wh(t){return new RegExp("^(?:"+t.map(Zme).join("|")+")","i")}function _h(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ege(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tge(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nge(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rge(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ige(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cI(t,e,n){var r=cr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function uI(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function age(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sge(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oge(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dI(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lge(t,e,n){var r=cr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fI(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cge(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uge(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dge(t,e,n){var r=cr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=cr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hge(t,e,n){var r=Qme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pge(t,e,n){var r=cr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mge(t,e,n){var r=cr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hI(t,e){return Ct(t.getDate(),e,2)}function gge(t,e){return Ct(t.getHours(),e,2)}function yge(t,e){return Ct(t.getHours()%12||12,e,2)}function vge(t,e){return Ct(1+og.count(oo(t),t),e,3)}function Uz(t,e){return Ct(t.getMilliseconds(),e,3)}function xge(t,e){return Uz(t,e)+"000"}function bge(t,e){return Ct(t.getMonth()+1,e,2)}function wge(t,e){return Ct(t.getMinutes(),e,2)}function _ge(t,e){return Ct(t.getSeconds(),e,2)}function Sge(t){var e=t.getDay();return e===0?7:e}function jge(t,e){return Ct(Yx.count(oo(t)-1,t),e,2)}function Wz(t){var e=t.getDay();return e>=4||e===0?Jd(t):Jd.ceil(t)}function Age(t,e){return t=Wz(t),Ct(Jd.count(oo(t),t)+(oo(t).getDay()===4),e,2)}function Pge(t){return t.getDay()}function Ege(t,e){return Ct(Zv.count(oo(t)-1,t),e,2)}function Tge(t,e){return Ct(t.getFullYear()%100,e,2)}function Cge(t,e){return t=Wz(t),Ct(t.getFullYear()%100,e,2)}function kge(t,e){return Ct(t.getFullYear()%1e4,e,4)}function Nge(t,e){var n=t.getDay();return t=n>=4||n===0?Jd(t):Jd.ceil(t),Ct(t.getFullYear()%1e4,e,4)}function Oge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ct(e/60|0,"0",2)+Ct(e%60,"0",2)}function pI(t,e){return Ct(t.getUTCDate(),e,2)}function Ige(t,e){return Ct(t.getUTCHours(),e,2)}function Dge(t,e){return Ct(t.getUTCHours()%12||12,e,2)}function Mge(t,e){return Ct(1+Gx.count(lo(t),t),e,3)}function Kz(t,e){return Ct(t.getUTCMilliseconds(),e,3)}function Rge(t,e){return Kz(t,e)+"000"}function Lge(t,e){return Ct(t.getUTCMonth()+1,e,2)}function $ge(t,e){return Ct(t.getUTCMinutes(),e,2)}function zge(t,e){return Ct(t.getUTCSeconds(),e,2)}function Fge(t){var e=t.getUTCDay();return e===0?7:e}function Vge(t,e){return Ct(Xx.count(lo(t)-1,t),e,2)}function qz(t){var e=t.getUTCDay();return e>=4||e===0?Zd(t):Zd.ceil(t)}function Bge(t,e){return t=qz(t),Ct(Zd.count(lo(t),t)+(lo(t).getUTCDay()===4),e,2)}function Uge(t){return t.getUTCDay()}function Wge(t,e){return Ct(e0.count(lo(t)-1,t),e,2)}function Kge(t,e){return Ct(t.getUTCFullYear()%100,e,2)}function qge(t,e){return t=qz(t),Ct(t.getUTCFullYear()%100,e,2)}function Hge(t,e){return Ct(t.getUTCFullYear()%1e4,e,4)}function Gge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zd(t):Zd.ceil(t),Ct(t.getUTCFullYear()%1e4,e,4)}function Yge(){return"+0000"}function mI(){return"%"}function gI(t){return+t}function yI(t){return Math.floor(+t/1e3)}var Du,Hz,Gz;Xge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xge(t){return Du=Xme(t),Hz=Du.format,Du.parse,Gz=Du.utcFormat,Du.utcParse,Du}function Qge(t){return new Date(t)}function Jge(t){return t instanceof Date?+t:+new Date(+t)}function HP(t,e,n,r,i,a,s,o,c,u){var d=IP(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),_=u("%b %d"),S=u("%B"),C=u("%Y");function E(P){return(c(P)<P?p:o(P)<P?v:s(P)<P?y:a(P)<P?b:r(P)<P?i(P)<P?x:_:n(P)<P?S:C)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,Jge)):h().map(Qge)},d.ticks=function(P){var j=h();return t(j[0],j[j.length-1],P??10)},d.tickFormat=function(P,j){return j==null?E:u(j)},d.nice=function(P){var j=h();return(!P||typeof P.range!="function")&&(P=e(j[0],j[j.length-1],P??10)),P?h(Dz(j,P)):d},d.copy=function(){return sg(d,HP(t,e,n,r,i,a,s,o,c,u))},d}function Zge(){return oa.apply(HP(Gme,Yme,oo,KP,Yx,og,UP,VP,bc,Hz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eye(){return oa.apply(HP(qme,Hme,lo,qP,Xx,Gx,WP,BP,bc,Gz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qx(){var t=0,e=1,n,r,i,a,s=Kr,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,s=f(p,v),u):[s(0),s(1)]}}return u.range=d(Ff),u.rangeRound=d(OP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Yz(){var t=kl(Qx()(Kr));return t.copy=function(){return Nl(t,Yz())},go.apply(t,arguments)}function Xz(){var t=RP(Qx()).domain([1,10]);return t.copy=function(){return Nl(t,Xz()).base(t.base())},go.apply(t,arguments)}function Qz(){var t=LP(Qx());return t.copy=function(){return Nl(t,Qz()).constant(t.constant())},go.apply(t,arguments)}function GP(){var t=$P(Qx());return t.copy=function(){return Nl(t,GP()).exponent(t.exponent())},go.apply(t,arguments)}function tye(){return GP.apply(null,arguments).exponent(.5)}function Jz(){var t=[],e=Kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ig(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Vpe(t,a/r))},n.copy=function(){return Jz(e).domain(t)},go.apply(n,arguments)}function Jx(){var t=0,e=.5,n=1,r=1,i,a,s,o,c,u=Kr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(r*y<r*a?o:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function v(y){return function(b){var x,_,S;return arguments.length?([x,_,S]=b,u=hme(y,[x,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Ff),p.rangeRound=v(OP),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,i=y(t),a=y(e),s=y(n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Zz(){var t=kl(Jx()(Kr));return t.copy=function(){return Nl(t,Zz())},go.apply(t,arguments)}function eF(){var t=RP(Jx()).domain([.1,1,10]);return t.copy=function(){return Nl(t,eF()).base(t.base())},go.apply(t,arguments)}function tF(){var t=LP(Jx());return t.copy=function(){return Nl(t,tF()).constant(t.constant())},go.apply(t,arguments)}function YP(){var t=$P(Jx());return t.copy=function(){return Nl(t,YP()).exponent(t.exponent())},go.apply(t,arguments)}function nye(){return YP.apply(null,arguments).exponent(.5)}const vI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nm,scaleDiverging:Zz,scaleDivergingLog:eF,scaleDivergingPow:YP,scaleDivergingSqrt:nye,scaleDivergingSymlog:tF,scaleIdentity:Iz,scaleImplicit:E2,scaleLinear:Qv,scaleLog:Mz,scaleOrdinal:CP,scalePoint:lp,scalePow:zP,scaleQuantile:$z,scaleQuantize:zz,scaleRadial:Lz,scaleSequential:Yz,scaleSequentialLog:Xz,scaleSequentialPow:GP,scaleSequentialQuantile:Jz,scaleSequentialSqrt:tye,scaleSequentialSymlog:Qz,scaleSqrt:Rme,scaleSymlog:Rz,scaleThreshold:Fz,scaleTime:Zge,scaleUtc:eye,tickFormat:Oz},Symbol.toStringTag,{value:"Module"}));var rye=Nf;function iye(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!rye(s):n(s,o)))var o=s,c=a}return c}var Zx=iye;function aye(t,e){return t>e}var nF=aye,sye=Zx,oye=nF,lye=zf;function cye(t){return t&&t.length?sye(t,lye,oye):void 0}var uye=cye;const Jo=Nt(uye);function dye(t,e){return t<e}var rF=dye,fye=Zx,hye=rF,pye=zf;function mye(t){return t&&t.length?fye(t,pye,hye):void 0}var gye=mye;const eb=Nt(gye);var yye=cP,vye=vs,xye=dz,bye=yi;function wye(t,e){var n=bye(t)?yye:xye;return n(t,vye(e))}var _ye=wye,Sye=cz,jye=_ye;function Aye(t,e){return Sye(jye(t,e),1)}var Pye=Aye;const Eye=Nt(Pye);var Tye=jP;function Cye(t,e){return Tye(t,e)}var kye=Cye;const Hc=Nt(kye);var Vf=1e9,Nye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QP,cn=!0,ia="[DecimalError] ",kc=ia+"Invalid argument: ",XP=ia+"Exponent out of range: ",Bf=Math.floor,cc=Math.pow,Oye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ti,ir=1e7,tn=7,iF=9007199254740991,t0=Bf(iF/tn),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(t){return Gs(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,n=e.constructor;return Bt(Gs(e,new n(t),0,1),n.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return Vn(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ti))throw Error(ia+"NaN");if(n.s<1)throw Error(ia+(n.s?"NaN":"-Infinity"));return n.eq(Ti)?new r(0):(cn=!1,e=Gs(om(n,a),om(t,a),a),cn=!0,Bt(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oF(e,t):aF(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ia+"NaN");return n.s?(cn=!1,e=Gs(n,t,0,1).times(t),cn=!0,n.minus(e)):Bt(new r(n),i)};ze.naturalExponential=ze.exp=function(){return sF(this)};ze.naturalLogarithm=ze.ln=function(){return om(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aF(e,t):oF(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kc+t);if(e=Vn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ze.squareRoot=ze.sqrt=function(){var t,e,n,r,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ia+"NaN")}for(t=Vn(o),cn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ts(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Gs(o,a,s+2)).times(.5),ts(a.d).slice(0,s)===(e=ts(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Bt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return cn=!0,Bt(r,n)};ze.times=ze.mul=function(t){var e,n,r,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%ir|0,e=o/ir|0;a[i]=(a[i]+e)%ir|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,cn?Bt(t,f.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ps(t,0,Vf),e===void 0?e=r.rounding:ps(e,0,8),Bt(n,t+Vn(n)+1,e))};ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Gc(r,!0):(ps(t,0,Vf),e===void 0?e=i.rounding:ps(e,0,8),r=Bt(new i(r),t+1,e),n=Gc(r,!0,t+1)),n};ze.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Gc(i):(ps(t,0,Vf),e===void 0?e=a.rounding:ps(e,0,8),r=Bt(new a(i),t+Vn(i)+1,e),n=Gc(r.abs(),!1,t+Vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return Bt(new e(t),Vn(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,n,r,i,a,s,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ti);if(o=new c(o),!o.s){if(t.s<1)throw Error(ia+"Infinity");return o}if(o.eq(Ti))return o;if(r=c.precision,t.eq(Ti))return Bt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=iF){for(i=new c(Ti),e=Math.ceil(r/tn+4),cn=!1;n%2&&(i=i.times(o),bI(i.d,e)),n=Bf(n/2),n!==0;)o=o.times(o),bI(o.d,e);return cn=!0,t.s<0?new c(Ti).div(i):Bt(i,r)}}else if(a<0)throw Error(ia+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,cn=!1,i=t.times(om(o,r+u)),cn=!0,i=sF(i),i.s=a,i};ze.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Vn(i),r=Gc(i,n<=a.toExpNeg||n>=a.toExpPos)):(ps(t,1,Vf),e===void 0?e=a.rounding:ps(e,0,8),i=Bt(new a(i),t,e),n=Vn(i),r=Gc(i,t<=n||n<=a.toExpNeg,t)),r};ze.toSignificantDigits=ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ps(t,1,Vf),e===void 0?e=r.rounding:ps(e,0,8)),Bt(new r(n),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vn(t),n=t.constructor;return Gc(t,e<=n.toExpNeg||e>=n.toExpPos)};function aF(t,e){var n,r,i,a,s,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),cn?Bt(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,o=u.length):(r=u,i=s,o=c.length),s=Math.ceil(f/tn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/ir|0,c[a]%=ir;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,cn?Bt(e,f):e}function ps(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kc+t)}function ts(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(a+=Wo(n)),a+=r;s=t[e],r=s+"",n=tn-r.length,n&&(a+=Wo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Gs=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ir|0,s=a/ir|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,c,u,d,f,h,p,v,y,b,x,_,S,C,E,P,j,A,O=r.constructor,D=r.s==i.s?1:-1,R=r.d,$=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ia+"Division by zero");for(c=r.e-i.e,j=$.length,E=R.length,p=new O(D),v=p.d=[],u=0;$[u]==(R[u]||0);)++u;if($[u]>(R[u]||0)&&--c,a==null?_=a=O.precision:s?_=a+(Vn(r)-Vn(i))+1:_=a,_<0)return new O(0);if(_=_/tn+2|0,u=0,j==1)for(d=0,$=$[0],_++;(u<E||d)&&_--;u++)S=d*ir+(R[u]||0),v[u]=S/$|0,d=S%$|0;else{for(d=ir/($[0]+1)|0,d>1&&($=t($,d),R=t(R,d),j=$.length,E=R.length),C=j,y=R.slice(0,j),b=y.length;b<j;)y[b++]=0;A=$.slice(),A.unshift(0),P=$[0],$[1]>=ir/2&&++P;do d=0,o=e($,y,j,b),o<0?(x=y[0],j!=b&&(x=x*ir+(y[1]||0)),d=x/P|0,d>1?(d>=ir&&(d=ir-1),f=t($,d),h=f.length,b=y.length,o=e(f,y,h,b),o==1&&(d--,n(f,j<h?A:$,h))):(d==0&&(o=d=1),f=$.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),o==-1&&(b=y.length,o=e($,y,j,b),o<1&&(d++,n(y,j<b?A:$,b))),b=y.length):o===0&&(d++,y=[0]),v[u++]=d,o&&y[0]?y[b++]=R[C]||0:(y=[R[C]],b=1);while((C++<E||y[0]!==void 0)&&_--)}return v[0]||v.shift(),p.e=c,Bt(p,s?a+Vn(p)+1:a)}}();function sF(t,e){var n,r,i,a,s,o,c=0,u=0,d=t.constructor,f=d.precision;if(Vn(t)>16)throw Error(XP+Vn(t));if(!t.s)return new d(Ti);for(cn=!1,o=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(cc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Ti),d.precision=o;;){if(i=Bt(i.times(t),o),n=n.times(++c),s=a.plus(Gs(i,n,o)),ts(s.d).slice(0,o)===ts(a.d).slice(0,o)){for(;u--;)a=Bt(a.times(a),o);return d.precision=f,e==null?(cn=!0,Bt(a,f)):a}a=s}}function Vn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function q1(t,e,n){if(e>t.LN10.sd())throw cn=!0,n&&(t.precision=n),Error(ia+"LN10 precision limit exceeded");return Bt(new t(t.LN10),e)}function Wo(t){for(var e="";t--;)e+="0";return e}function om(t,e){var n,r,i,a,s,o,c,u,d,f=1,h=10,p=t,v=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(ia+(p.s?"NaN":"-Infinity"));if(p.eq(Ti))return new y(0);if(e==null?(cn=!1,u=b):u=e,p.eq(10))return e==null&&(cn=!0),q1(y,u);if(u+=h,y.precision=u,n=ts(v),r=n.charAt(0),a=Vn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ts(p.d),r=n.charAt(0),f++;a=Vn(p),r>1?(p=new y("0."+n),a++):p=new y(r+"."+n.slice(1))}else return c=q1(y,u+2,b).times(a+""),p=om(new y(r+"."+n.slice(1)),u-h).plus(c),y.precision=b,e==null?(cn=!0,Bt(p,b)):p;for(o=s=p=Gs(p.minus(Ti),p.plus(Ti),u),d=Bt(p.times(p),u),i=3;;){if(s=Bt(s.times(d),u),c=o.plus(Gs(s,new y(i),u)),ts(c.d).slice(0,u)===ts(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(q1(y,u+2,b).times(a+""))),o=Gs(o,new y(f),u),y.precision=b,e==null?(cn=!0,Bt(o,b)):o;o=c,i+=2}}function xI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bf(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cn&&(t.e>t0||t.e<-t0))throw Error(XP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Bt(t,e,n){var r,i,a,s,o,c,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=tn,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/tn),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=tn,i=r-tn+s}if(n!==void 0&&(a=cc(10,s-i-1),o=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?u/cc(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=Vn(t),f.length=1,e=e-a-1,f[0]=cc(10,(tn-e%tn)%tn),t.e=Bf(-e/tn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=cc(10,tn-r),f[d]=i>0?(u/cc(10,s-i)%cc(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==ir&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=ir)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(cn&&(t.e>t0||t.e<-t0))throw Error(XP+Vn(t));return t}function oF(t,e){var n,r,i,a,s,o,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),cn?Bt(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,o=f.length):(n=f,r=u,o=c.length),i=Math.max(Math.ceil(p/tn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=ir-1;--c[a],c[i]+=ir}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,cn?Bt(e,p):e):new h(0)}function Gc(t,e,n){var r,i=Vn(t),a=ts(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Wo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wo(-i-1)+a,n&&(r=n-s)>0&&(a+=Wo(r))):i>=s?(a+=Wo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Wo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Wo(r))),t.s<0?"-"+a:a}function bI(t,e){if(t.length>e)return t.length=e,!0}function lF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return xI(s,a.toString())}else if(typeof a!="string")throw Error(kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Oye.test(a))xI(s,a);else throw Error(kc+a)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lF,i.config=i.set=Iye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Iye(t){if(!t||typeof t!="object")throw Error(ia+"Object expected");var e,n,r,i=["precision",1,Vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kc+n+": "+r);return this}var QP=lF(Nye);Ti=new QP(1);const Ft=QP;function Dye(t){return $ye(t)||Lye(t)||Rye(t)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(t,e){if(t){if(typeof t=="string")return N2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(t,e)}}function Lye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $ye(t){if(Array.isArray(t))return N2(t)}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zye=function(e){return e},cF={},uF=function(e){return e===cF},wI=function(e){return function n(){return arguments.length===0||arguments.length===1&&uF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Fye=function t(e,n){return e===1?n:wI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==cF}).length;return s>=e?n.apply(void 0,i):t(e-s,wI(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return uF(f)?c.shift():f});return n.apply(void 0,Dye(d).concat(c))}))})},tb=function(e){return Fye(e.length,e)},O2=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Vye=tb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Bye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zye;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},I2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,c){return o===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function Uye(t){var e;return t===0?e=1:e=Math.floor(new Ft(t).abs().log(10).toNumber())+1,e}function Wye(t,e,n){for(var r=new Ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Kye=tb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),qye=tb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Hye=tb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const nb={rangeStep:Wye,getDigitCount:Uye,interpolateNumber:Kye,uninterpolateNumber:qye,uninterpolateTruncation:Hye};function D2(t){return Xye(t)||Yye(t)||fF(t)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xye(t){if(Array.isArray(t))return M2(t)}function lm(t,e){return Zye(t)||Jye(t,e)||fF(t,e)||Qye()}function Qye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(t,e){if(t){if(typeof t=="string")return M2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M2(t,e)}}function M2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Zye(t){if(Array.isArray(t))return t}function hF(t){var e=lm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function pF(t,e,n){if(t.lte(0))return new Ft(0);var r=nb.getDigitCount(t.toNumber()),i=new Ft(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Ft(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=o.mul(i);return e?c:new Ft(Math.ceil(c))}function eve(t,e,n){var r=1,i=new Ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ft(10).pow(nb.getDigitCount(t)-1),i=new Ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ft(Math.floor(t)))}else t===0?i=new Ft(Math.floor((e-1)/2)):n||(i=new Ft(Math.floor(t)));var s=Math.floor((e-1)/2),o=Bye(Vye(function(c){return i.add(new Ft(c-s).mul(r)).toNumber()}),O2);return o(0,e)}function mF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var a=pF(new Ft(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ft(0):(s=new Ft(t).add(e).div(2),s=s.sub(new Ft(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Ft(e).sub(s).div(a).toNumber()),u=o+c+1;return u>n?mF(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new Ft(o).mul(a)),tickMax:s.add(new Ft(c).mul(a))})}function tve(t){var e=lm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=hF([n,r]),c=lm(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(D2(O2(0,i-1).map(function(){return 1/0}))):[].concat(D2(O2(0,i-1).map(function(){return-1/0})),[d]);return n>r?I2(f):f}if(u===d)return eve(u,i,a);var h=mF(u,d,s,a),p=h.step,v=h.tickMin,y=h.tickMax,b=nb.rangeStep(v,y.add(new Ft(.1).mul(p)),p);return n>r?I2(b):b}function nve(t,e){var n=lm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=hF([r,i]),o=lm(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=pF(new Ft(u).sub(c).div(d-1),a,0),h=[].concat(D2(nb.rangeStep(new Ft(c),new Ft(u).sub(new Ft(.99).mul(f)),f)),[u]);return r>i?I2(h):h}var rve=dF(tve),ive=dF(nve),ave="Invariant failed";function Yc(t,e){throw new Error(ave)}var sve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function ove(t,e){return dve(t)||uve(t,e)||cve(t,e)||lve()}function lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cve(t,e){if(t){if(typeof t=="string")return _I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dve(t){if(Array.isArray(t))return t}function fve(t,e){if(t==null)return{};var n=hve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vF(r.key),r)}}function gve(t,e,n){return e&&mve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yve(t,e,n){return e=r0(e),vve(t,gF()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function vve(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xve(t)}function xve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function bve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R2(t,e)}function yF(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=wve(t,"string");return ef(e)=="symbol"?e:e+""}function wve(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lg=function(t){function e(){return pve(this,e),yve(this,e,arguments)}return bve(e,t),gve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=fve(r,sve),p=Be(h,!1);this.props.direction==="x"&&d.type!=="number"&&Yc();var v=c.map(function(y){var b=u(y,o),x=b.x,_=b.y,S=b.value,C=b.errorVal;if(!C)return null;var E=[],P,j;if(Array.isArray(C)){var A=ove(C,2);P=A[0],j=A[1]}else P=j=C;if(a==="vertical"){var O=d.scale,D=_+i,R=D+s,$=D-s,z=O(S-P),X=O(S+j);E.push({x1:X,y1:R,x2:X,y2:$}),E.push({x1:z,y1:D,x2:X,y2:D}),E.push({x1:z,y1:R,x2:z,y2:$})}else if(a==="horizontal"){var te=f.scale,U=x+i,K=U-s,V=U+s,Y=te(S-P),oe=te(S+j);E.push({x1:K,y1:oe,x2:V,y2:oe}),E.push({x1:U,y1:Y,x2:U,y2:oe}),E.push({x1:K,y1:Y,x2:V,y2:Y})}return q.createElement(pt,n0({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},p),E.map(function(ue){return q.createElement("line",n0({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return q.createElement(pt,{className:"recharts-errorBars"},v)}}])}(q.Component);yF(lg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yF(lg,"displayName","ErrorBar");function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){_ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ve(t,e,n){return e=Sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sve(t){var e=jve(t,"string");return cm(e)=="symbol"?e:e+""}function jve(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ei(n,Ca);if(!s)return null;var o=Ca.defaultProps,c=o!==void 0?Zl(Zl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Zl(Zl({},h),f.props):{},v=p.dataKey,y=p.name,b=p.legendType,x=p.hide;return{inactive:x,dataKey:v,type:c.iconType||b||"square",color:JP(f),value:y||v,payload:p}}),Zl(Zl(Zl({},c),Ca.getWithHeight(s,i)),{},{payload:u,item:s})};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function jI(t){return Tve(t)||Eve(t)||Pve(t)||Ave()}function Ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(t,e){if(t){if(typeof t=="string")return L2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L2(t,e)}}function Eve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tve(t){if(Array.isArray(t))return L2(t)}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Sd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sd(t,e,n){return e=Cve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cve(t){var e=kve(t,"string");return um(e)=="symbol"?e:e+""}function kve(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e,n){return tt(t)||tt(e)?n:Xn(e)?Ii(t,e,n):Xe(e)?e(t):n}function cp(t,e,n,r){var i=Eye(t,function(o){return Cn(o,e)});if(n==="number"){var a=i.filter(function(o){return je(o)||parseFloat(o)});return a.length?[eb(a),Jo(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!tt(o)}):i;return s.map(function(o){return Xn(o)||o instanceof Date?o:""})}var Nve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ur(f-d)!==Ur(h-f)){var v=[];if(Ur(h-f)===Ur(c[1]-c[0])){p=h;var y=f+c[1]-c[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{p=d;var b=h+c[1]-c[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var _=Math.min(d,h),S=Math.max(d,h);if(e>(_+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var C=0;C<o;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},JP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_n(_n({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},Ove=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,u=o.length;c<u;c++)for(var d=a[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],y=v.items,b=v.cateAxisId,x=y.filter(function(j){return Hs(j.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,S=_!==void 0?_n(_n({},_),x[0].props):x[0].props,C=S.barSize,E=S[b];s[E]||(s[E]=[]);var P=tt(C)?n:C;s[E].push({item:x[0],stackList:x.slice(1),barSize:tt(P)?void 0:Wr(P,r,0)})}}return s},Ive=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,c=s.length;if(c<1)return null;var u=Wr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/c,v=s.reduce(function(C,E){return C+E.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=c*p);var y=(i-v)/2>>0,b={offset:y-u,size:0};d=s.reduce(function(C,E){var P={item:E.item,position:{offset:b.offset+b.size+u,size:h?p:E.barSize}},j=[].concat(jI(C),[P]);return b=j[j.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){j.push({item:A,position:b})}),j},f)}else{var x=Wr(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var _=(i-2*x-(c-1)*u)/c;_>1&&(_>>=0);var S=o===+o?Math.min(_,o):_;d=s.reduce(function(C,E,P){var j=[].concat(jI(C),[{item:E.item,position:{offset:x+(_+u)*P+(_-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){j.push({item:A,position:j[j.length-1].position})}),j},f)}return d},Dve=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,c=s-(o.left||0)-(o.right||0),u=xF({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&p!=="center"&&je(e[p]))return _n(_n({},e),{},Sd({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&v!=="middle"&&je(e[v]))return _n(_n({},e),{},Sd({},v,e[v]+(h||0)))}return e},Mve=function(e,n,r){return tt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bF=function(e,n,r,i,a){var s=n.props.children,o=Di(s,lg).filter(function(u){return Mve(i,a,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Cn(d,r);if(tt(f))return u;var h=Array.isArray(f)?[eb(f),Jo(f)]:[f,f],p=c.reduce(function(v,y){var b=Cn(d,y,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),_=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Rve=function(e,n,r,i,a){var s=n.map(function(o){return bF(e,o,r,a,i)}).filter(function(o){return!tt(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},wF=function(e,n,r,i,a){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&bF(e,c,u,i)||cp(e,u,r,a)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},_F=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SF=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,o=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||o.push(n),s||o.push(r),o},Us=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ur(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Rf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},H1=new WeakMap,ny=function(e,n){if(typeof n!="function")return e;H1.has(e)||H1.set(e,new WeakMap);var r=H1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jF=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:nm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Qv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lp(),realScaleType:"point"}:a==="category"?{scale:nm(),realScaleType:"band"}:{scale:Qv(),realScaleType:"linear"};if(Wc(i)){var c="scale".concat(Fx(i));return{scale:(vI[c]||lp)(),realScaleType:vI[c]?c:"point"}}return Xe(i)?{scale:i}:{scale:lp(),realScaleType:"point"}},PI=1e-4,AF=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-PI,s=Math.max(i[0],i[1])+PI,o=e(n[0]),c=e(n[r-1]);(o<a||o>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},Lve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},$ve=function(e,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},zve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var c=Rf(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1])}},Fve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Rf(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Vve={sign:zve,expand:sae,none:qd,silhouette:oae,wiggle:lae,positive:Fve},Bve=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=Vve[r],s=aae().keys(i).value(function(o,c){return+Cn(o,c,0)}).order(l2).offset(a);return s(e)},Uve=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,c={},u=o.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?_n(_n({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return f;var x=v[r],_=f[x]||{hasStack:!1,stackGroups:{}};if(Xn(y)){var S=_.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[y]=S}else _.stackGroups[cu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return _n(_n({},f),{},Sd({},x,_))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var x=p.stackGroups[b];return _n(_n({},y),{},Sd({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:Bve(e,x.items,a)}))},v)}return _n(_n({},f),{},Sd({},h,p))},d)},PF=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=rve(u,a,o);return e.domain([eb(d),Jo(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=ive(f,a,o);return{niceTicks:h}}return null};function i0(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tt(i[e.dataKey])){var o=kv(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Cn(i,tt(s)?e.dataKey:s);return tt(c)?null:e.scale(c)}var EI=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var c=Cn(s,n.dataKey,n.domain[o]);return tt(c)?null:n.scale(c)-a/2+i},Wve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Kve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_n(_n({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Xn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},qve=function(e){return e.reduce(function(n,r){return[eb(r.concat([n[0]]).filter(je)),Jo(r.concat([n[1]]).filter(je))]},[1/0,-1/0])},EF=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,c=o.reduce(function(u,d){var f=qve(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$2=function(e,n,r){if(Xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TI.test(e[0])){var a=+TI.exec(e[0])[1];i[0]=n[0]-a}else Xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(CI.test(e[1])){var s=+CI.exec(e[1])[1];i[1]=n[1]+s}else Xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},a0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=PP(n,function(f){return f.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},kI=function(e,n,r){return!e||!e.length||Hc(e,Ii(r,"type.defaultProps.domain"))?n:e},TF=function(e,n){var r=e.type.defaultProps?_n(_n({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return _n(_n({},Be(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:JP(e),value:Cn(n,i),type:c,payload:n,chartType:u,hide:d})};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){CF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CF(t,e,n){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hve(t){var e=Gve(t,"string");return dm(e)=="symbol"?e:e+""}function Gve(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yve(t,e){return Zve(t)||Jve(t,e)||Qve(t,e)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t,e){if(t){if(typeof t=="string")return OI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OI(t,e)}}function OI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Zve(t){if(Array.isArray(t))return t}var s0=Math.PI/180,e0e=function(e){return e*180/Math.PI},Yt=function(e,n,r,i){return{x:e+Math.cos(-s0*i)*r,y:n+Math.sin(-s0*i)*r}},kF=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},t0e=function(e,n,r,i,a){var s=e.width,o=e.height,c=e.startAngle,u=e.endAngle,d=Wr(e.cx,s,s/2),f=Wr(e.cy,o,o/2),h=kF(s,o,r),p=Wr(e.innerRadius,h,0),v=Wr(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,x){var _=n[x],S=_.domain,C=_.reversed,E;if(tt(_.range))i==="angleAxis"?E=[c,u]:i==="radiusAxis"&&(E=[p,v]),C&&(E=[E[1],E[0]]);else{E=_.range;var P=E,j=Yve(P,2);c=j[0],u=j[1]}var A=jF(_,a),O=A.realScaleType,D=A.scale;D.domain(S).range(E),AF(D);var R=PF(D,Ms(Ms({},_),{},{realScaleType:O})),$=Ms(Ms(Ms({},_),R),{},{range:E,radius:v,realScaleType:O,scale:D,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return Ms(Ms({},b),{},CF({},x,$))},{})},n0e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},r0e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=n0e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(r-a)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:e0e(u),angleInRadian:u}},i0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},a0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},II=function(e,n){var r=e.x,i=e.y,a=r0e({x:r,y:i},n),s=a.radius,o=a.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=i0e(n),f=d.startAngle,h=d.endAngle,p=o,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?Ms(Ms({},n),{},{radius:s,angle:a0e(p,n)}):null},NF=function(e){return!N.isValidElement(e)&&!Xe(e)&&typeof e!="boolean"?e.className:""};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var s0e=["offset"];function o0e(t){return d0e(t)||u0e(t)||c0e(t)||l0e()}function l0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c0e(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function u0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d0e(t){if(Array.isArray(t))return z2(t)}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f0e(t,e){if(t==null)return{};var n=h0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){p0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p0e(t,e,n){return e=m0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m0e(t){var e=g0e(t,"string");return fm(e)=="symbol"?e:e+""}function g0e(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}var y0e=function(e){var n=e.value,r=e.formatter,i=tt(e.children)?n:e.children;return Xe(r)?r(i):i},v0e=function(e,n){var r=Ur(n-e),i=Math.min(Math.abs(n-e),360);return r*i},x0e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,y=c.clockWise,b=(f+h)/2,x=v0e(p,v),_=x>=0?1:-1,S,C;i==="insideStart"?(S=p+_*s,C=y):i==="insideEnd"?(S=v-_*s,C=!y):i==="end"&&(S=v+_*s,C=y),C=x<=0?C:!C;var E=Yt(u,d,b,S),P=Yt(u,d,b,S+(C?1:-1)*359),j="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),A=tt(e.id)?cu("recharts-radial-line-"):e.id;return q.createElement("text",hm({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",o)}),q.createElement("defs",null,q.createElement("path",{id:A,d:j})),q.createElement("textPath",{xlinkHref:"#".concat(A)},n))},b0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Yt(s,o,u+r,h),v=p.x,y=p.y;return{x:v,y,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,x=Yt(s,o,b,h),_=x.x,S=x.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},w0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,b=y*i,x=y>0?"end":"start",_=y>0?"start":"end";if(a==="top"){var S={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Kn(Kn({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var C={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Kn(Kn({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var E={x:o-b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Kn(Kn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(a==="right"){var P={x:o+u+b,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Kn(Kn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var j=r?{width:u,height:d}:{};return a==="insideLeft"?Kn({x:o+b,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},j):a==="insideRight"?Kn({x:o+u-b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideTop"?Kn({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},j):a==="insideBottom"?Kn({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},j):a==="insideTopLeft"?Kn({x:o+b,y:c+h,textAnchor:_,verticalAnchor:v},j):a==="insideTopRight"?Kn({x:o+u-b,y:c+h,textAnchor:x,verticalAnchor:v},j):a==="insideBottomLeft"?Kn({x:o+b,y:c+d-h,textAnchor:_,verticalAnchor:p},j):a==="insideBottomRight"?Kn({x:o+u-b,y:c+d-h,textAnchor:x,verticalAnchor:p},j):Of(a)&&(je(a.x)||vc(a.x))&&(je(a.y)||vc(a.y))?Kn({x:o+Wr(a.x,u),y:c+Wr(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):Kn({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},_0e=function(e){return"cx"in e&&je(e.cx)};function sr(t){var e=t.offset,n=e===void 0?5:e,r=f0e(t,s0e),i=Kn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||tt(o)&&tt(c)&&!N.isValidElement(u)&&!Xe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var p;if(Xe(u)){if(p=N.createElement(u,i),N.isValidElement(p))return p}else p=y0e(i);var v=_0e(a),y=Be(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return x0e(i,p,y);var b=v?b0e(i):w0e(i);return q.createElement(qc,hm({className:lt("recharts-label",f)},y,b,{breakAll:h}),p)}sr.displayName="Label";var OF=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,y=e.width,b=e.height,x=e.clockWise,_=e.labelViewBox;if(_)return _;if(je(y)&&je(b)){if(je(f)&&je(h))return{x:f,y:h,width:y,height:b};if(je(p)&&je(v))return{x:p,y:v,width:y,height:b}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(n)&&je(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},S0e=function(e,n){return e?e===!0?q.createElement(sr,{key:"label-implicit",viewBox:n}):Xn(e)?q.createElement(sr,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===sr?N.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(sr,{key:"label-implicit",content:e,viewBox:n}):Xe(e)?q.createElement(sr,{key:"label-implicit",content:e,viewBox:n}):Of(e)?q.createElement(sr,hm({viewBox:n},e,{key:"label-implicit"})):null:null},j0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=OF(e),s=Di(i,sr).map(function(c,u){return N.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=S0e(e.label,n||a);return[o].concat(o0e(s))};sr.parseViewBox=OF;sr.renderCallByParent=j0e;function A0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var P0e=A0e;const E0e=Nt(P0e);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}var T0e=["valueAccessor"],C0e=["data","dataKey","clockWise","id","textBreakAll"];function k0e(t){return D0e(t)||I0e(t)||O0e(t)||N0e()}function N0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function I0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D0e(t){if(Array.isArray(t))return F2(t)}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){M0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M0e(t,e,n){return e=R0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0e(t){var e=L0e(t,"string");return pm(e)=="symbol"?e:e+""}function L0e(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LI(t,e){if(t==null)return{};var n=$0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z0e=function(e){return Array.isArray(e.value)?E0e(e.value):e.value};function ta(t){var e=t.valueAccessor,n=e===void 0?z0e:e,r=LI(t,T0e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,c=r.textBreakAll,u=LI(r,C0e);return!i||!i.length?null:q.createElement(pt,{className:"recharts-label-list"},i.map(function(d,f){var h=tt(a)?n(d,f):Cn(d&&d.payload,a),p=tt(o)?{}:{id:"".concat(o,"-").concat(f)};return q.createElement(sr,o0({},Be(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:sr.parseViewBox(tt(s)?d:RI(RI({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ta.displayName="LabelList";function F0e(t,e){return t?t===!0?q.createElement(ta,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Xe(t)?q.createElement(ta,{key:"labelList-implicit",data:e,content:t}):Of(t)?q.createElement(ta,o0({data:e},t,{key:"labelList-implicit"})):null:null}function V0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Di(r,ta).map(function(s,o){return N.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=F0e(t.label,e);return[a].concat(k0e(i))}ta.renderCallByParent=V0e;function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){B0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0e(t,e,n){return e=U0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=W0e(t,"string");return mm(e)=="symbol"?e:e+""}function W0e(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K0e=function(e,n){var r=Ur(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ry=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/s0,h=u?a:a+s*f,p=Yt(n,r,d,h),v=Yt(n,r,i,h),y=u?a-s*f:a,b=Yt(n,r,d*Math.cos(f*s0),y);return{center:p,circleTangency:v,lineTangency:b,theta:f}},IF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,c=K0e(s,o),u=s+c,d=Yt(n,r,a,s),f=Yt(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Yt(n,r,i,s),v=Yt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},q0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ur(d-u),h=ry({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,y=h.theta,b=ry({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=b.circleTangency,_=b.lineTangency,S=b.theta,C=c?Math.abs(u-d):Math.abs(u-d)-y-S;if(C<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):IF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=ry({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),j=P.circleTangency,A=P.lineTangency,O=P.theta,D=ry({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=D.circleTangency,$=D.lineTangency,z=D.theta,X=c?Math.abs(u-d):Math.abs(u-d)-O-z;if(X<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},H0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DF=function(e){var n=zI(zI({},H0e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=lt("recharts-sector",h),v=s-a,y=Wr(o,v,0,!0),b;return y>0&&Math.abs(d-f)<360?b=q0e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=IF({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),q.createElement("path",V2({},Be(n,!0),{className:p,d:b,role:"img"}))};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B2.apply(this,arguments)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){G0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0e(t,e,n){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0e(t){var e=X0e(t,"string");return gm(e)=="symbol"?e:e+""}function X0e(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BI={curveBasisClosed:Gie,curveBasisOpen:Yie,curveBasis:Hie,curveBumpX:Iie,curveBumpY:Die,curveLinearClosed:Xie,curveLinear:Bx,curveMonotoneX:Qie,curveMonotoneY:Jie,curveNatural:Zie,curveStep:eae,curveStepAfter:nae,curveStepBefore:tae},iy=function(e){return e.x===+e.x&&e.y===+e.y},Sh=function(e){return e.x},jh=function(e){return e.y},Q0e=function(e,n){if(Xe(e))return e;var r="curve".concat(Fx(e));return(r==="curveMonotone"||r==="curveBump")&&n?BI["".concat(r).concat(n==="vertical"?"Y":"X")]:BI[r]||Bx},J0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Q0e(r,o),f=u?a.filter(function(y){return iy(y)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(y){return iy(y)}):s,v=f.map(function(y,b){return VI(VI({},y),{},{base:p[b]})});return o==="vertical"?h=Gg().y(jh).x1(Sh).x0(function(y){return y.base.x}):h=Gg().x(Sh).y1(jh).y0(function(y){return y.base.y}),h.defined(iy).curve(d),h(v)}return o==="vertical"&&je(s)?h=Gg().y(jh).x1(Sh).x0(s):je(s)?h=Gg().x(Sh).y1(jh).y0(s):h=T6().x(Sh).y(jh),h.defined(iy).curve(d),h(f)},Nc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?J0e(e):i;return N.createElement("path",B2({},Be(e,!1),Nv(e),{className:lt("recharts-curve",n),d:s,ref:a}))},MF={exports:{}},Z0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",exe=Z0e,txe=exe;function RF(){}function LF(){}LF.resetWarningCache=RF;var nxe=function(){function t(r,i,a,s,o,c){if(c!==txe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LF,resetWarningCache:RF};return n.PropTypes=n,n};MF.exports=nxe();var rxe=MF.exports;const kt=Nt(rxe);var ixe=Object.getOwnPropertyNames,axe=Object.getOwnPropertySymbols,sxe=Object.prototype.hasOwnProperty;function UI(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function ay(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function oxe(t){return t!=null?t[Symbol.toStringTag]:void 0}function WI(t){return ixe(t).concat(axe(t))}var lxe=Object.hasOwn||function(t,e){return sxe.call(t,e)};function fu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var cxe="__v",uxe="__o",dxe="_owner",KI=Object.getOwnPropertyDescriptor,qI=Object.keys;function fxe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function hxe(t,e){return fu(t.getTime(),e.getTime())}function pxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mxe(t,e){return t===e}function HI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,o,c=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var gxe=fu;function yxe(t,e,n){var r=qI(t),i=r.length;if(qI(e).length!==i)return!1;for(;i-- >0;)if(!$F(t,e,n,r[i]))return!1;return!0}function Ah(t,e,n){var r=WI(t),i=r.length;if(WI(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],!$F(t,e,n,a)||(s=KI(t,a),o=KI(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function vxe(t,e){return fu(t.valueOf(),e.valueOf())}function xxe(t,e){return t.source===e.source&&t.flags===e.flags}function GI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bxe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function wxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $F(t,e,n,r){return(r===dxe||r===uxe||r===cxe)&&(t.$$typeof||e.$$typeof)?!0:lxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var _xe="[object Arguments]",Sxe="[object Boolean]",jxe="[object Date]",Axe="[object Error]",Pxe="[object Map]",Exe="[object Number]",Txe="[object Object]",Cxe="[object RegExp]",kxe="[object Set]",Nxe="[object String]",Oxe="[object URL]",Ixe=Array.isArray,YI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XI=Object.assign,Dxe=Object.prototype.toString.call.bind(Object.prototype.toString);function Mxe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(y,b,x){if(y===b)return!0;if(y==null||b==null)return!1;var _=typeof y;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?s(y,b,x):_==="function"?i(y,b,x):!1;var S=y.constructor;if(S!==b.constructor)return!1;if(S===Object)return o(y,b,x);if(Ixe(y))return e(y,b,x);if(YI!=null&&YI(y))return f(y,b,x);if(S===Date)return n(y,b,x);if(S===RegExp)return u(y,b,x);if(S===Map)return a(y,b,x);if(S===Set)return d(y,b,x);var C=Dxe(y);if(C===jxe)return n(y,b,x);if(C===Cxe)return u(y,b,x);if(C===Pxe)return a(y,b,x);if(C===kxe)return d(y,b,x);if(C===Txe)return typeof y.then!="function"&&typeof b.then!="function"&&o(y,b,x);if(C===Oxe)return h(y,b,x);if(C===Axe)return r(y,b,x);if(C===_xe)return o(y,b,x);if(C===Sxe||C===Exe||C===Nxe)return c(y,b,x);if(p){var E=p[C];if(!E){var P=oxe(y);P&&(E=p[P])}if(E)return E(y,b,x)}return!1}}function Rxe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ah:fxe,areDatesEqual:hxe,areErrorsEqual:pxe,areFunctionsEqual:mxe,areMapsEqual:r?UI(HI,Ah):HI,areNumbersEqual:gxe,areObjectsEqual:r?Ah:yxe,arePrimitiveWrappersEqual:vxe,areRegExpsEqual:xxe,areSetsEqual:r?UI(GI,Ah):GI,areTypedArraysEqual:r?Ah:bxe,areUrlsEqual:wxe,unknownTagComparators:void 0};if(n&&(i=XI({},i,n(i))),e){var a=ay(i.areArraysEqual),s=ay(i.areMapsEqual),o=ay(i.areObjectsEqual),c=ay(i.areSetsEqual);i=XI({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return i}function Lxe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function $xe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,s)}}var zxe=Ol();Ol({strict:!0});Ol({circular:!0});Ol({circular:!0,strict:!0});Ol({createInternalComparator:function(){return fu}});Ol({strict:!0,createInternalComparator:function(){return fu}});Ol({circular:!0,createInternalComparator:function(){return fu}});Ol({circular:!0,createInternalComparator:function(){return fu},strict:!0});function Ol(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=Rxe(t),c=Mxe(o),u=r?r(c):Lxe(c);return $xe({circular:n,comparator:c,createState:i,equals:u,strict:s})}function Fxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function QI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Fxe(i)};requestAnimationFrame(r)}function U2(t){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}function Vxe(t){return Kxe(t)||Wxe(t)||Uxe(t)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return t}function qxe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Vxe(s),c=o[0],u=o.slice(1);if(typeof c=="number"){QI(i.bind(null,u),c);return}i(c),QI(i.bind(null,u));return}U2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){zF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zF(t,e,n){return e=Hxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hxe(t){var e=Gxe(t,"string");return ym(e)==="symbol"?e:String(e)}function Gxe(t,e){if(ym(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yxe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Xxe=function(e){return e},Qxe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},up=function(e,n){return Object.keys(n).reduce(function(r,i){return eD(eD({},r),{},zF({},i,e(i,n[i])))},{})},tD=function(e,n,r){return e.map(function(i){return"".concat(Qxe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Jxe(t,e){return tbe(t)||ebe(t,e)||FF(t,e)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ebe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function tbe(t){if(Array.isArray(t))return t}function nbe(t){return abe(t)||ibe(t)||FF(t)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FF(t,e){if(t){if(typeof t=="string")return W2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W2(t,e)}}function ibe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function abe(t){if(Array.isArray(t))return W2(t)}function W2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l0=1e-4,VF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},nD=function(e,n){return function(r){var i=VF(e,n);return BF(i,r)}},sbe=function(e,n){return function(r){var i=VF(e,n),a=[].concat(nbe(i.map(function(s,o){return s*o}).slice(1)),[0]);return BF(a,r)}},rD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=Jxe(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=nD(i,s),h=nD(a,o),p=sbe(i,s),v=function(x){return x>1?1:x<0?0:x},y=function(x){for(var _=x>1?1:x,S=_,C=0;C<8;++C){var E=f(S)-_,P=p(S);if(Math.abs(E-_)<l0||P<l0)return h(S);S=v(S-E/P)}return h(S)};return y.isStepper=!1,y},obe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*r,v=h*a,y=h+(p-v)*o/1e3,b=h*o/1e3+d;return Math.abs(b-f)<l0&&Math.abs(y)<l0?[f,0]:[b,y]};return c.isStepper=!0,c.dt=o,c},lbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rD(i);case"spring":return obe();default:if(i.split("(")[0]==="cubic-bezier")return rD(i)}return typeof i=="function"?i:null};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function iD(t){return dbe(t)||ube(t)||UF(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ube(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dbe(t){if(Array.isArray(t))return q2(t)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){K2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K2(t,e,n){return e=fbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fbe(t){var e=hbe(t,"string");return vm(e)==="symbol"?e:String(e)}function hbe(t,e){if(vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pbe(t,e){return ybe(t)||gbe(t,e)||UF(t,e)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ybe(t){if(Array.isArray(t))return t}var c0=function(e,n,r){return e+(n-e)*r},H2=function(e){var n=e.from,r=e.to;return n!==r},vbe=function t(e,n,r){var i=up(function(a,s){if(H2(s)){var o=e(s.from,s.to,s.velocity),c=pbe(o,2),u=c[0],d=c[1];return pr(pr({},s),{},{from:u,velocity:d})}return s},n);return r<1?up(function(a,s){return H2(s)?pr(pr({},s),{},{velocity:c0(s.velocity,i[a].velocity,r),from:c0(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const xbe=function(t,e,n,r,i){var a=Yxe(t,e),s=a.reduce(function(b,x){return pr(pr({},b),{},K2({},x,[t[x],e[x]]))},{}),o=a.reduce(function(b,x){return pr(pr({},b),{},K2({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return up(function(x,_){return _.from},o)},p=function(){return!Object.values(o).filter(H2).length},v=function(x){u||(u=x);var _=x-u,S=_/n.dt;o=vbe(n,o,S),i(pr(pr(pr({},t),e),h())),u=x,p()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var _=(x-d)/r,S=up(function(E,P){return c0.apply(void 0,iD(P).concat([n(_)]))},s);if(i(pr(pr(pr({},t),e),S)),_<1)c=requestAnimationFrame(f);else{var C=up(function(E,P){return c0.apply(void 0,iD(P).concat([n(1)]))},s);i(pr(pr(pr({},t),e),C))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var bbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wbe(t,e){if(t==null)return{};var n=_be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _be(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G1(t){return Pbe(t)||Abe(t)||jbe(t)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function Abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pbe(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fh(t,e,n){return e=WF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ebe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WF(r.key),r)}}function Cbe(t,e,n){return e&&Tbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WF(t){var e=kbe(t,"string");return tf(e)==="symbol"?e:String(e)}function kbe(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y2(t,e)}function Obe(t){var e=Ibe();return function(){var r=u0(t),i;if(e){var a=u0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return X2(this,i)}}function X2(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q2(t)}function Q2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ibe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}var Ia=function(t){Nbe(n,t);var e=Obe(n);function n(r,i){var a;Ebe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Q2(a)),a.changeStyle=a.changeStyle.bind(Q2(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),X2(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},X2(a);a.state={style:c?Fh({},c,u):u}}else a.state={style:{}};return a}return Cbe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:c?Fh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(zxe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var b={style:c?Fh({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(b)}this.runAnimation(ya(ya({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=xbe(s,o,lbe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,b,x){if(x===0)return y;var _=b.duration,S=b.easing,C=S===void 0?"ease":S,E=b.style,P=b.properties,j=b.onAnimationEnd,A=x>0?s[x-1]:b,O=P||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(G1(y),[a.runJSAnimation.bind(a,{from:A.style,to:E,duration:_,easing:C}),_]);var D=tD(O,_,C),R=ya(ya(ya({},A.style),E),{},{transition:D});return[].concat(G1(y),[R,_,j]).filter(Xxe)};return this.manager.start([c].concat(G1(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qxe());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=o?Fh({},o,c):c,b=tD(Object.keys(y),s,u);v.start([d,a,ya(ya({},y),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=wbe(i,bbe),u=N.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var v=p.props,y=v.style,b=y===void 0?{}:y,x=v.className,_=N.cloneElement(p,ya(ya({},c),{},{style:ya(ya({},b),d),className:x}));return _};return u===1?f(N.Children.only(a)):q.createElement("div",null,N.Children.map(a,function(h){return f(h)}))}}]),n}(N.PureComponent);Ia.displayName="Animate";Ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ia.propTypes={from:kt.oneOfType([kt.object,kt.string]),to:kt.oneOfType([kt.object,kt.string]),attributeName:kt.string,duration:kt.number,begin:kt.number,easing:kt.oneOfType([kt.string,kt.func]),steps:kt.arrayOf(kt.shape({duration:kt.number.isRequired,style:kt.object.isRequired,easing:kt.oneOfType([kt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kt.func]),properties:kt.arrayOf("string"),onAnimationEnd:kt.func})),children:kt.oneOfType([kt.node,kt.func]),isActive:kt.bool,canBegin:kt.bool,onAnimationEnd:kt.func,shouldReAnimate:kt.bool,onAnimationStart:kt.func,onAnimationReStart:kt.func};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function Dbe(t,e){return $be(t)||Lbe(t,e)||Rbe(t,e)||Mbe()}function Mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(t,e){if(t){if(typeof t=="string")return oD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oD(t,e)}}function oD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function $be(t){if(Array.isArray(t))return t}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){zbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zbe(t,e,n){return e=Fbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fbe(t){var e=Vbe(t,"string");return xm(e)=="symbol"?e:e+""}function Vbe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uD=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);d="M ".concat(e,",").concat(n+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*v,`
            L `).concat(e+r,",").concat(n+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+i,`
            L `).concat(e+c*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Bbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,c=n.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Ube={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZP=function(e){var n=cD(cD({},Ube),e),r=N.useRef(),i=N.useState(-1),a=Dbe(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&o(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=lt("recharts-rectangle",p);return _?q.createElement(Ia,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:v,isActive:_},function(C){var E=C.width,P=C.height,j=C.x,A=C.y;return q.createElement(Ia,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:v},q.createElement("path",d0({},Be(n,!0),{className:S,d:uD(j,A,E,P,h),ref:r})))}):q.createElement("path",d0({},Be(n,!0),{className:S,d:uD(c,u,d,f,h)}))},Wbe=["points","className","baseLinePoints","connectNulls"];function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function Kbe(t,e){if(t==null)return{};var n=qbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dD(t){return Xbe(t)||Ybe(t)||Gbe(t)||Hbe()}function Hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gbe(t,e){if(t){if(typeof t=="string")return J2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J2(t,e)}}function Ybe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xbe(t){if(Array.isArray(t))return J2(t)}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fD=function(e){return e&&e.x===+e.x&&e.y===+e.y},Qbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){fD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),fD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},dp=function(e,n){var r=Qbe(e);n&&(r=[r.reduce(function(a,s){return[].concat(dD(a),dD(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Jbe=function(e,n,r){var i=dp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(dp(n.reverse(),r).slice(1))},Zbe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Kbe(e,Wbe);if(!n||!n.length)return null;var o=lt("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=Jbe(n,i,a);return q.createElement("g",{className:o},q.createElement("path",ld({},Be(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?q.createElement("path",ld({},Be(s,!0),{fill:"none",d:dp(n,a)})):null,c?q.createElement("path",ld({},Be(s,!0),{fill:"none",d:dp(i,a)})):null)}var d=dp(n,a);return q.createElement("path",ld({},Be(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z2.apply(this,arguments)}var cg=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=lt("recharts-dot",a);return n===+n&&r===+r&&i===+i?N.createElement("circle",Z2({},Be(e,!1),Nv(e),{className:s,cx:n,cy:r,r:i})):null};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}var e1e=["x","y","top","left","width","height","className"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){n1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n1e(t,e,n){return e=r1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r1e(t){var e=i1e(t,"string");return bm(e)=="symbol"?e:e+""}function i1e(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a1e(t,e){if(t==null)return{};var n=s1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var o1e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},l1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,y=a1e(e,e1e),b=t1e({x:r,y:a,top:o,left:u,width:f,height:p},y);return!je(r)||!je(a)||!je(f)||!je(p)||!je(o)||!je(u)?null:q.createElement("path",eS({},Be(b,!0),{className:lt("recharts-cross",v),d:o1e(r,a,f,p,o,u)}))},c1e=Zx,u1e=nF,d1e=vs;function f1e(t,e){return t&&t.length?c1e(t,d1e(e),u1e):void 0}var h1e=f1e;const p1e=Nt(h1e);var m1e=Zx,g1e=vs,y1e=rF;function v1e(t,e){return t&&t.length?m1e(t,g1e(e),y1e):void 0}var x1e=v1e;const b1e=Nt(x1e);var w1e=["cx","cy","angle","ticks","axisLine"],_1e=["ticks","tick","angle","tickFormatter","stroke"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mD(t,e){if(t==null)return{};var n=S1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qF(r.key),r)}}function A1e(t,e,n){return e&&gD(t.prototype,e),n&&gD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1e(t,e,n){return e=f0(e),E1e(t,KF()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function E1e(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1e(t)}function T1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function C1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tS(t,e)}function rb(t,e,n){return e=qF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qF(t){var e=k1e(t,"string");return nf(e)=="symbol"?e:e+""}function k1e(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ib=function(t){function e(){return j1e(this,e),P1e(this,e,arguments)}return C1e(e,t),A1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return Yt(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,c=p1e(o,function(d){return d.coordinate||0}),u=b1e(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,c=r.axisLine,u=mD(r,w1e),d=o.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=Yt(i,a,d[0],s),h=Yt(i,a,d[1],s),p=ec(ec(ec({},Be(u,!1)),{},{fill:"none"},Be(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return q.createElement("line",fp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=mD(i,_1e),f=this.getTickTextAnchor(),h=Be(d,!1),p=Be(s,!1),v=a.map(function(y,b){var x=r.getTickValueCoord(y),_=ec(ec(ec(ec({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},x),{},{payload:y});return q.createElement(pt,fp({className:lt("recharts-polar-radius-axis-tick",NF(s)),key:"tick-".concat(y.coordinate)},Kc(r.props,y,b)),e.renderTickItem(s,_,c?c(y.value,b):y.value))});return q.createElement(pt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:q.createElement(pt,{className:lt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),sr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return q.isValidElement(r)?s=q.cloneElement(r,i):Xe(r)?s=r(i):s=q.createElement(qc,fp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(N.PureComponent);rb(ib,"displayName","PolarRadiusAxis");rb(ib,"axisType","radiusAxis");rb(ib,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GF(r.key),r)}}function O1e(t,e,n){return e&&vD(t.prototype,e),n&&vD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I1e(t,e,n){return e=h0(e),D1e(t,HF()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function D1e(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M1e(t)}function M1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nS(t,e)}function ab(t,e,n){return e=GF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GF(t){var e=L1e(t,"string");return rf(e)=="symbol"?e:e+""}function L1e(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $1e=Math.PI/180,xD=1e-5,sb=function(t){function e(){return N1e(this,e),I1e(this,e,arguments)}return R1e(e,t),O1e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Yt(a,s,o,r.coordinate),h=Yt(a,s,o+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*$1e),s;return a>xD?s=i==="outer"?"start":"end":a<-xD?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,c=r.axisLineType,u=tc(tc({},Be(this.props,!1)),{},{fill:"none"},Be(o,!1));if(c==="circle")return q.createElement(cg,dc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Yt(i,a,s,h.coordinate)});return q.createElement(Zbe,dc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Be(this.props,!1),f=Be(s,!1),h=tc(tc({},d),{},{fill:"none"},Be(o,!1)),p=a.map(function(v,y){var b=r.getTickLineCoord(v),x=r.getTickTextAnchor(v),_=tc(tc(tc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:b.x2,y:b.y2});return q.createElement(pt,dc({className:lt("recharts-polar-angle-axis-tick",NF(s)),key:"tick-".concat(v.coordinate)},Kc(r.props,v,y)),o&&q.createElement("line",dc({className:"recharts-polar-angle-axis-tick-line"},h,b)),s&&e.renderTickItem(s,_,c?c(v.value,y):v.value))});return q.createElement(pt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:q.createElement(pt,{className:lt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return q.isValidElement(r)?s=q.cloneElement(r,i):Xe(r)?s=r(i):s=q.createElement(qc,dc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(N.PureComponent);ab(sb,"displayName","PolarAngleAxis");ab(sb,"axisType","angleAxis");ab(sb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var z1e=J6,F1e=z1e(Object.getPrototypeOf,Object),V1e=F1e,B1e=po,U1e=V1e,W1e=mo,K1e="[object Object]",q1e=Function.prototype,H1e=Object.prototype,YF=q1e.toString,G1e=H1e.hasOwnProperty,Y1e=YF.call(Object);function X1e(t){if(!W1e(t)||B1e(t)!=K1e)return!1;var e=U1e(t);if(e===null)return!0;var n=G1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&YF.call(n)==Y1e}var Q1e=X1e;const J1e=Nt(Q1e);var Z1e=po,ewe=mo,twe="[object Boolean]";function nwe(t){return t===!0||t===!1||ewe(t)&&Z1e(t)==twe}var rwe=nwe;const iwe=Nt(rwe);function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(this,arguments)}function awe(t,e){return cwe(t)||lwe(t,e)||owe(t,e)||swe()}function swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function owe(t,e){if(t){if(typeof t=="string")return bD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bD(t,e)}}function bD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cwe(t){if(Array.isArray(t))return t}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){uwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uwe(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=fwe(t,"string");return wm(e)=="symbol"?e:e+""}function fwe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SD=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},hwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pwe=function(e){var n=_D(_D({},hwe),e),r=N.useRef(),i=N.useState(-1),a=awe(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=lt("recharts-trapezoid",p);return x?q.createElement(Ia,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:x},function(S){var C=S.upperWidth,E=S.lowerWidth,P=S.height,j=S.x,A=S.y;return q.createElement(Ia,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},q.createElement("path",p0({},Be(n,!0),{className:_,d:SD(j,A,C,E,P),ref:r})))}):q.createElement("g",null,q.createElement("path",p0({},Be(n,!0),{className:_,d:SD(c,u,d,f,h)})))},mwe=["option","shapeType","propTransformer","activeClassName","isActive"];function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function gwe(t,e){if(t==null)return{};var n=ywe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ywe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){vwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vwe(t,e,n){return e=xwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xwe(t){var e=bwe(t,"string");return _m(e)=="symbol"?e:e+""}function bwe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wwe(t,e){return m0(m0({},e),t)}function _we(t,e){return t==="symbols"}function AD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(ZP,n);case"trapezoid":return q.createElement(pwe,n);case"sector":return q.createElement(DF,n);case"symbols":if(_we(e))return q.createElement(vP,n);break;default:return null}}function Swe(t){return N.isValidElement(t)?t.props:t}function XF(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?wwe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,c=gwe(t,mwe),u;if(N.isValidElement(e))u=N.cloneElement(e,m0(m0({},c),Swe(e)));else if(Xe(e))u=e(c);else if(J1e(e)&&!iwe(e)){var d=i(e,c);u=q.createElement(AD,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(AD,{shapeType:n,elementProps:f})}return o?q.createElement(pt,{className:s},u):u}function ob(t,e){return e!=null&&"trapezoids"in t.props}function lb(t,e){return e!=null&&"sectors"in t.props}function Sm(t,e){return e!=null&&"points"in t.props}function jwe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Awe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Pwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ewe(t,e){var n;return ob(t,e)?n=jwe:lb(t,e)?n=Awe:Sm(t,e)&&(n=Pwe),n}function Twe(t,e){var n;return ob(t,e)?n="trapezoids":lb(t,e)?n="sectors":Sm(t,e)&&(n="points"),n}function Cwe(t,e){if(ob(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(lb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Sm(t,e)?e.payload:{}}function kwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Twe(n,e),a=Cwe(n,e),s=r.filter(function(c,u){var d=Hc(a,c),f=n.props[i].filter(function(v){var y=Ewe(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=r.indexOf(s[s.length-1]);return o}var Dy;function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ED(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JF(r.key),r)}}function Owe(t,e,n){return e&&ED(t.prototype,e),n&&ED(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iwe(t,e,n){return e=g0(e),Dwe(t,QF()?Reflect.construct(e,n||[],g0(t).constructor):e.apply(t,n))}function Dwe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(t)}function Mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QF=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(t)}function Rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rS(t,e)}function rS(t,e){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rS(t,e)}function Xi(t,e,n){return e=JF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JF(t){var e=Lwe(t,"string");return af(e)=="symbol"?e:e+""}function Lwe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Da=function(t){function e(n){var r;return Nwe(this,e),r=Iwe(this,e,[n]),Xi(r,"pieRef",null),Xi(r,"sectorRefs",[]),Xi(r,"id",cu("recharts-pie-")),Xi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(i)&&i()}),Xi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Rwe(e,t),Owe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,u=a.valueKey,d=Be(this.props,!1),f=Be(s,!1),h=Be(o,!1),p=s&&s.offsetRadius||20,v=r.map(function(y,b){var x=(y.startAngle+y.endAngle)/2,_=Yt(y.cx,y.cy,y.outerRadius+p,x),S=qt(qt(qt(qt({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(_.x,y.cx)},_),C=qt(qt(qt(qt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Yt(y.cx,y.cy,y.outerRadius,x),_]}),E=c;return tt(c)&&tt(u)?E="value":tt(c)&&(E=u),q.createElement(pt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,C,"line"),e.renderLabelItem(s,S,Cn(y,E)))});return q.createElement(pt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?s:h,v=qt(qt({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return q.createElement(pt,cd({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Kc(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(XF,cd({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return q.createElement(Ia,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],x=a&&a[0],_=x.startAngle;return a.forEach(function(S,C){var E=h&&h[C],P=C>0?Ii(S,"paddingAngle",0):0;if(E){var j=Gn(E.endAngle-E.startAngle,S.endAngle-S.startAngle),A=qt(qt({},S),{},{startAngle:_+P,endAngle:_+j(y)+P});b.push(A),_=A.endAngle}else{var O=S.endAngle,D=S.startAngle,R=Gn(0,O-D),$=R(y),z=qt(qt({},S),{},{startAngle:_+P,endAngle:_+$+P});b.push(z),_=z.endAngle}}),q.createElement(pt,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Hc(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!je(u)||!je(d)||!je(f)||!je(h))return null;var y=lt("recharts-pie",o);return q.createElement(pt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(s),sr.renderCallByParent(this.props,null,!1),(!p||v)&&ta.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(q.isValidElement(r))return q.cloneElement(r,i);if(Xe(r))return r(i);var s=lt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return q.createElement(Nc,cd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(q.isValidElement(r))return q.cloneElement(r,i);var s=a;if(Xe(r)&&(s=r(i),q.isValidElement(s)))return s;var o=lt("recharts-pie-label-text",typeof r!="boolean"&&!Xe(r)?r.className:"");return q.createElement(qc,cd({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(N.PureComponent);Dy=Da;Xi(Da,"displayName","Pie");Xi(Da,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xi(Da,"parseDeltaAngle",function(t,e){var n=Ur(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xi(Da,"getRealPieData",function(t){var e=t.data,n=t.children,r=Be(t,!1),i=Di(n,Oa);return e&&e.length?e.map(function(a,s){return qt(qt(qt({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return qt(qt({},r),a.props)}):[]});Xi(Da,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=kF(i,a),o=r+Wr(t.cx,i,i/2),c=n+Wr(t.cy,a,a/2),u=Wr(t.innerRadius,s,0),d=Wr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Xi(Da,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?qt(qt({},e.type.defaultProps),e.props):e.props,i=Dy.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),v=Dy.parseCoordinateOfPie(r,n),y=Dy.parseDeltaAngle(s,o),b=Math.abs(y),x=u;tt(u)&&tt(f)?(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):tt(u)&&(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var _=i.filter(function(A){return Cn(A,x,0)!==0}).length,S=(b>=360?_:_-1)*c,C=b-_*p-S,E=i.reduce(function(A,O){var D=Cn(O,x,0);return A+(je(D)?D:0)},0),P;if(E>0){var j;P=i.map(function(A,O){var D=Cn(A,x,0),R=Cn(A,d,O),$=(je(D)?D:0)/E,z;O?z=j.endAngle+Ur(y)*c*(D!==0?1:0):z=s;var X=z+Ur(y)*((D!==0?p:0)+$*C),te=(z+X)/2,U=(v.innerRadius+v.outerRadius)/2,K=[{name:R,value:D,payload:A,dataKey:x,type:h}],V=Yt(v.cx,v.cy,U,te);return j=qt(qt(qt({percent:$,cornerRadius:a,name:R,tooltipPayload:K,midAngle:te,middleRadius:U,tooltipPosition:V},A),v),{},{value:Cn(A,x),startAngle:z,endAngle:X,payload:A,paddingAngle:Ur(y)*c}),j})}return qt(qt({},v),{},{sectors:P,data:i})});var $we=Math.ceil,zwe=Math.max;function Fwe(t,e,n,r){for(var i=-1,a=zwe($we((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var Vwe=Fwe,Bwe=yz,TD=1/0,Uwe=17976931348623157e292;function Wwe(t){if(!t)return t===0?t:0;if(t=Bwe(t),t===TD||t===-TD){var e=t<0?-1:1;return e*Uwe}return t===t?t:0}var ZF=Wwe,Kwe=Vwe,qwe=qx,Y1=ZF;function Hwe(t){return function(e,n,r){return r&&typeof r!="number"&&qwe(e,n,r)&&(n=r=void 0),e=Y1(e),n===void 0?(n=e,e=0):n=Y1(n),r=r===void 0?e<n?1:-1:Y1(r),Kwe(e,n,r,t)}}var Gwe=Hwe,Ywe=Gwe,Xwe=Ywe(),Qwe=Xwe;const y0=Nt(Qwe);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){e8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e8(t,e,n){return e=Jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Zwe(t,"string");return jm(e)=="symbol"?e:e+""}function Zwe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e_e=["Webkit","Moz","O","ms"],t_e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=e_e.reduce(function(a,s){return kD(kD({},a),{},e8({},s+r,n))},{});return i[e]=n,i};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n8(r.key),r)}}function r_e(t,e,n){return e&&OD(t.prototype,e),n&&OD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i_e(t,e,n){return e=x0(e),a_e(t,t8()?Reflect.construct(e,n||[],x0(t).constructor):e.apply(t,n))}function a_e(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_e(t)}function s_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(t)}function o_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iS(t,e)}function Ai(t,e,n){return e=n8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t){var e=l_e(t,"string");return sf(e)=="symbol"?e:e+""}function l_e(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=lp().domain(y0(0,c)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},ID=function(e){return e.changedTouches&&!!e.changedTouches.length},of=function(t){function e(n){var r;return n_e(this,e),r=i_e(this,e,[n]),Ai(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ai(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ai(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Ai(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ai(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ai(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ai(r,"handleSlideDragStart",function(i){var a=ID(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return o_e(e,t),r_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=Cn(a[r],o,r);return Xe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+d-f-o,u+d-f-s):y<0&&(y=Math.max(y,u-s,u-o));var b=this.getIndex({startX:s+y,endX:o+y});(b.startIndex!==h||b.endIndex!==p)&&v&&v(b),this.setState({startX:s+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=ID(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,y=d.gap,b=d.data,x={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,f+h-p-u):_<0&&(_=Math.max(_,f-u)),x[s]=u+_;var S=this.getIndex(x),C=S.startIndex,E=S.endIndex,P=function(){var A=b.length-1;return s==="startX"&&(o>c?C%y===0:E%y===0)||o<c&&E===A||s==="endX"&&(o>c?E%y===0:C%y===0)||o>c&&E===A};this.setState(Ai(Ai({},s,u+_),"brushMoveStartX",r.pageX),function(){v&&P()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Ai({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,c=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,c=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?q.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,y=c.startIndex,b=c.endIndex,x=Math.max(r,this.props.x),_=X1(X1({},Be(this.props,!1)),{},{x,y:u,width:d,height:f}),S=p||"Min value: ".concat((a=v[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[b])===null||s===void 0?void 0:s.name);return q.createElement(pt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return q.createElement(pt,{className:"recharts-brush-texts"},q.createElement(qc,v0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},v),this.getTextOfTick(i)),q.createElement(qc,v0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!je(o)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var S=lt("recharts-brush",a),C=q.Children.count(s)===1,E=t_e("userSelect","none");return q.createElement(pt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||x||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,c=r.stroke,u=Math.floor(a+o/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return q.isValidElement(r)?a=q.cloneElement(r,i):Xe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return X1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?c_e({data:a,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);r[c]>i?o=c:s=c}return i>=r[o]?o:s}}])}(N.PureComponent);Ai(of,"displayName","Brush");Ai(of,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var u_e=AP;function d_e(t,e){var n;return u_e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var f_e=d_e,h_e=W6,p_e=vs,m_e=f_e,g_e=yi,y_e=qx;function v_e(t,e,n){var r=g_e(t)?h_e:m_e;return n&&y_e(t,e,n)&&(e=void 0),r(t,p_e(e))}var x_e=v_e;const b_e=Nt(x_e);var ds=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},DD=fz;function w_e(t,e,n){e=="__proto__"&&DD?DD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var __e=w_e,S_e=__e,j_e=uz,A_e=vs;function P_e(t,e){var n={};return e=A_e(e),j_e(t,function(r,i,a){S_e(n,i,e(r,i,a))}),n}var E_e=P_e;const T_e=Nt(E_e);function C_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var k_e=C_e,N_e=AP;function O_e(t,e){var n=!0;return N_e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var I_e=O_e,D_e=k_e,M_e=I_e,R_e=vs,L_e=yi,$_e=qx;function z_e(t,e,n){var r=L_e(t)?D_e:M_e;return n&&$_e(t,e,n)&&(e=void 0),r(t,R_e(e))}var F_e=z_e;const r8=Nt(F_e);var V_e=["x","y"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){B_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B_e(t,e,n){return e=U_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U_e(t){var e=W_e(t,"string");return Am(e)=="symbol"?e:e+""}function W_e(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K_e(t,e){if(t==null)return{};var n=q_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H_e(t,e){var n=t.x,r=t.y,i=K_e(t,V_e),a="".concat(n),s=parseInt(a,10),o="".concat(r),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ph(Ph(Ph(Ph(Ph({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function RD(t){return q.createElement(XF,aS({shapeType:"rectangle",propTransformer:H_e,activeClassName:"recharts-active-bar"},t))}var G_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=je(r)||xre(r);return a?e(r,i):(a||Yc(),n)}},Y_e=["value","background"],i8;function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function X_e(t,e){if(t==null)return{};var n=Q_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s8(r.key),r)}}function Z_e(t,e,n){return e&&$D(t.prototype,e),n&&$D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e2e(t,e,n){return e=w0(e),t2e(t,a8()?Reflect.construct(e,n||[],w0(t).constructor):e.apply(t,n))}function t2e(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n2e(t)}function n2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a8=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w0(t)}function r2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function Zo(t,e,n){return e=s8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s8(t){var e=i2e(t,"string");return lf(e)=="symbol"?e:e+""}function i2e(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fn=function(t){function e(){var n;J_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e2e(this,e,[].concat(i)),Zo(n,"state",{isAnimationFinished:!1}),Zo(n,"id",cu("recharts-bar-")),Zo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Zo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return r2e(e,t),Z_e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Be(this.props,!1);return r&&r.map(function(f,h){var p=h===c,v=p?u:s,y=Rn(Rn(Rn({},d),f),{},{isActive:p,option:v,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(pt,b0({className:"recharts-bar-rectangle"},Kc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(RD,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return q.createElement(Ia,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,y=a.map(function(b,x){var _=h&&h[x];if(_){var S=Gn(_.x,b.x),C=Gn(_.y,b.y),E=Gn(_.width,b.width),P=Gn(_.height,b.height);return Rn(Rn({},b),{},{x:S(v),y:C(v),width:E(v),height:P(v)})}if(s==="horizontal"){var j=Gn(0,b.height),A=j(v);return Rn(Rn({},b),{},{y:b.y+b.height-A,height:A})}var O=Gn(0,b.width),D=O(v);return Rn(Rn({},b),{},{width:D})});return q.createElement(pt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Hc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=Be(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=X_e(u,Y_e);if(!f)return null;var p=Rn(Rn(Rn(Rn(Rn({},h),{},{fill:"#eee"},f),c),Kc(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(RD,b0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Di(d,lg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(b,x){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:Cn(b,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(pt,v,f.map(function(y){return q.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,v=r.background,y=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,x=lt("recharts-bar",s),_=o&&o.allowDataOverflow,S=c&&c.allowDataOverflow,C=_||S,E=tt(y)?this.id:y;return q.createElement(pt,{className:x},_||S?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:_?u:u-f/2,y:S?d:d-h/2,width:_?f:f*2,height:S?h:h*2}))):null,q.createElement(pt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!p||b)&&ta.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);i8=Fn;Zo(Fn,"displayName","Bar");Zo(Fn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zo(Fn,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Lve(r,n);if(!p)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?Rn(Rn({},y),n.props):n.props,x=b.dataKey,_=b.children,S=b.minPointSize,C=v==="horizontal"?s:a,E=u?C.scale.domain():null,P=Wve({numericAxis:C}),j=Di(_,Oa),A=f.map(function(O,D){var R,$,z,X,te,U;u?R=$ve(u[d+D],E):(R=Cn(O,x),Array.isArray(R)||(R=[P,R]));var K=G_e(S,i8.defaultProps.minPointSize)(R[1],D);if(v==="horizontal"){var V,Y=[s.scale(R[0]),s.scale(R[1])],oe=Y[0],ue=Y[1];$=EI({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:O,index:D}),z=(V=ue??oe)!==null&&V!==void 0?V:void 0,X=p.size;var ye=oe-ue;if(te=Number.isNaN(ye)?0:ye,U={x:$,y:s.y,width:X,height:s.height},Math.abs(K)>0&&Math.abs(te)<Math.abs(K)){var _e=Ur(te||K)*(Math.abs(K)-Math.abs(te));z-=_e,te+=_e}}else{var Ue=[a.scale(R[0]),a.scale(R[1])],He=Ue[0],nt=Ue[1];if($=He,z=EI({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:O,index:D}),X=nt-He,te=p.size,U={x:a.x,y:z,width:a.width,height:te},Math.abs(K)>0&&Math.abs(X)<Math.abs(K)){var bt=Ur(X||K)*(Math.abs(K)-Math.abs(X));X+=bt}}return Rn(Rn(Rn({},O),{},{x:$,y:z,width:X,height:te,value:u?R:R[1],payload:O,background:U},j&&j[D]&&j[D].props),{},{tooltipPayload:[TF(n,O)],tooltipPosition:{x:$+X/2,y:z+te/2}})});return Rn({data:A,layout:v},h)});function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function a2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o8(r.key),r)}}function s2e(t,e,n){return e&&zD(t.prototype,e),n&&zD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){cb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cb(t,e,n){return e=o8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o8(t){var e=o2e(t,"string");return Pm(e)=="symbol"?e:e+""}function o2e(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eE=function(e,n,r,i,a){var s=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Ei(u,Fn);return d.reduce(function(p,v){var y=n[v],b=y.orientation,x=y.domain,_=y.padding,S=_===void 0?{}:_,C=y.mirror,E=y.reversed,P="".concat(b).concat(C?"Mirror":""),j,A,O,D,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=x[1]-x[0],z=1/0,X=y.categoricalDomain.sort(_re);if(X.forEach(function(Ue,He){He>0&&(z=Math.min((Ue||0)-(X[He-1]||0),z))}),Number.isFinite(z)){var te=z/$,U=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(j=te*U/2),y.padding==="no-gap"){var K=Wr(e.barCategoryGap,te*U),V=te*U/2;j=V-K-(V-K)/U*K}}}i==="xAxis"?A=[r.left+(S.left||0)+(j||0),r.left+r.width-(S.right||0)-(j||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(j||0),r.top+r.height-(S.bottom||0)-(j||0)]:A=y.range,E&&(A=[A[1],A[0]]);var Y=jF(y,a,h),oe=Y.scale,ue=Y.realScaleType;oe.domain(x).range(A),AF(oe);var ye=PF(oe,_a(_a({},y),{},{realScaleType:ue}));i==="xAxis"?(R=b==="top"&&!C||b==="bottom"&&C,O=r.left,D=f[P]-R*y.height):i==="yAxis"&&(R=b==="left"&&!C||b==="right"&&C,O=f[P]-R*y.width,D=r.top);var _e=_a(_a(_a({},y),ye),{},{realScaleType:ue,x:O,y:D,scale:oe,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return _e.bandSize=a0(_e,ye),!y.hide&&i==="xAxis"?f[P]+=(R?-1:1)*_e.height:y.hide||(f[P]+=(R?-1:1)*_e.width),_a(_a({},p),{},cb({},v,_e))},{})},l8=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},l2e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return l8({x:n,y:r},{x:i,y:a})},c8=function(){function t(e){a2e(this,t),this.scale=e}return s2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();cb(c8,"EPS",1e-4);var tE=function(e){var n=Object.keys(e).reduce(function(r,i){return _a(_a({},r),{},cb({},i,c8.create(e[i])))},{});return _a(_a({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return T_e(i,function(c,u){return n[u].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return r8(i,function(a,s){return n[s].isInRange(a)})}})};function c2e(t){return(t%180+180)%180}var u2e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=c2e(i),s=a*Math.PI/180,o=Math.atan(r/n),c=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},d2e=vs,f2e=rg,h2e=Wx;function p2e(t){return function(e,n,r){var i=Object(e);if(!f2e(e)){var a=d2e(n);e=h2e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var m2e=p2e,g2e=ZF;function y2e(t){var e=g2e(t),n=e%1;return e===e?n?e-n:e:0}var v2e=y2e,x2e=iz,b2e=vs,w2e=v2e,_2e=Math.max;function S2e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:w2e(n);return i<0&&(i=_2e(r+i,0)),x2e(t,b2e(e),i)}var j2e=S2e,A2e=m2e,P2e=j2e,E2e=A2e(P2e),T2e=E2e;const C2e=Nt(T2e);var k2e=Ane(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nE=N.createContext(void 0),rE=N.createContext(void 0),u8=N.createContext(void 0),d8=N.createContext({}),f8=N.createContext(void 0),h8=N.createContext(0),p8=N.createContext(0),VD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,c=e.width,u=e.height,d=k2e(a);return q.createElement(nE.Provider,{value:r},q.createElement(rE.Provider,{value:i},q.createElement(d8.Provider,{value:a},q.createElement(u8.Provider,{value:d},q.createElement(f8.Provider,{value:s},q.createElement(h8.Provider,{value:u},q.createElement(p8.Provider,{value:c},o)))))))},N2e=function(){return N.useContext(f8)},m8=function(e){var n=N.useContext(nE);n==null&&Yc();var r=n[e];return r==null&&Yc(),r},O2e=function(){var e=N.useContext(nE);return Ho(e)},I2e=function(){var e=N.useContext(rE),n=C2e(e,function(r){return r8(r.domain,Number.isFinite)});return n||Ho(e)},g8=function(e){var n=N.useContext(rE);n==null&&Yc();var r=n[e];return r==null&&Yc(),r},D2e=function(){var e=N.useContext(u8);return e},M2e=function(){return N.useContext(d8)},iE=function(){return N.useContext(p8)},aE=function(){return N.useContext(h8)};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function R2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v8(r.key),r)}}function $2e(t,e,n){return e&&L2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2e(t,e,n){return e=_0(e),F2e(t,y8()?Reflect.construct(e,n||[],_0(t).constructor):e.apply(t,n))}function F2e(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V2e(t)}function V2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y8=function(){return!!t})()}function _0(t){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_0(t)}function B2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){sE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sE(t,e,n){return e=v8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v8(t){var e=U2e(t,"string");return cf(e)=="symbol"?e:e+""}function U2e(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W2e(t,e){return G2e(t)||H2e(t,e)||q2e(t,e)||K2e()}function K2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2e(t,e){if(t){if(typeof t=="string")return WD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WD(t,e)}}function WD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function G2e(t){if(Array.isArray(t))return t}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}var Y2e=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):Xe(e)?r=e(n):r=q.createElement("line",lS({},n,{className:"recharts-reference-line-line"})),r},X2e=function(e,n,r,i,a,s,o,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var v=u.y,y=e.y.apply(v,{position:s});if(ds(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+h,y},{x:d,y}];return c==="left"?b.reverse():b}if(n){var x=u.x,_=e.x.apply(x,{position:s});if(ds(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+p},{x:_,y:f}];return o==="top"?S.reverse():S}if(i){var C=u.segment,E=C.map(function(P){return e.apply(P,{position:s})});return ds(u,"discard")&&b_e(E,function(P){return!e.isInRange(P)})?null:E}return null};function Q2e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,c=t.alwaysShow,u=N2e(),d=m8(i),f=g8(a),h=D2e();if(!u||!h)return null;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tE({x:d.scale,y:f.scale}),v=Xn(e),y=Xn(n),b=r&&r.length===2,x=X2e(p,v,y,b,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var _=W2e(x,2),S=_[0],C=S.x,E=S.y,P=_[1],j=P.x,A=P.y,O=ds(t,"hidden")?"url(#".concat(u,")"):void 0,D=UD(UD({clipPath:O},Be(t,!0)),{},{x1:C,y1:E,x2:j,y2:A});return q.createElement(pt,{className:lt("recharts-reference-line",o)},Y2e(s,D),sr.renderCallByParent(t,l2e({x1:C,y1:E,x2:j,y2:A})))}var ub=function(t){function e(){return R2e(this,e),z2e(this,e,arguments)}return B2e(e,t),$2e(e,[{key:"render",value:function(){return q.createElement(Q2e,this.props)}}])}(q.Component);sE(ub,"displayName","ReferenceLine");sE(ub,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b8(r.key),r)}}function eSe(t,e,n){return e&&Z2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tSe(t,e,n){return e=S0(e),nSe(t,x8()?Reflect.construct(e,n||[],S0(t).constructor):e.apply(t,n))}function nSe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(t)}function rSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function iSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function db(t,e,n){return e=b8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b8(t){var e=aSe(t,"string");return uf(e)=="symbol"?e:e+""}function aSe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sSe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=tE({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return ds(e,"discard")&&!s.isInRange(o)?null:o},fb=function(t){function e(){return J2e(this,e),tSe(this,e,arguments)}return iSe(e,t),eSe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,c=r.clipPathId,u=Xn(i),d=Xn(a);if(Ta(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=sSe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,y=v.shape,b=v.className,x=ds(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=qD(qD({clipPath:x},Be(this.props,!0)),{},{cx:h,cy:p});return q.createElement(pt,{className:lt("recharts-reference-dot",b)},e.renderDot(y,_),sr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(q.Component);db(fb,"displayName","ReferenceDot");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});db(fb,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Xe(t)?n=t(e):n=q.createElement(cg,cS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_8(r.key),r)}}function cSe(t,e,n){return e&&lSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uSe(t,e,n){return e=j0(e),dSe(t,w8()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function dSe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fSe(t)}function fSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w8=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function hSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fS(t,e)}function hb(t,e,n){return e=_8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _8(t){var e=pSe(t,"string");return df(e)=="symbol"?e:e+""}function pSe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mSe=function(e,n,r,i,a){var s=a.x1,o=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=tE({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ds(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:l8(p,v)},pb=function(t){function e(){return oSe(this,e),uSe(this,e,arguments)}return hSe(e,t),cSe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Ta(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xn(i),h=Xn(a),p=Xn(s),v=Xn(o),y=this.props.shape;if(!f&&!h&&!p&&!v&&!y)return null;var b=mSe(f,h,p,v,this.props);if(!b&&!y)return null;var x=ds(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(pt,{className:lt("recharts-reference-area",c)},e.renderRect(y,GD(GD({clipPath:x},Be(this.props,!0)),b)),sr.renderCallByParent(this.props,b))}}])}(q.Component);hb(pb,"displayName","ReferenceArea");hb(pb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hb(pb,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Xe(t)?n=t(e):n=q.createElement(ZP,dS({},e,{className:"recharts-reference-area-rect"})),n});function S8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function gSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return u2e(r,n)}function ySe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function A0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function vSe(t,e){return S8(t,e+1)}function xSe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,c=0,u=1,d=s,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:S8(r,u)};var y=c,b,x=function(){return b===void 0&&(b=n(v,y)),b},_=v.coordinate,S=c===0||A0(t,_,x,d,o);S||(c=0,d=s,u+=1),S&&(d=_+t*(x()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){bSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e,n){return e=wSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wSe(t){var e=_Se(t,"string");return Em(e)=="symbol"?e:e+""}function _Se(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SSe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,c=e.end,u=function(h){var p=a[h],v,y=function(){return v===void 0&&(v=n(p,h)),v};if(h===s-1){var b=t*(p.coordinate+t*y()/2-c);a[h]=p=kr(kr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=kr(kr({},p),{},{tickCoord:p.coordinate});var x=A0(t,p.tickCoord,y,o,c);x&&(c=p.tickCoord-t*(y()/2+i),a[h]=kr(kr({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function jSe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,c=e.start,u=e.end;if(a){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=kr(kr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=A0(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),s[o-1]=kr(kr({},d),{},{isShow:!0}))}for(var v=a?o-1:o,y=function(_){var S=s[_],C,E=function(){return C===void 0&&(C=n(S,_)),C};if(_===0){var P=t*(S.coordinate-t*E()/2-c);s[_]=S=kr(kr({},S),{},{tickCoord:P<0?S.coordinate-P*t:S.coordinate})}else s[_]=S=kr(kr({},S),{},{tickCoord:S.coordinate});var j=A0(t,S.tickCoord,E,c,u);j&&(c=S.tickCoord+t*(E()/2+i),s[_]=kr(kr({},S),{},{isShow:!0}))},b=0;b<v;b++)y(b);return s}function oE(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(je(c)||Cl.isSsr)return vSe(i,typeof c=="number"&&je(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?op(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(S,C){var E=Xe(u)?u(S.value,C):S.value;return p==="width"?gSe(op(E,{fontSize:e,letterSpacing:n}),v,f):op(E,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?Ur(i[1].coordinate-i[0].coordinate):1,x=ySe(a,b,p);return c==="equidistantPreserveStart"?xSe(b,x,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=jSe(b,x,y,i,s,c==="preserveStartEnd"):h=SSe(b,x,y,i,s),h.filter(function(_){return _.isShow}))}var ASe=["viewBox"],PSe=["viewBox"],ESe=["ticks"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){lE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1(t,e){if(t==null)return{};var n=TSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function kSe(t,e,n){return e&&QD(t.prototype,e),n&&QD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NSe(t,e,n){return e=P0(e),OSe(t,j8()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function OSe(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ISe(t)}function ISe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function lE(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=MSe(t,"string");return ff(e)=="symbol"?e:e+""}function MSe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uf=function(t){function e(n){var r;return CSe(this,e),r=NSe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return DSe(e,t),kSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Q1(r,ASe),o=this.props,c=o.viewBox,u=Q1(o,PSe);return!wd(a,c)||!wd(s,u)||!wd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,y,b,x,_,S=f?-1:1,C=r.tickSize||d,E=je(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=v=r.coordinate,b=s+ +!f*c,y=b-S*C,_=y-S*h,x=E;break;case"left":y=b=r.coordinate,v=a+ +!f*o,p=v-S*C,x=p-S*h,_=E;break;case"right":y=b=r.coordinate,v=a+ +f*o,p=v+S*C,x=p+S*h,_=E;break;default:p=v=r.coordinate,b=s+ +f*c,y=b+S*C,_=y+S*h,x=E;break}return{line:{x1:p,y1:y,x2:v,y2:b},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Wn(Wn(Wn({},Be(this.props,!1)),Be(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Wn(Wn({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Wn(Wn({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return q.createElement("line",ud({},f,{className:lt("recharts-cartesian-axis-line",Ii(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=oE(Wn(Wn({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Be(this.props,!1),x=Be(d,!1),_=Wn(Wn({},b),{},{fill:"none"},Be(c,!1)),S=p.map(function(C,E){var P=s.getTickLineCoord(C),j=P.line,A=P.tick,O=Wn(Wn(Wn(Wn({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},x),A),{},{index:E,payload:C,visibleTicksCount:p.length,tickFormatter:f});return q.createElement(pt,ud({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Kc(s.props,C,E)),c&&q.createElement("line",ud({},_,j,{className:lt("recharts-cartesian-axis-tick-line",Ii(c,"className"))})),d&&e.renderTickItem(d,O,"".concat(Xe(f)?f(C.value,E):C.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=Q1(f,ESe),v=h;return Xe(c)&&(v=h&&h.length>0?c(this.props):c(p)),s<=0||o<=0||!v||!v.length?null:q.createElement(pt,{className:lt("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),sr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=lt(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?s=q.cloneElement(r,Wn(Wn({},i),{},{className:o})):Xe(r)?s=r(Wn(Wn({},i),{},{className:o})):s=q.createElement(qc,ud({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(N.Component);lE(Uf,"displayName","CartesianAxis");lE(Uf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RSe=["x1","y1","x2","y2","key"],LSe=["offset"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){$Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Se(t,e,n){return e=zSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zSe(t){var e=FSe(t,"string");return Xc(e)=="symbol"?e:e+""}function FSe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}function ZD(t,e){if(t==null)return{};var n=VSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var BSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,c=e.ry;return q.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function P8(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(Xe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,c=ZD(e,RSe),u=Be(c,!1);u.offset;var d=ZD(u,LSe);n=q.createElement("line",wc({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function USe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=Ir(Ir({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(c),index:c});return P8(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function WSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=Ir(Ir({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(c),index:c});return P8(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function KSe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?i+s-h:d[p+1]-h;if(y<=0)return null;var b=p%e.length;return q.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?a+o-h:d[p+1]-h;if(y<=0)return null;var b=p%r.length;return q.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var HSe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return SF(oE(Ir(Ir(Ir({},Uf.defaultProps),r),{},{ticks:Us(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},GSe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return SF(oE(Ir(Ir(Ir({},Uf.defaultProps),r),{},{ticks:Us(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Mu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ug(t){var e,n,r,i,a,s,o=iE(),c=aE(),u=M2e(),d=Ir(Ir({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Mu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Mu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Mu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Mu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Mu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Mu.verticalFill,x:je(t.x)?t.x:u.left,y:je(t.y)?t.y:u.top,width:je(t.width)?t.width:u.width,height:je(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,y=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,_=O2e(),S=I2e();if(!je(p)||p<=0||!je(v)||v<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||HSe,E=d.horizontalCoordinatesGenerator||GSe,P=d.horizontalPoints,j=d.verticalPoints;if((!P||!P.length)&&Xe(E)){var A=b&&b.length,O=E({yAxis:S?Ir(Ir({},S),{},{ticks:A?b:S.ticks}):void 0,width:o,height:c,offset:u},A?!0:y);Ta(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(O),"]")),Array.isArray(O)&&(P=O)}if((!j||!j.length)&&Xe(C)){var D=x&&x.length,R=C({xAxis:_?Ir(Ir({},_),{},{ticks:D?x:_.ticks}):void 0,width:o,height:c,offset:u},D?!0:y);Ta(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(R),"]")),Array.isArray(R)&&(j=R)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(BSe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(USe,wc({},d,{offset:u,horizontalPoints:P,xAxis:_,yAxis:S})),q.createElement(WSe,wc({},d,{offset:u,verticalPoints:j,xAxis:_,yAxis:S})),q.createElement(KSe,wc({},d,{horizontalPoints:P})),q.createElement(qSe,wc({},d,{verticalPoints:j})))}ug.displayName="CartesianGrid";var YSe=["type","layout","connectNulls","ref"],XSe=["key"];function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function eM(t,e){if(t==null)return{};var n=QSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Sa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ru(t){return tje(t)||eje(t)||ZSe(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZSe(t,e){if(t){if(typeof t=="string")return pS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(t,e)}}function eje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tje(t){if(Array.isArray(t))return pS(t)}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T8(r.key),r)}}function rje(t,e,n){return e&&nM(t.prototype,e),n&&nM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ije(t,e,n){return e=E0(e),aje(t,E8()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function aje(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(t)}function sje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function oje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mS(t,e)}function Sa(t,e,n){return e=T8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T8(t){var e=lje(t,"string");return hf(e)=="symbol"?e:e+""}function lje(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qc=function(t){function e(){var n;nje(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ije(this,e,[].concat(i)),Sa(n,"state",{isAnimationFinished:!0,totalLength:0}),Sa(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Sa(n,"getStrokeDasharray",function(s,o,c){var u=c.reduce(function(x,_){return x+_});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>f){p=[].concat(Ru(c.slice(0,v)),[f-y]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Ru(e.repeat(c,d)),Ru(p),b).map(function(x){return"".concat(x,"px")}).join(", ")}),Sa(n,"id",cu("recharts-line-")),Sa(n,"pathRef",function(s){n.mainCurve=s}),Sa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Sa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return oje(e,t),rje(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Di(d,lg);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Cn(y.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(pt,p,f.map(function(v){return q.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,f=Be(this.props,!1),h=Be(c,!0),p=u.map(function(y,b){var x=ji(ji(ji({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(c,x)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(pt,hp({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=eM(o,YSe),h=ji(ji(ji({},Be(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:u,connectNulls:d});return q.createElement(Nc,hp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,v=s.animateNewValues,y=s.width,b=s.height,x=this.state,_=x.prevPoints,S=x.totalLength;return q.createElement(Ia,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(_){var P=_.length/o.length,j=o.map(function($,z){var X=Math.floor(z*P);if(_[X]){var te=_[X],U=Gn(te.x,$.x),K=Gn(te.y,$.y);return ji(ji({},$),{},{x:U(E),y:K(E)})}if(v){var V=Gn(y*2,$.x),Y=Gn(b/2,$.y);return ji(ji({},$),{},{x:V(E),y:Y(E)})}return ji(ji({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(j,r,i)}var A=Gn(0,S),O=A(E),D;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});D=a.getStrokeDasharray(O,S,R)}else D=a.generateSimpleStrokeDasharray(S,O);return a.renderCurveStatically(o,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&s&&s.length&&(!u&&d>0||!Hc(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=o.length===1,S=lt("recharts-line",c),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,P=C||E,j=tt(b)?this.id:b,A=(r=Be(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=A.r,D=O===void 0?3:O,R=A.strokeWidth,$=R===void 0?2:R,z=m6(s)?s:{},X=z.clipDot,te=X===void 0?!0:X,U=D*2+$;return q.createElement(pt,{className:S},C||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(j)},q.createElement("rect",{x:C?h:h-p/2,y:E?f:f-v/2,width:C?p:p*2,height:E?v:v*2})),!te&&q.createElement("clipPath",{id:"clipPath-dots-".concat(j)},q.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:v+U}))):null,!_&&this.renderCurve(P,j),this.renderErrorBar(P,j),(_||s)&&this.renderDots(P,te,j),(!y||x)&&ta.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ru(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Ru(s),Ru(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(q.isValidElement(r))a=q.cloneElement(r,i);else if(Xe(r))a=r(i);else{var s=i.key,o=eM(i,XSe),c=lt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=q.createElement(cg,hp({key:s},o,{className:c}))}return a}}])}(N.PureComponent);Sa(Qc,"displayName","Line");Sa(Qc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Sa(Qc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var v=Cn(h,s);return d==="horizontal"?{x:i0({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:tt(v)?null:r.scale(v),value:v,payload:h}:{x:tt(v)?null:n.scale(v),y:i0({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:v,payload:h}});return ji({points:f,layout:d},u)});var cje=["layout","type","stroke","connectNulls","isRange","ref"],uje=["key"],C8;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function k8(t,e){if(t==null)return{};var n=dje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){ns(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O8(r.key),r)}}function hje(t,e,n){return e&&iM(t.prototype,e),n&&iM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pje(t,e,n){return e=T0(e),mje(t,N8()?Reflect.construct(e,n||[],T0(t).constructor):e.apply(t,n))}function mje(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gje(t)}function gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T0(t)}function yje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function ns(t,e,n){return e=O8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O8(t){var e=vje(t,"string");return pf(e)=="symbol"?e:e+""}function vje(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Il=function(t){function e(){var n;fje(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pje(this,e,[].concat(i)),ns(n,"state",{isAnimationFinished:!0}),ns(n,"id",cu("recharts-area-")),ns(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(s)&&s()}),ns(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(s)&&s()}),n}return yje(e,t),hje(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Be(this.props,!1),p=Be(u,!0),v=d.map(function(b,x){var _=Vo(Vo(Vo({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:d});return e.renderDotItem(u,_)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(pt,_c({className:"recharts-area-dots"},y),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=r*Math.abs(c-u),f=Jo(s.map(function(h){return h.y||0}));return je(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Jo(a.map(function(h){return h.y||0})),f)),je(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=r*Math.abs(c-u),f=Jo(s.map(function(h){return h.x||0}));return je(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Jo(a.map(function(h){return h.x||0})),f)),je(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=k8(o,cje);return q.createElement(pt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},q.createElement(Nc,_c({},Be(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement(Nc,_c({},Be(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&q.createElement(Nc,_c({},Be(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,v=this.state,y=v.prevPoints,b=v.prevBaseLine;return q.createElement(Ia,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t;if(y){var S=y.length/o.length,C=o.map(function(A,O){var D=Math.floor(O*S);if(y[D]){var R=y[D],$=Gn(R.x,A.x),z=Gn(R.y,A.y);return Vo(Vo({},A),{},{x:$(_),y:z(_)})}return A}),E;if(je(c)&&typeof c=="number"){var P=Gn(b,c);E=P(_)}else if(tt(c)||Rf(c)){var j=Gn(b,0);E=j(_)}else E=c.map(function(A,O){var D=Math.floor(O*S);if(b[D]){var R=b[D],$=Gn(R.x,A.x),z=Gn(R.y,A.y);return Vo(Vo({},A),{},{x:$(_),y:z(_)})}return A});return a.renderAreaStatically(C,E,r,i)}return q.createElement(pt,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(_))),q.createElement(pt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!Hc(d,s)||!Hc(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=o.length===1,S=lt("recharts-area",c),C=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,P=C||E,j=tt(b)?this.id:b,A=(r=Be(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=A.r,D=O===void 0?3:O,R=A.strokeWidth,$=R===void 0?2:R,z=m6(s)?s:{},X=z.clipDot,te=X===void 0?!0:X,U=D*2+$;return q.createElement(pt,{className:S},C||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(j)},q.createElement("rect",{x:C?d:d-p/2,y:E?u:u-v/2,width:C?p:p*2,height:E?v:v*2})),!te&&q.createElement("clipPath",{id:"clipPath-dots-".concat(j)},q.createElement("rect",{x:d-U/2,y:u-U/2,width:p+U,height:v+U}))):null,_?null:this.renderArea(P,j),(s||_)&&this.renderDots(P,te,j),(!y||x)&&ta.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(N.PureComponent);C8=Il;ns(Il,"displayName","Area");ns(Il,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Cl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ns(Il,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(je(o)&&typeof o=="number")return o;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});ns(Il,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,v=u&&u.length,y=C8.getBaseValue(e,n,r,i),b=p==="horizontal",x=!1,_=f.map(function(C,E){var P;v?P=u[d+E]:(P=Cn(C,c),Array.isArray(P)?x=!0:P=[y,P]);var j=P[1]==null||v&&Cn(C,c)==null;return b?{x:i0({axis:r,ticks:a,bandSize:o,entry:C,index:E}),y:j?null:i.scale(P[1]),value:P,payload:C}:{x:j?null:r.scale(P[1]),y:i0({axis:i,ticks:s,bandSize:o,entry:C,index:E}),value:P,payload:C}}),S;return v||x?S=_.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return b?{x:C.x,y:E!=null&&C.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:C.y}}):S=b?i.scale(y):r.scale(y),Vo({points:_,baseLine:S,layout:p,isRange:x},h)});ns(Il,"renderDotItem",function(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(Xe(t))n=t(e);else{var r=lt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=k8(e,uje);n=q.createElement(cg,_c({},a,{key:i,className:r}))}return n});function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function xje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M8(r.key),r)}}function wje(t,e,n){return e&&bje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _je(t,e,n){return e=C0(e),Sje(t,I8()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function Sje(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(t)}function jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function Aje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yS(t,e)}function D8(t,e,n){return e=M8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M8(t){var e=Pje(t,"string");return mf(e)=="symbol"?e:e+""}function Pje(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(this,arguments)}function Eje(t){var e=t.xAxisId,n=iE(),r=aE(),i=m8(e);return i==null?null:N.createElement(Uf,vS({},i,{className:lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Us(s,!0)}}))}var Sn=function(t){function e(){return xje(this,e),_je(this,e,arguments)}return Aje(e,t),wje(e,[{key:"render",value:function(){return N.createElement(Eje,this.props)}}])}(N.Component);D8(Sn,"displayName","XAxis");D8(Sn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function Tje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$8(r.key),r)}}function kje(t,e,n){return e&&Cje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nje(t,e,n){return e=k0(e),Oje(t,R8()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function Oje(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ije(t)}function Ije(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function Dje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function L8(t,e,n){return e=$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8(t){var e=Mje(t,"string");return gf(e)=="symbol"?e:e+""}function Mje(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bS.apply(this,arguments)}var Rje=function(e){var n=e.yAxisId,r=iE(),i=aE(),a=g8(n);return a==null?null:N.createElement(Uf,bS({},a,{className:lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Us(o,!0)}}))},kn=function(t){function e(){return Tje(this,e),Nje(this,e,arguments)}return Dje(e,t),kje(e,[{key:"render",value:function(){return N.createElement(Rje,this.props)}}])}(N.Component);L8(kn,"displayName","YAxis");L8(kn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aM(t){return Fje(t)||zje(t)||$je(t)||Lje()}function Lje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(t,e){if(t){if(typeof t=="string")return wS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(t,e)}}function zje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fje(t){if(Array.isArray(t))return wS(t)}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _S=function(e,n,r,i,a){var s=Di(e,ub),o=Di(e,fb),c=[].concat(aM(s),aM(o)),u=Di(e,pb),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(y,b){if(b.props[d]===r&&ds(b.props,"extendDomain")&&je(b.props[f])){var x=b.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[d]===r&&ds(b.props,"extendDomain")&&je(b.props[p])&&je(b.props[v])){var x=b.props[p],_=b.props[v];return[Math.min(y[0],x,_),Math.max(y[1],x,_)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,b){return je(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},z8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),x){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,f);break;case 4:b[S].fn.call(b[S].context,d,f,h);break;default:if(!_)for(E=1,_=new Array(x-1);E<x;E++)_[E-1]=arguments[E];b[S].fn.apply(b[S].context,_)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var y=0,b=[],x=v.length;y<x;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&b.push(v[y]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(z8);var Vje=z8.exports;const Bje=Nt(Vje);var J1=new Bje,Z1="recharts.syncMouseEvents";function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function Uje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F8(r.key),r)}}function Kje(t,e,n){return e&&Wje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ew(t,e,n){return e=F8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8(t){var e=qje(t,"string");return Tm(e)=="symbol"?e:e+""}function qje(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hje=function(){function t(){Uje(this,t),ew(this,"activeIndex",0),ew(this,"coordinateList",[]),ew(this,"layout","horizontal")}return Kje(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Gje(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&je(r)&&je(i))return!0}return!1}function Yje(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Yt(e,n,r,i),o=Yt(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Xje(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Yt(o,c,u,f),p=Yt(o,c,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return V8(e);return[{x:r,y:i},{x:a,y:s}]}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Qje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qje(t,e,n){return e=Jje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jje(t){var e=Zje(t,"string");return Cm(e)=="symbol"?e:e+""}function Zje(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eAe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Nc;if(h==="ScatterChart")v=s,y=l1e;else if(h==="BarChart")v=Yje(f,s,c,d),y=ZP;else if(f==="radial"){var b=V8(s),x=b.cx,_=b.cy,S=b.radius,C=b.startAngle,E=b.endAngle;v={cx:x,cy:_,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},y=DF}else v={points:Xje(f,s,c)},y=Nc;var P=sy(sy(sy(sy({stroke:"#ccc",pointerEvents:"none"},c),v),Be(p,!1)),{},{payload:o,payloadIndex:u,className:lt("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,P):N.createElement(y,P)}var tAe=["item"],nAe=["children","className","width","height","style","compact","title","desc"];function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function oM(t,e){return aAe(t)||iAe(t,e)||U8(t,e)||rAe()}function rAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function aAe(t){if(Array.isArray(t))return t}function lM(t,e){if(t==null)return{};var n=sAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W8(r.key),r)}}function cAe(t,e,n){return e&&lAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uAe(t,e,n){return e=N0(e),dAe(t,B8()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function dAe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fAe(t)}function fAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function hAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function vf(t){return gAe(t)||mAe(t)||U8(t)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function mAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gAe(t){if(Array.isArray(t))return jS(t)}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ge(t,e,n){return e=W8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W8(t){var e=yAe(t,"string");return yf(e)=="symbol"?e:e+""}function yAe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vAe={xAxis:["bottom","top"],yAxis:["left","right"]},xAe={width:"100%",height:"100%"},K8={x:0,y:0};function oy(t){return t}var bAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},wAe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ge(ge(ge({},i),Yt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,u=i.angle;return ge(ge(ge({},i),Yt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return K8},mb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(vf(o),vf(u)):o},[]);return s.length>0?s:e&&e.length&&je(i)&&je(a)?e.slice(i,a+1):[]};function q8(t){return t==="number"?[0,"auto"]:void 0}var AS=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=mb(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=kv(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(vf(c),[TF(u,h)]):c},[])},uM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=bAe(a,r),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Nve(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=AS(e,n,d,f),p=wAe(r,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},_Ae=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=_F(d,a);return r.reduce(function(v,y){var b,x=y.type.defaultProps!==void 0?ge(ge({},y.type.defaultProps),y.props):y.props,_=x.type,S=x.dataKey,C=x.allowDataOverflow,E=x.allowDuplicatedCategory,P=x.scale,j=x.ticks,A=x.includeHidden,O=x[s];if(v[O])return v;var D=mb(e.data,{graphicalItems:i.filter(function(ye){var _e,Ue=s in ye.props?ye.props[s]:(_e=ye.type.defaultProps)===null||_e===void 0?void 0:_e[s];return Ue===O}),dataStartIndex:c,dataEndIndex:u}),R=D.length,$,z,X;Gje(x.domain,C,_)&&($=$2(x.domain,null,C),p&&(_==="number"||P!=="auto")&&(X=cp(D,S,"category")));var te=q8(_);if(!$||$.length===0){var U,K=(U=x.domain)!==null&&U!==void 0?U:te;if(S){if($=cp(D,S,_),_==="category"&&p){var V=wre($);E&&V?(z=$,$=y0(0,R)):E||($=kI(K,$,y).reduce(function(ye,_e){return ye.indexOf(_e)>=0?ye:[].concat(vf(ye),[_e])},[]))}else if(_==="category")E?$=$.filter(function(ye){return ye!==""&&!tt(ye)}):$=kI(K,$,y).reduce(function(ye,_e){return ye.indexOf(_e)>=0||_e===""||tt(_e)?ye:[].concat(vf(ye),[_e])},[]);else if(_==="number"){var Y=Rve(D,i.filter(function(ye){var _e,Ue,He=s in ye.props?ye.props[s]:(_e=ye.type.defaultProps)===null||_e===void 0?void 0:_e[s],nt="hide"in ye.props?ye.props.hide:(Ue=ye.type.defaultProps)===null||Ue===void 0?void 0:Ue.hide;return He===O&&(A||!nt)}),S,a,d);Y&&($=Y)}p&&(_==="number"||P!=="auto")&&(X=cp(D,S,"category"))}else p?$=y0(0,R):o&&o[O]&&o[O].hasStack&&_==="number"?$=h==="expand"?[0,1]:EF(o[O].stackGroups,c,u):$=wF(D,i.filter(function(ye){var _e=s in ye.props?ye.props[s]:ye.type.defaultProps[s],Ue="hide"in ye.props?ye.props.hide:ye.type.defaultProps.hide;return _e===O&&(A||!Ue)}),_,d,!0);if(_==="number")$=_S(f,$,O,a,j),K&&($=$2(K,$,C));else if(_==="category"&&K){var oe=K,ue=$.every(function(ye){return oe.indexOf(ye)>=0});ue&&($=oe)}}return ge(ge({},v),{},Ge({},O,ge(ge({},x),{},{axisType:a,domain:$,categoricalDomain:X,duplicateDomain:z,originalDomain:(b=x.domain)!==null&&b!==void 0?b:te,isCategorical:p,layout:d})))},{})},SAe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=mb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=_F(d,a),y=-1;return r.reduce(function(b,x){var _=x.type.defaultProps!==void 0?ge(ge({},x.type.defaultProps),x.props):x.props,S=_[s],C=q8("number");if(!b[S]){y++;var E;return v?E=y0(0,p):o&&o[S]&&o[S].hasStack?(E=EF(o[S].stackGroups,c,u),E=_S(f,E,S,a)):(E=$2(C,wF(h,r.filter(function(P){var j,A,O=s in P.props?P.props[s]:(j=P.type.defaultProps)===null||j===void 0?void 0:j[s],D="hide"in P.props?P.props.hide:(A=P.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===S&&!D}),"number",d),i.defaultProps.allowDataOverflow),E=_S(f,E,S,a)),ge(ge({},b),{},Ge({},S,ge(ge({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ii(vAe,"".concat(a,".").concat(y%2),null),domain:E,originalDomain:C,isCategorical:v,layout:d})))}return b},{})},jAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Di(d,a),p={};return h&&h.length?p=_Ae(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=SAe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},AAe=function(e){var n=Ho(e),r=Us(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:PP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:a0(n,r)}},dM=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ei(n,of),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},PAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},fM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EAe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,c=o===void 0?{}:o,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Ei(f,of),v=Ei(f,Ca),y=Object.keys(c).reduce(function(E,P){var j=c[P],A=j.orientation;return!j.mirror&&!j.hide?ge(ge({},E),{},Ge({},A,E[A]+j.width)):E},{left:h.left||0,right:h.right||0}),b=Object.keys(s).reduce(function(E,P){var j=s[P],A=j.orientation;return!j.mirror&&!j.hide?ge(ge({},E),{},Ge({},A,Ii(E,"".concat(A))+j.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=ge(ge({},b),y),_=x.bottom;p&&(x.bottom+=p.props.height||of.defaultProps.height),v&&n&&(x=Dve(x,i,r,n));var S=u-x.left-x.right,C=d-x.top-x.bottom;return ge(ge({brushBottom:_},x),{},{width:Math.max(S,0),height:Math.max(C,0)})},TAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},gb=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,_){var S=_.graphicalItems,C=_.stackGroups,E=_.offset,P=_.updateId,j=_.dataStartIndex,A=_.dataEndIndex,O=x.barSize,D=x.layout,R=x.barGap,$=x.barCategoryGap,z=x.maxBarSize,X=fM(D),te=X.numericAxisName,U=X.cateAxisName,K=PAe(S),V=[];return S.forEach(function(Y,oe){var ue=mb(x.data,{graphicalItems:[Y],dataStartIndex:j,dataEndIndex:A}),ye=Y.type.defaultProps!==void 0?ge(ge({},Y.type.defaultProps),Y.props):Y.props,_e=ye.dataKey,Ue=ye.maxBarSize,He=ye["".concat(te,"Id")],nt=ye["".concat(U,"Id")],bt={},Ut=c.reduce(function(dn,Zr){var Lr=_["".concat(Zr.axisType,"Map")],la=ye["".concat(Zr.axisType,"Id")];Lr&&Lr[la]||Zr.axisType==="zAxis"||Yc();var xi=Lr[la];return ge(ge({},dn),{},Ge(Ge({},Zr.axisType,xi),"".concat(Zr.axisType,"Ticks"),Us(xi)))},bt),Z=Ut[U],Pe=Ut["".concat(U,"Ticks")],ve=C&&C[He]&&C[He].hasStack&&Kve(Y,C[He].stackGroups),de=Hs(Y.type).indexOf("Bar")>=0,ft=a0(Z,Pe),Ze=[],Ne=K&&Ove({barSize:O,stackGroups:C,totalSize:TAe(Ut,U)});if(de){var Qe,vn,Qr=tt(Ue)?z:Ue,vi=(Qe=(vn=a0(Z,Pe,!0))!==null&&vn!==void 0?vn:Qr)!==null&&Qe!==void 0?Qe:0;Ze=Ive({barGap:R,barCategoryGap:$,bandSize:vi!==ft?vi:ft,sizeList:Ne[nt],maxBarSize:Qr}),vi!==ft&&(Ze=Ze.map(function(dn){return ge(ge({},dn),{},{position:ge(ge({},dn.position),{},{offset:dn.position.offset-vi/2})})}))}var Jr=Y&&Y.type&&Y.type.getComposedData;Jr&&V.push({props:ge(ge({},Jr(ge(ge({},Ut),{},{displayedData:ue,props:x,dataKey:_e,item:Y,bandSize:ft,barPosition:Ze,offset:E,stackedData:ve,layout:D,dataStartIndex:j,dataEndIndex:A}))),{},Ge(Ge(Ge({key:Y.key||"item-".concat(oe)},te,Ut[te]),U,Ut[U]),"animationId",P)),childIndex:Ire(Y,x.children),item:Y})}),V},p=function(x,_){var S=x.props,C=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!jN({props:S}))return null;var j=S.children,A=S.layout,O=S.stackOffset,D=S.data,R=S.reverseStackOrder,$=fM(A),z=$.numericAxisName,X=$.cateAxisName,te=Di(j,r),U=Uve(D,te,"".concat(z,"Id"),"".concat(X,"Id"),O,R),K=c.reduce(function(ye,_e){var Ue="".concat(_e.axisType,"Map");return ge(ge({},ye),{},Ge({},Ue,jAe(S,ge(ge({},_e),{},{graphicalItems:te,stackGroups:_e.axisType===z&&U,dataStartIndex:C,dataEndIndex:E}))))},{}),V=EAe(ge(ge({},K),{},{props:S,graphicalItems:te}),_==null?void 0:_.legendBBox);Object.keys(K).forEach(function(ye){K[ye]=d(S,K[ye],V,ye.replace("Map",""),n)});var Y=K["".concat(X,"Map")],oe=AAe(Y),ue=h(S,ge(ge({},K),{},{dataStartIndex:C,dataEndIndex:E,updateId:P,graphicalItems:te,stackGroups:U,offset:V}));return ge(ge({formattedGraphicalItems:ue,graphicalItems:te,offset:V,stackGroups:U},oe),K)},v=function(b){function x(_){var S,C,E;return oAe(this,x),E=uAe(this,x,[_]),Ge(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(E,"accessibilityManager",new Hje),Ge(E,"handleLegendBBoxUpdate",function(P){if(P){var j=E.state,A=j.dataStartIndex,O=j.dataEndIndex,D=j.updateId;E.setState(ge({legendBBox:P},p({props:E.props,dataStartIndex:A,dataEndIndex:O,updateId:D},ge(ge({},E.state),{},{legendBBox:P}))))}}),Ge(E,"handleReceiveSyncEvent",function(P,j,A){if(E.props.syncId===P){if(A===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(j)}}),Ge(E,"handleBrushChange",function(P){var j=P.startIndex,A=P.endIndex;if(j!==E.state.dataStartIndex||A!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return ge({dataStartIndex:j,dataEndIndex:A},p({props:E.props,dataStartIndex:j,dataEndIndex:A,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:j,dataEndIndex:A})}}),Ge(E,"handleMouseEnter",function(P){var j=E.getMouseInfo(P);if(j){var A=ge(ge({},j),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var O=E.props.onMouseEnter;Xe(O)&&O(A,P)}}),Ge(E,"triggeredAfterMouseMove",function(P){var j=E.getMouseInfo(P),A=j?ge(ge({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var O=E.props.onMouseMove;Xe(O)&&O(A,P)}),Ge(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ge(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ge(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Ge(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};E.setState(j),E.triggerSyncEvent(j);var A=E.props.onMouseLeave;Xe(A)&&A(j,P)}),Ge(E,"handleOuterEvent",function(P){var j=Ore(P),A=Ii(E.props,"".concat(j));if(j&&Xe(A)){var O,D;/.*touch.*/i.test(j)?D=E.getMouseInfo(P.changedTouches[0]):D=E.getMouseInfo(P),A((O=D)!==null&&O!==void 0?O:{},P)}}),Ge(E,"handleClick",function(P){var j=E.getMouseInfo(P);if(j){var A=ge(ge({},j),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var O=E.props.onClick;Xe(O)&&O(A,P)}}),Ge(E,"handleMouseDown",function(P){var j=E.props.onMouseDown;if(Xe(j)){var A=E.getMouseInfo(P);j(A,P)}}),Ge(E,"handleMouseUp",function(P){var j=E.props.onMouseUp;if(Xe(j)){var A=E.getMouseInfo(P);j(A,P)}}),Ge(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ge(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Ge(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Ge(E,"handleDoubleClick",function(P){var j=E.props.onDoubleClick;if(Xe(j)){var A=E.getMouseInfo(P);j(A,P)}}),Ge(E,"handleContextMenu",function(P){var j=E.props.onContextMenu;if(Xe(j)){var A=E.getMouseInfo(P);j(A,P)}}),Ge(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&J1.emit(Z1,E.props.syncId,P,E.eventEmitterSymbol)}),Ge(E,"applySyncEvent",function(P){var j=E.props,A=j.layout,O=j.syncMethod,D=E.state.updateId,R=P.dataStartIndex,$=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(ge({dataStartIndex:R,dataEndIndex:$},p({props:E.props,dataStartIndex:R,dataEndIndex:$,updateId:D},E.state)));else if(P.activeTooltipIndex!==void 0){var z=P.chartX,X=P.chartY,te=P.activeTooltipIndex,U=E.state,K=U.offset,V=U.tooltipTicks;if(!K)return;if(typeof O=="function")te=O(V,P);else if(O==="value"){te=-1;for(var Y=0;Y<V.length;Y++)if(V[Y].value===P.activeLabel){te=Y;break}}var oe=ge(ge({},K),{},{x:K.left,y:K.top}),ue=Math.min(z,oe.x+oe.width),ye=Math.min(X,oe.y+oe.height),_e=V[te]&&V[te].value,Ue=AS(E.state,E.props.data,te),He=V[te]?{x:A==="horizontal"?V[te].coordinate:ue,y:A==="horizontal"?ye:V[te].coordinate}:K8;E.setState(ge(ge({},P),{},{activeLabel:_e,activeCoordinate:He,activePayload:Ue,activeTooltipIndex:te}))}else E.setState(P)}),Ge(E,"renderCursor",function(P){var j,A=E.state,O=A.isTooltipActive,D=A.activeCoordinate,R=A.activePayload,$=A.offset,z=A.activeTooltipIndex,X=A.tooltipAxisBandSize,te=E.getTooltipEventType(),U=(j=P.props.active)!==null&&j!==void 0?j:O,K=E.props.layout,V=P.key||"_recharts-cursor";return q.createElement(eAe,{key:V,activeCoordinate:D,activePayload:R,activeTooltipIndex:z,chartName:n,element:P,isActive:U,layout:K,offset:$,tooltipAxisBandSize:X,tooltipEventType:te})}),Ge(E,"renderPolarAxis",function(P,j,A){var O=Ii(P,"type.axisType"),D=Ii(E.state,"".concat(O,"Map")),R=P.type.defaultProps,$=R!==void 0?ge(ge({},R),P.props):P.props,z=D&&D[$["".concat(O,"Id")]];return N.cloneElement(P,ge(ge({},z),{},{className:lt(O,z.className),key:P.key||"".concat(j,"-").concat(A),ticks:Us(z,!0)}))}),Ge(E,"renderPolarGrid",function(P){var j=P.props,A=j.radialLines,O=j.polarAngles,D=j.polarRadius,R=E.state,$=R.radiusAxisMap,z=R.angleAxisMap,X=Ho($),te=Ho(z),U=te.cx,K=te.cy,V=te.innerRadius,Y=te.outerRadius;return N.cloneElement(P,{polarAngles:Array.isArray(O)?O:Us(te,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(D)?D:Us(X,!0).map(function(oe){return oe.coordinate}),cx:U,cy:K,innerRadius:V,outerRadius:Y,key:P.key||"polar-grid",radialLines:A})}),Ge(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,j=E.props,A=j.children,O=j.width,D=j.height,R=E.props.margin||{},$=O-(R.left||0)-(R.right||0),z=xF({children:A,formattedGraphicalItems:P,legendWidth:$,legendContent:u});if(!z)return null;var X=z.item,te=lM(z,tAe);return N.cloneElement(X,ge(ge({},te),{},{chartWidth:O,chartHeight:D,margin:R,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ge(E,"renderTooltip",function(){var P,j=E.props,A=j.children,O=j.accessibilityLayer,D=Ei(A,Dt);if(!D)return null;var R=E.state,$=R.isTooltipActive,z=R.activeCoordinate,X=R.activePayload,te=R.activeLabel,U=R.offset,K=(P=D.props.active)!==null&&P!==void 0?P:$;return N.cloneElement(D,{viewBox:ge(ge({},U),{},{x:U.left,y:U.top}),active:K,label:te,payload:K?X:[],coordinate:z,accessibilityLayer:O})}),Ge(E,"renderBrush",function(P){var j=E.props,A=j.margin,O=j.data,D=E.state,R=D.offset,$=D.dataStartIndex,z=D.dataEndIndex,X=D.updateId;return N.cloneElement(P,{key:P.key||"_recharts-brush",onChange:ny(E.handleBrushChange,P.props.onChange),data:O,x:je(P.props.x)?P.props.x:R.left,y:je(P.props.y)?P.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:je(P.props.width)?P.props.width:R.width,startIndex:$,endIndex:z,updateId:"brush-".concat(X)})}),Ge(E,"renderReferenceElement",function(P,j,A){if(!P)return null;var O=E,D=O.clipPathId,R=E.state,$=R.xAxisMap,z=R.yAxisMap,X=R.offset,te=P.type.defaultProps||{},U=P.props,K=U.xAxisId,V=K===void 0?te.xAxisId:K,Y=U.yAxisId,oe=Y===void 0?te.yAxisId:Y;return N.cloneElement(P,{key:P.key||"".concat(j,"-").concat(A),xAxis:$[V],yAxis:z[oe],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:D})}),Ge(E,"renderActivePoints",function(P){var j=P.item,A=P.activePoint,O=P.basePoint,D=P.childIndex,R=P.isRange,$=[],z=j.props.key,X=j.item.type.defaultProps!==void 0?ge(ge({},j.item.type.defaultProps),j.item.props):j.item.props,te=X.activeDot,U=X.dataKey,K=ge(ge({index:D,dataKey:U,cx:A.x,cy:A.y,r:4,fill:JP(j.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Be(te,!1)),Nv(te));return $.push(x.renderActiveDot(te,K,"".concat(z,"-activePoint-").concat(D))),O?$.push(x.renderActiveDot(te,ge(ge({},K),{},{cx:O.x,cy:O.y}),"".concat(z,"-basePoint-").concat(D))):R&&$.push(null),$}),Ge(E,"renderGraphicChild",function(P,j,A){var O=E.filterFormatItem(P,j,A);if(!O)return null;var D=E.getTooltipEventType(),R=E.state,$=R.isTooltipActive,z=R.tooltipAxis,X=R.activeTooltipIndex,te=R.activeLabel,U=E.props.children,K=Ei(U,Dt),V=O.props,Y=V.points,oe=V.isRange,ue=V.baseLine,ye=O.item.type.defaultProps!==void 0?ge(ge({},O.item.type.defaultProps),O.item.props):O.item.props,_e=ye.activeDot,Ue=ye.hide,He=ye.activeBar,nt=ye.activeShape,bt=!!(!Ue&&$&&K&&(_e||He||nt)),Ut={};D!=="axis"&&K&&K.props.trigger==="click"?Ut={onClick:ny(E.handleItemMouseEnter,P.props.onClick)}:D!=="axis"&&(Ut={onMouseLeave:ny(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:ny(E.handleItemMouseEnter,P.props.onMouseEnter)});var Z=N.cloneElement(P,ge(ge({},O.props),Ut));function Pe(Zr){return typeof z.dataKey=="function"?z.dataKey(Zr.payload):null}if(bt)if(X>=0){var ve,de;if(z.dataKey&&!z.allowDuplicatedCategory){var ft=typeof z.dataKey=="function"?Pe:"payload.".concat(z.dataKey.toString());ve=kv(Y,ft,te),de=oe&&ue&&kv(ue,ft,te)}else ve=Y==null?void 0:Y[X],de=oe&&ue&&ue[X];if(nt||He){var Ze=P.props.activeIndex!==void 0?P.props.activeIndex:X;return[N.cloneElement(P,ge(ge(ge({},O.props),Ut),{},{activeIndex:Ze})),null,null]}if(!tt(ve))return[Z].concat(vf(E.renderActivePoints({item:O,activePoint:ve,basePoint:de,childIndex:X,isRange:oe})))}else{var Ne,Qe=(Ne=E.getItemByXY(E.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:Z},vn=Qe.graphicalItem,Qr=vn.item,vi=Qr===void 0?P:Qr,Jr=vn.childIndex,dn=ge(ge(ge({},O.props),Ut),{},{activeIndex:Jr});return[N.cloneElement(vi,dn),null,null]}return oe?[Z,null,null]:[Z,null]}),Ge(E,"renderCustomized",function(P,j,A){return N.cloneElement(P,ge(ge({key:"recharts-customized-".concat(A)},E.props),E.state))}),Ge(E,"renderMap",{CartesianGrid:{handler:oy,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:oy},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:oy},YAxis:{handler:oy},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:cu("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=vz(E.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return hAe(x,b),cAe(x,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,P=S.height,j=S.layout,A=Ei(C,Dt);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,R=AS(this.state,E,O,D),$=this.state.tooltipTicks[O].coordinate,z=(this.state.offset.top+P)/2,X=j==="horizontal",te=X?{x:$,y:z}:{y:$,x:z},U=this.state.formattedGraphicalItems.find(function(V){var Y=V.item;return Y.type.name==="Scatter"});U&&(te=ge(ge({},te),U.props.points[O].tooltipPosition),R=U.props.points[O].tooltipPayload);var K={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:R,activeCoordinate:te};this.setState(K),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(S){Z_([Ei(S.children,Dt)],[Ei(this.props.children,Dt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ei(this.props.children,Dt);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return o.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),P=ape(E),j={chartX:Math.round(S.pageX-P.left),chartY:Math.round(S.pageY-P.top)},A=E.width/C.offsetWidth||1,O=this.inRange(j.chartX,j.chartY,A);if(!O)return null;var D=this.state,R=D.xAxisMap,$=D.yAxisMap,z=this.getTooltipEventType(),X=uM(this.state,this.props.data,this.props.layout,O);if(z!=="axis"&&R&&$){var te=Ho(R).scale,U=Ho($).scale,K=te&&te.invert?te.invert(j.chartX):null,V=U&&U.invert?U.invert(j.chartY):null;return ge(ge({},j),{},{xValue:K,yValue:V},X)}return X?ge(ge({},j),X):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,j=S/E,A=C/E;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,D=j>=O.left&&j<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return D?{x:j,y:A}:null}var R=this.state,$=R.angleAxisMap,z=R.radiusAxisMap;if($&&z){var X=Ho($);return II({x:j,y:A},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=Ei(S,Dt),P={};E&&C==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Nv(this.props,this.handleOuterEvent);return ge(ge({},j),P)}},{key:"addListener",value:function(){J1.on(Z1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){J1.removeListener(Z1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var P=this.state.formattedGraphicalItems,j=0,A=P.length;j<A;j++){var O=P[j];if(O.item===S||O.props.key===S.key||C===Hs(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,P=C.top,j=C.height,A=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:E,y:P,height:j,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=oM(E,2),j=P[0],A=P[1];return ge(ge({},C),{},Ge({},j,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=oM(E,2),j=P[0],A=P[1];return ge(ge({},C),{},Ge({},j,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,P=C.activeItem;if(E&&E.length)for(var j=0,A=E.length;j<A;j++){var O=E[j],D=O.props,R=O.item,$=R.type.defaultProps!==void 0?ge(ge({},R.type.defaultProps),R.props):R.props,z=Hs(R.type);if(z==="Bar"){var X=(D.data||[]).find(function(V){return Bbe(S,V)});if(X)return{graphicalItem:O,payload:X}}else if(z==="RadialBar"){var te=(D.data||[]).find(function(V){return II(S,V)});if(te)return{graphicalItem:O,payload:te}}else if(ob(O,P)||lb(O,P)||Sm(O,P)){var U=kwe({graphicalItem:O,activeTooltipItem:P,itemData:$.data}),K=$.activeIndex===void 0?U:$.activeIndex;return{graphicalItem:ge(ge({},O),{},{childIndex:K}),payload:Sm(O,P)?$.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var S=this;if(!jN(this))return null;var C=this.props,E=C.children,P=C.className,j=C.width,A=C.height,O=C.style,D=C.compact,R=C.title,$=C.desc,z=lM(C,nAe),X=Be(z,!1);if(D)return q.createElement(VD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(t2,dd({},X,{width:j,height:A,title:R,desc:$}),this.renderClipPath(),PN(E,this.renderMap)));if(this.props.accessibilityLayer){var te,U;X.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,X.role=(U=this.props.role)!==null&&U!==void 0?U:"application",X.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},X.onFocus=function(){S.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return q.createElement(VD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",dd({className:lt("recharts-wrapper",P),style:ge({position:"relative",cursor:"default",width:j,height:A},O)},K,{ref:function(Y){S.container=Y}}),q.createElement(t2,dd({},X,{width:j,height:A,title:R,desc:$,style:xAe}),this.renderClipPath(),PN(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Ge(v,"displayName",n),Ge(v,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(v,"getDerivedStateFromProps",function(b,x){var _=b.dataKey,S=b.data,C=b.children,E=b.width,P=b.height,j=b.layout,A=b.stackOffset,O=b.margin,D=x.dataStartIndex,R=x.dataEndIndex;if(x.updateId===void 0){var $=dM(b);return ge(ge(ge({},$),{},{updateId:0},p(ge(ge({props:b},$),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:S,prevWidth:E,prevHeight:P,prevLayout:j,prevStackOffset:A,prevMargin:O,prevChildren:C})}if(_!==x.prevDataKey||S!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||j!==x.prevLayout||A!==x.prevStackOffset||!wd(O,x.prevMargin)){var z=dM(b),X={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},te=ge(ge({},uM(x,S,j)),{},{updateId:x.updateId+1}),U=ge(ge(ge({},z),X),te);return ge(ge(ge({},U),p(ge({props:b},U),x)),{},{prevDataKey:_,prevData:S,prevWidth:E,prevHeight:P,prevLayout:j,prevStackOffset:A,prevMargin:O,prevChildren:C})}if(!Z_(C,x.prevChildren)){var K,V,Y,oe,ue=Ei(C,of),ye=ue&&(K=(V=ue.props)===null||V===void 0?void 0:V.startIndex)!==null&&K!==void 0?K:D,_e=ue&&(Y=(oe=ue.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&Y!==void 0?Y:R,Ue=ye!==D||_e!==R,He=!tt(S),nt=He&&!Ue?x.updateId:x.updateId+1;return ge(ge({updateId:nt},p(ge(ge({props:b},x),{},{updateId:nt,dataStartIndex:ye,dataEndIndex:_e}),x)),{},{prevChildren:C,dataStartIndex:ye,dataEndIndex:_e})}return null}),Ge(v,"renderActiveDot",function(b,x,_){var S;return N.isValidElement(b)?S=N.cloneElement(b,x):Xe(b)?S=b(x):S=q.createElement(cg,x),q.createElement(pt,{className:"recharts-active-dot",key:_},S)});var y=N.forwardRef(function(x,_){return q.createElement(v,dd({},x,{ref:_}))});return y.displayName=v.displayName,y},H8=gb({chartName:"LineChart",GraphicalChild:Qc,axisComponents:[{axisType:"xAxis",AxisComp:Sn},{axisType:"yAxis",AxisComp:kn}],formatAxisMap:eE}),ui=gb({chartName:"BarChart",GraphicalChild:Fn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sn},{axisType:"yAxis",AxisComp:kn}],formatAxisMap:eE}),PS=gb({chartName:"PieChart",GraphicalChild:Da,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sb},{axisType:"radiusAxis",AxisComp:ib}],formatAxisMap:t0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),CAe=gb({chartName:"AreaChart",GraphicalChild:Il,axisComponents:[{axisType:"xAxis",AxisComp:Sn},{axisType:"yAxis",AxisComp:kn}],formatAxisMap:eE});const fs=t=>{if(!t||t==="N/A")return-1;const e=new Date(t+"T00:00:00Z"),n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));if(isNaN(e.getTime()))return-1;const i=r.getTime()-e.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},$a=t=>{const e=fs(t);if(e<0)return"N/A";if(e<=60)return`${e} día${e!==1?"s":""}`;const n=30.4375,r=Math.floor(e/n);if(r<12){const s=Math.round(e%n);return`${r} mes${r!==1?"es":""}${s>0?` y ${s} día${s!==1?"s":""}`:""}`}const i=Math.floor(r/12),a=Math.round(r%12);return`${i} año${i!==1?"s":""}${a>0?` y ${a} mes${a!==1?"es":""}`:""}`},hu=(t,e)=>{const n=fs(t.birthDate);return n<0?"Indefinido":t.sex==="Hembra"?t.weaningDate||n>60?e.some(i=>i.goatId===t.id)?"Cabra":"Cabritona":"Cabrita":n>=365?"Macho Cabrío":t.weaningDate||n>60?"Macho de Levante":"Cabrito"},dg=(t,e)=>{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},kAe=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},cE=(t,e)=>{if(e.length===0)return{overall:null,recent:null};const n=[...e].sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime()),r=n[n.length-1];let i=null;if(t&&t>0){const s=fs(r.date)-fs(new Date().toISOString().split("T")[0])+fs(new Date(r.date).toISOString().split("T")[0]);s>0&&(i=(r.kg-t)/s)}let a=null;if(n.length>=2){const s=r,o=n[n.length-2],c=(new Date(s.date).getTime()-new Date(o.date).getTime())/(1e3*60*60*24);c>0&&(a=(s.kg-o.kg)/c)}return{overall:i,recent:a}},G8=(t,e,n)=>{const r=t.map(d=>({age:(new Date(d.date).getTime()-new Date(e).getTime())/864e5,kg:d.kg})).sort((d,f)=>d.age-f.age);if(r.length<1)return null;const i=r.filter(d=>d.age<=n).pop(),a=r.find(d=>d.age>=n);if(i&&i.age===n)return i.kg;if(a&&a.age===n)return a.kg;if(!i||!a)return null;if(i.age===a.age)return i.kg;const s=a.age-i.age;if(s===0)return i.kg;const o=a.kg-i.kg,c=n-i.age,u=i.kg+c/s*o;return parseFloat(u.toFixed(2))},NAe=(t,e,n)=>{if(e===0)return 100;const r=t/e*100,i=1+(180-Math.min(n,180))/180*.1;return Math.round(r*i)},OAe=t=>{if(!t.weaningWeight||!t.weaningDate||!t.birthWeight||!t.birthDate)return null;const e=(new Date(t.weaningDate).getTime()-new Date(t.birthDate).getTime())/(1e3*60*60*24);if(e<=0)return null;const n=(t.weaningWeight-t.birthWeight)/e,r=t.birthWeight+n*60;return parseFloat(r.toFixed(2))},IAe=(t,e)=>{const n=e.filter(r=>r.animalId===t.id);return G8(n,t.birthDate,210)},DAe=()=>{const{animals:t,parturitions:e,bodyWeighings:n,sireLots:r,breedingSeasons:i,weighings:a}=qe();return N.useMemo(()=>{const o=t.filter(V=>!V.isReference),c={cabras:[],cabritonas:[],cabritas:[],cabritos:[],machosLevante:[],reproductores:[]};o.forEach(V=>{switch(hu(V,e)){case"Cabra":c.cabras.push(V);break;case"Cabritona":c.cabritonas.push(V);break;case"Cabrita":c.cabritas.push(V);break;case"Cabrito":c.cabritos.push(V);break;case"Macho de Levante":c.machosLevante.push(V);break;case"Macho Cabrío":c.reproductores.push(V);break}});const u=c.cabras.length+c.cabritonas.length+c.cabritas.length,d=e.filter(V=>V.status==="activa"&&c.cabras.some(Y=>Y.id===V.goatId)).length,f=c.cabras.length-d,h=c.cabras.filter(V=>V.reproductiveStatus==="Preñada").length,p=c.cabras.filter(V=>V.reproductiveStatus==="Vacía"||V.reproductiveStatus==="Post-Parto"||V.reproductiveStatus==="Destetada").length,v=c.cabras.filter(V=>V.reproductiveStatus==="En Servicio").length,y=[{name:"Preñadas",value:h,color:"#34C759"},{name:"Vacías",value:p,color:"#FF9500"},{name:"En Monta",value:v,color:"#007AFF"}].filter(V=>V.value>0),b=new Date().getFullYear(),x=[];for(let V=0;V<2;V++){const Y=new Date(b,V*6,1),oe=new Date(b,(V+1)*6,0),ue=a.filter(He=>{const nt=new Date(He.date+"T00:00:00");return nt>=Y&&nt<=oe}),ye=new Set(ue.map(He=>He.goatId)),_e=c.cabras.filter(He=>!!e.find(bt=>bt.goatId===He.id&&new Date(bt.parturitionDate)<=oe)).length,Ue=_e>0?ye.size/_e*100:0;x.push({name:`Semestre ${V+1}`,"En Ordeño (%)":parseFloat(Ue.toFixed(1))})}const _=c.cabritonas.filter(V=>V.reproductiveStatus==="En Servicio").length,S=c.cabritonas.filter(V=>{const Y=n.filter(oe=>oe.animalId===V.id).sort((oe,ue)=>new Date(ue.date).getTime()-new Date(oe.date).getTime())[0];return Y?Y.kg>=28.5&&Y.kg<30||Y.kg>=30&&V.reproductiveStatus!=="En Servicio"&&V.reproductiveStatus!=="Preñada":!1}).length,C=c.cabritonas.length-_-h,E=c.cabritas.length,P=c.cabritos.length,j=E+P,A=[{name:"Hembras",value:E,color:"#FF2D55"},{name:"Machos",value:P,color:"#007AFF"}].filter(V=>V.value>0),O=[...c.cabritas,...c.cabritos].map(V=>{const Y=fs(V.birthDate),oe=n.filter(bt=>bt.animalId===V.id).sort((bt,Ut)=>new Date(Ut.date).getTime()-new Date(bt.date).getTime())[0],ue=(oe==null?void 0:oe.kg)||0,ye=Y>=52,_e=ue>=9.5,Ue=Y>=45&&Y<52,He=Y>=40&&Y<45||ue>=8.5&&ue<9.5;let nt="Amamantando";return ye&&_e?nt="Listo para Destete":Ue?nt="En Fase Destete":He&&(nt="Próximo a Destete"),{id:V.id,status:nt}}),D=O.filter(V=>V.status==="En Fase Destete").length,R=O.filter(V=>V.status==="Próximo a Destete").length,$=O.filter(V=>V.status==="Listo para Destete").length,z=O.filter(V=>V.status==="Amamantando").length,X=[{name:"Listo",value:$,color:"#34C759"},{name:"En Fase",value:D,color:"#FFD60A"},{name:"Próximo",value:R,color:"#FF9F0A"},{name:"Amamantando",value:z,color:"#007AFF"}].filter(V=>V.value>0),te=new Set(i.filter(V=>V.status==="Activo").map(V=>V.id)),U=r.filter(V=>te.has(V.seasonId)),K=c.reproductores.filter(V=>U.some(Y=>Y.sireId===V.id)).map(V=>{const Y=U.find(ue=>ue.sireId===V.id),oe=t.filter(ue=>ue.sireLotId===Y.id).length;return{...V,lotId:Y.id,assignedFemales:oe}});return{totalPoblacion:o.length,totalVientres:u,cabras:{total:c.cabras.length,enProduccion:d,secas:f,preñadas:h,vacias:p,enMonta:v,reproductiveStatusData:y,milkingPercentageData:x},cabritonas:{total:c.cabritonas.length,enMonta:_,disponibles:C,proximasAServicio:S},crias:{total:j,hembras:E,machos:P,criasEnMaternidadData:A,enFaseDestete:D,proximasADestete:R,listasParaDestete:$,desteteStatusData:X},reproductores:{total:c.reproductores.length,activos:K}}},[t,e,n,r,i,a])},ly=({title:t,value:e,icon:n,onClick:r})=>l.jsxs("button",{onClick:r,className:"bg-dashboard-surface backdrop-blur-xl rounded-2xl p-4 border border-brand-border/50 text-left hover:border-brand-orange/60 hover:bg-dashboard-surface-hover transition-all duration-200 w-full",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium text-brand-light-gray uppercase tracking-wider",children:t}),l.jsx(n,{className:"w-6 h-6 text-brand-orange"})]}),l.jsx("p",{className:"text-4xl font-semibold text-white mt-4",children:e})]}),Lo=({title:t,children:e})=>l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-brand-light-gray mb-3 px-1",children:t}),l.jsx("div",{className:"bg-brand-glass backdrop-blur-lg rounded-xl p-4 border border-brand-border/50",children:e})]}),$o=({label:t,value:e,unit:n,subLabel:r,icon:i})=>l.jsxs("div",{className:"flex justify-between items-center py-2.5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[i&&l.jsx(i,{className:"w-5 h-5 text-zinc-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-base text-white",children:t}),r&&l.jsx("p",{className:"text-xs text-brand-medium-gray mt-0.5",children:r})]})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("p",{className:"text-xl font-semibold text-white",children:e}),l.jsx("p",{className:"text-sm text-brand-medium-gray",children:n})]})]}),tw=({active:t,payload:e,label:n})=>t&&e&&e.length?l.jsxs("div",{className:"p-2 bg-zinc-800/80 backdrop-blur-md rounded-lg border border-zinc-700 text-white text-sm",children:[l.jsx("p",{className:"font-semibold mb-1",children:n||e[0].name}),e.map((r,i)=>l.jsxs("p",{style:{color:r.color},children:[r.name,": ",l.jsxs("span",{className:"font-bold",children:[r.value,r.unit]})]},`item-${i}`))]}):null;function hM({navigateTo:t}){const[e,n]=N.useState("physical"),[r,i]=N.useState(!1),[a,s]=N.useState(!1),[o,c]=N.useState(!1),[u,d]=N.useState(!1),[f,h]=N.useState(!1),p=DAe();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-lg mx-auto space-y-6 pb-24 pt-4",children:[l.jsxs("div",{className:"text-center mb-6 px-4",children:[l.jsxs("p",{className:"text-base text-zinc-300 font-light",children:["Población Total del Rebaño: ",l.jsx("span",{className:"font-bold text-white",children:p.totalPoblacion})]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Total de Vientres: ",l.jsx("span",{className:"font-bold text-zinc-200",children:p.totalVientres})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 px-4",children:[l.jsx(ly,{title:"Cabras",value:p.cabras.total,icon:yx,onClick:()=>s(!0)}),l.jsx(ly,{title:"Cabritonas",value:p.cabritonas.total,icon:gs,onClick:()=>c(!0)}),l.jsx(ly,{title:"Crías",value:p.crias.total,icon:bv,onClick:()=>d(!0)}),l.jsx(ly,{title:"Reproductores",value:p.reproductores.total,icon:hG,onClick:()=>h(!0)})]}),l.jsx("div",{className:"pt-4 px-4",children:l.jsxs("div",{className:"relative bg-brand-glass rounded-xl p-1 border border-brand-border flex items-center",children:[l.jsxs("button",{onClick:()=>n("physical"),className:`w-1/2 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="physical"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[l.jsx(Uc,{size:16})," ",l.jsx("span",{className:"text-sm font-semibold",children:"Lotes Físicos"}),l.jsx("span",{onClick:v=>{v.stopPropagation(),i(!0)},className:"ml-2 p-1 rounded-full hover:bg-brand-orange/50",children:l.jsx(Xr,{size:18})})]}),l.jsxs("button",{onClick:()=>n("breeding"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="breeding"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[l.jsx(xx,{size:16})," Lotes de Monta"]})]})}),l.jsxs("div",{className:"pt-0",children:[e==="physical"&&l.jsx(LZ,{navigateTo:t}),e==="breeding"&&l.jsx(BZ,{navigateTo:t})]})]}),l.jsx(dt,{isOpen:a,onClose:()=>s(!1),title:"Análisis de Hembras Adultas",children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs(Lo,{title:"Estado Productivo y Reproductivo",children:[l.jsx($o,{icon:gG,label:"En Producción",unit:"cabras",value:p.cabras.enProduccion,subLabel:`${(p.cabras.total>0?p.cabras.enProduccion/p.cabras.total*100:0).toFixed(0)}% del total`}),l.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),l.jsx($o,{icon:hx,label:"Secas",unit:"cabras",value:p.cabras.secas,subLabel:`${(p.cabras.total>0?p.cabras.secas/p.cabras.total*100:0).toFixed(0)}% del total`}),l.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),l.jsx($o,{icon:qC,label:"En Monta Activa",unit:"cabras",value:p.cabras.enMonta})]}),l.jsx(Lo,{title:"Estado Reproductivo (Vientres)",children:l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{width:"100%",height:"100%",children:l.jsxs(PS,{children:[l.jsx(Da,{data:p.cabras.reproductiveStatusData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:p.cabras.reproductiveStatusData.map(v=>l.jsx(Oa,{fill:v.color,stroke:"none"},`cell-${v.name}`))}),l.jsx(Dt,{content:l.jsx(tw,{})}),l.jsx(Ca,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),l.jsx(Lo,{title:"Rendimiento Anual en Ordeño",children:l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{width:"100%",height:"100%",children:l.jsxs(ui,{data:p.cabras.milkingPercentageData,margin:{top:15,right:10,left:-20,bottom:0},children:[l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},axisLine:!1,tickLine:!1}),l.jsx(kn,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"%",axisLine:!1,tickLine:!1}),l.jsx(Dt,{content:l.jsx(tw,{unit:"%"}),cursor:{fill:"rgba(255, 255, 255, 0.08)"}}),l.jsx(Fn,{dataKey:"En Ordeño (%)",fill:"#FF9500",radius:[8,8,0,0],animationDuration:500})]})})})})]})}),l.jsx(dt,{isOpen:o,onClose:()=>c(!1),title:"Análisis de Cabritonas",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Lo,{title:"Disponibilidad para Monta",children:[l.jsx($o,{icon:qC,label:"En Monta",unit:"cabritonas",value:p.cabritonas.enMonta,subLabel:`${(p.cabritonas.total>0?p.cabritonas.enMonta/p.cabritonas.total*100:0).toFixed(0)}% del total`}),l.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),l.jsx($o,{icon:Uc,label:"Disponibles",unit:"cabritonas",value:p.cabritonas.disponibles})]}),l.jsx(Lo,{title:"Próximas a Servicio",children:l.jsx($o,{icon:YG,label:"Con Peso Óptimo",unit:"cabritonas",value:p.cabritonas.proximasAServicio,subLabel:"(≥ 28.5 Kg y sin lote asignado)"})})]})}),l.jsx(dt,{isOpen:u,onClose:()=>d(!1),title:"Análisis de Crías en Maternidad",children:l.jsxs("div",{className:"space-y-5",children:[l.jsx(Lo,{title:"Distribución por Sexo",children:l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{width:"100%",height:"100%",children:l.jsxs(PS,{children:[l.jsx(Da,{data:p.crias.criasEnMaternidadData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:p.crias.criasEnMaternidadData.map(v=>l.jsx(Oa,{fill:v.color,stroke:"none"},`cell-${v.name}`))}),l.jsx(Dt,{content:l.jsx(tw,{})}),l.jsx(Ca,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),l.jsxs(Lo,{title:"Estado de Destete",children:[l.jsx($o,{icon:bv,label:"Listas para Destete",unit:"crías",value:p.crias.listasParaDestete,subLabel:"≥ 52 días y ≥ 9.5 Kg"}),l.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),l.jsx($o,{icon:lG,label:"En Fase de Destete",unit:"crías",value:p.crias.enFaseDestete,subLabel:"45-52 días"}),l.jsx("div",{className:"border-b border-brand-border/50 mx-2"})]})]})}),l.jsx(dt,{isOpen:f,onClose:()=>h(!1),title:"Estado de Reproductores",children:l.jsx("div",{className:"space-y-4",children:l.jsx(Lo,{title:"Activos en Temporada de Monta",children:p.reproductores.activos.length>0?p.reproductores.activos.map((v,y)=>l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>{h(!1),t({name:"sire-lot-detail",lotId:v.lotId})},className:"w-full text-left p-2 rounded-lg flex justify-between items-center hover:bg-brand-glass transition-colors group",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-white",children:v.name||`ID: ${v.id}`}),l.jsx("p",{className:"text-xs text-brand-medium-gray",children:"Ver lote de monta asignado"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-base font-semibold text-brand-orange",children:[v.assignedFemales," hembras"]}),l.jsx(Rr,{className:"text-zinc-500 group-hover:text-white transition-colors"})]})]}),y<p.reproductores.activos.length-1&&l.jsx("div",{className:"border-b border-brand-border/50 mx-2"})]},v.id)):l.jsx("p",{className:"text-sm text-brand-medium-gray text-center py-4",children:"No hay reproductores activos en una temporada de monta actualmente."})})})}),l.jsx(_L,{isOpen:r,onClose:()=>i(!1)})]})}const MAe=()=>({isRelated:N.useCallback((e,n,r)=>{if(!e||!n)return!1;const i=r.find(a=>a.id===e);if(!i)return!1;if(i.fatherId===n)return!0;if(i.motherId){const a=r.find(s=>s.id===i.motherId);if(a&&a.fatherId===n)return!0}return!1},[])}),ba={PREGNANT:{key:"PREGNANT",Icon:bv,color:"text-pink-400",label:"Preñada"},IN_SERVICE_CONFIRMED:{key:"IN_SERVICE_CONFIRMED",Icon:xG,color:"text-pink-500",label:"Servicio Visto"},IN_SERVICE:{key:"IN_SERVICE",Icon:N_,color:"text-red-400",label:"En Monta"},EMPTY:{key:"EMPTY",Icon:cG,color:"text-zinc-500",label:"Vacía"},SIRE_IN_SERVICE:{key:"SIRE_IN_SERVICE",Icon:MG,color:"text-blue-400",label:"Reproductor Activo"},MILKING:{key:"MILKING",Icon:HG,color:"text-blue-300",label:"En Ordeño"},DRYING_OFF:{key:"DRYING_OFF",Icon:vA,color:"text-yellow-400",label:"Secando"},DRY:{key:"DRY",Icon:hx,color:"text-zinc-400",label:"Seca"}},RAe=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const s=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,c)=>new Date(c.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];s&&(s.status==="activa"?a.push("MILKING"):s.status==="en-secado"?a.push("DRYING_OFF"):s.status==="seca"&&a.push("DRY"))}if(t.reproductiveStatus==="Preñada"?a.push("PREGNANT"):t.reproductiveStatus==="En Servicio"?n.some(o=>o.femaleId===t.id&&o.sireLotId===t.sireLotId)?a.push("IN_SERVICE_CONFIRMED"):a.push("IN_SERVICE"):(t.reproductiveStatus==="Vacía"||t.reproductiveStatus==="Post-Parto")&&a.push("EMPTY"),t.sex==="Macho"){const s=i.filter(u=>u.status==="Activo"),o=new Set(s.map(u=>u.id));r.some(u=>u.sireId===t.id&&o.has(u.seasonId))&&a.push("SIRE_IN_SERVICE")}return Array.from(new Set(a))},LAe=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabrío"],pM=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-zinc-400 mb-2",children:t}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>r("ALL"),className:`px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const{Icon:a,label:s}=ba[i];return l.jsxs("button",{type:"button",onClick:()=>r(i),className:`flex items-center gap-1.5 px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n===i?"bg-brand-blue text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[l.jsx(a,{size:14}),s]},i)})]})]}),yb=({isOpen:t,onClose:e,onSelect:n,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:c,sireIdForInbreedingCheck:u})=>{const[d,f]=N.useState(""),[h,p]=N.useState(new Set),{isRelated:v}=MAe(),[y,b]=N.useState(!1),[x,_]=N.useState("Todos"),[S,C]=N.useState(!1),[E,P]=N.useState("ALL"),[j,A]=N.useState("ALL"),O=N.useMemo(()=>r.map(X=>({...X,statuses:RAe(X,i,a,o,s),formattedAge:$a(X.birthDate),zootecnicCategory:hu(X,i)})),[r,i,a,o,s]),D=N.useMemo(()=>{let X=O;return S?X.sort((te,U)=>(U.createdAt||0)-(te.createdAt||0)).slice(0,25):(x!=="Todos"&&(X=X.filter(te=>te.zootecnicCategory===x)),E!=="ALL"&&(X=X.filter(te=>te.statuses.includes(E))),j!=="ALL"&&(X=X.filter(te=>te.statuses.includes(j))),d&&(X=X.filter(te=>te.id.toLowerCase().includes(d.toLowerCase()))),X)},[O,x,S,E,j,d]),R=()=>{D.every(X=>h.has(X.id))?p(new Set):p(new Set(D.map(X=>X.id)))},$=()=>{n(Array.from(h)),e()},z=()=>{_("Todos"),C(!1),P("ALL"),A("ALL"),f("")};return l.jsx(dt,{isOpen:t,onClose:e,title:c,size:"fullscreen",children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex-shrink-0 space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),l.jsx("input",{type:"search",placeholder:"Buscar por ID...",value:d,onChange:X=>f(X.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-brand-orange"})]}),l.jsxs("button",{onClick:()=>b(!y),className:"w-full flex justify-between items-center text-zinc-400 hover:text-white",children:[l.jsx("span",{className:"text-sm font-semibold",children:"Filtros Avanzados"}),l.jsx(k_,{className:`transition-transform ${y?"rotate-180":""}`})]}),y&&l.jsxs("div",{className:"space-y-4 p-4 bg-black/20 rounded-2xl animate-fade-in",children:[l.jsx(pM,{title:"Filtros Productivos",filters:["MILKING","DRYING_OFF","DRY"],activeFilter:E,onFilterChange:P}),l.jsx(pM,{title:"Filtros Reproductivos",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"],activeFilter:j,onFilterChange:A}),l.jsxs("div",{className:"flex gap-2 pt-2 border-t border-brand-border",children:[l.jsxs("select",{value:x,onChange:X=>_(X.target.value),className:"w-full bg-zinc-800 p-2 rounded-xl text-white border border-zinc-700 text-sm",children:[l.jsx("option",{value:"Todos",children:"Categoría Zootécnica..."}),LAe.map(X=>l.jsx("option",{value:X,children:X},X))]}),l.jsxs("button",{onClick:()=>C(!S),className:`flex-shrink-0 flex items-center gap-2 p-2 rounded-xl border text-sm transition-colors ${S?"bg-brand-orange border-brand-orange text-white":"border-zinc-700 bg-zinc-800 text-zinc-300"}`,children:[l.jsx(cL,{size:16})," Última Carga"]}),l.jsx("button",{onClick:z,className:"flex-shrink-0 p-2 rounded-xl border border-zinc-700 bg-zinc-800 text-zinc-300",children:l.jsx(hA,{size:16})})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 py-4 min-h-[10rem]",children:D.length>0?D.map(X=>{const te=u?v(X.id,u,r):!1;return l.jsxs("div",{onClick:()=>p(U=>{const K=new Set(U);return K.has(X.id)?K.delete(X.id):K.add(X.id),K}),className:`w-full text-left p-3 flex items-center gap-4 rounded-lg cursor-pointer transition-colors ${te?"bg-yellow-900/50 border border-yellow-500/60 hover:bg-yellow-800/50":"bg-zinc-800/50 hover:bg-zinc-700"}`,children:[h.has(X.id)?l.jsx(gA,{className:"text-brand-orange flex-shrink-0"}):l.jsx(yA,{className:"text-zinc-500 flex-shrink-0"}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("p",{className:"font-bold text-white flex items-center gap-2",children:[X.id," ",te&&l.jsx(un,{className:"text-yellow-400",size:16})]}),l.jsxs("p",{className:"text-xs text-zinc-400",children:[X.sex," | ",X.formattedAge," | Lote: ",X.location||"Sin Asignar"]})]})]},X.id)}):l.jsx("div",{className:"flex-grow flex items-center justify-center",children:l.jsx("p",{className:"text-zinc-500 text-center",children:"No se encontraron animales."})})}),l.jsxs("div",{className:"flex-shrink-0 grid grid-cols-3 items-center pt-4 border-t border-brand-border gap-2",children:[l.jsx("button",{type:"button",onClick:R,disabled:D.length===0,className:"bg-zinc-700 hover:bg-zinc-600 text-white font-bold py-3 px-2 rounded-lg disabled:opacity-50 text-sm",children:D.every(X=>h.has(X.id))?"Deseleccionar":"Sel. Todos"}),l.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-3 px-2 rounded-lg text-sm",children:"Cancelar"}),l.jsxs("button",{onClick:$,className:"bg-brand-green hover:bg-green-600 text-white font-bold py-3 px-2 rounded-lg disabled:opacity-50 text-sm",children:["Seleccionar (",h.size,")"]})]})]})})},$Ae=({isOpen:t,onClose:e,animalsToTransfer:n,fromLot:r})=>{const{lots:i,updateAnimal:a}=qe(),[s,o]=N.useState(""),c=N.useMemo(()=>i.filter(d=>d.name!==r),[i,r]),u=async()=>{if(!s||n.length===0)return;const d=n.map(f=>a(f,{location:s}));try{await Promise.all(d),e()}catch(f){console.error("Error al transferir animales:",f)}};return l.jsx(dt,{isOpen:t,onClose:e,title:`Transferir ${n.length} animales`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:["Transferir desde: ",l.jsx("span",{className:"font-semibold text-white",children:r})]}),l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1 mt-4",children:"Hacia el lote:"}),l.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[l.jsx("option",{value:"",children:"Seleccionar lote de destino..."}),c.map(d=>l.jsx("option",{value:d.name,children:d.name},d.id))]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:u,disabled:!s,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:"Confirmar Transferencia"})]})]})})};function Lu(t,e,n){let r=n.initialDeps??[],i;function a(){var s,o,c,u;let d;n.key&&((s=n.debug)!=null&&s.call(n))&&(d=Date.now());const f=t();if(!(f.length!==r.length||f.some((v,y)=>r[y]!==v)))return i;r=f;let p;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(p=Date.now()),i=e(...f),n.key&&((c=n.debug)!=null&&c.call(n))){const v=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-p)*100)/100,b=y/16,x=(_,S)=>{for(_=String(_);_.length<S;)_=" "+_;return _};console.info(`%c⏱ ${x(y,5)} /${x(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,i),i}return a.updateDeps=s=>{r=s},a}function mM(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const zAe=(t,e)=>Math.abs(t-e)<1.01,FAe=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},gM=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},VAe=t=>t,BAe=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},UAe=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=s=>{const{width:o,height:c}=s;e({width:Math.round(o),height:Math.round(c)})};if(i(gM(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(s=>{const o=()=>{const c=s[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(gM(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},yM={passive:!0},vM=typeof window>"u"?!0:"onscrollend"in window,WAe=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const a=t.options.useScrollendEvent&&vM?()=>{}:FAe(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=d=>()=>{const{horizontal:f,isRtl:h}=t.options;i=f?n.scrollLeft*(h&&-1||1):n.scrollTop,a(),e(i,d)},o=s(!0),c=s(!1);c(),n.addEventListener("scroll",o,yM);const u=t.options.useScrollendEvent&&vM;return u&&n.addEventListener("scrollend",c,yM),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",c)}},KAe=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},qAe=(t,{adjustments:e=0,behavior:n},r)=>{var i,a;const s=t+e;(a=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class HAe{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const s=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=r())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=r())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:VAe,rangeExtractor:BAe,onChange:()=>{},measureElement:KAe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Lu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,a=new Map;for(let s=r-1;s>=0;s--){const o=n[s];if(i.has(o.lane))continue;const c=a.get(o.lane);if(c==null||o.end>c.end?a.set(o.lane,o):o.end<c.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=Lu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=Lu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const f=a(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=h?h.end+this.options.gap:r+i,v=o.get(f),y=typeof v=="number"?v:this.options.estimateSize(d),b=p+y,x=h?h.lane:d%this.options.lanes;u[d]={index:d,start:p,size:y,end:b,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Lu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,a)=>this.range=n.length>0&&r>0?GAe({measurements:n,outerSize:r,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Lu(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,a,s)=>a===null||s===null?[]:n({startIndex:a,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=r-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Lu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let a=0,s=n.length;a<s;a++){const o=n[a],c=r[o];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return mM(r[Y8(0,r.length-1,i=>mM(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const a=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+a?"end":"start"),r==="center"?n+=(i-a)/2:r==="end"&&(n-=a);const o=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const s=10,o=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[f,h]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),v=this.getOffsetForIndex(n,h);if(!v){console.warn("Failed to get offset for index:",n);return}zAe(v[0],p)||c(h)})},c=u=>{this.targetWindow&&(a++,a<s?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&a.some(o=>o===null);){const o=r[s];a[o.lane]===null&&(a[o.lane]=o.end),s--}i=Math.max(...a.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Y8=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,a=n(i);if(a<r)t=i+1;else if(a>r)e=i-1;else return i}return t>0?t-1:0};function GAe({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,a=c=>t[c].start;if(t.length<=r)return{startIndex:0,endIndex:i};let s=Y8(0,i,a,n),o=s;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const c=Array(r).fill(0);for(;o<i&&c.some(d=>d<n+e);){const d=t[o];c[d.lane]=d.end,o++}const u=Array(r).fill(n+e);for(;s>=0&&u.some(d=>d>=n);){const d=t[s];u[d.lane]=d.start,s--}s=Math.max(0,s-s%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}const xM=typeof document<"u"?N.useLayoutEffect:N.useEffect;function YAe(t){const e=N.useReducer(()=>({}),{})[1],n={...t,onChange:(i,a)=>{var s;a?e5.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,a)}},[r]=N.useState(()=>new HAe(n));return r.setOptions(n),xM(()=>r._didMount(),[]),xM(()=>r._willUpdate()),r}function X8(t){return YAe({observeElementRect:UAe,observeElementOffset:WAe,scrollToFn:qAe,...t})}const XAe=({animal:t,onSelect:e,isEditing:n,isSelected:r})=>{const i=$a(t.birthDate);return l.jsx("div",{onClick:()=>e(t.id),className:`w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border flex justify-between items-center transition-all ${n?"cursor-pointer border-transparent":"hover:border-brand-orange"}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[n&&(r?l.jsx(gA,{className:"text-brand-orange flex-shrink-0",size:24}):l.jsx(yA,{className:"text-zinc-500 flex-shrink-0",size:24})),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[t.sex," | ",i," | Lote: ",t.location||"Sin Asignar"]})]})]})})};function QAe({lotName:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,updateAnimal:c}=qe(),[u,d]=N.useState(!1),[f,h]=N.useState(!1),[p,v]=N.useState(new Set),[y,b]=N.useState(!1),x=N.useMemo(()=>r.filter(j=>(j.location||"Sin Asignar")===t).sort((j,A)=>j.id.localeCompare(A.id)),[r,t]),_=N.useRef(null),S=X8({count:x.length,getScrollElement:()=>_.current,estimateSize:()=>92,overscan:5}),C=j=>{v(A=>{const O=new Set(A);return O.has(j)?O.delete(j):O.add(j),O})},E=async()=>{const j=Array.from(p).map(A=>c(A,{location:""}));try{await Promise.all(j),h(!1),v(new Set)}catch(A){console.error("Error al quitar animales del lote:",A)}},P=async j=>{const A=j.map(O=>c(O,{location:t}));await Promise.all(A)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-24 animate-fade-in",children:[l.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),l.jsxs("p",{className:"text-lg text-zinc-400",children:[x.length," ",x.length===1?"animal":"animales"]})]}),f?l.jsx("button",{onClick:()=>{h(!1),v(new Set)},className:"text-brand-orange font-semibold px-2 py-1",children:"Listo"}):l.jsx("button",{onClick:()=>h(!0),className:"p-2 -mr-2 text-zinc-400 hover:text-white",children:l.jsx(jl,{size:20})})]}),!f&&l.jsx("div",{className:"px-4",children:l.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[l.jsx(Xr,{size:20})," Añadir Animales"]})}),l.jsx("div",{ref:_,className:"pt-4",style:{height:"calc(100vh - 250px)",overflowY:"auto"},children:x.length>0?l.jsx("div",{style:{height:`${S.getTotalSize()}px`,width:"100%",position:"relative"},children:S.getVirtualItems().map(j=>{const A=x[j.index];return l.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${j.size}px`,transform:`translateY(${j.start}px)`,padding:"0 1rem 0.5rem 1rem"},children:l.jsx(XAe,{animal:A,isEditing:f,isSelected:p.has(A.id),onSelect:O=>f?C(O):n({name:"rebano-profile",animalId:O})})},j.key)})}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:l.jsx("p",{className:"text-zinc-500",children:"Este lote está vacío."})})})]}),f&&p.size>0&&l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/50 backdrop-blur-md p-4 border-t border-brand-border animate-slide-up z-20",children:l.jsxs("div",{className:"max-w-2xl mx-auto flex gap-4",children:[l.jsxs("button",{onClick:E,className:"flex-1 flex items-center justify-center gap-2 bg-brand-red text-white font-bold py-3 rounded-xl",children:[l.jsx(fo,{size:18})," Quitar del Lote"]}),l.jsxs("button",{onClick:()=>b(!0),className:"flex-1 flex items-center justify-center gap-2 bg-brand-blue text-white font-bold py-3 rounded-xl",children:[l.jsx(mL,{size:18})," Transferir"]})]})}),l.jsx(yb,{isOpen:u,onClose:()=>d(!1),onSelect:P,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:`Añadir animales a: ${t}`}),l.jsx($Ae,{isOpen:y,onClose:()=>{b(!1),h(!1),v(new Set)},animalsToTransfer:Array.from(p),fromLot:t})]})}const JAe=({activeFilter:t,setActiveFilter:e})=>l.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[l.jsx("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Activo"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"Activos"}),l.jsx("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"De Referencia"})]}),ZAe=({activeFilter:t,setFilter:e})=>{const n=[{key:"all",label:"Todos"},{key:"Venta",label:"Vendidos"},{key:"Muerte",label:"Muertos"},{key:"Descarte",label:"Descartados"}];return l.jsxs("div",{className:"p-3 bg-black/20 rounded-lg",children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Filtrar por estado:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(r=>l.jsx("button",{onClick:()=>e(r.key),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${t===r.key?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:r.label},r.key))})]})},bM=({isOpen:t,onClose:e,onSelect:n,animals:r,title:i,filterSex:a})=>{const[s,o]=N.useState(""),[c,u]=N.useState("Activo"),[d,f]=N.useState("all"),h=y=>{u(y),f("all")},p=N.useMemo(()=>r.filter(y=>{if(a&&y.sex!==a)return!1;const b=y.isReference||!1;return c==="Referencia"?b?d!=="all"?y.status===d:!0:!1:!b}).filter(y=>s?y.id.toLowerCase().includes(s.toLowerCase()):!0),[r,s,c,d,a]),v=y=>{n(y),o("")};return l.jsx(dt,{isOpen:t,onClose:e,title:i,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),l.jsx("input",{type:"search",placeholder:"Buscar por ID...",value:s,onChange:y=>o(y.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),l.jsx(JAe,{activeFilter:c,setActiveFilter:h}),c==="Referencia"&&l.jsx("div",{className:"animate-fade-in",children:l.jsx(ZAe,{activeFilter:d,setFilter:f})}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:p.length>0?p.map(y=>l.jsxs("button",{onClick:()=>v(y.id),className:"w-full text-left p-3 bg-zinc-800/50 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx("p",{className:"font-bold text-white",children:y.id}),l.jsxs("p",{className:"text-xs text-zinc-400",children:[y.sex," | ",$a(y.birthDate)," | Lote: ",y.location||"Sin Asignar"]})]},y.id)):l.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se encontraron animales con estos filtros."})})]})})};function Pt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Li(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Br(t,e){const n=Pt(t);return isNaN(e)?Li(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ma(t,e){const n=Pt(t);if(isNaN(e))return Li(t,NaN);if(!e)return n;const r=n.getDate(),i=Li(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const uE=6048e5,ePe=864e5;let tPe={};function fg(){return tPe}function ms(t,e){var o,c,u,d;const n=fg(),r=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Pt(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Jc(t){return ms(t,{weekStartsOn:1})}function Q8(t){const e=Pt(t),n=e.getFullYear(),r=Li(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Jc(r),a=Li(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Jc(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function xf(t){const e=Pt(t);return e.setHours(0,0,0,0),e}function O0(t){const e=Pt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function rs(t,e){const n=xf(t),r=xf(e),i=+n-O0(n),a=+r-O0(r);return Math.round((i-a)/ePe)}function nPe(t){const e=Q8(t),n=Li(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Jc(n)}function ES(t,e){const n=e*7;return Br(t,n)}function rPe(t,e){return Ma(t,e*12)}function iPe(t){let e;return t.forEach(function(n){const r=Pt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function aPe(t){let e;return t.forEach(n=>{const r=Pt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function di(t,e){const n=xf(t),r=xf(e);return+n==+r}function dE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sPe(t){if(!dE(t)&&typeof t!="number")return!1;const e=Pt(t);return!isNaN(Number(e))}function km(t,e){const n=Pt(t),r=Pt(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function oPe(t,e,n){const r=ms(t,n),i=ms(e,n),a=+r-O0(r),s=+i-O0(i);return Math.round((a-s)/uE)}function fE(t){const e=Pt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mi(t){const e=Pt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function J8(t){const e=Pt(t),n=Li(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hE(t,e){var o,c,u,d;const n=fg(),r=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Pt(t),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function Z8(t){return hE(t,{weekStartsOn:1})}const lPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cPe=(t,e,n)=>{let r;const i=lPe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const uPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hPe={date:jd({formats:uPe,defaultWidth:"full"}),time:jd({formats:dPe,defaultWidth:"full"}),dateTime:jd({formats:fPe,defaultWidth:"full"})},pPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mPe=(t,e,n,r)=>pPe[t];function Za(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const gPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_Pe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SPe={ordinalNumber:_Pe,era:Za({values:gPe,defaultWidth:"wide"}),quarter:Za({values:yPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Za({values:vPe,defaultWidth:"wide"}),day:Za({values:xPe,defaultWidth:"wide"}),dayPeriod:Za({values:bPe,defaultWidth:"wide",formattingValues:wPe,defaultFormattingWidth:"wide"})};function es(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?APe(o,f=>f.test(s)):jPe(o,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function jPe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function APe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function eV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const PPe=/^(\d+)(th|st|nd|rd)?/i,EPe=/\d+/i,TPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CPe={any:[/^b/i,/^(a|c)/i]},kPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NPe={any:[/1/i,/2/i,/3/i,/4/i]},OPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$Pe={ordinalNumber:eV({matchPattern:PPe,parsePattern:EPe,valueCallback:t=>parseInt(t,10)}),era:es({matchPatterns:TPe,defaultMatchWidth:"wide",parsePatterns:CPe,defaultParseWidth:"any"}),quarter:es({matchPatterns:kPe,defaultMatchWidth:"wide",parsePatterns:NPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:es({matchPatterns:OPe,defaultMatchWidth:"wide",parsePatterns:IPe,defaultParseWidth:"any"}),day:es({matchPatterns:DPe,defaultMatchWidth:"wide",parsePatterns:MPe,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:RPe,defaultMatchWidth:"any",parsePatterns:LPe,defaultParseWidth:"any"})},tV={code:"en-US",formatDistance:cPe,formatLong:hPe,formatRelative:mPe,localize:SPe,match:$Pe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zPe(t){const e=Pt(t);return rs(e,J8(e))+1}function nV(t){const e=Pt(t),n=+Jc(e)-+nPe(e);return Math.round(n/uE)+1}function rV(t,e){var d,f,h,p;const n=Pt(t),r=n.getFullYear(),i=fg(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Li(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=ms(s,e),c=Li(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=ms(c,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function FPe(t,e){var o,c,u,d;const n=fg(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=rV(t,e),a=Li(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ms(a,e)}function iV(t,e){const n=Pt(t),r=+ms(n,e)-+FPe(n,e);return Math.round(r/uE)+1}function It(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return It(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):It(n+1,2)},d(t,e){return It(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return It(t.getHours()%12||12,e.length)},H(t,e){return It(t.getHours(),e.length)},m(t,e){return It(t.getMinutes(),e.length)},s(t,e){return It(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return It(i,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return zo.y(t,e)},Y:function(t,e,n,r){const i=rV(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return It(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):It(a,e.length)},R:function(t,e){const n=Q8(t);return It(n,e.length)},u:function(t,e){const n=t.getFullYear();return It(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return It(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return It(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return It(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=iV(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):It(i,e.length)},I:function(t,e,n){const r=nV(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):It(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zo.d(t,e)},D:function(t,e,n){const r=zPe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):It(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return It(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return It(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return It(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=$u.noon:r===0?i=$u.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=$u.evening:r>=12?i=$u.afternoon:r>=4?i=$u.morning:i=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zo.s(t,e)},S:function(t,e){return zo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return SM(r);case"XXXX":case"XX":return uc(r);case"XXXXX":case"XXX":default:return uc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return SM(r);case"xxxx":case"xx":return uc(r);case"xxxxx":case"xxx":default:return uc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_M(r,":");case"OOOO":default:return"GMT"+uc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_M(r,":");case"zzzz":default:return"GMT"+uc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return It(r,e.length)},T:function(t,e,n){const r=t.getTime();return It(r,e.length)}};function _M(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+It(a,2)}function SM(t,e){return t%60===0?(t>0?"-":"+")+It(Math.abs(t)/60,2):uc(t,e)}function uc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=It(Math.trunc(r/60),2),a=It(r%60,2);return n+i+e+a}const jM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VPe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return jM(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",jM(r,e)).replace("{{time}}",aV(i,e))},BPe={p:aV,P:VPe},UPe=/^D+$/,WPe=/^Y+$/,KPe=["D","DD","YY","YYYY"];function qPe(t){return UPe.test(t)}function HPe(t){return WPe.test(t)}function GPe(t,e,n){const r=YPe(t,e,n);if(console.warn(r),KPe.includes(t))throw new RangeError(r)}function YPe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JPe=/^'([^]*?)'?$/,ZPe=/''/g,eEe=/[a-zA-Z]/;function pu(t,e,n){var d,f,h,p,v,y,b,x;const r=fg(),i=(n==null?void 0:n.locale)??r.locale??tV,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,o=Pt(t);if(!sPe(o))throw new RangeError("Invalid time value");let c=e.match(QPe).map(_=>{const S=_[0];if(S==="p"||S==="P"){const C=BPe[S];return C(_,i.formatLong)}return _}).join("").match(XPe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:tEe(_)};if(wM[S])return{isToken:!0,value:_};if(S.match(eEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const S=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HPe(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&qPe(S))&&GPe(S,e,String(t));const C=wM[S[0]];return C(o,S,i.localize,u)}).join("")}function tEe(t){const e=t.match(JPe);return e?e[1].replace(ZPe,"'"):t}function nEe(t){const e=Pt(t),n=e.getFullYear(),r=e.getMonth(),i=Li(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function rEe(t){return Math.trunc(+Pt(t)/1e3)}function iEe(t){const e=Pt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function aEe(t,e){return oPe(iEe(t),mi(t),e)+1}function TS(t,e){const n=Pt(t),r=Pt(e);return n.getTime()>r.getTime()}function sV(t,e){const n=Pt(t),r=Pt(e);return+n<+r}function pE(t,e){const n=Pt(t),r=Pt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function sEe(t,e){const n=Pt(t),r=Pt(e);return n.getFullYear()===r.getFullYear()}function nw(t,e){return Br(t,-e)}function rw(t,e){const n=Pt(t),r=n.getFullYear(),i=n.getDate(),a=Li(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const s=nEe(a);return n.setMonth(e,Math.min(i,s)),n}function AM(t,e){const n=Pt(t);return isNaN(+n)?Li(t,NaN):(n.setFullYear(e),n)}const oEe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},lEe=(t,e,n)=>{let r;const i=oEe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},cEe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},uEe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dEe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fEe={date:jd({formats:cEe,defaultWidth:"full"}),time:jd({formats:uEe,defaultWidth:"full"}),dateTime:jd({formats:dEe,defaultWidth:"full"})},hEe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},pEe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},mEe=(t,e,n,r)=>e.getHours()!==1?pEe[t]:hEe[t],gEe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},yEe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},vEe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},xEe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},bEe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},wEe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_Ee=(t,e)=>Number(t)+"º",SEe={ordinalNumber:_Ee,era:Za({values:gEe,defaultWidth:"wide"}),quarter:Za({values:yEe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Za({values:vEe,defaultWidth:"wide"}),day:Za({values:xEe,defaultWidth:"wide"}),dayPeriod:Za({values:bEe,defaultWidth:"wide",formattingValues:wEe,defaultFormattingWidth:"wide"})},jEe=/^(\d+)(º)?/i,AEe=/\d+/i,PEe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},EEe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},TEe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},CEe={any:[/1/i,/2/i,/3/i,/4/i]},kEe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},NEe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},OEe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},IEe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},DEe={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},MEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},REe={ordinalNumber:eV({matchPattern:jEe,parsePattern:AEe,valueCallback:function(t){return parseInt(t,10)}}),era:es({matchPatterns:PEe,defaultMatchWidth:"wide",parsePatterns:EEe,defaultParseWidth:"any"}),quarter:es({matchPatterns:TEe,defaultMatchWidth:"wide",parsePatterns:CEe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:es({matchPatterns:kEe,defaultMatchWidth:"wide",parsePatterns:NEe,defaultParseWidth:"any"}),day:es({matchPatterns:OEe,defaultMatchWidth:"wide",parsePatterns:IEe,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:DEe,defaultMatchWidth:"any",parsePatterns:MEe,defaultParseWidth:"any"})},mE={code:"es",formatDistance:lEe,formatLong:fEe,formatRelative:mEe,localize:SEe,match:REe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Je=function(){return Je=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Je.apply(this,arguments)};function LEe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oV(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function hg(t){return t.mode==="multiple"}function pg(t){return t.mode==="range"}function vb(t){return t.mode==="single"}var $Ee={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function zEe(t,e){return pu(t,"LLLL y",e)}function FEe(t,e){return pu(t,"d",e)}function VEe(t,e){return pu(t,"LLLL",e)}function BEe(t){return"".concat(t)}function UEe(t,e){return pu(t,"cccccc",e)}function WEe(t,e){return pu(t,"yyyy",e)}var KEe=Object.freeze({__proto__:null,formatCaption:zEe,formatDay:FEe,formatMonthCaption:VEe,formatWeekNumber:BEe,formatWeekdayName:UEe,formatYearCaption:WEe}),qEe=function(t,e,n){return pu(t,"do MMMM (EEEE)",n)},HEe=function(){return"Month: "},GEe=function(){return"Go to next month"},YEe=function(){return"Go to previous month"},XEe=function(t,e){return pu(t,"cccc",e)},QEe=function(t){return"Week n. ".concat(t)},JEe=function(){return"Year: "},ZEe=Object.freeze({__proto__:null,labelDay:qEe,labelMonthDropdown:HEe,labelNext:GEe,labelPrevious:YEe,labelWeekNumber:QEe,labelWeekday:XEe,labelYearDropdown:JEe});function eTe(){var t="buttons",e=$Ee,n=tV,r={},i={},a=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:KEe,labels:ZEe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function tTe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return r?a=mi(r):e&&(a=new Date(e,0,1)),i?s=fE(i):n&&(s=new Date(n,11,31)),{fromDate:a?xf(a):void 0,toDate:s?xf(s):void 0}}var lV=N.createContext(void 0);function nTe(t){var e,n=t.initialProps,r=eTe(),i=tTe(n),a=i.fromDate,s=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var c;(vb(n)||hg(n)||pg(n))&&(c=n.onSelect);var u=Je(Je(Je({},r),n),{captionLayout:o,classNames:Je(Je({},r.classNames),n.classNames),components:Je({},n.components),formatters:Je(Je({},r.formatters),n.formatters),fromDate:a,labels:Je(Je({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Je(Je({},r.modifiers),n.modifiers),modifiersClassNames:Je(Je({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Je(Je({},r.styles),n.styles),toDate:s});return l.jsx(lV.Provider,{value:u,children:t.children})}function Qt(){var t=N.useContext(lV);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function cV(t){var e=Qt(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function rTe(t){return l.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function uV(t){var e,n,r=t.onChange,i=t.value,a=t.children,s=t.caption,o=t.className,c=t.style,u=Qt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:rTe;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function iTe(t){var e,n=Qt(),r=n.fromDate,i=n.toDate,a=n.styles,s=n.locale,o=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var f=[];if(sEe(r,i))for(var h=mi(r),p=r.getMonth();p<=i.getMonth();p++)f.push(rw(h,p));else for(var h=mi(new Date),p=0;p<=11;p++)f.push(rw(h,p));var v=function(b){var x=Number(b.target.value),_=rw(mi(t.displayMonth),x);t.onChange(_)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:uV;return l.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:o(b,{locale:s})},b.getMonth())})})}function aTe(t){var e,n=t.displayMonth,r=Qt(),i=r.fromDate,a=r.toDate,s=r.locale,o=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),v=a.getFullYear(),y=p;y<=v;y++)h.push(AM(J8(new Date),y));var b=function(_){var S=AM(mi(n),Number(_.target.value));t.onChange(S)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:uV;return l.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:s}),children:h.map(function(_){return l.jsx("option",{value:_.getFullYear(),children:d(_,{locale:s})},_.getFullYear())})})}function sTe(t,e){var n=N.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function oTe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,s=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(a&&km(a,i)<0){var u=-1*(c-1);i=Ma(a,u)}return s&&km(i,s)<0&&(i=s),mi(i)}function lTe(){var t=Qt(),e=oTe(t),n=sTe(e,t.month),r=n[0],i=n[1],a=function(s){var o;if(!t.disableNavigation){var c=mi(s);i(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[r,a]}function cTe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=mi(t),a=mi(Ma(i,r)),s=km(a,i),o=[],c=0;c<s;c++){var u=Ma(i,c);o.push(u)}return n&&(o=o.reverse()),o}function uTe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=mi(t);if(!n)return Ma(o,s);var c=km(n,t);if(!(c<a))return Ma(o,s)}}function dTe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=mi(t);if(!n)return Ma(o,-s);var c=km(o,n);if(!(c<=0))return Ma(o,-s)}}var dV=N.createContext(void 0);function fTe(t){var e=Qt(),n=lTe(),r=n[0],i=n[1],a=cTe(r,e),s=uTe(r,e),o=dTe(r,e),c=function(f){return a.some(function(h){return pE(f,h)})},u=function(f,h){c(f)||(h&&sV(f,h)?i(Ma(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:c};return l.jsx(dV.Provider,{value:d,children:t.children})}function mg(){var t=N.useContext(dV);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function PM(t){var e,n=Qt(),r=n.classNames,i=n.styles,a=n.components,s=mg().goToMonth,o=function(d){s(Ma(d,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:cV,u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(iTe,{onChange:o,displayMonth:t.displayMonth}),l.jsx(aTe,{onChange:o,displayMonth:t.displayMonth})]})}function hTe(t){return l.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pTe(t){return l.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var I0=N.forwardRef(function(t,e){var n=Qt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var s=a.join(" "),o=Je(Je({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),l.jsx("button",Je({},t,{ref:e,type:"button",className:s,style:o}))});function mTe(t){var e,n,r=Qt(),i=r.dir,a=r.locale,s=r.classNames,o=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var h=u(t.previousMonth,{locale:a}),p=[s.nav_button,s.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:a}),y=[s.nav_button,s.nav_button_next].join(" "),b=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:pTe,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:hTe;return l.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&l.jsx(I0,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?l.jsx(b,{className:s.nav_icon,style:o.nav_icon}):l.jsx(x,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&l.jsx(I0,{name:"next-month","aria-label":v,className:y,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?l.jsx(x,{className:s.nav_icon,style:o.nav_icon}):l.jsx(b,{className:s.nav_icon,style:o.nav_icon})})]})}function EM(t){var e=Qt().numberOfMonths,n=mg(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,s=n.displayMonths,o=s.findIndex(function(v){return pE(t.displayMonth,v)}),c=o===0,u=o===s.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),h=function(){r&&a(r)},p=function(){i&&a(i)};return l.jsx(mTe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:p})}function gTe(t){var e,n=Qt(),r=n.classNames,i=n.disableNavigation,a=n.styles,s=n.captionLayout,o=n.components,c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:cV,u;return i?u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=l.jsx(PM,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(PM,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx(EM,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(EM,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:r.caption,style:a.caption,children:u})}function yTe(t){var e=Qt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?l.jsx("tfoot",{className:i,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function vTe(t,e,n){for(var r=n?Jc(new Date):ms(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=Br(r,a);i.push(s)}return i}function xTe(){var t=Qt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=vTe(i,a,s);return l.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:o(d,{locale:i})},f)})]})}function bTe(){var t,e=Qt(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:xTe;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(a,{})})}function wTe(t){var e=Qt(),n=e.locale,r=e.formatters.formatDay;return l.jsx(l.Fragment,{children:r(t.date,{locale:n})})}var gE=N.createContext(void 0);function _Te(t){if(!hg(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return l.jsx(gE.Provider,{value:e,children:t.children})}return l.jsx(STe,{initialProps:t.initialProps,children:t.children})}function STe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,s=function(u,d,f){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var v=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var y=!!(!d.selected&&a&&(r==null?void 0:r.length)===a);if(!y){var b=r?oV([],r):[];if(d.selected){var x=b.findIndex(function(_){return di(u,_)});b.splice(x,1)}else b.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,b,u,d,f)}}},o={disabled:[]};r&&o.disabled.push(function(u){var d=a&&r.length>a-1,f=r.some(function(h){return di(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:s,modifiers:o};return l.jsx(gE.Provider,{value:c,children:n})}function yE(){var t=N.useContext(gE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function jTe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?di(i,t)&&di(r,t)?void 0:di(i,t)?{from:i,to:void 0}:di(r,t)?void 0:TS(r,t)?{from:t,to:i}:{from:r,to:t}:i?TS(t,i)?{from:i,to:t}:{from:t,to:i}:r?sV(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var vE=N.createContext(void 0);function ATe(t){if(!pg(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(vE.Provider,{value:e,children:t.children})}return l.jsx(PTe,{initialProps:t.initialProps,children:t.children})}function PTe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,s=i.to,o=e.min,c=e.max,u=function(p,v,y){var b,x;(b=e.onDayClick)===null||b===void 0||b.call(e,p,v,y);var _=jTe(p,r);(x=e.onSelect)===null||x===void 0||x.call(e,_,p,v,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],s?(d.range_end=[s],di(a,s)||(d.range_middle=[{after:a,before:s}])):d.range_end=[a]):s&&(d.range_start=[s],d.range_end=[s]),o&&(a&&!s&&d.disabled.push({after:nw(a,o-1),before:Br(a,o-1)}),a&&s&&d.disabled.push({after:a,before:Br(a,o-1)}),!a&&s&&d.disabled.push({after:nw(s,o-1),before:Br(s,o-1)})),c){if(a&&!s&&(d.disabled.push({before:Br(a,-c+1)}),d.disabled.push({after:Br(a,c-1)})),a&&s){var f=rs(s,a)+1,h=c-f;d.disabled.push({before:nw(a,h)}),d.disabled.push({after:Br(s,h)})}!a&&s&&(d.disabled.push({before:Br(s,-c+1)}),d.disabled.push({after:Br(s,c-1)}))}return l.jsx(vE.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function xE(){var t=N.useContext(vE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function My(t){return Array.isArray(t)?oV([],t):t!==void 0?[t]:[]}function ETe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=My(i)}),e}var Ra;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ra||(Ra={}));var TTe=Ra.Selected,Os=Ra.Disabled,CTe=Ra.Hidden,kTe=Ra.Today,iw=Ra.RangeEnd,aw=Ra.RangeMiddle,sw=Ra.RangeStart,NTe=Ra.Outside;function OTe(t,e,n){var r,i=(r={},r[TTe]=My(t.selected),r[Os]=My(t.disabled),r[CTe]=My(t.hidden),r[kTe]=[t.today],r[iw]=[],r[aw]=[],r[sw]=[],r[NTe]=[],r);return t.fromDate&&i[Os].push({before:t.fromDate}),t.toDate&&i[Os].push({after:t.toDate}),hg(t)?i[Os]=i[Os].concat(e.modifiers[Os]):pg(t)&&(i[Os]=i[Os].concat(n.modifiers[Os]),i[sw]=n.modifiers[sw],i[aw]=n.modifiers[aw],i[iw]=n.modifiers[iw]),i}var fV=N.createContext(void 0);function ITe(t){var e=Qt(),n=yE(),r=xE(),i=OTe(e,n,r),a=ETe(e.modifiers),s=Je(Je({},i),a);return l.jsx(fV.Provider,{value:s,children:t.children})}function hV(){var t=N.useContext(fV);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function DTe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function MTe(t){return!!(t&&typeof t=="object"&&"from"in t)}function RTe(t){return!!(t&&typeof t=="object"&&"after"in t)}function LTe(t){return!!(t&&typeof t=="object"&&"before"in t)}function $Te(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function zTe(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=rs(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var s=rs(t,r)>=0&&rs(i,t)>=0;return s}return i?di(i,t):r?di(r,t):!1}function FTe(t){return dE(t)}function VTe(t){return Array.isArray(t)&&t.every(dE)}function BTe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(FTe(n))return di(t,n);if(VTe(n))return n.includes(t);if(MTe(n))return zTe(t,n);if($Te(n))return n.dayOfWeek.includes(t.getDay());if(DTe(n)){var r=rs(n.before,t),i=rs(n.after,t),a=r>0,s=i<0,o=TS(n.before,n.after);return o?s&&a:a||s}return RTe(n)?rs(t,n.after)>0:LTe(n)?rs(n.before,t)>0:typeof n=="function"?n(t):!1})}function bE(t,e,n){var r=Object.keys(e).reduce(function(a,s){var o=e[s];return BTe(t,o)&&a.push(s),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!pE(t,n)&&(i.outside=!0),i}function UTe(t,e){for(var n=mi(t[0]),r=fE(t[t.length-1]),i,a,s=n;s<=r;){var o=bE(s,e),c=!o.disabled&&!o.hidden;if(!c){s=Br(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=Br(s,1)}return a||i}var WTe=365;function pV(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:Br,week:ES,month:Ma,year:rPe,startOfWeek:function(b){return i.ISOWeek?Jc(b):ms(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return i.ISOWeek?Z8(b):hE(b,{locale:f,weekStartsOn:c})}},p=h[n](t,r==="after"?1:-1);r==="before"&&u?p=iPe([u,p]):r==="after"&&d&&(p=aPe([d,p]));var v=!0;if(a){var y=bE(p,a);v=!y.disabled&&!y.hidden}return v?p:o.count>WTe?o.lastFocused:pV(p,{moveBy:n,direction:r,context:i,modifiers:a,retry:Je(Je({},o),{count:o.count+1})})}var mV=N.createContext(void 0);function KTe(t){var e=mg(),n=hV(),r=N.useState(),i=r[0],a=r[1],s=N.useState(),o=s[0],c=s[1],u=UTe(e.displayMonths,n),d=i??(o&&e.isDateDisplayed(o))?o:u,f=function(){c(i),a(void 0)},h=function(b){a(b)},p=Qt(),v=function(b,x){if(i){var _=pV(i,{moveBy:b,direction:x,context:p,modifiers:n});di(i,_)||(e.goToDate(_,i),h(_))}},y={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return l.jsx(mV.Provider,{value:y,children:t.children})}function wE(){var t=N.useContext(mV);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function qTe(t,e){var n=hV(),r=bE(t,n,e);return r}var _E=N.createContext(void 0);function HTe(t){if(!vb(t.initialProps)){var e={selected:void 0};return l.jsx(_E.Provider,{value:e,children:t.children})}return l.jsx(GTe,{initialProps:t.initialProps,children:t.children})}function GTe(t){var e=t.initialProps,n=t.children,r=function(a,s,o){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,s,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,s,o)},i={selected:e.selected,onDayClick:r};return l.jsx(_E.Provider,{value:i,children:n})}function gV(){var t=N.useContext(_E);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function YTe(t,e){var n=Qt(),r=gV(),i=yE(),a=xE(),s=wE(),o=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,p=s.focusMonthBefore,v=s.focusMonthAfter,y=s.focusYearBefore,b=s.focusYearAfter,x=s.focusStartOfWeek,_=s.focusEndOfWeek,S=function(K){var V,Y,oe,ue;vb(n)?(V=r.onDayClick)===null||V===void 0||V.call(r,t,e,K):hg(n)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,t,e,K):pg(n)?(oe=a.onDayClick)===null||oe===void 0||oe.call(a,t,e,K):(ue=n.onDayClick)===null||ue===void 0||ue.call(n,t,e,K)},C=function(K){var V;h(t),(V=n.onDayFocus)===null||V===void 0||V.call(n,t,e,K)},E=function(K){var V;f(),(V=n.onDayBlur)===null||V===void 0||V.call(n,t,e,K)},P=function(K){var V;(V=n.onDayMouseEnter)===null||V===void 0||V.call(n,t,e,K)},j=function(K){var V;(V=n.onDayMouseLeave)===null||V===void 0||V.call(n,t,e,K)},A=function(K){var V;(V=n.onDayPointerEnter)===null||V===void 0||V.call(n,t,e,K)},O=function(K){var V;(V=n.onDayPointerLeave)===null||V===void 0||V.call(n,t,e,K)},D=function(K){var V;(V=n.onDayTouchCancel)===null||V===void 0||V.call(n,t,e,K)},R=function(K){var V;(V=n.onDayTouchEnd)===null||V===void 0||V.call(n,t,e,K)},$=function(K){var V;(V=n.onDayTouchMove)===null||V===void 0||V.call(n,t,e,K)},z=function(K){var V;(V=n.onDayTouchStart)===null||V===void 0||V.call(n,t,e,K)},X=function(K){var V;(V=n.onDayKeyUp)===null||V===void 0||V.call(n,t,e,K)},te=function(K){var V;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?o():c();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?c():o();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),u();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?y():p();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?b():v();break;case"Home":K.preventDefault(),K.stopPropagation(),x();break;case"End":K.preventDefault(),K.stopPropagation(),_();break}(V=n.onDayKeyDown)===null||V===void 0||V.call(n,t,e,K)},U={onClick:S,onFocus:C,onBlur:E,onKeyDown:te,onKeyUp:X,onMouseEnter:P,onMouseLeave:j,onPointerEnter:A,onPointerLeave:O,onTouchCancel:D,onTouchEnd:R,onTouchMove:$,onTouchStart:z};return U}function XTe(){var t=Qt(),e=gV(),n=yE(),r=xE(),i=vb(t)?e.selected:hg(t)?n.selected:pg(t)?r.selected:void 0;return i}function QTe(t){return Object.values(Ra).includes(t)}function JTe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(QTe(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function ZTe(t,e){var n=Je({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Je(Je({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function eCe(t,e,n){var r,i,a,s=Qt(),o=wE(),c=qTe(t,e),u=YTe(t,c),d=XTe(),f=!!(s.onDayClick||s.mode!=="default");N.useEffect(function(){var P;c.outside||o.focusedDay&&f&&di(o.focusedDay,t)&&((P=n.current)===null||P===void 0||P.focus())},[o.focusedDay,t,n,f,c.outside]);var h=JTe(s,c).join(" "),p=ZTe(s,c),v=!!(c.outside&&!s.showOutsideDays||c.hidden),y=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:wTe,b=l.jsx(y,{date:t,displayMonth:e,activeModifiers:c}),x={style:p,className:h,children:b,role:"gridcell"},_=o.focusTarget&&di(o.focusTarget,t)&&!c.outside,S=o.focusedDay&&di(o.focusedDay,t),C=Je(Je(Je({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=S||_?0:-1,r)),u),E={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:C,divProps:x};return E}function tCe(t){var e=N.useRef(null),n=eCe(t.date,t.displayMonth,e);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(I0,Je({name:"day",ref:e},n.buttonProps)):l.jsx("div",Je({},n.divProps))}function nCe(t){var e=t.number,n=t.dates,r=Qt(),i=r.onWeekNumberClick,a=r.styles,s=r.classNames,o=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return l.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:d});var f=c(Number(e),{locale:o}),h=function(p){i(e,n,p)};return l.jsx(I0,{name:"week-number","aria-label":f,className:s.weeknumber,style:a.weeknumber,onClick:h,children:d})}function rCe(t){var e,n,r=Qt(),i=r.styles,a=r.classNames,s=r.showWeekNumber,o=r.components,c=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:tCe,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:nCe,d;return s&&(d=l.jsx("td",{className:a.cell,style:i.cell,children:l.jsx(u,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(f){return l.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:t.displayMonth,date:f})},rEe(f))})]})}function TM(t,e,n){for(var r=n!=null&&n.ISOWeek?Z8(e):hE(e,n),i=n!=null&&n.ISOWeek?Jc(t):ms(t,n),a=rs(r,i),s=[],o=0;o<=a;o++)s.push(Br(i,o));var c=s.reduce(function(u,d){var f=n!=null&&n.ISOWeek?nV(d):iV(d,n),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function iCe(t,e){var n=TM(mi(t),fE(t),e);if(e!=null&&e.useFixedWeeks){var r=aEe(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],s=ES(a,6-r),o=TM(ES(a,1),s,e);n.push.apply(n,o)}}return n}function aCe(t){var e,n,r,i=Qt(),a=i.locale,s=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,v=iCe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:bTe,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:rCe,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:yTe;return l.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&l.jsx(y,{}),l.jsx("tbody",{className:s.tbody,style:o.tbody,children:v.map(function(_){return l.jsx(b,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),l.jsx(x,{displayMonth:t.displayMonth})]})}function sCe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var oCe=sCe()?N.useLayoutEffect:N.useEffect,ow=!1,lCe=0;function CM(){return"react-day-picker-".concat(++lCe)}function cCe(t){var e,n=t??(ow?CM():null),r=N.useState(n),i=r[0],a=r[1];return oCe(function(){i===null&&a(CM())},[]),N.useEffect(function(){ow===!1&&(ow=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function uCe(t){var e,n,r=Qt(),i=r.dir,a=r.classNames,s=r.styles,o=r.components,c=mg().displayMonths,u=cCe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[a.month],h=s.month,p=t.displayIndex===0,v=t.displayIndex===c.length-1,y=!p&&!v;i==="rtl"&&(e=[p,v],v=e[0],p=e[1]),p&&(f.push(a.caption_start),h=Je(Je({},h),s.caption_start)),v&&(f.push(a.caption_end),h=Je(Je({},h),s.caption_end)),y&&(f.push(a.caption_between),h=Je(Je({},h),s.caption_between));var b=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:gTe;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(b,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(aCe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function dCe(t){var e=Qt(),n=e.classNames,r=e.styles;return l.jsx("div",{className:n.months,style:r.months,children:t.children})}function fCe(t){var e,n,r=t.initialProps,i=Qt(),a=wE(),s=mg(),o=N.useState(!1),c=o[0],u=o[1];N.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Je(Je({},i.styles.root),i.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,y){var b;return Je(Je({},v),(b={},b[y]=r[y],b))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:dCe;return l.jsx("div",Je({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(p,{children:s.displayMonths.map(function(v,y){return l.jsx(uCe,{displayIndex:y,displayMonth:v},y)})})}))}function hCe(t){var e=t.children,n=LEe(t,["children"]);return l.jsx(nTe,{initialProps:n,children:l.jsx(fTe,{children:l.jsx(HTe,{initialProps:n,children:l.jsx(_Te,{initialProps:n,children:l.jsx(ATe,{initialProps:n,children:l.jsx(ITe,{children:l.jsx(KTe,{children:e})})})})})})})}function Wf(t){return l.jsx(hCe,Je({},t,{children:l.jsx(fCe,{initialProps:t})}))}const pCe=(t,e)=>{if(!t||!e)return"Indefinido";const n=new Date,r=new Date(t);if(isNaN(r.getTime()))return"Indefinido";const i=(n.getTime()-r.getTime())/(1e3*60*60*24);return e==="Hembra"?i<=60?"Cabrita":i<=365?"Cabritona":"Cabra Primípara":i<=60?"Cabrito":i<=365?"Macho de Levante":"Macho Cabrío (Reproductor)"},cy=({legend:t,children:e})=>l.jsxs("fieldset",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-800/50 space-y-4",children:[l.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-400",children:t}),e]}),kM=({labelOn:t,labelOff:e,value:n,onChange:r})=>l.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-zinc-800/80 rounded-xl p-1 flex cursor-pointer",children:[l.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-600 text-white":"text-zinc-400"}`,children:t}),l.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-600 text-white"}`,children:e})]}),mCe=({onSaveSuccess:t,onCancel:e})=>{const{addAnimal:n,animals:r,lots:i}=qe(),[a,s]=N.useState("Hembra"),[o,c]=N.useState(!1),[u,d]=N.useState(""),[f,h]=N.useState(""),[p,v]=N.useState(""),[y,b]=N.useState(""),[x,_]=N.useState(""),[S,C]=N.useState(""),[E,P]=N.useState(""),[j,A]=N.useState(""),[O,D]=N.useState(null),[R,$]=N.useState(!1),[z,X]=N.useState(!1),[te,U]=N.useState(!1),K=N.useMemo(()=>pCe(f,a),[f,a]),V=async Y=>{if(Y.preventDefault(),D(null),!u||!f){D({type:"error",text:"El ID y la Fecha de Nacimiento son obligatorios."});return}const oe={sex:a,isReference:o,birthDate:f,lifecycleStage:K,conceptionMethod:p,birthWeight:y?parseFloat(y):void 0,fatherId:x||void 0,motherId:S||void 0,racialComposition:E||void 0,location:j||"",status:"Activo",reproductiveStatus:"No Aplica"};try{await n({id:u.toUpperCase(),...oe}),D({type:"success",text:`Animal ${u.toUpperCase()} agregado con éxito.`}),setTimeout(t,1500)}catch(ue){D({type:"error",text:ue.message||"No se pudo guardar el animal."}),console.error("Error al guardar animal:",ue)}};return l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:V,className:"w-full space-y-6",children:[l.jsxs(cy,{legend:"Categoría",children:[l.jsx(kM,{labelOn:"Hembra",labelOff:"Macho",value:a==="Hembra",onChange:Y=>s(Y?"Hembra":"Macho")}),l.jsx(kM,{labelOn:"Activo",labelOff:"Referencia",value:!o,onChange:Y=>c(!Y)})]}),l.jsxs(cy,{legend:"Identificación",children:[l.jsx("input",{autoFocus:!0,value:u,onChange:Y=>d(Y.target.value),placeholder:"Identificación del Animal (ID)",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",required:!0}),l.jsxs("button",{type:"button",onClick:()=>$(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[l.jsx("span",{className:f?"text-white":"text-zinc-500",children:f?new Date(f+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Fecha de Nacimiento"}),l.jsx(ro,{className:"text-zinc-400",size:20})]}),l.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl text-lg flex justify-between items-center",children:[l.jsx("span",{className:"text-zinc-400",children:"Estado:"}),l.jsx("span",{className:"font-semibold text-white",children:K})]})]}),l.jsxs(cy,{legend:"Genética y Nacimiento",children:[l.jsxs("select",{value:p,onChange:Y=>v(Y.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[l.jsx("option",{value:"",children:"Origen / Concepción..."}),l.jsx("option",{value:"MN",children:"Monta Natural (MN)"}),l.jsx("option",{value:"IA",children:"Inseminación Artificial (IA)"}),l.jsx("option",{value:"TE",children:"Transferencia de Embriones (TE)"})]}),l.jsx("input",{type:"number",step:"0.1",value:y,onChange:Y=>b(Y.target.value),placeholder:"Peso al Nacer (Kg)",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),l.jsxs("button",{type:"button",onClick:()=>U(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[l.jsx("span",{className:x?"text-white":"text-zinc-500",children:x||"Padre (Semental)"}),l.jsx(Bc,{className:"text-zinc-400",size:20})]}),l.jsxs("button",{type:"button",onClick:()=>X(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[l.jsx("span",{className:S?"text-white":"text-zinc-500",children:S||"Madre"}),l.jsx(Bc,{className:"text-zinc-400",size:20})]}),l.jsx("input",{value:E,onChange:Y=>P(Y.target.value),placeholder:"Composición Racial (Ej: 50%A 50%S)",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),l.jsxs(cy,{legend:"Manejo",children:[l.jsxs("select",{value:j,onChange:Y=>A(Y.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[l.jsx("option",{value:"",children:"Ubicación / Lote (Opcional)..."}),i.map(Y=>l.jsx("option",{value:Y.name,children:Y.name},Y.id))]}),l.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Si no se asigna un lote, se podrá encontrar en el filtro "Última Carga".'})]}),l.jsxs("div",{className:"space-y-3 pt-4",children:[O&&l.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${O.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",O.type==="success"?l.jsx(aa,{size:18}):l.jsx(un,{size:18})," ",l.jsx("span",{children:O.text})," "]}),l.jsx("button",{type:"submit",className:"w-full bg-brand-green hover:bg-green-600 text-white font-bold py-4 rounded-xl text-lg",children:"Guardar Animal"}),l.jsx("button",{type:"button",onClick:e,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-3 rounded-xl text-lg",children:"Cancelar"})]})]}),l.jsx(dt,{isOpen:R,onClose:()=>$(!1),title:"Seleccionar Fecha de Nacimiento",children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Wf,{mode:"single",selected:f?new Date(f+"T00:00:00"):void 0,onSelect:Y=>{Y&&h(Y.toISOString().split("T")[0]),$(!1)},captionLayout:"dropdown",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear()})})}),l.jsx(bM,{isOpen:z,onClose:()=>X(!1),onSelect:Y=>{C(Y),X(!1)},animals:r,title:"Seleccionar Madre",filterSex:"Hembra"}),l.jsx(bM,{isOpen:te,onClose:()=>U(!1),onSelect:Y=>{_(Y),U(!1)},animals:r,title:"Seleccionar Padre",filterSex:"Macho"})]})};function gCe({onBack:t}){return l.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex flex-col justify-end animate-fade-in",onClick:t,children:l.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-4xl mx-auto h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:e=>e.stopPropagation(),children:[l.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[l.jsx("div",{className:"w-10"})," ",l.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Ingresar Nuevo Animal"}),l.jsx("button",{onClick:t,className:"p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50 transition-colors","aria-label":"Cerrar",children:l.jsx(Al,{size:24})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsx(mCe,{onSaveSuccess:t,onCancel:t})})})]})})}const yCe=(t,e)=>{const[n,r]=N.useState(""),i=N.useMemo(()=>n?t.filter(a=>e.some(s=>{const o=a[s];return typeof o=="string"||typeof o=="number"?o.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},vCe=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,a]=N.useState(!1),s=N.useRef(null);N.useEffect(()=>{var c;i&&((c=s.current)==null||c.focus())},[i]);const o=()=>{r(""),a(!1)};return l.jsxs("header",{className:"text-center pt-4 pb-4 relative overflow-hidden",children:[l.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),l.jsx("p",{className:"text-md text-zinc-400",children:e})]}),l.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${i?"translate-y-0":"translate-y-20"}`,children:l.jsx("input",{ref:s,type:"text",value:n,onChange:c=>r(c.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),l.jsx("div",{className:"absolute top-4 right-0 pt-1",children:l.jsx("button",{onClick:i?o:()=>a(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?l.jsx(Al,{size:22}):l.jsx(Bc,{size:22})})})]})},xCe=({statuses:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((n,r)=>{const i=["MILKING","DRYING_OFF","DRY","PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"];return i.indexOf(n.key)-i.indexOf(r.key)});return l.jsx("div",{className:"flex items-center space-x-1.5",children:e.map(({key:n,Icon:r,color:i,label:a})=>l.jsx("span",{title:a,children:l.jsx(r,{className:i,size:16,strokeWidth:2.5})},n))})},bCe=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const s=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,c)=>new Date(c.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];s&&(s.status==="activa"?a.push(ba.MILKING):s.status==="en-secado"?a.push(ba.DRYING_OFF):s.status==="seca"&&a.push(ba.DRY))}return t.reproductiveStatus==="Preñada"?a.push(ba.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(o=>o.femaleId===t.id&&o.sireLotId===t.sireLotId)?a.push(ba.IN_SERVICE_CONFIRMED):a.push(ba.IN_SERVICE):(t.reproductiveStatus==="Vacía"||t.reproductiveStatus==="Post-Parto")&&a.push(ba.EMPTY),t.sex==="Macho"&&new Set(i.filter(o=>o.status==="Activo").flatMap(o=>r.filter(c=>c.seasonId===o.id)).map(o=>o.sireId)).has(t.id)&&a.push(ba.SIRE_IN_SERVICE),a},wCe=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabrío"],_Ce=({animal:t,onSelect:e})=>l.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"Sin Asignar"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xCe,{statuses:t.statusObjects}),l.jsx(Rr,{className:"text-zinc-600"})]})]}),lw=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>l.jsxs("div",{children:[t&&l.jsx("label",{className:"block text-sm font-semibold text-zinc-400 mb-2",children:t}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>r("all"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n==="all"||n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return l.jsxs("button",{onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&l.jsx(a,{size:14}),i.label]},i.key)})]})]});function SCe({navigateTo:t,locationFilter:e}){const{animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,isLoading:o}=qe(),[c,u]=N.useState("Activos"),[d,f]=N.useState("all"),[h,p]=N.useState("Todos"),[v,y]=N.useState(!1),[b,x]=N.useState("ALL"),[_,S]=N.useState("ALL"),[C,E]=N.useState(!1),[P,j]=N.useState(!1),A=N.useMemo(()=>n.map(U=>({...U,statusObjects:bCe(U,r,i,s,a),formattedAge:$a(U.birthDate),zootecnicCategory:hu(U,r)})),[n,r,i,s,a]),O=N.useMemo(()=>{let U=c==="Activos"?A.filter(K=>!K.isReference):A.filter(K=>K.isReference);return v?U.sort((K,V)=>(V.endDate?new Date(V.endDate).getTime():V.createdAt||0)-(K.endDate?new Date(K.endDate).getTime():K.createdAt||0)).slice(0,25):(e&&(U=U.filter(K=>(K.location||"Sin Asignar")===e)),c==="Activos"?(b!=="ALL"&&(U=U.filter(K=>K.statusObjects.some(V=>V.key===b))),_!=="ALL"&&(U=U.filter(K=>K.statusObjects.some(V=>V.key===_)))):d!=="all"&&(U=U.filter(K=>K.status===d)),h!=="Todos"&&(U=U.filter(K=>K.zootecnicCategory===h)),U)},[A,c,v,e,h,b,_,d]),{searchTerm:D,setSearchTerm:R,filteredItems:$}=yCe(O,["id"]),z=()=>{p("Todos"),y(!1),x("ALL"),S("ALL"),f("all"),R("")},X=N.useRef(null),te=X8({count:$.length,getScrollElement:()=>X.current,estimateSize:()=>104,overscan:5});return o?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando rebaño..."})}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[l.jsx(vCe,{title:e||"Mi Rebaño",subtitle:`${$.length} animales en la vista`,searchTerm:D,setSearchTerm:R}),l.jsxs("div",{className:"space-y-4 px-4",children:[l.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[l.jsxs("button",{onClick:()=>u("Activos"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${c==="Activos"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[l.jsx(Uc,{size:16})," Activos"]}),l.jsxs("button",{onClick:()=>u("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${c==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[l.jsx(pG,{size:16})," Referencia"]})]}),c==="Activos"?l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsxs("button",{onClick:()=>t({name:"add-animal"}),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[l.jsx(Xr,{size:18})," Ingresar Nuevo Animal"]}),l.jsxs("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>E(!C),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[l.jsx("span",{children:"Filtros Productivos"}),l.jsx(k_,{className:`transition-transform ${C?"rotate-180":""}`,size:18})]}),C&&l.jsx("div",{className:"animate-fade-in",children:l.jsx(lw,{title:"",filters:["MILKING","DRYING_OFF","DRY"].map(U=>ba[U]),activeFilter:b,onFilterChange:x})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>j(!P),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[l.jsx("span",{children:"Filtros Reproductivos"}),l.jsx(k_,{className:`transition-transform ${P?"rotate-180":""}`,size:18})]}),P&&l.jsx("div",{className:"animate-fade-in",children:l.jsx(lw,{title:"",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(U=>ba[U]),activeFilter:_,onFilterChange:S})})]})]})]}):l.jsx("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:l.jsx(lw,{title:"Filtrar por Causa de Baja",filters:[{key:"Venta",label:"Venta"},{key:"Muerte",label:"Muerte"},{key:"Descarte",label:"Descarte"}],activeFilter:d,onFilterChange:f})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>y(!0),title:"Última Carga",className:`flex items-center gap-2 py-1 px-3 text-sm font-semibold rounded-lg transition-colors ${v?"text-brand-orange":"text-zinc-400 hover:text-brand-orange"}`,children:[l.jsx(cL,{size:16})," Última Carga"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:()=>t({name:"manage-lots"}),className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[l.jsx(EG,{size:14})," Gestionar Lotes"]}),l.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[l.jsx(hA,{size:14})," Limpiar"]})]})]}),l.jsxs("select",{value:h,onChange:U=>p(U.target.value),className:"w-full bg-brand-glass p-3 rounded-xl text-white border border-brand-border focus:border-brand-orange focus:ring-0",children:[l.jsx("option",{value:"Todos",children:"Todas las Categorías Zootécnicas"}),wCe.map(U=>l.jsx("option",{value:U,children:U},U))]})]}),l.jsx("div",{ref:X,className:"pt-4",style:{height:"600px",overflowY:"auto"},children:$.length>0?l.jsx("div",{style:{height:`${te.getTotalSize()}px`,width:"100%",position:"relative"},children:te.getVirtualItems().map(U=>{const K=$[U.index];return l.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${U.size}px`,transform:`translateY(${U.start}px)`,padding:"0 1rem 0.5rem 1rem"},children:l.jsx(_Ce,{animal:K,onSelect:()=>t({name:"rebano-profile",animalId:K.id})})},U.key)})}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:l.jsx("p",{className:"text-zinc-400",children:D?`No se encontraron resultados para "${D}"`:"No hay animales que coincidan con los filtros."})})})]})}const jCe=({isOpen:t,onClose:e})=>{const{addOrigin:n}=qe(),[r,i]=N.useState(""),[a,s]=N.useState(""),o=async()=>{if(r.trim()===""){s("El nombre del origen no puede estar vacío.");return}try{await n(r),i(""),s(""),e()}catch(u){s("No se pudo guardar el origen."),console.error(u)}},c=()=>{i(""),s(""),e()};return l.jsx(dt,{isOpen:t,onClose:c,title:"Crear Nuevo Origen",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la ganadería o finca de origen."}),l.jsx("div",{children:l.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Agropecuaria La Bendición",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&l.jsx("p",{className:"text-sm text-brand-red",children:a}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{onClick:c,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:o,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Origen"})]})]})})},ACe=t=>{const{events:e}=qe();return N.useMemo(()=>t?e.filter(a=>a.animalId===t).sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()):[],[e,t])},PCe=t=>{const{animals:e}=qe(),n=N.useMemo(()=>{const i=new Map;return e.forEach(a=>i.set(a.id,a)),i},[e]);return N.useMemo(()=>{const i=(s,o)=>{if(!s||o>3)return;const c=n.get(s);if(!c)return;const u=i(c.fatherId,o+1),d=i(c.motherId,o+1);return{animal:c,sire:u,dam:d}};return i(t,0)||null},[t,n])},ii=({animal:t,onClick:e})=>{const n="bg-zinc-800/80 p-2 rounded-lg border border-zinc-700/80 w-32 text-center shadow-md transition-colors text-xs";if(!t)return l.jsx("div",{className:`${n} bg-zinc-900/50 border-dashed`,children:l.jsx("p",{className:"font-semibold text-zinc-500",children:"Desconocido"})});const r=t.sex==="Hembra"?"text-pink-400":"text-blue-400";return l.jsxs("button",{onClick:()=>e(t.id),className:`${n} hover:border-brand-orange`,children:[l.jsx("p",{className:`font-bold truncate ${r}`,children:t.id}),l.jsx("p",{className:"text-zinc-400",children:t.sex})]})},ECe=({rootNode:t,onAncestorClick:e})=>{var i,a,s,o,c,u,d,f,h,p,v,y,b,x,_,S,C,E,P,j,A,O,D,R,$,z,X,te,U,K,V,Y,oe,ue;if(!t)return l.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos de genealogía suficientes para mostrar el pedigrí."});const n="border-zinc-600",r=l.jsx("div",{className:`w-4 border-t-2 ${n}`});return l.jsxs("div",{className:"flex items-center justify-center p-4 overflow-x-auto",children:[l.jsx("div",{className:"flex flex-col items-center justify-center",children:l.jsxs("div",{className:"bg-zinc-800/80 p-2 rounded-lg border border-zinc-700/80 w-32 text-center shadow-md text-xs",children:[l.jsx("p",{className:`font-bold truncate ${t.animal.sex==="Hembra"?"text-pink-400":"text-blue-400"}`,children:t.animal.id}),l.jsx("p",{className:"text-zinc-400",children:t.animal.sex})]})}),l.jsxs("div",{className:"flex flex-col items-center",children:[r,l.jsx("div",{className:`h-20 border-r-2 ${n}`}),r]}),l.jsxs("div",{className:"flex flex-col items-center justify-around",children:[l.jsx(ii,{animal:(i=t.sire)==null?void 0:i.animal,onClick:e}),l.jsx(ii,{animal:(a=t.dam)==null?void 0:a.animal,onClick:e})]}),l.jsxs("div",{className:"flex flex-col items-center justify-around",children:[l.jsxs("div",{className:"flex items-center",children:[r,l.jsx("div",{className:`h-10 border-r-2 ${n}`}),r]}),l.jsxs("div",{className:"flex items-center",children:[r,l.jsx("div",{className:`h-10 border-r-2 ${n}`}),r]})]}),l.jsxs("div",{className:"flex flex-col items-center justify-around gap-[24px]",children:[l.jsx(ii,{animal:(o=(s=t.sire)==null?void 0:s.sire)==null?void 0:o.animal,onClick:e}),l.jsx(ii,{animal:(u=(c=t.sire)==null?void 0:c.dam)==null?void 0:u.animal,onClick:e}),l.jsx(ii,{animal:(f=(d=t.dam)==null?void 0:d.sire)==null?void 0:f.animal,onClick:e}),l.jsx(ii,{animal:(p=(h=t.dam)==null?void 0:h.dam)==null?void 0:p.animal,onClick:e})]}),l.jsxs("div",{className:"flex flex-col items-center justify-around gap-[24px]",children:[l.jsxs("div",{className:"flex items-center",children:[" ",r," ",l.jsx("div",{className:`h-6 border-r-2 ${n}`})," ",r," "]}),l.jsxs("div",{className:"flex items-center",children:[" ",r," ",l.jsx("div",{className:`h-6 border-r-2 ${n}`})," ",r," "]}),l.jsxs("div",{className:"flex items-center",children:[" ",r," ",l.jsx("div",{className:`h-6 border-r-2 ${n}`})," ",r," "]}),l.jsxs("div",{className:"flex items-center",children:[" ",r," ",l.jsx("div",{className:`h-6 border-r-2 ${n}`})," ",r," "]})]}),l.jsxs("div",{className:"flex flex-col items-center justify-around gap-[8px]",children:[l.jsx(ii,{animal:(b=(y=(v=t.sire)==null?void 0:v.sire)==null?void 0:y.sire)==null?void 0:b.animal,onClick:e}),l.jsx(ii,{animal:(S=(_=(x=t.sire)==null?void 0:x.sire)==null?void 0:_.dam)==null?void 0:S.animal,onClick:e}),l.jsx(ii,{animal:(P=(E=(C=t.sire)==null?void 0:C.dam)==null?void 0:E.sire)==null?void 0:P.animal,onClick:e}),l.jsx(ii,{animal:(O=(A=(j=t.sire)==null?void 0:j.dam)==null?void 0:A.dam)==null?void 0:O.animal,onClick:e}),l.jsx(ii,{animal:($=(R=(D=t.dam)==null?void 0:D.sire)==null?void 0:R.sire)==null?void 0:$.animal,onClick:e}),l.jsx(ii,{animal:(te=(X=(z=t.dam)==null?void 0:z.sire)==null?void 0:X.dam)==null?void 0:te.animal,onClick:e}),l.jsx(ii,{animal:(V=(K=(U=t.dam)==null?void 0:U.dam)==null?void 0:K.sire)==null?void 0:V.animal,onClick:e}),l.jsx(ii,{animal:(ue=(oe=(Y=t.dam)==null?void 0:Y.dam)==null?void 0:oe.dam)==null?void 0:ue.animal,onClick:e})]})]})},TCe=({animalId:t,birthDate:e,onSave:n,onCancel:r})=>{const[i,a]=N.useState(new Date().toISOString().split("T")[0]),[s,o]=N.useState(""),[c,u]=N.useState(null),[d,f]=N.useState(!1),h=async p=>{p.preventDefault(),u(null),f(!0);const v=parseFloat(s);if(!i||!s||isNaN(v)||v<=0){u("Por favor, introduce una fecha y un peso válidos."),f(!1);return}if(new Date(i)<new Date(e)){u("La fecha de destete no puede ser anterior a la fecha de nacimiento."),f(!1);return}try{await n({weaningDate:i,weaningWeight:v})}catch(y){u("No se pudo guardar el registro de destete."),console.error(y)}finally{f(!1)}};return l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-zinc-400",children:["Registra la fecha y el peso al momento de separar a ",l.jsx("span",{className:"font-bold text-white",children:t})," de su madre."]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"weaningDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Destete"}),l.jsx("input",{id:"weaningDate",type:"date",value:i,onChange:p=>a(p.target.value),className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"weaningWeight",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso al Destete (Kg)"}),l.jsx("input",{id:"weaningWeight",type:"number",step:"0.1",value:s,onChange:p=>o(p.target.value),placeholder:"Ej: 15.5",className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),c&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:c})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:d?"Guardando...":"Guardar Destete"})]})]})},yV=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=N.useState(""),[a,s]=N.useState(""),[o,c]=N.useState(""),{fathers:u}=qe(),d=()=>{c("");const f=r.trim().toUpperCase(),h=a.trim();if(!f||!h){c("Ambos campos son obligatorios.");return}if(u.some(p=>p.id===f)){c("Este ID ya está en uso. Por favor, elige otro.");return}n({id:f,name:h}),i(""),s("")};return l.jsx(dt,{isOpen:t,onClose:e,title:"Añadir Nuevo Padre",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID único y el nombre del nuevo semental."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"}),l.jsx("input",{type:"text",value:a,onChange:f=>s(f.target.value),placeholder:"Nombre del Padre (ej. Sansón)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),o&&l.jsx("p",{className:"text-sm text-brand-red",children:o}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500 font-semibold",children:"Cancelar"}),l.jsx("button",{onClick:d,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Padre"})]})]})})},NM=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cuádruple"},{count:5,name:"Quíntuple"}],CCe=140,OM=7,kCe=`
  .rdp {
    --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: #1c1c1e;
    --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: #1c1c1e;
    --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF;
  }
  .rdp-caption_label, .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
`,vV=({isOpen:t,onClose:e,motherId:n})=>{const{fathers:r,addFather:i,addParturition:a,parturitions:s}=qe(),[o,c]=N.useState(1),[u,d]=N.useState(new Date().toISOString().split("T")[0]),[f,h]=N.useState(""),[p,v]=N.useState(1),[y,b]=N.useState([]),[x,_]=N.useState(!1),[S,C]=N.useState(!1),[E,P]=N.useState(!1),[j,A]=N.useState("");N.useEffect(()=>{t&&(c(1),d(new Date().toISOString().split("T")[0]),h(""),v(1),b([]),P(!1),A(""))},[t]);const O=()=>c(U=>U<4?U+1:U),D=()=>c(U=>U>1?U-1:U),R=U=>{v(U),b(Array.from({length:U},(K,V)=>({id:`kid_${V}_${Date.now()}`,sex:"Hembra",correlative:"",birthWeight:""}))),O()},$=(U,K,V)=>{const Y=[...y];let oe=V;K==="birthWeight"&&parseFloat(V)>OM&&(oe=OM.toString()),Y[U]={...Y[U],[K]:oe},b(Y)},z=async()=>{var Y;P(!0),A("");const U=s.filter(oe=>oe.goatId.toUpperCase()===n.toUpperCase()),K=new Date(u).getTime();if(U.some(oe=>{const ue=new Date(oe.parturitionDate).getTime();return Math.abs(K-ue)/(1e3*60*60*24)<CCe})){A(`Ya existe un parto registrado para ${n} en una fecha demasiado cercana. Verifique los registros.`),P(!1);return}try{const oe=r.find(ye=>ye.id===f);if(!oe)throw new Error("Padre no encontrado");const ue=y.map(ye=>({sex:ye.sex,birthWeight:ye.birthWeight,id:`${ye.sex==="Macho"?"X":oe.name.charAt(0).toUpperCase()}${ye.correlative}`}));await a({motherId:n.toUpperCase(),parturitionDate:u,sireId:f,parturitionType:((Y=NM.find(ye=>ye.count===p))==null?void 0:Y.name)||"Simple",offspring:ue}),O(),setTimeout(e,2e3)}catch(oe){A(oe.message||"Error al registrar el parto. Revisa los datos."),console.error(oe),P(!1)}},X=N.useMemo(()=>r.find(U=>U.id===f),[f,r]),te=async U=>{await i(U),h(U.id),_(!1)};return t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex flex-col justify-end z-50 animate-fade-in",onClick:e,children:l.jsxs("div",{className:"bg-ios-modal-bg w-full h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:U=>U.stopPropagation(),children:[l.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[o>1&&o<4&&l.jsx("button",{onClick:D,className:"p-2 text-zinc-400 hover:text-white",children:l.jsx(Jn,{size:24})}),l.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white mx-auto",children:["Registrar Parto para ",n]}),o<4?l.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-white",children:l.jsx(Al,{size:24})}):l.jsx("div",{className:"w-10"})]}),l.jsxs("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[o===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha del Parto"}),l.jsxs("button",{type:"button",onClick:()=>C(!0),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg text-left flex justify-between items-center",children:[l.jsx("span",{className:u?"text-white":"text-zinc-500",children:u?new Date(u+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Seleccionar Fecha"}),l.jsx(ro,{className:"text-zinc-400",size:20})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Semental)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{value:f,onChange:U=>h(U.target.value),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg appearance-none",children:[l.jsx("option",{value:"",children:"Seleccionar Padre..."}),r.map(U=>l.jsxs("option",{value:U.id,children:[U.name," (",U.id,")"]},U.id))]}),l.jsx("button",{type:"button",onClick:()=>_(!0),className:"flex-shrink-0 p-4 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:l.jsx(Xr,{size:24})})]})]}),l.jsx("button",{onClick:O,disabled:!u||!f,className:"w-full bg-brand-orange text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:"Siguiente"})]}),o===2&&l.jsxs("div",{className:"space-y-6 text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold text-white",children:"¿Cuántas crías nacieron?"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:NM.map(U=>l.jsx("button",{onClick:()=>R(U.count),className:"bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-8 rounded-2xl text-2xl transition-colors",children:U.name},U.count))})]}),o===3&&l.jsxs("div",{className:"space-y-4",children:[y.map((U,K)=>l.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-700 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("p",{className:"font-semibold text-brand-orange",children:["Cría ",K+1]}),l.jsx("div",{className:"w-40",children:l.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[l.jsx("button",{type:"button",onClick:()=>$(K,"sex","Hembra"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${U.sex==="Hembra"?"bg-pink-500 text-white":"text-zinc-400"}`,children:"Hembra"}),l.jsx("button",{type:"button",onClick:()=>$(K,"sex","Macho"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${U.sex==="Macho"?"bg-blue-500 text-white":"text-zinc-400"}`,children:"Macho"})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[l.jsxs("div",{className:"flex items-center bg-zinc-800 p-3 rounded-xl gap-2",children:[l.jsx("span",{className:"font-mono text-zinc-400 text-lg",children:U.sex==="Macho"?"X":(X==null?void 0:X.name.charAt(0).toUpperCase())||"?"}),l.jsx("input",{autoFocus:K===0,value:U.correlative,onChange:V=>$(K,"correlative",V.target.value.toUpperCase()),placeholder:"ID",className:"w-full bg-transparent text-lg text-white focus:outline-none"})]}),l.jsx("input",{value:U.birthWeight,onChange:V=>$(K,"birthWeight",V.target.value),placeholder:"Peso (Kg)",type:"number",step:"0.1",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]})]},U.id)),l.jsx("button",{onClick:z,disabled:E||y.some(U=>!U.correlative||!U.birthWeight),className:"w-full bg-brand-green text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:E?"Guardando...":`Guardar Parto y ${p} Cría(s)`}),j&&l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:j})]})]}),o===4&&l.jsxs("div",{className:"text-center flex flex-col justify-center items-center h-full",children:[l.jsx(aa,{size:80,className:"text-brand-green mb-4"}),l.jsx("h2",{className:"text-3xl font-bold text-white",children:"¡Éxito!"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"El parto y las crías se han registrado correctamente."})]})]})]})}),l.jsxs(dt,{isOpen:S,onClose:()=>C(!1),title:"Seleccionar Fecha del Parto",children:[l.jsx("style",{children:kCe}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Wf,{mode:"single",selected:new Date(u+"T00:00:00"),onSelect:U=>{U&&d(U.toISOString().split("T")[0]),C(!1)},locale:mE,disabled:{after:new Date},captionLayout:"dropdown",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear()})})]}),l.jsx(yV,{isOpen:x,onClose:()=>_(!1),onSave:te})]}):null},Is=({label:t,value:e,isEditing:n,children:r})=>l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-zinc-400",children:t}),n&&r?r:l.jsx("dd",{className:"mt-1 text-lg font-semibold text-white",children:e||"N/A"})]}),NCe=({animalId:t,navigateTo:e})=>{const n=PCe(t);return l.jsx(ECe,{rootNode:n,onAncestorClick:r=>e({name:"rebano-profile",animalId:r})})},OCe={Nacimiento:{icon:lL,color:"bg-green-500/20 text-brand-green"},Movimiento:{icon:gL,color:"bg-blue-500/20 text-brand-blue"},"Cambio de Estado":{icon:NG,color:"bg-yellow-500/20 text-amber-400"},"Pesaje Lechero":{icon:wG,color:"bg-gray-500/20 text-gray-300"},"Pesaje Corporal":{icon:Xm,color:"bg-purple-500/20 text-purple-300"},Servicio:{icon:yx,color:"bg-pink-500/20 text-pink-300"},Tratamiento:{icon:vx,color:"bg-red-500/20 text-brand-red"},Diagnóstico:{icon:aa,color:"bg-teal-500/20 text-teal-300"}},ICe=({animalId:t})=>{const e=ACe(t);return e.length===0?l.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene eventos registrados."}):l.jsx("div",{className:"space-y-3",children:e.map(n=>{const r=OCe[n.type]||{icon:fA,color:"bg-gray-500/20 text-gray-300"},i=r.icon;return l.jsxs("div",{className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg",children:[l.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r.color}`,children:l.jsx(i,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white",children:n.type}),l.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:new Date(n.date+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})})]})]},n.id)})})},DCe=({offspring:t,navigateTo:e})=>t.length===0?l.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene descendencia registrada."}):l.jsx("div",{className:"space-y-2",children:t.map(n=>l.jsxs("button",{onClick:()=>e({name:"rebano-profile",animalId:n.id}),className:"w-full text-left p-3 bg-black/20 hover:bg-zinc-800/60 rounded-lg transition-colors flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:n.id}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[n.sex," | ",$a(n.birthDate)," | Lote: ",n.location||"Sin Asignar"]})]}),l.jsx(Rr,{className:"text-zinc-600"})]},n.id))}),MCe=({animal:t,parturitions:e,isEditing:n,editedData:r,setEditedData:i,origins:a,onAddOriginClick:s,onLocationClick:o})=>{const c=(f,h)=>{i(p=>({...p,[f]:h}))},u=$a(t.birthDate),d=hu(t,e);return l.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:[l.jsx(Is,{label:"ID",value:t.id}),l.jsx(Is,{label:"Sexo",value:t.sex}),l.jsx(Is,{label:"Fecha Nacimiento",value:t.birthDate,isEditing:n,children:l.jsx("input",{type:"date",value:r.birthDate||"",onChange:f=>c("birthDate",f.target.value),className:"w-full bg-zinc-700 p-2 rounded-md mt-1"})}),l.jsx(Is,{label:"Edad",value:u}),l.jsx(Is,{label:"Ubicación / Lote",children:!n&&l.jsx("dd",{className:"mt-1 text-lg",children:l.jsx("button",{onClick:o,className:"font-semibold text-brand-orange hover:underline text-left",children:t.location||"Sin Asignar"})})}),l.jsx(Is,{label:"Estado Fisiológico",value:d}),l.jsx(Is,{label:"Origen",value:t.origin,isEditing:n,children:l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("select",{value:r.origin||"",onChange:f=>c("origin",f.target.value),className:"w-full bg-zinc-700 p-2 rounded-md",children:[l.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),a.map(f=>l.jsx("option",{value:f.name,children:f.name},f.id))]}),l.jsx("button",{type:"button",onClick:s,className:"p-2 bg-brand-orange hover:bg-orange-600 text-white rounded-md",children:l.jsx(Sl,{size:20})})]})}),t.weaningDate&&l.jsx(Is,{label:"Fecha de Destete",value:new Date(t.weaningDate+"T00:00:00").toLocaleDateString("es-VE")}),t.weaningWeight&&l.jsx(Is,{label:"Peso al Destete",value:`${t.weaningWeight} Kg`})]})},RCe=({isOpen:t,onClose:e,onConfirm:n,reason:r})=>{const[i,a]=N.useState(new Date().toISOString().split("T")[0]),[s,o]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState("Cría"),[h,p]=N.useState(""),[v,y]=N.useState(),[b,x]=N.useState("");if(!t||!r)return null;const _=["Baja producción","Bajo índice de crecimiento","Inflamación articular","Linfadenitis caseosa","Sospecha de otras enfermedades"],S=()=>{n({date:i,price:parseFloat(s)||void 0,buyer:c||void 0,purpose:d,reason:h||void 0,cullReason:v||void 0,cullDetails:v==="Sospecha de otras enfermedades"?b:void 0})};return l.jsx(dt,{isOpen:t,onClose:e,title:`Dar de baja por ${r}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha"}),l.jsx("input",{type:"date",value:i,onChange:C=>a(C.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),r==="Venta"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Precio de Venta (Opcional)"}),l.jsx("input",{type:"number",value:s,onChange:C=>o(C.target.value),placeholder:"0.00",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Comprador (Opcional)"}),l.jsx("input",{type:"text",value:c,onChange:C=>u(C.target.value),placeholder:"Nombre del comprador",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fin de la Venta"}),l.jsxs("select",{value:d,onChange:C=>f(C.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[l.jsx("option",{value:"Cría",children:"Cría"}),l.jsx("option",{value:"Carne",children:"Carne"})]})]})]}),r==="Muerte"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Causa / Descripción de la Muerte"}),l.jsx("textarea",{value:h,onChange:C=>p(C.target.value),placeholder:"Ej: Infección, ataque de depredador...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",rows:3})]}),r==="Descarte"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Causa del Descarte"}),l.jsxs("select",{value:v||"",onChange:C=>y(C.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[l.jsx("option",{value:"",children:"Seleccione una causa..."}),_.map(C=>l.jsx("option",{value:C,children:C},C))]})]}),v==="Sospecha de otras enfermedades"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Especificar Sospecha / Síntomas"}),l.jsx("input",{type:"text",value:b,onChange:C=>x(C.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]})]}),l.jsx("p",{className:"text-sm text-zinc-400",children:'El animal será movido a la lista de "Referencia". Esta acción no se puede deshacer.'}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:S,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg",children:"Confirmar Baja"})]})]})})},LCe=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?l.jsx(dt,{isOpen:t,onClose:e,title:r,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"text-zinc-300",children:i}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})]})}):null;function $Ce({animalId:t,onBack:e,navigateTo:n}){const{animals:r,lots:i,origins:a,parturitions:s,updateAnimal:o,deleteAnimalPermanently:c}=qe(),[u,d]=N.useState("main"),[f,h]=N.useState(!1),[p,v]=N.useState({}),[y,b]=N.useState("idle"),[x,_]=N.useState(!1),[S,C]=N.useState(!1),[E,P]=N.useState(!1),[j,A]=N.useState(!1),[O,D]=N.useState(""),[R,$]=N.useState(!1),[z,X]=N.useState(null),[te,U]=N.useState(!1),[K,V]=N.useState(!1),[Y,oe]=N.useState(!1),ue=N.useMemo(()=>r.find(Ne=>Ne.id===t),[r,t]),ye=N.useMemo(()=>ue?ue.sex==="Hembra"?r.filter(Ne=>Ne.motherId===ue.id).sort((Ne,Qe)=>new Date(Qe.birthDate).getTime()-new Date(Ne.birthDate).getTime()):ue.sex==="Macho"?r.filter(Ne=>Ne.fatherId===ue.id).sort((Ne,Qe)=>new Date(Qe.birthDate).getTime()-new Date(Ne.birthDate).getTime()):[]:[],[r,ue]),_e=N.useMemo(()=>ue?hu(ue,s):"",[ue,s]),Ue=(ue==null?void 0:ue.breedingFailures)||0,He=Ue>=2?"border-brand-red ring-2 ring-brand-red/80":"border-brand-border";N.useEffect(()=>{ue&&(f&&v({birthDate:ue.birthDate,origin:ue.origin}),D(ue.location||""))},[ue,f]);const nt=async()=>{if(ue){b("saving");try{await o(ue.id,p),b("success"),setTimeout(()=>{h(!1),b("idle")},1500)}catch(Ne){console.error("Error al actualizar el animal:",Ne),b("idle")}}},bt=()=>{h(!1)},Ut=async()=>{if(ue)try{await o(ue.id,{location:O}),A(!1)}catch(Ne){console.error("Error al actualizar la ubicación:",Ne)}},Z=async Ne=>{if(!ue||!z)return;const Qe={status:z,isReference:!0,endDate:Ne.date};z==="Venta"&&(Ne.price&&(Qe.salePrice=Ne.price),Ne.buyer&&(Qe.saleBuyer=Ne.buyer),Ne.purpose&&(Qe.salePurpose=Ne.purpose)),z==="Muerte"&&Ne.reason&&(Qe.deathReason=Ne.reason),z==="Descarte"&&(Ne.cullReason&&(Qe.cullReason=Ne.cullReason),Ne.cullDetails&&(Qe.cullReasonDetails=Ne.cullDetails)),await o(ue.id,Qe),X(null),e()},Pe=async()=>{ue&&await o(ue.id,{isReference:!1,status:"Activo"})},ve=async()=>{ue&&(await c(ue.id),e())},de=async Ne=>{ue&&(await o(ue.id,{weaningDate:Ne.weaningDate,weaningWeight:Ne.weaningWeight}),oe(!1))},ft=[{label:"Por Venta",icon:Vc,onClick:()=>X("Venta")},{label:"Por Muerte",icon:vG,onClick:()=>X("Muerte"),color:"text-brand-red"},{label:"Por Descarte",icon:nG,onClick:()=>X("Descarte"),color:"text-brand-red"}],Ze=[{label:"Reintegrar a Activos",icon:jG,onClick:Pe},{label:"Eliminar Permanentemente",icon:fo,onClick:()=>V(!0),color:"text-brand-red"}];return ue?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[l.jsxs("header",{className:`bg-brand-glass backdrop-blur-xl rounded-b-2xl p-4 border-b border-x sticky top-0 z-10 transition-all ${He}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-white flex items-center gap-2",children:[ue.id," ",Ue===1&&l.jsx("span",{title:"1 fallo reproductivo reportado",children:l.jsx(un,{className:"text-yellow-400",size:20})})," ",Ue>=2&&l.jsx("span",{title:`${Ue} fallos reproductivos reportados`,children:l.jsx(un,{className:"text-brand-red",size:20})})]}),l.jsx("div",{className:"w-8"})]}),l.jsx("p",{className:"text-center text-brand-orange font-semibold text-sm -mt-1 mb-3 uppercase tracking-wider",children:ue.isReference?"Referencia":ue.location||"Sin Asignar"}),l.jsxs("div",{className:"flex justify-around bg-black/20 rounded-xl p-1",children:[ue.sex==="Hembra"&&l.jsxs(l.Fragment,{children:[" ",l.jsxs("button",{onClick:()=>n({name:"lactation-profile",animalId:ue.id}),className:"flex flex-col items-center p-2 text-blue-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[l.jsx(gx,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Leche"})]})," ",l.jsxs("button",{onClick:()=>P(!0),disabled:ue.isReference,className:"flex flex-col items-center p-2 text-pink-400 hover:bg-zinc-700/50 w-full rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[l.jsx(lL,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Parto"})]})," "]}),(_e==="Cabrita"||_e==="Cabrito")&&!ue.weaningDate&&!ue.isReference&&l.jsxs("button",{onClick:()=>oe(!0),className:"flex flex-col items-center p-2 text-yellow-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[l.jsx(tG,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Destetar"})]}),l.jsxs("button",{onClick:()=>n({name:"growth-profile",animalId:ue.id}),className:"flex flex-col items-center p-2 text-brand-green hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[l.jsx(Xm,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Peso"})]}),l.jsxs("button",{onClick:()=>alert("Función en desarrollo"),disabled:ue.isReference,className:"flex flex-col items-center p-2 text-teal-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[l.jsx(vx,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Sanidad"})]}),l.jsxs("button",{onClick:()=>ue.isReference?U(!0):A(!0),className:"flex flex-col items-center p-2 text-brand-blue hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[l.jsx(PG,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Mover"})]}),!ue.isReference&&l.jsxs("button",{onClick:()=>$(!0),className:"flex flex-col items-center p-2 text-amber-400 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[l.jsx(hx,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Dar de baja"})]}),l.jsxs("button",{onClick:()=>h(!f),disabled:ue.isReference,className:`flex flex-col items-center p-2 w-full rounded-lg transition-colors ${f?"text-green-400":"text-brand-orange"} hover:bg-zinc-700/50 disabled:opacity-40 disabled:cursor-not-allowed`,children:[l.jsx(jl,{size:22}),l.jsx("span",{className:"text-xs mt-1",children:"Editar"})]})]})]}),l.jsxs("main",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex bg-brand-glass rounded-xl p-1 border border-brand-border",children:[l.jsx("button",{onClick:()=>d("main"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${u==="main"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Ficha"}),l.jsx("button",{onClick:()=>d("genetics"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${u==="genetics"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Genealogía"}),l.jsx("button",{onClick:()=>d("progeny"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${u==="progeny"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Progenie"}),l.jsx("button",{onClick:()=>d("events"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${u==="events"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Eventos"})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[u==="main"&&l.jsxs("div",{className:"space-y-6",children:[" ",l.jsx(MCe,{animal:ue,parturitions:s,isEditing:f,editedData:p,setEditedData:v,origins:a,onAddOriginClick:()=>C(!0),onLocationClick:()=>A(!0)})," ",f&&l.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-zinc-700",children:[" ",l.jsxs("button",{onClick:bt,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2",children:[l.jsx(Al,{size:18})," Cancelar"]})," ",l.jsxs("button",{onClick:nt,disabled:y!=="idle",className:"bg-brand-green hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 disabled:opacity-50 min-w-[130px] justify-center",children:[" ",y==="saving"&&l.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"})," ",y==="success"&&l.jsx(aa,{size:18})," ",y==="idle"&&l.jsx(mA,{size:18})," ",l.jsx("span",{className:"ml-2",children:y==="success"?"Guardado":"Guardar"})," "]})," "]})," "]}),u==="genetics"&&l.jsx(NCe,{animalId:ue.id,navigateTo:n}),u==="progeny"&&l.jsx(DCe,{offspring:ye,navigateTo:n}),u==="events"&&l.jsx(ICe,{animalId:ue.id})]})]})]}),l.jsx(dt,{isOpen:j,onClose:()=>A(!1),title:`Cambiar Lote para ${ue.id}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar nuevo lote"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{value:O,onChange:Ne=>D(Ne.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[l.jsx("option",{value:"",children:"Sin Asignar"}),i.map(Ne=>l.jsx("option",{value:Ne.name,children:Ne.name},Ne.id))]}),l.jsx("button",{type:"button",onClick:()=>{A(!1),_(!0)},className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:l.jsx(Sl,{size:24})})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>A(!1),className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:Ut,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Cambio"})]})]})}),l.jsx(X_,{isOpen:R,onClose:()=>$(!1),title:"Causa de la Baja",actions:ft}),l.jsx(RCe,{isOpen:!!z,onClose:()=>X(null),onConfirm:Z,reason:z}),l.jsx(X_,{isOpen:te,onClose:()=>U(!1),title:"Acciones de Referencia",actions:Ze}),l.jsx(LCe,{isOpen:K,onClose:()=>V(!1),onConfirm:ve,title:`¿Eliminar ${ue.id} Permanentemente?`,message:"Esta acción borrará el registro del animal de la base de datos para siempre y no se puede deshacer."}),l.jsx(_L,{isOpen:x,onClose:()=>_(!1)}),l.jsx(jCe,{isOpen:S,onClose:()=>C(!1)}),l.jsx(vV,{isOpen:E,onClose:()=>P(!1),motherId:ue.id}),l.jsx(dt,{isOpen:Y,onClose:()=>oe(!1),title:`Registrar Destete de ${ue.id}`,children:l.jsx(TCe,{animalId:ue.id,birthDate:ue.birthDate,onSave:de,onCancel:()=>oe(!1)})})]}):l.jsxs("div",{className:"text-center p-10",children:[l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."}),l.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const zCe=({animal:t,parturition:e,onSelectAnimal:n})=>l.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),l.jsx(Rr,{className:"text-zinc-600"})]});function FCe({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=qe(),[a,s]=N.useState(e);N.useEffect(()=>{s(e)},[e]);const o=N.useMemo(()=>{const u=h=>n.find(p=>p.id===h),d=r.filter(h=>h.status==="en-secado").map(h=>({animal:u(h.goatId),parturition:h})).filter(h=>h.animal),f=r.filter(h=>h.status==="seca").map(h=>({animal:u(h.goatId),parturition:h})).filter(h=>h.animal);return{drying:d,dry:f}},[n,r]),c=o[a]||[];return i?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[l.jsxs("header",{className:"text-center pt-8 pb-4",children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestión de Rebaño"}),l.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),l.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:l.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[l.jsxs("button",{onClick:()=>s("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",o.drying.length,")"]}),l.jsxs("button",{onClick:()=>s("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",o.dry.length,")"]})]})}),l.jsx("div",{className:"space-y-2",children:c.length>0?c.map(({animal:u,parturition:d})=>l.jsx(zCe,{animal:u,parturition:d,onSelectAnimal:t},d.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function VCe({onBack:t}){const{lots:e,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,addLot:o,deleteLot:c,updateAnimal:u}=qe(),[d,f]=N.useState(""),[h,p]=N.useState(!1),[v,y]=N.useState(null),b=async()=>{d.trim()!==""&&(await o(d),f(""))},x=S=>{y(S),p(!0)},_=async S=>{if(!v)return;const C=S.map(E=>u(E,{location:v}));await Promise.all(C),p(!1),y(null)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[l.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestionar Lotes Físicos"}),l.jsx("p",{className:"text-md text-zinc-400",children:"Crea ubicaciones y asigna animales"})]}),l.jsx("div",{className:"w-8"})]}),l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Añadir Nuevo Lote"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"Nombre del lote...",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),l.jsx("button",{onClick:b,className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:l.jsx(Xr,{size:24})})]})]})}),l.jsxs("div",{className:"space-y-2 pt-4 px-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Lotes Existentes"}),e.length>0?e.map(S=>l.jsxs("div",{className:"w-full text-left bg-brand-glass rounded-2xl p-4 flex justify-between items-center",children:[l.jsx("p",{className:"font-semibold text-white",children:S.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>x(S.name),className:"flex items-center gap-2 bg-zinc-700/80 text-white font-semibold py-2 px-3 rounded-lg hover:bg-zinc-600/80 transition-colors",children:[l.jsx(Uc,{size:16})," Asignar"]}),l.jsx("button",{onClick:()=>c(S.id),className:"p-2 text-zinc-500 hover:text-brand-red transition-colors",children:l.jsx(fo,{size:18})})]})]},S.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"Aún no has creado ningún lote."})})]})]}),l.jsx(yb,{isOpen:h,onClose:()=>p(!1),onSelect:_,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,title:`Asignar animales a: ${v}`})]})}const BCe=({onSave:t,onCancel:e})=>{const{fathers:n,addFather:r}=qe(),[i,a]=N.useState(""),[s,o]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(!1),h=async v=>{await r(v),a(v.id),o(!1)},p=async v=>{if(v.preventDefault(),u(null),!i){u("Debes seleccionar un semental.");return}f(!0);try{await t(i)}catch(y){u("No se pudo guardar el lote."),console.error(y),f(!1)}};return l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"sire",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar Semental"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{id:"sire",value:i,onChange:v=>a(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:[l.jsx("option",{value:"",children:"Elegir reproductor..."}),n.map(v=>l.jsxs("option",{value:v.id,children:[v.name," (",v.id,")"]},v.id))]}),l.jsx("button",{type:"button",onClick:()=>o(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:l.jsx(Xr,{size:24})})]})]}),c&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:c})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d||!i,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:d?"Guardando...":"Crear Lote"})]})]}),l.jsx(yV,{isOpen:s,onClose:()=>o(!1),onSave:h})]})},xb=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?l.jsx(dt,{isOpen:t,onClose:e,title:r,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"text-zinc-300",children:i}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Confirmar"})]})]})}):null,UCe=({isOpen:t,onClose:e,femalesToTransfer:n,originSeasonId:r,onConfirmTransfer:i})=>{const{breedingSeasons:a}=qe(),[s,o]=N.useState(new Set),[c,u]=N.useState(""),[d,f]=N.useState(!1),[h,p]=N.useState("");q.useEffect(()=>{t&&(o(new Set(n.map(x=>x.id))),u(""),p(""))},[t,n]);const v=N.useMemo(()=>a.filter(x=>x.status==="Activo"&&x.id!==r),[a,r]),y=x=>{o(_=>{const S=new Set(_);return S.has(x)?S.delete(x):S.add(x),S})},b=async()=>{if(!c){p("Debes seleccionar una temporada de destino.");return}if(s.size===0){p("Debes seleccionar al menos una hembra para transferir.");return}f(!0),await i(c,Array.from(s)),f(!1),e()};return t?l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in",onClick:e,children:l.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-lg m-4 rounded-2xl flex flex-col animate-slide-up",onClick:x=>x.stopPropagation(),children:[l.jsx("header",{className:"flex-shrink-0 p-4 border-b border-brand-border",children:l.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Transferir Hembras sin Servicio"})}),l.jsxs("main",{className:"p-6 space-y-4 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["Hembras a transferir (",s.size,"/",n.length,")"]}),l.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2 p-2 bg-black/20 rounded-lg",children:n.map(x=>l.jsxs("div",{onClick:()=>y(x.id),className:"flex items-center gap-3 p-2 rounded-md hover:bg-zinc-700 cursor-pointer",children:[s.has(x.id)?l.jsx(gA,{className:"text-brand-orange flex-shrink-0"}):l.jsx(yA,{className:"text-zinc-500 flex-shrink-0"}),l.jsx("span",{className:"font-semibold text-white",children:x.id})]},x.id))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Transferir a la Temporada:"}),l.jsxs("select",{id:"destination",value:c,onChange:x=>u(x.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[l.jsx("option",{value:"",children:"Seleccionar temporada de destino..."}),v.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))]})]}),h&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:h})]})]}),l.jsxs("footer",{className:"flex-shrink-0 flex justify-end gap-4 p-4 border-t border-brand-border",children:[l.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{onClick:b,disabled:d,className:"px-5 py-2 bg-brand-orange hover:bg-orange-600 text-white font-bold rounded-lg disabled:opacity-50",children:d?"Transfiriendo...":`Transferir ${s.size} Hembra(s)`})]})]})}):null},WCe=({sireName:t,animalCount:e,dragControls:n})=>l.jsxs("div",{className:"w-full p-4 flex items-center",children:[l.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:r=>n.start(r),children:l.jsx(pA,{className:"text-zinc-500"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[l.jsx(Qm,{})," Lote: ",t]}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1 flex items-center gap-2",children:[l.jsx(Uc,{size:14})," ",e," ",e===1?"hembra asignada":"hembras asignadas"]})]}),l.jsx(Rr,{className:"text-zinc-600"})]}),KCe=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=kf(),s=N.useRef(!1),o=(c,u)=>{const d=u.offset.x,f=u.velocity.x;if(Math.abs(d)<2){r();return}d<-160/2||f<-500?a.start({x:-160}):a.start({x:0}),setTimeout(()=>{s.current=!1},100)};return l.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[l.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[l.jsxs("button",{onClick:e,onPointerDown:c=>c.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[l.jsx(jl,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),l.jsxs("button",{onClick:n,onPointerDown:c=>c.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[l.jsx(fo,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),l.jsx(El.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{s.current=!0},onDragEnd:o,onTap:()=>{s.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:l.jsx(WCe,{sireName:t.sireName,animalCount:t.animalCount,dragControls:i})})]})},qCe=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=eP();return l.jsx(nP,{value:t,dragListener:!1,dragControls:i,children:l.jsx(KCe,{lot:t,dragControls:i,onClick:()=>e({name:"sire-lot-detail",lotId:t.id}),onEdit:()=>n(t),onDelete:()=>r(t)})},t.id)};function HCe({seasonId:t,onBack:e,navigateTo:n}){const{breedingSeasons:r,sireLots:i,fathers:a,animals:s,serviceRecords:o,addSireLot:c,updateSireLot:u,deleteSireLot:d,updateAnimal:f}=qe(),[h,p]=N.useState(!1),[v,y]=N.useState(void 0),[b,x]=N.useState(null),[_,S]=N.useState(null),[C,E]=N.useState(!1),P=N.useMemo(()=>r.find(U=>U.id===t),[r,t]),j=N.useMemo(()=>i.filter(U=>U.seasonId===t).map(U=>{var Y;const K=((Y=a.find(oe=>oe.id===U.sireId))==null?void 0:Y.name)||"Desconocido",V=s.filter(oe=>oe.sireLotId===U.id).length;return{...U,sireName:K,animalCount:V}}),[i,t,a,s]),[A,O]=N.useState(j);N.useEffect(()=>{O(j)},[j]);const D=N.useMemo(()=>{if(!P||P.status!=="Cerrado")return[];const U=new Set(j.map(Y=>Y.id)),K=s.filter(Y=>Y.sireLotId&&U.has(Y.sireLotId)),V=new Set(o.filter(Y=>Y.sireLotId&&U.has(Y.sireLotId)).map(Y=>Y.femaleId));return K.filter(Y=>!V.has(Y.id))},[P,j,s,o]),R=U=>{y(U),p(!0)},$=async U=>{v?await u(v.id,{sireId:U}):await c({seasonId:t,sireId:U}),p(!1),y(void 0)},z=U=>{U.animalCount>0?S(`No se puede eliminar. Reasigna las ${U.animalCount} hembra(s) a otro lote primero.`):x(U)},X=()=>{b&&(d(b.id),x(null))},te=async(U,K)=>{const V=i.find(oe=>oe.seasonId===U);if(!V){alert("La temporada de destino no tiene lotes de reproductor. Por favor, crea uno primero.");return}const Y=K.map(oe=>f(oe,{sireLotId:V.id,reproductiveStatus:"En Servicio"}));await Promise.all(Y)};return P?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:P.name}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de la Temporada"})]}),l.jsx("div",{className:"w-8"})]}),l.jsxs("div",{className:"space-y-4 px-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Lotes de Reproductor"}),l.jsxs("button",{onClick:()=>R(),className:"flex items-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[l.jsx(Xr,{size:16})," Añadir Lote"]})]}),A.length>0?l.jsx(tP,{as:"div",axis:"y",values:A,onReorder:O,className:"space-y-3",children:A.map(U=>l.jsx(qCe,{lot:U,navigateTo:n,onEdit:R,onDelete:z},U.id))}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"Esta temporada aún no tiene lotes de reproductor."})})]}),P.status==="Cerrado"&&l.jsxs("div",{className:"space-y-4 px-4 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Resultados: Hembras sin Servicio"}),D.length>0&&l.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-bold py-2 px-3 rounded-lg text-sm",children:[l.jsx(mL,{size:16})," Transferir"]})]}),l.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-2",children:D.length>0?D.map(U=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-md",children:[l.jsx("span",{className:"font-semibold text-white",children:U.id}),l.jsxs("span",{className:"text-xs text-zinc-400",children:["Lote Físico: ",U.location||"N/A"]})]},U.id)):l.jsxs("div",{className:"text-center py-6 flex flex-col items-center gap-2",children:[l.jsx(_G,{size:32,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-400 font-semibold",children:"Todas las hembras tuvieron servicio en esta temporada."})]})})]})]}),l.jsx(dt,{isOpen:h,onClose:()=>{p(!1),y(void 0)},title:v?`Editar Lote de ${v.sireName}`:"Añadir Lote de Reproductor",children:l.jsx(BCe,{onSave:$,onCancel:()=>{p(!1),y(void 0)}})}),l.jsx(xb,{isOpen:!!b,onClose:()=>x(null),onConfirm:X,title:`Eliminar Lote de ${b==null?void 0:b.sireName}`,message:"¿Estás seguro de que quieres eliminar este lote? Esta acción es irreversible."}),l.jsx(dt,{isOpen:!!_,onClose:()=>S(null),title:"Acción no permitida",children:l.jsxs("div",{className:"space-y-4 text-center",children:[" ",l.jsx(un,{size:40,className:"mx-auto text-amber-400"})," ",l.jsx("p",{className:"text-zinc-300",children:_})," ",l.jsx("button",{onClick:()=>S(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),l.jsx(UCe,{isOpen:C,onClose:()=>E(!1),femalesToTransfer:D,originSeasonId:P.id,onConfirmTransfer:te})]}):l.jsxs("div",{className:"text-center p-10",children:[l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada no encontrada."}),l.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const GCe=`
  .rdp {
    --rdp-cell-size: 40px;
    --rdp-accent-color: #FF9500;
    --rdp-background-color: #1c1c1e;
    --rdp-accent-color-dark: #FF9500;
    --rdp-background-color-dark: #1c1c1e;
    --rdp-outline: 2px solid var(--rdp-accent-color);
    --rdp-border-radius: 12px;
    color: #FFF;
  }
  .rdp-caption_label, .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
`,YCe=({isOpen:t,onClose:e,onSave:n,animalId:r})=>{if(!t)return null;const i=a=>{a&&n(a),e()};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:l.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:a=>a.stopPropagation(),children:[l.jsxs("header",{className:"text-center p-3",children:[l.jsxs("h2",{className:"font-semibold text-white",children:["Registrar Servicio para ",r]}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Selecciona la fecha del servicio"})]}),l.jsx("style",{children:GCe}),l.jsx("div",{className:"flex justify-center pb-4",children:l.jsx(Wf,{mode:"single",onSelect:i,defaultMonth:new Date,locale:mE,disabled:{after:new Date}})})]})})},XCe=({animal:t,services:e,onSelect:n,onDeclareServiceClick:r})=>{const i=e.length,a=i>0?new Date(e[e.length-1].serviceDate+"T00:00:00").toLocaleDateString("es-VE"):null,s=kf(),o=N.useRef(!1),c=(u,d)=>{const f=d.offset.x,h=d.velocity.x;if(Math.abs(f)<5){n(t.id);return}f<-140/2||h<-500?s.start({x:-140}):s.start({x:0}),setTimeout(()=>{o.current=!1},100)};return l.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:l.jsxs("button",{onClick:()=>r(t.id),onPointerDown:u=>u.stopPropagation(),className:"h-full w-[140px] flex flex-col items-center justify-center bg-pink-600 text-white",children:[l.jsx(N_,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Reg. Servicio"})]})}),l.jsx(El.div,{drag:"x",dragConstraints:{left:-140,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:c,onTap:()=>{o.current||n(t.id)},animate:s,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[t.sex," | ",$a(t.birthDate)," | Lote: ",t.location||"Sin Asignar"]})]}),l.jsxs("div",{className:"text-right",children:[i>0?l.jsxs("p",{className:"flex items-center gap-1 text-pink-400 font-semibold",children:[l.jsx(N_,{size:14,fill:"currentColor"})," ",i," Servicios"]}):l.jsx("p",{className:"text-zinc-500 text-sm",children:"Sin servicio"}),a&&l.jsxs("p",{className:"text-xs text-zinc-400",children:["Últ: ",a]})]})]})})]})};function QCe({lotId:t,navigateTo:e,onBack:n}){const{sireLots:r,fathers:i,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:c,updateAnimal:u,addServiceRecord:d}=qe(),[f,h]=N.useState(!1),[p,v]=N.useState(""),[y,b]=N.useState({isOpen:!1,animalId:null}),x=N.useMemo(()=>r.find(j=>j.id===t),[r,t]),_=N.useMemo(()=>{var j;return((j=i.find(A=>A.id===(x==null?void 0:x.sireId)))==null?void 0:j.name)||"Desconocido"},[i,x]),S=N.useMemo(()=>x?a.filter(j=>j.sireLotId===x.id).sort((j,A)=>j.id.localeCompare(A.id)):[],[a,x]),C=N.useMemo(()=>p?S.filter(j=>j.id.toLowerCase().includes(p.toLowerCase())):S,[S,p]),E=async j=>{if(!x)return;const A=j.map(O=>u(O,{sireLotId:x.id,reproductiveStatus:"En Servicio"}));await Promise.all(A)},P=async j=>{!x||!y.animalId||(await d({sireLotId:x.id,femaleId:y.animalId,serviceDate:j.toISOString().split("T")[0]}),b({isOpen:!1,animalId:null}))};return x?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[l.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-gray-900/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[l.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white truncate",children:["Lote: ",_]}),l.jsxs("p",{className:"text-xs text-zinc-400 truncate",children:["Reproductor: ",_," (",x.sireId,")"]})]}),l.jsx("button",{onClick:()=>h(!0),className:"p-2 -mr-2 bg-brand-orange hover:bg-orange-600 text-white rounded-full transition-colors",children:l.jsx(Xr,{size:24})})]}),l.jsxs("div",{className:"space-y-4 pt-4 px-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-zinc-300",children:["Hembras Asignadas (",C.length,")"]}),l.jsxs("div",{className:"relative w-40",children:[l.jsx(Bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),l.jsx("input",{type:"search",value:p,onChange:j=>v(j.target.value),placeholder:"Buscar...",className:"w-full bg-zinc-800/80 rounded-lg pl-8 pr-2 py-1 text-white border-transparent focus:border-brand-amber focus:ring-0 text-sm"})]})]}),l.jsx("div",{className:"space-y-2",children:C.length>0?C.map(j=>{const A=o.filter(O=>O.femaleId===j.id&&O.sireLotId===x.id).sort((O,D)=>new Date(O.serviceDate).getTime()-new Date(D.serviceDate).getTime());return l.jsx(XCe,{animal:j,services:A,onSelect:O=>e({name:"rebano-profile",animalId:O}),onDeclareServiceClick:O=>b({isOpen:!0,animalId:O})},j.id)}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:p?"No se encontraron coincidencias.":"Aún no has asignado hembras a este lote."})})})]})]}),l.jsx(yb,{isOpen:f,onClose:()=>h(!1),onSelect:E,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:c,sireLots:r,title:`Asignar Hembras al Lote de ${_}`,sireIdForInbreedingCheck:x.sireId}),l.jsx(YCe,{isOpen:y.isOpen,onClose:()=>b({isOpen:!1,animalId:null}),onSave:P,animalId:y.animalId||""})]}):l.jsxs("div",{className:"text-center p-10",children:[l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Lote de Reproductor no encontrado."}),l.jsx("button",{onClick:n,className:"mt-4 text-brand-orange",children:"Volver"})]})}const JCe=t=>{const[e,n]=N.useState([]),[r,i]=N.useState([]),[a,s]=N.useState(!0);return N.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const u=rL(),[d,f]=await Promise.all([u.weighings.where("goatId").equals(t).toArray(),u.parturitions.where("goatId").equals(t).toArray()]);n(d),i(f.sort((h,p)=>new Date(h.parturitionDate).getTime()-new Date(p.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{s(!1)}})()},[t]),{...N.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const c=r.map((f,h)=>{const p=new Date(f.parturitionDate),v=h<r.length-1?new Date(r[h+1].parturitionDate):new Date(9999,11,31),y=e.filter(P=>{const j=new Date(P.date);return j>=p&&j<v}),b=y.map(P=>({del:dg(f.parturitionDate,P.date),kg:P.kg})).sort((P,j)=>P.del-j.del),x=y.reduce((P,j)=>P+j.kg,0),_=y.length>0?x/y.length:0,S=b.reduce((P,j)=>j.kg>P.kg?j:P,{kg:0,del:0}),C=b[b.length-1],E=C?C.del:0;return{parturitionDate:f.parturitionDate,weighings:y,lactationCurve:b,averageProduction:_,peakProduction:S,totalDays:E}}),u=r.slice(1).map((f,h)=>{const p=r[h],v=new Date(f.parturitionDate).getTime()-new Date(p.parturitionDate).getTime();return{period:`${p.parturitionDate.substring(0,4)} - ${f.parturitionDate.substring(0,4)}`,days:Math.round(v/(1e3*60*60*24))}}),d=e.sort((f,h)=>new Date(h.date).getTime()-new Date(f.date).getTime())[0];return{allLactations:c,parturitionIntervals:u,lastWeighingDate:(d==null?void 0:d.date)||null}},[e,r]),isLoading:a}},ZCe=(t,e,n,r)=>{const[i,a]=N.useState([]),[s,o]=N.useState(!1);return N.useEffect(()=>{if(!t||!e.length){a([]);return}(()=>{o(!0);let u=[];if(t==="PRIMIPARAS_HISTORICAL"){const p=n.reduce((v,y)=>(v[y.goatId]=(v[y.goatId]||0)+1,v),{});u=e.filter(v=>p[v.id]===1).map(v=>v.id)}else if(t==="MULTIPARAS_HISTORICAL"){const p=n.reduce((v,y)=>(v[y.goatId]=(v[y.goatId]||0)+1,v),{});u=e.filter(v=>p[v.id]>1).map(v=>v.id)}const d=r.filter(p=>u.includes(p.goatId)),f={};d.forEach(p=>{const v=n.filter(b=>b.goatId===p.goatId&&new Date(p.date)>=new Date(b.parturitionDate)).sort((b,x)=>new Date(x.parturitionDate).getTime()-new Date(b.parturitionDate).getTime())[0];if(!v)return;const y=dg(v.parturitionDate,p.date);f[y]||(f[y]={totalKg:0,count:0}),f[y].totalKg+=p.kg,f[y].count++});const h=Object.entries(f).map(([p,v])=>({del:parseInt(p),kg:v.totalKg/v.count})).sort((p,v)=>p.del-v.del);a(h),o(!1)})()},[t,e,n,r]),{comparativeCurve:i,isLoading:s}},Zc=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebaño";return"range"in e[0].payload?l.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[l.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),l.jsxs("p",{className:"font-bold text-base",children:["Nº de Cabras: ",e[0].value]})]}):l.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[l.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Días en Leche (DEL): ${n}`:`DEL: ${n}`}),l.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Producción: ${e[0].value.toFixed(2)} Kg`})]})}return null},uy=({active:t,payload:e,label:n,context:r})=>{if(t&&e&&e.length){let i="",a="";switch(r){case"average":i=`Lactancia del ${n}`,a=`Promedio: ${e[0].value.toFixed(2)} Kg`;break;case"peak":i=`Lactancia del ${n}`,a=`Pico: ${e[0].value.toFixed(2)} Kg`;break;case"del":i=`Lactancia del ${n}`,a=`Duración: ${e[0].value} días`;break;case"interval":i=`Período ${n}`,a=`Intervalo: ${e[0].value} días`;break}return l.jsxs("div",{className:"bg-black/60 backdrop-blur-xl p-3 rounded-lg border border-zinc-700 text-white",children:[l.jsx("p",{className:"label text-zinc-400 text-sm font-medium",children:i}),l.jsx("p",{className:"font-semibold text-base",children:a})]})}return null};function eke({animalId:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,weighings:a,startDryingProcess:s,setLactationAsDry:o}=qe(),{allLactations:c,parturitionIntervals:u,lastWeighingDate:d,isLoading:f}=JCe(t),[h,p]=N.useState(null),[v,y]=N.useState(null),[b,x]=N.useState(!1),{comparativeCurve:_,isLoading:S}=ZCe(v,r,i,a),C=N.useMemo(()=>{if(c.length===0)return null;const $=c[c.length-1],z=i.find(X=>X.parturitionDate===$.parturitionDate&&X.goatId===t);return{...$,id:z==null?void 0:z.id,status:z==null?void 0:z.status}},[c,i,t]),E=N.useMemo(()=>C?dg(C.parturitionDate,new Date().toISOString().split("T")[0]):"N/A",[C]),P=N.useMemo(()=>({average:c.map($=>({name:new Date($.parturitionDate).getFullYear().toString(),value:$.averageProduction})),peak:c.map($=>({name:new Date($.parturitionDate).getFullYear().toString(),value:$.peakProduction.kg})),del:c.map($=>({name:new Date($.parturitionDate).getFullYear().toString(),value:$.totalDays})),interval:u.map($=>({name:$.period,value:$.days}))}),[c,u]);if(f)return l.jsx("div",{className:"text-center p-10",children:l.jsxs("h1",{className:"text-2xl text-zinc-400",children:["Cargando perfil de lactancia de ",t,"..."]})});const j=c.length>0?c[c.length-1]:null,A=u.length>0?u[u.length-1].days:0,O=c.length===1,D=()=>{const $=!b;x($),$||y(null)},R=$=>{y(z=>z===$?null:$)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:t}),l.jsx("p",{className:"text-xl text-zinc-400",children:"Perfil de Lactancia"})]}),l.jsx("button",{onClick:()=>n({name:"rebano-profile",animalId:t}),className:"p-2 -mr-2 text-zinc-400 hover:text-white transition-colors",title:"Ir a la ficha general del animal",children:l.jsx(fA,{size:24})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsxs("button",{onClick:()=>p("average"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[l.jsx(dA,{size:14}),l.jsx("span",{children:"Promedio"})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[(j==null?void 0:j.averageProduction.toFixed(2))||"N/A"," ",l.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),l.jsxs("button",{onClick:()=>p("peak"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[l.jsx(gs,{size:14}),l.jsx("span",{children:"Pico Prod."})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[(j==null?void 0:j.peakProduction.kg.toFixed(2))||"N/A"," ",l.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),l.jsxs("button",{onClick:()=>p("del"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[l.jsx(oL,{size:14}),l.jsx("span",{children:"DEL"})]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:E})]}),l.jsxs("button",{onClick:()=>p("interval"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[l.jsx(AG,{size:14}),l.jsx("span",{children:"Int. Partos"})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[A," ",l.jsx("span",{className:"text-lg text-zinc-400",children:"días"})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[l.jsx(aG,{size:14}),l.jsx("span",{children:"Últ. Pesaje"})]}),l.jsx("p",{className:"text-xl font-bold text-white",children:d?new Date(d+"T00:00:00").toLocaleDateString():"N/A"})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[l.jsxs("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:["Curva de Lactancia Actual (Parto: ",(j==null?void 0:j.parturitionDate)||"N/A",")"]}),l.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[l.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),l.jsx("button",{onClick:D,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${b?"bg-amber-500":"bg-zinc-700"}`,children:l.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${b?"translate-x-5":"translate-x-0"}`})}),b&&l.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[l.jsx("button",{onClick:()=>R("PRIMIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${v==="PRIMIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${O?"ring-2 ring-amber-400":""}`,children:"vs Primíparas"}),l.jsx("button",{onClick:()=>R("MULTIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${v==="MULTIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${O?"":"ring-2 ring-amber-400"}`,children:"vs Multíparas"})]})]})]}),l.jsxs("div",{className:"w-full h-56",children:[l.jsx(zn,{children:l.jsxs(H8,{margin:{top:5,right:20,left:-10,bottom:5},children:[l.jsx(ug,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),l.jsx(Sn,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{content:l.jsx(Zc,{})}),l.jsx(Ca,{verticalAlign:"top",height:36,iconType:"plainline"}),l.jsx(Qc,{type:"monotone",data:j==null?void 0:j.lactationCurve,dataKey:"kg",name:t,stroke:"#FBBF24",strokeWidth:2.5,dot:!1}),v&&!S&&l.jsx(Qc,{type:"monotone",data:_,dataKey:"kg",name:"Promedio del Grupo",stroke:"#34d399",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),S&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:"Calculando comparación..."})]})]}),(C==null?void 0:C.id)&&l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestión de Lactancia Actual"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[C.status==="activa"&&l.jsxs("button",{onClick:()=>s(C.id),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[l.jsx(vA,{size:20}),l.jsx("span",{children:"Iniciar Proceso de Secado"})]}),C.status==="en-secado"&&l.jsxs("button",{onClick:()=>o(C.id),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[l.jsx(hx,{size:20}),l.jsx("span",{children:"Declarar Lactancia como Seca"})]}),C.status==="seca"&&l.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:l.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),C.status==="en-secado"&&l.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal está en su período de secado."})]})]}),l.jsx(dt,{isOpen:h==="average",onClose:()=>p(null),title:"Historial de Promedios",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"w-full h-48 -ml-4",children:l.jsx(zn,{children:l.jsxs(ui,{data:P.average,margin:{top:5,right:20,left:-20,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"modalBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#FBBF24",stopOpacity:.8}),l.jsx("stop",{offset:"100%",stopColor:"#FBBF24",stopOpacity:.2})]})}),l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),l.jsx(Dt,{content:l.jsx(uy,{context:"average"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),l.jsx(Fn,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradient)"})]})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),l.jsx("ul",{className:"space-y-1",children:c.slice().reverse().map($=>l.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[l.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",$.parturitionDate]}),l.jsxs("span",{className:"text-base font-semibold text-white",children:[$.averageProduction.toFixed(2)," Kg"]})]},$.parturitionDate))})]})]})}),l.jsx(dt,{isOpen:h==="peak",onClose:()=>p(null),title:"Historial de Picos de Producción",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"w-full h-48 -ml-4",children:l.jsx(zn,{children:l.jsxs(ui,{data:P.peak,margin:{top:5,right:20,left:-20,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"modalBarGradientPeak",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),l.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.2})]})}),l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),l.jsx(Dt,{content:l.jsx(uy,{context:"peak"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),l.jsx(Fn,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientPeak)"})]})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),l.jsx("ul",{className:"space-y-1",children:c.slice().reverse().map($=>l.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[l.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",$.parturitionDate]}),l.jsxs("span",{className:"text-base font-semibold text-white",children:[$.peakProduction.kg.toFixed(2)," Kg ",l.jsxs("span",{className:"font-normal text-zinc-400",children:["(Día ",$.peakProduction.del,")"]})]})]},$.parturitionDate))})]})]})}),l.jsx(dt,{isOpen:h==="del",onClose:()=>p(null),title:"Historial de Duración de Lactancias",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"w-full h-48 -ml-4",children:l.jsx(zn,{children:l.jsxs(ui,{data:P.del,margin:{top:5,right:20,left:-20,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"modalBarGradientDel",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:.8}),l.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.2})]})}),l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),l.jsx(Dt,{content:l.jsx(uy,{context:"del"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),l.jsx(Fn,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientDel)"})]})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),l.jsx("ul",{className:"space-y-1",children:c.slice().reverse().map($=>l.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[l.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",$.parturitionDate]}),l.jsxs("span",{className:"text-base font-semibold text-white",children:[$.totalDays," días"]})]},$.parturitionDate))})]})]})}),l.jsx(dt,{isOpen:h==="interval",onClose:()=>p(null),title:"Historial de Intervalos entre Partos",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"w-full h-48 -ml-4",children:l.jsx(zn,{children:l.jsxs(ui,{data:P.interval,margin:{top:5,right:20,left:-20,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"modalBarGradientInt",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:.8}),l.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:.2})]})}),l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),l.jsx(Dt,{content:l.jsx(uy,{context:"interval"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),l.jsx(Fn,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientInt)"})]})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles de Intervalos"}),l.jsx("ul",{className:"space-y-1",children:u.slice().reverse().map($=>l.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[l.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Período ",$.period]}),l.jsxs("span",{className:"text-base font-semibold text-white",children:[$.days," días"]})]},$.period))})]})]})})]})}const tke=({plan:t})=>l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("p",{className:"font-semibold text-white",children:t.details}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Iniciado el: ",new Date(t.startDate+"T00:00:00").toLocaleDateString("es-VE")]})]});function nke({lotName:t,onBack:e}){const{feedingPlans:n,addFeedingPlan:r}=qe(),[i,a]=N.useState(""),[s,o]=N.useState(new Date().toISOString().split("T")[0]),[c,u]=N.useState(null),d=N.useMemo(()=>n.filter(h=>h.lotName===t).sort((h,p)=>new Date(p.startDate).getTime()-new Date(h.startDate).getTime()),[n,t]),f=async h=>{if(h.preventDefault(),!i.trim()){u({type:"error",text:"Los detalles del plan no pueden estar vacíos."});return}try{await r({lotName:t,details:i,startDate:s}),u({type:"success",text:"Plan de alimentación guardado con éxito."}),a("")}catch(p){u({type:"error",text:"No se pudo guardar el plan."}),console.error(p)}};return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Alimentación: ",t]}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Planes de Nutrición del Lote"})]}),l.jsx("div",{className:"w-8"})]}),l.jsxs("form",{onSubmit:f,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(Xr,{size:20})," Asignar Nuevo Plan"]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"planDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Plan (Ej: 2kg de concentrado/día)"}),l.jsx("textarea",{id:"planDetails",rows:3,value:i,onChange:h=>a(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"planStartDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),l.jsx("input",{id:"planStartDate",type:"date",value:s,onChange:h=>o(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),l.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Plan"}),c&&l.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${c.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[c.type==="success"?l.jsx(aa,{size:18}):l.jsx(un,{size:18}),l.jsx("span",{children:c.text})]})]}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[l.jsx(uA,{size:20})," Historial de Planes"]}),d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(h=>l.jsx(tke,{plan:h},h.id))}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"No hay planes de alimentación registrados para este lote."})})]})]})}const rke=({event:t})=>l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("p",{className:"font-semibold text-white",children:t.details}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Aplicado el: ",new Date(t.date+"T00:00:00").toLocaleDateString("es-VE")]})]});function ike({lotName:t,onBack:e}){const{events:n,addBatchEvent:r}=qe(),[i,a]=N.useState(""),[s,o]=N.useState(new Date().toISOString().split("T")[0]),[c,u]=N.useState(null),d=N.useMemo(()=>{const h=n.filter(p=>p.lotName===t&&p.type==="Tratamiento").reduce((p,v)=>{const y=`${v.date}-${v.details}`;return p[y]||(p[y]=v),p},{});return Object.values(h).sort((p,v)=>new Date(v.date).getTime()-new Date(p.date).getTime())},[n,t]),f=async h=>{if(h.preventDefault(),u(null),!i.trim()){u({type:"error",text:"Los detalles del tratamiento no pueden estar vacíos."});return}try{await r({lotName:t,details:i,date:s,type:"Tratamiento"}),u({type:"success",text:"Tratamiento registrado con éxito para todo el lote."}),a("")}catch(p){u({type:"error",text:"No se pudo registrar el tratamiento."}),console.error(p)}};return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Tratamientos: ",t]}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Sanidad Colectiva del Lote"})]}),l.jsx("div",{className:"w-8"})]}),l.jsxs("form",{onSubmit:f,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(Xr,{size:20})," Registrar Tratamiento al Lote"]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Tratamiento (Ej: Vacuna Triple)"}),l.jsx("textarea",{id:"treatmentDetails",rows:3,value:i,onChange:h=>a(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicación"}),l.jsx("input",{id:"treatmentDate",type:"date",value:s,onChange:h=>o(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),l.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Tratamiento"}),c&&l.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${c.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[c.type==="success"?l.jsx(aa,{size:18}):l.jsx(un,{size:18}),l.jsx("span",{children:c.text})]})]}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[l.jsx(IG,{size:20})," Historial de Tratamientos del Lote"]}),d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(h=>l.jsx(rke,{event:h},h.id))}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"No hay tratamientos registrados para este lote."})})]})]})}const zu=({icon:t,label:e,value:n,unit:r,colorClass:i})=>l.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border ${i||""}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(t,{size:14}),l.jsx("span",{children:e})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[n," ",l.jsx("span",{className:"text-lg text-zinc-400",children:r})]})]}),ake=({active:t,payload:e,label:n})=>t&&e&&e.length?l.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[l.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Edad: ",n," días"]}),e.map(r=>l.jsxs("p",{style:{color:r.color},className:"font-bold text-base",children:[r.name,": ",r.value.toFixed(2)," Kg"]},r.name))]}):null;function ske({animalId:t,onBack:e}){const{animals:n,bodyWeighings:r}=qe(),i=N.useMemo(()=>{const p=n.find(j=>j.id===t);if(!p)return null;const v=r.filter(j=>j.animalId===p.id).sort((j,A)=>new Date(j.date).getTime()-new Date(A.date).getTime()),y=cE(p.birthWeight,v),b=$a(p.birthDate),x=v.length>0?v[v.length-1].kg:p.birthWeight||0,_=OAe(p),S=IAe(p,v),C=v.map(j=>({age:(new Date(j.date).getTime()-new Date(p.birthDate).getTime())/(1e3*60*60*24),[p.id]:j.kg}));p.birthWeight&&C.unshift({age:0,[p.id]:p.birthWeight});const P=[60,90,180,270].map(j=>({days:j,weight:G8(v,p.birthDate,j)}));return{animal:p,gdp:y,formattedAge:b,latestWeight:x,chartData:C,interpolatedWeights:P,weaningIndex:_,precocityIndex:S}},[t,n,r]);if(!i)return l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."})});const{animal:a,gdp:s,formattedAge:o,latestWeight:c,chartData:u,interpolatedWeights:d,weaningIndex:f,precocityIndex:h}=i;return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:a.id}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Perfil de Crecimiento"})]}),l.jsx("div",{className:"w-8"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-4",children:[l.jsx(zu,{icon:Xm,label:"Peso Actual",value:c.toFixed(2),unit:"Kg"}),l.jsx(zu,{icon:gs,label:"GDP General",value:s.overall?(s.overall*1e3).toFixed(0):"N/A",unit:"g/día"}),l.jsx(zu,{icon:ro,label:"Edad Actual",value:o}),l.jsx(zu,{icon:yG,label:"Nº Pesajes",value:u.length})]}),(f||h)&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 px-4",children:[f&&l.jsx(zu,{icon:qG,label:"Índice Destete (60d)",value:f.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"}),h&&l.jsx(zu,{icon:WG,label:"Índice Precocidad (7m)",value:h.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"})]}),l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Curva de Crecimiento"}),l.jsx("div",{className:"w-full h-64",children:l.jsx(zn,{children:l.jsxs(H8,{data:u,margin:{top:5,right:20,left:-10,bottom:5},children:[l.jsx(ug,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),l.jsx(Sn,{dataKey:"age",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Edad (días)",position:"insideBottom",offset:-5,fill:"rgba(255,255,255,0.5)"}}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Peso (Kg)",angle:-90,position:"insideRight",fill:"rgba(255,255,255,0.5)"}}),l.jsx(Dt,{content:l.jsx(ake,{})}),l.jsx(Ca,{verticalAlign:"top",height:36}),l.jsx(Qc,{type:"monotone",dataKey:a.id,stroke:"#34C759",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})})]})}),l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hitos de Crecimiento (Pesos Estimados)"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(({days:p,weight:v})=>l.jsxs("div",{className:"bg-black/20 p-3 rounded-lg text-center",children:[l.jsxs("p",{className:"text-sm text-zinc-400",children:["Peso a los ",p," días"]}),l.jsx("p",{className:"text-xl font-bold text-white",children:v?`${v.toFixed(2)} Kg`:"---"})]},p))})]})})]})}const oke=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result.split(",")[1]),r.onerror=i=>n(i)}),lke=({onImageSelect:t})=>{const e=N.useRef(null),n=r=>{var i;(i=r.target.files)!=null&&i[0]&&t(r.target.files[0])};return l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsx("input",{type:"file",ref:e,accept:"image/*",onChange:n,className:"hidden"}),l.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.setAttribute("capture","environment"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[l.jsx(sG,{className:"w-12 h-12 mb-2 text-blue-400"}),l.jsx("span",{className:"text-lg font-semibold",children:"Tomar Foto"}),l.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Usa la cámara para escanear"})]}),l.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.removeAttribute("capture"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[l.jsx(mG,{className:"w-12 h-12 mb-2 text-green-400"}),l.jsx("span",{className:"text-lg font-semibold",children:"Seleccionar Archivo"}),l.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Elige una foto de tu galería"})]})]})};function cke({onBack:t}){const[e,n]=N.useState("capture"),[r,i]=N.useState(""),[a,s]=N.useState(""),o=async c=>{var u,d;n("loading"),i(""),s("");try{const f=await oke(c),y=await fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyAsHrxI8e8prsvYNvx992YyC26n592GfWk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:f},features:[{type:"TEXT_DETECTION"}]}]})});if(!y.ok){const _=await y.json();throw new Error(_.error.message||"Error en la API de Google Vision.")}const x=(d=(u=(await y.json()).responses[0])==null?void 0:u.fullTextAnnotation)==null?void 0:d.text;if(x)s(x),n("verification");else throw new Error("No se pudo detectar texto en la imagen. Intenta con una foto más clara.")}catch(f){i(f.message||"Ocurrió un error inesperado."),n("error")}};return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[l.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Escanear Cuaderno"}),l.jsx("p",{className:"text-xl text-zinc-400",children:"Digitalización Asistida"})]}),l.jsx("div",{className:"w-8"})]}),e==="capture"&&l.jsx(lke,{onImageSelect:o}),e==="loading"&&l.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[l.jsx(dL,{className:"w-12 h-12 text-amber-400 mx-auto animate-spin"}),l.jsx("p",{className:"mt-4 text-zinc-400",children:"Analizando imagen con IA..."})]}),e==="verification"&&l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider border-b border-brand-border pb-2",children:[l.jsx(fA,{}),l.jsx("span",{children:"Texto Reconocido"})]}),l.jsx("textarea",{readOnly:!0,value:a,className:"w-full h-48 bg-black/20 text-white p-3 rounded-lg border border-zinc-700"}),l.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Funcionalidad de autocompletado de pesajes próximamente."}),l.jsx("button",{onClick:()=>n("capture"),className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Escanear Otra Imagen"})]}),e==="error"&&l.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-6 text-center animate-fade-in",children:[l.jsx(un,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Ocurrió un Error"}),l.jsx("p",{className:"text-red-300",children:r}),l.jsx("button",{onClick:()=>n("capture"),className:"mt-6 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Intentar de Nuevo"})]})]})}const IM=152,SE=()=>{const{animals:t,breedingSeasons:e,sireLots:n,serviceRecords:r,fathers:i}=qe();return{forecastBySeason:N.useMemo(()=>{var d;const s=[],o=e.filter(f=>f.status==="Activo");for(const f of o){const h=n.filter(y=>y.seasonId===f.id);if(h.length===0)continue;const p=new Set(h.map(y=>y.id)),v=t.filter(y=>y.sireLotId&&p.has(y.sireLotId));for(const y of v){const b=r.filter(S=>S.femaleId===y.id&&S.sireLotId===y.sireLotId&&new Date(S.serviceDate)>=new Date(f.startDate)&&new Date(S.serviceDate)<=new Date(f.endDate)).sort((S,C)=>new Date(C.serviceDate).getTime()-new Date(S.serviceDate).getTime())[0],x=n.find(S=>S.id===y.sireLotId);if(!x)continue;const _=((d=i.find(S=>S.id===x.sireId))==null?void 0:d.name)||x.sireId;if(b){const S=new Date(b.serviceDate);S.setDate(S.getDate()+IM),s.push({animal:y,dueDate:S,type:"Confirmada",sireId:x.sireId,sireName:_,seasonId:f.id})}else{const C=new Date(f.startDate);C.setDate(C.getDate()+10+IM),s.push({animal:y,dueDate:C,type:"Probable",sireId:x.sireId,sireName:_,seasonId:f.id})}}}const c=s.reduce((f,h)=>{const{seasonId:p}=h;return f[p]||(f[p]=[]),f[p].push(h),f},{});let u=Object.entries(c).map(([f,h])=>{const p=e.find(x=>x.id===f),v=h.map(x=>x.dueDate.getTime()),y=new Date(Math.min(...v)),b=new Date(Math.max(...v));return{seasonId:f,seasonName:p.name,projectedStartDate:h.length>0?y:null,projectedEndDate:h.length>0?b:null,events:h.sort((x,_)=>x.dueDate.getTime()-_.dueDate.getTime()),totalEvents:h.length,confirmedEvents:h.filter(x=>x.type==="Confirmada").length,probableEvents:h.filter(x=>x.type==="Probable").length,daysSinceLastSeason:null}}).sort((f,h)=>f.projectedStartDate.getTime()-h.projectedStartDate.getTime());if(u.length>1)for(let f=1;f<u.length;f++){const h=u[f].projectedStartDate,p=u[f-1].projectedEndDate,v=h.getTime()-p.getTime(),y=Math.ceil(v/(1e3*60*60*24));u[f].daysSinceLastSeason=y}return u},[t,e,n,r,i])}},uke=`
  .rdp { --rdp-cell-size: 45px; --rdp-accent-color: #FF9500; --rdp-background-color: #2C2C2E; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: #2C2C2E; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; width: 100%; }
  .rdp-caption_label, .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .day-confirmed { position: relative; }
  .day-confirmed::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #34C759; }
  .day-probable { position: relative; }
  .day-probable::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #FF9500; opacity: 0.7; }
`,dke=({seasonForecast:t,onClick:e})=>{var n,r;return l.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border hover:border-brand-blue transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.seasonName}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[(n=t.projectedStartDate)==null?void 0:n.toLocaleDateString("es-VE",{month:"long",day:"numeric"})," - ",(r=t.projectedEndDate)==null?void 0:r.toLocaleDateString("es-VE",{month:"long",day:"numeric",year:"numeric"})]})]}),t.daysSinceLastSeason!==null&&t.daysSinceLastSeason>0&&l.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[l.jsx("p",{className:"text-xs text-zinc-500",children:"Separación"}),l.jsxs("p",{className:"font-semibold text-white",children:[t.daysSinceLastSeason," días"]})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold text-2xl text-white",children:t.totalEvents}),l.jsx("p",{className:"text-xs text-zinc-400",children:"Partos"})]}),l.jsxs("div",{className:"text-left text-xs",children:[l.jsxs("p",{className:"flex items-center gap-1 text-brand-green",children:[l.jsx(aa,{size:12})," Confirmados: ",t.confirmedEvents]}),l.jsxs("p",{className:"flex items-center gap-1 text-brand-orange",children:[l.jsx(mx,{size:12})," Probables: ",t.probableEvents]})]})]}),l.jsx(Rr,{className:"text-zinc-600"})]})]})},fke=({forecastItem:t,onClick:e})=>l.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-white",children:t.animal.id}),l.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?l.jsx(aa,{size:16}):l.jsx(mx,{size:16}),l.jsx("span",{children:t.type})]})]});function hke({navigateTo:t}){const{forecastBySeason:e}=SE(),[n,r]=N.useState("cards"),[i,a]=N.useState(void 0),[s,o]=N.useState(new Date),c=N.useMemo(()=>e.flatMap(f=>f.events),[e]),u=N.useMemo(()=>({confirmed:c.filter(f=>f.type==="Confirmada").map(f=>f.dueDate),probable:c.filter(f=>f.type==="Probable").map(f=>f.dueDate)}),[c]),d=N.useMemo(()=>i?c.filter(f=>f.dueDate.getFullYear()===i.getFullYear()&&f.dueDate.getMonth()===i.getMonth()&&f.dueDate.getDate()===i.getDate()):[],[c,i]);return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsx("style",{children:uke}),l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Calendario de Partos"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Proyecciones del Rebaño"})]}),l.jsxs("div",{className:"flex justify-center p-1 bg-zinc-800 rounded-xl",children:[l.jsxs("button",{onClick:()=>r("cards"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="cards"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[l.jsx(uL,{size:16})," Temporadas"]}),l.jsxs("button",{onClick:()=>r("calendar"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="calendar"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[l.jsx(ro,{size:16})," Calendario"]})]}),n==="cards"&&l.jsx("div",{className:"space-y-3",children:e.length>0?e.map(f=>l.jsx(dke,{seasonForecast:f,onClick:()=>t({name:"birthing-season-detail",seasonId:f.seasonId})},f.seasonId)):l.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[l.jsx(bv,{size:32,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-400",children:"No hay temporadas de parto activas o proyectadas."})]})}),n==="calendar"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:l.jsx(Wf,{mode:"single",selected:i,onSelect:a,month:s,onMonthChange:o,locale:mE,modifiers:{confirmed:u.confirmed,probable:u.probable},modifiersClassNames:{confirmed:"day-confirmed",probable:"day-probable"},showOutsideDays:!0})}),i&&l.jsxs("div",{className:"space-y-3 pt-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Proyecciones para el ",i.toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})]}),d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(f=>l.jsx(fke,{forecastItem:f,onClick:()=>t({name:"rebano-profile",animalId:f.animal.id})},f.animal.id))}):l.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"No hay partos proyectados para este día."})})]})]})]})}const pke=({forecastItem:t,onClick:e})=>l.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-white",children:t.animal.id}),l.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?l.jsx(aa,{size:16}):l.jsx(mx,{size:16}),l.jsx("span",{children:t.type})]}),l.jsx(Rr,{className:"text-zinc-600"})]})]}),mke=t=>{const e=new Date(t.getUTCFullYear(),t.getUTCMonth(),1),n=e.getUTCDay()===0?6:e.getUTCDay()-1,r=t.getUTCDate(),i=Math.ceil((r+n)/7),a=t.toLocaleString("es-VE",{month:"short",timeZone:"UTC"});return`${a.charAt(0).toUpperCase()+a.slice(1)} - Sem ${i}`};function gke({seasonId:t,onBack:e,navigateTo:n}){const{forecastBySeason:r}=SE(),i=N.useMemo(()=>r.find(s=>s.seasonId===t),[r,t]),a=N.useMemo(()=>{if(!i)return[];const s={};return i.events.forEach(o=>{const c=o.dueDate,u=mke(c);if(!s[u]){const d=c.getUTCDate(),f=c.getUTCDay()===0?6:c.getUTCDay()-1,h=new Date(c);h.setUTCDate(d-f),s[u]={count:0,startDate:h}}s[u].count++}),Object.entries(s).map(([o,c])=>({name:o,partos:c.count,startDate:c.startDate})).sort((o,c)=>o.startDate.getTime()-c.startDate.getTime())},[i]);return i?l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:i.seasonName}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de Proyección de Partos"})]}),l.jsx("div",{className:"w-8"})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[l.jsx(px,{size:20})," Proyección Semanal de Partos"]}),l.jsx("div",{className:"w-full h-56",children:l.jsx(zn,{children:l.jsxs(ui,{data:a,margin:{top:5,right:10,left:-20,bottom:5},children:[l.jsx(ug,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{allowDecimals:!1,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"}}),l.jsx(Fn,{dataKey:"partos",name:"Nº de Partos",fill:"#007AFF",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Lista de Animales (",i.totalEvents,")"]}),l.jsx("div",{className:"space-y-2",children:i.events.map(s=>l.jsx(pke,{forecastItem:s,onClick:()=>n({name:"rebano-profile",animalId:s.animal.id})},s.animal.id))})]})]}):l.jsxs("div",{className:"text-center p-10",children:[l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada de Partos no encontrada."}),l.jsx("button",{onClick:e,className:"mt-4 text-brand-amber",children:"Volver"})]})}const yke=[{id:"rebano",name:"Rebaño",icon:Qm,color:"bg-amber-600"},{id:"lactokeeper",name:"LactoKeeper",icon:gx,color:"bg-brand-blue"},{id:"kilos",name:"Kilos",icon:Xm,color:"bg-brand-green"},{id:"salud",name:"StockCare",icon:yx,color:"bg-teal-500"},{id:"cents",name:"Cents",icon:Vc,color:"bg-yellow-500"}],gg=({onSwitchModule:t})=>{const[e,n]=N.useState(!1),r=i=>{n(!1),t(i)};return l.jsxs("div",{className:"fixed bottom-24 right-4 z-40 flex flex-col items-end gap-4",children:[l.jsx("div",{className:`flex flex-col items-end gap-4 transition-all duration-300 ease-in-out overflow-hidden ${e?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:yke.map(i=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg",children:i.name}),l.jsx("button",{onClick:()=>r(i.id),className:`w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg ${i.color} transform transition-transform hover:scale-110`,"aria-label":`Cambiar al módulo ${i.name}`,children:l.jsx(i.icon,{size:28})})]},i.id))}),l.jsx("button",{onClick:()=>n(!e),className:"w-16 h-16 rounded-full flex items-center justify-center text-black bg-brand-amber shadow-2xl shadow-black/50 transform transition-transform duration-200 hover:scale-110 pointer-events-auto","aria-label":"Seleccionar módulo",children:l.jsx("div",{className:`transform transition-transform duration-300 ${e?"rotate-180 scale-75":"rotate-0"}`,children:e?l.jsx(Al,{size:32}):l.jsx(bG,{size:32})})})]})};function vke(t){return ho({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224l0 32 0 160c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-88.2c9.9 6.6 20.6 12 32 16.1l0 24.2c0 8.8 7.2 16 16 16s16-7.2 16-16l0-16.9c5.3 .6 10.6 .9 16 .9s10.7-.3 16-.9l0 16.9c0 8.8 7.2 16 16 16s16-7.2 16-16l0-24.2c11.4-4 22.1-9.4 32-16.1l0 88.2c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-160 32 32 0 49.5c0 9.5 2.8 18.7 8.1 26.6L530 427c8.8 13.1 23.5 21 39.3 21c22.5 0 41.9-15.9 46.3-38l20.3-101.6c2.6-13-.3-26.5-8-37.3l-3.9-5.5 0-81.6c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 14.4-52.9-74.1C496 86.5 452.4 64 405.9 64L272 64l-16 0-64 0-48 0C77.7 64 24 117.7 24 184l0 54C9.4 249.8 0 267.8 0 288l0 17.6c0 8 6.4 14.4 14.4 14.4C46.2 320 72 294.2 72 262.4l0-6.4 0-32 0-40c0-24.3 12.1-45.8 30.5-58.9C98.3 135.9 96 147.7 96 160l0 64zM560 336a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM166.6 166.6c-4.2-4.2-6.6-10-6.6-16c0-12.5 10.1-22.6 22.6-22.6l178.7 0c12.5 0 22.6 10.1 22.6 22.6c0 6-2.4 11.8-6.6 16l-23.4 23.4C332.2 211.8 302.7 224 272 224s-60.2-12.2-81.9-33.9l-23.4-23.4z"},child:[]}]})(t)}const xke={idle:{Icon:fG,color:"text-green-500",label:"Datos sincronizados"},syncing:{Icon:uG,color:"text-amber-500 animate-spin-slow",label:"Sincronizando datos..."},offline:{Icon:dG,color:"text-red-500",label:"Sin conexión"}},yg=({status:t})=>{const{Icon:e,color:n,label:r}=xke[t];return l.jsx("div",{className:"flex items-center gap-2",title:r,children:l.jsx(e,{className:`w-5 h-5 ${n}`})})};function bke({initialPage:t,onSwitchModule:e}){const{syncStatus:n}=qe(),[r,i]=N.useState({name:"lots-dashboard"}),[a,s]=N.useState([]);N.useEffect(()=>{t&&(i(t),s([]))},[t]);const o=[{page:{name:"lots-dashboard"},label:"Lotes",icon:wL,mapsTo:["lots-dashboard","lot-detail","breeding-season-detail","sire-lot-detail","feeding-plan","batch-treatment"]},{page:{name:"herd"},label:"Rebaño",icon:vke,mapsTo:["herd","rebano-profile","manage-lots","lactation-profile","growth-profile"]},{page:{name:"farm-calendar"},label:"Calendario",icon:oL,mapsTo:["farm-calendar","birthing-season-detail"]},{page:{name:"add-animal"},label:"Añadir",icon:Sl,mapsTo:["add-animal","ocr"]}],c=h=>{s(p=>[...p,r]),i(h)},u=()=>{const h=a.pop();h?(s([...a]),i(h)):i({name:"lots-dashboard"})},d=h=>{s([]),i(h)},f=()=>{switch(r.name){case"lots-dashboard":return l.jsx(hM,{navigateTo:c});case"lot-detail":return l.jsx(QAe,{lotName:r.lotName,onBack:u,navigateTo:c});case"breeding-season-detail":return l.jsx(HCe,{seasonId:r.seasonId,onBack:u,navigateTo:c});case"sire-lot-detail":return l.jsx(QCe,{lotId:r.lotId,onBack:u,navigateTo:c});case"herd":return l.jsx(SCe,{navigateTo:c,locationFilter:r.locationFilter});case"manage-lots":return l.jsx(VCe,{onBack:()=>d({name:"herd"})});case"management":return l.jsx(FCe,{onSelectAnimal:h=>c({name:"rebano-profile",animalId:h})});case"add-animal":return l.jsx(gCe,{onBack:()=>d({name:"herd"})});case"rebano-profile":return l.jsx($Ce,{animalId:r.animalId,onBack:u,navigateTo:c});case"lactation-profile":return l.jsx(eke,{animalId:r.animalId,onBack:u,navigateTo:c});case"growth-profile":return l.jsx(ske,{animalId:r.animalId,onBack:u});case"ocr":return l.jsx(cke,{onBack:u});case"feeding-plan":return l.jsx(nke,{lotName:r.lotName,onBack:u});case"batch-treatment":return l.jsx(ike,{lotName:r.lotName,onBack:u});case"farm-calendar":return l.jsx(hke,{navigateTo:c});case"birthing-season-detail":return l.jsx(gke,{seasonId:r.seasonId,onBack:u,navigateTo:c});default:return l.jsx(hM,{navigateTo:c})}};return l.jsxs("div",{className:"font-sans text-gray-200 min-h-screen animate-fade-in",children:[l.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qm,{className:"text-brand-orange",size:28}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),l.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Rebaño"})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(yg,{status:n})})]})}),l.jsx("main",{className:"pt-16 pb-24",children:f()}),l.jsx(gg,{onSwitchModule:e}),l.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-20 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:[o.map(h=>{const p=h.mapsTo.includes(r.name);return l.jsxs("button",{onClick:()=>d(h.page),className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${p?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[l.jsx(h.icon,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs font-semibold mt-1",children:h.label})]},h.label)}),l.jsxs("button",{onClick:()=>Fd.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[l.jsx(hL,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})}function DM({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=qe(),[a,s]=N.useState("current"),[o,c]=N.useState(!1),[u,d]=N.useState(!1),f=N.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let h=0;if(n.length>0){const P=n.reduce((j,A)=>A.date>j?A.date:j,n[0].date);h=new Set(n.filter(j=>j.date===P).map(j=>j.goatId)).size}let p=n;if(a==="current"){const P=new Set(r.filter(j=>j.status==="activa").map(j=>j.goatId));p=n.filter(j=>P.has(j.goatId))}const v={};p.forEach(P=>{const j=r.filter(O=>O.goatId===P.goatId&&new Date(P.date)>=new Date(O.parturitionDate)).sort((O,D)=>new Date(D.parturitionDate).getTime()-new Date(O.parturitionDate).getTime())[0];if(!j)return;const A=dg(j.parturitionDate,P.date);v[A]||(v[A]={totalKg:0,count:0}),v[A].totalKg+=P.kg,v[A].count++});const y=Object.entries(v).map(([P,j])=>({del:parseInt(P),kg:j.totalKg/j.count,name:"Promedio Rebaño"})).sort((P,j)=>P.del-j.del),b=e.map(P=>{const j=n.filter(O=>O.goatId===P.id);return j.length===0?null:{avg:j.reduce((O,D)=>O+D.kg,0)/j.length}}).filter(Boolean),x=b.length>0?b.reduce((P,j)=>P+j.avg,0)/b.length:0,_=b.length>0?Math.sqrt(b.reduce((P,j)=>P+Math.pow(j.avg-x,2),0)/b.length):0,S=[];if(b.length>0){const P=Math.floor(Math.min(...b.map(A=>A.avg))*4)/4,j=Math.ceil(Math.max(...b.map(A=>A.avg))*4)/4;for(let A=P;A<=j;A+=.25){const O=A,D=A+.25,R=b.filter($=>$.avg>=O&&$.avg<D).length;R>0&&S.push({range:`${O.toFixed(2)}`,count:R})}}const C={distribution:S,mean:x,stdDev:_};return{herdAverage:n.length>0?n.reduce((P,j)=>P+j.kg,0)/n.length:0,activeGoats:h,herdLactationCurve:y,gaussData:C}},[e,n,r,i,a]);return i?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebaño..."})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 px-4",children:[l.jsxs("header",{className:"text-center pt-4 pb-4",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Dashboard de Producción"}),l.jsx("p",{className:"text-md text-zinc-400",children:"Análisis General de LactoKeeper"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[l.jsx(dA,{size:14}),l.jsx("span",{children:"Promedio Global"})]}),l.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[f.herdAverage.toFixed(2)," ",l.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),l.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[l.jsx(CG,{}),l.jsx("span",{children:"Animales en Ordeño"})]}),l.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:f.activeGoats})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[l.jsx(KC,{size:16}),l.jsx("span",{children:"Curva de Lactancia"}),l.jsx("button",{onClick:()=>c(!0),className:"text-zinc-500 hover:text-white transition-colors",children:l.jsx(O_,{size:14})})]}),l.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[l.jsx("button",{onClick:()=>s("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="current"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),l.jsx("button",{onClick:()=>s("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="historical"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histórico"})]})]}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(CAe,{data:f.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"lactationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#FF9500",stopOpacity:.7}),l.jsx("stop",{offset:"80%",stopColor:"#34C759",stopOpacity:.1})]})}),l.jsx(Sn,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),l.jsx(Dt,{content:l.jsx(Zc,{})}),l.jsx(Il,{type:"monotone",dataKey:"kg",stroke:"#FF9500",strokeWidth:2.5,fill:"url(#lactationGradient)"})]})})})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[l.jsx(KC,{size:16}),l.jsx("span",{children:"Distribución del Rebaño"}),l.jsx("button",{onClick:()=>d(!0),className:"text-zinc-500 hover:text-white transition-colors",children:l.jsx(O_,{size:14})})]})}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(ui,{data:f.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsx(ug,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),l.jsx(Sn,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),l.jsx(kn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),l.jsx(Dt,{content:l.jsx(Zc,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),l.jsx(Fn,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"Nº de Cabras"}),l.jsx(ub,{x:f.gaussData.mean.toFixed(2),stroke:"#34C759",strokeWidth:2,label:{value:"μ",fill:"#34C759",position:"insideTopLeft"}})]})})})]})]}),l.jsx(dt,{isOpen:o,onClose:()=>c(!1),title:"¿Qué es la Curva de Lactancia del Rebaño?",children:l.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[l.jsx("p",{children:'Este gráfico revela la **"personalidad productiva"** de tu rebaño. No es un promedio simple, sino una línea de tiempo del rendimiento promedio.'}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white mb-1",children:"¿Cómo se Calcula?"}),l.jsx("p",{className:"text-sm",children:'Para cada "Día en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese día de su ciclo y calcula el promedio.'}),l.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[l.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su día 50 de lactancia.']})]}),l.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: ¿Cuándo ocurre el pico de producción del rebaño? y ¿Qué tan persistente es la lactancia después del pico?"})]})}),l.jsx(dt,{isOpen:u,onClose:()=>d(!1),title:"¿Qué es la Distribución del Rebaño?",children:l.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[l.jsx("p",{children:"Este gráfico, conocido como Campana de Gauss o distribución normal, clasifica el rendimiento promedio de cada animal en el rebaño."}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media (μ)"}),l.jsx("p",{className:"text-sm",children:"La línea verde marcada como **μ** representa el **promedio de producción de todo el rebaño**. Es el punto de referencia central."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),l.jsx("p",{className:"text-sm",children:"Cada barra muestra cuántos animales caen dentro de un rango específico de producción. Una barra alta en el centro (cerca de μ) indica que la mayoría de tu rebaño tiene un rendimiento promedio y consistente."})]}),l.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rápidamente a los animales de élite (extremo derecho) y a los que podrían necesitar atención (extremo izquierdo)."})]})})]})}const xV=(t,e,n,r,i)=>N.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=t.reduce((y,b)=>{const x=e.find(A=>A.id===b.goatId);if(!x)return y;const _=r.filter(A=>A.goatId===x.id&&new Date(A.parturitionDate)<=new Date(b.date)).sort((A,O)=>new Date(O.parturitionDate).getTime()-new Date(A.parturitionDate).getTime())[0];if(!_)return y;const S=dg(_.parturitionDate,b.date),C=i?kAe(b.kg,S):b.kg,E=n.filter(A=>A.goatId===x.id).sort((A,O)=>new Date(O.date).getTime()-new Date(A.date).getTime());let P="single";const j=E.findIndex(A=>A.date===b.date);if(j!==-1&&j+1<E.length){const A=E[j+1],O=b.kg-A.kg,D=.15;O>D?P="up":O<-D?P="down":P="stable"}return y.push({...x,latestWeighing:b.kg,weighingId:b.id,del:S,score:C,trend:P,date:b.date}),y},[]);if(!a.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const s=i?"score":"latestWeighing",o=a.reduce((y,b)=>y+b[s],0)/a.length,c=Math.sqrt(a.reduce((y,b)=>y+Math.pow(b[s]-o,2),0)/a.length),u=o-.4*c,d=o+.4*c,f=a.map(y=>{const b=y[s];let x="Promedio";return c>.1&&(b<u?x="Pobre":b>d&&(x="Sobresaliente")),{...y,classification:x}}),h=[{name:"Pobre",count:f.filter(y=>y.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:f.filter(y=>y.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:f.filter(y=>y.classification==="Sobresaliente").length,fill:"#34C759"}],p=a.length>0?a.reduce((y,b)=>y+b.latestWeighing,0)/a.length:0,v=a.length>0?a.reduce((y,b)=>y+b.score,0)/a.length:0;return{classifiedAnimals:f,distribution:h,mean:p,stdDev:c,weightedMean:v}},[t,e,n,r,i]),wke=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:{Icon:Wp,color:"text-brand-green"},down:{Icon:Up,color:"text-brand-red"},stable:{Icon:pL,color:"text-zinc-400"}},{Icon:r,color:i}=n[t];return l.jsxs("div",{className:`flex items-center font-semibold text-sm ${i}`,children:[l.jsx(r,{size:18,strokeWidth:3}),e&&l.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},bV=(t,e)=>N.useMemo(()=>{if(!t||!e)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};const r=e.filter(d=>d.goatId===t).sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime());if(r.length<1)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};if(r.length===1)return{trend:"single",difference:0,isLongTrend:!1,lastTwoWeighings:[r[0]]};const i=r[0],a=r[1],s=i.kg-a.kg,o=.15;let c;s>o?c="up":s<-o?c="down":c="stable";let u=!1;if(r.length>=3){const d=r[2],f=a.kg-d.kg,h=s>o&&f>o,p=s<-o&&f<-o;(h||p)&&(u=!0)}return{trend:c,difference:s,isLongTrend:u,lastTwoWeighings:[i,a]}},[t,e]),dy=({title:t,value:e,unit:n,icon:r,onClick:i})=>l.jsxs("button",{onClick:i,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors w-full",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(r,{size:14}),l.jsx("span",{children:t})]}),l.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[e," ",l.jsx("span",{className:"text-lg text-zinc-400",children:n})]})]}),cw=({animal:t,onSelectAnimal:e,onTrendClick:n,isNewEntry:r})=>{const{weighings:i}=qe(),{trend:a,isLongTrend:s}=bV(t.id,i),o={Sobresaliente:"bg-brand-green",Promedio:"bg-gray-500",Pobre:"bg-brand-red"},c=d=>{d.stopPropagation(),!r&&a&&a!=="single"&&n(t)},u=$a(t.birthDate);return l.jsxs("div",{onClick:()=>e(t.id),className:"relative w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[l.jsx("div",{className:`absolute top-3 right-3 w-2.5 h-2.5 rounded-full ${t.latestWeighing>0?o[t.classification]:"bg-transparent"}`,title:`Rendimiento: ${t.classification}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[t.sex," | ",u," | Lote: ",t.location||"Sin Asignar"]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-brand-orange",children:t.latestWeighing>0?`${t.latestWeighing.toFixed(2)} Kg`:"Sin Pesar"}),t.del>0&&l.jsxs("p",{className:"text-xs text-zinc-400",children:["DEL: ",t.del]})]}),r?l.jsx("span",{title:"Primer Ingreso al Control Lechero",className:"w-8 h-8 flex items-center justify-center rounded-full bg-green-500/20 text-brand-green",children:l.jsx(fL,{size:18,strokeWidth:3})}):l.jsx("button",{onClick:c,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors disabled:cursor-not-allowed",disabled:!a||a==="single",children:l.jsx(wke,{trend:a,isLongTrend:s})}),l.jsx(Rr,{className:"text-zinc-600"})]})]})},_ke=({animalId:t})=>{var i,a;const{weighings:e}=qe(),{lastTwoWeighings:n,difference:r}=bV(t,e);return n.length<2?l.jsx("p",{children:"No hay suficientes datos para comparar."}):l.jsxs("div",{className:"text-center text-white space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",new Date(n[1].date+"T00:00:00").toLocaleDateString(),")"]}),l.jsxs("p",{className:"text-2xl font-semibold",children:[((i=n[1])==null?void 0:i.kg.toFixed(2))||"N/A"," Kg"]})]}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-zinc-400",children:["Último Pesaje (",new Date(n[0].date+"T00:00:00").toLocaleDateString(),")"]}),l.jsxs("p",{className:"text-2xl font-semibold",children:[((a=n[0])==null?void 0:a.kg.toFixed(2))||"N/A"," Kg"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),l.jsxs("p",{className:`text-3xl font-bold ${r>.15?"text-brand-green":r<-.15?"text-brand-red":"text-zinc-400"}`,children:[r>0?"+":"",r.toFixed(2)," Kg"]})]})]})},Ske=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return l.jsx("text",{x:e+r/2,y:n+18,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})};function jke({onSelectAnimal:t}){const{animals:e,parturitions:n,weighings:r,isLoading:i}=qe(),[a,s]=N.useState(!1),[o,c]=N.useState("all"),[u,d]=N.useState("all"),[f,h]=N.useState("all"),[p,v]=N.useState("all"),[y,b]=N.useState(null),[x,_]=N.useState(null),[S,C]=N.useState(!1),[E,P]=N.useState(0),[j,A]=N.useState(""),{weighingsByDate:O,availableDates:D}=N.useMemo(()=>{const Z={};r.forEach(ve=>{Z[ve.date]||(Z[ve.date]=[]),Z[ve.date].push(ve)});const Pe=Object.keys(Z).sort((ve,de)=>new Date(de).getTime()-new Date(ve).getTime());return{weighingsByDate:Z,availableDates:Pe}},[r]),R=D[E],$=N.useMemo(()=>{if(!R)return[];const Z=O[R]||[],Pe=new Map;return Z.forEach(ve=>Pe.set(ve.goatId,ve)),Array.from(Pe.values())},[R,O]),{classifiedAnimals:z,distribution:X,mean:te,stdDev:U,weightedMean:K}=xV($,e,r,n,a),{newAnimalIds:V,exitingAnimalIds:Y}=N.useMemo(()=>{const Z=new Set($.map(Ne=>Ne.goatId)),Pe=new Set(r.filter(Ne=>new Date(Ne.date)<new Date(R)).map(Ne=>Ne.goatId)),ve=new Set([...Z].filter(Ne=>!Pe.has(Ne))),de=D[E+1]?O[D[E+1]]||[]:[],ft=new Set(de.map(Ne=>Ne.goatId)),Ze=new Set([...ft].filter(Ne=>!Z.has(Ne)));return{newAnimalIds:ve,exitingAnimalIds:Ze}},[$,E,D,O,r,R]),oe=N.useMemo(()=>{const Z=z.filter(ve=>!V.has(ve.id)),Pe=Z.length;return Pe===0?{up:0,down:0,stable:0}:{up:Z.filter(ve=>ve.trend==="up").length/Pe*100,down:Z.filter(ve=>ve.trend==="down").length/Pe*100,stable:Z.filter(ve=>ve.trend==="stable").length/Pe*100}},[z,V]),ue=N.useMemo(()=>e.filter(Z=>{const Pe=n.filter(ve=>ve.goatId===Z.id).sort((ve,de)=>new Date(de.parturitionDate).getTime()-new Date(ve.parturitionDate).getTime())[0];return(Pe==null?void 0:Pe.status)==="activa"}),[e,n]),ye=N.useMemo(()=>{let Z;return j?Z=ue.filter(Pe=>Pe.id.toLowerCase().includes(j.toLowerCase())).map(Pe=>{const ve=z.find(de=>de.id===Pe.id);return{...Pe,latestWeighing:(ve==null?void 0:ve.latestWeighing)||0,del:(ve==null?void 0:ve.del)||0,score:(ve==null?void 0:ve.score)||0,classification:(ve==null?void 0:ve.classification)||"Promedio",trend:(ve==null?void 0:ve.trend)||null,weighingId:ve==null?void 0:ve.weighingId,date:(ve==null?void 0:ve.date)||R}}):(Z=[...z],o!=="all"&&(Z=Z.filter(Pe=>Pe.classification===o)),f==="new"?Z=Z.filter(Pe=>V.has(Pe.id)):u!=="all"&&(Z=Z.filter(Pe=>!V.has(Pe.id)&&Pe.trend===u)),p!=="all"&&(Z=Z.filter(Pe=>{const ve=Pe.del;return ve===0?!1:p==="first"?ve>0&&ve<=100:p==="second"?ve>100&&ve<=200:p==="third"?ve>200&&ve<270:p==="drying"?ve>=270:!0}))),Z.sort((Pe,ve)=>ve.latestWeighing-Pe.latestWeighing)},[j,z,o,u,f,p,V,ue,R]),{topPerformer:_e,bottomPerformer:Ue,totalProd:He,consistency:nt}=N.useMemo(()=>{if(z.length===0)return{topPerformer:null,bottomPerformer:null,totalProd:0,consistency:0};const Z=z.map(Qe=>Qe.latestWeighing),Pe=Z.reduce((Qe,vn)=>Qe+vn,0),ve=Math.max(...Z),de=Math.min(...Z),ft=te-U,Ze=te+U,Ne=z.filter(Qe=>Qe.latestWeighing>=ft&&Qe.latestWeighing<=Ze).length;return{topPerformer:z.find(Qe=>Qe.latestWeighing===ve),bottomPerformer:z.find(Qe=>Qe.latestWeighing===de),totalProd:Pe,consistency:Ne/z.length*100}},[z,te,U]),bt=()=>{c("all"),d("all"),h("all"),v("all"),A("")},Ut=Z=>{if(Z!=null&&Z.name){const Pe=Z.name;c(ve=>ve===Pe?"all":Pe)}};return i&&D.length===0?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Calculando análisis..."})}):D.length===0?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"No hay pesajes registrados."})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-full max-w-2xl mx-auto h-full overflow-y-auto",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"bg-brand-glass rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[l.jsx("button",{onClick:()=>P(Z=>Math.min(Z+1,D.length-1)),disabled:E>=D.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:l.jsx(oG,{})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-lg font-semibold text-white",children:new Date(R+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[$.length," animales pesados"]})]}),l.jsx("button",{onClick:()=>P(Z=>Math.max(Z-1,0)),disabled:E===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:l.jsx(Rr,{})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(dy,{icon:gx,title:a?"Media Ponderada":"Media de Prod.",value:(a?K:te).toFixed(2),unit:"Kg",onClick:()=>b("media")}),l.jsx(dy,{icon:vL,title:"Prod. Total",value:He.toFixed(2),unit:"Kg",onClick:()=>b("total")}),l.jsx(dy,{icon:OG,title:"Consistencia",value:U.toFixed(2),unit:"σ",onClick:()=>b("consistencia")}),l.jsx(dy,{icon:gs,title:"Rango Prod.",value:`${(Ue==null?void 0:Ue.latestWeighing.toFixed(2))||0} - ${(_e==null?void 0:_e.latestWeighing.toFixed(2))||0}`,unit:"Kg",onClick:()=>b("rango")})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribución del Día"}),l.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[l.jsx(TG,{size:14,className:a?"text-brand-orange":"text-zinc-500"}),l.jsx("span",{children:"Ponderado"}),l.jsx("button",{type:"button",onClick:()=>b("infoPonderado"),className:"text-zinc-500 hover:text-white -ml-1",children:l.jsx(O_,{size:14})}),l.jsx("input",{type:"checkbox",checked:a,onChange:Z=>s(Z.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]})]}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(ui,{data:X,margin:{top:20,right:10,left:-20,bottom:0},children:[l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{content:l.jsx(Zc,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),l.jsxs(Fn,{dataKey:"count",onClick:Ut,cursor:"pointer",children:[X.map(Z=>l.jsx(Oa,{fill:Z.fill,className:`${o!=="all"&&o!==Z.name?"opacity-30":"opacity-100"}`},Z.name)),l.jsx(ta,{dataKey:"count",content:l.jsx(Ske,{total:z.length})})]})]})})})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[l.jsx("button",{onClick:()=>{d("all"),h("all")},className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${u==="all"&&f==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),l.jsxs("button",{onClick:()=>{d("up"),h("all")},disabled:Object.values(oe).every(Z=>Z===0),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="up"?"bg-brand-green/80 text-white":"bg-zinc-800/50 text-brand-green"} disabled:opacity-40`,children:[l.jsx(Wp,{size:14})," ",l.jsxs("span",{children:[oe.up.toFixed(0),"%"]})]}),l.jsxs("button",{onClick:()=>{d("down"),h("all")},disabled:Object.values(oe).every(Z=>Z===0),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="down"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"} disabled:opacity-40`,children:[l.jsx(Up,{size:14})," ",l.jsxs("span",{children:[oe.down.toFixed(0),"%"]})]})]}),l.jsx("button",{onClick:bt,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:l.jsx(hA,{size:16})})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[l.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[l.jsx("button",{onClick:()=>v("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),l.jsx("button",{onClick:()=>v("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="first"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),l.jsx("button",{onClick:()=>v("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="second"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),l.jsx("button",{onClick:()=>v("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="third"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),l.jsx("button",{onClick:()=>v("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="drying"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"}`,children:"A Secado"})]})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[l.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>h(Z=>Z==="new"?"all":"new"),disabled:V.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${f==="new"?"bg-brand-green text-white":"bg-zinc-800/50 text-zinc-300"} disabled:opacity-40`,children:[l.jsx(fL,{size:14})," ",l.jsxs("span",{children:["Ingresos (",V.size,")"]})]}),l.jsxs("button",{onClick:()=>C(!0),disabled:Y.size===0,className:"px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all bg-zinc-800/50 text-zinc-300 disabled:opacity-40",children:[l.jsx(hL,{size:14})," ",l.jsxs("span",{children:["Salidas (",Y.size,")"]})]})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),l.jsx("input",{type:"search",placeholder:"Buscar en animales en producción...",value:j,onChange:Z=>A(Z.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]}),l.jsx("div",{className:"pt-2 space-y-2",children:ye.length>0?ye.map(Z=>l.jsx(cw,{animal:Z,onSelectAnimal:t,onTrendClick:_,isNewEntry:V.has(Z.id)},Z.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:l.jsx("p",{className:"text-zinc-400",children:j?"No se encontraron resultados":"No hay animales con los filtros aplicados."})})})]})}),l.jsx(dt,{isOpen:y==="media",onClose:()=>b(null),title:"Análisis de Producción Media",children:l.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[l.jsxs("p",{children:["La **Media de Producción** del día es **",te.toFixed(2)," Kg**. Representa el promedio simple de todos los animales pesados."]}),l.jsxs("p",{children:["La **Media Ponderada** (",K.toFixed(2)," Kg) es un cálculo avanzado que premia la **persistencia lechera**. Tiene más valor un animal que produce 2 Kg en su día 250 de lactancia que uno que produce 2 Kg en el día 40. Este indicador te ayuda a identificar a tus animales más eficientes a largo plazo."]})]})}),l.jsx(dt,{isOpen:y==="total",onClose:()=>b(null),title:"Producción Total del Día",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-zinc-400",children:["La producción total registrada el ",new Date(R+"T00:00:00").toLocaleDateString()," fue:"]}),l.jsxs("h2",{className:"text-5xl font-bold text-brand-orange my-2",children:[He.toFixed(2)," Kg"]})]})}),l.jsx(dt,{isOpen:y==="consistencia",onClose:()=>b(null),title:"Análisis de Consistencia (σ)",children:l.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[l.jsxs("p",{children:["La Desviación Estándar (σ) de **",U.toFixed(2),"** mide qué tan dispersa está la producción. Un valor bajo es ideal, indica un rebaño consistente."]}),l.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebaño dentro de 1σ de la media"}),l.jsxs("p",{className:"text-4xl font-bold text-brand-orange my-1",children:[nt.toFixed(0),"%"]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Esto significa que la mayoría de tu rebaño tiene un rendimiento cercano al promedio de ",te.toFixed(2)," Kg."]})]})]})}),l.jsx(dt,{isOpen:y==="rango",onClose:()=>b(null),title:"Extremos de Producción del Día",children:l.jsxs("div",{className:"space-y-4",children:[_e&&l.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[l.jsx("h3",{className:"font-semibold text-brand-green mb-2",children:"Producción Máxima"}),l.jsx(cw,{animal:_e,onSelectAnimal:t,onTrendClick:_,isNewEntry:V.has(_e.id)})]})," ",Ue&&l.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[l.jsx("h3",{className:"font-semibold text-brand-red mb-2",children:"Producción Mínima"}),l.jsx(cw,{animal:Ue,onSelectAnimal:t,onTrendClick:_,isNewEntry:V.has(Ue.id)})]})]})}),l.jsx(dt,{isOpen:y==="infoPonderado",onClose:()=>b(null),title:"¿Qué es el Score Ponderado?",children:l.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[l.jsx("p",{children:"El Score Ponderado ajusta la producción de un animal para premiar la **persistencia lechera**, un indicador clave de la calidad genética y la eficiencia."}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white mb-1",children:"Fórmula Aplicada"}),l.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center text-orange-300",children:"Score = Kg × (1 + ((DEL - 50) / (DEL + 50)))"})]}),l.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"Esto significa que 2 Kg en el día **200** de lactancia obtendrán un score **mucho más alto** que 2 Kg en el día 40, ayudándote a identificar a tus animales más eficientes y persistentes."})]})}),x&&l.jsx(dt,{isOpen:!!x,onClose:()=>_(null),title:`Tendencia de ${x.id}`,children:l.jsx(_ke,{animalId:x.id})}),l.jsx(dt,{isOpen:S,onClose:()=>C(!1),title:"Animales que Salieron del Ordeño",children:l.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2",children:Y.size>0?Array.from(Y).map(Z=>l.jsxs("button",{onClick:()=>{t(Z),C(!1)},className:"w-full text-left p-3 bg-zinc-800 hover:bg-zinc-700 rounded-lg flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold text-white",children:Z}),l.jsx(Rr,{className:"text-zinc-500"})]},Z)):l.jsx("p",{className:"text-center text-zinc-500 py-4",children:"No hay animales en esta lista."})})})]})}const Ake=t=>N.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,a)=>{const s=a.date.substring(0,7);return i[s]||(i[s]=[]),i[s].push(a),i},{});let r=Object.entries(n).map(([i,a])=>{const s=new Date(`${i}-02T12:00:00Z`),o=s.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),c=s.getUTCFullYear(),u=a.length,d=a.reduce((f,h)=>f+h.kg,0);return{periodLabel:`${o.charAt(0).toUpperCase()+o.slice(1)} ${c}`,periodId:i,totalKg:d,averageKg:u>0?d/u:0,weighingCount:u,animalCount:new Set(a.map(f=>f.goatId)).size,weighingEvents:new Set(a.map(f=>f.date)).size,weighings:a,newAnimalsWeighings:[]}}).sort((i,a)=>a.periodId.localeCompare(i.periodId));return r=r.map((i,a,s)=>{const o=s[a+1];if(o){const c=o.averageKg?(i.averageKg-o.averageKg)/o.averageKg*100:void 0,u=o.animalCount?(i.animalCount-o.animalCount)/o.animalCount*100:void 0,d=new Set(o.weighings.map(y=>y.goatId)),f=new Set(i.weighings.map(y=>y.goatId)),h=new Set([...f].filter(y=>!d.has(y))),p=i.weighings.filter(y=>h.has(y.goatId)),v=[...d].filter(y=>!f.has(y)).length;return{...i,avgKgChange:c,animalCountChange:u,newAnimalsWeighings:p,previousAnimalCount:o.animalCount,exitingAnimalCount:v}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),wV=({value:t})=>{if(t===void 0||isNaN(t))return null;const e=t>0,n=e?"text-brand-green":"text-brand-red",r=e?Wp:Up;return l.jsxs("span",{className:`flex items-center text-sm font-bold ${n}`,children:[l.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},Pke=({stats:t,onClick:e})=>l.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.periodLabel}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(wV,{value:t.avgKgChange}),l.jsx(Rr,{className:"text-zinc-600"})]})]}),Eke=({weighing:t,onSelectAnimal:e})=>l.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-orange-400/50",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("div",{children:l.jsxs("p",{className:"font-bold text-base text-white flex items-center gap-2",children:[t.id,l.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-brand-red/80":t.classification==="Sobresaliente"?"bg-brand-green/80":"bg-gray-500/80"}`,children:t.classification})]})})}),l.jsxs("p",{className:"font-semibold text-lg text-white",children:[t.latestWeighing.toFixed(2)," ",l.jsx("span",{className:"text-base font-medium text-zinc-400",children:"Kg"})]})]}),Tke=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return l.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})};function Cke({navigateToRebano:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=qe(),[a,s]=N.useState(null),[o,c]=N.useState("all"),{monthlyData:u}=Ake(n),d=xV((a==null?void 0:a.weighings)||[],e,n,r,!1),f=N.useMemo(()=>o==="all"?d.classifiedAnimals:d.classifiedAnimals.filter(p=>p.classification===o),[d.classifiedAnimals,o]),h=p=>{if(p!=null&&p.name){const v=p.name;c(y=>y===v?"all":v)}};return i?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):a?l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in px-4",children:[l.jsxs("header",{className:"flex items-center pt-4 pb-4",children:[l.jsx("button",{onClick:()=>{s(null),c("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsx("div",{className:"text-center flex-grow",children:l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:a.periodLabel})}),l.jsx("div",{className:"w-8"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[l.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[l.jsx(dA,{size:14}),"Promedio / Animal"]}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.averageKg.toFixed(2),l.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),l.jsx(wV,{value:a.avgKgChange})]})]}),l.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[l.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[l.jsx(ro,{size:14}),"Eventos de Pesaje"]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:a.weighingEvents})]}),l.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[l.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[l.jsx(Uc,{size:14}),"Animales Ordeñados"]}),l.jsx("p",{className:"text-2xl font-bold text-white",children:a.animalCount})]}),l.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[l.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[l.jsx(gs,{size:14}),"Total Registrado"]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.totalKg.toFixed(0),l.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[l.jsx(px,{className:"text-brand-orange",size:18}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribución del Período"})]}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(ui,{data:d.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),l.jsxs(Fn,{dataKey:"count",onClick:h,cursor:"pointer",children:[d.distribution.map(p=>l.jsx(Oa,{fill:p.fill,className:`${o!=="all"&&o!==p.name?"opacity-30":"opacity-100"} transition-opacity`},p.name)),l.jsx(ta,{dataKey:"count",content:l.jsx(Tke,{total:d.classifiedAnimals.length})})]})]})})}),l.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[l.jsxs("span",{children:["μ = ",d.mean.toFixed(2)," Kg"]})," | ",l.jsxs("span",{children:["σ = ",d.stdDev.toFixed(2)]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Período (",f.length,")"]}),f.sort((p,v)=>v.latestWeighing-p.latestWeighing).map(p=>l.jsx(Eke,{weighing:p,onSelectAnimal:v=>t({name:"lactation-profile",animalId:v})},p.weighingId||p.id))]})]}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4",children:[l.jsx("header",{className:"text-center pt-4 pb-4",children:l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Historial de Producción"})}),l.jsx("div",{className:"space-y-2",children:(u||[]).map(p=>l.jsx(Pke,{stats:p,onClick:()=>s(p)},p.periodId))})]})}const kke=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=N.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const c=new Date(a);return c.setDate(a.getDate()-o),c})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return l.jsxs("div",{className:"px-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[l.jsx(ro,{size:16}),"Fecha del Pesaje"]}),l.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[l.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[l.jsx(ro,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return l.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-orange text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[l.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),l.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),l.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},Nke=({entry:t,onDelete:e,onRegister:n})=>{const r=!t.isRecognized;return l.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[r&&l.jsx(un,{className:"text-amber-400 flex-shrink-0",size:18}),l.jsx("span",{className:"font-semibold text-white",children:t.animalId})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[r?l.jsx("button",{onClick:()=>n(t.animalId),className:"text-xs font-semibold bg-brand-orange text-white px-2 py-1 rounded-md hover:bg-orange-600",children:"Registrar Parto"}):l.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),l.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Al,{size:16})})]})]})},Oke=({onSaveSuccess:t})=>{const{animals:e,weighings:n,fetchData:r}=qe(),[i,a]=N.useState(""),[s,o]=N.useState(""),[c,u]=N.useState([]),[d,f]=N.useState(null),[h,p]=N.useState(()=>{const R=new Date;return R.setHours(0,0,0,0),R}),[v,y]=N.useState(!1),[b,x]=N.useState({isOpen:!1,motherId:""}),_=N.useRef(null),S=N.useRef(null),C=()=>{var U;if(f(null),!i||!s)return;const R=i.toUpperCase().trim(),$=parseFloat(s),z=h.toISOString().split("T")[0];if($>100){f({type:"error",text:`El valor de ${$} Kg es irracional. Verifique el dato.`});return}if($>8.5){f({type:"error",text:`Producción de ${$} Kg es muy alta. Límite: 8.5 Kg.`});return}if(c.some(K=>K.animalId===R)){f({type:"error",text:`${R} ya tiene un pesaje en esta sesión.`});return}if(n.some(K=>K.goatId===R&&K.date===z)){f({type:"error",text:`${R} ya tiene un pesaje guardado para esta fecha.`});return}const X=e.find(K=>K.id===R);if(X&&X.isReference){f({type:"error",text:`${R} es un animal de Referencia. No se pueden añadir pesajes.`});return}const te={tempId:Date.now(),animalId:R,kg:$,date:z,isRecognized:!!X};u(K=>[te,...K]),a(""),o(""),(U=_.current)==null||U.focus()},E=async()=>{f(null);const{currentUser:R}=Fd;if(!R){f({type:"error",text:"Error de autenticación."});return}const $=c.filter(z=>!z.isRecognized).length;if($>0){f({type:"error",text:`No se puede guardar. Tienes ${$} animal(es) sin registrar.`});return}if(c.length===0){f({type:"error",text:"No hay pesajes para guardar."});return}try{const z=xv(ut),X=qn(ut,"weighings");c.forEach(te=>{const U=sn(X),K={goatId:te.animalId,kg:te.kg,date:te.date,userId:R.uid};z.set(U,K)}),await z.commit(),f({type:"success",text:`${c.length} pesajes guardados con éxito.`}),u([]),setTimeout(()=>t(h.toISOString().split("T")[0]),1500)}catch(z){f({type:"error",text:"Ocurrió un error al guardar en la nube."}),console.error("Error en escritura por lote:",z)}},P=R=>{var $;R.key==="Enter"&&i&&(R.preventDefault(),($=S.current)==null||$.focus())},j=R=>{R.key==="Enter"&&s&&(R.preventDefault(),C())},A=R=>{u($=>$.filter(z=>z.tempId!==R))},O=R=>{R&&(R.setHours(0,0,0,0),p(R)),y(!1)},D=()=>{r(),u(R=>R.map($=>$.animalId===b.motherId?{...$,isRecognized:!0}:$)),x({isOpen:!1,motherId:""})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[l.jsxs("div",{className:"text-center px-4",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rápida de Leche"}),l.jsx("p",{className:"text-md text-zinc-400",children:"Sesión de Ordeño"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(kke,{selectedDate:h,onDateChange:p,onOpenCalendar:()=>y(!0)}),l.jsxs("div",{className:"flex items-center gap-2 px-4",children:[l.jsx("input",{ref:_,type:"text",value:i,onChange:R=>a(R.target.value),onKeyDown:P,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),l.jsx("input",{ref:S,type:"number",step:"0.01",value:s,onChange:R=>o(R.target.value),onKeyDown:j,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),l.jsx("button",{onClick:C,disabled:!i||!s,"aria-label":"Añadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:l.jsx(Sl,{size:24})})]})]})]}),l.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[c.length===0&&l.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes añadidos aparecerán aquí."}),c.map(R=>l.jsx(Nke,{entry:R,onDelete:A,onRegister:$=>x({isOpen:!0,motherId:$})},R.tempId))]}),l.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[d&&l.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${d.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",d.type==="success"?l.jsx(aa,{size:18}):l.jsx(un,{size:18})," ",l.jsx("span",{children:d.text})," "]}),l.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-2 bg-brand-orange/20 border border-brand-orange text-brand-orange hover:bg-brand-orange/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[l.jsx(mA,{size:20})," Guardar ",c.length>0?`(${c.length})`:""," Pesajes"]})]})]}),l.jsx(dt,{isOpen:v,onClose:()=>y(!1),title:"Seleccionar Fecha",children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Wf,{mode:"single",selected:h,onSelect:O})})}),l.jsx(vV,{isOpen:b.isOpen,onClose:D,motherId:b.motherId})]})};function Ike({onNavigate:t,onSaveSuccess:e}){const[n,r]=N.useState("options");return n==="rapid"?l.jsx(Oke,{onSaveSuccess:e}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white text-center",children:"Añadir Datos de Leche"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[l.jsx(xx,{className:"w-12 h-12 mb-2 text-brand-orange"}),l.jsx("span",{className:"text-lg font-semibold",children:"Carga Rápida"}),l.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),l.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[l.jsx(yL,{className:"w-12 h-12 mb-2 text-brand-blue"}),l.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),l.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalización asistida por IA"})]})]})]})}const Dke=({animal:t,parturition:e,onSelectAnimal:n})=>l.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate+"T00:00:00").toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),l.jsx(Rr,{className:"text-zinc-600"})]});function Mke({navigateToRebano:t}){const{animals:e,parturitions:n,isLoading:r}=qe(),[i,a]=N.useState("drying"),s=N.useMemo(()=>{const c=f=>e.find(h=>h.id===f),u=n.filter(f=>f.status==="en-secado").map(f=>({animal:c(f.goatId),parturition:f})).filter(f=>f.animal),d=n.filter(f=>f.status==="seca").map(f=>({animal:c(f.goatId),parturition:f})).filter(f=>f.animal);return{drying:u,dry:d}},[e,n]),o=s[i]||[];return r?l.jsx("div",{className:"text-center p-10",children:l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4",children:[l.jsxs("header",{className:"text-center pt-4 pb-4",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestión de Secado"}),l.jsx("p",{className:"text-md text-zinc-400",children:"Animales por Estado de Lactancia"})]}),l.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:l.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[l.jsxs("button",{onClick:()=>a("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),l.jsxs("button",{onClick:()=>a("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),l.jsx("div",{className:"space-y-2",children:o.length>0?o.map(({animal:c,parturition:u})=>l.jsx(Dke,{animal:c,parturition:u,onSelectAnimal:d=>t({name:"lactation-profile",animalId:d})},u.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function Rke({initialPage:t,onPageStateChange:e,navigateToRebano:n,onSwitchModule:r}){const{syncStatus:i}=qe(),[a,s]=N.useState(t||"dashboard");N.useEffect(()=>{e(a)},[a,e]),N.useEffect(()=>{s(t||"dashboard")},[t]);const o=[{id:"dashboard",label:"Dashboard",icon:rG},{id:"analysis",label:"Análisis",icon:uL},{id:"history",label:"Historial",icon:sL},{id:"add-data",label:"Añadir",icon:Sl},{id:"drying",label:"Secado",icon:vA}],c=()=>{a!=="dashboard"?s("dashboard"):r("rebano")},u=f=>{e(a),n({name:"lactation-profile",animalId:f})},d=()=>{switch(a){case"dashboard":return l.jsx(DM,{onNavigateToAnalysis:()=>s("analysis")});case"analysis":return l.jsx(jke,{onSelectAnimal:u});case"history":return l.jsx(Cke,{navigateToRebano:n});case"add-data":return l.jsx(Ike,{onNavigate:(f,h)=>n({name:f,...h}),onSaveSuccess:()=>s("analysis")});case"drying":return l.jsx(Mke,{navigateToRebano:n});default:return l.jsx(DM,{onNavigateToAnalysis:()=>s("analysis")})}};return l.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[l.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[l.jsx("button",{onClick:c,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrás",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(KG,{className:"text-brand-orange",size:28}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),l.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"LactoKeeper"})]})]}),l.jsx("div",{className:"w-8 flex justify-end",children:l.jsx(yg,{status:i})})]})}),l.jsx("main",{className:"flex-grow pt-16 pb-24",children:d()}),l.jsx(gg,{onSwitchModule:r}),l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:o.map(f=>l.jsxs("button",{onClick:()=>s(f.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${a===f.id?"text-brand-orange":"text-gray-400 hover:text-brand-orange"}`,children:[l.jsx(f.icon,{className:"w-6 h-6 mb-1"}),l.jsx("span",{className:"text-xs font-semibold",children:f.label})]},f.id))})]})}const Lke=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=N.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const c=new Date(a);return c.setDate(a.getDate()-o),c})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return l.jsxs("div",{className:"px-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[l.jsx(ro,{size:16}),"Fecha del Pesaje"]}),l.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[l.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[l.jsx(ro,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return l.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[l.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),l.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),l.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},$ke=({entry:t,onDelete:e})=>{const n=!t.isRecognized;return l.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${n?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[n&&l.jsx(un,{className:"text-amber-400 flex-shrink-0",size:18}),l.jsx("span",{className:"font-semibold text-white",children:t.animalId})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),l.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Al,{size:16})})]})]})},zke=({onBack:t,onSaveSuccess:e})=>{const{animals:n}=qe(),[r,i]=N.useState(""),[a,s]=N.useState(""),[o,c]=N.useState([]),[u,d]=N.useState(null),[f,h]=N.useState(()=>{const j=new Date;return j.setHours(0,0,0,0),j}),[p,v]=N.useState(!1),y=N.useRef(null),b=N.useRef(null),x=()=>{var R;if(!r||!a)return;const j=r.toUpperCase().trim(),A=parseFloat(a);if(A>100){d({type:"error",text:`El peso de ${A} Kg es irracional. Verifique el dato.`});return}const O=n.find($=>$.id===j);if(O&&O.isReference){d({type:"error",text:`${j} es un animal de Referencia y no se le pueden añadir pesajes.`});return}const D={tempId:Date.now(),animalId:j,kg:A,date:f.toISOString().split("T")[0],isRecognized:!!O};c($=>[D,...$]),i(""),s(""),(R=y.current)==null||R.focus()},_=async()=>{d(null);const{currentUser:j}=Fd;if(!j){d({type:"error",text:"Error de autenticación."});return}if(o.length===0){d({type:"error",text:"No hay pesajes para guardar."});return}try{const A=xv(ut),O=qn(ut,"bodyWeighings");o.forEach(D=>{const R=sn(O),$={animalId:D.animalId,kg:D.kg,date:D.date,userId:j.uid};A.set(R,$)}),await A.commit(),d({type:"success",text:`${o.length} pesajes guardados con éxito.`}),c([]),setTimeout(()=>e(f.toISOString().split("T")[0]),1500)}catch(A){d({type:"error",text:"Ocurrió un error al guardar en la nube."}),console.error("Error en escritura por lote:",A)}},S=j=>{var A;j.key==="Enter"&&r&&(j.preventDefault(),(A=b.current)==null||A.focus())},C=j=>{j.key==="Enter"&&a&&(j.preventDefault(),x())},E=j=>{c(A=>A.filter(O=>O.tempId!==j))},P=j=>{j&&(j.setHours(0,0,0,0),h(j)),v(!1)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[l.jsxs("div",{className:"flex-shrink-0 space-y-4",children:[l.jsxs("header",{className:"text-center px-4 flex items-center",children:[l.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rápida de Peso"}),l.jsx("p",{className:"text-md text-zinc-400",children:"Sesión de Pesaje"})]}),l.jsx("div",{className:"w-8"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Lke,{selectedDate:f,onDateChange:h,onOpenCalendar:()=>v(!0)}),l.jsxs("div",{className:"flex items-center gap-2 px-4",children:[l.jsx("input",{ref:y,type:"text",value:r,onChange:j=>i(j.target.value),onKeyDown:S,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),l.jsx("input",{ref:b,type:"number",step:"0.01",value:a,onChange:j=>s(j.target.value),onKeyDown:C,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),l.jsx("button",{onClick:x,disabled:!r||!a,"aria-label":"Añadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:l.jsx(Sl,{size:24})})]})]})]}),l.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[o.length===0&&l.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes añadidos aparecerán aquí."}),o.map(j=>l.jsx($ke,{entry:j,onDelete:E},j.tempId))]}),l.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[u&&l.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${u.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",u.type==="success"?l.jsx(aa,{size:18}):l.jsx(un,{size:18})," ",l.jsx("span",{children:u.text})," "]}),l.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 bg-brand-green/20 border border-brand-green text-brand-green hover:bg-brand-green/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[l.jsx(mA,{size:20})," Guardar ",o.length>0?`(${o.length})`:""," Pesajes"]})]})]}),l.jsx(dt,{isOpen:p,onClose:()=>v(!1),title:"Seleccionar Fecha",children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Wf,{mode:"single",selected:f,onSelect:P})})})]})};function Fke({onNavigate:t,onSaveSuccess:e}){const[n,r]=N.useState("options");return n==="rapid"?l.jsx(zke,{onBack:()=>r("options"),onSaveSuccess:e}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Añadir Pesaje Corporal"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Carga de Datos de Crecimiento"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-green text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[l.jsx(xx,{className:"w-12 h-12 mb-2 text-brand-green"}),l.jsx("span",{className:"text-lg font-semibold",children:"Carga Rápida"}),l.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),l.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[l.jsx(yL,{className:"w-12 h-12 mb-2 text-brand-blue"}),l.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),l.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalización asistida por IA"})]})]})]})}const Vke=({gdp:t,averageGdp:e})=>{if(!t||!e||e===0)return null;const n=t/e;return n>1.1?l.jsx(gs,{size:18,className:"text-brand-green"}):n<.9?l.jsx(DG,{size:18,className:"text-brand-red"}):l.jsx(pL,{size:18,className:"text-zinc-500"})},Bke=({animal:t,onSelect:e,averageGdp:n})=>l.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-semibold text-white",children:[t.gdp.overall?`${(t.gdp.overall*1e3).toFixed(0)}`:"--",l.jsx("span",{className:"text-sm text-zinc-400",children:" g/día"})]}),l.jsx("p",{className:`font-bold text-sm ${t.classification==="Sobresaliente"?"text-brand-green":t.classification==="Pobre"?"text-brand-red":"text-zinc-400"}`,children:t.classification})]}),l.jsx(Vke,{gdp:t.gdp.overall,averageGdp:n}),l.jsx(Rr,{className:"text-zinc-600"})]})]});function MM({onSelectAnimal:t}){const{animals:e,bodyWeighings:n,parturitions:r}=qe(),i=N.useMemo(()=>{const a=e.filter(_=>{const S=hu(_,r);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(S)});if(a.length===0)return{analyzedAnimals:[],distribution:[],averageGdp:0};let s=0,o=0;const c=a.map(_=>{const S=n.filter(E=>E.animalId===_.id),C=cE(_.birthWeight,S);return C.overall&&C.overall>0&&(s+=C.overall,o++),{..._,formattedAge:$a(_.birthDate),gdp:C}}),u=o>0?s/o:0,d=c.map(_=>({..._,score:_.gdp.overall?NAe(_.gdp.overall,u,fs(_.birthDate)):0})),f=d.filter(_=>_.score>0).map(_=>_.score),h=f.length>0?f.reduce((_,S)=>_+S,0)/f.length:0,p=f.length>0?Math.sqrt(f.reduce((_,S)=>_+Math.pow(S-h,2),0)/f.length):0,v=h-.4*p,y=h+.4*p,b=d.map(_=>{let S="Promedio";return _.score>0&&p>1&&(_.score<v?S="Pobre":_.score>y&&(S="Sobresaliente")),{..._,classification:S}}),x=[{name:"Pobre",count:b.filter(_=>_.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:b.filter(_=>_.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:b.filter(_=>_.classification==="Sobresaliente").length,fill:"#34C759"}];return{analyzedAnimals:b.sort((_,S)=>S.score-_.score),distribution:x,averageGdp:u}},[e,n,r]);return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in",children:[l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[l.jsx(gs,{}),l.jsx("span",{children:"GDP Promedio del Levante"})]}),l.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[(i.averageGdp*1e3).toFixed(0)," ",l.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"g/día"})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribución del Crecimiento"}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(ui,{data:i.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{content:l.jsx(Zc,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),l.jsx(Fn,{dataKey:"count",children:i.distribution.map(a=>l.jsx(Oa,{fill:a.fill},a.name))})]})})})]}),l.jsxs("div",{className:"space-y-2 pt-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:["Animales en Levante (",i.analyzedAnimals.length,")"]}),i.analyzedAnimals.length>0?i.analyzedAnimals.map(a=>l.jsx(Bke,{animal:a,onSelect:()=>t(a.id),averageGdp:i.averageGdp},a.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"No hay animales en fase de levante o no se han registrado pesajes."})})]})]})}const Uke=()=>{const{animals:t,bodyWeighings:e,parturitions:n}=qe();return N.useMemo(()=>{const a=t.filter(S=>{const C=fs(S.birthDate);return C>0&&C<=365&&!S.isReference}).map(S=>{const C=e.filter(P=>P.animalId===S.id),E=cE(S.birthWeight,C);return{...S,gdp:E.overall,ageInDays:fs(S.birthDate)}}).filter(S=>S.gdp!==null&&S.gdp>0);if(a.length<2)return{classifiedAnimals:[],distribution:[],gaussChartData:[],meanGdp:0,stdDev:0};const o=a.reduce((S,C)=>S+C.gdp,0)/a.length,c=Math.sqrt(a.reduce((S,C)=>S+Math.pow(C.gdp-o,2),0)/a.length),u=o-.4*c,d=o+.4*c,f=a.map(S=>{let C="Promedio";return c>.005&&(S.gdp<u?C="Pobre":S.gdp>d&&(C="Sobresaliente")),{...S,classification:C}}),h=[{name:"Pobre",count:f.filter(S=>S.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:f.filter(S=>S.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:f.filter(S=>S.classification==="Sobresaliente").length,fill:"#34C759"}],p=f.map(S=>S.gdp),v=Math.min(...p),y=Math.max(...p),b=10,x=(y-v)/b,_=Array.from({length:b},(S,C)=>{const E=v+C*x,P=E+x,j=f.filter(A=>A.gdp>=E&&A.gdp<P).length;return{name:`${(E*1e3).toFixed(0)}`,count:j}});return{classifiedAnimals:f.sort((S,C)=>C.gdp-S.gdp),distribution:h,gaussChartData:_,meanGdp:o,stdDev:c}},[t,e,n])},Wke=({animal:t,onSelect:e})=>{const n={Sobresaliente:"bg-brand-green/80",Promedio:"bg-gray-500/80",Pobre:"bg-brand-red/80"},r=$a(t.birthDate);return l.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),l.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[t.sex," | ",r," | Lote: ",t.location||"Sin Asignar"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("p",{className:"font-semibold text-white text-right",children:[(t.gdp*1e3).toFixed(0),l.jsx("span",{className:"text-sm text-zinc-400",children:" g/día"})]}),l.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${n[t.classification]}`,children:t.classification}),l.jsx(Rr,{className:"text-zinc-600"})]})]})};function Kke({onSelectAnimal:t}){const{classifiedAnimals:e,distribution:n,gaussChartData:r,meanGdp:i,stdDev:a}=Uke(),[s,o]=N.useState("all"),c=q.useMemo(()=>s==="all"?e:e.filter(d=>d.classification===s),[e,s]),u=d=>{if(d!=null&&d.name){const f=d.name;o(h=>h===f?"all":f)}};return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Análisis de GDP"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(gs,{size:14}),l.jsx("span",{children:"GDP Media"})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[(i*1e3).toFixed(0)," ",l.jsx("span",{className:"text-lg text-zinc-400",children:"g/día"})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(vL,{size:14}),l.jsx("span",{children:"Desv. Estándar"})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[(a*1e3).toFixed(0)," ",l.jsx("span",{className:"text-lg text-zinc-400",children:"g/día"})]})]})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribución del Crecimiento"}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(ui,{data:n,margin:{top:20,right:10,left:-20,bottom:0},children:[l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{content:l.jsx(Zc,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),l.jsx(Fn,{dataKey:"count",onClick:u,cursor:"pointer",children:n.map(d=>l.jsx(Oa,{fill:d.fill,className:`${s!=="all"&&s!==d.name?"opacity-30":"opacity-100"} transition-opacity`},d.name))})]})})})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/día)"}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(ui,{data:r,margin:{top:20,right:10,left:-20,bottom:0},children:[l.jsx(Sn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),l.jsx(Dt,{content:l.jsx(Zc,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),l.jsx(Fn,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)"})]})})})]}),l.jsxs("div",{className:"space-y-2 pt-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[s==="all"?"Todos los Animales":`Animales (${s})`," (",c.length,")"]}),c.length>0?c.map(d=>l.jsx(Wke,{animal:d,onSelect:t},d.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}function qke({navigateToRebano:t,onSwitchModule:e}){const{syncStatus:n}=qe(),[r,i]=N.useState("dashboard"),a=[{id:"dashboard",label:"Dashboard",icon:px},{id:"analysis",label:"Análisis",icon:UG},{id:"add-data",label:"Añadir",icon:Sl}],s=()=>{r!=="dashboard"?i("dashboard"):e("rebano")},o=()=>{switch(r){case"dashboard":return l.jsx(MM,{onSelectAnimal:c=>t({name:"growth-profile",animalId:c})});case"analysis":return l.jsx(Kke,{onSelectAnimal:c=>t({name:"growth-profile",animalId:c})});case"add-data":return l.jsx(Fke,{onNavigate:t,onSaveSuccess:()=>i("analysis")});default:return l.jsx(MM,{onSelectAnimal:c=>t({name:"growth-profile",animalId:c})})}};return l.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[l.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[l.jsx("button",{onClick:s,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrás",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xm,{className:"text-brand-green"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),l.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Kilos"})]})]}),l.jsx("div",{className:"w-8 flex justify-end",children:l.jsx(yg,{status:n})})]})}),l.jsx("main",{className:"flex-grow pt-16 pb-24",children:o()}),l.jsx(gg,{onSwitchModule:e}),l.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:a.map(c=>l.jsxs("button",{onClick:()=>i(c.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r===c.id?"text-brand-green":"text-gray-400 hover:text-brand-green"}`,children:[l.jsx(c.icon,{className:"w-6 h-6 mb-1"}),l.jsx("span",{className:"text-xs font-semibold",children:c.label})]},c.id))})]})}const Hke=({onSave:t,onCancel:e,existingProduct:n})=>{const[r,i]=N.useState(""),[a,s]=N.useState(""),[o,c]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState("ml"),[p,v]=N.useState(""),[y,b]=N.useState(null),[x,_]=N.useState(!1);N.useEffect(()=>{n&&(i(n.name),s(n.presentation),c(String(n.totalCost)),d(String(n.totalVolume)),h(n.unit),v(String(n.dosagePer10Kg)))},[n]);const S=async C=>{C.preventDefault(),b(null),_(!0);const E=parseFloat(o),P=parseFloat(u),j=parseFloat(p);if(!r||!a||isNaN(E)||isNaN(P)||isNaN(j)){b("Por favor, completa todos los campos con valores válidos."),_(!1);return}const A={name:r,presentation:a,totalCost:E,totalVolume:P,unit:f,dosagePer10Kg:j};try{await t(A)}catch(O){b("No se pudo guardar el producto."),console.error(O),_(!1)}};return l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Producto"}),l.jsx("input",{id:"name",type:"text",value:r,onChange:C=>i(C.target.value),placeholder:"Ej: Ivermectina al 1%",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"presentation",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Presentación"}),l.jsx("input",{id:"presentation",type:"text",value:a,onChange:C=>s(C.target.value),placeholder:"Ej: Frasco 500ml",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"totalCost",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Costo Total del Envase"}),l.jsx("input",{id:"totalCost",type:"number",step:"0.01",value:o,onChange:C=>c(C.target.value),placeholder:"20.00",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"totalVolume",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Volumen/Cantidad Total"}),l.jsx("input",{id:"totalVolume",type:"number",step:"1",value:u,onChange:C=>d(C.target.value),placeholder:"500",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Unidad"}),l.jsxs("select",{id:"unit",value:f,onChange:C=>h(C.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[l.jsx("option",{value:"ml",children:"ml (líquido)"}),l.jsx("option",{value:"g",children:"g (polvo/sólido)"}),l.jsx("option",{value:"unidad",children:"unidad (pastilla/bolo)"})]})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{htmlFor:"dosage",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Dosis por cada 10 Kg de peso"}),l.jsx("input",{id:"dosage",type:"number",step:"0.1",value:p,onChange:C=>v(C.target.value),placeholder:"0.2",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]})]}),y&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:y})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:x,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:x?"Guardando...":"Guardar Producto"})]})]})};function Gke(){const{products:t,addProduct:e,updateProduct:n,deleteProduct:r}=qe(),[i,a]=N.useState(!1),[s,o]=N.useState(void 0),[c,u]=N.useState(null),d=y=>{o(y),a(!0)},f=()=>{a(!1),o(void 0)},h=async y=>{s!=null&&s.id?await n(s.id,y):await e(y),f()},p=()=>{c!=null&&c.id&&r(c.id),u(null)},v=y=>!y.totalVolume||y.totalVolume===0?"N/A":`$${(y.totalCost/y.totalVolume).toFixed(3)} / ${y.unit}`;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Inventario de Productos"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Gestión de Insumos Sanitarios"})]}),l.jsxs("button",{onClick:()=>d(),className:"w-full flex items-center justify-center gap-2 bg-brand-green hover:bg-green-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[l.jsx(Xr,{size:18})," Añadir Nuevo Producto"]}),l.jsx("div",{className:"space-y-3 pt-4",children:t.length>0?t.map(y=>l.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:y.name}),l.jsx("p",{className:"text-sm text-zinc-400",children:y.presentation}),l.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(vx,{size:14})," ",y.dosagePer10Kg," ",y.unit,"/10kg"]}),l.jsx("span",{className:"font-semibold text-amber-400",children:v(y)})]})]}),l.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>d(y),className:"p-2 text-zinc-400 hover:text-brand-orange transition-colors",children:l.jsx(jl,{size:18})}),l.jsx("button",{onClick:()=>u(y),className:"p-2 text-zinc-400 hover:text-brand-red transition-colors",children:l.jsx(fo,{size:18})})]})]})},y.id)):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"Aún no has añadido ningún producto."})})})]}),l.jsx(dt,{isOpen:i,onClose:f,title:s?"Editar Producto":"Añadir Producto",children:l.jsx(Hke,{onSave:h,onCancel:f,existingProduct:s})}),l.jsx(xb,{isOpen:!!c,onClose:()=>u(null),onConfirm:p,title:"Eliminar Producto",message:`¿Estás seguro de que quieres eliminar "${c==null?void 0:c.name}"? Esta acción no se puede deshacer.`})]})}const Yke=["Cabrita","Cabritona","Cabra Primípara","Cabra Multípara","Cabrito","Macho de Levante","Macho Cabrío"],Xke=["Vacía","En Servicio","Preñada","Post-Parto"],Qke=({onSave:t,onCancel:e,existingPlan:n})=>{const[r,i]=N.useState(""),[a,s]=N.useState(""),[o,c]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState(new Set),[p,v]=N.useState(new Set),[y,b]=N.useState(null),[x,_]=N.useState(!1);N.useEffect(()=>{var P,j;n&&(i(n.name),s(n.description),c(((P=n.targetCriteria.minAgeDays)==null?void 0:P.toString())||""),d(((j=n.targetCriteria.maxAgeDays)==null?void 0:j.toString())||""),h(new Set(n.targetCriteria.categories||[])),v(new Set(n.targetCriteria.targetStatus||[])))},[n]);const S=P=>{h(j=>{const A=new Set(j);return A.has(P)?A.delete(P):A.add(P),A})},C=P=>{v(j=>{const A=new Set(j);return A.has(P)?A.delete(P):A.add(P),A})},E=async P=>{if(P.preventDefault(),b(null),!r.trim()){b("El nombre del plan es obligatorio.");return}_(!0);const j={name:r,description:a,targetCriteria:{minAgeDays:o?parseInt(o,10):void 0,maxAgeDays:u?parseInt(u,10):void 0,categories:Array.from(f),targetStatus:Array.from(p)}};try{await t(j)}catch(A){b("No se pudo guardar el plan."),console.error(A),_(!1)}};return l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Plan"}),l.jsx("input",{id:"name",type:"text",value:r,onChange:P=>i(P.target.value),placeholder:"Ej: Protocolo Pre-parto",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Descripción (Opcional)"}),l.jsx("input",{id:"description",type:"text",value:a,onChange:P=>s(P.target.value),placeholder:"Ej: Vacunación 30 días antes del parto",className:"w-full bg-zinc-800 p-3 rounded-xl"})]})]}),l.jsxs("fieldset",{className:"bg-black/20 rounded-xl p-4 border border-zinc-700",children:[l.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-300",children:"Criterios de Aplicación (Opcional)"}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"minAge",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Edad Mínima (días)"}),l.jsx("input",{id:"minAge",type:"number",value:o,onChange:P=>c(P.target.value),placeholder:"Ej: 90",className:"w-full bg-zinc-800 p-2 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"maxAge",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Edad Máxima (días)"}),l.jsx("input",{id:"maxAge",type:"number",value:u,onChange:P=>d(P.target.value),placeholder:"Ej: 210",className:"w-full bg-zinc-800 p-2 rounded-lg"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Estado Reproductivo"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Xke.map(P=>l.jsx("button",{type:"button",onClick:()=>C(P),className:`px-3 py-1 text-sm font-semibold rounded-full transition-colors ${p.has(P)?"bg-pink-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:P},P))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Categorías Zootécnicas"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Yke.map(P=>l.jsx("button",{type:"button",onClick:()=>S(P),className:`px-3 py-1 text-sm font-semibold rounded-full transition-colors ${f.has(P)?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:P},P))})]})]})]}),y&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:y})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:x,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:x?"Guardando...":"Guardar Plan"})]})]})},Jke=({plan:t,onClick:e,onEdit:n,onDelete:r})=>{const i=kf(),a=N.useRef(!1),s=(o,c)=>{const u=c.offset.x,d=c.velocity.x;if(Math.abs(u)<5){e();return}u<-160/2||d<-500?i.start({x:-160}):i.start({x:0}),setTimeout(()=>{a.current=!1},100)};return l.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[l.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[l.jsxs("button",{onClick:n,onPointerDown:o=>o.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[l.jsx(jl,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),l.jsxs("button",{onClick:r,onPointerDown:o=>o.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[l.jsx(fo,{size:22}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),l.jsx(El.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{a.current=!0},onDragEnd:s,onTap:()=>{a.current||e()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),l.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:t.description})]}),l.jsx(Rr,{className:"text-zinc-600"})]})})]})};function Zke({navigateTo:t}){const{healthPlans:e,addHealthPlan:n,updateHealthPlan:r,deleteHealthPlan:i}=qe(),[a,s]=N.useState(!1),[o,c]=N.useState(void 0),[u,d]=N.useState(null),f=y=>{c(y),s(!0)},h=()=>{s(!1),c(void 0)},p=async y=>{o!=null&&o.id?await r(o.id,y):await n(y),h()},v=async()=>{u!=null&&u.id&&await i(u.id),d(null)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Planificador Sanitario"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus Protocolos y Planes"})]}),l.jsxs("button",{onClick:()=>f(),className:"w-full flex items-center justify-center gap-2 bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[l.jsx(Xr,{size:18})," Crear Nuevo Plan Sanitario"]}),l.jsx("div",{className:"space-y-3 pt-4",children:e.length>0?e.map(y=>l.jsx(Jke,{plan:y,onClick:()=>t({name:"plan-detail",planId:y.id}),onEdit:()=>f(y),onDelete:()=>d(y)},y.id)):l.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-4",children:[l.jsx(uA,{size:48,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-500",children:"Aún no has creado ningún plan sanitario."}),l.jsx("p",{className:"text-zinc-500 text-sm",children:"Usa el botón de arriba para empezar a definir tus protocolos."})]})})]}),l.jsx(dt,{isOpen:a,onClose:h,title:o?"Editar Plan Sanitario":"Crear Nuevo Plan Sanitario",children:l.jsx(Qke,{onSave:p,onCancel:h,existingPlan:o})}),l.jsx(xb,{isOpen:!!u,onClose:()=>d(null),onConfirm:v,title:`Eliminar Plan "${u==null?void 0:u.name}"`,message:"¿Estás seguro? Al eliminar el plan, también se eliminarán todas sus tareas asociadas. Esta acción no se puede deshacer."})]})}const RM=(t,e,n)=>{const r=(n-1)*7+1;return new Date(Date.UTC(t,e-1,r))},eNe=()=>{const{animals:t,healthPlans:e,healthPlanTasks:n,healthEvents:r,parturitions:i}=qe(),{forecastBySeason:a}=SE(),s=N.useMemo(()=>{const c=new Date;c.setUTCHours(0,0,0,0);const u=c.getUTCFullYear(),d=[],f=t.filter(h=>h.status==="Activo"&&!h.isReference);for(const h of f){const p=fs(h.birthDate);if(p<0)continue;const v=e.filter(y=>{const{minAgeDays:b,maxAgeDays:x,categories:_,targetStatus:S}=y.targetCriteria,C=hu(h,i),E=(!b||p>=b)&&(!x||p<=x),P=!_||_.length===0||_.includes(C),j=!S||S.length===0||S.includes(h.reproductiveStatus);return E&&P&&j});for(const y of v){const b=n.filter(x=>x.healthPlanId===y.id);for(const x of b){let _=null,S=null;if(x.trigger.type==="age"&&x.trigger.days){const P=new Date(h.birthDate+"T00:00:00Z");P.setUTCDate(P.getUTCDate()+x.trigger.days),_=P,S=`${h.id}-${x.id}`}else if(x.trigger.type==="fixed_date_period"&&x.trigger.month&&x.trigger.week){const P=RM(u,x.trigger.month,x.trigger.week);if(_=P,S=`${h.id}-${x.id}-${u}`,(P.getTime()-c.getTime())/(1e3*60*60*24)>90){const j=RM(u-1,x.trigger.month,x.trigger.week),A=`${h.id}-${x.id}-${u-1}`;r.some(D=>D.animalId===h.id&&D.taskId===x.id&&new Date(D.date).getUTCFullYear()===u-1)||(_=j,S=A)}}else if(x.trigger.type==="birthing_season_event"&&x.trigger.offsetDays!==void 0){const P=a.find(j=>j.events.some(A=>A.animal.id===h.id));if(P&&P.projectedStartDate){const j=new Date(P.projectedStartDate);j.setUTCDate(j.getUTCDate()+x.trigger.offsetDays),_=j,S=`${h.id}-${x.id}-${P.seasonId}`}}if(!_||!S)continue;_.setUTCHours(0,0,0,0);const C=r.some(P=>P.animalId!==h.id||P.taskId!==x.id?!1:x.trigger.type==="age"?!0:x.trigger.type==="fixed_date_period"||x.trigger.type==="birthing_season_event"?new Date(P.date).getUTCFullYear()===_.getUTCFullYear():!1),E=Math.ceil((_.getTime()-c.getTime())/(1e3*60*60*24));if(!C&&E<90){let P="Próxima";E<0?P="Atrasada":E===0&&(P="Para Hoy"),d.push({key:S,animal:h,plan:y,task:x,dueDate:_,status:P})}}}}return d.sort((h,p)=>h.dueDate.getTime()-p.dueDate.getTime())},[t,e,n,r,i,a]);return{...N.useMemo(()=>({overdue:s.filter(c=>c.status==="Atrasada"),today:s.filter(c=>c.status==="Para Hoy"),upcoming:s.filter(c=>c.status==="Próxima")}),[s]),allTasks:s}},tNe=({task:t,onSave:e,onCancel:n})=>{const{products:r,bodyWeighings:i,addHealthEvent:a}=qe(),[s,o]=N.useState(new Date().toISOString().split("T")[0]),[c,u]=N.useState(t.task.productId),[d,f]=N.useState(""),[h,p]=N.useState(0),[v,y]=N.useState(""),[b,x]=N.useState(null),[_,S]=N.useState(!1),C=N.useMemo(()=>r.find(P=>P.id===c),[r,c]);N.useEffect(()=>{if(C){const P=i.filter(R=>R.animalId===t.animal.id).sort((R,$)=>new Date($.date).getTime()-new Date(R.date).getTime())[0],A=((P==null?void 0:P.kg)||50)/10*C.dosagePer10Kg;f(A.toFixed(2));const O=C.totalCost/C.totalVolume,D=A*O;p(parseFloat(D.toFixed(3)))}},[C,t.animal.id,i]);const E=async P=>{if(P.preventDefault(),x(null),!C){x("Por favor, selecciona un producto.");return}S(!0);const j=parseFloat(d);if(isNaN(j)||j<=0){x("La dosis aplicada debe ser un número válido."),S(!1);return}try{await a({animalId:t.animal.id,date:s,taskId:t.task.id,type:t.task.type,productUsed:C.name,doseApplied:j,unit:C.unit,calculatedCost:h,notes:v||void 0}),e()}catch(A){x("No se pudo guardar el evento."),console.error(A)}finally{S(!1)}};return l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:t.animal.id}),l.jsx("p",{className:"text-zinc-400",children:t.task.name})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicación"}),l.jsx("input",{id:"date",type:"date",value:s,onChange:P=>o(P.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Producto Utilizado"}),l.jsx("select",{id:"product",value:c,onChange:P=>u(P.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:r.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"dose",className:"block text-sm font-medium text-zinc-400 mb-1",children:["Dosis Sugerida (",C==null?void 0:C.unit,")"]}),l.jsx("input",{id:"dose",type:"number",step:"0.1",value:d,onChange:P=>f(P.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Costo Estimado"}),l.jsxs("div",{className:"w-full bg-zinc-800 p-3 rounded-xl text-zinc-300",children:["$",h.toFixed(2)]})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas (Opcional)"}),l.jsx("textarea",{id:"notes",value:v,onChange:P=>y(P.target.value),rows:2,placeholder:"Ej: El animal presentó fiebre...",className:"w-full bg-zinc-800 p-3 rounded-xl"})]})]}),b&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18}),l.jsx("span",{children:b})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:_,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:_?"Guardando...":"Confirmar Registro"})]})]})},nNe=["Tratamiento Específico","Desparasitación","Vacunación","Vitaminas","Minerales","Control"],rNe=({onSaveSuccess:t,onCancel:e})=>{const{animals:n,products:r,addHealthEvent:i,parturitions:a,serviceRecords:s,breedingSeasons:o,sireLots:c}=qe(),[u,d]=N.useState([]),[f,h]=N.useState(new Date().toISOString().split("T")[0]),[p,v]=N.useState("Tratamiento Específico"),[y,b]=N.useState(""),[x,_]=N.useState(""),[S,C]=N.useState(""),[E,P]=N.useState(!1),[j,A]=N.useState(!1),[O,D]=N.useState(null),[R,$]=N.useState(null),z=N.useMemo(()=>r.find(U=>U.id===y),[r,y]),X=U=>{d(U),P(!1)},te=async U=>{if(U.preventDefault(),D(null),$(null),u.length===0){D("Debes seleccionar al menos un animal.");return}if(!y||!z){D("Debes seleccionar un producto.");return}const K=parseFloat(x);if(isNaN(K)||K<=0){D("La dosis debe ser un número válido y mayor que cero.");return}A(!0);const V=z.totalCost/z.totalVolume,Y=K*V;try{const oe=u.map(ue=>i({animalId:ue,date:f,type:p,productUsed:z.name,doseApplied:K,unit:z.unit,calculatedCost:Y,notes:S||void 0}));await Promise.all(oe),$(`${u.length} evento(s) de salud registrados con éxito.`),setTimeout(()=>{t()},1500)}catch(oe){D("No se pudo guardar el evento de salud."),console.error(oe)}finally{A(!1)}};return l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:te,className:"space-y-4",children:[l.jsxs("button",{type:"button",onClick:()=>P(!0),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg flex justify-between items-center text-left",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Uc,{size:20,className:"text-zinc-400"}),l.jsx("span",{className:u.length>0?"text-white":"text-zinc-500",children:u.length>0?`${u.length} animales seleccionados`:"Seleccionar Animal(es)..."})]}),l.jsx(Sl,{className:"text-brand-orange"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha"}),l.jsx("input",{id:"date",type:"date",value:f,onChange:U=>h(U.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"taskType",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo"}),l.jsx("select",{id:"taskType",value:p,onChange:U=>v(U.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:nNe.map(U=>l.jsx("option",{value:U,children:U},U))})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Producto Utilizado"}),l.jsxs("select",{id:"product",value:y,onChange:U=>b(U.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:[l.jsx("option",{value:"",children:"Seleccionar producto..."}),r.map(U=>l.jsx("option",{value:U.id,children:U.name},U.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"dose",className:"block text-sm font-medium text-zinc-400 mb-1",children:["Dosis Aplicada (",(z==null?void 0:z.unit)||"unidad",")"]}),l.jsx("input",{id:"dose",type:"number",step:"0.1",value:x,onChange:U=>_(U.target.value),placeholder:"Ej: 2.5",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"La misma dosis se aplicará a todos los animales seleccionados."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas (Opcional)"}),l.jsx("textarea",{id:"notes",value:S,onChange:U=>C(U.target.value),rows:2,placeholder:"Ej: Tratamiento por herida en la pata delantera.",className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),O&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18})," ",l.jsx("span",{children:O})]}),R&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-green-500/20 text-brand-green",children:[l.jsx(aa,{size:18})," ",l.jsx("span",{children:R})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:j,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:j?"Guardando...":"Guardar Registro"})]})]}),l.jsx(yb,{isOpen:E,onClose:()=>P(!1),onSelect:X,animals:n,parturitions:a,serviceRecords:s,breedingSeasons:o,sireLots:c,title:"Seleccionar Animales"})]})},iNe=({task:t,onRegisterClick:e})=>{const{animal:n,task:r,dueDate:i}=t;return l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-bold text-lg text-white",children:n.id}),l.jsx("p",{className:"text-sm text-zinc-300",children:r.name}),l.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Plan: ",t.plan.name]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:i.toLocaleDateString("es-VE",{day:"2-digit",month:"2-digit"})}),l.jsx("p",{className:"text-xs text-zinc-400",children:i.toLocaleDateString("es-VE",{weekday:"short"})})]}),l.jsx("button",{onClick:()=>e(t),className:"bg-brand-green hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm",children:"Registrar"})]})]})},uw=({title:t,tasks:e,icon:n,colorClass:r,onRegisterClick:i})=>e.length===0?null:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:`flex items-center gap-2 text-lg font-semibold ${r}`,children:[l.jsx(n,{size:20}),t," (",e.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.map(a=>l.jsx(iNe,{task:a,onRegisterClick:i},a.key))})]});function LM(){const{overdue:t,today:e,upcoming:n,allTasks:r}=eNe(),[i,a]=N.useState(null),[s,o]=N.useState(!1),c=()=>{a(null)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Agenda Sanitaria"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Tareas de salud pendientes"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-blue/20 border border-brand-blue text-brand-blue hover:bg-brand-blue/30 font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[l.jsx(Xr,{size:18})," Registrar Tratamiento No Planificado"]}),r.length===0?l.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-4",children:[l.jsx(C_,{size:48,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-400 font-semibold text-lg",children:"¡Todo al día!"}),l.jsx("p",{className:"text-zinc-500 text-sm",children:"No hay tareas sanitarias programadas en tu agenda."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(uw,{title:"Atrasadas",tasks:t,icon:un,colorClass:"text-brand-red",onRegisterClick:a}),l.jsx(uw,{title:"Para Hoy",tasks:e,icon:C_,colorClass:"text-brand-green",onRegisterClick:a}),l.jsx(uw,{title:"Próximas",tasks:n,icon:sL,colorClass:"text-zinc-300",onRegisterClick:a})]})]}),i&&l.jsx(dt,{isOpen:!!i,onClose:()=>a(null),title:`Registrar: ${i.task.name}`,children:l.jsx(tNe,{task:i,onSave:c,onCancel:()=>a(null)})}),l.jsx(dt,{isOpen:s,onClose:()=>o(!1),title:"Registrar Tratamiento No Planificado",children:l.jsx(rNe,{onSaveSuccess:()=>o(!1),onCancel:()=>o(!1)})})]})}const aNe=["Desparasitación","Vacunación","Vitaminas","Minerales","Control"],sNe=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],oNe=[{value:1,label:"1ra Semana"},{value:2,label:"2da Semana"},{value:3,label:"3ra Semana"},{value:4,label:"4ta Semana"}],lNe=({planId:t,onSave:e,onCancel:n,existingTask:r})=>{const{products:i}=qe(),[a,s]=N.useState(""),[o,c]=N.useState("Control"),[u,d]=N.useState(""),[f,h]=N.useState("age"),[p,v]=N.useState(""),[y,b]=N.useState("1"),[x,_]=N.useState("1"),[S,C]=N.useState(""),[E,P]=N.useState(null),[j,A]=N.useState(!1);N.useEffect(()=>{r&&(s(r.name),c(r.type),d(r.productId),h(r.trigger.type),r.trigger.type==="age"&&v(String(r.trigger.days||"")),r.trigger.type==="fixed_date_period"&&(b(String(r.trigger.month||"1")),_(String(r.trigger.week||"1"))),r.trigger.type==="birthing_season_event"&&C(String(r.trigger.offsetDays||"")))},[r]);const O=async D=>{if(D.preventDefault(),P(null),A(!0),!a.trim()||!u){P("El nombre y el producto son obligatorios."),A(!1);return}let R;if(f==="age"){if(!p||parseInt(p,10)<=0){P("Para el disparador por edad, los días deben ser un número válido."),A(!1);return}R={type:"age",days:parseInt(p,10)}}else if(f==="fixed_date_period")R={type:"fixed_date_period",month:parseInt(y,10),week:parseInt(x,10)};else{const z=parseInt(S,10);if(isNaN(z)){P("Debe introducir un número válido de días (positivo o negativo)."),A(!1);return}R={type:"birthing_season_event",offsetDays:z}}const $={healthPlanId:t,name:a,type:o,productId:u,trigger:R};try{await e($)}catch(z){P("No se pudo guardar la tarea."),console.error(z)}finally{A(!1)}};return l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"taskName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre de la Tarea"}),l.jsx("input",{id:"taskName",type:"text",value:a,onChange:D=>s(D.target.value),placeholder:"Ej: Vacuna Pre-parto Clostridial",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"taskType",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo de Tarea"}),l.jsx("select",{id:"taskType",value:o,onChange:D=>c(D.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:aNe.map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Producto a Utilizar"}),l.jsxs("select",{id:"product",value:u,onChange:D=>d(D.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:[l.jsx("option",{value:"",children:"Seleccionar producto..."}),i.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))]})]})]}),l.jsxs("fieldset",{className:"bg-black/20 rounded-xl p-4 border border-zinc-700",children:[l.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-300",children:"Disparador (Trigger)"}),l.jsxs("div",{className:"pt-2 space-y-4",children:[l.jsxs("select",{value:f,onChange:D=>h(D.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:[l.jsx("option",{value:"age",children:"Por Edad del Animal"}),l.jsx("option",{value:"fixed_date_period",children:"Por Fecha Fija Anual"}),l.jsx("option",{value:"birthing_season_event",children:"Relativo a Temporada de Partos"})]}),f==="age"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("label",{htmlFor:"triggerDays",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Aplicar a los (días de edad)"}),l.jsx("input",{id:"triggerDays",type:"number",value:p,onChange:D=>v(D.target.value),placeholder:"Ej: 60",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})]}),f==="fixed_date_period"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"triggerMonth",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Mes"}),l.jsx("select",{id:"triggerMonth",value:y,onChange:D=>b(D.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:sNe.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"triggerWeek",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Semana"}),l.jsx("select",{id:"triggerWeek",value:x,onChange:D=>_(D.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:oNe.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),f==="birthing_season_event"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("label",{htmlFor:"triggerOffsetDays",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Días antes (-) / después (+) del inicio de la temporada"}),l.jsx("input",{id:"triggerOffsetDays",type:"number",value:S,onChange:D=>C(D.target.value),placeholder:"Ej: -30 (para 30 días antes)",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})]})]})]}),E&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[l.jsx(un,{size:18})," ",l.jsx("span",{children:E})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:j,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:j?"Guardando...":"Guardar Tarea"})]})]})},cNe=({task:t,onEdit:e,onDelete:n})=>{const{products:r}=qe(),i=r.find(c=>c.id===t.productId),a=kf(),s=N.useRef(!1),o=(c,u)=>{const d=u.offset.x,f=u.velocity.x;d<-160/2||f<-500?a.start({x:-160}):a.start({x:0}),setTimeout(()=>{s.current=!1},100)};return l.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-black/20 border border-zinc-700",children:[l.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[l.jsxs("button",{onClick:e,onPointerDown:c=>c.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[l.jsx(jl,{size:20}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),l.jsxs("button",{onClick:n,onPointerDown:c=>c.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[l.jsx(fo,{size:20}),l.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),l.jsx(El.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{s.current=!0},onDragEnd:o,animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-grab bg-ios-modal-bg/50",children:l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),l.jsx("p",{className:"text-sm text-teal-300",children:t.type}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Producto: ",(i==null?void 0:i.name)||"No especificado"]})]})}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700 flex items-center text-zinc-300",children:[l.jsx(mx,{size:16,className:"mr-2"}),l.jsxs("span",{className:"text-sm",children:["Se activa a los ",l.jsx("span",{className:"font-bold text-white",children:t.trigger.days})," días de edad"]})]})]})})]})};function uNe({planId:t,onBack:e}){var S;const{healthPlans:n,healthPlanTasks:r,addHealthPlanTask:i,updateHealthPlanTask:a,deleteHealthPlanTask:s}=qe(),[o,c]=N.useState(!1),[u,d]=N.useState(void 0),[f,h]=N.useState(null),p=N.useMemo(()=>n.find(C=>C.id===t),[n,t]),v=N.useMemo(()=>r.filter(C=>C.healthPlanId===t).sort((C,E)=>(C.trigger.days||0)-(E.trigger.days||0)),[r,t]),y=C=>{d(C),c(!0)},b=()=>{c(!1),d(void 0)},x=async C=>{u!=null&&u.id?await a(u.id,C):await i(C),b()},_=async()=>{f!=null&&f.id&&await s(f.id),h(null)};return p?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[l.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"text-center flex-grow",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:p.name}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Detalles del Plan Sanitario"})]}),l.jsx("div",{className:"w-8"})]}),l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-zinc-400",children:"Descripción"}),l.jsx("p",{className:"text-white",children:p.description||"Sin descripción."}),l.jsx("h3",{className:"text-sm font-semibold text-zinc-400 pt-2",children:"Criterios de Aplicación"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.targetCriteria.minAgeDays&&l.jsxs("span",{className:"bg-zinc-700 text-xs font-semibold px-2 py-1 rounded-full",children:["Desde ",p.targetCriteria.minAgeDays," días"]}),p.targetCriteria.maxAgeDays&&l.jsxs("span",{className:"bg-zinc-700 text-xs font-semibold px-2 py-1 rounded-full",children:["Hasta ",p.targetCriteria.maxAgeDays," días"]}),(S=p.targetCriteria.categories)==null?void 0:S.map(C=>l.jsx("span",{className:"bg-zinc-700 text-xs font-semibold px-2 py-1 rounded-full",children:C},C))]})]})}),l.jsxs("div",{className:"space-y-4 px-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Tareas del Plan"}),l.jsxs("button",{onClick:()=>y(),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[l.jsx(Xr,{size:16})," Añadir Tarea"]})]}),v.length>0?l.jsx("div",{className:"space-y-3",children:v.map(C=>l.jsx(cNe,{task:C,onEdit:()=>y(C),onDelete:()=>h(C)},C.id))}):l.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:l.jsx("p",{className:"text-zinc-500",children:"Este plan aún no tiene tareas."})})]})]}),l.jsx(dt,{isOpen:o,onClose:b,title:u?"Editar Tarea":"Añadir Tarea al Plan",children:l.jsx(lNe,{planId:p.id,onSave:x,onCancel:b,existingTask:u})}),l.jsx(xb,{isOpen:!!f,onClose:()=>h(null),onConfirm:_,title:`Eliminar Tarea "${f==null?void 0:f.name}"`,message:"¿Estás seguro de que quieres eliminar esta tarea del plan? Esta acción no se puede deshacer."})]}):l.jsxs("div",{className:"text-center p-10",children:[l.jsx("h1",{className:"text-2xl text-zinc-400",children:"Plan no encontrado."}),l.jsx("button",{onClick:e,className:"mt-4 text-brand-amber",children:"Volver al Planificador"})]})}const dNe=()=>{const{healthEvents:t,animals:e}=qe();return N.useMemo(()=>{if(t.length===0)return{totalCostLast30Days:0,avgCostPerAnimal:0,monthlyCosts:[],costsByCategory:[],topCostAnimals:[]};const r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()-30),s=t.filter(b=>new Date(b.date)>=i).reduce((b,x)=>b+x.calculatedCost,0),o=e.filter(b=>b.status==="Activo").length,c=t.reduce((b,x)=>b+x.calculatedCost,0),u=o>0?c/o:0,d=t.reduce((b,x)=>{const _=x.date.substring(0,7);return b[_]||(b[_]=0),b[_]+=x.calculatedCost,b},{}),f=Object.entries(d).map(([b,x])=>({name:b,total:x})).sort((b,x)=>b.name.localeCompare(x.name)),h=t.reduce((b,x)=>{const _=x.type;return b[_]||(b[_]=0),b[_]+=x.calculatedCost,b},{}),p=Object.entries(h).map(([b,x])=>({name:b,total:x})).sort((b,x)=>x.total-b.total),v=t.reduce((b,x)=>{const _=x.animalId;return b[_]||(b[_]=0),b[_]+=x.calculatedCost,b},{}),y=Object.entries(v).sort((b,x)=>x[1]-b[1]).slice(0,5).map(([b,x])=>({animalId:b,total:x}));return{totalCostLast30Days:s,avgCostPerAnimal:u,monthlyCosts:f,costsByCategory:p,topCostAnimals:y}},[t,e])},$M=({title:t,value:e,unit:n,icon:r})=>l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(r,{size:14}),l.jsx("span",{children:t})]}),l.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[e," ",l.jsx("span",{className:"text-xl text-zinc-400",children:n})]})]}),zM=["#34C759","#FF9500","#007AFF","#AF52DE","#FF3B30","#5E5CE6"];function fNe(){const{totalCostLast30Days:t,avgCostPerAnimal:e,monthlyCosts:n,costsByCategory:r,topCostAnimals:i}=dNe(),a=s=>new Date(s+"-02").toLocaleString("es-VE",{month:"short"});return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Análisis de Costos"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Módulo StockCare"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx($M,{title:"Costo (Últimos 30 días)",value:`$${t.toFixed(2)}`,icon:Vc}),l.jsx($M,{title:"Costo Prom./Animal",value:`$${e.toFixed(2)}`,icon:gs})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[l.jsx(px,{size:20})," Costo Mensual"]}),l.jsx("div",{className:"w-full h-56",children:l.jsx(zn,{children:l.jsxs(ui,{data:n,margin:{top:5,right:10,left:-20,bottom:5},children:[l.jsx(Sn,{dataKey:"name",tickFormatter:a,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(kn,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),l.jsx(Dt,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"}}),l.jsx(Fn,{dataKey:"total",name:"Costo Total",fill:"#2dd4bf",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[l.jsx(SG,{size:20})," Costos por Categoría"]}),l.jsx("div",{className:"w-full h-48",children:l.jsx(zn,{children:l.jsxs(PS,{children:[l.jsx(Da,{data:r,dataKey:"total",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",children:r.map((s,o)=>l.jsx(Oa,{fill:zM[o%zM.length]},`cell-${o}`))}),l.jsx(Dt,{contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"}}),l.jsx(Ca,{iconSize:10,wrapperStyle:{fontSize:"12px"}})]})})})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top 5 Animales (Costo)"}),l.jsx("div",{className:"space-y-2",children:i.length>0?i.map((s,o)=>l.jsxs("div",{className:"flex justify-between items-center text-sm bg-black/20 p-2 rounded-md",children:[l.jsxs("span",{className:"font-semibold text-white",children:[o+1,". ",s.animalId]}),l.jsxs("span",{className:"font-bold text-teal-300",children:["$",s.total.toFixed(2)]})]},s.animalId)):l.jsx("p",{className:"text-sm text-zinc-500 text-center pt-8",children:"No hay datos suficientes."})})]})]})]})}function hNe({onSwitchModule:t}){const{syncStatus:e}=qe(),[n,r]=N.useState({name:"agenda"}),[i,a]=N.useState([]),s=[{id:"agenda",label:"Agenda",icon:C_},{id:"planes",label:"Planes",icon:uA},{id:"inventario",label:"Inventario",icon:vx},{id:"costos",label:"Costos",icon:Vc}],o=f=>{a(h=>[...h,n]),r(f)},c=()=>{const f=i.pop();f?(a([...i]),r(f)):t("rebano")},u=f=>{a([]),r({name:f})},d=()=>{switch(n.name){case"inventario":return l.jsx(Gke,{});case"agenda":return l.jsx(LM,{});case"planes":return l.jsx(Zke,{navigateTo:o});case"plan-detail":return l.jsx(uNe,{planId:n.planId,onBack:c});case"costos":return l.jsx(fNe,{});default:return l.jsx(LM,{})}};return l.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[l.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[l.jsx("button",{onClick:c,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrás",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yx,{className:"text-teal-400"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),l.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"StockCare"})]})]}),l.jsx("div",{className:"w-8 flex justify-end",children:l.jsx(yg,{status:e})})]})}),l.jsx("main",{className:"flex-grow pt-16 pb-24",children:d()}),l.jsx(gg,{onSwitchModule:t}),l.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:s.map(f=>l.jsxs("button",{onClick:()=>u(f.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n.name===f.id?"text-teal-400":"text-gray-400 hover:text-teal-400"}`,children:[l.jsx(f.icon,{className:"w-6 h-6 mb-1"}),l.jsx("span",{className:"text-xs font-semibold",children:f.label})]},f.id))})]})}const FM=.5,pNe=()=>{const{animals:t,healthEvents:e,weighings:n,parturitions:r}=qe();return N.useMemo(()=>{const o=[...t.filter(p=>p.status==="Activo"&&p.sex==="Hembra").map(p=>{const v=e.filter(P=>P.animalId===p.id).reduce((P,j)=>P+j.calculatedCost,0),y=n.filter(P=>P.goatId===p.id),b=y.reduce((P,j)=>P+j.kg,0),x=b*FM;let _=null,S=0;const C=r.filter(P=>P.goatId===p.id);b>0&&C.length>0&&(S=C.reduce((j,A)=>{const O=y.filter(z=>new Date(z.date)>=new Date(A.parturitionDate));if(O.length===0)return j;const D=new Date(A.parturitionDate),$=(new Date(O.sort((z,X)=>new Date(X.date).getTime()-new Date(z.date).getTime())[0].date).getTime()-D.getTime())/(1e3*60*60*24);return j+$},0),_=v/b);const E=x-v;return{animalId:p.id,totalRevenue:x,totalCosts:v,netProfit:E,costPerLiter:_,totalKgProduced:b,lactationDays:S}})].sort((p,v)=>v.netProfit-p.netProfit),c=o.reduce((p,v)=>p+v.totalRevenue,0),u=o.reduce((p,v)=>p+v.totalCosts,0),d=c-u,f=o.filter(p=>p.costPerLiter!==null&&p.costPerLiter>0).map(p=>p.costPerLiter),h=f.length>0?f.reduce((p,v)=>p+v,0)/f.length:0;return{animalsByProfitability:o,totalFarmRevenue:c,totalFarmCosts:u,totalFarmNetProfit:d,averageCostPerLiter:h,assumedMilkPrice:FM}},[t,e,n,r])},fy=({title:t,value:e,unit:n,icon:r,colorClass:i})=>l.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border ${i||""}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(r,{size:14}),l.jsx("span",{children:t})]}),l.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[e," ",l.jsx("span",{className:"text-xl text-zinc-400",children:n})]})]}),VM=({animalData:t})=>{const e=t.netProfit>=0;return l.jsxs("div",{className:"w-full text-left bg-black/20 rounded-xl p-4 border border-zinc-700/80 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-xl text-white",children:t.animalId}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-400 mt-1",children:[l.jsxs("span",{children:["Ingresos: $",t.totalRevenue.toFixed(2)]}),l.jsxs("span",{children:["Costos: $",t.totalCosts.toFixed(2)]})]})]}),l.jsxs("div",{className:`text-right font-bold text-2xl ${e?"text-brand-green":"text-brand-red"}`,children:[e?"+":"","$",t.netProfit.toFixed(2)]})]})},mNe=({active:t,payload:e})=>t&&e&&e.length?l.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-2 rounded-lg border border-zinc-700 text-white text-sm",children:[l.jsx("p",{className:"font-bold",children:e[0].payload.animalId}),l.jsxs("p",{style:{color:e[0].fill},children:["Rentabilidad: $",e[0].value.toFixed(2)]})]}):null;function gNe(){const{animalsByProfitability:t,totalFarmRevenue:e,totalFarmCosts:n,totalFarmNetProfit:r,averageCostPerLiter:i,assumedMilkPrice:a}=pNe(),s=t.slice(0,5),o=t.slice(-5).reverse();return t.length===0?l.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4 flex flex-col items-center gap-4",children:[l.jsx(Vc,{size:48,className:"text-zinc-600"}),l.jsx("p",{className:"text-zinc-400 font-semibold text-lg",children:"No hay datos suficientes"}),l.jsx("p",{className:"text-zinc-500 text-sm max-w-xs",children:"Registra pesajes lecheros y eventos de salud con costos para empezar a ver el análisis económico."})]}):l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[l.jsxs("header",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Análisis Económico"}),l.jsx("p",{className:"text-lg text-zinc-400",children:"Rentabilidad de la Finca"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(fy,{title:"Ingresos Totales (Leche)",value:`$${e.toFixed(2)}`,icon:Wp,colorClass:"border-green-500/30"}),l.jsx(fy,{title:"Costos Totales (Sanidad)",value:`$${n.toFixed(2)}`,icon:Up,colorClass:"border-red-500/30"})]}),l.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border ${r>=0?"border-green-500/50":"border-red-500/50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[l.jsx(Vc,{size:14}),l.jsx("span",{children:"Rentabilidad Neta (Ingresos - Costos)"})]}),l.jsxs("p",{className:`text-5xl font-bold mt-1 ${r>=0?"text-brand-green":"text-brand-red"}`,children:[r>=0?"+":"","$",r.toFixed(2)]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(fy,{title:"Costo / Litro de Leche",value:`$${i.toFixed(3)}`,icon:gx}),l.jsx(fy,{title:"Precio Leche (Asumido)",value:`$${a.toFixed(2)}`,unit:"/Kg",icon:gs})]}),l.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[l.jsx(iG,{size:20})," Distribución de Rentabilidad"]}),l.jsx("div",{className:"w-full h-56",children:l.jsx(zn,{children:l.jsxs(ui,{data:t,margin:{top:5,right:0,left:0,bottom:5},children:[l.jsx(Sn,{dataKey:"animalId",tick:!1,axisLine:!1}),l.jsx(Dt,{content:l.jsx(mNe,{}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),l.jsx(Fn,{dataKey:"netProfit",children:t.map(c=>l.jsx(Oa,{fill:c.netProfit>=0?"#34C759":"#FF3B30"},c.animalId))})]})})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-zinc-300",children:"Ranking de Rentabilidad"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"font-semibold text-brand-green flex items-center gap-2",children:[l.jsx(Wp,{size:18})," Top 5 Animales Más Rentables"]}),s.map(c=>l.jsx(VM,{animalData:c},c.animalId))]}),l.jsxs("div",{className:"space-y-2 pt-4",children:[l.jsxs("h4",{className:"font-semibold text-brand-red flex items-center gap-2",children:[l.jsx(Up,{size:18})," Top 5 Animales Menos Rentables"]}),o.map(c=>l.jsx(VM,{animalData:c},c.animalId))]})]})]})}function yNe({onSwitchModule:t}){const{syncStatus:e}=qe();return l.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[l.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[l.jsx("button",{onClick:()=>t("rebano"),className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Salir del módulo",children:l.jsx(Jn,{size:24})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vc,{className:"text-yellow-400"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),l.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Cents"})]})]}),l.jsx("div",{className:"w-8 flex justify-end",children:l.jsx(yg,{status:e})})]})}),l.jsx("main",{className:"flex-grow pt-16 pb-24",children:l.jsx(gNe,{})}),l.jsx(gg,{onSwitchModule:t})]})}const vNe=()=>l.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#1C1C1E] animate-fade-in",children:[l.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[l.jsx(Qm,{className:"text-brand-orange w-12 h-12"}),l.jsx("div",{className:"absolute inset-0",children:l.jsx(dL,{className:"w-24 h-24 text-zinc-700 animate-spin-slow"})})]}),l.jsx("p",{className:"mt-4 text-lg font-medium text-zinc-400 tracking-wider",children:"Cargando datos..."})]});function xNe(){const{currentUser:t,isLoading:e}=eL(),{isLoading:n}=qe(),[r,i]=N.useState("rebano"),[a,s]=N.useState(null),[o,c]=N.useState({lactokeeper:"dashboard"}),u=N.useCallback(h=>{s(null),i(h)},[]),d=N.useCallback(h=>{s(h),i("rebano")},[]),f=N.useCallback(h=>{c(p=>({...p,lactokeeper:h}))},[]);if(e||t&&n)return l.jsx(vNe,{});if(!t)return l.jsx(GG,{});switch(r){case"lactokeeper":return l.jsx(Rke,{initialPage:o.lactokeeper,onPageStateChange:f,navigateToRebano:d,onSwitchModule:u});case"kilos":return l.jsx(qke,{navigateToRebano:d,onSwitchModule:u});case"salud":return l.jsx(hNe,{onSwitchModule:u});case"cents":return l.jsx(yNe,{onSwitchModule:u});case"rebano":default:return l.jsx(bke,{initialPage:a,onSwitchModule:u})}}dw.createRoot(document.getElementById("root")).render(l.jsx(q.StrictMode,{children:l.jsx(qH,{children:l.jsx(QH,{children:l.jsx(xNe,{})})})}));
