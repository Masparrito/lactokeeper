var jse=Object.defineProperty;var Tse=(t,e,n)=>e in t?jse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mn=(t,e,n)=>Tse(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A$={exports:{}},n5={},d$={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb=Symbol.for("react.element"),Ise=Symbol.for("react.portal"),kse=Symbol.for("react.fragment"),Pse=Symbol.for("react.strict_mode"),Dse=Symbol.for("react.profiler"),Ose=Symbol.for("react.provider"),Fse=Symbol.for("react.context"),Mse=Symbol.for("react.forward_ref"),Lse=Symbol.for("react.suspense"),Rse=Symbol.for("react.memo"),Use=Symbol.for("react.lazy"),dM=Symbol.iterator;function Qse(t){return t===null||typeof t!="object"?null:(t=dM&&t[dM]||t["@@iterator"],typeof t=="function"?t:null)}var f$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h$=Object.assign,p$={};function Jg(t,e,n){this.props=t,this.context=e,this.refs=p$,this.updater=n||f$}Jg.prototype.isReactComponent={};Jg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m$(){}m$.prototype=Jg.prototype;function Wk(t,e,n){this.props=t,this.context=e,this.refs=p$,this.updater=n||f$}var Gk=Wk.prototype=new m$;Gk.constructor=Wk;h$(Gk,Jg.prototype);Gk.isPureReactComponent=!0;var fM=Array.isArray,g$=Object.prototype.hasOwnProperty,qk={current:null},v$={key:!0,ref:!0,__self:!0,__source:!0};function y$(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)g$.call(e,r)&&!v$.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:qb,type:t,key:a,ref:s,props:i,_owner:qk.current}}function Hse(t,e){return{$$typeof:qb,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yk(t){return typeof t=="object"&&t!==null&&t.$$typeof===qb}function zse(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hM=/\/+/g;function T_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zse(""+t.key):e.toString(36)}function Fw(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qb:case Ise:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+T_(s,0):r,fM(i)?(n="",t!=null&&(n=t.replace(hM,"$&/")+"/"),Fw(i,e,n,"",function(u){return u})):i!=null&&(Yk(i)&&(i=Hse(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hM,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fM(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+T_(a,o);s+=Fw(a,e,n,l,i)}else if(l=Qse(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+T_(a,o++),s+=Fw(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function n1(t,e,n){if(t==null)return t;var r=[],i=0;return Fw(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Vse(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Eo={current:null},Mw={transition:null},$se={ReactCurrentDispatcher:Eo,ReactCurrentBatchConfig:Mw,ReactCurrentOwner:qk};function b$(){throw Error("act(...) is not supported in production builds of React.")}sr.Children={map:n1,forEach:function(t,e,n){n1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return n1(t,function(){e++}),e},toArray:function(t){return n1(t,function(e){return e})||[]},only:function(t){if(!Yk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sr.Component=Jg;sr.Fragment=kse;sr.Profiler=Dse;sr.PureComponent=Wk;sr.StrictMode=Pse;sr.Suspense=Lse;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$se;sr.act=b$;sr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h$({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=qk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)g$.call(e,l)&&!v$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:qb,type:t.type,key:i,ref:a,props:r,_owner:s}};sr.createContext=function(t){return t={$$typeof:Fse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ose,_context:t},t.Consumer=t};sr.createElement=y$;sr.createFactory=function(t){var e=y$.bind(null,t);return e.type=t,e};sr.createRef=function(){return{current:null}};sr.forwardRef=function(t){return{$$typeof:Mse,render:t}};sr.isValidElement=Yk;sr.lazy=function(t){return{$$typeof:Use,_payload:{_status:-1,_result:t},_init:Vse}};sr.memo=function(t,e){return{$$typeof:Rse,type:t,compare:e===void 0?null:e}};sr.startTransition=function(t){var e=Mw.transition;Mw.transition={};try{t()}finally{Mw.transition=e}};sr.unstable_act=b$;sr.useCallback=function(t,e){return Eo.current.useCallback(t,e)};sr.useContext=function(t){return Eo.current.useContext(t)};sr.useDebugValue=function(){};sr.useDeferredValue=function(t){return Eo.current.useDeferredValue(t)};sr.useEffect=function(t,e){return Eo.current.useEffect(t,e)};sr.useId=function(){return Eo.current.useId()};sr.useImperativeHandle=function(t,e,n){return Eo.current.useImperativeHandle(t,e,n)};sr.useInsertionEffect=function(t,e){return Eo.current.useInsertionEffect(t,e)};sr.useLayoutEffect=function(t,e){return Eo.current.useLayoutEffect(t,e)};sr.useMemo=function(t,e){return Eo.current.useMemo(t,e)};sr.useReducer=function(t,e,n){return Eo.current.useReducer(t,e,n)};sr.useRef=function(t){return Eo.current.useRef(t)};sr.useState=function(t){return Eo.current.useState(t)};sr.useSyncExternalStore=function(t,e,n){return Eo.current.useSyncExternalStore(t,e,n)};sr.useTransition=function(){return Eo.current.useTransition()};sr.version="18.3.1";d$.exports=sr;var P=d$.exports;const be=Rr(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kse=P,Wse=Symbol.for("react.element"),Gse=Symbol.for("react.fragment"),qse=Object.prototype.hasOwnProperty,Yse=Kse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xse={key:!0,ref:!0,__self:!0,__source:!0};function x$(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)qse.call(e,r)&&!Xse.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wse,type:t,key:a,ref:s,props:i,_owner:Yse.current}}n5.Fragment=Gse;n5.jsx=x$;n5.jsxs=x$;A$.exports=n5;var c=A$.exports,T4={},w$={exports:{}},Ll={},C$={exports:{}},S$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,oe){var te=W.length;W.push(oe);e:for(;0<te;){var ue=te-1>>>1,R=W[ue];if(0<i(R,oe))W[ue]=oe,W[te]=R,te=ue;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],te=W.pop();if(te!==oe){W[0]=te;e:for(var ue=0,R=W.length,$=R>>>1;ue<$;){var J=2*(ue+1)-1,ne=W[J],he=J+1,Se=W[he];if(0>i(ne,te))he<R&&0>i(Se,ne)?(W[ue]=Se,W[he]=te,ue=he):(W[ue]=ne,W[J]=te,ue=J);else if(he<R&&0>i(Se,te))W[ue]=Se,W[he]=te,ue=he;else break e}}return oe}function i(W,oe){var te=W.sortIndex-oe.sortIndex;return te!==0?te:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],A=1,d=null,f=3,h=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=W)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function C(W){if(m=!1,b(W),!p)if(n(l)!==null)p=!0,q(E);else{var oe=n(u);oe!==null&&Z(C,oe.startTime-W)}}function E(W,oe){p=!1,m&&(m=!1,g(B),B=-1),h=!0;var te=f;try{for(b(oe),d=n(l);d!==null&&(!(d.expirationTime>oe)||W&&!k());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var R=ue(d.expirationTime<=oe);oe=t.unstable_now(),typeof R=="function"?d.callback=R:d===n(l)&&r(l),b(oe)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(u);J!==null&&Z(C,J.startTime-oe),$=!1}return $}finally{d=null,f=te,h=!1}}var N=!1,_=null,B=-1,j=5,D=-1;function k(){return!(t.unstable_now()-D<j)}function O(){if(_!==null){var W=t.unstable_now();D=W;var oe=!0;try{oe=_(!0,W)}finally{oe?F():(N=!1,_=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=O,F=function(){Y.postMessage(null)}}else F=function(){v(O,0)};function q(W){_=W,N||(N=!0,F())}function Z(W,oe){B=v(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,q(E))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var oe=3;break;default:oe=f}var te=f;f=oe;try{return W()}finally{f=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=f;f=W;try{return oe()}finally{f=te}},t.unstable_scheduleCallback=function(W,oe,te){var ue=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=te+R,W={id:A++,callback:oe,priorityLevel:W,startTime:te,expirationTime:R,sortIndex:-1},te>ue?(W.sortIndex=te,e(u,W),n(l)===null&&W===n(u)&&(m?(g(B),B=-1):m=!0,Z(C,te-ue))):(W.sortIndex=R,e(l,W),p||h||(p=!0,q(E))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var oe=f;return function(){var te=f;f=oe;try{return W.apply(this,arguments)}finally{f=te}}}})(S$);C$.exports=S$;var Jse=C$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zse=P,Pl=Jse;function Pt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E$=new Set,xy={};function ap(t,e){Ym(t,e),Ym(t+"Capture",e)}function Ym(t,e){for(xy[t]=e,t=0;t<e.length;t++)E$.add(e[t])}var FA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I4=Object.prototype.hasOwnProperty,eoe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pM={},mM={};function toe(t){return I4.call(mM,t)?!0:I4.call(pM,t)?!1:eoe.test(t)?mM[t]=!0:(pM[t]=!0,!1)}function noe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function roe(t,e,n,r){if(e===null||typeof e>"u"||noe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _o(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ts[t]=new _o(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ts[e]=new _o(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ts[t]=new _o(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ts[t]=new _o(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ts[t]=new _o(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ts[t]=new _o(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ts[t]=new _o(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ts[t]=new _o(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ts[t]=new _o(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xk=/[\-:]([a-z])/g;function Jk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xk,Jk);Ts[e]=new _o(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xk,Jk);Ts[e]=new _o(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xk,Jk);Ts[e]=new _o(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ts[t]=new _o(t,1,!1,t.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new _o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ts[t]=new _o(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zk(t,e,n,r){var i=Ts.hasOwnProperty(e)?Ts[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(roe(e,n,i,r)&&(n=null),r||i===null?toe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var XA=Zse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r1=Symbol.for("react.element"),nm=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),eP=Symbol.for("react.strict_mode"),k4=Symbol.for("react.profiler"),_$=Symbol.for("react.provider"),B$=Symbol.for("react.context"),tP=Symbol.for("react.forward_ref"),P4=Symbol.for("react.suspense"),D4=Symbol.for("react.suspense_list"),nP=Symbol.for("react.memo"),Sd=Symbol.for("react.lazy"),N$=Symbol.for("react.offscreen"),gM=Symbol.iterator;function M0(t){return t===null||typeof t!="object"?null:(t=gM&&t[gM]||t["@@iterator"],typeof t=="function"?t:null)}var Qi=Object.assign,I_;function dv(t){if(I_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);I_=e&&e[1]||""}return`
`+I_+t}var k_=!1;function P_(t,e){if(!t||k_)return"";k_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{k_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dv(t):""}function ioe(t){switch(t.tag){case 5:return dv(t.type);case 16:return dv("Lazy");case 13:return dv("Suspense");case 19:return dv("SuspenseList");case 0:case 2:case 15:return t=P_(t.type,!1),t;case 11:return t=P_(t.type.render,!1),t;case 1:return t=P_(t.type,!0),t;default:return""}}function O4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rm:return"Fragment";case nm:return"Portal";case k4:return"Profiler";case eP:return"StrictMode";case P4:return"Suspense";case D4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B$:return(t.displayName||"Context")+".Consumer";case _$:return(t._context.displayName||"Context")+".Provider";case tP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nP:return e=t.displayName||null,e!==null?e:O4(t.type)||"Memo";case Sd:e=t._payload,t=t._init;try{return O4(t(e))}catch{}}return null}function aoe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O4(e);case 8:return e===eP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function of(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function soe(t){var e=j$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function i1(t){t._valueTracker||(t._valueTracker=soe(t))}function T$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function S2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function F4(t,e){var n=e.checked;return Qi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vM(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=of(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I$(t,e){e=e.checked,e!=null&&Zk(t,"checked",e,!1)}function M4(t,e){I$(t,e);var n=of(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?L4(t,e.type,n):e.hasOwnProperty("defaultValue")&&L4(t,e.type,of(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yM(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function L4(t,e,n){(e!=="number"||S2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fv=Array.isArray;function Nm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+of(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return Qi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bM(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Pt(92));if(fv(n)){if(1<n.length)throw Error(Pt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:of(n)}}function k$(t,e){var n=of(e.value),r=of(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var a1,D$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(a1=a1||document.createElement("div"),a1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=a1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ooe=["Webkit","ms","Moz","O"];Object.keys(Dv).forEach(function(t){ooe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dv[e]=Dv[t]})});function O$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dv.hasOwnProperty(t)&&Dv[t]?(""+e).trim():e+"px"}function F$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=O$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var loe=Qi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q4(t,e){if(e){if(loe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pt(62))}}function H4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z4=null;function rP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V4=null,jm=null,Tm=null;function wM(t){if(t=Jb(t)){if(typeof V4!="function")throw Error(Pt(280));var e=t.stateNode;e&&(e=o5(e),V4(t.stateNode,t.type,e))}}function M$(t){jm?Tm?Tm.push(t):Tm=[t]:jm=t}function L$(){if(jm){var t=jm,e=Tm;if(Tm=jm=null,wM(t),e)for(t=0;t<e.length;t++)wM(e[t])}}function R$(t,e){return t(e)}function U$(){}var D_=!1;function Q$(t,e,n){if(D_)return t(e,n);D_=!0;try{return R$(t,e,n)}finally{D_=!1,(jm!==null||Tm!==null)&&(U$(),L$())}}function Cy(t,e){var n=t.stateNode;if(n===null)return null;var r=o5(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Pt(231,e,typeof n));return n}var $4=!1;if(FA)try{var L0={};Object.defineProperty(L0,"passive",{get:function(){$4=!0}}),window.addEventListener("test",L0,L0),window.removeEventListener("test",L0,L0)}catch{$4=!1}function coe(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(A){this.onError(A)}}var Ov=!1,E2=null,_2=!1,K4=null,uoe={onError:function(t){Ov=!0,E2=t}};function Aoe(t,e,n,r,i,a,s,o,l){Ov=!1,E2=null,coe.apply(uoe,arguments)}function doe(t,e,n,r,i,a,s,o,l){if(Aoe.apply(this,arguments),Ov){if(Ov){var u=E2;Ov=!1,E2=null}else throw Error(Pt(198));_2||(_2=!0,K4=u)}}function sp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CM(t){if(sp(t)!==t)throw Error(Pt(188))}function foe(t){var e=t.alternate;if(!e){if(e=sp(t),e===null)throw Error(Pt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return CM(i),t;if(a===r)return CM(i),e;a=a.sibling}throw Error(Pt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Pt(189))}}if(n.alternate!==r)throw Error(Pt(190))}if(n.tag!==3)throw Error(Pt(188));return n.stateNode.current===n?t:e}function z$(t){return t=foe(t),t!==null?V$(t):null}function V$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V$(t);if(e!==null)return e;t=t.sibling}return null}var $$=Pl.unstable_scheduleCallback,SM=Pl.unstable_cancelCallback,hoe=Pl.unstable_shouldYield,poe=Pl.unstable_requestPaint,ha=Pl.unstable_now,moe=Pl.unstable_getCurrentPriorityLevel,iP=Pl.unstable_ImmediatePriority,K$=Pl.unstable_UserBlockingPriority,B2=Pl.unstable_NormalPriority,goe=Pl.unstable_LowPriority,W$=Pl.unstable_IdlePriority,r5=null,Fu=null;function voe(t){if(Fu&&typeof Fu.onCommitFiberRoot=="function")try{Fu.onCommitFiberRoot(r5,t,void 0,(t.current.flags&128)===128)}catch{}}var Xc=Math.clz32?Math.clz32:xoe,yoe=Math.log,boe=Math.LN2;function xoe(t){return t>>>=0,t===0?32:31-(yoe(t)/boe|0)|0}var s1=64,o1=4194304;function hv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function N2(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=hv(o):(a&=s,a!==0&&(r=hv(a)))}else s=n&~i,s!==0?r=hv(s):a!==0&&(r=hv(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xc(e),i=1<<n,r|=t[n],e&=~i;return r}function woe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Coe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Xc(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=woe(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function W4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G$(){var t=s1;return s1<<=1,!(s1&4194240)&&(s1=64),t}function O_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yb(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xc(e),t[e]=n}function Soe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xc(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function aP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $r=0;function q$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y$,sP,X$,J$,Z$,G4=!1,l1=[],$d=null,Kd=null,Wd=null,Sy=new Map,Ey=new Map,Nd=[],Eoe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EM(t,e){switch(t){case"focusin":case"focusout":$d=null;break;case"dragenter":case"dragleave":Kd=null;break;case"mouseover":case"mouseout":Wd=null;break;case"pointerover":case"pointerout":Sy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ey.delete(e.pointerId)}}function R0(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jb(e),e!==null&&sP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _oe(t,e,n,r,i){switch(e){case"focusin":return $d=R0($d,t,e,n,r,i),!0;case"dragenter":return Kd=R0(Kd,t,e,n,r,i),!0;case"mouseover":return Wd=R0(Wd,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Sy.set(a,R0(Sy.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ey.set(a,R0(Ey.get(a)||null,t,e,n,r,i)),!0}return!1}function eK(t){var e=lh(t.target);if(e!==null){var n=sp(e);if(n!==null){if(e=n.tag,e===13){if(e=H$(n),e!==null){t.blockedOn=e,Z$(t.priority,function(){X$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=q4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);z4=r,n.target.dispatchEvent(r),z4=null}else return e=Jb(n),e!==null&&sP(e),t.blockedOn=n,!1;e.shift()}return!0}function _M(t,e,n){Lw(t)&&n.delete(e)}function Boe(){G4=!1,$d!==null&&Lw($d)&&($d=null),Kd!==null&&Lw(Kd)&&(Kd=null),Wd!==null&&Lw(Wd)&&(Wd=null),Sy.forEach(_M),Ey.forEach(_M)}function U0(t,e){t.blockedOn===e&&(t.blockedOn=null,G4||(G4=!0,Pl.unstable_scheduleCallback(Pl.unstable_NormalPriority,Boe)))}function _y(t){function e(i){return U0(i,t)}if(0<l1.length){U0(l1[0],t);for(var n=1;n<l1.length;n++){var r=l1[n];r.blockedOn===t&&(r.blockedOn=null)}}for($d!==null&&U0($d,t),Kd!==null&&U0(Kd,t),Wd!==null&&U0(Wd,t),Sy.forEach(e),Ey.forEach(e),n=0;n<Nd.length;n++)r=Nd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nd.length&&(n=Nd[0],n.blockedOn===null);)eK(n),n.blockedOn===null&&Nd.shift()}var Im=XA.ReactCurrentBatchConfig,j2=!0;function Noe(t,e,n,r){var i=$r,a=Im.transition;Im.transition=null;try{$r=1,oP(t,e,n,r)}finally{$r=i,Im.transition=a}}function joe(t,e,n,r){var i=$r,a=Im.transition;Im.transition=null;try{$r=4,oP(t,e,n,r)}finally{$r=i,Im.transition=a}}function oP(t,e,n,r){if(j2){var i=q4(t,e,n,r);if(i===null)$_(t,e,r,T2,n),EM(t,r);else if(_oe(i,t,e,n,r))r.stopPropagation();else if(EM(t,r),e&4&&-1<Eoe.indexOf(t)){for(;i!==null;){var a=Jb(i);if(a!==null&&Y$(a),a=q4(t,e,n,r),a===null&&$_(t,e,r,T2,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else $_(t,e,r,null,n)}}var T2=null;function q4(t,e,n,r){if(T2=null,t=rP(r),t=lh(t),t!==null)if(e=sp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return T2=t,null}function tK(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(moe()){case iP:return 1;case K$:return 4;case B2:case goe:return 16;case W$:return 536870912;default:return 16}default:return 16}}var kd=null,lP=null,Rw=null;function nK(){if(Rw)return Rw;var t,e=lP,n=e.length,r,i="value"in kd?kd.value:kd.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Rw=i.slice(t,1<r?1-r:void 0)}function Uw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function c1(){return!0}function BM(){return!1}function Rl(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?c1:BM,this.isPropagationStopped=BM,this}return Qi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=c1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=c1)},persist:function(){},isPersistent:c1}),e}var Zg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cP=Rl(Zg),Xb=Qi({},Zg,{view:0,detail:0}),Toe=Rl(Xb),F_,M_,Q0,i5=Qi({},Xb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Q0&&(Q0&&t.type==="mousemove"?(F_=t.screenX-Q0.screenX,M_=t.screenY-Q0.screenY):M_=F_=0,Q0=t),F_)},movementY:function(t){return"movementY"in t?t.movementY:M_}}),NM=Rl(i5),Ioe=Qi({},i5,{dataTransfer:0}),koe=Rl(Ioe),Poe=Qi({},Xb,{relatedTarget:0}),L_=Rl(Poe),Doe=Qi({},Zg,{animationName:0,elapsedTime:0,pseudoElement:0}),Ooe=Rl(Doe),Foe=Qi({},Zg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Moe=Rl(Foe),Loe=Qi({},Zg,{data:0}),jM=Rl(Loe),Roe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uoe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qoe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hoe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qoe[t])?!!e[t]:!1}function uP(){return Hoe}var zoe=Qi({},Xb,{key:function(t){if(t.key){var e=Roe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uoe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uP,charCode:function(t){return t.type==="keypress"?Uw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Voe=Rl(zoe),$oe=Qi({},i5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TM=Rl($oe),Koe=Qi({},Xb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uP}),Woe=Rl(Koe),Goe=Qi({},Zg,{propertyName:0,elapsedTime:0,pseudoElement:0}),qoe=Rl(Goe),Yoe=Qi({},i5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xoe=Rl(Yoe),Joe=[9,13,27,32],AP=FA&&"CompositionEvent"in window,Fv=null;FA&&"documentMode"in document&&(Fv=document.documentMode);var Zoe=FA&&"TextEvent"in window&&!Fv,rK=FA&&(!AP||Fv&&8<Fv&&11>=Fv),IM=" ",kM=!1;function iK(t,e){switch(t){case"keyup":return Joe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var im=!1;function ele(t,e){switch(t){case"compositionend":return aK(e);case"keypress":return e.which!==32?null:(kM=!0,IM);case"textInput":return t=e.data,t===IM&&kM?null:t;default:return null}}function tle(t,e){if(im)return t==="compositionend"||!AP&&iK(t,e)?(t=nK(),Rw=lP=kd=null,im=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rK&&e.locale!=="ko"?null:e.data;default:return null}}var nle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nle[t.type]:e==="textarea"}function sK(t,e,n,r){M$(r),e=I2(e,"onChange"),0<e.length&&(n=new cP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mv=null,By=null;function rle(t){gK(t,0)}function a5(t){var e=om(t);if(T$(e))return t}function ile(t,e){if(t==="change")return e}var oK=!1;if(FA){var R_;if(FA){var U_="oninput"in document;if(!U_){var DM=document.createElement("div");DM.setAttribute("oninput","return;"),U_=typeof DM.oninput=="function"}R_=U_}else R_=!1;oK=R_&&(!document.documentMode||9<document.documentMode)}function OM(){Mv&&(Mv.detachEvent("onpropertychange",lK),By=Mv=null)}function lK(t){if(t.propertyName==="value"&&a5(By)){var e=[];sK(e,By,t,rP(t)),Q$(rle,e)}}function ale(t,e,n){t==="focusin"?(OM(),Mv=e,By=n,Mv.attachEvent("onpropertychange",lK)):t==="focusout"&&OM()}function sle(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return a5(By)}function ole(t,e){if(t==="click")return a5(e)}function lle(t,e){if(t==="input"||t==="change")return a5(e)}function cle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nu=typeof Object.is=="function"?Object.is:cle;function Ny(t,e){if(nu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!I4.call(e,i)||!nu(t[i],e[i]))return!1}return!0}function FM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MM(t,e){var n=FM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FM(n)}}function cK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uK(){for(var t=window,e=S2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=S2(t.document)}return e}function dP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ule(t){var e=uK(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cK(n.ownerDocument.documentElement,n)){if(r!==null&&dP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=MM(n,a);var s=MM(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ale=FA&&"documentMode"in document&&11>=document.documentMode,am=null,Y4=null,Lv=null,X4=!1;function LM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;X4||am==null||am!==S2(r)||(r=am,"selectionStart"in r&&dP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lv&&Ny(Lv,r)||(Lv=r,r=I2(Y4,"onSelect"),0<r.length&&(e=new cP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=am)))}function u1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sm={animationend:u1("Animation","AnimationEnd"),animationiteration:u1("Animation","AnimationIteration"),animationstart:u1("Animation","AnimationStart"),transitionend:u1("Transition","TransitionEnd")},Q_={},AK={};FA&&(AK=document.createElement("div").style,"AnimationEvent"in window||(delete sm.animationend.animation,delete sm.animationiteration.animation,delete sm.animationstart.animation),"TransitionEvent"in window||delete sm.transitionend.transition);function s5(t){if(Q_[t])return Q_[t];if(!sm[t])return t;var e=sm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AK)return Q_[t]=e[n];return t}var dK=s5("animationend"),fK=s5("animationiteration"),hK=s5("animationstart"),pK=s5("transitionend"),mK=new Map,RM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yf(t,e){mK.set(t,e),ap(e,[t])}for(var H_=0;H_<RM.length;H_++){var z_=RM[H_],dle=z_.toLowerCase(),fle=z_[0].toUpperCase()+z_.slice(1);yf(dle,"on"+fle)}yf(dK,"onAnimationEnd");yf(fK,"onAnimationIteration");yf(hK,"onAnimationStart");yf("dblclick","onDoubleClick");yf("focusin","onFocus");yf("focusout","onBlur");yf(pK,"onTransitionEnd");Ym("onMouseEnter",["mouseout","mouseover"]);Ym("onMouseLeave",["mouseout","mouseover"]);Ym("onPointerEnter",["pointerout","pointerover"]);Ym("onPointerLeave",["pointerout","pointerover"]);ap("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ap("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ap("onBeforeInput",["compositionend","keypress","textInput","paste"]);ap("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ap("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ap("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hle=new Set("cancel close invalid load scroll toggle".split(" ").concat(pv));function UM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,doe(r,e,void 0,t),t.currentTarget=null}function gK(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;UM(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;UM(i,o,u),a=l}}}if(_2)throw t=K4,_2=!1,K4=null,t}function bi(t,e){var n=e[nj];n===void 0&&(n=e[nj]=new Set);var r=t+"__bubble";n.has(r)||(vK(e,t,2,!1),n.add(r))}function V_(t,e,n){var r=0;e&&(r|=4),vK(n,t,r,e)}var A1="_reactListening"+Math.random().toString(36).slice(2);function jy(t){if(!t[A1]){t[A1]=!0,E$.forEach(function(n){n!=="selectionchange"&&(hle.has(n)||V_(n,!1,t),V_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[A1]||(e[A1]=!0,V_("selectionchange",!1,e))}}function vK(t,e,n,r){switch(tK(e)){case 1:var i=Noe;break;case 4:i=joe;break;default:i=oP}n=i.bind(null,e,n,t),i=void 0,!$4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=lh(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Q$(function(){var u=a,A=rP(n),d=[];e:{var f=mK.get(t);if(f!==void 0){var h=cP,p=t;switch(t){case"keypress":if(Uw(n)===0)break e;case"keydown":case"keyup":h=Voe;break;case"focusin":p="focus",h=L_;break;case"focusout":p="blur",h=L_;break;case"beforeblur":case"afterblur":h=L_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=NM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=koe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Woe;break;case dK:case fK:case hK:h=Ooe;break;case pK:h=qoe;break;case"scroll":h=Toe;break;case"wheel":h=Xoe;break;case"copy":case"cut":case"paste":h=Moe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=TM}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,g!==null&&(C=Cy(y,g),C!=null&&m.push(Ty(y,C,b)))),v)break;y=y.return}0<m.length&&(f=new h(f,p,null,n,A),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==z4&&(p=n.relatedTarget||n.fromElement)&&(lh(p)||p[MA]))break e;if((h||f)&&(f=A.window===A?A:(f=A.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?lh(p):null,p!==null&&(v=sp(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=NM,C="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=TM,C="onPointerLeave",g="onPointerEnter",y="pointer"),v=h==null?f:om(h),b=p==null?f:om(p),f=new m(C,y+"leave",h,n,A),f.target=v,f.relatedTarget=b,C=null,lh(A)===u&&(m=new m(g,y+"enter",p,n,A),m.target=b,m.relatedTarget=v,C=m),v=C,h&&p)t:{for(m=h,g=p,y=0,b=m;b;b=jp(b))y++;for(b=0,C=g;C;C=jp(C))b++;for(;0<y-b;)m=jp(m),y--;for(;0<b-y;)g=jp(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=jp(m),g=jp(g)}m=null}else m=null;h!==null&&QM(d,f,h,m,!1),p!==null&&v!==null&&QM(d,v,p,m,!0)}}e:{if(f=u?om(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=ile;else if(PM(f))if(oK)E=lle;else{E=sle;var N=ale}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=ole);if(E&&(E=E(t,u))){sK(d,E,n,A);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&L4(f,"number",f.value)}switch(N=u?om(u):window,t){case"focusin":(PM(N)||N.contentEditable==="true")&&(am=N,Y4=u,Lv=null);break;case"focusout":Lv=Y4=am=null;break;case"mousedown":X4=!0;break;case"contextmenu":case"mouseup":case"dragend":X4=!1,LM(d,n,A);break;case"selectionchange":if(Ale)break;case"keydown":case"keyup":LM(d,n,A)}var _;if(AP)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else im?iK(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(rK&&n.locale!=="ko"&&(im||B!=="onCompositionStart"?B==="onCompositionEnd"&&im&&(_=nK()):(kd=A,lP="value"in kd?kd.value:kd.textContent,im=!0)),N=I2(u,B),0<N.length&&(B=new jM(B,t,null,n,A),d.push({event:B,listeners:N}),_?B.data=_:(_=aK(n),_!==null&&(B.data=_)))),(_=Zoe?ele(t,n):tle(t,n))&&(u=I2(u,"onBeforeInput"),0<u.length&&(A=new jM("onBeforeInput","beforeinput",null,n,A),d.push({event:A,listeners:u}),A.data=_))}gK(d,e)})}function Ty(t,e,n){return{instance:t,listener:e,currentTarget:n}}function I2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Cy(t,n),a!=null&&r.unshift(Ty(t,a,i)),a=Cy(t,e),a!=null&&r.push(Ty(t,a,i))),t=t.return}return r}function jp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QM(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Cy(n,a),l!=null&&s.unshift(Ty(n,l,o))):i||(l=Cy(n,a),l!=null&&s.push(Ty(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ple=/\r\n?/g,mle=/\u0000|\uFFFD/g;function HM(t){return(typeof t=="string"?t:""+t).replace(ple,`
`).replace(mle,"")}function d1(t,e,n){if(e=HM(e),HM(t)!==e&&n)throw Error(Pt(425))}function k2(){}var J4=null,Z4=null;function ej(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tj=typeof setTimeout=="function"?setTimeout:void 0,gle=typeof clearTimeout=="function"?clearTimeout:void 0,zM=typeof Promise=="function"?Promise:void 0,vle=typeof queueMicrotask=="function"?queueMicrotask:typeof zM<"u"?function(t){return zM.resolve(null).then(t).catch(yle)}:tj;function yle(t){setTimeout(function(){throw t})}function K_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_y(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_y(e)}function Gd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var e0=Math.random().toString(36).slice(2),ju="__reactFiber$"+e0,Iy="__reactProps$"+e0,MA="__reactContainer$"+e0,nj="__reactEvents$"+e0,ble="__reactListeners$"+e0,xle="__reactHandles$"+e0;function lh(t){var e=t[ju];if(e)return e;for(var n=t.parentNode;n;){if(e=n[MA]||n[ju]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VM(t);t!==null;){if(n=t[ju])return n;t=VM(t)}return e}t=n,n=t.parentNode}return null}function Jb(t){return t=t[ju]||t[MA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function om(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pt(33))}function o5(t){return t[Iy]||null}var rj=[],lm=-1;function bf(t){return{current:t}}function _i(t){0>lm||(t.current=rj[lm],rj[lm]=null,lm--)}function Ai(t,e){lm++,rj[lm]=t.current,t.current=e}var lf={},ao=bf(lf),Qo=bf(!1),Mh=lf;function Xm(t,e){var n=t.type.contextTypes;if(!n)return lf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ho(t){return t=t.childContextTypes,t!=null}function P2(){_i(Qo),_i(ao)}function $M(t,e,n){if(ao.current!==lf)throw Error(Pt(168));Ai(ao,e),Ai(Qo,n)}function yK(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Pt(108,aoe(t)||"Unknown",i));return Qi({},n,r)}function D2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lf,Mh=ao.current,Ai(ao,t),Ai(Qo,Qo.current),!0}function KM(t,e,n){var r=t.stateNode;if(!r)throw Error(Pt(169));n?(t=yK(t,e,Mh),r.__reactInternalMemoizedMergedChildContext=t,_i(Qo),_i(ao),Ai(ao,t)):_i(Qo),Ai(Qo,n)}var bA=null,l5=!1,W_=!1;function bK(t){bA===null?bA=[t]:bA.push(t)}function wle(t){l5=!0,bK(t)}function xf(){if(!W_&&bA!==null){W_=!0;var t=0,e=$r;try{var n=bA;for($r=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bA=null,l5=!1}catch(i){throw bA!==null&&(bA=bA.slice(t+1)),$$(iP,xf),i}finally{$r=e,W_=!1}}return null}var cm=[],um=0,O2=null,F2=0,sc=[],oc=0,Lh=null,wA=1,CA="";function Kf(t,e){cm[um++]=F2,cm[um++]=O2,O2=t,F2=e}function xK(t,e,n){sc[oc++]=wA,sc[oc++]=CA,sc[oc++]=Lh,Lh=t;var r=wA;t=CA;var i=32-Xc(r)-1;r&=~(1<<i),n+=1;var a=32-Xc(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,wA=1<<32-Xc(e)+i|n<<i|r,CA=a+t}else wA=1<<a|n<<i|r,CA=t}function fP(t){t.return!==null&&(Kf(t,1),xK(t,1,0))}function hP(t){for(;t===O2;)O2=cm[--um],cm[um]=null,F2=cm[--um],cm[um]=null;for(;t===Lh;)Lh=sc[--oc],sc[oc]=null,CA=sc[--oc],sc[oc]=null,wA=sc[--oc],sc[oc]=null}var _l=null,Cl=null,Ii=!1,qc=null;function wK(t,e){var n=uc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_l=t,Cl=Gd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_l=t,Cl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lh!==null?{id:wA,overflow:CA}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=uc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_l=t,Cl=null,!0):!1;default:return!1}}function ij(t){return(t.mode&1)!==0&&(t.flags&128)===0}function aj(t){if(Ii){var e=Cl;if(e){var n=e;if(!WM(t,e)){if(ij(t))throw Error(Pt(418));e=Gd(n.nextSibling);var r=_l;e&&WM(t,e)?wK(r,n):(t.flags=t.flags&-4097|2,Ii=!1,_l=t)}}else{if(ij(t))throw Error(Pt(418));t.flags=t.flags&-4097|2,Ii=!1,_l=t}}}function GM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_l=t}function f1(t){if(t!==_l)return!1;if(!Ii)return GM(t),Ii=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ej(t.type,t.memoizedProps)),e&&(e=Cl)){if(ij(t))throw CK(),Error(Pt(418));for(;e;)wK(t,e),e=Gd(e.nextSibling)}if(GM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cl=Gd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cl=null}}else Cl=_l?Gd(t.stateNode.nextSibling):null;return!0}function CK(){for(var t=Cl;t;)t=Gd(t.nextSibling)}function Jm(){Cl=_l=null,Ii=!1}function pP(t){qc===null?qc=[t]:qc.push(t)}var Cle=XA.ReactCurrentBatchConfig;function H0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pt(309));var r=n.stateNode}if(!r)throw Error(Pt(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Pt(284));if(!n._owner)throw Error(Pt(290,t))}return t}function h1(t,e){throw t=Object.prototype.toString.call(e),Error(Pt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qM(t){var e=t._init;return e(t._payload)}function SK(t){function e(g,y){if(t){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Jd(g,y),g.index=0,g.sibling=null,g}function a(g,y,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,b,C){return y===null||y.tag!==6?(y=eB(b,g.mode,C),y.return=g,y):(y=i(y,b),y.return=g,y)}function l(g,y,b,C){var E=b.type;return E===rm?A(g,y,b.props.children,C,b.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sd&&qM(E)===y.type)?(C=i(y,b.props),C.ref=H0(g,y,b),C.return=g,C):(C=Ww(b.type,b.key,b.props,null,g.mode,C),C.ref=H0(g,y,b),C.return=g,C)}function u(g,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=tB(b,g.mode,C),y.return=g,y):(y=i(y,b.children||[]),y.return=g,y)}function A(g,y,b,C,E){return y===null||y.tag!==7?(y=wh(b,g.mode,C,E),y.return=g,y):(y=i(y,b),y.return=g,y)}function d(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=eB(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case r1:return b=Ww(y.type,y.key,y.props,null,g.mode,b),b.ref=H0(g,null,y),b.return=g,b;case nm:return y=tB(y,g.mode,b),y.return=g,y;case Sd:var C=y._init;return d(g,C(y._payload),b)}if(fv(y)||M0(y))return y=wh(y,g.mode,b,null),y.return=g,y;h1(g,y)}return null}function f(g,y,b,C){var E=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:o(g,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case r1:return b.key===E?l(g,y,b,C):null;case nm:return b.key===E?u(g,y,b,C):null;case Sd:return E=b._init,f(g,y,E(b._payload),C)}if(fv(b)||M0(b))return E!==null?null:A(g,y,b,C,null);h1(g,b)}return null}function h(g,y,b,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(b)||null,o(y,g,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case r1:return g=g.get(C.key===null?b:C.key)||null,l(y,g,C,E);case nm:return g=g.get(C.key===null?b:C.key)||null,u(y,g,C,E);case Sd:var N=C._init;return h(g,y,b,N(C._payload),E)}if(fv(C)||M0(C))return g=g.get(b)||null,A(y,g,C,E,null);h1(y,C)}return null}function p(g,y,b,C){for(var E=null,N=null,_=y,B=y=0,j=null;_!==null&&B<b.length;B++){_.index>B?(j=_,_=null):j=_.sibling;var D=f(g,_,b[B],C);if(D===null){_===null&&(_=j);break}t&&_&&D.alternate===null&&e(g,_),y=a(D,y,B),N===null?E=D:N.sibling=D,N=D,_=j}if(B===b.length)return n(g,_),Ii&&Kf(g,B),E;if(_===null){for(;B<b.length;B++)_=d(g,b[B],C),_!==null&&(y=a(_,y,B),N===null?E=_:N.sibling=_,N=_);return Ii&&Kf(g,B),E}for(_=r(g,_);B<b.length;B++)j=h(_,g,B,b[B],C),j!==null&&(t&&j.alternate!==null&&_.delete(j.key===null?B:j.key),y=a(j,y,B),N===null?E=j:N.sibling=j,N=j);return t&&_.forEach(function(k){return e(g,k)}),Ii&&Kf(g,B),E}function m(g,y,b,C){var E=M0(b);if(typeof E!="function")throw Error(Pt(150));if(b=E.call(b),b==null)throw Error(Pt(151));for(var N=E=null,_=y,B=y=0,j=null,D=b.next();_!==null&&!D.done;B++,D=b.next()){_.index>B?(j=_,_=null):j=_.sibling;var k=f(g,_,D.value,C);if(k===null){_===null&&(_=j);break}t&&_&&k.alternate===null&&e(g,_),y=a(k,y,B),N===null?E=k:N.sibling=k,N=k,_=j}if(D.done)return n(g,_),Ii&&Kf(g,B),E;if(_===null){for(;!D.done;B++,D=b.next())D=d(g,D.value,C),D!==null&&(y=a(D,y,B),N===null?E=D:N.sibling=D,N=D);return Ii&&Kf(g,B),E}for(_=r(g,_);!D.done;B++,D=b.next())D=h(_,g,B,D.value,C),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?B:D.key),y=a(D,y,B),N===null?E=D:N.sibling=D,N=D);return t&&_.forEach(function(O){return e(g,O)}),Ii&&Kf(g,B),E}function v(g,y,b,C){if(typeof b=="object"&&b!==null&&b.type===rm&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case r1:e:{for(var E=b.key,N=y;N!==null;){if(N.key===E){if(E=b.type,E===rm){if(N.tag===7){n(g,N.sibling),y=i(N,b.props.children),y.return=g,g=y;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sd&&qM(E)===N.type){n(g,N.sibling),y=i(N,b.props),y.ref=H0(g,N,b),y.return=g,g=y;break e}n(g,N);break}else e(g,N);N=N.sibling}b.type===rm?(y=wh(b.props.children,g.mode,C,b.key),y.return=g,g=y):(C=Ww(b.type,b.key,b.props,null,g.mode,C),C.ref=H0(g,y,b),C.return=g,g=C)}return s(g);case nm:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(g,y.sibling),y=i(y,b.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=tB(b,g.mode,C),y.return=g,g=y}return s(g);case Sd:return N=b._init,v(g,y,N(b._payload),C)}if(fv(b))return p(g,y,b,C);if(M0(b))return m(g,y,b,C);h1(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,b),y.return=g,g=y):(n(g,y),y=eB(b,g.mode,C),y.return=g,g=y),s(g)):n(g,y)}return v}var Zm=SK(!0),EK=SK(!1),M2=bf(null),L2=null,Am=null,mP=null;function gP(){mP=Am=L2=null}function vP(t){var e=M2.current;_i(M2),t._currentValue=e}function sj(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function km(t,e){L2=t,mP=Am=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mo=!0),t.firstContext=null)}function mc(t){var e=t._currentValue;if(mP!==t)if(t={context:t,memoizedValue:e,next:null},Am===null){if(L2===null)throw Error(Pt(308));Am=t,L2.dependencies={lanes:0,firstContext:t}}else Am=Am.next=t;return e}var ch=null;function yP(t){ch===null?ch=[t]:ch.push(t)}function _K(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yP(e)):(n.next=i.next,i.next=n),e.interleaved=n,LA(t,r)}function LA(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ed=!1;function bP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function TA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_r&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,LA(t,n)}return i=r.interleaved,i===null?(e.next=e,yP(r)):(e.next=i.next,i.next=e),r.interleaved=e,LA(t,n)}function Qw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aP(t,n)}}function YM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function R2(t,e,n,r){var i=t.updateQueue;Ed=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var A=t.alternate;A!==null&&(A=A.updateQueue,o=A.lastBaseUpdate,o!==s&&(o===null?A.firstBaseUpdate=u:o.next=u,A.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,A=u=l=null,o=a;do{var f=o.lane,h=o.eventTime;if((r&f)===f){A!==null&&(A=A.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Qi({},d,f);break e;case 2:Ed=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},A===null?(u=A=h,l=d):A=A.next=h,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(A===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=A,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Uh|=s,t.lanes=s,t.memoizedState=d}}function XM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pt(191,i));i.call(r)}}}var Zb={},Mu=bf(Zb),ky=bf(Zb),Py=bf(Zb);function uh(t){if(t===Zb)throw Error(Pt(174));return t}function xP(t,e){switch(Ai(Py,e),Ai(ky,t),Ai(Mu,Zb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:U4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=U4(e,t)}_i(Mu),Ai(Mu,e)}function eg(){_i(Mu),_i(ky),_i(Py)}function NK(t){uh(Py.current);var e=uh(Mu.current),n=U4(e,t.type);e!==n&&(Ai(ky,t),Ai(Mu,n))}function wP(t){ky.current===t&&(_i(Mu),_i(ky))}var Ri=bf(0);function U2(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var G_=[];function CP(){for(var t=0;t<G_.length;t++)G_[t]._workInProgressVersionPrimary=null;G_.length=0}var Hw=XA.ReactCurrentDispatcher,q_=XA.ReactCurrentBatchConfig,Rh=0,Ui=null,Ka=null,is=null,Q2=!1,Rv=!1,Dy=0,Sle=0;function Hs(){throw Error(Pt(321))}function SP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nu(t[n],e[n]))return!1;return!0}function EP(t,e,n,r,i,a){if(Rh=a,Ui=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hw.current=t===null||t.memoizedState===null?Nle:jle,t=n(r,i),Rv){a=0;do{if(Rv=!1,Dy=0,25<=a)throw Error(Pt(301));a+=1,is=Ka=null,e.updateQueue=null,Hw.current=Tle,t=n(r,i)}while(Rv)}if(Hw.current=H2,e=Ka!==null&&Ka.next!==null,Rh=0,is=Ka=Ui=null,Q2=!1,e)throw Error(Pt(300));return t}function _P(){var t=Dy!==0;return Dy=0,t}function Bu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?Ui.memoizedState=is=t:is=is.next=t,is}function gc(){if(Ka===null){var t=Ui.alternate;t=t!==null?t.memoizedState:null}else t=Ka.next;var e=is===null?Ui.memoizedState:is.next;if(e!==null)is=e,Ka=t;else{if(t===null)throw Error(Pt(310));Ka=t,t={memoizedState:Ka.memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},is===null?Ui.memoizedState=is=t:is=is.next=t}return is}function Oy(t,e){return typeof e=="function"?e(t):e}function Y_(t){var e=gc(),n=e.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=t;var r=Ka,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var A=u.lane;if((Rh&A)===A)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:A,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Ui.lanes|=A,Uh|=A}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,nu(r,e.memoizedState)||(Mo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Ui.lanes|=a,Uh|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function X_(t){var e=gc(),n=e.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);nu(a,e.memoizedState)||(Mo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function jK(){}function TK(t,e){var n=Ui,r=gc(),i=e(),a=!nu(r.memoizedState,i);if(a&&(r.memoizedState=i,Mo=!0),r=r.queue,BP(PK.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||is!==null&&is.memoizedState.tag&1){if(n.flags|=2048,Fy(9,kK.bind(null,n,r,i,e),void 0,null),ls===null)throw Error(Pt(349));Rh&30||IK(n,e,i)}return i}function IK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ui.updateQueue,e===null?(e={lastEffect:null,stores:null},Ui.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kK(t,e,n,r){e.value=n,e.getSnapshot=r,DK(e)&&OK(t)}function PK(t,e,n){return n(function(){DK(e)&&OK(t)})}function DK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nu(t,n)}catch{return!0}}function OK(t){var e=LA(t,1);e!==null&&Jc(e,t,1,-1)}function JM(t){var e=Bu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:t},e.queue=t,t=t.dispatch=Ble.bind(null,Ui,t),[e.memoizedState,t]}function Fy(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ui.updateQueue,e===null?(e={lastEffect:null,stores:null},Ui.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FK(){return gc().memoizedState}function zw(t,e,n,r){var i=Bu();Ui.flags|=t,i.memoizedState=Fy(1|e,n,void 0,r===void 0?null:r)}function c5(t,e,n,r){var i=gc();r=r===void 0?null:r;var a=void 0;if(Ka!==null){var s=Ka.memoizedState;if(a=s.destroy,r!==null&&SP(r,s.deps)){i.memoizedState=Fy(e,n,a,r);return}}Ui.flags|=t,i.memoizedState=Fy(1|e,n,a,r)}function ZM(t,e){return zw(8390656,8,t,e)}function BP(t,e){return c5(2048,8,t,e)}function MK(t,e){return c5(4,2,t,e)}function LK(t,e){return c5(4,4,t,e)}function RK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UK(t,e,n){return n=n!=null?n.concat([t]):null,c5(4,4,RK.bind(null,e,t),n)}function NP(){}function QK(t,e){var n=gc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HK(t,e){var n=gc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zK(t,e,n){return Rh&21?(nu(n,e)||(n=G$(),Ui.lanes|=n,Uh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mo=!0),t.memoizedState=n)}function Ele(t,e){var n=$r;$r=n!==0&&4>n?n:4,t(!0);var r=q_.transition;q_.transition={};try{t(!1),e()}finally{$r=n,q_.transition=r}}function VK(){return gc().memoizedState}function _le(t,e,n){var r=Xd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$K(t))KK(e,n);else if(n=_K(t,e,n,r),n!==null){var i=wo();Jc(n,t,r,i),WK(n,e,r)}}function Ble(t,e,n){var r=Xd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($K(t))KK(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,nu(o,s)){var l=e.interleaved;l===null?(i.next=i,yP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_K(t,e,i,r),n!==null&&(i=wo(),Jc(n,t,r,i),WK(n,e,r))}}function $K(t){var e=t.alternate;return t===Ui||e!==null&&e===Ui}function KK(t,e){Rv=Q2=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WK(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aP(t,n)}}var H2={readContext:mc,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},Nle={readContext:mc,useCallback:function(t,e){return Bu().memoizedState=[t,e===void 0?null:e],t},useContext:mc,useEffect:ZM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zw(4194308,4,RK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zw(4194308,4,t,e)},useInsertionEffect:function(t,e){return zw(4,2,t,e)},useMemo:function(t,e){var n=Bu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_le.bind(null,Ui,t),[r.memoizedState,t]},useRef:function(t){var e=Bu();return t={current:t},e.memoizedState=t},useState:JM,useDebugValue:NP,useDeferredValue:function(t){return Bu().memoizedState=t},useTransition:function(){var t=JM(!1),e=t[0];return t=Ele.bind(null,t[1]),Bu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ui,i=Bu();if(Ii){if(n===void 0)throw Error(Pt(407));n=n()}else{if(n=e(),ls===null)throw Error(Pt(349));Rh&30||IK(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,ZM(PK.bind(null,r,a,t),[t]),r.flags|=2048,Fy(9,kK.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Bu(),e=ls.identifierPrefix;if(Ii){var n=CA,r=wA;n=(r&~(1<<32-Xc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dy++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sle++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jle={readContext:mc,useCallback:QK,useContext:mc,useEffect:BP,useImperativeHandle:UK,useInsertionEffect:MK,useLayoutEffect:LK,useMemo:HK,useReducer:Y_,useRef:FK,useState:function(){return Y_(Oy)},useDebugValue:NP,useDeferredValue:function(t){var e=gc();return zK(e,Ka.memoizedState,t)},useTransition:function(){var t=Y_(Oy)[0],e=gc().memoizedState;return[t,e]},useMutableSource:jK,useSyncExternalStore:TK,useId:VK,unstable_isNewReconciler:!1},Tle={readContext:mc,useCallback:QK,useContext:mc,useEffect:BP,useImperativeHandle:UK,useInsertionEffect:MK,useLayoutEffect:LK,useMemo:HK,useReducer:X_,useRef:FK,useState:function(){return X_(Oy)},useDebugValue:NP,useDeferredValue:function(t){var e=gc();return Ka===null?e.memoizedState=t:zK(e,Ka.memoizedState,t)},useTransition:function(){var t=X_(Oy)[0],e=gc().memoizedState;return[t,e]},useMutableSource:jK,useSyncExternalStore:TK,useId:VK,unstable_isNewReconciler:!1};function $c(t,e){if(t&&t.defaultProps){e=Qi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oj(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var u5={isMounted:function(t){return(t=t._reactInternals)?sp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wo(),i=Xd(t),a=TA(r,i);a.payload=e,n!=null&&(a.callback=n),e=qd(t,a,i),e!==null&&(Jc(e,t,i,r),Qw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wo(),i=Xd(t),a=TA(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=qd(t,a,i),e!==null&&(Jc(e,t,i,r),Qw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wo(),r=Xd(t),i=TA(n,r);i.tag=2,e!=null&&(i.callback=e),e=qd(t,i,r),e!==null&&(Jc(e,t,r,n),Qw(e,t,r))}};function eL(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ny(n,r)||!Ny(i,a):!0}function GK(t,e,n){var r=!1,i=lf,a=e.contextType;return typeof a=="object"&&a!==null?a=mc(a):(i=Ho(e)?Mh:ao.current,r=e.contextTypes,a=(r=r!=null)?Xm(t,i):lf),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=u5,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function tL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&u5.enqueueReplaceState(e,e.state,null)}function lj(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=mc(a):(a=Ho(e)?Mh:ao.current,i.context=Xm(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(oj(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&u5.enqueueReplaceState(i,i.state,null),R2(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tg(t,e){try{var n="",r=e;do n+=ioe(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function J_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cj(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ile=typeof WeakMap=="function"?WeakMap:Map;function qK(t,e,n){n=TA(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){V2||(V2=!0,yj=r),cj(t,e)},n}function YK(t,e,n){n=TA(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cj(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){cj(t,e),typeof r!="function"&&(Yd===null?Yd=new Set([this]):Yd.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function nL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ile;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$le.bind(null,t,e,n),e.then(t,t))}function rL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=TA(-1,1),e.tag=2,qd(n,e,1))),n.lanes|=1),t)}var kle=XA.ReactCurrentOwner,Mo=!1;function go(t,e,n,r){e.child=t===null?EK(e,null,n,r):Zm(e,t.child,n,r)}function aL(t,e,n,r,i){n=n.render;var a=e.ref;return km(e,i),r=EP(t,e,n,r,a,i),n=_P(),t!==null&&!Mo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,RA(t,e,i)):(Ii&&n&&fP(e),e.flags|=1,go(t,e,r,i),e.child)}function sL(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!FP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,XK(t,e,a,r,i)):(t=Ww(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ny,n(s,r)&&t.ref===e.ref)return RA(t,e,i)}return e.flags|=1,t=Jd(a,r),t.ref=e.ref,t.return=e,e.child=t}function XK(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ny(a,r)&&t.ref===e.ref)if(Mo=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Mo=!0);else return e.lanes=t.lanes,RA(t,e,i)}return uj(t,e,n,r,i)}function JK(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(fm,bl),bl|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ai(fm,bl),bl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ai(fm,bl),bl|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ai(fm,bl),bl|=r;return go(t,e,i,n),e.child}function ZK(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uj(t,e,n,r,i){var a=Ho(n)?Mh:ao.current;return a=Xm(e,a),km(e,i),n=EP(t,e,n,r,a,i),r=_P(),t!==null&&!Mo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,RA(t,e,i)):(Ii&&r&&fP(e),e.flags|=1,go(t,e,n,i),e.child)}function oL(t,e,n,r,i){if(Ho(n)){var a=!0;D2(e)}else a=!1;if(km(e,i),e.stateNode===null)Vw(t,e),GK(e,n,r),lj(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=mc(u):(u=Ho(n)?Mh:ao.current,u=Xm(e,u));var A=n.getDerivedStateFromProps,d=typeof A=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&tL(e,s,r,u),Ed=!1;var f=e.memoizedState;s.state=f,R2(e,r,s,i),l=e.memoizedState,o!==r||f!==l||Qo.current||Ed?(typeof A=="function"&&(oj(e,n,A,r),l=e.memoizedState),(o=Ed||eL(e,n,o,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,BK(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:$c(e.type,o),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mc(l):(l=Ho(n)?Mh:ao.current,l=Xm(e,l));var h=n.getDerivedStateFromProps;(A=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&tL(e,s,r,l),Ed=!1,f=e.memoizedState,s.state=f,R2(e,r,s,i);var p=e.memoizedState;o!==d||f!==p||Qo.current||Ed?(typeof h=="function"&&(oj(e,n,h,r),p=e.memoizedState),(u=Ed||eL(e,n,u,r,f,p,l)||!1)?(A||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Aj(t,e,n,r,a,i)}function Aj(t,e,n,r,i,a){ZK(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&KM(e,n,!1),RA(t,e,a);r=e.stateNode,kle.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Zm(e,t.child,null,a),e.child=Zm(e,null,o,a)):go(t,e,o,a),e.memoizedState=r.state,i&&KM(e,n,!0),e.child}function eW(t){var e=t.stateNode;e.pendingContext?$M(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$M(t,e.context,!1),xP(t,e.containerInfo)}function lL(t,e,n,r,i){return Jm(),pP(i),e.flags|=256,go(t,e,n,r),e.child}var dj={dehydrated:null,treeContext:null,retryLane:0};function fj(t){return{baseLanes:t,cachePool:null,transitions:null}}function tW(t,e,n){var r=e.pendingProps,i=Ri.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ai(Ri,i&1),t===null)return aj(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=f5(s,r,0,null),t=wh(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fj(n),e.memoizedState=dj,t):jP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Ple(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Jd(o,a):(a=wh(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?fj(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=dj,r}return a=t.child,t=a.sibling,r=Jd(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jP(t,e){return e=f5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function p1(t,e,n,r){return r!==null&&pP(r),Zm(e,t.child,null,n),t=jP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ple(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=J_(Error(Pt(422))),p1(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=f5({mode:"visible",children:r.children},i,0,null),a=wh(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Zm(e,t.child,null,s),e.child.memoizedState=fj(s),e.memoizedState=dj,a);if(!(e.mode&1))return p1(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Pt(419)),r=J_(a,r,void 0),p1(t,e,s,r)}if(o=(s&t.childLanes)!==0,Mo||o){if(r=ls,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,LA(t,i),Jc(r,t,i,-1))}return OP(),r=J_(Error(Pt(421))),p1(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Kle.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Cl=Gd(i.nextSibling),_l=e,Ii=!0,qc=null,t!==null&&(sc[oc++]=wA,sc[oc++]=CA,sc[oc++]=Lh,wA=t.id,CA=t.overflow,Lh=e),e=jP(e,r.children),e.flags|=4096,e)}function cL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sj(t.return,e,n)}function Z_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function nW(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(go(t,e,r.children,n),r=Ri.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cL(t,n,e);else if(t.tag===19)cL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ai(Ri,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&U2(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Z_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&U2(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Z_(e,!0,n,null,a);break;case"together":Z_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function RA(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Uh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pt(153));if(e.child!==null){for(t=e.child,n=Jd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dle(t,e,n){switch(e.tag){case 3:eW(e),Jm();break;case 5:NK(e);break;case 1:Ho(e.type)&&D2(e);break;case 4:xP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ai(M2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ai(Ri,Ri.current&1),e.flags|=128,null):n&e.child.childLanes?tW(t,e,n):(Ai(Ri,Ri.current&1),t=RA(t,e,n),t!==null?t.sibling:null);Ai(Ri,Ri.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nW(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Ri,Ri.current),r)break;return null;case 22:case 23:return e.lanes=0,JK(t,e,n)}return RA(t,e,n)}var rW,hj,iW,aW;rW=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hj=function(){};iW=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uh(Mu.current);var a=null;switch(n){case"input":i=F4(t,i),r=F4(t,r),a=[];break;case"select":i=Qi({},i,{value:void 0}),r=Qi({},r,{value:void 0}),a=[];break;case"textarea":i=R4(t,i),r=R4(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=k2)}Q4(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xy.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xy.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&bi("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};aW=function(t,e,n,r){n!==r&&(e.flags|=4)};function z0(t,e){if(!Ii)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ole(t,e,n){var r=e.pendingProps;switch(hP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(e),null;case 1:return Ho(e.type)&&P2(),zs(e),null;case 3:return r=e.stateNode,eg(),_i(Qo),_i(ao),CP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qc!==null&&(wj(qc),qc=null))),hj(t,e),zs(e),null;case 5:wP(e);var i=uh(Py.current);if(n=e.type,t!==null&&e.stateNode!=null)iW(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Pt(166));return zs(e),null}if(t=uh(Mu.current),f1(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[ju]=e,r[Iy]=a,t=(e.mode&1)!==0,n){case"dialog":bi("cancel",r),bi("close",r);break;case"iframe":case"object":case"embed":bi("load",r);break;case"video":case"audio":for(i=0;i<pv.length;i++)bi(pv[i],r);break;case"source":bi("error",r);break;case"img":case"image":case"link":bi("error",r),bi("load",r);break;case"details":bi("toggle",r);break;case"input":vM(r,a),bi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},bi("invalid",r);break;case"textarea":bM(r,a),bi("invalid",r)}Q4(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&d1(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&d1(r.textContent,o,t),i=["children",""+o]):xy.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&bi("scroll",r)}switch(n){case"input":i1(r),yM(r,a,!0);break;case"textarea":i1(r),xM(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=k2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ju]=e,t[Iy]=r,rW(t,e,!1,!1),e.stateNode=t;e:{switch(s=H4(n,r),n){case"dialog":bi("cancel",t),bi("close",t),i=r;break;case"iframe":case"object":case"embed":bi("load",t),i=r;break;case"video":case"audio":for(i=0;i<pv.length;i++)bi(pv[i],t);i=r;break;case"source":bi("error",t),i=r;break;case"img":case"image":case"link":bi("error",t),bi("load",t),i=r;break;case"details":bi("toggle",t),i=r;break;case"input":vM(t,r),i=F4(t,r),bi("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qi({},r,{value:void 0}),bi("invalid",t);break;case"textarea":bM(t,r),i=R4(t,r),bi("invalid",t);break;default:i=r}Q4(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?F$(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D$(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wy(t,l):typeof l=="number"&&wy(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xy.hasOwnProperty(a)?l!=null&&a==="onScroll"&&bi("scroll",t):l!=null&&Zk(t,a,l,s))}switch(n){case"input":i1(t),yM(t,r,!1);break;case"textarea":i1(t),xM(t);break;case"option":r.value!=null&&t.setAttribute("value",""+of(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Nm(t,!!r.multiple,a,!1):r.defaultValue!=null&&Nm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=k2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zs(e),null;case 6:if(t&&e.stateNode!=null)aW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Pt(166));if(n=uh(Py.current),uh(Mu.current),f1(e)){if(r=e.stateNode,n=e.memoizedProps,r[ju]=e,(a=r.nodeValue!==n)&&(t=_l,t!==null))switch(t.tag){case 3:d1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&d1(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ju]=e,e.stateNode=r}return zs(e),null;case 13:if(_i(Ri),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ii&&Cl!==null&&e.mode&1&&!(e.flags&128))CK(),Jm(),e.flags|=98560,a=!1;else if(a=f1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Pt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Pt(317));a[ju]=e}else Jm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zs(e),a=!1}else qc!==null&&(wj(qc),qc=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ri.current&1?qa===0&&(qa=3):OP())),e.updateQueue!==null&&(e.flags|=4),zs(e),null);case 4:return eg(),hj(t,e),t===null&&jy(e.stateNode.containerInfo),zs(e),null;case 10:return vP(e.type._context),zs(e),null;case 17:return Ho(e.type)&&P2(),zs(e),null;case 19:if(_i(Ri),a=e.memoizedState,a===null)return zs(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)z0(a,!1);else{if(qa!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=U2(t),s!==null){for(e.flags|=128,z0(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ai(Ri,Ri.current&1|2),e.child}t=t.sibling}a.tail!==null&&ha()>ng&&(e.flags|=128,r=!0,z0(a,!1),e.lanes=4194304)}else{if(!r)if(t=U2(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),z0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ii)return zs(e),null}else 2*ha()-a.renderingStartTime>ng&&n!==1073741824&&(e.flags|=128,r=!0,z0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ha(),e.sibling=null,n=Ri.current,Ai(Ri,r?n&1|2:n&1),e):(zs(e),null);case 22:case 23:return DP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bl&1073741824&&(zs(e),e.subtreeFlags&6&&(e.flags|=8192)):zs(e),null;case 24:return null;case 25:return null}throw Error(Pt(156,e.tag))}function Fle(t,e){switch(hP(e),e.tag){case 1:return Ho(e.type)&&P2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eg(),_i(Qo),_i(ao),CP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wP(e),null;case 13:if(_i(Ri),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pt(340));Jm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _i(Ri),null;case 4:return eg(),null;case 10:return vP(e.type._context),null;case 22:case 23:return DP(),null;case 24:return null;default:return null}}var m1=!1,to=!1,Mle=typeof WeakSet=="function"?WeakSet:Set,sn=null;function dm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yi(t,e,r)}else n.current=null}function pj(t,e,n){try{n()}catch(r){Yi(t,e,r)}}var uL=!1;function Lle(t,e){if(J4=j2,t=uK(),dP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,A=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=s),f===a&&++A===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Z4={focusedElem:t,selectionRange:n},j2=!1,sn=e;sn!==null;)if(e=sn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,sn=t;else for(;sn!==null;){e=sn;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:$c(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pt(163))}}catch(C){Yi(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,sn=t;break}sn=e.return}return p=uL,uL=!1,p}function Uv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&pj(e,n,a)}i=i.next}while(i!==r)}}function A5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mj(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sW(t){var e=t.alternate;e!==null&&(t.alternate=null,sW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ju],delete e[Iy],delete e[nj],delete e[ble],delete e[xle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oW(t){return t.tag===5||t.tag===3||t.tag===4}function AL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=k2));else if(r!==4&&(t=t.child,t!==null))for(gj(t,e,n),t=t.sibling;t!==null;)gj(t,e,n),t=t.sibling}function vj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vj(t,e,n),t=t.sibling;t!==null;)vj(t,e,n),t=t.sibling}var xs=null,Kc=!1;function fd(t,e,n){for(n=n.child;n!==null;)lW(t,e,n),n=n.sibling}function lW(t,e,n){if(Fu&&typeof Fu.onCommitFiberUnmount=="function")try{Fu.onCommitFiberUnmount(r5,n)}catch{}switch(n.tag){case 5:to||dm(n,e);case 6:var r=xs,i=Kc;xs=null,fd(t,e,n),xs=r,Kc=i,xs!==null&&(Kc?(t=xs,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xs.removeChild(n.stateNode));break;case 18:xs!==null&&(Kc?(t=xs,n=n.stateNode,t.nodeType===8?K_(t.parentNode,n):t.nodeType===1&&K_(t,n),_y(t)):K_(xs,n.stateNode));break;case 4:r=xs,i=Kc,xs=n.stateNode.containerInfo,Kc=!0,fd(t,e,n),xs=r,Kc=i;break;case 0:case 11:case 14:case 15:if(!to&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&pj(n,e,s),i=i.next}while(i!==r)}fd(t,e,n);break;case 1:if(!to&&(dm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Yi(n,e,o)}fd(t,e,n);break;case 21:fd(t,e,n);break;case 22:n.mode&1?(to=(r=to)||n.memoizedState!==null,fd(t,e,n),to=r):fd(t,e,n);break;default:fd(t,e,n)}}function dL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mle),e.forEach(function(r){var i=Wle.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Uc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:xs=o.stateNode,Kc=!1;break e;case 3:xs=o.stateNode.containerInfo,Kc=!0;break e;case 4:xs=o.stateNode.containerInfo,Kc=!0;break e}o=o.return}if(xs===null)throw Error(Pt(160));lW(a,s,i),xs=null,Kc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Yi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cW(e,t),e=e.sibling}function cW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Uc(e,t),Cu(t),r&4){try{Uv(3,t,t.return),A5(3,t)}catch(m){Yi(t,t.return,m)}try{Uv(5,t,t.return)}catch(m){Yi(t,t.return,m)}}break;case 1:Uc(e,t),Cu(t),r&512&&n!==null&&dm(n,n.return);break;case 5:if(Uc(e,t),Cu(t),r&512&&n!==null&&dm(n,n.return),t.flags&32){var i=t.stateNode;try{wy(i,"")}catch(m){Yi(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&I$(i,a),H4(o,s);var u=H4(o,a);for(s=0;s<l.length;s+=2){var A=l[s],d=l[s+1];A==="style"?F$(i,d):A==="dangerouslySetInnerHTML"?D$(i,d):A==="children"?wy(i,d):Zk(i,A,d,u)}switch(o){case"input":M4(i,a);break;case"textarea":k$(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Nm(i,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?Nm(i,!!a.multiple,a.defaultValue,!0):Nm(i,!!a.multiple,a.multiple?[]:"",!1))}i[Iy]=a}catch(m){Yi(t,t.return,m)}}break;case 6:if(Uc(e,t),Cu(t),r&4){if(t.stateNode===null)throw Error(Pt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Yi(t,t.return,m)}}break;case 3:if(Uc(e,t),Cu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_y(e.containerInfo)}catch(m){Yi(t,t.return,m)}break;case 4:Uc(e,t),Cu(t);break;case 13:Uc(e,t),Cu(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(kP=ha())),r&4&&dL(t);break;case 22:if(A=n!==null&&n.memoizedState!==null,t.mode&1?(to=(u=to)||A,Uc(e,t),to=u):Uc(e,t),Cu(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!A&&t.mode&1)for(sn=t,A=t.child;A!==null;){for(d=sn=A;sn!==null;){switch(f=sn,h=f.child,f.tag){case 0:case 11:case 14:case 15:Uv(4,f,f.return);break;case 1:dm(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Yi(r,n,m)}}break;case 5:dm(f,f.return);break;case 22:if(f.memoizedState!==null){hL(d);continue}}h!==null?(h.return=f,sn=h):hL(d)}A=A.sibling}e:for(A=null,d=t;;){if(d.tag===5){if(A===null){A=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=O$("display",s))}catch(m){Yi(t,t.return,m)}}}else if(d.tag===6){if(A===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Yi(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;A===d&&(A=null),d=d.return}A===d&&(A=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Uc(e,t),Cu(t),r&4&&dL(t);break;case 21:break;default:Uc(e,t),Cu(t)}}function Cu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oW(n)){var r=n;break e}n=n.return}throw Error(Pt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wy(i,""),r.flags&=-33);var a=AL(t);vj(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=AL(t);gj(t,o,s);break;default:throw Error(Pt(161))}}catch(l){Yi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rle(t,e,n){sn=t,uW(t)}function uW(t,e,n){for(var r=(t.mode&1)!==0;sn!==null;){var i=sn,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||m1;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||to;o=m1;var u=to;if(m1=s,(to=l)&&!u)for(sn=i;sn!==null;)s=sn,l=s.child,s.tag===22&&s.memoizedState!==null?pL(i):l!==null?(l.return=s,sn=l):pL(i);for(;a!==null;)sn=a,uW(a),a=a.sibling;sn=i,m1=o,to=u}fL(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,sn=a):fL(t)}}function fL(t){for(;sn!==null;){var e=sn;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:to||A5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!to)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$c(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&XM(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XM(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var A=u.memoizedState;if(A!==null){var d=A.dehydrated;d!==null&&_y(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pt(163))}to||e.flags&512&&mj(e)}catch(f){Yi(e,e.return,f)}}if(e===t){sn=null;break}if(n=e.sibling,n!==null){n.return=e.return,sn=n;break}sn=e.return}}function hL(t){for(;sn!==null;){var e=sn;if(e===t){sn=null;break}var n=e.sibling;if(n!==null){n.return=e.return,sn=n;break}sn=e.return}}function pL(t){for(;sn!==null;){var e=sn;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{A5(4,e)}catch(l){Yi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yi(e,i,l)}}var a=e.return;try{mj(e)}catch(l){Yi(e,a,l)}break;case 5:var s=e.return;try{mj(e)}catch(l){Yi(e,s,l)}}}catch(l){Yi(e,e.return,l)}if(e===t){sn=null;break}var o=e.sibling;if(o!==null){o.return=e.return,sn=o;break}sn=e.return}}var Ule=Math.ceil,z2=XA.ReactCurrentDispatcher,TP=XA.ReactCurrentOwner,hc=XA.ReactCurrentBatchConfig,_r=0,ls=null,ja=null,Ns=0,bl=0,fm=bf(0),qa=0,My=null,Uh=0,d5=0,IP=0,Qv=null,Do=null,kP=0,ng=1/0,vA=null,V2=!1,yj=null,Yd=null,g1=!1,Pd=null,$2=0,Hv=0,bj=null,$w=-1,Kw=0;function wo(){return _r&6?ha():$w!==-1?$w:$w=ha()}function Xd(t){return t.mode&1?_r&2&&Ns!==0?Ns&-Ns:Cle.transition!==null?(Kw===0&&(Kw=G$()),Kw):(t=$r,t!==0||(t=window.event,t=t===void 0?16:tK(t.type)),t):1}function Jc(t,e,n,r){if(50<Hv)throw Hv=0,bj=null,Error(Pt(185));Yb(t,n,r),(!(_r&2)||t!==ls)&&(t===ls&&(!(_r&2)&&(d5|=n),qa===4&&jd(t,Ns)),zo(t,r),n===1&&_r===0&&!(e.mode&1)&&(ng=ha()+500,l5&&xf()))}function zo(t,e){var n=t.callbackNode;Coe(t,e);var r=N2(t,t===ls?Ns:0);if(r===0)n!==null&&SM(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SM(n),e===1)t.tag===0?wle(mL.bind(null,t)):bK(mL.bind(null,t)),vle(function(){!(_r&6)&&xf()}),n=null;else{switch(q$(r)){case 1:n=iP;break;case 4:n=K$;break;case 16:n=B2;break;case 536870912:n=W$;break;default:n=B2}n=vW(n,AW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AW(t,e){if($w=-1,Kw=0,_r&6)throw Error(Pt(327));var n=t.callbackNode;if(Pm()&&t.callbackNode!==n)return null;var r=N2(t,t===ls?Ns:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=K2(t,r);else{e=r;var i=_r;_r|=2;var a=fW();(ls!==t||Ns!==e)&&(vA=null,ng=ha()+500,xh(t,e));do try{zle();break}catch(o){dW(t,o)}while(!0);gP(),z2.current=a,_r=i,ja!==null?e=0:(ls=null,Ns=0,e=qa)}if(e!==0){if(e===2&&(i=W4(t),i!==0&&(r=i,e=xj(t,i))),e===1)throw n=My,xh(t,0),jd(t,r),zo(t,ha()),n;if(e===6)jd(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qle(i)&&(e=K2(t,r),e===2&&(a=W4(t),a!==0&&(r=a,e=xj(t,a))),e===1))throw n=My,xh(t,0),jd(t,r),zo(t,ha()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Pt(345));case 2:Wf(t,Do,vA);break;case 3:if(jd(t,r),(r&130023424)===r&&(e=kP+500-ha(),10<e)){if(N2(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tj(Wf.bind(null,t,Do,vA),e);break}Wf(t,Do,vA);break;case 4:if(jd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Xc(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=ha()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ule(r/1960))-r,10<r){t.timeoutHandle=tj(Wf.bind(null,t,Do,vA),r);break}Wf(t,Do,vA);break;case 5:Wf(t,Do,vA);break;default:throw Error(Pt(329))}}}return zo(t,ha()),t.callbackNode===n?AW.bind(null,t):null}function xj(t,e){var n=Qv;return t.current.memoizedState.isDehydrated&&(xh(t,e).flags|=256),t=K2(t,e),t!==2&&(e=Do,Do=n,e!==null&&wj(e)),t}function wj(t){Do===null?Do=t:Do.push.apply(Do,t)}function Qle(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nu(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jd(t,e){for(e&=~IP,e&=~d5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xc(e),r=1<<n;t[n]=-1,e&=~r}}function mL(t){if(_r&6)throw Error(Pt(327));Pm();var e=N2(t,0);if(!(e&1))return zo(t,ha()),null;var n=K2(t,e);if(t.tag!==0&&n===2){var r=W4(t);r!==0&&(e=r,n=xj(t,r))}if(n===1)throw n=My,xh(t,0),jd(t,e),zo(t,ha()),n;if(n===6)throw Error(Pt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wf(t,Do,vA),zo(t,ha()),null}function PP(t,e){var n=_r;_r|=1;try{return t(e)}finally{_r=n,_r===0&&(ng=ha()+500,l5&&xf())}}function Qh(t){Pd!==null&&Pd.tag===0&&!(_r&6)&&Pm();var e=_r;_r|=1;var n=hc.transition,r=$r;try{if(hc.transition=null,$r=1,t)return t()}finally{$r=r,hc.transition=n,_r=e,!(_r&6)&&xf()}}function DP(){bl=fm.current,_i(fm)}function xh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gle(n)),ja!==null)for(n=ja.return;n!==null;){var r=n;switch(hP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&P2();break;case 3:eg(),_i(Qo),_i(ao),CP();break;case 5:wP(r);break;case 4:eg();break;case 13:_i(Ri);break;case 19:_i(Ri);break;case 10:vP(r.type._context);break;case 22:case 23:DP()}n=n.return}if(ls=t,ja=t=Jd(t.current,null),Ns=bl=e,qa=0,My=null,IP=d5=Uh=0,Do=Qv=null,ch!==null){for(e=0;e<ch.length;e++)if(n=ch[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ch=null}return t}function dW(t,e){do{var n=ja;try{if(gP(),Hw.current=H2,Q2){for(var r=Ui.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Q2=!1}if(Rh=0,is=Ka=Ui=null,Rv=!1,Dy=0,TP.current=null,n===null||n.return===null){qa=1,My=e,ja=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Ns,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,A=o,d=A.tag;if(!(A.mode&1)&&(d===0||d===11||d===15)){var f=A.alternate;f?(A.updateQueue=f.updateQueue,A.memoizedState=f.memoizedState,A.lanes=f.lanes):(A.updateQueue=null,A.memoizedState=null)}var h=rL(s);if(h!==null){h.flags&=-257,iL(h,s,o,a,e),h.mode&1&&nL(a,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){nL(a,u,e),OP();break e}l=Error(Pt(426))}}else if(Ii&&o.mode&1){var v=rL(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),iL(v,s,o,a,e),pP(tg(l,o));break e}}a=l=tg(l,o),qa!==4&&(qa=2),Qv===null?Qv=[a]:Qv.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=qK(a,l,e);YM(a,g);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yd===null||!Yd.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=YK(a,o,e);YM(a,C);break e}}a=a.return}while(a!==null)}pW(n)}catch(E){e=E,ja===n&&n!==null&&(ja=n=n.return);continue}break}while(!0)}function fW(){var t=z2.current;return z2.current=H2,t===null?H2:t}function OP(){(qa===0||qa===3||qa===2)&&(qa=4),ls===null||!(Uh&268435455)&&!(d5&268435455)||jd(ls,Ns)}function K2(t,e){var n=_r;_r|=2;var r=fW();(ls!==t||Ns!==e)&&(vA=null,xh(t,e));do try{Hle();break}catch(i){dW(t,i)}while(!0);if(gP(),_r=n,z2.current=r,ja!==null)throw Error(Pt(261));return ls=null,Ns=0,qa}function Hle(){for(;ja!==null;)hW(ja)}function zle(){for(;ja!==null&&!hoe();)hW(ja)}function hW(t){var e=gW(t.alternate,t,bl);t.memoizedProps=t.pendingProps,e===null?pW(t):ja=e,TP.current=null}function pW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fle(n,e),n!==null){n.flags&=32767,ja=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qa=6,ja=null;return}}else if(n=Ole(n,e,bl),n!==null){ja=n;return}if(e=e.sibling,e!==null){ja=e;return}ja=e=t}while(e!==null);qa===0&&(qa=5)}function Wf(t,e,n){var r=$r,i=hc.transition;try{hc.transition=null,$r=1,Vle(t,e,n,r)}finally{hc.transition=i,$r=r}return null}function Vle(t,e,n,r){do Pm();while(Pd!==null);if(_r&6)throw Error(Pt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Pt(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Soe(t,a),t===ls&&(ja=ls=null,Ns=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||g1||(g1=!0,vW(B2,function(){return Pm(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=hc.transition,hc.transition=null;var s=$r;$r=1;var o=_r;_r|=4,TP.current=null,Lle(t,n),cW(n,t),ule(Z4),j2=!!J4,Z4=J4=null,t.current=n,Rle(n),poe(),_r=o,$r=s,hc.transition=a}else t.current=n;if(g1&&(g1=!1,Pd=t,$2=i),a=t.pendingLanes,a===0&&(Yd=null),voe(n.stateNode),zo(t,ha()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(V2)throw V2=!1,t=yj,yj=null,t;return $2&1&&t.tag!==0&&Pm(),a=t.pendingLanes,a&1?t===bj?Hv++:(Hv=0,bj=t):Hv=0,xf(),null}function Pm(){if(Pd!==null){var t=q$($2),e=hc.transition,n=$r;try{if(hc.transition=null,$r=16>t?16:t,Pd===null)var r=!1;else{if(t=Pd,Pd=null,$2=0,_r&6)throw Error(Pt(331));var i=_r;for(_r|=4,sn=t.current;sn!==null;){var a=sn,s=a.child;if(sn.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(sn=u;sn!==null;){var A=sn;switch(A.tag){case 0:case 11:case 15:Uv(8,A,a)}var d=A.child;if(d!==null)d.return=A,sn=d;else for(;sn!==null;){A=sn;var f=A.sibling,h=A.return;if(sW(A),A===u){sn=null;break}if(f!==null){f.return=h,sn=f;break}sn=h}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}sn=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,sn=s;else e:for(;sn!==null;){if(a=sn,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Uv(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,sn=g;break e}sn=a.return}}var y=t.current;for(sn=y;sn!==null;){s=sn;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,sn=b;else e:for(s=y;sn!==null;){if(o=sn,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:A5(9,o)}}catch(E){Yi(o,o.return,E)}if(o===s){sn=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,sn=C;break e}sn=o.return}}if(_r=i,xf(),Fu&&typeof Fu.onPostCommitFiberRoot=="function")try{Fu.onPostCommitFiberRoot(r5,t)}catch{}r=!0}return r}finally{$r=n,hc.transition=e}}return!1}function gL(t,e,n){e=tg(n,e),e=qK(t,e,1),t=qd(t,e,1),e=wo(),t!==null&&(Yb(t,1,e),zo(t,e))}function Yi(t,e,n){if(t.tag===3)gL(t,t,n);else for(;e!==null;){if(e.tag===3){gL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yd===null||!Yd.has(r))){t=tg(n,t),t=YK(e,t,1),e=qd(e,t,1),t=wo(),e!==null&&(Yb(e,1,t),zo(e,t));break}}e=e.return}}function $le(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wo(),t.pingedLanes|=t.suspendedLanes&n,ls===t&&(Ns&n)===n&&(qa===4||qa===3&&(Ns&130023424)===Ns&&500>ha()-kP?xh(t,0):IP|=n),zo(t,e)}function mW(t,e){e===0&&(t.mode&1?(e=o1,o1<<=1,!(o1&130023424)&&(o1=4194304)):e=1);var n=wo();t=LA(t,e),t!==null&&(Yb(t,e,n),zo(t,n))}function Kle(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mW(t,n)}function Wle(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Pt(314))}r!==null&&r.delete(e),mW(t,n)}var gW;gW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qo.current)Mo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mo=!1,Dle(t,e,n);Mo=!!(t.flags&131072)}else Mo=!1,Ii&&e.flags&1048576&&xK(e,F2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vw(t,e),t=e.pendingProps;var i=Xm(e,ao.current);km(e,n),i=EP(null,e,r,t,i,n);var a=_P();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ho(r)?(a=!0,D2(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bP(e),i.updater=u5,e.stateNode=i,i._reactInternals=e,lj(e,r,t,n),e=Aj(null,e,r,!0,a,n)):(e.tag=0,Ii&&a&&fP(e),go(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vw(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qle(r),t=$c(r,t),i){case 0:e=uj(null,e,r,t,n);break e;case 1:e=oL(null,e,r,t,n);break e;case 11:e=aL(null,e,r,t,n);break e;case 14:e=sL(null,e,r,$c(r.type,t),n);break e}throw Error(Pt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$c(r,i),uj(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$c(r,i),oL(t,e,r,i,n);case 3:e:{if(eW(e),t===null)throw Error(Pt(387));r=e.pendingProps,a=e.memoizedState,i=a.element,BK(t,e),R2(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=tg(Error(Pt(423)),e),e=lL(t,e,r,n,i);break e}else if(r!==i){i=tg(Error(Pt(424)),e),e=lL(t,e,r,n,i);break e}else for(Cl=Gd(e.stateNode.containerInfo.firstChild),_l=e,Ii=!0,qc=null,n=EK(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jm(),r===i){e=RA(t,e,n);break e}go(t,e,r,n)}e=e.child}return e;case 5:return NK(e),t===null&&aj(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,ej(r,i)?s=null:a!==null&&ej(r,a)&&(e.flags|=32),ZK(t,e),go(t,e,s,n),e.child;case 6:return t===null&&aj(e),null;case 13:return tW(t,e,n);case 4:return xP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zm(e,null,r,n):go(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$c(r,i),aL(t,e,r,i,n);case 7:return go(t,e,e.pendingProps,n),e.child;case 8:return go(t,e,e.pendingProps.children,n),e.child;case 12:return go(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ai(M2,r._currentValue),r._currentValue=s,a!==null)if(nu(a.value,s)){if(a.children===i.children&&!Qo.current){e=RA(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=TA(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var A=u.pending;A===null?l.next=l:(l.next=A.next,A.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),sj(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Pt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),sj(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}go(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,km(e,n),i=mc(i),r=r(i),e.flags|=1,go(t,e,r,n),e.child;case 14:return r=e.type,i=$c(r,e.pendingProps),i=$c(r.type,i),sL(t,e,r,i,n);case 15:return XK(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$c(r,i),Vw(t,e),e.tag=1,Ho(r)?(t=!0,D2(e)):t=!1,km(e,n),GK(e,r,i),lj(e,r,i,n),Aj(null,e,r,!0,t,n);case 19:return nW(t,e,n);case 22:return JK(t,e,n)}throw Error(Pt(156,e.tag))};function vW(t,e){return $$(t,e)}function Gle(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uc(t,e,n,r){return new Gle(t,e,n,r)}function FP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qle(t){if(typeof t=="function")return FP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tP)return 11;if(t===nP)return 14}return 2}function Jd(t,e){var n=t.alternate;return n===null?(n=uc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ww(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")FP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case rm:return wh(n.children,i,a,e);case eP:s=8,i|=8;break;case k4:return t=uc(12,n,e,i|2),t.elementType=k4,t.lanes=a,t;case P4:return t=uc(13,n,e,i),t.elementType=P4,t.lanes=a,t;case D4:return t=uc(19,n,e,i),t.elementType=D4,t.lanes=a,t;case N$:return f5(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _$:s=10;break e;case B$:s=9;break e;case tP:s=11;break e;case nP:s=14;break e;case Sd:s=16,r=null;break e}throw Error(Pt(130,t==null?t:typeof t,""))}return e=uc(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function wh(t,e,n,r){return t=uc(7,t,r,e),t.lanes=n,t}function f5(t,e,n,r){return t=uc(22,t,r,e),t.elementType=N$,t.lanes=n,t.stateNode={isHidden:!1},t}function eB(t,e,n){return t=uc(6,t,null,e),t.lanes=n,t}function tB(t,e,n){return e=uc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yle(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O_(0),this.expirationTimes=O_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MP(t,e,n,r,i,a,s,o,l){return t=new Yle(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=uc(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bP(a),t}function Xle(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yW(t){if(!t)return lf;t=t._reactInternals;e:{if(sp(t)!==t||t.tag!==1)throw Error(Pt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ho(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pt(171))}if(t.tag===1){var n=t.type;if(Ho(n))return yK(t,n,e)}return e}function bW(t,e,n,r,i,a,s,o,l){return t=MP(n,r,!0,t,i,a,s,o,l),t.context=yW(null),n=t.current,r=wo(),i=Xd(n),a=TA(r,i),a.callback=e??null,qd(n,a,i),t.current.lanes=i,Yb(t,i,r),zo(t,r),t}function h5(t,e,n,r){var i=e.current,a=wo(),s=Xd(i);return n=yW(n),e.context===null?e.context=n:e.pendingContext=n,e=TA(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qd(i,e,s),t!==null&&(Jc(t,i,s,a),Qw(t,i,s)),s}function W2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LP(t,e){vL(t,e),(t=t.alternate)&&vL(t,e)}function Jle(){return null}var xW=typeof reportError=="function"?reportError:function(t){console.error(t)};function RP(t){this._internalRoot=t}p5.prototype.render=RP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pt(409));h5(t,e,null,null)};p5.prototype.unmount=RP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qh(function(){h5(null,t,null,null)}),e[MA]=null}};function p5(t){this._internalRoot=t}p5.prototype.unstable_scheduleHydration=function(t){if(t){var e=J$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nd.length&&e!==0&&e<Nd[n].priority;n++);Nd.splice(n,0,t),n===0&&eK(t)}};function UP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yL(){}function Zle(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=W2(s);a.call(u)}}var s=bW(e,r,t,0,null,!1,!1,"",yL);return t._reactRootContainer=s,t[MA]=s.current,jy(t.nodeType===8?t.parentNode:t),Qh(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=W2(l);o.call(u)}}var l=MP(t,0,!1,null,null,!1,!1,"",yL);return t._reactRootContainer=l,t[MA]=l.current,jy(t.nodeType===8?t.parentNode:t),Qh(function(){h5(e,l,n,r)}),l}function g5(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=W2(s);o.call(l)}}h5(e,s,t,i)}else s=Zle(n,e,t,i,r);return W2(s)}Y$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hv(e.pendingLanes);n!==0&&(aP(e,n|1),zo(e,ha()),!(_r&6)&&(ng=ha()+500,xf()))}break;case 13:Qh(function(){var r=LA(t,1);if(r!==null){var i=wo();Jc(r,t,1,i)}}),LP(t,1)}};sP=function(t){if(t.tag===13){var e=LA(t,134217728);if(e!==null){var n=wo();Jc(e,t,134217728,n)}LP(t,134217728)}};X$=function(t){if(t.tag===13){var e=Xd(t),n=LA(t,e);if(n!==null){var r=wo();Jc(n,t,e,r)}LP(t,e)}};J$=function(){return $r};Z$=function(t,e){var n=$r;try{return $r=t,e()}finally{$r=n}};V4=function(t,e,n){switch(e){case"input":if(M4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=o5(r);if(!i)throw Error(Pt(90));T$(r),M4(r,i)}}}break;case"textarea":k$(t,n);break;case"select":e=n.value,e!=null&&Nm(t,!!n.multiple,e,!1)}};R$=PP;U$=Qh;var ece={usingClientEntryPoint:!1,Events:[Jb,om,o5,M$,L$,PP]},V0={findFiberByHostInstance:lh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tce={bundleType:V0.bundleType,version:V0.version,rendererPackageName:V0.rendererPackageName,rendererConfig:V0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:XA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z$(t),t===null?null:t.stateNode},findFiberByHostInstance:V0.findFiberByHostInstance||Jle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v1.isDisabled&&v1.supportsFiber)try{r5=v1.inject(tce),Fu=v1}catch{}}Ll.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ece;Ll.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UP(e))throw Error(Pt(200));return Xle(t,e,null,n)};Ll.createRoot=function(t,e){if(!UP(t))throw Error(Pt(299));var n=!1,r="",i=xW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MP(t,1,!1,null,null,n,!1,r,i),t[MA]=e.current,jy(t.nodeType===8?t.parentNode:t),new RP(e)};Ll.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pt(188)):(t=Object.keys(t).join(","),Error(Pt(268,t)));return t=z$(e),t=t===null?null:t.stateNode,t};Ll.flushSync=function(t){return Qh(t)};Ll.hydrate=function(t,e,n){if(!m5(e))throw Error(Pt(200));return g5(null,t,e,!0,n)};Ll.hydrateRoot=function(t,e,n){if(!UP(t))throw Error(Pt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=xW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bW(e,null,t,1,n??null,i,!1,a,s),t[MA]=e.current,jy(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new p5(e)};Ll.render=function(t,e,n){if(!m5(e))throw Error(Pt(200));return g5(null,t,e,!1,n)};Ll.unmountComponentAtNode=function(t){if(!m5(t))throw Error(Pt(40));return t._reactRootContainer?(Qh(function(){g5(null,null,t,!1,function(){t._reactRootContainer=null,t[MA]=null})}),!0):!1};Ll.unstable_batchedUpdates=PP;Ll.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!m5(n))throw Error(Pt(200));if(t==null||t._reactInternals===void 0)throw Error(Pt(38));return g5(t,e,n,!1,r)};Ll.version="18.3.1-next-f1338f8080-20240426";function wW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wW)}catch(t){console.error(t)}}wW(),w$.exports=Ll;var Ly=w$.exports,bL=Ly;T4.createRoot=bL.createRoot,T4.hydrateRoot=bL.hydrateRoot;var xL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nce=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},SW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,A=a>>2,d=(a&3)<<4|o>>4;let f=(o&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[A],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nce(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new rce;const f=a<<2|o>>4;if(r.push(f),u!==64){const h=o<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ice=function(t){const e=CW(t);return SW.encodeByteArray(e,!0)},EW=function(t){return ice(t).replace(/\./g,"")},_W=function(t){try{return SW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sce=()=>ace().__FIREBASE_DEFAULTS__,oce=()=>{if(typeof process>"u"||typeof xL>"u")return;const t=xL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_W(t[1]);return e&&JSON.parse(e)},QP=()=>{try{return sce()||oce()||lce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cce=()=>{var t;return(t=QP())===null||t===void 0?void 0:t.config},uce=t=>{var e;return(e=QP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Go())}function fce(){var t;const e=(t=QP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gce(){const t=Go();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vce(){return!fce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yce(){try{return typeof indexedDB=="object"}catch{return!1}}function bce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce="FirebaseError";class JA extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xce,Object.setPrototypeOf(this,JA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ex.prototype.create)}}class ex{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?wce(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new JA(i,o,r)}}function wce(t,e){return t.replace(Cce,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Cce=/\{\$([^}]+)}/g;function Ry(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(wL(a)&&wL(s)){if(!Ry(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mv(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Sce(t,e){const n=new Ece(t,e);return n.subscribe.bind(n)}class Ece{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_ce(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nB),i.error===void 0&&(i.error=nB),i.complete===void 0&&(i.complete=nB);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _ce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nB(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return t&&t._delegate?t._delegate:t}class Hh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ace;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jce(e))try{this.getOrInitializeService({instanceIdentifier:Gf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Gf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gf){return this.instances.has(e)}getOptions(e=Gf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gf){return this.component?this.component.multipleInstances?e:Gf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nce(t){return t===Gf?void 0:t}function jce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dr||(dr={}));const Ice={debug:dr.DEBUG,verbose:dr.VERBOSE,info:dr.INFO,warn:dr.WARN,error:dr.ERROR,silent:dr.SILENT},kce=dr.INFO,Pce={[dr.DEBUG]:"log",[dr.VERBOSE]:"log",[dr.INFO]:"info",[dr.WARN]:"warn",[dr.ERROR]:"error"},Dce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Pce[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let HP=class{constructor(e){this.name=e,this._logLevel=kce,this._logHandler=Dce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ice[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dr.DEBUG,...e),this._logHandler(this,dr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dr.VERBOSE,...e),this._logHandler(this,dr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dr.INFO,...e),this._logHandler(this,dr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dr.WARN,...e),this._logHandler(this,dr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dr.ERROR,...e),this._logHandler(this,dr.ERROR,...e)}};const Oce=(t,e)=>e.some(n=>t instanceof n);let CL,SL;function Fce(){return CL||(CL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mce(){return SL||(SL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NW=new WeakMap,Cj=new WeakMap,jW=new WeakMap,rB=new WeakMap,zP=new WeakMap;function Lce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Zd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NW.set(n,t)}).catch(()=>{}),zP.set(e,t),e}function Rce(t){if(Cj.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Cj.set(t,e)}let Sj={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cj.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jW.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uce(t){Sj=t(Sj)}function Qce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iB(this),e,...n);return jW.set(r,e.sort?e.sort():[e]),Zd(r)}:Mce().includes(t)?function(...e){return t.apply(iB(this),e),Zd(NW.get(this))}:function(...e){return Zd(t.apply(iB(this),e))}}function Hce(t){return typeof t=="function"?Qce(t):(t instanceof IDBTransaction&&Rce(t),Oce(t,Fce())?new Proxy(t,Sj):t)}function Zd(t){if(t instanceof IDBRequest)return Lce(t);if(rB.has(t))return rB.get(t);const e=Hce(t);return e!==t&&(rB.set(t,e),zP.set(e,t)),e}const iB=t=>zP.get(t);function zce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Zd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Zd(s.result),l.oldVersion,l.newVersion,Zd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Vce=["get","getKey","getAll","getAllKeys","count"],$ce=["put","add","delete","clear"],aB=new Map;function EL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aB.get(e))return aB.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$ce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Vce.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return aB.set(e,a),a}Uce(t=>({...t,get:(e,n,r)=>EL(e,n)||t.get(e,n,r),has:(e,n)=>!!EL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ej="@firebase/app",_L="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new HP("@firebase/app"),Gce="@firebase/app-compat",qce="@firebase/analytics-compat",Yce="@firebase/analytics",Xce="@firebase/app-check-compat",Jce="@firebase/app-check",Zce="@firebase/auth",eue="@firebase/auth-compat",tue="@firebase/database",nue="@firebase/data-connect",rue="@firebase/database-compat",iue="@firebase/functions",aue="@firebase/functions-compat",sue="@firebase/installations",oue="@firebase/installations-compat",lue="@firebase/messaging",cue="@firebase/messaging-compat",uue="@firebase/performance",Aue="@firebase/performance-compat",due="@firebase/remote-config",fue="@firebase/remote-config-compat",hue="@firebase/storage",pue="@firebase/storage-compat",mue="@firebase/firestore",gue="@firebase/vertexai-preview",vue="@firebase/firestore-compat",yue="firebase",bue="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue="[DEFAULT]",wue={[Ej]:"fire-core",[Gce]:"fire-core-compat",[Yce]:"fire-analytics",[qce]:"fire-analytics-compat",[Jce]:"fire-app-check",[Xce]:"fire-app-check-compat",[Zce]:"fire-auth",[eue]:"fire-auth-compat",[tue]:"fire-rtdb",[nue]:"fire-data-connect",[rue]:"fire-rtdb-compat",[iue]:"fire-fn",[aue]:"fire-fn-compat",[sue]:"fire-iid",[oue]:"fire-iid-compat",[lue]:"fire-fcm",[cue]:"fire-fcm-compat",[uue]:"fire-perf",[Aue]:"fire-perf-compat",[due]:"fire-rc",[fue]:"fire-rc-compat",[hue]:"fire-gcs",[pue]:"fire-gcs-compat",[mue]:"fire-fst",[vue]:"fire-fst-compat",[gue]:"fire-vertex","fire-js":"fire-js",[yue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new Map,Cue=new Map,Bj=new Map;function BL(t,e){try{t.container.addComponent(e)}catch(n){UA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rg(t){const e=t.name;if(Bj.has(e))return UA.debug(`There were multiple attempts to register component ${e}.`),!1;Bj.set(e,t);for(const n of _j.values())BL(n,t);for(const n of Cue.values())BL(n,t);return!0}function TW(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dd(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ch=new ex("app","Firebase",Sue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ch.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=bue;function _ue(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xue,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ch.create("bad-app-name",{appName:String(i)});if(n||(n=cce()),!n)throw Ch.create("no-options");const a=_j.get(i);if(a){if(Ry(n,a.options)&&Ry(r,a.config))return a;throw Ch.create("duplicate-app",{appName:i})}const s=new Tce(i);for(const l of Bj.values())s.addComponent(l);const o=new Eue(n,r,s);return _j.set(i,o),o}function ef(t,e,n){var r;let i=(r=wue[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),UA.warn(o.join(" "));return}rg(new Hh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bue="firebase-heartbeat-database",Nue=1,Uy="firebase-heartbeat-store";let sB=null;function IW(){return sB||(sB=zce(Bue,Nue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uy)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ch.create("idb-open",{originalErrorMessage:t.message})})),sB}async function jue(t){try{const n=(await IW()).transaction(Uy),r=await n.objectStore(Uy).get(kW(t));return await n.done,r}catch(e){if(e instanceof JA)UA.warn(e.message);else{const n=Ch.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});UA.warn(n.message)}}}async function NL(t,e){try{const r=(await IW()).transaction(Uy,"readwrite");await r.objectStore(Uy).put(e,kW(t)),await r.done}catch(n){if(n instanceof JA)UA.warn(n.message);else{const r=Ch.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});UA.warn(r.message)}}}function kW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tue=1024,Iue=30*24*60*60*1e3;class kue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Due(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=jL();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=Iue}),this._storage.overwrite(this._heartbeatsCache))}catch(r){UA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jL(),{heartbeatsToSend:r,unsentEntries:i}=Pue(this._heartbeatsCache.heartbeats),a=EW(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return UA.warn(n),""}}}function jL(){return new Date().toISOString().substring(0,10)}function Pue(t,e=Tue){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),TL(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Due{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yce()?bce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jue(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TL(t){return EW(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oue(t){rg(new Hh("platform-logger",e=>new Kce(e),"PRIVATE")),rg(new Hh("heartbeat",e=>new kue(e),"PRIVATE")),ef(Ej,_L,t),ef(Ej,_L,"esm2017"),ef("fire-js","")}Oue("");function PW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fue=DW,OW=new ex("auth","Firebase",DW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new HP("@firebase/auth");function Mue(t,...e){G2.logLevel<=dr.WARN&&G2.warn(`Auth (${v5}): ${t}`,...e)}function Gw(t,...e){G2.logLevel<=dr.ERROR&&G2.error(`Auth (${v5}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,...e){throw $P(t,...e)}function VP(t,...e){return $P(t,...e)}function FW(t,e,n){const r=Object.assign(Object.assign({},Fue()),{[e]:n});return new ex("auth","Firebase",r).create(e,{appName:t.name})}function Sh(t){return FW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $P(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OW.create(t,...e)}function Sr(t,e,...n){if(!t)throw $P(e,...n)}function SA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gw(e),new Error(e)}function q2(t,e){t||SA(e)}function Lue(){return IL()==="http:"||IL()==="https:"}function IL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lue()||pce()||"connection"in navigator)?navigator.onLine:!0}function Uue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.shortDelay=e,this.longDelay=n,q2(n>e,"Short delay should be less than long delay!"),this.isMobile=dce()||mce()}get(){return Rue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(t,e){q2(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;SA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;SA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;SA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue=new tx(3e4,6e4);function op(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lp(t,e,n,r,i={}){return LW(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=BW(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return hce()||(u.referrerPolicy="no-referrer"),MW.fetch()(RW(t,t.config.apiHost,n,o),u)})}async function LW(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hue),e);try{const i=new $ue(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw y1(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw y1(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw y1(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw y1(t,"user-disabled",s);const A=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FW(t,A,u);ig(t,A)}}catch(i){if(i instanceof JA)throw i;ig(t,"network-request-failed",{message:String(i)})}}async function y5(t,e,n,r,i={}){const a=await lp(t,e,n,r,i);return"mfaPendingCredential"in a&&ig(t,"multi-factor-auth-required",{_serverResponse:a}),a}function RW(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Que(t.config,i):`${t.config.apiScheme}://${i}`}function Vue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $ue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(VP(this.auth,"network-request-failed")),zue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function y1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=VP(t,e,r);return i.customData._tokenResponse=n,i}function kL(t){return t!==void 0&&t.enterprise!==void 0}class Kue{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Vue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Wue(t,e){return lp(t,"GET","/v2/recaptchaConfig",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gue(t,e){return lp(t,"POST","/v1/accounts:delete",e)}async function UW(t,e){return lp(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function que(t,e=!1){const n=Is(t),r=await n.getIdToken(e),i=QW(r);Sr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:zv(oB(i.auth_time)),issuedAtTime:zv(oB(i.iat)),expirationTime:zv(oB(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function oB(t){return Number(t)*1e3}function QW(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gw("JWT malformed, contained fewer than 3 sections"),null;try{const i=_W(n);return i?JSON.parse(i):(Gw("Failed to decode base64 JWT payload"),null)}catch(i){return Gw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PL(t){const e=QW(t);return Sr(e,"internal-error"),Sr(typeof e.exp<"u","internal-error"),Sr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof JA&&Yue(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Yue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zv(this.lastLoginAt),this.creationTime=zv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Nj(t,UW(n,{idToken:r}));Sr(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HW(a.providerUserInfo):[],o=Zue(t.providerData,s),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),A=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new jj(a.createdAt,a.lastLoginAt),isAnonymous:A};Object.assign(t,d)}async function Jue(t){const e=Is(t);await Y2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HW(t){return t.map(e=>{var{providerId:n}=e,r=PW(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eAe(t,e){const n=await LW(t,{},async()=>{const r=BW({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=RW(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",MW.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tAe(t,e){return lp(t,"POST","/v2/accounts:revokeToken",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Sr(e.idToken,"internal-error"),Sr(typeof e.idToken<"u","internal-error"),Sr(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Sr(e.length!==0,"internal-error");const n=PL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Sr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await eAe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Dm;return r&&(Sr(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Sr(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Sr(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dm,this.toJSON())}_performRefresh(){return SA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e){Sr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class EA{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=PW(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jj(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Nj(this,this.stsTokenManager.getToken(this.auth,e));return Sr(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return que(this,e)}reload(){return Jue(this)}_assign(e){this!==e&&(Sr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new EA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Sr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Y2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dd(this.auth.app))return Promise.reject(Sh(this.auth));const e=await this.getIdToken();return await Nj(this,Gue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,u,A;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:b,emailVerified:C,isAnonymous:E,providerData:N,stsTokenManager:_}=n;Sr(b&&_,e,"internal-error");const B=Dm.fromJSON(this.name,_);Sr(typeof b=="string",e,"internal-error"),hd(d,e.name),hd(f,e.name),Sr(typeof C=="boolean",e,"internal-error"),Sr(typeof E=="boolean",e,"internal-error"),hd(h,e.name),hd(p,e.name),hd(m,e.name),hd(v,e.name),hd(g,e.name),hd(y,e.name);const j=new EA({uid:b,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:y});return N&&Array.isArray(N)&&(j.providerData=N.map(D=>Object.assign({},D))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dm;i.updateFromServerResponse(n);const a=new EA({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Y2(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Sr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?HW(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Dm;o.updateFromIdToken(r);const l=new EA({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jj(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Map;function Ah(t){q2(t instanceof Function,"Expected a class definition");let e=DL.get(t);return e?(q2(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zW.type="NONE";const OL=zW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e,n){return`firebase:${t}:${e}:${n}`}class Om{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=lB(this.userKey,i.apiKey,a),this.fullPersistenceKey=lB("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?EA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Om(Ah(OL),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ah(OL);const s=lB(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const A=await u._get(s);if(A){const d=EA._fromJSON(e,A);u!==a&&(o=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Om(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Om(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nAe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KW(e))return"Blackberry";if(WW(e))return"Webos";if(rAe(e))return"Safari";if((e.includes("chrome/")||iAe(e))&&!e.includes("edge/"))return"Chrome";if($W(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nAe(t=Go()){return/firefox\//i.test(t)}function rAe(t=Go()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iAe(t=Go()){return/crios\//i.test(t)}function VW(t=Go()){return/iemobile/i.test(t)}function $W(t=Go()){return/android/i.test(t)}function KW(t=Go()){return/blackberry/i.test(t)}function WW(t=Go()){return/webos/i.test(t)}function aAe(t=Go()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sAe(){return gce()&&document.documentMode===10}function oAe(t=Go()){return aAe(t)||$W(t)||WW(t)||KW(t)||/windows phone/i.test(t)||VW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t,e=[]){let n;switch(t){case"Browser":n=FL(Go());break;case"Worker":n=`${FL(Go())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${v5}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cAe(t,e={}){return lp(t,"GET","/v2/passwordPolicy",op(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uAe=6;class AAe{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:uAe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dAe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ML(this),this.idTokenSubscription=new ML(this),this.beforeStateQueue=new lAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ah(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Om.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UW(this,{idToken:e}),r=await EA._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dd(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Sr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Y2(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dd(this.app))return Promise.reject(Sh(this));const n=e?Is(e):null;return n&&Sr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Sr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dd(this.app)?Promise.reject(Sh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dd(this.app)?Promise.reject(Sh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ah(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cAe(this),n=new AAe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ex("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tAe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ah(e)||this._popupRedirectResolver;Sr(n,this,"argument-error"),this.redirectPersistenceManager=await Om.create(this,[Ah(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sr(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Sr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Mue(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nx(t){return Is(t)}class ML{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sce(n=>this.observer=n)}get next(){return Sr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fAe(t){KP=t}function hAe(t){return KP.loadJS(t)}function pAe(){return KP.recaptchaEnterpriseScript}const mAe="recaptcha-enterprise",gAe="NO_RECAPTCHA";class vAe{constructor(e){this.type=mAe,this.auth=nx(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Wue(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Kue(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;kL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(gAe)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&kL(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=pAe();l.length!==0&&(l+=o),hAe(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function LL(t,e,n,r=!1){const i=new vAe(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Tj(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await LL(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await LL(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yAe(t,e){const n=TW(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ry(a,e??{}))return i;ig(i,"already-initialized")}return n.initialize({options:e})}function bAe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ah);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xAe{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return SA("not implemented")}_getIdTokenResponse(e){return SA("not implemented")}_linkToIdToken(e,n){return SA("not implemented")}_getReauthenticationResolver(e){return SA("not implemented")}}async function wAe(t,e){return lp(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CAe(t,e){return y5(t,"POST","/v1/accounts:signInWithPassword",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SAe(t,e){return y5(t,"POST","/v1/accounts:signInWithEmailLink",op(t,e))}async function EAe(t,e){return y5(t,"POST","/v1/accounts:signInWithEmailLink",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends xAe{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tj(e,n,"signInWithPassword",CAe);case"emailLink":return SAe(e,{email:this._email,oobCode:this._password});default:ig(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tj(e,r,"signUpPassword",wAe);case"emailLink":return EAe(e,{idToken:n,email:this._email,oobCode:this._password});default:ig(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BAe(t){const e=mv(gv(t)).link,n=e?mv(gv(e)).deep_link_id:null,r=mv(gv(t)).deep_link_id;return(r?mv(gv(r)).link:null)||r||n||e||t}class WP{constructor(e){var n,r,i,a,s,o;const l=mv(gv(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,A=(r=l.oobCode)!==null&&r!==void 0?r:null,d=_Ae((i=l.mode)!==null&&i!==void 0?i:null);Sr(u&&A&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=A,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=BAe(e);try{return new WP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.providerId=t0.PROVIDER_ID}static credential(e,n){return Qy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=WP.parseLink(n);return Sr(r,"argument-error"),Qy._fromEmailAndCode(e,r.code,r.tenantId)}}t0.PROVIDER_ID="password";t0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";t0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NAe(t,e){return y5(t,"POST","/v1/accounts:signUp",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await EA._fromIdTokenResponse(e,r,i),s=RL(r);return new Hy({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=RL(r);return new Hy({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function RL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends JA{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,X2.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new X2(e,n,r,i)}}function jAe(t,e,n,r){return n._getIdTokenResponse(t).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?X2._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TAe(t,e,n=!1){if(Dd(t.app))return Promise.reject(Sh(t));const r="signIn",i=await jAe(t,r,e),a=await Hy._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function IAe(t,e){return TAe(nx(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t){const e=nx(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kAe(t,e,n){if(Dd(t.app))return Promise.reject(Sh(t));const r=nx(t),s=await Tj(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NAe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&qW(t),l}),o=await Hy._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function PAe(t,e,n){return Dd(t.app)?Promise.reject(Sh(t)):IAe(Is(t),t0.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qW(t),r})}function DAe(t,e,n,r){return Is(t).onAuthStateChanged(e,n,r)}const UL="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(UL,"1"),this.storage.removeItem(UL),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OAe=1e3,FAe=10;class XW extends YW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oAe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);sAe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FAe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XW.type="LOCAL";const MAe=XW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LAe extends YW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LAe.type="SESSION";new tx(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new tx(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new tx(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new tx(5e3,15e3);var QL="@firebase/auth",HL="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Sr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UAe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QAe(t){rg(new Hh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Sr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GW(t)},u=new dAe(r,i,a,l);return bAe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rg(new Hh("auth-internal",e=>{const n=nx(e.getProvider("auth").getImmediate());return(r=>new RAe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ef(QL,HL,UAe(t)),ef(QL,HL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HAe=5*60;uce("authIdTokenMaxAge");function zAe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fAe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=VP("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",zAe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QAe("Browser");var VAe="firebase",$Ae="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ef(VAe,$Ae,"app");var zL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eh,JW;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,B){function j(){}j.prototype=B.prototype,_.D=B.prototype,_.prototype=new j,_.prototype.constructor=_,_.C=function(D,k,O){for(var F=Array(arguments.length-2),H=2;H<arguments.length;H++)F[H-2]=arguments[H];return B.prototype[k].apply(D,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,B,j){j||(j=0);var D=Array(16);if(typeof B=="string")for(var k=0;16>k;++k)D[k]=B.charCodeAt(j++)|B.charCodeAt(j++)<<8|B.charCodeAt(j++)<<16|B.charCodeAt(j++)<<24;else for(k=0;16>k;++k)D[k]=B[j++]|B[j++]<<8|B[j++]<<16|B[j++]<<24;B=_.g[0],j=_.g[1],k=_.g[2];var O=_.g[3],F=B+(O^j&(k^O))+D[0]+3614090360&4294967295;B=j+(F<<7&4294967295|F>>>25),F=O+(k^B&(j^k))+D[1]+3905402710&4294967295,O=B+(F<<12&4294967295|F>>>20),F=k+(j^O&(B^j))+D[2]+606105819&4294967295,k=O+(F<<17&4294967295|F>>>15),F=j+(B^k&(O^B))+D[3]+3250441966&4294967295,j=k+(F<<22&4294967295|F>>>10),F=B+(O^j&(k^O))+D[4]+4118548399&4294967295,B=j+(F<<7&4294967295|F>>>25),F=O+(k^B&(j^k))+D[5]+1200080426&4294967295,O=B+(F<<12&4294967295|F>>>20),F=k+(j^O&(B^j))+D[6]+2821735955&4294967295,k=O+(F<<17&4294967295|F>>>15),F=j+(B^k&(O^B))+D[7]+4249261313&4294967295,j=k+(F<<22&4294967295|F>>>10),F=B+(O^j&(k^O))+D[8]+1770035416&4294967295,B=j+(F<<7&4294967295|F>>>25),F=O+(k^B&(j^k))+D[9]+2336552879&4294967295,O=B+(F<<12&4294967295|F>>>20),F=k+(j^O&(B^j))+D[10]+4294925233&4294967295,k=O+(F<<17&4294967295|F>>>15),F=j+(B^k&(O^B))+D[11]+2304563134&4294967295,j=k+(F<<22&4294967295|F>>>10),F=B+(O^j&(k^O))+D[12]+1804603682&4294967295,B=j+(F<<7&4294967295|F>>>25),F=O+(k^B&(j^k))+D[13]+4254626195&4294967295,O=B+(F<<12&4294967295|F>>>20),F=k+(j^O&(B^j))+D[14]+2792965006&4294967295,k=O+(F<<17&4294967295|F>>>15),F=j+(B^k&(O^B))+D[15]+1236535329&4294967295,j=k+(F<<22&4294967295|F>>>10),F=B+(k^O&(j^k))+D[1]+4129170786&4294967295,B=j+(F<<5&4294967295|F>>>27),F=O+(j^k&(B^j))+D[6]+3225465664&4294967295,O=B+(F<<9&4294967295|F>>>23),F=k+(B^j&(O^B))+D[11]+643717713&4294967295,k=O+(F<<14&4294967295|F>>>18),F=j+(O^B&(k^O))+D[0]+3921069994&4294967295,j=k+(F<<20&4294967295|F>>>12),F=B+(k^O&(j^k))+D[5]+3593408605&4294967295,B=j+(F<<5&4294967295|F>>>27),F=O+(j^k&(B^j))+D[10]+38016083&4294967295,O=B+(F<<9&4294967295|F>>>23),F=k+(B^j&(O^B))+D[15]+3634488961&4294967295,k=O+(F<<14&4294967295|F>>>18),F=j+(O^B&(k^O))+D[4]+3889429448&4294967295,j=k+(F<<20&4294967295|F>>>12),F=B+(k^O&(j^k))+D[9]+568446438&4294967295,B=j+(F<<5&4294967295|F>>>27),F=O+(j^k&(B^j))+D[14]+3275163606&4294967295,O=B+(F<<9&4294967295|F>>>23),F=k+(B^j&(O^B))+D[3]+4107603335&4294967295,k=O+(F<<14&4294967295|F>>>18),F=j+(O^B&(k^O))+D[8]+1163531501&4294967295,j=k+(F<<20&4294967295|F>>>12),F=B+(k^O&(j^k))+D[13]+2850285829&4294967295,B=j+(F<<5&4294967295|F>>>27),F=O+(j^k&(B^j))+D[2]+4243563512&4294967295,O=B+(F<<9&4294967295|F>>>23),F=k+(B^j&(O^B))+D[7]+1735328473&4294967295,k=O+(F<<14&4294967295|F>>>18),F=j+(O^B&(k^O))+D[12]+2368359562&4294967295,j=k+(F<<20&4294967295|F>>>12),F=B+(j^k^O)+D[5]+4294588738&4294967295,B=j+(F<<4&4294967295|F>>>28),F=O+(B^j^k)+D[8]+2272392833&4294967295,O=B+(F<<11&4294967295|F>>>21),F=k+(O^B^j)+D[11]+1839030562&4294967295,k=O+(F<<16&4294967295|F>>>16),F=j+(k^O^B)+D[14]+4259657740&4294967295,j=k+(F<<23&4294967295|F>>>9),F=B+(j^k^O)+D[1]+2763975236&4294967295,B=j+(F<<4&4294967295|F>>>28),F=O+(B^j^k)+D[4]+1272893353&4294967295,O=B+(F<<11&4294967295|F>>>21),F=k+(O^B^j)+D[7]+4139469664&4294967295,k=O+(F<<16&4294967295|F>>>16),F=j+(k^O^B)+D[10]+3200236656&4294967295,j=k+(F<<23&4294967295|F>>>9),F=B+(j^k^O)+D[13]+681279174&4294967295,B=j+(F<<4&4294967295|F>>>28),F=O+(B^j^k)+D[0]+3936430074&4294967295,O=B+(F<<11&4294967295|F>>>21),F=k+(O^B^j)+D[3]+3572445317&4294967295,k=O+(F<<16&4294967295|F>>>16),F=j+(k^O^B)+D[6]+76029189&4294967295,j=k+(F<<23&4294967295|F>>>9),F=B+(j^k^O)+D[9]+3654602809&4294967295,B=j+(F<<4&4294967295|F>>>28),F=O+(B^j^k)+D[12]+3873151461&4294967295,O=B+(F<<11&4294967295|F>>>21),F=k+(O^B^j)+D[15]+530742520&4294967295,k=O+(F<<16&4294967295|F>>>16),F=j+(k^O^B)+D[2]+3299628645&4294967295,j=k+(F<<23&4294967295|F>>>9),F=B+(k^(j|~O))+D[0]+4096336452&4294967295,B=j+(F<<6&4294967295|F>>>26),F=O+(j^(B|~k))+D[7]+1126891415&4294967295,O=B+(F<<10&4294967295|F>>>22),F=k+(B^(O|~j))+D[14]+2878612391&4294967295,k=O+(F<<15&4294967295|F>>>17),F=j+(O^(k|~B))+D[5]+4237533241&4294967295,j=k+(F<<21&4294967295|F>>>11),F=B+(k^(j|~O))+D[12]+1700485571&4294967295,B=j+(F<<6&4294967295|F>>>26),F=O+(j^(B|~k))+D[3]+2399980690&4294967295,O=B+(F<<10&4294967295|F>>>22),F=k+(B^(O|~j))+D[10]+4293915773&4294967295,k=O+(F<<15&4294967295|F>>>17),F=j+(O^(k|~B))+D[1]+2240044497&4294967295,j=k+(F<<21&4294967295|F>>>11),F=B+(k^(j|~O))+D[8]+1873313359&4294967295,B=j+(F<<6&4294967295|F>>>26),F=O+(j^(B|~k))+D[15]+4264355552&4294967295,O=B+(F<<10&4294967295|F>>>22),F=k+(B^(O|~j))+D[6]+2734768916&4294967295,k=O+(F<<15&4294967295|F>>>17),F=j+(O^(k|~B))+D[13]+1309151649&4294967295,j=k+(F<<21&4294967295|F>>>11),F=B+(k^(j|~O))+D[4]+4149444226&4294967295,B=j+(F<<6&4294967295|F>>>26),F=O+(j^(B|~k))+D[11]+3174756917&4294967295,O=B+(F<<10&4294967295|F>>>22),F=k+(B^(O|~j))+D[2]+718787259&4294967295,k=O+(F<<15&4294967295|F>>>17),F=j+(O^(k|~B))+D[9]+3951481745&4294967295,_.g[0]=_.g[0]+B&4294967295,_.g[1]=_.g[1]+(k+(F<<21&4294967295|F>>>11))&4294967295,_.g[2]=_.g[2]+k&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.u=function(_,B){B===void 0&&(B=_.length);for(var j=B-this.blockSize,D=this.B,k=this.h,O=0;O<B;){if(k==0)for(;O<=j;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<B;)if(D[k++]=_.charCodeAt(O++),k==this.blockSize){i(this,D),k=0;break}}else for(;O<B;)if(D[k++]=_[O++],k==this.blockSize){i(this,D),k=0;break}}this.h=k,this.o+=B},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var B=1;B<_.length-8;++B)_[B]=0;var j=8*this.o;for(B=_.length-8;B<_.length;++B)_[B]=j&255,j/=256;for(this.u(_),_=Array(16),B=j=0;4>B;++B)for(var D=0;32>D;D+=8)_[j++]=this.g[B]>>>D&255;return _};function a(_,B){var j=o;return Object.prototype.hasOwnProperty.call(j,_)?j[_]:j[_]=B(_)}function s(_,B){this.h=B;for(var j=[],D=!0,k=_.length-1;0<=k;k--){var O=_[k]|0;D&&O==B||(j[k]=O,D=!1)}this.g=j}var o={};function l(_){return-128<=_&&128>_?a(_,function(B){return new s([B|0],0>B?-1:0)}):new s([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return d;if(0>_)return v(u(-_));for(var B=[],j=1,D=0;_>=j;D++)B[D]=_/j|0,j*=4294967296;return new s(B,0)}function A(_,B){if(_.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(_.charAt(0)=="-")return v(A(_.substring(1),B));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(B,8)),D=d,k=0;k<_.length;k+=8){var O=Math.min(8,_.length-k),F=parseInt(_.substring(k,k+O),B);8>O?(O=u(Math.pow(B,O)),D=D.j(O).add(u(F))):(D=D.j(j),D=D.add(u(F)))}return D}var d=l(0),f=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-v(this).m();for(var _=0,B=1,j=0;j<this.g.length;j++){var D=this.i(j);_+=(0<=D?D:4294967296+D)*B,B*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(p(this))return"0";if(m(this))return"-"+v(this).toString(_);for(var B=u(Math.pow(_,6)),j=this,D="";;){var k=C(j,B).g;j=g(j,k.j(B));var O=((0<j.g.length?j.g[0]:j.h)>>>0).toString(_);if(j=k,p(j))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function p(_){if(_.h!=0)return!1;for(var B=0;B<_.g.length;B++)if(_.g[B]!=0)return!1;return!0}function m(_){return _.h==-1}t.l=function(_){return _=g(this,_),m(_)?-1:p(_)?0:1};function v(_){for(var B=_.g.length,j=[],D=0;D<B;D++)j[D]=~_.g[D];return new s(j,~_.h).add(f)}t.abs=function(){return m(this)?v(this):this},t.add=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0,k=0;k<=B;k++){var O=D+(this.i(k)&65535)+(_.i(k)&65535),F=(O>>>16)+(this.i(k)>>>16)+(_.i(k)>>>16);D=F>>>16,O&=65535,F&=65535,j[k]=F<<16|O}return new s(j,j[j.length-1]&-2147483648?-1:0)};function g(_,B){return _.add(v(B))}t.j=function(_){if(p(this)||p(_))return d;if(m(this))return m(_)?v(this).j(v(_)):v(v(this).j(_));if(m(_))return v(this.j(v(_)));if(0>this.l(h)&&0>_.l(h))return u(this.m()*_.m());for(var B=this.g.length+_.g.length,j=[],D=0;D<2*B;D++)j[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<_.g.length;k++){var O=this.i(D)>>>16,F=this.i(D)&65535,H=_.i(k)>>>16,Y=_.i(k)&65535;j[2*D+2*k]+=F*Y,y(j,2*D+2*k),j[2*D+2*k+1]+=O*Y,y(j,2*D+2*k+1),j[2*D+2*k+1]+=F*H,y(j,2*D+2*k+1),j[2*D+2*k+2]+=O*H,y(j,2*D+2*k+2)}for(D=0;D<B;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=B;D<2*B;D++)j[D]=0;return new s(j,0)};function y(_,B){for(;(_[B]&65535)!=_[B];)_[B+1]+=_[B]>>>16,_[B]&=65535,B++}function b(_,B){this.g=_,this.h=B}function C(_,B){if(p(B))throw Error("division by zero");if(p(_))return new b(d,d);if(m(_))return B=C(v(_),B),new b(v(B.g),v(B.h));if(m(B))return B=C(_,v(B)),new b(v(B.g),B.h);if(30<_.g.length){if(m(_)||m(B))throw Error("slowDivide_ only works with positive integers.");for(var j=f,D=B;0>=D.l(_);)j=E(j),D=E(D);var k=N(j,1),O=N(D,1);for(D=N(D,2),j=N(j,2);!p(D);){var F=O.add(D);0>=F.l(_)&&(k=k.add(j),O=F),D=N(D,1),j=N(j,1)}return B=g(_,k.j(B)),new b(k,B)}for(k=d;0<=_.l(B);){for(j=Math.max(1,Math.floor(_.m()/B.m())),D=Math.ceil(Math.log(j)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=u(j),F=O.j(B);m(F)||0<F.l(_);)j-=D,O=u(j),F=O.j(B);p(O)&&(O=f),k=k.add(O),_=g(_,F)}return new b(k,_)}t.A=function(_){return C(this,_).h},t.and=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0;D<B;D++)j[D]=this.i(D)&_.i(D);return new s(j,this.h&_.h)},t.or=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0;D<B;D++)j[D]=this.i(D)|_.i(D);return new s(j,this.h|_.h)},t.xor=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0;D<B;D++)j[D]=this.i(D)^_.i(D);return new s(j,this.h^_.h)};function E(_){for(var B=_.g.length+1,j=[],D=0;D<B;D++)j[D]=_.i(D)<<1|_.i(D-1)>>>31;return new s(j,_.h)}function N(_,B){var j=B>>5;B%=32;for(var D=_.g.length-j,k=[],O=0;O<D;O++)k[O]=0<B?_.i(O+j)>>>B|_.i(O+j+1)<<32-B:_.i(O+j);return new s(k,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JW=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=A,Eh=s}).apply(typeof zL<"u"?zL:typeof self<"u"?self:typeof window<"u"?window:{});var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZW,vv,eG,qw,Ij,tG,nG,rG;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,Q,K){return w==Array.prototype||w==Object.prototype||(w[Q]=K.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof b1=="object"&&b1];for(var Q=0;Q<w.length;++Q){var K=w[Q];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var r=n(this);function i(w,Q){if(Q)e:{var K=r;w=w.split(".");for(var ce=0;ce<w.length-1;ce++){var ze=w[ce];if(!(ze in K))break e;K=K[ze]}w=w[w.length-1],ce=K[w],Q=Q(ce),Q!=ce&&Q!=null&&e(K,w,{configurable:!0,writable:!0,value:Q})}}function a(w,Q){w instanceof String&&(w+="");var K=0,ce=!1,ze={next:function(){if(!ce&&K<w.length){var Ye=K++;return{value:Q(Ye,w[Ye]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return ze[Symbol.iterator]=function(){return ze},ze}i("Array.prototype.values",function(w){return w||function(){return a(this,function(Q,K){return K})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var Q=typeof w;return Q=Q!="object"?Q:w?Array.isArray(w)?"array":Q:"null",Q=="array"||Q=="object"&&typeof w.length=="number"}function u(w){var Q=typeof w;return Q=="object"&&w!=null||Q=="function"}function A(w,Q,K){return w.call.apply(w.bind,arguments)}function d(w,Q,K){if(!w)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ze,ce),w.apply(Q,ze)}}return function(){return w.apply(Q,arguments)}}function f(w,Q,K){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,f.apply(null,arguments)}function h(w,Q){var K=Array.prototype.slice.call(arguments,1);return function(){var ce=K.slice();return ce.push.apply(ce,arguments),w.apply(this,ce)}}function p(w,Q){function K(){}K.prototype=Q.prototype,w.aa=Q.prototype,w.prototype=new K,w.prototype.constructor=w,w.Qb=function(ce,ze,Ye){for(var Dt=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)Dt[rr-2]=arguments[rr];return Q.prototype[ze].apply(ce,Dt)}}function m(w){const Q=w.length;if(0<Q){const K=Array(Q);for(let ce=0;ce<Q;ce++)K[ce]=w[ce];return K}return[]}function v(w,Q){for(let K=1;K<arguments.length;K++){const ce=arguments[K];if(l(ce)){const ze=w.length||0,Ye=ce.length||0;w.length=ze+Ye;for(let Dt=0;Dt<Ye;Dt++)w[ze+Dt]=ce[Dt]}else w.push(ce)}}class g{constructor(Q,K){this.i=Q,this.j=K,this.h=0,this.g=null}get(){let Q;return 0<this.h?(this.h--,Q=this.g,this.g=Q.next,Q.next=null):Q=this.i(),Q}}function y(w){return/^[\s\xa0]*$/.test(w)}function b(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function C(w){return C[" "](w),w}C[" "]=function(){};var E=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function N(w,Q,K){for(const ce in w)Q.call(K,w[ce],ce,w)}function _(w,Q){for(const K in w)Q.call(void 0,w[K],K,w)}function B(w){const Q={};for(const K in w)Q[K]=w[K];return Q}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(w,Q){let K,ce;for(let ze=1;ze<arguments.length;ze++){ce=arguments[ze];for(K in ce)w[K]=ce[K];for(let Ye=0;Ye<j.length;Ye++)K=j[Ye],Object.prototype.hasOwnProperty.call(ce,K)&&(w[K]=ce[K])}}function k(w){var Q=1;w=w.split(":");const K=[];for(;0<Q&&w.length;)K.push(w.shift()),Q--;return w.length&&K.push(w.join(":")),K}function O(w){o.setTimeout(()=>{throw w},0)}function F(){var w=oe;let Q=null;return w.g&&(Q=w.g,w.g=w.g.next,w.g||(w.h=null),Q.next=null),Q}class H{constructor(){this.h=this.g=null}add(Q,K){const ce=Y.get();ce.set(Q,K),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var Y=new g(()=>new q,w=>w.reset());class q{constructor(){this.next=this.g=this.h=null}set(Q,K){this.h=Q,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,W=!1,oe=new H,te=()=>{const w=o.Promise.resolve(void 0);Z=()=>{w.then(ue)}};var ue=()=>{for(var w;w=F();){try{w.h.call(w.g)}catch(K){O(K)}var Q=Y;Q.j(w),100>Q.h&&(Q.h++,w.next=Q.g,Q.g=w)}W=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(w,Q){this.type=w,this.g=this.target=Q,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,Q=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const K=()=>{};o.addEventListener("test",K,Q),o.removeEventListener("test",K,Q)}catch{}return w}();function ne(w,Q){if($.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var K=this.type=w.type,ce=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=Q,Q=w.relatedTarget){if(E){e:{try{C(Q.nodeName);var ze=!0;break e}catch{}ze=!1}ze||(Q=null)}}else K=="mouseover"?Q=w.fromElement:K=="mouseout"&&(Q=w.toElement);this.relatedTarget=Q,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:he[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ne.aa.h.call(this)}}p(ne,$);var he={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),we=0;function re(w,Q,K,ce,ze){this.listener=w,this.proxy=null,this.src=Q,this.type=K,this.capture=!!ce,this.ha=ze,this.key=++we,this.da=this.fa=!1}function pe(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function xe(w){this.src=w,this.g={},this.h=0}xe.prototype.add=function(w,Q,K,ce,ze){var Ye=w.toString();w=this.g[Ye],w||(w=this.g[Ye]=[],this.h++);var Dt=He(w,Q,ce,ze);return-1<Dt?(Q=w[Dt],K||(Q.fa=!1)):(Q=new re(Q,this.src,Ye,!!ce,ze),Q.fa=K,w.push(Q)),Q};function Ae(w,Q){var K=Q.type;if(K in w.g){var ce=w.g[K],ze=Array.prototype.indexOf.call(ce,Q,void 0),Ye;(Ye=0<=ze)&&Array.prototype.splice.call(ce,ze,1),Ye&&(pe(Q),w.g[K].length==0&&(delete w.g[K],w.h--))}}function He(w,Q,K,ce){for(var ze=0;ze<w.length;++ze){var Ye=w[ze];if(!Ye.da&&Ye.listener==Q&&Ye.capture==!!K&&Ye.ha==ce)return ze}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),fe={};function $e(w,Q,K,ce,ze){if(Array.isArray(Q)){for(var Ye=0;Ye<Q.length;Ye++)$e(w,Q[Ye],K,ce,ze);return null}return K=wt(K),w&&w[Se]?w.K(Q,K,u(ce)?!!ce.capture:!1,ze):mt(w,Q,K,!1,ce,ze)}function mt(w,Q,K,ce,ze,Ye){if(!Q)throw Error("Invalid event type");var Dt=u(ze)?!!ze.capture:!!ze,rr=Mt(w);if(rr||(w[Ie]=rr=new xe(w)),K=rr.add(Q,K,ce,Dt,Ye),K.proxy)return K;if(ce=pt(),K.proxy=ce,ce.src=w,ce.listener=K,w.addEventListener)J||(ze=Dt),ze===void 0&&(ze=!1),w.addEventListener(Q.toString(),ce,ze);else if(w.attachEvent)w.attachEvent(gt(Q.toString()),ce);else if(w.addListener&&w.removeListener)w.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return K}function pt(){function w(K){return Q.call(w.src,w.listener,K)}const Q=$t;return w}function rt(w,Q,K,ce,ze){if(Array.isArray(Q))for(var Ye=0;Ye<Q.length;Ye++)rt(w,Q[Ye],K,ce,ze);else ce=u(ce)?!!ce.capture:!!ce,K=wt(K),w&&w[Se]?(w=w.i,Q=String(Q).toString(),Q in w.g&&(Ye=w.g[Q],K=He(Ye,K,ce,ze),-1<K&&(pe(Ye[K]),Array.prototype.splice.call(Ye,K,1),Ye.length==0&&(delete w.g[Q],w.h--)))):w&&(w=Mt(w))&&(Q=w.g[Q.toString()],w=-1,Q&&(w=He(Q,K,ce,ze)),(K=-1<w?Q[w]:null)&&Et(K))}function Et(w){if(typeof w!="number"&&w&&!w.da){var Q=w.src;if(Q&&Q[Se])Ae(Q.i,w);else{var K=w.type,ce=w.proxy;Q.removeEventListener?Q.removeEventListener(K,ce,w.capture):Q.detachEvent?Q.detachEvent(gt(K),ce):Q.addListener&&Q.removeListener&&Q.removeListener(ce),(K=Mt(Q))?(Ae(K,w),K.h==0&&(K.src=null,Q[Ie]=null)):pe(w)}}}function gt(w){return w in fe?fe[w]:fe[w]="on"+w}function $t(w,Q){if(w.da)w=!0;else{Q=new ne(Q,this);var K=w.listener,ce=w.ha||w.src;w.fa&&Et(w),w=K.call(ce,Q)}return w}function Mt(w){return w=w[Ie],w instanceof xe?w:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(w){return typeof w=="function"?w:(w[bt]||(w[bt]=function(Q){return w.handleEvent(Q)}),w[bt])}function Tt(){R.call(this),this.i=new xe(this),this.M=this,this.F=null}p(Tt,R),Tt.prototype[Se]=!0,Tt.prototype.removeEventListener=function(w,Q,K,ce){rt(this,w,Q,K,ce)};function Xt(w,Q){var K,ce=w.F;if(ce)for(K=[];ce;ce=ce.F)K.push(ce);if(w=w.M,ce=Q.type||Q,typeof Q=="string")Q=new $(Q,w);else if(Q instanceof $)Q.target=Q.target||w;else{var ze=Q;Q=new $(ce,w),D(Q,ze)}if(ze=!0,K)for(var Ye=K.length-1;0<=Ye;Ye--){var Dt=Q.g=K[Ye];ze=ot(Dt,ce,!0,Q)&&ze}if(Dt=Q.g=w,ze=ot(Dt,ce,!0,Q)&&ze,ze=ot(Dt,ce,!1,Q)&&ze,K)for(Ye=0;Ye<K.length;Ye++)Dt=Q.g=K[Ye],ze=ot(Dt,ce,!1,Q)&&ze}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var w=this.i,Q;for(Q in w.g){for(var K=w.g[Q],ce=0;ce<K.length;ce++)pe(K[ce]);delete w.g[Q],w.h--}}this.F=null},Tt.prototype.K=function(w,Q,K,ce){return this.i.add(String(w),Q,!1,K,ce)},Tt.prototype.L=function(w,Q,K,ce){return this.i.add(String(w),Q,!0,K,ce)};function ot(w,Q,K,ce){if(Q=w.i.g[String(Q)],!Q)return!0;Q=Q.concat();for(var ze=!0,Ye=0;Ye<Q.length;++Ye){var Dt=Q[Ye];if(Dt&&!Dt.da&&Dt.capture==K){var rr=Dt.listener,si=Dt.ha||Dt.src;Dt.fa&&Ae(w.i,Dt),ze=rr.call(si,ce)!==!1&&ze}}return ze&&!ce.defaultPrevented}function vt(w,Q,K){if(typeof w=="function")K&&(w=f(w,K));else if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(Q)?-1:o.setTimeout(w,Q||0)}function xt(w){w.g=vt(()=>{w.g=null,w.i&&(w.i=!1,xt(w))},w.l);const Q=w.h;w.h=null,w.m.apply(null,Q)}class Lt extends R{constructor(Q,K){super(),this.m=Q,this.l=K,this.h=null,this.i=!1,this.g=null}j(Q){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(w){R.call(this),this.h=w,this.g={}}p(hn,R);var Cn=[];function zt(w){N(w.g,function(Q,K){this.g.hasOwnProperty(K)&&Et(Q)},w),w.g={}}hn.prototype.N=function(){hn.aa.N.call(this),zt(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=o.JSON.stringify,St=o.JSON.parse,Kt=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function ke(){}ke.prototype.h=null;function et(w){return w.h||(w.h=w.i())}function Je(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nn(){$.call(this,"d")}p(nn,$);function Qt(){$.call(this,"c")}p(Qt,$);var bn={},mi=null;function cr(){return mi=mi||new Tt}bn.La="serverreachability";function ta(w){$.call(this,bn.La,w)}p(ta,$);function Me(w){const Q=cr();Xt(Q,new ta(Q))}bn.STAT_EVENT="statevent";function Oe(w,Q){$.call(this,bn.STAT_EVENT,w),this.stat=Q}p(Oe,$);function Ge(w){const Q=cr();Xt(Q,new Oe(Q,w))}bn.Ma="timingevent";function _t(w,Q){$.call(this,bn.Ma,w),this.size=Q}p(_t,$);function At(w,Q){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},Q)}function Yt(){this.g=!0}Yt.prototype.xa=function(){this.g=!1};function yn(w,Q,K,ce,ze,Ye){w.info(function(){if(w.g)if(Ye)for(var Dt="",rr=Ye.split("&"),si=0;si<rr.length;si++){var $n=rr[si].split("=");if(1<$n.length){var Kn=$n[0];$n=$n[1];var Ur=Kn.split("_");Dt=2<=Ur.length&&Ur[1]=="type"?Dt+(Kn+"="+$n+"&"):Dt+(Kn+"=redacted&")}}else Dt=null;else Dt=Ye;return"XMLHTTP REQ ("+ce+") [attempt "+ze+"]: "+Q+`
`+K+`
`+Dt})}function Yn(w,Q,K,ce,ze,Ye,Dt){w.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+ze+"]: "+Q+`
`+K+`
`+Ye+" "+Dt})}function Ut(w,Q,K,ce){w.info(function(){return"XMLHTTP TEXT ("+Q+"): "+Xr(w,K)+(ce?" "+ce:"")})}function mn(w,Q){w.info(function(){return"TIMEOUT: "+Q})}Yt.prototype.info=function(){};function Xr(w,Q){if(!w.g)return Q;if(!Q)return null;try{var K=JSON.parse(Q);if(K){for(w=0;w<K.length;w++)if(Array.isArray(K[w])){var ce=K[w];if(!(2>ce.length)){var ze=ce[1];if(Array.isArray(ze)&&!(1>ze.length)){var Ye=ze[0];if(Ye!="noop"&&Ye!="stop"&&Ye!="close")for(var Dt=1;Dt<ze.length;Dt++)ze[Dt]=""}}}}return Jt(K)}catch{return Q}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function Zn(){}p(Zn,ke),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},yr=new Zn;function br(w,Q,K,ce){this.j=w,this.i=Q,this.l=K,this.R=ce||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var xa={},Mi={};function Jo(w,Q,K){w.L=1,w.v=lo(Pa(Q)),w.m=K,w.P=!0,Zo(w,null)}function Zo(w,Q){w.F=Date.now(),wa(w),w.A=Pa(w.v);var K=w.A,ce=w.R;Array.isArray(ce)||(ce=[String(ce)]),rn(K.i,"t",ce),w.C=0,K=w.j.J,w.h=new Jr,w.g=Fr(w.j,K?Q:null,!w.m),0<w.O&&(w.M=new Lt(f(w.Y,w,w.g),w.O)),Q=w.U,K=w.g,ce=w.ca;var ze="readystatechange";Array.isArray(ze)||(ze&&(Cn[0]=ze.toString()),ze=Cn);for(var Ye=0;Ye<ze.length;Ye++){var Dt=$e(K,ze[Ye],ce||Q.handleEvent,!1,Q.h||Q);if(!Dt)break;Q.g[Dt.key]=Dt}Q=w.H?B(w.H):{},w.m?(w.u||(w.u="POST"),Q["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,Q)):(w.u="GET",w.g.ea(w.A,w.u,null,Q)),Me(),yn(w.i,w.u,w.A,w.l,w.R,w.m)}br.prototype.ca=function(w){w=w.target;const Q=this.M;Q&&Rs(w)==3?Q.j():this.Y(w)},br.prototype.Y=function(w){try{if(w==this.g)e:{const Ur=Rs(this.g);var Q=this.g.Ba();const hs=this.g.Z();if(!(3>Ur)&&(Ur!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||Ur!=4||Q==7||(Q==8||0>=hs?Me(3):Me(2)),so(this);var K=this.g.Z();this.X=K;t:if(Ir(this)){var ce=Dc(this.g);w="";var ze=ce.length,Ye=Rs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),Li(this);var Dt="";break t}this.h.i=new o.TextDecoder}for(Q=0;Q<ze;Q++)this.h.h=!0,w+=this.h.i.decode(ce[Q],{stream:!(Ye&&Q==ze-1)});ce.length=0,this.h.g+=w,this.C=0,Dt=this.h.g}else Dt=this.g.oa();if(this.o=K==200,Yn(this.i,this.u,this.A,this.l,this.R,Ur,K),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,si=this.g;if((rr=si.g?si.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(rr)){var $n=rr;break t}}$n=null}if(K=$n)Ut(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ql(this,K);else{this.o=!1,this.s=3,Ge(12),ds(this),Li(this);break e}}if(this.P){K=!0;let Fa;for(;!this.J&&this.C<Dt.length;)if(Fa=el(this,Dt),Fa==Mi){Ur==4&&(this.s=4,Ge(14),K=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}else if(Fa==xa){this.s=4,Ge(15),Ut(this.i,this.l,Dt,"[Invalid Chunk]"),K=!1;break}else Ut(this.i,this.l,Fa,null),Ql(this,Fa);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ur!=4||Dt.length!=0||this.h.h||(this.s=1,Ge(16),K=!1),this.o=this.o&&K,!K)Ut(this.i,this.l,Dt,"[Invalid Chunked Response]"),ds(this),Li(this);else if(0<Dt.length&&!this.W){this.W=!0;var Kn=this.j;Kn.g==this&&Kn.ba&&!Kn.M&&(Kn.j.info("Great, no buffering proxy detected. Bytes received: "+Dt.length),Gt(Kn),Kn.M=!0,Ge(11))}}else Ut(this.i,this.l,Dt,null),Ql(this,Dt);Ur==4&&ds(this),this.o&&!this.J&&(Ur==4?Sn(this.j,this):(this.o=!1,wa(this)))}else uo(this.g),K==400&&0<Dt.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),ds(this),Li(this)}}}catch{}finally{}};function Ir(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function el(w,Q){var K=w.C,ce=Q.indexOf(`
`,K);return ce==-1?Mi:(K=Number(Q.substring(K,ce)),isNaN(K)?xa:(ce+=1,ce+K>Q.length?Mi:(Q=Q.slice(ce,ce+K),w.C=ce+K,Q)))}br.prototype.cancel=function(){this.J=!0,ds(this)};function wa(w){w.S=Date.now()+w.I,gu(w,w.I)}function gu(w,Q){if(w.B!=null)throw Error("WatchDog timer not null");w.B=At(f(w.ba,w),Q)}function so(w){w.B&&(o.clearTimeout(w.B),w.B=null)}br.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(mn(this.i,this.A),this.L!=2&&(Me(),Ge(17)),ds(this),this.s=2,Li(this)):gu(this,this.S-w)};function Li(w){w.j.G==0||w.J||Sn(w.j,w)}function ds(w){so(w);var Q=w.M;Q&&typeof Q.ma=="function"&&Q.ma(),w.M=null,zt(w.U),w.g&&(Q=w.g,w.g=null,Q.abort(),Q.ma())}function Ql(w,Q){try{var K=w.j;if(K.G!=0&&(K.g==w||Pn(K.h,w))){if(!w.K&&Pn(K.h,w)&&K.G==3){try{var ce=K.Da.g.parse(Q)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var ze=ce;if(ze[0]==0){e:if(!K.u){if(K.g)if(K.g.F+3e3<w.F)xn(K),fs(K);else break e;lt(K),Ge(18)}}else K.za=ze[1],0<K.za-K.T&&37500>ze[2]&&K.F&&K.v==0&&!K.C&&(K.C=At(f(K.Za,K),6e3));if(1>=yu(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else hr(K,11)}else if((w.K||K.g==w)&&xn(K),!y(Q))for(ze=K.Da.g.parse(Q),Q=0;Q<ze.length;Q++){let $n=ze[Q];if(K.T=$n[0],$n=$n[1],K.G==2)if($n[0]=="c"){K.K=$n[1],K.ia=$n[2];const Kn=$n[3];Kn!=null&&(K.la=Kn,K.j.info("VER="+K.la));const Ur=$n[4];Ur!=null&&(K.Aa=Ur,K.j.info("SVER="+K.Aa));const hs=$n[5];hs!=null&&typeof hs=="number"&&0<hs&&(ce=1.5*hs,K.L=ce,K.j.info("backChannelRequestTimeoutMs_="+ce)),ce=K;const Fa=w.g;if(Fa){const Sa=Fa.g?Fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var Ye=ce.h;Ye.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(Ye.j=Ye.l,Ye.g=new Set,Ye.h&&(bu(Ye,Ye.h),Ye.h=null))}if(ce.D){const ll=Fa.g?Fa.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(ce.ya=ll,Xn(ce.I,ce.D,ll))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-w.F,K.j.info("Handshake RTT: "+K.R+"ms")),ce=K;var Dt=w;if(ce.qa=wr(ce,ce.J?ce.ia:null,ce.W),Dt.K){ii(ce.h,Dt);var rr=Dt,si=ce.L;si&&(rr.I=si),rr.B&&(so(rr),wa(rr)),ce.g=Dt}else at(ce);0<K.i.length&&M(K)}else $n[0]!="stop"&&$n[0]!="close"||hr(K,7);else K.G==3&&($n[0]=="stop"||$n[0]=="close"?$n[0]=="stop"?hr(K,7):ol(K):$n[0]!="noop"&&K.l&&K.l.ta($n),K.v=0)}}Me(4)}catch{}}var oo=class{constructor(w,Q){this.g=w,this.map=Q}};function vu(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hl(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function yu(w){return w.h?1:w.g?w.g.size:0}function Pn(w,Q){return w.h?w.h==Q:w.g?w.g.has(Q):!1}function bu(w,Q){w.g?w.g.add(Q):w.h=Q}function ii(w,Q){w.h&&w.h==Q?w.h=null:w.g&&w.g.has(Q)&&w.g.delete(Q)}vu.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function zl(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let Q=w.i;for(const K of w.g.values())Q=Q.concat(K.D);return Q}return m(w.i)}function rA(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var Q=[],K=w.length,ce=0;ce<K;ce++)Q.push(w[ce]);return Q}Q=[],K=0;for(ce in w)Q[K++]=w[ce];return Q}function tr(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var Q=[];w=w.length;for(var K=0;K<w;K++)Q.push(K);return Q}Q=[],K=0;for(const ce in w)Q[K++]=ce;return Q}}}function Ps(w,Q){if(w.forEach&&typeof w.forEach=="function")w.forEach(Q,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,Q,void 0);else for(var K=tr(w),ce=rA(w),ze=ce.length,Ye=0;Ye<ze;Ye++)Q.call(void 0,ce[Ye],K&&K[Ye],w)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(w,Q){if(w){w=w.split("&");for(var K=0;K<w.length;K++){var ce=w[K].indexOf("="),ze=null;if(0<=ce){var Ye=w[K].substring(0,ce);ze=w[K].substring(ce+1)}else Ye=w[K];Q(Ye,ze?decodeURIComponent(ze.replace(/\+/g," ")):"")}}}function xr(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof xr){this.h=w.h,tl(this,w.j),this.o=w.o,this.g=w.g,Nc(this,w.s),this.l=w.l;var Q=w.i,K=new Da;K.i=Q.i,Q.g&&(K.g=new Map(Q.g),K.h=Q.h),jc(this,K),this.m=w.m}else w&&(Q=String(w).match(Ca))?(this.h=!1,tl(this,Q[1]||"",!0),this.o=nl(Q[2]||""),this.g=nl(Q[3]||"",!0),Nc(this,Q[4]),this.l=nl(Q[5]||"",!0),jc(this,Q[6]||"",!0),this.m=nl(Q[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}xr.prototype.toString=function(){var w=[],Q=this.j;Q&&w.push(Os(Q,iA,!0),":");var K=this.g;return(K||Q=="file")&&(w.push("//"),(Q=this.o)&&w.push(Os(Q,iA,!0),"@"),w.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.s,K!=null&&w.push(":",String(K))),(K=this.l)&&(this.g&&K.charAt(0)!="/"&&w.push("/"),w.push(Os(K,K.charAt(0)=="/"?Df:Pf,!0))),(K=this.i.toString())&&w.push("?",K),(K=this.m)&&w.push("#",Os(K,Fs)),w.join("")};function Pa(w){return new xr(w)}function tl(w,Q,K){w.j=K?nl(Q,!0):Q,w.j&&(w.j=w.j.replace(/:$/,""))}function Nc(w,Q){if(Q){if(Q=Number(Q),isNaN(Q)||0>Q)throw Error("Bad port number "+Q);w.s=Q}else w.s=null}function jc(w,Q,K){Q instanceof Da?(w.i=Q,Ic(w.i,w.h)):(K||(Q=Os(Q,na)),w.i=new Da(Q,w.h))}function Xn(w,Q,K){w.i.set(Q,K)}function lo(w){return Xn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function nl(w,Q){return w?Q?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Os(w,Q,K){return typeof w=="string"?(w=encodeURI(w).replace(Q,qn),K&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function qn(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var iA=/[#\/\?@]/g,Pf=/[#\?:]/g,Df=/[#\?]/g,na=/[#\?@]/g,Fs=/#/g;function Da(w,Q){this.h=this.g=null,this.i=w||null,this.j=!!Q}function ra(w){w.g||(w.g=new Map,w.h=0,w.i&&Ds(w.i,function(Q,K){w.add(decodeURIComponent(Q.replace(/\+/g," ")),K)}))}t=Da.prototype,t.add=function(w,Q){ra(this),this.i=null,w=ia(this,w);var K=this.g.get(w);return K||this.g.set(w,K=[]),K.push(Q),this.h+=1,this};function rl(w,Q){ra(w),Q=ia(w,Q),w.g.has(Q)&&(w.i=null,w.h-=w.g.get(Q).length,w.g.delete(Q))}function Tc(w,Q){return ra(w),Q=ia(w,Q),w.g.has(Q)}t.forEach=function(w,Q){ra(this),this.g.forEach(function(K,ce){K.forEach(function(ze){w.call(Q,ze,ce,this)},this)},this)},t.na=function(){ra(this);const w=Array.from(this.g.values()),Q=Array.from(this.g.keys()),K=[];for(let ce=0;ce<Q.length;ce++){const ze=w[ce];for(let Ye=0;Ye<ze.length;Ye++)K.push(Q[ce])}return K},t.V=function(w){ra(this);let Q=[];if(typeof w=="string")Tc(this,w)&&(Q=Q.concat(this.g.get(ia(this,w))));else{w=Array.from(this.g.values());for(let K=0;K<w.length;K++)Q=Q.concat(w[K])}return Q},t.set=function(w,Q){return ra(this),this.i=null,w=ia(this,w),Tc(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Q]),this.h+=1,this},t.get=function(w,Q){return w?(w=this.V(w),0<w.length?String(w[0]):Q):Q};function rn(w,Q,K){rl(w,Q),0<K.length&&(w.i=null,w.g.set(ia(w,Q),m(K)),w.h+=K.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Q=Array.from(this.g.keys());for(var K=0;K<Q.length;K++){var ce=Q[K];const Ye=encodeURIComponent(String(ce)),Dt=this.V(ce);for(ce=0;ce<Dt.length;ce++){var ze=Ye;Dt[ce]!==""&&(ze+="="+encodeURIComponent(String(Dt[ce]))),w.push(ze)}}return this.i=w.join("&")};function ia(w,Q){return Q=String(Q),w.j&&(Q=Q.toLowerCase()),Q}function Ic(w,Q){Q&&!w.j&&(ra(w),w.i=null,w.g.forEach(function(K,ce){var ze=ce.toLowerCase();ce!=ze&&(rl(this,ce),rn(this,ze,K))},w)),w.j=Q}function kc(w,Q){const K=new Yt;if(o.Image){const ce=new Image;ce.onload=h(Zr,K,"TestLoadImage: loaded",!0,Q,ce),ce.onerror=h(Zr,K,"TestLoadImage: error",!1,Q,ce),ce.onabort=h(Zr,K,"TestLoadImage: abort",!1,Q,ce),ce.ontimeout=h(Zr,K,"TestLoadImage: timeout",!1,Q,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=w}else Q(!1)}function aA(w,Q){const K=new Yt,ce=new AbortController,ze=setTimeout(()=>{ce.abort(),Zr(K,"TestPingServer: timeout",!1,Q)},1e4);fetch(w,{signal:ce.signal}).then(Ye=>{clearTimeout(ze),Ye.ok?Zr(K,"TestPingServer: ok",!0,Q):Zr(K,"TestPingServer: server error",!1,Q)}).catch(()=>{clearTimeout(ze),Zr(K,"TestPingServer: error",!1,Q)})}function Zr(w,Q,K,ce,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),ce(K)}catch{}}function il(){this.g=new Kt}function Ms(w,Q,K){const ce=K||"";try{Ps(w,function(ze,Ye){let Dt=ze;u(ze)&&(Dt=Jt(ze)),Q.push(ce+Ye+"="+encodeURIComponent(Dt))})}catch(ze){throw Q.push(ce+"type="+encodeURIComponent("_badmap")),ze}}function Vl(w){this.l=w.Ub||null,this.j=w.eb||!1}p(Vl,ke),Vl.prototype.g=function(){return new Bo(this.l,this.j)},Vl.prototype.i=function(w){return function(){return w}}({});function Bo(w,Q){Tt.call(this),this.D=w,this.o=Q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Bo,Tt),t=Bo.prototype,t.open=function(w,Q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=Q,this.readyState=1,Ls(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(Q.body=w),(this.D||o).fetch(new Request(this.A,Q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Q=w.value?w.value:new Uint8Array(0);(Q=this.v.decode(Q,{stream:!w.done}))&&(this.response=this.responseText+=Q)}w.done?Oa(this):Ls(this),this.readyState==3&&$l(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Oa(this))},t.Qa=function(w){this.g&&(this.response=w,Oa(this))},t.ga=function(){this.g&&Oa(this)};function Oa(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Ls(w)}t.setRequestHeader=function(w,Q){this.u.append(w,Q)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Q=this.h.entries();for(var K=Q.next();!K.done;)K=K.value,w.push(K[0]+": "+K[1]),K=Q.next();return w.join(`\r
`)};function Ls(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Kl(w){let Q="";return N(w,function(K,ce){Q+=ce,Q+=":",Q+=K,Q+=`\r
`}),Q}function sA(w,Q,K){e:{for(ce in K){var ce=!1;break e}ce=!0}ce||(K=Kl(K),typeof w=="string"?K!=null&&encodeURIComponent(String(K)):Xn(w,Q,K))}function fr(w){Tt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(fr,Tt);var oA=/^https?$/i,Pc=["POST","PUT"];t=fr.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,Q,K,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Q=Q?Q.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?et(this.o):et(yr),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(Q,String(w),!0),this.B=!1}catch(Ye){co(this,Ye);return}if(w=K||"",K=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var ze in ce)K.set(ze,ce[ze]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const Ye of ce.keys())K.set(Ye,ce.get(Ye));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(K.keys()).find(Ye=>Ye.toLowerCase()=="content-type"),ze=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Pc,Q,void 0))||ce||ze||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ye,Dt]of K)this.g.setRequestHeader(Ye,Dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gl(this),this.u=!0,this.g.send(w),this.u=!1}catch(Ye){co(this,Ye)}};function co(w,Q){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Q,w.m=5,al(w),Wl(w)}function al(w){w.A||(w.A=!0,Xt(w,"complete"),Xt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Xt(this,"complete"),Xt(this,"abort"),Wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wl(this,!0)),fr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sl(this):this.bb())},t.bb=function(){sl(this)};function sl(w){if(w.h&&typeof s<"u"&&(!w.v[1]||Rs(w)!=4||w.Z()!=2)){if(w.u&&Rs(w)==4)vt(w.Ea,0,w);else if(Xt(w,"readystatechange"),Rs(w)==4){w.h=!1;try{const Dt=w.Z();e:switch(Dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}var K;if(!(K=Q)){var ce;if(ce=Dt===0){var ze=String(w.D).match(Ca)[1]||null;!ze&&o.self&&o.self.location&&(ze=o.self.location.protocol.slice(0,-1)),ce=!oA.test(ze?ze.toLowerCase():"")}K=ce}if(K)Xt(w,"complete"),Xt(w,"success");else{w.m=6;try{var Ye=2<Rs(w)?w.g.statusText:""}catch{Ye=""}w.l=Ye+" ["+w.Z()+"]",al(w)}}finally{Wl(w)}}}}function Wl(w,Q){if(w.g){Gl(w);const K=w.g,ce=w.v[0]?()=>{}:null;w.g=null,w.v=null,Q||Xt(w,"ready");try{K.onreadystatechange=ce}catch{}}}function Gl(w){w.I&&(o.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Rs(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Rs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var Q=this.g.responseText;return w&&Q.indexOf(w)==0&&(Q=Q.substring(w.length)),St(Q)}};function Dc(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(w){const Q={};w=(w.g&&2<=Rs(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<w.length;ce++){if(y(w[ce]))continue;var K=k(w[ce]);const ze=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();const Ye=Q[ze]||[];Q[ze]=Ye,Ye.push(K)}_(Q,function(ce){return ce.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(w,Q,K){return K&&K.internalChannelParams&&K.internalChannelParams[w]||Q}function ql(w){this.Aa=0,this.i=[],this.j=new Yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,w),this.cb=Za("retryDelaySeedMs",1e4,w),this.Wa=Za("forwardChannelMaxRetries",2,w),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new vu(w&&w.concurrentRequestLimit),this.Da=new il,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ql.prototype,t.la=8,t.G=1,t.connect=function(w,Q,K,ce){Ge(0),this.W=w,this.H=Q||{},K&&ce!==void 0&&(this.H.OSID=K,this.H.OAID=ce),this.F=this.X,this.I=wr(this,null,this.W),M(this)};function ol(w){if(xu(w),w.G==3){var Q=w.U++,K=Pa(w.I);if(Xn(K,"SID",w.K),Xn(K,"RID",Q),Xn(K,"TYPE","terminate"),Be(w,K),Q=new br(w,w.j,Q),Q.L=2,Q.v=lo(Pa(K)),K=!1,o.navigator&&o.navigator.sendBeacon)try{K=o.navigator.sendBeacon(Q.v.toString(),"")}catch{}!K&&o.Image&&(new Image().src=Q.v,K=!0),K||(Q.g=Fr(Q.j,null),Q.g.ea(Q.v)),Q.F=Date.now(),wa(Q)}Gr(w)}function fs(w){w.g&&(Gt(w),w.g.cancel(),w.g=null)}function xu(w){fs(w),w.u&&(o.clearTimeout(w.u),w.u=null),xn(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function M(w){if(!Hl(w.h)&&!w.s){w.s=!0;var Q=w.Ga;Z||te(),W||(Z(),W=!0),oe.add(Q,w),w.B=0}}function X(w,Q){return yu(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=Q.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=At(f(w.Ga,w,Q),nr(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ze=new br(this,this.j,w);let Ye=this.o;if(this.S&&(Ye?(Ye=B(Ye),D(Ye,this.S)):Ye=this.S),this.m!==null||this.O||(ze.H=Ye,Ye=null),this.P)e:{for(var Q=0,K=0;K<this.i.length;K++){t:{var ce=this.i[K];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(Q+=ce,4096<Q){Q=K;break e}if(Q===4096||K===this.i.length-1){Q=K+1;break e}}Q=1e3}else Q=1e3;Q=Qe(this,ze,Q),K=Pa(this.I),Xn(K,"RID",w),Xn(K,"CVER",22),this.D&&Xn(K,"X-HTTP-Session-Id",this.D),Be(this,K),Ye&&(this.O?Q="headers="+encodeURIComponent(String(Kl(Ye)))+"&"+Q:this.m&&sA(K,this.m,Ye)),bu(this.h,ze),this.Ua&&Xn(K,"TYPE","init"),this.P?(Xn(K,"$req",Q),Xn(K,"SID","null"),ze.T=!0,Jo(ze,K,null)):Jo(ze,K,Q),this.G=2}}else this.G==3&&(w?ge(this,w):this.i.length==0||Hl(this.h)||ge(this))};function ge(w,Q){var K;Q?K=Q.l:K=w.U++;const ce=Pa(w.I);Xn(ce,"SID",w.K),Xn(ce,"RID",K),Xn(ce,"AID",w.T),Be(w,ce),w.m&&w.o&&sA(ce,w.m,w.o),K=new br(w,w.j,K,w.B+1),w.m===null&&(K.H=w.o),Q&&(w.i=Q.D.concat(w.i)),Q=Qe(w,K,1e3),K.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),bu(w.h,K),Jo(K,ce,Q)}function Be(w,Q){w.H&&N(w.H,function(K,ce){Xn(Q,ce,K)}),w.l&&Ps({},function(K,ce){Xn(Q,ce,K)})}function Qe(w,Q,K){K=Math.min(w.i.length,K);var ce=w.l?f(w.l.Na,w.l,w):null;e:{var ze=w.i;let Ye=-1;for(;;){const Dt=["count="+K];Ye==-1?0<K?(Ye=ze[0].g,Dt.push("ofs="+Ye)):Ye=0:Dt.push("ofs="+Ye);let rr=!0;for(let si=0;si<K;si++){let $n=ze[si].g;const Kn=ze[si].map;if($n-=Ye,0>$n)Ye=Math.max(0,ze[si].g-100),rr=!1;else try{Ms(Kn,Dt,"req"+$n+"_")}catch{ce&&ce(Kn)}}if(rr){ce=Dt.join("&");break e}}}return w=w.i.splice(0,K),Q.D=w,ce}function at(w){if(!w.g&&!w.u){w.Y=1;var Q=w.Fa;Z||te(),W||(Z(),W=!0),oe.add(Q,w),w.v=0}}function lt(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=At(f(w.Fa,w),nr(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,tn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=At(f(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),fs(this),tn(this))};function Gt(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function tn(w){w.g=new br(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var Q=Pa(w.qa);Xn(Q,"RID","rpc"),Xn(Q,"SID",w.K),Xn(Q,"AID",w.T),Xn(Q,"CI",w.F?"0":"1"),!w.F&&w.ja&&Xn(Q,"TO",w.ja),Xn(Q,"TYPE","xmlhttp"),Be(w,Q),w.m&&w.o&&sA(Q,w.m,w.o),w.L&&(w.g.I=w.L);var K=w.g;w=w.ia,K.L=1,K.v=lo(Pa(Q)),K.m=null,K.P=!0,Zo(K,w)}t.Za=function(){this.C!=null&&(this.C=null,fs(this),lt(this),Ge(19))};function xn(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function Sn(w,Q){var K=null;if(w.g==Q){xn(w),Gt(w),w.g=null;var ce=2}else if(Pn(w.h,Q))K=Q.D,ii(w.h,Q),ce=1;else return;if(w.G!=0){if(Q.o)if(ce==1){K=Q.m?Q.m.length:0,Q=Date.now()-Q.F;var ze=w.B;ce=cr(),Xt(ce,new _t(ce,K)),M(w)}else at(w);else if(ze=Q.s,ze==3||ze==0&&0<Q.X||!(ce==1&&X(w,Q)||ce==2&&lt(w)))switch(K&&0<K.length&&(Q=w.h,Q.i=Q.i.concat(K)),ze){case 1:hr(w,5);break;case 4:hr(w,10);break;case 3:hr(w,6);break;default:hr(w,2)}}}function nr(w,Q){let K=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(K*=2),K*Q}function hr(w,Q){if(w.j.info("Error code "+Q),Q==2){var K=f(w.fb,w),ce=w.Xa;const ze=!ce;ce=new xr(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||tl(ce,"https"),lo(ce),ze?kc(ce.toString(),K):aA(ce.toString(),K)}else Ge(2);w.G=0,w.l&&w.l.sa(Q),Gr(w),xu(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Gr(w){if(w.G=0,w.ka=[],w.l){const Q=zl(w.h);(Q.length!=0||w.i.length!=0)&&(v(w.ka,Q),v(w.ka,w.i),w.h.i.length=0,m(w.i),w.i.length=0),w.l.ra()}}function wr(w,Q,K){var ce=K instanceof xr?Pa(K):new xr(K);if(ce.g!="")Q&&(ce.g=Q+"."+ce.g),Nc(ce,ce.s);else{var ze=o.location;ce=ze.protocol,Q=Q?Q+"."+ze.hostname:ze.hostname,ze=+ze.port;var Ye=new xr(null);ce&&tl(Ye,ce),Q&&(Ye.g=Q),ze&&Nc(Ye,ze),K&&(Ye.l=K),ce=Ye}return K=w.D,Q=w.ya,K&&Q&&Xn(ce,K,Q),Xn(ce,"VER",w.la),Be(w,ce),ce}function Fr(w,Q,K){if(Q&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return Q=w.Ca&&!w.pa?new fr(new Vl({eb:K})):new fr(w.pa),Q.Ha(w.J),Q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ei(){}t=ei.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ai(){}ai.prototype.g=function(w,Q){return new kr(w,Q)};function kr(w,Q){Tt.call(this),this.g=new ql(Q),this.l=w,this.h=Q&&Q.messageUrlParams||null,w=Q&&Q.messageHeaders||null,Q&&Q.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Q&&Q.initMessageHeaders||null,Q&&Q.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Q.messageContentType:w={"X-WebChannel-Content-Type":Q.messageContentType}),Q&&Q.va&&(w?w["X-WebChannel-Client-Profile"]=Q.va:w={"X-WebChannel-Client-Profile":Q.va}),this.g.S=w,(w=Q&&Q.Sb)&&!y(w)&&(this.g.m=w),this.v=Q&&Q.supportsCrossDomainXhr||!1,this.u=Q&&Q.sendRawJson||!1,(Q=Q&&Q.httpSessionIdParam)&&!y(Q)&&(this.g.D=Q,w=this.h,w!==null&&Q in w&&(w=this.h,Q in w&&delete w[Q])),this.j=new Ao(this)}p(kr,Tt),kr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){ol(this.g)},kr.prototype.o=function(w){var Q=this.g;if(typeof w=="string"){var K={};K.__data__=w,w=K}else this.u&&(K={},K.__data__=Jt(w),w=K);Q.i.push(new oo(Q.Ya++,w)),Q.G==3&&M(Q)},kr.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,kr.aa.N.call(this)};function aa(w){nn.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Q=w.__sm__;if(Q){e:{for(const K in Q){w=K;break e}w=void 0}(this.i=w)&&(w=this.i,Q=Q!==null&&w in Q?Q[w]:void 0),this.data=Q}else this.data=w}p(aa,nn);function wu(){Qt.call(this),this.status=1}p(wu,Qt);function Ao(w){this.g=w}p(Ao,ei),Ao.prototype.ua=function(){Xt(this.g,"a")},Ao.prototype.ta=function(w){Xt(this.g,new aa(w))},Ao.prototype.sa=function(w){Xt(this.g,new wu)},Ao.prototype.ra=function(){Xt(this.g,"b")},ai.prototype.createWebChannel=ai.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,rG=function(){return new ai},nG=function(){return cr()},tG=bn,Ij={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,qw=vr,Or.COMPLETE="complete",eG=Or,Je.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,vv=Je,fr.prototype.listenOnce=fr.prototype.L,fr.prototype.getLastError=fr.prototype.Ka,fr.prototype.getLastErrorCode=fr.prototype.Ba,fr.prototype.getStatus=fr.prototype.Z,fr.prototype.getResponseJson=fr.prototype.Oa,fr.prototype.getResponseText=fr.prototype.oa,fr.prototype.send=fr.prototype.ea,fr.prototype.setWithCredentials=fr.prototype.Ha,ZW=fr}).apply(typeof b1<"u"?b1:typeof self<"u"?self:typeof window<"u"?window:{});const VL="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new HP("@firebase/firestore");function $0(){return zh.logLevel}function un(t,...e){if(zh.logLevel<=dr.DEBUG){const n=e.map(GP);zh.debug(`Firestore (${n0}): ${t}`,...n)}}function QA(t,...e){if(zh.logLevel<=dr.ERROR){const n=e.map(GP);zh.error(`Firestore (${n0}): ${t}`,...n)}}function zy(t,...e){if(zh.logLevel<=dr.WARN){const n=e.map(GP);zh.warn(`Firestore (${n0}): ${t}`,...n)}}function GP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t="Unexpected state"){const e=`FIRESTORE (${n0}) INTERNAL ASSERTION FAILED: `+t;throw QA(e),new Error(e)}function Kr(t,e){t||Dn()}function Qn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class an extends JA{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KAe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WAe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ko.UNAUTHENTICATED))}shutdown(){}}class GAe{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kr(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new _h;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _h,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(un("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _h)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kr(typeof r.accessToken=="string"),new KAe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kr(e===null||typeof e=="string"),new ko(e)}}class qAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qAe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XAe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JAe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Kr(this.o===void 0);const r=a=>{a.error!=null&&un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,un("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kr(typeof n.token=="string"),this.R=n.token,new XAe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZAe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZAe(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function jr(t,e){return t<e?-1:t>e?1:0}function ag(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new an(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new an(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new an(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new an(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ia.fromMillis(Date.now())}static fromDate(e){return Ia.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ia(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jr(this.nanoseconds,e.nanoseconds):jr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new Ia(0,0))}static max(){return new Un(new Ia(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dn(),r===void 0?r=e.length-n:r>e.length-n&&Dn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vy.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Si extends Vy{construct(e,n,r){return new Si(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new an(yt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Si(n)}static emptyPath(){return new Si([])}}const ede=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Es extends Vy{construct(e,n,r){return new Es(e,n,r)}static isValidIdentifier(e){return ede.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Es.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Es(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new an(yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new an(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new an(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new an(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Es(n)}static emptyPath(){return new Es([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.path=e}static fromPath(e){return new wn(Si.fromString(e))}static fromName(e){return new wn(Si.fromString(e).popFirst(5))}static empty(){return new wn(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Si.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Si.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new Si(e.slice()))}}function tde(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Un.fromTimestamp(r===1e9?new Ia(n+1,0):new Ia(n,r));return new cf(i,wn.empty(),e)}function nde(t){return new cf(t.readTime,t.key,-1)}class cf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cf(Un.min(),wn.empty(),-1)}static max(){return new cf(Un.max(),wn.empty(),-1)}}function rde(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=wn.comparator(t.documentKey,e.documentKey),n!==0?n:jr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ade{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t){if(t.code!==yt.FAILED_PRECONDITION||t.message!==ide)throw t;un("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Nt((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Nt?n:Nt.resolve(n)}catch(n){return Nt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Nt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Nt.reject(n)}static resolve(e){return new Nt((n,r)=>{n(e)})}static reject(e){return new Nt((n,r)=>{r(e)})}static waitFor(e){return new Nt((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=Nt.resolve(!1);for(const r of e)n=n.next(i=>i?Nt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Nt((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(A=>{s[u]=A,++o,o===a&&r(s)},A=>i(A))}})}static doWhile(e,n){return new Nt((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function sde(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ix(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qP.oe=-1;function b5(t){return t==null}function J2(t){return t===0&&1/t==-1/0}function ode(t){return typeof t=="number"&&Number.isInteger(t)&&!J2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.comparator=e,this.root=n||Ss.EMPTY}insert(e,n){return new Hi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new Hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new x1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new x1(this.root,e,this.comparator,!1)}getReverseIterator(){return new x1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new x1(this.root,e,this.comparator,!0)}}class x1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ss.RED,this.left=i??Ss.EMPTY,this.right=a??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ss(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1;Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ss(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.comparator=e,this.data=new Hi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KL(this.data.getIterator())}getIteratorFrom(e){return new KL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new js(this.comparator);return n.data=e,n}}class KL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.fields=e,e.sort(Es.comparator)}static empty(){return new Sl([])}unionWith(e){let n=new js(Es.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ag(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sG("Invalid base64 string: "+a):a}}(e);return new ks(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ks(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const lde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uf(t){if(Kr(!!t),typeof t=="string"){let e=0;const n=lde.exec(t);if(Kr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fa(t.seconds),nanos:fa(t.nanos)}}function fa(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vh(t){return typeof t=="string"?ks.fromBase64String(t):ks.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function XP(t){const e=t.mapValue.fields.__previous_value__;return YP(e)?XP(e):e}function $y(t){const e=uf(t.mapValue.fields.__local_write_time__.timestampValue);return new Ia(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e,n,r,i,a,s,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Ky{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ky("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ky&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={mapValue:{}};function $h(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?YP(t)?4:Ade(t)?9007199254740991:ude(t)?10:11:Dn()}function Vu(t,e){if(t===e)return!0;const n=$h(t);if(n!==$h(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $y(t).isEqual($y(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=uf(i.timestampValue),o=uf(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Vh(i.bytesValue).isEqual(Vh(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return fa(i.geoPointValue.latitude)===fa(a.geoPointValue.latitude)&&fa(i.geoPointValue.longitude)===fa(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return fa(i.integerValue)===fa(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=fa(i.doubleValue),o=fa(a.doubleValue);return s===o?J2(s)===J2(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ag(t.arrayValue.values||[],e.arrayValue.values||[],Vu);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if($L(s)!==$L(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Vu(s[l],o[l])))return!1;return!0}(t,e);default:return Dn()}}function Wy(t,e){return(t.values||[]).find(n=>Vu(n,e))!==void 0}function sg(t,e){if(t===e)return 0;const n=$h(t),r=$h(e);if(n!==r)return jr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jr(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=fa(a.integerValue||a.doubleValue),l=fa(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return WL(t.timestampValue,e.timestampValue);case 4:return WL($y(t),$y(e));case 5:return jr(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Vh(a),l=Vh(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const A=jr(o[u],l[u]);if(A!==0)return A}return jr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=jr(fa(a.latitude),fa(s.latitude));return o!==0?o:jr(fa(a.longitude),fa(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GL(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,u,A;const d=a.fields||{},f=s.fields||{},h=(o=d.value)===null||o===void 0?void 0:o.arrayValue,p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,m=jr(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((A=p==null?void 0:p.values)===null||A===void 0?void 0:A.length)||0);return m!==0?m:GL(h,p)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===w1.mapValue&&s===w1.mapValue)return 0;if(a===w1.mapValue)return 1;if(s===w1.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},A=Object.keys(u);l.sort(),A.sort();for(let d=0;d<l.length&&d<A.length;++d){const f=jr(l[d],A[d]);if(f!==0)return f;const h=sg(o[l[d]],u[A[d]]);if(h!==0)return h}return jr(l.length,A.length)}(t.mapValue,e.mapValue);default:throw Dn()}}function WL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jr(t,e);const n=uf(t),r=uf(e),i=jr(n.seconds,r.seconds);return i!==0?i:jr(n.nanos,r.nanos)}function GL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=sg(n[i],r[i]);if(a)return a}return jr(n.length,r.length)}function og(t){return kj(t)}function kj(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=uf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vh(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return wn.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=kj(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${kj(n.fields[s])}`;return i+"}"}(t.mapValue):Dn()}function qL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pj(t){return!!t&&"integerValue"in t}function JP(t){return!!t&&"arrayValue"in t}function YL(t){return!!t&&"nullValue"in t}function XL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yw(t){return!!t&&"mapValue"in t}function ude(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Vv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vv(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vv(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ade(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vv(n)}setAll(e){let n=Es.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Vv(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Yw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cp(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fo(Vv(this.value))}}function oG(t){const e=[];return cp(t.fields,(n,r)=>{const i=new Es([n]);if(Yw(r)){const a=oG(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Sl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new no(e,0,Un.min(),Un.min(),Un.min(),Fo.empty(),0)}static newFoundDocument(e,n,r,i){return new no(e,1,n,Un.min(),r,i,0)}static newNoDocument(e,n){return new no(e,2,n,Un.min(),Un.min(),Fo.empty(),0)}static newUnknownDocument(e,n){return new no(e,3,n,Un.min(),Un.min(),Fo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Un.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof no&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new no(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.position=e,this.inclusive=n}}function JL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=wn.comparator(wn.fromName(s.referenceValue),n.key):r=sg(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n="asc"){this.field=e,this.dir=n}}function dde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lG=class{};class Ta extends lG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hde(e,n,r):n==="array-contains"?new gde(e,r):n==="in"?new vde(e,r):n==="not-in"?new yde(e,r):n==="array-contains-any"?new bde(e,r):new Ta(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pde(e,r):new mde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sg(n,this.value)):n!==null&&$h(this.value)===$h(n)&&this.matchesComparison(sg(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ru extends lG{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ru(e,n)}matches(e){return cG(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cG(t){return t.op==="and"}function uG(t){return fde(t)&&cG(t)}function fde(t){for(const e of t.filters)if(e instanceof ru)return!1;return!0}function Dj(t){if(t instanceof Ta)return t.field.canonicalString()+t.op.toString()+og(t.value);if(uG(t))return t.filters.map(e=>Dj(e)).join(",");{const e=t.filters.map(n=>Dj(n)).join(",");return`${t.op}(${e})`}}function AG(t,e){return t instanceof Ta?function(r,i){return i instanceof Ta&&r.op===i.op&&r.field.isEqual(i.field)&&Vu(r.value,i.value)}(t,e):t instanceof ru?function(r,i){return i instanceof ru&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&AG(s,i.filters[o]),!0):!1}(t,e):void Dn()}function dG(t){return t instanceof Ta?function(n){return`${n.field.canonicalString()} ${n.op} ${og(n.value)}`}(t):t instanceof ru?function(n){return n.op.toString()+" {"+n.getFilters().map(dG).join(" ,")+"}"}(t):"Filter"}class hde extends Ta{constructor(e,n,r){super(e,n,r),this.key=wn.fromName(r.referenceValue)}matches(e){const n=wn.comparator(e.key,this.key);return this.matchesComparison(n)}}class pde extends Ta{constructor(e,n){super(e,"in",n),this.keys=fG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mde extends Ta{constructor(e,n){super(e,"not-in",n),this.keys=fG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fG(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>wn.fromName(r.referenceValue))}class gde extends Ta{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return JP(n)&&Wy(n.arrayValue,this.value)}}class vde extends Ta{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wy(this.value.arrayValue,n)}}class yde extends Ta{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wy(this.value.arrayValue,n)}}class bde extends Ta{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!JP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function eR(t,e=null,n=[],r=[],i=null,a=null,s=null){return new xde(t,e,n,r,i,a,s)}function ZP(t){const e=Qn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dj(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),b5(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>og(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>og(r)).join(",")),e.ue=n}return e.ue}function eD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZL(t.startAt,e.startAt)&&ZL(t.endAt,e.endAt)}function Oj(t){return wn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wde(t,e,n,r,i,a,s,o){return new ax(t,e,n,r,i,a,s,o)}function tD(t){return new ax(t)}function tR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hG(t){return t.collectionGroup!==null}function $v(t){const e=Qn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new js(Es.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new eC(a,r))}),n.has(Es.keyField().canonicalString())||e.ce.push(new eC(Es.keyField(),r))}return e.ce}function Lu(t){const e=Qn(t);return e.le||(e.le=Cde(e,$v(t))),e.le}function Cde(t,e){if(t.limitType==="F")return eR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new eC(i.field,a)});const n=t.endAt?new Z2(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Z2(t.startAt.position,t.startAt.inclusive):null;return eR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fj(t,e){const n=t.filters.concat([e]);return new ax(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mj(t,e,n){return new ax(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function x5(t,e){return eD(Lu(t),Lu(e))&&t.limitType===e.limitType}function pG(t){return`${ZP(Lu(t))}|lt:${t.limitType}`}function Kp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dG(i)).join(", ")}]`),b5(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>og(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>og(i)).join(",")),`Target(${r})`}(Lu(t))}; limitType=${t.limitType})`}function w5(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):wn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of $v(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=JL(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,$v(r),i)||r.endAt&&!function(s,o,l){const u=JL(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,$v(r),i))}(t,e)}function Sde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mG(t){return(e,n)=>{let r=!1;for(const i of $v(t)){const a=Ede(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Ede(t,e,n){const r=t.field.isKeyField()?wn.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?sg(l,u):Dn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cp(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return aG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _de=new Hi(wn.comparator);function HA(){return _de}const gG=new Hi(wn.comparator);function yv(...t){let e=gG;for(const n of t)e=e.insert(n.key,n);return e}function vG(t){let e=gG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dh(){return Kv()}function yG(){return Kv()}function Kv(){return new r0(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bde=new Hi(wn.comparator),Nde=new js(wn.comparator);function lr(...t){let e=Nde;for(const n of t)e=e.add(n);return e}const jde=new js(jr);function Tde(){return jde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J2(e)?"-0":e}}function bG(t){return{integerValue:""+t}}function Ide(t,e){return ode(e)?bG(e):nD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this._=void 0}}function kde(t,e,n){return t instanceof Gy?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&YP(a)&&(a=XP(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof qy?wG(t,e):t instanceof Yy?CG(t,e):function(i,a){const s=xG(i,a),o=nR(s)+nR(i.Pe);return Pj(s)&&Pj(i.Pe)?bG(o):nD(i.serializer,o)}(t,e)}function Pde(t,e,n){return t instanceof qy?wG(t,e):t instanceof Yy?CG(t,e):n}function xG(t,e){return t instanceof tC?function(r){return Pj(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Gy extends C5{}class qy extends C5{constructor(e){super(),this.elements=e}}function wG(t,e){const n=SG(e);for(const r of t.elements)n.some(i=>Vu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yy extends C5{constructor(e){super(),this.elements=e}}function CG(t,e){let n=SG(e);for(const r of t.elements)n=n.filter(i=>!Vu(i,r));return{arrayValue:{values:n}}}class tC extends C5{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nR(t){return fa(t.integerValue||t.doubleValue)}function SG(t){return JP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(e,n){this.field=e,this.transform=n}}function Ode(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qy&&i instanceof qy||r instanceof Yy&&i instanceof Yy?ag(r.elements,i.elements,Vu):r instanceof tC&&i instanceof tC?Vu(r.Pe,i.Pe):r instanceof Gy&&i instanceof Gy}(t.transform,e.transform)}class Fde{constructor(e,n){this.version=e,this.transformResults=n}}class Bl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bl}static exists(e){return new Bl(void 0,e)}static updateTime(e){return new Bl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xw(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class S5{}function EG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E5(t.key,Bl.none()):new sx(t.key,t.data,Bl.none());{const n=t.data,r=Fo.empty();let i=new js(Es.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new wf(t.key,r,new Sl(i.toArray()),Bl.none())}}function Mde(t,e,n){t instanceof sx?function(i,a,s){const o=i.value.clone(),l=iR(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof wf?function(i,a,s){if(!Xw(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=iR(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(_G(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wv(t,e,n,r){return t instanceof sx?function(a,s,o,l){if(!Xw(a.precondition,s))return o;const u=a.value.clone(),A=aR(a.fieldTransforms,l,s);return u.setAll(A),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wf?function(a,s,o,l){if(!Xw(a.precondition,s))return o;const u=aR(a.fieldTransforms,l,s),A=s.data;return A.setAll(_G(a)),A.setAll(u),s.convertToFoundDocument(s.version,A).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return Xw(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Lde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=xG(r.transform,i||null);a!=null&&(n===null&&(n=Fo.empty()),n.set(r.field,a))}return n||null}function rR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ag(r,i,(a,s)=>Ode(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sx extends S5{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wf extends S5{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _G(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iR(t,e,n){const r=new Map;Kr(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,Pde(s,o,n[i]))}return r}function aR(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,kde(a,s,e))}return r}class E5 extends S5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rde extends S5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Mde(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wv(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wv(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yG();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=EG(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Un.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lr())}isEqual(e){return this.batchId===e.batchId&&ag(this.mutations,e.mutations,(n,r)=>rR(n,r))&&ag(this.baseMutations,e.baseMutations,(n,r)=>rR(n,r))}}class rD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kr(e.mutations.length===r.length);let i=function(){return Bde}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new rD(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qde{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _a,mr;function zde(t){switch(t){default:return Dn();case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0}}function BG(t){if(t===void 0)return QA("GRPC error has no .code"),yt.UNKNOWN;switch(t){case _a.OK:return yt.OK;case _a.CANCELLED:return yt.CANCELLED;case _a.UNKNOWN:return yt.UNKNOWN;case _a.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case _a.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case _a.INTERNAL:return yt.INTERNAL;case _a.UNAVAILABLE:return yt.UNAVAILABLE;case _a.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case _a.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case _a.NOT_FOUND:return yt.NOT_FOUND;case _a.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case _a.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case _a.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case _a.ABORTED:return yt.ABORTED;case _a.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case _a.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case _a.DATA_LOSS:return yt.DATA_LOSS;default:return Dn()}}(mr=_a||(_a={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $de=new Eh([4294967295,4294967295],0);function sR(t){const e=Vde().encode(t),n=new JW;return n.update(e),new Uint8Array(n.digest())}function oR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Eh([n,r],0),new Eh([i,a],0)]}class iD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bv(`Invalid padding: ${n}`);if(r<0)throw new bv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bv(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Eh.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Eh.fromNumber(r)));return i.compare($de)===1&&(i=new Eh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=sR(e),[r,i]=oR(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new iD(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=sR(e),[r,i]=oR(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ox.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _5(Un.min(),i,new Hi(jr),HA(),lr())}}class ox{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ox(r,n,lr(),lr(),lr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NG{constructor(e,n){this.targetId=e,this.me=n}}class jG{constructor(e,n,r=ks.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lR{constructor(){this.fe=0,this.ge=uR(),this.pe=ks.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=lr(),n=lr(),r=lr();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dn()}}),new ox(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=uR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kde{constructor(e){this.Le=e,this.Be=new Map,this.ke=HA(),this.qe=cR(),this.Qe=new Hi(jr)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Dn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Oj(a))if(r===0){const s=new wn(a.path);this.Ue(n,s,no.newNoDocument(s,Un.min()))}else Kr(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Vh(r).toUint8Array()}catch(l){if(l instanceof sG)return zy("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new iD(s,i,a)}catch(l){return zy(l instanceof bv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&Oj(o.target)){const l=new wn(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,no.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=lr();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new _5(e,n,this.Qe,this.ke,r);return this.ke=HA(),this.qe=cR(),this.Qe=new Hi(jr),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lR,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new js(jr),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||un("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cR(){return new Hi(wn.comparator)}function uR(){return new Hi(wn.comparator)}const Wde={asc:"ASCENDING",desc:"DESCENDING"},Gde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qde={and:"AND",or:"OR"};class Yde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lj(t,e){return t.useProto3Json||b5(e)?e:{value:e}}function nC(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xde(t,e){return nC(t,e.toTimestamp())}function Ru(t){return Kr(!!t),Un.fromTimestamp(function(n){const r=uf(n);return new Ia(r.seconds,r.nanos)}(t))}function aD(t,e){return Rj(t,e).canonicalString()}function Rj(t,e){const n=function(i){return new Si(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IG(t){const e=Si.fromString(t);return Kr(FG(e)),e}function Uj(t,e){return aD(t.databaseId,e.path)}function cB(t,e){const n=IG(e);if(n.get(1)!==t.databaseId.projectId)throw new an(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new an(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wn(PG(n))}function kG(t,e){return aD(t.databaseId,e)}function Jde(t){const e=IG(t);return e.length===4?Si.emptyPath():PG(e)}function Qj(t){return new Si(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PG(t){return Kr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AR(t,e,n){return{name:Uj(t,e),fields:n.value.mapValue.fields}}function Zde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Dn()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,A){return u.useProto3Json?(Kr(A===void 0||typeof A=="string"),ks.fromBase64String(A||"")):(Kr(A===void 0||A instanceof Buffer||A instanceof Uint8Array),ks.fromUint8Array(A||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const A=u.code===void 0?yt.UNKNOWN:BG(u.code);return new an(A,u.message||"")}(s);n=new jG(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cB(t,r.document.name),a=Ru(r.document.updateTime),s=r.document.createTime?Ru(r.document.createTime):Un.min(),o=new Fo({mapValue:{fields:r.document.fields}}),l=no.newFoundDocument(i,a,s,o),u=r.targetIds||[],A=r.removedTargetIds||[];n=new Jw(u,A,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cB(t,r.document),a=r.readTime?Ru(r.readTime):Un.min(),s=no.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Jw([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cB(t,r.document),a=r.removedTargetIds||[];n=new Jw([],a,i,null)}else{if(!("filter"in e))return Dn();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Hde(i,a),o=r.targetId;n=new NG(o,s)}}return n}function efe(t,e){let n;if(e instanceof sx)n={update:AR(t,e.key,e.value)};else if(e instanceof E5)n={delete:Uj(t,e.key)};else if(e instanceof wf)n={update:AR(t,e.key,e.data),updateMask:cfe(e.fieldMask)};else{if(!(e instanceof Rde))return Dn();n={verify:Uj(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Gy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Yy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tC)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Dn()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Xde(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Dn()}(t,e.precondition)),n}function tfe(t,e){return t&&t.length>0?(Kr(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Ru(i.updateTime):Ru(a);return s.isEqual(Un.min())&&(s=Ru(a)),new Fde(s,i.transformResults||[])}(n,e))):[]}function nfe(t,e){return{documents:[kG(t,e.path)]}}function rfe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kG(t,i);const a=function(u){if(u.length!==0)return OG(ru.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(A=>function(f){return{field:Wp(f.field),direction:sfe(f.dir)}}(A))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Lj(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function ife(t){let e=Jde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kr(r===1);const A=n.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let a=[];n.where&&(a=function(d){const f=DG(d);return f instanceof ru&&uG(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new eC(Gp(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,b5(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new Z2(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new Z2(h,f)}(n.endAt)),wde(e,i,s,a,o,"F",l,u)}function afe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dn()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DG(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gp(n.unaryFilter.field);return Ta.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gp(n.unaryFilter.field);return Ta.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gp(n.unaryFilter.field);return Ta.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gp(n.unaryFilter.field);return Ta.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}(t):t.fieldFilter!==void 0?function(n){return Ta.create(Gp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ru.create(n.compositeFilter.filters.map(r=>DG(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dn()}}(n.compositeFilter.op))}(t):Dn()}function sfe(t){return Wde[t]}function ofe(t){return Gde[t]}function lfe(t){return qde[t]}function Wp(t){return{fieldPath:t.canonicalString()}}function Gp(t){return Es.fromServerFormat(t.fieldPath)}function OG(t){return t instanceof Ta?function(n){if(n.op==="=="){if(XL(n.value))return{unaryFilter:{field:Wp(n.field),op:"IS_NAN"}};if(YL(n.value))return{unaryFilter:{field:Wp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XL(n.value))return{unaryFilter:{field:Wp(n.field),op:"IS_NOT_NAN"}};if(YL(n.value))return{unaryFilter:{field:Wp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wp(n.field),op:ofe(n.op),value:n.value}}}(t):t instanceof ru?function(n){const r=n.getFilters().map(i=>OG(i));return r.length===1?r[0]:{compositeFilter:{op:lfe(n.op),filters:r}}}(t):Dn()}function cfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FG(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,i,a=Un.min(),s=Un.min(),o=ks.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(e){this.ct=e}}function Afe(t){const e=ife({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mj(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(){this.un=new ffe}addToCollectionParentIndex(e,n){return this.un.add(n),Nt.resolve()}getCollectionParents(e,n){return Nt.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Nt.resolve()}deleteFieldIndex(e,n){return Nt.resolve()}deleteAllFieldIndexes(e){return Nt.resolve()}createTargetIndexes(e,n){return Nt.resolve()}getDocumentsMatchingTarget(e,n){return Nt.resolve(null)}getIndexType(e,n){return Nt.resolve(0)}getFieldIndexes(e,n){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,n){return Nt.resolve(cf.min())}getMinOffsetFromCollectionGroup(e,n){return Nt.resolve(cf.min())}updateCollectionGroup(e,n,r){return Nt.resolve()}updateIndexEntries(e,n){return Nt.resolve()}}class ffe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new js(Si.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new js(Si.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lg(0)}static kn(){return new lg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(){this.changes=new r0(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,no.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Nt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wv(r.mutation,i,Sl.empty(),Ia.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lr()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lr()){const i=dh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=yv();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=dh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lr()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=HA();const s=Kv(),o=function(){return Kv()}();return n.forEach((l,u)=>{const A=r.get(u.key);i.has(u.key)&&(A===void 0||A.mutation instanceof wf)?a=a.insert(u.key,u):A!==void 0?(s.set(u.key,A.mutation.getFieldMask()),Wv(A.mutation,u,A.mutation.getFieldMask(),Ia.now())):s.set(u.key,Sl.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,A)=>s.set(u,A)),n.forEach((u,A)=>{var d;return o.set(u,new pfe(A,(d=s.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Kv();let i=new Hi((s,o)=>s-o),a=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let A=r.get(l)||Sl.empty();A=o.applyToLocalView(u,A),r.set(l,A);const d=(i.get(o.batchId)||lr()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,A=l.value,d=yG();A.forEach(f=>{if(!a.has(f)){const h=EG(n.get(f),r.get(f));h!==null&&d.set(f,h),a=a.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Nt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return wn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Nt.resolve(dh());let o=-1,l=a;return s.next(u=>Nt.forEach(u,(A,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(A)?Nt.resolve():this.remoteDocumentCache.getEntry(e,A).next(f=>{l=l.insert(A,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,lr())).next(A=>({batchId:o,changes:vG(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wn(n)).next(r=>{let i=yv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=yv();return this.indexManager.getCollectionParents(e,a).next(o=>Nt.forEach(o,l=>{const u=function(d,f){return new ax(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(A=>{A.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const A=u.getKey();s.get(A)===null&&(s=s.insert(A,no.newInvalidDocument(A)))});let o=yv();return s.forEach((l,u)=>{const A=a.get(l);A!==void 0&&Wv(A.mutation,u,Sl.empty(),Ia.now()),w5(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Nt.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ru(i.createTime)}}(n)),Nt.resolve()}getNamedQuery(e,n){return Nt.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Afe(i.bundledQuery),readTime:Ru(i.readTime)}}(n)),Nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(){this.overlays=new Hi(wn.comparator),this.Ir=new Map}getOverlay(e,n){return Nt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dh();return Nt.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),Nt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Nt.resolve()}getOverlaysForCollection(e,n,r){const i=dh(),a=n.length+1,s=new wn(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Nt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Hi((u,A)=>u-A);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let A=a.get(u.largestBatchId);A===null&&(A=dh(),a=a.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const o=dh(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,A)=>o.set(u,A)),!(o.size()>=i)););return Nt.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Qde(n,r));let a=this.Ir.get(n);a===void 0&&(a=lr(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(){this.sessionToken=ks.EMPTY_BYTE_STRING}getSessionToken(e){return Nt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Tr=new js(ns.Er),this.dr=new js(ns.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ns(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ns(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new wn(new Si([])),r=new ns(n,e),i=new ns(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new wn(new Si([])),r=new ns(n,e),i=new ns(n,e+1);let a=lr();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new ns(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ns{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return wn.comparator(e.key,n.key)||jr(e.wr,n.wr)}static Ar(e,n){return jr(e.wr,n.wr)||wn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new js(ns.Er)}checkEmpty(e){return Nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ude(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new ns(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Nt.resolve(s)}lookupMutationBatch(e,n){return Nt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Nt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ns(n,0),i=new ns(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),Nt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new js(jr);return n.forEach(i=>{const a=new ns(i,0),s=new ns(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),Nt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;wn.isDocumentKey(a)||(a=a.child(""));const s=new ns(new wn(a),0);let o=new js(jr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),Nt.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kr(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Nt.forEach(n.mutations,i=>{const a=new ns(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ns(n,0),i=this.br.firstAfterOrEqual(r);return Nt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Nt.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(e){this.Mr=e,this.docs=function(){return new Hi(wn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Nt.resolve(r?r.document.mutableCopy():no.newInvalidDocument(n))}getEntries(e,n){let r=HA();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():no.newInvalidDocument(i))}),Nt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=HA();const s=n.path,o=new wn(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:A}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||rde(nde(A),r)<=0||(i.has(A.key)||w5(n,A))&&(a=a.insert(A.key,A.mutableCopy()))}return Nt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Dn()}Or(e,n){return Nt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wfe(this)}getSize(e){return Nt.resolve(this.size)}}class wfe extends hfe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Nt.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e){this.persistence=e,this.Nr=new r0(n=>ZP(n),eD),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sD,this.targetCount=0,this.kr=lg.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Nt.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new lg(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Nt.resolve()}updateTargetData(e,n){return this.Kn(n),Nt.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Nt.waitFor(a).next(()=>i)}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Nt.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Nt.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Nt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Nt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Nt.resolve(r)}containsKey(e,n){return Nt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qP(0),this.Kr=!1,this.Kr=!0,this.$r=new yfe,this.referenceDelegate=e(this),this.Ur=new Cfe(this),this.indexManager=new dfe,this.remoteDocumentCache=function(i){return new xfe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ufe(n),this.Gr=new gfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bfe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){un("MemoryPersistence","Starting transaction:",e);const i=new Efe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return Nt.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Efe extends ade{constructor(e){super(),this.currentSequenceNumber=e}}class oD{constructor(e){this.persistence=e,this.Jr=new sD,this.Yr=null}static Zr(e){return new oD(e)}get Xr(){if(this.Yr)return this.Yr;throw Dn()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Nt.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Nt.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Nt.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Xr,r=>{const i=wn.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Un.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Nt.or([()=>Nt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=lr(),i=lr();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lD(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vce()?8:sde(Go())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new _fe;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($0()<=dr.DEBUG&&un("QueryEngine","SDK will not create cache indexes for query:",Kp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Nt.resolve()):($0()<=dr.DEBUG&&un("QueryEngine","Query:",Kp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($0()<=dr.DEBUG&&un("QueryEngine","The SDK decides to create cache indexes for query:",Kp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lu(n))):Nt.resolve())}Yi(e,n){if(tR(n))return Nt.resolve(null);let r=Lu(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mj(n,null,"F"),r=Lu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=lr(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,s,l.readTime)?this.Yi(e,Mj(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return tR(n)||i.isEqual(Un.min())?Nt.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?Nt.resolve(null):($0()<=dr.DEBUG&&un("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kp(n)),this.rs(e,s,n,tde(i,-1)).next(o=>o))})}ts(e,n){let r=new js(mG(e));return n.forEach((i,a)=>{w5(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return $0()<=dr.DEBUG&&un("QueryEngine","Using full collection scan to execute query:",Kp(n)),this.Ji.getDocumentsMatchingQuery(e,n,cf.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Hi(jr),this._s=new r0(a=>ZP(a),eD),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mfe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jfe(t,e,n,r){return new Nfe(t,e,n,r)}async function MG(t,e){const n=Qn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=lr();for(const u of i){s.push(u.batchId);for(const A of u.mutations)l=l.add(A.key)}for(const u of a){o.push(u.batchId);for(const A of u.mutations)l=l.add(A.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function Tfe(t,e){const n=Qn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,A){const d=u.batch,f=d.keys();let h=Nt.resolve();return f.forEach(p=>{h=h.next(()=>A.getEntry(l,p)).next(m=>{const v=u.docVersions.get(p);Kr(v!==null),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),A.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=lr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LG(t){const e=Qn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ife(t,e){const n=Qn(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((A,d)=>{const f=i.get(d);if(!f)return;o.push(n.Ur.removeMatchingKeys(a,A.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,A.addedDocuments,d)));let h=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(ks.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):A.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(A.resumeToken,r)),i=i.insert(d,h),function(m,v,g){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,A)&&o.push(n.Ur.updateTargetData(a,h))});let l=HA(),u=lr();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,A))}),o.push(kfe(a,s,e.documentUpdates).next(A=>{l=A.Ps,u=A.Is})),!r.isEqual(Un.min())){const A=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(A)}return Nt.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function kfe(t,e,n){let r=lr(),i=lr();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=HA();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Un.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):un("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Pfe(t,e){const n=Qn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dfe(t,e){const n=Qn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,Nt.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Od(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Hj(t,e,n){const r=Qn(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ix(s))throw s;un("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function dR(t,e,n){const r=Qn(t);let i=Un.min(),a=lr();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,A){const d=Qn(l),f=d._s.get(A);return f!==void 0?Nt.resolve(d.os.get(f)):d.Ur.getTargetData(u,A)}(r,s,Lu(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Un.min(),n?a:lr())).next(o=>(Ofe(r,Sde(e),o),{documents:o,Ts:a})))}function Ofe(t,e,n){let r=t.us.get(e)||Un.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class fR{constructor(){this.activeTargetIds=Tde()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ffe{constructor(){this.so=new fR,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1=null;function uB(){return C1===null?C1=function(){return 268435456+Math.round(2147483648*Math.random())}():C1++,"0x"+C1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="WebChannelConnection";class Ufe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=uB(),l=this.xo(n,r.toUriEncodedString());un("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(n,l,u,i).then(A=>(un("RestConnection",`Received RPC '${n}' ${o}: `,A),A),A=>{throw zy("RestConnection",`RPC '${n}' ${o} failed with error: `,A,"url: ",l,"request:",i),A})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+n0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=Lfe[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=uB();return new Promise((s,o)=>{const l=new ZW;l.setWithCredentials(!0),l.listenOnce(eG.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qw.NO_ERROR:const A=l.getResponseJson();un(Vs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(A)),s(A);break;case qw.TIMEOUT:un(Vs,`RPC '${e}' ${a} timed out`),o(new an(yt.DEADLINE_EXCEEDED,"Request time out"));break;case qw.HTTP_ERROR:const d=l.getStatus();if(un(Vs,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(g)>=0?g:yt.UNKNOWN}(h.status);o(new an(p,h.message))}else o(new an(yt.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new an(yt.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{un(Vs,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);un(Vs,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=uB(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rG(),o=nG(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const A=a.join("");un(Vs,`Creating RPC '${e}' stream ${i}: ${A}`,l);const d=s.createWebChannel(A,l);let f=!1,h=!1;const p=new Rfe({Io:v=>{h?un(Vs,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(un(Vs,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),un(Vs,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),m=(v,g,y)=>{v.listen(g,b=>{try{y(b)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,vv.EventType.OPEN,()=>{h||(un(Vs,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),m(d,vv.EventType.CLOSE,()=>{h||(h=!0,un(Vs,`RPC '${e}' stream ${i} transport closed`),p.So())}),m(d,vv.EventType.ERROR,v=>{h||(h=!0,zy(Vs,`RPC '${e}' stream ${i} transport errored:`,v),p.So(new an(yt.UNAVAILABLE,"The operation could not be completed")))}),m(d,vv.EventType.MESSAGE,v=>{var g;if(!h){const y=v.data[0];Kr(!!y);const b=y,C=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(C){un(Vs,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let N=function(j){const D=_a[j];if(D!==void 0)return BG(D)}(E),_=C.message;N===void 0&&(N=yt.INTERNAL,_="Unknown error status: "+E+" with message "+C.message),h=!0,p.So(new an(N,_)),d.close()}else un(Vs,`RPC '${e}' stream ${i} received:`,y),p.bo(y)}}),m(o,tG.STAT_EVENT,v=>{v.stat===Ij.PROXY?un(Vs,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Ij.NOPROXY&&un(Vs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function AB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){return new Yde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&un("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RG(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===yt.RESOURCE_EXHAUSTED?(QA(n.toString()),QA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new an(yt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qfe extends UG{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Zde(this.serializer,e),r=function(a){if(!("targetChange"in a))return Un.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Un.min():s.readTime?Ru(s.readTime):Un.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qj(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Oj(l)?{documents:nfe(a,l)}:{query:rfe(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=TG(a,s.resumeToken);const u=Lj(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Un.min())>0){o.readTime=nC(a,s.snapshotVersion.toTimestamp());const u=Lj(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=afe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qj(this.serializer),n.removeTarget=e,this.a_(n)}}class Hfe extends UG{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Kr(!!e.streamToken),this.lastStreamToken=e.streamToken,Kr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=tfe(e.writeResults,e.commitTime),r=Ru(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qj(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>efe(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new an(yt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,Rj(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new an(yt.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,Rj(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new an(yt.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Vfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(QA(n),this.D_=!1):un("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{up(this)&&(un("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Qn(l);u.L_.add(4),await lx(u),u.q_.set("Unknown"),u.L_.delete(4),await N5(u)}(this))})}),this.q_=new Vfe(r,i)}}async function N5(t){if(up(t))for(const e of t.B_)await e(!0)}async function lx(t){for(const e of t.B_)await e(!1)}function QG(t,e){const n=Qn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dD(n)?AD(n):i0(n).r_()&&uD(n,e))}function cD(t,e){const n=Qn(t),r=i0(n);n.N_.delete(e),r.r_()&&HG(n,e),n.N_.size===0&&(r.r_()?r.o_():up(n)&&n.q_.set("Unknown"))}function uD(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Un.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}i0(t).A_(e)}function HG(t,e){t.Q_.xe(e),i0(t).R_(e)}function AD(t){t.Q_=new Kde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),i0(t).start(),t.q_.v_()}function dD(t){return up(t)&&!i0(t).n_()&&t.N_.size>0}function up(t){return Qn(t).L_.size===0}function zG(t){t.Q_=void 0}async function Kfe(t){t.q_.set("Online")}async function Wfe(t){t.N_.forEach((e,n)=>{uD(t,e)})}async function Gfe(t,e){zG(t),dD(t)?(t.q_.M_(e),AD(t)):t.q_.set("Unknown")}async function qfe(t,e,n){if(t.q_.set("Online"),e instanceof jG&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rC(t,r)}else if(e instanceof Jw?t.Q_.Ke(e):e instanceof NG?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Un.min()))try{const r=await LG(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const A=a.N_.get(u);A&&a.N_.set(u,A.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const A=a.N_.get(l);if(!A)return;a.N_.set(l,A.withResumeToken(ks.EMPTY_BYTE_STRING,A.snapshotVersion)),HG(a,l);const d=new Od(A.target,l,u,A.sequenceNumber);uD(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){un("RemoteStore","Failed to raise snapshot:",r),await rC(t,r)}}async function rC(t,e,n){if(!ix(e))throw e;t.L_.add(1),await lx(t),t.q_.set("Offline"),n||(n=()=>LG(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{un("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await N5(t)})}function VG(t,e){return e().catch(n=>rC(t,n,e))}async function j5(t){const e=Qn(t),n=Af(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Yfe(e);)try{const i=await Pfe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Xfe(e,i)}catch(i){await rC(e,i)}$G(e)&&KG(e)}function Yfe(t){return up(t)&&t.O_.length<10}function Xfe(t,e){t.O_.push(e);const n=Af(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $G(t){return up(t)&&!Af(t).n_()&&t.O_.length>0}function KG(t){Af(t).start()}async function Jfe(t){Af(t).p_()}async function Zfe(t){const e=Af(t);for(const n of t.O_)e.m_(n.mutations)}async function ehe(t,e,n){const r=t.O_.shift(),i=rD.from(r,e,n);await VG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await j5(t)}async function the(t,e){e&&Af(t).V_&&await async function(r,i){if(function(s){return zde(s)&&s!==yt.ABORTED}(i.code)){const a=r.O_.shift();Af(r).s_(),await VG(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await j5(r)}}(t,e),$G(t)&&KG(t)}async function pR(t,e){const n=Qn(t);n.asyncQueue.verifyOperationInProgress(),un("RemoteStore","RemoteStore received new credentials");const r=up(n);n.L_.add(3),await lx(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await N5(n)}async function nhe(t,e){const n=Qn(t);e?(n.L_.delete(2),await N5(n)):e||(n.L_.add(2),await lx(n),n.q_.set("Unknown"))}function i0(t){return t.K_||(t.K_=function(n,r,i){const a=Qn(n);return a.w_(),new Qfe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Kfe.bind(null,t),Ro:Wfe.bind(null,t),mo:Gfe.bind(null,t),d_:qfe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dD(t)?AD(t):t.q_.set("Unknown")):(await t.K_.stop(),zG(t))})),t.K_}function Af(t){return t.U_||(t.U_=function(n,r,i){const a=Qn(n);return a.w_(),new Hfe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jfe.bind(null,t),mo:the.bind(null,t),f_:Zfe.bind(null,t),g_:ehe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await j5(t)):(await t.U_.stop(),t.O_.length>0&&(un("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _h,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new fD(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new an(yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hD(t,e){if(QA("AsyncQueue",`${e}: ${t}`),ix(t))return new an(yt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||wn.comparator(n.key,r.key):(n,r)=>wn.comparator(n.key,r.key),this.keyedMap=yv(),this.sortedSet=new Hi(this.comparator)}static emptySet(e){return new Fm(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.W_=new Hi(wn.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Dn():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cg{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new cg(e,n,Fm.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ihe{constructor(){this.queries=gR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Qn(n),a=i.queries;i.queries=gR(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new an(yt.ABORTED,"Firestore shutting down"))}}function gR(){return new r0(t=>pG(t),x5)}async function ahe(t,e){const n=Qn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new rhe,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=hD(s,`Initialization of query '${Kp(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&pD(n)}async function she(t,e){const n=Qn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ohe(t,e){const n=Qn(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&pD(n)}function lhe(t,e,n){const r=Qn(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function pD(t){t.Y_.forEach(e=>{e.next()})}var zj,vR;(vR=zj||(zj={})).ea="default",vR.Cache="cache";class che{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.key=e}}class GG{constructor(e){this.key=e}}class uhe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=lr(),this.mutatedKeys=lr(),this.Aa=mG(e),this.Ra=new Fm(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new mR,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,d)=>{const f=i.get(A),h=w5(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),v=!0):this.ga(f,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(o=!0)):!f&&h?(r.track({type:0,doc:h}),v=!0):f&&!h&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(h?(s=s.add(h),a=m?a.add(A):a.delete(A)):(s=s.delete(A),a=a.delete(A)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const A=this.query.limitType==="F"?s.last():s.first();s=s.delete(A.key),a=a.delete(A.key),r.track({type:1,doc:A})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((A,d)=>function(h,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return m(h)-m(p)}(A.type,d.type)||this.Aa(A.doc,d.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new cg(this.query,e.Ra,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=lr(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new GG(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WG(r))}),n}ba(e){this.Ta=e.Ts,this.da=lr();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ahe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dhe{constructor(e){this.key=e,this.va=!1}}class fhe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new r0(o=>pG(o),x5),this.Ma=new Map,this.xa=new Set,this.Oa=new Hi(wn.comparator),this.Na=new Map,this.La=new sD,this.Ba={},this.ka=new Map,this.qa=lg.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hhe(t,e,n=!0){const r=eq(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await qG(r,e,n,!0),i}async function phe(t,e){const n=eq(t);await qG(n,e,!0,!1)}async function qG(t,e,n,r){const i=await Dfe(t.localStore,Lu(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await mhe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QG(t.remoteStore,i),o}async function mhe(t,e,n,r,i){t.Ka=(d,f,h)=>async function(m,v,g,y){let b=v.view.ma(g);b.ns&&(b=await dR(m.localStore,v.query,!1).then(({documents:_})=>v.view.ma(_,b)));const C=y&&y.targetChanges.get(v.targetId),E=y&&y.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(b,m.isPrimaryClient,C,E);return bR(m,v.targetId,N.wa),N.snapshot}(t,d,f,h);const a=await dR(t.localStore,e,!0),s=new uhe(e,a.Ts),o=s.ma(a.documents),l=ox.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);bR(t,n,u.wa);const A=new Ahe(e,n,s);return t.Fa.set(e,A),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function ghe(t,e,n){const r=Qn(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!x5(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hj(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cD(r.remoteStore,i.targetId),Vj(r,i.targetId)}).catch(rx)):(Vj(r,i.targetId),await Hj(r.localStore,i.targetId,!0))}async function vhe(t,e){const n=Qn(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cD(n.remoteStore,r.targetId))}async function yhe(t,e,n){const r=_he(t);try{const i=await function(s,o){const l=Qn(s),u=Ia.now(),A=o.reduce((h,p)=>h.add(p.key),lr());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=HA(),m=lr();return l.cs.getEntries(h,A).next(v=>{p=v,p.forEach((g,y)=>{y.isValidDocument()||(m=m.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(v=>{d=v;const g=[];for(const y of o){const b=Lde(y,d.get(y.key).overlayedDocument);b!=null&&g.push(new wf(y.key,b,oG(b.value.mapValue),Bl.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,o)}).next(v=>{f=v;const g=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,g)})}).then(()=>({batchId:f.batchId,changes:vG(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Hi(jr)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await cx(r,i.changes),await j5(r.remoteStore)}catch(i){const a=hD(i,"Failed to persist write");n.reject(a)}}async function YG(t,e){const n=Qn(t);try{const r=await Ife(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(Kr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Kr(s.va):i.removedDocuments.size>0&&(Kr(s.va),s.va=!1))}),await cx(n,r,e)}catch(r){await rx(r)}}function yR(t,e,n){const r=Qn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Qn(s);l.onlineState=o;let u=!1;l.queries.forEach((A,d)=>{for(const f of d.j_)f.Z_(o)&&(u=!0)}),u&&pD(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bhe(t,e,n){const r=Qn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new Hi(wn.comparator);s=s.insert(a,no.newNoDocument(a,Un.min()));const o=lr().add(a),l=new _5(Un.min(),new Map,new Hi(jr),s,o);await YG(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),mD(r)}else await Hj(r.localStore,e,!1).then(()=>Vj(r,e,n)).catch(rx)}async function xhe(t,e){const n=Qn(t),r=e.batch.batchId;try{const i=await Tfe(n.localStore,e);JG(n,r,null),XG(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cx(n,i)}catch(i){await rx(i)}}async function whe(t,e,n){const r=Qn(t);try{const i=await function(s,o){const l=Qn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Kr(d!==null),A=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,A,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>l.localDocuments.getDocuments(u,A))})}(r.localStore,e);JG(r,e,n),XG(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cx(r,i)}catch(i){await rx(i)}}function XG(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function JG(t,e,n){const r=Qn(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vj(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ZG(t,r)})}function ZG(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(cD(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),mD(t))}function bR(t,e,n){for(const r of n)r instanceof WG?(t.La.addReference(r.key,e),Che(t,r)):r instanceof GG?(un("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ZG(t,r.key)):Dn()}function Che(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(un("SyncEngine","New document in limbo: "+n),t.xa.add(r),mD(t))}function mD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new wn(Si.fromString(e)),r=t.qa.next();t.Na.set(r,new dhe(n)),t.Oa=t.Oa.insert(n,r),QG(t.remoteStore,new Od(Lu(tD(n.path)),r,"TargetPurposeLimboResolution",qP.oe))}}async function cx(t,e,n){const r=Qn(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(u=>{var A;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(A=n==null?void 0:n.targetChanges.get(l.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=lD.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const A=Qn(l);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Nt.forEach(u,f=>Nt.forEach(f.$i,h=>A.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>Nt.forEach(f.Ui,h=>A.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!ix(d))throw d;un("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=A.os.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);A.os=A.os.insert(f,m)}}}(r.localStore,a))}async function She(t,e){const n=Qn(t);if(!n.currentUser.isEqual(e)){un("SyncEngine","User change. New user:",e.toKey());const r=await MG(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new an(yt.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cx(n,r.hs)}}function Ehe(t,e){const n=Qn(t),r=n.Na.get(e);if(r&&r.va)return lr().add(r.key);{let i=lr();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function eq(t){const e=Qn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ehe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bhe.bind(null,e),e.Ca.d_=ohe.bind(null,e.eventManager),e.Ca.$a=lhe.bind(null,e.eventManager),e}function _he(t){const e=Qn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=whe.bind(null,e),e}class iC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=B5(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jfe(this.persistence,new Bfe,e.initialUser,this.serializer)}Ga(e){return new Sfe(oD.Zr,this.serializer)}Wa(e){return new Ffe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iC.provider={build:()=>new iC};class $j{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=She.bind(null,this.syncEngine),await nhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ihe}()}createDatastore(e){const n=B5(e.databaseInfo.databaseId),r=function(a){return new Ufe(a)}(e.databaseInfo);return function(a,s,o,l){return new zfe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new $fe(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>yR(this.syncEngine,n,0),function(){return hR.D()?new hR:new Mfe}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,A){const d=new fhe(i,a,s,o,l,u);return A&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Qn(i);un("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await lx(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$j.provider={build:()=>new $j};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bhe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):QA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nhe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ko.UNAUTHENTICATED,this.clientId=iG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{un("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(un("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _h;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dB(t,e){t.asyncQueue.verifyOperationInProgress(),un("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MG(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jhe(t);un("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pR(e.remoteStore,i)),t._onlineComponents=e}async function jhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){un("FirestoreClient","Using user provided OfflineComponentProvider");try{await dB(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===yt.FAILED_PRECONDITION||i.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zy("Error using user provided cache. Falling back to memory cache: "+n),await dB(t,new iC)}}else un("FirestoreClient","Using default OfflineComponentProvider"),await dB(t,new iC);return t._offlineComponents}async function tq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(un("FirestoreClient","Using user provided OnlineComponentProvider"),await xR(t,t._uninitializedComponentsProvider._online)):(un("FirestoreClient","Using default OnlineComponentProvider"),await xR(t,new $j))),t._onlineComponents}function The(t){return tq(t).then(e=>e.syncEngine)}async function wR(t){const e=await tq(t),n=e.eventManager;return n.onListen=hhe.bind(null,e.syncEngine),n.onUnlisten=ghe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=phe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vhe.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t,e,n){if(!n)throw new an(yt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ihe(t,e,n,r){if(e===!0&&r===!0)throw new an(yt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SR(t){if(!wn.isDocumentKey(t))throw new an(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ER(t){if(wn.isDocumentKey(t))throw new an(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dn()}function Bh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new an(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=T5(t);throw new an(yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new an(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new an(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ihe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new an(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new an(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new an(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gD{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _R({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new an(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new an(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _R(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WAe;switch(r.type){case"firstParty":return new YAe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new an(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CR.get(n);r&&(un("ComponentProvider","Removing Datastore"),CR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new a0(this.firestore,e,this._query)}}class Vo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vo(this.firestore,e,this._key)}}class tf extends a0{constructor(e,n,r){super(e,n,tD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vo(this.firestore,null,new wn(e))}withConverter(e){return new tf(this.firestore,e,this._path)}}function khe(t,e,...n){if(t=Is(t),rq("collection","path",e),t instanceof gD){const r=Si.fromString(e,...n);return ER(r),new tf(t,null,r)}{if(!(t instanceof Vo||t instanceof tf))throw new an(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Si.fromString(e,...n));return ER(r),new tf(t.firestore,null,r)}}function Va(t,e,...n){if(t=Is(t),arguments.length===1&&(e=iG.newId()),rq("doc","path",e),t instanceof gD){const r=Si.fromString(e,...n);return SR(r),new Vo(t,null,new wn(r))}{if(!(t instanceof Vo||t instanceof tf))throw new an(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Si.fromString(e,...n));return SR(r),new Vo(t.firestore,t instanceof tf?t.converter:null,new wn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RG(this,"async_queue_retry"),this.Vu=()=>{const r=AB();r&&un("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=AB();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=AB();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new _h;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ix(e))throw e;un("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw QA("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fD.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Dn()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function NR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ug extends gD{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BR(e),this._firestoreClient=void 0,await e}}}function Phe(t,e,n){n||(n="(default)");const r=TW(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Ry(a,e))return i;throw new an(yt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new an(yt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new an(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function vD(t){if(t._terminated)throw new an(yt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Dhe(t),t._firestoreClient}function Dhe(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,u,A){return new cde(o,l,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,nq(A.experimentalLongPollingOptions),A.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Nhe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ag(ks.fromBase64String(e))}catch(n){throw new an(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ag(ks.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new an(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Es(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new an(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new an(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jr(this._lat,e._lat)||jr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=/^__.*__$/;class Fhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wf(e,this.data,this.fieldMask,n,this.fieldTransforms):new sx(e,this.data,n,this.fieldTransforms)}}class iq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class xD{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return aC(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aq(this.Cu)&&Ohe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Mhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||B5(e)}Qu(e,n,r,i=!1){return new xD({Cu:e,methodName:n,qu:r,path:Es.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wD(t){const e=t._freezeSettings(),n=B5(t._databaseId);return new Mhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sq(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);SD("Data must be an object, but it was:",s,r);const o=oq(r,s);let l,u;if(a.merge)l=new Sl(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const A=[];for(const d of a.mergeFields){const f=Kj(e,d,n);if(!s.contains(f))throw new an(yt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cq(A,f)||A.push(f)}l=new Sl(A),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Fhe(new Fo(o),l,u)}class P5 extends k5{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P5}}class CD extends k5{_toFieldTransform(e){return new Dde(e.path,new Gy)}isEqual(e){return e instanceof CD}}function Lhe(t,e,n,r){const i=t.Qu(1,e,n);SD("Data must be an object, but it was:",i,r);const a=[],s=Fo.empty();cp(r,(l,u)=>{const A=ED(e,l,n);u=Is(u);const d=i.Nu(A);if(u instanceof P5)a.push(A);else{const f=ux(u,d);f!=null&&(a.push(A),s.set(A,f))}});const o=new Sl(a);return new iq(s,o,i.fieldTransforms)}function Rhe(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[Kj(e,r,n)],l=[i];if(a.length%2!=0)throw new an(yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)o.push(Kj(e,a[f])),l.push(a[f+1]);const u=[],A=Fo.empty();for(let f=o.length-1;f>=0;--f)if(!cq(u,o[f])){const h=o[f];let p=l[f];p=Is(p);const m=s.Nu(h);if(p instanceof P5)u.push(h);else{const v=ux(p,m);v!=null&&(u.push(h),A.set(h,v))}}const d=new Sl(u);return new iq(A,d,s.fieldTransforms)}function Uhe(t,e,n,r=!1){return ux(n,t.Qu(r?4:3,e))}function ux(t,e){if(lq(t=Is(t)))return SD("Unsupported field value:",e,t),oq(t,e);if(t instanceof k5)return function(r,i){if(!aq(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=ux(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Is(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ide(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ia.fromDate(r);return{timestampValue:nC(i.serializer,a)}}if(r instanceof Ia){const a=new Ia(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nC(i.serializer,a)}}if(r instanceof yD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ag)return{bytesValue:TG(i.serializer,r._byteString)};if(r instanceof Vo){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:aD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bD)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return nD(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${T5(r)}`)}(t,e)}function oq(t,e){const n={};return aG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cp(t,(r,i)=>{const a=ux(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function lq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ia||t instanceof yD||t instanceof Ag||t instanceof Vo||t instanceof k5||t instanceof bD)}function SD(t,e,n){if(!lq(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=T5(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Kj(t,e,n){if((e=Is(e))instanceof I5)return e._internalPath;if(typeof e=="string")return ED(t,e);throw aC("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qhe=new RegExp("[~\\*/\\[\\]]");function ED(t,e,n){if(e.search(Qhe)>=0)throw aC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I5(...e.split("."))._internalPath}catch{throw aC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function aC(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new an(yt.INVALID_ARGUMENT,o+t+l)}function cq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_D("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Hhe extends uq{data(){return super.data()}}function _D(t,e){return typeof e=="string"?ED(t,e):e instanceof I5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zhe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new an(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BD{}class Vhe extends BD{}function $he(t,e,...n){let r=[];e instanceof BD&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof ND).length,o=a.filter(l=>l instanceof D5).length;if(s>1||s>0&&o>0)throw new an(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class D5 extends Vhe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new D5(e,n,r)}_apply(e){const n=this._parse(e);return Aq(e._query,n),new a0(e.firestore,e.converter,Fj(e._query,n))}_parse(e){const n=wD(e.firestore);return function(a,s,o,l,u,A,d){let f;if(u.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new an(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){TR(d,A);const h=[];for(const p of d)h.push(jR(l,a,p));f={arrayValue:{values:h}}}else f=jR(l,a,d)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||TR(d,A),f=Uhe(o,s,d,A==="in"||A==="not-in");return Ta.create(u,A,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Khe(t,e,n){const r=e,i=_D("where",t);return D5._create(i,r,n)}class ND extends BD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ND(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ru.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)Aq(s,l),s=Fj(s,l)}(e._query,n),new a0(e.firestore,e.converter,Fj(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jR(t,e,n){if(typeof(n=Is(n))=="string"){if(n==="")throw new an(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hG(e)&&n.indexOf("/")!==-1)throw new an(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Si.fromString(n));if(!wn.isDocumentKey(r))throw new an(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qL(t,new wn(r))}if(n instanceof Vo)return qL(t,n._key);throw new an(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${T5(n)}.`)}function TR(t,e){if(!Array.isArray(t)||t.length===0)throw new an(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aq(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new an(yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new an(yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Whe{convertValue(e,n="none"){switch($h(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cp(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>fa(s.doubleValue));return new bD(a)}convertGeoPoint(e){return new yD(fa(e.latitude),fa(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=XP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($y(e));default:return null}}convertTimestamp(e){const n=uf(e);return new Ia(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Si.fromString(e);Kr(FG(r));const i=new Ky(r.get(1),r.get(3)),a=new wn(r.popFirst(5));return i.isEqual(n)||QA(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fq extends uq{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_D("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zw extends fq{data(e={}){return super.data(e)}}class Ghe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zw(this._firestore,this._userDataWriter,r.key,r,new xv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new an(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Zw(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Zw(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,A=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),A=s.indexOf(o.doc.key)),{type:qhe(o.type),doc:l,oldIndex:u,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}class hq extends Whe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ag(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vo(this.firestore,null,n)}}function Wj(t,e,n){t=Bh(t,Vo);const r=Bh(t.firestore,ug),i=dq(t.converter,e,n);return jD(r,[sq(wD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bl.none())])}function Lf(t){return jD(Bh(t.firestore,ug),[new E5(t._key,Bl.none())])}function IR(t,...e){var n,r,i;t=Is(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NR(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(NR(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,A;if(t instanceof Vo)u=Bh(t.firestore,ug),A=tD(t._key.path),l={next:d=>{e[s]&&e[s](Yhe(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Bh(t,a0);u=Bh(d.firestore,ug),A=d._query;const f=new hq(u);l={next:h=>{e[s]&&e[s](new Ghe(u,f,d,h))},error:e[s+1],complete:e[s+2]},zhe(t._query)}return function(f,h,p,m){const v=new Bhe(m),g=new che(h,v,p);return f.asyncQueue.enqueueAndForget(async()=>ahe(await wR(f),g)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>she(await wR(f),g))}}(vD(u),A,o,l)}function jD(t,e){return function(r,i){const a=new _h;return r.asyncQueue.enqueueAndForget(async()=>yhe(await The(r),i,a)),a.promise}(vD(t),e)}function Yhe(t,e,n){const r=n.docs.get(e._key),i=new hq(t);return new fq(t,i,e._key,r,new xv(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wD(e)}set(e,n,r){this._verifyNotCommitted();const i=fB(e,this._firestore),a=dq(i.converter,n,r),s=sq(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Bl.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=fB(e,this._firestore);let s;return s=typeof(n=Is(n))=="string"||n instanceof I5?Rhe(this._dataReader,"WriteBatch.update",a._key,n,r,i):Lhe(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Bl.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fB(e,this._firestore);return this._mutations=this._mutations.concat(new E5(n._key,Bl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new an(yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fB(t,e){if((t=Is(t)).firestore!==e)throw new an(yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function kR(){return new CD("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){return vD(t=Bh(t,ug)),new Xhe(t,e=>jD(t,e))}(function(e,n=!0){(function(i){n0=i})(v5),rg(new Hh("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new ug(new GAe(r.getProvider("auth-internal")),new JAe(r.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new an(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ky(u.options.projectId,A)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),ef(VL,"4.7.3",e),ef(VL,"4.7.3","esm2017")})();const Jhe={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},pq=_ue(Jhe),dg=yAe(pq,{persistence:MAe}),xi=Phe(pq,{}),mq=P.createContext({currentUser:null,isLoading:!0}),gq=()=>P.useContext(mq),Zhe=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0);P.useEffect(()=>DAe(dg,o=>{n(o),setTimeout(()=>i(!1),200)}),[]);const a=P.useMemo(()=>({currentUser:e,isLoading:r}),[e,r]);return c.jsx(mq.Provider,{value:a,children:t})};var vq={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tm,function(){var n=function(S,I){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,V){U.__proto__=V}||function(U,V){for(var G in V)Object.prototype.hasOwnProperty.call(V,G)&&(U[G]=V[G])})(S,I)},r=function(){return(r=Object.assign||function(S){for(var I,U=1,V=arguments.length;U<V;U++)for(var G in I=arguments[U])Object.prototype.hasOwnProperty.call(I,G)&&(S[G]=I[G]);return S}).apply(this,arguments)};function i(S,I,U){for(var V,G=0,ie=I.length;G<ie;G++)!V&&G in I||((V=V||Array.prototype.slice.call(I,0,G))[G]=I[G]);return S.concat(V||Array.prototype.slice.call(I))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tm,s=Object.keys,o=Array.isArray;function l(S,I){return typeof I!="object"||s(I).forEach(function(U){S[U]=I[U]}),S}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var u=Object.getPrototypeOf,A={}.hasOwnProperty;function d(S,I){return A.call(S,I)}function f(S,I){typeof I=="function"&&(I=I(u(S))),(typeof Reflect>"u"?s:Reflect.ownKeys)(I).forEach(function(U){p(S,U,I[U])})}var h=Object.defineProperty;function p(S,I,U,V){h(S,I,l(U&&d(U,"get")&&typeof U.get=="function"?{get:U.get,set:U.set,configurable:!0}:{value:U,configurable:!0,writable:!0},V))}function m(S){return{from:function(I){return S.prototype=Object.create(I.prototype),p(S.prototype,"constructor",S),{extend:f.bind(null,S.prototype)}}}}var v=Object.getOwnPropertyDescriptor,g=[].slice;function y(S,I,U){return g.call(S,I,U)}function b(S,I){return I(S)}function C(S){if(!S)throw new Error("Assertion Failed")}function E(S){a.setImmediate?setImmediate(S):setTimeout(S,0)}function N(S,I){if(typeof I=="string"&&d(S,I))return S[I];if(!I)return S;if(typeof I!="string"){for(var U=[],V=0,G=I.length;V<G;++V){var ie=N(S,I[V]);U.push(ie)}return U}var me=I.indexOf(".");if(me!==-1){var Ce=S[I.substr(0,me)];return Ce==null?void 0:N(Ce,I.substr(me+1))}}function _(S,I,U){if(S&&I!==void 0&&!("isFrozen"in Object&&Object.isFrozen(S)))if(typeof I!="string"&&"length"in I){C(typeof U!="string"&&"length"in U);for(var V=0,G=I.length;V<G;++V)_(S,I[V],U[V])}else{var ie,me,Ce=I.indexOf(".");Ce!==-1?(ie=I.substr(0,Ce),(me=I.substr(Ce+1))===""?U===void 0?o(S)&&!isNaN(parseInt(ie))?S.splice(ie,1):delete S[ie]:S[ie]=U:_(Ce=!(Ce=S[ie])||!d(S,ie)?S[ie]={}:Ce,me,U)):U===void 0?o(S)&&!isNaN(parseInt(I))?S.splice(I,1):delete S[I]:S[I]=U}}function B(S){var I,U={};for(I in S)d(S,I)&&(U[I]=S[I]);return U}var j=[].concat;function D(S){return j.apply([],S)}var Tt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(S){return["Int","Uint","Float"].map(function(I){return I+S+"Array"})}))).filter(function(S){return a[S]}),k=new Set(Tt.map(function(S){return a[S]})),O=null;function F(S){return O=new WeakMap,S=function I(U){if(!U||typeof U!="object")return U;var V=O.get(U);if(V)return V;if(o(U)){V=[],O.set(U,V);for(var G=0,ie=U.length;G<ie;++G)V.push(I(U[G]))}else if(k.has(U.constructor))V=U;else{var me,Ce=u(U);for(me in V=Ce===Object.prototype?{}:Object.create(Ce),O.set(U,V),U)d(U,me)&&(V[me]=I(U[me]))}return V}(S),O=null,S}var H={}.toString;function Y(S){return H.call(S).slice(8,-1)}var q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Z=typeof q=="symbol"?function(S){var I;return S!=null&&(I=S[q])&&I.apply(S)}:function(){return null};function W(S,I){return I=S.indexOf(I),0<=I&&S.splice(I,1),0<=I}var oe={};function te(S){var I,U,V,G;if(arguments.length===1){if(o(S))return S.slice();if(this===oe&&typeof S=="string")return[S];if(G=Z(S)){for(U=[];!(V=G.next()).done;)U.push(V.value);return U}if(S==null)return[S];if(typeof(I=S.length)!="number")return[S];for(U=new Array(I);I--;)U[I]=S[I];return U}for(I=arguments.length,U=new Array(I);I--;)U[I]=arguments[I];return U}var ue=typeof Symbol<"u"?function(S){return S[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},wt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],sa=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(wt),R={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(S,I){this.name=S,this.message=I}function J(S,I){return S+". Errors: "+Object.keys(I).map(function(U){return I[U].toString()}).filter(function(U,V,G){return G.indexOf(U)===V}).join(`
`)}function ne(S,I,U,V){this.failures=I,this.failedKeys=V,this.successCount=U,this.message=J(S,I)}function he(S,I){this.name="BulkError",this.failures=Object.keys(I).map(function(U){return I[U]}),this.failuresByPos=I,this.message=J(S,this.failures)}m($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(ne).from($),m(he).from($);var Se=sa.reduce(function(S,I){return S[I]=I+"Error",S},{}),we=$,re=sa.reduce(function(S,I){var U=I+"Error";function V(G,ie){this.name=U,G?typeof G=="string"?(this.message="".concat(G).concat(ie?`
 `+ie:""),this.inner=ie||null):typeof G=="object"&&(this.message="".concat(G.name," ").concat(G.message),this.inner=G):(this.message=R[I]||U,this.inner=null)}return m(V).from(we),S[I]=V,S},{});re.Syntax=SyntaxError,re.Type=TypeError,re.Range=RangeError;var pe=wt.reduce(function(S,I){return S[I+"Error"]=re[I],S},{}),xe=sa.reduce(function(S,I){return["Syntax","Type","Range"].indexOf(I)===-1&&(S[I+"Error"]=re[I]),S},{});function Ae(){}function He(S){return S}function Ie(S,I){return S==null||S===He?I:function(U){return I(S(U))}}function fe(S,I){return function(){S.apply(this,arguments),I.apply(this,arguments)}}function $e(S,I){return S===Ae?I:function(){var U=S.apply(this,arguments);U!==void 0&&(arguments[0]=U);var V=this.onsuccess,G=this.onerror;this.onsuccess=null,this.onerror=null;var ie=I.apply(this,arguments);return V&&(this.onsuccess=this.onsuccess?fe(V,this.onsuccess):V),G&&(this.onerror=this.onerror?fe(G,this.onerror):G),ie!==void 0?ie:U}}function mt(S,I){return S===Ae?I:function(){S.apply(this,arguments);var U=this.onsuccess,V=this.onerror;this.onsuccess=this.onerror=null,I.apply(this,arguments),U&&(this.onsuccess=this.onsuccess?fe(U,this.onsuccess):U),V&&(this.onerror=this.onerror?fe(V,this.onerror):V)}}function pt(S,I){return S===Ae?I:function(U){var V=S.apply(this,arguments);l(U,V);var G=this.onsuccess,ie=this.onerror;return this.onsuccess=null,this.onerror=null,U=I.apply(this,arguments),G&&(this.onsuccess=this.onsuccess?fe(G,this.onsuccess):G),ie&&(this.onerror=this.onerror?fe(ie,this.onerror):ie),V===void 0?U===void 0?void 0:U:l(V,U)}}function rt(S,I){return S===Ae?I:function(){return I.apply(this,arguments)!==!1&&S.apply(this,arguments)}}function Et(S,I){return S===Ae?I:function(){var U=S.apply(this,arguments);if(U&&typeof U.then=="function"){for(var V=this,G=arguments.length,ie=new Array(G);G--;)ie[G]=arguments[G];return U.then(function(){return I.apply(V,ie)})}return I.apply(this,arguments)}}xe.ModifyError=ne,xe.DexieError=$,xe.BulkError=he;var gt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $t(S){gt=S}var Mt={},bt=100,Tt=typeof Promise>"u"?[]:function(){var S=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[S,u(S),S];var I=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[I,u(I),S]}(),wt=Tt[0],sa=Tt[1],Tt=Tt[2],sa=sa&&sa.then,Xt=wt&&wt.constructor,ot=!!Tt,vt=function(S,I){Kt.push([S,I]),Lt&&(queueMicrotask(ta),Lt=!1)},xt=!0,Lt=!0,hn=[],Cn=[],zt=He,Jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ae,pgp:!1,env:{},finalize:Ae},St=Jt,Kt=[],ke=0,et=[];function Je(S){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var I=this._PSD=St;if(typeof S!="function"){if(S!==Mt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Qt(this,this._value))}this._state=null,this._value=null,++I.ref,function U(V,G){try{G(function(ie){if(V._state===null){if(ie===V)throw new TypeError("A promise cannot be resolved with itself.");var me=V._lib&&Me();ie&&typeof ie.then=="function"?U(V,function(Ce,Ne){ie instanceof Je?ie._then(Ce,Ne):ie.then(Ce,Ne)}):(V._state=!0,V._value=ie,bn(V)),me&&Oe()}},Qt.bind(null,V))}catch(ie){Qt(V,ie)}}(this,S)}var Ln={get:function(){var S=St,I=mn;function U(V,G){var ie=this,me=!S.global&&(S!==St||I!==mn),Ce=me&&!yr(),Ne=new Je(function(Pe,Le){mi(ie,new nn(Jo(V,S,me,Ce),Jo(G,S,me,Ce),Pe,Le,S))});return this._consoleTask&&(Ne._consoleTask=this._consoleTask),Ne}return U.prototype=Mt,U},set:function(S){p(this,"then",S&&S.prototype===Mt?Ln:{get:function(){return S},set:Ln.set})}};function nn(S,I,U,V,G){this.onFulfilled=typeof S=="function"?S:null,this.onRejected=typeof I=="function"?I:null,this.resolve=U,this.reject=V,this.psd=G}function Qt(S,I){var U,V;Cn.push(I),S._state===null&&(U=S._lib&&Me(),I=zt(I),S._state=!1,S._value=I,V=S,hn.some(function(G){return G._value===V._value})||hn.push(V),bn(S),U&&Oe())}function bn(S){var I=S._listeners;S._listeners=[];for(var U=0,V=I.length;U<V;++U)mi(S,I[U]);var G=S._PSD;--G.ref||G.finalize(),ke===0&&(++ke,vt(function(){--ke==0&&Ge()},[]))}function mi(S,I){if(S._state!==null){var U=S._state?I.onFulfilled:I.onRejected;if(U===null)return(S._state?I.resolve:I.reject)(S._value);++I.psd.ref,++ke,vt(cr,[U,S,I])}else S._listeners.push(I)}function cr(S,I,U){try{var V,G=I._value;!I._state&&Cn.length&&(Cn=[]),V=gt&&I._consoleTask?I._consoleTask.run(function(){return S(G)}):S(G),I._state||Cn.indexOf(G)!==-1||function(ie){for(var me=hn.length;me;)if(hn[--me]._value===ie._value)return hn.splice(me,1)}(I),U.resolve(V)}catch(ie){U.reject(ie)}finally{--ke==0&&Ge(),--U.psd.ref||U.psd.finalize()}}function ta(){Mi(Jt,function(){Me()&&Oe()})}function Me(){var S=xt;return Lt=xt=!1,S}function Oe(){var S,I,U;do for(;0<Kt.length;)for(S=Kt,Kt=[],U=S.length,I=0;I<U;++I){var V=S[I];V[0].apply(null,V[1])}while(0<Kt.length);Lt=xt=!0}function Ge(){var S=hn;hn=[],S.forEach(function(V){V._PSD.onunhandled.call(null,V._value,V)});for(var I=et.slice(0),U=I.length;U;)I[--U]()}function _t(S){return new Je(Mt,!1,S)}function At(S,I){var U=St;return function(){var V=Me(),G=St;try{return Jr(U,!0),S.apply(this,arguments)}catch(ie){I&&I(ie)}finally{Jr(G,!1),V&&Oe()}}}f(Je.prototype,{then:Ln,_then:function(S,I){mi(this,new nn(null,null,S,I,St))},catch:function(S){if(arguments.length===1)return this.then(null,S);var I=S,U=arguments[1];return typeof I=="function"?this.then(null,function(V){return(V instanceof I?U:_t)(V)}):this.then(null,function(V){return(V&&V.name===I?U:_t)(V)})},finally:function(S){return this.then(function(I){return Je.resolve(S()).then(function(){return I})},function(I){return Je.resolve(S()).then(function(){return _t(I)})})},timeout:function(S,I){var U=this;return S<1/0?new Je(function(V,G){var ie=setTimeout(function(){return G(new re.Timeout(I))},S);U.then(V,G).finally(clearTimeout.bind(null,ie))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(Je.prototype,Symbol.toStringTag,"Dexie.Promise"),Jt.env=xa(),f(Je,{all:function(){var S=te.apply(null,arguments).map(Zn);return new Je(function(I,U){S.length===0&&I([]);var V=S.length;S.forEach(function(G,ie){return Je.resolve(G).then(function(me){S[ie]=me,--V||I(S)},U)})})},resolve:function(S){return S instanceof Je?S:S&&typeof S.then=="function"?new Je(function(I,U){S.then(I,U)}):new Je(Mt,!0,S)},reject:_t,race:function(){var S=te.apply(null,arguments).map(Zn);return new Je(function(I,U){S.map(function(V){return Je.resolve(V).then(I,U)})})},PSD:{get:function(){return St},set:function(S){return St=S}},totalEchoes:{get:function(){return mn}},newPSD:vr,usePSD:Mi,scheduler:{get:function(){return vt},set:function(S){vt=S}},rejectionMapper:{get:function(){return zt},set:function(S){zt=S}},follow:function(S,I){return new Je(function(U,V){return vr(function(G,ie){var me=St;me.unhandleds=[],me.onunhandled=ie,me.finalize=fe(function(){var Ce,Ne=this;Ce=function(){Ne.unhandleds.length===0?G():ie(Ne.unhandleds[0])},et.push(function Pe(){Ce(),et.splice(et.indexOf(Pe),1)}),++ke,vt(function(){--ke==0&&Ge()},[])},me.finalize),S()},I,U,V)})}}),Xt&&(Xt.allSettled&&p(Je,"allSettled",function(){var S=te.apply(null,arguments).map(Zn);return new Je(function(I){S.length===0&&I([]);var U=S.length,V=new Array(U);S.forEach(function(G,ie){return Je.resolve(G).then(function(me){return V[ie]={status:"fulfilled",value:me}},function(me){return V[ie]={status:"rejected",reason:me}}).then(function(){return--U||I(V)})})})}),Xt.any&&typeof AggregateError<"u"&&p(Je,"any",function(){var S=te.apply(null,arguments).map(Zn);return new Je(function(I,U){S.length===0&&U(new AggregateError([]));var V=S.length,G=new Array(V);S.forEach(function(ie,me){return Je.resolve(ie).then(function(Ce){return I(Ce)},function(Ce){G[me]=Ce,--V||U(new AggregateError(G))})})})}),Xt.withResolvers&&(Je.withResolvers=Xt.withResolvers));var Yt={awaits:0,echoes:0,id:0},yn=0,Yn=[],Ut=0,mn=0,Xr=0;function vr(S,I,U,V){var G=St,ie=Object.create(G);return ie.parent=G,ie.ref=0,ie.global=!1,ie.id=++Xr,Jt.env,ie.env=ot?{Promise:Je,PromiseProp:{value:Je,configurable:!0,writable:!0},all:Je.all,race:Je.race,allSettled:Je.allSettled,any:Je.any,resolve:Je.resolve,reject:Je.reject}:{},I&&l(ie,I),++G.ref,ie.finalize=function(){--this.parent.ref||this.parent.finalize()},V=Mi(ie,S,U,V),ie.ref===0&&ie.finalize(),V}function Or(){return Yt.id||(Yt.id=++yn),++Yt.awaits,Yt.echoes+=bt,Yt.id}function yr(){return!!Yt.awaits&&(--Yt.awaits==0&&(Yt.id=0),Yt.echoes=Yt.awaits*bt,!0)}function Zn(S){return Yt.echoes&&S&&S.constructor===Xt?(Or(),S.then(function(I){return yr(),I},function(I){return yr(),Ir(I)})):S}function br(){var S=Yn[Yn.length-1];Yn.pop(),Jr(S,!1)}function Jr(S,I){var U,V=St;(I?!Yt.echoes||Ut++&&S===St:!Ut||--Ut&&S===St)||queueMicrotask(I?(function(G){++mn,Yt.echoes&&--Yt.echoes!=0||(Yt.echoes=Yt.awaits=Yt.id=0),Yn.push(St),Jr(G,!0)}).bind(null,S):br),S!==St&&(St=S,V===Jt&&(Jt.env=xa()),ot&&(U=Jt.env.Promise,I=S.env,(V.global||S.global)&&(Object.defineProperty(a,"Promise",I.PromiseProp),U.all=I.all,U.race=I.race,U.resolve=I.resolve,U.reject=I.reject,I.allSettled&&(U.allSettled=I.allSettled),I.any&&(U.any=I.any))))}function xa(){var S=a.Promise;return ot?{Promise:S,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:S.all,race:S.race,allSettled:S.allSettled,any:S.any,resolve:S.resolve,reject:S.reject}:{}}function Mi(S,I,U,V,G){var ie=St;try{return Jr(S,!0),I(U,V,G)}finally{Jr(ie,!1)}}function Jo(S,I,U,V){return typeof S!="function"?S:function(){var G=St;U&&Or(),Jr(I,!0);try{return S.apply(this,arguments)}finally{Jr(G,!1),V&&queueMicrotask(yr)}}}function Zo(S){Promise===Xt&&Yt.echoes===0?Ut===0?S():enqueueNativeMicroTask(S):setTimeout(S,0)}(""+sa).indexOf("[native code]")===-1&&(Or=yr=Ae);var Ir=Je.reject,el="",wa="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",gu="String expected.",so=[],Li="__dbnames",ds="readonly",Ql="readwrite";function oo(S,I){return S?I?function(){return S.apply(this,arguments)&&I.apply(this,arguments)}:S:I}var vu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Hl(S){return typeof S!="string"||/\./.test(S)?function(I){return I}:function(I){return I[S]===void 0&&S in I&&delete(I=F(I))[S],I}}function yu(){throw re.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pn(S,I){try{var U=bu(S),V=bu(I);if(U!==V)return U==="Array"?1:V==="Array"?-1:U==="binary"?1:V==="binary"?-1:U==="string"?1:V==="string"?-1:U==="Date"?1:V!=="Date"?NaN:-1;switch(U){case"number":case"Date":case"string":return I<S?1:S<I?-1:0;case"binary":return function(G,ie){for(var me=G.length,Ce=ie.length,Ne=me<Ce?me:Ce,Pe=0;Pe<Ne;++Pe)if(G[Pe]!==ie[Pe])return G[Pe]<ie[Pe]?-1:1;return me===Ce?0:me<Ce?-1:1}(ii(S),ii(I));case"Array":return function(G,ie){for(var me=G.length,Ce=ie.length,Ne=me<Ce?me:Ce,Pe=0;Pe<Ne;++Pe){var Le=Pn(G[Pe],ie[Pe]);if(Le!==0)return Le}return me===Ce?0:me<Ce?-1:1}(S,I)}}catch{}return NaN}function bu(S){var I=typeof S;return I!="object"?I:ArrayBuffer.isView(S)?"binary":(S=Y(S),S==="ArrayBuffer"?"binary":S)}function ii(S){return S instanceof Uint8Array?S:ArrayBuffer.isView(S)?new Uint8Array(S.buffer,S.byteOffset,S.byteLength):new Uint8Array(S)}function zl(S,I,U){var V=S.schema.yProps;return V?(I&&0<U.numFailures&&(I=I.filter(function(G,ie){return!U.failures[ie]})),Promise.all(V.map(function(G){return G=G.updatesTable,I?S.db.table(G).where("k").anyOf(I).delete():S.db.table(G).clear()})).then(function(){return U})):U}var rA=(tr.prototype._trans=function(S,I,U){var V=this._tx||St.trans,G=this.name,ie=gt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(S==="readonly"?"read":"write"," ").concat(this.name));function me(Pe,Le,Ee){if(!Ee.schema[G])throw new re.NotFound("Table "+G+" not part of transaction");return I(Ee.idbtrans,Ee)}var Ce=Me();try{var Ne=V&&V.db._novip===this.db._novip?V===St.trans?V._promise(S,me,U):vr(function(){return V._promise(S,me,U)},{trans:V,transless:St.transless||St}):function Pe(Le,Ee,Te,_e){if(Le.idbdb&&(Le._state.openComplete||St.letThrough||Le._vip)){var je=Le._createTransaction(Ee,Te,Le._dbSchema);try{je.create(),Le._state.PR1398_maxLoop=3}catch(Fe){return Fe.name===Se.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Pe(Le,Ee,Te,_e)})):Ir(Fe)}return je._promise(Ee,function(Fe,Ue){return vr(function(){return St.trans=je,_e(Fe,Ue,je)})}).then(function(Fe){if(Ee==="readwrite")try{je.idbtrans.commit()}catch{}return Ee==="readonly"?Fe:je._completion.then(function(){return Fe})})}if(Le._state.openComplete)return Ir(new re.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return Ir(new re.DatabaseClosed);Le.open().catch(Ae)}return Le._state.dbReadyPromise.then(function(){return Pe(Le,Ee,Te,_e)})}(this.db,S,[this.name],me);return ie&&(Ne._consoleTask=ie,Ne=Ne.catch(function(Pe){return console.trace(Pe),Ir(Pe)})),Ne}finally{Ce&&Oe()}},tr.prototype.get=function(S,I){var U=this;return S&&S.constructor===Object?this.where(S).first(I):S==null?Ir(new re.Type("Invalid argument to Table.get()")):this._trans("readonly",function(V){return U.core.get({trans:V,key:S}).then(function(G){return U.hook.reading.fire(G)})}).then(I)},tr.prototype.where=function(S){if(typeof S=="string")return new this.db.WhereClause(this,S);if(o(S))return new this.db.WhereClause(this,"[".concat(S.join("+"),"]"));var I=s(S);if(I.length===1)return this.where(I[0]).equals(S[I[0]]);var U=this.schema.indexes.concat(this.schema.primKey).filter(function(Ce){if(Ce.compound&&I.every(function(Pe){return 0<=Ce.keyPath.indexOf(Pe)})){for(var Ne=0;Ne<I.length;++Ne)if(I.indexOf(Ce.keyPath[Ne])===-1)return!1;return!0}return!1}).sort(function(Ce,Ne){return Ce.keyPath.length-Ne.keyPath.length})[0];if(U&&this.db._maxKey!==el){var ie=U.keyPath.slice(0,I.length);return this.where(ie).equals(ie.map(function(Ne){return S[Ne]}))}!U&&gt&&console.warn("The query ".concat(JSON.stringify(S)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(I.join("+"),"]"));var V=this.schema.idxByName;function G(Ce,Ne){return Pn(Ce,Ne)===0}var me=I.reduce(function(Ee,Ne){var Pe=Ee[0],Le=Ee[1],Ee=V[Ne],Te=S[Ne];return[Pe||Ee,Pe||!Ee?oo(Le,Ee&&Ee.multi?function(_e){return _e=N(_e,Ne),o(_e)&&_e.some(function(je){return G(Te,je)})}:function(_e){return G(Te,N(_e,Ne))}):Le]},[null,null]),ie=me[0],me=me[1];return ie?this.where(ie.name).equals(S[ie.keyPath]).filter(me):U?this.filter(me):this.where(I).equals("")},tr.prototype.filter=function(S){return this.toCollection().and(S)},tr.prototype.count=function(S){return this.toCollection().count(S)},tr.prototype.offset=function(S){return this.toCollection().offset(S)},tr.prototype.limit=function(S){return this.toCollection().limit(S)},tr.prototype.each=function(S){return this.toCollection().each(S)},tr.prototype.toArray=function(S){return this.toCollection().toArray(S)},tr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},tr.prototype.orderBy=function(S){return new this.db.Collection(new this.db.WhereClause(this,o(S)?"[".concat(S.join("+"),"]"):S))},tr.prototype.reverse=function(){return this.toCollection().reverse()},tr.prototype.mapToClass=function(S){var I,U=this.db,V=this.name;function G(){return I!==null&&I.apply(this,arguments)||this}(this.schema.mappedClass=S).prototype instanceof yu&&(function(Ne,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function Le(){this.constructor=Ne}n(Ne,Pe),Ne.prototype=Pe===null?Object.create(Pe):(Le.prototype=Pe.prototype,new Le)}(G,I=S),Object.defineProperty(G.prototype,"db",{get:function(){return U},enumerable:!1,configurable:!0}),G.prototype.table=function(){return V},S=G);for(var ie=new Set,me=S.prototype;me;me=u(me))Object.getOwnPropertyNames(me).forEach(function(Ne){return ie.add(Ne)});function Ce(Ne){if(!Ne)return Ne;var Pe,Le=Object.create(S.prototype);for(Pe in Ne)if(!ie.has(Pe))try{Le[Pe]=Ne[Pe]}catch{}return Le}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ce,this.hook("reading",Ce),S},tr.prototype.defineClass=function(){return this.mapToClass(function(S){l(this,S)})},tr.prototype.add=function(S,I){var U=this,V=this.schema.primKey,G=V.auto,ie=V.keyPath,me=S;return ie&&G&&(me=Hl(ie)(S)),this._trans("readwrite",function(Ce){return U.core.mutate({trans:Ce,type:"add",keys:I!=null?[I]:null,values:[me]})}).then(function(Ce){return Ce.numFailures?Je.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(ie)try{_(S,ie,Ce)}catch{}return Ce})},tr.prototype.update=function(S,I){return typeof S!="object"||o(S)?this.where(":id").equals(S).modify(I):(S=N(S,this.schema.primKey.keyPath),S===void 0?Ir(new re.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(S).modify(I))},tr.prototype.put=function(S,I){var U=this,V=this.schema.primKey,G=V.auto,ie=V.keyPath,me=S;return ie&&G&&(me=Hl(ie)(S)),this._trans("readwrite",function(Ce){return U.core.mutate({trans:Ce,type:"put",values:[me],keys:I!=null?[I]:null})}).then(function(Ce){return Ce.numFailures?Je.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(ie)try{_(S,ie,Ce)}catch{}return Ce})},tr.prototype.delete=function(S){var I=this;return this._trans("readwrite",function(U){return I.core.mutate({trans:U,type:"delete",keys:[S]}).then(function(V){return zl(I,[S],V)}).then(function(V){return V.numFailures?Je.reject(V.failures[0]):void 0})})},tr.prototype.clear=function(){var S=this;return this._trans("readwrite",function(I){return S.core.mutate({trans:I,type:"deleteRange",range:vu}).then(function(U){return zl(S,null,U)})}).then(function(I){return I.numFailures?Je.reject(I.failures[0]):void 0})},tr.prototype.bulkGet=function(S){var I=this;return this._trans("readonly",function(U){return I.core.getMany({keys:S,trans:U}).then(function(V){return V.map(function(G){return I.hook.reading.fire(G)})})})},tr.prototype.bulkAdd=function(S,I,U){var V=this,G=Array.isArray(I)?I:void 0,ie=(U=U||(G?void 0:I))?U.allKeys:void 0;return this._trans("readwrite",function(me){var Pe=V.schema.primKey,Ce=Pe.auto,Pe=Pe.keyPath;if(Pe&&G)throw new re.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(G&&G.length!==S.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var Ne=S.length,Pe=Pe&&Ce?S.map(Hl(Pe)):S;return V.core.mutate({trans:me,type:"add",keys:G,values:Pe,wantResults:ie}).then(function(je){var Ee=je.numFailures,Te=je.results,_e=je.lastResult,je=je.failures;if(Ee===0)return ie?Te:_e;throw new he("".concat(V.name,".bulkAdd(): ").concat(Ee," of ").concat(Ne," operations failed"),je)})})},tr.prototype.bulkPut=function(S,I,U){var V=this,G=Array.isArray(I)?I:void 0,ie=(U=U||(G?void 0:I))?U.allKeys:void 0;return this._trans("readwrite",function(me){var Pe=V.schema.primKey,Ce=Pe.auto,Pe=Pe.keyPath;if(Pe&&G)throw new re.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(G&&G.length!==S.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var Ne=S.length,Pe=Pe&&Ce?S.map(Hl(Pe)):S;return V.core.mutate({trans:me,type:"put",keys:G,values:Pe,wantResults:ie}).then(function(je){var Ee=je.numFailures,Te=je.results,_e=je.lastResult,je=je.failures;if(Ee===0)return ie?Te:_e;throw new he("".concat(V.name,".bulkPut(): ").concat(Ee," of ").concat(Ne," operations failed"),je)})})},tr.prototype.bulkUpdate=function(S){var I=this,U=this.core,V=S.map(function(me){return me.key}),G=S.map(function(me){return me.changes}),ie=[];return this._trans("readwrite",function(me){return U.getMany({trans:me,keys:V,cache:"clone"}).then(function(Ce){var Ne=[],Pe=[];S.forEach(function(Ee,Te){var _e=Ee.key,je=Ee.changes,Fe=Ce[Te];if(Fe){for(var Ue=0,Ve=Object.keys(je);Ue<Ve.length;Ue++){var Xe=Ve[Ue],nt=je[Xe];if(Xe===I.schema.primKey.keyPath){if(Pn(nt,_e)!==0)throw new re.Constraint("Cannot update primary key in bulkUpdate()")}else _(Fe,Xe,nt)}ie.push(Te),Ne.push(_e),Pe.push(Fe)}});var Le=Ne.length;return U.mutate({trans:me,type:"put",keys:Ne,values:Pe,updates:{keys:V,changeSpecs:G}}).then(function(Ee){var Te=Ee.numFailures,_e=Ee.failures;if(Te===0)return Le;for(var je=0,Fe=Object.keys(_e);je<Fe.length;je++){var Ue,Ve=Fe[je],Xe=ie[Number(Ve)];Xe!=null&&(Ue=_e[Ve],delete _e[Ve],_e[Xe]=Ue)}throw new he("".concat(I.name,".bulkUpdate(): ").concat(Te," of ").concat(Le," operations failed"),_e)})})})},tr.prototype.bulkDelete=function(S){var I=this,U=S.length;return this._trans("readwrite",function(V){return I.core.mutate({trans:V,type:"delete",keys:S}).then(function(G){return zl(I,S,G)})}).then(function(me){var G=me.numFailures,ie=me.lastResult,me=me.failures;if(G===0)return ie;throw new he("".concat(I.name,".bulkDelete(): ").concat(G," of ").concat(U," operations failed"),me)})},tr);function tr(){}function Ps(S){function I(me,Ce){if(Ce){for(var Ne=arguments.length,Pe=new Array(Ne-1);--Ne;)Pe[Ne-1]=arguments[Ne];return U[me].subscribe.apply(null,Pe),S}if(typeof me=="string")return U[me]}var U={};I.addEventType=ie;for(var V=1,G=arguments.length;V<G;++V)ie(arguments[V]);return I;function ie(me,Ce,Ne){if(typeof me!="object"){var Pe;Ce=Ce||rt;var Le={subscribers:[],fire:Ne=Ne||Ae,subscribe:function(Ee){Le.subscribers.indexOf(Ee)===-1&&(Le.subscribers.push(Ee),Le.fire=Ce(Le.fire,Ee))},unsubscribe:function(Ee){Le.subscribers=Le.subscribers.filter(function(Te){return Te!==Ee}),Le.fire=Le.subscribers.reduce(Ce,Ne)}};return U[me]=I[me]=Le}s(Pe=me).forEach(function(Ee){var Te=Pe[Ee];if(o(Te))ie(Ee,Pe[Ee][0],Pe[Ee][1]);else{if(Te!=="asap")throw new re.InvalidArgument("Invalid event config");var _e=ie(Ee,He,function(){for(var je=arguments.length,Fe=new Array(je);je--;)Fe[je]=arguments[je];_e.subscribers.forEach(function(Ue){E(function(){Ue.apply(null,Fe)})})})}})}}function Ca(S,I){return m(I).from({prototype:S}),I}function Ds(S,I){return!(S.filter||S.algorithm||S.or)&&(I?S.justLimit:!S.replayFilter)}function xr(S,I){S.filter=oo(S.filter,I)}function Pa(S,I,U){var V=S.replayFilter;S.replayFilter=V?function(){return oo(V(),I())}:I,S.justLimit=U&&!V}function tl(S,I){if(S.isPrimKey)return I.primaryKey;var U=I.getIndexByKeyPath(S.index);if(!U)throw new re.Schema("KeyPath "+S.index+" on object store "+I.name+" is not indexed");return U}function Nc(S,I,U){var V=tl(S,I.schema);return I.openCursor({trans:U,values:!S.keysOnly,reverse:S.dir==="prev",unique:!!S.unique,query:{index:V,range:S.range}})}function jc(S,I,U,V){var G=S.replayFilter?oo(S.filter,S.replayFilter()):S.filter;if(S.or){var ie={},me=function(Ce,Ne,Pe){var Le,Ee;G&&!G(Ne,Pe,function(Te){return Ne.stop(Te)},function(Te){return Ne.fail(Te)})||((Ee=""+(Le=Ne.primaryKey))=="[object ArrayBuffer]"&&(Ee=""+new Uint8Array(Le)),d(ie,Ee)||(ie[Ee]=!0,I(Ce,Ne,Pe)))};return Promise.all([S.or._iterate(me,U),Xn(Nc(S,V,U),S.algorithm,me,!S.keysOnly&&S.valueMapper)])}return Xn(Nc(S,V,U),oo(S.algorithm,G),I,!S.keysOnly&&S.valueMapper)}function Xn(S,I,U,V){var G=At(V?function(ie,me,Ce){return U(V(ie),me,Ce)}:U);return S.then(function(ie){if(ie)return ie.start(function(){var me=function(){return ie.continue()};I&&!I(ie,function(Ce){return me=Ce},function(Ce){ie.stop(Ce),me=Ae},function(Ce){ie.fail(Ce),me=Ae})||G(ie.value,ie,function(Ce){return me=Ce}),me()})})}var lo=(nl.prototype.execute=function(S){var I=this["@@propmod"];if(I.add!==void 0){var U=I.add;if(o(U))return i(i([],o(S)?S:[],!0),U).sort();if(typeof U=="number")return(Number(S)||0)+U;if(typeof U=="bigint")try{return BigInt(S)+U}catch{return BigInt(0)+U}throw new TypeError("Invalid term ".concat(U))}if(I.remove!==void 0){var V=I.remove;if(o(V))return o(S)?S.filter(function(G){return!V.includes(G)}).sort():[];if(typeof V=="number")return Number(S)-V;if(typeof V=="bigint")try{return BigInt(S)-V}catch{return BigInt(0)-V}throw new TypeError("Invalid subtrahend ".concat(V))}return U=(U=I.replacePrefix)===null||U===void 0?void 0:U[0],U&&typeof S=="string"&&S.startsWith(U)?I.replacePrefix[1]+S.substring(U.length):S},nl);function nl(S){this["@@propmod"]=S}var Os=(qn.prototype._read=function(S,I){var U=this._ctx;return U.error?U.table._trans(null,Ir.bind(null,U.error)):U.table._trans("readonly",S).then(I)},qn.prototype._write=function(S){var I=this._ctx;return I.error?I.table._trans(null,Ir.bind(null,I.error)):I.table._trans("readwrite",S,"locked")},qn.prototype._addAlgorithm=function(S){var I=this._ctx;I.algorithm=oo(I.algorithm,S)},qn.prototype._iterate=function(S,I){return jc(this._ctx,S,I,this._ctx.table.core)},qn.prototype.clone=function(S){var I=Object.create(this.constructor.prototype),U=Object.create(this._ctx);return S&&l(U,S),I._ctx=U,I},qn.prototype.raw=function(){return this._ctx.valueMapper=null,this},qn.prototype.each=function(S){var I=this._ctx;return this._read(function(U){return jc(I,S,U,I.table.core)})},qn.prototype.count=function(S){var I=this;return this._read(function(U){var V=I._ctx,G=V.table.core;if(Ds(V,!0))return G.count({trans:U,query:{index:tl(V,G.schema),range:V.range}}).then(function(me){return Math.min(me,V.limit)});var ie=0;return jc(V,function(){return++ie,!1},U,G).then(function(){return ie})}).then(S)},qn.prototype.sortBy=function(S,I){var U=S.split(".").reverse(),V=U[0],G=U.length-1;function ie(Ne,Pe){return Pe?ie(Ne[U[Pe]],Pe-1):Ne[V]}var me=this._ctx.dir==="next"?1:-1;function Ce(Ne,Pe){return Pn(ie(Ne,G),ie(Pe,G))*me}return this.toArray(function(Ne){return Ne.sort(Ce)}).then(I)},qn.prototype.toArray=function(S){var I=this;return this._read(function(U){var V=I._ctx;if(V.dir==="next"&&Ds(V,!0)&&0<V.limit){var G=V.valueMapper,ie=tl(V,V.table.core.schema);return V.table.core.query({trans:U,limit:V.limit,values:!0,query:{index:ie,range:V.range}}).then(function(Ce){return Ce=Ce.result,G?Ce.map(G):Ce})}var me=[];return jc(V,function(Ce){return me.push(Ce)},U,V.table.core).then(function(){return me})},S)},qn.prototype.offset=function(S){var I=this._ctx;return S<=0||(I.offset+=S,Ds(I)?Pa(I,function(){var U=S;return function(V,G){return U===0||(U===1?--U:G(function(){V.advance(U),U=0}),!1)}}):Pa(I,function(){var U=S;return function(){return--U<0}})),this},qn.prototype.limit=function(S){return this._ctx.limit=Math.min(this._ctx.limit,S),Pa(this._ctx,function(){var I=S;return function(U,V,G){return--I<=0&&V(G),0<=I}},!0),this},qn.prototype.until=function(S,I){return xr(this._ctx,function(U,V,G){return!S(U.value)||(V(G),I)}),this},qn.prototype.first=function(S){return this.limit(1).toArray(function(I){return I[0]}).then(S)},qn.prototype.last=function(S){return this.reverse().first(S)},qn.prototype.filter=function(S){var I;return xr(this._ctx,function(U){return S(U.value)}),(I=this._ctx).isMatch=oo(I.isMatch,S),this},qn.prototype.and=function(S){return this.filter(S)},qn.prototype.or=function(S){return new this.db.WhereClause(this._ctx.table,S,this)},qn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qn.prototype.desc=function(){return this.reverse()},qn.prototype.eachKey=function(S){var I=this._ctx;return I.keysOnly=!I.isMatch,this.each(function(U,V){S(V.key,V)})},qn.prototype.eachUniqueKey=function(S){return this._ctx.unique="unique",this.eachKey(S)},qn.prototype.eachPrimaryKey=function(S){var I=this._ctx;return I.keysOnly=!I.isMatch,this.each(function(U,V){S(V.primaryKey,V)})},qn.prototype.keys=function(S){var I=this._ctx;I.keysOnly=!I.isMatch;var U=[];return this.each(function(V,G){U.push(G.key)}).then(function(){return U}).then(S)},qn.prototype.primaryKeys=function(S){var I=this._ctx;if(I.dir==="next"&&Ds(I,!0)&&0<I.limit)return this._read(function(V){var G=tl(I,I.table.core.schema);return I.table.core.query({trans:V,values:!1,limit:I.limit,query:{index:G,range:I.range}})}).then(function(V){return V.result}).then(S);I.keysOnly=!I.isMatch;var U=[];return this.each(function(V,G){U.push(G.primaryKey)}).then(function(){return U}).then(S)},qn.prototype.uniqueKeys=function(S){return this._ctx.unique="unique",this.keys(S)},qn.prototype.firstKey=function(S){return this.limit(1).keys(function(I){return I[0]}).then(S)},qn.prototype.lastKey=function(S){return this.reverse().firstKey(S)},qn.prototype.distinct=function(){var S=this._ctx,S=S.index&&S.table.schema.idxByName[S.index];if(!S||!S.multi)return this;var I={};return xr(this._ctx,function(G){var V=G.primaryKey.toString(),G=d(I,V);return I[V]=!0,!G}),this},qn.prototype.modify=function(S){var I=this,U=this._ctx;return this._write(function(V){var G,ie,me;me=typeof S=="function"?S:(G=s(S),ie=G.length,function(Ve){for(var Xe=!1,nt=0;nt<ie;++nt){var it=G[nt],Bt=S[it],Ft=N(Ve,it);Bt instanceof lo?(_(Ve,it,Bt.execute(Ft)),Xe=!0):Ft!==Bt&&(_(Ve,it,Bt),Xe=!0)}return Xe});var Ce=U.table.core,Ee=Ce.schema.primaryKey,Ne=Ee.outbound,Pe=Ee.extractKey,Le=200,Ee=I.db._options.modifyChunkSize;Ee&&(Le=typeof Ee=="object"?Ee[Ce.name]||Ee["*"]||200:Ee);function Te(Ve,it){var nt=it.failures,it=it.numFailures;je+=Ve-it;for(var Bt=0,Ft=s(nt);Bt<Ft.length;Bt++){var It=Ft[Bt];_e.push(nt[It])}}var _e=[],je=0,Fe=[],Ue=S===iA;return I.clone().primaryKeys().then(function(Ve){function Xe(it){var Bt=Math.min(Le,Ve.length-it),Ft=Ve.slice(it,it+Bt);return(Ue?Promise.resolve([]):Ce.getMany({trans:V,keys:Ft,cache:"immutable"})).then(function(It){var Ot=[],Vt=[],Rt=Ne?[]:null,Wt=Ue?Ft:[];if(!Ue)for(var Fn=0;Fn<Bt;++Fn){var ir=It[Fn],In={value:F(ir),primKey:Ve[it+Fn]};me.call(In,In.value,In)!==!1&&(In.value==null?Wt.push(Ve[it+Fn]):Ne||Pn(Pe(ir),Pe(In.value))===0?(Vt.push(In.value),Ne&&Rt.push(Ve[it+Fn])):(Wt.push(Ve[it+Fn]),Ot.push(In.value)))}return Promise.resolve(0<Ot.length&&Ce.mutate({trans:V,type:"add",values:Ot}).then(function(vi){for(var jn in vi.failures)Wt.splice(parseInt(jn),1);Te(Ot.length,vi)})).then(function(){return(0<Vt.length||nt&&typeof S=="object")&&Ce.mutate({trans:V,type:"put",keys:Rt,values:Vt,criteria:nt,changeSpec:typeof S!="function"&&S,isAdditionalChunk:0<it}).then(function(vi){return Te(Vt.length,vi)})}).then(function(){return(0<Wt.length||nt&&Ue)&&Ce.mutate({trans:V,type:"delete",keys:Wt,criteria:nt,isAdditionalChunk:0<it}).then(function(vi){return zl(U.table,Wt,vi)}).then(function(vi){return Te(Wt.length,vi)})}).then(function(){return Ve.length>it+Bt&&Xe(it+Le)})})}var nt=Ds(U)&&U.limit===1/0&&(typeof S!="function"||Ue)&&{index:U.index,range:U.range};return Xe(0).then(function(){if(0<_e.length)throw new ne("Error modifying one or more objects",_e,je,Fe);return Ve.length})})})},qn.prototype.delete=function(){var S=this._ctx,I=S.range;return!Ds(S)||S.table.schema.yProps||!S.isPrimKey&&I.type!==3?this.modify(iA):this._write(function(U){var V=S.table.core.schema.primaryKey,G=I;return S.table.core.count({trans:U,query:{index:V,range:G}}).then(function(ie){return S.table.core.mutate({trans:U,type:"deleteRange",range:G}).then(function(Ne){var Ce=Ne.failures,Ne=Ne.numFailures;if(Ne)throw new ne("Could not delete some values",Object.keys(Ce).map(function(Pe){return Ce[Pe]}),ie-Ne);return ie-Ne})})})},qn);function qn(){}var iA=function(S,I){return I.value=null};function Pf(S,I){return S<I?-1:S===I?0:1}function Df(S,I){return I<S?-1:S===I?0:1}function na(S,I,U){return S=S instanceof Tc?new S.Collection(S):S,S._ctx.error=new(U||TypeError)(I),S}function Fs(S){return new S.Collection(S,function(){return rl("")}).limit(0)}function Da(S,I,U,V){var G,ie,me,Ce,Ne,Pe,Le,Ee=U.length;if(!U.every(function(je){return typeof je=="string"}))return na(S,gu);function Te(je){G=je==="next"?function(Ue){return Ue.toUpperCase()}:function(Ue){return Ue.toLowerCase()},ie=je==="next"?function(Ue){return Ue.toLowerCase()}:function(Ue){return Ue.toUpperCase()},me=je==="next"?Pf:Df;var Fe=U.map(function(Ue){return{lower:ie(Ue),upper:G(Ue)}}).sort(function(Ue,Ve){return me(Ue.lower,Ve.lower)});Ce=Fe.map(function(Ue){return Ue.upper}),Ne=Fe.map(function(Ue){return Ue.lower}),Le=(Pe=je)==="next"?"":V}Te("next"),S=new S.Collection(S,function(){return ra(Ce[0],Ne[Ee-1]+V)}),S._ondirectionchange=function(je){Te(je)};var _e=0;return S._addAlgorithm(function(je,Fe,Ue){var Ve=je.key;if(typeof Ve!="string")return!1;var Xe=ie(Ve);if(I(Xe,Ne,_e))return!0;for(var nt=null,it=_e;it<Ee;++it){var Bt=function(Ft,It,Ot,Vt,Rt,Wt){for(var Fn=Math.min(Ft.length,Vt.length),ir=-1,In=0;In<Fn;++In){var vi=It[In];if(vi!==Vt[In])return Rt(Ft[In],Ot[In])<0?Ft.substr(0,In)+Ot[In]+Ot.substr(In+1):Rt(Ft[In],Vt[In])<0?Ft.substr(0,In)+Vt[In]+Ot.substr(In+1):0<=ir?Ft.substr(0,ir)+It[ir]+Ot.substr(ir+1):null;Rt(Ft[In],vi)<0&&(ir=In)}return Fn<Vt.length&&Wt==="next"?Ft+Ot.substr(Ft.length):Fn<Ft.length&&Wt==="prev"?Ft.substr(0,Ot.length):ir<0?null:Ft.substr(0,ir)+Vt[ir]+Ot.substr(ir+1)}(Ve,Xe,Ce[it],Ne[it],me,Pe);Bt===null&&nt===null?_e=it+1:(nt===null||0<me(nt,Bt))&&(nt=Bt)}return Fe(nt!==null?function(){je.continue(nt+Le)}:Ue),!1}),S}function ra(S,I,U,V){return{type:2,lower:S,upper:I,lowerOpen:U,upperOpen:V}}function rl(S){return{type:1,lower:S,upper:S}}var Tc=(Object.defineProperty(rn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),rn.prototype.between=function(S,I,U,V){U=U!==!1,V=V===!0;try{return 0<this._cmp(S,I)||this._cmp(S,I)===0&&(U||V)&&(!U||!V)?Fs(this):new this.Collection(this,function(){return ra(S,I,!U,!V)})}catch{return na(this,wa)}},rn.prototype.equals=function(S){return S==null?na(this,wa):new this.Collection(this,function(){return rl(S)})},rn.prototype.above=function(S){return S==null?na(this,wa):new this.Collection(this,function(){return ra(S,void 0,!0)})},rn.prototype.aboveOrEqual=function(S){return S==null?na(this,wa):new this.Collection(this,function(){return ra(S,void 0,!1)})},rn.prototype.below=function(S){return S==null?na(this,wa):new this.Collection(this,function(){return ra(void 0,S,!1,!0)})},rn.prototype.belowOrEqual=function(S){return S==null?na(this,wa):new this.Collection(this,function(){return ra(void 0,S)})},rn.prototype.startsWith=function(S){return typeof S!="string"?na(this,gu):this.between(S,S+el,!0,!0)},rn.prototype.startsWithIgnoreCase=function(S){return S===""?this.startsWith(S):Da(this,function(I,U){return I.indexOf(U[0])===0},[S],el)},rn.prototype.equalsIgnoreCase=function(S){return Da(this,function(I,U){return I===U[0]},[S],"")},rn.prototype.anyOfIgnoreCase=function(){var S=te.apply(oe,arguments);return S.length===0?Fs(this):Da(this,function(I,U){return U.indexOf(I)!==-1},S,"")},rn.prototype.startsWithAnyOfIgnoreCase=function(){var S=te.apply(oe,arguments);return S.length===0?Fs(this):Da(this,function(I,U){return U.some(function(V){return I.indexOf(V)===0})},S,el)},rn.prototype.anyOf=function(){var S=this,I=te.apply(oe,arguments),U=this._cmp;try{I.sort(U)}catch{return na(this,wa)}if(I.length===0)return Fs(this);var V=new this.Collection(this,function(){return ra(I[0],I[I.length-1])});V._ondirectionchange=function(ie){U=ie==="next"?S._ascending:S._descending,I.sort(U)};var G=0;return V._addAlgorithm(function(ie,me,Ce){for(var Ne=ie.key;0<U(Ne,I[G]);)if(++G===I.length)return me(Ce),!1;return U(Ne,I[G])===0||(me(function(){ie.continue(I[G])}),!1)}),V},rn.prototype.notEqual=function(S){return this.inAnyRange([[-1/0,S],[S,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},rn.prototype.noneOf=function(){var S=te.apply(oe,arguments);if(S.length===0)return new this.Collection(this);try{S.sort(this._ascending)}catch{return na(this,wa)}var I=S.reduce(function(U,V){return U?U.concat([[U[U.length-1][1],V]]):[[-1/0,V]]},null);return I.push([S[S.length-1],this.db._maxKey]),this.inAnyRange(I,{includeLowers:!1,includeUppers:!1})},rn.prototype.inAnyRange=function(Ve,I){var U=this,V=this._cmp,G=this._ascending,ie=this._descending,me=this._min,Ce=this._max;if(Ve.length===0)return Fs(this);if(!Ve.every(function(Xe){return Xe[0]!==void 0&&Xe[1]!==void 0&&G(Xe[0],Xe[1])<=0}))return na(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",re.InvalidArgument);var Ne=!I||I.includeLowers!==!1,Pe=I&&I.includeUppers===!0,Le,Ee=G;function Te(Xe,nt){return Ee(Xe[0],nt[0])}try{(Le=Ve.reduce(function(Xe,nt){for(var it=0,Bt=Xe.length;it<Bt;++it){var Ft=Xe[it];if(V(nt[0],Ft[1])<0&&0<V(nt[1],Ft[0])){Ft[0]=me(Ft[0],nt[0]),Ft[1]=Ce(Ft[1],nt[1]);break}}return it===Bt&&Xe.push(nt),Xe},[])).sort(Te)}catch{return na(this,wa)}var _e=0,je=Pe?function(Xe){return 0<G(Xe,Le[_e][1])}:function(Xe){return 0<=G(Xe,Le[_e][1])},Fe=Ne?function(Xe){return 0<ie(Xe,Le[_e][0])}:function(Xe){return 0<=ie(Xe,Le[_e][0])},Ue=je,Ve=new this.Collection(this,function(){return ra(Le[0][0],Le[Le.length-1][1],!Ne,!Pe)});return Ve._ondirectionchange=function(Xe){Ee=Xe==="next"?(Ue=je,G):(Ue=Fe,ie),Le.sort(Te)},Ve._addAlgorithm(function(Xe,nt,it){for(var Bt,Ft=Xe.key;Ue(Ft);)if(++_e===Le.length)return nt(it),!1;return!je(Bt=Ft)&&!Fe(Bt)||(U._cmp(Ft,Le[_e][1])===0||U._cmp(Ft,Le[_e][0])===0||nt(function(){Ee===G?Xe.continue(Le[_e][0]):Xe.continue(Le[_e][1])}),!1)}),Ve},rn.prototype.startsWithAnyOf=function(){var S=te.apply(oe,arguments);return S.every(function(I){return typeof I=="string"})?S.length===0?Fs(this):this.inAnyRange(S.map(function(I){return[I,I+el]})):na(this,"startsWithAnyOf() only works with strings")},rn);function rn(){}function ia(S){return At(function(I){return Ic(I),S(I.target.error),!1})}function Ic(S){S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault()}var kc="storagemutated",aA="x-storagemutated-1",Zr=Ps(null,kc),il=(Ms.prototype._lock=function(){return C(!St.global),++this._reculock,this._reculock!==1||St.global||(St.lockOwnerFor=this),this},Ms.prototype._unlock=function(){if(C(!St.global),--this._reculock==0)for(St.global||(St.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var S=this._blockedFuncs.shift();try{Mi(S[1],S[0])}catch{}}return this},Ms.prototype._locked=function(){return this._reculock&&St.lockOwnerFor!==this},Ms.prototype.create=function(S){var I=this;if(!this.mode)return this;var U=this.db.idbdb,V=this.db._state.dbOpenError;if(C(!this.idbtrans),!S&&!U)switch(V&&V.name){case"DatabaseClosedError":throw new re.DatabaseClosed(V);case"MissingAPIError":throw new re.MissingAPI(V.message,V);default:throw new re.OpenFailed(V)}if(!this.active)throw new re.TransactionInactive;return C(this._completion._state===null),(S=this.idbtrans=S||(this.db.core||U).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=At(function(G){Ic(G),I._reject(S.error)}),S.onabort=At(function(G){Ic(G),I.active&&I._reject(new re.Abort(S.error)),I.active=!1,I.on("abort").fire(G)}),S.oncomplete=At(function(){I.active=!1,I._resolve(),"mutatedParts"in S&&Zr.storagemutated.fire(S.mutatedParts)}),this},Ms.prototype._promise=function(S,I,U){var V=this;if(S==="readwrite"&&this.mode!=="readwrite")return Ir(new re.ReadOnly("Transaction is readonly"));if(!this.active)return Ir(new re.TransactionInactive);if(this._locked())return new Je(function(ie,me){V._blockedFuncs.push([function(){V._promise(S,I,U).then(ie,me)},St])});if(U)return vr(function(){var ie=new Je(function(me,Ce){V._lock();var Ne=I(me,Ce,V);Ne&&Ne.then&&Ne.then(me,Ce)});return ie.finally(function(){return V._unlock()}),ie._lib=!0,ie});var G=new Je(function(ie,me){var Ce=I(ie,me,V);Ce&&Ce.then&&Ce.then(ie,me)});return G._lib=!0,G},Ms.prototype._root=function(){return this.parent?this.parent._root():this},Ms.prototype.waitFor=function(S){var I,U=this._root(),V=Je.resolve(S);U._waitingFor?U._waitingFor=U._waitingFor.then(function(){return V}):(U._waitingFor=V,U._waitingQueue=[],I=U.idbtrans.objectStore(U.storeNames[0]),function ie(){for(++U._spinCount;U._waitingQueue.length;)U._waitingQueue.shift()();U._waitingFor&&(I.get(-1/0).onsuccess=ie)}());var G=U._waitingFor;return new Je(function(ie,me){V.then(function(Ce){return U._waitingQueue.push(At(ie.bind(null,Ce)))},function(Ce){return U._waitingQueue.push(At(me.bind(null,Ce)))}).finally(function(){U._waitingFor===G&&(U._waitingFor=null)})})},Ms.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new re.Abort))},Ms.prototype.table=function(S){var I=this._memoizedTables||(this._memoizedTables={});if(d(I,S))return I[S];var U=this.schema[S];if(!U)throw new re.NotFound("Table "+S+" not part of transaction");return U=new this.db.Table(S,U,this),U.core=this.db.core.table(S),I[S]=U},Ms);function Ms(){}function Vl(S,I,U,V,G,ie,me,Ce){return{name:S,keyPath:I,unique:U,multi:V,auto:G,compound:ie,src:(U&&!me?"&":"")+(V?"*":"")+(G?"++":"")+Bo(I),type:Ce}}function Bo(S){return typeof S=="string"?S:S?"["+[].join.call(S,"+")+"]":""}function $l(S,I,U){return{name:S,primKey:I,indexes:U,mappedClass:null,idxByName:(V=function(G){return[G.name,G]},U.reduce(function(G,ie,me){return me=V(ie,me),me&&(G[me[0]]=me[1]),G},{}))};var V}var Oa=function(S){try{return S.only([[]]),Oa=function(){return[[]]},[[]]}catch{return Oa=function(){return el},el}};function Ls(S){return S==null?function(){}:typeof S=="string"?(I=S).split(".").length===1?function(U){return U[I]}:function(U){return N(U,I)}:function(U){return N(U,S)};var I}function Kl(S){return[].slice.call(S)}var sA=0;function fr(S){return S==null?":id":typeof S=="string"?S:"[".concat(S.join("+"),"]")}function oA(S,I,Ne){function V(Ue){if(Ue.type===3)return null;if(Ue.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _e=Ue.lower,je=Ue.upper,Fe=Ue.lowerOpen,Ue=Ue.upperOpen;return _e===void 0?je===void 0?null:I.upperBound(je,!!Ue):je===void 0?I.lowerBound(_e,!!Fe):I.bound(_e,je,!!Fe,!!Ue)}function G(Te){var _e,je=Te.name;return{name:je,schema:Te,mutate:function(Fe){var Ue=Fe.trans,Ve=Fe.type,Xe=Fe.keys,nt=Fe.values,it=Fe.range;return new Promise(function(Bt,Ft){Bt=At(Bt);var It=Ue.objectStore(je),Ot=It.keyPath==null,Vt=Ve==="put"||Ve==="add";if(!Vt&&Ve!=="delete"&&Ve!=="deleteRange")throw new Error("Invalid operation type: "+Ve);var Rt,Wt=(Xe||nt||{length:1}).length;if(Xe&&nt&&Xe.length!==nt.length)throw new Error("Given keys array must have same length as given values array.");if(Wt===0)return Bt({numFailures:0,failures:{},results:[],lastResult:void 0});function Fn(Ea){++vi,Ic(Ea)}var ir=[],In=[],vi=0;if(Ve==="deleteRange"){if(it.type===4)return Bt({numFailures:vi,failures:In,results:[],lastResult:void 0});it.type===3?ir.push(Rt=It.clear()):ir.push(Rt=It.delete(V(it)))}else{var Ot=Vt?Ot?[nt,Xe]:[nt,null]:[Xe,null],jn=Ot[0],La=Ot[1];if(Vt)for(var Ra=0;Ra<Wt;++Ra)ir.push(Rt=La&&La[Ra]!==void 0?It[Ve](jn[Ra],La[Ra]):It[Ve](jn[Ra])),Rt.onerror=Fn;else for(Ra=0;Ra<Wt;++Ra)ir.push(Rt=It[Ve](jn[Ra])),Rt.onerror=Fn}function sd(Ea){Ea=Ea.target.result,ir.forEach(function(oa,Us){return oa.error!=null&&(In[Us]=oa.error)}),Bt({numFailures:vi,failures:In,results:Ve==="delete"?Xe:ir.map(function(oa){return oa.result}),lastResult:Ea})}Rt.onerror=function(Ea){Fn(Ea),sd(Ea)},Rt.onsuccess=sd})},getMany:function(Fe){var Ue=Fe.trans,Ve=Fe.keys;return new Promise(function(Xe,nt){Xe=At(Xe);for(var it,Bt=Ue.objectStore(je),Ft=Ve.length,It=new Array(Ft),Ot=0,Vt=0,Rt=function(ir){ir=ir.target,It[ir._pos]=ir.result,++Vt===Ot&&Xe(It)},Wt=ia(nt),Fn=0;Fn<Ft;++Fn)Ve[Fn]!=null&&((it=Bt.get(Ve[Fn]))._pos=Fn,it.onsuccess=Rt,it.onerror=Wt,++Ot);Ot===0&&Xe(It)})},get:function(Fe){var Ue=Fe.trans,Ve=Fe.key;return new Promise(function(Xe,nt){Xe=At(Xe);var it=Ue.objectStore(je).get(Ve);it.onsuccess=function(Bt){return Xe(Bt.target.result)},it.onerror=ia(nt)})},query:(_e=Pe,function(Fe){return new Promise(function(Ue,Ve){Ue=At(Ue);var Xe,nt,it,Ot=Fe.trans,Bt=Fe.values,Ft=Fe.limit,Rt=Fe.query,It=Ft===1/0?void 0:Ft,Vt=Rt.index,Rt=Rt.range,Ot=Ot.objectStore(je),Vt=Vt.isPrimaryKey?Ot:Ot.index(Vt.name),Rt=V(Rt);if(Ft===0)return Ue({result:[]});_e?((It=Bt?Vt.getAll(Rt,It):Vt.getAllKeys(Rt,It)).onsuccess=function(Wt){return Ue({result:Wt.target.result})},It.onerror=ia(Ve)):(Xe=0,nt=!Bt&&"openKeyCursor"in Vt?Vt.openKeyCursor(Rt):Vt.openCursor(Rt),it=[],nt.onsuccess=function(Wt){var Fn=nt.result;return Fn?(it.push(Bt?Fn.value:Fn.primaryKey),++Xe===Ft?Ue({result:it}):void Fn.continue()):Ue({result:it})},nt.onerror=ia(Ve))})}),openCursor:function(Fe){var Ue=Fe.trans,Ve=Fe.values,Xe=Fe.query,nt=Fe.reverse,it=Fe.unique;return new Promise(function(Bt,Ft){Bt=At(Bt);var Vt=Xe.index,It=Xe.range,Ot=Ue.objectStore(je),Ot=Vt.isPrimaryKey?Ot:Ot.index(Vt.name),Vt=nt?it?"prevunique":"prev":it?"nextunique":"next",Rt=!Ve&&"openKeyCursor"in Ot?Ot.openKeyCursor(V(It),Vt):Ot.openCursor(V(It),Vt);Rt.onerror=ia(Ft),Rt.onsuccess=At(function(Wt){var Fn,ir,In,vi,jn=Rt.result;jn?(jn.___id=++sA,jn.done=!1,Fn=jn.continue.bind(jn),ir=(ir=jn.continuePrimaryKey)&&ir.bind(jn),In=jn.advance.bind(jn),vi=function(){throw new Error("Cursor not stopped")},jn.trans=Ue,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=At(Ft),jn.next=function(){var La=this,Ra=1;return this.start(function(){return Ra--?La.continue():La.stop()}).then(function(){return La})},jn.start=function(La){function Ra(){if(Rt.result)try{La()}catch(Ea){jn.fail(Ea)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var sd=new Promise(function(Ea,oa){Ea=At(Ea),Rt.onerror=ia(oa),jn.fail=oa,jn.stop=function(Us){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=vi,Ea(Us)}});return Rt.onsuccess=At(function(Ea){Rt.onsuccess=Ra,Ra()}),jn.continue=Fn,jn.continuePrimaryKey=ir,jn.advance=In,Ra(),sd},Bt(jn)):Bt(null)},Ft)})},count:function(Fe){var Ue=Fe.query,Ve=Fe.trans,Xe=Ue.index,nt=Ue.range;return new Promise(function(it,Bt){var Ft=Ve.objectStore(je),It=Xe.isPrimaryKey?Ft:Ft.index(Xe.name),Ft=V(nt),It=Ft?It.count(Ft):It.count();It.onsuccess=At(function(Ot){return it(Ot.target.result)}),It.onerror=ia(Bt)})}}}var ie,me,Ce,Le=(me=Ne,Ce=Kl((ie=S).objectStoreNames),{schema:{name:ie.name,tables:Ce.map(function(Te){return me.objectStore(Te)}).map(function(Te){var _e=Te.keyPath,Ue=Te.autoIncrement,je=o(_e),Fe={},Ue={name:Te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_e==null,compound:je,keyPath:_e,autoIncrement:Ue,unique:!0,extractKey:Ls(_e)},indexes:Kl(Te.indexNames).map(function(Ve){return Te.index(Ve)}).map(function(it){var Xe=it.name,nt=it.unique,Bt=it.multiEntry,it=it.keyPath,Bt={name:Xe,compound:o(it),keyPath:it,unique:nt,multiEntry:Bt,extractKey:Ls(it)};return Fe[fr(it)]=Bt}),getIndexByKeyPath:function(Ve){return Fe[fr(Ve)]}};return Fe[":id"]=Ue.primaryKey,_e!=null&&(Fe[fr(_e)]=Ue.primaryKey),Ue})},hasGetAll:0<Ce.length&&"getAll"in me.objectStore(Ce[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ne=Le.schema,Pe=Le.hasGetAll,Le=Ne.tables.map(G),Ee={};return Le.forEach(function(Te){return Ee[Te.name]=Te}),{stack:"dbcore",transaction:S.transaction.bind(S),table:function(Te){if(!Ee[Te])throw new Error("Table '".concat(Te,"' not found"));return Ee[Te]},MIN_KEY:-1/0,MAX_KEY:Oa(I),schema:Ne}}function Pc(S,I,U,V){var G=U.IDBKeyRange;return U.indexedDB,{dbcore:(V=oA(I,G,V),S.dbcore.reduce(function(ie,me){return me=me.create,r(r({},ie),me(ie))},V))}}function co(S,V){var U=V.db,V=Pc(S._middlewares,U,S._deps,V);S.core=V.dbcore,S.tables.forEach(function(G){var ie=G.name;S.core.schema.tables.some(function(me){return me.name===ie})&&(G.core=S.core.table(ie),S[ie]instanceof S.Table&&(S[ie].core=G.core))})}function al(S,I,U,V){U.forEach(function(G){var ie=V[G];I.forEach(function(me){var Ce=function Ne(Pe,Le){return v(Pe,Le)||(Pe=u(Pe))&&Ne(Pe,Le)}(me,G);(!Ce||"value"in Ce&&Ce.value===void 0)&&(me===S.Transaction.prototype||me instanceof S.Transaction?p(me,G,{get:function(){return this.table(G)},set:function(Ne){h(this,G,{value:Ne,writable:!0,configurable:!0,enumerable:!0})}}):me[G]=new S.Table(G,ie))})})}function sl(S,I){I.forEach(function(U){for(var V in U)U[V]instanceof S.Table&&delete U[V]})}function Wl(S,I){return S._cfg.version-I._cfg.version}function Gl(S,I,U,V){var G=S._dbSchema;U.objectStoreNames.contains("$meta")&&!G.$meta&&(G.$meta=$l("$meta",xu("")[0],[]),S._storeNames.push("$meta"));var ie=S._createTransaction("readwrite",S._storeNames,G);ie.create(U),ie._completion.catch(V);var me=ie._reject.bind(ie),Ce=St.transless||St;vr(function(){return St.trans=ie,St.transless=Ce,I!==0?(co(S,U),Pe=I,((Ne=ie).storeNames.includes("$meta")?Ne.table("$meta").get("version").then(function(Le){return Le??Pe}):Je.resolve(Pe)).then(function(Le){return Te=Le,_e=ie,je=U,Fe=[],Le=(Ee=S)._versions,Ue=Ee._dbSchema=ol(0,Ee.idbdb,je),(Le=Le.filter(function(Ve){return Ve._cfg.version>=Te})).length!==0?(Le.forEach(function(Ve){Fe.push(function(){var Xe=Ue,nt=Ve._cfg.dbschema;fs(Ee,Xe,je),fs(Ee,nt,je),Ue=Ee._dbSchema=nt;var it=Dc(Xe,nt);it.add.forEach(function(Vt){uo(je,Vt[0],Vt[1].primKey,Vt[1].indexes)}),it.change.forEach(function(Vt){if(Vt.recreate)throw new re.Upgrade("Not yet support for changing primary key");var Rt=je.objectStore(Vt.name);Vt.add.forEach(function(Wt){return ql(Rt,Wt)}),Vt.change.forEach(function(Wt){Rt.deleteIndex(Wt.name),ql(Rt,Wt)}),Vt.del.forEach(function(Wt){return Rt.deleteIndex(Wt)})});var Bt=Ve._cfg.contentUpgrade;if(Bt&&Ve._cfg.version>Te){co(Ee,je),_e._memoizedTables={};var Ft=B(nt);it.del.forEach(function(Vt){Ft[Vt]=Xe[Vt]}),sl(Ee,[Ee.Transaction.prototype]),al(Ee,[Ee.Transaction.prototype],s(Ft),Ft),_e.schema=Ft;var It,Ot=ue(Bt);return Ot&&Or(),it=Je.follow(function(){var Vt;(It=Bt(_e))&&Ot&&(Vt=yr.bind(null,null),It.then(Vt,Vt))}),It&&typeof It.then=="function"?Je.resolve(It):it.then(function(){return It})}}),Fe.push(function(Xe){var nt,it,Bt=Ve._cfg.dbschema;nt=Bt,it=Xe,[].slice.call(it.db.objectStoreNames).forEach(function(Ft){return nt[Ft]==null&&it.db.deleteObjectStore(Ft)}),sl(Ee,[Ee.Transaction.prototype]),al(Ee,[Ee.Transaction.prototype],Ee._storeNames,Ee._dbSchema),_e.schema=Ee._dbSchema}),Fe.push(function(Xe){Ee.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ee.idbdb.version/10)===Ve._cfg.version?(Ee.idbdb.deleteObjectStore("$meta"),delete Ee._dbSchema.$meta,Ee._storeNames=Ee._storeNames.filter(function(nt){return nt!=="$meta"})):Xe.objectStore("$meta").put(Ve._cfg.version,"version"))})}),function Ve(){return Fe.length?Je.resolve(Fe.shift()(_e.idbtrans)).then(Ve):Je.resolve()}().then(function(){Za(Ue,je)})):Je.resolve();var Ee,Te,_e,je,Fe,Ue}).catch(me)):(s(G).forEach(function(Le){uo(U,Le,G[Le].primKey,G[Le].indexes)}),co(S,U),void Je.follow(function(){return S.on.populate.fire(ie)}).catch(me));var Ne,Pe})}function Rs(S,I){Za(S._dbSchema,I),I.db.version%10!=0||I.objectStoreNames.contains("$meta")||I.db.createObjectStore("$meta").add(Math.ceil(I.db.version/10-1),"version");var U=ol(0,S.idbdb,I);fs(S,S._dbSchema,I);for(var V=0,G=Dc(U,S._dbSchema).change;V<G.length;V++){var ie=function(me){if(me.change.length||me.recreate)return console.warn("Unable to patch indexes of table ".concat(me.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ce=I.objectStore(me.name);me.add.forEach(function(Ne){gt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(me.name,".").concat(Ne.src)),ql(Ce,Ne)})}(G[V]);if(typeof ie=="object")return ie.value}}function Dc(S,I){var U,V={del:[],add:[],change:[]};for(U in S)I[U]||V.del.push(U);for(U in I){var G=S[U],ie=I[U];if(G){var me={name:U,def:ie,recreate:!1,del:[],add:[],change:[]};if(""+(G.primKey.keyPath||"")!=""+(ie.primKey.keyPath||"")||G.primKey.auto!==ie.primKey.auto)me.recreate=!0,V.change.push(me);else{var Ce=G.idxByName,Ne=ie.idxByName,Pe=void 0;for(Pe in Ce)Ne[Pe]||me.del.push(Pe);for(Pe in Ne){var Le=Ce[Pe],Ee=Ne[Pe];Le?Le.src!==Ee.src&&me.change.push(Ee):me.add.push(Ee)}(0<me.del.length||0<me.add.length||0<me.change.length)&&V.change.push(me)}}else V.add.push([U,ie])}return V}function uo(S,I,U,V){var G=S.db.createObjectStore(I,U.keyPath?{keyPath:U.keyPath,autoIncrement:U.auto}:{autoIncrement:U.auto});return V.forEach(function(ie){return ql(G,ie)}),G}function Za(S,I){s(S).forEach(function(U){I.db.objectStoreNames.contains(U)||(gt&&console.debug("Dexie: Creating missing table",U),uo(I,U,S[U].primKey,S[U].indexes))})}function ql(S,I){S.createIndex(I.name,I.keyPath,{unique:I.unique,multiEntry:I.multi})}function ol(S,I,U){var V={};return y(I.objectStoreNames,0).forEach(function(G){for(var ie=U.objectStore(G),me=Vl(Bo(Pe=ie.keyPath),Pe||"",!0,!1,!!ie.autoIncrement,Pe&&typeof Pe!="string",!0),Ce=[],Ne=0;Ne<ie.indexNames.length;++Ne){var Le=ie.index(ie.indexNames[Ne]),Pe=Le.keyPath,Le=Vl(Le.name,Pe,!!Le.unique,!!Le.multiEntry,!1,Pe&&typeof Pe!="string",!1);Ce.push(Le)}V[G]=$l(G,me,Ce)}),V}function fs(S,I,U){for(var V=U.db.objectStoreNames,G=0;G<V.length;++G){var ie=V[G],me=U.objectStore(ie);S._hasGetAll="getAll"in me;for(var Ce=0;Ce<me.indexNames.length;++Ce){var Ne=me.indexNames[Ce],Pe=me.index(Ne).keyPath,Le=typeof Pe=="string"?Pe:"["+y(Pe).join("+")+"]";!I[ie]||(Pe=I[ie].idxByName[Le])&&(Pe.name=Ne,delete I[ie].idxByName[Le],I[ie].idxByName[Ne]=Pe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(S._hasGetAll=!1)}function xu(S){return S.split(",").map(function(I,U){var ie=I.split(":"),V=(G=ie[1])===null||G===void 0?void 0:G.trim(),G=(I=ie[0].trim()).replace(/([&*]|\+\+)/g,""),ie=/^\[/.test(G)?G.match(/^\[(.*)\]$/)[1].split("+"):G;return Vl(G,ie||null,/\&/.test(I),/\*/.test(I),/\+\+/.test(I),o(ie),U===0,V)})}var M=(X.prototype._createTableSchema=$l,X.prototype._parseIndexSyntax=xu,X.prototype._parseStoresSpec=function(S,I){var U=this;s(S).forEach(function(V){if(S[V]!==null){var G=U._parseIndexSyntax(S[V]),ie=G.shift();if(!ie)throw new re.Schema("Invalid schema for table "+V+": "+S[V]);if(ie.unique=!0,ie.multi)throw new re.Schema("Primary key cannot be multiEntry*");G.forEach(function(me){if(me.auto)throw new re.Schema("Only primary key can be marked as autoIncrement (++)");if(!me.keyPath)throw new re.Schema("Index must have a name and cannot be an empty string")}),G=U._createTableSchema(V,ie,G),I[V]=G}})},X.prototype.stores=function(U){var I=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,U):U;var U=I._versions,V={},G={};return U.forEach(function(ie){l(V,ie._cfg.storesSource),G=ie._cfg.dbschema={},ie._parseStoresSpec(V,G)}),I._dbSchema=G,sl(I,[I._allTables,I,I.Transaction.prototype]),al(I,[I._allTables,I,I.Transaction.prototype,this._cfg.tables],s(G),G),I._storeNames=s(G),this},X.prototype.upgrade=function(S){return this._cfg.contentUpgrade=Et(this._cfg.contentUpgrade||Ae,S),this},X);function X(){}function ge(S,I){var U=S._dbNamesDB;return U||(U=S._dbNamesDB=new ps(Li,{addons:[],indexedDB:S,IDBKeyRange:I})).version(1).stores({dbnames:"name"}),U.table("dbnames")}function Be(S){return S&&typeof S.databases=="function"}function Qe(S){return vr(function(){return St.letThrough=!0,S()})}function at(S){return!("from"in S)}var lt=function(S,I){if(!this){var U=new lt;return S&&"d"in S&&l(U,S),U}l(this,arguments.length?{d:1,from:S,to:1<arguments.length?I:S}:{d:0})};function Gt(S,I,U){var V=Pn(I,U);if(!isNaN(V)){if(0<V)throw RangeError();if(at(S))return l(S,{from:I,to:U,d:1});var G=S.l,V=S.r;if(Pn(U,S.from)<0)return G?Gt(G,I,U):S.l={from:I,to:U,d:1,l:null,r:null},nr(S);if(0<Pn(I,S.to))return V?Gt(V,I,U):S.r={from:I,to:U,d:1,l:null,r:null},nr(S);Pn(I,S.from)<0&&(S.from=I,S.l=null,S.d=V?V.d+1:1),0<Pn(U,S.to)&&(S.to=U,S.r=null,S.d=S.l?S.l.d+1:1),U=!S.r,G&&!S.l&&tn(S,G),V&&U&&tn(S,V)}}function tn(S,I){at(I)||function U(V,Ne){var ie=Ne.from,me=Ne.to,Ce=Ne.l,Ne=Ne.r;Gt(V,ie,me),Ce&&U(V,Ce),Ne&&U(V,Ne)}(S,I)}function xn(S,I){var U=Sn(I),V=U.next();if(V.done)return!1;for(var G=V.value,ie=Sn(S),me=ie.next(G.from),Ce=me.value;!V.done&&!me.done;){if(Pn(Ce.from,G.to)<=0&&0<=Pn(Ce.to,G.from))return!0;Pn(G.from,Ce.from)<0?G=(V=U.next(Ce.from)).value:Ce=(me=ie.next(G.from)).value}return!1}function Sn(S){var I=at(S)?null:{s:0,n:S};return{next:function(U){for(var V=0<arguments.length;I;)switch(I.s){case 0:if(I.s=1,V)for(;I.n.l&&Pn(U,I.n.from)<0;)I={up:I,n:I.n.l,s:1};else for(;I.n.l;)I={up:I,n:I.n.l,s:1};case 1:if(I.s=2,!V||Pn(U,I.n.to)<=0)return{value:I.n,done:!1};case 2:if(I.n.r){I.s=3,I={up:I,n:I.n.r,s:0};continue}case 3:I=I.up}return{done:!0}}}}function nr(S){var I,U,V=(((I=S.r)===null||I===void 0?void 0:I.d)||0)-(((U=S.l)===null||U===void 0?void 0:U.d)||0),G=1<V?"r":V<-1?"l":"";G&&(I=G=="r"?"l":"r",U=r({},S),V=S[G],S.from=V.from,S.to=V.to,S[G]=V[G],U[G]=V[I],(S[I]=U).d=hr(U)),S.d=hr(S)}function hr(U){var I=U.r,U=U.l;return(I?U?Math.max(I.d,U.d):I.d:U?U.d:0)+1}function Gr(S,I){return s(I).forEach(function(U){S[U]?tn(S[U],I[U]):S[U]=function V(G){var ie,me,Ce={};for(ie in G)d(G,ie)&&(me=G[ie],Ce[ie]=!me||typeof me!="object"||k.has(me.constructor)?me:V(me));return Ce}(I[U])}),S}function wr(S,I){return S.all||I.all||Object.keys(S).some(function(U){return I[U]&&xn(I[U],S[U])})}f(lt.prototype,((sa={add:function(S){return tn(this,S),this},addKey:function(S){return Gt(this,S,S),this},addKeys:function(S){var I=this;return S.forEach(function(U){return Gt(I,U,U)}),this},hasKey:function(S){var I=Sn(this).next(S).value;return I&&Pn(I.from,S)<=0&&0<=Pn(I.to,S)}})[q]=function(){return Sn(this)},sa));var Fr={},ei={},ai=!1;function kr(S){Gr(ei,S),ai||(ai=!0,setTimeout(function(){ai=!1,aa(ei,!(ei={}))},0))}function aa(S,I){I===void 0&&(I=!1);var U=new Set;if(S.all)for(var V=0,G=Object.values(Fr);V<G.length;V++)wu(me=G[V],S,U,I);else for(var ie in S){var me,Ce=/^idb\:\/\/(.*)\/(.*)\//.exec(ie);Ce&&(ie=Ce[1],Ce=Ce[2],(me=Fr["idb://".concat(ie,"/").concat(Ce)])&&wu(me,S,U,I))}U.forEach(function(Ne){return Ne()})}function wu(S,I,U,V){for(var G=[],ie=0,me=Object.entries(S.queries.query);ie<me.length;ie++){for(var Ce=me[ie],Ne=Ce[0],Pe=[],Le=0,Ee=Ce[1];Le<Ee.length;Le++){var Te=Ee[Le];wr(I,Te.obsSet)?Te.subscribers.forEach(function(Ue){return U.add(Ue)}):V&&Pe.push(Te)}V&&G.push([Ne,Pe])}if(V)for(var _e=0,je=G;_e<je.length;_e++){var Fe=je[_e],Ne=Fe[0],Pe=Fe[1];S.queries.query[Ne]=Pe}}function Ao(S){var I=S._state,U=S._deps.indexedDB;if(I.isBeingOpened||S.idbdb)return I.dbReadyPromise.then(function(){return I.dbOpenError?Ir(I.dbOpenError):S});I.isBeingOpened=!0,I.dbOpenError=null,I.openComplete=!1;var V=I.openCanceller,G=Math.round(10*S.verno),ie=!1;function me(){if(I.openCanceller!==V)throw new re.DatabaseClosed("db.open() was cancelled")}function Ce(){return new Je(function(Te,_e){if(me(),!U)throw new re.MissingAPI;var je=S.name,Fe=I.autoSchema||!G?U.open(je):U.open(je,G);if(!Fe)throw new re.MissingAPI;Fe.onerror=ia(_e),Fe.onblocked=At(S._fireOnBlocked),Fe.onupgradeneeded=At(function(Ue){var Ve;Le=Fe.transaction,I.autoSchema&&!S._options.allowEmptyDB?(Fe.onerror=Ic,Le.abort(),Fe.result.close(),(Ve=U.deleteDatabase(je)).onsuccess=Ve.onerror=At(function(){_e(new re.NoSuchDatabase("Database ".concat(je," doesnt exist")))})):(Le.onerror=ia(_e),Ue=Ue.oldVersion>Math.pow(2,62)?0:Ue.oldVersion,Ee=Ue<1,S.idbdb=Fe.result,ie&&Rs(S,Le),Gl(S,Ue/10,Le,_e))},_e),Fe.onsuccess=At(function(){Le=null;var Ue,Ve,Xe,nt,it,Bt=S.idbdb=Fe.result,Ft=y(Bt.objectStoreNames);if(0<Ft.length)try{var It=Bt.transaction((nt=Ft).length===1?nt[0]:nt,"readonly");if(I.autoSchema)Ve=Bt,Xe=It,(Ue=S).verno=Ve.version/10,Xe=Ue._dbSchema=ol(0,Ve,Xe),Ue._storeNames=y(Ve.objectStoreNames,0),al(Ue,[Ue._allTables],s(Xe),Xe);else if(fs(S,S._dbSchema,It),((it=Dc(ol(0,(it=S).idbdb,It),it._dbSchema)).add.length||it.change.some(function(Ot){return Ot.add.length||Ot.change.length}))&&!ie)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Bt.close(),G=Bt.version+1,ie=!0,Te(Ce());co(S,It)}catch{}so.push(S),Bt.onversionchange=At(function(Ot){I.vcFired=!0,S.on("versionchange").fire(Ot)}),Bt.onclose=At(function(Ot){S.on("close").fire(Ot)}),Ee&&(it=S._deps,It=je,Bt=it.indexedDB,it=it.IDBKeyRange,Be(Bt)||It===Li||ge(Bt,it).put({name:It}).catch(Ae)),Te()},_e)}).catch(function(Te){switch(Te==null?void 0:Te.name){case"UnknownError":if(0<I.PR1398_maxLoop)return I.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ce();break;case"VersionError":if(0<G)return G=0,Ce()}return Je.reject(Te)})}var Ne,Pe=I.dbReadyResolve,Le=null,Ee=!1;return Je.race([V,(typeof navigator>"u"?Je.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Te){function _e(){return indexedDB.databases().finally(Te)}Ne=setInterval(_e,100),_e()}).finally(function(){return clearInterval(Ne)}):Promise.resolve()).then(Ce)]).then(function(){return me(),I.onReadyBeingFired=[],Je.resolve(Qe(function(){return S.on.ready.fire(S.vip)})).then(function Te(){if(0<I.onReadyBeingFired.length){var _e=I.onReadyBeingFired.reduce(Et,Ae);return I.onReadyBeingFired=[],Je.resolve(Qe(function(){return _e(S.vip)})).then(Te)}})}).finally(function(){I.openCanceller===V&&(I.onReadyBeingFired=null,I.isBeingOpened=!1)}).catch(function(Te){I.dbOpenError=Te;try{Le&&Le.abort()}catch{}return V===I.openCanceller&&S._close(),Ir(Te)}).finally(function(){I.openComplete=!0,Pe()}).then(function(){var Te;return Ee&&(Te={},S.tables.forEach(function(_e){_e.schema.indexes.forEach(function(je){je.name&&(Te["idb://".concat(S.name,"/").concat(_e.name,"/").concat(je.name)]=new lt(-1/0,[[[]]]))}),Te["idb://".concat(S.name,"/").concat(_e.name,"/")]=Te["idb://".concat(S.name,"/").concat(_e.name,"/:dels")]=new lt(-1/0,[[[]]])}),Zr(kc).fire(Te),aa(Te,!0)),S})}function w(S){function I(ie){return S.next(ie)}var U=G(I),V=G(function(ie){return S.throw(ie)});function G(ie){return function(Ne){var Ce=ie(Ne),Ne=Ce.value;return Ce.done?Ne:Ne&&typeof Ne.then=="function"?Ne.then(U,V):o(Ne)?Promise.all(Ne).then(U,V):U(Ne)}}return G(I)()}function Q(S,I,U){for(var V=o(S)?S.slice():[S],G=0;G<U;++G)V.push(I);return V}var K={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(S){return r(r({},S),{table:function(I){var U=S.table(I),V=U.schema,G={},ie=[];function me(Ee,Te,_e){var je=fr(Ee),Fe=G[je]=G[je]||[],Ue=Ee==null?0:typeof Ee=="string"?1:Ee.length,Ve=0<Te,Ve=r(r({},_e),{name:Ve?"".concat(je,"(virtual-from:").concat(_e.name,")"):_e.name,lowLevelIndex:_e,isVirtual:Ve,keyTail:Te,keyLength:Ue,extractKey:Ls(Ee),unique:!Ve&&_e.unique});return Fe.push(Ve),Ve.isPrimaryKey||ie.push(Ve),1<Ue&&me(Ue===2?Ee[0]:Ee.slice(0,Ue-1),Te+1,_e),Fe.sort(function(Xe,nt){return Xe.keyTail-nt.keyTail}),Ve}I=me(V.primaryKey.keyPath,0,V.primaryKey),G[":id"]=[I];for(var Ce=0,Ne=V.indexes;Ce<Ne.length;Ce++){var Pe=Ne[Ce];me(Pe.keyPath,0,Pe)}function Le(Ee){var Te,_e=Ee.query.index;return _e.isVirtual?r(r({},Ee),{query:{index:_e.lowLevelIndex,range:(Te=Ee.query.range,_e=_e.keyTail,{type:Te.type===1?2:Te.type,lower:Q(Te.lower,Te.lowerOpen?S.MAX_KEY:S.MIN_KEY,_e),lowerOpen:!0,upper:Q(Te.upper,Te.upperOpen?S.MIN_KEY:S.MAX_KEY,_e),upperOpen:!0})}}):Ee}return r(r({},U),{schema:r(r({},V),{primaryKey:I,indexes:ie,getIndexByKeyPath:function(Ee){return(Ee=G[fr(Ee)])&&Ee[0]}}),count:function(Ee){return U.count(Le(Ee))},query:function(Ee){return U.query(Le(Ee))},openCursor:function(Ee){var Te=Ee.query.index,_e=Te.keyTail,je=Te.isVirtual,Fe=Te.keyLength;return je?U.openCursor(Le(Ee)).then(function(Ve){return Ve&&Ue(Ve)}):U.openCursor(Ee);function Ue(Ve){return Object.create(Ve,{continue:{value:function(Xe){Xe!=null?Ve.continue(Q(Xe,Ee.reverse?S.MAX_KEY:S.MIN_KEY,_e)):Ee.unique?Ve.continue(Ve.key.slice(0,Fe).concat(Ee.reverse?S.MIN_KEY:S.MAX_KEY,_e)):Ve.continue()}},continuePrimaryKey:{value:function(Xe,nt){Ve.continuePrimaryKey(Q(Xe,S.MAX_KEY,_e),nt)}},primaryKey:{get:function(){return Ve.primaryKey}},key:{get:function(){var Xe=Ve.key;return Fe===1?Xe[0]:Xe.slice(0,Fe)}},value:{get:function(){return Ve.value}}})}}})}})}};function ce(S,I,U,V){return U=U||{},V=V||"",s(S).forEach(function(G){var ie,me,Ce;d(I,G)?(ie=S[G],me=I[G],typeof ie=="object"&&typeof me=="object"&&ie&&me?(Ce=Y(ie))!==Y(me)?U[V+G]=I[G]:Ce==="Object"?ce(ie,me,U,V+G+"."):ie!==me&&(U[V+G]=I[G]):ie!==me&&(U[V+G]=I[G])):U[V+G]=void 0}),s(I).forEach(function(G){d(S,G)||(U[V+G]=I[G])}),U}function ze(S,I){return I.type==="delete"?I.keys:I.keys||I.values.map(S.extractKey)}var Ye={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(S){return r(r({},S),{table:function(I){var U=S.table(I),V=U.schema.primaryKey;return r(r({},U),{mutate:function(G){var ie=St.trans,me=ie.table(I).hook,Ce=me.deleting,Ne=me.creating,Pe=me.updating;switch(G.type){case"add":if(Ne.fire===Ae)break;return ie._promise("readwrite",function(){return Le(G)},!0);case"put":if(Ne.fire===Ae&&Pe.fire===Ae)break;return ie._promise("readwrite",function(){return Le(G)},!0);case"delete":if(Ce.fire===Ae)break;return ie._promise("readwrite",function(){return Le(G)},!0);case"deleteRange":if(Ce.fire===Ae)break;return ie._promise("readwrite",function(){return function Ee(Te,_e,je){return U.query({trans:Te,values:!1,query:{index:V,range:_e},limit:je}).then(function(Fe){var Ue=Fe.result;return Le({type:"delete",keys:Ue,trans:Te}).then(function(Ve){return 0<Ve.numFailures?Promise.reject(Ve.failures[0]):Ue.length<je?{failures:[],numFailures:0,lastResult:void 0}:Ee(Te,r(r({},_e),{lower:Ue[Ue.length-1],lowerOpen:!0}),je)})})}(G.trans,G.range,1e4)},!0)}return U.mutate(G);function Le(Ee){var Te,_e,je,Fe=St.trans,Ue=Ee.keys||ze(V,Ee);if(!Ue)throw new Error("Keys missing");return(Ee=Ee.type==="add"||Ee.type==="put"?r(r({},Ee),{keys:Ue}):r({},Ee)).type!=="delete"&&(Ee.values=i([],Ee.values)),Ee.keys&&(Ee.keys=i([],Ee.keys)),Te=U,je=Ue,((_e=Ee).type==="add"?Promise.resolve([]):Te.getMany({trans:_e.trans,keys:je,cache:"immutable"})).then(function(Ve){var Xe=Ue.map(function(nt,it){var Bt,Ft,It,Ot=Ve[it],Vt={onerror:null,onsuccess:null};return Ee.type==="delete"?Ce.fire.call(Vt,nt,Ot,Fe):Ee.type==="add"||Ot===void 0?(Bt=Ne.fire.call(Vt,nt,Ee.values[it],Fe),nt==null&&Bt!=null&&(Ee.keys[it]=nt=Bt,V.outbound||_(Ee.values[it],V.keyPath,nt))):(Bt=ce(Ot,Ee.values[it]),(Ft=Pe.fire.call(Vt,Bt,nt,Ot,Fe))&&(It=Ee.values[it],Object.keys(Ft).forEach(function(Rt){d(It,Rt)?It[Rt]=Ft[Rt]:_(It,Rt,Ft[Rt])}))),Vt});return U.mutate(Ee).then(function(nt){for(var it=nt.failures,Bt=nt.results,Ft=nt.numFailures,nt=nt.lastResult,It=0;It<Ue.length;++It){var Ot=(Bt||Ue)[It],Vt=Xe[It];Ot==null?Vt.onerror&&Vt.onerror(it[It]):Vt.onsuccess&&Vt.onsuccess(Ee.type==="put"&&Ve[It]?Ee.values[It]:Ot)}return{failures:it,results:Bt,numFailures:Ft,lastResult:nt}}).catch(function(nt){return Xe.forEach(function(it){return it.onerror&&it.onerror(nt)}),Promise.reject(nt)})})}}})}})}};function Dt(S,I,U){try{if(!I||I.keys.length<S.length)return null;for(var V=[],G=0,ie=0;G<I.keys.length&&ie<S.length;++G)Pn(I.keys[G],S[ie])===0&&(V.push(U?F(I.values[G]):I.values[G]),++ie);return V.length===S.length?V:null}catch{return null}}var rr={stack:"dbcore",level:-1,create:function(S){return{table:function(I){var U=S.table(I);return r(r({},U),{getMany:function(V){if(!V.cache)return U.getMany(V);var G=Dt(V.keys,V.trans._cache,V.cache==="clone");return G?Je.resolve(G):U.getMany(V).then(function(ie){return V.trans._cache={keys:V.keys,values:V.cache==="clone"?F(ie):ie},ie})},mutate:function(V){return V.type!=="add"&&(V.trans._cache=null),U.mutate(V)}})}}}};function si(S,I){return S.trans.mode==="readonly"&&!!S.subscr&&!S.trans.explicit&&S.trans.db._options.cache!=="disabled"&&!I.schema.primaryKey.outbound}function $n(S,I){switch(S){case"query":return I.values&&!I.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kn={stack:"dbcore",level:0,name:"Observability",create:function(S){var I=S.schema.name,U=new lt(S.MIN_KEY,S.MAX_KEY);return r(r({},S),{transaction:function(V,G,ie){if(St.subscr&&G!=="readonly")throw new re.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(St.querier));return S.transaction(V,G,ie)},table:function(V){var G=S.table(V),ie=G.schema,me=ie.primaryKey,Ee=ie.indexes,Ce=me.extractKey,Ne=me.outbound,Pe=me.autoIncrement&&Ee.filter(function(_e){return _e.compound&&_e.keyPath.includes(me.keyPath)}),Le=r(r({},G),{mutate:function(_e){function je(Rt){return Rt="idb://".concat(I,"/").concat(V,"/").concat(Rt),nt[Rt]||(nt[Rt]=new lt)}var Fe,Ue,Ve,Xe=_e.trans,nt=_e.mutatedParts||(_e.mutatedParts={}),it=je(""),Bt=je(":dels"),Ft=_e.type,Vt=_e.type==="deleteRange"?[_e.range]:_e.type==="delete"?[_e.keys]:_e.values.length<50?[ze(me,_e).filter(function(Rt){return Rt}),_e.values]:[],It=Vt[0],Ot=Vt[1],Vt=_e.trans._cache;return o(It)?(it.addKeys(It),(Vt=Ft==="delete"||It.length===Ot.length?Dt(It,Vt):null)||Bt.addKeys(It),(Vt||Ot)&&(Fe=je,Ue=Vt,Ve=Ot,ie.indexes.forEach(function(Rt){var Wt=Fe(Rt.name||"");function Fn(In){return In!=null?Rt.extractKey(In):null}function ir(In){return Rt.multiEntry&&o(In)?In.forEach(function(vi){return Wt.addKey(vi)}):Wt.addKey(In)}(Ue||Ve).forEach(function(In,La){var jn=Ue&&Fn(Ue[La]),La=Ve&&Fn(Ve[La]);Pn(jn,La)!==0&&(jn!=null&&ir(jn),La!=null&&ir(La))})}))):It?(Ot={from:(Ot=It.lower)!==null&&Ot!==void 0?Ot:S.MIN_KEY,to:(Ot=It.upper)!==null&&Ot!==void 0?Ot:S.MAX_KEY},Bt.add(Ot),it.add(Ot)):(it.add(U),Bt.add(U),ie.indexes.forEach(function(Rt){return je(Rt.name).add(U)})),G.mutate(_e).then(function(Rt){return!It||_e.type!=="add"&&_e.type!=="put"||(it.addKeys(Rt.results),Pe&&Pe.forEach(function(Wt){for(var Fn=_e.values.map(function(jn){return Wt.extractKey(jn)}),ir=Wt.keyPath.findIndex(function(jn){return jn===me.keyPath}),In=0,vi=Rt.results.length;In<vi;++In)Fn[In][ir]=Rt.results[In];je(Wt.name).addKeys(Fn)})),Xe.mutatedParts=Gr(Xe.mutatedParts||{},nt),Rt})}}),Ee=function(je){var Fe=je.query,je=Fe.index,Fe=Fe.range;return[je,new lt((je=Fe.lower)!==null&&je!==void 0?je:S.MIN_KEY,(Fe=Fe.upper)!==null&&Fe!==void 0?Fe:S.MAX_KEY)]},Te={get:function(_e){return[me,new lt(_e.key)]},getMany:function(_e){return[me,new lt().addKeys(_e.keys)]},count:Ee,query:Ee,openCursor:Ee};return s(Te).forEach(function(_e){Le[_e]=function(je){var Fe=St.subscr,Ue=!!Fe,Ve=si(St,G)&&$n(_e,je)?je.obsSet={}:Fe;if(Ue){var Xe=function(Ot){return Ot="idb://".concat(I,"/").concat(V,"/").concat(Ot),Ve[Ot]||(Ve[Ot]=new lt)},nt=Xe(""),it=Xe(":dels"),Fe=Te[_e](je),Ue=Fe[0],Fe=Fe[1];if((_e==="query"&&Ue.isPrimaryKey&&!je.values?it:Xe(Ue.name||"")).add(Fe),!Ue.isPrimaryKey){if(_e!=="count"){var Bt=_e==="query"&&Ne&&je.values&&G.query(r(r({},je),{values:!1}));return G[_e].apply(this,arguments).then(function(Ot){if(_e==="query"){if(Ne&&je.values)return Bt.then(function(Fn){return Fn=Fn.result,nt.addKeys(Fn),Ot});var Vt=je.values?Ot.result.map(Ce):Ot.result;(je.values?nt:it).addKeys(Vt)}else if(_e==="openCursor"){var Rt=Ot,Wt=je.values;return Rt&&Object.create(Rt,{key:{get:function(){return it.addKey(Rt.primaryKey),Rt.key}},primaryKey:{get:function(){var Fn=Rt.primaryKey;return it.addKey(Fn),Fn}},value:{get:function(){return Wt&&nt.addKey(Rt.primaryKey),Rt.value}}})}return Ot})}it.add(U)}}return G[_e].apply(this,arguments)}}),Le}})}};function Ur(S,I,U){if(U.numFailures===0)return I;if(I.type==="deleteRange")return null;var V=I.keys?I.keys.length:"values"in I&&I.values?I.values.length:1;return U.numFailures===V?null:(I=r({},I),o(I.keys)&&(I.keys=I.keys.filter(function(G,ie){return!(ie in U.failures)})),"values"in I&&o(I.values)&&(I.values=I.values.filter(function(G,ie){return!(ie in U.failures)})),I)}function hs(S,I){return U=S,((V=I).lower===void 0||(V.lowerOpen?0<Pn(U,V.lower):0<=Pn(U,V.lower)))&&(S=S,(I=I).upper===void 0||(I.upperOpen?Pn(S,I.upper)<0:Pn(S,I.upper)<=0));var U,V}function Fa(S,I,Te,V,G,ie){if(!Te||Te.length===0)return S;var me=I.query.index,Ce=me.multiEntry,Ne=I.query.range,Pe=V.schema.primaryKey.extractKey,Le=me.extractKey,Ee=(me.lowLevelIndex||me).extractKey,Te=Te.reduce(function(_e,je){var Fe=_e,Ue=[];if(je.type==="add"||je.type==="put")for(var Ve=new lt,Xe=je.values.length-1;0<=Xe;--Xe){var nt,it=je.values[Xe],Bt=Pe(it);Ve.hasKey(Bt)||(nt=Le(it),(Ce&&o(nt)?nt.some(function(Rt){return hs(Rt,Ne)}):hs(nt,Ne))&&(Ve.addKey(Bt),Ue.push(it)))}switch(je.type){case"add":var Ft=new lt().addKeys(I.values?_e.map(function(Wt){return Pe(Wt)}):_e),Fe=_e.concat(I.values?Ue.filter(function(Wt){return Wt=Pe(Wt),!Ft.hasKey(Wt)&&(Ft.addKey(Wt),!0)}):Ue.map(function(Wt){return Pe(Wt)}).filter(function(Wt){return!Ft.hasKey(Wt)&&(Ft.addKey(Wt),!0)}));break;case"put":var It=new lt().addKeys(je.values.map(function(Wt){return Pe(Wt)}));Fe=_e.filter(function(Wt){return!It.hasKey(I.values?Pe(Wt):Wt)}).concat(I.values?Ue:Ue.map(function(Wt){return Pe(Wt)}));break;case"delete":var Ot=new lt().addKeys(je.keys);Fe=_e.filter(function(Wt){return!Ot.hasKey(I.values?Pe(Wt):Wt)});break;case"deleteRange":var Vt=je.range;Fe=_e.filter(function(Wt){return!hs(Pe(Wt),Vt)})}return Fe},S);return Te===S?S:(Te.sort(function(_e,je){return Pn(Ee(_e),Ee(je))||Pn(Pe(_e),Pe(je))}),I.limit&&I.limit<1/0&&(Te.length>I.limit?Te.length=I.limit:S.length===I.limit&&Te.length<I.limit&&(G.dirty=!0)),ie?Object.freeze(Te):Te)}function Sa(S,I){return Pn(S.lower,I.lower)===0&&Pn(S.upper,I.upper)===0&&!!S.lowerOpen==!!I.lowerOpen&&!!S.upperOpen==!!I.upperOpen}function ll(S,I){return function(U,V,G,ie){if(U===void 0)return V!==void 0?-1:0;if(V===void 0)return 1;if((V=Pn(U,V))===0){if(G&&ie)return 0;if(G)return 1;if(ie)return-1}return V}(S.lower,I.lower,S.lowerOpen,I.lowerOpen)<=0&&0<=function(U,V,G,ie){if(U===void 0)return V!==void 0?1:0;if(V===void 0)return-1;if((V=Pn(U,V))===0){if(G&&ie)return 0;if(G)return-1;if(ie)return 1}return V}(S.upper,I.upper,S.upperOpen,I.upperOpen)}function Of(S,I,U,V){S.subscribers.add(U),V.addEventListener("abort",function(){var G,ie;S.subscribers.delete(U),S.subscribers.size===0&&(G=S,ie=I,setTimeout(function(){G.subscribers.size===0&&W(ie,G)},3e3))})}var Ff={stack:"dbcore",level:0,name:"Cache",create:function(S){var I=S.schema.name;return r(r({},S),{transaction:function(U,V,G){var ie,me,Ce=S.transaction(U,V,G);return V==="readwrite"&&(me=(ie=new AbortController).signal,G=function(Ne){return function(){if(ie.abort(),V==="readwrite"){for(var Pe=new Set,Le=0,Ee=U;Le<Ee.length;Le++){var Te=Ee[Le],_e=Fr["idb://".concat(I,"/").concat(Te)];if(_e){var je=S.table(Te),Fe=_e.optimisticOps.filter(function(Wt){return Wt.trans===Ce});if(Ce._explicit&&Ne&&Ce.mutatedParts)for(var Ue=0,Ve=Object.values(_e.queries.query);Ue<Ve.length;Ue++)for(var Xe=0,nt=(Ft=Ve[Ue]).slice();Xe<nt.length;Xe++)wr((It=nt[Xe]).obsSet,Ce.mutatedParts)&&(W(Ft,It),It.subscribers.forEach(function(Wt){return Pe.add(Wt)}));else if(0<Fe.length){_e.optimisticOps=_e.optimisticOps.filter(function(Wt){return Wt.trans!==Ce});for(var it=0,Bt=Object.values(_e.queries.query);it<Bt.length;it++)for(var Ft,It,Ot,Vt=0,Rt=(Ft=Bt[it]).slice();Vt<Rt.length;Vt++)(It=Rt[Vt]).res!=null&&Ce.mutatedParts&&(Ne&&!It.dirty?(Ot=Object.isFrozen(It.res),Ot=Fa(It.res,It.req,Fe,je,It,Ot),It.dirty?(W(Ft,It),It.subscribers.forEach(function(Wt){return Pe.add(Wt)})):Ot!==It.res&&(It.res=Ot,It.promise=Je.resolve({result:Ot}))):(It.dirty&&W(Ft,It),It.subscribers.forEach(function(Wt){return Pe.add(Wt)})))}}}Pe.forEach(function(Wt){return Wt()})}}},Ce.addEventListener("abort",G(!1),{signal:me}),Ce.addEventListener("error",G(!1),{signal:me}),Ce.addEventListener("complete",G(!0),{signal:me})),Ce},table:function(U){var V=S.table(U),G=V.schema.primaryKey;return r(r({},V),{mutate:function(ie){var me=St.trans;if(G.outbound||me.db._options.cache==="disabled"||me.explicit||me.idbtrans.mode!=="readwrite")return V.mutate(ie);var Ce=Fr["idb://".concat(I,"/").concat(U)];return Ce?(me=V.mutate(ie),ie.type!=="add"&&ie.type!=="put"||!(50<=ie.values.length||ze(G,ie).some(function(Ne){return Ne==null}))?(Ce.optimisticOps.push(ie),ie.mutatedParts&&kr(ie.mutatedParts),me.then(function(Ne){0<Ne.numFailures&&(W(Ce.optimisticOps,ie),(Ne=Ur(0,ie,Ne))&&Ce.optimisticOps.push(Ne),ie.mutatedParts&&kr(ie.mutatedParts))}),me.catch(function(){W(Ce.optimisticOps,ie),ie.mutatedParts&&kr(ie.mutatedParts)})):me.then(function(Ne){var Pe=Ur(0,r(r({},ie),{values:ie.values.map(function(Le,Ee){var Te;return Ne.failures[Ee]?Le:(Le=(Te=G.keyPath)!==null&&Te!==void 0&&Te.includes(".")?F(Le):r({},Le),_(Le,G.keyPath,Ne.results[Ee]),Le)})}),Ne);Ce.optimisticOps.push(Pe),queueMicrotask(function(){return ie.mutatedParts&&kr(ie.mutatedParts)})}),me):V.mutate(ie)},query:function(ie){if(!si(St,V)||!$n("query",ie))return V.query(ie);var me=((Pe=St.trans)===null||Pe===void 0?void 0:Pe.db._options.cache)==="immutable",Ee=St,Ce=Ee.requery,Ne=Ee.signal,Pe=function(je,Fe,Ue,Ve){var Xe=Fr["idb://".concat(je,"/").concat(Fe)];if(!Xe)return[];if(!(Fe=Xe.queries[Ue]))return[null,!1,Xe,null];var nt=Fe[(Ve.query?Ve.query.index.name:null)||""];if(!nt)return[null,!1,Xe,null];switch(Ue){case"query":var it=nt.find(function(Bt){return Bt.req.limit===Ve.limit&&Bt.req.values===Ve.values&&Sa(Bt.req.query.range,Ve.query.range)});return it?[it,!0,Xe,nt]:[nt.find(function(Bt){return("limit"in Bt.req?Bt.req.limit:1/0)>=Ve.limit&&(!Ve.values||Bt.req.values)&&ll(Bt.req.query.range,Ve.query.range)}),!1,Xe,nt];case"count":return it=nt.find(function(Bt){return Sa(Bt.req.query.range,Ve.query.range)}),[it,!!it,Xe,nt]}}(I,U,"query",ie),Le=Pe[0],Ee=Pe[1],Te=Pe[2],_e=Pe[3];return Le&&Ee?Le.obsSet=ie.obsSet:(Ee=V.query(ie).then(function(je){var Fe=je.result;if(Le&&(Le.res=Fe),me){for(var Ue=0,Ve=Fe.length;Ue<Ve;++Ue)Object.freeze(Fe[Ue]);Object.freeze(Fe)}else je.result=F(Fe);return je}).catch(function(je){return _e&&Le&&W(_e,Le),Promise.reject(je)}),Le={obsSet:ie.obsSet,promise:Ee,subscribers:new Set,type:"query",req:ie,dirty:!1},_e?_e.push(Le):(_e=[Le],(Te=Te||(Fr["idb://".concat(I,"/").concat(U)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ie.query.index.name||""]=_e)),Of(Le,_e,Ce,Ne),Le.promise.then(function(je){return{result:Fa(je.result,ie,Te==null?void 0:Te.optimisticOps,V,Le,me)}})}})}})}};function cl(S,I){return new Proxy(S,{get:function(U,V,G){return V==="db"?I:Reflect.get(U,V,G)}})}var ps=(ur.prototype.version=function(S){if(isNaN(S)||S<.1)throw new re.Type("Given version is not a positive number");if(S=Math.round(10*S)/10,this.idbdb||this._state.isBeingOpened)throw new re.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,S);var I=this._versions,U=I.filter(function(V){return V._cfg.version===S})[0];return U||(U=new this.Version(S),I.push(U),I.sort(Wl),U.stores({}),this._state.autoSchema=!1,U)},ur.prototype._whenReady=function(S){var I=this;return this.idbdb&&(this._state.openComplete||St.letThrough||this._vip)?S():new Je(function(U,V){if(I._state.openComplete)return V(new re.DatabaseClosed(I._state.dbOpenError));if(!I._state.isBeingOpened){if(!I._state.autoOpen)return void V(new re.DatabaseClosed);I.open().catch(Ae)}I._state.dbReadyPromise.then(U,V)}).then(S)},ur.prototype.use=function(S){var I=S.stack,U=S.create,V=S.level,G=S.name;return G&&this.unuse({stack:I,name:G}),S=this._middlewares[I]||(this._middlewares[I]=[]),S.push({stack:I,create:U,level:V??10,name:G}),S.sort(function(ie,me){return ie.level-me.level}),this},ur.prototype.unuse=function(S){var I=S.stack,U=S.name,V=S.create;return I&&this._middlewares[I]&&(this._middlewares[I]=this._middlewares[I].filter(function(G){return V?G.create!==V:!!U&&G.name!==U})),this},ur.prototype.open=function(){var S=this;return Mi(Jt,function(){return Ao(S)})},ur.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var S=this._state,I=so.indexOf(this);if(0<=I&&so.splice(I,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}S.isBeingOpened||(S.dbReadyPromise=new Je(function(U){S.dbReadyResolve=U}),S.openCanceller=new Je(function(U,V){S.cancelOpen=V}))},ur.prototype.close=function(U){var I=(U===void 0?{disableAutoOpen:!0}:U).disableAutoOpen,U=this._state;I?(U.isBeingOpened&&U.cancelOpen(new re.DatabaseClosed),this._close(),U.autoOpen=!1,U.dbOpenError=new re.DatabaseClosed):(this._close(),U.autoOpen=this._options.autoOpen||U.isBeingOpened,U.openComplete=!1,U.dbOpenError=null)},ur.prototype.delete=function(S){var I=this;S===void 0&&(S={disableAutoOpen:!0});var U=0<arguments.length&&typeof arguments[0]!="object",V=this._state;return new Je(function(G,ie){function me(){I.close(S);var Ce=I._deps.indexedDB.deleteDatabase(I.name);Ce.onsuccess=At(function(){var Ne,Pe,Le;Ne=I._deps,Pe=I.name,Le=Ne.indexedDB,Ne=Ne.IDBKeyRange,Be(Le)||Pe===Li||ge(Le,Ne).delete(Pe).catch(Ae),G()}),Ce.onerror=ia(ie),Ce.onblocked=I._fireOnBlocked}if(U)throw new re.InvalidArgument("Invalid closeOptions argument to db.delete()");V.isBeingOpened?V.dbReadyPromise.then(me):me()})},ur.prototype.backendDB=function(){return this.idbdb},ur.prototype.isOpen=function(){return this.idbdb!==null},ur.prototype.hasBeenClosed=function(){var S=this._state.dbOpenError;return S&&S.name==="DatabaseClosed"},ur.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ur.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ur.prototype,"tables",{get:function(){var S=this;return s(this._allTables).map(function(I){return S._allTables[I]})},enumerable:!1,configurable:!0}),ur.prototype.transaction=function(){var S=(function(I,U,V){var G=arguments.length;if(G<2)throw new re.InvalidArgument("Too few arguments");for(var ie=new Array(G-1);--G;)ie[G-1]=arguments[G];return V=ie.pop(),[I,D(ie),V]}).apply(this,arguments);return this._transaction.apply(this,S)},ur.prototype._transaction=function(S,I,U){var V=this,G=St.trans;G&&G.db===this&&S.indexOf("!")===-1||(G=null);var ie,me,Ce=S.indexOf("?")!==-1;S=S.replace("!","").replace("?","");try{if(me=I.map(function(Pe){if(Pe=Pe instanceof V.Table?Pe.name:Pe,typeof Pe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Pe}),S=="r"||S===ds)ie=ds;else{if(S!="rw"&&S!=Ql)throw new re.InvalidArgument("Invalid transaction mode: "+S);ie=Ql}if(G){if(G.mode===ds&&ie===Ql){if(!Ce)throw new re.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");G=null}G&&me.forEach(function(Pe){if(G&&G.storeNames.indexOf(Pe)===-1){if(!Ce)throw new re.SubTransaction("Table "+Pe+" not included in parent transaction.");G=null}}),Ce&&G&&!G.active&&(G=null)}}catch(Pe){return G?G._promise(null,function(Le,Ee){Ee(Pe)}):Ir(Pe)}var Ne=(function Pe(Le,Ee,Te,_e,je){return Je.resolve().then(function(){var Fe=St.transless||St,Ue=Le._createTransaction(Ee,Te,Le._dbSchema,_e);if(Ue.explicit=!0,Fe={trans:Ue,transless:Fe},_e)Ue.idbtrans=_e.idbtrans;else try{Ue.create(),Ue.idbtrans._explicit=!0,Le._state.PR1398_maxLoop=3}catch(nt){return nt.name===Se.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Pe(Le,Ee,Te,null,je)})):Ir(nt)}var Ve,Xe=ue(je);return Xe&&Or(),Fe=Je.follow(function(){var nt;(Ve=je.call(Ue,Ue))&&(Xe?(nt=yr.bind(null,null),Ve.then(nt,nt)):typeof Ve.next=="function"&&typeof Ve.throw=="function"&&(Ve=w(Ve)))},Fe),(Ve&&typeof Ve.then=="function"?Je.resolve(Ve).then(function(nt){return Ue.active?nt:Ir(new re.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Fe.then(function(){return Ve})).then(function(nt){return _e&&Ue._resolve(),Ue._completion.then(function(){return nt})}).catch(function(nt){return Ue._reject(nt),Ir(nt)})})}).bind(null,this,ie,me,G,U);return G?G._promise(ie,Ne,"lock"):St.trans?Mi(St.transless,function(){return V._whenReady(Ne)}):this._whenReady(Ne)},ur.prototype.table=function(S){if(!d(this._allTables,S))throw new re.InvalidTable("Table ".concat(S," does not exist"));return this._allTables[S]},ur);function ur(S,I){var U=this;this._middlewares={},this.verno=0;var V=ur.dependencies;this._options=I=r({addons:ur.addons,autoOpen:!0,indexedDB:V.indexedDB,IDBKeyRange:V.IDBKeyRange,cache:"cloned"},I),this._deps={indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange},V=I.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var G,ie,me,Ce,Ne,Pe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ae,dbReadyPromise:null,cancelOpen:Ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:I.autoOpen};Pe.dbReadyPromise=new Je(function(Ee){Pe.dbReadyResolve=Ee}),Pe.openCanceller=new Je(function(Ee,Te){Pe.cancelOpen=Te}),this._state=Pe,this.name=S,this.on=Ps(this,"populate","blocked","versionchange","close",{ready:[Et,Ae]}),this.once=function(Ee,Te){var _e=function(){for(var je=[],Fe=0;Fe<arguments.length;Fe++)je[Fe]=arguments[Fe];U.on(Ee).unsubscribe(_e),Te.apply(U,je)};return U.on(Ee,_e)},this.on.ready.subscribe=b(this.on.ready.subscribe,function(Ee){return function(Te,_e){ur.vip(function(){var je,Fe=U._state;Fe.openComplete?(Fe.dbOpenError||Je.resolve().then(Te),_e&&Ee(Te)):Fe.onReadyBeingFired?(Fe.onReadyBeingFired.push(Te),_e&&Ee(Te)):(Ee(Te),je=U,_e||Ee(function Ue(){je.on.ready.unsubscribe(Te),je.on.ready.unsubscribe(Ue)}))})}}),this.Collection=(G=this,Ca(Os.prototype,function(Ve,Ue){this.db=G;var _e=vu,je=null;if(Ue)try{_e=Ue()}catch(Xe){je=Xe}var Fe=Ve._ctx,Ue=Fe.table,Ve=Ue.hook.reading.fire;this._ctx={table:Ue,index:Fe.index,isPrimKey:!Fe.index||Ue.schema.primKey.keyPath&&Fe.index===Ue.schema.primKey.name,range:_e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:je,or:Fe.or,valueMapper:Ve!==He?Ve:null}})),this.Table=(ie=this,Ca(rA.prototype,function(Ee,Te,_e){this.db=ie,this._tx=_e,this.name=Ee,this.schema=Te,this.hook=ie._allTables[Ee]?ie._allTables[Ee].hook:Ps(null,{creating:[$e,Ae],reading:[Ie,He],updating:[pt,Ae],deleting:[mt,Ae]})})),this.Transaction=(me=this,Ca(il.prototype,function(Ee,Te,_e,je,Fe){var Ue=this;Ee!=="readonly"&&Te.forEach(function(Ve){Ve=(Ve=_e[Ve])===null||Ve===void 0?void 0:Ve.yProps,Ve&&(Te=Te.concat(Ve.map(function(Xe){return Xe.updatesTable})))}),this.db=me,this.mode=Ee,this.storeNames=Te,this.schema=_e,this.chromeTransactionDurability=je,this.idbtrans=null,this.on=Ps(this,"complete","error","abort"),this.parent=Fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Je(function(Ve,Xe){Ue._resolve=Ve,Ue._reject=Xe}),this._completion.then(function(){Ue.active=!1,Ue.on.complete.fire()},function(Ve){var Xe=Ue.active;return Ue.active=!1,Ue.on.error.fire(Ve),Ue.parent?Ue.parent._reject(Ve):Xe&&Ue.idbtrans&&Ue.idbtrans.abort(),Ir(Ve)})})),this.Version=(Ce=this,Ca(M.prototype,function(Ee){this.db=Ce,this._cfg={version:Ee,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ne=this,Ca(Tc.prototype,function(Ee,Te,_e){if(this.db=Ne,this._ctx={table:Ee,index:Te===":id"?null:Te,or:_e},this._cmp=this._ascending=Pn,this._descending=function(je,Fe){return Pn(Fe,je)},this._max=function(je,Fe){return 0<Pn(je,Fe)?je:Fe},this._min=function(je,Fe){return Pn(je,Fe)<0?je:Fe},this._IDBKeyRange=Ne._deps.IDBKeyRange,!this._IDBKeyRange)throw new re.MissingAPI})),this.on("versionchange",function(Ee){0<Ee.newVersion?console.warn("Another connection wants to upgrade database '".concat(U.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(U.name,"'. Closing db now to resume the delete request.")),U.close({disableAutoOpen:!1})}),this.on("blocked",function(Ee){!Ee.newVersion||Ee.newVersion<Ee.oldVersion?console.warn("Dexie.delete('".concat(U.name,"') was blocked")):console.warn("Upgrade '".concat(U.name,"' blocked by other connection holding version ").concat(Ee.oldVersion/10))}),this._maxKey=Oa(I.IDBKeyRange),this._createTransaction=function(Ee,Te,_e,je){return new U.Transaction(Ee,Te,_e,U._options.chromeTransactionDurability,je)},this._fireOnBlocked=function(Ee){U.on("blocked").fire(Ee),so.filter(function(Te){return Te.name===U.name&&Te!==U&&!Te._state.vcFired}).map(function(Te){return Te.on("versionchange").fire(Ee)})},this.use(rr),this.use(Ff),this.use(Kn),this.use(K),this.use(Ye);var Le=new Proxy(this,{get:function(Ee,Te,_e){if(Te==="_vip")return!0;if(Te==="table")return function(Fe){return cl(U.table(Fe),Le)};var je=Reflect.get(Ee,Te,_e);return je instanceof rA?cl(je,Le):Te==="tables"?je.map(function(Fe){return cl(Fe,Le)}):Te==="_createTransaction"?function(){return cl(je.apply(this,arguments),Le)}:je}});this.vip=Le,V.forEach(function(Ee){return Ee(U)})}var es,sa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Oc=(Yl.prototype.subscribe=function(S,I,U){return this._subscribe(S&&typeof S!="function"?S:{next:S,error:I,complete:U})},Yl.prototype[sa]=function(){return this},Yl);function Yl(S){this._subscribe=S}try{es={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{es={indexedDB:null,IDBKeyRange:null}}function ad(S){var I,U=!1,V=new Oc(function(G){var ie=ue(S),me,Ce=!1,Ne={},Pe={},Le={get closed(){return Ce},unsubscribe:function(){Ce||(Ce=!0,me&&me.abort(),Ee&&Zr.storagemutated.unsubscribe(_e))}};G.start&&G.start(Le);var Ee=!1,Te=function(){return Zo(je)},_e=function(Fe){Gr(Ne,Fe),wr(Pe,Ne)&&Te()},je=function(){var Fe,Ue,Ve;!Ce&&es.indexedDB&&(Ne={},Fe={},me&&me.abort(),me=new AbortController,Ve=function(Xe){var nt=Me();try{ie&&Or();var it=vr(S,Xe);return it=ie?it.finally(yr):it}finally{nt&&Oe()}}(Ue={subscr:Fe,signal:me.signal,requery:Te,querier:S,trans:null}),Promise.resolve(Ve).then(function(Xe){U=!0,I=Xe,Ce||Ue.signal.aborted||(Ne={},function(nt){for(var it in nt)if(d(nt,it))return;return 1}(Pe=Fe)||Ee||(Zr(kc,_e),Ee=!0),Zo(function(){return!Ce&&G.next&&G.next(Xe)}))},function(Xe){U=!1,["DatabaseClosedError","AbortError"].includes(Xe==null?void 0:Xe.name)||Ce||Zo(function(){Ce||G.error&&G.error(Xe)})}))};return setTimeout(Te,0),Le});return V.hasValue=function(){return U},V.getValue=function(){return I},V}var No=ps;function gi(S){var I=Ma;try{Ma=!0,Zr.storagemutated.fire(S),aa(S,!0)}finally{Ma=I}}f(No,r(r({},xe),{delete:function(S){return new No(S,{addons:[]}).delete()},exists:function(S){return new No(S,{addons:[]}).open().then(function(I){return I.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(S){try{return I=No.dependencies,U=I.indexedDB,I=I.IDBKeyRange,(Be(U)?Promise.resolve(U.databases()).then(function(V){return V.map(function(G){return G.name}).filter(function(G){return G!==Li})}):ge(U,I).toCollection().primaryKeys()).then(S)}catch{return Ir(new re.MissingAPI)}var I,U},defineClass:function(){return function(S){l(this,S)}},ignoreTransaction:function(S){return St.trans?Mi(St.transless,S):S()},vip:Qe,async:function(S){return function(){try{var I=w(S.apply(this,arguments));return I&&typeof I.then=="function"?I:Je.resolve(I)}catch(U){return Ir(U)}}},spawn:function(S,I,U){try{var V=w(S.apply(U,I||[]));return V&&typeof V.then=="function"?V:Je.resolve(V)}catch(G){return Ir(G)}},currentTransaction:{get:function(){return St.trans||null}},waitFor:function(S,I){return I=Je.resolve(typeof S=="function"?No.ignoreTransaction(S):S).timeout(I||6e4),St.trans?St.trans.waitFor(I):I},Promise:Je,debug:{get:function(){return gt},set:function(S){$t(S)}},derive:m,extend:l,props:f,override:b,Events:Ps,on:Zr,liveQuery:ad,extendObservabilitySet:Gr,getByKeyPath:N,setByKeyPath:_,delByKeyPath:function(S,I){typeof I=="string"?_(S,I,void 0):"length"in I&&[].map.call(I,function(U){_(S,U,void 0)})},shallowClone:B,deepClone:F,getObjectDiff:ce,cmp:Pn,asap:E,minKey:-1/0,addons:[],connections:so,errnames:Se,dependencies:es,cache:Fr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(S){return parseInt(S)}).reduce(function(S,I,U){return S+I/Math.pow(10,2*U)})})),No.maxKey=Oa(No.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zr(kc,function(S){Ma||(S=new CustomEvent(aA,{detail:S}),Ma=!0,dispatchEvent(S),Ma=!1)}),addEventListener(aA,function(S){S=S.detail,Ma||gi(S)}));var Fc,Ma=!1,ul=function(){};return typeof BroadcastChannel<"u"&&((ul=function(){(Fc=new BroadcastChannel(aA)).onmessage=function(S){return S.data&&gi(S.data)}})(),typeof Fc.unref=="function"&&Fc.unref(),Zr(kc,function(S){Ma||Fc.postMessage(S)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(S){if(!ps.disableBfCache&&S.persisted){gt&&console.debug("Dexie: handling persisted pagehide"),Fc!=null&&Fc.close();for(var I=0,U=so;I<U.length;I++)U[I].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(S){!ps.disableBfCache&&S.persisted&&(gt&&console.debug("Dexie: handling persisted pageshow"),ul(),gi({all:new lt(-1/0,[[]])}))})),Je.rejectionMapper=function(S,I){return!S||S instanceof $||S instanceof TypeError||S instanceof SyntaxError||!S.name||!pe[S.name]?S:(I=new pe[S.name](I||S.message,S),"stack"in S&&p(I,"stack",{get:function(){return this.inner.stack}}),I)},$t(gt),r(ps,Object.freeze({__proto__:null,Dexie:ps,liveQuery:ad,Entity:yu,cmp:Pn,PropModification:lo,replacePrefix:function(S,I){return new lo({replacePrefix:[S,I]})},add:function(S){return new lo({add:S})},remove:function(S){return new lo({remove:S})},default:ps,RangeSet:lt,mergeRanges:tn,rangesOverlap:xn}),{default:ps}),ps})})(vq);var epe=vq.exports;const Gj=Rr(epe),PR=Symbol.for("Dexie"),fg=globalThis[PR]||(globalThis[PR]=Gj);if(Gj.semVer!==fg.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Gj.semVer} and ${fg.semVer}`);const{liveQuery:ylt,mergeRanges:blt,rangesOverlap:xlt,RangeSet:wlt,cmp:Clt,Entity:Slt,PropModification:Elt,replacePrefix:_lt,add:Blt,remove:Nlt,DexieYProvider:jlt}=fg,yq="GanaderoOS_DB",bq=21;class tpe extends fg{constructor(){super(yq);Mn(this,"animals");Mn(this,"fathers");Mn(this,"parturitions");Mn(this,"weighings");Mn(this,"lots");Mn(this,"origins");Mn(this,"breedingSeasons");Mn(this,"sireLots");Mn(this,"serviceRecords");Mn(this,"events");Mn(this,"feedingPlans");Mn(this,"bodyWeighings");Mn(this,"products");Mn(this,"healthPlans");Mn(this,"planActivities");Mn(this,"healthEvents");this.version(bq).stores({animals:"&id, userId, status, location, motherId, fatherId, sireLotId, _synced",fathers:"&id, userId, _synced",parturitions:"&id, userId, goatId, status, _synced",weighings:"&id, userId, goatId, date, _synced",lots:"&id, userId, &name, parentLotId, _synced",origins:"&id, userId, &name, _synced",breedingSeasons:"&id, userId, &name, status, _synced",sireLots:"&id, userId, seasonId, sireId, _synced",serviceRecords:"&id, userId, sireLotId, femaleId, _synced",events:"&id, userId, animalId, date, type, lotName, _synced",feedingPlans:"&id, userId, lotName, _synced",bodyWeighings:"&id, userId, animalId, date, _synced",products:"&id, userId, &name, category, _synced",healthPlans:"&id, userId, &name, targetGroup, _synced",planActivities:"&id, userId, healthPlanId, category, _synced",healthEvents:"&id, userId, animalId, date, activityId, _synced"})}}let Gv=null;const npe=async()=>{if(Gv)return Gv;const t=new tpe;try{return await t.open(),console.log("Base de datos local abierta con xito (v"+bq+")."),Gv=t,t}catch(e){return console.error("Error al abrir la base de datos local.",e),e.name==="VersionError"?console.log("Dexie intentar actualizar la estructura de la base de datos."):confirm("Error al iniciar la base de datos local. Deseas forzar el reinicio? (Tus datos en la nube estn seguros). La aplicacin se recargar.")?(await fg.delete(yq),window.location.reload()):alert("La aplicacin no puede continuar sin una base de datos funcional."),new Promise(()=>{})}},er=()=>{if(!Gv)throw new Error("La base de datos no ha sido inicializada. Llama a initDB() primero.");return Gv},ys=[];for(let t=0;t<256;++t)ys.push((t+256).toString(16).slice(1));function rpe(t,e=0){return(ys[t[e+0]]+ys[t[e+1]]+ys[t[e+2]]+ys[t[e+3]]+"-"+ys[t[e+4]]+ys[t[e+5]]+"-"+ys[t[e+6]]+ys[t[e+7]]+"-"+ys[t[e+8]]+ys[t[e+9]]+"-"+ys[t[e+10]]+ys[t[e+11]]+ys[t[e+12]]+ys[t[e+13]]+ys[t[e+14]]+ys[t[e+15]]).toLowerCase()}let hB;const ipe=new Uint8Array(16);function ape(){if(!hB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hB=crypto.getRandomValues.bind(crypto)}return hB(ipe)}const spe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),DR={randomUUID:spe};function ope(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??ape();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rpe(r)}function $s(t,e,n){return DR.randomUUID&&!t?DR.randomUUID():ope(t)}const Td={nombreFinca:"Mi Finca",theme:"dark",pesoPrimerServicioKg:30,edadPrimerServicioMeses:11,diasGestacion:150,diasConfirmarPrenez:60,diasPreParto:15,diasLactanciaObjetivo:300,diasAlertaInicioSecado:75,diasMetaSecadoCompleto:60,diasAlertaPesarDestete:45,pesoMinimoPesarDestete:9,diasMetaDesteteFinal:52,pesoMinimoDesteteFinal:9.5},xq=P.createContext({}),en=()=>P.useContext(xq),Ki=async(t,e,n)=>{try{const r=Object.entries(n).reduce((l,[u,A])=>(A!==void 0&&u!=="_synced"&&(l[u]=A),l),{}),i=er()[t],a=await i.get(e),s=!a||!a.createdAt||n.createdAt===kR(),o={...r};s&&!r.createdAt?o.createdAt=kR():(r.createdAt===null||r.createdAt===void 0)&&delete o.createdAt,await Wj(Va(xi,t,e),o,{merge:!0}),await i.update(e,{_synced:!0})}catch(r){console.error(`Firestore sync for ${t} (${e}) failed:`,r);const i=er()[t];try{await i.update(e,{_synced:!1})}catch(a){console.error(`Failed to update sync status locally for ${t} (${e}):`,a)}}},lpe=({children:t})=>{const{currentUser:e}=gq(),[n,r]=P.useState([]),[i,a]=P.useState([]),[s,o]=P.useState([]),[l,u]=P.useState([]),[A,d]=P.useState([]),[f,h]=P.useState([]),[p,m]=P.useState([]),[v,g]=P.useState([]),[y,b]=P.useState([]),[C,E]=P.useState([]),[N,_]=P.useState([]),[B,j]=P.useState([]),[D,k]=P.useState([]),[O,F]=P.useState([]),[H,Y]=P.useState([]),[q,Z]=P.useState([]),[W,oe]=P.useState(!0),[te,ue]=P.useState(navigator.onLine?"idle":"offline"),[R,$]=P.useState(Td),[J,ne]=P.useState(!0),he=P.useRef(null),Se=P.useRef([]),we=P.useRef(!1),re=P.useCallback(async()=>{if(we.current||Se.current.length===0||!navigator.onLine){Se.current.length===0&&!we.current&&ue("idle");return}we.current=!0,ue("syncing");const Me=Se.current.shift();if(Me)try{await Me()}catch(Oe){console.error("Sync Queue: Error processing item:",Oe)}we.current=!1,Se.current.length>0?setTimeout(re,100):(ue("idle"),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{Se.current.length===0&&!we.current&&ue("idle")},2e3))},[]),pe=P.useCallback(Me=>{Se.current.push(Me),we.current||re()},[re]),xe=P.useCallback(async()=>{try{const Me=er(),[Oe,Ge,_t,At,Yt,yn,Yn,Ut,mn,Xr,vr,Or,yr,Zn,br,Jr]=await Promise.all([Me.animals.toArray(),Me.fathers.toArray(),Me.weighings.toArray(),Me.parturitions.toArray(),Me.lots.toArray(),Me.origins.toArray(),Me.breedingSeasons.toArray(),Me.sireLots.toArray(),Me.serviceRecords.toArray(),Me.events.toArray(),Me.feedingPlans.toArray(),Me.bodyWeighings.toArray(),Me.products.toArray(),Me.healthPlans.toArray(),Me.planActivities.toArray(),Me.healthEvents.toArray()]);r(Oe),a(Ge),o(_t),u(At),d(Yt),h(yn),m(Yn),g(Ut),b(mn),E(Xr),_(vr),j(Or),k(yr),F(Zn),Y(br),Z(Jr)}catch(Me){console.error("Error al cargar datos locales:",Me)}finally{oe(!1)}},[]);P.useEffect(()=>{let Me=[];const Oe=()=>{ue("idle"),re()},Ge=()=>ue("offline");return window.addEventListener("online",Oe),window.addEventListener("offline",Ge),(async()=>{if(!e){oe(!1),ne(!1),r([]),a([]),o([]),u([]),d([]),h([]),m([]),g([]),b([]),E([]),_([]),j([]),k([]),F([]),Y([]),Z([]),$(Td);return}oe(!0),ne(!0);try{const At=await npe();await xe();const Yt=Va(xi,"configuracion",e.uid),yn=IR(Yt,mn=>{mn.exists()?$(Xr=>({...Td,...Xr,...mn.data()})):($(Td),Wj(Yt,Td).catch(Xr=>console.error("Failed to set default config",Xr))),ne(!1)},mn=>{console.error("Error fetching config:",mn),ne(!1)});Me.push(yn);const Yn=mn=>$he(khe(xi,mn),Khe("userId","==",e.uid)),Ut=(mn,Xr)=>{const vr=IR(Yn(mn),async Or=>{if(Or.metadata.hasPendingWrites)return;const yr=Or.docChanges().map(Zn=>{const br={id:Zn.doc.id,...Zn.doc.data()};return Object.keys(br).forEach(Jr=>{br[Jr]instanceof Ia&&(br[Jr]=br[Jr].toMillis())}),{type:Zn.type,data:br}});if(yr.length>0){navigator.onLine&&(ue("syncing"),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{Se.current.length===0&&!we.current&&ue("idle")},2e3));try{await At.transaction("rw",Xr,async()=>{for(const Zn of yr)Zn.data._synced=!0,Zn.type==="added"||Zn.type==="modified"?await Xr.put(Zn.data):Zn.type==="removed"&&await Xr.delete(Zn.data.id)}),await xe()}catch(Zn){console.error(`Dexie transaction error during sync for ${mn}:`,Zn)}}},Or=>{Or.code==="permission-denied"?console.warn(`Permission denied for ${mn}.`):console.error(`Firestore snapshot error for ${mn}:`,Or)});Me.push(vr)};Ut("animals",At.animals),Ut("fathers",At.fathers),Ut("parturitions",At.parturitions),Ut("weighings",At.weighings),Ut("lots",At.lots),Ut("origins",At.origins),Ut("breedingSeasons",At.breedingSeasons),Ut("sireLots",At.sireLots),Ut("serviceRecords",At.serviceRecords),Ut("events",At.events),Ut("feedingPlans",At.feedingPlans),Ut("bodyWeighings",At.bodyWeighings),Ut("products",At.products),Ut("healthPlans",At.healthPlans),Ut("planActivities",At.planActivities),Ut("healthEvents",At.healthEvents)}catch(At){console.error("Fallo crtico en la inicializacin:",At),oe(!1),ne(!1)}})(),()=>{Me.forEach(At=>At()),window.removeEventListener("online",Oe),window.removeEventListener("offline",Ge),he.current&&clearTimeout(he.current)}},[e==null?void 0:e.uid,xe,re]);const Ae=P.useCallback(Me=>{e&&(async()=>{try{const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.events.put(Ge),pe(()=>Ki("events",Ge.id,Ge)),setTimeout(xe,50)}catch(Oe){console.error("Error en registro de evento local:",Oe)}})()},[e,pe,xe]),He=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=(Me.id?Me.id:`REF-${Date.now()}`).toUpperCase(),_t={...Me,id:Ge,userId:e.uid,createdAt:Date.now(),_synced:!1};await Oe.animals.put(_t);let At="";if(_t.birthDate&&_t.birthDate!=="N/A")try{At=` F.N.: ${new Date(_t.birthDate+"T00:00:00Z").toLocaleDateString("es-VE",{day:"numeric",month:"short",year:"numeric",timeZone:"UTC"})}`}catch{At=` F.N.: ${_t.birthDate}.`}else At=" F.N. desconocida.";const Yt=_t.isReference?"Animal de Referencia":"Animal (Activo)";Ae({animalId:_t.id,date:new Date(_t.createdAt).toISOString().split("T")[0],type:"Registro",details:`${Yt} registrado en el sistema.${At}`,lotName:_t.location}),xe(),pe(()=>Ki("animals",_t.id,_t))},[e,pe,xe,Ae]),Ie=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t=Me.toUpperCase(),At=new Date().toISOString().split("T")[0],Yt=await Ge.animals.get(_t);if(!Yt)throw new Error("Animal no encontrado para actualizar");Oe.birthDate&&Oe.birthDate!=="N/A"&&!Oe.lifecycleStage?Oe.lifecycleStage=cpe(Oe.birthDate,Yt.sex):(Oe.birthDate==="N/A"||Oe.birthDate==="")&&!Oe.lifecycleStage&&(delete Oe.lifecycleStage,Oe.birthDate="N/A");const yn={...Oe,_synced:!1};await Ge.animals.update(_t,yn),Oe.location!==void 0&&Oe.location!==Yt.location&&Ae({animalId:_t,date:At,type:"Movimiento",details:`Movido de '${Yt.location||"Sin Asignar"}' a '${Oe.location||"Sin Asignar"}'`,lotName:Oe.location||""}),Oe.reproductiveStatus!==void 0&&Oe.reproductiveStatus!==Yt.reproductiveStatus&&Ae({animalId:_t,date:At,type:"Cambio de Estado",details:`Estado reproductivo: ${Oe.reproductiveStatus}`}),Oe.status!==void 0&&Oe.status!==Yt.status&&Ae({animalId:_t,date:Oe.endDate||At,type:"Cambio de Estado",details:`Animal dado de baja: ${Oe.status} ${Oe.cullReason?`(${Oe.cullReason})`:""}`}),Oe.weaningDate&&!Yt.weaningDate&&Ae({animalId:_t,date:Oe.weaningDate,type:"Cambio de Estado",details:`Destetado con ${Oe.weaningWeight||"N/A"} Kg`}),xe();const Yn=await Ge.animals.get(_t);Yn&&pe(()=>Ki("animals",_t,Yn))},[e,pe,xe,Ae]),fe=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=Me.toUpperCase();await Oe.animals.delete(Ge),xe(),pe(()=>Lf(Va(xi,"animals",Ge)).catch(_t=>console.error("Firestore delete sync failed:",_t)))},[e,pe,xe]),$e=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=await Oe.parturitions.get(Me);if(!Ge)throw new Error("Parto no encontrado");const _t={status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0],_synced:!1};await Oe.parturitions.update(Me,_t),Ae({animalId:Ge.goatId,date:_t.dryingStartDate,type:"Cambio de Estado",details:`Inici proceso de secado (Lactancia de ${Ge.parturitionDate})`}),xe();const At=await Oe.parturitions.get(Me);At&&pe(()=>Ki("parturitions",Me,At))},[e,pe,xe,Ae]),mt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=await Oe.parturitions.get(Me);if(!Ge)throw new Error("Parto no encontrado");const _t={status:"seca",_synced:!1};await Oe.parturitions.update(Me,_t),Ae({animalId:Ge.goatId,date:new Date().toISOString().split("T")[0],type:"Cambio de Estado",details:`Declarada Seca (Lactancia de ${Ge.parturitionDate})`}),xe();const At=await Oe.parturitions.get(Me);At&&pe(()=>Ki("parturitions",Me,At))},[e,pe,xe,Ae]),pt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er();if(await Oe.lots.where("name").equalsIgnoreCase(Me.name).first())throw new Error(`El lote '${Me.name}' ya existe.`);const _t={id:$s(),name:Me.name,parentLotId:Me.parentLotId,userId:e.uid,_synced:!1};await Oe.lots.put(_t),xe(),pe(()=>Ki("lots",_t.id,_t))},[e,pe,xe]),rt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=await Oe.lots.get(Me);if(Ge){if(await Oe.animals.where({location:Ge.name}).count()>0)throw new Error("No se puede eliminar un lote con animales asignados.");if(await Oe.lots.where({parentLotId:Me}).count()>0)throw new Error("No se puede eliminar un lote que contiene sub-lotes.")}await Oe.lots.delete(Me),xe(),pe(()=>Lf(Va(xi,"lots",Me)).catch(_t=>console.error("Firestore delete sync failed:",_t)))},[e,pe,xe]),Et=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er();if(await Oe.origins.where("name").equalsIgnoreCase(Me).first())throw new Error(`El origen '${Me}' ya existe.`);const _t={id:$s(),name:Me,userId:e.uid,_synced:!1};await Oe.origins.put(_t),xe(),pe(()=>Ki("origins",_t.id,_t))},[e,pe,xe]),gt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");await er().origins.delete(Me),xe(),pe(()=>Lf(Va(xi,"origins",Me)).catch(Ge=>console.error("Firestore delete sync failed:",Ge)))},[e,pe,xe]),$t=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.weighings.put(Ge),Ae({animalId:Me.goatId,date:Me.date,type:"Pesaje Lechero",details:`Registro de ${Me.kg} Kg`}),xe(),pe(()=>Ki("weighings",Ge.id,Ge))},[e,pe,xe,Ae]),Mt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.bodyWeighings.put(Ge),Ae({animalId:Me.animalId,date:Me.date,type:"Pesaje Corporal",details:`Registro de ${Me.kg} Kg`}),xe(),pe(()=>Ki("bodyWeighings",Ge.id,Ge))},[e,pe,xe,Ae]),bt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=await Oe.weighings.where({date:Me}).toArray();if(Ge.length===0)return;const _t=Ge.map(Ut=>Ut.id),At=Ge.map(Ut=>Ut.goatId),yn=(await Oe.events.where("date").equals(Me).and(Ut=>Ut.type==="Pesaje Lechero"&&At.includes(Ut.animalId)).toArray()).map(Ut=>Ut.id);await Oe.transaction("rw",Oe.weighings,Oe.events,async()=>{await Oe.weighings.bulkDelete(_t),await Oe.events.bulkDelete(yn)}),await xe(),pe(async()=>{const Ut=K0(xi);_t.forEach(mn=>Ut.delete(Va(xi,"weighings",mn))),yn.forEach(mn=>Ut.delete(Va(xi,"events",mn))),await Ut.commit()})},[e,pe,xe]),wt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=Me.id.toUpperCase();if(await Oe.fathers.where("id").equalsIgnoreCase(Ge).first())throw new Error(`El ID de padre '${Ge}' ya est en uso.`);const At={...Me,id:Ge,userId:e.uid,_synced:!1};await Oe.fathers.put(At),xe(),pe(()=>Ki("fathers",At.id,At))},[e,pe,xe]),Tt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=Me.motherId.toUpperCase(),_t=Me.parturitionOutcome==="Aborto"&&!Me.inducedLactation?"finalizada":"activa",At=$s(),Yt={id:At,goatId:Ge,parturitionDate:Me.parturitionDate,sireId:Me.sireId,offspringCount:Me.offspringCount,parturitionType:Me.parturitionType,parturitionOutcome:Me.parturitionOutcome,status:_t,userId:e.uid,_synced:!1,dryingStartDate:Me.inducedLactation&&Me.parturitionOutcome==="Aborto"?Me.parturitionDate:void 0,liveOffspring:Me.liveOffspring?Me.liveOffspring.map(Ut=>{var mn;return{id:(mn=Ut.id)==null?void 0:mn.toUpperCase(),sex:Ut.sex,birthWeight:Ut.birthWeight}}):void 0},yn=(Me.liveOffspring||[]).map(Ut=>({id:Ut.id.toUpperCase(),sex:Ut.sex,status:"Activo",birthDate:Me.parturitionDate,motherId:Ge,fatherId:Me.sireId,birthWeight:parseFloat(Ut.birthWeight)||void 0,userId:e.uid,createdAt:Date.now(),lifecycleStage:Ut.sex==="Hembra"?"Cabrita":"Cabrito",location:"",reproductiveStatus:"No Aplica",isReference:!1,_synced:!1}));await Oe.transaction("rw",Oe.parturitions,Oe.animals,Oe.events,async()=>{await Oe.parturitions.put(Yt),Ae({animalId:Ge,date:Me.parturitionDate,type:Me.parturitionOutcome==="Aborto"?"Aborto":"Parto",details:Me.parturitionOutcome==="Aborto"?`Aborto registrado con Semental: ${Me.sireId}. ${Me.inducedLactation?"Se induce lactancia.":""}`:`Parto ${Me.parturitionType} (${Me.offspringCount} cras) con Semental: ${Me.sireId}. Vivas: ${yn.length}.`}),yn.length>0&&(await Oe.animals.bulkPut(yn),yn.forEach(Ut=>{Ae({animalId:Ut.id,date:Ut.birthDate,type:"Nacimiento",details:`Nacido con ${Ut.birthWeight||"N/A"} Kg. Madre: ${Ut.motherId}. Padre: ${Ut.fatherId}.`})}))}),await xe(),pe(async()=>{const Ut=K0(xi);Ut.set(Va(xi,"parturitions",At),Yt),yn.forEach(mn=>Ut.set(Va(xi,"animals",mn.id),mn)),await Ut.commit()})},[e,pe,xe,Ae]),Xt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.serviceRecords.put(Ge);const _t=await Oe.sireLots.get(Ge.sireLotId),At=_t?await Oe.fathers.get(_t.sireId)||await Oe.animals.get(_t.sireId):null;Ae({animalId:Ge.femaleId,date:Ge.serviceDate,type:"Servicio",details:`Servicio registrado con Semental: ${(At==null?void 0:At.name)||(At==null?void 0:At.id)||(_t==null?void 0:_t.sireId)||"Desconocido"}`}),xe(),pe(()=>Ki("serviceRecords",Ge.id,Ge))},[e,pe,xe,Ae]),ot=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge=await Oe.animals.where({location:Me.lotName}).toArray();if(Ge.length===0)return;const _t=Ge.map(Yt=>({id:$s(),animalId:Yt.id,date:Me.date,type:Me.type,details:Me.details,lotName:Me.lotName,userId:e.uid,notes:`Evento aplicado a todo el lote: ${Me.lotName}`,_synced:!1}));await Oe.events.bulkPut(_t),xe(),pe(async()=>{const Yt=K0(xi);_t.forEach(yn=>Yt.set(Va(xi,"events",yn.id),yn)),await Yt.commit()})},[e,pe,xe]),vt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.feedingPlans.put(Ge),xe(),pe(()=>Ki("feedingPlans",Ge.id,Ge))},[e,pe,xe]),xt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};return await Oe.breedingSeasons.put(Ge),xe(),pe(()=>Ki("breedingSeasons",Ge.id,Ge)),Ge.id},[e,pe,xe]),Lt=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t={...Oe,_synced:!1};await Ge.breedingSeasons.update(Me,_t),xe();const At=await Ge.breedingSeasons.get(Me);At&&pe(()=>Ki("breedingSeasons",Me,At))},[e,pe,xe]),hn=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");await er().breedingSeasons.delete(Me),xe(),pe(()=>Lf(Va(xi,"breedingSeasons",Me)).catch(Ge=>console.error("Firestore delete sync failed:",Ge)))},[e,pe,xe]),Cn=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};return await Oe.sireLots.put(Ge),xe(),pe(()=>Ki("sireLots",Ge.id,Ge)),Ge.id},[e,pe,xe]),zt=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t={...Oe,_synced:!1};await Ge.sireLots.update(Me,_t),xe();const At=await Ge.sireLots.get(Me);At&&pe(()=>Ki("sireLots",Me,At))},[e,pe,xe]),Jt=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");await er().sireLots.delete(Me),xe(),pe(()=>Lf(Va(xi,"sireLots",Me)).catch(Ge=>console.error("Firestore delete sync failed:",Ge)))},[e,pe,xe]),St=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.products.put(Ge),xe(),pe(()=>Ki("products",Ge.id,Ge))},[e,pe,xe]),Kt=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t={...Oe,_synced:!1};await Ge.products.update(Me,_t),xe();const At=await Ge.products.get(Me);At&&pe(()=>Ki("products",Me,At))},[e,pe,xe]),ke=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");await er().products.delete(Me),xe(),pe(()=>Lf(Va(xi,"products",Me)).catch(Ge=>console.error("Firestore delete sync failed:",Ge)))},[e,pe,xe]),et=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t={id:$s(),...Me,userId:e.uid,_synced:!1},At=Oe.map(yn=>({id:$s(),...yn,healthPlanId:_t.id,userId:e.uid,_synced:!1}));await Ge.transaction("rw",Ge.healthPlans,Ge.planActivities,async()=>{await Ge.healthPlans.put(_t),await Ge.planActivities.bulkPut(At)}),xe(),pe(async()=>{const yn=K0(xi);yn.set(Va(xi,"healthPlans",_t.id),_t),At.forEach(Yn=>yn.set(Va(xi,"planActivities",Yn.id),Yn)),await yn.commit()})},[e,pe,xe]),Je=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t={...Oe,_synced:!1};await Ge.healthPlans.update(Me,_t),xe();const At=await Ge.healthPlans.get(Me);At&&pe(()=>Ki("healthPlans",Me,At))},[e,pe,xe]),Ln=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),_t=(await Oe.planActivities.where({healthPlanId:Me}).toArray()).map(Yt=>Yt.id);await Oe.transaction("rw",Oe.healthPlans,Oe.planActivities,async()=>{await Oe.planActivities.bulkDelete(_t),await Oe.healthPlans.delete(Me)}),xe(),pe(async()=>{const Yt=K0(xi);_t.forEach(yn=>Yt.delete(Va(xi,"planActivities",yn))),Yt.delete(Va(xi,"healthPlans",Me)),await Yt.commit()})},[e,pe,xe]),nn=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.planActivities.put(Ge),xe(),pe(()=>Ki("planActivities",Ge.id,Ge))},[e,pe,xe]),Qt=P.useCallback(async(Me,Oe)=>{if(!e)throw new Error("Usuario no autenticado");const Ge=er(),_t={...Oe,_synced:!1};await Ge.planActivities.update(Me,_t),xe();const At=await Ge.planActivities.get(Me);At&&pe(()=>Ki("planActivities",Me,At))},[e,pe,xe]),bn=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");await er().planActivities.delete(Me),xe(),pe(()=>Lf(Va(xi,"planActivities",Me)).catch(Ge=>console.error("Firestore delete sync failed:",Ge)))},[e,pe,xe]),mi=P.useCallback(async Me=>{var _t;if(!e)throw new Error("Usuario no autenticado");const Oe=er(),Ge={id:$s(),...Me,userId:e.uid,_synced:!1};await Oe.healthEvents.put(Ge),Ae({animalId:Ge.animalId,date:Ge.date,type:"Tratamiento",details:`${Ge.type}${Ge.productUsed?` con ${((_t=D.find(At=>At.id===Ge.productUsed))==null?void 0:_t.name)||"producto"}`:""}`,notes:Ge.notes,lotName:Ge.lotName}),xe(),pe(()=>Ki("healthEvents",Ge.id,Ge))},[e,pe,xe,Ae,D]),cr=P.useCallback(async Me=>{if(!e)throw new Error("Usuario no autenticado");ue("syncing");try{const Oe=Va(xi,"configuracion",e.uid);await Wj(Oe,Me,{merge:!0}),ue("idle")}catch(Oe){throw console.error("Error al guardar configuracin:",Oe),ue("idle"),Oe}},[e]),ta=P.useMemo(()=>({animals:n,fathers:i,weighings:s,parturitions:l,lots:A,origins:f,breedingSeasons:p,sireLots:v,serviceRecords:y,events:C,feedingPlans:N,bodyWeighings:B,products:D,healthPlans:O,planActivities:H,healthEvents:q,appConfig:R,isLoadingConfig:J,isLoading:W,syncStatus:te,fetchData:xe,addAnimal:He,updateAnimal:Ie,deleteAnimalPermanently:fe,startDryingProcess:$e,setLactationAsDry:mt,addLot:pt,deleteLot:rt,addOrigin:Et,deleteOrigin:gt,addBreedingSeason:xt,updateBreedingSeason:Lt,deleteBreedingSeason:hn,addSireLot:Cn,updateSireLot:zt,deleteSireLot:Jt,addServiceRecord:Xt,addFeedingPlan:vt,addBatchEvent:ot,addWeighing:$t,addBodyWeighing:Mt,deleteWeighingSession:bt,addParturition:Tt,addFather:wt,addProduct:St,updateProduct:Kt,deleteProduct:ke,addHealthPlanWithActivities:et,updateHealthPlan:Je,deleteHealthPlan:Ln,addPlanActivity:nn,updatePlanActivity:Qt,deletePlanActivity:bn,addHealthEvent:mi,updateAppConfig:cr}),[n,i,s,l,A,f,p,v,y,C,N,B,D,O,H,q,R,J,W,te,xe,He,Ie,fe,$e,mt,pt,rt,Et,gt,xt,Lt,hn,Cn,zt,Jt,Xt,vt,ot,$t,Mt,bt,Tt,wt,St,Kt,ke,et,Je,Ln,nn,Qt,bn,mi,cr]);return c.jsx(xq.Provider,{value:ta,children:t})},cpe=(t,e)=>{if(!t||t==="N/A"||!e)return"Indefinido";const n=new Date,r=new Date(t+"T00:00:00Z");if(isNaN(r.getTime()))return"Indefinido";const i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s=Math.floor((i-a)/(1e3*60*60*24));return e==="Hembra"?s<=60?"Cabrita":s<=365?"Cabritona":"Cabra Adulta":s<=60?"Cabrito":s<=365?"Macho de Levante":"Macho Cabro"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wq=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ape={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>P.createElement("svg",{ref:l,...Ape,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wq("lucide",i),...o},[...s.map(([u,A])=>P.createElement(u,A)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const n=P.forwardRef(({className:r,...i},a)=>P.createElement(dpe,{ref:a,iconNode:e,className:wq(`lucide-${upe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=dt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=dt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=dt("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=dt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=dt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=dt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=dt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=dt("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=dt("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=dt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=dt("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=dt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=dt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=dt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=dt("ChevronsLeftRight",[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=dt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=dt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=dt("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=dt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=dt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=dt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=dt("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=dt("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=dt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=dt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=dt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=dt("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=dt("Dna",[["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m17 6-2.5-2.5",key:"5cdfhj"}],["path",{d:"m14 8-1-1",key:"15nbz5"}],["path",{d:"m7 18 2.5 2.5",key:"16tu1a"}],["path",{d:"m3.5 14.5.5.5",key:"hapbhd"}],["path",{d:"m20 9 .5.5",key:"1n7z02"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m10 16 1.5 1.5",key:"11lckj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=dt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=dt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=dt("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=dt("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=dt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=dt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=dt("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=dt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=dt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=dt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=dt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=dt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=dt("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=dt("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=dt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=dt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=dt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=dt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=dt("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=dt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=dt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=dt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=dt("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=dt("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=dt("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=dt("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=dt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=dt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=dt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=dt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=dt("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=dt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=dt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=dt("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=dt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=dt("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=dt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=dt("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=dt("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=dt("SquareMinus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=dt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=dt("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=dt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=dt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=dt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=dt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=dt("Waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=dt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=dt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var Qq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LR=be.createContext&&be.createContext(Qq),eme=["attr","size","title"];function tme(t,e){if(t==null)return{};var n=nme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(this,arguments)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return typeof e=="symbol"?e:e+""}function ame(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hq(t){return t&&t.map((e,n)=>be.createElement(e.tag,lC({key:n},e.attr),Hq(e.child)))}function Ul(t){return e=>be.createElement(sme,oC({attr:lC({},t.attr)},e),Hq(t.child))}function sme(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=tme(t,eme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",oC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:lC(lC({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&be.createElement("title",null,a),t.children)};return LR!==void 0?be.createElement(LR.Consumer,null,n=>e(n)):e(Qq)}function zq(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 23.38L89.844 89.845l-64.9 162.254 14.85 5.943c20.312-50.766 40.62-101.535 60.93-152.304l1.432-3.58L256 40.616l153.844 61.54 1.43 3.58 60.93 152.305 14.853-5.942-64.9-162.254C366.77 67.69 311.386 45.534 256 23.38zm0 36.624l-139.996 55.998L72.8 224h.2v263h78V329h-39v-18h297v176h30V224h.2c-14.402-36-28.802-72-43.204-107.998L256 60.004zM151 135h210v114H151V135zm23.563 18L199 201.873V153h-24.438zM313 153v48.873L337.438 153H313zm-144 29.127V231h24.438L169 182.127zm174 0L318.562 231H343v-48.873zm-98.73 18.69c-1.207-.02-2.31.02-3.288.128-2.823.31-10.76 3.708-16.86 7.3-2.796 1.645-5.23 3.22-7.122 4.484V231h78v-16.97c-4.193-1.675-10.334-4.02-17.578-6.368-11.206-3.63-24.71-6.71-33.152-6.846zM160 263h192v18H160v-18zm15.16 66L208 389.205 240.84 329h-65.68zm144 0L352 389.205 384.84 329h-65.68zM169 355.295v105.41L197.748 408 169 355.295zm78 0L218.252 408 247 460.705v-105.41zm66 0v105.41L341.748 408 313 355.295zm78 0L362.252 408 391 460.705v-105.41zm-183 71.5L175.16 487h65.68L208 426.795zm144 0L319.16 487h65.68L352 426.795z"},child:[]}]})(t)}function ome(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23 23v466h466v-18H41v-82.184l85.854-57.234 70.023 70.022 65.133-260.536L387.28 203.7 455.07 95.73l19.317 11.858 6.102-71.1-60.644 37.616 19.884 12.207-59.01 93.99-130.732-65.366-62.865 251.462-57.98-57.978L41 367.184V23H23z"},child:[]}]})(t)}function lme(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M44.62 106a26 26 0 0 0-25.69 29.3c16 124 16 117.4 0 241.4A26 26 0 0 0 54.72 404l138.68-57.7c-1.2 9.5-2.4 18.9-3.9 30.4-2.5 19.8 17.3 35 35.8 27.3l252-124c9.7-4 16-13.5 16-24s-6.3-20-16-24l-252-124c-3.2-1.3-6.6-2-10.1-2-15.6.1-27.7 13.8-25.7 29.3 1.5 11.5 2.7 20.9 3.9 30.4L54.72 108a26 26 0 0 0-10.1-2z"},child:[]}]})(t)}function hx(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M273 459l7.79-20 6.21 20 5.79-23.33-4.25-48c-7.76 7.94-17.54 17.85-29.74 30.27zm38.5-380.86a115.06 115.06 0 0 0-21.13-19.6c-17.315-11.88-35.418-18.913-55.08-22.14-18.751-3.067-37.99-2.743-56.33.12A203.86 203.86 0 0 0 133 49.42a184.2 184.2 0 0 0-29.62 15.36c-12.304 8.597-10.431 6.828.95 1.82a179.6 179.6 0 0 1 30.9-10c50.427-4.832 98.41-7.579 134.17 27.17a80 80 0 0 1 12.28 16c4.714 8.06 7.805 16.877 9.66 25.59l45.69 2.84c-5.032-17.752-15.256-37.574-25.53-50.06zm50.05 26.63c-8.531-13.217-18.495-25.428-29.66-34.88a78.24 78.24 0 0 0-15.79-10.38c2.67 2.68 5.22 5.45 7.61 8.32a138.13 138.13 0 0 1 9.13 12.11l.1.14.09.14c9.772 15.14 17.164 33.862 20.78 49.15l22.19 1.3a253.49 253.49 0 0 0-14.43-25.91zm29.89 43l70 179.4-11.82 28.37-65.77-37.94-8 13.86 67.56 39-4.327 5.754L394.12 372l-65.33-31.47a42.41 42.41 0 0 0-9.29-1.43c-5.71 0-9.52 2.06-12.71 6.62-2.53 3.61-78.5 80.52-147.64 150.28H16V243.73l92.85 3.85 96.61-33.26 10.13-11a214.71 214.71 0 0 1 38 24.27 18.57 18.57 0 0 0 11.61 3.93c13.792-1.574 22.025-9.12 32.83-17.83-3.267-21.244-6.724-43.71-9.56-62.1-6.463-2.155-12.926-4.308-19.39-6.46l4.39-4.78zm-37.25 65.02c-4.024-14.705-20.114-19.427-30.58-18.14-3.073.432-6.167 1.427-8.77 2.68.868 3.09 2.17 7.87 3.79 10.35 6.527 9.211 17.348 13.898 27.64 12.51 3.967-.672 8.94-3.676 7.92-7.4zm61.63 105.47l19 20 11.6-11-19-20zM475 172.99s-40.54-27.8-57-1.2l11.25 28.83zM294 382.05l13.4 22.28-.4-35.64c-3.29 3.45-7.53 7.82-12.95 13.36zm-30.6-167c5.858 1.872 17.61-6.048 17.33-8.01l-6.67-43.33-28-9.31c-17.65-2.861-58.224-4.989-67.27 9.28 39.596 39.732 39.526 16.87 84.61 51.37zm127.08 172.89c-15.313-7.704-30.838-14.996-46.28-22.44 5.153 29.387 10.895 58.672 15.75 88.11l25.26 37.33-2.6-34L400 469.61v-28.67l10.19-41.95 6.67-11.05z"},child:[]}]})(t)}function cme(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M302.958 20.019l-93.916 46.564v35.404c31.305-15.522 62.61-31.047 93.916-46.568zm6.53 52.252l-95.4 47.3 63.036 78.137 95.397-47.303zm-111.915 55.492l-33.732 16.724h47.224zm-22.119 34.722l71.615 26.633-21.484-26.633zm-41.021 3.948v276.752l131.22 48.796v-276.75zm243.134 1.56c-31.306 15.521-62.61 31.044-93.916 46.567v275.863l93.916-46.567zM176.501 272.466s-15.3 15.085-9.889 24.203c4.167 7.02 21.889 5.418 21.889 5.418l15.549 3.848s17.72 10.374 21.887 5.416c5.41-6.44-9.887-29.098-9.887-29.098s35.91 33.492 29.662 47.318c-3.143 6.955-24.719-2.117-24.719-2.117s5.495 7.21 4.944 10.549c-1.001 6.062-13.774 9.916-13.774 9.916s1.111 21.24-6 25.168c-5.147 2.843-14.628.497-19.775-4.895-7.111-7.448-6-28.136-6-28.136s-12.775-10.177-13.776-16.735c-.55-3.611 4.944-8.103 4.944-8.103s-21.575-1.607-24.717-10.117c-6.247-16.919 29.662-32.635 29.662-32.635z"},child:[]}]})(t)}function ume(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M90.52 390.06h38.497v16.583H65.443V390.06l31.933-28.182c2.852-2.578 4.96-5.098 6.328-7.56 1.368-2.46 2.05-5.018 2.05-7.675 0-4.1-1.386-7.402-4.16-9.902-2.733-2.5-6.386-3.75-10.956-3.75-3.516 0-7.363.763-11.543 2.286-4.18 1.485-8.652 3.71-13.418 6.68v-19.22c5.078-1.678 10.098-2.948 15.06-3.807 4.96-.9 9.823-1.35 14.588-1.35 10.47 0 18.594 2.306 24.375 6.915 5.82 4.61 8.73 11.035 8.73 19.277 0 4.766-1.23 9.22-3.69 13.36-2.46 4.1-7.637 9.61-15.528 16.523l-18.69 16.406m349.377 32.915c5.897 1.524 10.37 4.18 13.417 7.97 3.086 3.75 4.63 8.534 4.63 14.355 0 8.672-3.322 15.273-9.962 19.804-6.64 4.493-16.328 6.74-29.063 6.74-4.492 0-9.004-.372-13.535-1.115-4.492-.704-8.945-1.778-13.36-3.223v-17.403c4.22 2.11 8.4 3.71 12.54 4.805 4.18 1.054 8.28 1.58 12.304 1.58 5.978 0 10.548-1.034 13.712-3.104 3.203-2.07 4.805-5.04 4.805-8.907 0-3.985-1.64-6.993-4.922-9.024-3.242-2.07-8.047-3.105-14.414-3.106h-9.022v-14.53h9.492c5.664 0 9.883-.88 12.656-2.638 2.773-1.796 4.16-4.51 4.16-8.144 0-3.36-1.347-5.957-4.043-7.793-2.695-1.836-6.504-2.754-11.426-2.754-3.632 0-7.304.41-11.015 1.232-3.71.82-7.403 2.03-11.074 3.632V384.83c4.453-1.25 8.867-2.186 13.242-2.812 4.375-.624 8.672-.937 12.89-.937 11.368 0 19.864 1.876 25.49 5.626 5.663 3.71 8.495 9.316 8.495 16.816 0 5.118-1.348 9.317-4.043 12.598-2.696 3.242-6.68 5.527-11.953 6.856M236.062 230.74h19.922v-56.544l-20.45 4.22v-15.352l20.333-4.22h21.445v71.895h19.922v15.585h-61.172V230.74M496 496V352H352V128H176v160H16v208"},child:[]}]})(t)}function Ame(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M24.844 25.563c1.333 77.685 25.778 141.568 63.283 187.955 4.367-4.937 8.77-9.796 13.13-14.553a9.5 9.5 0 0 1 7.348-3.178 9.5 9.5 0 0 1 6.66 16.016c-22.957 25.048-46.51 52.82-58.777 76.95-6.132 12.067-9.31 23.07-9.037 31.874.17 5.474 1.374 10.174 4.26 14.562l16.552-22.684a9.5 9.5 0 0 1 7.898-4.008 9.5 9.5 0 0 1 7.45 15.207l-16.635 22.797c2.973.316 6.316-.284 10.474-1.75 8.174-2.882 18.38-9.868 28.734-19.672 20.704-19.608 42.15-50.057 56.953-77.644a9.5 9.5 0 0 1 9.9-4.885c6.228 1.017 22.147 2.215 35.78.573 6.816-.82 13.107-2.395 17.232-4.432 4.124-2.035 5.597-3.84 6.12-5.934a9.5 9.5 0 1 1 18.434 4.603c-2.193 8.78-8.967 14.825-16.145 18.37-7.18 3.542-15.245 5.277-23.372 6.256-12.798 1.542-25.47 1.082-34.522.143-2.816 5.038-5.806 10.122-8.937 15.192 29.03 14.058 60.48 21.354 92.34 21.115 22.055-.164 43.82-4.29 64.64-11.937-6.014-8.637-11.297-17.378-15.596-25.96A9.5 9.5 0 1 1 326 252.03c13.688 27.32 40.692 59.164 67.537 79.982 13.423 10.41 26.846 18.047 37.842 21.363 5.988 1.806 10.902 2.378 14.983 1.854l-10.996-13.093a9.5 9.5 0 0 1 7.06-15.715 9.5 9.5 0 0 1 7.49 3.494l12.054 14.352c3.226-4.725 4.71-9.948 5.042-16.102.513-9.534-2.39-21.344-8.18-34.158-11.578-25.63-34.297-54.796-57.053-79.625a9.5 9.5 0 0 1 7.322-16.01 9.5 9.5 0 0 1 6.685 3.172c3.1 3.384 6.205 6.848 9.29 10.37 37.514-47.34 61.834-111.574 62.892-186.352H24.843zm138.664 270.68c-4.952 14.607-8.863 29.266-11.043 42.61-2.476 15.154-2.608 28.608-.29 37.745 2.32 9.137 5.71 13.32 12.514 15.22 10.31 2.88 17.56 1.32 24.884-3.572 7.325-4.893 14.436-13.87 20.696-25.87 6.813-13.064 12.555-29.486 17.517-47.09-22.16-3.106-43.775-9.54-64.28-19.044zm173.04 6.083c-9.938 3.936-20.108 7.144-30.456 9.57.512.913 1.02 1.844 1.54 2.733 7.736 13.262 16.197 23.722 23.802 29.292 7.604 5.57 12.882 6.638 19.34 3.77 7.937-3.52 12.458-8.014 15.236-14.087-10.454-9.556-20.457-20.185-29.46-31.28z"},child:[]}]})(t)}const dme=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(""),[i,a]=P.useState(""),[s,o]=P.useState(null),[l,u]=P.useState(!1),A=async()=>{if(window.confirm("Ests seguro de que quieres forzar la eliminacin de la base de datos local? Esto no afectar tus datos en la nube."))try{await fg.delete("GanaderoOS_DB"),alert("Base de datos local eliminada con xito. La pgina se recargar."),window.location.reload()}catch(h){alert("Error al eliminar la base de datos."),console.error(h)}},d=h=>{if(h.code==="auth/network-request-failed")return"No hay conexin a internet. Se requiere conexin para iniciar sesin.";switch(h.code){case"auth/invalid-email":return"El formato del correo electrnico no es vlido.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electrnico o contrasea incorrectos.";case"auth/email-already-in-use":return"Este correo electrnico ya est registrado.";case"auth/weak-password":return"La contrasea debe tener al menos 6 caracteres.";default:return console.error("Firebase Auth Error:",h),"Ocurri un error inesperado. Por favor, intenta de nuevo."}},f=async h=>{h.preventDefault(),o(null),u(!0);try{t?await PAe(dg,n,i):await kAe(dg,n,i)}catch(p){o(d(p))}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[c.jsx(hx,{className:"w-12 h-12 text-brand-orange"}),c.jsx("h1",{className:"text-4xl font-bold text-white",children:"GanaderoOS"})]}),c.jsx("p",{className:"text-zinc-400",children:"El sistema operativo para tu finca."})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[c.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesin"}),c.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"Correo electrnico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),c.jsx("input",{type:"password",value:i,onChange:h=>a(h.target.value),placeholder:"Contrasea",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),s&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:s})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl transition-colors hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesin":"Crear Cuenta"})]})]}),c.jsxs("div",{className:"mt-6 text-center",children:[c.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-2 mx-auto bg-brand-red/20 text-brand-red font-semibold py-2 px-4 rounded-lg border border-brand-red/50 hover:bg-brand-red/30 transition-colors",children:[c.jsx(Sc,{size:16}),"Forzar Reinicio de DB Local"]}),c.jsx("p",{className:"text-xs text-zinc-600 mt-2",children:"Si la app no carga, usa este botn."})]})]})})};function fme(t){return Ul({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 160c44.2 0 80-35.8 80-80S236.2 0 192 0s-80 35.8-80 80 35.8 80 80 80zm-53.4 248.8l25.6-32-61.5-51.2L56.8 383c-11.4 14.2-11.7 34.4-.8 49l48 64c7.9 10.5 19.9 16 32 16 8.3 0 16.8-2.6 24-8 17.7-13.2 21.2-38.3 8-56l-29.4-39.2zm142.7-83.2l-61.5 51.2 25.6 32L216 448c-13.2 17.7-9.7 42.8 8 56 7.2 5.4 15.6 8 24 8 12.2 0 24.2-5.5 32-16l48-64c10.9-14.6 10.6-34.8-.8-49l-45.9-57.4zM376.7 145c-12.7-18.1-37.6-22.4-55.7-9.8l-40.6 28.5c-52.7 37-124.2 37-176.8 0L63 135.3C44.9 122.6 20 127 7.3 145-5.4 163.1-1 188 17 200.7l40.6 28.5c17 11.9 35.4 20.9 54.4 27.9V288h160v-30.8c19-7 37.4-16 54.4-27.9l40.6-28.5c18.1-12.8 22.4-37.7 9.7-55.8z"},child:[]}]})(t)}function hme(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(t)}function pme(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"},child:[]}]})(t)}function mme(t){return Ul({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 336c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 112c-13.23 0-24-10.77-24-24s10.77-24 24-24 24 10.77 24 24-10.77 24-24 24zm80-288h-64v-40.2c0-14.12 4.7-27.76 13.15-38.84 4.42-5.8 3.55-14.06-1.32-19.49L534.2 37.3c-6.66-7.45-18.32-6.92-24.7.78C490.58 60.9 480 89.81 480 119.8V160H377.67L321.58 29.14A47.914 47.914 0 0 0 277.45 0H144c-26.47 0-48 21.53-48 48v146.52c-8.63-6.73-20.96-6.46-28.89 1.47L36 227.1c-8.59 8.59-8.59 22.52 0 31.11l5.06 5.06c-4.99 9.26-8.96 18.82-11.91 28.72H22c-12.15 0-22 9.85-22 22v44c0 12.15 9.85 22 22 22h7.14c2.96 9.91 6.92 19.46 11.91 28.73l-5.06 5.06c-8.59 8.59-8.59 22.52 0 31.11L67.1 476c8.59 8.59 22.52 8.59 31.11 0l5.06-5.06c9.26 4.99 18.82 8.96 28.72 11.91V490c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-7.14c9.9-2.95 19.46-6.92 28.72-11.91l5.06 5.06c8.59 8.59 22.52 8.59 31.11 0l31.11-31.11c8.59-8.59 8.59-22.52 0-31.11l-5.06-5.06c4.99-9.26 8.96-18.82 11.91-28.72H330c12.15 0 22-9.85 22-22v-6h80.54c21.91-28.99 56.32-48 95.46-48 18.64 0 36.07 4.61 51.8 12.2l50.82-50.82c6-6 9.37-14.14 9.37-22.63V192c.01-17.67-14.32-32-31.99-32zM176 416c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm22-256h-38V64h106.89l41.15 96H198z"},child:[]}]})(t)}function gme(t){return Ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.28 445.86l-73.03-292.13c-3.8-15.19-16.44-25.72-30.87-25.72h-60.25c3.57-10.05 5.88-20.72 5.88-32 0-53.02-42.98-96-96-96s-96 42.98-96 96c0 11.28 2.3 21.95 5.88 32h-60.25c-14.43 0-27.08 10.54-30.87 25.72L1.72 445.86C-6.61 479.17 16.38 512 48.03 512h415.95c31.64 0 54.63-32.83 46.3-66.14zM256 128c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z"},child:[]}]})(t)}const fn=({isOpen:t,onClose:e,title:n,children:r,size:i="default"})=>{if(!t)return null;const a=i==="fullscreen"?"items-end":"items-center",s={default:"max-w-md m-4 rounded-2xl",large:"max-w-xl m-4 rounded-2xl",fullscreen:"w-full h-[95vh] rounded-t-2xl flex flex-col"};return c.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center z-50 animate-fade-in ${a}`,onClick:e,children:c.jsxs("div",{className:`bg-ios-modal-bg border border-zinc-700/80 shadow-2xl text-white transform transition-all animate-slide-up ${s[i]}`,onClick:o=>o.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-zinc-800/80",children:[c.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),c.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:c.jsx(qo,{size:20})})]}),c.jsx("div",{className:i==="fullscreen"?"flex-1 overflow-y-auto p-4":"overflow-y-auto max-h-[85vh] p-6",children:r})]})})},vme=({isOpen:t,onClose:e,editingLotId:n})=>{const{lots:r,addLot:i}=en(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState(""),d=async()=>{if(a.trim()===""){A("El nombre del lote no puede estar vaco.");return}try{await i({name:a,parentLotId:o||void 0}),f()}catch(p){A(p.message||"No se pudo guardar el lote."),console.error(p)}},f=()=>{s(""),l(""),A(""),e()},h=r.filter(p=>!p.parentLotId&&p.id!==n);return c.jsx(fn,{isOpen:t,onClose:f,title:"Crear Nuevo Lote",children:c.jsxs("form",{onSubmit:p=>{p.preventDefault(),d()},className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lotName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote"}),c.jsx("input",{id:"lotName",type:"text",value:a,onChange:p=>s(p.target.value),placeholder:"Ej: Galpn 1",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"parentLot",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-lote de (Opcional)"}),c.jsxs("select",{id:"parentLot",value:o,onChange:p=>l(p.target.value),className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0",children:[c.jsx("option",{value:"",children:"Ninguno (Es un Lote Principal)"}),h.map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:u}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:f,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},zD=P.createContext({});function ed(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const H5=P.createContext(null),z5=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class yme extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bme({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=P.useContext(z5);return P.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const A=document.createElement("style");return a&&(A.nonce=a),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[e]),c.jsx(yme,{isPresent:e,childRef:r,sizeRef:i,children:P.cloneElement(t,{ref:r})})}const xme=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=ed(wme),l=P.useId(),u=P.useCallback(d=>{o.set(d,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),A=P.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:d=>(o.set(d,!1),()=>o.delete(d))}),a?[Math.random(),u]:[n,u]);return P.useMemo(()=>{o.forEach((d,f)=>o.set(f,!1))},[n]),P.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=c.jsx(bme,{isPresent:n,children:t})),c.jsx(H5.Provider,{value:A,children:t})};function wme(){return new Map}function Vq(t=!0){const e=P.useContext(H5);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=P.useId();P.useEffect(()=>{t&&i(a)},[t]);const s=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const S1=t=>t.key||"";function UR(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const VD=typeof window<"u",V5=VD?P.useLayoutEffect:P.useEffect,t2=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=Vq(s),u=P.useMemo(()=>UR(t),[t]),A=s&&!o?[]:u.map(S1),d=P.useRef(!0),f=P.useRef(u),h=ed(()=>new Map),[p,m]=P.useState(u),[v,g]=P.useState(u);V5(()=>{d.current=!1,f.current=u;for(let C=0;C<v.length;C++){const E=S1(v[C]);A.includes(E)?h.delete(E):h.get(E)!==!0&&h.set(E,!1)}},[v,A.length,A.join("-")]);const y=[];if(u!==p){let C=[...u];for(let E=0;E<v.length;E++){const N=v[E],_=S1(N);A.includes(_)||(C.splice(E,0,N),y.push(N))}a==="wait"&&y.length&&(C=y),g(UR(C)),m(u);return}const{forceRender:b}=P.useContext(zD);return c.jsx(c.Fragment,{children:v.map(C=>{const E=S1(C),N=s&&!o?!1:u===v||A.includes(E),_=()=>{if(h.has(E))h.set(E,!0);else return;let B=!0;h.forEach(j=>{j||(B=!1)}),B&&(b==null||b(),g(f.current),s&&(l==null||l()),r&&r())};return c.jsx(xme,{isPresent:N,initial:!d.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:N?void 0:_,children:C},E)})})},Nl=t=>t;let $q=Nl;function $D(t){let e;return()=>(e===void 0&&(e=t()),e)}const mg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},IA=t=>t*1e3,kA=t=>t/1e3,Cme={useManualTiming:!1};function Sme(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(l.schedule(u),t()),u(s)}const l={schedule:(u,A=!1,d=!1)=>{const h=d&&r?e:n;return A&&a.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const E1=["read","resolveKeyframes","update","preRender","render","postRender"],Eme=40;function Kq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=E1.reduce((g,y)=>(g[y]=Sme(a),g),{}),{read:o,resolveKeyframes:l,update:u,preRender:A,render:d,postRender:f}=s,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,Eme),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),A.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},p=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:E1.reduce((g,y)=>{const b=s[y];return g[y]=(C,E=!1,N=!1)=>(n||p(),b.schedule(C,E,N)),g},{}),cancel:g=>{for(let y=0;y<E1.length;y++)s[E1[y]].cancel(g)},state:i,steps:s}}const{schedule:fi,cancel:zA,state:ws,steps:mB}=Kq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nl,!0),Wq=P.createContext({strict:!1}),QR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gg={};for(const t in QR)gg[t]={isEnabled:e=>QR[t].some(n=>!!e[n])};function _me(t){for(const e in t)gg[e]={...gg[e],...t[e]}}const Bme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Bme.has(t)}let Gq=t=>!cC(t);function Nme(t){t&&(Gq=e=>e.startsWith("on")?!cC(e):t(e))}try{Nme(require("@emotion/is-prop-valid").default)}catch{}function jme(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Gq(i)||n===!0&&cC(i)||!e&&!cC(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Tme(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const $5=P.createContext({});function Jy(t){return typeof t=="string"||Array.isArray(t)}function K5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const KD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WD=["initial",...KD];function W5(t){return K5(t.animate)||WD.some(e=>Jy(t[e]))}function qq(t){return!!(W5(t)||t.variants)}function Ime(t,e){if(W5(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jy(n)?n:void 0,animate:Jy(r)?r:void 0}}return t.inherit!==!1?e:{}}function kme(t){const{initial:e,animate:n}=Ime(t,P.useContext($5));return P.useMemo(()=>({initial:e,animate:n}),[HR(e),HR(n)])}function HR(t){return Array.isArray(t)?t.join(" "):t}const Pme=Symbol.for("motionComponentSymbol");function hm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dme(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hm(n)&&(n.current=r))},[e])}const GD=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ome="framerAppearId",Yq="data-"+GD(Ome),{schedule:qD}=Kq(queueMicrotask,!1),Xq=P.createContext({});function Fme(t,e,n,r,i){var a,s;const{visualElement:o}=P.useContext($5),l=P.useContext(Wq),u=P.useContext(H5),A=P.useContext(z5).reducedMotion,d=P.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:A}));const f=d.current,h=P.useContext(Xq);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Mme(d.current,n,i,h);const p=P.useRef(!1);P.useInsertionEffect(()=>{f&&p.current&&f.update(n,u)});const m=n[Yq],v=P.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return V5(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),qD.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),f}function Mme(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Jq(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&hm(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Jq(t){if(t)return t.options.allowProjection!==!1?t.projection:Jq(t.parent)}function Lme({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&_me(t);function o(u,A){let d;const f={...P.useContext(z5),...u,layoutId:Rme(u)},{isStatic:h}=f,p=kme(u),m=r(u,h);if(!h&&VD){Ume();const v=Qme(f);d=v.MeasureLayout,p.visualElement=Fme(i,m,f,e,v.ProjectionNode)}return c.jsxs($5.Provider,{value:p,children:[d&&p.visualElement?c.jsx(d,{visualElement:p.visualElement,...f}):null,n(i,u,Dme(m,p.visualElement,A),m,h,p.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=P.forwardRef(o);return l[Pme]=i,l}function Rme({layoutId:t}){const e=P.useContext(zD).id;return e&&t!==void 0?e+"-"+t:t}function Ume(t,e){P.useContext(Wq).strict}function Qme(t){const{drag:e,layout:n}=gg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Hme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YD(t){return typeof t!="string"||t.includes("-")?!1:!!(Hme.indexOf(t)>-1||/[A-Z]/u.test(t))}function zR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function XD(t,e,n,r){if(typeof e=="function"){const[i,a]=zR(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=zR(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Jj=t=>Array.isArray(t),zme=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Vme=t=>Jj(t)?t[t.length-1]||0:t,_s=t=>!!(t&&t.getVelocity);function n2(t){const e=_s(t)?t.get():t;return zme(e)?e.toValue():e}function $me({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:Kme(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const Zq=t=>(e,n)=>{const r=P.useContext($5),i=P.useContext(H5),a=()=>$me(t,e,r,i);return n?a():ed(a)};function Kme(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=n2(a[f]);let{initial:s,animate:o}=t;const l=W5(t),u=qq(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let A=n?n.initial===!1:!1;A=A||s===!1;const d=A?o:s;if(d&&typeof d!="boolean"&&!K5(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=XD(t,f[h]);if(p){const{transitionEnd:m,transition:v,...g}=p;for(const y in g){let b=g[y];if(Array.isArray(b)){const C=A?b.length-1:0;b=b[C]}b!==null&&(i[y]=b)}for(const y in m)i[y]=m[y]}}}return i}const u0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ap=new Set(u0),eY=t=>e=>typeof e=="string"&&e.startsWith(t),tY=eY("--"),Wme=eY("var(--"),JD=t=>Wme(t)?Gme.test(t.split("/*")[0].trim()):!1,Gme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,VA=(t,e,n)=>n>e?e:n<t?t:n,A0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zy={...A0,transform:t=>VA(0,1,t)},_1={...A0,default:1},px=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bd=px("deg"),Uu=px("%"),Bn=px("px"),qme=px("vh"),Yme=px("vw"),VR={...Uu,parse:t=>Uu.parse(t)/100,transform:t=>Uu.transform(t*100)},Xme={borderWidth:Bn,borderTopWidth:Bn,borderRightWidth:Bn,borderBottomWidth:Bn,borderLeftWidth:Bn,borderRadius:Bn,radius:Bn,borderTopLeftRadius:Bn,borderTopRightRadius:Bn,borderBottomRightRadius:Bn,borderBottomLeftRadius:Bn,width:Bn,maxWidth:Bn,height:Bn,maxHeight:Bn,top:Bn,right:Bn,bottom:Bn,left:Bn,padding:Bn,paddingTop:Bn,paddingRight:Bn,paddingBottom:Bn,paddingLeft:Bn,margin:Bn,marginTop:Bn,marginRight:Bn,marginBottom:Bn,marginLeft:Bn,backgroundPositionX:Bn,backgroundPositionY:Bn},Jme={rotate:bd,rotateX:bd,rotateY:bd,rotateZ:bd,scale:_1,scaleX:_1,scaleY:_1,scaleZ:_1,skew:bd,skewX:bd,skewY:bd,distance:Bn,translateX:Bn,translateY:Bn,translateZ:Bn,x:Bn,y:Bn,z:Bn,perspective:Bn,transformPerspective:Bn,opacity:Zy,originX:VR,originY:VR,originZ:Bn},$R={...A0,transform:Math.round},ZD={...Xme,...Jme,zIndex:$R,size:Bn,fillOpacity:Zy,strokeOpacity:Zy,numOctaves:$R},Zme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ege=u0.length;function tge(t,e,n){let r="",i=!0;for(let a=0;a<ege;a++){const s=u0[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=nY(o,ZD[s]);if(!l){i=!1;const A=Zme[s]||s;r+=`${A}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function e3(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const u=e[l];if(Ap.has(l)){s=!0;continue}else if(tY(l)){i[l]=u;continue}else{const A=nY(u,ZD[l]);l.startsWith("origin")?(o=!0,a[l]=A):r[l]=A}}if(e.transform||(s||n?r.transform=tge(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:A=0}=a;r.transformOrigin=`${l} ${u} ${A}`}}const nge={offset:"stroke-dashoffset",array:"stroke-dasharray"},rge={offset:"strokeDashoffset",array:"strokeDasharray"};function ige(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?nge:rge;t[a.offset]=Bn.transform(-r);const s=Bn.transform(e),o=Bn.transform(n);t[a.array]=`${s} ${o}`}function KR(t,e,n){return typeof t=="string"?t:Bn.transform(e+n*t)}function age(t,e,n){const r=KR(e,t.x,t.width),i=KR(n,t.y,t.height);return`${r} ${i}`}function t3(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},A,d){if(e3(t,u,d),A){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:p}=t;f.transform&&(p&&(h.transform=f.transform),delete f.transform),p&&(i!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=age(p,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&ige(f,s,o,l,!1)}const n3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rY=()=>({...n3(),attrs:{}}),r3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iY(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const aY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sY(t,e,n,r){iY(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(aY.has(i)?i:GD(i),e.attrs[i])}const uC={};function sge(t){Object.assign(uC,t)}function oY(t,{layout:e,layoutId:n}){return Ap.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uC[t]||t==="opacity")}function i3(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(_s(i[s])||e.style&&_s(e.style[s])||oY(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function lY(t,e,n){const r=i3(t,e,n);for(const i in t)if(_s(t[i])||_s(e[i])){const a=u0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function oge(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const WR=["x","y","width","height","cx","cy","r"],lge={useVisualState:Zq({scrapeMotionValuesFromProps:lY,createRenderState:rY,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(Ap.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<WR.length;o++){const l=WR[o];t[l]!==e[l]&&(s=!0)}s&&fi.read(()=>{oge(n,r),fi.render(()=>{t3(r,i,r3(n.tagName),t.transformTemplate),sY(n,r)})})}})},cge={useVisualState:Zq({scrapeMotionValuesFromProps:i3,createRenderState:n3})};function cY(t,e,n){for(const r in e)!_s(e[r])&&!oY(r,n)&&(t[r]=e[r])}function uge({transformTemplate:t},e){return P.useMemo(()=>{const n=n3();return e3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Age(t,e){const n=t.style||{},r={};return cY(r,n,t),Object.assign(r,uge(t,e)),r}function dge(t,e){const n={},r=Age(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function fge(t,e,n,r){const i=P.useMemo(()=>{const a=rY();return t3(a,e,r3(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};cY(a,t.style,t),i.style={...a,...i.style}}return i}function hge(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(YD(n)?fge:dge)(r,a,s,n),u=jme(r,typeof n=="string",t),A=n!==P.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=P.useMemo(()=>_s(d)?d.get():d,[d]);return P.createElement(n,{...A,children:f})}}function pge(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...YD(r)?lge:cge,preloadedFeatures:t,useRender:hge(i),createVisualElement:e,Component:r};return Lme(s)}}function uY(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function G5(t,e,n){const r=t.getProps();return XD(r,e,n!==void 0?n:r.custom,t)}const mge=$D(()=>window.ScrollTimeline!==void 0);class gge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(mge()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vge extends gge{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function a3(t,e){return t?t[e]||t.default||t:void 0}const Zj=2e4;function AY(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zj;)e+=n,r=t.next(e);return e>=Zj?1/0:e}function s3(t){return typeof t=="function"}function GR(t,e){t.timeline=e,t.onfinish=null}const o3=t=>Array.isArray(t)&&typeof t[0]=="number",yge={linearEasing:void 0};function bge(t,e){const n=$D(t);return()=>{var r;return(r=yge[e])!==null&&r!==void 0?r:n()}}const AC=bge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dY=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(mg(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function fY(t){return!!(typeof t=="function"&&AC()||!t||typeof t=="string"&&(t in eT||AC())||o3(t)||Array.isArray(t)&&t.every(fY))}const wv=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wv([0,.65,.55,1]),circOut:wv([.55,0,1,.45]),backIn:wv([.31,.01,.66,-.59]),backOut:wv([.33,1.53,.69,.99])};function hY(t,e){if(t)return typeof t=="function"&&AC()?dY(t,e):o3(t)?wv(t):Array.isArray(t)?t.map(n=>hY(n,e)||eT.easeOut):eT[t]}const Vc={x:!1,y:!1};function pY(){return Vc.x||Vc.y}function xge(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function mY(t,e){const n=xge(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function qR(t){return e=>{e.pointerType==="touch"||pY()||t(e)}}function wge(t,e,n={}){const[r,i,a]=mY(t,n),s=qR(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const A=qR(d=>{u(d),l.removeEventListener("pointerleave",A)});l.addEventListener("pointerleave",A,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const gY=(t,e)=>e?t===e?!0:gY(t,e.parentElement):!1,l3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Cge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sge(t){return Cge.has(t.tagName)||t.tabIndex!==-1}const Cv=new WeakSet;function YR(t){return e=>{e.key==="Enter"&&t(e)}}function gB(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ege=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YR(()=>{if(Cv.has(n))return;gB(n,"down");const i=YR(()=>{gB(n,"up")}),a=()=>gB(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XR(t){return l3(t)&&!pY()}function _ge(t,e,n={}){const[r,i,a]=mY(t,n),s=o=>{const l=o.currentTarget;if(!XR(o)||Cv.has(l))return;Cv.add(l);const u=e(o),A=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!XR(h)||!Cv.has(l))&&(Cv.delete(l),typeof u=="function"&&u(h,{success:p}))},d=h=>{A(h,n.useGlobalTarget||gY(l,h.target))},f=h=>{A(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!Sge(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>Ege(u,i),i)}),a}function Bge(t){return t==="x"||t==="y"?Vc[t]?null:(Vc[t]=!0,()=>{Vc[t]=!1}):Vc.x||Vc.y?null:(Vc.x=Vc.y=!0,()=>{Vc.x=Vc.y=!1})}const vY=new Set(["width","height","top","left","right","bottom",...u0]);let r2;function Nge(){r2=void 0}const Qu={now:()=>(r2===void 0&&Qu.set(ws.isProcessing||Cme.useManualTiming?ws.timestamp:performance.now()),r2),set:t=>{r2=t,queueMicrotask(Nge)}};function c3(t,e){t.indexOf(e)===-1&&t.push(e)}function u3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function jge([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class A3{constructor(){this.subscriptions=[]}add(e){return c3(this.subscriptions,e),()=>u3(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yY(t,e){return e?t*(1e3/e):0}const JR=30,Tge=t=>!isNaN(parseFloat(t)),Yv={current:void 0};class Ige{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Qu.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Tge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new A3);const r=this.events[e].add(n);return e==="change"?()=>{r(),fi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Yv.current&&Yv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Qu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JR);return yY(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vg(t,e){return new Ige(t,e)}function kge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vg(n))}function d3(t,e){const n=G5(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Vme(a[s]);kge(t,s,o)}}function Pge(t){return!!(_s(t)&&t.add)}function tT(t,e){const n=t.getValue("willChange");if(Pge(n))return n.add(e)}function bY(t){return t.props[Yq]}const xY=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Dge=1e-7,Oge=12;function Fge(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=xY(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>Dge&&++o<Oge);return s}function mx(t,e,n,r){if(t===e&&n===r)return Nl;const i=a=>Fge(a,0,1,t,n);return a=>a===0||a===1?a:xY(i(a),e,r)}const wY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CY=t=>e=>1-t(1-e),SY=mx(.33,1.53,.69,.99),f3=CY(SY),EY=wY(f3),_Y=t=>(t*=2)<1?.5*f3(t):.5*(2-Math.pow(2,-10*(t-1))),h3=t=>1-Math.sin(Math.acos(t)),BY=CY(h3),NY=wY(h3),jY=t=>/^0[^.\s]+$/u.test(t);function Mge(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jY(t):!0}const Xv=t=>Math.round(t*1e5)/1e5,p3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lge(t){return t==null}const Rge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m3=(t,e)=>n=>!!(typeof n=="string"&&Rge.test(n)&&n.startsWith(t)||e&&!Lge(n)&&Object.prototype.hasOwnProperty.call(n,e)),TY=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(p3);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Uge=t=>VA(0,255,t),vB={...A0,transform:t=>Math.round(Uge(t))},fh={test:m3("rgb","red"),parse:TY("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vB.transform(t)+", "+vB.transform(e)+", "+vB.transform(n)+", "+Xv(Zy.transform(r))+")"};function Qge(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const nT={test:m3("#"),parse:Qge,transform:fh.transform},pm={test:m3("hsl","hue"),parse:TY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Uu.transform(Xv(e))+", "+Uu.transform(Xv(n))+", "+Xv(Zy.transform(r))+")"},Xs={test:t=>fh.test(t)||nT.test(t)||pm.test(t),parse:t=>fh.test(t)?fh.parse(t):pm.test(t)?pm.parse(t):nT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fh.transform(t):pm.transform(t)},Hge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zge(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(p3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Hge))===null||n===void 0?void 0:n.length)||0)>0}const IY="number",kY="color",Vge="var",$ge="var(",ZR="${}",Kge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eb(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(Kge,l=>(Xs.test(l)?(r.color.push(a),i.push(kY),n.push(Xs.parse(l))):l.startsWith($ge)?(r.var.push(a),i.push(Vge),n.push(l)):(r.number.push(a),i.push(IY),n.push(parseFloat(l))),++a,ZR)).split(ZR);return{values:n,split:o,indexes:r,types:i}}function PY(t){return eb(t).values}function DY(t){const{split:e,types:n}=eb(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===IY?a+=Xv(i[s]):o===kY?a+=Xs.transform(i[s]):a+=i[s]}return a}}const Wge=t=>typeof t=="number"?0:t;function Gge(t){const e=PY(t);return DY(t)(e.map(Wge))}const hf={test:zge,parse:PY,createTransformer:DY,getAnimatableNone:Gge},qge=new Set(["brightness","contrast","saturate","opacity"]);function Yge(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(p3)||[];if(!r)return t;const i=n.replace(r,"");let a=qge.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Xge=/\b([a-z-]*)\(.*?\)/gu,rT={...hf,getAnimatableNone:t=>{const e=t.match(Xge);return e?e.map(Yge).join(" "):t}},Jge={...ZD,color:Xs,backgroundColor:Xs,outlineColor:Xs,fill:Xs,stroke:Xs,borderColor:Xs,borderTopColor:Xs,borderRightColor:Xs,borderBottomColor:Xs,borderLeftColor:Xs,filter:rT,WebkitFilter:rT},g3=t=>Jge[t];function OY(t,e){let n=g3(t);return n!==rT&&(n=hf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Zge=new Set(["auto","none","0"]);function e0e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Zge.has(a)&&eb(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=OY(n,i)}const e6=t=>t===A0||t===Bn,t6=(t,e)=>parseFloat(t.split(", ")[e]),n6=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return t6(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?t6(a[1],t):0}},t0e=new Set(["x","y","z"]),n0e=u0.filter(t=>!t0e.has(t));function r0e(t){const e=[];return n0e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yg={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:n6(4,13),y:n6(5,14)};yg.translateX=yg.x;yg.translateY=yg.y;const Nh=new Set;let iT=!1,aT=!1;function FY(){if(aT){const t=Array.from(Nh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=r0e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aT=!1,iT=!1,Nh.forEach(t=>t.complete()),Nh.clear()}function MY(){Nh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aT=!0)})}function i0e(){MY(),FY()}class v3{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Nh.add(this),iT||(iT=!0,fi.read(MY),fi.resolveKeyframes(FY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Nh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Nh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const LY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),a0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s0e(t){const e=a0e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function RY(t,e,n=1){const[r,i]=s0e(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return LY(s)?parseFloat(s):s}return JD(i)?RY(i,e,n+1):i}const UY=t=>e=>e.test(t),o0e={test:t=>t==="auto",parse:t=>t},QY=[A0,Bn,Uu,bd,Yme,qme,o0e],r6=t=>QY.find(UY(t));class HY extends v3{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),JD(u))){const A=RY(u,n.current);A!==void 0&&(e[l]=A),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vY.has(r)||e.length!==2)return;const[i,a]=e,s=r6(i),o=r6(a);if(s!==o)if(e6(s)&&e6(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Mge(e[i])&&r.push(i);r.length&&e0e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yg[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=yg[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const i6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hf.test(t)||t==="0")&&!t.startsWith("url("));function l0e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function c0e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=i6(i,e),o=i6(a,e);return!s||!o?!1:l0e(t)||(n==="spring"||s3(n))&&r}const u0e=t=>t!==null;function q5(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(u0e),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const A0e=40;class zY{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qu.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>A0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&i0e(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Qu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!c0e(e,r,i,a))if(s)this.options.duration=0;else{l&&l(q5(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const A=this.initPlayback(e,n);A!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...A},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ki=(t,e,n)=>t+(e-t)*n;function yB(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d0e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=yB(l,o,t+1/3),a=yB(l,o,t),s=yB(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function dC(t,e){return n=>n>0?e:t}const bB=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},f0e=[nT,fh,pm],h0e=t=>f0e.find(e=>e.test(t));function a6(t){const e=h0e(t);if(!e)return!1;let n=e.parse(t);return e===pm&&(n=d0e(n)),n}const s6=(t,e)=>{const n=a6(t),r=a6(e);if(!n||!r)return dC(t,e);const i={...n};return a=>(i.red=bB(n.red,r.red,a),i.green=bB(n.green,r.green,a),i.blue=bB(n.blue,r.blue,a),i.alpha=ki(n.alpha,r.alpha,a),fh.transform(i))},p0e=(t,e)=>n=>e(t(n)),gx=(...t)=>t.reduce(p0e),sT=new Set(["none","hidden"]);function m0e(t,e){return sT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g0e(t,e){return n=>ki(t,e,n)}function y3(t){return typeof t=="number"?g0e:typeof t=="string"?JD(t)?dC:Xs.test(t)?s6:b0e:Array.isArray(t)?VY:typeof t=="object"?Xs.test(t)?s6:v0e:dC}function VY(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>y3(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function v0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=y3(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function y0e(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const b0e=(t,e)=>{const n=hf.createTransformer(e),r=eb(t),i=eb(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sT.has(t)&&!i.values.length||sT.has(e)&&!r.values.length?m0e(t,e):gx(VY(y0e(r,i),i.values),n):dC(t,e)};function $Y(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ki(t,e,n):y3(t)(t,e)}const x0e=5;function KY(t,e,n){const r=Math.max(e-x0e,0);return yY(n-t(r),e-r)}const qi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xB=.001;function w0e({duration:t=qi.duration,bounce:e=qi.bounce,velocity:n=qi.velocity,mass:r=qi.mass}){let i,a,s=1-e;s=VA(qi.minDamping,qi.maxDamping,s),t=VA(qi.minDuration,qi.maxDuration,kA(t)),s<1?(i=u=>{const A=u*s,d=A*t,f=A-n,h=oT(u,s),p=Math.exp(-d);return xB-f/h*p},a=u=>{const d=u*s*t,f=d*n+n,h=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-d),m=oT(Math.pow(u,2),s);return(-i(u)+xB>0?-1:1)*((f-h)*p)/m}):(i=u=>{const A=Math.exp(-u*t),d=(u-n)*t+1;return-xB+A*d},a=u=>{const A=Math.exp(-u*t),d=(n-u)*(t*t);return A*d});const o=5/t,l=S0e(i,a,o);if(t=IA(t),isNaN(l))return{stiffness:qi.stiffness,damping:qi.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const C0e=12;function S0e(t,e,n){let r=n;for(let i=1;i<C0e;i++)r=r-t(r)/e(r);return r}function oT(t,e){return t*Math.sqrt(1-e*e)}const E0e=["duration","bounce"],_0e=["stiffness","damping","mass"];function o6(t,e){return e.some(n=>t[n]!==void 0)}function B0e(t){let e={velocity:qi.velocity,stiffness:qi.stiffness,damping:qi.damping,mass:qi.mass,isResolvedFromDuration:!1,...t};if(!o6(t,_0e)&&o6(t,E0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*VA(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:qi.mass,stiffness:i,damping:a}}else{const n=w0e(t);e={...e,...n,mass:qi.mass},e.isResolvedFromDuration=!0}return e}function WY(t=qi.visualDuration,e=qi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:A,duration:d,velocity:f,isResolvedFromDuration:h}=B0e({...n,velocity:-kA(n.velocity||0)}),p=f||0,m=u/(2*Math.sqrt(l*A)),v=s-a,g=kA(Math.sqrt(l/A)),y=Math.abs(v)<5;r||(r=y?qi.restSpeed.granular:qi.restSpeed.default),i||(i=y?qi.restDelta.granular:qi.restDelta.default);let b;if(m<1){const E=oT(g,m);b=N=>{const _=Math.exp(-m*g*N);return s-_*((p+m*g*v)/E*Math.sin(E*N)+v*Math.cos(E*N))}}else if(m===1)b=E=>s-Math.exp(-g*E)*(v+(p+g*v)*E);else{const E=g*Math.sqrt(m*m-1);b=N=>{const _=Math.exp(-m*g*N),B=Math.min(E*N,300);return s-_*((p+m*g*v)*Math.sinh(B)+E*v*Math.cosh(B))/E}}const C={calculatedDuration:h&&d||null,next:E=>{const N=b(E);if(h)o.done=E>=d;else{let _=0;m<1&&(_=E===0?IA(p):KY(b,E,N));const B=Math.abs(_)<=r,j=Math.abs(s-N)<=i;o.done=B&&j}return o.value=o.done?s:N,o},toString:()=>{const E=Math.min(AY(C),Zj),N=dY(_=>C.next(E*_).value,E,30);return E+"ms "+N}};return C}function l6({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:A}){const d=t[0],f={done:!1,value:d},h=B=>o!==void 0&&B<o||l!==void 0&&B>l,p=B=>o===void 0?l:l===void 0||Math.abs(o-B)<Math.abs(l-B)?o:l;let m=n*e;const v=d+m,g=s===void 0?v:s(v);g!==v&&(m=g-d);const y=B=>-m*Math.exp(-B/r),b=B=>g+y(B),C=B=>{const j=y(B),D=b(B);f.done=Math.abs(j)<=u,f.value=f.done?g:D};let E,N;const _=B=>{h(f.value)&&(E=B,N=WY({keyframes:[f.value,p(f.value)],velocity:KY(b,B,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:A}))};return _(0),{calculatedDuration:null,next:B=>{let j=!1;return!N&&E===void 0&&(j=!0,C(B),_(B)),E!==void 0&&B>=E?N.next(B-E):(!j&&C(B),f)}}}const N0e=mx(.42,0,1,1),j0e=mx(0,0,.58,1),GY=mx(.42,0,.58,1),T0e=t=>Array.isArray(t)&&typeof t[0]!="number",I0e={linear:Nl,easeIn:N0e,easeInOut:GY,easeOut:j0e,circIn:h3,circInOut:NY,circOut:BY,backIn:f3,backInOut:EY,backOut:SY,anticipate:_Y},c6=t=>{if(o3(t)){$q(t.length===4);const[e,n,r,i]=t;return mx(e,n,r,i)}else if(typeof t=="string")return I0e[t];return t};function k0e(t,e,n){const r=[],i=n||$Y,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Nl:e;o=gx(l,o)}r.push(o)}return r}function qY(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if($q(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=k0e(e,r,i),l=o.length,u=A=>{if(s&&A<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(A<t[d+1]);d++);const f=mg(t[d],t[d+1],A);return o[d](f)};return n?A=>u(VA(t[0],t[a-1],A)):u}function P0e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mg(0,e,r);t.push(ki(n,1,i))}}function D0e(t){const e=[0];return P0e(e,t.length-1),e}function O0e(t,e){return t.map(n=>n*e)}function F0e(t,e){return t.map(()=>e||GY).splice(0,t.length-1)}function fC({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=T0e(r)?r.map(c6):c6(r),a={done:!1,value:e[0]},s=O0e(n&&n.length===e.length?n:D0e(e),t),o=qY(s,e,{ease:Array.isArray(i)?i:F0e(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const M0e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>fi.update(e,!0),stop:()=>zA(e),now:()=>ws.isProcessing?ws.timestamp:Qu.now()}},L0e={decay:l6,inertia:l6,tween:fC,keyframes:fC,spring:WY},R0e=t=>t/100;class b3 extends zY{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||v3,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=s3(n)?n:L0e[n]||fC;let l,u;o!==fC&&typeof e[0]!="number"&&(l=gx(R0e,$Y(e[0],e[1])),e=[0,100]);const A=o({...this.options,keyframes:e});a==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),A.calculatedDuration===null&&(A.calculatedDuration=AY(A));const{calculatedDuration:d}=A,f=d+i,h=f*(r+1)-i;return{generator:A,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:A,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-A/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>A;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let b=this.currentTime,C=a;if(h){const B=Math.min(this.currentTime,A)/d;let j=Math.floor(B),D=B%1;!D&&B>=1&&(D=1),D===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(p==="reverse"?(D=1-D,m&&(D-=m/d)):p==="mirror"&&(C=s)),b=VA(0,1,D)*d}const E=y?{done:!1,value:l[0]}:C.next(b);o&&(E.value=o(E.value));let{done:N}=E;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=A:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&i!==void 0&&(E.value=q5(l,this.options,i)),v&&v(E.value),_&&this.finish(),E}get duration(){const{resolved:e}=this;return e?kA(e.calculatedDuration):0}get time(){return kA(this.currentTime)}set time(e){e=IA(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=kA(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=M0e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const U0e=new Set(["opacity","clipPath","filter","transform"]);function Q0e(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const A=hY(o,i);return Array.isArray(A)&&(u.easing=A),t.animate(u,{delay:r,duration:i,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const H0e=$D(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hC=10,z0e=2e4;function V0e(t){return s3(t.type)||t.type==="spring"||!fY(t.ease)}function $0e(t,e){const n=new b3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<z0e;)r=n.sample(a),i.push(r.value),a+=hC;return{times:void 0,keyframes:i,duration:a-hC,ease:"linear"}}const YY={anticipate:_Y,backInOut:EY,circInOut:NY};function K0e(t){return t in YY}class u6 extends zY{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new HY(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&AC()&&K0e(a)&&(a=YY[a]),V0e(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:p,...m}=this.options,v=$0e(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,a=v.ease,s="keyframes"}const A=Q0e(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return A.startTime=u??this.calcStartTime(),this.pendingTimeline?(GR(A,this.pendingTimeline),this.pendingTimeline=void 0):A.onfinish=()=>{const{onComplete:d}=this.options;o.set(q5(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:A,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return kA(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return kA(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=IA(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nl;const{animation:r}=n;GR(r,e)}return Nl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:A,onComplete:d,element:f,...h}=this.options,p=new b3({...h,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),m=IA(this.time);u.setWithVelocity(p.sample(m-hC).value,p.sample(m).value,hC)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return H0e()&&r&&U0e.has(r)&&!l&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const W0e={type:"spring",stiffness:500,damping:25,restSpeed:10},G0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q0e={type:"keyframes",duration:.8},Y0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X0e=(t,{keyframes:e})=>e.length>2?q0e:Ap.has(t)?t.startsWith("scale")?G0e(e[1]):W0e:Y0e;function J0e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...A}){return!!Object.keys(A).length}const x3=(t,e,n,r={},i,a)=>s=>{const o=a3(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-IA(l);let A={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};J0e(o)||(A={...A,...X0e(t,A)}),A.duration&&(A.duration=IA(A.duration)),A.repeatDelay&&(A.repeatDelay=IA(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let d=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(A.duration=0,A.delay===0&&(d=!0)),d&&!a&&e.get()!==void 0){const f=q5(A.keyframes,o);if(f!==void 0)return fi.update(()=>{A.onUpdate(f),A.onComplete()}),new vge([])}return!a&&u6.supports(A)?new u6(A):new b3(A)};function Z0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XY(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],A=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(a=t.latestValues[d])!==null&&a!==void 0?a:null),h=l[d];if(h===void 0||A&&Z0e(A,d))continue;const p={delay:n,...a3(s||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=bY(t);if(g){const y=window.MotionHandoffAnimation(g,d,fi);y!==null&&(p.startTime=y,m=!0)}}tT(t,d),f.start(x3(d,f,h,t.shouldReduceMotion&&vY.has(d)?{type:!1}:p,t,m));const v=f.animation;v&&u.push(v)}return o&&Promise.all(u).then(()=>{fi.update(()=>{o&&d3(t,o)})}),u}function lT(t,e,n={}){var r;const i=G5(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(XY(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:A=0,staggerChildren:d,staggerDirection:f}=a;return eve(t,e,A+u,d,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,A]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>A())}else return Promise.all([s(),o(n.delay)])}function eve(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(tve).forEach((u,A)=>{u.notify("AnimationStart",e),s.push(lT(u,e,{...a,delay:n+l(A)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function tve(t,e){return t.sortNodePosition(e)}function JY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>lT(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=lT(t,e,n);else{const i=typeof e=="function"?G5(t,e,n.custom):e;r=Promise.all(XY(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const nve=WD.length;function ZY(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZY(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nve;n++){const r=WD[n],i=t.props[r];(Jy(i)||i===!1)&&(e[r]=i)}return e}const rve=[...KD].reverse(),ive=KD.length;function ave(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JY(t,n,r)))}function sve(t){let e=ave(t),n=A6(),r=!0;const i=l=>(u,A)=>{var d;const f=G5(t,A,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...m}=f;u={...u,...m,...p}}return u};function a(l){e=l(t)}function s(l){const{props:u}=t,A=ZY(t.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let v=0;v<ive;v++){const g=rve[v],y=n[g],b=u[g]!==void 0?u[g]:A[g],C=Jy(b),E=g===l?y.isActive:null;E===!1&&(p=v);let N=b===A[g]&&b!==u[g]&&C;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...h},!y.isActive&&E===null||!b&&!y.prevProp||K5(b)||typeof b=="boolean")continue;const _=ove(y.prevProp,b);let B=_||g===l&&y.isActive&&!N&&C||v>p&&C,j=!1;const D=Array.isArray(b)?b:[b];let k=D.reduce(i(g),{});E===!1&&(k={});const{prevResolvedValues:O={}}=y,F={...O,...k},H=Z=>{B=!0,f.has(Z)&&(j=!0,f.delete(Z)),y.needsAnimating[Z]=!0;const W=t.getValue(Z);W&&(W.liveStyle=!1)};for(const Z in F){const W=k[Z],oe=O[Z];if(h.hasOwnProperty(Z))continue;let te=!1;Jj(W)&&Jj(oe)?te=!uY(W,oe):te=W!==oe,te?W!=null?H(Z):f.add(Z):W!==void 0&&f.has(Z)?H(Z):y.protectedKeys[Z]=!0}y.prevProp=b,y.prevResolvedValues=k,y.isActive&&(h={...h,...k}),r&&t.blockInitialAnimation&&(B=!1),B&&(!(N&&_)||j)&&d.push(...D.map(Z=>({animation:Z,options:{type:g}})))}if(f.size){const v={};f.forEach(g=>{const y=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),v[g]=y??null}),d.push({animation:v})}let m=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function o(l,u){var A;if(n[l].isActive===u)return Promise.resolve();(A=t.variantChildren)===null||A===void 0||A.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=A6(),r=!0}}}function ove(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uY(e,t):!1}function Rf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A6(){return{animate:Rf(!0),whileInView:Rf(),whileHover:Rf(),whileTap:Rf(),whileDrag:Rf(),whileFocus:Rf(),exit:Rf()}}class Sf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lve extends Sf{constructor(e){super(e),e.animationState||(e.animationState=sve(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();K5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cve=0;class uve extends Sf{constructor(){super(...arguments),this.id=cve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ave={animation:{Feature:lve},exit:{Feature:uve}};function tb(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function vx(t){return{point:{x:t.pageX,y:t.pageY}}}const dve=t=>e=>l3(e)&&t(e,vx(e));function Jv(t,e,n,r){return tb(t,e,dve(n),r)}const d6=(t,e)=>Math.abs(t-e);function fve(t,e){const n=d6(t.x,e.x),r=d6(t.y,e.y);return Math.sqrt(n**2+r**2)}class eX{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=CB(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=fve(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:m}=ws;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=wB(f,this.transformPagePoint),fi.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=CB(d.type==="pointercancel"?this.lastMoveEventInfo:wB(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),p&&p(d,v)},!l3(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=vx(e),o=wB(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=ws;this.history=[{...l,timestamp:u}];const{onSessionStart:A}=n;A&&A(e,CB(o,this.history)),this.removeListeners=gx(Jv(this.contextWindow,"pointermove",this.handlePointerMove),Jv(this.contextWindow,"pointerup",this.handlePointerUp),Jv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zA(this.updatePoint)}}function wB(t,e){return e?{point:e(t.point)}:t}function f6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function CB({point:t},e){return{point:t,delta:f6(t,tX(e)),offset:f6(t,hve(e)),velocity:pve(e,.1)}}function hve(t){return t[0]}function tX(t){return t[t.length-1]}function pve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=tX(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>IA(e)));)n--;if(!r)return{x:0,y:0};const a=kA(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const nX=1e-4,mve=1-nX,gve=1+nX,rX=.01,vve=0-rX,yve=0+rX;function Dl(t){return t.max-t.min}function bve(t,e,n){return Math.abs(t-e)<=n}function h6(t,e,n,r=.5){t.origin=r,t.originPoint=ki(e.min,e.max,t.origin),t.scale=Dl(n)/Dl(e),t.translate=ki(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mve&&t.scale<=gve||isNaN(t.scale))&&(t.scale=1),(t.translate>=vve&&t.translate<=yve||isNaN(t.translate))&&(t.translate=0)}function Zv(t,e,n,r){h6(t.x,e.x,n.x,r?r.originX:void 0),h6(t.y,e.y,n.y,r?r.originY:void 0)}function p6(t,e,n){t.min=n.min+e.min,t.max=t.min+Dl(e)}function xve(t,e,n){p6(t.x,e.x,n.x),p6(t.y,e.y,n.y)}function m6(t,e,n){t.min=e.min-n.min,t.max=t.min+Dl(e)}function ey(t,e,n){m6(t.x,e.x,n.x),m6(t.y,e.y,n.y)}function wve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ki(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ki(n,t,r.max):Math.min(t,n)),t}function g6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Cve(t,{top:e,left:n,bottom:r,right:i}){return{x:g6(t.x,n,i),y:g6(t.y,e,r)}}function v6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Sve(t,e){return{x:v6(t.x,e.x),y:v6(t.y,e.y)}}function Eve(t,e){let n=.5;const r=Dl(t),i=Dl(e);return i>r?n=mg(e.min,e.max-r,t.min):r>i&&(n=mg(t.min,t.max-i,e.min)),VA(0,1,n)}function _ve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cT=.35;function Bve(t=cT){return t===!1?t=0:t===!0&&(t=cT),{x:y6(t,"left","right"),y:y6(t,"top","bottom")}}function y6(t,e,n){return{min:b6(t,e),max:b6(t,n)}}function b6(t,e){return typeof t=="number"?t:t[e]||0}const x6=()=>({translate:0,scale:1,origin:0,originPoint:0}),mm=()=>({x:x6(),y:x6()}),w6=()=>({min:0,max:0}),Aa=()=>({x:w6(),y:w6()});function ic(t){return[t("x"),t("y")]}function iX({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Nve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function SB(t){return t===void 0||t===1}function uT({scale:t,scaleX:e,scaleY:n}){return!SB(t)||!SB(e)||!SB(n)}function qf(t){return uT(t)||aX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aX(t){return C6(t.x)||C6(t.y)}function C6(t){return t&&t!=="0%"}function pC(t,e,n){const r=t-n,i=e*r;return n+i}function S6(t,e,n,r,i){return i!==void 0&&(t=pC(t,i,r)),pC(t,n,r)+e}function AT(t,e=0,n=1,r,i){t.min=S6(t.min,e,n,r,i),t.max=S6(t.max,e,n,r,i)}function sX(t,{x:e,y:n}){AT(t.x,e.translate,e.scale,e.originPoint),AT(t.y,n.translate,n.scale,n.originPoint)}const E6=.999999999999,_6=1.0000000000001;function Tve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vm(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,sX(t,s)),r&&qf(a.latestValues)&&vm(t,a.latestValues))}e.x<_6&&e.x>E6&&(e.x=1),e.y<_6&&e.y>E6&&(e.y=1)}function gm(t,e){t.min=t.min+e,t.max=t.max+e}function B6(t,e,n,r,i=.5){const a=ki(t.min,t.max,i);AT(t,e,n,a,r)}function vm(t,e){B6(t.x,e.x,e.scaleX,e.scale,e.originX),B6(t.y,e.y,e.scaleY,e.scale,e.originY)}function oX(t,e){return iX(jve(t.getBoundingClientRect(),e))}function Ive(t,e,n){const r=oX(t,n),{scroll:i}=e;return i&&(gm(r.x,i.offset.x),gm(r.y,i.offset.y)),r}const lX=({current:t})=>t?t.ownerDocument.defaultView:null,kve=new WeakMap;class Pve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Aa(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=A=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vx(A).point)},a=(A,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bge(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ic(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Uu.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[v];b&&(g=Dl(b)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&fi.postRender(()=>p(A,d)),tT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(A,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=Dve(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(A,d)},o=(A,d)=>this.stop(A,d),l=()=>ic(A=>{var d;return this.getAnimationState(A)==="paused"&&((d=this.getAxisMotionValue(A).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new eX(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:lX(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&fi.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!B1(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=wve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&hm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Cve(i.layoutBox,n):this.constraints=!1,this.elastic=Bve(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ic(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=_ve(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hm(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ive(r,i.root,this.visualElement.getTransformPagePoint());let s=Sve(i.layout.layoutBox,a);if(n){const o=n(Nve(s));this.hasMutatedConstraints=!!o,o&&(s=iX(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ic(A=>{if(!B1(A,n,this.currentDirection))return;let d=l&&l[A]||{};s&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[A]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(A,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tT(this.visualElement,e),r.start(x3(e,r,0,n,this.visualElement,!1))}stopAnimation(){ic(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ic(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ic(n=>{const{drag:r}=this.getProps();if(!B1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-ki(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ic(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Eve({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ic(s=>{if(!B1(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(ki(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;kve.set(this.visualElement,this);const e=this.visualElement.current,n=Jv(e,"pointerdown",l=>{const{drag:u,dragListener:A=!0}=this.getProps();u&&A&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fi.read(r);const s=tb(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ic(A=>{const d=this.getAxisMotionValue(A);d&&(this.originPoint[A]+=l[A].translate,d.set(d.get()+l[A].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=cT,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function B1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dve(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ove extends Sf{constructor(e){super(e),this.removeGroupControls=Nl,this.removeListeners=Nl,this.controls=new Pve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nl}unmount(){this.removeGroupControls(),this.removeListeners()}}const N6=t=>(e,n)=>{t&&fi.postRender(()=>t(e,n))};class Fve extends Sf{constructor(){super(...arguments),this.removePointerDownListener=Nl}onPointerDown(e){this.session=new eX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:N6(e),onStart:N6(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&fi.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Jv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const W0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bn.test(t))t=parseFloat(t);else return t;const n=j6(t,e.target.x),r=j6(t,e.target.y);return`${n}% ${r}%`}},Mve={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=hf.parse(t);if(i.length>5)return r;const a=hf.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=ki(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class Lve extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;sge(Rve),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),i2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||fi.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cX(t){const[e,n]=Vq(),r=P.useContext(zD);return c.jsx(Lve,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(Xq),isPresent:e,safeToRemove:n})}const Rve={borderRadius:{...W0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:W0,borderTopRightRadius:W0,borderBottomLeftRadius:W0,borderBottomRightRadius:W0,boxShadow:Mve};function Uve(t,e,n){const r=_s(t)?t:vg(t);return r.start(x3("",r,e,n)),r.animation}function Qve(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Hve=(t,e)=>t.depth-e.depth;class zve{constructor(){this.children=[],this.isDirty=!1}add(e){c3(this.children,e),this.isDirty=!0}remove(e){u3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Hve),this.isDirty=!1,this.children.forEach(e)}}function Vve(t,e){const n=Qu.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(zA(r),t(a-e))};return fi.read(r,!0),()=>zA(r)}const uX=["TopLeft","TopRight","BottomLeft","BottomRight"],$ve=uX.length,T6=t=>typeof t=="string"?parseFloat(t):t,I6=t=>typeof t=="number"||Bn.test(t);function Kve(t,e,n,r,i,a){i?(t.opacity=ki(0,n.opacity!==void 0?n.opacity:1,Wve(r)),t.opacityExit=ki(e.opacity!==void 0?e.opacity:1,0,Gve(r))):a&&(t.opacity=ki(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<$ve;s++){const o=`border${uX[s]}Radius`;let l=k6(e,o),u=k6(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||I6(l)===I6(u)?(t[o]=Math.max(ki(T6(l),T6(u),r),0),(Uu.test(u)||Uu.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ki(e.rotate||0,n.rotate||0,r))}function k6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wve=AX(0,.5,BY),Gve=AX(.5,.95,Nl);function AX(t,e,n){return r=>r<t?0:r>e?1:n(mg(t,e,r))}function P6(t,e){t.min=e.min,t.max=e.max}function Jl(t,e){P6(t.x,e.x),P6(t.y,e.y)}function D6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function O6(t,e,n,r,i){return t-=e,t=pC(t,1/n,r),i!==void 0&&(t=pC(t,1/i,r)),t}function qve(t,e=0,n=1,r=.5,i,a=t,s=t){if(Uu.test(e)&&(e=parseFloat(e),e=ki(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=ki(a.min,a.max,r);t===a&&(o-=e),t.min=O6(t.min,e,n,o,i),t.max=O6(t.max,e,n,o,i)}function F6(t,e,[n,r,i],a,s){qve(t,e[n],e[r],e[i],e.scale,a,s)}const Yve=["x","scaleX","originX"],Xve=["y","scaleY","originY"];function M6(t,e,n,r){F6(t.x,e,Yve,n?n.x:void 0,r?r.x:void 0),F6(t.y,e,Xve,n?n.y:void 0,r?r.y:void 0)}function L6(t){return t.translate===0&&t.scale===1}function dX(t){return L6(t.x)&&L6(t.y)}function R6(t,e){return t.min===e.min&&t.max===e.max}function Jve(t,e){return R6(t.x,e.x)&&R6(t.y,e.y)}function U6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fX(t,e){return U6(t.x,e.x)&&U6(t.y,e.y)}function Q6(t){return Dl(t.x)/Dl(t.y)}function H6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Zve{constructor(){this.members=[]}add(e){c3(this.members,e),e.scheduleRender()}remove(e){if(u3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eye(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:A,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),A&&(r+=`rotate(${A}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Yf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sv=typeof window<"u"&&window.MotionDebug!==void 0,EB=["","X","Y","Z"],tye={visibility:"hidden"},z6=1e3;let nye=0;function _B(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function hX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bY(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fi,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&hX(r)}function pX({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=nye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sv&&(Yf.totalNodes=Yf.resolvedTargetDeltas=Yf.recalculatedProjection=0),this.nodes.forEach(aye),this.nodes.forEach(uye),this.nodes.forEach(Aye),this.nodes.forEach(sye),Sv&&window.MotionDebug.record(Yf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new A3),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qve(s),this.instance=s;const{layoutId:l,layout:u,visualElement:A}=this.options;if(A&&!A.current&&A.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Vve(f,250),i2.hasAnimatedSinceResize&&(i2.hasAnimatedSinceResize=!1,this.nodes.forEach($6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&A&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||A.getDefaultTransition()||mye,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=A.getProps(),y=!this.targetLayout||!fX(this.targetLayout,p)||h,b=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const C={...a3(m,"layout"),onPlay:v,onComplete:g};(A.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||$6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dye),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const d=this.path[A];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V6);return}this.isUpdating||this.nodes.forEach(lye),this.isUpdating=!1,this.nodes.forEach(cye),this.nodes.forEach(rye),this.nodes.forEach(iye),this.clearAllSnapshots();const o=Qu.now();ws.delta=VA(0,1e3/60,o-ws.timestamp),ws.timestamp=o,ws.isProcessing=!0,mB.update.process(ws),mB.preRender.process(ws),mB.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oye),this.sharedNodes.forEach(fye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Aa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!dX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,A=u!==this.prevTransformTemplateValue;s&&(o||qf(this.latestValues)||A)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),gye(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Aa();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(vye))){const{scroll:A}=this.root;A&&(gm(l.x,A.offset.x),gm(l.y,A.offset.y))}return l}removeElementScroll(s){var o;const l=Aa();if(Jl(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const A=this.path[u],{scroll:d,options:f}=A;A!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Jl(l,s),gm(l.x,d.offset.x),gm(l.y,d.offset.y))}return l}applyTransform(s,o=!1){const l=Aa();Jl(l,s);for(let u=0;u<this.path.length;u++){const A=this.path[u];!o&&A.options.layoutScroll&&A.scroll&&A!==A.root&&vm(l,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),qf(A.latestValues)&&vm(l,A.latestValues)}return qf(this.latestValues)&&vm(l,this.latestValues),l}removeTransform(s){const o=Aa();Jl(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qf(u.latestValues))continue;uT(u.latestValues)&&u.updateSnapshot();const A=Aa(),d=u.measurePageBox();Jl(A,d),M6(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,A)}return qf(this.latestValues)&&M6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Aa(),this.relativeTargetOrigin=Aa(),ey(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Jl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Aa(),this.targetWithTransforms=Aa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jl(this.target,this.layout.layoutBox),sX(this.target,this.targetDelta)):Jl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Aa(),this.relativeTargetOrigin=Aa(),ey(this.relativeTargetOrigin,this.target,h.target),Jl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sv&&Yf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uT(this.parent.latestValues)||aX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(u=!1),u)return;const{layout:A,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||d))return;Jl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Tve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Aa());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D6(this.prevProjectionDelta.x,this.projectionDelta.x),D6(this.prevProjectionDelta.y,this.projectionDelta.y)),Zv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!H6(this.projectionDelta.x,this.prevProjectionDelta.x)||!H6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Sv&&Yf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mm(),this.projectionDelta=mm(),this.projectionDeltaWithTransform=mm()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},A={...this.latestValues},d=mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Aa(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,v=this.getStack(),g=!v||v.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(pye));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const E=C/1e3;K6(d.x,s.x,E),K6(d.y,s.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ey(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hye(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&Jve(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Aa()),Jl(b,this.relativeTarget)),m&&(this.animationValues=A,Kve(A,u,this.latestValues,E,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fi.update(()=>{i2.hasAnimatedSinceResize=!0,this.currentAnimation=Uve(0,z6,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:A}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&mX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Aa();const d=Dl(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=Dl(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}Jl(o,l),vm(o,A),Zv(this.projectionDeltaWithTransform,this.layoutCorrected,o,A)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Zve),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&_B("z",s,u,this.animationValues);for(let A=0;A<EB.length;A++)_B(`rotate${EB[A]}`,s,u,this.animationValues),_B(`skew${EB[A]}`,s,u,this.animationValues);s.render();for(const A in u)s.setStaticValue(A,u[A]),this.animationValues&&(this.animationValues[A]=u[A]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tye;const u={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=n2(s==null?void 0:s.pointerEvents)||"",u.transform=A?A(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=n2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!qf(this.latestValues)&&(m.transform=A?A({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=eye(this.projectionDeltaWithTransform,this.treeScale,f),A&&(u.transform=A(f,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in uC){if(f[m]===void 0)continue;const{correct:v,applyTo:g}=uC[m],y=u.transform==="none"?f[m]:v(f[m],d);if(g){const b=g.length;for(let C=0;C<b;C++)u[g[C]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=d===this?n2(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(V6),this.root.sharedNodes.clear()}}}function rye(t){t.updateLayout()}function iye(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?ic(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=Dl(f);f.min=r[d].min,f.max=f.min+h}):mX(a,n.layoutBox,r)&&ic(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=Dl(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=mm();Zv(o,r,n.layoutBox);const l=mm();s?Zv(l,t.applyTransform(i,!0),n.measuredBox):Zv(l,r,n.layoutBox);const u=!dX(o);let A=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=Aa();ey(p,n.layoutBox,f.layoutBox);const m=Aa();ey(m,r,h.layoutBox),fX(p,m)||(A=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:A})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aye(t){Sv&&Yf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oye(t){t.clearSnapshot()}function V6(t){t.clearMeasurements()}function lye(t){t.isLayoutDirty=!1}function cye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uye(t){t.resolveTargetDelta()}function Aye(t){t.calcProjection()}function dye(t){t.resetSkewAndRotation()}function fye(t){t.removeLeadSnapshot()}function K6(t,e,n){t.translate=ki(e.translate,0,n),t.scale=ki(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function W6(t,e,n,r){t.min=ki(e.min,n.min,r),t.max=ki(e.max,n.max,r)}function hye(t,e,n,r){W6(t.x,e.x,n.x,r),W6(t.y,e.y,n.y,r)}function pye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mye={duration:.45,ease:[.4,0,.1,1]},G6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q6=G6("applewebkit/")&&!G6("chrome/")?Math.round:Nl;function Y6(t){t.min=q6(t.min),t.max=q6(t.max)}function gye(t){Y6(t.x),Y6(t.y)}function mX(t,e,n){return t==="position"||t==="preserve-aspect"&&!bve(Q6(e),Q6(n),.2)}function vye(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const yye=pX({attachResizeListener:(t,e)=>tb(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),BB={current:void 0},gX=pX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!BB.current){const t=new yye({});t.mount(window),t.setOptions({layoutScroll:!0}),BB.current=t}return BB.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bye={pan:{Feature:Fve},drag:{Feature:Ove,ProjectionNode:gX,MeasureLayout:cX}};function X6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&fi.postRender(()=>a(e,vx(e)))}class xye extends Sf{mount(){const{current:e}=this.node;e&&(this.unmount=wge(e,n=>(X6(this.node,n,"Start"),r=>X6(this.node,r,"End"))))}unmount(){}}class wye extends Sf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gx(tb(this.node.current,"focus",()=>this.onFocus()),tb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J6(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&fi.postRender(()=>a(e,vx(e)))}class Cye extends Sf{mount(){const{current:e}=this.node;e&&(this.unmount=_ge(e,n=>(J6(this.node,n,"Start"),(r,{success:i})=>J6(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dT=new WeakMap,NB=new WeakMap,Sye=t=>{const e=dT.get(t.target);e&&e(t)},Eye=t=>{t.forEach(Sye)};function _ye({root:t,...e}){const n=t||document;NB.has(n)||NB.set(n,{});const r=NB.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Eye,{root:t,...e})),r[i]}function Bye(t,e,n){const r=_ye(e);return dT.set(t,n),r.observe(t),()=>{dT.delete(t),r.unobserve(t)}}const Nye={some:0,all:1};class jye extends Sf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Nye[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:A,onViewportLeave:d}=this.node.getProps(),f=u?A:d;f&&f(l)};return Bye(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Tye(e,n))&&this.startObserver()}unmount(){}}function Tye({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Iye={inView:{Feature:jye},tap:{Feature:Cye},focus:{Feature:wye},hover:{Feature:xye}},kye={layout:{ProjectionNode:gX,MeasureLayout:cX}},fT={current:null},vX={current:!1};function Pye(){if(vX.current=!0,!!VD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fT.current=t.matches;t.addListener(e),e()}else fT.current=!1}const Dye=[...QY,Xs,hf],Oye=t=>Dye.find(UY(t)),Z6=new WeakMap;function Fye(t,e,n){for(const r in e){const i=e[r],a=n[r];if(_s(i))t.addValue(r,i);else if(_s(a))t.addValue(r,vg(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,vg(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mye{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Qu.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,fi.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:A}=s;this.onUpdate=A,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=W5(n),this.isVariantNode=qq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&_s(p)&&p.set(l[h],!1)}}mount(e){this.current=e,Z6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),vX.current||Pye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z6.delete(this.current),this.projection&&this.projection.unmount(),zA(this.notifyUpdate),zA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ap.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gg){const n=gg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Aa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eU.length;r++){const i=eU[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Fye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(LY(i)||jY(i))?i=parseFloat(i):!Oye(i)&&hf.test(n)&&(i=OY(e,n)),this.setBaseTarget(e,_s(i)?i.get():i)),_s(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=XD(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!_s(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new A3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class yX extends Mye{constructor(){super(...arguments),this.KeyframeResolver=HY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_s(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Lye(t){return window.getComputedStyle(t)}class Rye extends yX{constructor(){super(...arguments),this.type="html",this.renderInstance=iY}readValueFromInstance(e,n){if(Ap.has(n)){const r=g3(n);return r&&r.default||0}else{const r=Lye(e),i=(tY(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oX(e,n)}build(e,n,r){e3(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return i3(e,n,r)}}class Uye extends yX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Aa}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ap.has(n)){const r=g3(n);return r&&r.default||0}return n=aY.has(n)?n:GD(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lY(e,n,r)}build(e,n,r){t3(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){sY(e,n,r,i)}mount(e){this.isSVGTag=r3(e.tagName),super.mount(e)}}const Qye=(t,e)=>YD(t)?new Uye(e):new Rye(e,{allowProjection:t!==P.Fragment}),Hye=pge({...Ave,...Iye,...bye,...kye},Qye),Ji=Tme(Hye);function bX(t){const e=ed(()=>vg(t)),{isStatic:n}=P.useContext(z5);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function xX(t,e){const n=bX(e()),r=()=>n.set(e());return r(),V5(()=>{const i=()=>fi.preRender(r,!1,!0),a=t.map(s=>s.on("change",i));return()=>{a.forEach(s=>s()),zA(r)}}),n}const zye=t=>t&&typeof t=="object"&&t.mix,Vye=t=>zye(t)?t.mix:void 0;function $ye(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],s=t[3+n],o=qY(i,a,{mixer:Vye(a[0]),...s});return e?o(r):o}function Kye(t){Yv.current=[],t();const e=xX(Yv.current,t);return Yv.current=void 0,e}function Wye(t,e,n,r){if(typeof t=="function")return Kye(t);const i=typeof e=="function"?e:$ye(e,n,r);return Array.isArray(t)?tU(t,i):tU([t],([a])=>i(a))}function tU(t,e){const n=ed(()=>[]);return xX(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Gye(t){t.values.forEach(e=>e.stop())}function hT(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&d3(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{hT(a,e)})})}function qye(t,e){if(Array.isArray(e))return hT(t,e);if(typeof e=="string")return hT(t,[e]);d3(t,e)}function Yye(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(JY(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{qye(r,n)})},stop(){t.forEach(n=>{Gye(n)})},mount(){return()=>{e.stop()}}};return e}function Xye(){const t=ed(Yye);return V5(t.mount,[]),t}const dp=Xye;class Jye{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const Zye=()=>new Jye;function w3(){return ed(Zye)}const wX=P.createContext(null);function ebe(t,e,n,r){if(!r)return t;const i=t.findIndex(A=>A.value===e);if(i===-1)return t;const a=r>0?1:-1,s=t[i+a];if(!s)return t;const o=t[i],l=s.layout,u=ki(l.min,l.max,.5);return a===1&&o.layout.max+n>u||a===-1&&o.layout.min+n<u?jge(t,i,i+a):t}function tbe({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},s){const o=ed(()=>Ji[e]),l=[],u=P.useRef(!1),A={axis:n,registerItem:(d,f)=>{const h=l.findIndex(p=>d===p.value);h!==-1?l[h].layout=f[n]:l.push({value:d,layout:f[n]}),l.sort(rbe)},updateOrder:(d,f,h)=>{if(u.current)return;const p=ebe(l,d,f,h);l!==p&&(u.current=!0,r(p.map(nbe).filter(m=>i.indexOf(m)!==-1)))}};return P.useEffect(()=>{u.current=!1}),c.jsx(o,{...a,ref:s,ignoreStrict:!0,children:c.jsx(wX.Provider,{value:A,children:t})})}const C3=P.forwardRef(tbe);function nbe(t){return t.value}function rbe(t,e){return t.layout.min-e.layout.min}function nU(t,e=0){return _s(t)?t:bX(e)}function ibe({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...s},o){const l=ed(()=>Ji[r]),u=P.useContext(wX),A={x:nU(e.x),y:nU(e.y)},d=Wye([A.x,A.y],([m,v])=>m||v?1:"unset"),{axis:f,registerItem:h,updateOrder:p}=u;return c.jsx(l,{drag:f,...s,dragSnapToOrigin:!0,style:{...e,x:A.x,y:A.y,zIndex:d},layout:a,onDrag:(m,v)=>{const{velocity:g}=v;g[f]&&p(n,A[f].get(),g[f]),i&&i(m,v)},onLayoutMeasure:m=>h(n,m),ref:o,ignoreStrict:!0,children:t})}const S3=P.forwardRef(ibe),Ku=({isOpen:t,onClose:e,title:n,actions:r})=>t?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:c.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:i=>i.stopPropagation(),children:[c.jsx("div",{className:"p-2",children:c.jsx("header",{className:"text-center p-2 rounded-lg bg-zinc-800/50",children:c.jsx("h2",{className:"text-sm font-semibold text-brand-light-gray",children:n})})}),c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"bg-zinc-800/50 rounded-lg",children:r.map((i,a)=>c.jsxs("button",{onClick:()=>{i.onClick(),e()},className:`w-full flex items-center p-3 text-left transition-colors hover:bg-white/10 ${i.color||"text-brand-blue"} ${a>0?"border-t border-zinc-700/80":""}`,children:[c.jsx(i.icon,{size:22,className:"mr-4"}),c.jsx("span",{className:"text-lg font-medium text-white",children:i.label})]},a))})}),c.jsxs("div",{className:"p-2 mt-1",children:[c.jsx("button",{onClick:e,className:"w-full bg-zinc-700 p-3 text-lg font-bold text-white rounded-xl hover:bg-zinc-600 transition-colors",children:"Cancelar"}),"S      "]})]})}):null,abe=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?c.jsxs(fn,{isOpen:t,onClose:e,title:r,children:[" ",c.jsxs("div",{className:"space-y-6",children:[" ",c.jsx("p",{className:"text-zinc-300",children:i})," ",c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})," "]})," "]}):null,sbe=({lotName:t,count:e,subLotsCount:n,dragControls:r,isSubLot:i})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[!i&&c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:a=>r.start(a),children:c.jsx(OD,{className:"text-zinc-500"})}),i&&c.jsx("div",{className:"w-4 flex-shrink-0"}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t,n>0&&c.jsx("span",{title:`${n} sub-lotes`,className:"bg-zinc-700/80 p-1 rounded-full",children:c.jsx(Qpe,{size:12,className:"text-zinc-400"})})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[c.jsx("span",{className:"font-semibold text-brand-orange",children:e})," ",e===1?"animal":"animales",n>0?" (directos)":""]})]})]}),rU=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i,isSubLot:a=!1})=>{var f,h;const s=dp(),o=P.useRef(!1),l=t.count>0||(((f=t.subLots)==null?void 0:f.length)||0)>0,u=t.name!=="Sin Asignar",d={drag:"x",dragConstraints:{left:-((l?80:0)+(u?80:0)),right:0},dragElastic:.1,onPanStart:()=>{o.current=!0},onPanEnd:()=>{setTimeout(()=>{o.current=!1},50)},onTap:()=>{o.current||r()},animate:s,transition:{type:"spring",stiffness:400,damping:40}};return c.jsxs("div",{className:`relative w-full overflow-hidden ${a?"rounded-lg":"rounded-2xl"} bg-brand-glass border border-brand-border`,children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[l&&c.jsxs("button",{onClick:e,onPointerDown:p=>p.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-orange text-white",children:[c.jsx(Cf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),u&&c.jsxs("button",{onClick:n,onPointerDown:p=>p.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(Sc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Borrar"})]})]}),c.jsx(Ji.div,{...d,dragListener:!a&&i?!1:void 0,className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(sbe,{lotName:t.name,count:t.count,subLotsCount:((h=t.subLots)==null?void 0:h.length)||0,dragControls:i,isSubLot:a})})]})},obe=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=w3();return c.jsxs(S3,{value:t,dragListener:!1,dragControls:i,className:"space-y-1",children:[c.jsx(rU,{lot:t,dragControls:i,onClick:()=>e({name:"lot-detail",lotName:t.name}),onEdit:()=>n(t),onDelete:()=>r(t),isSubLot:!1}),t.subLots&&t.subLots.length>0&&c.jsx("div",{className:"pl-6 space-y-1",children:t.subLots.map(a=>c.jsx(rU,{lot:a,onClick:()=>e({name:"lot-detail",lotName:a.name}),onEdit:()=>n(a),onDelete:()=>r(a),isSubLot:!0},a.id))})]},t.id)};function lbe({navigateTo:t}){const{animals:e,lots:n,deleteLot:r}=en(),[i,a]=P.useState(!1),[s,o]=P.useState(null),[l,u]=P.useState(null),A=P.useMemo(()=>{const m=new Map;n.forEach(C=>m.set(C.name,0)),(e||[]).forEach(C=>{const E=C.location||"Sin Asignar";m.set(E,(m.get(E)||0)+1)});const v=n.map(C=>({id:C.id,name:C.name,count:m.get(C.name)||0,parentLotId:C.parentLotId})),g=new Map;v.forEach(C=>{C.parentLotId&&(g.has(C.parentLotId)||g.set(C.parentLotId,[]),g.get(C.parentLotId).push(C))});const y=v.filter(C=>!C.parentLotId).map(C=>({...C,subLots:g.get(C.id)||[]})),b=m.get("Sin Asignar")||0;return(b>0||y.length===0&&b>0)&&y.push({id:"unassigned",name:"Sin Asignar",count:b,parentLotId:void 0,subLots:[]}),y.sort((C,E)=>C.name.localeCompare(E.name))},[e,n]),[d,f]=P.useState(A);P.useEffect(()=>{f(A)},[A]);const h=[{label:"Mover Animales",icon:RD,onClick:()=>t({name:"lot-detail",lotName:(s==null?void 0:s.name)||""})}],p=()=>{l&&(r(l.id),u(null))};return d.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(zq,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay lotes fsicos creados."}),c.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botn '+' para empezar a organizar tu rebao."})]}):c.jsxs(c.Fragment,{children:[c.jsx(C3,{as:"div",axis:"y",values:d,onReorder:f,className:"space-y-3",children:d.map(m=>c.jsx(obe,{lot:m,navigateTo:t,onEdit:v=>{o(v),a(!0)},onDelete:v=>u(v)},m.id))}),c.jsx(Ku,{isOpen:i,onClose:()=>a(!1),title:`Acciones para "${s==null?void 0:s.name}"`,actions:h}),c.jsx(abe,{isOpen:!!l,onClose:()=>u(null),onConfirm:p,title:"Eliminar Lote",message:`Ests seguro de que quieres eliminar el lote "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})}const cbe=({onSave:t,onCancel:e,existingSeason:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState("45"),[u,A]=P.useState(!1),[d,f]=P.useState(null),[h,p]=P.useState(!1);P.useEffect(()=>{if(n){i(n.name),s(n.startDate);const v=new Date(n.startDate),g=new Date(n.endDate),y=Math.abs(g.getTime()-v.getTime()),b=Math.ceil(y/(1e3*60*60*24));l(String(b)),A(n.requiresLightTreatment)}else s(new Date().toISOString().split("T")[0])},[n]);const m=async v=>{if(v.preventDefault(),f(null),!r.trim()||!a||!o){f("Todos los campos son obligatorios.");return}p(!0);const g=new Date(a),y=new Date(g);y.setDate(g.getDate()+parseInt(o,10));const b={name:r,startDate:a,endDate:y.toISOString().split("T")[0],requiresLightTreatment:u};try{await t(b)}catch(C){f("No se pudo guardar la temporada de monta."),console.error(C),p(!1)}};return c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre de la Temporada"}),c.jsx("input",{id:"name",type:"text",value:r,onChange:v=>i(v.target.value),placeholder:"Ej: Monta de Otoo 2025",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),c.jsx("input",{id:"startDate",type:"date",value:a,onChange:v=>s(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Duracin (das)"}),c.jsx("input",{id:"duration",type:"number",value:o,onChange:v=>l(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]})]}),c.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[c.jsx("label",{htmlFor:"lightTreatment",className:"text-sm font-medium text-zinc-300",children:"Requiere Tratamiento de Luz?"}),c.jsx("input",{id:"lightTreatment",type:"checkbox",checked:u,onChange:v=>A(v.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),d&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:h,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:h?"Guardando...":"Guardar Temporada"})]})]})},ube=({season:t,dragControls:e})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:n=>e.start(n),children:c.jsx(OD,{className:"text-zinc-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t.name,t.requiresLightTreatment&&c.jsx("span",{title:"Requiere Tratamiento de Luz",children:c.jsx(qpe,{size:16,className:"text-yellow-400"})})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[new Date(t.startDate+"T00:00:00").toLocaleDateString()," - ",new Date(t.endDate+"T00:00:00").toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${t.status==="Activo"?"bg-green-500/80 text-white":"bg-zinc-600 text-zinc-300"}`,children:t.status}),c.jsx(ea,{className:"text-zinc-600"})]})]}),Abe=({season:t,onEdit:e,onClick:n,dragControls:r})=>{const i=dp(),a=P.useRef(!1);return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("button",{onClick:e,onPointerDown:s=>s.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(Cf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]})}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onPanStart:()=>{a.current=!0},onPanEnd:()=>{setTimeout(()=>{a.current=!1},50)},onTap:()=>{a.current||n()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(ube,{season:t,dragControls:r})})]})},dbe=({season:t,navigateTo:e,onEdit:n})=>{const r=w3();return c.jsx(S3,{value:t,dragListener:!1,dragControls:r,children:c.jsx(Abe,{season:t,dragControls:r,onClick:()=>e({name:"breeding-season-detail",seasonId:t.id}),onEdit:()=>n(t)})},t.id)};function fbe({navigateTo:t}){const{breedingSeasons:e,addBreedingSeason:n,updateBreedingSeason:r}=en(),[i,a]=P.useState(!1),[s,o]=P.useState(void 0),l=P.useMemo(()=>[...e].sort((h,p)=>h.status==="Activo"&&p.status!=="Activo"?-1:h.status!=="Activo"&&p.status==="Activo"?1:new Date(p.startDate).getTime()-new Date(h.startDate).getTime()),[e]),[u,A]=P.useState(l);P.useEffect(()=>{A(l)},[l]);const d=h=>{o(h),a(!0)},f=async h=>{s?await r(s.id,{...h}):await n({...h,status:"Activo"}),a(!1),o(void 0)};return u.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(Q5,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay temporadas de monta creadas."}),c.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botn de abajo para empezar a planificar."})]}):c.jsxs(c.Fragment,{children:[c.jsx(C3,{as:"div",axis:"y",values:u,onReorder:A,className:"space-y-3",children:u.map(h=>c.jsx(dbe,{season:h,navigateTo:t,onEdit:d},h.id))}),c.jsx("div",{className:"px-4 mt-4",children:c.jsxs("button",{onClick:()=>d(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(ba,{size:20})," Crear Nueva Temporada"]})}),c.jsx(fn,{isOpen:i,onClose:()=>{a(!1),o(void 0)},title:s?"Editar Temporada de Monta":"Crear Temporada de Monta",children:c.jsx(cbe,{onSave:f,onCancel:()=>{a(!1),o(void 0)},existingSeason:s})})]})}function CX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CX(t))&&(r&&(r+=" "),r+=e);return r}var hbe=Array.isArray,Yo=hbe,pbe=typeof tm=="object"&&tm&&tm.Object===Object&&tm,SX=pbe,mbe=SX,gbe=typeof self=="object"&&self&&self.Object===Object&&self,vbe=mbe||gbe||Function("return this")(),Ju=vbe,ybe=Ju,bbe=ybe.Symbol,yx=bbe,iU=yx,EX=Object.prototype,xbe=EX.hasOwnProperty,wbe=EX.toString,G0=iU?iU.toStringTag:void 0;function Cbe(t){var e=xbe.call(t,G0),n=t[G0];try{t[G0]=void 0;var r=!0}catch{}var i=wbe.call(t);return r&&(e?t[G0]=n:delete t[G0]),i}var Sbe=Cbe,Ebe=Object.prototype,_be=Ebe.toString;function Bbe(t){return _be.call(t)}var Nbe=Bbe,aU=yx,jbe=Sbe,Tbe=Nbe,Ibe="[object Null]",kbe="[object Undefined]",sU=aU?aU.toStringTag:void 0;function Pbe(t){return t==null?t===void 0?kbe:Ibe:sU&&sU in Object(t)?jbe(t):Tbe(t)}var td=Pbe;function Dbe(t){return t!=null&&typeof t=="object"}var nd=Dbe,Obe=td,Fbe=nd,Mbe="[object Symbol]";function Lbe(t){return typeof t=="symbol"||Fbe(t)&&Obe(t)==Mbe}var d0=Lbe,Rbe=Yo,Ube=d0,Qbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hbe=/^\w*$/;function zbe(t,e){if(Rbe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ube(t)?!0:Hbe.test(t)||!Qbe.test(t)||e!=null&&t in Object(e)}var E3=zbe;function Vbe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ef=Vbe;const f0=Rr(Ef);var $be=td,Kbe=Ef,Wbe="[object AsyncFunction]",Gbe="[object Function]",qbe="[object GeneratorFunction]",Ybe="[object Proxy]";function Xbe(t){if(!Kbe(t))return!1;var e=$be(t);return e==Gbe||e==qbe||e==Wbe||e==Ybe}var _3=Xbe;const Nn=Rr(_3);var Jbe=Ju,Zbe=Jbe["__core-js_shared__"],exe=Zbe,jB=exe,oU=function(){var t=/[^.]+$/.exec(jB&&jB.keys&&jB.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function txe(t){return!!oU&&oU in t}var nxe=txe,rxe=Function.prototype,ixe=rxe.toString;function axe(t){if(t!=null){try{return ixe.call(t)}catch{}try{return t+""}catch{}}return""}var _X=axe,sxe=_3,oxe=nxe,lxe=Ef,cxe=_X,uxe=/[\\^$.*+?()[\]{}|]/g,Axe=/^\[object .+?Constructor\]$/,dxe=Function.prototype,fxe=Object.prototype,hxe=dxe.toString,pxe=fxe.hasOwnProperty,mxe=RegExp("^"+hxe.call(pxe).replace(uxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gxe(t){if(!lxe(t)||oxe(t))return!1;var e=sxe(t)?mxe:Axe;return e.test(cxe(t))}var vxe=gxe;function yxe(t,e){return t==null?void 0:t[e]}var bxe=yxe,xxe=vxe,wxe=bxe;function Cxe(t,e){var n=wxe(t,e);return xxe(n)?n:void 0}var fp=Cxe,Sxe=fp,Exe=Sxe(Object,"create"),Y5=Exe,lU=Y5;function _xe(){this.__data__=lU?lU(null):{},this.size=0}var Bxe=_xe;function Nxe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var jxe=Nxe,Txe=Y5,Ixe="__lodash_hash_undefined__",kxe=Object.prototype,Pxe=kxe.hasOwnProperty;function Dxe(t){var e=this.__data__;if(Txe){var n=e[t];return n===Ixe?void 0:n}return Pxe.call(e,t)?e[t]:void 0}var Oxe=Dxe,Fxe=Y5,Mxe=Object.prototype,Lxe=Mxe.hasOwnProperty;function Rxe(t){var e=this.__data__;return Fxe?e[t]!==void 0:Lxe.call(e,t)}var Uxe=Rxe,Qxe=Y5,Hxe="__lodash_hash_undefined__";function zxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qxe&&e===void 0?Hxe:e,this}var Vxe=zxe,$xe=Bxe,Kxe=jxe,Wxe=Oxe,Gxe=Uxe,qxe=Vxe;function h0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h0.prototype.clear=$xe;h0.prototype.delete=Kxe;h0.prototype.get=Wxe;h0.prototype.has=Gxe;h0.prototype.set=qxe;var Yxe=h0;function Xxe(){this.__data__=[],this.size=0}var Jxe=Xxe;function Zxe(t,e){return t===e||t!==t&&e!==e}var B3=Zxe,e1e=B3;function t1e(t,e){for(var n=t.length;n--;)if(e1e(t[n][0],e))return n;return-1}var X5=t1e,n1e=X5,r1e=Array.prototype,i1e=r1e.splice;function a1e(t){var e=this.__data__,n=n1e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():i1e.call(e,n,1),--this.size,!0}var s1e=a1e,o1e=X5;function l1e(t){var e=this.__data__,n=o1e(e,t);return n<0?void 0:e[n][1]}var c1e=l1e,u1e=X5;function A1e(t){return u1e(this.__data__,t)>-1}var d1e=A1e,f1e=X5;function h1e(t,e){var n=this.__data__,r=f1e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var p1e=h1e,m1e=Jxe,g1e=s1e,v1e=c1e,y1e=d1e,b1e=p1e;function p0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}p0.prototype.clear=m1e;p0.prototype.delete=g1e;p0.prototype.get=v1e;p0.prototype.has=y1e;p0.prototype.set=b1e;var J5=p0,x1e=fp,w1e=Ju,C1e=x1e(w1e,"Map"),N3=C1e,cU=Yxe,S1e=J5,E1e=N3;function _1e(){this.size=0,this.__data__={hash:new cU,map:new(E1e||S1e),string:new cU}}var B1e=_1e;function N1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var j1e=N1e,T1e=j1e;function I1e(t,e){var n=t.__data__;return T1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Z5=I1e,k1e=Z5;function P1e(t){var e=k1e(this,t).delete(t);return this.size-=e?1:0,e}var D1e=P1e,O1e=Z5;function F1e(t){return O1e(this,t).get(t)}var M1e=F1e,L1e=Z5;function R1e(t){return L1e(this,t).has(t)}var U1e=R1e,Q1e=Z5;function H1e(t,e){var n=Q1e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var z1e=H1e,V1e=B1e,$1e=D1e,K1e=M1e,W1e=U1e,G1e=z1e;function m0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}m0.prototype.clear=V1e;m0.prototype.delete=$1e;m0.prototype.get=K1e;m0.prototype.has=W1e;m0.prototype.set=G1e;var j3=m0,BX=j3,q1e="Expected a function";function T3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(q1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(T3.Cache||BX),n}T3.Cache=BX;var NX=T3;const Y1e=Rr(NX);var X1e=NX,J1e=500;function Z1e(t){var e=X1e(t,function(r){return n.size===J1e&&n.clear(),r}),n=e.cache;return e}var ewe=Z1e,twe=ewe,nwe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rwe=/\\(\\)?/g,iwe=twe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nwe,function(n,r,i,a){e.push(i?a.replace(rwe,"$1"):r||n)}),e}),awe=iwe;function swe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var I3=swe,uU=yx,owe=I3,lwe=Yo,cwe=d0,AU=uU?uU.prototype:void 0,dU=AU?AU.toString:void 0;function jX(t){if(typeof t=="string")return t;if(lwe(t))return owe(t,jX)+"";if(cwe(t))return dU?dU.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uwe=jX,Awe=uwe;function dwe(t){return t==null?"":Awe(t)}var TX=dwe,fwe=Yo,hwe=E3,pwe=awe,mwe=TX;function gwe(t,e){return fwe(t)?t:hwe(t,e)?[t]:pwe(mwe(t))}var IX=gwe,vwe=d0;function ywe(t){if(typeof t=="string"||vwe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var eE=ywe,bwe=IX,xwe=eE;function wwe(t,e){e=bwe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xwe(e[n++])];return n&&n==r?t:void 0}var k3=wwe,Cwe=k3;function Swe(t,e,n){var r=t==null?void 0:Cwe(t,e);return r===void 0?n:r}var kX=Swe;const jl=Rr(kX);function Ewe(t){return t==null}var _we=Ewe;const On=Rr(_we);var Bwe=td,Nwe=Yo,jwe=nd,Twe="[object String]";function Iwe(t){return typeof t=="string"||!Nwe(t)&&jwe(t)&&Bwe(t)==Twe}var kwe=Iwe;const Wh=Rr(kwe);var PX={exports:{}},Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P3=Symbol.for("react.element"),D3=Symbol.for("react.portal"),tE=Symbol.for("react.fragment"),nE=Symbol.for("react.strict_mode"),rE=Symbol.for("react.profiler"),iE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),Pwe=Symbol.for("react.server_context"),sE=Symbol.for("react.forward_ref"),oE=Symbol.for("react.suspense"),lE=Symbol.for("react.suspense_list"),cE=Symbol.for("react.memo"),uE=Symbol.for("react.lazy"),Dwe=Symbol.for("react.offscreen"),DX;DX=Symbol.for("react.module.reference");function Ec(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P3:switch(t=t.type,t){case tE:case rE:case nE:case oE:case lE:return t;default:switch(t=t&&t.$$typeof,t){case Pwe:case aE:case sE:case uE:case cE:case iE:return t;default:return e}}case D3:return e}}}Wr.ContextConsumer=aE;Wr.ContextProvider=iE;Wr.Element=P3;Wr.ForwardRef=sE;Wr.Fragment=tE;Wr.Lazy=uE;Wr.Memo=cE;Wr.Portal=D3;Wr.Profiler=rE;Wr.StrictMode=nE;Wr.Suspense=oE;Wr.SuspenseList=lE;Wr.isAsyncMode=function(){return!1};Wr.isConcurrentMode=function(){return!1};Wr.isContextConsumer=function(t){return Ec(t)===aE};Wr.isContextProvider=function(t){return Ec(t)===iE};Wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P3};Wr.isForwardRef=function(t){return Ec(t)===sE};Wr.isFragment=function(t){return Ec(t)===tE};Wr.isLazy=function(t){return Ec(t)===uE};Wr.isMemo=function(t){return Ec(t)===cE};Wr.isPortal=function(t){return Ec(t)===D3};Wr.isProfiler=function(t){return Ec(t)===rE};Wr.isStrictMode=function(t){return Ec(t)===nE};Wr.isSuspense=function(t){return Ec(t)===oE};Wr.isSuspenseList=function(t){return Ec(t)===lE};Wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tE||t===rE||t===nE||t===oE||t===lE||t===Dwe||typeof t=="object"&&t!==null&&(t.$$typeof===uE||t.$$typeof===cE||t.$$typeof===iE||t.$$typeof===aE||t.$$typeof===sE||t.$$typeof===DX||t.getModuleId!==void 0)};Wr.typeOf=Ec;PX.exports=Wr;var Owe=PX.exports,Fwe=td,Mwe=nd,Lwe="[object Number]";function Rwe(t){return typeof t=="number"||Mwe(t)&&Fwe(t)==Lwe}var OX=Rwe;const Uwe=Rr(OX);var Qwe=OX;function Hwe(t){return Qwe(t)&&t!=+t}var zwe=Hwe;const g0=Rr(zwe);var yo=function(e){return e===0?0:e>0?1:-1},hh=function(e){return Wh(e)&&e.indexOf("%")===e.length-1},kt=function(e){return Uwe(e)&&!g0(e)},Vwe=function(e){return On(e)},Ya=function(e){return kt(e)||Wh(e)},$we=0,hp=function(e){var n=++$we;return"".concat(e||"").concat(n)},bo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(e)&&!Wh(e))return r;var a;if(hh(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return g0(a)&&(a=r),i&&a>n&&(a=n),a},Id=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Kwe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Wa=function(e,n){return kt(e)&&kt(n)?function(r){return e+r*(n-e)}:function(){return n}};function mC(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):jl(r,e))===n})}var Wwe=function(e,n){return kt(e)&&kt(n)?e-n:Wh(e)&&Wh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Mm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function pT(t){"@babel/helpers - typeof";return pT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pT(t)}var Gwe=["viewBox","children"],qwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fU=["points","pathLength"],TB={svg:Gwe,polygon:fU,polyline:fU},O3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gC=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!f0(r))return null;var i={};return Object.keys(r).forEach(function(a){O3.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Ywe=function(e,n,r){return function(i){return e(n,r,i),null}},Gh=function(e,n,r){if(!f0(e)||pT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];O3.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Ywe(s,n,r))}),i},Xwe=["children"],Jwe=["children"];function hU(t,e){if(t==null)return{};var n=Zwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mT(t){"@babel/helpers - typeof";return mT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mT(t)}var pU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},PA=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},mU=null,IB=null,F3=function t(e){if(e===mU&&Array.isArray(IB))return IB;var n=[];return P.Children.forEach(e,function(r){On(r)||(Owe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),IB=n,mU=e,n};function Tl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return PA(i)}):r=[PA(e)],F3(t).forEach(function(i){var a=jl(i,"type.displayName")||jl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function xl(t,e){var n=Tl(t,e);return n&&n[0]}var gU=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!kt(r)||r<=0||!kt(i)||i<=0)},e2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],t2e=function(e){return e&&e.type&&Wh(e.type)&&e2e.indexOf(e.type)>=0},FX=function(e){return e&&mT(e)==="object"&&"clipDot"in e},n2e=function(e,n,r,i){var a,s=(a=TB==null?void 0:TB[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Nn(e)&&(i&&s.includes(n)||qwe.includes(n))||r&&O3.includes(n)},vn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!f0(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;n2e((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},gT=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return vU(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!vU(a,s))return!1}return!0},vU=function(e,n){if(On(e)&&On(n))return!0;if(!On(e)&&!On(n)){var r=e.props||{},i=r.children,a=hU(r,Xwe),s=n.props||{},o=s.children,l=hU(s,Jwe);return i&&o?Mm(a,l)&&gT(i,o):!i&&!o?Mm(a,l):!1}return!1},yU=function(e,n){var r=[],i={};return F3(e).forEach(function(a,s){if(t2e(a))r.push(a);else if(a){var o=PA(a.type),l=n[o]||{},u=l.handler,A=l.once;if(u&&(!A||!i[o])){var d=u(a,o,s);r.push(d),i[o]=!0}}}),r},r2e=function(e){var n=e&&e.type;return n&&pU[n]?pU[n]:null},i2e=function(e,n){return F3(n).indexOf(e)},a2e=["children","width","height","viewBox","className","style","title","desc"];function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(this,arguments)}function s2e(t,e){if(t==null)return{};var n=o2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=s2e(t,a2e),A=i||{width:n,height:r,x:0,y:0},d=zn("recharts-surface",a);return be.createElement("svg",vT({},vn(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),be.createElement("title",null,o),be.createElement("desc",null,l),e)}var l2e=["children","className"];function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(this,arguments)}function c2e(t,e){if(t==null)return{};var n=u2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ar=be.forwardRef(function(t,e){var n=t.children,r=t.className,i=c2e(t,l2e),a=zn("recharts-layer",r);return be.createElement("g",bT({className:a},vn(i,!0),{ref:e}),n)}),eu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function A2e(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var d2e=A2e,f2e=d2e;function h2e(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:f2e(t,e,n)}var p2e=h2e,m2e="\\ud800-\\udfff",g2e="\\u0300-\\u036f",v2e="\\ufe20-\\ufe2f",y2e="\\u20d0-\\u20ff",b2e=g2e+v2e+y2e,x2e="\\ufe0e\\ufe0f",w2e="\\u200d",C2e=RegExp("["+w2e+m2e+b2e+x2e+"]");function S2e(t){return C2e.test(t)}var MX=S2e;function E2e(t){return t.split("")}var _2e=E2e,LX="\\ud800-\\udfff",B2e="\\u0300-\\u036f",N2e="\\ufe20-\\ufe2f",j2e="\\u20d0-\\u20ff",T2e=B2e+N2e+j2e,I2e="\\ufe0e\\ufe0f",k2e="["+LX+"]",xT="["+T2e+"]",wT="\\ud83c[\\udffb-\\udfff]",P2e="(?:"+xT+"|"+wT+")",RX="[^"+LX+"]",UX="(?:\\ud83c[\\udde6-\\uddff]){2}",QX="[\\ud800-\\udbff][\\udc00-\\udfff]",D2e="\\u200d",HX=P2e+"?",zX="["+I2e+"]?",O2e="(?:"+D2e+"(?:"+[RX,UX,QX].join("|")+")"+zX+HX+")*",F2e=zX+HX+O2e,M2e="(?:"+[RX+xT+"?",xT,UX,QX,k2e].join("|")+")",L2e=RegExp(wT+"(?="+wT+")|"+M2e+F2e,"g");function R2e(t){return t.match(L2e)||[]}var U2e=R2e,Q2e=_2e,H2e=MX,z2e=U2e;function V2e(t){return H2e(t)?z2e(t):Q2e(t)}var $2e=V2e,K2e=p2e,W2e=MX,G2e=$2e,q2e=TX;function Y2e(t){return function(e){e=q2e(e);var n=W2e(e)?G2e(e):void 0,r=n?n[0]:e.charAt(0),i=n?K2e(n,1).join(""):e.slice(1);return r[t]()+i}}var X2e=Y2e,J2e=X2e,Z2e=J2e("toUpperCase"),eCe=Z2e;const AE=Rr(eCe);function ci(t){return function(){return t}}const VX=Math.cos,vC=Math.sin,du=Math.sqrt,yC=Math.PI,dE=2*yC,CT=Math.PI,ST=2*CT,Xf=1e-6,tCe=ST-Xf;function $X(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $X;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$X:nCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,A=s-e,d=o-n,f=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Xf)if(!(Math.abs(d*l-u*A)>Xf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,p=i-o,m=l*l+u*u,v=h*h+p*p,g=Math.sqrt(m),y=Math.sqrt(f),b=a*Math.tan((CT-Math.acos((m+f-v)/(2*g*y)))/2),C=b/y,E=b/g;Math.abs(C-1)>Xf&&this._append`L${e+C*A},${n+C*d}`,this._append`A${a},${a},0,0,${+(d*h>A*p)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,A=n+l,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>Xf||Math.abs(this._y1-A)>Xf)&&this._append`L${u},${A}`,r&&(f<0&&(f=f%ST+ST),f>tCe?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=A}`:f>Xf&&this._append`A${r},${r},0,${+(f>=CT)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function M3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rCe(e)}function L3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KX(t){this._context=t}KX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fE(t){return new KX(t)}function WX(t){return t[0]}function GX(t){return t[1]}function qX(t,e){var n=ci(!0),r=null,i=fE,a=null,s=M3(o);t=typeof t=="function"?t:t===void 0?WX:ci(t),e=typeof e=="function"?e:e===void 0?GX:ci(e);function o(l){var u,A=(l=L3(l)).length,d,f=!1,h;for(r==null&&(a=i(h=s())),u=0;u<=A;++u)!(u<A&&n(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ci(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ci(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ci(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function N1(t,e,n){var r=null,i=ci(!0),a=null,s=fE,o=null,l=M3(u);t=typeof t=="function"?t:t===void 0?WX:ci(+t),e=typeof e=="function"?e:ci(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?GX:ci(+n);function u(d){var f,h,p,m=(d=L3(d)).length,v,g=!1,y,b=new Array(m),C=new Array(m);for(a==null&&(o=s(y=l())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===g)if(g=!g)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=h;--p)o.point(b[p],C[p]);o.lineEnd(),o.areaEnd()}g&&(b[f]=+t(v,f,d),C[f]=+e(v,f,d),o.point(r?+r(v,f,d):b[f],n?+n(v,f,d):C[f]))}if(y)return o=null,y+""||null}function A(){return qX().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ci(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ci(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ci(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ci(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ci(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ci(+d),u):n},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(n)},u.lineX1=function(){return A().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ci(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class YX{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function iCe(t){return new YX(t,!0)}function aCe(t){return new YX(t,!1)}const R3={draw(t,e){const n=du(e/yC);t.moveTo(n,0),t.arc(0,0,n,0,dE)}},sCe={draw(t,e){const n=du(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},XX=du(1/3),oCe=XX*2,lCe={draw(t,e){const n=du(e/oCe),r=n*XX;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},cCe={draw(t,e){const n=du(e),r=-n/2;t.rect(r,r,n,n)}},uCe=.8908130915292852,JX=vC(yC/10)/vC(7*yC/10),ACe=vC(dE/10)*JX,dCe=-VX(dE/10)*JX,fCe={draw(t,e){const n=du(e*uCe),r=ACe*n,i=dCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=dE*a/5,o=VX(s),l=vC(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},kB=du(3),hCe={draw(t,e){const n=-du(e/(kB*3));t.moveTo(0,n*2),t.lineTo(-kB*n,-n),t.lineTo(kB*n,-n),t.closePath()}},Zl=-.5,ec=du(3)/2,ET=1/du(12),pCe=(ET/2+1)*3,mCe={draw(t,e){const n=du(e/pCe),r=n/2,i=n*ET,a=r,s=n*ET+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Zl*r-ec*i,ec*r+Zl*i),t.lineTo(Zl*a-ec*s,ec*a+Zl*s),t.lineTo(Zl*o-ec*l,ec*o+Zl*l),t.lineTo(Zl*r+ec*i,Zl*i-ec*r),t.lineTo(Zl*a+ec*s,Zl*s-ec*a),t.lineTo(Zl*o+ec*l,Zl*l-ec*o),t.closePath()}};function gCe(t,e){let n=null,r=M3(i);t=typeof t=="function"?t:ci(t||R3),e=typeof e=="function"?e:ci(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ci(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ci(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function bC(){}function xC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ZX(t){this._context=t}ZX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vCe(t){return new ZX(t)}function eJ(t){this._context=t}eJ.prototype={areaStart:bC,areaEnd:bC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yCe(t){return new eJ(t)}function tJ(t){this._context=t}tJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bCe(t){return new tJ(t)}function nJ(t){this._context=t}nJ.prototype={areaStart:bC,areaEnd:bC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xCe(t){return new nJ(t)}function bU(t){return t<0?-1:1}function xU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(bU(a)+bU(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function PB(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function wC(t){this._context=t}wC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PB(this,this._t0,wU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,PB(this,wU(this,n=xU(this,t,e)),n);break;default:PB(this,this._t0,n=xU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rJ(t){this._context=new iJ(t)}(rJ.prototype=Object.create(wC.prototype)).point=function(t,e){wC.prototype.point.call(this,e,t)};function iJ(t){this._context=t}iJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function wCe(t){return new wC(t)}function CCe(t){return new rJ(t)}function aJ(t){this._context=t}aJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=CU(t),i=CU(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CU(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function SCe(t){return new aJ(t)}function hE(t,e){this._context=t,this._t=e}hE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ECe(t){return new hE(t,.5)}function _Ce(t){return new hE(t,0)}function BCe(t){return new hE(t,1)}function bg(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _T(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function NCe(t,e){return t[e]}function jCe(t){const e=[];return e.key=t,e}function TCe(){var t=ci([]),e=_T,n=bg,r=NCe;function i(a){var s=Array.from(t.apply(this,arguments),jCe),o,l=s.length,u=-1,A;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,A=L3(e(s));o<l;++o)s[A[o]].index=o;return n(s,A),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ci(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ci(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?_T:typeof a=="function"?a:ci(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??bg,i):n},i}function ICe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}bg(t,e)}}function kCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}bg(t,e)}}function PCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var A=t[e[o]],d=A[r][1]||0,f=A[r-1][1]||0,h=(d-f)/2,p=0;p<o;++p){var m=t[e[p]],v=m[r][1]||0,g=m[r-1][1]||0;h+=v-g}l+=d,u+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,bg(t,e)}}function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}var DCe=["type","size","sizeType"];function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(this,arguments)}function SU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(n),!0).forEach(function(r){OCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OCe(t,e,n){return e=FCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FCe(t){var e=MCe(t,"string");return nb(e)=="symbol"?e:e+""}function MCe(t,e){if(nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LCe(t,e){if(t==null)return{};var n=RCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sJ={symbolCircle:R3,symbolCross:sCe,symbolDiamond:lCe,symbolSquare:cCe,symbolStar:fCe,symbolTriangle:hCe,symbolWye:mCe},UCe=Math.PI/180,QCe=function(e){var n="symbol".concat(AE(e));return sJ[n]||R3},HCe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zCe=function(e,n){sJ["symbol".concat(AE(e))]=n},U3=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=LCe(e,DCe),u=EU(EU({},l),{},{type:r,size:a,sizeType:o}),A=function(){var v=QCe(r),g=gCe().type(v).size(HCe(a,o,r));return g()},d=u.className,f=u.cx,h=u.cy,p=vn(u,!0);return f===+f&&h===+h&&a===+a?be.createElement("path",BT({},p,{className:zn("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:A()})):null};U3.registerSymbol=zCe;function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(this,arguments)}function _U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(n),!0).forEach(function(r){rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lJ(r.key),r)}}function WCe(t,e,n){return e&&KCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GCe(t,e,n){return e=CC(e),qCe(t,oJ()?Reflect.construct(e,n||[],CC(t).constructor):e.apply(t,n))}function qCe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(t)}function YCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!t})()}function CC(t){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CC(t)}function XCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jT(t,e)}function jT(t,e){return jT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jT(t,e)}function rb(t,e,n){return e=lJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=JCe(t,"string");return xg(e)=="symbol"?e:e+""}function JCe(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tc=32,Q3=function(t){function e(){return $Ce(this,e),GCe(this,e,arguments)}return XCe(e,t),WCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=tc/2,s=tc/6,o=tc/3,l=r.inactive?i:r.color;if(r.type==="plainline")return be.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:tc,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return be.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(tc,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return be.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tc/8,"h").concat(tc,"v").concat(tc*3/4,"h").concat(-tc,"z"),className:"recharts-legend-icon"});if(be.isValidElement(r.legendIcon)){var u=VCe({},r);return delete u.legendIcon,be.cloneElement(r.legendIcon,u)}return be.createElement(U3,{fill:l,cx:a,cy:a,size:tc,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,A={x:0,y:0,width:tc,height:tc},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,p){var m=h.formatter||l,v=zn(rb(rb({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var g=Nn(h.value)?null:h.value;eu(!Nn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return be.createElement("li",NT({className:v,style:d,key:"legend-item-".concat(p)},Gh(r.props,h,p)),be.createElement(yT,{width:s,height:s,viewBox:A,style:f},r.renderIcon(h)),be.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,h,p):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return be.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(P.PureComponent);rb(Q3,"displayName","Legend");rb(Q3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZCe=J5;function eSe(){this.__data__=new ZCe,this.size=0}var tSe=eSe;function nSe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rSe=nSe;function iSe(t){return this.__data__.get(t)}var aSe=iSe;function sSe(t){return this.__data__.has(t)}var oSe=sSe,lSe=J5,cSe=N3,uSe=j3,ASe=200;function dSe(t,e){var n=this.__data__;if(n instanceof lSe){var r=n.__data__;if(!cSe||r.length<ASe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uSe(r)}return n.set(t,e),this.size=n.size,this}var fSe=dSe,hSe=J5,pSe=tSe,mSe=rSe,gSe=aSe,vSe=oSe,ySe=fSe;function v0(t){var e=this.__data__=new hSe(t);this.size=e.size}v0.prototype.clear=pSe;v0.prototype.delete=mSe;v0.prototype.get=gSe;v0.prototype.has=vSe;v0.prototype.set=ySe;var cJ=v0,bSe="__lodash_hash_undefined__";function xSe(t){return this.__data__.set(t,bSe),this}var wSe=xSe;function CSe(t){return this.__data__.has(t)}var SSe=CSe,ESe=j3,_Se=wSe,BSe=SSe;function SC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ESe;++e<n;)this.add(t[e])}SC.prototype.add=SC.prototype.push=_Se;SC.prototype.has=BSe;var uJ=SC;function NSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var AJ=NSe;function jSe(t,e){return t.has(e)}var dJ=jSe,TSe=uJ,ISe=AJ,kSe=dJ,PSe=1,DSe=2;function OSe(t,e,n,r,i,a){var s=n&PSe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),A=a.get(e);if(u&&A)return u==e&&A==t;var d=-1,f=!0,h=n&DSe?new TSe:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var p=t[d],m=e[d];if(r)var v=s?r(m,p,d,e,t,a):r(p,m,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!ISe(e,function(g,y){if(!kSe(h,y)&&(p===g||i(p,g,n,r,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||i(p,m,n,r,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var fJ=OSe,FSe=Ju,MSe=FSe.Uint8Array,LSe=MSe;function RSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var USe=RSe;function QSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var H3=QSe,BU=yx,NU=LSe,HSe=B3,zSe=fJ,VSe=USe,$Se=H3,KSe=1,WSe=2,GSe="[object Boolean]",qSe="[object Date]",YSe="[object Error]",XSe="[object Map]",JSe="[object Number]",ZSe="[object RegExp]",e5e="[object Set]",t5e="[object String]",n5e="[object Symbol]",r5e="[object ArrayBuffer]",i5e="[object DataView]",jU=BU?BU.prototype:void 0,DB=jU?jU.valueOf:void 0;function a5e(t,e,n,r,i,a,s){switch(n){case i5e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case r5e:return!(t.byteLength!=e.byteLength||!a(new NU(t),new NU(e)));case GSe:case qSe:case JSe:return HSe(+t,+e);case YSe:return t.name==e.name&&t.message==e.message;case ZSe:case t5e:return t==e+"";case XSe:var o=VSe;case e5e:var l=r&KSe;if(o||(o=$Se),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=WSe,s.set(t,e);var A=zSe(o(t),o(e),r,i,a,s);return s.delete(t),A;case n5e:if(DB)return DB.call(t)==DB.call(e)}return!1}var s5e=a5e;function o5e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var hJ=o5e,l5e=hJ,c5e=Yo;function u5e(t,e,n){var r=e(t);return c5e(t)?r:l5e(r,n(t))}var A5e=u5e;function d5e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var f5e=d5e;function h5e(){return[]}var p5e=h5e,m5e=f5e,g5e=p5e,v5e=Object.prototype,y5e=v5e.propertyIsEnumerable,TU=Object.getOwnPropertySymbols,b5e=TU?function(t){return t==null?[]:(t=Object(t),m5e(TU(t),function(e){return y5e.call(t,e)}))}:g5e,x5e=b5e;function w5e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var C5e=w5e,S5e=td,E5e=nd,_5e="[object Arguments]";function B5e(t){return E5e(t)&&S5e(t)==_5e}var N5e=B5e,IU=N5e,j5e=nd,pJ=Object.prototype,T5e=pJ.hasOwnProperty,I5e=pJ.propertyIsEnumerable,k5e=IU(function(){return arguments}())?IU:function(t){return j5e(t)&&T5e.call(t,"callee")&&!I5e.call(t,"callee")},z3=k5e,EC={exports:{}};function P5e(){return!1}var D5e=P5e;EC.exports;(function(t,e){var n=Ju,r=D5e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(EC,EC.exports);var mJ=EC.exports,O5e=9007199254740991,F5e=/^(?:0|[1-9]\d*)$/;function M5e(t,e){var n=typeof t;return e=e??O5e,!!e&&(n=="number"||n!="symbol"&&F5e.test(t))&&t>-1&&t%1==0&&t<e}var V3=M5e,L5e=9007199254740991;function R5e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=L5e}var $3=R5e,U5e=td,Q5e=$3,H5e=nd,z5e="[object Arguments]",V5e="[object Array]",$5e="[object Boolean]",K5e="[object Date]",W5e="[object Error]",G5e="[object Function]",q5e="[object Map]",Y5e="[object Number]",X5e="[object Object]",J5e="[object RegExp]",Z5e="[object Set]",eEe="[object String]",tEe="[object WeakMap]",nEe="[object ArrayBuffer]",rEe="[object DataView]",iEe="[object Float32Array]",aEe="[object Float64Array]",sEe="[object Int8Array]",oEe="[object Int16Array]",lEe="[object Int32Array]",cEe="[object Uint8Array]",uEe="[object Uint8ClampedArray]",AEe="[object Uint16Array]",dEe="[object Uint32Array]",wi={};wi[iEe]=wi[aEe]=wi[sEe]=wi[oEe]=wi[lEe]=wi[cEe]=wi[uEe]=wi[AEe]=wi[dEe]=!0;wi[z5e]=wi[V5e]=wi[nEe]=wi[$5e]=wi[rEe]=wi[K5e]=wi[W5e]=wi[G5e]=wi[q5e]=wi[Y5e]=wi[X5e]=wi[J5e]=wi[Z5e]=wi[eEe]=wi[tEe]=!1;function fEe(t){return H5e(t)&&Q5e(t.length)&&!!wi[U5e(t)]}var hEe=fEe;function pEe(t){return function(e){return t(e)}}var gJ=pEe,_C={exports:{}};_C.exports;(function(t,e){var n=SX,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(_C,_C.exports);var mEe=_C.exports,gEe=hEe,vEe=gJ,kU=mEe,PU=kU&&kU.isTypedArray,yEe=PU?vEe(PU):gEe,vJ=yEe,bEe=C5e,xEe=z3,wEe=Yo,CEe=mJ,SEe=V3,EEe=vJ,_Ee=Object.prototype,BEe=_Ee.hasOwnProperty;function NEe(t,e){var n=wEe(t),r=!n&&xEe(t),i=!n&&!r&&CEe(t),a=!n&&!r&&!i&&EEe(t),s=n||r||i||a,o=s?bEe(t.length,String):[],l=o.length;for(var u in t)(e||BEe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||SEe(u,l)))&&o.push(u);return o}var jEe=NEe,TEe=Object.prototype;function IEe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TEe;return t===n}var kEe=IEe;function PEe(t,e){return function(n){return t(e(n))}}var yJ=PEe,DEe=yJ,OEe=DEe(Object.keys,Object),FEe=OEe,MEe=kEe,LEe=FEe,REe=Object.prototype,UEe=REe.hasOwnProperty;function QEe(t){if(!MEe(t))return LEe(t);var e=[];for(var n in Object(t))UEe.call(t,n)&&n!="constructor"&&e.push(n);return e}var HEe=QEe,zEe=_3,VEe=$3;function $Ee(t){return t!=null&&VEe(t.length)&&!zEe(t)}var bx=$Ee,KEe=jEe,WEe=HEe,GEe=bx;function qEe(t){return GEe(t)?KEe(t):WEe(t)}var pE=qEe,YEe=A5e,XEe=x5e,JEe=pE;function ZEe(t){return YEe(t,JEe,XEe)}var e_e=ZEe,DU=e_e,t_e=1,n_e=Object.prototype,r_e=n_e.hasOwnProperty;function i_e(t,e,n,r,i,a){var s=n&t_e,o=DU(t),l=o.length,u=DU(e),A=u.length;if(l!=A&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:r_e.call(e,f)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){f=o[d];var g=t[f],y=e[f];if(r)var b=s?r(y,g,f,e,t,a):r(g,y,f,t,e,a);if(!(b===void 0?g===y||i(g,y,n,r,a):b)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(t),a.delete(e),m}var a_e=i_e,s_e=fp,o_e=Ju,l_e=s_e(o_e,"DataView"),c_e=l_e,u_e=fp,A_e=Ju,d_e=u_e(A_e,"Promise"),f_e=d_e,h_e=fp,p_e=Ju,m_e=h_e(p_e,"Set"),bJ=m_e,g_e=fp,v_e=Ju,y_e=g_e(v_e,"WeakMap"),b_e=y_e,TT=c_e,IT=N3,kT=f_e,PT=bJ,DT=b_e,xJ=td,y0=_X,OU="[object Map]",x_e="[object Object]",FU="[object Promise]",MU="[object Set]",LU="[object WeakMap]",RU="[object DataView]",w_e=y0(TT),C_e=y0(IT),S_e=y0(kT),E_e=y0(PT),__e=y0(DT),Jf=xJ;(TT&&Jf(new TT(new ArrayBuffer(1)))!=RU||IT&&Jf(new IT)!=OU||kT&&Jf(kT.resolve())!=FU||PT&&Jf(new PT)!=MU||DT&&Jf(new DT)!=LU)&&(Jf=function(t){var e=xJ(t),n=e==x_e?t.constructor:void 0,r=n?y0(n):"";if(r)switch(r){case w_e:return RU;case C_e:return OU;case S_e:return FU;case E_e:return MU;case __e:return LU}return e});var B_e=Jf,OB=cJ,N_e=fJ,j_e=s5e,T_e=a_e,UU=B_e,QU=Yo,HU=mJ,I_e=vJ,k_e=1,zU="[object Arguments]",VU="[object Array]",j1="[object Object]",P_e=Object.prototype,$U=P_e.hasOwnProperty;function D_e(t,e,n,r,i,a){var s=QU(t),o=QU(e),l=s?VU:UU(t),u=o?VU:UU(e);l=l==zU?j1:l,u=u==zU?j1:u;var A=l==j1,d=u==j1,f=l==u;if(f&&HU(t)){if(!HU(e))return!1;s=!0,A=!1}if(f&&!A)return a||(a=new OB),s||I_e(t)?N_e(t,e,n,r,i,a):j_e(t,e,l,n,r,i,a);if(!(n&k_e)){var h=A&&$U.call(t,"__wrapped__"),p=d&&$U.call(e,"__wrapped__");if(h||p){var m=h?t.value():t,v=p?e.value():e;return a||(a=new OB),i(m,v,n,r,a)}}return f?(a||(a=new OB),T_e(t,e,n,r,i,a)):!1}var O_e=D_e,F_e=O_e,KU=nd;function wJ(t,e,n,r,i){return t===e?!0:t==null||e==null||!KU(t)&&!KU(e)?t!==t&&e!==e:F_e(t,e,n,r,wJ,i)}var K3=wJ,M_e=cJ,L_e=K3,R_e=1,U_e=2;function Q_e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],A=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new M_e;if(r)var f=r(u,A,l,t,e,d);if(!(f===void 0?L_e(A,u,R_e|U_e,r,d):f))return!1}}return!0}var H_e=Q_e,z_e=Ef;function V_e(t){return t===t&&!z_e(t)}var CJ=V_e,$_e=CJ,K_e=pE;function W_e(t){for(var e=K_e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$_e(i)]}return e}var G_e=W_e;function q_e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var SJ=q_e,Y_e=H_e,X_e=G_e,J_e=SJ;function Z_e(t){var e=X_e(t);return e.length==1&&e[0][2]?J_e(e[0][0],e[0][1]):function(n){return n===t||Y_e(n,t,e)}}var eBe=Z_e;function tBe(t,e){return t!=null&&e in Object(t)}var nBe=tBe,rBe=IX,iBe=z3,aBe=Yo,sBe=V3,oBe=$3,lBe=eE;function cBe(t,e,n){e=rBe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=lBe(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&oBe(i)&&sBe(s,i)&&(aBe(t)||iBe(t)))}var uBe=cBe,ABe=nBe,dBe=uBe;function fBe(t,e){return t!=null&&dBe(t,e,ABe)}var hBe=fBe,pBe=K3,mBe=kX,gBe=hBe,vBe=E3,yBe=CJ,bBe=SJ,xBe=eE,wBe=1,CBe=2;function SBe(t,e){return vBe(t)&&yBe(e)?bBe(xBe(t),e):function(n){var r=mBe(n,t);return r===void 0&&r===e?gBe(n,t):pBe(e,r,wBe|CBe)}}var EBe=SBe;function _Be(t){return t}var b0=_Be;function BBe(t){return function(e){return e==null?void 0:e[t]}}var NBe=BBe,jBe=k3;function TBe(t){return function(e){return jBe(e,t)}}var IBe=TBe,kBe=NBe,PBe=IBe,DBe=E3,OBe=eE;function FBe(t){return DBe(t)?kBe(OBe(t)):PBe(t)}var MBe=FBe,LBe=eBe,RBe=EBe,UBe=b0,QBe=Yo,HBe=MBe;function zBe(t){return typeof t=="function"?t:t==null?UBe:typeof t=="object"?QBe(t)?RBe(t[0],t[1]):LBe(t):HBe(t)}var Zu=zBe;function VBe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var EJ=VBe;function $Be(t){return t!==t}var KBe=$Be;function WBe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var GBe=WBe,qBe=EJ,YBe=KBe,XBe=GBe;function JBe(t,e,n){return e===e?XBe(t,e,n):qBe(t,YBe,n)}var ZBe=JBe,eNe=ZBe;function tNe(t,e){var n=t==null?0:t.length;return!!n&&eNe(t,e,0)>-1}var nNe=tNe;function rNe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var iNe=rNe;function aNe(){}var sNe=aNe,FB=bJ,oNe=sNe,lNe=H3,cNe=1/0,uNe=FB&&1/lNe(new FB([,-0]))[1]==cNe?function(t){return new FB(t)}:oNe,ANe=uNe,dNe=uJ,fNe=nNe,hNe=iNe,pNe=dJ,mNe=ANe,gNe=H3,vNe=200;function yNe(t,e,n){var r=-1,i=fNe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=hNe;else if(a>=vNe){var u=e?null:mNe(t);if(u)return gNe(u);s=!1,i=pNe,l=new dNe}else l=e?[]:o;e:for(;++r<a;){var A=t[r],d=e?e(A):A;if(A=n||A!==0?A:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(A)}else i(l,d,n)||(l!==o&&l.push(d),o.push(A))}return o}var bNe=yNe,xNe=Zu,wNe=bNe;function CNe(t,e){return t&&t.length?wNe(t,xNe(e)):[]}var SNe=CNe;const WU=Rr(SNe);function _J(t,e,n){return e===!0?WU(t,n):Nn(e)?WU(t,e):t}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}var ENe=["ref"];function GU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(n),!0).forEach(function(r){mE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NJ(r.key),r)}}function BNe(t,e,n){return e&&qU(t.prototype,e),n&&qU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NNe(t,e,n){return e=BC(e),jNe(t,BJ()?Reflect.construct(e,n||[],BC(t).constructor):e.apply(t,n))}function jNe(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(t)}function TNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!t})()}function BC(t){return BC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BC(t)}function INe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OT(t,e)}function OT(t,e){return OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OT(t,e)}function mE(t,e,n){return e=NJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=kNe(t,"string");return wg(e)=="symbol"?e:e+""}function kNe(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PNe(t,e){if(t==null)return{};var n=DNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ONe(t){return t.value}function FNe(t,e){if(be.isValidElement(t))return be.cloneElement(t,e);if(typeof t=="function")return be.createElement(t,e);e.ref;var n=PNe(e,ENe);return be.createElement(Q3,n)}var YU=1,Il=function(t){function e(){var n;_Ne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=NNe(this,e,[].concat(i)),mE(n,"lastBoundingBox",{width:-1,height:-1}),n}return INe(e,t),BNe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>YU||Math.abs(i.height-this.lastBoundingBox.height)>YU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?AA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,A=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((u||0)-h.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var p=this.getBBoxSnapshot();f={top:((A||0)-p.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return AA(AA({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,A=i.payload,d=AA(AA({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return be.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},FNe(a,AA(AA({},this.props),{},{payload:_J(A,u,ONe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=AA(AA({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&kt(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);mE(Il,"displayName","Legend");mE(Il,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XU=yx,MNe=z3,LNe=Yo,JU=XU?XU.isConcatSpreadable:void 0;function RNe(t){return LNe(t)||MNe(t)||!!(JU&&t&&t[JU])}var UNe=RNe,QNe=hJ,HNe=UNe;function jJ(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=HNe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?jJ(o,e-1,n,r,i):QNe(i,o):r||(i[i.length]=o)}return i}var TJ=jJ;function zNe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var VNe=zNe,$Ne=VNe,KNe=$Ne(),WNe=KNe,GNe=WNe,qNe=pE;function YNe(t,e){return t&&GNe(t,e,qNe)}var IJ=YNe,XNe=bx;function JNe(t,e){return function(n,r){if(n==null)return n;if(!XNe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var ZNe=JNe,e4e=IJ,t4e=ZNe,n4e=t4e(e4e),W3=n4e,r4e=W3,i4e=bx;function a4e(t,e){var n=-1,r=i4e(t)?Array(t.length):[];return r4e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var kJ=a4e;function s4e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var o4e=s4e,ZU=d0;function l4e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=ZU(t),s=e!==void 0,o=e===null,l=e===e,u=ZU(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var c4e=l4e,u4e=c4e;function A4e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=u4e(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var d4e=A4e,MB=I3,f4e=k3,h4e=Zu,p4e=kJ,m4e=o4e,g4e=gJ,v4e=d4e,y4e=b0,b4e=Yo;function x4e(t,e,n){e.length?e=MB(e,function(a){return b4e(a)?function(s){return f4e(s,a.length===1?a[0]:a)}:a}):e=[y4e];var r=-1;e=MB(e,g4e(h4e));var i=p4e(t,function(a,s,o){var l=MB(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return m4e(i,function(a,s){return v4e(a,s,n)})}var w4e=x4e;function C4e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var S4e=C4e,E4e=S4e,e8=Math.max;function _4e(t,e,n){return e=e8(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=e8(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),E4e(t,this,o)}}var B4e=_4e;function N4e(t){return function(){return t}}var j4e=N4e,T4e=fp,I4e=function(){try{var t=T4e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),PJ=I4e,k4e=j4e,t8=PJ,P4e=b0,D4e=t8?function(t,e){return t8(t,"toString",{configurable:!0,enumerable:!1,value:k4e(e),writable:!0})}:P4e,O4e=D4e,F4e=800,M4e=16,L4e=Date.now;function R4e(t){var e=0,n=0;return function(){var r=L4e(),i=M4e-(r-n);if(n=r,i>0){if(++e>=F4e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var U4e=R4e,Q4e=O4e,H4e=U4e,z4e=H4e(Q4e),V4e=z4e,$4e=b0,K4e=B4e,W4e=V4e;function G4e(t,e){return W4e(K4e(t,e,$4e),t+"")}var q4e=G4e,Y4e=B3,X4e=bx,J4e=V3,Z4e=Ef;function eje(t,e,n){if(!Z4e(n))return!1;var r=typeof e;return(r=="number"?X4e(n)&&J4e(e,n.length):r=="string"&&e in n)?Y4e(n[e],t):!1}var gE=eje,tje=TJ,nje=w4e,rje=q4e,n8=gE,ije=rje(function(t,e){if(t==null)return[];var n=e.length;return n>1&&n8(t,e[0],e[1])?e=[]:n>2&&n8(e[0],e[1],e[2])&&(e=[e[0]]),nje(t,tje(e,1),[])}),aje=ije;const G3=Rr(aje);function ib(t){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FT.apply(this,arguments)}function sje(t,e){return uje(t)||cje(t,e)||lje(t,e)||oje()}function oje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lje(t,e){if(t){if(typeof t=="string")return r8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r8(t,e)}}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function uje(t){if(Array.isArray(t))return t}function i8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(n),!0).forEach(function(r){Aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aje(t,e,n){return e=dje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dje(t){var e=fje(t,"string");return ib(e)=="symbol"?e:e+""}function fje(t,e){if(ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hje(t){return Array.isArray(t)&&Ya(t[0])&&Ya(t[1])?t.join(" ~ "):t}var pje=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,A=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,v=e.labelFormatter,g=e.accessibilityLayer,y=g===void 0?!1:g,b=function(){if(A&&A.length){var O={padding:0,margin:0},F=(f?G3(A,f):A).map(function(H,Y){if(H.type==="none")return null;var q=LB({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),Z=H.formatter||d||hje,W=H.value,oe=H.name,te=W,ue=oe;if(Z&&te!=null&&ue!=null){var R=Z(W,oe,H,Y,A);if(Array.isArray(R)){var $=sje(R,2);te=$[0],ue=$[1]}else te=R}return be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:q},Ya(ue)?be.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Ya(ue)?be.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,be.createElement("span",{className:"recharts-tooltip-item-value"},te),be.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return be.createElement("ul",{className:"recharts-tooltip-item-list",style:O},F)}return null},C=LB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=LB({margin:0},u),N=!On(m),_=N?m:"",B=zn("recharts-default-tooltip",h),j=zn("recharts-tooltip-label",p);N&&v&&A!==void 0&&A!==null&&(_=v(m,A));var D=y?{role:"status","aria-live":"assertive"}:{};return be.createElement("div",FT({className:B,style:C},D),be.createElement("p",{className:j,style:E},be.isValidElement(_)?_:"".concat(_)),b())};function ab(t){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function T1(t,e,n){return e=mje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mje(t){var e=gje(t,"string");return ab(e)=="symbol"?e:e+""}function gje(t,e){if(ab(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q0="recharts-tooltip-wrapper",vje={visibility:"hidden"};function yje(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return zn(q0,T1(T1(T1(T1({},"".concat(q0,"-right"),kt(n)&&e&&kt(e.x)&&n>=e.x),"".concat(q0,"-left"),kt(n)&&e&&kt(e.x)&&n<e.x),"".concat(q0,"-bottom"),kt(r)&&e&&kt(e.y)&&r>=e.y),"".concat(q0,"-top"),kt(r)&&e&&kt(e.y)&&r<e.y))}function a8(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&kt(a[r]))return a[r];var A=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?A:d;if(s[r]){var f=A,h=l[r];return f<h?Math.max(d,l[r]):Math.max(A,l[r])}var p=d+o,m=l[r]+u;return p>m?Math.max(A,l[r]):Math.max(d,l[r])}function bje(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function xje(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,A,d;return s.height>0&&s.width>0&&n?(A=a8({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=a8({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=bje({translateX:A,translateY:d,useTranslate3d:o})):u=vje,{cssProperties:u,cssClasses:yje({translateX:A,translateY:d,coordinate:n})}}function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function s8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(n),!0).forEach(function(r){LT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OJ(r.key),r)}}function Sje(t,e,n){return e&&Cje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eje(t,e,n){return e=NC(e),_je(t,DJ()?Reflect.construct(e,n||[],NC(t).constructor):e.apply(t,n))}function _je(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(t)}function Bje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DJ=function(){return!!t})()}function NC(t){return NC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NC(t)}function Nje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MT(t,e)}function MT(t,e){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MT(t,e)}function LT(t,e,n){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=jje(t,"string");return Cg(e)=="symbol"?e:e+""}function jje(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l8=1,Tje=function(t){function e(){var n;wje(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Eje(this,e,[].concat(i)),LT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LT(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,A;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(A=n.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),n}return Nje(e,t),Sje(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>l8||Math.abs(r.height-this.state.lastBoundingBox.height)>l8)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,A=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,p=i.position,m=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,y=i.wrapperStyle,b=xje({allowEscapeViewBox:s,coordinate:A,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),C=b.cssClasses,E=b.cssProperties,N=o8(o8({transition:f&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return be.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(B){r.wrapperNode=B}},u)}}])}(P.PureComponent),Ije=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_f={isSsr:Ije()};function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){q3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MJ(r.key),r)}}function Dje(t,e,n){return e&&Pje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oje(t,e,n){return e=jC(e),Fje(t,FJ()?Reflect.construct(e,n||[],jC(t).constructor):e.apply(t,n))}function Fje(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mje(t)}function Mje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FJ=function(){return!!t})()}function jC(t){return jC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jC(t)}function Lje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RT(t,e)}function RT(t,e){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RT(t,e)}function q3(t,e,n){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=Rje(t,"string");return Sg(e)=="symbol"?e:e+""}function Rje(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uje(t){return t.dataKey}function Qje(t,e){return be.isValidElement(t)?be.cloneElement(t,e):typeof t=="function"?be.createElement(t,e):be.createElement(pje,e)}var Er=function(t){function e(){return kje(this,e),Oje(this,e,arguments)}return Lje(e,t),Dje(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,A=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,p=i.payload,m=i.payloadUniqBy,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,C=i.wrapperStyle,E=p??[];d&&E.length&&(E=_J(p.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),m,Uje));var N=E.length>0;return be.createElement(Tje,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:f,active:a,coordinate:A,hasPayload:N,offset:h,position:v,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:C},Qje(u,u8(u8({},this.props),{},{payload:E})))}}])}(P.PureComponent);q3(Er,"displayName","Tooltip");q3(Er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_f.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Hje=Ju,zje=function(){return Hje.Date.now()},Vje=zje,$je=/\s/;function Kje(t){for(var e=t.length;e--&&$je.test(t.charAt(e)););return e}var Wje=Kje,Gje=Wje,qje=/^\s+/;function Yje(t){return t&&t.slice(0,Gje(t)+1).replace(qje,"")}var Xje=Yje,Jje=Xje,A8=Ef,Zje=d0,d8=NaN,eTe=/^[-+]0x[0-9a-f]+$/i,tTe=/^0b[01]+$/i,nTe=/^0o[0-7]+$/i,rTe=parseInt;function iTe(t){if(typeof t=="number")return t;if(Zje(t))return d8;if(A8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=A8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Jje(t);var n=tTe.test(t);return n||nTe.test(t)?rTe(t.slice(2),n?2:8):eTe.test(t)?d8:+t}var LJ=iTe,aTe=Ef,RB=Vje,f8=LJ,sTe="Expected a function",oTe=Math.max,lTe=Math.min;function cTe(t,e,n){var r,i,a,s,o,l,u=0,A=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(sTe);e=f8(e)||0,aTe(n)&&(A=!!n.leading,d="maxWait"in n,a=d?oTe(f8(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function h(N){var _=r,B=i;return r=i=void 0,u=N,s=t.apply(B,_),s}function p(N){return u=N,o=setTimeout(g,e),A?h(N):s}function m(N){var _=N-l,B=N-u,j=e-_;return d?lTe(j,a-B):j}function v(N){var _=N-l,B=N-u;return l===void 0||_>=e||_<0||d&&B>=a}function g(){var N=RB();if(v(N))return y(N);o=setTimeout(g,m(N))}function y(N){return o=void 0,f&&r?h(N):(r=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function C(){return o===void 0?s:y(RB())}function E(){var N=RB(),_=v(N);if(r=arguments,i=this,l=N,_){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(g,e),h(l)}return o===void 0&&(o=setTimeout(g,e)),s}return E.cancel=b,E.flush=C,E}var uTe=cTe,ATe=uTe,dTe=Ef,fTe="Expected a function";function hTe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(fTe);return dTe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ATe(t,e,{leading:r,maxWait:e,trailing:i})}var pTe=hTe;const RJ=Rr(pTe);function sb(t){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(t)}function h8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(n),!0).forEach(function(r){mTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mTe(t,e,n){return e=gTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gTe(t){var e=vTe(t,"string");return sb(e)=="symbol"?e:e+""}function vTe(t,e){if(sb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yTe(t,e){return CTe(t)||wTe(t,e)||xTe(t,e)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(t,e){if(t){if(typeof t=="string")return p8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p8(t,e)}}function p8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function CTe(t){if(Array.isArray(t))return t}var Fi=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,h=t.children,p=t.debounce,m=p===void 0?0:p,v=t.id,g=t.className,y=t.onResize,b=t.style,C=b===void 0?{}:b,E=P.useRef(null),N=P.useRef();N.current=y,P.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=P.useState({containerWidth:i.width,containerHeight:i.height}),B=yTe(_,2),j=B[0],D=B[1],k=P.useCallback(function(F,H){D(function(Y){var q=Math.round(F),Z=Math.round(H);return Y.containerWidth===q&&Y.containerHeight===Z?Y:{containerWidth:q,containerHeight:Z}})},[]);P.useEffect(function(){var F=function(oe){var te,ue=oe[0].contentRect,R=ue.width,$=ue.height;k(R,$),(te=N.current)===null||te===void 0||te.call(N,R,$)};m>0&&(F=RJ(F,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(F),Y=E.current.getBoundingClientRect(),q=Y.width,Z=Y.height;return k(q,Z),H.observe(E.current),function(){H.disconnect()}},[k,m]);var O=P.useMemo(function(){var F=j.containerWidth,H=j.containerHeight;if(F<0||H<0)return null;eu(hh(s)||hh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),eu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=hh(s)?F:s,q=hh(l)?H:l;n&&n>0&&(Y?q=Y/n:q&&(Y=q*n),f&&q>f&&(q=f)),eu(Y>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,q,s,l,A,d,n);var Z=!Array.isArray(h)&&PA(h.type).endsWith("Chart");return be.Children.map(h,function(W){return be.isValidElement(W)?P.cloneElement(W,I1({width:Y,height:q},Z?{style:I1({height:"100%",width:"100%",maxHeight:q,maxWidth:Y},W.props.style)}:{})):W})},[n,h,l,f,d,A,j,s]);return be.createElement("div",{id:v?"".concat(v):void 0,className:zn("recharts-responsive-container",g),style:I1(I1({},C),{},{width:s,height:l,minWidth:A,minHeight:d,maxHeight:f}),ref:E},O)}),yc=function(e){return null};yc.displayName="Cell";function ob(t){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){STe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function STe(t,e,n){return e=ETe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ETe(t){var e=_Te(t,"string");return ob(e)=="symbol"?e:e+""}function _Te(t,e){if(ob(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tp={widthCache:{},cacheCount:0},BTe=2e3,NTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},g8="recharts_measurement_span";function jTe(t){var e=UT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ty=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_f.isSsr)return{width:0,height:0};var r=jTe(n),i=JSON.stringify({text:e,copyStyle:r});if(Tp.widthCache[i])return Tp.widthCache[i];try{var a=document.getElementById(g8);a||(a=document.createElement("span"),a.setAttribute("id",g8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=UT(UT({},NTe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Tp.widthCache[i]=l,++Tp.cacheCount>BTe&&(Tp.cacheCount=0,Tp.widthCache={}),l}catch{return{width:0,height:0}}},TTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lb(t){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(t)}function TC(t,e){return DTe(t)||PTe(t,e)||kTe(t,e)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kTe(t,e){if(t){if(typeof t=="string")return v8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v8(t,e)}}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function DTe(t){if(Array.isArray(t))return t}function OTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MTe(r.key),r)}}function FTe(t,e,n){return e&&y8(t.prototype,e),n&&y8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MTe(t){var e=LTe(t,"string");return lb(e)=="symbol"?e:e+""}function LTe(t,e){if(lb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QTe=Object.keys(UJ),ym="NaN";function HTe(t,e){return t*UJ[e]}var k1=function(){function t(e,n){OTe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!RTe.test(n)&&(this.num=NaN,this.unit=""),QTe.includes(n)&&(this.num=HTe(e,n),this.unit="px")}return FTe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=UTe.exec(n))!==null&&r!==void 0?r:[],a=TC(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function QJ(t){if(t.includes(ym))return ym;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=b8.exec(e))!==null&&n!==void 0?n:[],i=TC(r,4),a=i[1],s=i[2],o=i[3],l=k1.parse(a??""),u=k1.parse(o??""),A=s==="*"?l.multiply(u):l.divide(u);if(A.isNaN())return ym;e=e.replace(b8,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=x8.exec(e))!==null&&d!==void 0?d:[],h=TC(f,4),p=h[1],m=h[2],v=h[3],g=k1.parse(p??""),y=k1.parse(v??""),b=m==="+"?g.add(y):g.subtract(y);if(b.isNaN())return ym;e=e.replace(x8,b.toString())}return e}var w8=/\(([^()]*)\)/;function zTe(t){for(var e=t;e.includes("(");){var n=w8.exec(e),r=TC(n,2),i=r[1];e=e.replace(w8,QJ(i))}return e}function VTe(t){var e=t.replace(/\s+/g,"");return e=zTe(e),e=QJ(e),e}function $Te(t){try{return VTe(t)}catch{return ym}}function UB(t){var e=$Te(t.slice(5,-1));return e===ym?"":e}var KTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WTe=["dx","dy","angle","className","breakAll"];function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QT.apply(this,arguments)}function C8(t,e){if(t==null)return{};var n=GTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S8(t,e){return JTe(t)||XTe(t,e)||YTe(t,e)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YTe(t,e){if(t){if(typeof t=="string")return E8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E8(t,e)}}function E8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function JTe(t){if(Array.isArray(t))return t}var HJ=/[ \f\n\r\t\v\u2028\u2029]+/,zJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];On(n)||(r?a=n.toString().split(""):a=n.toString().split(HJ));var s=a.map(function(l){return{word:l,width:ty(l,i).width}}),o=r?0:ty("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ZTe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,A=kt(s),d=o,f=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(q,Z){var W=Z.word,oe=Z.width,te=q[q.length-1];if(te&&(i==null||a||te.width+oe+r<Number(i)))te.words.push(W),te.width+=oe+r;else{var ue={words:[W],width:oe};q.push(ue)}return q},[])},h=f(n),p=function(Y){return Y.reduce(function(q,Z){return q.width>Z.width?q:Z})};if(!A)return h;for(var m="",v=function(Y){var q=d.slice(0,Y),Z=zJ({breakAll:u,style:l,children:q+m}).wordsWithComputedWidth,W=f(Z),oe=W.length>s||p(W).width>Number(i);return[oe,W]},g=0,y=d.length-1,b=0,C;g<=y&&b<=d.length-1;){var E=Math.floor((g+y)/2),N=E-1,_=v(N),B=S8(_,2),j=B[0],D=B[1],k=v(E),O=S8(k,1),F=O[0];if(!j&&!F&&(g=E+1),j&&F&&(y=E-1),!j&&F){C=D;break}b++}return C||h},_8=function(e){var n=On(e)?[]:e.toString().split(HJ);return[{words:n}]},eIe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!_f.isSsr){var l,u,A=zJ({breakAll:s,children:i,style:a});if(A){var d=A.wordsWithComputedWidth,f=A.spaceWidth;l=d,u=f}else return _8(i);return ZTe({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return _8(i)},B8="#808080",qh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,A=e.scaleToFit,d=A===void 0?!1:A,f=e.textAnchor,h=f===void 0?"start":f,p=e.verticalAnchor,m=p===void 0?"end":p,v=e.fill,g=v===void 0?B8:v,y=C8(e,KTe),b=P.useMemo(function(){return eIe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),C=y.dx,E=y.dy,N=y.angle,_=y.className,B=y.breakAll,j=C8(y,WTe);if(!Ya(r)||!Ya(a))return null;var D=r+(kt(C)?C:0),k=a+(kt(E)?E:0),O;switch(m){case"start":O=UB("calc(".concat(u,")"));break;case"middle":O=UB("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=UB("calc(".concat(b.length-1," * -").concat(o,")"));break}var F=[];if(d){var H=b[0].width,Y=y.width;F.push("scale(".concat((kt(Y)?Y/H:1)/H,")"))}return N&&F.push("rotate(".concat(N,", ").concat(D,", ").concat(k,")")),F.length&&(j.transform=F.join(" ")),be.createElement("text",QT({},vn(j,!0),{x:D,y:k,className:zn("recharts-text",_),textAnchor:h,fill:g.includes("url")?B8:g}),b.map(function(q,Z){var W=q.words.join(B?"":" ");return be.createElement("tspan",{x:D,dy:Z===0?O:o,key:"".concat(W,"-").concat(Z)},W)}))};function nf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y3(t){let e,n,r;t.length!==2?(e=nf,n=(o,l)=>nf(t(o),l),r=(o,l)=>t(o)-l):(e=t===nf||t===tIe?t:nIe,n=t,r=t);function i(o,l,u=0,A=o.length){if(u<A){if(e(l,l)!==0)return A;do{const d=u+A>>>1;n(o[d],l)<0?u=d+1:A=d}while(u<A)}return u}function a(o,l,u=0,A=o.length){if(u<A){if(e(l,l)!==0)return A;do{const d=u+A>>>1;n(o[d],l)<=0?u=d+1:A=d}while(u<A)}return u}function s(o,l,u=0,A=o.length){const d=i(o,l,u,A-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function nIe(){return 0}function VJ(t){return t===null?NaN:+t}function*rIe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iIe=Y3(nf),xx=iIe.right;Y3(VJ).center;class N8 extends Map{constructor(e,n=oIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(j8(this,e))}has(e){return super.has(j8(this,e))}set(e,n){return super.set(aIe(this,e),n)}delete(e){return super.delete(sIe(this,e))}}function j8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function aIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lIe(t=nf){if(t===nf)return $J;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $J(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cIe=Math.sqrt(50),uIe=Math.sqrt(10),AIe=Math.sqrt(2);function IC(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=cIe?10:a>=uIe?5:a>=AIe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?IC(t,e,n*2):[o,l,u]}function HT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?IC(e,t,n):IC(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function zT(t,e,n){return e=+e,t=+t,n=+n,IC(t,e,n)[2]}function VT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?zT(e,t,n):zT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function T8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function I8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function KJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$J:lIe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,A=Math.log(l),d=.5*Math.exp(2*A/3),f=.5*Math.sqrt(A*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*d/l+f)),p=Math.min(r,Math.floor(e+(l-u)*d/l+f));KJ(t,e,h,p,i)}const a=t[e];let s=n,o=r;for(Y0(t,n,e),i(t[r],a)>0&&Y0(t,n,r);s<o;){for(Y0(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Y0(t,n,o):(++o,Y0(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Y0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dIe(t,e,n){if(t=Float64Array.from(rIe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return I8(t);if(e>=1)return T8(t);var r,i=(r-1)*e,a=Math.floor(i),s=T8(KJ(t,a).subarray(0,a+1)),o=I8(t.subarray(a+1));return s+(o-s)*(i-a)}}function fIe(t,e,n=VJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function hIe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function _c(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $T=Symbol("implicit");function X3(){var t=new N8,e=[],n=[],r=$T;function i(a){let s=t.get(a);if(s===void 0){if(r!==$T)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new N8;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return X3(e,n).unknown(r)},_c.apply(i,arguments),i}function cb(){var t=X3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,A=.5;delete t.unknown;function d(){var f=e().length,h=i<r,p=h?i:r,m=h?r:i;a=(m-p)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),p+=(m-p-a*(f-l))*A,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=hIe(f).map(function(g){return p+a*g});return n(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(A=Math.max(0,Math.min(1,f)),d()):A},t.copy=function(){return cb(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(A)},_c.apply(d(),arguments)}function WJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return WJ(e())},t}function ny(){return WJ(cb.apply(null,arguments).paddingInner(1))}function J3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function GJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wx(){}var ub=.7,kC=1/ub,Lm="\\s*([+-]?\\d+)\\s*",Ab="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pIe=/^#([0-9a-f]{3,8})$/,mIe=new RegExp(`^rgb\\(${Lm},${Lm},${Lm}\\)$`),gIe=new RegExp(`^rgb\\(${Hu},${Hu},${Hu}\\)$`),vIe=new RegExp(`^rgba\\(${Lm},${Lm},${Lm},${Ab}\\)$`),yIe=new RegExp(`^rgba\\(${Hu},${Hu},${Hu},${Ab}\\)$`),bIe=new RegExp(`^hsl\\(${Ab},${Hu},${Hu}\\)$`),xIe=new RegExp(`^hsla\\(${Ab},${Hu},${Hu},${Ab}\\)$`),k8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J3(wx,db,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:P8,formatHex:P8,formatHex8:wIe,formatHsl:CIe,formatRgb:D8,toString:D8});function P8(){return this.rgb().formatHex()}function wIe(){return this.rgb().formatHex8()}function CIe(){return qJ(this).formatHsl()}function D8(){return this.rgb().formatRgb()}function db(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?O8(e):n===3?new Lo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?P1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?P1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mIe.exec(t))?new Lo(e[1],e[2],e[3],1):(e=gIe.exec(t))?new Lo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vIe.exec(t))?P1(e[1],e[2],e[3],e[4]):(e=yIe.exec(t))?P1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bIe.exec(t))?L8(e[1],e[2]/100,e[3]/100,1):(e=xIe.exec(t))?L8(e[1],e[2]/100,e[3]/100,e[4]):k8.hasOwnProperty(t)?O8(k8[t]):t==="transparent"?new Lo(NaN,NaN,NaN,0):null}function O8(t){return new Lo(t>>16&255,t>>8&255,t&255,1)}function P1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lo(t,e,n,r)}function SIe(t){return t instanceof wx||(t=db(t)),t?(t=t.rgb(),new Lo(t.r,t.g,t.b,t.opacity)):new Lo}function KT(t,e,n,r){return arguments.length===1?SIe(t):new Lo(t,e,n,r??1)}function Lo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}J3(Lo,KT,GJ(wx,{brighter(t){return t=t==null?kC:Math.pow(kC,t),new Lo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ub:Math.pow(ub,t),new Lo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lo(jh(this.r),jh(this.g),jh(this.b),PC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F8,formatHex:F8,formatHex8:EIe,formatRgb:M8,toString:M8}));function F8(){return`#${ph(this.r)}${ph(this.g)}${ph(this.b)}`}function EIe(){return`#${ph(this.r)}${ph(this.g)}${ph(this.b)}${ph((isNaN(this.opacity)?1:this.opacity)*255)}`}function M8(){const t=PC(this.opacity);return`${t===1?"rgb(":"rgba("}${jh(this.r)}, ${jh(this.g)}, ${jh(this.b)}${t===1?")":`, ${t})`}`}function PC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ph(t){return t=jh(t),(t<16?"0":"")+t.toString(16)}function L8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yc(t,e,n,r)}function qJ(t){if(t instanceof Yc)return new Yc(t.h,t.s,t.l,t.opacity);if(t instanceof wx||(t=db(t)),!t)return new Yc;if(t instanceof Yc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Yc(s,o,l,t.opacity)}function _Ie(t,e,n,r){return arguments.length===1?qJ(t):new Yc(t,e,n,r??1)}function Yc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}J3(Yc,_Ie,GJ(wx,{brighter(t){return t=t==null?kC:Math.pow(kC,t),new Yc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ub:Math.pow(ub,t),new Yc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lo(QB(t>=240?t-240:t+120,i,r),QB(t,i,r),QB(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Yc(R8(this.h),D1(this.s),D1(this.l),PC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=PC(this.opacity);return`${t===1?"hsl(":"hsla("}${R8(this.h)}, ${D1(this.s)*100}%, ${D1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R8(t){return t=(t||0)%360,t<0?t+360:t}function D1(t){return Math.max(0,Math.min(1,t||0))}function QB(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Z3=t=>()=>t;function BIe(t,e){return function(n){return t+n*e}}function NIe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jIe(t){return(t=+t)==1?YJ:function(e,n){return n-e?NIe(e,n,t):Z3(isNaN(e)?n:e)}}function YJ(t,e){var n=e-t;return n?BIe(t,n):Z3(isNaN(t)?e:t)}const U8=function t(e){var n=jIe(e);function r(i,a){var s=n((i=KT(i)).r,(a=KT(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=YJ(i.opacity,a.opacity);return function(A){return i.r=s(A),i.g=o(A),i.b=l(A),i.opacity=u(A),i+""}}return r.gamma=t,r}(1);function TIe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function IIe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kIe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=x0(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function PIe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function DC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function DIe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=x0(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var WT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HB=new RegExp(WT.source,"g");function OIe(t){return function(){return t}}function FIe(t){return function(e){return t(e)+""}}function MIe(t,e){var n=WT.lastIndex=HB.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=WT.exec(t))&&(i=HB.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:DC(r,i)})),n=HB.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?FIe(l[0].x):OIe(e):(e=l.length,function(u){for(var A=0,d;A<e;++A)o[(d=l[A]).i]=d.x(u);return o.join("")})}function x0(t,e){var n=typeof e,r;return e==null||n==="boolean"?Z3(e):(n==="number"?DC:n==="string"?(r=db(e))?(e=r,U8):MIe:e instanceof db?U8:e instanceof Date?PIe:IIe(e)?TIe:Array.isArray(e)?kIe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?DIe:DC)(t,e)}function eO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function LIe(t,e){e===void 0&&(e=t,t=x0);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function RIe(t){return function(){return t}}function OC(t){return+t}var Q8=[0,1];function xo(t){return t}function GT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:RIe(isNaN(e)?NaN:.5)}function UIe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function QIe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=GT(i,r),a=n(s,a)):(r=GT(r,i),a=n(a,s)),function(o){return a(r(o))}}function HIe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=GT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=xx(t,o,1,r)-1;return a[l](i[l](o))}}function Cx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vE(){var t=Q8,e=Q8,n=x0,r,i,a,s=xo,o,l,u;function A(){var f=Math.min(t.length,e.length);return s!==xo&&(s=UIe(t[0],t[f-1])),o=f>2?HIe:QIe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=o(e,t.map(r),DC)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,OC),A()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),A()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=eO,A()},d.clamp=function(f){return arguments.length?(s=f?!0:xo,A()):s!==xo},d.interpolate=function(f){return arguments.length?(n=f,A()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return r=f,i=h,A()}}function tO(){return vE()(xo,xo)}function zIe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function FC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Eg(t){return t=FC(Math.abs(t)),t?t[1]:NaN}function VIe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function $Ie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var KIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fb(t){if(!(e=KIe.exec(t)))throw new Error("invalid format: "+t);var e;return new nO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fb.prototype=nO.prototype;function nO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WIe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var XJ;function GIe(t,e){var n=FC(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(XJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+FC(t,Math.max(0,e+a-1))[0]}function H8(t,e){var n=FC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const z8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zIe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>H8(t*100,e),r:H8,s:GIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function V8(t){return t}var $8=Array.prototype.map,K8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qIe(t){var e=t.grouping===void 0||t.thousands===void 0?V8:VIe($8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?V8:$Ie($8.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=fb(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,v=d.zero,g=d.width,y=d.comma,b=d.precision,C=d.trim,E=d.type;E==="n"?(y=!0,E="g"):z8[E]||(b===void 0&&(b=12),C=!0,E="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var N=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=m==="$"?r:/[%p]/.test(E)?s:"",B=z8[E],j=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(k){var O=N,F=_,H,Y,q;if(E==="c")F=B(k)+F,k="";else{k=+k;var Z=k<0||1/k<0;if(k=isNaN(k)?l:B(Math.abs(k),b),C&&(k=WIe(k)),Z&&+k==0&&p!=="+"&&(Z=!1),O=(Z?p==="("?p:o:p==="-"||p==="("?"":p)+O,F=(E==="s"?K8[8+XJ/3]:"")+F+(Z&&p==="("?")":""),j){for(H=-1,Y=k.length;++H<Y;)if(q=k.charCodeAt(H),48>q||q>57){F=(q===46?i+k.slice(H+1):k.slice(H))+F,k=k.slice(0,H);break}}}y&&!v&&(k=e(k,1/0));var W=O.length+k.length+F.length,oe=W<g?new Array(g-W+1).join(f):"";switch(y&&v&&(k=e(oe+k,oe.length?g-F.length:1/0),oe=""),h){case"<":k=O+k+F+oe;break;case"=":k=O+oe+k+F;break;case"^":k=oe.slice(0,W=oe.length>>1)+O+k+F+oe.slice(W);break;default:k=oe+O+k+F;break}return a(k)}return D.toString=function(){return d+""},D}function A(d,f){var h=u((d=fb(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Eg(f)/3)))*3,m=Math.pow(10,-p),v=K8[8+p/3];return function(g){return h(m*g)+v}}return{format:u,formatPrefix:A}}var O1,rO,JJ;YIe({thousands:",",grouping:[3],currency:["$",""]});function YIe(t){return O1=qIe(t),rO=O1.format,JJ=O1.formatPrefix,O1}function XIe(t){return Math.max(0,-Eg(Math.abs(t)))}function JIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Eg(e)/3)))*3-Eg(Math.abs(t)))}function ZIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Eg(e)-Eg(t))+1}function ZJ(t,e,n,r){var i=VT(t,e,n),a;switch(r=fb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=JIe(i,s))&&(r.precision=a),JJ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ZIe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=XIe(i))&&(r.precision=a-(r.type==="%")*2);break}}return rO(r)}function Bf(t){var e=t.domain;return t.ticks=function(n){var r=e();return HT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ZJ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,A=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);A-- >0;){if(u=zT(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function MC(){var t=tO();return t.copy=function(){return Cx(t,MC())},_c.apply(t,arguments),Bf(t)}function eZ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,OC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return eZ(t).unknown(e)},t=arguments.length?Array.from(t,OC):[0,1],Bf(n)}function tZ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function W8(t){return Math.log(t)}function G8(t){return Math.exp(t)}function eke(t){return-Math.log(-t)}function tke(t){return-Math.exp(-t)}function nke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rke(t){return t===10?nke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ike(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function q8(t){return(e,n)=>-t(-e,n)}function iO(t){const e=t(W8,G8),n=e.domain;let r=10,i,a;function s(){return i=ike(r),a=rke(r),n()[0]<0?(i=q8(i),a=q8(a),t(eke,tke)):t(W8,G8),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],A=l[l.length-1];const d=A<u;d&&([u,A]=[A,u]);let f=i(u),h=i(A),p,m;const v=o==null?10:+o;let g=[];if(!(r%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/a(-f):p*a(f),!(m<u)){if(m>A)break;g.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/a(-f):p*a(f),!(m<u)){if(m>A)break;g.push(m)}g.length*2<v&&(g=HT(u,A,v))}else g=HT(f,h,Math.min(h-f,v)).map(a);return d?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fb(l)).precision==null&&(l.trim=!0),l=rO(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return A=>{let d=A/a(Math.round(i(A)));return d*r<r-.5&&(d*=r),d<=u?l(A):""}},e.nice=()=>n(tZ(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function nZ(){const t=iO(vE()).domain([1,10]);return t.copy=()=>Cx(t,nZ()).base(t.base()),_c.apply(t,arguments),t}function Y8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function X8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aO(t){var e=1,n=t(Y8(e),X8(e));return n.constant=function(r){return arguments.length?t(Y8(e=+r),X8(e)):e},Bf(n)}function rZ(){var t=aO(vE());return t.copy=function(){return Cx(t,rZ()).constant(t.constant())},_c.apply(t,arguments)}function J8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ake(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ske(t){return t<0?-t*t:t*t}function sO(t){var e=t(xo,xo),n=1;function r(){return n===1?t(xo,xo):n===.5?t(ake,ske):t(J8(n),J8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bf(e)}function oO(){var t=sO(vE());return t.copy=function(){return Cx(t,oO()).exponent(t.exponent())},_c.apply(t,arguments),t}function oke(){return oO.apply(null,arguments).exponent(.5)}function Z8(t){return Math.sign(t)*t*t}function lke(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iZ(){var t=tO(),e=[0,1],n=!1,r;function i(a){var s=lke(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Z8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,OC)).map(Z8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iZ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},_c.apply(i,arguments),Bf(i)}function aZ(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=fIe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[xx(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(nf),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return aZ().domain(t).range(e).unknown(r)},_c.apply(a,arguments)}function sZ(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[xx(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return sZ().domain([t,e]).range(i).unknown(a)},_c.apply(Bf(s),arguments)}function oZ(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[xx(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oZ().domain(t).range(e).unknown(n)},_c.apply(i,arguments)}const zB=new Date,VB=new Date;function Ja(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Ja(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(zB.setTime(+a),VB.setTime(+s),t(zB),t(VB),Math.floor(n(zB,VB))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const LC=Ja(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);LC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ja(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):LC);LC.range;const _A=1e3,Ac=_A*60,BA=Ac*60,$A=BA*24,lO=$A*7,eQ=$A*30,$B=$A*365,mh=Ja(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_A)},(t,e)=>(e-t)/_A,t=>t.getUTCSeconds());mh.range;const cO=Ja(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_A)},(t,e)=>{t.setTime(+t+e*Ac)},(t,e)=>(e-t)/Ac,t=>t.getMinutes());cO.range;const uO=Ja(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ac)},(t,e)=>(e-t)/Ac,t=>t.getUTCMinutes());uO.range;const AO=Ja(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_A-t.getMinutes()*Ac)},(t,e)=>{t.setTime(+t+e*BA)},(t,e)=>(e-t)/BA,t=>t.getHours());AO.range;const dO=Ja(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*BA)},(t,e)=>(e-t)/BA,t=>t.getUTCHours());dO.range;const Sx=Ja(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ac)/$A,t=>t.getDate()-1);Sx.range;const yE=Ja(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$A,t=>t.getUTCDate()-1);yE.range;const lZ=Ja(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$A,t=>Math.floor(t/$A));lZ.range;function pp(t){return Ja(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ac)/lO)}const bE=pp(0),RC=pp(1),cke=pp(2),uke=pp(3),_g=pp(4),Ake=pp(5),dke=pp(6);bE.range;RC.range;cke.range;uke.range;_g.range;Ake.range;dke.range;function mp(t){return Ja(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lO)}const xE=mp(0),UC=mp(1),fke=mp(2),hke=mp(3),Bg=mp(4),pke=mp(5),mke=mp(6);xE.range;UC.range;fke.range;hke.range;Bg.range;pke.range;mke.range;const fO=Ja(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fO.range;const hO=Ja(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hO.range;const KA=Ja(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());KA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ja(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});KA.range;const WA=Ja(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());WA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ja(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});WA.range;function cZ(t,e,n,r,i,a){const s=[[mh,1,_A],[mh,5,5*_A],[mh,15,15*_A],[mh,30,30*_A],[a,1,Ac],[a,5,5*Ac],[a,15,15*Ac],[a,30,30*Ac],[i,1,BA],[i,3,3*BA],[i,6,6*BA],[i,12,12*BA],[r,1,$A],[r,2,2*$A],[n,1,lO],[e,1,eQ],[e,3,3*eQ],[t,1,$B]];function o(u,A,d){const f=A<u;f&&([u,A]=[A,u]);const h=d&&typeof d.range=="function"?d:l(u,A,d),p=h?h.range(u,+A+1):[];return f?p.reverse():p}function l(u,A,d){const f=Math.abs(A-u)/d,h=Y3(([,,v])=>v).right(s,f);if(h===s.length)return t.every(VT(u/$B,A/$B,d));if(h===0)return LC.every(Math.max(VT(u,A,d),1));const[p,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(m)}return[o,l]}const[gke,vke]=cZ(WA,hO,xE,lZ,dO,uO),[yke,bke]=cZ(KA,fO,bE,Sx,AO,cO);function KB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function WB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function X0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=J0(i),A=Z0(i),d=J0(a),f=Z0(a),h=J0(s),p=Z0(s),m=J0(o),v=Z0(o),g=J0(l),y=Z0(l),b={a:Z,A:W,b:oe,B:te,c:null,d:sQ,e:sQ,f:Vke,g:ePe,G:nPe,H:Qke,I:Hke,j:zke,L:uZ,m:$ke,M:Kke,p:ue,q:R,Q:cQ,s:uQ,S:Wke,u:Gke,U:qke,V:Yke,w:Xke,W:Jke,x:null,X:null,y:Zke,Y:tPe,Z:rPe,"%":lQ},C={a:$,A:J,b:ne,B:he,c:null,d:oQ,e:oQ,f:oPe,g:gPe,G:yPe,H:iPe,I:aPe,j:sPe,L:dZ,m:lPe,M:cPe,p:Se,q:we,Q:cQ,s:uQ,S:uPe,u:APe,U:dPe,V:fPe,w:hPe,W:pPe,x:null,X:null,y:mPe,Y:vPe,Z:bPe,"%":lQ},E={a:D,A:k,b:O,B:F,c:H,d:iQ,e:iQ,f:Mke,g:rQ,G:nQ,H:aQ,I:aQ,j:Pke,L:Fke,m:kke,M:Dke,p:j,q:Ike,Q:Rke,s:Uke,S:Oke,u:_ke,U:Bke,V:Nke,w:Eke,W:jke,x:Y,X:q,y:rQ,Y:nQ,Z:Tke,"%":Lke};b.x=N(n,b),b.X=N(r,b),b.c=N(e,b),C.x=N(n,C),C.X=N(r,C),C.c=N(e,C);function N(re,pe){return function(xe){var Ae=[],He=-1,Ie=0,fe=re.length,$e,mt,pt;for(xe instanceof Date||(xe=new Date(+xe));++He<fe;)re.charCodeAt(He)===37&&(Ae.push(re.slice(Ie,He)),(mt=tQ[$e=re.charAt(++He)])!=null?$e=re.charAt(++He):mt=$e==="e"?" ":"0",(pt=pe[$e])&&($e=pt(xe,mt)),Ae.push($e),Ie=He+1);return Ae.push(re.slice(Ie,He)),Ae.join("")}}function _(re,pe){return function(xe){var Ae=X0(1900,void 0,1),He=B(Ae,re,xe+="",0),Ie,fe;if(He!=xe.length)return null;if("Q"in Ae)return new Date(Ae.Q);if("s"in Ae)return new Date(Ae.s*1e3+("L"in Ae?Ae.L:0));if(pe&&!("Z"in Ae)&&(Ae.Z=0),"p"in Ae&&(Ae.H=Ae.H%12+Ae.p*12),Ae.m===void 0&&(Ae.m="q"in Ae?Ae.q:0),"V"in Ae){if(Ae.V<1||Ae.V>53)return null;"w"in Ae||(Ae.w=1),"Z"in Ae?(Ie=WB(X0(Ae.y,0,1)),fe=Ie.getUTCDay(),Ie=fe>4||fe===0?UC.ceil(Ie):UC(Ie),Ie=yE.offset(Ie,(Ae.V-1)*7),Ae.y=Ie.getUTCFullYear(),Ae.m=Ie.getUTCMonth(),Ae.d=Ie.getUTCDate()+(Ae.w+6)%7):(Ie=KB(X0(Ae.y,0,1)),fe=Ie.getDay(),Ie=fe>4||fe===0?RC.ceil(Ie):RC(Ie),Ie=Sx.offset(Ie,(Ae.V-1)*7),Ae.y=Ie.getFullYear(),Ae.m=Ie.getMonth(),Ae.d=Ie.getDate()+(Ae.w+6)%7)}else("W"in Ae||"U"in Ae)&&("w"in Ae||(Ae.w="u"in Ae?Ae.u%7:"W"in Ae?1:0),fe="Z"in Ae?WB(X0(Ae.y,0,1)).getUTCDay():KB(X0(Ae.y,0,1)).getDay(),Ae.m=0,Ae.d="W"in Ae?(Ae.w+6)%7+Ae.W*7-(fe+5)%7:Ae.w+Ae.U*7-(fe+6)%7);return"Z"in Ae?(Ae.H+=Ae.Z/100|0,Ae.M+=Ae.Z%100,WB(Ae)):KB(Ae)}}function B(re,pe,xe,Ae){for(var He=0,Ie=pe.length,fe=xe.length,$e,mt;He<Ie;){if(Ae>=fe)return-1;if($e=pe.charCodeAt(He++),$e===37){if($e=pe.charAt(He++),mt=E[$e in tQ?pe.charAt(He++):$e],!mt||(Ae=mt(re,xe,Ae))<0)return-1}else if($e!=xe.charCodeAt(Ae++))return-1}return Ae}function j(re,pe,xe){var Ae=u.exec(pe.slice(xe));return Ae?(re.p=A.get(Ae[0].toLowerCase()),xe+Ae[0].length):-1}function D(re,pe,xe){var Ae=h.exec(pe.slice(xe));return Ae?(re.w=p.get(Ae[0].toLowerCase()),xe+Ae[0].length):-1}function k(re,pe,xe){var Ae=d.exec(pe.slice(xe));return Ae?(re.w=f.get(Ae[0].toLowerCase()),xe+Ae[0].length):-1}function O(re,pe,xe){var Ae=g.exec(pe.slice(xe));return Ae?(re.m=y.get(Ae[0].toLowerCase()),xe+Ae[0].length):-1}function F(re,pe,xe){var Ae=m.exec(pe.slice(xe));return Ae?(re.m=v.get(Ae[0].toLowerCase()),xe+Ae[0].length):-1}function H(re,pe,xe){return B(re,e,pe,xe)}function Y(re,pe,xe){return B(re,n,pe,xe)}function q(re,pe,xe){return B(re,r,pe,xe)}function Z(re){return s[re.getDay()]}function W(re){return a[re.getDay()]}function oe(re){return l[re.getMonth()]}function te(re){return o[re.getMonth()]}function ue(re){return i[+(re.getHours()>=12)]}function R(re){return 1+~~(re.getMonth()/3)}function $(re){return s[re.getUTCDay()]}function J(re){return a[re.getUTCDay()]}function ne(re){return l[re.getUTCMonth()]}function he(re){return o[re.getUTCMonth()]}function Se(re){return i[+(re.getUTCHours()>=12)]}function we(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var pe=N(re+="",b);return pe.toString=function(){return re},pe},parse:function(re){var pe=_(re+="",!1);return pe.toString=function(){return re},pe},utcFormat:function(re){var pe=N(re+="",C);return pe.toString=function(){return re},pe},utcParse:function(re){var pe=_(re+="",!0);return pe.toString=function(){return re},pe}}}var tQ={"-":"",_:" ",0:"0"},As=/^\s*\d+/,wke=/^%/,Cke=/[\\^$*+?|[\]().{}]/g;function Tr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ske(t){return t.replace(Cke,"\\$&")}function J0(t){return new RegExp("^(?:"+t.map(Ske).join("|")+")","i")}function Z0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Eke(t,e,n){var r=As.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _ke(t,e,n){var r=As.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Bke(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Nke(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jke(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nQ(t,e,n){var r=As.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rQ(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ike(t,e,n){var r=As.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kke(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iQ(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Pke(t,e,n){var r=As.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function aQ(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dke(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Oke(t,e,n){var r=As.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fke(t,e,n){var r=As.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mke(t,e,n){var r=As.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lke(t,e,n){var r=wke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Rke(t,e,n){var r=As.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Uke(t,e,n){var r=As.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sQ(t,e){return Tr(t.getDate(),e,2)}function Qke(t,e){return Tr(t.getHours(),e,2)}function Hke(t,e){return Tr(t.getHours()%12||12,e,2)}function zke(t,e){return Tr(1+Sx.count(KA(t),t),e,3)}function uZ(t,e){return Tr(t.getMilliseconds(),e,3)}function Vke(t,e){return uZ(t,e)+"000"}function $ke(t,e){return Tr(t.getMonth()+1,e,2)}function Kke(t,e){return Tr(t.getMinutes(),e,2)}function Wke(t,e){return Tr(t.getSeconds(),e,2)}function Gke(t){var e=t.getDay();return e===0?7:e}function qke(t,e){return Tr(bE.count(KA(t)-1,t),e,2)}function AZ(t){var e=t.getDay();return e>=4||e===0?_g(t):_g.ceil(t)}function Yke(t,e){return t=AZ(t),Tr(_g.count(KA(t),t)+(KA(t).getDay()===4),e,2)}function Xke(t){return t.getDay()}function Jke(t,e){return Tr(RC.count(KA(t)-1,t),e,2)}function Zke(t,e){return Tr(t.getFullYear()%100,e,2)}function ePe(t,e){return t=AZ(t),Tr(t.getFullYear()%100,e,2)}function tPe(t,e){return Tr(t.getFullYear()%1e4,e,4)}function nPe(t,e){var n=t.getDay();return t=n>=4||n===0?_g(t):_g.ceil(t),Tr(t.getFullYear()%1e4,e,4)}function rPe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tr(e/60|0,"0",2)+Tr(e%60,"0",2)}function oQ(t,e){return Tr(t.getUTCDate(),e,2)}function iPe(t,e){return Tr(t.getUTCHours(),e,2)}function aPe(t,e){return Tr(t.getUTCHours()%12||12,e,2)}function sPe(t,e){return Tr(1+yE.count(WA(t),t),e,3)}function dZ(t,e){return Tr(t.getUTCMilliseconds(),e,3)}function oPe(t,e){return dZ(t,e)+"000"}function lPe(t,e){return Tr(t.getUTCMonth()+1,e,2)}function cPe(t,e){return Tr(t.getUTCMinutes(),e,2)}function uPe(t,e){return Tr(t.getUTCSeconds(),e,2)}function APe(t){var e=t.getUTCDay();return e===0?7:e}function dPe(t,e){return Tr(xE.count(WA(t)-1,t),e,2)}function fZ(t){var e=t.getUTCDay();return e>=4||e===0?Bg(t):Bg.ceil(t)}function fPe(t,e){return t=fZ(t),Tr(Bg.count(WA(t),t)+(WA(t).getUTCDay()===4),e,2)}function hPe(t){return t.getUTCDay()}function pPe(t,e){return Tr(UC.count(WA(t)-1,t),e,2)}function mPe(t,e){return Tr(t.getUTCFullYear()%100,e,2)}function gPe(t,e){return t=fZ(t),Tr(t.getUTCFullYear()%100,e,2)}function vPe(t,e){return Tr(t.getUTCFullYear()%1e4,e,4)}function yPe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bg(t):Bg.ceil(t),Tr(t.getUTCFullYear()%1e4,e,4)}function bPe(){return"+0000"}function lQ(){return"%"}function cQ(t){return+t}function uQ(t){return Math.floor(+t/1e3)}var Ip,hZ,pZ;xPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xPe(t){return Ip=xke(t),hZ=Ip.format,Ip.parse,pZ=Ip.utcFormat,Ip.utcParse,Ip}function wPe(t){return new Date(t)}function CPe(t){return t instanceof Date?+t:+new Date(+t)}function pO(t,e,n,r,i,a,s,o,l,u){var A=tO(),d=A.invert,f=A.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),b=u("%B"),C=u("%Y");function E(N){return(l(N)<N?h:o(N)<N?p:s(N)<N?m:a(N)<N?v:r(N)<N?i(N)<N?g:y:n(N)<N?b:C)(N)}return A.invert=function(N){return new Date(d(N))},A.domain=function(N){return arguments.length?f(Array.from(N,CPe)):f().map(wPe)},A.ticks=function(N){var _=f();return t(_[0],_[_.length-1],N??10)},A.tickFormat=function(N,_){return _==null?E:u(_)},A.nice=function(N){var _=f();return(!N||typeof N.range!="function")&&(N=e(_[0],_[_.length-1],N??10)),N?f(tZ(_,N)):A},A.copy=function(){return Cx(A,pO(t,e,n,r,i,a,s,o,l,u))},A}function SPe(){return _c.apply(pO(yke,bke,KA,fO,bE,Sx,AO,cO,mh,hZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EPe(){return _c.apply(pO(gke,vke,WA,hO,xE,yE,dO,uO,mh,pZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wE(){var t=0,e=1,n,r,i,a,s=xo,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function A(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),u):[s(0),s(1)]}}return u.range=A(x0),u.rangeRound=A(eO),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Nf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mZ(){var t=Bf(wE()(xo));return t.copy=function(){return Nf(t,mZ())},rd.apply(t,arguments)}function gZ(){var t=iO(wE()).domain([1,10]);return t.copy=function(){return Nf(t,gZ()).base(t.base())},rd.apply(t,arguments)}function vZ(){var t=aO(wE());return t.copy=function(){return Nf(t,vZ()).constant(t.constant())},rd.apply(t,arguments)}function mO(){var t=sO(wE());return t.copy=function(){return Nf(t,mO()).exponent(t.exponent())},rd.apply(t,arguments)}function _Pe(){return mO.apply(null,arguments).exponent(.5)}function yZ(){var t=[],e=xo;function n(r){if(r!=null&&!isNaN(r=+r))return e((xx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(nf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>dIe(t,a/r))},n.copy=function(){return yZ(e).domain(t)},rd.apply(n,arguments)}function CE(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=xo,A,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+A(m))-a)*(r*m<r*a?o:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,n]=m,i=A(t=+t),a=A(e=+e),s=A(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(v){var g,y,b;return arguments.length?([g,y,b]=v,u=LIe(m,[g,y,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(x0),h.rangeRound=p(eO),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return A=m,i=m(t),a=m(e),s=m(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h}}function bZ(){var t=Bf(CE()(xo));return t.copy=function(){return Nf(t,bZ())},rd.apply(t,arguments)}function xZ(){var t=iO(CE()).domain([.1,1,10]);return t.copy=function(){return Nf(t,xZ()).base(t.base())},rd.apply(t,arguments)}function wZ(){var t=aO(CE());return t.copy=function(){return Nf(t,wZ()).constant(t.constant())},rd.apply(t,arguments)}function gO(){var t=sO(CE());return t.copy=function(){return Nf(t,gO()).exponent(t.exponent())},rd.apply(t,arguments)}function BPe(){return gO.apply(null,arguments).exponent(.5)}const AQ=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cb,scaleDiverging:bZ,scaleDivergingLog:xZ,scaleDivergingPow:gO,scaleDivergingSqrt:BPe,scaleDivergingSymlog:wZ,scaleIdentity:eZ,scaleImplicit:$T,scaleLinear:MC,scaleLog:nZ,scaleOrdinal:X3,scalePoint:ny,scalePow:oO,scaleQuantile:aZ,scaleQuantize:sZ,scaleRadial:iZ,scaleSequential:mZ,scaleSequentialLog:gZ,scaleSequentialPow:mO,scaleSequentialQuantile:yZ,scaleSequentialSqrt:_Pe,scaleSequentialSymlog:vZ,scaleSqrt:oke,scaleSymlog:rZ,scaleThreshold:oZ,scaleTime:SPe,scaleUtc:EPe,tickFormat:ZJ},Symbol.toStringTag,{value:"Module"}));var NPe=d0;function jPe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!NPe(s):n(s,o)))var o=s,l=a}return l}var SE=jPe;function TPe(t,e){return t>e}var CZ=TPe,IPe=SE,kPe=CZ,PPe=b0;function DPe(t){return t&&t.length?IPe(t,PPe,kPe):void 0}var OPe=DPe;const Fd=Rr(OPe);function FPe(t,e){return t<e}var SZ=FPe,MPe=SE,LPe=SZ,RPe=b0;function UPe(t){return t&&t.length?MPe(t,RPe,LPe):void 0}var QPe=UPe;const EE=Rr(QPe);var HPe=I3,zPe=Zu,VPe=kJ,$Pe=Yo;function KPe(t,e){var n=$Pe(t)?HPe:VPe;return n(t,zPe(e))}var WPe=KPe,GPe=TJ,qPe=WPe;function YPe(t,e){return GPe(qPe(t,e),1)}var XPe=YPe;const JPe=Rr(XPe);var ZPe=K3;function eDe(t,e){return ZPe(t,e)}var tDe=eDe;const Yh=Rr(tDe);var w0=1e9,nDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yO,Pi=!0,bc="[DecimalError] ",Th=bc+"Invalid argument: ",vO=bc+"Exponent out of range: ",C0=Math.floor,Zf=Math.pow,rDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wl,rs=1e7,Ci=7,EZ=9007199254740991,QC=C0(EZ/Ci),on={};on.absoluteValue=on.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};on.comparedTo=on.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};on.decimalPlaces=on.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ci;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};on.dividedBy=on.div=function(t){return DA(this,new this.constructor(t))};on.dividedToIntegerBy=on.idiv=function(t){var e=this,n=e.constructor;return ri(DA(e,new n(t),0,1),n.precision)};on.equals=on.eq=function(t){return!this.cmp(t)};on.exponent=function(){return ka(this)};on.greaterThan=on.gt=function(t){return this.cmp(t)>0};on.greaterThanOrEqualTo=on.gte=function(t){return this.cmp(t)>=0};on.isInteger=on.isint=function(){return this.e>this.d.length-2};on.isNegative=on.isneg=function(){return this.s<0};on.isPositive=on.ispos=function(){return this.s>0};on.isZero=function(){return this.s===0};on.lessThan=on.lt=function(t){return this.cmp(t)<0};on.lessThanOrEqualTo=on.lte=function(t){return this.cmp(t)<1};on.logarithm=on.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wl))throw Error(bc+"NaN");if(n.s<1)throw Error(bc+(n.s?"NaN":"-Infinity"));return n.eq(wl)?new r(0):(Pi=!1,e=DA(hb(n,a),hb(t,a),a),Pi=!0,ri(e,i))};on.minus=on.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NZ(e,t):_Z(e,(t.s=-t.s,t))};on.modulo=on.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(bc+"NaN");return n.s?(Pi=!1,e=DA(n,t,0,1).times(t),Pi=!0,n.minus(e)):ri(new r(n),i)};on.naturalExponential=on.exp=function(){return BZ(this)};on.naturalLogarithm=on.ln=function(){return hb(this)};on.negated=on.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};on.plus=on.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_Z(e,t):NZ(e,(t.s=-t.s,t))};on.precision=on.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Th+t);if(e=ka(i)+1,r=i.d.length-1,n=r*Ci+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};on.squareRoot=on.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(bc+"NaN")}for(t=ka(o),Pi=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ku(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=C0((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(DA(o,a,s+2)).times(.5),ku(a.d).slice(0,s)===(e=ku(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ri(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Pi=!0,ri(r,n)};on.times=on.mul=function(t){var e,n,r,i,a,s,o,l,u,A=this,d=A.constructor,f=A.d,h=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,n=A.e+t.e,l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+h[r]*f[i-r-1]+e,a[i--]=o%rs|0,e=o/rs|0;a[i]=(a[i]+e)%rs|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Pi?ri(t,d.precision):t};on.toDecimalPlaces=on.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wu(t,0,w0),e===void 0?e=r.rounding:Wu(e,0,8),ri(n,t+ka(n)+1,e))};on.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xh(r,!0):(Wu(t,0,w0),e===void 0?e=i.rounding:Wu(e,0,8),r=ri(new i(r),t+1,e),n=Xh(r,!0,t+1)),n};on.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Xh(i):(Wu(t,0,w0),e===void 0?e=a.rounding:Wu(e,0,8),r=ri(new a(i),t+ka(i)+1,e),n=Xh(r.abs(),!1,t+ka(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};on.toInteger=on.toint=function(){var t=this,e=t.constructor;return ri(new e(t),ka(t)+1,e.rounding)};on.toNumber=function(){return+this};on.toPower=on.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,A=+(t=new l(t));if(!t.s)return new l(wl);if(o=new l(o),!o.s){if(t.s<1)throw Error(bc+"Infinity");return o}if(o.eq(wl))return o;if(r=l.precision,t.eq(wl))return ri(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=A<0?-A:A)<=EZ){for(i=new l(wl),e=Math.ceil(r/Ci+4),Pi=!1;n%2&&(i=i.times(o),fQ(i.d,e)),n=C0(n/2),n!==0;)o=o.times(o),fQ(o.d,e);return Pi=!0,t.s<0?new l(wl).div(i):ri(i,r)}}else if(a<0)throw Error(bc+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Pi=!1,i=t.times(hb(o,r+u)),Pi=!0,i=BZ(i),i.s=a,i};on.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ka(i),r=Xh(i,n<=a.toExpNeg||n>=a.toExpPos)):(Wu(t,1,w0),e===void 0?e=a.rounding:Wu(e,0,8),i=ri(new a(i),t,e),n=ka(i),r=Xh(i,t<=n||n<=a.toExpNeg,t)),r};on.toSignificantDigits=on.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wu(t,1,w0),e===void 0?e=r.rounding:Wu(e,0,8)),ri(new r(n),t,e)};on.toString=on.valueOf=on.val=on.toJSON=on[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ka(t),n=t.constructor;return Xh(t,e<=n.toExpNeg||e>=n.toExpPos)};function _Z(t,e){var n,r,i,a,s,o,l,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),Pi?ri(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/Ci),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/rs|0,l[a]%=rs;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Pi?ri(e,d):e}function Wu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Th+t)}function ku(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ci-r.length,n&&(a+=_d(n)),a+=r;s=t[e],r=s+"",n=Ci-r.length,n&&(a+=_d(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var DA=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%rs|0,s=a/rs|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*rs+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,A,d,f,h,p,m,v,g,y,b,C,E,N,_,B,j=r.constructor,D=r.s==i.s?1:-1,k=r.d,O=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(bc+"Division by zero");for(l=r.e-i.e,_=O.length,E=k.length,h=new j(D),p=h.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--l,a==null?y=a=j.precision:s?y=a+(ka(r)-ka(i))+1:y=a,y<0)return new j(0);if(y=y/Ci+2|0,u=0,_==1)for(A=0,O=O[0],y++;(u<E||A)&&y--;u++)b=A*rs+(k[u]||0),p[u]=b/O|0,A=b%O|0;else{for(A=rs/(O[0]+1)|0,A>1&&(O=t(O,A),k=t(k,A),_=O.length,E=k.length),C=_,m=k.slice(0,_),v=m.length;v<_;)m[v++]=0;B=O.slice(),B.unshift(0),N=O[0],O[1]>=rs/2&&++N;do A=0,o=e(O,m,_,v),o<0?(g=m[0],_!=v&&(g=g*rs+(m[1]||0)),A=g/N|0,A>1?(A>=rs&&(A=rs-1),d=t(O,A),f=d.length,v=m.length,o=e(d,m,f,v),o==1&&(A--,n(d,_<f?B:O,f))):(A==0&&(o=A=1),d=O.slice()),f=d.length,f<v&&d.unshift(0),n(m,d,v),o==-1&&(v=m.length,o=e(O,m,_,v),o<1&&(A++,n(m,_<v?B:O,v))),v=m.length):o===0&&(A++,m=[0]),p[u++]=A,o&&m[0]?m[v++]=k[C]||0:(m=[k[C]],v=1);while((C++<E||m[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=l,ri(h,s?a+ka(h)+1:a)}}();function BZ(t,e){var n,r,i,a,s,o,l=0,u=0,A=t.constructor,d=A.precision;if(ka(t)>16)throw Error(vO+ka(t));if(!t.s)return new A(wl);for(Pi=!1,o=d,s=new A(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Zf(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new A(wl),A.precision=o;;){if(i=ri(i.times(t),o),n=n.times(++l),s=a.plus(DA(i,n,o)),ku(s.d).slice(0,o)===ku(a.d).slice(0,o)){for(;u--;)a=ri(a.times(a),o);return A.precision=d,e==null?(Pi=!0,ri(a,d)):a}a=s}}function ka(t){for(var e=t.e*Ci,n=t.d[0];n>=10;n/=10)e++;return e}function GB(t,e,n){if(e>t.LN10.sd())throw Pi=!0,n&&(t.precision=n),Error(bc+"LN10 precision limit exceeded");return ri(new t(t.LN10),e)}function _d(t){for(var e="";t--;)e+="0";return e}function hb(t,e){var n,r,i,a,s,o,l,u,A,d=1,f=10,h=t,p=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(bc+(h.s?"NaN":"-Infinity"));if(h.eq(wl))return new m(0);if(e==null?(Pi=!1,u=v):u=e,h.eq(10))return e==null&&(Pi=!0),GB(m,u);if(u+=f,m.precision=u,n=ku(p),r=n.charAt(0),a=ka(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=ku(h.d),r=n.charAt(0),d++;a=ka(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1))}else return l=GB(m,u+2,v).times(a+""),h=hb(new m(r+"."+n.slice(1)),u-f).plus(l),m.precision=v,e==null?(Pi=!0,ri(h,v)):h;for(o=s=h=DA(h.minus(wl),h.plus(wl),u),A=ri(h.times(h),u),i=3;;){if(s=ri(s.times(A),u),l=o.plus(DA(s,new m(i),u)),ku(l.d).slice(0,u)===ku(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(GB(m,u+2,v).times(a+""))),o=DA(o,new m(d),u),m.precision=v,e==null?(Pi=!0,ri(o,v)):o;o=l,i+=2}}function dQ(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=C0(n/Ci),t.d=[],r=(n+1)%Ci,n<0&&(r+=Ci),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ci;r<i;)t.d.push(+e.slice(r,r+=Ci));e=e.slice(r),r=Ci-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pi&&(t.e>QC||t.e<-QC))throw Error(vO+n)}else t.s=0,t.e=0,t.d=[0];return t}function ri(t,e,n){var r,i,a,s,o,l,u,A,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ci,i=e,u=d[A=0];else{if(A=Math.ceil((r+1)/Ci),a=d.length,A>=a)return t;for(u=a=d[A],s=1;a>=10;a/=10)s++;r%=Ci,i=r-Ci+s}if(n!==void 0&&(a=Zf(10,s-i-1),o=u/a%10|0,l=e<0||d[A+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Zf(10,s-i):0:d[A-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=ka(t),d.length=1,e=e-a-1,d[0]=Zf(10,(Ci-e%Ci)%Ci),t.e=C0(-e/Ci)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=A,a=1,A--):(d.length=A+1,a=Zf(10,Ci-r),d[A]=i>0?(u/Zf(10,s-i)%Zf(10,i)|0)*a:0),l)for(;;)if(A==0){(d[0]+=a)==rs&&(d[0]=1,++t.e);break}else{if(d[A]+=a,d[A]!=rs)break;d[A--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Pi&&(t.e>QC||t.e<-QC))throw Error(vO+ka(t));return t}function NZ(t,e){var n,r,i,a,s,o,l,u,A,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Pi?ri(e,h):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(A=s<0,A?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(h/Ci),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,A=i<o,A&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){A=l[i]<d[i];break}s=0}for(A&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=rs-1;--l[a],l[i]+=rs}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Pi?ri(e,h):e):new f(0)}function Xh(t,e,n){var r,i=ka(t),a=ku(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+_d(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_d(-i-1)+a,n&&(r=n-s)>0&&(a+=_d(r))):i>=s?(a+=_d(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+_d(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=_d(r))),t.s<0?"-"+a:a}function fQ(t,e){if(t.length>e)return t.length=e,!0}function jZ(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Th+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return dQ(s,a.toString())}else if(typeof a!="string")throw Error(Th+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rDe.test(a))dQ(s,a);else throw Error(Th+a)}if(i.prototype=on,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jZ,i.config=i.set=iDe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iDe(t){if(!t||typeof t!="object")throw Error(bc+"Object expected");var e,n,r,i=["precision",1,w0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(C0(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Th+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Th+n+": "+r);return this}var yO=jZ(nDe);wl=new yO(1);const qr=yO;function aDe(t){return cDe(t)||lDe(t)||oDe(t)||sDe()}function sDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oDe(t,e){if(t){if(typeof t=="string")return qT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(t,e)}}function lDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cDe(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uDe=function(e){return e},TZ={},IZ=function(e){return e===TZ},hQ=function(e){return function n(){return arguments.length===0||arguments.length===1&&IZ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ADe=function t(e,n){return e===1?n:hQ(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==TZ}).length;return s>=e?n.apply(void 0,i):t(e-s,hQ(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var A=i.map(function(d){return IZ(d)?l.shift():d});return n.apply(void 0,aDe(A).concat(l))}))})},_E=function(e){return ADe(e.length,e)},YT=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},dDe=_E(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fDe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uDe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},XT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},kZ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function hDe(t){var e;return t===0?e=1:e=Math.floor(new qr(t).abs().log(10).toNumber())+1,e}function pDe(t,e,n){for(var r=new qr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var mDe=_E(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),gDe=_E(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vDe=_E(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const BE={rangeStep:pDe,getDigitCount:hDe,interpolateNumber:mDe,uninterpolateNumber:gDe,uninterpolateTruncation:vDe};function JT(t){return xDe(t)||bDe(t)||PZ(t)||yDe()}function yDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xDe(t){if(Array.isArray(t))return ZT(t)}function pb(t,e){return SDe(t)||CDe(t,e)||PZ(t,e)||wDe()}function wDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZ(t,e){if(t){if(typeof t=="string")return ZT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZT(t,e)}}function ZT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CDe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function SDe(t){if(Array.isArray(t))return t}function DZ(t){var e=pb(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function OZ(t,e,n){if(t.lte(0))return new qr(0);var r=BE.getDigitCount(t.toNumber()),i=new qr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new qr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new qr(Math.ceil(l))}function EDe(t,e,n){var r=1,i=new qr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new qr(10).pow(BE.getDigitCount(t)-1),i=new qr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new qr(Math.floor(t)))}else t===0?i=new qr(Math.floor((e-1)/2)):n||(i=new qr(Math.floor(t)));var s=Math.floor((e-1)/2),o=fDe(dDe(function(l){return i.add(new qr(l-s).mul(r)).toNumber()}),YT);return o(0,e)}function FZ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qr(0),tickMin:new qr(0),tickMax:new qr(0)};var a=OZ(new qr(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new qr(0):(s=new qr(t).add(e).div(2),s=s.sub(new qr(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new qr(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?FZ(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new qr(o).mul(a)),tickMax:s.add(new qr(l).mul(a))})}function _De(t){var e=pb(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=DZ([n,r]),l=pb(o,2),u=l[0],A=l[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(JT(YT(0,i-1).map(function(){return 1/0}))):[].concat(JT(YT(0,i-1).map(function(){return-1/0})),[A]);return n>r?XT(d):d}if(u===A)return EDe(u,i,a);var f=FZ(u,A,s,a),h=f.step,p=f.tickMin,m=f.tickMax,v=BE.rangeStep(p,m.add(new qr(.1).mul(h)),h);return n>r?XT(v):v}function BDe(t,e){var n=pb(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=DZ([r,i]),o=pb(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var A=Math.max(e,2),d=OZ(new qr(u).sub(l).div(A-1),a,0),f=[].concat(JT(BE.rangeStep(new qr(l),new qr(u).sub(new qr(.99).mul(d)),d)),[u]);return r>i?XT(f):f}var NDe=kZ(_De),jDe=kZ(BDe),TDe="Invariant failed";function Jh(t,e){throw new Error(TDe)}var IDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HC.apply(this,arguments)}function kDe(t,e){return FDe(t)||ODe(t,e)||DDe(t,e)||PDe()}function PDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(t,e){if(t){if(typeof t=="string")return pQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pQ(t,e)}}function pQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ODe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function FDe(t){if(Array.isArray(t))return t}function MDe(t,e){if(t==null)return{};var n=LDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RZ(r.key),r)}}function QDe(t,e,n){return e&&UDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HDe(t,e,n){return e=zC(e),zDe(t,MZ()?Reflect.construct(e,n||[],zC(t).constructor):e.apply(t,n))}function zDe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(t)}function VDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MZ=function(){return!!t})()}function zC(t){return zC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zC(t)}function $De(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eI(t,e)}function eI(t,e){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eI(t,e)}function LZ(t,e,n){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=KDe(t,"string");return Ng(e)=="symbol"?e:e+""}function KDe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ex=function(t){function e(){return RDe(this,e),HDe(this,e,arguments)}return $De(e,t),QDe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,A=r.xAxis,d=r.yAxis,f=MDe(r,IDe),h=vn(f,!1);this.props.direction==="x"&&A.type!=="number"&&Jh();var p=l.map(function(m){var v=u(m,o),g=v.x,y=v.y,b=v.value,C=v.errorVal;if(!C)return null;var E=[],N,_;if(Array.isArray(C)){var B=kDe(C,2);N=B[0],_=B[1]}else N=_=C;if(a==="vertical"){var j=A.scale,D=y+i,k=D+s,O=D-s,F=j(b-N),H=j(b+_);E.push({x1:H,y1:k,x2:H,y2:O}),E.push({x1:F,y1:D,x2:H,y2:D}),E.push({x1:F,y1:k,x2:F,y2:O})}else if(a==="horizontal"){var Y=d.scale,q=g+i,Z=q-s,W=q+s,oe=Y(b-N),te=Y(b+_);E.push({x1:Z,y1:te,x2:W,y2:te}),E.push({x1:q,y1:oe,x2:q,y2:te}),E.push({x1:Z,y1:oe,x2:W,y2:oe})}return be.createElement(ar,HC({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},h),E.map(function(ue){return be.createElement("line",HC({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return be.createElement(ar,{className:"recharts-errorBars"},p)}}])}(be.Component);LZ(Ex,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LZ(Ex,"displayName","ErrorBar");function mb(t){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}function mQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mQ(Object(n),!0).forEach(function(r){WDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WDe(t,e,n){return e=GDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GDe(t){var e=qDe(t,"string");return mb(e)=="symbol"?e:e+""}function qDe(t,e){if(mb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UZ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=xl(n,Il);if(!s)return null;var o=Il.defaultProps,l=o!==void 0?Uf(Uf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(A,d){var f=d.item,h=d.props,p=h.sectors||h.data||[];return A.concat(p.map(function(m){return{type:s.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(A){var d=A.item,f=d.type.defaultProps,h=f!==void 0?Uf(Uf({},f),d.props):{},p=h.dataKey,m=h.name,v=h.legendType,g=h.hide;return{inactive:g,dataKey:p,type:l.iconType||v||"square",color:bO(d),value:m||p,payload:h}}),Uf(Uf(Uf({},l),Il.getWithHeight(s,i)),{},{payload:u,item:s})};function gb(t){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}function gQ(t){return ZDe(t)||JDe(t)||XDe(t)||YDe()}function YDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XDe(t,e){if(t){if(typeof t=="string")return tI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(t,e)}}function JDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZDe(t){if(Array.isArray(t))return tI(t)}function tI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vQ(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rm(t,e,n){return e=e3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e3e(t){var e=t3e(t,"string");return gb(e)=="symbol"?e:e+""}function t3e(t,e){if(gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(t,e,n){return On(t)||On(e)?n:Ya(e)?jl(t,e,n):Nn(e)?e(t):n}function ry(t,e,n,r){var i=JPe(t,function(o){return va(o,e)});if(n==="number"){var a=i.filter(function(o){return kt(o)||parseFloat(o)});return a.length?[EE(a),Fd(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!On(o)}):i;return s.map(function(o){return Ya(o)||o instanceof Date?o:""})}var n3e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var A=u>0?i[u-1].coordinate:i[o-1].coordinate,d=i[u].coordinate,f=u>=o-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(yo(d-A)!==yo(f-d)){var p=[];if(yo(f-d)===yo(l[1]-l[0])){h=f;var m=d+l[1]-l[0];p[0]=Math.min(m,(m+A)/2),p[1]=Math.max(m,(m+A)/2)}else{h=A;var v=f+l[1]-l[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){s=i[u].index;break}}else{var y=Math.min(A,f),b=Math.max(A,f);if(e>(y+d)/2&&e<=(b+d)/2){s=i[u].index;break}}}else for(var C=0;C<o;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},bO=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xi(Xi({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},r3e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var A=a[o[l]].stackGroups,d=Object.keys(A),f=0,h=d.length;f<h;f++){var p=A[d[f]],m=p.items,v=p.cateAxisId,g=m.filter(function(_){return PA(_.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,b=y!==void 0?Xi(Xi({},y),g[0].props):g[0].props,C=b.barSize,E=b[v];s[E]||(s[E]=[]);var N=On(C)?n:C;s[E].push({item:g[0],stackList:g.slice(1),barSize:On(N)?void 0:bo(N,r,0)})}}return s},i3e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=bo(n,i,0,!0),A,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/l,p=s.reduce(function(C,E){return C+E.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&h>0&&(f=!0,h*=.9,p=l*h);var m=(i-p)/2>>0,v={offset:m-u,size:0};A=s.reduce(function(C,E){var N={item:E.item,position:{offset:v.offset+v.size+u,size:f?h:E.barSize}},_=[].concat(gQ(C),[N]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(B){_.push({item:B,position:v})}),_},d)}else{var g=bo(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var y=(i-2*g-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;A=s.reduce(function(C,E,N){var _=[].concat(gQ(C),[{item:E.item,position:{offset:g+(y+u)*N+(y-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(B){_.push({item:B,position:_[_.length-1].position})}),_},d)}return A},a3e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=UZ({children:a,legendWidth:l});if(u){var A=i||{},d=A.width,f=A.height,h=u.align,p=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&h!=="center"&&kt(e[h]))return Xi(Xi({},e),{},Rm({},h,e[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&p!=="middle"&&kt(e[p]))return Xi(Xi({},e),{},Rm({},p,e[p]+(f||0)))}return e},s3e=function(e,n,r){return On(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},QZ=function(e,n,r,i,a){var s=n.props.children,o=Tl(s,Ex).filter(function(u){return s3e(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=va(A,r);if(On(d))return u;var f=Array.isArray(d)?[EE(d),Fd(d)]:[d,d],h=l.reduce(function(p,m){var v=va(A,m,0),g=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},o3e=function(e,n,r,i,a){var s=n.map(function(o){return QZ(e,o,r,a,i)}).filter(function(o){return!On(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},HZ=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&QZ(e,l,u,i)||ry(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var A=0,d=u.length;A<d;A++)o[u[A]]||(o[u[A]]=!0,l.push(u[A]));return l},[])},zZ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},VZ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},NA=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?yo(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return A.filter(function(d){return!g0(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:a?a[d]:d,index:f,offset:u}})},qB=new WeakMap,F1=function(e,n){if(typeof n!="function")return e;qB.has(e)||qB.set(e,new WeakMap);var r=qB.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},$Z=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:cb(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:MC(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ny(),realScaleType:"point"}:a==="category"?{scale:cb(),realScaleType:"band"}:{scale:MC(),realScaleType:"linear"};if(Wh(i)){var l="scale".concat(AE(i));return{scale:(AQ[l]||ny)(),realScaleType:AQ[l]?l:"point"}}return Nn(i)?{scale:i}:{scale:ny(),realScaleType:"point"}},yQ=1e-4,KZ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-yQ,s=Math.max(i[0],i[1])+yQ,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},l3e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},c3e=function(e,n){if(!n||n.length!==2||!kt(n[0])||!kt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!kt(e[0])||e[0]<r)&&(a[0]=r),(!kt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},u3e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=g0(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},A3e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=g0(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},d3e={sign:u3e,expand:ICe,none:bg,silhouette:kCe,wiggle:PCe,positive:A3e},f3e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=d3e[r],s=TCe().keys(i).value(function(o,l){return+va(o,l,0)}).order(_T).offset(a);return s(e)},h3e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(d,f){var h,p=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Xi(Xi({},f.type.defaultProps),f.props):f.props,m=p.stackId,v=p.hide;if(v)return d;var g=p[r],y=d[g]||{hasStack:!1,stackGroups:{}};if(Ya(m)){var b=y.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(f),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[hp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Xi(Xi({},d),{},Rm({},g,y))},l),A={};return Object.keys(u).reduce(function(d,f){var h=u[f];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var g=h.stackGroups[v];return Xi(Xi({},m),{},Rm({},v,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:f3e(e,g.items,a)}))},p)}return Xi(Xi({},d),{},Rm({},f,h))},A)},WZ=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=NDe(u,a,o);return e.domain([EE(A),Fd(A)]),{niceTicks:A}}if(a&&i==="number"){var d=e.domain(),f=jDe(d,a,o);return{niceTicks:f}}return null};function VC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!On(i[e.dataKey])){var o=mC(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=va(i,On(s)?e.dataKey:s);return On(l)?null:e.scale(l)}var bQ=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=va(s,n.dataKey,n.domain[o]);return On(l)?null:n.scale(l)-a/2+i},p3e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},m3e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xi(Xi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ya(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},g3e=function(e){return e.reduce(function(n,r){return[EE(r.concat([n[0]]).filter(kt)),Fd(r.concat([n[1]]).filter(kt))]},[1/0,-1/0])},GZ=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,A){var d=g3e(A.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xQ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wQ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nI=function(e,n,r){if(Nn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(kt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(xQ.test(e[0])){var a=+xQ.exec(e[0])[1];i[0]=n[0]-a}else Nn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(kt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(wQ.test(e[1])){var s=+wQ.exec(e[1])[1];i[1]=n[1]+s}else Nn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},$C=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=G3(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],A=a[o-1];s=Math.min((u.coordinate||0)-(A.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},CQ=function(e,n,r){return!e||!e.length||Yh(e,jl(r,"type.defaultProps.domain"))?n:e},qZ=function(e,n){var r=e.type.defaultProps?Xi(Xi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,A=r.hide;return Xi(Xi({},vn(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:bO(e),value:va(n,i),type:l,payload:n,chartType:u,hide:A})};function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function SQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SQ(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return e=v3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v3e(t){var e=y3e(t,"string");return vb(e)=="symbol"?e:e+""}function y3e(t,e){if(vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b3e(t,e){return S3e(t)||C3e(t,e)||w3e(t,e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(t,e){if(t){if(typeof t=="string")return EQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EQ(t,e)}}function EQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function S3e(t){if(Array.isArray(t))return t}var KC=Math.PI/180,E3e=function(e){return e*180/Math.PI},di=function(e,n,r,i){return{x:e+Math.cos(-KC*i)*r,y:n+Math.sin(-KC*i)*r}},XZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_3e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,A=bo(e.cx,s,s/2),d=bo(e.cy,o,o/2),f=XZ(s,o,r),h=bo(e.innerRadius,f,0),p=bo(e.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(v,g){var y=n[g],b=y.domain,C=y.reversed,E;if(On(y.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[h,p]),C&&(E=[E[1],E[0]]);else{E=y.range;var N=E,_=b3e(N,2);l=_[0],u=_[1]}var B=$Z(y,a),j=B.realScaleType,D=B.scale;D.domain(b).range(E),KZ(D);var k=WZ(D,yA(yA({},y),{},{realScaleType:j})),O=yA(yA(yA({},y),k),{},{range:E,radius:p,realScaleType:j,scale:D,cx:A,cy:d,innerRadius:h,outerRadius:p,startAngle:l,endAngle:u});return yA(yA({},v),{},YZ({},g,O))},{})},B3e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},N3e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=B3e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:E3e(u),angleInRadian:u}},j3e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},T3e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},_Q=function(e,n){var r=e.x,i=e.y,a=N3e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var A=j3e(n),d=A.startAngle,f=A.endAngle,h=o,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?yA(yA({},n),{},{radius:s,angle:T3e(h,n)}):null},JZ=function(e){return!P.isValidElement(e)&&!Nn(e)&&typeof e!="boolean"?e.className:""};function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}var I3e=["offset"];function k3e(t){return F3e(t)||O3e(t)||D3e(t)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(t,e){if(t){if(typeof t=="string")return rI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(t,e)}}function O3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F3e(t){if(Array.isArray(t))return rI(t)}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M3e(t,e){if(t==null)return{};var n=L3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BQ(Object(n),!0).forEach(function(r){R3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R3e(t,e,n){return e=U3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U3e(t){var e=Q3e(t,"string");return yb(e)=="symbol"?e:e+""}function Q3e(t,e){if(yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}var H3e=function(e){var n=e.value,r=e.formatter,i=On(e.children)?n:e.children;return Nn(r)?r(i):i},z3e=function(e,n){var r=yo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},V3e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,A=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,p=l.endAngle,m=l.clockWise,v=(d+f)/2,g=z3e(h,p),y=g>=0?1:-1,b,C;i==="insideStart"?(b=h+y*s,C=m):i==="insideEnd"?(b=p-y*s,C=!m):i==="end"&&(b=p+y*s,C=m),C=g<=0?C:!C;var E=di(u,A,v,b),N=di(u,A,v,b+(C?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),B=On(e.id)?hp("recharts-radial-line-"):e.id;return be.createElement("text",bb({},r,{dominantBaseline:"central",className:zn("recharts-radial-bar-label",o)}),be.createElement("defs",null,be.createElement("path",{id:B,d:_})),be.createElement("textPath",{xlinkHref:"#".concat(B)},n))},$3e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,A=a.startAngle,d=a.endAngle,f=(A+d)/2;if(i==="outside"){var h=di(s,o,u+r,f),p=h.x,m=h.y;return{x:p,y:m,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,g=di(s,o,v,f),y=g.x,b=g.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},K3e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,A=s.height,d=A>=0?1:-1,f=d*i,h=d>0?"end":"start",p=d>0?"start":"end",m=u>=0?1:-1,v=m*i,g=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return $a($a({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var C={x:o+u/2,y:l+A+f,textAnchor:"middle",verticalAnchor:p};return $a($a({},C),r?{height:Math.max(r.y+r.height-(l+A),0),width:u}:{})}if(a==="left"){var E={x:o-v,y:l+A/2,textAnchor:g,verticalAnchor:"middle"};return $a($a({},E),r?{width:Math.max(E.x-r.x,0),height:A}:{})}if(a==="right"){var N={x:o+u+v,y:l+A/2,textAnchor:y,verticalAnchor:"middle"};return $a($a({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:A}:{})}var _=r?{width:u,height:A}:{};return a==="insideLeft"?$a({x:o+v,y:l+A/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideRight"?$a({x:o+u-v,y:l+A/2,textAnchor:g,verticalAnchor:"middle"},_):a==="insideTop"?$a({x:o+u/2,y:l+f,textAnchor:"middle",verticalAnchor:p},_):a==="insideBottom"?$a({x:o+u/2,y:l+A-f,textAnchor:"middle",verticalAnchor:h},_):a==="insideTopLeft"?$a({x:o+v,y:l+f,textAnchor:y,verticalAnchor:p},_):a==="insideTopRight"?$a({x:o+u-v,y:l+f,textAnchor:g,verticalAnchor:p},_):a==="insideBottomLeft"?$a({x:o+v,y:l+A-f,textAnchor:y,verticalAnchor:h},_):a==="insideBottomRight"?$a({x:o+u-v,y:l+A-f,textAnchor:g,verticalAnchor:h},_):f0(a)&&(kt(a.x)||hh(a.x))&&(kt(a.y)||hh(a.y))?$a({x:o+bo(a.x,u),y:l+bo(a.y,A),textAnchor:"end",verticalAnchor:"end"},_):$a({x:o+u/2,y:l+A/2,textAnchor:"middle",verticalAnchor:"middle"},_)},W3e=function(e){return"cx"in e&&kt(e.cx)};function ss(t){var e=t.offset,n=e===void 0?5:e,r=M3e(t,I3e),i=$a({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,A=i.className,d=A===void 0?"":A,f=i.textBreakAll;if(!a||On(o)&&On(l)&&!P.isValidElement(u)&&!Nn(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var h;if(Nn(u)){if(h=P.createElement(u,i),P.isValidElement(h))return h}else h=H3e(i);var p=W3e(a),m=vn(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return V3e(i,h,m);var v=p?$3e(i):K3e(i);return be.createElement(qh,bb({className:zn("recharts-label",d)},m,v,{breakAll:f}),h)}ss.displayName="Label";var ZZ=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,f=e.y,h=e.top,p=e.left,m=e.width,v=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(kt(m)&&kt(v)){if(kt(d)&&kt(f))return{x:d,y:f,width:m,height:v};if(kt(h)&&kt(p))return{x:h,y:p,width:m,height:v}}return kt(d)&&kt(f)?{x:d,y:f,width:0,height:0}:kt(n)&&kt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:A||l||o||0,clockWise:g}:e.viewBox?e.viewBox:{}},G3e=function(e,n){return e?e===!0?be.createElement(ss,{key:"label-implicit",viewBox:n}):Ya(e)?be.createElement(ss,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===ss?P.cloneElement(e,{key:"label-implicit",viewBox:n}):be.createElement(ss,{key:"label-implicit",content:e,viewBox:n}):Nn(e)?be.createElement(ss,{key:"label-implicit",content:e,viewBox:n}):f0(e)?be.createElement(ss,bb({viewBox:n},e,{key:"label-implicit"})):null:null},q3e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=ZZ(e),s=Tl(i,ss).map(function(l,u){return P.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=G3e(e.label,n||a);return[o].concat(k3e(s))};ss.parseViewBox=ZZ;ss.renderCallByParent=q3e;function Y3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var X3e=Y3e;const J3e=Rr(X3e);function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}var Z3e=["valueAccessor"],eOe=["data","dataKey","clockWise","id","textBreakAll"];function tOe(t){return aOe(t)||iOe(t)||rOe(t)||nOe()}function nOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rOe(t,e){if(t){if(typeof t=="string")return iI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(t,e)}}function iOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aOe(t){if(Array.isArray(t))return iI(t)}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC.apply(this,arguments)}function NQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NQ(Object(n),!0).forEach(function(r){sOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e,n){return e=oOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oOe(t){var e=lOe(t,"string");return xb(e)=="symbol"?e:e+""}function lOe(t,e){if(xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TQ(t,e){if(t==null)return{};var n=cOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uOe=function(e){return Array.isArray(e.value)?J3e(e.value):e.value};function $o(t){var e=t.valueAccessor,n=e===void 0?uOe:e,r=TQ(t,Z3e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=TQ(r,eOe);return!i||!i.length?null:be.createElement(ar,{className:"recharts-label-list"},i.map(function(A,d){var f=On(a)?n(A,d):va(A&&A.payload,a),h=On(o)?{}:{id:"".concat(o,"-").concat(d)};return be.createElement(ss,WC({},vn(A,!0),u,h,{parentViewBox:A.parentViewBox,value:f,textBreakAll:l,viewBox:ss.parseViewBox(On(s)?A:jQ(jQ({},A),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}$o.displayName="LabelList";function AOe(t,e){return t?t===!0?be.createElement($o,{key:"labelList-implicit",data:e}):be.isValidElement(t)||Nn(t)?be.createElement($o,{key:"labelList-implicit",data:e,content:t}):f0(t)?be.createElement($o,WC({data:e},t,{key:"labelList-implicit"})):null:null}function dOe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Tl(r,$o).map(function(s,o){return P.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=AOe(t.label,e);return[a].concat(tOe(i))}$o.renderCallByParent=dOe;function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function aI(){return aI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aI.apply(this,arguments)}function IQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IQ(Object(n),!0).forEach(function(r){fOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fOe(t,e,n){return e=hOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hOe(t){var e=pOe(t,"string");return wb(e)=="symbol"?e:e+""}function pOe(t,e){if(wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mOe=function(e,n){var r=yo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},M1=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,A=l*(o?1:-1)+i,d=Math.asin(l/A)/KC,f=u?a:a+s*d,h=di(n,r,A,f),p=di(n,r,i,f),m=u?a-s*d:a,v=di(n,r,A*Math.cos(d*KC),m);return{center:h,circleTangency:p,lineTangency:v,theta:d}},eee=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=mOe(s,o),u=s+l,A=di(n,r,a,s),d=di(n,r,a,u),f="M ".concat(A.x,",").concat(A.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=di(n,r,i,s),p=di(n,r,i,u);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},gOe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=yo(A-u),f=M1({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),h=f.circleTangency,p=f.lineTangency,m=f.theta,v=M1({cx:n,cy:r,radius:a,angle:A,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=v.circleTangency,y=v.lineTangency,b=v.theta,C=l?Math.abs(u-A):Math.abs(u-A)-m-b;if(C<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eee({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:A});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var N=M1({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=N.circleTangency,B=N.lineTangency,j=N.theta,D=M1({cx:n,cy:r,radius:i,angle:A,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=D.circleTangency,O=D.lineTangency,F=D.theta,H=l?Math.abs(u-A):Math.abs(u-A)-j-F;if(H<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},vOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tee=function(e){var n=kQ(kQ({},vOe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,A=n.startAngle,d=n.endAngle,f=n.className;if(s<a||A===d)return null;var h=zn("recharts-sector",f),p=s-a,m=bo(o,p,0,!0),v;return m>0&&Math.abs(A-d)<360?v=gOe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:A,endAngle:d}):v=eee({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:A,endAngle:d}),be.createElement("path",aI({},vn(n,!0),{className:h,d:v,role:"img"}))};function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function sI(){return sI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sI.apply(this,arguments)}function PQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PQ(Object(n),!0).forEach(function(r){yOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yOe(t,e,n){return e=bOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bOe(t){var e=xOe(t,"string");return Cb(e)=="symbol"?e:e+""}function xOe(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OQ={curveBasisClosed:yCe,curveBasisOpen:bCe,curveBasis:vCe,curveBumpX:iCe,curveBumpY:aCe,curveLinearClosed:xCe,curveLinear:fE,curveMonotoneX:wCe,curveMonotoneY:CCe,curveNatural:SCe,curveStep:ECe,curveStepAfter:BCe,curveStepBefore:_Ce},L1=function(e){return e.x===+e.x&&e.y===+e.y},ev=function(e){return e.x},tv=function(e){return e.y},wOe=function(e,n){if(Nn(e))return e;var r="curve".concat(AE(e));return(r==="curveMonotone"||r==="curveBump")&&n?OQ["".concat(r).concat(n==="vertical"?"Y":"X")]:OQ[r]||fE},COe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,A=wOe(r,o),d=u?a.filter(function(m){return L1(m)}):a,f;if(Array.isArray(s)){var h=u?s.filter(function(m){return L1(m)}):s,p=d.map(function(m,v){return DQ(DQ({},m),{},{base:h[v]})});return o==="vertical"?f=N1().y(tv).x1(ev).x0(function(m){return m.base.x}):f=N1().x(ev).y1(tv).y0(function(m){return m.base.y}),f.defined(L1).curve(A),f(p)}return o==="vertical"&&kt(s)?f=N1().y(tv).x1(ev).x0(s):kt(s)?f=N1().x(ev).y1(tv).y0(s):f=qX().x(ev).y(tv),f.defined(L1).curve(A),f(d)},Ih=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?COe(e):i;return P.createElement("path",sI({},vn(e,!1),gC(e),{className:zn("recharts-curve",n),d:s,ref:a}))},nee={exports:{}},SOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EOe=SOe,_Oe=EOe;function ree(){}function iee(){}iee.resetWarningCache=ree;var BOe=function(){function t(r,i,a,s,o,l){if(l!==_Oe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iee,resetWarningCache:ree};return n.PropTypes=n,n};nee.exports=BOe();var NOe=nee.exports;const Mr=Rr(NOe);var jOe=Object.getOwnPropertyNames,TOe=Object.getOwnPropertySymbols,IOe=Object.prototype.hasOwnProperty;function FQ(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function R1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function kOe(t){return t!=null?t[Symbol.toStringTag]:void 0}function MQ(t){return jOe(t).concat(TOe(t))}var POe=Object.hasOwn||function(t,e){return IOe.call(t,e)};function gp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var DOe="__v",OOe="__o",FOe="_owner",LQ=Object.getOwnPropertyDescriptor,RQ=Object.keys;function MOe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function LOe(t,e){return gp(t.getTime(),e.getTime())}function ROe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function UOe(t,e){return t===e}function UQ(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),A=!1,d=0;(o=u.next())&&!o.done;){if(i[d]){d++;continue}var f=s.value,h=o.value;if(n.equals(f[0],h[0],l,d,t,e,n)&&n.equals(f[1],h[1],f[0],h[0],t,e,n)){A=i[d]=!0;break}d++}if(!A)return!1;l++}return!0}var QOe=gp;function HOe(t,e,n){var r=RQ(t),i=r.length;if(RQ(e).length!==i)return!1;for(;i-- >0;)if(!aee(t,e,n,r[i]))return!1;return!0}function nv(t,e,n){var r=MQ(t),i=r.length;if(MQ(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],!aee(t,e,n,a)||(s=LQ(t,a),o=LQ(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function zOe(t,e){return gp(t.valueOf(),e.valueOf())}function VOe(t,e){return t.source===e.source&&t.flags===e.flags}function QQ(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,A=0;(o=l.next())&&!o.done;){if(!i[A]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[A]=!0;break}A++}if(!u)return!1}return!0}function $Oe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function KOe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aee(t,e,n,r){return(r===FOe||r===OOe||r===DOe)&&(t.$$typeof||e.$$typeof)?!0:POe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var WOe="[object Arguments]",GOe="[object Boolean]",qOe="[object Date]",YOe="[object Error]",XOe="[object Map]",JOe="[object Number]",ZOe="[object Object]",eFe="[object RegExp]",tFe="[object Set]",nFe="[object String]",rFe="[object URL]",iFe=Array.isArray,HQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zQ=Object.assign,aFe=Object.prototype.toString.call.bind(Object.prototype.toString);function sFe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,A=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual,h=t.unknownTagComparators;return function(m,v,g){if(m===v)return!0;if(m==null||v==null)return!1;var y=typeof m;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?s(m,v,g):y==="function"?i(m,v,g):!1;var b=m.constructor;if(b!==v.constructor)return!1;if(b===Object)return o(m,v,g);if(iFe(m))return e(m,v,g);if(HQ!=null&&HQ(m))return d(m,v,g);if(b===Date)return n(m,v,g);if(b===RegExp)return u(m,v,g);if(b===Map)return a(m,v,g);if(b===Set)return A(m,v,g);var C=aFe(m);if(C===qOe)return n(m,v,g);if(C===eFe)return u(m,v,g);if(C===XOe)return a(m,v,g);if(C===tFe)return A(m,v,g);if(C===ZOe)return typeof m.then!="function"&&typeof v.then!="function"&&o(m,v,g);if(C===rFe)return f(m,v,g);if(C===YOe)return r(m,v,g);if(C===WOe)return o(m,v,g);if(C===GOe||C===JOe||C===nFe)return l(m,v,g);if(h){var E=h[C];if(!E){var N=kOe(m);N&&(E=h[N])}if(E)return E(m,v,g)}return!1}}function oFe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nv:MOe,areDatesEqual:LOe,areErrorsEqual:ROe,areFunctionsEqual:UOe,areMapsEqual:r?FQ(UQ,nv):UQ,areNumbersEqual:QOe,areObjectsEqual:r?nv:HOe,arePrimitiveWrappersEqual:zOe,areRegExpsEqual:VOe,areSetsEqual:r?FQ(QQ,nv):QQ,areTypedArraysEqual:r?nv:$Oe,areUrlsEqual:KOe,unknownTagComparators:void 0};if(n&&(i=zQ({},i,n(i))),e){var a=R1(i.areArraysEqual),s=R1(i.areMapsEqual),o=R1(i.areObjectsEqual),l=R1(i.areSetsEqual);i=zQ({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function lFe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function cFe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var A=r(),d=A.cache,f=d===void 0?e?new WeakMap:void 0:d,h=A.meta;return n(l,u,{cache:f,equals:i,meta:h,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,s)}}var uFe=jf();jf({strict:!0});jf({circular:!0});jf({circular:!0,strict:!0});jf({createInternalComparator:function(){return gp}});jf({strict:!0,createInternalComparator:function(){return gp}});jf({circular:!0,createInternalComparator:function(){return gp}});jf({circular:!0,createInternalComparator:function(){return gp},strict:!0});function jf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=oFe(t),l=sFe(o),u=r?r(l):lFe(l);return cFe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function AFe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function VQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):AFe(i)};requestAnimationFrame(r)}function oI(t){"@babel/helpers - typeof";return oI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oI(t)}function dFe(t){return mFe(t)||pFe(t)||hFe(t)||fFe()}function fFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hFe(t,e){if(t){if(typeof t=="string")return $Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Q(t,e)}}function $Q(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mFe(t){if(Array.isArray(t))return t}function gFe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=dFe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){VQ(i.bind(null,u),l);return}i(l),VQ(i.bind(null,u));return}oI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function KQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KQ(Object(n),!0).forEach(function(r){see(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function see(t,e,n){return e=vFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vFe(t){var e=yFe(t,"string");return Sb(e)==="symbol"?e:String(e)}function yFe(t,e){if(Sb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bFe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},xFe=function(e){return e},wFe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},iy=function(e,n){return Object.keys(n).reduce(function(r,i){return WQ(WQ({},r),{},see({},i,e(i,n[i])))},{})},GQ=function(e,n,r){return e.map(function(i){return"".concat(wFe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function CFe(t,e){return _Fe(t)||EFe(t,e)||oee(t,e)||SFe()}function SFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function _Fe(t){if(Array.isArray(t))return t}function BFe(t){return TFe(t)||jFe(t)||oee(t)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oee(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function jFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TFe(t){if(Array.isArray(t))return lI(t)}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GC=1e-4,lee=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cee=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},qQ=function(e,n){return function(r){var i=lee(e,n);return cee(i,r)}},IFe=function(e,n){return function(r){var i=lee(e,n),a=[].concat(BFe(i.map(function(s,o){return s*o}).slice(1)),[0]);return cee(a,r)}},YQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),A=CFe(u,4);i=A[0],a=A[1],s=A[2],o=A[3]}}}var d=qQ(i,s),f=qQ(a,o),h=IFe(i,s),p=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,b=y,C=0;C<8;++C){var E=d(b)-y,N=h(b);if(Math.abs(E-y)<GC||N<GC)return f(b);b=p(b-E/N)}return f(b)};return m.isStepper=!1,m},kFe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(A,d,f){var h=-(A-d)*r,p=f*a,m=f+(h-p)*o/1e3,v=f*o/1e3+A;return Math.abs(v-d)<GC&&Math.abs(m)<GC?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},PFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YQ(i);case"spring":return kFe();default:if(i.split("(")[0]==="cubic-bezier")return YQ(i)}return typeof i=="function"?i:null};function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function XQ(t){return FFe(t)||OFe(t)||uee(t)||DFe()}function DFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FFe(t){if(Array.isArray(t))return uI(t)}function JQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(n),!0).forEach(function(r){cI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cI(t,e,n){return e=MFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MFe(t){var e=LFe(t,"string");return Eb(e)==="symbol"?e:String(e)}function LFe(t,e){if(Eb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RFe(t,e){return HFe(t)||QFe(t,e)||uee(t,e)||UFe()}function UFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(t,e)}}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function HFe(t){if(Array.isArray(t))return t}var qC=function(e,n,r){return e+(n-e)*r},AI=function(e){var n=e.from,r=e.to;return n!==r},zFe=function t(e,n,r){var i=iy(function(a,s){if(AI(s)){var o=e(s.from,s.to,s.velocity),l=RFe(o,2),u=l[0],A=l[1];return bs(bs({},s),{},{from:u,velocity:A})}return s},n);return r<1?iy(function(a,s){return AI(s)?bs(bs({},s),{},{velocity:qC(s.velocity,i[a].velocity,r),from:qC(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const VFe=function(t,e,n,r,i){var a=bFe(t,e),s=a.reduce(function(v,g){return bs(bs({},v),{},cI({},g,[t[g],e[g]]))},{}),o=a.reduce(function(v,g){return bs(bs({},v),{},cI({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,A,d=function(){return null},f=function(){return iy(function(g,y){return y.from},o)},h=function(){return!Object.values(o).filter(AI).length},p=function(g){u||(u=g);var y=g-u,b=y/n.dt;o=zFe(n,o,b),i(bs(bs(bs({},t),e),f())),u=g,h()||(l=requestAnimationFrame(d))},m=function(g){A||(A=g);var y=(g-A)/r,b=iy(function(E,N){return qC.apply(void 0,XQ(N).concat([n(y)]))},s);if(i(bs(bs(bs({},t),e),b)),y<1)l=requestAnimationFrame(d);else{var C=iy(function(E,N){return qC.apply(void 0,XQ(N).concat([n(1)]))},s);i(bs(bs(bs({},t),e),C))}};return d=n.isStepper?p:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var $Fe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KFe(t,e){if(t==null)return{};var n=WFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WFe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YB(t){return XFe(t)||YFe(t)||qFe(t)||GFe()}function GFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qFe(t,e){if(t){if(typeof t=="string")return dI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(t,e)}}function YFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XFe(t){if(Array.isArray(t))return dI(t)}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZQ(Object(n),!0).forEach(function(r){Ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ev(t,e,n){return e=Aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aee(r.key),r)}}function eMe(t,e,n){return e&&ZFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aee(t){var e=tMe(t,"string");return jg(e)==="symbol"?e:String(e)}function tMe(t,e){if(jg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fI(t,e)}function rMe(t){var e=iMe();return function(){var r=YC(t),i;if(e){var a=YC(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return hI(this,i)}}function hI(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pI(t)}function pI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function YC(t){return YC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YC(t)}var au=function(t){nMe(n,t);var e=rMe(n);function n(r,i){var a;JFe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,A=s.to,d=s.steps,f=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(pI(a)),a.changeStyle=a.changeStyle.bind(pI(a)),!o||h<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:A}),hI(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof f=="function")return a.state={style:u},hI(a);a.state={style:l?Ev({},l,u):u}}else a.state={style:{}};return a}return eMe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,A=a.to,d=a.from,f=this.state.style;if(o){if(!s){var h={style:l?Ev({},l,A):A};this.state&&f&&(l&&f[l]!==A||!l&&f!==A)&&this.setState(h);return}if(!(uFe(i.to,A)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||u?d:i.to;if(this.state&&f){var v={style:l?Ev({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(v)}this.runAnimation(Qc(Qc({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,A=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=VFe(s,o,PFe(u),l,this.changeStyle),p=function(){a.stopJSAnimation=h()};this.manager.start([f,A,p,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],A=u.style,d=u.duration,f=d===void 0?0:d,h=function(m,v,g){if(g===0)return m;var y=v.duration,b=v.easing,C=b===void 0?"ease":b,E=v.style,N=v.properties,_=v.onAnimationEnd,B=g>0?s[g-1]:v,j=N||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(YB(m),[a.runJSAnimation.bind(a,{from:B.style,to:E,duration:y,easing:C}),y]);var D=GQ(j,y,C),k=Qc(Qc(Qc({},B.style),E),{},{transition:D});return[].concat(YB(m),[k,y,_]).filter(xFe)};return this.manager.start([l].concat(YB(s.reduce(h,[A,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gFe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,A=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=o?Ev({},o,l):l,v=GQ(Object.keys(m),s,u);p.start([A,a,Qc(Qc({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=KFe(i,$Fe),u=P.Children.count(a),A=this.state.style;if(typeof a=="function")return a(A);if(!o||u===0||s<=0)return a;var d=function(h){var p=h.props,m=p.style,v=m===void 0?{}:m,g=p.className,y=P.cloneElement(h,Qc(Qc({},l),{},{style:Qc(Qc({},v),A),className:g}));return y};return u===1?d(P.Children.only(a)):be.createElement("div",null,P.Children.map(a,function(f){return d(f)}))}}]),n}(P.PureComponent);au.displayName="Animate";au.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};au.propTypes={from:Mr.oneOfType([Mr.object,Mr.string]),to:Mr.oneOfType([Mr.object,Mr.string]),attributeName:Mr.string,duration:Mr.number,begin:Mr.number,easing:Mr.oneOfType([Mr.string,Mr.func]),steps:Mr.arrayOf(Mr.shape({duration:Mr.number.isRequired,style:Mr.object.isRequired,easing:Mr.oneOfType([Mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Mr.func]),properties:Mr.arrayOf("string"),onAnimationEnd:Mr.func})),children:Mr.oneOfType([Mr.node,Mr.func]),isActive:Mr.bool,canBegin:Mr.bool,onAnimationEnd:Mr.func,shouldReAnimate:Mr.bool,onAnimationStart:Mr.func,onAnimationReStart:Mr.func};function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function aMe(t,e){return cMe(t)||lMe(t,e)||oMe(t,e)||sMe()}function sMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oMe(t,e){if(t){if(typeof t=="string")return e7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e7(t,e)}}function e7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cMe(t){if(Array.isArray(t))return t}function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){uMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uMe(t,e,n){return e=AMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AMe(t){var e=dMe(t,"string");return _b(e)=="symbol"?e:e+""}function dMe(t,e){if(_b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r7=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,A;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];A="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),A+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*d[1])),A+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),A+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*d[3])),A+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);A="M ".concat(e,",").concat(n+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(n,`
            L `).concat(e+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*p,`
            L `).concat(e+r,",").concat(n+i-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r-l*p,",").concat(n+i,`
            L `).concat(e+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*p," Z")}else A="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return A},fMe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),A=Math.max(a,a+o),d=Math.min(s,s+l),f=Math.max(s,s+l);return r>=u&&r<=A&&i>=d&&i<=f}return!1},hMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xO=function(e){var n=n7(n7({},hMe),e),r=P.useRef(),i=P.useState(-1),a=aMe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&o(C)}catch{}},[]);var l=n.x,u=n.y,A=n.width,d=n.height,f=n.radius,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var b=zn("recharts-rectangle",h);return y?be.createElement(au,{canBegin:s>0,from:{width:A,height:d,x:l,y:u},to:{width:A,height:d,x:l,y:u},duration:m,animationEasing:p,isActive:y},function(C){var E=C.width,N=C.height,_=C.x,B=C.y;return be.createElement(au,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:g,easing:p},be.createElement("path",XC({},vn(n,!0),{className:b,d:r7(_,B,E,N,f),ref:r})))}):be.createElement("path",XC({},vn(n,!0),{className:b,d:r7(l,u,A,d,f)}))},pMe=["points","className","baseLinePoints","connectNulls"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function mMe(t,e){if(t==null)return{};var n=gMe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i7(t){return xMe(t)||bMe(t)||yMe(t)||vMe()}function vMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yMe(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function bMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xMe(t){if(Array.isArray(t))return mI(t)}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a7=function(e){return e&&e.x===+e.x&&e.y===+e.y},wMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){a7(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),a7(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ay=function(e,n){var r=wMe(e);n&&(r=[r.reduce(function(a,s){return[].concat(i7(a),i7(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},CMe=function(e,n,r){var i=ay(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ay(n.reverse(),r).slice(1))},SMe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=mMe(e,pMe);if(!n||!n.length)return null;var o=zn("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=CMe(n,i,a);return be.createElement("g",{className:o},be.createElement("path",bm({},vn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?be.createElement("path",bm({},vn(s,!0),{fill:"none",d:ay(n,a)})):null,l?be.createElement("path",bm({},vn(s,!0),{fill:"none",d:ay(i,a)})):null)}var A=ay(n,a);return be.createElement("path",bm({},vn(s,!0),{fill:A.slice(-1)==="Z"?s.fill:"none",className:o,d:A}))};function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gI.apply(this,arguments)}var _x=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=zn("recharts-dot",a);return n===+n&&r===+r&&i===+i?P.createElement("circle",gI({},vn(e,!1),gC(e),{className:s,cx:n,cy:r,r:i})):null};function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var EMe=["x","y","top","left","width","height","className"];function vI(){return vI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vI.apply(this,arguments)}function s7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s7(Object(n),!0).forEach(function(r){BMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BMe(t,e,n){return e=NMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NMe(t){var e=jMe(t,"string");return Bb(e)=="symbol"?e:e+""}function jMe(t,e){if(Bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TMe(t,e){if(t==null)return{};var n=IMe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kMe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},PMe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,A=e.width,d=A===void 0?0:A,f=e.height,h=f===void 0?0:f,p=e.className,m=TMe(e,EMe),v=_Me({x:r,y:a,top:o,left:u,width:d,height:h},m);return!kt(r)||!kt(a)||!kt(d)||!kt(h)||!kt(o)||!kt(u)?null:be.createElement("path",vI({},vn(v,!0),{className:zn("recharts-cross",p),d:kMe(r,a,d,h,o,u)}))},DMe=SE,OMe=CZ,FMe=Zu;function MMe(t,e){return t&&t.length?DMe(t,FMe(e),OMe):void 0}var LMe=MMe;const RMe=Rr(LMe);var UMe=SE,QMe=Zu,HMe=SZ;function zMe(t,e){return t&&t.length?UMe(t,QMe(e),HMe):void 0}var VMe=zMe;const $Me=Rr(VMe);var KMe=["cx","cy","angle","ticks","axisLine"],WMe=["ticks","tick","angle","tickFormatter","stroke"];function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function o7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l7(t,e){if(t==null)return{};var n=GMe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fee(r.key),r)}}function YMe(t,e,n){return e&&c7(t.prototype,e),n&&c7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XMe(t,e,n){return e=JC(e),JMe(t,dee()?Reflect.construct(e,n||[],JC(t).constructor):e.apply(t,n))}function JMe(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZMe(t)}function ZMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dee=function(){return!!t})()}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JC(t)}function eLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yI(t,e)}function yI(t,e){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yI(t,e)}function NE(t,e,n){return e=fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=tLe(t,"string");return Tg(e)=="symbol"?e:e+""}function tLe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jE=function(t){function e(){return qMe(this,e),XMe(this,e,arguments)}return eLe(e,t),YMe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return di(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=RMe(o,function(A){return A.coordinate||0}),u=$Me(o,function(A){return A.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,u=l7(r,KMe),A=o.reduce(function(p,m){return[Math.min(p[0],m.coordinate),Math.max(p[1],m.coordinate)]},[1/0,-1/0]),d=di(i,a,A[0],s),f=di(i,a,A[1],s),h=Qf(Qf(Qf({},vn(u,!1)),{},{fill:"none"},vn(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return be.createElement("line",sy({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,A=l7(i,WMe),d=this.getTickTextAnchor(),f=vn(A,!1),h=vn(s,!1),p=a.map(function(m,v){var g=r.getTickValueCoord(m),y=Qf(Qf(Qf(Qf({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},h),{},{index:v},g),{},{payload:m});return be.createElement(ar,sy({className:zn("recharts-polar-radius-axis-tick",JZ(s)),key:"tick-".concat(m.coordinate)},Gh(r.props,m,v)),e.renderTickItem(s,y,l?l(m.value,v):m.value))});return be.createElement(ar,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:be.createElement(ar,{className:zn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),ss.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return be.isValidElement(r)?s=be.cloneElement(r,i):Nn(r)?s=r(i):s=be.createElement(qh,sy({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(P.PureComponent);NE(jE,"displayName","PolarRadiusAxis");NE(jE,"axisType","radiusAxis");NE(jE,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function u7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u7(Object(n),!0).forEach(function(r){TE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pee(r.key),r)}}function rLe(t,e,n){return e&&A7(t.prototype,e),n&&A7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iLe(t,e,n){return e=ZC(e),aLe(t,hee()?Reflect.construct(e,n||[],ZC(t).constructor):e.apply(t,n))}function aLe(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sLe(t)}function sLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hee=function(){return!!t})()}function ZC(t){return ZC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZC(t)}function oLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bI(t,e)}function bI(t,e){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bI(t,e)}function TE(t,e,n){return e=pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=lLe(t,"string");return Ig(e)=="symbol"?e:e+""}function lLe(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cLe=Math.PI/180,d7=1e-5,IE=function(t){function e(){return nLe(this,e),iLe(this,e,arguments)}return oLe(e,t),rLe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,A=u||8,d=di(a,s,o,r.coordinate),f=di(a,s,o+(l==="inner"?-1:1)*A,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*cLe),s;return a>d7?s=i==="outer"?"start":"end":a<-d7?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,u=Hf(Hf({},vn(this.props,!1)),{},{fill:"none"},vn(o,!1));if(l==="circle")return be.createElement(_x,ih({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var A=this.props.ticks,d=A.map(function(f){return di(i,a,s,f.coordinate)});return be.createElement(SMe,ih({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,A=vn(this.props,!1),d=vn(s,!1),f=Hf(Hf({},A),{},{fill:"none"},vn(o,!1)),h=a.map(function(p,m){var v=r.getTickLineCoord(p),g=r.getTickTextAnchor(p),y=Hf(Hf(Hf({textAnchor:g},A),{},{stroke:"none",fill:u},d),{},{index:m,payload:p,x:v.x2,y:v.y2});return be.createElement(ar,ih({className:zn("recharts-polar-angle-axis-tick",JZ(s)),key:"tick-".concat(p.coordinate)},Gh(r.props,p,m)),o&&be.createElement("line",ih({className:"recharts-polar-angle-axis-tick-line"},f,v)),s&&e.renderTickItem(s,y,l?l(p.value,m):p.value))});return be.createElement(ar,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:be.createElement(ar,{className:zn("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return be.isValidElement(r)?s=be.cloneElement(r,i):Nn(r)?s=r(i):s=be.createElement(qh,ih({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(P.PureComponent);TE(IE,"displayName","PolarAngleAxis");TE(IE,"axisType","angleAxis");TE(IE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var uLe=yJ,ALe=uLe(Object.getPrototypeOf,Object),dLe=ALe,fLe=td,hLe=dLe,pLe=nd,mLe="[object Object]",gLe=Function.prototype,vLe=Object.prototype,mee=gLe.toString,yLe=vLe.hasOwnProperty,bLe=mee.call(Object);function xLe(t){if(!pLe(t)||fLe(t)!=mLe)return!1;var e=hLe(t);if(e===null)return!0;var n=yLe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mee.call(n)==bLe}var wLe=xLe;const CLe=Rr(wLe);var SLe=td,ELe=nd,_Le="[object Boolean]";function BLe(t){return t===!0||t===!1||ELe(t)&&SLe(t)==_Le}var NLe=BLe;const jLe=Rr(NLe);function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function TLe(t,e){return DLe(t)||PLe(t,e)||kLe(t,e)||ILe()}function ILe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kLe(t,e){if(t){if(typeof t=="string")return f7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f7(t,e)}}function f7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function DLe(t){if(Array.isArray(t))return t}function h7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(n),!0).forEach(function(r){OLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OLe(t,e,n){return e=FLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FLe(t){var e=MLe(t,"string");return Nb(e)=="symbol"?e:e+""}function MLe(t,e){if(Nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m7=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},LLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RLe=function(e){var n=p7(p7({},LLe),e),r=P.useRef(),i=P.useState(-1),a=TLe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var l=n.x,u=n.y,A=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||A!==+A||d!==+d||f!==+f||A===0&&d===0||f===0)return null;var y=zn("recharts-trapezoid",h);return g?be.createElement(au,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:A,lowerWidth:d,height:f,x:l,y:u},duration:m,animationEasing:p,isActive:g},function(b){var C=b.upperWidth,E=b.lowerWidth,N=b.height,_=b.x,B=b.y;return be.createElement(au,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:p},be.createElement("path",eS({},vn(n,!0),{className:y,d:m7(_,B,C,E,N),ref:r})))}):be.createElement("g",null,be.createElement("path",eS({},vn(n,!0),{className:y,d:m7(l,u,A,d,f)})))},ULe=["option","shapeType","propTransformer","activeClassName","isActive"];function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function QLe(t,e){if(t==null)return{};var n=HLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(n),!0).forEach(function(r){zLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zLe(t,e,n){return e=VLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VLe(t){var e=$Le(t,"string");return jb(e)=="symbol"?e:e+""}function $Le(t,e){if(jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KLe(t,e){return tS(tS({},e),t)}function WLe(t,e){return t==="symbols"}function v7(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return be.createElement(xO,n);case"trapezoid":return be.createElement(RLe,n);case"sector":return be.createElement(tee,n);case"symbols":if(WLe(e))return be.createElement(U3,n);break;default:return null}}function GLe(t){return P.isValidElement(t)?t.props:t}function gee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?KLe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=QLe(t,ULe),u;if(P.isValidElement(e))u=P.cloneElement(e,tS(tS({},l),GLe(e)));else if(Nn(e))u=e(l);else if(CLe(e)&&!jLe(e)){var A=i(e,l);u=be.createElement(v7,{shapeType:n,elementProps:A})}else{var d=l;u=be.createElement(v7,{shapeType:n,elementProps:d})}return o?be.createElement(ar,{className:s},u):u}function kE(t,e){return e!=null&&"trapezoids"in t.props}function PE(t,e){return e!=null&&"sectors"in t.props}function Tb(t,e){return e!=null&&"points"in t.props}function qLe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function YLe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function XLe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function JLe(t,e){var n;return kE(t,e)?n=qLe:PE(t,e)?n=YLe:Tb(t,e)&&(n=XLe),n}function ZLe(t,e){var n;return kE(t,e)?n="trapezoids":PE(t,e)?n="sectors":Tb(t,e)&&(n="points"),n}function eRe(t,e){if(kE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(PE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Tb(t,e)?e.payload:{}}function tRe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ZLe(n,e),a=eRe(n,e),s=r.filter(function(l,u){var A=Yh(a,l),d=n.props[i].filter(function(p){var m=JLe(n,e);return m(p,e)}),f=n.props[i].indexOf(d[d.length-1]),h=u===f;return A&&h}),o=r.indexOf(s[s.length-1]);return o}var a2;function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y7(Object(n),!0).forEach(function(r){cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yee(r.key),r)}}function rRe(t,e,n){return e&&b7(t.prototype,e),n&&b7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iRe(t,e,n){return e=nS(e),aRe(t,vee()?Reflect.construct(e,n||[],nS(t).constructor):e.apply(t,n))}function aRe(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sRe(t)}function sRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vee=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nS(t)}function oRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xI(t,e)}function xI(t,e){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xI(t,e)}function cc(t,e,n){return e=yee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=lRe(t,"string");return kg(e)=="symbol"?e:e+""}function lRe(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var su=function(t){function e(n){var r;return nRe(this,e),r=iRe(this,e,[n]),cc(r,"pieRef",null),cc(r,"sectorRefs",[]),cc(r,"id",hp("recharts-pie-")),cc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Nn(i)&&i()}),cc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Nn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return oRe(e,t),rRe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,A=vn(this.props,!1),d=vn(s,!1),f=vn(o,!1),h=s&&s.offsetRadius||20,p=r.map(function(m,v){var g=(m.startAngle+m.endAngle)/2,y=di(m.cx,m.cy,m.outerRadius+h,g),b=li(li(li(li({},A),m),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(y.x,m.cx)},y),C=li(li(li(li({},A),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[di(m.cx,m.cy,m.outerRadius,g),y]}),E=l;return On(l)&&On(u)?E="value":On(l)&&(E=u),be.createElement(ar,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,C,"line"),e.renderLabelItem(s,b,va(m,E)))});return be.createElement(ar,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(u,A){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(A),f=l&&i.hasActiveIndex()?l:null,h=d?s:f,p=li(li({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return be.createElement(ar,xm({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Gh(i.props,u,A),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(A)}),be.createElement(gee,xm({option:h,isActive:d,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,A=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return be.createElement(au,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(A,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var m=p.t,v=[],g=a&&a[0],y=g.startAngle;return a.forEach(function(b,C){var E=f&&f[C],N=C>0?jl(b,"paddingAngle",0):0;if(E){var _=Wa(E.endAngle-E.startAngle,b.endAngle-b.startAngle),B=li(li({},b),{},{startAngle:y+N,endAngle:y+_(m)+N});v.push(B),y=B.endAngle}else{var j=b.endAngle,D=b.startAngle,k=Wa(0,j-D),O=k(m),F=li(li({},b),{},{startAngle:y+N,endAngle:y+O+N});v.push(F),y=F.endAngle}}),be.createElement(ar,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Yh(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,A=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!s||!s.length||!kt(u)||!kt(A)||!kt(d)||!kt(f))return null;var m=zn("recharts-pie",o);return be.createElement(ar,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){r.pieRef=g}},this.renderSectors(),l&&this.renderLabels(s),ss.renderCallByParent(this.props,null,!1),(!h||p)&&$o.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(be.isValidElement(r))return be.cloneElement(r,i);if(Nn(r))return r(i);var s=zn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return be.createElement(Ih,xm({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(be.isValidElement(r))return be.cloneElement(r,i);var s=a;if(Nn(r)&&(s=r(i),be.isValidElement(s)))return s;var o=zn("recharts-pie-label-text",typeof r!="boolean"&&!Nn(r)?r.className:"");return be.createElement(qh,xm({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(P.PureComponent);a2=su;cc(su,"displayName","Pie");cc(su,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_f.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cc(su,"parseDeltaAngle",function(t,e){var n=yo(e-t),r=Math.min(Math.abs(e-t),360);return n*r});cc(su,"getRealPieData",function(t){var e=t.data,n=t.children,r=vn(t,!1),i=Tl(n,yc);return e&&e.length?e.map(function(a,s){return li(li(li({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return li(li({},r),a.props)}):[]});cc(su,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=XZ(i,a),o=r+bo(t.cx,i,i/2),l=n+bo(t.cy,a,a/2),u=bo(t.innerRadius,s,0),A=bo(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:A,maxRadius:d}});cc(su,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?li(li({},e.type.defaultProps),e.props):e.props,i=a2.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,u=r.dataKey,A=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),p=a2.parseCoordinateOfPie(r,n),m=a2.parseDeltaAngle(s,o),v=Math.abs(m),g=u;On(u)&&On(d)?(eu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):On(u)&&(eu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=d);var y=i.filter(function(B){return va(B,g,0)!==0}).length,b=(v>=360?y:y-1)*l,C=v-y*h-b,E=i.reduce(function(B,j){var D=va(j,g,0);return B+(kt(D)?D:0)},0),N;if(E>0){var _;N=i.map(function(B,j){var D=va(B,g,0),k=va(B,A,j),O=(kt(D)?D:0)/E,F;j?F=_.endAngle+yo(m)*l*(D!==0?1:0):F=s;var H=F+yo(m)*((D!==0?h:0)+O*C),Y=(F+H)/2,q=(p.innerRadius+p.outerRadius)/2,Z=[{name:k,value:D,payload:B,dataKey:g,type:f}],W=di(p.cx,p.cy,q,Y);return _=li(li(li({percent:O,cornerRadius:a,name:k,tooltipPayload:Z,midAngle:Y,middleRadius:q,tooltipPosition:W},B),p),{},{value:va(B,g),startAngle:F,endAngle:H,payload:B,paddingAngle:yo(m)*l}),_})}return li(li({},p),{},{sectors:N,data:i})});var cRe=Math.ceil,uRe=Math.max;function ARe(t,e,n,r){for(var i=-1,a=uRe(cRe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var dRe=ARe,fRe=LJ,x7=1/0,hRe=17976931348623157e292;function pRe(t){if(!t)return t===0?t:0;if(t=fRe(t),t===x7||t===-x7){var e=t<0?-1:1;return e*hRe}return t===t?t:0}var bee=pRe,mRe=dRe,gRe=gE,XB=bee;function vRe(t){return function(e,n,r){return r&&typeof r!="number"&&gRe(e,n,r)&&(n=r=void 0),e=XB(e),n===void 0?(n=e,e=0):n=XB(n),r=r===void 0?e<n?1:-1:XB(r),mRe(e,n,r,t)}}var yRe=vRe,bRe=yRe,xRe=bRe(),wRe=xRe;const rS=Rr(wRe);function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function w7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(n),!0).forEach(function(r){xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e,n){return e=CRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CRe(t){var e=SRe(t,"string");return Ib(e)=="symbol"?e:e+""}function SRe(t,e){if(Ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ERe=["Webkit","Moz","O","ms"],_Re=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ERe.reduce(function(a,s){return C7(C7({},a),{},xee({},s+r,n))},{});return i[e]=n,i};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(this,arguments)}function S7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(n),!0).forEach(function(r){yl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cee(r.key),r)}}function NRe(t,e,n){return e&&E7(t.prototype,e),n&&E7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jRe(t,e,n){return e=aS(e),TRe(t,wee()?Reflect.construct(e,n||[],aS(t).constructor):e.apply(t,n))}function TRe(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(t)}function IRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function aS(t){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aS(t)}function kRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wI(t,e)}function wI(t,e){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wI(t,e)}function yl(t,e,n){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=PRe(t,"string");return Pg(e)=="symbol"?e:e+""}function PRe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DRe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ny().domain(rS(0,l)).range([a,a+s-o]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:A}},_7=function(e){return e.changedTouches&&!!e.changedTouches.length},Dg=function(t){function e(n){var r;return BRe(this,e),r=jRe(this,e,[n]),yl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),yl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),yl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),yl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),yl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),yl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),yl(r,"handleSlideDragStart",function(i){var a=_7(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return kRe(e,t),NRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,A=u.length-1,d=Math.min(i,a),f=Math.max(i,a),h=e.getIndexInRange(s,d),p=e.getIndexInRange(s,f);return{startIndex:h-h%l,endIndex:p===A?A:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=va(a[r],o,r);return Nn(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,A=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,p=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,u+A-d-o,u+A-d-s):m<0&&(m=Math.max(m,u-s,u-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==f||v.endIndex!==h)&&p&&p(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=_7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],A=this.props,d=A.x,f=A.width,h=A.travellerWidth,p=A.onChange,m=A.gap,v=A.data,g={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,d+f-h-u):y<0&&(y=Math.max(y,d-u)),g[s]=u+y;var b=this.getIndex(g),C=b.startIndex,E=b.endIndex,N=function(){var B=v.length-1;return s==="startX"&&(o>l?C%m===0:E%m===0)||o<l&&E===B||s==="endX"&&(o>l?E%m===0:C%m===0)||o>l&&E===B};this.setState(yl(yl({},s,u+y),"brushMoveStartX",r.pageX),function(){p&&N()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,A=this.state[i],d=o.indexOf(A);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var h=o[f];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(yl({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return be.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,A=r.padding,d=P.Children.only(u);return d?be.cloneElement(d,{x:i,y:a,width:s,height:o,margin:A,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,A=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,p=l.data,m=l.startIndex,v=l.endIndex,g=Math.max(r,this.props.x),y=JB(JB({},vn(this.props,!1)),{},{x:g,y:u,width:A,height:d}),b=h||"Min value: ".concat((a=p[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=p[v])===null||s===void 0?void 0:s.name);return be.createElement(ar,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,A=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:A,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,A=this.state,d=A.startX,f=A.endX,h=5,p={pointerEvents:"none",fill:u};return be.createElement(ar,{className:"recharts-brush-texts"},be.createElement(qh,iS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:s+o/2},p),this.getTextOfTick(i)),be.createElement(qh,iS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:s+o/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,A=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,p=f.endX,m=f.isTextActive,v=f.isSlideMoving,g=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!kt(o)||!kt(l)||!kt(u)||!kt(A)||u<=0||A<=0)return null;var b=zn("recharts-brush",a),C=be.Children.count(s)===1,E=_Re("userSelect","none");return be.createElement(ar,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(m||v||g||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return be.createElement(be.Fragment,null,be.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),be.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),be.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return be.isValidElement(r)?a=be.cloneElement(r,i):Nn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,A=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return JB({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?DRe({data:a,width:s,x:o,travellerWidth:l,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(P.PureComponent);yl(Dg,"displayName","Brush");yl(Dg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ORe=W3;function FRe(t,e){var n;return ORe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var MRe=FRe,LRe=AJ,RRe=Zu,URe=MRe,QRe=Yo,HRe=gE;function zRe(t,e,n){var r=QRe(t)?LRe:URe;return n&&HRe(t,e,n)&&(e=void 0),r(t,RRe(e))}var VRe=zRe;const $Re=Rr(VRe);var zu=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},B7=PJ;function KRe(t,e,n){e=="__proto__"&&B7?B7(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var WRe=KRe,GRe=WRe,qRe=IJ,YRe=Zu;function XRe(t,e){var n={};return e=YRe(e),qRe(t,function(r,i,a){GRe(n,i,e(r,i,a))}),n}var JRe=XRe;const ZRe=Rr(JRe);function e6e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var t6e=e6e,n6e=W3;function r6e(t,e){var n=!0;return n6e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var i6e=r6e,a6e=t6e,s6e=i6e,o6e=Zu,l6e=Yo,c6e=gE;function u6e(t,e,n){var r=l6e(t)?a6e:s6e;return n&&c6e(t,e,n)&&(e=void 0),r(t,o6e(e))}var A6e=u6e;const See=Rr(A6e);var d6e=["x","y"];function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CI.apply(this,arguments)}function N7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(n),!0).forEach(function(r){f6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f6e(t,e,n){return e=h6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h6e(t){var e=p6e(t,"string");return kb(e)=="symbol"?e:e+""}function p6e(t,e){if(kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m6e(t,e){if(t==null)return{};var n=g6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v6e(t,e){var n=t.x,r=t.y,i=m6e(t,d6e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),A=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return rv(rv(rv(rv(rv({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:A,width:f,name:e.name,radius:e.radius})}function j7(t){return be.createElement(gee,CI({shapeType:"rectangle",propTransformer:v6e,activeClassName:"recharts-active-bar"},t))}var y6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=kt(r)||Vwe(r);return a?e(r,i):(a||Jh(),n)}},b6e=["value","background"],Eee;function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function x6e(t,e){if(t==null)return{};var n=w6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function T7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(n),!0).forEach(function(r){Md(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bee(r.key),r)}}function S6e(t,e,n){return e&&I7(t.prototype,e),n&&I7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E6e(t,e,n){return e=oS(e),_6e(t,_ee()?Reflect.construct(e,n||[],oS(t).constructor):e.apply(t,n))}function _6e(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B6e(t)}function B6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ee=function(){return!!t})()}function oS(t){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oS(t)}function N6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SI(t,e)}function SI(t,e){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SI(t,e)}function Md(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=j6e(t,"string");return Og(e)=="symbol"?e:e+""}function j6e(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xa=function(t){function e(){var n;C6e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=E6e(this,e,[].concat(i)),Md(n,"state",{isAnimationFinished:!1}),Md(n,"id",hp("recharts-bar-")),Md(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Md(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return N6e(e,t),S6e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,A=vn(this.props,!1);return r&&r.map(function(d,f){var h=f===l,p=h?u:s,m=Ba(Ba(Ba({},A),d),{},{isActive:h,option:p,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return be.createElement(ar,sS({className:"recharts-bar-rectangle"},Gh(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),be.createElement(j7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,A=i.animationEasing,d=i.animationId,f=this.state.prevData;return be.createElement(au,{begin:l,duration:u,isActive:o,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=a.map(function(v,g){var y=f&&f[g];if(y){var b=Wa(y.x,v.x),C=Wa(y.y,v.y),E=Wa(y.width,v.width),N=Wa(y.height,v.height);return Ba(Ba({},v),{},{x:b(p),y:C(p),width:E(p),height:N(p)})}if(s==="horizontal"){var _=Wa(0,v.height),B=_(p);return Ba(Ba({},v),{},{y:v.y+v.height-B,height:B})}var j=Wa(0,v.width),D=j(p);return Ba(Ba({},v),{},{width:D})});return be.createElement(ar,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Yh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=vn(this.props.background,!1);return a.map(function(u,A){u.value;var d=u.background,f=x6e(u,b6e);if(!d)return null;var h=Ba(Ba(Ba(Ba(Ba({},f),{},{fill:"#eee"},d),l),Gh(r.props,u,A)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:A,className:"recharts-bar-background-rectangle"});return be.createElement(j7,sS({key:"background-bar-".concat(A),option:r.props.background,isActive:A===o},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,A=a.children,d=Tl(A,Ex);if(!d)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,h=function(v,g){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:va(v,g)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ar,p,d.map(function(m){return be.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,A=r.top,d=r.width,f=r.height,h=r.isAnimationActive,p=r.background,m=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=zn("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,C=y||b,E=On(m)?this.id:m;return be.createElement(ar,{className:g},y||b?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(E)},be.createElement("rect",{x:y?u:u-d/2,y:b?A:A-f/2,width:y?d:d*2,height:b?f:f*2}))):null,be.createElement(ar,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!h||v)&&$o.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);Eee=Xa;Md(Xa,"displayName","Bar");Md(Xa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_f.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Md(Xa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,f=t.offset,h=l3e(r,n);if(!h)return null;var p=e.layout,m=n.type.defaultProps,v=m!==void 0?Ba(Ba({},m),n.props):n.props,g=v.dataKey,y=v.children,b=v.minPointSize,C=p==="horizontal"?s:a,E=u?C.scale.domain():null,N=p3e({numericAxis:C}),_=Tl(y,yc),B=d.map(function(j,D){var k,O,F,H,Y,q;u?k=c3e(u[A+D],E):(k=va(j,g),Array.isArray(k)||(k=[N,k]));var Z=y6e(b,Eee.defaultProps.minPointSize)(k[1],D);if(p==="horizontal"){var W,oe=[s.scale(k[0]),s.scale(k[1])],te=oe[0],ue=oe[1];O=bQ({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:j,index:D}),F=(W=ue??te)!==null&&W!==void 0?W:void 0,H=h.size;var R=te-ue;if(Y=Number.isNaN(R)?0:R,q={x:O,y:s.y,width:H,height:s.height},Math.abs(Z)>0&&Math.abs(Y)<Math.abs(Z)){var $=yo(Y||Z)*(Math.abs(Z)-Math.abs(Y));F-=$,Y+=$}}else{var J=[a.scale(k[0]),a.scale(k[1])],ne=J[0],he=J[1];if(O=ne,F=bQ({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:j,index:D}),H=he-ne,Y=h.size,q={x:a.x,y:F,width:a.width,height:Y},Math.abs(Z)>0&&Math.abs(H)<Math.abs(Z)){var Se=yo(H||Z)*(Math.abs(Z)-Math.abs(H));H+=Se}}return Ba(Ba(Ba({},j),{},{x:O,y:F,width:H,height:Y,value:u?k:k[1],payload:j,background:q},_&&_[D]&&_[D].props),{},{tooltipPayload:[qZ(n,j)],tooltipPosition:{x:O+H/2,y:F+Y/2}})});return Ba({data:B,layout:p},f)});function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function T6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nee(r.key),r)}}function I6e(t,e,n){return e&&k7(t.prototype,e),n&&k7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(n),!0).forEach(function(r){DE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DE(t,e,n){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=k6e(t,"string");return Pb(e)=="symbol"?e:e+""}function k6e(t,e){if(Pb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wO=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,A=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!xl(u,Xa);return A.reduce(function(h,p){var m=n[p],v=m.orientation,g=m.domain,y=m.padding,b=y===void 0?{}:y,C=m.mirror,E=m.reversed,N="".concat(v).concat(C?"Mirror":""),_,B,j,D,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=g[1]-g[0],F=1/0,H=m.categoricalDomain.sort(Wwe);if(H.forEach(function(J,ne){ne>0&&(F=Math.min((J||0)-(H[ne-1]||0),F))}),Number.isFinite(F)){var Y=F/O,q=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(_=Y*q/2),m.padding==="no-gap"){var Z=bo(e.barCategoryGap,Y*q),W=Y*q/2;_=W-Z-(W-Z)/q*Z}}}i==="xAxis"?B=[r.left+(b.left||0)+(_||0),r.left+r.width-(b.right||0)-(_||0)]:i==="yAxis"?B=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(_||0),r.top+r.height-(b.bottom||0)-(_||0)]:B=m.range,E&&(B=[B[1],B[0]]);var oe=$Z(m,a,f),te=oe.scale,ue=oe.realScaleType;te.domain(g).range(B),KZ(te);var R=WZ(te,Wc(Wc({},m),{},{realScaleType:ue}));i==="xAxis"?(k=v==="top"&&!C||v==="bottom"&&C,j=r.left,D=d[N]-k*m.height):i==="yAxis"&&(k=v==="left"&&!C||v==="right"&&C,j=d[N]-k*m.width,D=r.top);var $=Wc(Wc(Wc({},m),R),{},{realScaleType:ue,x:j,y:D,scale:te,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return $.bandSize=$C($,R),!m.hide&&i==="xAxis"?d[N]+=(k?-1:1)*$.height:m.hide||(d[N]+=(k?-1:1)*$.width),Wc(Wc({},h),{},DE({},p,$))},{})},jee=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},P6e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return jee({x:n,y:r},{x:i,y:a})},Tee=function(){function t(e){T6e(this,t),this.scale=e}return I6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();DE(Tee,"EPS",1e-4);var CO=function(e){var n=Object.keys(e).reduce(function(r,i){return Wc(Wc({},r),{},DE({},i,Tee.create(e[i])))},{});return Wc(Wc({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return ZRe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return See(i,function(a,s){return n[s].isInRange(a)})}})};function D6e(t){return(t%180+180)%180}var O6e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=D6e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},F6e=Zu,M6e=bx,L6e=pE;function R6e(t){return function(e,n,r){var i=Object(e);if(!M6e(e)){var a=F6e(n);e=L6e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var U6e=R6e,Q6e=bee;function H6e(t){var e=Q6e(t),n=e%1;return e===e?n?e-n:e:0}var z6e=H6e,V6e=EJ,$6e=Zu,K6e=z6e,W6e=Math.max;function G6e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:K6e(n);return i<0&&(i=W6e(r+i,0)),V6e(t,$6e(e),i)}var q6e=G6e,Y6e=U6e,X6e=q6e,J6e=Y6e(X6e),Z6e=J6e;const eUe=Rr(Z6e);var tUe=Y1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),SO=P.createContext(void 0),EO=P.createContext(void 0),Iee=P.createContext(void 0),kee=P.createContext({}),Pee=P.createContext(void 0),Dee=P.createContext(0),Oee=P.createContext(0),D7=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,A=tUe(a);return be.createElement(SO.Provider,{value:r},be.createElement(EO.Provider,{value:i},be.createElement(kee.Provider,{value:a},be.createElement(Iee.Provider,{value:A},be.createElement(Pee.Provider,{value:s},be.createElement(Dee.Provider,{value:u},be.createElement(Oee.Provider,{value:l},o)))))))},nUe=function(){return P.useContext(Pee)},Fee=function(e){var n=P.useContext(SO);n==null&&Jh();var r=n[e];return r==null&&Jh(),r},rUe=function(){var e=P.useContext(SO);return Id(e)},iUe=function(){var e=P.useContext(EO),n=eUe(e,function(r){return See(r.domain,Number.isFinite)});return n||Id(e)},Mee=function(e){var n=P.useContext(EO);n==null&&Jh();var r=n[e];return r==null&&Jh(),r},aUe=function(){var e=P.useContext(Iee);return e},sUe=function(){return P.useContext(kee)},_O=function(){return P.useContext(Oee)},BO=function(){return P.useContext(Dee)};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function oUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ree(r.key),r)}}function cUe(t,e,n){return e&&lUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uUe(t,e,n){return e=lS(e),AUe(t,Lee()?Reflect.construct(e,n||[],lS(t).constructor):e.apply(t,n))}function AUe(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dUe(t)}function dUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lee=function(){return!!t})()}function lS(t){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lS(t)}function fUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EI(t,e)}function O7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(n),!0).forEach(function(r){NO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NO(t,e,n){return e=Ree(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=hUe(t,"string");return Fg(e)=="symbol"?e:e+""}function hUe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pUe(t,e){return yUe(t)||vUe(t,e)||gUe(t,e)||mUe()}function mUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gUe(t,e){if(t){if(typeof t=="string")return M7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M7(t,e)}}function M7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function yUe(t){if(Array.isArray(t))return t}function _I(){return _I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_I.apply(this,arguments)}var bUe=function(e,n){var r;return be.isValidElement(e)?r=be.cloneElement(e,n):Nn(e)?r=e(n):r=be.createElement("line",_I({},n,{className:"recharts-reference-line-line"})),r},xUe=function(e,n,r,i,a,s,o,l,u){var A=a.x,d=a.y,f=a.width,h=a.height;if(r){var p=u.y,m=e.y.apply(p,{position:s});if(zu(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:A+f,y:m},{x:A,y:m}];return l==="left"?v.reverse():v}if(n){var g=u.x,y=e.x.apply(g,{position:s});if(zu(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:d+h},{x:y,y:d}];return o==="top"?b.reverse():b}if(i){var C=u.segment,E=C.map(function(N){return e.apply(N,{position:s})});return zu(u,"discard")&&$Re(E,function(N){return!e.isInRange(N)})?null:E}return null};function wUe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=nUe(),A=Fee(i),d=Mee(a),f=aUe();if(!u||!f)return null;eu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=CO({x:A.scale,y:d.scale}),p=Ya(e),m=Ya(n),v=r&&r.length===2,g=xUe(h,p,m,v,f,t.position,A.orientation,d.orientation,t);if(!g)return null;var y=pUe(g,2),b=y[0],C=b.x,E=b.y,N=y[1],_=N.x,B=N.y,j=zu(t,"hidden")?"url(#".concat(u,")"):void 0,D=F7(F7({clipPath:j},vn(t,!0)),{},{x1:C,y1:E,x2:_,y2:B});return be.createElement(ar,{className:zn("recharts-reference-line",o)},bUe(s,D),ss.renderCallByParent(t,P6e({x1:C,y1:E,x2:_,y2:B})))}var S0=function(t){function e(){return oUe(this,e),uUe(this,e,arguments)}return fUe(e,t),cUe(e,[{key:"render",value:function(){return be.createElement(wUe,this.props)}}])}(be.Component);NO(S0,"displayName","ReferenceLine");NO(S0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BI.apply(this,arguments)}function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function L7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(n),!0).forEach(function(r){OE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qee(r.key),r)}}function EUe(t,e,n){return e&&SUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ue(t,e,n){return e=cS(e),BUe(t,Uee()?Reflect.construct(e,n||[],cS(t).constructor):e.apply(t,n))}function BUe(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NUe(t)}function NUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!t})()}function cS(t){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cS(t)}function jUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NI(t,e)}function NI(t,e){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NI(t,e)}function OE(t,e,n){return e=Qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t){var e=TUe(t,"string");return Mg(e)=="symbol"?e:e+""}function TUe(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IUe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=CO({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return zu(e,"discard")&&!s.isInRange(o)?null:o},FE=function(t){function e(){return CUe(this,e),_Ue(this,e,arguments)}return jUe(e,t),EUe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=Ya(i),A=Ya(a);if(eu(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=IUe(this.props);if(!d)return null;var f=d.x,h=d.y,p=this.props,m=p.shape,v=p.className,g=zu(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=R7(R7({clipPath:g},vn(this.props,!0)),{},{cx:f,cy:h});return be.createElement(ar,{className:zn("recharts-reference-dot",v)},e.renderDot(m,y),ss.renderCallByParent(this.props,{x:f-s,y:h-s,width:2*s,height:2*s}))}}])}(be.Component);OE(FE,"displayName","ReferenceDot");OE(FE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});OE(FE,"renderDot",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Nn(t)?n=t(e):n=be.createElement(_x,BI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jI.apply(this,arguments)}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zee(r.key),r)}}function DUe(t,e,n){return e&&PUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OUe(t,e,n){return e=uS(e),FUe(t,Hee()?Reflect.construct(e,n||[],uS(t).constructor):e.apply(t,n))}function FUe(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MUe(t)}function MUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hee=function(){return!!t})()}function uS(t){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uS(t)}function LUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TI(t,e)}function ME(t,e,n){return e=zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=RUe(t,"string");return Lg(e)=="symbol"?e:e+""}function RUe(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UUe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,A=a.xAxis,d=a.yAxis;if(!A||!d)return null;var f=CO({x:A.scale,y:d.scale}),h={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return zu(a,"discard")&&(!f.isInRange(h)||!f.isInRange(p))?null:jee(h,p)},LE=function(t){function e(){return kUe(this,e),OUe(this,e,arguments)}return LUe(e,t),DUe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,A=r.clipPathId;eu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ya(i),f=Ya(a),h=Ya(s),p=Ya(o),m=this.props.shape;if(!d&&!f&&!h&&!p&&!m)return null;var v=UUe(d,f,h,p,this.props);if(!v&&!m)return null;var g=zu(this.props,"hidden")?"url(#".concat(A,")"):void 0;return be.createElement(ar,{className:zn("recharts-reference-area",l)},e.renderRect(m,Q7(Q7({clipPath:g},vn(this.props,!0)),v)),ss.renderCallByParent(this.props,v))}}])}(be.Component);ME(LE,"displayName","ReferenceArea");ME(LE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ME(LE,"renderRect",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Nn(t)?n=t(e):n=be.createElement(xO,jI({},e,{className:"recharts-reference-area-rect"})),n});function Vee(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function QUe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return O6e(r,n)}function HUe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function AS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function zUe(t,e){return Vee(t,e+1)}function VUe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,A=s,d=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:Vee(r,u)};var m=l,v,g=function(){return v===void 0&&(v=n(p,m)),v},y=p.coordinate,b=l===0||AS(t,y,g,A,o);b||(l=0,A=s,u+=1),b&&(A=y+t*(g()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function H7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H7(Object(n),!0).forEach(function(r){$Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ue(t,e,n){return e=KUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KUe(t){var e=WUe(t,"string");return Db(e)=="symbol"?e:e+""}function WUe(t,e){if(Db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GUe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(f){var h=a[f],p,m=function(){return p===void 0&&(p=n(h,f)),p};if(f===s-1){var v=t*(h.coordinate+t*m()/2-l);a[f]=h=Js(Js({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[f]=h=Js(Js({},h),{},{tickCoord:h.coordinate});var g=AS(t,h.tickCoord,m,o,l);g&&(l=h.tickCoord-t*(m()/2+i),a[f]=Js(Js({},h),{},{isShow:!0}))},A=s-1;A>=0;A--)u(A);return a}function qUe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var A=r[o-1],d=n(A,o-1),f=t*(A.coordinate+t*d/2-u);s[o-1]=A=Js(Js({},A),{},{tickCoord:f>0?A.coordinate-f*t:A.coordinate});var h=AS(t,A.tickCoord,function(){return d},l,u);h&&(u=A.tickCoord-t*(d/2+i),s[o-1]=Js(Js({},A),{},{isShow:!0}))}for(var p=a?o-1:o,m=function(y){var b=s[y],C,E=function(){return C===void 0&&(C=n(b,y)),C};if(y===0){var N=t*(b.coordinate-t*E()/2-l);s[y]=b=Js(Js({},b),{},{tickCoord:N<0?b.coordinate-N*t:b.coordinate})}else s[y]=b=Js(Js({},b),{},{tickCoord:b.coordinate});var _=AS(t,b.tickCoord,E,l,u);_&&(l=b.tickCoord+t*(E()/2+i),s[y]=Js(Js({},b),{},{isShow:!0}))},v=0;v<p;v++)m(v);return s}function jO(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(kt(l)||_f.isSsr)return zUe(i,typeof l=="number"&&kt(l)?l:0);var f=[],h=o==="top"||o==="bottom"?"width":"height",p=A&&h==="width"?ty(A,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(b,C){var E=Nn(u)?u(b.value,C):b.value;return h==="width"?QUe(ty(E,{fontSize:e,letterSpacing:n}),p,d):ty(E,{fontSize:e,letterSpacing:n})[h]},v=i.length>=2?yo(i[1].coordinate-i[0].coordinate):1,g=HUe(a,v,h);return l==="equidistantPreserveStart"?VUe(v,g,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=qUe(v,g,m,i,s,l==="preserveStartEnd"):f=GUe(v,g,m,i,s),f.filter(function(y){return y.isShow}))}var YUe=["viewBox"],XUe=["viewBox"],JUe=["ticks"];function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(n),!0).forEach(function(r){TO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZB(t,e){if(t==null)return{};var n=ZUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kee(r.key),r)}}function t8e(t,e,n){return e&&V7(t.prototype,e),n&&V7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n8e(t,e,n){return e=dS(e),r8e(t,$ee()?Reflect.construct(e,n||[],dS(t).constructor):e.apply(t,n))}function r8e(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i8e(t)}function i8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ee=function(){return!!t})()}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dS(t)}function a8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&II(t,e)}function II(t,e){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},II(t,e)}function TO(t,e,n){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=s8e(t,"string");return Rg(e)=="symbol"?e:e+""}function s8e(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E0=function(t){function e(n){var r;return e8e(this,e),r=n8e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return a8e(e,t),t8e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=ZB(r,YUe),o=this.props,l=o.viewBox,u=ZB(o,XUe);return!Mm(a,l)||!Mm(s,u)||!Mm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,A=i.tickSize,d=i.mirror,f=i.tickMargin,h,p,m,v,g,y,b=d?-1:1,C=r.tickSize||A,E=kt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=p=r.coordinate,v=s+ +!d*l,m=v-b*C,y=m-b*f,g=E;break;case"left":m=v=r.coordinate,p=a+ +!d*o,h=p-b*C,g=h-b*f,y=E;break;case"right":m=v=r.coordinate,p=a+ +d*o,h=p+b*C,g=h+b*f,y=E;break;default:h=p=r.coordinate,v=s+ +d*l,m=v+b*C,y=m+b*f,g=E;break}return{line:{x1:h,y1:m,x2:p,y2:v},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,A=r.axisLine,d=za(za(za({},vn(this.props,!1)),vn(A,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=za(za({},d),{},{x1:i,y1:a+f*o,x2:i+s,y2:a+f*o})}else{var h=+(l==="left"&&!u||l==="right"&&u);d=za(za({},d),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return be.createElement("line",wm({},d,{className:zn("recharts-cartesian-axis-line",jl(A,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,A=o.tick,d=o.tickFormatter,f=o.unit,h=jO(za(za({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=vn(this.props,!1),g=vn(A,!1),y=za(za({},v),{},{fill:"none"},vn(l,!1)),b=h.map(function(C,E){var N=s.getTickLineCoord(C),_=N.line,B=N.tick,j=za(za(za(za({textAnchor:p,verticalAnchor:m},v),{},{stroke:"none",fill:u},g),B),{},{index:E,payload:C,visibleTicksCount:h.length,tickFormatter:d});return be.createElement(ar,wm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Gh(s.props,C,E)),l&&be.createElement("line",wm({},y,_,{className:zn("recharts-cartesian-axis-tick-line",jl(l,"className"))})),A&&e.renderTickItem(A,j,"".concat(Nn(d)?d(C.value,E):C.value).concat(f||"")))});return be.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,A=i.hide;if(A)return null;var d=this.props,f=d.ticks,h=ZB(d,JUe),p=f;return Nn(l)&&(p=f&&f.length>0?l(this.props):l(h)),s<=0||o<=0||!p||!p.length?null:be.createElement(ar,{className:zn("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),ss.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=zn(i.className,"recharts-cartesian-axis-tick-value");return be.isValidElement(r)?s=be.cloneElement(r,za(za({},i),{},{className:o})):Nn(r)?s=r(za(za({},i),{},{className:o})):s=be.createElement(qh,wm({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(P.Component);TO(E0,"displayName","CartesianAxis");TO(E0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var o8e=["x1","y1","x2","y2","key"],l8e=["offset"];function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function $7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(n),!0).forEach(function(r){c8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c8e(t,e,n){return e=u8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8e(t){var e=A8e(t,"string");return Zh(e)=="symbol"?e:e+""}function A8e(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}function K7(t,e){if(t==null)return{};var n=d8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var f8e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return be.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Wee(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Nn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=K7(e,o8e),u=vn(l,!1);u.offset;var A=K7(u,l8e);n=be.createElement("line",gh({},A,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function h8e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=ro(ro({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Wee(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function p8e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=ro(ro({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Wee(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function m8e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var A=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==A[0]&&A.unshift(0);var d=A.map(function(f,h){var p=!A[h+1],m=p?i+s-f:A[h+1]-f;if(m<=0)return null;var v=h%e.length;return be.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function g8e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var A=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==A[0]&&A.unshift(0);var d=A.map(function(f,h){var p=!A[h+1],m=p?a+o-f:A[h+1]-f;if(m<=0)return null;var v=h%r.length;return be.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var v8e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return VZ(jO(ro(ro(ro({},E0.defaultProps),r),{},{ticks:NA(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},y8e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return VZ(jO(ro(ro(ro({},E0.defaultProps),r),{},{ticks:NA(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},kp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Bc(t){var e,n,r,i,a,s,o=_O(),l=BO(),u=sUe(),A=ro(ro({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:kp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:kp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:kp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:kp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:kp.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:kp.verticalFill,x:kt(t.x)?t.x:u.left,y:kt(t.y)?t.y:u.top,width:kt(t.width)?t.width:u.width,height:kt(t.height)?t.height:u.height}),d=A.x,f=A.y,h=A.width,p=A.height,m=A.syncWithTicks,v=A.horizontalValues,g=A.verticalValues,y=rUe(),b=iUe();if(!kt(h)||h<=0||!kt(p)||p<=0||!kt(d)||d!==+d||!kt(f)||f!==+f)return null;var C=A.verticalCoordinatesGenerator||v8e,E=A.horizontalCoordinatesGenerator||y8e,N=A.horizontalPoints,_=A.verticalPoints;if((!N||!N.length)&&Nn(E)){var B=v&&v.length,j=E({yAxis:b?ro(ro({},b),{},{ticks:B?v:b.ticks}):void 0,width:o,height:l,offset:u},B?!0:m);eu(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zh(j),"]")),Array.isArray(j)&&(N=j)}if((!_||!_.length)&&Nn(C)){var D=g&&g.length,k=C({xAxis:y?ro(ro({},y),{},{ticks:D?g:y.ticks}):void 0,width:o,height:l,offset:u},D?!0:m);eu(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zh(k),"]")),Array.isArray(k)&&(_=k)}return be.createElement("g",{className:"recharts-cartesian-grid"},be.createElement(f8e,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),be.createElement(h8e,gh({},A,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),be.createElement(p8e,gh({},A,{offset:u,verticalPoints:_,xAxis:y,yAxis:b})),be.createElement(m8e,gh({},A,{horizontalPoints:N})),be.createElement(g8e,gh({},A,{verticalPoints:_})))}Bc.displayName="CartesianGrid";var b8e=["type","layout","connectNulls","ref"],x8e=["key"];function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function W7(t,e){if(t==null)return{};var n=w8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function G7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(n),!0).forEach(function(r){Gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pp(t){return _8e(t)||E8e(t)||S8e(t)||C8e()}function C8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8e(t,e){if(t){if(typeof t=="string")return kI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kI(t,e)}}function E8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _8e(t){if(Array.isArray(t))return kI(t)}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qee(r.key),r)}}function N8e(t,e,n){return e&&q7(t.prototype,e),n&&q7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j8e(t,e,n){return e=fS(e),T8e(t,Gee()?Reflect.construct(e,n||[],fS(t).constructor):e.apply(t,n))}function T8e(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8e(t)}function I8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gee=function(){return!!t})()}function fS(t){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fS(t)}function k8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PI(t,e)}function PI(t,e){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PI(t,e)}function Gc(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=P8e(t,"string");return Ug(e)=="symbol"?e:e+""}function P8e(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ou=function(t){function e(){var n;B8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=j8e(this,e,[].concat(i)),Gc(n,"state",{isAnimationFinished:!0,totalLength:0}),Gc(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Gc(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(g,y){return g+y});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var A=Math.floor(s/u),d=s%u,f=o-s,h=[],p=0,m=0;p<l.length;m+=l[p],++p)if(m+l[p]>d){h=[].concat(Pp(l.slice(0,p)),[d-m]);break}var v=h.length%2===0?[0,f]:[f];return[].concat(Pp(e.repeat(l,A)),Pp(h),v).map(function(g){return"".concat(g,"px")}).join(", ")}),Gc(n,"id",hp("recharts-line-")),Gc(n,"pathRef",function(s){n.mainCurve=s}),Gc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Gc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return k8e(e,t),N8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,A=a.children,d=Tl(A,Ex);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:va(m.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ar,h,d.map(function(p){return be.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,A=o.dataKey,d=vn(this.props,!1),f=vn(l,!0),h=u.map(function(m,v){var g=gl(gl(gl({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:A,payload:m.payload,points:u});return e.renderDotItem(l,g)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return be.createElement(ar,oy({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,A=o.connectNulls;o.ref;var d=W7(o,b8e),f=gl(gl(gl({},vn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:A});return be.createElement(Ih,oy({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,A=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=s.animateNewValues,m=s.width,v=s.height,g=this.state,y=g.prevPoints,b=g.totalLength;return be.createElement(au,{begin:A,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(y){var N=y.length/o.length,_=o.map(function(O,F){var H=Math.floor(F*N);if(y[H]){var Y=y[H],q=Wa(Y.x,O.x),Z=Wa(Y.y,O.y);return gl(gl({},O),{},{x:q(E),y:Z(E)})}if(p){var W=Wa(m*2,O.x),oe=Wa(v/2,O.y);return gl(gl({},O),{},{x:W(E),y:oe(E)})}return gl(gl({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(_,r,i)}var B=Wa(0,b),j=B(E),D;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});D=a.getStrokeDasharray(j,b,k)}else D=a.generateSimpleStrokeDasharray(b,j);return a.renderCurveStatically(o,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,A=l.totalLength;return o&&s&&s.length&&(!u&&A>0||!Yh(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,A=i.yAxis,d=i.top,f=i.left,h=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=o.length===1,b=zn("recharts-line",l),C=u&&u.allowDataOverflow,E=A&&A.allowDataOverflow,N=C||E,_=On(v)?this.id:v,B=(r=vn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=B.r,D=j===void 0?3:j,k=B.strokeWidth,O=k===void 0?2:k,F=FX(s)?s:{},H=F.clipDot,Y=H===void 0?!0:H,q=D*2+O;return be.createElement(ar,{className:b},C||E?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:C?f:f-h/2,y:E?d:d-p/2,width:C?h:h*2,height:E?p:p*2})),!Y&&be.createElement("clipPath",{id:"clipPath-dots-".concat(_)},be.createElement("rect",{x:f-q/2,y:d-q/2,width:h+q,height:p+q}))):null,!y&&this.renderCurve(N,_),this.renderErrorBar(N,_),(y||s)&&this.renderDots(N,Y,_),(!m||g)&&$o.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Pp(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Pp(s),Pp(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(be.isValidElement(r))a=be.cloneElement(r,i);else if(Nn(r))a=r(i);else{var s=i.key,o=W7(i,x8e),l=zn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=be.createElement(_x,oy({key:s},o,{className:l}))}return a}}])}(P.PureComponent);Gc(ou,"displayName","Line");Gc(ou,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_f.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gc(ou,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,A=e.layout,d=l.map(function(f,h){var p=va(f,s);return A==="horizontal"?{x:VC({axis:n,ticks:i,bandSize:o,entry:f,index:h}),y:On(p)?null:r.scale(p),value:p,payload:f}:{x:On(p)?null:n.scale(p),y:VC({axis:r,ticks:a,bandSize:o,entry:f,index:h}),value:p,payload:f}});return gl({points:d,layout:A},u)});var D8e=["layout","type","stroke","connectNulls","isRange","ref"],O8e=["key"],Yee;function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function Xee(t,e){if(t==null)return{};var n=F8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}function Y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y7(Object(n),!0).forEach(function(r){Pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zee(r.key),r)}}function L8e(t,e,n){return e&&X7(t.prototype,e),n&&X7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R8e(t,e,n){return e=hS(e),U8e(t,Jee()?Reflect.construct(e,n||[],hS(t).constructor):e.apply(t,n))}function U8e(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q8e(t)}function Q8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jee=function(){return!!t})()}function hS(t){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hS(t)}function H8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DI(t,e)}function Pu(t,e,n){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=z8e(t,"string");return Qg(e)=="symbol"?e:e+""}function z8e(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ol=function(t){function e(){var n;M8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=R8e(this,e,[].concat(i)),Pu(n,"state",{isAnimationFinished:!0}),Pu(n,"id",hp("recharts-area-")),Pu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nn(s)&&s()}),Pu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nn(s)&&s()}),n}return H8e(e,t),L8e(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,A=l.points,d=l.dataKey,f=vn(this.props,!1),h=vn(u,!0),p=A.map(function(v,g){var y=xd(xd(xd({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:A});return e.renderDotItem(u,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return be.createElement(ar,vh({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,A=r*Math.abs(l-u),d=Fd(s.map(function(f){return f.y||0}));return kt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Fd(a.map(function(f){return f.y||0})),d)),kt(d)?be.createElement("rect",{x:l<u?l:l-A,y:0,width:A,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,A=r*Math.abs(l-u),d=Fd(s.map(function(f){return f.x||0}));return kt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Fd(a.map(function(f){return f.x||0})),d)),kt(d)?be.createElement("rect",{x:0,y:l<u?l:l-A,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(A)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,u=o.type,A=o.stroke,d=o.connectNulls,f=o.isRange;o.ref;var h=Xee(o,D8e);return be.createElement(ar,{clipPath:a?"url(#clipPath-".concat(s,")"):null},be.createElement(Ih,vh({},vn(h,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),A!=="none"&&be.createElement(Ih,vh({},vn(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),A!=="none"&&f&&be.createElement(Ih,vh({},vn(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,A=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=this.state,m=p.prevPoints,v=p.prevBaseLine;return be.createElement(au,{begin:A,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t;if(m){var b=m.length/o.length,C=o.map(function(B,j){var D=Math.floor(j*b);if(m[D]){var k=m[D],O=Wa(k.x,B.x),F=Wa(k.y,B.y);return xd(xd({},B),{},{x:O(y),y:F(y)})}return B}),E;if(kt(l)&&typeof l=="number"){var N=Wa(v,l);E=N(y)}else if(On(l)||g0(l)){var _=Wa(v,0);E=_(y)}else E=l.map(function(B,j){var D=Math.floor(j*b);if(v[D]){var k=v[D],O=Wa(k.x,B.x),F=Wa(k.y,B.y);return xd(xd({},B),{},{x:O(y),y:F(y)})}return B});return a.renderAreaStatically(C,E,r,i)}return be.createElement(ar,null,be.createElement("defs",null,be.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),be.createElement(ar,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,A=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return l&&s&&s.length&&(!A&&f>0||!Yh(A,s)||!Yh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,A=i.left,d=i.xAxis,f=i.yAxis,h=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=o.length===1,b=zn("recharts-area",l),C=d&&d.allowDataOverflow,E=f&&f.allowDataOverflow,N=C||E,_=On(v)?this.id:v,B=(r=vn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=B.r,D=j===void 0?3:j,k=B.strokeWidth,O=k===void 0?2:k,F=FX(s)?s:{},H=F.clipDot,Y=H===void 0?!0:H,q=D*2+O;return be.createElement(ar,{className:b},C||E?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:C?A:A-h/2,y:E?u:u-p/2,width:C?h:h*2,height:E?p:p*2})),!Y&&be.createElement("clipPath",{id:"clipPath-dots-".concat(_)},be.createElement("rect",{x:A-q/2,y:u-q/2,width:h+q,height:p+q}))):null,y?null:this.renderArea(N,_),(s||y)&&this.renderDots(N,Y,_),(!m||g)&&$o.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(P.PureComponent);Yee=Ol;Pu(Ol,"displayName","Area");Pu(Ol,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_f.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Pu(Ol,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(kt(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var A=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||A<0?A:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Pu(Ol,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,f=t.offset,h=e.layout,p=u&&u.length,m=Yee.getBaseValue(e,n,r,i),v=h==="horizontal",g=!1,y=d.map(function(C,E){var N;p?N=u[A+E]:(N=va(C,l),Array.isArray(N)?g=!0:N=[m,N]);var _=N[1]==null||p&&va(C,l)==null;return v?{x:VC({axis:r,ticks:a,bandSize:o,entry:C,index:E}),y:_?null:i.scale(N[1]),value:N,payload:C}:{x:_?null:r.scale(N[1]),y:VC({axis:i,ticks:s,bandSize:o,entry:C,index:E}),value:N,payload:C}}),b;return p||g?b=y.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:E!=null&&C.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:C.y}}):b=v?i.scale(m):r.scale(m),xd({points:y,baseLine:b,layout:h,isRange:g},f)});Pu(Ol,"renderDotItem",function(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Nn(t))n=t(e);else{var r=zn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Xee(e,O8e);n=be.createElement(_x,vh({},a,{key:i,className:r}))}return n});function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function V8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nte(r.key),r)}}function K8e(t,e,n){return e&&$8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W8e(t,e,n){return e=pS(e),G8e(t,ete()?Reflect.construct(e,n||[],pS(t).constructor):e.apply(t,n))}function G8e(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8e(t)}function q8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ete(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ete=function(){return!!t})()}function pS(t){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pS(t)}function Y8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OI(t,e)}function OI(t,e){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OI(t,e)}function tte(t,e,n){return e=nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nte(t){var e=X8e(t,"string");return Hg(e)=="symbol"?e:e+""}function X8e(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FI.apply(this,arguments)}function J8e(t){var e=t.xAxisId,n=_O(),r=BO(),i=Fee(e);return i==null?null:P.createElement(E0,FI({},i,{className:zn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return NA(s,!0)}}))}var hi=function(t){function e(){return V8e(this,e),W8e(this,e,arguments)}return Y8e(e,t),K8e(e,[{key:"render",value:function(){return P.createElement(J8e,this.props)}}])}(P.Component);tte(hi,"displayName","XAxis");tte(hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function Z8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ate(r.key),r)}}function tQe(t,e,n){return e&&eQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nQe(t,e,n){return e=mS(e),rQe(t,rte()?Reflect.construct(e,n||[],mS(t).constructor):e.apply(t,n))}function rQe(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iQe(t)}function iQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rte=function(){return!!t})()}function mS(t){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mS(t)}function aQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MI(t,e)}function MI(t,e){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MI(t,e)}function ite(t,e,n){return e=ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=sQe(t,"string");return zg(e)=="symbol"?e:e+""}function sQe(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LI(){return LI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LI.apply(this,arguments)}var oQe=function(e){var n=e.yAxisId,r=_O(),i=BO(),a=Mee(n);return a==null?null:P.createElement(E0,LI({},a,{className:zn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return NA(o,!0)}}))},Bi=function(t){function e(){return Z8e(this,e),nQe(this,e,arguments)}return aQe(e,t),tQe(e,[{key:"render",value:function(){return P.createElement(oQe,this.props)}}])}(P.Component);ite(Bi,"displayName","YAxis");ite(Bi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J7(t){return AQe(t)||uQe(t)||cQe(t)||lQe()}function lQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cQe(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function uQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AQe(t){if(Array.isArray(t))return RI(t)}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var UI=function(e,n,r,i,a){var s=Tl(e,S0),o=Tl(e,FE),l=[].concat(J7(s),J7(o)),u=Tl(e,LE),A="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(m,v){if(v.props[A]===r&&zu(v.props,"extendDomain")&&kt(v.props[d])){var g=v.props[d];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},f)),u.length){var h="".concat(d,"1"),p="".concat(d,"2");f=u.reduce(function(m,v){if(v.props[A]===r&&zu(v.props,"extendDomain")&&kt(v.props[h])&&kt(v.props[p])){var g=v.props[h],y=v.props[p];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return kt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},ste={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,A){this.fn=l,this.context=u,this.once=A||!1}function a(l,u,A,d,f){if(typeof A!="function")throw new TypeError("The listener must be a function");var h=new i(A,d||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},o.prototype.listeners=function(u){var A=n?n+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(u){var A=n?n+u:u,d=this._events[A];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,A,d,f,h,p){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,A),!0;case 3:return v.fn.call(v.context,A,d),!0;case 4:return v.fn.call(v.context,A,d,f),!0;case 5:return v.fn.call(v.context,A,d,f,h),!0;case 6:return v.fn.call(v.context,A,d,f,h,p),!0}for(b=1,y=new Array(g-1);b<g;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var C=v.length,E;for(b=0;b<C;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),g){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,A);break;case 3:v[b].fn.call(v[b].context,A,d);break;case 4:v[b].fn.call(v[b].context,A,d,f);break;default:if(!y)for(E=1,y=new Array(g-1);E<g;E++)y[E-1]=arguments[E];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,A,d){return a(this,u,A,d,!1)},o.prototype.once=function(u,A,d){return a(this,u,A,d,!0)},o.prototype.removeListener=function(u,A,d,f){var h=n?n+u:u;if(!this._events[h])return this;if(!A)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===A&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==A||f&&!p[m].once||d&&p[m].context!==d)&&v.push(p[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var A;return u?(A=n?n+u:u,this._events[A]&&s(this,A)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(ste);var dQe=ste.exports;const fQe=Rr(dQe);var eN=new fQe,tN="recharts.syncMouseEvents";function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function hQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ote(r.key),r)}}function mQe(t,e,n){return e&&pQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nN(t,e,n){return e=ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=gQe(t,"string");return Ob(e)=="symbol"?e:e+""}function gQe(t,e){if(Ob(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vQe=function(){function t(){hQe(this,t),nN(this,"activeIndex",0),nN(this,"coordinateList",[]),nN(this,"layout","horizontal")}return mQe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,A=n.offset,d=A===void 0?null:A,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,A=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,f=s+this.offset.top+o/2+A;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function yQe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&kt(r)&&kt(i))return!0}return!1}function bQe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function lte(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=di(e,n,r,i),o=di(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function xQe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,f=di(o,l,u,d),h=di(o,l,A,d);r=f.x,i=f.y,a=h.x,s=h.y}else return lte(e);return[{x:r,y:i},{x:a,y:s}]}function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function Z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z7(Object(n),!0).forEach(function(r){wQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQe(t,e,n){return e=CQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQe(t){var e=SQe(t,"string");return Fb(e)=="symbol"?e:e+""}function SQe(t,e){if(Fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EQe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!s||f!=="ScatterChart"&&i!=="axis")return null;var p,m=Ih;if(f==="ScatterChart")p=s,m=PMe;else if(f==="BarChart")p=bQe(d,s,l,A),m=xO;else if(d==="radial"){var v=lte(s),g=v.cx,y=v.cy,b=v.radius,C=v.startAngle,E=v.endAngle;p={cx:g,cy:y,startAngle:C,endAngle:E,innerRadius:b,outerRadius:b},m=tee}else p={points:xQe(d,s,l)},m=Ih;var N=U1(U1(U1(U1({stroke:"#ccc",pointerEvents:"none"},l),p),vn(h,!1)),{},{payload:o,payloadIndex:u,className:zn("recharts-tooltip-cursor",h.className)});return P.isValidElement(h)?P.cloneElement(h,N):P.createElement(m,N)}var _Qe=["item"],BQe=["children","className","width","height","style","compact","title","desc"];function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function eH(t,e){return TQe(t)||jQe(t,e)||ute(t,e)||NQe()}function NQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function TQe(t){if(Array.isArray(t))return t}function tH(t,e){if(t==null)return{};var n=IQe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ate(r.key),r)}}function DQe(t,e,n){return e&&PQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OQe(t,e,n){return e=gS(e),FQe(t,cte()?Reflect.construct(e,n||[],gS(t).constructor):e.apply(t,n))}function FQe(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQe(t)}function MQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cte=function(){return!!t})()}function gS(t){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gS(t)}function LQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QI(t,e)}function QI(t,e){return QI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QI(t,e)}function $g(t){return QQe(t)||UQe(t)||ute(t)||RQe()}function RQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function UQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QQe(t){if(Array.isArray(t))return HI(t)}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nH(Object(n),!0).forEach(function(r){_n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _n(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=HQe(t,"string");return Vg(e)=="symbol"?e:e+""}function HQe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zQe={xAxis:["bottom","top"],yAxis:["left","right"]},VQe={width:"100%",height:"100%"},dte={x:0,y:0};function Q1(t){return t}var $Qe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},KQe=function(e,n,r,i){var a=n.find(function(A){return A&&A.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ct(ct(ct({},i),di(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return ct(ct(ct({},i),di(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return dte},RE=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat($g(o),$g(u)):o},[]);return s.length>0?s:e&&e.length&&kt(i)&&kt(a)?e.slice(i,a+1):[]};function fte(t){return t==="number"?[0,"auto"]:void 0}var zI=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=RE(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=d===void 0?o:d;f=mC(h,s.dataKey,i)}else f=d&&d[r]||o[r];return f?[].concat($g(l),[qZ(u,f)]):l},[])},rH=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=$Qe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,A=n3e(s,o,u,l);if(A>=0&&u){var d=u[A]&&u[A].value,f=zI(e,n,A,d),h=KQe(r,o,A,a);return{activeTooltipIndex:A,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},WQe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.layout,d=e.children,f=e.stackOffset,h=zZ(A,a);return r.reduce(function(p,m){var v,g=m.type.defaultProps!==void 0?ct(ct({},m.type.defaultProps),m.props):m.props,y=g.type,b=g.dataKey,C=g.allowDataOverflow,E=g.allowDuplicatedCategory,N=g.scale,_=g.ticks,B=g.includeHidden,j=g[s];if(p[j])return p;var D=RE(e.data,{graphicalItems:i.filter(function(R){var $,J=s in R.props?R.props[s]:($=R.type.defaultProps)===null||$===void 0?void 0:$[s];return J===j}),dataStartIndex:l,dataEndIndex:u}),k=D.length,O,F,H;yQe(g.domain,C,y)&&(O=nI(g.domain,null,C),h&&(y==="number"||N!=="auto")&&(H=ry(D,b,"category")));var Y=fte(y);if(!O||O.length===0){var q,Z=(q=g.domain)!==null&&q!==void 0?q:Y;if(b){if(O=ry(D,b,y),y==="category"&&h){var W=Kwe(O);E&&W?(F=O,O=rS(0,k)):E||(O=CQ(Z,O,m).reduce(function(R,$){return R.indexOf($)>=0?R:[].concat($g(R),[$])},[]))}else if(y==="category")E?O=O.filter(function(R){return R!==""&&!On(R)}):O=CQ(Z,O,m).reduce(function(R,$){return R.indexOf($)>=0||$===""||On($)?R:[].concat($g(R),[$])},[]);else if(y==="number"){var oe=o3e(D,i.filter(function(R){var $,J,ne=s in R.props?R.props[s]:($=R.type.defaultProps)===null||$===void 0?void 0:$[s],he="hide"in R.props?R.props.hide:(J=R.type.defaultProps)===null||J===void 0?void 0:J.hide;return ne===j&&(B||!he)}),b,a,A);oe&&(O=oe)}h&&(y==="number"||N!=="auto")&&(H=ry(D,b,"category"))}else h?O=rS(0,k):o&&o[j]&&o[j].hasStack&&y==="number"?O=f==="expand"?[0,1]:GZ(o[j].stackGroups,l,u):O=HZ(D,i.filter(function(R){var $=s in R.props?R.props[s]:R.type.defaultProps[s],J="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return $===j&&(B||!J)}),y,A,!0);if(y==="number")O=UI(d,O,j,a,_),Z&&(O=nI(Z,O,C));else if(y==="category"&&Z){var te=Z,ue=O.every(function(R){return te.indexOf(R)>=0});ue&&(O=te)}}return ct(ct({},p),{},_n({},j,ct(ct({},g),{},{axisType:a,domain:O,categoricalDomain:H,duplicateDomain:F,originalDomain:(v=g.domain)!==null&&v!==void 0?v:Y,isCategorical:h,layout:A})))},{})},GQe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.layout,d=e.children,f=RE(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=f.length,p=zZ(A,a),m=-1;return r.reduce(function(v,g){var y=g.type.defaultProps!==void 0?ct(ct({},g.type.defaultProps),g.props):g.props,b=y[s],C=fte("number");if(!v[b]){m++;var E;return p?E=rS(0,h):o&&o[b]&&o[b].hasStack?(E=GZ(o[b].stackGroups,l,u),E=UI(d,E,b,a)):(E=nI(C,HZ(f,r.filter(function(N){var _,B,j=s in N.props?N.props[s]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[s],D="hide"in N.props?N.props.hide:(B=N.type.defaultProps)===null||B===void 0?void 0:B.hide;return j===b&&!D}),"number",A),i.defaultProps.allowDataOverflow),E=UI(d,E,b,a)),ct(ct({},v),{},_n({},b,ct(ct({axisType:a},i.defaultProps),{},{hide:!0,orientation:jl(zQe,"".concat(a,".").concat(m%2),null),domain:E,originalDomain:C,isCategorical:p,layout:A})))}return v},{})},qQe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.children,d="".concat(i,"Id"),f=Tl(A,a),h={};return f&&f.length?h=WQe(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(h=GQe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),h},YQe=function(e){var n=Id(e),r=NA(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:G3(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:$C(n,r)}},iH=function(e){var n=e.children,r=e.defaultShowTooltip,i=xl(n,Dg),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},XQe=function(e){return!e||!e.length?!1:e.some(function(n){var r=PA(n&&n.type);return r&&r.indexOf("Bar")>=0})},aH=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JQe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,A=r.height,d=r.children,f=r.margin||{},h=xl(d,Dg),p=xl(d,Il),m=Object.keys(l).reduce(function(E,N){var _=l[N],B=_.orientation;return!_.mirror&&!_.hide?ct(ct({},E),{},_n({},B,E[B]+_.width)):E},{left:f.left||0,right:f.right||0}),v=Object.keys(s).reduce(function(E,N){var _=s[N],B=_.orientation;return!_.mirror&&!_.hide?ct(ct({},E),{},_n({},B,jl(E,"".concat(B))+_.height)):E},{top:f.top||0,bottom:f.bottom||0}),g=ct(ct({},v),m),y=g.bottom;h&&(g.bottom+=h.props.height||Dg.defaultProps.height),p&&n&&(g=a3e(g,i,r,n));var b=u-g.left-g.right,C=A-g.top-g.bottom;return ct(ct({brushBottom:y},g),{},{width:Math.max(b,0),height:Math.max(C,0)})},ZQe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},UE=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,f=function(g,y){var b=y.graphicalItems,C=y.stackGroups,E=y.offset,N=y.updateId,_=y.dataStartIndex,B=y.dataEndIndex,j=g.barSize,D=g.layout,k=g.barGap,O=g.barCategoryGap,F=g.maxBarSize,H=aH(D),Y=H.numericAxisName,q=H.cateAxisName,Z=XQe(b),W=[];return b.forEach(function(oe,te){var ue=RE(g.data,{graphicalItems:[oe],dataStartIndex:_,dataEndIndex:B}),R=oe.type.defaultProps!==void 0?ct(ct({},oe.type.defaultProps),oe.props):oe.props,$=R.dataKey,J=R.maxBarSize,ne=R["".concat(Y,"Id")],he=R["".concat(q,"Id")],Se={},we=l.reduce(function(gt,$t){var Mt=y["".concat($t.axisType,"Map")],bt=R["".concat($t.axisType,"Id")];Mt&&Mt[bt]||$t.axisType==="zAxis"||Jh();var wt=Mt[bt];return ct(ct({},gt),{},_n(_n({},$t.axisType,wt),"".concat($t.axisType,"Ticks"),NA(wt)))},Se),re=we[q],pe=we["".concat(q,"Ticks")],xe=C&&C[ne]&&C[ne].hasStack&&m3e(oe,C[ne].stackGroups),Ae=PA(oe.type).indexOf("Bar")>=0,He=$C(re,pe),Ie=[],fe=Z&&r3e({barSize:j,stackGroups:C,totalSize:ZQe(we,q)});if(Ae){var $e,mt,pt=On(J)?F:J,rt=($e=(mt=$C(re,pe,!0))!==null&&mt!==void 0?mt:pt)!==null&&$e!==void 0?$e:0;Ie=i3e({barGap:k,barCategoryGap:O,bandSize:rt!==He?rt:He,sizeList:fe[he],maxBarSize:pt}),rt!==He&&(Ie=Ie.map(function(gt){return ct(ct({},gt),{},{position:ct(ct({},gt.position),{},{offset:gt.position.offset-rt/2})})}))}var Et=oe&&oe.type&&oe.type.getComposedData;Et&&W.push({props:ct(ct({},Et(ct(ct({},we),{},{displayedData:ue,props:g,dataKey:$,item:oe,bandSize:He,barPosition:Ie,offset:E,stackedData:xe,layout:D,dataStartIndex:_,dataEndIndex:B}))),{},_n(_n(_n({key:oe.key||"item-".concat(te)},Y,we[Y]),q,we[q]),"animationId",N)),childIndex:i2e(oe,g.children),item:oe})}),W},h=function(g,y){var b=g.props,C=g.dataStartIndex,E=g.dataEndIndex,N=g.updateId;if(!gU({props:b}))return null;var _=b.children,B=b.layout,j=b.stackOffset,D=b.data,k=b.reverseStackOrder,O=aH(B),F=O.numericAxisName,H=O.cateAxisName,Y=Tl(_,r),q=h3e(D,Y,"".concat(F,"Id"),"".concat(H,"Id"),j,k),Z=l.reduce(function(R,$){var J="".concat($.axisType,"Map");return ct(ct({},R),{},_n({},J,qQe(b,ct(ct({},$),{},{graphicalItems:Y,stackGroups:$.axisType===F&&q,dataStartIndex:C,dataEndIndex:E}))))},{}),W=JQe(ct(ct({},Z),{},{props:b,graphicalItems:Y}),y==null?void 0:y.legendBBox);Object.keys(Z).forEach(function(R){Z[R]=A(b,Z[R],W,R.replace("Map",""),n)});var oe=Z["".concat(H,"Map")],te=YQe(oe),ue=f(b,ct(ct({},Z),{},{dataStartIndex:C,dataEndIndex:E,updateId:N,graphicalItems:Y,stackGroups:q,offset:W}));return ct(ct({formattedGraphicalItems:ue,graphicalItems:Y,offset:W,stackGroups:q},te),Z)},p=function(v){function g(y){var b,C,E;return kQe(this,g),E=OQe(this,g,[y]),_n(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_n(E,"accessibilityManager",new vQe),_n(E,"handleLegendBBoxUpdate",function(N){if(N){var _=E.state,B=_.dataStartIndex,j=_.dataEndIndex,D=_.updateId;E.setState(ct({legendBBox:N},h({props:E.props,dataStartIndex:B,dataEndIndex:j,updateId:D},ct(ct({},E.state),{},{legendBBox:N}))))}}),_n(E,"handleReceiveSyncEvent",function(N,_,B){if(E.props.syncId===N){if(B===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),_n(E,"handleBrushChange",function(N){var _=N.startIndex,B=N.endIndex;if(_!==E.state.dataStartIndex||B!==E.state.dataEndIndex){var j=E.state.updateId;E.setState(function(){return ct({dataStartIndex:_,dataEndIndex:B},h({props:E.props,dataStartIndex:_,dataEndIndex:B,updateId:j},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:B})}}),_n(E,"handleMouseEnter",function(N){var _=E.getMouseInfo(N);if(_){var B=ct(ct({},_),{},{isTooltipActive:!0});E.setState(B),E.triggerSyncEvent(B);var j=E.props.onMouseEnter;Nn(j)&&j(B,N)}}),_n(E,"triggeredAfterMouseMove",function(N){var _=E.getMouseInfo(N),B=_?ct(ct({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(B),E.triggerSyncEvent(B);var j=E.props.onMouseMove;Nn(j)&&j(B,N)}),_n(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),_n(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),_n(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),_n(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var B=E.props.onMouseLeave;Nn(B)&&B(_,N)}),_n(E,"handleOuterEvent",function(N){var _=r2e(N),B=jl(E.props,"".concat(_));if(_&&Nn(B)){var j,D;/.*touch.*/i.test(_)?D=E.getMouseInfo(N.changedTouches[0]):D=E.getMouseInfo(N),B((j=D)!==null&&j!==void 0?j:{},N)}}),_n(E,"handleClick",function(N){var _=E.getMouseInfo(N);if(_){var B=ct(ct({},_),{},{isTooltipActive:!0});E.setState(B),E.triggerSyncEvent(B);var j=E.props.onClick;Nn(j)&&j(B,N)}}),_n(E,"handleMouseDown",function(N){var _=E.props.onMouseDown;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"handleMouseUp",function(N){var _=E.props.onMouseUp;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),_n(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),_n(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),_n(E,"handleDoubleClick",function(N){var _=E.props.onDoubleClick;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"handleContextMenu",function(N){var _=E.props.onContextMenu;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&eN.emit(tN,E.props.syncId,N,E.eventEmitterSymbol)}),_n(E,"applySyncEvent",function(N){var _=E.props,B=_.layout,j=_.syncMethod,D=E.state.updateId,k=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(ct({dataStartIndex:k,dataEndIndex:O},h({props:E.props,dataStartIndex:k,dataEndIndex:O,updateId:D},E.state)));else if(N.activeTooltipIndex!==void 0){var F=N.chartX,H=N.chartY,Y=N.activeTooltipIndex,q=E.state,Z=q.offset,W=q.tooltipTicks;if(!Z)return;if(typeof j=="function")Y=j(W,N);else if(j==="value"){Y=-1;for(var oe=0;oe<W.length;oe++)if(W[oe].value===N.activeLabel){Y=oe;break}}var te=ct(ct({},Z),{},{x:Z.left,y:Z.top}),ue=Math.min(F,te.x+te.width),R=Math.min(H,te.y+te.height),$=W[Y]&&W[Y].value,J=zI(E.state,E.props.data,Y),ne=W[Y]?{x:B==="horizontal"?W[Y].coordinate:ue,y:B==="horizontal"?R:W[Y].coordinate}:dte;E.setState(ct(ct({},N),{},{activeLabel:$,activeCoordinate:ne,activePayload:J,activeTooltipIndex:Y}))}else E.setState(N)}),_n(E,"renderCursor",function(N){var _,B=E.state,j=B.isTooltipActive,D=B.activeCoordinate,k=B.activePayload,O=B.offset,F=B.activeTooltipIndex,H=B.tooltipAxisBandSize,Y=E.getTooltipEventType(),q=(_=N.props.active)!==null&&_!==void 0?_:j,Z=E.props.layout,W=N.key||"_recharts-cursor";return be.createElement(EQe,{key:W,activeCoordinate:D,activePayload:k,activeTooltipIndex:F,chartName:n,element:N,isActive:q,layout:Z,offset:O,tooltipAxisBandSize:H,tooltipEventType:Y})}),_n(E,"renderPolarAxis",function(N,_,B){var j=jl(N,"type.axisType"),D=jl(E.state,"".concat(j,"Map")),k=N.type.defaultProps,O=k!==void 0?ct(ct({},k),N.props):N.props,F=D&&D[O["".concat(j,"Id")]];return P.cloneElement(N,ct(ct({},F),{},{className:zn(j,F.className),key:N.key||"".concat(_,"-").concat(B),ticks:NA(F,!0)}))}),_n(E,"renderPolarGrid",function(N){var _=N.props,B=_.radialLines,j=_.polarAngles,D=_.polarRadius,k=E.state,O=k.radiusAxisMap,F=k.angleAxisMap,H=Id(O),Y=Id(F),q=Y.cx,Z=Y.cy,W=Y.innerRadius,oe=Y.outerRadius;return P.cloneElement(N,{polarAngles:Array.isArray(j)?j:NA(Y,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(D)?D:NA(H,!0).map(function(te){return te.coordinate}),cx:q,cy:Z,innerRadius:W,outerRadius:oe,key:N.key||"polar-grid",radialLines:B})}),_n(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,_=E.props,B=_.children,j=_.width,D=_.height,k=E.props.margin||{},O=j-(k.left||0)-(k.right||0),F=UZ({children:B,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!F)return null;var H=F.item,Y=tH(F,_Qe);return P.cloneElement(H,ct(ct({},Y),{},{chartWidth:j,chartHeight:D,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),_n(E,"renderTooltip",function(){var N,_=E.props,B=_.children,j=_.accessibilityLayer,D=xl(B,Er);if(!D)return null;var k=E.state,O=k.isTooltipActive,F=k.activeCoordinate,H=k.activePayload,Y=k.activeLabel,q=k.offset,Z=(N=D.props.active)!==null&&N!==void 0?N:O;return P.cloneElement(D,{viewBox:ct(ct({},q),{},{x:q.left,y:q.top}),active:Z,label:Y,payload:Z?H:[],coordinate:F,accessibilityLayer:j})}),_n(E,"renderBrush",function(N){var _=E.props,B=_.margin,j=_.data,D=E.state,k=D.offset,O=D.dataStartIndex,F=D.dataEndIndex,H=D.updateId;return P.cloneElement(N,{key:N.key||"_recharts-brush",onChange:F1(E.handleBrushChange,N.props.onChange),data:j,x:kt(N.props.x)?N.props.x:k.left,y:kt(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(B.bottom||0),width:kt(N.props.width)?N.props.width:k.width,startIndex:O,endIndex:F,updateId:"brush-".concat(H)})}),_n(E,"renderReferenceElement",function(N,_,B){if(!N)return null;var j=E,D=j.clipPathId,k=E.state,O=k.xAxisMap,F=k.yAxisMap,H=k.offset,Y=N.type.defaultProps||{},q=N.props,Z=q.xAxisId,W=Z===void 0?Y.xAxisId:Z,oe=q.yAxisId,te=oe===void 0?Y.yAxisId:oe;return P.cloneElement(N,{key:N.key||"".concat(_,"-").concat(B),xAxis:O[W],yAxis:F[te],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:D})}),_n(E,"renderActivePoints",function(N){var _=N.item,B=N.activePoint,j=N.basePoint,D=N.childIndex,k=N.isRange,O=[],F=_.props.key,H=_.item.type.defaultProps!==void 0?ct(ct({},_.item.type.defaultProps),_.item.props):_.item.props,Y=H.activeDot,q=H.dataKey,Z=ct(ct({index:D,dataKey:q,cx:B.x,cy:B.y,r:4,fill:bO(_.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},vn(Y,!1)),gC(Y));return O.push(g.renderActiveDot(Y,Z,"".concat(F,"-activePoint-").concat(D))),j?O.push(g.renderActiveDot(Y,ct(ct({},Z),{},{cx:j.x,cy:j.y}),"".concat(F,"-basePoint-").concat(D))):k&&O.push(null),O}),_n(E,"renderGraphicChild",function(N,_,B){var j=E.filterFormatItem(N,_,B);if(!j)return null;var D=E.getTooltipEventType(),k=E.state,O=k.isTooltipActive,F=k.tooltipAxis,H=k.activeTooltipIndex,Y=k.activeLabel,q=E.props.children,Z=xl(q,Er),W=j.props,oe=W.points,te=W.isRange,ue=W.baseLine,R=j.item.type.defaultProps!==void 0?ct(ct({},j.item.type.defaultProps),j.item.props):j.item.props,$=R.activeDot,J=R.hide,ne=R.activeBar,he=R.activeShape,Se=!!(!J&&O&&Z&&($||ne||he)),we={};D!=="axis"&&Z&&Z.props.trigger==="click"?we={onClick:F1(E.handleItemMouseEnter,N.props.onClick)}:D!=="axis"&&(we={onMouseLeave:F1(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:F1(E.handleItemMouseEnter,N.props.onMouseEnter)});var re=P.cloneElement(N,ct(ct({},j.props),we));function pe($t){return typeof F.dataKey=="function"?F.dataKey($t.payload):null}if(Se)if(H>=0){var xe,Ae;if(F.dataKey&&!F.allowDuplicatedCategory){var He=typeof F.dataKey=="function"?pe:"payload.".concat(F.dataKey.toString());xe=mC(oe,He,Y),Ae=te&&ue&&mC(ue,He,Y)}else xe=oe==null?void 0:oe[H],Ae=te&&ue&&ue[H];if(he||ne){var Ie=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[P.cloneElement(N,ct(ct(ct({},j.props),we),{},{activeIndex:Ie})),null,null]}if(!On(xe))return[re].concat($g(E.renderActivePoints({item:j,activePoint:xe,basePoint:Ae,childIndex:H,isRange:te})))}else{var fe,$e=(fe=E.getItemByXY(E.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:re},mt=$e.graphicalItem,pt=mt.item,rt=pt===void 0?N:pt,Et=mt.childIndex,gt=ct(ct(ct({},j.props),we),{},{activeIndex:Et});return[P.cloneElement(rt,gt),null,null]}return te?[re,null,null]:[re,null]}),_n(E,"renderCustomized",function(N,_,B){return P.cloneElement(N,ct(ct({key:"recharts-customized-".concat(B)},E.props),E.state))}),_n(E,"renderMap",{CartesianGrid:{handler:Q1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Q1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Q1},YAxis:{handler:Q1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:hp("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=RJ(E.triggeredAfterMouseMove,(C=y.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return LQe(g,v),DQe(g,[{key:"componentDidMount",value:function(){var b,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,C=b.children,E=b.data,N=b.height,_=b.layout,B=xl(C,Er);if(B){var j=B.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,k=zI(this.state,E,j,D),O=this.state.tooltipTicks[j].coordinate,F=(this.state.offset.top+N)/2,H=_==="horizontal",Y=H?{x:O,y:F}:{y:O,x:F},q=this.state.formattedGraphicalItems.find(function(W){var oe=W.item;return oe.type.name==="Scatter"});q&&(Y=ct(ct({},Y),q.props.points[j].tooltipPosition),k=q.props.points[j].tooltipPayload);var Z={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:D,activePayload:k,activeCoordinate:Y};this.setState(Z),this.renderCursor(B),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){gT([xl(b.children,Er)],[xl(this.props.children,Er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=xl(this.props.children,Er);if(b&&typeof b.props.shared=="boolean"){var C=b.props.shared?"axis":"item";return o.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),N=TTe(E),_={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},B=E.width/C.offsetWidth||1,j=this.inRange(_.chartX,_.chartY,B);if(!j)return null;var D=this.state,k=D.xAxisMap,O=D.yAxisMap,F=this.getTooltipEventType(),H=rH(this.state,this.props.data,this.props.layout,j);if(F!=="axis"&&k&&O){var Y=Id(k).scale,q=Id(O).scale,Z=Y&&Y.invert?Y.invert(_.chartX):null,W=q&&q.invert?q.invert(_.chartY):null;return ct(ct({},_),{},{xValue:Z,yValue:W},H)}return H?ct(ct({},_),H):null}},{key:"inRange",value:function(b,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=b/E,B=C/E;if(N==="horizontal"||N==="vertical"){var j=this.state.offset,D=_>=j.left&&_<=j.left+j.width&&B>=j.top&&B<=j.top+j.height;return D?{x:_,y:B}:null}var k=this.state,O=k.angleAxisMap,F=k.radiusAxisMap;if(O&&F){var H=Id(O);return _Q({x:_,y:B},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,C=this.getTooltipEventType(),E=xl(b,Er),N={};E&&C==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=gC(this.props,this.handleOuterEvent);return ct(ct({},_),N)}},{key:"addListener",value:function(){eN.on(tN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eN.removeListener(tN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,C,E){for(var N=this.state.formattedGraphicalItems,_=0,B=N.length;_<B;_++){var j=N[_];if(j.item===b||j.props.key===b.key||C===PA(j.item.type)&&E===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,C=this.state.offset,E=C.left,N=C.top,_=C.height,B=C.width;return be.createElement("defs",null,be.createElement("clipPath",{id:b},be.createElement("rect",{x:E,y:N,height:_,width:B})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(C,E){var N=eH(E,2),_=N[0],B=N[1];return ct(ct({},C),{},_n({},_,B.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(C,E){var N=eH(E,2),_=N[0],B=N[1];return ct(ct({},C),{},_n({},_,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(b){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(b){var C=this.state,E=C.formattedGraphicalItems,N=C.activeItem;if(E&&E.length)for(var _=0,B=E.length;_<B;_++){var j=E[_],D=j.props,k=j.item,O=k.type.defaultProps!==void 0?ct(ct({},k.type.defaultProps),k.props):k.props,F=PA(k.type);if(F==="Bar"){var H=(D.data||[]).find(function(W){return fMe(b,W)});if(H)return{graphicalItem:j,payload:H}}else if(F==="RadialBar"){var Y=(D.data||[]).find(function(W){return _Q(b,W)});if(Y)return{graphicalItem:j,payload:Y}}else if(kE(j,N)||PE(j,N)||Tb(j,N)){var q=tRe({graphicalItem:j,activeTooltipItem:N,itemData:O.data}),Z=O.activeIndex===void 0?q:O.activeIndex;return{graphicalItem:ct(ct({},j),{},{childIndex:Z}),payload:Tb(j,N)?O.data[q]:j.props.data[q]}}}return null}},{key:"render",value:function(){var b=this;if(!gU(this))return null;var C=this.props,E=C.children,N=C.className,_=C.width,B=C.height,j=C.style,D=C.compact,k=C.title,O=C.desc,F=tH(C,BQe),H=vn(F,!1);if(D)return be.createElement(D7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement(yT,Cm({},H,{width:_,height:B,title:k,desc:O}),this.renderClipPath(),yU(E,this.renderMap)));if(this.props.accessibilityLayer){var Y,q;H.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,H.role=(q=this.props.role)!==null&&q!==void 0?q:"application",H.onKeyDown=function(W){b.accessibilityManager.keyboardEvent(W)},H.onFocus=function(){b.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return be.createElement(D7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement("div",Cm({className:zn("recharts-wrapper",N),style:ct({position:"relative",cursor:"default",width:_,height:B},j)},Z,{ref:function(oe){b.container=oe}}),be.createElement(yT,Cm({},H,{width:_,height:B,title:k,desc:O,style:VQe}),this.renderClipPath(),yU(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);_n(p,"displayName",n),_n(p,"defaultProps",ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),_n(p,"getDerivedStateFromProps",function(v,g){var y=v.dataKey,b=v.data,C=v.children,E=v.width,N=v.height,_=v.layout,B=v.stackOffset,j=v.margin,D=g.dataStartIndex,k=g.dataEndIndex;if(g.updateId===void 0){var O=iH(v);return ct(ct(ct({},O),{},{updateId:0},h(ct(ct({props:v},O),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:b,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:B,prevMargin:j,prevChildren:C})}if(y!==g.prevDataKey||b!==g.prevData||E!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||B!==g.prevStackOffset||!Mm(j,g.prevMargin)){var F=iH(v),H={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},Y=ct(ct({},rH(g,b,_)),{},{updateId:g.updateId+1}),q=ct(ct(ct({},F),H),Y);return ct(ct(ct({},q),h(ct({props:v},q),g)),{},{prevDataKey:y,prevData:b,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:B,prevMargin:j,prevChildren:C})}if(!gT(C,g.prevChildren)){var Z,W,oe,te,ue=xl(C,Dg),R=ue&&(Z=(W=ue.props)===null||W===void 0?void 0:W.startIndex)!==null&&Z!==void 0?Z:D,$=ue&&(oe=(te=ue.props)===null||te===void 0?void 0:te.endIndex)!==null&&oe!==void 0?oe:k,J=R!==D||$!==k,ne=!On(b),he=ne&&!J?g.updateId:g.updateId+1;return ct(ct({updateId:he},h(ct(ct({props:v},g),{},{updateId:he,dataStartIndex:R,dataEndIndex:$}),g)),{},{prevChildren:C,dataStartIndex:R,dataEndIndex:$})}return null}),_n(p,"renderActiveDot",function(v,g,y){var b;return P.isValidElement(v)?b=P.cloneElement(v,g):Nn(v)?b=v(g):b=be.createElement(_x,g),be.createElement(ar,{className:"recharts-active-dot",key:y},b)});var m=P.forwardRef(function(g,y){return be.createElement(p,Cm({},g,{ref:y}))});return m.displayName=p.displayName,m},IO=UE({chartName:"LineChart",GraphicalChild:ou,axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:wO}),Fl=UE({chartName:"BarChart",GraphicalChild:Xa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:wO}),VI=UE({chartName:"PieChart",GraphicalChild:su,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:IE},{axisType:"radiusAxis",AxisComp:jE}],formatAxisMap:_3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Bx=UE({chartName:"AreaChart",GraphicalChild:Ol,axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:wO});const Dr={PREGNANT:{key:"PREGNANT",Icon:Co,color:"text-pink-400",label:"Preada"},IN_SERVICE_CONFIRMED:{key:"IN_SERVICE_CONFIRMED",Icon:Upe,color:"text-pink-500",label:"Servicio Visto"},IN_SERVICE:{key:"IN_SERVICE",Icon:o0,color:"text-red-400",label:"En Monta"},EMPTY:{key:"EMPTY",Icon:Epe,color:"text-zinc-500",label:"Vaca"},SIRE_IN_SERVICE:{key:"SIRE_IN_SERVICE",Icon:Zpe,color:"text-blue-400",label:"Reproductor Activo"},MILKING:{key:"MILKING",Icon:Ame,color:"text-blue-300",label:"En Ordeo"},DRYING_OFF:{key:"DRYING_OFF",Icon:Zc,color:"text-yellow-400",label:"Secando"},DRY:{key:"DRY",Icon:Cc,color:"text-zinc-400",label:"Seca"}},Ko=t=>{if(!t||t==="N/A")return-1;const e=new Date(t+"T00:00:00Z"),n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));if(isNaN(e.getTime()))return-1;const i=r.getTime()-e.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},fu=t=>{const e=Ko(t);if(e<0)return"N/A";if(e<=60)return`${e} da${e!==1?"s":""}`;const n=30.4375,r=Math.floor(e/n);if(r<12){const s=Math.round(e%n);return`${r} mes${r!==1?"es":""}${s>0?` y ${s} da${s!==1?"s":""}`:""}`}const i=Math.floor(r/12),a=Math.round(r%12);return`${i} ao${i!==1?"s":""}${a>0?` y ${a} mes${a!==1?"es":""}`:""}`},xc=(t,e)=>{const n=Ko(t.birthDate);return n<0?"Indefinido":t.sex==="Hembra"?e.some(s=>s.goatId===t.id)||n>578?"Cabra":n<=60?"Cabrita":"Cabritona":n>=365?"Reproductor":t.weaningDate||n>60?"Macho de Levante":"Cabrito"},Tf=(t,e)=>{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},e7e=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},kO=(t,e)=>{if(e.length===0)return{overall:null,recent:null};const n=[...e].sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime()),r=n[n.length-1];let i=null;if(t&&t>0){const s=Ko(r.date)-Ko(new Date().toISOString().split("T")[0])+Ko(new Date(r.date).toISOString().split("T")[0]);s>0&&(i=(r.kg-t)/s)}let a=null;if(n.length>=2){const s=r,o=n[n.length-2],l=(new Date(s.date).getTime()-new Date(o.date).getTime())/(1e3*60*60*24);l>0&&(a=(s.kg-o.kg)/l)}return{overall:i,recent:a}},hte=(t,e,n)=>{const r=t.map(A=>({age:(new Date(A.date).getTime()-new Date(e).getTime())/864e5,kg:A.kg})).sort((A,d)=>A.age-d.age);if(r.length<1)return null;const i=r.filter(A=>A.age<=n).pop(),a=r.find(A=>A.age>=n);if(i&&i.age===n)return i.kg;if(a&&a.age===n)return a.kg;if(!i||!a)return null;if(i.age===a.age)return i.kg;const s=a.age-i.age;if(s===0)return i.kg;const o=a.kg-i.kg,l=n-i.age,u=i.kg+l/s*o;return parseFloat(u.toFixed(2))},t7e=(t,e,n)=>{if(e===0)return 100;const r=t/e*100,i=1+(180-Math.min(n,180))/180*.1;return Math.round(r*i)},n7e=t=>{if(!t.weaningWeight||!t.weaningDate||!t.birthWeight||!t.birthDate)return null;const e=(new Date(t.weaningDate).getTime()-new Date(t.birthDate).getTime())/(1e3*60*60*24);if(e<=0)return null;const n=(t.weaningWeight-t.birthWeight)/e,r=t.birthWeight+n*60;return parseFloat(r.toFixed(2))},r7e=(t,e)=>{const n=e.filter(r=>r.animalId===t.id);return hte(n,t.birthDate,210)},pte=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Dr.MILKING):o.status==="en-secado"?a.push(Dr.DRYING_OFF):o.status==="seca"&&a.push(Dr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Dr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Dr.IN_SERVICE_CONFIRMED):a.push(Dr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Dr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Dr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Dr[o])},$I={A:"Alpina",S:"Saanen",AN:"Anglo Nubian",AGC:"Canaria",T:"Toggenburger",C:"Criolla"},KI=t=>{const e=new Map;if(!t)return e;const n=/(\d+(\.\d+)?)%?([A-Z]+)/g;let r;for(;(r=n.exec(t.toUpperCase()))!==null;){const i=parseFloat(r[1]),a=r[3],s=Object.keys($I).includes(a);!isNaN(i)&&s&&e.set(a,(e.get(a)||0)+i)}return e},i7e=t=>t.size===0?"":Array.from(t.entries()).filter(([,n])=>n>0).sort((n,r)=>r[1]-n[1]).map(([n,r])=>`${parseFloat(r.toFixed(2))}%${n}`).join(" "),mte=(t,e)=>{const n=KI(t),r=KI(e),i=new Map;return new Set([...n.keys(),...r.keys()]).forEach(s=>{const o=n.get(s)||0,l=r.get(s)||0;i.set(s,o/2+l/2)}),i7e(i)},QE=t=>{const e=KI(t);if(e.size===0)return"";const n=Array.from(e.entries()).sort((o,l)=>l[1]-o[1]);if(n.length===0)return"";const[r,i]=n[0],a=96.9,s=$I[r]||"Mestiza";for(const[o,l]of n)if(l>=a){const u=$I[o];if(u)return`${u} Pura`}return i>0&&s!=="Mestiza"?`Mestiza ${s}`:"Mestiza"},a7e=()=>{const{animals:t,parturitions:e,bodyWeighings:n,sireLots:r,breedingSeasons:i,weighings:a,appConfig:s}=en();return P.useMemo(()=>{const l=t.filter(re=>!re.isReference),u=l.filter(re=>re.sex==="Hembra"),A=u.length,d=s.edadPrimerServicioMeses>0?s.edadPrimerServicioMeses:11,f=s.pesoPrimerServicioKg>0?s.pesoPrimerServicioKg:30,h=d*30.44,p=u.filter(re=>{const pe=xc(re,e);if(pe==="Cabra")return!0;if(pe==="Cabrita")return!1;if(pe==="Cabritona"){if(Ko(re.birthDate)<h)return!1;if(f>0){const Ae=n.filter(He=>He.animalId===re.id).sort((He,Ie)=>new Date(Ie.date).getTime()-new Date(He.date).getTime())[0];if(!Ae||Ae.kg<f)return!1}return!0}return!1}).length,m={cabras:[],cabritonas:[],cabritas:[],cabritos:[],machosLevante:[],reproductores:[]};l.forEach(re=>{switch(xc(re,e)){case"Cabra":m.cabras.push(re);break;case"Cabritona":m.cabritonas.push(re);break;case"Cabrita":m.cabritas.push(re);break;case"Cabrito":m.cabritos.push(re);break;case"Macho de Levante":m.machosLevante.push(re);break;case"Reproductor":m.reproductores.push(re);break}});const v=e.filter(re=>re.status==="activa"&&m.cabras.some(pe=>pe.id===re.goatId)).length,g=m.cabras.length-v,y=m.cabras.filter(re=>re.reproductiveStatus==="Preada").length,b=m.cabras.filter(re=>re.reproductiveStatus==="Vaca"||re.reproductiveStatus==="Post-Parto"||re.reproductiveStatus==="Destetada").length,C=m.cabras.filter(re=>re.reproductiveStatus==="En Servicio").length,E=[{name:"Preadas",value:y,color:"#34C759"},{name:"Vacas",value:b,color:"#FF9500"},{name:"En Monta",value:C,color:"#007AFF"}].filter(re=>re.value>0),N=new Date().getFullYear(),_=[];for(let re=0;re<2;re++){const pe=new Date(N,re*6,1),xe=new Date(N,(re+1)*6,0),Ae=a.filter($e=>{const mt=new Date($e.date+"T00:00:00");return mt>=pe&&mt<=xe}),He=new Set(Ae.map($e=>$e.goatId)),Ie=m.cabras.filter($e=>!!e.find(pt=>pt.goatId===$e.id&&new Date(pt.parturitionDate)<=xe)).length,fe=Ie>0?He.size/Ie*100:0;_.push({name:`Semestre ${re+1}`,"En Ordeo (%)":parseFloat(fe.toFixed(1))})}const B=s.pesoPrimerServicioKg||30,j=B*.95,D=m.cabritonas.filter(re=>re.reproductiveStatus==="En Servicio").length,k=m.cabritonas.filter(re=>{const pe=n.filter(xe=>xe.animalId===re.id).sort((xe,Ae)=>new Date(Ae.date).getTime()-new Date(xe.date).getTime())[0];return pe?pe.kg>=j&&pe.kg<B||pe.kg>=B&&re.reproductiveStatus!=="En Servicio"&&re.reproductiveStatus!=="Preada":!1}).length,O=m.cabritonas.length-D-y,F=m.cabritas.length,H=m.cabritos.length,Y=F+H,q=[{name:"Hembras",value:F,color:"#FF2D55"},{name:"Machos",value:H,color:"#007AFF"}].filter(re=>re.value>0),{diasAlertaPesarDestete:Z,pesoMinimoPesarDestete:W,diasMetaDesteteFinal:oe,pesoMinimoDesteteFinal:te}=s,ue=[...m.cabritas,...m.cabritos].map(re=>{const pe=Ko(re.birthDate),xe=n.filter(mt=>mt.animalId===re.id).sort((mt,pt)=>new Date(pt.date).getTime()-new Date(mt.date).getTime())[0],Ae=(xe==null?void 0:xe.kg)||0,He=pe>=oe,Ie=Ae>=te;if(He&&Ie)return{id:re.id,status:"Listo para Destete"};const fe=pe>=Z,$e=Ae>=W;return fe||$e?{id:re.id,status:"Prximo a Destete"}:{id:re.id,status:"Amamantando"}}),R=ue.filter(re=>re.status==="Listo para Destete").length,$=ue.filter(re=>re.status==="Prximo a Destete").length,J=ue.filter(re=>re.status==="Amamantando").length,ne=[{name:"Listo",value:R,color:"#34C759"},{name:"Prximo",value:$,color:"#FF9F0A"},{name:"Amamantando",value:J,color:"#007AFF"}].filter(re=>re.value>0),he=new Set(i.filter(re=>re.status==="Activo").map(re=>re.id)),Se=r.filter(re=>he.has(re.seasonId)),we=m.reproductores.filter(re=>Se.some(pe=>pe.sireId===re.id)).map(re=>{const pe=Se.find(Ae=>Ae.sireId===re.id),xe=t.filter(Ae=>Ae.sireLotId===pe.id).length;return{...re,lotId:pe.id,assignedFemales:xe}});return{totalPoblacion:l.length,totalHembras:A,totalVientres:p,cabras:{total:m.cabras.length,enProduccion:v,secas:g,preadas:y,vacias:b,enMonta:C,reproductiveStatusData:E,milkingPercentageData:_},cabritonas:{total:m.cabritonas.length,enMonta:D,disponibles:O,proximasAServicio:k},crias:{total:Y,hembras:F,machos:H,criasEnMaternidadData:q,enFaseDestete:0,proximasADestete:$,listasParaDestete:R,desteteStatusData:ne},reproductores:{total:m.reproductores.length,activos:we}}},[t,e,n,r,i,a,s.pesoPrimerServicioKg,s.edadPrimerServicioMeses,s.diasAlertaPesarDestete,s.pesoMinimoPesarDestete,s.diasMetaDesteteFinal,s.pesoMinimoDesteteFinal])},Vn=t=>{if(!t)return"N/A";const e=t.id,n=t.name,r=t.isReference,i=e?e.toUpperCase().trim():"ID_DESCONOCIDO",a=n?String(n).toUpperCase().trim():"";return r&&a.length>0&&i.startsWith("REF-")?a:a.length>0?`${i} ${a}`:i},s7e=({title:t,value:e,icon:n,onClick:r})=>c.jsxs("button",{onClick:r,className:"flex-shrink-0 w-32 bg-dashboard-surface backdrop-blur-xl rounded-2xl p-4 border border-brand-border/50 text-left hover:border-brand-orange/60 hover:bg-dashboard-surface-hover transition-all duration-200 group",children:[c.jsx(n,{className:"w-6 h-6 text-zinc-400 mb-2 group-hover:text-brand-orange transition-colors"}),c.jsx("p",{className:"text-2xl font-semibold text-white",children:e}),c.jsx("p",{className:"text-sm font-medium text-zinc-400",children:t})]}),o7e=({value:t,onChange:e})=>c.jsxs("div",{className:"flex rounded-lg bg-brand-glass border border-brand-border p-0.5",children:[c.jsxs("button",{onClick:()=>e("physical"),className:`w-1/2 rounded-md px-3 py-1.5 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${t==="physical"?"bg-zinc-700 text-white shadow-sm":"text-zinc-400 hover:text-white"}`,children:[c.jsx(Hpe,{size:16})," Lotes"]}),c.jsxs("button",{onClick:()=>e("breeding"),className:`w-1/2 rounded-md px-3 py-1.5 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${t==="breeding"?"bg-zinc-700 text-white shadow-sm":"text-zinc-400 hover:text-white"}`,children:[c.jsx(o0,{size:16})," Lotes de Monta"]})]}),pd=({title:t,children:e})=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-brand-light-gray mb-3 px-1",children:t}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-lg rounded-xl p-4 border border-brand-border/50",children:e})]}),md=({label:t,value:e,unit:n,subLabel:r,icon:i})=>c.jsxs("div",{className:"flex justify-between items-center py-2.5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsx(i,{className:"w-5 h-5 text-zinc-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base text-white",children:t}),r&&c.jsx("p",{className:"text-xs text-brand-medium-gray mt-0.5",children:r})]})]}),c.jsxs("div",{className:"flex items-baseline gap-1.5",children:[c.jsx("p",{className:"text-xl font-semibold text-white",children:e}),c.jsx("p",{className:"text-sm text-brand-medium-gray",children:n})]})]}),rN=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"p-2 bg-zinc-800/80 backdrop-blur-md rounded-lg border border-zinc-700 text-white text-sm",children:[c.jsx("p",{className:"font-semibold mb-1",children:n||e[0].name}),e.map((r,i)=>c.jsxs("p",{style:{color:r.color},children:[r.name,": ",c.jsxs("span",{className:"font-bold",children:[r.value,r.unit]})]},`item-${i}`))]}):null;function sH({navigateTo:t}){const[e,n]=P.useState("physical"),[r,i]=P.useState(!1),[a,s]=P.useState(!1),[o,l]=P.useState(!1),[u,A]=P.useState(!1),[d,f]=P.useState(!1),h=a7e(),p=[{title:"Cabras",value:h.cabras.total,icon:L5,onClick:()=>s(!0)},{title:"Cabritonas",value:h.cabritonas.total,icon:ya,onClick:()=>l(!0)},{title:"Cras",value:h.crias.total,icon:Co,onClick:()=>A(!0)},{title:"Reproductores",value:h.reproductores.total,icon:Ppe,onClick:()=>f(!0)}];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-lg mx-auto space-y-6",children:[c.jsxs("div",{className:"flex justify-around items-baseline text-center px-4 pt-4",children:[c.jsxs("button",{onClick:()=>t({name:"herd",kpiFilter:"all"}),className:"hover:opacity-80 transition-opacity",children:[c.jsx("span",{className:"text-4xl font-semibold text-zinc-200",children:h.totalPoblacion}),c.jsx("p",{className:"text-sm text-zinc-400 uppercase tracking-wider",children:"Animales"})]}),c.jsx("div",{className:"border-l border-zinc-700 h-10 mx-2"}),c.jsxs("button",{onClick:()=>t({name:"herd",kpiFilter:"females"}),className:"hover:opacity-80 transition-opacity",children:[c.jsx("span",{className:"text-4xl font-semibold text-zinc-200",children:h.totalHembras}),c.jsx("p",{className:"text-sm text-zinc-400 uppercase tracking-wider",children:"Hembras"})]}),c.jsx("div",{className:"border-l border-zinc-700 h-10 mx-2"}),c.jsxs("button",{onClick:()=>t({name:"herd",kpiFilter:"vientres"}),className:"hover:opacity-80 transition-opacity",children:[c.jsx("span",{className:"text-5xl font-bold text-white",children:h.totalVientres}),c.jsx("p",{className:"text-sm text-zinc-400 uppercase tracking-wider -mt-1",children:"Vientres"})]})]}),c.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-4 px-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:`
                        .horizontal-scroll::-webkit-scrollbar {
                            display: none;
                        }
                    `}),p.map(m=>c.jsx(s7e,{title:m.title,value:m.value,icon:m.icon,onClick:m.onClick},m.title))]}),c.jsxs("div",{className:"pt-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Lotes de Manejo"}),e==="physical"&&c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 text-sm text-brand-orange font-semibold",children:[c.jsx(ba,{size:16})," Aadir"]})]}),c.jsx(o7e,{value:e,onChange:n})]}),c.jsxs("div",{className:"pt-0",children:[e==="physical"&&c.jsx(lbe,{navigateTo:t}),e==="breeding"&&c.jsx(fbe,{navigateTo:t})]})]}),c.jsxs(fn,{isOpen:a,onClose:()=>s(!1),title:"Anlisis de Hembras Adultas",children:[c.jsxs("button",{onClick:()=>{s(!1),t({name:"herd",kpiFilter:"Cabra"})},className:"w-full text-center py-3 px-4 bg-brand-glass hover:bg-zinc-700 border border-brand-border rounded-lg text-brand-orange font-semibold text-sm mb-4 transition-colors",children:["Ver Lista de ",h.cabras.total," Cabras"]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs(pd,{title:"Estado Productivo y Reproductivo",children:[c.jsx(md,{icon:Lpe,label:"En Produccin",unit:"cabras",value:h.cabras.enProduccion,subLabel:`${(h.cabras.total>0?h.cabras.enProduccion/h.cabras.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(md,{icon:Cc,label:"Secas",unit:"cabras",value:h.cabras.secas,subLabel:`${(h.cabras.total>0?h.cabras.secas/h.cabras.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(md,{icon:FR,label:"En Monta Activa",unit:"cabras",value:h.cabras.enMonta})]}),c.jsx(pd,{title:"Estado Reproductivo (Vientres)",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(VI,{children:[c.jsx(su,{data:h.cabras.reproductiveStatusData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:h.cabras.reproductiveStatusData.map(m=>c.jsx(yc,{fill:m.color,stroke:"none"},`cell-${m.name}`))}),c.jsx(Er,{content:c.jsx(rN,{})}),c.jsx(Il,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),c.jsx(pd,{title:"Rendimiento Anual en Ordeo",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(Fl,{data:h.cabras.milkingPercentageData,margin:{top:15,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},axisLine:!1,tickLine:!1}),c.jsx(Bi,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"%",axisLine:!1,tickLine:!1}),c.jsx(Er,{content:c.jsx(rN,{unit:"%"}),cursor:{fill:"rgba(255, 255, 255, 0.08)"}}),c.jsx(Xa,{dataKey:"En Ordeo (%)",fill:"#FF9500",radius:[8,8,0,0],animationDuration:500})]})})})})]})]}),c.jsxs(fn,{isOpen:o,onClose:()=>l(!1),title:"Anlisis de Cabritonas",children:[c.jsxs("button",{onClick:()=>{l(!1),t({name:"herd",kpiFilter:"Cabritona"})},className:"w-full text-center py-3 px-4 bg-brand-glass hover:bg-zinc-700 border border-brand-border rounded-lg text-brand-orange font-semibold text-sm mb-4 transition-colors",children:["Ver Lista de ",h.cabritonas.total," Cabritonas"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(pd,{title:"Disponibilidad para Monta",children:[c.jsx(md,{icon:FR,label:"En Monta",unit:"cabritonas",value:h.cabritonas.enMonta,subLabel:`${(h.cabritonas.total>0?h.cabritonas.enMonta/h.cabritonas.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(md,{icon:ZA,label:"Disponibles",unit:"cabritonas",value:h.cabritonas.disponibles})]}),c.jsx(pd,{title:"Prximas a Servicio",children:c.jsx(md,{icon:gme,label:"Con Peso ptimo",unit:"cabritonas",value:h.cabritonas.proximasAServicio,subLabel:"( 28.5 Kg y sin lote asignado)"})})]})]}),c.jsxs(fn,{isOpen:u,onClose:()=>A(!1),title:"Anlisis de Cras en Maternidad",children:[c.jsxs("button",{onClick:()=>{A(!1),t({name:"herd",kpiFilter:"Crias"})},className:"w-full text-center py-3 px-4 bg-brand-glass hover:bg-zinc-700 border border-brand-border rounded-lg text-brand-orange font-semibold text-sm mb-4 transition-colors",children:["Ver Lista de ",h.crias.total," Cras"]}),c.jsxs("div",{className:"space-y-5",children:[c.jsx(pd,{title:"Distribucin por Sexo",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(VI,{children:[c.jsx(su,{data:h.crias.criasEnMaternidadData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:h.crias.criasEnMaternidadData.map(m=>c.jsx(yc,{fill:m.color,stroke:"none"},`cell-${m.name}`))}),c.jsx(Er,{content:c.jsx(rN,{})}),c.jsx(Il,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),c.jsxs(pd,{title:"Estado de Destete",children:[c.jsx(md,{icon:Co,label:"Listas para Destete",unit:"cras",value:h.crias.listasParaDestete,subLabel:" 52 das y  9.5 Kg"}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(md,{icon:Spe,label:"Prximas a Destete",unit:"cras",value:h.crias.proximasADestete,subLabel:"Cerca por edad o peso"})]})]})]}),c.jsxs(fn,{isOpen:d,onClose:()=>f(!1),title:"Estado de Reproductores",children:[c.jsxs("button",{onClick:()=>{f(!1),t({name:"herd",kpiFilter:"Reproductor"})},className:"w-full text-center py-3 px-4 bg-brand-glass hover:bg-zinc-700 border border-brand-border rounded-lg text-brand-orange font-semibold text-sm mb-4 transition-colors",children:["Ver Lista de ",h.reproductores.total," Reproductores"]}),c.jsx("div",{className:"space-y-4",children:c.jsx(pd,{title:"Activos en Temporada de Monta",children:h.reproductores.activos.length>0?h.reproductores.activos.map((m,v)=>c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{f(!1),t({name:"sire-lot-detail",lotId:m.lotId})},className:"w-full text-left p-2 rounded-lg flex justify-between items-center hover:bg-brand-glass transition-colors group",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:Vn(m)}),c.jsx("p",{className:"text-xs text-brand-medium-gray",children:"Ver lote de monta asignado"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-base font-semibold text-brand-orange",children:[m.assignedFemales," hembras"]}),c.jsx(ea,{className:"text-zinc-500 group-hover:text-white transition-colors"})]})]}),v<h.reproductores.activos.length-1&&c.jsx("div",{className:"border-b border-brand-border/50 mx-2"})]},m.id)):c.jsx("p",{className:"text-sm text-brand-medium-gray text-center py-4",children:"No hay reproductores activos en una temporada de monta actualmente."})})})]}),c.jsx(vme,{isOpen:r,onClose:()=>i(!1)})]})}const l7e=()=>({isRelated:P.useCallback((e,n,r)=>{if(!e||!n)return!1;const i=r.find(a=>a.id===e);if(!i)return!1;if(i.fatherId===n)return!0;if(i.motherId){const a=r.find(s=>s.id===i.motherId);if(a&&a.fatherId===n)return!0}return!1},[])}),c7e=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const s=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,l)=>new Date(l.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];s&&(s.status==="activa"?a.push("MILKING"):s.status==="en-secado"?a.push("DRYING_OFF"):a.push("DRY"))}if(t.reproductiveStatus==="Preada"?a.push("PREGNANT"):t.reproductiveStatus==="En Servicio"?n.some(o=>o.femaleId===t.id&&o.sireLotId===t.sireLotId)?a.push("IN_SERVICE_CONFIRMED"):a.push("IN_SERVICE"):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push("EMPTY"),t.sex==="Macho"){const s=i.filter(u=>u.status==="Activo"),o=new Set(s.map(u=>u.id));r.some(u=>u.sireId===t.id&&o.has(u.seasonId))&&a.push("SIRE_IN_SERVICE")}return Array.from(new Set(a))},u7e=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabro"],oH=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-zinc-400 mb-2",children:t}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:()=>r("ALL"),className:`px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return c.jsxs("button",{type:"button",onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-blue text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&c.jsx(a,{size:14}),i.label]},i.key)})]})]}),A7e=({activeMode:t,setActiveMode:e})=>c.jsxs("div",{className:"flex bg-zinc-900 rounded-xl p-1 w-full flex-shrink-0",children:[c.jsxs("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${t==="Activo"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(ZA,{size:16})," Activos"]}),c.jsxs("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${t==="Referencia"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(jq,{size:16})," Referencia"]})]}),d7e=({animal:t,isSelected:e,onToggle:n,inbreedingRisk:r})=>{const i=t.name?String(t.name).toUpperCase().trim():"";return c.jsx("div",{onClick:()=>n(t.id),className:`w-full text-left p-3 rounded-xl cursor-pointer transition-colors flex items-center justify-between min-h-[70px]
    	 	 ${r?"bg-yellow-900/50 border border-yellow-500/60 hover:bg-yellow-800/50":"bg-zinc-800/50 hover:bg-zinc-700"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"flex-shrink-0",children:e?c.jsx(R5,{className:"text-brand-green",size:20}):c.jsx(U5,{className:"text-zinc-500",size:20})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]})]})})},HE=({isOpen:t,onClose:e,onSelect:n,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:l,sireIdForInbreedingCheck:u,sessionType:A})=>{const{isRelated:d}=l7e(),[f,h]=P.useState(""),[p,m]=P.useState("Activo"),[v,g]=P.useState(new Set),[y,b]=P.useState(!1),[C,E]=P.useState("ALL"),[N,_]=P.useState("ALL"),[B,j]=P.useState("ALL"),[D,k]=P.useState("ALL"),O=()=>{E("ALL"),_("ALL"),j("ALL"),k("ALL")},F=P.useMemo(()=>r.map(R=>({...R,statuses:c7e(R,i,a,o,s),formattedAge:fu(R.birthDate),zootecnicCategory:xc(R,i)})),[r,i,a,o,s]);P.useEffect(()=>{t&&A&&(O(),A==="leche"&&_("MILKING"))},[t,A]);const H=P.useMemo(()=>{let R=F;if(R=R.filter($=>p==="Activo"?$.status==="Activo"&&!$.isReference&&!$.sireLotId:$.isReference),C!=="ALL"&&(R=R.filter($=>$.zootecnicCategory===C)),p==="Activo"?(N!=="ALL"&&(R=R.filter($=>$.statuses.includes(N))),B!=="ALL"&&(R=R.filter($=>$.statuses.includes(B)))):D!=="ALL"&&(R=R.filter($=>$.status===D)),A==="leche"&&(R=R.filter($=>$.statuses.includes("MILKING"))),f){const $=f.toLowerCase();R=R.filter(J=>J.id.toLowerCase().includes($)||J.name&&J.name.toLowerCase().includes($))}return R.sort(($,J)=>$.id.localeCompare(J.id))},[F,C,N,B,D,p,f,A]);P.useEffect(()=>{t&&A&&g(new Set(H.map(R=>R.id)))},[H,t,A]);const Y=P.useMemo(()=>H.length>0&&H.every(R=>v.has(R.id)),[H,v]),q=P.useMemo(()=>v.size>0&&!Y,[v,Y]),Z=()=>{g(Y?new Set:new Set(H.map(R=>R.id)))},W=R=>{g($=>{const J=new Set($);return J.has(R)?J.delete(R):J.add(R),J})},oe=()=>{n(Array.from(v)),te()},te=()=>{g(new Set),h(""),b(!1),e()},ue=l.replace("Aadir animales a:","Lote:");return c.jsxs(c.Fragment,{children:[c.jsx(fn,{isOpen:t,onClose:te,title:ue,size:"fullscreen",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"flex-shrink-0 space-y-3 px-2 pt-4 pb-2",children:c.jsxs("div",{className:"relative",children:[c.jsx($u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),c.jsx("input",{type:"search",placeholder:"Buscar ID o Nombre...",value:f,onChange:R=>h(R.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]})}),c.jsxs("div",{className:"flex-grow overflow-y-auto space-y-2 px-2 min-h-[10rem]",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsxs("div",{onClick:Z,className:"flex items-center gap-3 cursor-pointer p-1",children:[Y?c.jsx(R5,{className:"text-brand-green",size:20}):q?c.jsx(Gpe,{className:"text-zinc-500",size:20}):c.jsx(U5,{className:"text-zinc-500",size:20}),c.jsxs("span",{className:"text-sm font-semibold text-zinc-300",children:[Y?"Deseleccionar Todos":"Seleccionar Todos"," (",H.length,")"]})]}),c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-1.5 text-brand-blue font-semibold p-2 rounded-lg hover:bg-zinc-800",children:[c.jsx(Tq,{size:16}),"Filtros"]})]}),H.length>0?H.map(R=>{const $=u?d(R.id,u,r):!1;return c.jsx(d7e,{animal:R,isSelected:v.has(R.id),onToggle:W,inbreedingRisk:$},R.id)}):c.jsx("p",{className:"text-zinc-500 text-center py-8",children:f?`No se encontraron resultados para "${f}"`:"No hay animales con estos filtros."})]}),c.jsx("div",{className:"flex-shrink-0 px-2 py-4 border-t border-zinc-700/50 bg-ios-modal-bg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:te,className:"text-zinc-400 hover:text-white px-4 py-2",children:c.jsx("span",{className:"font-semibold",children:"Cancelar"})}),c.jsxs("button",{onClick:oe,disabled:v.size===0,className:"bg-brand-green hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl disabled:opacity-50 transition-colors",children:["Seleccionar (",v.size,")"]})]})})]})}),c.jsx(fn,{isOpen:y,onClose:()=>b(!1),title:"Filtros",size:"default",children:c.jsxs("div",{className:"space-y-4 px-4 pb-4",children:[c.jsx(A7e,{activeMode:p,setActiveMode:m}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Categora Zootcnica"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>E("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${C==="ALL"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Todos"}),u7e.map(R=>c.jsx("button",{onClick:()=>E(R),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${C===R?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:R},R))]})]}),p==="Activo"&&c.jsxs(c.Fragment,{children:[c.jsx(oH,{title:"Filtros Productivos",filters:["MILKING","DRYING_OFF","DRY"].map(R=>Dr[R]).filter(Boolean),activeFilter:N,onFilterChange:_}),c.jsx(oH,{title:"Filtros Reproductivos",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(R=>Dr[R]).filter(Boolean),activeFilter:B,onFilterChange:j})]}),p==="Referencia"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Causa de Baja"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>k("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="ALL"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Todas"}),c.jsx("button",{onClick:()=>k("Venta"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Venta"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Venta"}),c.jsx("button",{onClick:()=>k("Muerte"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Muerte"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Muerte"}),c.jsx("button",{onClick:()=>k("Descarte"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Descarte"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Descarte"})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-zinc-700/50",children:[c.jsxs("button",{onClick:O,className:"flex-shrink-0 p-2 rounded-xl border border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:[c.jsx(DD,{size:16})," ",c.jsx("span",{className:"ml-1 text-sm",children:"Limpiar Filtros"})]}),c.jsx("button",{onClick:()=>b(!1),className:"px-5 py-2 bg-brand-blue text-white font-bold rounded-lg",children:"Ver Resultados"})]})]})})]})},f7e=({isOpen:t,onClose:e,animalsToTransfer:n,fromLot:r})=>{const{lots:i,updateAnimal:a}=en(),[s,o]=P.useState(""),l=P.useMemo(()=>i.filter(A=>A.name!==r),[i,r]),u=async()=>{if(!s||n.length===0)return;const A=n.map(d=>a(d,{location:s}));try{await Promise.all(A),e()}catch(d){console.error("Error al transferir animales:",d)}};return c.jsx(fn,{isOpen:t,onClose:e,title:`Transferir ${n.length} animales`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:["Transferir desde: ",c.jsx("span",{className:"font-semibold text-white",children:r})]}),c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1 mt-4",children:"Hacia el lote:"}),c.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[c.jsx("option",{value:"",children:"Seleccionar lote de destino..."}),l.map(A=>c.jsx("option",{value:A.name,children:A.name},A.id))]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:u,disabled:!s,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:"Confirmar Transferencia"})]})]})})};function Dp(t,e,n){let r=n.initialDeps??[],i;function a(){var s,o,l,u;let A;n.key&&((s=n.debug)!=null&&s.call(n))&&(A=Date.now());const d=t();if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return i;r=d;let h;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(h=Date.now()),i=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-A)*100)/100,m=Math.round((Date.now()-h)*100)/100,v=m/16,g=(y,b)=>{for(y=String(y);y.length<b;)y=" "+y;return y};console.info(`%c ${g(m,5)} /${g(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,i),i}return a.updateDeps=s=>{r=s},a}function lH(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const h7e=(t,e)=>Math.abs(t-e)<1.01,p7e=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},cH=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},m7e=t=>t,g7e=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},v7e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=s=>{const{width:o,height:l}=s;e({width:Math.round(o),height:Math.round(l)})};if(i(cH(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(s=>{const o=()=>{const l=s[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(cH(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},uH={passive:!0},AH=typeof window>"u"?!0:"onscrollend"in window,y7e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const a=t.options.useScrollendEvent&&AH?()=>{}:p7e(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=A=>()=>{const{horizontal:d,isRtl:f}=t.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,a(),e(i,A)},o=s(!0),l=s(!1);l(),n.addEventListener("scroll",o,uH);const u=t.options.useScrollendEvent&&AH;return u&&n.addEventListener("scrollend",l,uH),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},b7e=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},x7e=(t,{adjustments:e=0,behavior:n},r)=>{var i,a;const s=t+e;(a=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class w7e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const s=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=r())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=r())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:m7e,rangeExtractor:g7e,onChange:()=>{},measureElement:b7e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Dp(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,a=new Map;for(let s=r-1;s>=0;s--){const o=n[s];if(i.has(o.lane))continue;const l=a.get(o.lane);if(l==null||o.end>l.end?a.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=Dp(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=Dp(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(A=>{this.itemSizeCache.set(A.key,A.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let A=l;A<n;A++){const d=a(A),f=this.options.lanes===1?u[A-1]:this.getFurthestMeasurement(u,A),h=f?f.end+this.options.gap:r+i,p=o.get(d),m=typeof p=="number"?p:this.options.estimateSize(A),v=h+m,g=f?f.lane:A%this.options.lanes;u[A]={index:A,start:h,size:m,end:v,key:d,lane:g}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Dp(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,a)=>this.range=n.length>0&&r>0?C7e({measurements:n,outerSize:r,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Dp(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,a,s)=>a===null||s===null?[]:n({startIndex:a,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=r-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Dp(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let a=0,s=n.length;a<s;a++){const o=n[a],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return lH(r[gte(0,r.length-1,i=>lH(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const a=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+a?"end":"start"),r==="center"?n+=(i-a)/2:r==="end"&&(n-=a);const o=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const s=10,o=u=>{if(!this.targetWindow)return;const A=this.getOffsetForIndex(n,u);if(!A){console.warn("Failed to get offset for index:",n);return}const[d,f]=A;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const h=this.getScrollOffset(),p=this.getOffsetForIndex(n,f);if(!p){console.warn("Failed to get offset for index:",n);return}h7e(p[0],h)||l(f)})},l=u=>{this.targetWindow&&(a++,a<s?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&a.some(o=>o===null);){const o=r[s];a[o.lane]===null&&(a[o.lane]=o.end),s--}i=Math.max(...a.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const gte=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,a=n(i);if(a<r)t=i+1;else if(a>r)e=i-1;else return i}return t>0?t-1:0};function C7e({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,a=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let s=gte(0,i,a,n),o=s;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(A=>A<n+e);){const A=t[o];l[A.lane]=A.end,o++}const u=Array(r).fill(n+e);for(;s>=0&&u.some(A=>A>=n);){const A=t[s];u[A.lane]=A.start,s--}s=Math.max(0,s-s%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}const dH=typeof document<"u"?P.useLayoutEffect:P.useEffect;function S7e(t){const e=P.useReducer(()=>({}),{})[1],n={...t,onChange:(i,a)=>{var s;a?Ly.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,a)}},[r]=P.useState(()=>new w7e(n));return r.setOptions(n),dH(()=>r._didMount(),[]),dH(()=>r._willUpdate()),r}function vte(t){return S7e({observeElementRect:v7e,observeElementOffset:y7e,scrollToFn:x7e,...t})}const yte=({statuses:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((n,r)=>{const i=["MILKING","DRYING_OFF","DRY","PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"];return i.indexOf(n.key)-i.indexOf(r.key)});return c.jsx("div",{className:"flex items-center space-x-1.5",children:e.map(({key:n,Icon:r,color:i,label:a})=>c.jsx("span",{title:a,children:c.jsx(r,{className:i,size:16,strokeWidth:2.5})},n))})},PO=({animal:t,onSelect:e,onOpenActions:n})=>{const r=dp(),i=P.useRef(!1),a=(l,u)=>{const A=u.offset.x,d=u.velocity.x;(A<-80/2||d<-500)&&n(t),r.start({x:0}),setTimeout(()=>{i.current=!1},50)},s=t.isReference?t.sex==="Macho"?"bg-blue-400":"bg-pink-400":null,o=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border min-h-[80px]",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("div",{className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(ba,{size:20}),c.jsx("span",{className:"text-[10px] mt-0.5 font-semibold",children:"Acciones"})]})}),s&&c.jsx("div",{className:`absolute top-2 right-2 w-2 h-2 rounded-full ${s} z-20`,title:t.sex}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{i.current=!0},onDragEnd:a,onTap:()=>{i.current||e(t.id)},animate:r,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-3 flex items-center min-h-[80px]",children:c.jsxs("div",{className:"flex justify-between items-center w-full",children:[" ",c.jsxs("div",{className:"min-w-0 pr-3",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),o&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:o}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]}),t.sireName&&c.jsxs("span",{className:"block sm:inline sm:ml-2",children:["(Rep: ",t.sireName,")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[" ",c.jsx(yte,{statuses:t.statusObjects})," ",c.jsx(ea,{className:"text-zinc-600 w-5 h-5"})," "]})]})})]})},DO=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState(""),{fathers:u}=en(),A=()=>{l("");const d=r.trim().toUpperCase(),f=a.trim();if(!d||!f){l("Ambos campos son obligatorios.");return}if(u.some(h=>h.id===d)){l("Este ID ya est en uso. Por favor, elige otro.");return}n({id:d,name:f}),i(""),s("")};return c.jsx(fn,{isOpen:t,onClose:e,title:"Aadir Nuevo Padre",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID nico y el nombre del nuevo semental."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"}),c.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Nombre del Padre (ej. Sansn)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),o&&c.jsx("p",{className:"text-sm text-brand-red",children:o}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500 font-semibold",children:"Cancelar"}),c.jsx("button",{onClick:A,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Padre"})]})]})})};function Br(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ml(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function vo(t,e){const n=Br(t);return isNaN(e)?Ml(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function lu(t,e){const n=Br(t);if(isNaN(e))return Ml(t,NaN);if(!e)return n;const r=n.getDate(),i=Ml(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const OO=6048e5,E7e=864e5;let _7e={};function Nx(){return _7e}function Gu(t,e){var o,l,u,A;const n=Nx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,i=Br(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function ep(t){return Gu(t,{weekStartsOn:1})}function bte(t){const e=Br(t),n=e.getFullYear(),r=Ml(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ep(r),a=Ml(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=ep(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Kg(t){const e=Br(t);return e.setHours(0,0,0,0),e}function vS(t){const e=Br(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Du(t,e){const n=Kg(t),r=Kg(e),i=+n-vS(n),a=+r-vS(r);return Math.round((i-a)/E7e)}function B7e(t){const e=bte(t),n=Ml(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ep(n)}function WI(t,e){const n=e*7;return vo(t,n)}function N7e(t,e){return lu(t,e*12)}function j7e(t){let e;return t.forEach(function(n){const r=Br(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function T7e(t){let e;return t.forEach(n=>{const r=Br(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Ro(t,e){const n=Kg(t),r=Kg(e);return+n==+r}function FO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function I7e(t){if(!FO(t)&&typeof t!="number")return!1;const e=Br(t);return!isNaN(Number(e))}function Mb(t,e){const n=Br(t),r=Br(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function k7e(t,e,n){const r=Gu(t,n),i=Gu(e,n),a=+r-vS(r),s=+i-vS(i);return Math.round((a-s)/OO)}function MO(t){const e=Br(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Wo(t){const e=Br(t);return e.setDate(1),e.setHours(0,0,0,0),e}function xte(t){const e=Br(t),n=Ml(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LO(t,e){var o,l,u,A;const n=Nx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,i=Br(t),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function wte(t){return LO(t,{weekStartsOn:1})}const P7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D7e=(t,e,n)=>{let r;const i=P7e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Um(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const O7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L7e={date:Um({formats:O7e,defaultWidth:"full"}),time:Um({formats:F7e,defaultWidth:"full"}),dateTime:Um({formats:M7e,defaultWidth:"full"})},R7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U7e=(t,e,n,r)=>R7e[t];function Tu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Q7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W7e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},G7e={ordinalNumber:W7e,era:Tu({values:Q7e,defaultWidth:"wide"}),quarter:Tu({values:H7e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Tu({values:z7e,defaultWidth:"wide"}),day:Tu({values:V7e,defaultWidth:"wide"}),dayPeriod:Tu({values:$7e,defaultWidth:"wide",formattingValues:K7e,defaultFormattingWidth:"wide"})};function Iu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Y7e(o,d=>d.test(s)):q7e(o,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const A=e.slice(s.length);return{value:u,rest:A}}}function q7e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Y7e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Cte(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const X7e=/^(\d+)(th|st|nd|rd)?/i,J7e=/\d+/i,Z7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eHe={any:[/^b/i,/^(a|c)/i]},tHe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nHe={any:[/1/i,/2/i,/3/i,/4/i]},rHe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iHe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aHe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sHe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oHe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lHe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cHe={ordinalNumber:Cte({matchPattern:X7e,parsePattern:J7e,valueCallback:t=>parseInt(t,10)}),era:Iu({matchPatterns:Z7e,defaultMatchWidth:"wide",parsePatterns:eHe,defaultParseWidth:"any"}),quarter:Iu({matchPatterns:tHe,defaultMatchWidth:"wide",parsePatterns:nHe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Iu({matchPatterns:rHe,defaultMatchWidth:"wide",parsePatterns:iHe,defaultParseWidth:"any"}),day:Iu({matchPatterns:aHe,defaultMatchWidth:"wide",parsePatterns:sHe,defaultParseWidth:"any"}),dayPeriod:Iu({matchPatterns:oHe,defaultMatchWidth:"any",parsePatterns:lHe,defaultParseWidth:"any"})},Ste={code:"en-US",formatDistance:D7e,formatLong:L7e,formatRelative:U7e,localize:G7e,match:cHe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uHe(t){const e=Br(t);return Du(e,xte(e))+1}function Ete(t){const e=Br(t),n=+ep(e)-+B7e(e);return Math.round(n/OO)+1}function _te(t,e){var A,d,f,h;const n=Br(t),r=n.getFullYear(),i=Nx(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=Ml(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Gu(s,e),l=Ml(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=Gu(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function AHe(t,e){var o,l,u,A;const n=Nx(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,i=_te(t,e),a=Ml(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Gu(a,e)}function Bte(t,e){const n=Br(t),r=+Gu(n,e)-+AHe(n,e);return Math.round(r/OO)+1}function zr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const gd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return zr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):zr(n+1,2)},d(t,e){return zr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return zr(t.getHours()%12||12,e.length)},H(t,e){return zr(t.getHours(),e.length)},m(t,e){return zr(t.getMinutes(),e.length)},s(t,e){return zr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zr(i,e.length)}},Op={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fH={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return gd.y(t,e)},Y:function(t,e,n,r){const i=_te(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return zr(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):zr(a,e.length)},R:function(t,e){const n=bte(t);return zr(n,e.length)},u:function(t,e){const n=t.getFullYear();return zr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return gd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Bte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):zr(i,e.length)},I:function(t,e,n){const r=Ete(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):zr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):gd.d(t,e)},D:function(t,e,n){const r=uHe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return zr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return zr(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return zr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Op.noon:r===0?i=Op.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Op.evening:r>=12?i=Op.afternoon:r>=4?i=Op.morning:i=Op.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):gd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):gd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):gd.s(t,e)},S:function(t,e){return gd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return pH(r);case"XXXX":case"XX":return eh(r);case"XXXXX":case"XXX":default:return eh(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return pH(r);case"xxxx":case"xx":return eh(r);case"xxxxx":case"xxx":default:return eh(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hH(r,":");case"OOOO":default:return"GMT"+eh(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hH(r,":");case"zzzz":default:return"GMT"+eh(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return zr(r,e.length)},T:function(t,e,n){const r=t.getTime();return zr(r,e.length)}};function hH(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+zr(a,2)}function pH(t,e){return t%60===0?(t>0?"-":"+")+zr(Math.abs(t)/60,2):eh(t,e)}function eh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=zr(Math.trunc(r/60),2),a=zr(r%60,2);return n+i+e+a}const mH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Nte=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dHe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return mH(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",mH(r,e)).replace("{{time}}",Nte(i,e))},fHe={p:Nte,P:dHe},hHe=/^D+$/,pHe=/^Y+$/,mHe=["D","DD","YY","YYYY"];function gHe(t){return hHe.test(t)}function vHe(t){return pHe.test(t)}function yHe(t,e,n){const r=bHe(t,e,n);if(console.warn(r),mHe.includes(t))throw new RangeError(r)}function bHe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xHe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wHe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CHe=/^'([^]*?)'?$/,SHe=/''/g,EHe=/[a-zA-Z]/;function vp(t,e,n){var A,d,f,h,p,m,v,g;const r=Nx(),i=(n==null?void 0:n.locale)??r.locale??Ste,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((g=(v=r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,o=Br(t);if(!I7e(o))throw new RangeError("Invalid time value");let l=e.match(wHe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const C=fHe[b];return C(y,i.formatLong)}return y}).join("").match(xHe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:_He(y)};if(fH[b])return{isToken:!0,value:y};if(b.match(EHe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&vHe(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gHe(b))&&yHe(b,e,String(t));const C=fH[b[0]];return C(o,b,i.localize,u)}).join("")}function _He(t){const e=t.match(CHe);return e?e[1].replace(SHe,"'"):t}function BHe(t){const e=Br(t),n=e.getFullYear(),r=e.getMonth(),i=Ml(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function NHe(t){return Math.trunc(+Br(t)/1e3)}function jHe(t){const e=Br(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function THe(t,e){return k7e(jHe(t),Wo(t),e)+1}function GI(t,e){const n=Br(t),r=Br(e);return n.getTime()>r.getTime()}function jte(t,e){const n=Br(t),r=Br(e);return+n<+r}function RO(t,e){const n=Br(t),r=Br(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function IHe(t,e){const n=Br(t),r=Br(e);return n.getFullYear()===r.getFullYear()}function iN(t,e){return vo(t,-e)}function aN(t,e){const n=Br(t),r=n.getFullYear(),i=n.getDate(),a=Ml(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const s=BHe(a);return n.setMonth(e,Math.min(i,s)),n}function gH(t,e){const n=Br(t);return isNaN(+n)?Ml(t,NaN):(n.setFullYear(e),n)}const kHe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},PHe=(t,e,n)=>{let r;const i=kHe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},DHe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},OHe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},FHe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MHe={date:Um({formats:DHe,defaultWidth:"full"}),time:Um({formats:OHe,defaultWidth:"full"}),dateTime:Um({formats:FHe,defaultWidth:"full"})},LHe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},RHe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},UHe=(t,e,n,r)=>e.getHours()!==1?RHe[t]:LHe[t],QHe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},HHe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},zHe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},VHe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},$He={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},KHe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},WHe=(t,e)=>Number(t)+"",GHe={ordinalNumber:WHe,era:Tu({values:QHe,defaultWidth:"wide"}),quarter:Tu({values:HHe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Tu({values:zHe,defaultWidth:"wide"}),day:Tu({values:VHe,defaultWidth:"wide"}),dayPeriod:Tu({values:$He,defaultWidth:"wide",formattingValues:KHe,defaultFormattingWidth:"wide"})},qHe=/^(\d+)()?/i,YHe=/\d+/i,XHe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},JHe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ZHe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},eze={any:[/1/i,/2/i,/3/i,/4/i]},tze={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},nze={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},rze={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},ize={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},aze={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},sze={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},oze={ordinalNumber:Cte({matchPattern:qHe,parsePattern:YHe,valueCallback:function(t){return parseInt(t,10)}}),era:Iu({matchPatterns:XHe,defaultMatchWidth:"wide",parsePatterns:JHe,defaultParseWidth:"any"}),quarter:Iu({matchPatterns:ZHe,defaultMatchWidth:"wide",parsePatterns:eze,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Iu({matchPatterns:tze,defaultMatchWidth:"wide",parsePatterns:nze,defaultParseWidth:"any"}),day:Iu({matchPatterns:rze,defaultMatchWidth:"wide",parsePatterns:ize,defaultParseWidth:"any"}),dayPeriod:Iu({matchPatterns:aze,defaultMatchWidth:"any",parsePatterns:sze,defaultParseWidth:"any"})},jx={code:"es",formatDistance:PHe,formatLong:MHe,formatRelative:UHe,localize:GHe,match:oze,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Tn=function(){return Tn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tn.apply(this,arguments)};function lze(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tte(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Tx(t){return t.mode==="multiple"}function Ix(t){return t.mode==="range"}function zE(t){return t.mode==="single"}var cze={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function uze(t,e){return vp(t,"LLLL y",e)}function Aze(t,e){return vp(t,"d",e)}function dze(t,e){return vp(t,"LLLL",e)}function fze(t){return"".concat(t)}function hze(t,e){return vp(t,"cccccc",e)}function pze(t,e){return vp(t,"yyyy",e)}var mze=Object.freeze({__proto__:null,formatCaption:uze,formatDay:Aze,formatMonthCaption:dze,formatWeekNumber:fze,formatWeekdayName:hze,formatYearCaption:pze}),gze=function(t,e,n){return vp(t,"do MMMM (EEEE)",n)},vze=function(){return"Month: "},yze=function(){return"Go to next month"},bze=function(){return"Go to previous month"},xze=function(t,e){return vp(t,"cccc",e)},wze=function(t){return"Week n. ".concat(t)},Cze=function(){return"Year: "},Sze=Object.freeze({__proto__:null,labelDay:gze,labelMonthDropdown:vze,labelNext:yze,labelPrevious:bze,labelWeekNumber:wze,labelWeekday:xze,labelYearDropdown:Cze});function Eze(){var t="buttons",e=cze,n=Ste,r={},i={},a=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:mze,labels:Sze,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function _ze(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return r?a=Wo(r):e&&(a=new Date(e,0,1)),i?s=MO(i):n&&(s=new Date(n,11,31)),{fromDate:a?Kg(a):void 0,toDate:s?Kg(s):void 0}}var Ite=P.createContext(void 0);function Bze(t){var e,n=t.initialProps,r=Eze(),i=_ze(n),a=i.fromDate,s=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var l;(zE(n)||Tx(n)||Ix(n))&&(l=n.onSelect);var u=Tn(Tn(Tn({},r),n),{captionLayout:o,classNames:Tn(Tn({},r.classNames),n.classNames),components:Tn({},n.components),formatters:Tn(Tn({},r.formatters),n.formatters),fromDate:a,labels:Tn(Tn({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Tn(Tn({},r.modifiers),n.modifiers),modifiersClassNames:Tn(Tn({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Tn(Tn({},r.styles),n.styles),toDate:s});return c.jsx(Ite.Provider,{value:u,children:t.children})}function pi(){var t=P.useContext(Ite);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function kte(t){var e=pi(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function Nze(t){return c.jsx("svg",Tn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pte(t){var e,n,r=t.onChange,i=t.value,a=t.children,s=t.caption,o=t.className,l=t.style,u=pi(),A=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Nze;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,c.jsx(A,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function jze(t){var e,n=pi(),r=n.fromDate,i=n.toDate,a=n.styles,s=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,A=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var d=[];if(IHe(r,i))for(var f=Wo(r),h=r.getMonth();h<=i.getMonth();h++)d.push(aN(f,h));else for(var f=Wo(new Date),h=0;h<=11;h++)d.push(aN(f,h));var p=function(v){var g=Number(v.target.value),y=aN(Wo(t.displayMonth),g);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Pte;return c.jsx(m,{name:"months","aria-label":A(),className:l.dropdown_month,style:a.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:d.map(function(v){return c.jsx("option",{value:v.getMonth(),children:o(v,{locale:s})},v.getMonth())})})}function Tze(t){var e,n=t.displayMonth,r=pi(),i=r.fromDate,a=r.toDate,s=r.locale,o=r.styles,l=r.classNames,u=r.components,A=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,f=[];if(!i)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});for(var h=i.getFullYear(),p=a.getFullYear(),m=h;m<=p;m++)f.push(gH(xte(new Date),m));var v=function(y){var b=gH(Wo(n),Number(y.target.value));t.onChange(b)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Pte;return c.jsx(g,{name:"years","aria-label":d(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:n.getFullYear(),caption:A(n,{locale:s}),children:f.map(function(y){return c.jsx("option",{value:y.getFullYear(),children:A(y,{locale:s})},y.getFullYear())})})}function Ize(t,e){var n=P.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function kze(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,s=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(a&&Mb(a,i)<0){var u=-1*(l-1);i=lu(a,u)}return s&&Mb(i,s)<0&&(i=s),Wo(i)}function Pze(){var t=pi(),e=kze(t),n=Ize(e,t.month),r=n[0],i=n[1],a=function(s){var o;if(!t.disableNavigation){var l=Wo(s);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,a]}function Dze(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Wo(t),a=Wo(lu(i,r)),s=Mb(a,i),o=[],l=0;l<s;l++){var u=lu(i,l);o.push(u)}return n&&(o=o.reverse()),o}function Oze(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=Wo(t);if(!n)return lu(o,s);var l=Mb(n,t);if(!(l<a))return lu(o,s)}}function Fze(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=Wo(t);if(!n)return lu(o,-s);var l=Mb(o,n);if(!(l<=0))return lu(o,-s)}}var Dte=P.createContext(void 0);function Mze(t){var e=pi(),n=Pze(),r=n[0],i=n[1],a=Dze(r,e),s=Oze(r,e),o=Fze(r,e),l=function(d){return a.some(function(f){return RO(d,f)})},u=function(d,f){l(d)||(f&&jte(d,f)?i(lu(d,1+e.numberOfMonths*-1)):i(d))},A={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:l};return c.jsx(Dte.Provider,{value:A,children:t.children})}function kx(){var t=P.useContext(Dte);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function vH(t){var e,n=pi(),r=n.classNames,i=n.styles,a=n.components,s=kx().goToMonth,o=function(A){s(lu(A,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:kte,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:u}),c.jsx(jze,{onChange:o,displayMonth:t.displayMonth}),c.jsx(Tze,{onChange:o,displayMonth:t.displayMonth})]})}function Lze(t){return c.jsx("svg",Tn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Rze(t){return c.jsx("svg",Tn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var yS=P.forwardRef(function(t,e){var n=pi(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var s=a.join(" "),o=Tn(Tn({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",Tn({},t,{ref:e,type:"button",className:s,style:o}))});function Uze(t){var e,n,r=pi(),i=r.dir,a=r.locale,s=r.classNames,o=r.styles,l=r.labels,u=l.labelPrevious,A=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var f=u(t.previousMonth,{locale:a}),h=[s.nav_button,s.nav_button_previous].join(" "),p=A(t.nextMonth,{locale:a}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:Rze,g=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:Lze;return c.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(yS,{name:"previous-month","aria-label":f,className:h,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(v,{className:s.nav_icon,style:o.nav_icon}):c.jsx(g,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(yS,{name:"next-month","aria-label":p,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(g,{className:s.nav_icon,style:o.nav_icon}):c.jsx(v,{className:s.nav_icon,style:o.nav_icon})})]})}function yH(t){var e=pi().numberOfMonths,n=kx(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,s=n.displayMonths,o=s.findIndex(function(p){return RO(t.displayMonth,p)}),l=o===0,u=o===s.length-1,A=e>1&&(l||!u),d=e>1&&(u||!l),f=function(){r&&a(r)},h=function(){i&&a(i)};return c.jsx(Uze,{displayMonth:t.displayMonth,hideNext:A,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:h})}function Qze(t){var e,n=pi(),r=n.classNames,i=n.disableNavigation,a=n.styles,s=n.captionLayout,o=n.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:kte,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=c.jsx(vH,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(vH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(yH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(yH,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:r.caption,style:a.caption,children:u})}function Hze(t){var e=pi(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?c.jsx("tfoot",{className:i,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function zze(t,e,n){for(var r=n?ep(new Date):Gu(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=vo(r,a);i.push(s)}return i}function Vze(){var t=pi(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=zze(i,a,s);return c.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(A,d){return c.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(A,{locale:i}),children:o(A,{locale:i})},d)})]})}function $ze(){var t,e=pi(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Vze;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(a,{})})}function Kze(t){var e=pi(),n=e.locale,r=e.formatters.formatDay;return c.jsx(c.Fragment,{children:r(t.date,{locale:n})})}var UO=P.createContext(void 0);function Wze(t){if(!Tx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(UO.Provider,{value:e,children:t.children})}return c.jsx(Gze,{initialProps:t.initialProps,children:t.children})}function Gze(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,s=function(u,A,d){var f,h;(f=e.onDayClick)===null||f===void 0||f.call(e,u,A,d);var p=!!(A.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var m=!!(!A.selected&&a&&(r==null?void 0:r.length)===a);if(!m){var v=r?Tte([],r):[];if(A.selected){var g=v.findIndex(function(y){return Ro(u,y)});v.splice(g,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,A,d)}}},o={disabled:[]};r&&o.disabled.push(function(u){var A=a&&r.length>a-1,d=r.some(function(f){return Ro(f,u)});return!!(A&&!d)});var l={selected:r,onDayClick:s,modifiers:o};return c.jsx(UO.Provider,{value:l,children:n})}function QO(){var t=P.useContext(UO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function qze(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Ro(i,t)&&Ro(r,t)?void 0:Ro(i,t)?{from:i,to:void 0}:Ro(r,t)?void 0:GI(r,t)?{from:t,to:i}:{from:r,to:t}:i?GI(t,i)?{from:i,to:t}:{from:t,to:i}:r?jte(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var HO=P.createContext(void 0);function Yze(t){if(!Ix(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(HO.Provider,{value:e,children:t.children})}return c.jsx(Xze,{initialProps:t.initialProps,children:t.children})}function Xze(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,s=i.to,o=e.min,l=e.max,u=function(h,p,m){var v,g;(v=e.onDayClick)===null||v===void 0||v.call(e,h,p,m);var y=qze(h,r);(g=e.onSelect)===null||g===void 0||g.call(e,y,h,p,m)},A={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(A.range_start=[a],s?(A.range_end=[s],Ro(a,s)||(A.range_middle=[{after:a,before:s}])):A.range_end=[a]):s&&(A.range_start=[s],A.range_end=[s]),o&&(a&&!s&&A.disabled.push({after:iN(a,o-1),before:vo(a,o-1)}),a&&s&&A.disabled.push({after:a,before:vo(a,o-1)}),!a&&s&&A.disabled.push({after:iN(s,o-1),before:vo(s,o-1)})),l){if(a&&!s&&(A.disabled.push({before:vo(a,-l+1)}),A.disabled.push({after:vo(a,l-1)})),a&&s){var d=Du(s,a)+1,f=l-d;A.disabled.push({before:iN(a,f)}),A.disabled.push({after:vo(s,f)})}!a&&s&&(A.disabled.push({before:vo(s,-l+1)}),A.disabled.push({after:vo(s,l-1)}))}return c.jsx(HO.Provider,{value:{selected:r,onDayClick:u,modifiers:A},children:n})}function zO(){var t=P.useContext(HO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function s2(t){return Array.isArray(t)?Tte([],t):t!==void 0?[t]:[]}function Jze(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=s2(i)}),e}var cu;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(cu||(cu={}));var Zze=cu.Selected,dA=cu.Disabled,e9e=cu.Hidden,t9e=cu.Today,sN=cu.RangeEnd,oN=cu.RangeMiddle,lN=cu.RangeStart,n9e=cu.Outside;function r9e(t,e,n){var r,i=(r={},r[Zze]=s2(t.selected),r[dA]=s2(t.disabled),r[e9e]=s2(t.hidden),r[t9e]=[t.today],r[sN]=[],r[oN]=[],r[lN]=[],r[n9e]=[],r);return t.fromDate&&i[dA].push({before:t.fromDate}),t.toDate&&i[dA].push({after:t.toDate}),Tx(t)?i[dA]=i[dA].concat(e.modifiers[dA]):Ix(t)&&(i[dA]=i[dA].concat(n.modifiers[dA]),i[lN]=n.modifiers[lN],i[oN]=n.modifiers[oN],i[sN]=n.modifiers[sN]),i}var Ote=P.createContext(void 0);function i9e(t){var e=pi(),n=QO(),r=zO(),i=r9e(e,n,r),a=Jze(e.modifiers),s=Tn(Tn({},i),a);return c.jsx(Ote.Provider,{value:s,children:t.children})}function Fte(){var t=P.useContext(Ote);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function a9e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function s9e(t){return!!(t&&typeof t=="object"&&"from"in t)}function o9e(t){return!!(t&&typeof t=="object"&&"after"in t)}function l9e(t){return!!(t&&typeof t=="object"&&"before"in t)}function c9e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function u9e(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=Du(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var s=Du(t,r)>=0&&Du(i,t)>=0;return s}return i?Ro(i,t):r?Ro(r,t):!1}function A9e(t){return FO(t)}function d9e(t){return Array.isArray(t)&&t.every(FO)}function f9e(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(A9e(n))return Ro(t,n);if(d9e(n))return n.includes(t);if(s9e(n))return u9e(t,n);if(c9e(n))return n.dayOfWeek.includes(t.getDay());if(a9e(n)){var r=Du(n.before,t),i=Du(n.after,t),a=r>0,s=i<0,o=GI(n.before,n.after);return o?s&&a:a||s}return o9e(n)?Du(t,n.after)>0:l9e(n)?Du(n.before,t)>0:typeof n=="function"?n(t):!1})}function VO(t,e,n){var r=Object.keys(e).reduce(function(a,s){var o=e[s];return f9e(t,o)&&a.push(s),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!RO(t,n)&&(i.outside=!0),i}function h9e(t,e){for(var n=Wo(t[0]),r=MO(t[t.length-1]),i,a,s=n;s<=r;){var o=VO(s,e),l=!o.disabled&&!o.hidden;if(!l){s=vo(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=vo(s,1)}return a||i}var p9e=365;function Mte(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,u=i.fromDate,A=i.toDate,d=i.locale,f={day:vo,week:WI,month:lu,year:N7e,startOfWeek:function(v){return i.ISOWeek?ep(v):Gu(v,{locale:d,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?wte(v):LO(v,{locale:d,weekStartsOn:l})}},h=f[n](t,r==="after"?1:-1);r==="before"&&u?h=j7e([u,h]):r==="after"&&A&&(h=T7e([A,h]));var p=!0;if(a){var m=VO(h,a);p=!m.disabled&&!m.hidden}return p?h:o.count>p9e?o.lastFocused:Mte(h,{moveBy:n,direction:r,context:i,modifiers:a,retry:Tn(Tn({},o),{count:o.count+1})})}var Lte=P.createContext(void 0);function m9e(t){var e=kx(),n=Fte(),r=P.useState(),i=r[0],a=r[1],s=P.useState(),o=s[0],l=s[1],u=h9e(e.displayMonths,n),A=i??(o&&e.isDateDisplayed(o))?o:u,d=function(){l(i),a(void 0)},f=function(v){a(v)},h=pi(),p=function(v,g){if(i){var y=Mte(i,{moveBy:v,direction:g,context:h,modifiers:n});Ro(i,y)||(e.goToDate(y,i),f(y))}},m={focusedDay:i,focusTarget:A,blur:d,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return c.jsx(Lte.Provider,{value:m,children:t.children})}function $O(){var t=P.useContext(Lte);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function g9e(t,e){var n=Fte(),r=VO(t,n,e);return r}var KO=P.createContext(void 0);function v9e(t){if(!zE(t.initialProps)){var e={selected:void 0};return c.jsx(KO.Provider,{value:e,children:t.children})}return c.jsx(y9e,{initialProps:t.initialProps,children:t.children})}function y9e(t){var e=t.initialProps,n=t.children,r=function(a,s,o){var l,u,A;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,s,o);return}(A=e.onSelect)===null||A===void 0||A.call(e,a,a,s,o)},i={selected:e.selected,onDayClick:r};return c.jsx(KO.Provider,{value:i,children:n})}function Rte(){var t=P.useContext(KO);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function b9e(t,e){var n=pi(),r=Rte(),i=QO(),a=zO(),s=$O(),o=s.focusDayAfter,l=s.focusDayBefore,u=s.focusWeekAfter,A=s.focusWeekBefore,d=s.blur,f=s.focus,h=s.focusMonthBefore,p=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,g=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(Z){var W,oe,te,ue;zE(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,t,e,Z):Tx(n)?(oe=i.onDayClick)===null||oe===void 0||oe.call(i,t,e,Z):Ix(n)?(te=a.onDayClick)===null||te===void 0||te.call(a,t,e,Z):(ue=n.onDayClick)===null||ue===void 0||ue.call(n,t,e,Z)},C=function(Z){var W;f(t),(W=n.onDayFocus)===null||W===void 0||W.call(n,t,e,Z)},E=function(Z){var W;d(),(W=n.onDayBlur)===null||W===void 0||W.call(n,t,e,Z)},N=function(Z){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,t,e,Z)},_=function(Z){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,t,e,Z)},B=function(Z){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,t,e,Z)},j=function(Z){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,t,e,Z)},D=function(Z){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,t,e,Z)},k=function(Z){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,t,e,Z)},O=function(Z){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,t,e,Z)},F=function(Z){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,t,e,Z)},H=function(Z){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,t,e,Z)},Y=function(Z){var W;switch(Z.key){case"ArrowLeft":Z.preventDefault(),Z.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":Z.preventDefault(),Z.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":Z.preventDefault(),Z.stopPropagation(),u();break;case"ArrowUp":Z.preventDefault(),Z.stopPropagation(),A();break;case"PageUp":Z.preventDefault(),Z.stopPropagation(),Z.shiftKey?m():h();break;case"PageDown":Z.preventDefault(),Z.stopPropagation(),Z.shiftKey?v():p();break;case"Home":Z.preventDefault(),Z.stopPropagation(),g();break;case"End":Z.preventDefault(),Z.stopPropagation(),y();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,t,e,Z)},q={onClick:b,onFocus:C,onBlur:E,onKeyDown:Y,onKeyUp:H,onMouseEnter:N,onMouseLeave:_,onPointerEnter:B,onPointerLeave:j,onTouchCancel:D,onTouchEnd:k,onTouchMove:O,onTouchStart:F};return q}function x9e(){var t=pi(),e=Rte(),n=QO(),r=zO(),i=zE(t)?e.selected:Tx(t)?n.selected:Ix(t)?r.selected:void 0;return i}function w9e(t){return Object.values(cu).includes(t)}function C9e(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(w9e(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function S9e(t,e){var n=Tn({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Tn(Tn({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function E9e(t,e,n){var r,i,a,s=pi(),o=$O(),l=g9e(t,e),u=b9e(t,l),A=x9e(),d=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var N;l.outside||o.focusedDay&&d&&Ro(o.focusedDay,t)&&((N=n.current)===null||N===void 0||N.focus())},[o.focusedDay,t,n,d,l.outside]);var f=C9e(s,l).join(" "),h=S9e(s,l),p=!!(l.outside&&!s.showOutsideDays||l.hidden),m=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Kze,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),g={style:h,className:f,children:v,role:"gridcell"},y=o.focusTarget&&Ro(o.focusTarget,t)&&!l.outside,b=o.focusedDay&&Ro(o.focusedDay,t),C=Tn(Tn(Tn({},g),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),u),E={isButton:d,isHidden:p,activeModifiers:l,selectedDays:A,buttonProps:C,divProps:g};return E}function _9e(t){var e=P.useRef(null),n=E9e(t.date,t.displayMonth,e);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(yS,Tn({name:"day",ref:e},n.buttonProps)):c.jsx("div",Tn({},n.divProps))}function B9e(t){var e=t.number,n=t.dates,r=pi(),i=r.onWeekNumberClick,a=r.styles,s=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,A=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:A});var d=l(Number(e),{locale:o}),f=function(h){i(e,n,h)};return c.jsx(yS,{name:"week-number","aria-label":d,className:s.weeknumber,style:a.weeknumber,onClick:f,children:A})}function N9e(t){var e,n,r=pi(),i=r.styles,a=r.classNames,s=r.showWeekNumber,o=r.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:_9e,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:B9e,A;return s&&(A=c.jsx("td",{className:a.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:a.row,style:i.row,children:[A,t.dates.map(function(d){return c.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:d})},NHe(d))})]})}function bH(t,e,n){for(var r=n!=null&&n.ISOWeek?wte(e):LO(e,n),i=n!=null&&n.ISOWeek?ep(t):Gu(t,n),a=Du(r,i),s=[],o=0;o<=a;o++)s.push(vo(i,o));var l=s.reduce(function(u,A){var d=n!=null&&n.ISOWeek?Ete(A):Bte(A,n),f=u.find(function(h){return h.weekNumber===d});return f?(f.dates.push(A),u):(u.push({weekNumber:d,dates:[A]}),u)},[]);return l}function j9e(t,e){var n=bH(Wo(t),MO(t),e);if(e!=null&&e.useFixedWeeks){var r=THe(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],s=WI(a,6-r),o=bH(WI(a,1),s,e);n.push.apply(n,o)}}return n}function T9e(t){var e,n,r,i=pi(),a=i.locale,s=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,A=i.components,d=i.weekStartsOn,f=i.firstWeekContainsDate,h=i.ISOWeek,p=j9e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:d,firstWeekContainsDate:f}),m=(e=A==null?void 0:A.Head)!==null&&e!==void 0?e:$ze,v=(n=A==null?void 0:A.Row)!==null&&n!==void 0?n:N9e,g=(r=A==null?void 0:A.Footer)!==null&&r!==void 0?r:Hze;return c.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:s.tbody,style:o.tbody,children:p.map(function(y){return c.jsx(v,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),c.jsx(g,{displayMonth:t.displayMonth})]})}function I9e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var k9e=I9e()?P.useLayoutEffect:P.useEffect,cN=!1,P9e=0;function xH(){return"react-day-picker-".concat(++P9e)}function D9e(t){var e,n=t??(cN?xH():null),r=P.useState(n),i=r[0],a=r[1];return k9e(function(){i===null&&a(xH())},[]),P.useEffect(function(){cN===!1&&(cN=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function O9e(t){var e,n,r=pi(),i=r.dir,a=r.classNames,s=r.styles,o=r.components,l=kx().displayMonths,u=D9e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),A=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[a.month],f=s.month,h=t.displayIndex===0,p=t.displayIndex===l.length-1,m=!h&&!p;i==="rtl"&&(e=[h,p],p=e[0],h=e[1]),h&&(d.push(a.caption_start),f=Tn(Tn({},f),s.caption_start)),p&&(d.push(a.caption_end),f=Tn(Tn({},f),s.caption_end)),m&&(d.push(a.caption_between),f=Tn(Tn({},f),s.caption_between));var v=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:Qze;return c.jsxs("div",{className:d.join(" "),style:f,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(T9e,{id:A,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function F9e(t){var e=pi(),n=e.classNames,r=e.styles;return c.jsx("div",{className:n.months,style:r.months,children:t.children})}function M9e(t){var e,n,r=t.initialProps,i=pi(),a=$O(),s=kx(),o=P.useState(!1),l=o[0],u=o[1];P.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var A=[i.classNames.root,i.className];i.numberOfMonths>1&&A.push(i.classNames.multiple_months),i.showWeekNumber&&A.push(i.classNames.with_weeknumber);var d=Tn(Tn({},i.styles.root),i.style),f=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,m){var v;return Tn(Tn({},p),(v={},v[m]=r[m],v))},{}),h=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:F9e;return c.jsx("div",Tn({className:A.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:c.jsx(h,{children:s.displayMonths.map(function(p,m){return c.jsx(O9e,{displayIndex:m,displayMonth:p},m)})})}))}function L9e(t){var e=t.children,n=lze(t,["children"]);return c.jsx(Bze,{initialProps:n,children:c.jsx(Mze,{children:c.jsx(v9e,{initialProps:n,children:c.jsx(Wze,{initialProps:n,children:c.jsx(Yze,{initialProps:n,children:c.jsx(i9e,{children:c.jsx(m9e,{children:e})})})})})})})}function yp(t){return c.jsx(L9e,Tn({},t,{children:c.jsx(M9e,{initialProps:t})}))}const wH=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cudruple"},{count:5,name:"Quntuple"}],CH=140,SH=7,R9e=`
  .rdp {
    --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: transparent;
    --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: transparent;
    --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; margin: 1em auto;
  }
  .rdp-caption_label { color: #FFF; font-weight: bold;}
  .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day { color: #FFF;}
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .rdp-day_today { font-weight: bold; color: #FF9500; }
  .rdp-day_disabled { color: #505054; }
  .rdp-day_outside { color: #505054; }
  .rdp-caption_dropdowns { display: flex; gap: 10px; }
   .rdp-dropdown { background-color: #333; border: 1px solid #555; color: #FFF; padding: 4px 8px; border-radius: 6px; }
`,bp=({isOpen:t,onClose:e,motherId:n})=>{const{animals:r,fathers:i,addFather:a,addParturition:s,parturitions:o}=en(),[l,u]=P.useState(1),[A,d]=P.useState(new Date().toISOString().split("T")[0]),[f,h]=P.useState(""),[p,m]=P.useState(1),[v,g]=P.useState([]),[y,b]=P.useState(!1),[C,E]=P.useState(!1),[N,_]=P.useState(!1),[B,j]=P.useState(""),D=P.useMemo(()=>r.find(te=>te.id===n),[r,n]),k=D!=null&&D.name?String(D.name).toUpperCase().trim():"",O=P.useMemo(()=>{const te=r.filter($=>$.sex==="Macho"&&$.status==="Activo"),ue=i.map($=>({id:$.id,name:$.name,sex:"Macho",isReference:!0}));return[...te,...ue].sort(($,J)=>($.id||"").localeCompare(J.id||""))},[r,i]);P.useEffect(()=>{t&&(u(1),d(new Date().toISOString().split("T")[0]),h(""),m(1),g([]),_(!1),j(""))},[t]);const F=()=>u(te=>te<4?te+1:te),H=()=>u(te=>te>1?te-1:te),Y=te=>{m(te),g(Array.from({length:te},(ue,R)=>({id:`kid_${R}_${Date.now()}`,sex:"Hembra",status:"Viva",correlative:"",birthWeight:""}))),F()},q=(te,ue,R)=>{const $=[...v];let J=R;ue==="birthWeight"&&parseFloat(R)>SH&&(J=SH.toString()),$[te]={...$[te],[ue]:J},g($)},Z=P.useMemo(()=>O.find(te=>te.id===f),[f,O]),W=async()=>{var $,J;_(!0),j("");const te=o.filter(ne=>ne.goatId.toUpperCase()===n.toUpperCase()),ue=new Date(A).getTime();if(te.some(ne=>{const he=new Date(ne.parturitionDate).getTime();return Math.abs(ue-he)/(1e3*60*60*24)<CH})){j(`Ya existe un parto registrado para ${n} en una fecha demasiado cercana (menos de ${CH} das).`),_(!1);return}try{if(!Z)throw new Error("Padre (reproductor) no encontrado en la base de datos.");const ne=v.filter(re=>re.status==="Viva"),he=v.some(re=>re.status==="Mortinato"),Se=(($=Z==null?void 0:Z.name)==null?void 0:$.charAt(0).toUpperCase())||"?",we=ne.map(re=>({sex:re.sex,birthWeight:re.birthWeight,id:`${re.sex==="Macho"?"X":Se}${re.correlative}`}));await s({motherId:n.toUpperCase(),parturitionDate:A,sireId:f,parturitionType:((J=wH.find(re=>re.count===p))==null?void 0:J.name)||"Simple",offspringCount:v.length,liveOffspring:we,parturitionOutcome:he?"Con Mortinatos":"Normal",inducedLactation:!0}),F(),setTimeout(e,2e3)}catch(ne){j(ne.message||"Error al registrar el parto. Revisa los datos e IDs de las cras."),console.error(ne),_(!1)}},oe=async te=>{try{await a(te),h(te.id),b(!1)}catch(ue){j(ue.message||"No se pudo guardar el nuevo padre."),console.error("Error saving new father:",ue)}};return t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex flex-col justify-end z-50 animate-fade-in",onClick:e,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:te=>te.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[l>1&&l<4&&c.jsx("button",{onClick:H,className:"p-2 text-zinc-400 hover:text-white",children:c.jsx(Ni,{size:24})}),c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white mx-auto",children:l===4?"xito":"Registrar Parto"}),l<4?c.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-white",children:c.jsx(qo,{size:24})}):c.jsx("div",{className:"w-10"})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[l===1&&c.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:D==null?void 0:D.id.toUpperCase()}),k&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:k})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha del Parto"}),c.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg text-left flex justify-between items-center text-white",children:[c.jsx("span",{children:A?new Date(A+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Seleccionar Fecha"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Reproductor)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:f,onChange:te=>h(te.target.value),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg appearance-none text-white",children:[c.jsx("option",{value:"",className:"text-zinc-500",children:"Seleccionar Reproductor..."}),O.map(te=>c.jsx("option",{value:te.id,className:"text-white",children:Vn(te)},te.id))]}),c.jsx("button",{type:"button",onClick:()=>b(!0),className:"flex-shrink-0 p-4 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(ba,{size:24})})]})]}),c.jsx("button",{onClick:F,disabled:!A||!f,className:"w-full bg-brand-orange text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:"Siguiente"})]}),l===2&&c.jsxs("div",{className:"space-y-6 text-center max-w-md mx-auto",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Cuntas cras nacieron?"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:wH.map(te=>c.jsx("button",{onClick:()=>Y(te.count),className:"bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-8 rounded-2xl text-2xl transition-colors",children:te.name},te.count))})]}),l===3&&c.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:D==null?void 0:D.id.toUpperCase()}),k&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:k})]}),v.map((te,ue)=>{var $;const R=te.status==="Mortinato";return c.jsxs("div",{className:`bg-black/20 rounded-2xl p-4 border transition-colors ${R?"border-red-500/30":"border-zinc-700"} space-y-3`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:"font-semibold text-brand-orange",children:["Cra ",ue+1]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"w-32",children:c.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[c.jsx("button",{type:"button",onClick:()=>q(ue,"status","Viva"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${R?"text-zinc-400":"bg-green-600 text-white"}`,children:"Viva"}),c.jsx("button",{type:"button",onClick:()=>q(ue,"status","Mortinato"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${R?"bg-red-600 text-white":"text-zinc-400"}`,children:"Mortinato"})]})}),c.jsx("div",{className:"w-32",children:c.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[c.jsx("button",{type:"button",onClick:()=>q(ue,"sex","Hembra"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${te.sex==="Hembra"?"bg-pink-500 text-white":"text-zinc-400"}`,children:"Hembra"}),c.jsx("button",{type:"button",onClick:()=>q(ue,"sex","Macho"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${te.sex==="Macho"?"bg-blue-500 text-white":"text-zinc-400"}`,children:"Macho"})]})})]})]}),c.jsxs("div",{className:`grid grid-cols-2 gap-3 items-center transition-opacity ${R?"opacity-40 pointer-events-none":"opacity-100"}`,children:[c.jsxs("div",{className:"flex items-center bg-zinc-800 p-3 rounded-xl gap-2",children:[c.jsx("span",{className:"font-mono text-zinc-400 text-lg",children:te.sex==="Macho"?"X":(($=Z==null?void 0:Z.name)==null?void 0:$.charAt(0).toUpperCase())||"?"}),c.jsx("input",{autoFocus:ue===0,value:te.correlative,onChange:J=>q(ue,"correlative",J.target.value.toUpperCase()),placeholder:"ID",className:"w-full bg-transparent text-lg text-white focus:outline-none",disabled:R,required:!R})]}),c.jsx("input",{value:te.birthWeight,onChange:J=>q(ue,"birthWeight",J.target.value),placeholder:"Peso (Kg)",type:"number",step:"0.1",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",disabled:R,required:!R})]})]},te.id)}),c.jsx("button",{onClick:W,disabled:N||v.some(te=>te.status==="Viva"&&(!te.correlative||!te.birthWeight)),className:"w-full bg-brand-green text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:N?"Guardando...":`Guardar Parto y ${p} Cra(s)`}),B&&c.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:B})]})]}),l===4&&c.jsxs("div",{className:"text-center flex flex-col justify-center items-center h-full",children:[c.jsx(us,{size:80,className:"text-brand-green mb-4 animate-pulse"}),c.jsx("h2",{className:"text-3xl font-bold text-white",children:"xito!"}),c.jsxs("p",{className:"text-lg text-zinc-400",children:["El parto de ",c.jsx("span",{className:"font-mono font-bold text-white",children:D==null?void 0:D.id.toUpperCase()})," se ha registrado."]})]})]})]})}),c.jsxs(fn,{isOpen:C,onClose:()=>E(!1),title:"Seleccionar Fecha del Parto",children:[c.jsx("style",{children:R9e}),c.jsx("div",{className:"flex justify-center",children:c.jsx(yp,{mode:"single",selected:new Date(A+"T00:00:00Z"),onSelect:te=>{te&&d(te.toISOString().split("T")[0]),E(!1)},locale:jx,disabled:{after:new Date},captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-2,toYear:new Date().getFullYear()})})]}),c.jsx(DO,{isOpen:y,onClose:()=>b(!1),onSave:oe})]}):null},WO=({isOpen:t,animal:e,onClose:n,onLogToSession:r,onStartNewSession:i,onStartDrying:a,onSetDry:s})=>{const{parturitions:o,weighings:l}=en(),[u,A]=P.useState(!1),d=P.useMemo(()=>o.filter(p=>p.goatId===e.id&&(p.status==="activa"||p.status==="en-secado")).sort((p,m)=>new Date(m.parturitionDate).getTime()-new Date(p.parturitionDate).getTime())[0],[o,e.id]),f=P.useMemo(()=>{const p=l.map(v=>v.date);return[...new Set(p)].sort((v,g)=>new Date(g).getTime()-new Date(v).getTime()).slice(0,3)},[l]),h=e.name?String(e.name).toUpperCase().trim():"";return!d&&!u?c.jsx(fn,{isOpen:t,onClose:n,title:"Accin Requerida",children:c.jsxs("div",{className:"text-center space-y-4 text-white",children:[c.jsx(gr,{className:"mx-auto h-12 w-12 text-amber-400"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),h&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:h})]}),c.jsx("h3",{className:"text-lg font-medium",children:"Animal sin Parto Activo"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Para registrar un pesaje o gestionar el secado, el animal debe tener un parto activo."}),c.jsxs("button",{onClick:()=>A(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(Co,{size:18})," Declarar Parto Ahora"]})]})}):u?c.jsx(bp,{isOpen:!0,onClose:()=>{A(!1)},motherId:e.id}):c.jsx(fn,{isOpen:t,onClose:n,title:"Acciones de Leche",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),h&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:h})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(FD,{size:16}),"Aadir a Sesin Reciente"]}),f.length>0?c.jsx("div",{className:"space-y-2",children:f.map(p=>c.jsxs("button",{onClick:()=>r(p),className:"w-full text-left bg-zinc-800/80 p-3 rounded-xl hover:bg-zinc-700 transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(So,{size:18,className:"text-zinc-500"}),c.jsx("span",{className:"text-base font-semibold text-white",children:new Date(p+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})})]}),c.jsx(ea,{size:20,className:"text-zinc-600 group-hover:text-white transition-colors"})]},p))}):c.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay sesiones recientes."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(pc,{size:16}),"Iniciar Nueva Sesin de Pesaje"]}),c.jsxs("button",{onClick:i,className:"w-full text-left bg-brand-orange/20 border border-brand-orange/80 p-4 rounded-xl hover:bg-brand-orange/30 transition-colors flex justify-between items-center group",children:[c.jsx("span",{className:"text-lg font-bold text-white",children:"Construir Carga Masiva..."}),c.jsx(ea,{size:20,className:"text-brand-orange group-hover:text-orange-300 transition-colors"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:"Esto te permitir seleccionar un grupo de animales y registrar sus pesajes."})]}),d&&c.jsxs("div",{className:"pt-4 border-t border-brand-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Acciones de Lactancia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>a(d.id),disabled:d.status!=="activa",className:"w-full flex items-center justify-center gap-2 bg-blue-600/20 text-blue-300 font-semibold py-3 px-3 rounded-lg hover:bg-blue-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Zc,{size:16})," ",d.status==="en-secado"?"Ya en Secado":"Iniciar Secado"]}),c.jsxs("button",{type:"button",onClick:()=>s(d.id),disabled:d.status==="seca"||d.status==="finalizada",className:"w-full flex items-center justify-center gap-2 bg-gray-600/20 text-gray-300 font-semibold py-3 px-3 rounded-lg hover:bg-gray-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Cc,{size:16})," ",d.status==="seca"?"Ya Seca":"Declarar Seca"]})]}),d.status==="en-secado"&&c.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]})})},GO=({isOpen:t,animal:e,onClose:n,onLogToSession:r,onStartNewSession:i,onSetReadyForMating:a})=>{const{bodyWeighings:s,parturitions:o}=en(),l=P.useMemo(()=>{const f=s.map(p=>p.date);return[...new Set(f)].sort((p,m)=>new Date(m).getTime()-new Date(p).getTime()).slice(0,3)},[s]),A=xc(e,o)==="Cabritona"&&e.reproductiveStatus==="Vaca",d=e.name?String(e.name).toUpperCase().trim():"";return c.jsx(fn,{isOpen:t,onClose:n,title:"Pesaje Corporal",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-2",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),d&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:d})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(FD,{size:16}),"Aadir a Sesin Reciente"]}),l.length>0?c.jsx("div",{className:"space-y-2",children:l.map(f=>c.jsxs("button",{onClick:()=>r(f),className:"w-full text-left bg-zinc-800/80 p-3 rounded-xl hover:bg-zinc-700 transition-colors flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(So,{size:18,className:"text-zinc-500"}),c.jsx("span",{className:"text-base font-semibold text-white",children:new Date(f+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})})]}),c.jsx(ea,{size:20,className:"text-zinc-600"})]},f))}):c.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay sesiones recientes."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(pc,{size:16}),"Iniciar Nueva Sesin de Pesaje"]}),c.jsxs("button",{onClick:i,className:"w-full text-left bg-brand-green/20 border border-brand-green/80 p-4 rounded-xl hover:bg-brand-green/30 transition-colors flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-white",children:"Construir Carga Masiva..."}),c.jsx(ea,{size:20,className:"text-brand-green"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:"Esto te permitir seleccionar un grupo de animales y registrar sus pesos."})]}),A&&c.jsxs("div",{className:"pt-4 border-t border-brand-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Acciones de Desarrollo"}),c.jsx("div",{className:"flex",children:c.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 bg-pink-600/20 text-pink-300 font-semibold py-3 px-3 rounded-lg hover:bg-pink-600/40 transition-colors",children:[c.jsx(Uq,{size:16})," Declarar en Peso de Monta"]})}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:'Si el animal tiene el peso y la edad adecuados, esto lo marcar como "En Servicio".'})]})]})})},VE=({animal:t,onConfirm:e,onCancel:n,reason:r,isOpen:i})=>{const[a,s]=P.useState(new Date().toISOString().split("T")[0]),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState("Cra"),[h,p]=P.useState(""),[m,v]=P.useState(),[g,y]=P.useState(""),b=["Baja produccin","Bajo ndice de crecimiento","Inflamacin articular","Linfadenitis caseosa","Sospecha de otras enfermedades"],C=t.name?String(t.name).toUpperCase().trim():"",E=()=>{const _={reason:r,date:a,salePrice:r==="Venta"&&parseFloat(o)||void 0,saleBuyer:r==="Venta"&&u||void 0,salePurpose:r==="Venta"?d:void 0,deathReason:r==="Muerte"&&h||void 0,cullReason:r==="Descarte"&&m||void 0,cullReasonDetails:r==="Descarte"&&m==="Sospecha de otras enfermedades"?g:void 0};e(_)},N=`Dar de baja por ${r}`;return i?c.jsx(fn,{isOpen:i,onClose:n,title:N,children:c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),C&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:C})]}),c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Evento"}),c.jsx("input",{type:"date",value:a,onChange:_=>s(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",max:new Date().toISOString().split("T")[0],required:!0})]}),r==="Venta"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("input",{type:"number",step:"0.01",value:o,onChange:_=>l(_.target.value),placeholder:"Precio de Venta (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"}),c.jsx("input",{type:"text",value:u,onChange:_=>A(_.target.value),placeholder:"Comprador (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"}),c.jsxs("select",{value:d,onChange:_=>f(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",children:[c.jsx("option",{value:"Cra",children:"Para Cra"}),c.jsx("option",{value:"Carne",children:"Para Carne"})]})]}),r==="Muerte"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx("textarea",{value:h,onChange:_=>p(_.target.value),placeholder:"Causa / Descripcin de la muerte...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",rows:3})}),r==="Descarte"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("select",{value:m||"",onChange:_=>v(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",children:[c.jsx("option",{value:"",children:"Seleccione una causa..."}),b.map(_=>c.jsx("option",{value:_,children:_},_))]}),m==="Sospecha de otras enfermedades"&&c.jsx("input",{type:"text",value:g,onChange:_=>y(_.target.value),placeholder:"Especificar sospecha o sntomas...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center pt-2",children:'El animal ser movido a "Referencia".'}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:E,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg",children:"Confirmar Baja"})]})]})}):null},qO=({animal:t,onSaveSuccess:e,onCancel:n})=>{const{fathers:r,addFather:i,addParturition:a}=en(),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(""),[A,d]=P.useState(!0),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(!1),y=t.name?String(t.name).toUpperCase().trim():"",b=async E=>{if(E.preventDefault(),!l){m({type:"error",text:"Debe seleccionar el padre (semental)."});return}h(!0),m(null);try{await a({motherId:t.id,parturitionDate:s,sireId:l,parturitionType:"Simple",offspringCount:0,liveOffspring:[],parturitionOutcome:"Aborto",inducedLactation:A}),m({type:"success",text:`Aborto registrado para ${t.id.toUpperCase()}.`}),setTimeout(e,1500)}catch(N){m({type:"error",text:N.message||"No se pudo registrar el aborto."}),h(!1)}},C=async E=>{try{await i(E),u(E.id),g(!1)}catch(N){console.error("Error saving new father:",N),m({type:"error",text:N.message||"No se pudo guardar el nuevo padre."})}};return c.jsxs(c.Fragment,{children:[c.jsx(fn,{isOpen:!v,onClose:n,title:"Registrar Aborto",children:c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),y&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:y})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Aborto"}),c.jsx("input",{type:"date",value:s,onChange:E=>o(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",required:!0,max:new Date().toISOString().split("T")[0]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Padre (Semental Involucrado)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:l,onChange:E=>u(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",required:!0,children:[c.jsx("option",{value:"",children:"Seleccionar Padre..."}),r.map(E=>c.jsx("option",{value:E.id,children:Vn(E)},E.id))]}),c.jsx("button",{type:"button",onClick:()=>g(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",title:"Aadir Nuevo Padre de Referencia",children:c.jsx(ba,{size:24})})]})]}),c.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[c.jsx("label",{htmlFor:"inducedLactation",className:"text-sm font-medium text-zinc-300",children:"Se iniciar lactancia post-aborto?"}),c.jsx("input",{id:"inducedLactation",type:"checkbox",checked:A,onChange:E=>d(E.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Marcar esta opcin iniciar una lactancia "atpica" para poder registrar los pesajes.'}),p&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${p.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[p.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18}),c.jsx("span",{children:p.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50",children:f?"Guardando...":"Confirmar Aborto"})]})]})}),c.jsx(DO,{isOpen:v,onClose:()=>g(!1),onSave:C})]})},Wg=({animalId:t,weightType:e,onSaveSuccess:n,onCancel:r,sessionDate:i})=>{const{addBodyWeighing:a,addWeighing:s,animals:o}=en(),[l,u]=P.useState(i||new Date().toISOString().split("T")[0]),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState(null),v=be.useMemo(()=>o.find(b=>b.id===t),[o,t]),g=v!=null&&v.name?String(v.name).toUpperCase().trim():"";P.useEffect(()=>{i&&u(i)},[i]);const y=async b=>{b.preventDefault(),m(null),h(!0);const C=parseFloat(A);if(isNaN(C)||C<=0){m({type:"error",text:"Por favor, introduce un peso vlido."}),h(!1);return}if(e==="corporal"&&C>150){m({type:"error",text:"El peso corporal parece irracionalmente alto."}),h(!1);return}if(e==="leche"&&C>8.5){m({type:"error",text:"La produccin de leche parece irracionalmente alta."}),h(!1);return}try{e==="corporal"?await a({animalId:t,date:l,kg:C}):await s({goatId:t,date:l,kg:C}),m({type:"success",text:`Pesaje de ${t} guardado con xito.`}),setTimeout(()=>{n()},1500)}catch(E){m({type:"error",text:E.message||"No se pudo guardar el pesaje."}),h(!1)}};return c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.toUpperCase()}),g&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:g})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Pesaje"}),c.jsx("input",{id:"weighingDate",type:"date",value:l,onChange:b=>u(b.target.value),disabled:!!i,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg disabled:opacity-70 disabled:bg-zinc-700",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingKg",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso (Kg)"}),c.jsx("input",{id:"weighingKg",type:"number",step:"0.1",value:A,onChange:b=>d(b.target.value),placeholder:"Ej: 3.5",autoFocus:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),p&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${p.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[p.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18}),c.jsx("span",{children:p.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:f?c.jsx(iu,{size:18,className:"animate-spin"}):"Guardar Pesaje"})]})]})},YO=({weightType:t,animalsToWeigh:e,onSaveSuccess:n,onCancel:r})=>{const{addWeighing:i,addBodyWeighing:a,parturitions:s,startDryingProcess:o,setLactationAsDry:l}=en(),[u,A]=P.useState(new Date().toISOString().split("T")[0]),[d,f]=P.useState({}),[h,p]=P.useState(!1),[m,v]=P.useState(null),[g,y]=P.useState(null),b=P.useMemo(()=>Object.values(d).filter(j=>j.trim()!==""&&!isNaN(parseFloat(j))).length,[d]),C=P.useMemo(()=>{const j=new Map;if(t==="leche"){const D=new Set(e.map(k=>k.id));s.filter(k=>D.has(k.goatId)&&(k.status==="activa"||k.status==="en-secado")).forEach(k=>{const O=j.get(k.goatId);(!O||new Date(k.parturitionDate)>new Date(O.parturitionDate))&&j.set(k.goatId,k)})}return j},[s,e,t]),E=(j,D)=>{f(k=>({...k,[j]:D}))},N=async j=>{const D=C.get(j);if(!(!D||D.status!=="activa")){v(j),y(null);try{await o(D.id),C.set(j,{...D,status:"en-secado"})}catch(k){y({type:"error",text:`Error al secar ${j}: ${k.message}`})}finally{v(null)}}},_=async j=>{const D=C.get(j);if(!(!D||D.status==="seca"||D.status==="finalizada")){v(j),y(null);try{await l(D.id),C.set(j,{...D,status:"seca"})}catch(k){y({type:"error",text:`Error al secar ${j}: ${k.message}`})}finally{v(null)}}},B=async j=>{j.preventDefault(),y(null),p(!0);const D=Object.entries(d).map(([k,O])=>({animalId:k,kg:parseFloat(O)})).filter(k=>!isNaN(k.kg)&&k.kg>0);if(D.length===0){y({type:"error",text:"No se han introducido pesos vlidos."}),p(!1);return}try{const k=D.map(O=>t==="leche"?i({goatId:O.animalId,kg:O.kg,date:u}):a({animalId:O.animalId,kg:O.kg,date:u}));await Promise.all(k),y({type:"success",text:`${D.length} pesajes guardados con xito.`}),setTimeout(()=>{n()},1500)}catch(k){y({type:"error",text:"Ocurri un error al guardar los datos."}),p(!1),console.error("Error en escritura por lote de pesajes:",k)}};return c.jsxs("form",{onSubmit:B,className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 p-4 border-b border-brand-border",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t==="leche"?"Sesin de Ordeo":"Sesin de Pesaje Corporal"}),c.jsx("input",{type:"date",value:u,onChange:j=>A(j.target.value),className:"bg-zinc-800 text-white p-2 rounded-lg text-sm"})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Registrando ",b," / ",e.length," animales."]})]}),c.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-2",children:e.map(j=>{const D=j.name?String(j.name).toUpperCase().trim():"";if(t==="corporal")return c.jsxs("div",{className:"grid grid-cols-2 items-center gap-4 p-2 bg-black/20 rounded-lg",children:[c.jsxs("div",{className:"min-w-0 col-span-1",children:[c.jsx("label",{htmlFor:`weight-${j.id}`,className:"font-mono font-semibold text-base text-white truncate block cursor-pointer",children:j.id.toUpperCase()}),D&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:D})]}),c.jsx("input",{id:`weight-${j.id}`,type:"number",step:"0.1",value:d[j.id]||"",onChange:F=>E(j.id,F.target.value),placeholder:"Kg",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center"})]},j.id);const k=C.get(j.id),O=m===j.id;return c.jsxs("div",{className:"grid grid-cols-3 items-center gap-2 p-2 bg-black/20 rounded-lg",children:[c.jsxs("div",{className:"min-w-0 col-span-1",children:[c.jsx("label",{htmlFor:`weight-${j.id}`,className:"font-mono font-semibold text-base text-white truncate block cursor-pointer",children:j.id.toUpperCase()}),D&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:D})]}),c.jsx("input",{id:`weight-${j.id}`,type:"number",step:"0.1",value:d[j.id]||"",onChange:F=>E(j.id,F.target.value),placeholder:"Kg",disabled:!k||k.status==="seca"||h,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center col-span-1 disabled:opacity-50"}),c.jsx("div",{className:"col-span-1 flex items-center justify-end gap-1",children:O?c.jsx(iu,{className:"animate-spin text-zinc-400",size:20}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>N(j.id),disabled:!k||k.status!=="activa"||h,title:"Iniciar Secado",className:"p-2 bg-blue-600/20 text-blue-300 rounded-lg hover:bg-blue-600/40 disabled:opacity-30 disabled:cursor-not-allowed",children:c.jsx(Zc,{size:16})}),c.jsx("button",{type:"button",onClick:()=>_(j.id),disabled:!k||k.status==="seca"||k.status==="finalizada"||h,title:"Declarar Seca",className:"p-2 bg-gray-600/20 text-gray-300 rounded-lg hover:bg-gray-600/40 disabled:opacity-30 disabled:cursor-not-allowed",children:c.jsx(Cc,{size:16})})]})})]},j.id)})}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-ios-modal-bg",children:[g&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${g.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[g.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18}),c.jsx("span",{children:g.text})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:h||b===0||m!==null,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[h?c.jsx(iu,{size:18,className:"animate-spin"}):c.jsx(l0,{size:18}),"Guardar ",b>0?`(${b})`:""]})]})]})]})},XO=({weightType:t,onBack:e,onAnimalsSelected:n})=>{const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o}=en(),[l,u]=P.useState(!0),A=`Nueva Sesin de Peso ${t==="corporal"?"Corporal":"Lechero"}`,d=h=>{const p=r.filter(m=>h.includes(m.id));n(h,p),u(!1)},f=()=>{u(!1),e()};return c.jsx(HE,{isOpen:l,onClose:f,onSelect:d,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:A,sessionType:t})},U9e=`
  .rdp {
    --rdp-cell-size: 40px; /* Size of day cells */
    --rdp-accent-color: #FF9500; /* Orange accent */
    --rdp-background-color: transparent; /* Transparent background */
    --rdp-accent-color-dark: #FF9500;
    --rdp-background-color-dark: transparent;
    --rdp-outline: 2px solid var(--rdp-accent-color); /* Outline for focused day */
    --rdp-border-radius: 12px; /* Rounded corners */
    color: #FFF; /* Default text color */
    margin: 1em auto; /* Centering */
  }
  .rdp-caption_label { color: #FFF; font-weight: bold; } /* Month/Year label */
  .rdp-nav_button { color: #FF9500; } /* Navigation arrows */
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; } /* Weekday names */
  .rdp-day { color: #FFF; } /* Day numbers */
  .rdp-day_today { font-weight: bold; color: #FF9500; } /* Today's date */
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } /* Selected day */
  .rdp-day_disabled { color: #505054; } /* Disabled days */
  .rdp-day_outside { color: #505054; } /* Days outside current month */
  .rdp-caption_dropdowns { display: flex; gap: 10px; } /* Style dropdowns if used */
  .rdp-dropdown {
      background-color: #333; /* Dark background for dropdown */
      border: 1px solid #555;
      color: #FFF;
      padding: 4px 8px;
      border-radius: 6px;
  }
`,JO=({isOpen:t,onClose:e,onSave:n,animal:r})=>{if(!t)return null;const i=r.name?String(r.name).toUpperCase().trim():"",a=s=>{s&&n(s)};return c.jsxs(fn,{isOpen:t,onClose:e,title:"Registrar Servicio",children:[c.jsx("style",{children:U9e}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:r.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i})]}),c.jsx("div",{className:"flex justify-center pb-4",children:c.jsx(yp,{mode:"single",onSelect:a,defaultMonth:new Date,locale:jx,disabled:{after:new Date},captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-1,toYear:new Date().getFullYear()})})]})},Q9e=({animal:t,isSelected:e,onSelect:n})=>{const r=t.name?String(t.name).toUpperCase().trim():"";return c.jsx("div",{onClick:()=>n(t.id),className:`w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border flex justify-between items-center transition-all cursor-pointer min-h-[80px] ${e?"border-brand-orange ring-2 ring-brand-orange/50":"border-brand-border"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[e?c.jsx(R5,{className:"text-brand-orange flex-shrink-0",size:20}):c.jsx(U5,{className:"text-zinc-500 flex-shrink-0",size:20}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge]})})]})]})})};function H9e({lotName:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,updateAnimal:l,addServiceRecord:u,startDryingProcess:A,setLactationAsDry:d,fathers:f}=en(),[h,p]=P.useState(!1),[m,v]=P.useState(!1),[g,y]=P.useState(new Set),[b,C]=P.useState(!1),[E,N]=P.useState(null),[_,B]=P.useState(!1),[j,D]=P.useState(null),[k,O]=P.useState(null),[F,H]=P.useState(null),[Y,q]=P.useState([]),[Z,W]=P.useState("corporal"),oe=P.useMemo(()=>{const $e=new Map(o.map(pt=>[pt.id,pt])),mt=new Map(f.map(pt=>[pt.id,pt]));return r.filter(pt=>(pt.location||"Sin Asignar")===t&&!pt.isReference).sort((pt,rt)=>pt.id.localeCompare(rt.id)).map(pt=>{let rt;if(pt.sireLotId){const Et=$e.get(pt.sireLotId);if(Et){const gt=mt.get(Et.sireId)||r.find($t=>$t.id===Et.sireId);rt=gt?Vn(gt):void 0}}return{...pt,formattedAge:fu(pt.birthDate),statusObjects:pte(pt,i,a,o,s),sireName:rt}})},[r,t,i,a,o,s,f]),te=P.useRef(null),ue=vte({count:oe.length,getScrollElement:()=>te.current,estimateSize:()=>96,overscan:5}),R=$e=>{y(mt=>{const pt=new Set(mt);return pt.has($e)?pt.delete($e):pt.add($e),pt})},$=async()=>{const $e=Array.from(g).map(mt=>l(mt,{location:""}));try{await Promise.all($e),v(!1),y(new Set)}catch(mt){console.error("Error al quitar animales:",mt)}},J=async $e=>{if(!t)return;const mt=$e.map(pt=>l(pt,{location:t}));await Promise.all(mt),p(!1)},ne=$e=>{if(!$e)return[];const mt=[];return $e.sex==="Hembra"&&(mt.push({label:"Declarar Parto",icon:Co,onClick:()=>{B(!1),D("parturition")}}),mt.push({label:"Declarar Aborto",icon:ff,onClick:()=>{B(!1),D("abortion")},color:"text-yellow-400"}),mt.push({label:"Acciones de Leche",icon:df,onClick:()=>{B(!1),D("milkWeighingAction")}}),$e.sireLotId&&mt.push({label:"Registrar Servicio",icon:o0,onClick:()=>{B(!1),D("service")},color:"text-pink-400"})),mt.push({label:"Acciones de Peso",icon:Xu,onClick:()=>{B(!1),D("bodyWeighingAction")}}),mt.push({label:"Dar de Baja",icon:Cc,onClick:()=>{B(!1),D("decommissionSheet")},color:"text-brand-red"}),mt},he=[{label:"Por Venta",icon:vc,onClick:()=>{O("Venta"),D("decommission")}},{label:"Por Muerte",icon:ff,onClick:()=>{O("Muerte"),D("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:O5,onClick:()=>{O("Descarte"),D("decommission")},color:"text-brand-red"}],Se=$e=>{N($e),B(!0)},we=()=>{D(null),N(null),H(null),q([]),O(null)},re=async $e=>{if(!E)return;const mt={status:$e.reason,isReference:!0,endDate:$e.date};$e.reason==="Venta"&&Object.assign(mt,{salePrice:$e.salePrice,saleBuyer:$e.saleBuyer,salePurpose:$e.salePurpose}),$e.reason==="Muerte"&&(mt.deathReason=$e.deathReason),$e.reason==="Descarte"&&Object.assign(mt,{cullReason:$e.cullReason,cullReasonDetails:$e.cullReasonDetails}),await l(E.id,mt),we()},pe=($e,mt)=>{H($e),D(mt==="leche"?"logSimpleMilk":"logSimpleBody")},xe=$e=>{W($e),D($e==="leche"?"newMilkSession":"newBodySession")},Ae=async()=>{E&&(await l(E.id,{reproductiveStatus:"En Servicio"}),we())},He=($e,mt)=>{q(mt),D("bulkWeighing")},Ie=()=>{we()},fe=async $e=>{if(!E||!E.sireLotId){console.error("Missing animal or sireLotId."),we();return}await u({sireLotId:E.sireLotId,femaleId:E.id,serviceDate:$e.toISOString().split("T")[0]}),we()};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:te,className:"w-full max-w-2xl mx-auto animate-fade-in pt-16 pb-16",style:{height:`calc(100vh - ${m&&g.size>0?"80px":"0px"})`,overflowY:"auto",boxSizing:"border-box"},children:[c.jsxs("header",{className:"flex items-center justify-between p-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),c.jsxs("p",{className:"text-lg text-zinc-400",children:[oe.length," ",oe.length===1?"animal":"animales"]})]}),m?c.jsx("button",{onClick:()=>{v(!1),y(new Set)},className:"text-brand-orange font-semibold px-2 py-1",children:"Listo"}):c.jsx("button",{onClick:()=>v(!0),className:"p-2 -mr-2 text-zinc-400 hover:text-white",children:c.jsx(Cf,{size:20})})]}),!m&&c.jsx("div",{className:"px-4 pt-4",children:c.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[c.jsx(ba,{size:20})," Aadir Animales"]})}),c.jsx("div",{className:"pt-4",style:{height:"auto",position:"relative"},children:oe.length>0?c.jsx("div",{style:{height:`${ue.getTotalSize()}px`,width:"100%",position:"relative"},children:ue.getVirtualItems().map($e=>{const mt=oe[$e.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${$e.size}px`,transform:`translateY(${$e.start}px)`,padding:"0 1rem 1rem 1rem",boxSizing:"border-box"},children:m?c.jsx(Q9e,{animal:mt,isSelected:g.has(mt.id),onSelect:R}):c.jsx(PO,{animal:mt,onSelect:pt=>n({name:"rebano-profile",animalId:pt}),onOpenActions:Se})},$e.key)})}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-500",children:"Este lote est vaco."})})})]}),m&&g.size>0&&c.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-ios-modal-bg p-4 border-t border-brand-border animate-slide-up z-20",children:c.jsxs("div",{className:"max-w-2xl mx-auto flex gap-4",children:[c.jsxs("button",{onClick:$,className:"flex-1 flex items-center justify-center gap-2 bg-brand-red text-white font-bold py-3 rounded-xl",children:[c.jsx(Sc,{size:18})," Quitar del Lote"]}),c.jsxs("button",{onClick:()=>C(!0),className:"flex-1 flex items-center justify-center gap-2 bg-brand-blue text-white font-bold py-3 rounded-xl",children:[c.jsx(LD,{size:18})," Transferir"]})]})}),c.jsx(HE,{isOpen:h,onClose:()=>p(!1),onSelect:J,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:`Aadir animales a: ${t}`}),c.jsx(f7e,{isOpen:b,onClose:()=>{C(!1),v(!1),y(new Set)},animalsToTransfer:Array.from(g),fromLot:t}),c.jsx(Ku,{isOpen:_,onClose:()=>B(!1),title:`Acciones para ${Vn(E)}`,actions:ne(E)}),c.jsx(Ku,{isOpen:j==="decommissionSheet",onClose:we,title:"Causa de la Baja",actions:he}),E&&c.jsxs(c.Fragment,{children:[j==="parturition"&&c.jsx(bp,{isOpen:!0,onClose:we,motherId:E.id}),j==="abortion"&&c.jsx(qO,{animal:E,onCancel:we,onSaveSuccess:we}),j==="decommission"&&k&&c.jsx(VE,{isOpen:j==="decommission",animal:E,onCancel:we,onConfirm:re,reason:k}),j==="service"&&c.jsx(JO,{isOpen:!0,onClose:we,onSave:fe,animal:E}),j==="milkWeighingAction"&&c.jsx(WO,{isOpen:!0,animal:E,onClose:we,onLogToSession:$e=>pe($e,"leche"),onStartNewSession:()=>xe("leche"),onStartDrying:A,onSetDry:d}),j==="bodyWeighingAction"&&c.jsx(GO,{isOpen:!0,animal:E,onClose:we,onLogToSession:$e=>pe($e,"corporal"),onStartNewSession:()=>xe("corporal"),onSetReadyForMating:Ae}),j==="logSimpleMilk"&&F&&c.jsx(fn,{isOpen:!0,onClose:we,title:`Aadir Pesaje Leche: ${Vn(E)}`,children:c.jsx(Wg,{animalId:E.id,weightType:"leche",onSaveSuccess:we,onCancel:we,sessionDate:F})}),j==="logSimpleBody"&&F&&c.jsx(fn,{isOpen:!0,onClose:we,title:`Aadir Peso Corporal: ${Vn(E)}`,children:c.jsx(Wg,{animalId:E.id,weightType:"corporal",onSaveSuccess:we,onCancel:we,sessionDate:F})}),(j==="newMilkSession"||j==="newBodySession")&&c.jsx(XO,{weightType:Z,onBack:we,onAnimalsSelected:He}),j==="bulkWeighing"&&c.jsx(fn,{isOpen:!0,onClose:we,title:`Carga Masiva - ${Z==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(YO,{weightType:Z,animalsToWeigh:Y,onSaveSuccess:Ie,onCancel:we})})]})]})}const z9e=({activeFilter:t,setActiveFilter:e})=>c.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[c.jsx("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Activo"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"Activos"}),c.jsx("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"De Referencia"})]}),V9e=({activeFilter:t,setFilter:e})=>{const n=[{key:"all",label:"Todos"},{key:"Venta",label:"Vendidos"},{key:"Muerte",label:"Muertos"},{key:"Descarte",label:"Descartados"}];return c.jsxs("div",{className:"p-3 bg-black/20 rounded-lg",children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Filtrar por estado:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(r=>c.jsx("button",{onClick:()=>e(r.key),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${t===r.key?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:r.label},r.key))})]})},bS=({isOpen:t,onClose:e,onSelect:n,animals:r,title:i,filterSex:a})=>{const[s,o]=P.useState(""),[l,u]=P.useState("Activo"),[A,d]=P.useState("all"),f=m=>{u(m),d("all")},h=P.useMemo(()=>r.filter(m=>{if(a&&m.sex&&m.sex!==a)return!1;const v=m.isReference;return l==="Referencia"?v?A!=="all"?m.status===A:!0:!1:!v}).filter(m=>{if(!s)return!0;const v=s.toLowerCase(),g=m.id.toLowerCase().includes(v),y=m.name&&m.name.toLowerCase().includes(v);return g||y}).sort((m,v)=>m.id.localeCompare(v.id)),[r,s,l,A,a]),p=m=>{n(m),o("")};return c.jsx(fn,{isOpen:t,onClose:e,title:i,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx($u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),c.jsx("input",{type:"search",placeholder:"Buscar ID o Nombre...",value:s,onChange:m=>o(m.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),c.jsx(z9e,{activeFilter:l,setActiveFilter:f}),l==="Referencia"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(V9e,{activeFilter:A,setFilter:d})}),c.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:h.length>0?h.map(m=>{const v=m.name?String(m.name).toUpperCase().trim():"";return c.jsx("button",{onClick:()=>p(m.id),className:"w-full text-left p-3 bg-zinc-800/50 hover:bg-zinc-700 rounded-lg transition-colors",children:c.jsxs("div",{className:"min-w-0",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:m.id.toUpperCase()}),v&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:v}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[m.sex?`${m.sex}`:"",m.birthDate&&m.birthDate!=="N/A"?` | ${fu(m.birthDate)}`:"",` | Lote: ${m.location||"N/A"}`]})]})},m.id)}):c.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se encontraron animales con estos filtros."})})]})})},$9e=(t,e)=>{if(!t||!e)return"Indefinido";const n=new Date,r=new Date(t+"T00:00:00");if(isNaN(r.getTime()))return"Indefinido";const i=(n.getTime()-r.getTime())/(1e3*60*60*24);return e==="Hembra"?i<=60?"Cabrita":i<=365?"Cabritona":"Cabra":i<=60?"Cabrito":i<=365?"Macho de Levante":"Reproductor"},Sm=be.forwardRef(({className:t,...e},n)=>c.jsx("input",{ref:n,...e,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange disabled:opacity-50 disabled:bg-brand-dark/50 ${t}`})),H1=be.forwardRef(({children:t,...e},n)=>c.jsxs("div",{className:"relative w-full",children:[c.jsx("select",{ref:n,...e,className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:t}),c.jsx(Kh,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]})),Qm=({title:t,children:e})=>c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border p-4 space-y-4",children:[c.jsx("h2",{className:"text-zinc-400 font-semibold text-sm uppercase tracking-wide",children:t}),e]}),qI=({labelOn:t,labelOff:e,value:n,onChange:r})=>c.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-brand-dark rounded-xl p-1 flex cursor-pointer",children:[c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-700 text-white":"text-zinc-400"}`,children:t}),c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-700 text-white"}`,children:e})]}),K9e=({onSaveSuccess:t,onCancel:e})=>{const{addAnimal:n,animals:r,lots:i,fathers:a}=en(),[s,o]=P.useState("Activo"),[l,u]=P.useState("Hembra"),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState("MN"),[y,b]=P.useState(""),[C,E]=P.useState("Simple"),[N,_]=P.useState(null),[B,j]=P.useState(null),[D,k]=P.useState(""),[O,F]=P.useState(""),[H,Y]=P.useState(!1),[q,Z]=P.useState(""),[W,oe]=P.useState(null),[te,ue]=P.useState(null),[R,$]=P.useState("Indefinido"),[J,ne]=P.useState(!1),[he,Se]=P.useState(!1),[we,re]=P.useState(!1),[pe,xe]=P.useState(!1),[Ae,He]=P.useState(!1),[Ie,fe]=P.useState(null),$e=P.useMemo(()=>p?$9e(p,l):"Indefinido",[p,l]),mt=p?$e:R;P.useEffect(()=>{F(QE(D))},[D]);const pt=P.useMemo(()=>r.filter(bt=>bt.sex==="Hembra"),[r]),rt=P.useMemo(()=>r.filter(bt=>bt.sex==="Macho"),[r]),Et=P.useMemo(()=>{const bt=rt,wt=a.map(Tt=>({id:Tt.id,name:Tt.name,sex:"Macho",status:"Activo",isReference:!0,birthDate:"N/A",lifecycleStage:"Reproductor",location:"Referencia",reproductiveStatus:"No Aplica",createdAt:0,lastWeighing:null}));return[...bt,...wt]},[rt,a]);P.useEffect(()=>{const bt=r.find(Tt=>Tt.id===B),wt=Et.find(Tt=>Tt.id===N);if(bt!=null&&bt.racialComposition&&(wt!=null&&wt.racialComposition)){const Tt=mte(bt.racialComposition,wt.racialComposition);k(Tt),Y(!0)}else(!bt||!wt)&&Y(!1)},[B,N,r,Et]),P.useEffect(()=>{if(oe(null),A&&s==="Activo"){const bt=r.some(wt=>wt.id.toLowerCase()===A.toLowerCase());ue(bt?`El ID "${A.toUpperCase()}" ya existe en el rebao principal.`:null)}else ue(null)},[A,r,s]);const gt=P.useMemo(()=>i,[i]),$t=async bt=>{if(bt.preventDefault(),oe(null),ue(null),s==="Activo"&&!A){oe({type:"error",text:"El ID del animal es obligatorio para animales Activos."});return}if(A&&s==="Activo"&&r.some(Xt=>Xt.id.toLowerCase()===A.toLowerCase())){ue(`El ID "${A.toUpperCase()}" ya existe en el rebao principal.`),oe({type:"error",text:`El ID "${A.toUpperCase()}" ya existe.`});return}if(!D&&!window.confirm(`ALERTA

No has especificado una Composicin Racial. El animal se guardar sin raza definida.

Deseas guardar de todas formas?`)){oe({type:"error",text:"Guardado cancelado. Por favor, aade la composicin racial."});return}const wt={id:A.toUpperCase()||`REF-${Date.now()}`,name:f||void 0,birthDate:p||"N/A",sex:l,isReference:s==="Referencia",status:"Activo",lifecycleStage:mt,conceptionMethod:v||void 0,birthWeight:y?parseFloat(y):void 0,parturitionType:C||void 0,fatherId:N||void 0,motherId:B||void 0,racialComposition:D||void 0,breed:O||void 0,location:q||"",reproductiveStatus:l==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await n(wt),oe({type:"success",text:`Animal ${Vn(wt)} agregado con xito.`}),setTimeout(t,1e3)}catch(Tt){oe({type:"error",text:Tt.message||"No se pudo guardar el animal."}),console.error("Error al guardar animal:",Tt)}},Mt=bt=>{Ie==="father"?_(bt.id):Ie==="mother"&&j(bt.id),fe(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:$t,className:"w-full space-y-6",children:[c.jsxs(Qm,{title:"Categora del Animal (Obligatorio)",children:[c.jsx(qI,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:bt=>{o(bt?"Activo":"Referencia"),bt||ue(null)}}),c.jsx(qI,{labelOn:"Hembra",labelOff:"Macho",value:l==="Hembra",onChange:bt=>u(bt?"Hembra":"Macho")})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["ID Animal ",s==="Activo"?"(Obligatorio)":"(Opcional para Referencia)"]}),c.jsx("input",{type:"text",value:A,onClick:()=>xe(!0),readOnly:!0,placeholder:s==="Activo"?"T047":"Opcional...",className:`w-full bg-brand-glass border rounded-xl p-4 text-white text-center text-3xl font-mono tracking-widest placeholder-zinc-700 focus:outline-none focus:ring-2 cursor-pointer ${te?"border-brand-red ring-brand-red":"border-brand-border focus:ring-brand-orange"}`,required:s==="Activo"}),te&&c.jsxs("p",{className:"mt-2 text-sm text-brand-red flex items-center justify-center gap-1",children:[c.jsx(gr,{size:14})," ",te]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Nombre (Opcional)"}),c.jsx(Sm,{type:"text",value:f,onChange:bt=>h(bt.target.value.toUpperCase()),placeholder:"Ej: PRINCESA"})]}),c.jsxs(Qm,{title:"Gentica y Nacimiento",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha de Nacimiento (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>ne(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white flex justify-between items-center",children:[c.jsx("span",{className:p?"text-white":"text-zinc-500",children:p?new Date(p+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Seleccionar fecha..."}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Estado (Categora Zootcnica)"}),p?c.jsx(Sm,{type:"text",value:$e,readOnly:!0,disabled:!0}):c.jsxs(H1,{value:R,onChange:bt=>$(bt.target.value),children:[c.jsx("option",{value:"Indefinido",children:"Seleccionar Categora..."}),c.jsx("option",{value:"Cabrita",children:"Cabrita"}),c.jsx("option",{value:"Cabritona",children:"Cabritona"}),c.jsx("option",{value:"Cabra",children:"Cabra"}),c.jsx("option",{value:"Cabrito",children:"Cabrito"}),c.jsx("option",{value:"Macho de Levante",children:"Macho de Levante"}),c.jsx("option",{value:"Reproductor",children:"Reproductor"})]})]}),c.jsxs(H1,{value:v,onChange:bt=>g(bt.target.value),children:[c.jsx("option",{value:"MN",children:"Monta Natural (MN)"}),c.jsx("option",{value:"IA",children:"Inseminacin Artificial (IA)"}),c.jsx("option",{value:"TE",children:"Transferencia de Embriones (TE)"}),c.jsx("option",{value:"",children:"Otro/Desconocido"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Sm,{type:"number",step:"0.1",value:y,onChange:bt=>b(bt.target.value),placeholder:"Peso al Nacer (Kg)"}),c.jsxs(H1,{value:C,onChange:bt=>E(bt.target.value),children:[c.jsx("option",{value:"Simple",children:"Parto Simple"}),c.jsx("option",{value:"TW",children:"Doble (TW)"}),c.jsx("option",{value:"TR",children:"Triple (TR)"}),c.jsx("option",{value:"QD",children:"Cudruple (QD)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Reproductor)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>re(!0),className:"w-full text-left bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:N?"text-white":"text-zinc-500",children:N?Vn(Et.find(bt=>bt.id===N))||N:"Seleccionar padre..."}),c.jsx($u,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>fe("father"),className:"p-3 bg-brand-glass border border-brand-border rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(ba,{size:20})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Madre"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>Se(!0),className:"w-full text-left bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:B?"text-white":"text-zinc-500",children:B?Vn(pt.find(bt=>bt.id===B))||B:"Seleccionar madre..."}),c.jsx($u,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>fe("mother"),className:"p-3 bg-brand-glass border border-brand-border rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(ba,{size:20})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Composicin Racial (Ej: 50%A 50%S)"}),c.jsx("input",{type:"text",value:D,onClick:()=>{H||He(!0)},readOnly:!0,placeholder:"100%A  75%A 25%AGC",disabled:H,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange ${H?"opacity-50 bg-brand-dark/50":"cursor-pointer"}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Raza (Auto-calculada)"}),c.jsx(Sm,{type:"text",value:O,readOnly:!0,disabled:!0,placeholder:"Ej: Mestiza Alpina"})]})]}),c.jsxs(Qm,{title:"Manejo",children:[c.jsxs(H1,{value:q,onChange:bt=>Z(bt.target.value),children:[c.jsx("option",{value:"",children:"Ubicacin / Lote (Opcional)..."}),gt.map(bt=>c.jsx("option",{value:bt.name,children:bt.name},bt.id))]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Si no se asigna un lote, se podr encontrar en el filtro "ltima Carga".'})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[W&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${W.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",W.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18})," ",c.jsx("span",{children:W.text})," "]}),c.jsx("button",{type:"submit",disabled:!!te,className:`w-full text-white font-bold py-4 rounded-xl text-lg ${te?"bg-zinc-600 cursor-not-allowed":"bg-brand-green hover:bg-green-600"}`,children:"Guardar Animal"}),c.jsx("button",{type:"button",onClick:e,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-3 rounded-xl text-lg",children:"Cancelar"})]})]}),J&&c.jsx(Ute,{onClose:()=>ne(!1),onSelectDate:bt=>{bt&&m(bt.toISOString().split("T")[0]),ne(!1)},currentValue:p?new Date(p+"T00:00:00"):new Date}),c.jsx(bS,{isOpen:he,onClose:()=>Se(!1),onSelect:bt=>{j(bt),Se(!1)},animals:pt,title:"Seleccionar Madre",filterSex:"Hembra"}),c.jsx(bS,{isOpen:we,onClose:()=>re(!1),onSelect:bt=>{_(bt),re(!1)},animals:Et,title:"Seleccionar Padre",filterSex:"Macho"}),pe&&c.jsx(Qte,{onClose:()=>xe(!1),onInput:bt=>d(bt.toUpperCase()),currentValue:A}),Ae&&c.jsx(Hte,{onClose:()=>He(!1),onInput:k,currentValue:D}),Ie&&c.jsx(W9e,{type:Ie,onClose:()=>fe(null),onSave:Mt})]})},Ute=({onClose:t,onSelectDate:e,currentValue:n})=>c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",onClick:r=>r.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("div",{onClick:t,className:"w-16 h-1.5 bg-zinc-700 rounded-full mx-auto mb-4 cursor-pointer"}),c.jsx("div",{className:"flex justify-center [&_.rdp]:bg-transparent [&_.rdp]:text-white [&_.rdp-caption_select]:bg-brand-glass [&_.rdp-caption_select]:border-brand-border [&_.rdp-caption_select]:text-white [&_.rdp-caption_select]:rounded-lg [&_.rdp-day_selected]:bg-brand-orange [&_.rdp-day_selected]:text-white [&_.rdp-day_today]:text-brand-orange [&_.rdp-nav_button]:text-zinc-400 [&_.rdp-head_cell]:text-zinc-500 [&_.rdp-day]:text-zinc-200 [&_.rdp-day_outside]:text-zinc-600",children:c.jsx(yp,{mode:"single",selected:n,onSelect:e,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),defaultMonth:n,locale:jx})})]})}),Qte=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","-","0","DEL"],a=o=>{if(o==="DEL"){s();return}o&&n.length<15&&e(n+o)},s=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:o=>o.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(o=>c.jsx("button",{onClick:()=>a(o),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:o},o))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center",children:o==="DEL"?c.jsx(M5,{size:20}):o},o))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},Hte=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","%","0","DEL"],a=4,s=l=>{var m,v,g;if(l==="DEL"){o();return}if(n.length>=30)return;const u=n.split(" ").filter(y=>y!=="");let A=/[%A-Z]$/.test(n),d=n===""||n.endsWith(" ");if(u.length>=a&&d&&/\d/.test(l))return;let f=n;if(A&&/\d/.test(l))if(u.length<a)f+=" ";else return;if(l==="%"&&!/\d$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||l==="%"&&/%$/.test(f)||/[A-Z]/.test(l)&&!d&&!/\d$/.test(f.slice(-1))&&!/%$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||/\d/.test(l)&&/[A-Z]$/.test(f))return;const h=((v=(m=f.split(" ").pop())==null?void 0:m.match(/\d+$/))==null?void 0:v[0])||"";if(!(l==="0"&&(d||/[%A-Z ]$/.test(f.slice(-1)))&&h.length===0)){if(l==="0"&&h==="0")return;/\d/.test(l)&&h==="0"&&(f=f.slice(0,-1))}const p=(g=(h+l).match(/\d+/))==null?void 0:g[0];p&&parseInt(p,10)>100||e(f+l)},o=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:l=>l.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(l=>c.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:l},l))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(l=>c.jsx("button",{onClick:()=>s(l),className:`h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center ${l==="%"?"text-brand-orange":""}`,children:l==="DEL"?c.jsx(M5,{size:20}):l},l))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},W9e=({type:t,onClose:e,onSave:n})=>{const{addAnimal:r,animals:i,fathers:a}=en(),[s,o]=P.useState("Referencia"),[l,u]=P.useState(""),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState(""),[y,b]=P.useState(null),[C,E]=P.useState(!1),[N,_]=P.useState(!1),[B,j]=P.useState(!1),D=(O,F)=>{if(!O||!F)return"Indefinido";const H=new Date,Y=new Date(O+"T00:00:00");if(isNaN(Y.getTime()))return"Indefinido";const q=(H.getTime()-Y.getTime())/(1e3*60*60*24);return F==="Hembra"?q<=60?"Cabrita":q<=365?"Cabritona":"Cabra":q<=60?"Cabrito":q<=365?"Macho de Levante":"Reproductor"};P.useEffect(()=>{g(QE(p))},[p]);const k=async()=>{if(b(null),s==="Activo"&&!l){b("El ID es obligatorio si el estado es Activo.");return}const O=l.toUpperCase()||`REF-${Date.now()}`,F=new Set([...i.map(q=>q.id.toLowerCase()),...a.map(q=>q.id.toLowerCase())]);if(l&&F.has(O.toLowerCase())){b("Este ID ya existe en la base de datos (rebao o referencias).");return}const H=t==="mother"?"Hembra":"Macho",Y={id:O,name:A.toUpperCase()||void 0,birthDate:f||"N/A",sex:H,isReference:s==="Referencia",status:"Activo",lifecycleStage:f?D(f,H):H==="Hembra"?"Cabra":"Reproductor",racialComposition:p||void 0,breed:v||void 0,location:"Referencia",reproductiveStatus:H==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await r(Y),n(Y)}catch(q){b(q.message||"Error al guardar el animal."),console.error("Error saving quick parent:",q)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md bg-ios-modal-bg rounded-2xl shadow-lg animate-slide-up flex flex-col max-h-[85vh]",onClick:O=>O.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"}),c.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Agregar ",t==="mother"?"Madre":"Padre"," Rpido"]}),c.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50",children:c.jsx(qo,{size:20})})]}),c.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[c.jsx(Qm,{title:"Categora",children:c.jsx(qI,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:O=>o(O?"Activo":"Referencia")})}),c.jsxs(Qm,{title:"Identificacin",children:[c.jsx("input",{type:"text",value:l,onClick:()=>E(!0),readOnly:!0,placeholder:s==="Activo"?"ID (Obligatorio)":"ID (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(Sm,{value:A,onChange:O=>d(O.target.value.toUpperCase()),placeholder:"Nombre (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-left flex justify-between items-center",children:[c.jsx("span",{className:f?"text-white":"text-zinc-500",children:f?new Date(f+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Fecha de Nacimiento (Opcional)"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs(Qm,{title:"Raza",children:[c.jsx("input",{type:"text",value:p,onClick:()=>j(!0),readOnly:!0,placeholder:"Composicin Racial (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(Sm,{value:v,disabled:!0,readOnly:!0,placeholder:"Raza (Auto-calculada)"})]}),y&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:y})]}),c.jsx("footer",{className:"p-4 border-t border-brand-border flex-shrink-0",children:c.jsxs("button",{onClick:k,className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:["Guardar ",t==="mother"?"Madre":"Padre"]})})]})}),C&&c.jsx(Qte,{onClose:()=>E(!1),onInput:O=>u(O.toUpperCase()),currentValue:l}),N&&c.jsx(Ute,{onClose:()=>_(!1),onSelectDate:O=>{O&&h(O.toISOString().split("T")[0]),_(!1)},currentValue:f?new Date(f+"T00:00:00"):new Date}),B&&c.jsx(Hte,{onClose:()=>j(!1),onInput:m,currentValue:p})]})};function G9e({onBack:t}){return c.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex flex-col justify-end animate-fade-in",onClick:t,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-4xl mx-auto h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:e=>e.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"})," ",c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Ingresar Nuevo Animal"}),c.jsx("button",{onClick:t,className:"p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50 transition-colors","aria-label":"Cerrar",children:c.jsx(qo,{size:24})})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsx(K9e,{onSaveSuccess:t,onCancel:t})})})]})})}const ZO=(t,e)=>{const[n,r]=P.useState(""),i=P.useMemo(()=>n?t.filter(a=>e.some(s=>{const o=a[s];return typeof o=="string"||typeof o=="number"?o.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},q9e=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r,isSticky:i})=>{const[a,s]=P.useState(!1),o=P.useRef(null);P.useEffect(()=>{var A;a&&((A=o.current)==null||A.focus())},[a]);const l=()=>{r(""),s(!1)},u=["text-center pb-4 relative overflow-hidden",i?"sticky top-0 z-10 bg-brand-dark/80 backdrop-blur-md border-b border-brand-border px-4":"pt-4 px-4"].join(" ");return c.jsxs("header",{className:u,children:[c.jsxs("div",{className:`transition-transform duration-300 ${a?"-translate-y-20":"translate-y-0"}`,children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),c.jsx("p",{className:"text-md text-zinc-400",children:e})]}),c.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${a?"translate-y-0":"translate-y-20"} ${i?"px-4":""}`,children:c.jsx("input",{ref:o,type:"text",value:n,onChange:A=>r(A.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),c.jsx("div",{className:"absolute top-4 right-0 pt-1",children:c.jsx("button",{onClick:a?l:()=>s(!0),className:`p-2 text-zinc-400 hover:text-white transition-colors ${i?"px-4":""}`,children:a?c.jsx(qo,{size:22}):c.jsx($u,{size:22})})})]})},_0=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?c.jsx(fn,{isOpen:t,onClose:e,title:r,children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("p",{className:"text-zinc-300",children:i}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Confirmar"})]})]})}):null,Y9e=(t,e,n,r,i)=>{if(!t||t.status!=="Activo"||t.isReference)return[];const a=[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Dr.MILKING):o.status==="en-secado"?a.push(Dr.DRYING_OFF):o.status==="seca"&&a.push(Dr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Dr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Dr.IN_SERVICE_CONFIRMED):a.push(Dr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Dr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Dr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Dr[o]).filter(Boolean)},X9e=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Reproductor"],uN=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>c.jsxs("div",{children:[t&&c.jsx("label",{className:"block text-sm font-semibold text-zinc-400 mb-2",children:t}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>r("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n==="all"||n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return c.jsxs("button",{onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&c.jsx(a,{size:14}),i.label]},i.key)})]})]});function J9e({navigateTo:t,locationFilter:e,kpiFilter:n,scrollContainerRef:r}){const{animals:i,parturitions:a,serviceRecords:s,breedingSeasons:o,sireLots:l,isLoading:u,updateAnimal:A,startDryingProcess:d,setLactationAsDry:f,addServiceRecord:h,fathers:p,deleteAnimalPermanently:m,appConfig:v,bodyWeighings:g}=en(),[y,b]=P.useState(null),[C,E]=P.useState(!1),[N,_]=P.useState(null),[B,j]=P.useState(null),[D,k]=P.useState(null),[O,F]=P.useState([]),[H,Y]=P.useState("corporal"),[q,Z]=P.useState("Activos"),[W,oe]=P.useState("all"),[te,ue]=P.useState("Todos"),[R,$]=P.useState(!1),[J,ne]=P.useState("ALL"),[he,Se]=P.useState("ALL"),[we,re]=P.useState(!1),[pe,xe]=P.useState(!1),[Ae,He]=P.useState(!1),Ie=P.useMemo(()=>!!n&&n!=="all",[n]),fe=P.useRef(null),$e=P.useMemo(()=>{const ke=new Map(l.map(Je=>[Je.id,Je])),et=new Map(p.map(Je=>[Je.id,Je]));return i.map(Je=>{let Ln;if(Je.sireLotId){const nn=ke.get(Je.sireLotId);if(nn){const Qt=et.get(nn.sireId)||i.find(bn=>bn.id===nn.sireId);Ln=Qt?Vn(Qt):void 0}}return{...Je,statusObjects:Y9e(Je,a,s,l,o),formattedAge:fu(Je.birthDate),zootecnicCategory:xc(Je,a),sireName:Ln}})},[i,a,s,l,o,p]),mt=P.useMemo(()=>{let ke=q==="Activos"?$e.filter(et=>!et.isReference):$e.filter(et=>et.isReference);if(n)if(n==="females")ke=ke.filter(et=>et.sex==="Hembra");else if(n==="vientres"){const et=v.edadPrimerServicioMeses>0?v.edadPrimerServicioMeses:11,Je=v.pesoPrimerServicioKg>0?v.pesoPrimerServicioKg:30,Ln=et*30.44;ke=ke.filter(nn=>{if(nn.sex!=="Hembra")return!1;const Qt=xc(nn,a);if(Qt==="Cabra")return!0;if(Qt==="Cabrita")return!1;if(Qt==="Cabritona"){if(Ko(nn.birthDate)<Ln)return!1;if(Je>0){const mi=g.filter(cr=>cr.animalId===nn.id).sort((cr,ta)=>new Date(ta.date).getTime()-new Date(cr.date).getTime())[0];if(!mi||mi.kg<Je)return!1}return!0}return!1})}else n==="Cabra"?ke=ke.filter(et=>et.zootecnicCategory==="Cabra"):n==="Cabritona"?ke=ke.filter(et=>et.zootecnicCategory==="Cabritona"):n==="Crias"?ke=ke.filter(et=>et.zootecnicCategory==="Cabrita"||et.zootecnicCategory==="Cabrito"):n==="Reproductor"&&(ke=ke.filter(et=>et.zootecnicCategory==="Reproductor"));if(!Ie){if(e&&(ke=ke.filter(et=>(et.location||"Sin Asignar")===e)),R)return ke.sort((et,Je)=>(Je.endDate?new Date(Je.endDate).getTime():Je.createdAt||0)-(et.endDate?new Date(et.endDate).getTime():et.createdAt||0)).slice(0,25);q==="Activos"?(J!=="ALL"&&(ke=ke.filter(et=>et.statusObjects.some(Je=>Je.key===J))),he!=="ALL"&&(ke=ke.filter(et=>et.statusObjects.some(Je=>Je.key===he)))):W!=="all"&&(ke=ke.filter(et=>et.status===W)),te!=="Todos"&&(ke=ke.filter(et=>et.zootecnicCategory===te))}return ke},[$e,q,R,e,te,J,he,W,n,v,g,a,Ie]),{searchTerm:pt,setSearchTerm:rt,filteredItems:Et}=ZO(mt,["id","name"]),gt=()=>{ue("Todos"),$(!1),ne("ALL"),Se("ALL"),oe("all"),rt(""),re(!1),xe(!1)},$t=ke=>{if(!ke)return[];if(ke.isReference)return[{label:"Reintegrar a Activos",icon:Lq,onClick:Jt},{label:"Eliminar Permanentemente",icon:Sc,onClick:()=>{E(!1),He(!0)},color:"text-brand-red"}];const et=[];return ke.sex==="Hembra"&&(et.push({label:"Declarar Parto",icon:Co,onClick:()=>{E(!1),_("parturition")}}),et.push({label:"Declarar Aborto",icon:ff,onClick:()=>{E(!1),_("abortion")},color:"text-yellow-400"}),et.push({label:"Acciones de Leche",icon:df,onClick:()=>{E(!1),_("milkWeighingAction")}}),ke.sireLotId&&et.push({label:"Registrar Servicio",icon:o0,onClick:()=>{E(!1),_("service")},color:"text-pink-400"})),et.push({label:"Acciones de Peso",icon:Xu,onClick:()=>{E(!1),_("bodyWeighingAction")}}),et.push({label:"Mover a Lote",icon:RD,onClick:()=>t({name:"rebano-profile",animalId:ke.id,openAction:"move"})}),et.push({label:"Dar de Baja",icon:Cc,onClick:()=>{E(!1),_("decommissionSheet")},color:"text-brand-red"}),et},Mt=[{label:"Por Venta",icon:vc,onClick:()=>{wt(),j("Venta"),_("decommission")}},{label:"Por Muerte",icon:ff,onClick:()=>{wt(),j("Muerte"),_("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:O5,onClick:()=>{wt(),j("Descarte"),_("decommission")},color:"text-brand-red"}],bt=ke=>{b(ke),E(!0)},wt=()=>{_(null),b(null),k(null),F([]),j(null),E(!1)},Tt=async ke=>{if(!y)return;const et={status:ke.reason,isReference:!0,endDate:ke.date};ke.reason==="Venta"&&Object.assign(et,{salePrice:ke.salePrice,saleBuyer:ke.saleBuyer,salePurpose:ke.salePurpose}),ke.reason==="Muerte"&&(et.deathReason=ke.deathReason),ke.reason==="Descarte"&&Object.assign(et,{cullReason:ke.cullReason,cullReasonDetails:ke.cullReasonDetails});try{await A(y.id,et),wt(),t({name:"lots-dashboard"})}catch(Je){console.error("Error al dar de baja:",Je),wt()}},Xt=(ke,et)=>{k(ke),_(et==="leche"?"logSimpleMilk":"logSimpleBody")},ot=ke=>{Y(ke),_(ke==="leche"?"newMilkSession":"newBodySession")},vt=async()=>{y&&(await A(y.id,{reproductiveStatus:"En Servicio"}),wt())},xt=(ke,et)=>{F(et),_("bulkWeighing")},Lt=()=>{wt()},hn=ke=>{d(ke),wt()},Cn=ke=>{f(ke),wt()},zt=async ke=>{if(!y||!y.sireLotId){console.error("Missing animal or sireLotId."),wt();return}await h({sireLotId:y.sireLotId,femaleId:y.id,serviceDate:ke.toISOString().split("T")[0]}),wt()},Jt=async()=>{!y||!y.isReference||(await A(y.id,{isReference:!1,status:"Activo",endDate:void 0,reproductiveStatus:"Vaca"}),E(!1),b(null))},St=async()=>{!y||!y.isReference||(await m(y.id),He(!1),E(!1),b(null))},Kt=vte({count:Et.length,getScrollElement:()=>r.current,estimateSize:()=>96,overscan:5});return u?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando rebao..."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:fe,className:"w-full max-w-2xl mx-auto",children:[c.jsx(q9e,{title:e||(n?`Filtro: ${n.charAt(0).toUpperCase()+n.slice(1)}`:"Mi Rebao"),subtitle:`${Et.length} animales en la vista`,searchTerm:pt,setSearchTerm:rt,isSticky:!0}),Ie?c.jsx("div",{className:"pt-2"}):c.jsxs("div",{className:"space-y-4 px-4 pt-4",children:[c.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>{Z("Activos"),gt(),ue("Todos")},className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${q==="Activos"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(ZA,{size:16})," Activos"]}),c.jsxs("button",{onClick:()=>{Z("Referencia"),gt()},className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${q==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(jq,{size:16})," Referencia"]})]}),q==="Activos"?c.jsx("div",{className:"space-y-4 animate-fade-in",children:c.jsxs("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>re(!we),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[c.jsx("span",{children:"Filtros Productivos"}),c.jsx(Kh,{className:`transition-transform ${we?"rotate-180":""}`,size:18})]}),we&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(uN,{title:"",filters:["MILKING","DRYING_OFF","DRY"].map(ke=>Dr[ke]).filter(Boolean),activeFilter:J,onFilterChange:ne})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>xe(!pe),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[c.jsx("span",{children:"Filtros Reproductivos"}),c.jsx(Kh,{className:`transition-transform ${pe?"rotate-180":""}`,size:18})]}),pe&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(uN,{title:"",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(ke=>Dr[ke]).filter(Boolean),activeFilter:he,onFilterChange:Se})})]})]})}):c.jsx("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:c.jsx(uN,{title:"Filtrar por Causa de Baja",filters:[{key:"Venta",label:"Venta"},{key:"Muerte",label:"Muerte"},{key:"Descarte",label:"Descarte"}],activeFilter:W,onFilterChange:oe})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>$(!R),title:R?"Mostrar todos":"Mostrar ltima carga",className:`flex items-center gap-2 py-1 px-3 text-sm font-semibold rounded-lg transition-colors ${R?"text-brand-orange":"text-zinc-400 hover:text-brand-orange"}`,children:[c.jsx(FD,{size:16})," ",R?"Viendo ltima Carga":"ltima Carga"]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>t({name:"manage-lots"}),className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[c.jsx(QD,{size:14})," Gestionar Lotes"]}),c.jsxs("button",{onClick:gt,className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[c.jsx(DD,{size:14})," Limpiar"]})]})]}),c.jsxs("select",{value:te,onChange:ke=>ue(ke.target.value),className:"w-full bg-brand-glass p-3 rounded-xl text-white border border-brand-border focus:border-brand-orange focus:ring-0 appearance-none",children:[c.jsx("option",{value:"Todos",children:"Todas las Categoras Zootcnicas"}),X9e.map(ke=>c.jsx("option",{value:ke,children:ke},ke))]})]}),c.jsx("div",{className:"pt-4",style:{height:"auto",position:"relative"},children:Et.length>0?c.jsx("div",{style:{height:`${Kt.getTotalSize()}px`,width:"100%",position:"relative"},children:Kt.getVirtualItems().map(ke=>{const et=Et[ke.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${ke.size}px`,transform:`translateY(${ke.start}px)`,padding:"0 1rem 1rem 1rem",boxSizing:"border-box"},children:c.jsx(PO,{animal:et,onSelect:()=>t({name:"rebano-profile",animalId:et.id}),onOpenActions:bt})},ke.key)})}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:pt?`No se encontraron resultados para "${pt}"`:"No hay animales que coincidan con los filtros."})})})]}),c.jsx(Ku,{isOpen:C,onClose:()=>E(!1),title:`Acciones para ${Vn(y)}`,actions:$t(y)}),c.jsx(Ku,{isOpen:N==="decommissionSheet",onClose:wt,title:"Causa de la Baja",actions:Mt}),y&&c.jsxs(c.Fragment,{children:[N==="parturition"&&c.jsx(bp,{isOpen:!0,onClose:wt,motherId:y.id}),N==="abortion"&&c.jsx(qO,{animal:y,onCancel:wt,onSaveSuccess:wt}),N==="decommission"&&B&&c.jsx(VE,{isOpen:N==="decommission",animal:y,onCancel:wt,onConfirm:Tt,reason:B}),N==="service"&&c.jsx(JO,{isOpen:!0,onClose:wt,onSave:zt,animal:y}),N==="milkWeighingAction"&&c.jsx(WO,{isOpen:!0,animal:y,onClose:wt,onLogToSession:ke=>Xt(ke,"leche"),onStartNewSession:()=>ot("leche"),onStartDrying:hn,onSetDry:Cn}),N==="bodyWeighingAction"&&c.jsx(GO,{isOpen:!0,animal:y,onClose:wt,onLogToSession:ke=>Xt(ke,"corporal"),onStartNewSession:()=>ot("corporal"),onSetReadyForMating:vt}),N==="logSimpleMilk"&&D&&c.jsx(fn,{isOpen:!0,onClose:wt,title:`Aadir Pesaje Leche: ${Vn(y)}`,children:c.jsx(Wg,{animalId:y.id,weightType:"leche",onSaveSuccess:wt,onCancel:wt,sessionDate:D})}),N==="logSimpleBody"&&D&&c.jsx(fn,{isOpen:!0,onClose:wt,title:`Aadir Peso Corporal: ${Vn(y)}`,children:c.jsx(Wg,{animalId:y.id,weightType:"corporal",onSaveSuccess:wt,onCancel:wt,sessionDate:D})}),(N==="newMilkSession"||N==="newBodySession")&&c.jsx(XO,{weightType:H,onBack:wt,onAnimalsSelected:xt}),N==="bulkWeighing"&&c.jsx(fn,{isOpen:!0,onClose:wt,title:`Carga Masiva - ${H==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(YO,{weightType:H,animalsToWeigh:O,onSaveSuccess:Lt,onCancel:wt})}),c.jsx(_0,{isOpen:Ae,onClose:()=>He(!1),onConfirm:St,title:`Eliminar ${Vn(y)} Permanentemente`,message:"Esta accin borrar el registro del animal de la base de datos para siempre y no se puede deshacer. Continuar?"})]})]})}const Z9e=({isOpen:t,onClose:e,editingLotId:n})=>{const{lots:r,addLot:i}=en(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState(""),d=async()=>{if(a.trim()===""){A("El nombre del lote no puede estar vaco.");return}try{await i({name:a,parentLotId:o||void 0}),f()}catch(p){A(p.message||"No se pudo guardar el lote."),console.error(p)}},f=()=>{s(""),l(""),A(""),e()},h=r.filter(p=>!p.parentLotId&&p.id!==n);return c.jsx(fn,{isOpen:t,onClose:f,title:"Crear Nuevo Lote",children:c.jsxs("form",{onSubmit:p=>{p.preventDefault(),d()},className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lotName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote"}),c.jsx("input",{id:"lotName",type:"text",value:a,onChange:p=>s(p.target.value),placeholder:"Ej: Galpn 1",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"parentLot",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-lote de (Opcional)"}),c.jsxs("select",{id:"parentLot",value:o,onChange:p=>l(p.target.value),className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0",children:[c.jsx("option",{value:"",children:"Ninguno (Es un Lote Principal)"}),h.map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:u}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:f,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},eVe=({isOpen:t,onClose:e})=>{const{addOrigin:n}=en(),[r,i]=P.useState(""),[a,s]=P.useState(""),o=async()=>{if(r.trim()===""){s("El nombre del origen no puede estar vaco.");return}try{await n(r),i(""),s(""),e()}catch(u){s("No se pudo guardar el origen."),console.error(u)}},l=()=>{i(""),s(""),e()};return c.jsx(fn,{isOpen:t,onClose:l,title:"Crear Nuevo Origen",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la ganadera o finca de origen."}),c.jsx("div",{children:c.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Agropecuaria La Bendicin",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&c.jsx("p",{className:"text-sm text-brand-red",children:a}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{onClick:l,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:o,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Origen"})]})]})})},tVe=t=>{const{events:e}=en();return P.useMemo(()=>t?e.filter(a=>a.animalId===t).sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()):[],[e,t])},nVe=t=>{const{animals:e}=en(),n=P.useMemo(()=>{const i=new Map;return e.forEach(a=>i.set(a.id,a)),i},[e]);return P.useMemo(()=>{const i=(s,o)=>{if(!s||o>3)return;const l=n.get(s);if(!l)return;const u=i(l.fatherId,o+1),A=i(l.motherId,o+1);return{animal:l,sire:u,dam:A}};return i(t,0)||null},[t,n])},Io=({animal:t,onClick:e,theme:n})=>{const r=n==="light",i="p-1.5 rounded-lg border w-44 text-left shadow-md transition-colors text-xs px-2",a=r?"bg-white border-zinc-300 text-black":"bg-zinc-800/80 border-zinc-700/80 text-white";if(!t)return c.jsxs("div",{className:`${i} ${r?"bg-zinc-50 border-dashed":"bg-zinc-900/50 border-dashed"} text-center`,children:[" ",c.jsx("p",{className:"font-semibold text-zinc-500",children:"Desconocido"})]});const s=t.sex==="Hembra"?r?"text-pink-600":"text-pink-400":r?"text-blue-600":"text-blue-400",o=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:`${i} ${a} ${r?"hover:border-blue-500":"hover:border-brand-orange"}`,children:[c.jsx("p",{className:`font-mono font-semibold text-xs truncate ${s}`,children:t.id.toUpperCase()}),o&&c.jsx("p",{className:`text-[10px] ${r?"text-zinc-700":"text-zinc-300"} truncate`,children:o}),c.jsx("p",{className:`text-[10px] ${r?"text-zinc-600":"text-zinc-400"}`,children:t.sex})]})},zte=({rootNode:t,onAncestorClick:e,theme:n="dark"})=>{var p,m,v,g,y,b,C,E,N,_,B,j,D,k,O,F,H,Y,q,Z,W,oe,te,ue,R,$,J,ne,he,Se,we,re,pe,xe;if(!t)return c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos de genealoga suficientes para mostrar el pedigr."});const r=n==="light",i=r?"border-zinc-400":"border-zinc-600",a=c.jsx("div",{className:`w-3 border-t-2 ${i}`}),s=c.jsx("div",{className:`h-20 border-r-2 ${i}`}),o=c.jsx("div",{className:`h-10 border-r-2 ${i}`}),l=c.jsx("div",{className:`h-6 border-r-2 ${i}`}),u=t.animal.name?String(t.animal.name).toUpperCase().trim():"",A=r?"text-black":"text-white",d=r?"text-zinc-600":"text-zinc-400",f=t.animal.sex==="Hembra"?r?"text-pink-600":"text-pink-400":r?"text-blue-600":"text-blue-400",h=r?"bg-white border-zinc-300":"bg-zinc-800/80 border-zinc-700/80";return c.jsxs("div",{className:"flex items-center justify-center p-4 overflow-x-auto min-w-max",children:[c.jsx("div",{className:"flex flex-col items-center justify-center",children:c.jsxs("div",{className:`p-1.5 rounded-lg border w-44 text-left shadow-md text-xs px-2 ${h} ${A}`,children:[c.jsx("p",{className:`font-mono font-semibold text-xs truncate ${f}`,children:t.animal.id.toUpperCase()}),u&&c.jsx("p",{className:`text-[10px] ${r?"text-zinc-700":"text-zinc-300"} truncate`,children:u}),c.jsx("p",{className:`text-[10px] ${d}`,children:t.animal.sex})]})}),c.jsxs("div",{className:"flex flex-col items-center",children:[a,s,a]}),c.jsxs("div",{className:"flex flex-col items-center justify-around space-y-4",children:[c.jsx(Io,{animal:(p=t.sire)==null?void 0:p.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(m=t.dam)==null?void 0:m.animal,onClick:e,theme:n})]}),c.jsxs("div",{className:"flex flex-col items-center justify-around space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[" ",a," ",o," ",a," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",a," ",o," ",a," "]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[20px]",children:[c.jsx(Io,{animal:(g=(v=t.sire)==null?void 0:v.sire)==null?void 0:g.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(b=(y=t.sire)==null?void 0:y.dam)==null?void 0:b.animal,onClick:e,theme:n}),c.jsx("div",{className:"h-[6px]"}),c.jsx(Io,{animal:(E=(C=t.dam)==null?void 0:C.sire)==null?void 0:E.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(_=(N=t.dam)==null?void 0:N.dam)==null?void 0:_.animal,onClick:e,theme:n})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[20px]",children:[c.jsxs("div",{className:"flex items-center",children:[" ",a," ",l," ",a," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",a," ",l," ",a," "]}),c.jsx("div",{className:"h-[6px]"}),c.jsxs("div",{className:"flex items-center",children:[" ",a," ",l," ",a," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",a," ",l," ",a," "]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[6px]",children:[c.jsx(Io,{animal:(D=(j=(B=t.sire)==null?void 0:B.sire)==null?void 0:j.sire)==null?void 0:D.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(F=(O=(k=t.sire)==null?void 0:k.sire)==null?void 0:O.dam)==null?void 0:F.animal,onClick:e,theme:n}),c.jsx("div",{className:"h-[2px]"}),c.jsx(Io,{animal:(q=(Y=(H=t.sire)==null?void 0:H.dam)==null?void 0:Y.sire)==null?void 0:q.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(oe=(W=(Z=t.sire)==null?void 0:Z.dam)==null?void 0:W.dam)==null?void 0:oe.animal,onClick:e,theme:n}),c.jsx("div",{className:"h-[8px]"}),c.jsx(Io,{animal:(R=(ue=(te=t.dam)==null?void 0:te.sire)==null?void 0:ue.sire)==null?void 0:R.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(ne=(J=($=t.dam)==null?void 0:$.sire)==null?void 0:J.dam)==null?void 0:ne.animal,onClick:e,theme:n}),c.jsx("div",{className:"h-[2px]"}),c.jsx(Io,{animal:(we=(Se=(he=t.dam)==null?void 0:he.dam)==null?void 0:Se.sire)==null?void 0:we.animal,onClick:e,theme:n}),c.jsx(Io,{animal:(xe=(pe=(re=t.dam)==null?void 0:re.dam)==null?void 0:pe.dam)==null?void 0:xe.animal,onClick:e,theme:n})]})]})},rVe="modulepreload",iVe=function(t,e){return new URL(t,e).href},EH={},AN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=iVe(u,r),u in EH)return;EH[u]=!0;const A=u.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===u&&(!A||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":rVe,A||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),A)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Vr(t){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(t)}var uu=Uint8Array,El=Uint16Array,eF=Int32Array,tF=new uu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nF=new uu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_H=new uu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vte=function(t,e){for(var n=new El(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new eF(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},$te=Vte(tF,2),aVe=$te.b,YI=$te.r;aVe[28]=258,YI[258]=28;var sVe=Vte(nF,0),BH=sVe.r,XI=new El(32768);for(var Ei=0;Ei<32768;++Ei){var vd=(Ei&43690)>>1|(Ei&21845)<<1;vd=(vd&52428)>>2|(vd&13107)<<2,vd=(vd&61680)>>4|(vd&3855)<<4,XI[Ei]=((vd&65280)>>8|(vd&255)<<8)>>1}var ly=function(t,e,n){for(var r=t.length,i=0,a=new El(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new El(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new El(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],A=e-t[i],d=s[t[i]-1]++<<A,f=d|(1<<A)-1;d<=f;++d)o[XI[d]>>l]=u}else for(o=new El(r),i=0;i<r;++i)t[i]&&(o[i]=XI[s[t[i]-1]++]>>15-t[i]);return o},tp=new uu(288);for(var Ei=0;Ei<144;++Ei)tp[Ei]=8;for(var Ei=144;Ei<256;++Ei)tp[Ei]=9;for(var Ei=256;Ei<280;++Ei)tp[Ei]=7;for(var Ei=280;Ei<288;++Ei)tp[Ei]=8;var xS=new uu(32);for(var Ei=0;Ei<32;++Ei)xS[Ei]=5;var oVe=ly(tp,9,0),lVe=ly(xS,5,0),Kte=function(t){return(t+7)/8|0},cVe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new uu(t.subarray(e,n))},fA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},iv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},dN=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:Gte,l:0};if(i==1){var s=new uu(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(E,N){return E.f-N.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,A=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};A!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=A&&n[u].f<n[d].f?u++:d++],n[A++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var h=new El(f+1),p=JI(n[A-1],h,0);if(p>e){var r=0,m=0,v=p-e,g=1<<v;for(a.sort(function(N,_){return h[_.s]-h[N.s]||N.f-_.f});r<i;++r){var y=a[r].s;if(h[y]>e)m+=g-(1<<p-h[y]),h[y]=e;else break}for(m>>=v;m>0;){var b=a[r].s;h[b]<e?m-=1<<e-h[b]++-1:++r}for(;r>=0&&m;--r){var C=a[r].s;h[C]==e&&(--h[C],++m)}p=e}return{t:new uu(h),l:p}},JI=function(t,e,n){return t.s==-1?Math.max(JI(t.l,e,n+1),JI(t.r,e,n+1)):e[t.s]=n},NH=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new El(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},av=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Wte=function(t,e,n){var r=n.length,i=Kte(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},jH=function(t,e,n,r,i,a,s,o,l,u,A){fA(e,A++,n),++i[256];for(var d=dN(i,15),f=d.t,h=d.l,p=dN(a,15),m=p.t,v=p.l,g=NH(f),y=g.c,b=g.n,C=NH(m),E=C.c,N=C.n,_=new El(19),B=0;B<y.length;++B)++_[y[B]&31];for(var B=0;B<E.length;++B)++_[E[B]&31];for(var j=dN(_,7),D=j.t,k=j.l,O=19;O>4&&!D[_H[O-1]];--O);var F=u+5<<3,H=av(i,tp)+av(a,xS)+s,Y=av(i,f)+av(a,m)+s+14+3*O+av(_,D)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&F<=H&&F<=Y)return Wte(e,A,t.subarray(l,l+u));var q,Z,W,oe;if(fA(e,A,1+(Y<H)),A+=2,Y<H){q=ly(f,h,0),Z=f,W=ly(m,v,0),oe=m;var te=ly(D,k,0);fA(e,A,b-257),fA(e,A+5,N-1),fA(e,A+10,O-4),A+=14;for(var B=0;B<O;++B)fA(e,A+3*B,D[_H[B]]);A+=3*O;for(var ue=[y,E],R=0;R<2;++R)for(var $=ue[R],B=0;B<$.length;++B){var J=$[B]&31;fA(e,A,te[J]),A+=D[J],J>15&&(fA(e,A,$[B]>>5&127),A+=$[B]>>12)}}else q=oVe,Z=tp,W=lVe,oe=xS;for(var B=0;B<o;++B){var ne=r[B];if(ne>255){var J=ne>>18&31;iv(e,A,q[J+257]),A+=Z[J+257],J>7&&(fA(e,A,ne>>23&31),A+=tF[J]);var he=ne&31;iv(e,A,W[he]),A+=oe[he],he>3&&(iv(e,A,ne>>5&8191),A+=nF[he])}else iv(e,A,q[ne]),A+=Z[ne]}return iv(e,A,q[256]),A+Z[256]},uVe=new eF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gte=new uu(0),AVe=function(t,e,n,r,i,a){var s=a.z||t.length,o=new uu(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),u=a.l,A=(a.r||0)&7;if(e){A&&(l[0]=a.r>>3);for(var d=uVe[e-1],f=d>>13,h=d&8191,p=(1<<n)-1,m=a.p||new El(32768),v=a.h||new El(p+1),g=Math.ceil(n/3),y=2*g,b=function(Ie){return(t[Ie]^t[Ie+1]<<g^t[Ie+2]<<y)&p},C=new eF(25e3),E=new El(288),N=new El(32),_=0,B=0,j=a.i||0,D=0,k=a.w||0,O=0;j+2<s;++j){var F=b(j),H=j&32767,Y=v[F];if(m[H]=Y,v[F]=H,k<=j){var q=s-j;if((_>7e3||D>24576)&&(q>423||!u)){A=jH(t,l,0,C,E,N,B,D,O,j-O,A),D=_=B=0,O=j;for(var Z=0;Z<286;++Z)E[Z]=0;for(var Z=0;Z<30;++Z)N[Z]=0}var W=2,oe=0,te=h,ue=H-Y&32767;if(q>2&&F==b(j-ue))for(var R=Math.min(f,q)-1,$=Math.min(32767,j),J=Math.min(258,q);ue<=$&&--te&&H!=Y;){if(t[j+W]==t[j+W-ue]){for(var ne=0;ne<J&&t[j+ne]==t[j+ne-ue];++ne);if(ne>W){if(W=ne,oe=ue,ne>R)break;for(var he=Math.min(ue,ne-2),Se=0,Z=0;Z<he;++Z){var we=j-ue+Z&32767,re=m[we],pe=we-re&32767;pe>Se&&(Se=pe,Y=we)}}}H=Y,Y=m[H],ue+=H-Y&32767}if(oe){C[D++]=268435456|YI[W]<<18|BH[oe];var xe=YI[W]&31,Ae=BH[oe]&31;B+=tF[xe]+nF[Ae],++E[257+xe],++N[Ae],k=j+W,++_}else C[D++]=t[j],++E[t[j]]}}for(j=Math.max(j,k);j<s;++j)C[D++]=t[j],++E[t[j]];A=jH(t,l,u,C,E,N,B,D,O,j-O,A),u||(a.r=A&7|l[A/8|0]<<3,A-=7,a.h=v,a.p=m,a.i=j,a.w=k)}else{for(var j=a.w||0;j<s+u;j+=65535){var He=j+65535;He>=s&&(l[A/8|0]=u,He=s),A=Wte(l,A+1,t.subarray(j,He))}a.i=s}return cVe(o,0,r+Kte(A)+i)},qte=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dVe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new uu(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return AVe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Yte=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},fVe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=qte();i.p(e.dictionary),Yte(t,2,i.d())}};function ZI(t,e){e||(e={});var n=qte();n.p(t);var r=dVe(t,e,e.dictionary?6:2,4);return fVe(r,e),Yte(r,r.length-4,n.d()),r}var hVe=typeof TextDecoder<"u"&&new TextDecoder,pVe=0;try{hVe.decode(Gte,{stream:!0}),pVe=1}catch{}function mVe(t){if(Array.isArray(t))return t}function gVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function TH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vVe(t,e){if(t){if(typeof t=="string")return TH(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TH(t,e):void 0}}function yVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){return mVe(t)||gVe(t,e)||vVe(t,e)||yVe()}function kH(t,e="utf8"){return new TextDecoder(e).decode(t)}const bVe=new TextEncoder;function xVe(t){return bVe.encode(t)}const wVe=1024*8,CVe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),fN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rF{constructor(e=wVe,n={}){Mn(this,"buffer");Mn(this,"byteLength");Mn(this,"byteOffset");Mn(this,"length");Mn(this,"offset");Mn(this,"lastWrittenByte");Mn(this,"littleEndian");Mn(this,"_data");Mn(this,"_mark");Mn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof rF)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=fN[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===CVe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new fN[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new fN[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return kH(this.readBytes(e))}decodeText(e=1,n="utf8"){return kH(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(xVe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function B0(t){let e=t.length;for(;--e>=0;)t[e]=0}const SVe=3,EVe=258,Xte=29,_Ve=256,BVe=_Ve+1+Xte,Jte=30,NVe=512,jVe=new Array((BVe+2)*2);B0(jVe);const TVe=new Array(Jte*2);B0(TVe);const IVe=new Array(NVe);B0(IVe);const kVe=new Array(EVe-SVe+1);B0(kVe);const PVe=new Array(Xte);B0(PVe);const DVe=new Array(Jte);B0(DVe);const OVe=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var ek=OVe;const FVe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},MVe=new Uint32Array(FVe()),LVe=(t,e,n,r)=>{const i=MVe,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Su=LVe,tk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zte={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const RVe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var UVe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)RVe(n,r)&&(t[r]=n[r])}}return t},QVe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},ene={assign:UVe,flattenChunks:QVe};let tne=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tne=!1}const Lb=new Uint8Array(256);for(let t=0;t<256;t++)Lb[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lb[254]=Lb[254]=1;var HVe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const zVe=(t,e)=>{if(e<65534&&t.subarray&&tne)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var VVe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=Lb[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return zVe(a,i)},$Ve=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Lb[t[n]]>e?n:e},nk={string2buf:HVe,buf2string:VVe,utf8border:$Ve};function KVe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WVe=KVe;const z1=16209,GVe=16191;var qVe=function(e,n){let r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,b,C,E,N,_,B,j,D;const k=e.state;r=e.next_in,j=e.input,i=r+(e.avail_in-5),a=e.next_out,D=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=k.dmax,u=k.wsize,A=k.whave,d=k.wnext,f=k.window,h=k.hold,p=k.bits,m=k.lencode,v=k.distcode,g=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{p<15&&(h+=j[r++]<<p,p+=8,h+=j[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(C=b>>>24,h>>>=C,p-=C,C=b>>>16&255,C===0)D[a++]=b&65535;else if(C&16){E=b&65535,C&=15,C&&(p<C&&(h+=j[r++]<<p,p+=8),E+=h&(1<<C)-1,h>>>=C,p-=C),p<15&&(h+=j[r++]<<p,p+=8,h+=j[r++]<<p,p+=8),b=v[h&y];n:for(;;){if(C=b>>>24,h>>>=C,p-=C,C=b>>>16&255,C&16){if(N=b&65535,C&=15,p<C&&(h+=j[r++]<<p,p+=8,p<C&&(h+=j[r++]<<p,p+=8)),N+=h&(1<<C)-1,N>l){e.msg="invalid distance too far back",k.mode=z1;break e}if(h>>>=C,p-=C,C=a-s,N>C){if(C=N-C,C>A&&k.sane){e.msg="invalid distance too far back",k.mode=z1;break e}if(_=0,B=f,d===0){if(_+=u-C,C<E){E-=C;do D[a++]=f[_++];while(--C);_=a-N,B=D}}else if(d<C){if(_+=u+d-C,C-=d,C<E){E-=C;do D[a++]=f[_++];while(--C);if(_=0,d<E){C=d,E-=C;do D[a++]=f[_++];while(--C);_=a-N,B=D}}}else if(_+=d-C,C<E){E-=C;do D[a++]=f[_++];while(--C);_=a-N,B=D}for(;E>2;)D[a++]=B[_++],D[a++]=B[_++],D[a++]=B[_++],E-=3;E&&(D[a++]=B[_++],E>1&&(D[a++]=B[_++]))}else{_=a-N;do D[a++]=D[_++],D[a++]=D[_++],D[a++]=D[_++],E-=3;while(E>2);E&&(D[a++]=D[_++],E>1&&(D[a++]=D[_++]))}}else if(C&64){e.msg="invalid distance code",k.mode=z1;break e}else{b=v[(b&65535)+(h&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){k.mode=GVe;break e}else{e.msg="invalid literal/length code",k.mode=z1;break e}else{b=m[(b&65535)+(h&(1<<C)-1)];continue t}break}}while(r<i&&a<o);E=p>>3,r-=E,p-=E<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),k.hold=h,k.bits=p};const Fp=15,PH=852,DH=592,OH=0,hN=1,FH=2,YVe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),XVe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),JVe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ZVe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),e$e=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let u=0,A=0,d=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b,C,E,N,_,B=null,j;const D=new Uint16Array(Fp+1),k=new Uint16Array(Fp+1);let O=null,F,H,Y;for(u=0;u<=Fp;u++)D[u]=0;for(A=0;A<r;A++)D[e[n+A]]++;for(h=l,f=Fp;f>=1&&D[f]===0;f--);if(h>f&&(h=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<f&&D[d]===0;d++);for(h<d&&(h=d),v=1,u=1;u<=Fp;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(t===OH||f!==1))return-1;for(k[1]=0,u=1;u<Fp;u++)k[u+1]=k[u]+D[u];for(A=0;A<r;A++)e[n+A]!==0&&(s[k[e[n+A]]++]=A);if(t===OH?(B=O=s,j=20):t===hN?(B=YVe,O=XVe,j=257):(B=JVe,O=ZVe,j=0),y=0,A=0,u=d,_=a,p=h,m=0,E=-1,g=1<<h,N=g-1,t===hN&&g>PH||t===FH&&g>DH)return 1;for(;;){F=u-m,s[A]+1<j?(H=0,Y=s[A]):s[A]>=j?(H=O[s[A]-j],Y=B[s[A]-j]):(H=96,Y=0),b=1<<u-m,C=1<<p,d=C;do C-=b,i[_+(y>>m)+C]=F<<24|H<<16|Y|0;while(C!==0);for(b=1<<u-1;y&b;)b>>=1;if(b!==0?(y&=b-1,y+=b):y=0,A++,--D[u]===0){if(u===f)break;u=e[n+s[A]]}if(u>h&&(y&N)!==E){for(m===0&&(m=h),_+=d,p=u-m,v=1<<p;p+m<f&&(v-=D[p+m],!(v<=0));)p++,v<<=1;if(g+=1<<p,t===hN&&g>PH||t===FH&&g>DH)return 1;E=y&N,i[E]=h<<24|p<<16|_-a|0}}return y!==0&&(i[_+y]=u-m<<24|64<<16|0),o.bits=h,0};var cy=e$e;const t$e=0,nne=1,rne=2,{Z_FINISH:MH,Z_BLOCK:n$e,Z_TREES:V1,Z_OK:np,Z_STREAM_END:r$e,Z_NEED_DICT:i$e,Z_STREAM_ERROR:wc,Z_DATA_ERROR:ine,Z_MEM_ERROR:ane,Z_BUF_ERROR:a$e,Z_DEFLATED:LH}=Zte,$E=16180,RH=16181,UH=16182,QH=16183,HH=16184,zH=16185,VH=16186,$H=16187,KH=16188,WH=16189,wS=16190,hA=16191,pN=16192,GH=16193,mN=16194,qH=16195,YH=16196,XH=16197,JH=16198,$1=16199,K1=16200,ZH=16201,ez=16202,tz=16203,nz=16204,rz=16205,gN=16206,iz=16207,az=16208,ji=16209,sne=16210,one=16211,s$e=852,o$e=592,l$e=15,c$e=l$e,sz=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function u$e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<$E||e.mode>one?1:0},lne=t=>{if(xp(t))return wc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=$E,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(s$e),e.distcode=e.distdyn=new Int32Array(o$e),e.sane=1,e.back=-1,np},cne=t=>{if(xp(t))return wc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,lne(t)},une=(t,e)=>{let n;if(xp(t))return wc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,cne(t))},Ane=(t,e)=>{if(!t)return wc;const n=new u$e;t.state=n,n.strm=t,n.window=null,n.mode=$E;const r=une(t,e);return r!==np&&(t.state=null),r},A$e=t=>Ane(t,c$e);let oz=!0,vN,yN;const d$e=t=>{if(oz){vN=new Int32Array(512),yN=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(cy(nne,t.lens,0,288,vN,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;cy(rne,t.lens,0,32,yN,0,t.work,{bits:5}),oz=!1}t.lencode=vN,t.lenbits=9,t.distcode=yN,t.distbits=5},dne=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},f$e=(t,e)=>{let n,r,i,a,s,o,l,u,A,d,f,h,p,m,v=0,g,y,b,C,E,N,_,B;const j=new Uint8Array(4);let D,k;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xp(t)||!t.output||!t.input&&t.avail_in!==0)return wc;n=t.state,n.mode===hA&&(n.mode=pN),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,u=n.hold,A=n.bits,d=o,f=l,B=np;e:for(;;)switch(n.mode){case $E:if(n.wrap===0){n.mode=pN;break}for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,j[0]=u&255,j[1]=u>>>8&255,n.check=Su(n.check,j,2,0),u=0,A=0,n.mode=RH;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=ji;break}if((u&15)!==LH){t.msg="unknown compression method",n.mode=ji;break}if(u>>>=4,A-=4,_=(u&15)+8,n.wbits===0&&(n.wbits=_),_>15||_>n.wbits){t.msg="invalid window size",n.mode=ji;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?WH:hA,u=0,A=0;break;case RH:for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.flags=u,(n.flags&255)!==LH){t.msg="unknown compression method",n.mode=ji;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ji;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=Su(n.check,j,2,0)),u=0,A=0,n.mode=UH;case UH:for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,n.check=Su(n.check,j,4,0)),u=0,A=0,n.mode=QH;case QH:for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=Su(n.check,j,2,0)),u=0,A=0,n.mode=HH;case HH:if(n.flags&1024){for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=Su(n.check,j,2,0)),u=0,A=0}else n.head&&(n.head.extra=null);n.mode=zH;case zH:if(n.flags&1024&&(h=n.length,h>o&&(h=o),h&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),_)),n.flags&512&&n.wrap&4&&(n.check=Su(n.check,r,h,a)),o-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=VH;case VH:if(n.flags&2048){if(o===0)break e;h=0;do _=r[a+h++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_));while(_&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=Su(n.check,r,h,a)),o-=h,a+=h,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=$H;case $H:if(n.flags&4096){if(o===0)break e;h=0;do _=r[a+h++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_));while(_&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=Su(n.check,r,h,a)),o-=h,a+=h,_)break e}else n.head&&(n.head.comment=null);n.mode=KH;case KH:if(n.flags&512){for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ji;break}u=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=hA;break;case WH:for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}t.adler=n.check=sz(u),u=0,A=0,n.mode=wS;case wS:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,i$e;t.adler=n.check=1,n.mode=hA;case hA:if(e===n$e||e===V1)break e;case pN:if(n.last){u>>>=A&7,A-=A&7,n.mode=gN;break}for(;A<3;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}switch(n.last=u&1,u>>>=1,A-=1,u&3){case 0:n.mode=GH;break;case 1:if(d$e(n),n.mode=$1,e===V1){u>>>=2,A-=2;break e}break;case 2:n.mode=YH;break;case 3:t.msg="invalid block type",n.mode=ji}u>>>=2,A-=2;break;case GH:for(u>>>=A&7,A-=A&7;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ji;break}if(n.length=u&65535,u=0,A=0,n.mode=mN,e===V1)break e;case mN:n.mode=qH;case qH:if(h=n.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(r.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,n.length-=h;break}n.mode=hA;break;case YH:for(;A<14;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.nlen=(u&31)+257,u>>>=5,A-=5,n.ndist=(u&31)+1,u>>>=5,A-=5,n.ncode=(u&15)+4,u>>>=4,A-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ji;break}n.have=0,n.mode=XH;case XH:for(;n.have<n.ncode;){for(;A<3;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.lens[O[n.have++]]=u&7,u>>>=3,A-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},B=cy(t$e,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,B){t.msg="invalid code lengths set",n.mode=ji;break}n.have=0,n.mode=JH;case JH:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[u&(1<<n.lenbits)-1],g=v>>>24,y=v>>>16&255,b=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(b<16)u>>>=g,A-=g,n.lens[n.have++]=b;else{if(b===16){for(k=g+2;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(u>>>=g,A-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=ji;break}_=n.lens[n.have-1],h=3+(u&3),u>>>=2,A-=2}else if(b===17){for(k=g+3;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=g,A-=g,_=0,h=3+(u&7),u>>>=3,A-=3}else{for(k=g+7;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=g,A-=g,_=0,h=11+(u&127),u>>>=7,A-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ji;break}for(;h--;)n.lens[n.have++]=_}}if(n.mode===ji)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ji;break}if(n.lenbits=9,D={bits:n.lenbits},B=cy(nne,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,B){t.msg="invalid literal/lengths set",n.mode=ji;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},B=cy(rne,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,B){t.msg="invalid distances set",n.mode=ji;break}if(n.mode=$1,e===V1)break e;case $1:n.mode=K1;case K1:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,qVe(t,f),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,u=n.hold,A=n.bits,n.mode===hA&&(n.back=-1);break}for(n.back=0;v=n.lencode[u&(1<<n.lenbits)-1],g=v>>>24,y=v>>>16&255,b=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(y&&!(y&240)){for(C=g,E=y,N=b;v=n.lencode[N+((u&(1<<C+E)-1)>>C)],g=v>>>24,y=v>>>16&255,b=v&65535,!(C+g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=C,A-=C,n.back+=C}if(u>>>=g,A-=g,n.back+=g,n.length=b,y===0){n.mode=rz;break}if(y&32){n.back=-1,n.mode=hA;break}if(y&64){t.msg="invalid literal/length code",n.mode=ji;break}n.extra=y&15,n.mode=ZH;case ZH:if(n.extra){for(k=n.extra;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ez;case ez:for(;v=n.distcode[u&(1<<n.distbits)-1],g=v>>>24,y=v>>>16&255,b=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(!(y&240)){for(C=g,E=y,N=b;v=n.distcode[N+((u&(1<<C+E)-1)>>C)],g=v>>>24,y=v>>>16&255,b=v&65535,!(C+g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=C,A-=C,n.back+=C}if(u>>>=g,A-=g,n.back+=g,y&64){t.msg="invalid distance code",n.mode=ji;break}n.offset=b,n.extra=y&15,n.mode=tz;case tz:if(n.extra){for(k=n.extra;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ji;break}n.mode=nz;case nz:if(l===0)break e;if(h=f-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ji;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=i,p=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=m[p++];while(--h);n.length===0&&(n.mode=K1);break;case rz:if(l===0)break e;i[s++]=n.length,l--,n.mode=K1;break;case gN:if(n.wrap){for(;A<32;){if(o===0)break e;o--,u|=r[a++]<<A,A+=8}if(f-=l,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?Su(n.check,i,f,s-f):ek(n.check,i,f,s-f)),f=l,n.wrap&4&&(n.flags?u:sz(u))!==n.check){t.msg="incorrect data check",n.mode=ji;break}u=0,A=0}n.mode=iz;case iz:if(n.wrap&&n.flags){for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ji;break}u=0,A=0}n.mode=az;case az:B=r$e;break e;case ji:B=ine;break e;case sne:return ane;case one:default:return wc}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,(n.wsize||f!==t.avail_out&&n.mode<ji&&(n.mode<gN||e!==MH))&&dne(t,t.output,t.next_out,f-t.avail_out),d-=t.avail_in,f-=t.avail_out,t.total_in+=d,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?Su(n.check,i,f,t.next_out-f):ek(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===hA?128:0)+(n.mode===$1||n.mode===mN?256:0),(d===0&&f===0||e===MH)&&B===np&&(B=a$e),B},h$e=t=>{if(xp(t))return wc;let e=t.state;return e.window&&(e.window=null),t.state=null,np},p$e=(t,e)=>{if(xp(t))return wc;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,np):wc},m$e=(t,e)=>{const n=e.length;let r,i,a;return xp(t)||(r=t.state,r.wrap!==0&&r.mode!==wS)?wc:r.mode===wS&&(i=1,i=ek(i,e,n,0),i!==r.check)?ine:(a=dne(t,e,n,n),a?(r.mode=sne,ane):(r.havedict=1,np))};var g$e=cne,v$e=une,y$e=lne,b$e=A$e,x$e=Ane,w$e=f$e,C$e=h$e,S$e=p$e,E$e=m$e,_$e="pako inflate (from Nodeca project)",xA={inflateReset:g$e,inflateReset2:v$e,inflateResetKeep:y$e,inflateInit:b$e,inflateInit2:x$e,inflate:w$e,inflateEnd:C$e,inflateGetHeader:S$e,inflateSetDictionary:E$e,inflateInfo:_$e};function B$e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var N$e=B$e;const fne=Object.prototype.toString,{Z_NO_FLUSH:j$e,Z_FINISH:T$e,Z_OK:Rb,Z_STREAM_END:bN,Z_NEED_DICT:xN,Z_STREAM_ERROR:I$e,Z_DATA_ERROR:lz,Z_MEM_ERROR:k$e}=Zte;function Px(t){this.options=ene.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WVe,this.strm.avail_out=0;let n=xA.inflateInit2(this.strm,e.windowBits);if(n!==Rb)throw new Error(tk[n]);if(this.header=new N$e,xA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=nk.string2buf(e.dictionary):fne.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=xA.inflateSetDictionary(this.strm,e.dictionary),n!==Rb)))throw new Error(tk[n])}Px.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?T$e:j$e,fne.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=xA.inflate(n,s),a===xN&&i&&(a=xA.inflateSetDictionary(n,i),a===Rb?a=xA.inflate(n,s):a===lz&&(a=xN));n.avail_in>0&&a===bN&&n.state.wrap>0&&t[n.next_in]!==0;)xA.inflateReset(n),a=xA.inflate(n,s);switch(a){case I$e:case lz:case xN:case k$e:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===bN))if(this.options.to==="string"){let l=nk.utf8border(n.output,n.next_out),u=n.next_out-l,A=nk.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(A)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Rb&&o===0)){if(a===bN)return a=xA.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Px.prototype.onData=function(t){this.chunks.push(t)};Px.prototype.onEnd=function(t){t===Rb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ene.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function P$e(t,e){const n=new Px(e);if(n.push(t),n.err)throw n.msg||tk[n.err];return n.result}var D$e=Px,O$e=P$e,F$e={Inflate:D$e,inflate:O$e};const{Inflate:M$e,inflate:L$e}=F$e;var cz=M$e,R$e=L$e;const hne=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;hne[t]=e}const uz=4294967295;function U$e(t,e,n){let r=t;for(let i=0;i<n;i++)r=hne[(r^e[i])&255]^r>>>8;return r}function Q$e(t,e){return(U$e(uz,t,e)^uz)>>>0}function Az(t,e,n){const r=t.readUint32(),i=Q$e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function pne(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function mne(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function gne(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function vne(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function yne(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+H$e(e[a-i],n[a],n[a-i])&255}}function H$e(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function z$e(t,e,n,r,i,a){switch(t){case 0:pne(e,n,i);break;case 1:mne(e,n,i,a);break;case 2:gne(e,n,r,i);break;case 3:vne(e,n,r,i,a);break;case 4:yne(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const V$e=new Uint16Array([255]),$$e=new Uint8Array(V$e.buffer),K$e=$$e[0]===255;function W$e(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let A=0;A<7;A++){const d=s[A],f=Math.ceil((n-d.x)/d.xStep),h=Math.ceil((r-d.y)/d.yStep);if(f<=0||h<=0)continue;const p=f*o,m=new Uint8Array(p);for(let v=0;v<h;v++){const g=e[u++],y=e.subarray(u,u+p);u+=p;const b=new Uint8Array(p);z$e(g,y,b,m,p,o),m.set(b);for(let C=0;C<f;C++){const E=d.x+C*d.xStep,N=d.y+v*d.yStep;if(!(E>=n||N>=r))for(let _=0;_<o;_++)l[(N*n+E)*o+_]=b[C*o+_]}}}if(a===16){const A=new Uint16Array(l.buffer);if(K$e)for(let d=0;d<A.length;d++)A[d]=G$e(A[d]);return A}else return l}function G$e(t){return(t&255)<<8|t>>8&255}const q$e=new Uint16Array([255]),Y$e=new Uint8Array(q$e.buffer),X$e=Y$e[0]===255,J$e=new Uint8Array(0);function dz(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let u=J$e,A=0,d,f;for(let h=0;h<r;h++){switch(d=e.subarray(A+1,A+1+o),f=l.subarray(h*o,(h+1)*o),e[A]){case 0:pne(d,f,o);break;case 1:mne(d,f,o,s);break;case 2:gne(d,f,u,o);break;case 3:vne(d,f,u,o,s);break;case 4:yne(d,f,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}u=f,A+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(X$e)for(let p=0;p<h.length;p++)h[p]=Z$e(h[p]);return h}else return l}function Z$e(t){return(t&255)<<8|t>>8&255}const o2=Uint8Array.of(137,80,78,71,13,10,26,10);function fz(t){if(!eKe(t.readBytes(o2.length)))throw new Error("wrong PNG signature")}function eKe(t){if(t.length<o2.length)return!1;for(let e=0;e<o2.length;e++)if(t[e]!==o2[e])return!1;return!0}const tKe="tEXt",nKe=0,bne=new TextDecoder("latin1");function rKe(t){if(aKe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const iKe=/^[\u0000-\u00FF]*$/;function aKe(t){if(!iKe.test(t))throw new Error("invalid latin1 text")}function sKe(t,e,n){const r=xne(e);t[r]=oKe(e,n-r.length-1)}function xne(t){for(t.mark();t.readByte()!==nKe;);const e=t.offset;t.reset();const n=bne.decode(t.readBytes(e-t.offset-1));return t.skip(1),rKe(n),n}function oKe(t,e){return bne.decode(t.readBytes(e))}const ml={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wN={UNKNOWN:-1,DEFLATE:0},hz={UNKNOWN:-1,ADAPTIVE:0},CN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},W1={NONE:0,BACKGROUND:1,PREVIOUS:2},SN={SOURCE:0,OVER:1};class lKe extends rF{constructor(n,r={}){super(n);Mn(this,"_checkCrc");Mn(this,"_inflator");Mn(this,"_png");Mn(this,"_apng");Mn(this,"_end");Mn(this,"_hasPalette");Mn(this,"_palette");Mn(this,"_hasTransparency");Mn(this,"_transparency");Mn(this,"_compressionMethod");Mn(this,"_filterMethod");Mn(this,"_interlaceMethod");Mn(this,"_colorType");Mn(this,"_isAnimated");Mn(this,"_numberOfFrames");Mn(this,"_numberOfPlays");Mn(this,"_frames");Mn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new cz,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wN.UNKNOWN,this._filterMethod=hz.UNKNOWN,this._interlaceMethod=CN.UNKNOWN,this._colorType=ml.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fz(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(fz(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case tKe:sKe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Az(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Az(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=cKe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case ml.GREYSCALE:i=1;break;case ml.TRUECOLOUR:i=3;break;case ml.INDEXED_COLOUR:i=1;break;case ml.GREYSCALE_ALPHA:i=2;break;case ml.TRUECOLOUR_ALPHA:i=4;break;case ml.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==wN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ml.GREYSCALE:case ml.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case ml.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ml.UNKNOWN:case ml.GREYSCALE_ALPHA:case ml.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=xne(this),i=this.readUint8();if(i!==wN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:R$e(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=dz({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case W1.NONE:break;case W1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case W1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case SN.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let A=0;A<this._png.channels;A++)n.data[l+A]=r.data[u+A]}break;case SN.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let A=0;A<this._png.channels;A++){const d=r.data[u+this._png.channels-1]/i,f=A%(this._png.channels-1)===0?1:r.data[u+A],h=Math.floor(d*f+(1-d)*n.data[l+A]);n.data[l+A]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==hz.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===CN.NO_INTERLACE)this._png.data=dz({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===CN.ADAM7)this._png.data=W$e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:W1.NONE,blendOp:SN.SOURCE,data:n}),this._inflator=new cz,this._writingDataChunks=!1}}function cKe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var pz;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(pz||(pz={}));function uKe(t,e){return new lKe(t,e).decode()}var kn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function EN(){kn.console&&typeof kn.console.log=="function"&&kn.console.log.apply(kn.console,arguments)}var ni={log:EN,warn:function(t){kn.console&&(typeof kn.console.warn=="function"?kn.console.warn.apply(kn.console,arguments):EN.call(null,arguments))},error:function(t){kn.console&&(typeof kn.console.error=="function"?kn.console.error.apply(kn.console,arguments):EN(t))}};function _N(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){th(r.response,e,n)},r.onerror=function(){ni.error("could not download file")},r.send()}function mz(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function G1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var th=kn.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==kn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=kn.URL||kn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?mz(i.href)?_N(t,e,n):G1(i,i.target="_blank"):G1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){G1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(mz(t))_N(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){G1(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Vr(a)!=="object"&&(ni.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return _N(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(kn.HTMLElement)||kn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var A=o.result;A=s?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=A:location=A,r=null},o.readAsDataURL(t)}else{var l=kn.URL||kn.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wne(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var l2=kn.atob.bind(kn),gz=kn.btoa.bind(kn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function BN(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ks(n,r,i,a,e[0],7,-680876936),a=Ks(a,n,r,i,e[1],12,-389564586),i=Ks(i,a,n,r,e[2],17,606105819),r=Ks(r,i,a,n,e[3],22,-1044525330),n=Ks(n,r,i,a,e[4],7,-176418897),a=Ks(a,n,r,i,e[5],12,1200080426),i=Ks(i,a,n,r,e[6],17,-1473231341),r=Ks(r,i,a,n,e[7],22,-45705983),n=Ks(n,r,i,a,e[8],7,1770035416),a=Ks(a,n,r,i,e[9],12,-1958414417),i=Ks(i,a,n,r,e[10],17,-42063),r=Ks(r,i,a,n,e[11],22,-1990404162),n=Ks(n,r,i,a,e[12],7,1804603682),a=Ks(a,n,r,i,e[13],12,-40341101),i=Ks(i,a,n,r,e[14],17,-1502002290),n=Ws(n,r=Ks(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ws(a,n,r,i,e[6],9,-1069501632),i=Ws(i,a,n,r,e[11],14,643717713),r=Ws(r,i,a,n,e[0],20,-373897302),n=Ws(n,r,i,a,e[5],5,-701558691),a=Ws(a,n,r,i,e[10],9,38016083),i=Ws(i,a,n,r,e[15],14,-660478335),r=Ws(r,i,a,n,e[4],20,-405537848),n=Ws(n,r,i,a,e[9],5,568446438),a=Ws(a,n,r,i,e[14],9,-1019803690),i=Ws(i,a,n,r,e[3],14,-187363961),r=Ws(r,i,a,n,e[8],20,1163531501),n=Ws(n,r,i,a,e[13],5,-1444681467),a=Ws(a,n,r,i,e[2],9,-51403784),i=Ws(i,a,n,r,e[7],14,1735328473),n=Gs(n,r=Ws(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Gs(a,n,r,i,e[8],11,-2022574463),i=Gs(i,a,n,r,e[11],16,1839030562),r=Gs(r,i,a,n,e[14],23,-35309556),n=Gs(n,r,i,a,e[1],4,-1530992060),a=Gs(a,n,r,i,e[4],11,1272893353),i=Gs(i,a,n,r,e[7],16,-155497632),r=Gs(r,i,a,n,e[10],23,-1094730640),n=Gs(n,r,i,a,e[13],4,681279174),a=Gs(a,n,r,i,e[0],11,-358537222),i=Gs(i,a,n,r,e[3],16,-722521979),r=Gs(r,i,a,n,e[6],23,76029189),n=Gs(n,r,i,a,e[9],4,-640364487),a=Gs(a,n,r,i,e[12],11,-421815835),i=Gs(i,a,n,r,e[15],16,530742520),n=qs(n,r=Gs(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=qs(a,n,r,i,e[7],10,1126891415),i=qs(i,a,n,r,e[14],15,-1416354905),r=qs(r,i,a,n,e[5],21,-57434055),n=qs(n,r,i,a,e[12],6,1700485571),a=qs(a,n,r,i,e[3],10,-1894986606),i=qs(i,a,n,r,e[10],15,-1051523),r=qs(r,i,a,n,e[1],21,-2054922799),n=qs(n,r,i,a,e[8],6,1873313359),a=qs(a,n,r,i,e[15],10,-30611744),i=qs(i,a,n,r,e[6],15,-1560198380),r=qs(r,i,a,n,e[13],21,1309151649),n=qs(n,r,i,a,e[4],6,-145523070),a=qs(a,n,r,i,e[11],10,-1120210379),i=qs(i,a,n,r,e[2],15,718787259),r=qs(r,i,a,n,e[9],21,-343485551),t[0]=Ld(n,t[0]),t[1]=Ld(r,t[1]),t[2]=Ld(i,t[2]),t[3]=Ld(a,t[3])}function KE(t,e,n,r,i,a){return e=Ld(Ld(e,t),Ld(r,a)),Ld(e<<i|e>>>32-i,n)}function Ks(t,e,n,r,i,a,s){return KE(e&n|~e&r,t,e,i,a,s)}function Ws(t,e,n,r,i,a,s){return KE(e&r|n&~r,t,e,i,a,s)}function Gs(t,e,n,r,i,a,s){return KE(e^n^r,t,e,i,a,s)}function qs(t,e,n,r,i,a,s){return KE(n^(e|~r),t,e,i,a,s)}function Cne(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BN(r,AKe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(BN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,BN(r,i),r}function AKe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var vz="0123456789abcdef".split("");function dKe(t){for(var e="",n=0;n<4;n++)e+=vz[t>>8*n+4&15]+vz[t>>8*n&15];return e}function fKe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rk(t){return Cne(t).map(fKe).join("")}var hKe=function(t){for(var e=0;e<t.length;e++)t[e]=dKe(t[e]);return t.join("")}(Cne("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ld(t,e){if(hKe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ik(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var A=o[l];u=(u+A+s.charCodeAt(l))%256,o[l]=o[u],o[u]=A}n=t,r=o}else o=r;var d=e.length,f=0,h=0,p="";for(l=0;l<d;l++)h=(h+(A=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=A,s=o[(o[f]+o[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yz={print:4,modify:8,copy:16,"annot-forms":32};function qp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(yz.perm!==void 0)throw new Error("Invalid permission: "+o);i+=yz[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=rk(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ik(this.encryptionKey,this.padding)}function Yp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function bz(t){if(Vr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){kn.console&&ni.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function CS(t){if(!(this instanceof CS))return new CS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Sne(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ah(t,e,n,r,i){if(!(this instanceof ah))return new ah(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Sne.call(this,r,i)}function Em(t,e,n,r,i){if(!(this instanceof Em))return new Em(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Sne.call(this,r,i)}function pn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",A=null;Vr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(A=t.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=bz;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(M){p=M};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var g=h.__private__.getPageFormat=function(M){return v[M]};i=i||"a4";var y="compat",b="advanced",C=y;function E(){this.saveGraphicsState(),fe(new Oe(xt,0,0,-xt,0,fs()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),u="n",C=b}function N(){this.restoreGraphicsState(),u="S",C=y}var _=h.__private__.combineFontStyleAndFontWeight=function(M,X){if(M=="bold"&&X=="normal"||M=="bold"&&X==400||M=="normal"&&X=="italic"||M=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(M=X==400||X==="normal"?M==="italic"?"italic":"normal":X!=700&&X!=="bold"||M!=="normal"?(X==700?"bold":X)+""+M:"bold"),M};h.advancedAPI=function(M){var X=C===y;return X&&E.call(this),typeof M!="function"||(M(this),X&&N.call(this)),this},h.compatAPI=function(M){var X=C===b;return X&&N.call(this),typeof M!="function"||(M(this),X&&E.call(this)),this},h.isAdvancedAPI=function(){return C===b};var B,j=function(M){if(C!==b)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(M,X){var ge=e||X;if(isNaN(M)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ge).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,16)};var k=h.f2=h.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return D(M,2)},O=h.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return D(M,3)},F=h.scale=h.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return C===y?M*xt:C===b?M:void 0},H=function(M){return F(function(X){return C===y?fs()-X:C===b?X:void 0}(M))};h.__private__.setPrecision=h.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var Y,q="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return q},W=h.__private__.setFileId=function(M){return q=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(xr=new qp(A.userPermissions,A.userPassword,A.ownerPassword,q)),q};h.setFileId=function(M){return W(M),this},h.getFileId=function(){return Z()};var oe=h.__private__.convertDateToPDFDate=function(M){var X=M.getTimezoneOffset(),ge=X<0?"+":"-",Be=Math.floor(Math.abs(X/60)),Qe=Math.abs(X%60),at=[ge,J(Be),"'",J(Qe),"'"].join("");return["D:",M.getFullYear(),J(M.getMonth()+1),J(M.getDate()),J(M.getHours()),J(M.getMinutes()),J(M.getSeconds()),at].join("")},te=h.__private__.convertPDFDateToDate=function(M){var X=parseInt(M.substr(2,4),10),ge=parseInt(M.substr(6,2),10)-1,Be=parseInt(M.substr(8,2),10),Qe=parseInt(M.substr(10,2),10),at=parseInt(M.substr(12,2),10),lt=parseInt(M.substr(14,2),10);return new Date(X,ge,Be,Qe,at,lt,0)},ue=h.__private__.setCreationDate=function(M){var X;if(M===void 0&&(M=new Date),M instanceof Date)X=oe(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=M}return Y=X},R=h.__private__.getCreationDate=function(M){var X=Y;return M==="jsDate"&&(X=te(Y)),X};h.setCreationDate=function(M){return ue(M),this},h.getCreationDate=function(M){return R(M)};var $,J=h.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},ne=h.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},he=0,Se=[],we=[],re=0,pe=[],xe=[],Ae=!1,He=we;h.__private__.setCustomOutputDestination=function(M){Ae=!0,He=M};var Ie=function(M){Ae||(He=M)};h.__private__.resetCustomOutputDestination=function(){Ae=!1,He=we};var fe=h.__private__.out=function(M){return M=M.toString(),re+=M.length+1,He.push(M),He},$e=h.__private__.write=function(M){return fe(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},mt=h.__private__.getArrayBuffer=function(M){for(var X=M.length,ge=new ArrayBuffer(X),Be=new Uint8Array(ge);X--;)Be[X]=M.charCodeAt(X);return ge},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return pt};var rt=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(M){return rt=C===b?M/xt:M,this};var Et,gt=h.__private__.getFontSize=h.getFontSize=function(){return C===y?rt:rt*xt},$t=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(M){return $t=M,this},h.__private__.getR2L=h.getR2L=function(){return $t};var Mt,bt=h.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Et=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Et=M}else Et=parseInt(M,10)};h.__private__.getZoomMode=function(){return Et};var wt,Tt=h.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Mt=M};h.__private__.getPageMode=function(){return Mt};var Xt=h.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');wt=M};h.__private__.getLayoutMode=function(){return wt},h.__private__.setDisplayMode=h.setDisplayMode=function(M,X,ge){return bt(M),Xt(X),Tt(ge),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(M){if(Object.keys(ot).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[M]},h.__private__.getDocumentProperties=function(){return ot},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(M){for(var X in ot)ot.hasOwnProperty(X)&&M[X]&&(ot[X]=M[X]);return this},h.__private__.setDocumentProperty=function(M,X){if(Object.keys(ot).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[M]=X};var vt,xt,Lt,hn,Cn,zt={},Jt={},St=[],Kt={},ke={},et={},Je={},Ln=null,nn=0,Qt=[],bn=new bz(h),mi=t.hotfixes||[],cr={},ta={},Me=[],Oe=function M(X,ge,Be,Qe,at,lt){if(!(this instanceof M))return new M(X,ge,Be,Qe,at,lt);isNaN(X)&&(X=1),isNaN(ge)&&(ge=0),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=1),isNaN(at)&&(at=0),isNaN(lt)&&(lt=0),this._matrix=[X,ge,Be,Qe,at,lt]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Oe.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(M)},Oe.prototype.multiply=function(M){var X=M.sx*this.sx+M.shy*this.shx,ge=M.sx*this.shy+M.shy*this.sy,Be=M.shx*this.sx+M.sy*this.shx,Qe=M.shx*this.shy+M.sy*this.sy,at=M.tx*this.sx+M.ty*this.shx+this.tx,lt=M.tx*this.shy+M.ty*this.sy+this.ty;return new Oe(X,ge,Be,Qe,at,lt)},Oe.prototype.decompose=function(){var M=this.sx,X=this.shy,ge=this.shx,Be=this.sy,Qe=this.tx,at=this.ty,lt=Math.sqrt(M*M+X*X),Gt=(M/=lt)*ge+(X/=lt)*Be;ge-=M*Gt,Be-=X*Gt;var tn=Math.sqrt(ge*ge+Be*Be);return Gt/=tn,M*(Be/=tn)<X*(ge/=tn)&&(M=-M,X=-X,Gt=-Gt,lt=-lt),{scale:new Oe(lt,0,0,tn,0,0),translate:new Oe(1,0,0,1,Qe,at),rotate:new Oe(M,X,-X,M,0,0),skew:new Oe(1,0,Gt,1,0,0)}},Oe.prototype.toString=function(M){return this.join(" ")},Oe.prototype.inversed=function(){var M=this.sx,X=this.shy,ge=this.shx,Be=this.sy,Qe=this.tx,at=this.ty,lt=1/(M*Be-X*ge),Gt=Be*lt,tn=-X*lt,xn=-ge*lt,Sn=M*lt;return new Oe(Gt,tn,xn,Sn,-Gt*Qe-xn*at,-tn*Qe-Sn*at)},Oe.prototype.applyToPoint=function(M){var X=M.x*this.sx+M.y*this.shx+this.tx,ge=M.x*this.shy+M.y*this.sy+this.ty;return new co(X,ge)},Oe.prototype.applyToRectangle=function(M){var X=this.applyToPoint(M),ge=this.applyToPoint(new co(M.x+M.w,M.y+M.h));return new al(X.x,X.y,ge.x-X.x,ge.y-X.y)},Oe.prototype.clone=function(){var M=this.sx,X=this.shy,ge=this.shx,Be=this.sy,Qe=this.tx,at=this.ty;return new Oe(M,X,ge,Be,Qe,at)},h.Matrix=Oe;var Ge=h.matrixMult=function(M,X){return X.multiply(M)},_t=new Oe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=_t;var At=function(M,X){if(!ke[M]){var ge=(X instanceof ah?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);X.id=ge,ke[M]=ge,Kt[ge]=X,bn.publish("addPattern",X)}};h.ShadingPattern=ah,h.TilingPattern=Em,h.addShadingPattern=function(M,X){return j("addShadingPattern()"),At(M,X),this},h.beginTilingPattern=function(M){j("beginTilingPattern()"),Wl(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},h.endTilingPattern=function(M,X){j("endTilingPattern()"),X.stream=xe[$].join(`
`),At(M,X),bn.publish("endTilingPattern",X),Me.pop().restore()};var Yt,yn=h.__private__.newObject=function(){var M=Yn();return Ut(M,!0),M},Yn=h.__private__.newObjectDeferred=function(){return he++,Se[he]=function(){return re},he},Ut=function(M,X){return X=typeof X=="boolean"&&X,Se[M]=re,X&&fe(M+" 0 obj"),M},mn=h.__private__.newAdditionalObject=function(){var M={objId:Yn(),content:""};return pe.push(M),M},Xr=Yn(),vr=Yn(),Or=h.__private__.decodeColorString=function(M){var X=M.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var ge=parseFloat(X[0]);X=[ge,ge,ge,"r"]}for(var Be="#",Qe=0;Qe<3;Qe++)Be+=("0"+Math.floor(255*parseFloat(X[Qe])).toString(16)).slice(-2);return Be},yr=h.__private__.encodeColorString=function(M){var X;typeof M=="string"&&(M={ch1:M});var ge=M.ch1,Be=M.ch2,Qe=M.ch3,at=M.ch4,lt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Gt=new wne(ge);if(Gt.ok)ge=Gt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var tn=parseInt(ge.substr(1),16);ge=tn>>16&255,Be=tn>>8&255,Qe=255&tn}if(Be===void 0||at===void 0&&ge===Be&&Be===Qe)X=typeof ge=="string"?ge+" "+lt[0]:M.precision===2?k(ge/255)+" "+lt[0]:O(ge/255)+" "+lt[0];else if(at===void 0||Vr(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",lt[1]].join(" ");X=typeof ge=="string"?[ge,Be,Qe,lt[1]].join(" "):M.precision===2?[k(ge/255),k(Be/255),k(Qe/255),lt[1]].join(" "):[O(ge/255),O(Be/255),O(Qe/255),lt[1]].join(" ")}else X=typeof ge=="string"?[ge,Be,Qe,at,lt[2]].join(" "):M.precision===2?[k(ge),k(Be),k(Qe),k(at),lt[2]].join(" "):[O(ge),O(Be),O(Qe),O(at),lt[2]].join(" ");return X},Zn=h.__private__.getFilters=function(){return s},br=h.__private__.putStream=function(M){var X=(M=M||{}).data||"",ge=M.filters||Zn(),Be=M.alreadyAppliedFilters||[],Qe=M.addLength1||!1,at=X.length,lt=M.objectId,Gt=function(Fr){return Fr};if(A!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Gt=xr.encryptor(lt,0));var tn={};ge===!0&&(ge=["FlateEncode"]);var xn=M.additionalKeyValues||[],Sn=(tn=pn.API.processDataByFilters!==void 0?pn.API.processDataByFilters(X,ge):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(tn.data.length!==0&&(xn.push({key:"Length",value:tn.data.length}),Qe===!0&&xn.push({key:"Length1",value:at})),Sn.length!=0)if(Sn.split("/").length-1==1)xn.push({key:"Filter",value:Sn});else{xn.push({key:"Filter",value:"["+Sn+"]"});for(var nr=0;nr<xn.length;nr+=1)if(xn[nr].key==="DecodeParms"){for(var hr=[],Gr=0;Gr<tn.reverseChain.split("/").length-1;Gr+=1)hr.push("null");hr.push(xn[nr].value),xn[nr].value="["+hr.join(" ")+"]"}}fe("<<");for(var wr=0;wr<xn.length;wr++)fe("/"+xn[wr].key+" "+xn[wr].value);fe(">>"),tn.data.length!==0&&(fe("stream"),fe(Gt(tn.data)),fe("endstream"))},Jr=h.__private__.putPage=function(M){var X=M.number,ge=M.data,Be=M.objId,Qe=M.contentsObjId;Ut(Be,!0),fe("<</Type /Page"),fe("/Parent "+M.rootDictionaryObjId+" 0 R"),fe("/Resources "+M.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(B(M.mediaBox.bottomLeftX))+" "+parseFloat(B(M.mediaBox.bottomLeftY))+" "+B(M.mediaBox.topRightX)+" "+B(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&fe("/CropBox ["+B(M.cropBox.bottomLeftX)+" "+B(M.cropBox.bottomLeftY)+" "+B(M.cropBox.topRightX)+" "+B(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&fe("/BleedBox ["+B(M.bleedBox.bottomLeftX)+" "+B(M.bleedBox.bottomLeftY)+" "+B(M.bleedBox.topRightX)+" "+B(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&fe("/TrimBox ["+B(M.trimBox.bottomLeftX)+" "+B(M.trimBox.bottomLeftY)+" "+B(M.trimBox.topRightX)+" "+B(M.trimBox.topRightY)+"]"),M.artBox!==null&&fe("/ArtBox ["+B(M.artBox.bottomLeftX)+" "+B(M.artBox.bottomLeftY)+" "+B(M.artBox.topRightX)+" "+B(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&fe("/UserUnit "+M.userUnit),bn.publish("putPage",{objId:Be,pageContext:Qt[X],pageNumber:X,page:ge}),fe("/Contents "+Qe+" 0 R"),fe(">>"),fe("endobj");var at=ge.join(`
`);return C===b&&(at+=`
Q`),Ut(Qe,!0),br({data:at,filters:Zn(),objectId:Qe}),fe("endobj"),Be},xa=h.__private__.putPages=function(){var M,X,ge=[];for(M=1;M<=nn;M++)Qt[M].objId=Yn(),Qt[M].contentsObjId=Yn();for(M=1;M<=nn;M++)ge.push(Jr({number:M,data:xe[M],objId:Qt[M].objId,contentsObjId:Qt[M].contentsObjId,mediaBox:Qt[M].mediaBox,cropBox:Qt[M].cropBox,bleedBox:Qt[M].bleedBox,trimBox:Qt[M].trimBox,artBox:Qt[M].artBox,userUnit:Qt[M].userUnit,rootDictionaryObjId:Xr,resourceDictionaryObjId:vr}));Ut(Xr,!0),fe("<</Type /Pages");var Be="/Kids [";for(X=0;X<nn;X++)Be+=ge[X]+" 0 R ";fe(Be+"]"),fe("/Count "+nn),fe(">>"),fe("endobj"),bn.publish("postPutPages")},Mi=function(M){bn.publish("putFont",{font:M,out:fe,newObject:yn,putStream:br}),M.isAlreadyPutted!==!0&&(M.objectNumber=yn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Yp(M.postScriptName)),fe("/Subtype /Type1"),typeof M.encoding=="string"&&fe("/Encoding /"+M.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Jo=function(M){M.objectNumber=yn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[B(M.x),B(M.y),B(M.x+M.width),B(M.y+M.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ge=M.pages[1].join(`
`);br({data:ge,additionalKeyValues:X,objectId:M.objectNumber}),fe("endobj")},Zo=function(M,X){X||(X=21);var ge=yn(),Be=function(lt,Gt){var tn,xn=[],Sn=1/(Gt-1);for(tn=0;tn<1;tn+=Sn)xn.push(tn);if(xn.push(1),lt[0].offset!=0){var nr={offset:0,color:lt[0].color};lt.unshift(nr)}if(lt[lt.length-1].offset!=1){var hr={offset:1,color:lt[lt.length-1].color};lt.push(hr)}for(var Gr="",wr=0,Fr=0;Fr<xn.length;Fr++){for(tn=xn[Fr];tn>lt[wr+1].offset;)wr++;var ei=lt[wr].offset,ai=(tn-ei)/(lt[wr+1].offset-ei),kr=lt[wr].color,aa=lt[wr+1].color;Gr+=ne(Math.round((1-ai)*kr[0]+ai*aa[0]).toString(16))+ne(Math.round((1-ai)*kr[1]+ai*aa[1]).toString(16))+ne(Math.round((1-ai)*kr[2]+ai*aa[2]).toString(16))}return Gr.trim()}(M.colors,X),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+X+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:Be,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),fe("endobj"),M.objectNumber=yn(),fe("<< /ShadingType "+M.type),fe("/ColorSpace /DeviceRGB");var at="/Coords ["+B(parseFloat(M.coords[0]))+" "+B(parseFloat(M.coords[1]))+" ";M.type===2?at+=B(parseFloat(M.coords[2]))+" "+B(parseFloat(M.coords[3])):at+=B(parseFloat(M.coords[2]))+" "+B(parseFloat(M.coords[3]))+" "+B(parseFloat(M.coords[4]))+" "+B(parseFloat(M.coords[5])),fe(at+="]"),M.matrix&&fe("/Matrix ["+M.matrix.toString()+"]"),fe("/Function "+ge+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Ir=function(M,X){var ge=Yn(),Be=yn();X.push({resourcesOid:ge,objectOid:Be}),M.objectNumber=Be;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+M.boundingBox.map(B).join(" ")+"]"}),Qe.push({key:"XStep",value:B(M.xStep)}),Qe.push({key:"YStep",value:B(M.yStep)}),Qe.push({key:"Resources",value:ge+" 0 R"}),M.matrix&&Qe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),br({data:M.stream,additionalKeyValues:Qe,objectId:M.objectNumber}),fe("endobj")},el=function(M){for(var X in M.objectNumber=yn(),fe("<<"),M)switch(X){case"opacity":fe("/ca "+k(M[X]));break;case"stroke-opacity":fe("/CA "+k(M[X]))}fe(">>"),fe("endobj")},wa=function(M){Ut(M.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in fe("/Font <<"),zt)zt.hasOwnProperty(X)&&(d===!1||d===!0&&f.hasOwnProperty(X))&&fe("/"+X+" "+zt[X].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(Kt).length>0){for(var X in fe("/Shading <<"),Kt)Kt.hasOwnProperty(X)&&Kt[X]instanceof ah&&Kt[X].objectNumber>=0&&fe("/"+X+" "+Kt[X].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),fe(">>")}}(),function(X){if(Object.keys(Kt).length>0){for(var ge in fe("/Pattern <<"),Kt)Kt.hasOwnProperty(ge)&&Kt[ge]instanceof h.TilingPattern&&Kt[ge].objectNumber>=0&&Kt[ge].objectNumber<X&&fe("/"+ge+" "+Kt[ge].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),fe(">>")}}(M.objectOid),function(){if(Object.keys(et).length>0){var X;for(X in fe("/ExtGState <<"),et)et.hasOwnProperty(X)&&et[X].objectNumber>=0&&fe("/"+X+" "+et[X].objectNumber+" 0 R");bn.publish("putGStateDict"),fe(">>")}}(),function(){for(var X in fe("/XObject <<"),cr)cr.hasOwnProperty(X)&&cr[X].objectNumber>=0&&fe("/"+X+" "+cr[X].objectNumber+" 0 R");bn.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},gu=function(M){Jt[M.fontName]=Jt[M.fontName]||{},Jt[M.fontName][M.fontStyle]=M.id},so=function(M,X,ge,Be,Qe){var at={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:M,fontName:X,fontStyle:ge,encoding:Be,isStandardFont:Qe||!1,metadata:{}};return bn.publish("addFont",{font:at,instance:this}),zt[at.id]=at,gu(at),at.id},Li=h.__private__.pdfEscape=h.pdfEscape=function(M,X){return function(ge,Be){var Qe,at,lt,Gt,tn,xn,Sn,nr,hr;if(lt=(Be=Be||{}).sourceEncoding||"Unicode",tn=Be.outputEncoding,(Be.autoencode||tn)&&zt[vt].metadata&&zt[vt].metadata[lt]&&zt[vt].metadata[lt].encoding&&(Gt=zt[vt].metadata[lt].encoding,!tn&&zt[vt].encoding&&(tn=zt[vt].encoding),!tn&&Gt.codePages&&(tn=Gt.codePages[0]),typeof tn=="string"&&(tn=Gt[tn]),tn)){for(Sn=!1,xn=[],Qe=0,at=ge.length;Qe<at;Qe++)(nr=tn[ge.charCodeAt(Qe)])?xn.push(String.fromCharCode(nr)):xn.push(ge[Qe]),xn[Qe].charCodeAt(0)>>8&&(Sn=!0);ge=xn.join("")}for(Qe=ge.length;Sn===void 0&&Qe!==0;)ge.charCodeAt(Qe-1)>>8&&(Sn=!0),Qe--;if(!Sn)return ge;for(xn=Be.noBOM?[]:[254,255],Qe=0,at=ge.length;Qe<at;Qe++){if((hr=(nr=ge.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xn.push(hr),xn.push(nr-(hr<<8))}return String.fromCharCode.apply(void 0,xn)}(M,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ds=h.__private__.beginPage=function(M){xe[++nn]=[],Qt[nn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},vu(nn),Ie(xe[$])},Ql=function(M,X){var ge,Be,Qe;switch(n=X||n,typeof M=="string"&&(ge=g(M.toLowerCase()),Array.isArray(ge)&&(Be=ge[0],Qe=ge[1])),Array.isArray(M)&&(Be=M[0]*xt,Qe=M[1]*xt),isNaN(Be)&&(Be=i[0],Qe=i[1]),(Be>14400||Qe>14400)&&(ni.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Qe=Math.min(14400,Qe)),i=[Be,Qe],n.substr(0,1)){case"l":Qe>Be&&(i=[Qe,Be]);break;case"p":Be>Qe&&(i=[Qe,Be])}ds(i),ia(Tc),fe(Bo),fr!==0&&fe(fr+" J"),oA!==0&&fe(oA+" j"),bn.publish("addPage",{pageNumber:nn})},oo=function(M){M>0&&M<=nn&&(xe.splice(M,1),Qt.splice(M,1),nn--,$>nn&&($=nn),this.setPage($))},vu=function(M){M>0&&M<=nn&&($=M)},Hl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return xe.length-1},yu=function(M,X,ge){var Be,Qe=void 0;return ge=ge||{},M=M!==void 0?M:zt[vt].fontName,X=X!==void 0?X:zt[vt].fontStyle,Be=M.toLowerCase(),Jt[Be]!==void 0&&Jt[Be][X]!==void 0?Qe=Jt[Be][X]:Jt[M]!==void 0&&Jt[M][X]!==void 0?Qe=Jt[M][X]:ge.disableWarning===!1&&ni.warn("Unable to look up font label for font '"+M+"', '"+X+"'. Refer to getFontList() for available fonts."),Qe||ge.noFallback||(Qe=Jt.times[X])==null&&(Qe=Jt.times.normal),Qe},Pn=h.__private__.putInfo=function(){var M=yn(),X=function(Be){return Be};for(var ge in A!==null&&(X=xr.encryptor(M,0)),fe("<<"),fe("/Producer ("+Li(X("jsPDF "+pn.version))+")"),ot)ot.hasOwnProperty(ge)&&ot[ge]&&fe("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Li(X(ot[ge]))+")");fe("/CreationDate ("+Li(X(Y))+")"),fe(">>"),fe("endobj")},bu=h.__private__.putCatalog=function(M){var X=(M=M||{}).rootDictionaryObjId||Xr;switch(yn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+X+" 0 R"),Et||(Et="fullwidth"),Et){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Et;ge.substr(ge.length-1)==="%"&&(Et=parseInt(Et)/100),typeof Et=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+k(Et)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Mt&&fe("/PageMode /"+Mt),bn.publish("putCatalog"),fe(">>"),fe("endobj")},ii=h.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(he+1)),fe("/Root "+he+" 0 R"),fe("/Info "+(he-1)+" 0 R"),A!==null&&fe("/Encrypt "+xr.oid+" 0 R"),fe("/ID [ <"+q+"> <"+q+"> ]"),fe(">>")},zl=h.__private__.putHeader=function(){fe("%PDF-"+p),fe("%")},rA=h.__private__.putXRef=function(){var M="0000000000";fe("xref"),fe("0 "+(he+1)),fe("0000000000 65535 f ");for(var X=1;X<=he;X++)typeof Se[X]=="function"?fe((M+Se[X]()).slice(-10)+" 00000 n "):Se[X]!==void 0?fe((M+Se[X]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},tr=h.__private__.buildDocument=function(){var M;he=0,re=0,we=[],Se=[],pe=[],Xr=Yn(),vr=Yn(),Ie(we),bn.publish("buildDocument"),zl(),xa(),function(){bn.publish("putAdditionalObjects");for(var ge=0;ge<pe.length;ge++){var Be=pe[ge];Ut(Be.objId,!0),fe(Be.content),fe("endobj")}bn.publish("postPutAdditionalObjects")}(),M=[],function(){for(var ge in zt)zt.hasOwnProperty(ge)&&(d===!1||d===!0&&f.hasOwnProperty(ge))&&Mi(zt[ge])}(),function(){var ge;for(ge in et)et.hasOwnProperty(ge)&&el(et[ge])}(),function(){for(var ge in cr)cr.hasOwnProperty(ge)&&Jo(cr[ge])}(),function(ge){var Be;for(Be in Kt)Kt.hasOwnProperty(Be)&&(Kt[Be]instanceof ah?Zo(Kt[Be]):Kt[Be]instanceof Em&&Ir(Kt[Be],ge))}(M),bn.publish("putResources"),M.forEach(wa),wa({resourcesOid:vr,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources"),A!==null&&(xr.oid=yn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+xr.v),fe("/R "+xr.r),fe("/U <"+xr.toHexString(xr.U)+">"),fe("/O <"+xr.toHexString(xr.O)+">"),fe("/P "+xr.P),fe(">>"),fe("endobj")),Pn(),bu();var X=re;return rA(),ii(),fe("startxref"),fe(""+X),fe("%%EOF"),Ie(xe[$]),we.join(`
`)},Ps=h.__private__.getBlob=function(M){return new Blob([mt(M)],{type:"application/pdf"})},Ca=h.output=h.__private__.output=(Yt=function(M,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",M){case void 0:return tr();case"save":h.save(X.filename);break;case"arraybuffer":return mt(tr());case"blob":return Ps(tr());case"bloburi":case"bloburl":if(kn.URL!==void 0&&typeof kn.URL.createObjectURL=="function")return kn.URL&&kn.URL.createObjectURL(Ps(tr()))||void 0;ni.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Be=tr();try{ge=gz(Be)}catch{ge=gz(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+X.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kn)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Qe=X.pdfObjectUrl,at="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Gt=kn.open();return Gt!==null&&Gt.document.write(lt),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kn)==="[object Window]"){var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',xn=kn.open();if(xn!==null){xn.document.write(tn);var Sn=this;xn.document.documentElement.querySelector("#pdfViewer").onload=function(){xn.document.title=X.filename,xn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Sn.output("bloburl"))}}return xn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',hr=kn.open();if(hr!==null&&(hr.document.write(nr),hr.document.title=X.filename),hr||typeof safari>"u")return hr;break;case"datauri":case"dataurl":return kn.document.location.href=this.output("datauristring",X);default:return null}},Yt.foo=function(){try{return Yt.apply(this,arguments)}catch(ge){var M=ge.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var X="Error in function "+M.split(`
`)[0].split("<")[0]+": "+ge.message;if(!kn.console)throw new Error(X);kn.console.error(X,ge),kn.alert&&alert(X)}},Yt.foo.bar=Yt,Yt.foo),Ds=function(M){return Array.isArray(mi)===!0&&mi.indexOf(M)>-1};switch(r){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=Ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);xt=r}var xr=null;ue(),W();var Pa=h.__private__.getPageInfo=h.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[M].objId,pageNumber:M,pageContext:Qt[M]}},tl=h.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Qt)if(Qt[X].objId===M)break;return Pa(X)},Nc=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Qt[$].objId,pageNumber:$,pageContext:Qt[$]}};h.addPage=function(){return Ql.apply(this,arguments),this},h.setPage=function(){return vu.apply(this,arguments),Ie.call(this,xe[$]),this},h.insertPage=function(M){return this.addPage(),this.movePage($,M),this},h.movePage=function(M,X){var ge,Be;if(M>X){ge=xe[M],Be=Qt[M];for(var Qe=M;Qe>X;Qe--)xe[Qe]=xe[Qe-1],Qt[Qe]=Qt[Qe-1];xe[X]=ge,Qt[X]=Be,this.setPage(X)}else if(M<X){ge=xe[M],Be=Qt[M];for(var at=M;at<X;at++)xe[at]=xe[at+1],Qt[at]=Qt[at+1];xe[X]=ge,Qt[X]=Be,this.setPage(X)}return this},h.deletePage=function(){return oo.apply(this,arguments),this},h.__private__.text=h.text=function(M,X,ge,Be,Qe){var at,lt,Gt,tn,xn,Sn,nr,hr,Gr,wr=(Be=Be||{}).scope||this;if(typeof M=="number"&&typeof X=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Fr=ge;ge=X,X=M,M=Fr}if(arguments[3]instanceof Oe==0?(Gt=arguments[4],tn=arguments[5],Vr(nr=arguments[3])==="object"&&nr!==null||(typeof Gt=="string"&&(tn=Gt,Gt=null),typeof nr=="string"&&(tn=nr,nr=null),typeof nr=="number"&&(Gt=nr,nr=null),Be={flags:nr,angle:Gt,align:tn})):(j("The transform parameter of text() with a Matrix value"),Gr=Qe),isNaN(X)||isNaN(ge)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return wr;var ei,ai="",kr=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:rl,aa=wr.internal.scaleFactor;function wu(Te){return Te=Te.split("	").join(Array(Be.TabLen||9).join(" ")),Li(Te,nr)}function Ao(Te){for(var _e,je=Te.concat(),Fe=[],Ue=je.length;Ue--;)typeof(_e=je.shift())=="string"?Fe.push(_e):Array.isArray(Te)&&(_e.length===1||_e[1]===void 0&&_e[2]===void 0)?Fe.push(_e[0]):Fe.push([_e[0],_e[1],_e[2]]);return Fe}function w(Te,_e){var je;if(typeof Te=="string")je=_e(Te)[0];else if(Array.isArray(Te)){for(var Fe,Ue,Ve=Te.concat(),Xe=[],nt=Ve.length;nt--;)typeof(Fe=Ve.shift())=="string"?Xe.push(_e(Fe)[0]):Array.isArray(Fe)&&typeof Fe[0]=="string"&&(Ue=_e(Fe[0],Fe[1],Fe[2]),Xe.push([Ue[0],Ue[1],Ue[2]]));je=Xe}return je}var Q=!1,K=!0;if(typeof M=="string")Q=!0;else if(Array.isArray(M)){var ce=M.concat();lt=[];for(var ze,Ye=ce.length;Ye--;)(typeof(ze=ce.shift())!="string"||Array.isArray(ze)&&typeof ze[0]!="string")&&(K=!1);Q=K}if(Q===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Dt=rt/wr.internal.scaleFactor,rr=Dt*(kr-1);switch(Be.baseline){case"bottom":ge-=rr;break;case"top":ge+=Dt-rr;break;case"hanging":ge+=Dt-2*rr;break;case"middle":ge+=Dt/2-rr}if((Sn=Be.maxWidth||0)>0&&(typeof M=="string"?M=wr.splitTextToSize(M,Sn):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(Te,_e){return Te.concat(wr.splitTextToSize(_e,Sn))},[]))),at={text:M,x:X,y:ge,options:Be,mutex:{pdfEscape:Li,activeFontKey:vt,fonts:zt,activeFontSize:rt}},bn.publish("preProcessText",at),M=at.text,Gt=(Be=at.options).angle,Gr instanceof Oe==0&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Be.rotationDirection===0&&(Gt=-Gt),C===b&&(Gt=-Gt);var si=Math.cos(Gt),$n=Math.sin(Gt);Gr=new Oe(si,$n,-$n,si,0,0)}else Gt&&Gt instanceof Oe&&(Gr=Gt);C!==b||Gr||(Gr=_t),(xn=Be.charSpace||Kl)!==void 0&&(ai+=B(F(xn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hr=Be.horizontalScale)!==void 0&&(ai+=B(100*hr)+` Tz
`),Be.lang;var Kn=-1,Ur=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,hs=wr.internal.getCurrentPageInfo().pageContext;switch(Ur){case 0:case!1:case"fill":Kn=0;break;case 1:case!0:case"stroke":Kn=1;break;case 2:case"fillThenStroke":Kn=2;break;case 3:case"invisible":Kn=3;break;case 4:case"fillAndAddForClipping":Kn=4;break;case 5:case"strokeAndAddPathForClipping":Kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kn=6;break;case 7:case"addToPathForClipping":Kn=7}var Fa=hs.usedRenderingMode!==void 0?hs.usedRenderingMode:-1;Kn!==-1?ai+=Kn+` Tr
`:Fa!==-1&&(ai+=`0 Tr
`),Kn!==-1&&(hs.usedRenderingMode=Kn),tn=Be.align||"left";var Sa,ll=rt*kr,Of=wr.internal.pageSize.getWidth(),Ff=zt[vt];xn=Be.charSpace||Kl,Sn=Be.maxWidth||0,nr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var cl=[],ps=function(Te){return wr.getStringUnitWidth(Te,{font:Ff,charSpace:xn,fontSize:rt,doKerning:!1})*rt/aa};if(Object.prototype.toString.call(M)==="[object Array]"){var ur;lt=Ao(M),tn!=="left"&&(Sa=lt.map(ps));var es,sa=0;if(tn==="right"){X-=Sa[0],M=[],Ye=lt.length;for(var Oc=0;Oc<Ye;Oc++)Oc===0?(es=Zr(X),ur=il(ge)):(es=F(sa-Sa[Oc]),ur=-ll),M.push([lt[Oc],es,ur]),sa=Sa[Oc]}else if(tn==="center"){X-=Sa[0]/2,M=[],Ye=lt.length;for(var Yl=0;Yl<Ye;Yl++)Yl===0?(es=Zr(X),ur=il(ge)):(es=F((sa-Sa[Yl])/2),ur=-ll),M.push([lt[Yl],es,ur]),sa=Sa[Yl]}else if(tn==="left"){M=[],Ye=lt.length;for(var ad=0;ad<Ye;ad++)M.push(lt[ad])}else if(tn==="justify"&&Ff.encoding==="Identity-H"){M=[],Ye=lt.length,Sn=Sn!==0?Sn:Of;for(var No=0,gi=0;gi<Ye;gi++)if(ur=gi===0?il(ge):-ll,es=gi===0?Zr(X):No,gi<Ye-1){var Fc=F((Sn-Sa[gi])/(lt[gi].split(" ").length-1)),Ma=lt[gi].split(" ");M.push([Ma[0]+" ",es,ur]),No=0;for(var ul=1;ul<Ma.length;ul++){var S=(ps(Ma[ul-1]+" "+Ma[ul])-ps(Ma[ul]))*aa+Fc;ul==Ma.length-1?M.push([Ma[ul],S,0]):M.push([Ma[ul]+" ",S,0]),No-=S}}else M.push([lt[gi],es,ur]);M.push(["",No,0])}else{if(tn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],Ye=lt.length,Sn=Sn!==0?Sn:Of,gi=0;gi<Ye;gi++){ur=gi===0?il(ge):-ll,es=gi===0?Zr(X):0;var I=lt[gi].split(" ").length-1,U=I>0?(Sn-Sa[gi])/I:0;gi<Ye-1?cl.push(B(F(U))):cl.push(0),M.push([lt[gi],es,ur])}}}(typeof Be.R2L=="boolean"?Be.R2L:$t)===!0&&(M=w(M,function(Te,_e,je){return[Te.split("").reverse().join(""),_e,je]})),at={text:M,x:X,y:ge,options:Be,mutex:{pdfEscape:Li,activeFontKey:vt,fonts:zt,activeFontSize:rt}},bn.publish("postProcessText",at),M=at.text,ei=at.mutex.isHex||!1;var V=zt[vt].encoding;V!=="WinAnsiEncoding"&&V!=="StandardEncoding"||(M=w(M,function(Te,_e,je){return[wu(Te),_e,je]})),lt=Ao(M),M=[];for(var G,ie,me,Ce=Array.isArray(lt[0])?1:0,Ne="",Pe=function(Te,_e,je){var Fe="";return je instanceof Oe?(je=typeof Be.angle=="number"?Ge(je,new Oe(1,0,0,1,Te,_e)):Ge(new Oe(1,0,0,1,Te,_e),je),C===b&&(je=Ge(new Oe(1,0,0,-1,0,0),je)),Fe=je.join(" ")+` Tm
`):Fe=B(Te)+" "+B(_e)+` Td
`,Fe},Le=0;Le<lt.length;Le++){switch(Ne="",Ce){case 1:me=(ei?"<":"(")+lt[Le][0]+(ei?">":")"),G=parseFloat(lt[Le][1]),ie=parseFloat(lt[Le][2]);break;case 0:me=(ei?"<":"(")+lt[Le]+(ei?">":")"),G=Zr(X),ie=il(ge)}cl!==void 0&&cl[Le]!==void 0&&(Ne=cl[Le]+` Tw
`),Le===0?M.push(Ne+Pe(G,ie,Gr)+me):Ce===0?M.push(Ne+me):Ce===1&&M.push(Ne+Pe(G,ie,Gr)+me)}M=Ce===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Ee=`BT
/`;return Ee+=vt+" "+rt+` Tf
`,Ee+=B(rt*kr)+` TL
`,Ee+=Oa+`
`,Ee+=ai,Ee+=M,fe(Ee+="ET"),f[vt]=!0,wr};var jc=h.__private__.clip=h.clip=function(M){return fe(M==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return jc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return fe("n"),this};var Xn=h.__private__.isValidStyle=function(M){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(M){return Xn(M)&&(u=M),this};var lo=h.__private__.getStyle=h.getStyle=function(M){var X=u;switch(M){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=M}return X},nl=h.close=function(){return fe("h"),this};h.stroke=function(){return fe("S"),this},h.fill=function(M){return Os("f",M),this},h.fillEvenOdd=function(M){return Os("f*",M),this},h.fillStroke=function(M){return Os("B",M),this},h.fillStrokeEvenOdd=function(M){return Os("B*",M),this};var Os=function(M,X){Vr(X)==="object"?Pf(X,M):fe(M)},qn=function(M){M===null||C===b&&M===void 0||(M=lo(M),fe(M))};function iA(M,X,ge,Be,Qe){var at=new Em(X||this.boundingBox,ge||this.xStep,Be||this.yStep,this.gState,Qe||this.matrix);at.stream=this.stream;var lt=M+"$$"+this.cloneIndex+++"$$";return At(lt,at),at}var Pf=function(M,X){var ge=ke[M.key],Be=Kt[ge];if(Be instanceof ah)fe("q"),fe(Df(X)),Be.gState&&h.setGState(Be.gState),fe(M.matrix.toString()+" cm"),fe("/"+ge+" sh"),fe("Q");else if(Be instanceof Em){var Qe=new Oe(1,0,0,-1,0,fs());M.matrix&&(Qe=Qe.multiply(M.matrix||_t),ge=iA.call(Be,M.key,M.boundingBox,M.xStep,M.yStep,Qe).id),fe("q"),fe("/Pattern cs"),fe("/"+ge+" scn"),Be.gState&&h.setGState(Be.gState),fe(X),fe("Q")}},Df=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},na=h.moveTo=function(M,X){return fe(B(F(M))+" "+B(H(X))+" m"),this},Fs=h.lineTo=function(M,X){return fe(B(F(M))+" "+B(H(X))+" l"),this},Da=h.curveTo=function(M,X,ge,Be,Qe,at){return fe([B(F(M)),B(H(X)),B(F(ge)),B(H(Be)),B(F(Qe)),B(H(at)),"c"].join(" ")),this};h.__private__.line=h.line=function(M,X,ge,Be,Qe){if(isNaN(M)||isNaN(X)||isNaN(ge)||isNaN(Be)||!Xn(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return C===y?this.lines([[ge-M,Be-X]],M,X,[1,1],Qe||"S"):this.lines([[ge-M,Be-X]],M,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(M,X,ge,Be,Qe,at){var lt,Gt,tn,xn,Sn,nr,hr,Gr,wr,Fr,ei,ai;if(typeof M=="number"&&(ai=ge,ge=X,X=M,M=ai),Be=Be||[1,1],at=at||!1,isNaN(X)||isNaN(ge)||!Array.isArray(M)||!Array.isArray(Be)||!Xn(Qe)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(na(X,ge),lt=Be[0],Gt=Be[1],xn=M.length,Fr=X,ei=ge,tn=0;tn<xn;tn++)(Sn=M[tn]).length===2?(Fr=Sn[0]*lt+Fr,ei=Sn[1]*Gt+ei,Fs(Fr,ei)):(nr=Sn[0]*lt+Fr,hr=Sn[1]*Gt+ei,Gr=Sn[2]*lt+Fr,wr=Sn[3]*Gt+ei,Fr=Sn[4]*lt+Fr,ei=Sn[5]*Gt+ei,Da(nr,hr,Gr,wr,Fr,ei));return at&&nl(),qn(Qe),this},h.path=function(M){for(var X=0;X<M.length;X++){var ge=M[X],Be=ge.c;switch(ge.op){case"m":na(Be[0],Be[1]);break;case"l":Fs(Be[0],Be[1]);break;case"c":Da.apply(this,Be);break;case"h":nl()}}return this},h.__private__.rect=h.rect=function(M,X,ge,Be,Qe){if(isNaN(M)||isNaN(X)||isNaN(ge)||isNaN(Be)||!Xn(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return C===y&&(Be=-Be),fe([B(F(M)),B(H(X)),B(F(ge)),B(F(Be)),"re"].join(" ")),qn(Qe),this},h.__private__.triangle=h.triangle=function(M,X,ge,Be,Qe,at,lt){if(isNaN(M)||isNaN(X)||isNaN(ge)||isNaN(Be)||isNaN(Qe)||isNaN(at)||!Xn(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-M,Be-X],[Qe-ge,at-Be],[M-Qe,X-at]],M,X,[1,1],lt,!0),this},h.__private__.roundedRect=h.roundedRect=function(M,X,ge,Be,Qe,at,lt){if(isNaN(M)||isNaN(X)||isNaN(ge)||isNaN(Be)||isNaN(Qe)||isNaN(at)||!Xn(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*ge),at=Math.min(at,.5*Be),this.lines([[ge-2*Qe,0],[Qe*Gt,0,Qe,at-at*Gt,Qe,at],[0,Be-2*at],[0,at*Gt,-Qe*Gt,at,-Qe,at],[2*Qe-ge,0],[-Qe*Gt,0,-Qe,-at*Gt,-Qe,-at],[0,2*at-Be],[0,-at*Gt,Qe*Gt,-at,Qe,-at]],M+Qe,X,[1,1],lt,!0),this},h.__private__.ellipse=h.ellipse=function(M,X,ge,Be,Qe){if(isNaN(M)||isNaN(X)||isNaN(ge)||isNaN(Be)||!Xn(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*ge,lt=4/3*(Math.SQRT2-1)*Be;return na(M+ge,X),Da(M+ge,X-lt,M+at,X-Be,M,X-Be),Da(M-at,X-Be,M-ge,X-lt,M-ge,X),Da(M-ge,X+lt,M-at,X+Be,M,X+Be),Da(M+at,X+Be,M+ge,X+lt,M+ge,X),qn(Qe),this},h.__private__.circle=h.circle=function(M,X,ge,Be){if(isNaN(M)||isNaN(X)||isNaN(ge)||!Xn(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,X,ge,ge,Be)},h.setFont=function(M,X,ge){return ge&&(X=_(X,ge)),vt=yu(M,X,{disableWarning:!1}),this};var ra=h.__private__.getFont=h.getFont=function(){return zt[yu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var M,X,ge={};for(M in Jt)if(Jt.hasOwnProperty(M))for(X in ge[M]=[],Jt[M])Jt[M].hasOwnProperty(X)&&ge[M].push(X);return ge},h.addFont=function(M,X,ge,Be,Qe){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(ge=_(ge,Be)),so.call(this,M,X,ge,Qe=Qe||"Identity-H")};var rl,Tc=t.lineWidth||.200025,rn=h.__private__.getLineWidth=h.getLineWidth=function(){return Tc},ia=h.__private__.setLineWidth=h.setLineWidth=function(M){return Tc=M,fe(B(F(M))+" w"),this};h.__private__.setLineDash=pn.API.setLineDash=pn.API.setLineDashPattern=function(M,X){if(M=M||[],X=X||0,isNaN(X)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ge){return B(F(ge))}).join(" "),X=B(F(X)),fe("["+M+"] "+X+" d"),this};var Ic=h.__private__.getLineHeight=h.getLineHeight=function(){return rt*rl};h.__private__.getLineHeight=h.getLineHeight=function(){return rt*rl};var kc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(rl=M),this},aA=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return rl};kc(t.lineHeight);var Zr=h.__private__.getHorizontalCoordinate=function(M){return F(M)},il=h.__private__.getVerticalCoordinate=function(M){return C===b?M:Qt[$].mediaBox.topRightY-Qt[$].mediaBox.bottomLeftY-F(M)},Ms=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(M){return B(Zr(M))},Vl=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(M){return B(il(M))},Bo=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Or(Bo)},h.__private__.setStrokeColor=h.setDrawColor=function(M,X,ge,Be){return Bo=yr({ch1:M,ch2:X,ch3:ge,ch4:Be,pdfColorType:"draw",precision:2}),fe(Bo),this};var $l=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Or($l)},h.__private__.setFillColor=h.setFillColor=function(M,X,ge,Be){return $l=yr({ch1:M,ch2:X,ch3:ge,ch4:Be,pdfColorType:"fill",precision:2}),fe($l),this};var Oa=t.textColor||"0 g",Ls=h.__private__.getTextColor=h.getTextColor=function(){return Or(Oa)};h.__private__.setTextColor=h.setTextColor=function(M,X,ge,Be){return Oa=yr({ch1:M,ch2:X,ch3:ge,ch4:Be,pdfColorType:"text",precision:3}),this};var Kl=t.charSpace,sA=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Kl||0)};h.__private__.setCharSpace=h.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kl=M,this};var fr=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(M){var X=h.CapJoinStyles[M];if(X===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fr=X,fe(X+" J"),this};var oA=0;h.__private__.setLineJoin=h.setLineJoin=function(M){var X=h.CapJoinStyles[M];if(X===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oA=X,fe(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(B(F(M))+" M"),this},h.GState=CS,h.setGState=function(M){(M=typeof M=="string"?et[Je[M]]:Pc(null,M)).equals(Ln)||(fe("/"+M.id+" gs"),Ln=M)};var Pc=function(M,X){if(!M||!Je[M]){var ge=!1;for(var Be in et)if(et.hasOwnProperty(Be)&&et[Be].equals(X)){ge=!0;break}if(ge)X=et[Be];else{var Qe="GS"+(Object.keys(et).length+1).toString(10);et[Qe]=X,X.id=Qe}return M&&(Je[M]=X.id),bn.publish("addGState",X),X}};h.addGState=function(M,X){return Pc(M,X),this},h.saveGraphicsState=function(){return fe("q"),St.push({key:vt,size:rt,color:Oa}),this},h.restoreGraphicsState=function(){fe("Q");var M=St.pop();return vt=M.key,rt=M.size,Oa=M.color,Ln=null,this},h.setCurrentTransformationMatrix=function(M){return fe(M.toString()+" cm"),this},h.comment=function(M){return fe("#"+M),this};var co=function(M,X){var ge=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(at){isNaN(at)||(ge=parseFloat(at))}});var Be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(at){isNaN(at)||(Be=parseFloat(at))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(at){Qe=at.toString()}}),this},al=function(M,X,ge,Be){co.call(this,M,X),this.type="rect";var Qe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(lt){isNaN(lt)||(Qe=parseFloat(lt))}});var at=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(lt){isNaN(lt)||(at=parseFloat(lt))}}),this},sl=function(){this.page=nn,this.currentPage=$,this.pages=xe.slice(0),this.pagesContext=Qt.slice(0),this.x=Lt,this.y=hn,this.matrix=Cn,this.width=Rs($),this.height=uo($),this.outputDestination=He,this.id="",this.objectNumber=-1};sl.prototype.restore=function(){nn=this.page,$=this.currentPage,Qt=this.pagesContext,xe=this.pages,Lt=this.x,hn=this.y,Cn=this.matrix,Dc($,this.width),Za($,this.height),He=this.outputDestination};var Wl=function(M,X,ge,Be,Qe){Me.push(new sl),nn=$=0,xe=[],Lt=M,hn=X,Cn=Qe,ds([ge,Be])};for(var Gl in h.beginFormObject=function(M,X,ge,Be,Qe){return Wl(M,X,ge,Be,Qe),this},h.endFormObject=function(M){return function(X){if(ta[X])Me.pop().restore();else{var ge=new sl,Be="Xo"+(Object.keys(cr).length+1).toString(10);ge.id=Be,ta[X]=Be,cr[Be]=ge,bn.publish("addFormObject",ge),Me.pop().restore()}}(M),this},h.doFormObject=function(M,X){var ge=cr[ta[M]];return fe("q"),fe(X.toString()+" cm"),fe("/"+ge.id+" Do"),fe("Q"),this},h.getFormObject=function(M){var X=cr[ta[M]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(M,X){return M=M||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(th(Ps(tr()),M),typeof th.unload=="function"&&kn.setTimeout&&setTimeout(th.unload,911),this):new Promise(function(ge,Be){try{var Qe=th(Ps(tr()),M);typeof th.unload=="function"&&kn.setTimeout&&setTimeout(th.unload,911),ge(Qe)}catch(at){Be(at.message)}})},pn.API)pn.API.hasOwnProperty(Gl)&&(Gl==="events"&&pn.API.events.length?function(M,X){var ge,Be,Qe;for(Qe=X.length-1;Qe!==-1;Qe--)ge=X[Qe][0],Be=X[Qe][1],M.subscribe.apply(M,[ge].concat(typeof Be=="function"?[Be]:Be))}(bn,pn.API.events):h[Gl]=pn.API[Gl]);function Rs(M){return Qt[M].mediaBox.topRightX-Qt[M].mediaBox.bottomLeftX}function Dc(M,X){Qt[M].mediaBox.topRightX=X+Qt[M].mediaBox.bottomLeftX}function uo(M){return Qt[M].mediaBox.topRightY-Qt[M].mediaBox.bottomLeftY}function Za(M,X){Qt[M].mediaBox.topRightY=X+Qt[M].mediaBox.bottomLeftY}var ql=h.getPageWidth=function(M){return Rs(M=M||$)/xt},ol=h.setPageWidth=function(M,X){Dc(M,X*xt)},fs=h.getPageHeight=function(M){return uo(M=M||$)/xt},xu=h.setPageHeight=function(M,X){Za(M,X*xt)};return h.internal={pdfEscape:Li,getStyle:lo,getFont:ra,getFontSize:gt,getCharSpace:sA,getTextColor:Ls,getLineHeight:Ic,getLineHeightFactor:aA,getLineWidth:rn,write:$e,getHorizontalCoordinate:Zr,getVerticalCoordinate:il,getCoordinateString:Ms,getVerticalCoordinateString:Vl,collections:{},newObject:yn,newAdditionalObject:mn,newObjectDeferred:Yn,newObjectDeferredBegin:Ut,getFilters:Zn,putStream:br,events:bn,scaleFactor:xt,pageSize:{getWidth:function(){return ql($)},setWidth:function(M){ol($,M)},getHeight:function(){return fs($)},setHeight:function(M){xu($,M)}},encryptionOptions:A,encryption:xr,getEncryptor:function(M){return A!==null?xr.encryptor(M,0):function(X){return X}},output:Ca,getNumberOfPages:Hl,pages:xe,out:fe,f2:k,f3:O,getPageInfo:Pa,getPageInfoByObjId:tl,getCurrentPageInfo:Nc,getPDFVersion:m,Point:co,Rectangle:al,Matrix:Oe,hasHotfix:Ds},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ql($)},set:function(M){ol($,M)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return fs($)},set:function(M){xu($,M)},enumerable:!0,configurable:!0}),(function(M){for(var X=0,ge=pt.length;X<ge;X++){var Be=so.call(this,M[X][0],M[X][1],M[X][2],pt[X][3],!0);d===!1&&(f[Be]=!0);var Qe=M[X][0].split("-");gu({id:Be,fontName:Qe[0],fontStyle:Qe[1]||""})}bn.publish("addFonts",{fonts:zt,dictionary:Jt})}).call(h,pt),vt="F1",Ql(i,n),bn.publish("initialized"),h}qp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qp.prototype.processOwnerPassword=function(t,e){return ik(rk(e).substr(0,5),t)},qp.prototype.encryptor=function(t,e){var n=rk(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return ik(n,r)}},CS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Vr(t)!==Vr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},pn.API={events:[]},pn.version="3.0.3";var Gi=pn.API,iF=1,wp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rn=function(t){return t.toFixed(2)},yd=function(t){return t.toFixed(5)};Gi.__acroform__={};var Xo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xz=function(t){return t*iF},_u=function(t){var e=new _ne,n=cn.internal.getHeight(t)||0,r=cn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Rn(r)),Number(Rn(n))],e},pKe=Gi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},mKe=Gi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},gKe=Gi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},pa=Gi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gKe(t,e-1)},ma=Gi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pKe(t,e-1)},ga=Gi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mKe(t,e-1)},vKe=Gi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(Rn(l.lowerLeft_X)),Number(Rn(l.lowerLeft_Y)),Number(Rn(l.upperRight_X)),Number(Rn(l.upperRight_Y))]},yKe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=ak(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Rn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=_u(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},ak=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=n,s=cn.internal.getHeight(t)||0;s=s<0?-s:s;var o=cn.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(k,O,F){if(k+1<i.length){var H=O+" "+i[k+1][0];return q1(H,t,F).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,A,d=q1("3",t,a).height,f=t.multiline?s-a:(s-d)/2,h=f+=2,p=0,m=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+q1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var C=!1;if(i[b].length!==1&&v!==i[b].length-1){if((d+2)*(y+2)+2>s)continue e;g+=i[b][v],C=!0,m=b,b--}else{g=(g+=i[b][v]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(b),N=l(E,g,a),_=b>=i.length-1;if(N&&!_){g+=" ",v=0;continue}if(N||_){if(_)m=E;else if(t.multiline&&(d+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(y+2)+2>s)continue e;m=E}}for(var B="",j=p;j<=m;j++){var D=i[j];if(t.multiline){if(j===m){B+=D[v]+" ",v=(v+1)%D.length;continue}if(j===p){B+=D[D.length-1]+" ";continue}}B+=D[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,A=q1(B,t,a).width,t.textAlign){case"right":u=o-A-2;break;case"center":u=(o-A)/2;break;default:u=2}e+=Rn(u)+" "+Rn(h)+` Td
`,e+="("+wp(B)+`) Tj
`,e+=-Rn(u)+` 0 Td
`,h=-(a+2),A=0,p=C?m:m+1,y++,g=""}break}return r.text=e,r.fontSize=a,r},q1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},bKe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xKe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},wKe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(hu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(bKe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iF=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Bne,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&xKe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=vKe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=cn.createDefaultAppearanceStream(o),Vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=yKe(o);l.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var p=h[s];typeof p=="function"&&(p=p.call(i,o)),d+="/"+s+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,o)),d+="/"+s+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,v){for(var g in m)if(m.hasOwnProperty(g)){var y=g,b=m[g];v.internal.newObjectDeferredBegin(b.objId,!0),Vr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[y]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ene=Gi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Vr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+wp(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},NN=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+wp(r(t))+")"},Ou=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ou.prototype.toString=function(){return this.objId+" 0 R"},Ou.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ou.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Ene(i,this.objId,this.scope)}):i instanceof Ou?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var _ne=function(){Ou.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Xo(_ne,Ou);var Bne=function(){Ou.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wp(n(t))+")"}},set:function(n){t=n}})};Xo(Bne,Ou);var hu=function t(){Ou.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pa(e,3)},set:function(g){g?this.F=ma(e,3):this.F=ga(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof SS)return;a="FieldObject"+t.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+wp(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/iF:u},set:function(g){u=g}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(g){A=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof SS||this instanceof kh))return NN(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof as==0?NN(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof as==0?g.substr(0,1)==="("?Mp(g.substr(1,g.length-2)):Mp(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Mp(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof as==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof as==0?NN(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof as==0?g.substr(0,1)==="("?Mp(g.substr(1,g.length-2)):Mp(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Mp(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof as==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,1)},set:function(g){g?this.Ff=ma(this.Ff,1):this.Ff=ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,2)},set:function(g){g?this.Ff=ma(this.Ff,2):this.Ff=ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,3)},set:function(g){g?this.Ff=ma(this.Ff,3):this.Ff=ga(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');v=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(v){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Xo(hu,Ou);var Hm=function(){hu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ene(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,18)},set:function(n){n?this.Ff=ma(this.Ff,18):this.Ff=ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ma(this.Ff,19):this.Ff=ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,20)},set:function(n){n?(this.Ff=ma(this.Ff,20),e.sort()):this.Ff=ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,22)},set:function(n){n?this.Ff=ma(this.Ff,22):this.Ff=ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(n){n?this.Ff=ma(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,27)},set:function(n){n?this.Ff=ma(this.Ff,27):this.Ff=ga(this.Ff,27)}}),this.hasAppearanceStream=!1};Xo(Hm,hu);var zm=function(){Hm.call(this),this.fontName="helvetica",this.combo=!1};Xo(zm,Hm);var Vm=function(){zm.call(this),this.combo=!0};Xo(Vm,zm);var c2=function(){Vm.call(this),this.edit=!0};Xo(c2,Vm);var as=function(){hu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,15)},set:function(n){n?this.Ff=ma(this.Ff,15):this.Ff=ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,16)},set:function(n){n?this.Ff=ma(this.Ff,16):this.Ff=ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,17)},set:function(n){n?this.Ff=ma(this.Ff,17):this.Ff=ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(n){n?this.Ff=ma(this.Ff,26):this.Ff=ga(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+wp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Vr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Xo(as,hu);var u2=function(){as.call(this),this.pushButton=!0};Xo(u2,as);var $m=function(){as.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Xo($m,as);var SS=function(){var t,e;hu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+wp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Vr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xo(SS,hu),$m.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},$m.prototype.createOption=function(t){var e=new SS;return e.Parent=this,e.optionName=t,this.Kids.push(e),CKe.call(this.scope,e),e};var A2=function(){as.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cn.CheckBox.createAppearanceStream()};Xo(A2,as);var kh=function(){hu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,13)},set:function(e){e?this.Ff=ma(this.Ff,13):this.Ff=ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,21)},set:function(e){e?this.Ff=ma(this.Ff,21):this.Ff=ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(e){e?this.Ff=ma(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,24)},set:function(e){e?this.Ff=ma(this.Ff,24):this.Ff=ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,25)},set:function(e){e?this.Ff=ma(this.Ff,25):this.Ff=ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(e){e?this.Ff=ma(this.Ff,26):this.Ff=ga(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xo(kh,hu);var d2=function(){kh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,14)},set:function(t){t?this.Ff=ma(this.Ff,14):this.Ff=ga(this.Ff,14)}}),this.password=!0};Xo(d2,kh);var cn={CheckBox:{createAppearanceStream:function(){return{N:{On:cn.CheckBox.YesNormal},D:{On:cn.CheckBox.YesPushDown,Off:cn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=_u(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=ak(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Rn(cn.internal.getWidth(t))+" "+Rn(cn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=_u(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=cn.internal.getHeight(t),s=cn.internal.getWidth(t),o=ak(t,t.caption);return i.push("1 g"),i.push("0 0 "+Rn(s)+" "+Rn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rn(s-1)+" "+Rn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Rn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=_u(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rn(cn.internal.getWidth(t))+" "+Rn(cn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:cn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=cn.RadioButton.Circle.YesNormal,e.D[t]=cn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=_u(t);e.scope=t.scope;var n=[],r=cn.internal.getWidth(t)<=cn.internal.getHeight(t)?cn.internal.getWidth(t)/4:cn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=cn.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yd(cn.internal.getWidth(t)/2)+" "+yd(cn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=_u(t);e.scope=t.scope;var n=[],r=cn.internal.getWidth(t)<=cn.internal.getHeight(t)?cn.internal.getWidth(t)/4:cn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*cn.internal.Bezier_C).toFixed(5)),s=Number((r*cn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yd(cn.internal.getWidth(t)/2)+" "+yd(cn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yd(cn.internal.getWidth(t)/2)+" "+yd(cn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=_u(t);e.scope=t.scope;var n=[],r=cn.internal.getWidth(t)<=cn.internal.getHeight(t)?cn.internal.getWidth(t)/4:cn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*cn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yd(cn.internal.getWidth(t)/2)+" "+yd(cn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:cn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=cn.RadioButton.Cross.YesNormal,e.D[t]=cn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=_u(t);e.scope=t.scope;var n=[],r=cn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Rn(cn.internal.getWidth(t)-2)+" "+Rn(cn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Rn(r.x1.x)+" "+Rn(r.x1.y)+" m"),n.push(Rn(r.x2.x)+" "+Rn(r.x2.y)+" l"),n.push(Rn(r.x4.x)+" "+Rn(r.x4.y)+" m"),n.push(Rn(r.x3.x)+" "+Rn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=_u(t);e.scope=t.scope;var n=cn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rn(cn.internal.getWidth(t))+" "+Rn(cn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rn(cn.internal.getWidth(t)-2)+" "+Rn(cn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Rn(n.x1.x)+" "+Rn(n.x1.y)+" m"),r.push(Rn(n.x2.x)+" "+Rn(n.x2.y)+" l"),r.push(Rn(n.x4.x)+" "+Rn(n.x4.y)+" m"),r.push(Rn(n.x3.x)+" "+Rn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=_u(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rn(cn.internal.getWidth(t))+" "+Rn(cn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};cn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=cn.internal.getWidth(t),n=cn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},cn.internal.getWidth=function(t){var e=0;return Vr(t)==="object"&&(e=xz(t.Rect[2])),e},cn.internal.getHeight=function(t){var e=0;return Vr(t)==="object"&&(e=xz(t.Rect[3])),e};var CKe=Gi.addField=function(t){if(wKe(this,t),!(t instanceof hu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gi.AcroFormChoiceField=Hm,Gi.AcroFormListBox=zm,Gi.AcroFormComboBox=Vm,Gi.AcroFormEditBox=c2,Gi.AcroFormButton=as,Gi.AcroFormPushButton=u2,Gi.AcroFormRadioButton=$m,Gi.AcroFormCheckBox=A2,Gi.AcroFormTextField=kh,Gi.AcroFormPasswordField=d2,Gi.AcroFormAppearance=cn,Gi.AcroForm={ChoiceField:Hm,ListBox:zm,ComboBox:Vm,EditBox:c2,Button:as,PushButton:u2,RadioButton:$m,CheckBox:A2,TextField:kh,PasswordField:d2,Appearance:cn},pn.AcroForm={ChoiceField:Hm,ListBox:zm,ComboBox:Vm,EditBox:c2,Button:as,PushButton:u2,RadioButton:$m,CheckBox:A2,TextField:kh,PasswordField:d2,Appearance:cn};pn.AcroForm;function Nne(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(k,O){var F,H,Y,q,Z,W=n;if((O=O||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(N(k))for(Z in r)for(Y=r[Z],F=0;F<Y.length;F+=1){for(q=!0,H=0;H<Y[F].length;H+=1)if(Y[F][H]!==void 0&&Y[F][H]!==k[H]){q=!1;break}if(q===!0){W=Z;break}}else for(Z in r)for(Y=r[Z],F=0;F<Y.length;F+=1){for(q=!0,H=0;H<Y[F].length;H+=1)if(Y[F][H]!==void 0&&Y[F][H]!==k.charCodeAt(H)){q=!1;break}if(q===!0){W=Z;break}}return W===n&&O!==n&&(W=O),W},a=function k(O){for(var F=this.internal.write,H=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:O.width}),q.push({key:"Height",value:O.height}),O.colorSpace===g.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===g.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var Z="",W=0,oe=O.transparency.length;W<oe;W++)Z+=O.transparency[W]+" "+O.transparency[W]+" ";q.push({key:"Mask",value:"["+Z+"]"})}O.sMask!==void 0&&q.push({key:"SMask",value:O.objectId+1+" 0 R"});var te=O.filter!==void 0?["/"+O.filter]:void 0;if(H({data:O.data,additionalKeyValues:q,alreadyAppliedFilters:te,objectId:O.objectId}),F("endobj"),"sMask"in O&&O.sMask!==void 0){var ue,R=(ue=O.sMaskBitsPerComponent)!==null&&ue!==void 0?ue:O.bitsPerComponent,$={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:O.sMask};"filter"in O&&($.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(O.width),$.filter=O.filter),k.call(this,$)}if(O.colorSpace===g.INDEXED){var J=this.internal.newObject();H({data:B(new Uint8Array(O.palette)),objectId:J}),F("endobj")}},s=function(){var k=this.internal.collections[e+"images"];for(var O in k)a.call(this,k[O])},o=function(){var k,O=this.internal.collections[e+"images"],F=this.internal.write;for(var H in O)F("/I"+(k=O[H]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(k){return typeof t["process"+k.toUpperCase()]=="function"},f=function(k){return Vr(k)==="object"&&k.nodeType===1},h=function(k,O){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var F=""+k.getAttribute("src");if(F.indexOf("data:image/")===0)return l2(unescape(F).split("base64,").pop());var H=t.loadFile(F,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var Y;switch(O){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return l2(k.toDataURL(Y,1).split("base64,").pop())}},p=function(k){var O=this.internal.collections[e+"images"];if(O){for(var F in O)if(k===O[F].alias)return O[F]}},m=function(k,O,F){return k||O||(k=-96,O=-96),k<0&&(k=-1*F.width*72/k/this.internal.scaleFactor),O<0&&(O=-1*F.height*72/O/this.internal.scaleFactor),k===0&&(k=O*F.width/F.height),O===0&&(O=k*F.height/F.width),[k,O]},v=function(k,O,F,H,Y,q){var Z=m.call(this,F,H,Y),W=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,te=u.call(this);if(F=Z[0],H=Z[1],te[Y.index]=Y,q){q*=Math.PI/180;var ue=Math.cos(q),R=Math.sin(q),$=function(ne){return ne.toFixed(4)},J=[$(ue),$(R),$(-1*R),$(ue),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,W(k),oe(O+H),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([W(F),"0","0",W(H),"0","0","cm"].join(" "))):this.internal.write([W(F),"0","0",W(H),W(k),oe(O+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(k){var O,F,H=0;if(typeof k=="string")for(F=k.length,O=0;O<F;O++)H=(H<<5)-H+k.charCodeAt(O),H|=0;else if(N(k))for(F=k.byteLength/2,O=0;O<F;O++)H=(H<<5)-H+k[O],H|=0;return H},C=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var O=!0;return k.length===0&&(O=!1),k.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(O=!1),O},E=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var O=k.indexOf(",");return O<0?null:k.substring(0,O).trim().endsWith("base64")?k.substring(O+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},_=t.__addimage__.binaryStringToUint8Array=function(k){for(var O=k.length,F=new Uint8Array(O),H=0;H<O;H++)F[H]=k.charCodeAt(H);return F},B=t.__addimage__.arrayBufferToBinaryString=function(k){for(var O="",F=N(k)?k:new Uint8Array(k),H=0;H<F.length;H+=8192)O+=String.fromCharCode.apply(null,F.subarray(H,H+8192));return O};t.addImage=function(){var k,O,F,H,Y,q,Z,W,oe;if(typeof arguments[1]=="number"?(O=n,F=arguments[1],H=arguments[2],Y=arguments[3],q=arguments[4],Z=arguments[5],W=arguments[6],oe=arguments[7]):(O=arguments[1],F=arguments[2],H=arguments[3],Y=arguments[4],q=arguments[5],Z=arguments[6],W=arguments[7],oe=arguments[8]),Vr(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var te=k;k=te.imageData,O=te.format||O||n,F=te.x||F||0,H=te.y||H||0,Y=te.w||te.width||Y,q=te.h||te.height||q,Z=te.alias||Z,W=te.compression||W,oe=te.rotation||te.angle||oe}var ue=this.internal.getFilters();if(W===void 0&&ue.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(F)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=j.call(this,k,O,Z,W);return v.call(this,F,H,Y,q,R,oe),this};var j=function(k,O,F,H){var Y,q,Z;if(typeof k=="string"&&i(k)===n){k=unescape(k);var W=D(k,!1);(W!==""||(W=t.loadFile(k,!0))!==void 0)&&(k=W)}if(f(k)&&(k=h(k,O)),O=i(k,O),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((Z=F)==null||Z.length===0)&&(F=function(oe){return typeof oe=="string"||N(oe)?b(oe):N(oe.data)?b(oe.data):null}(k)),(Y=p.call(this,F))||(k instanceof Uint8Array||O==="RGBA"||(q=k,k=_(k)),Y=this["process"+O.toUpperCase()](k,A.call(this),F,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:y.NONE}(H),q)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},D=t.__addimage__.convertBase64ToBinaryString=function(k,O){O=typeof O!="boolean"||O;var F,H="";if(typeof k=="string"){var Y;F=(Y=E(k))!==null&&Y!==void 0?Y:k;try{H=l2(F)}catch(q){if(O)throw C(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(k){var O,F,H="";if(f(k)&&(k=h(k)),typeof k=="string"&&i(k)===n&&((H=D(k,!1))===""&&(H=t.loadFile(k)||""),k=H),F=i(k),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(k instanceof Uint8Array||(k=_(k)),!(O=this["process"+F.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=F,O}})(pn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};pn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,A=!1,d=0;d<u.length&&!A;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(g(y))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var N=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+N+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var A=this.splitTextToSize(n,o).length;s=Math.ceil(u*A)}else o=l,s=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(pn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var A=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var v=0,g=n,y="",b=0;for(v=0;v<m.length;v+=1)g[m.charCodeAt(v)]!==void 0?(b++,typeof(g=g[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(g),g=n,b=0),v===m.length-1&&(g=n,y+=m.charAt(v-(b-1)),v-=b-1,b=0)):(g=n,y+=m.charAt(v-b),v-=b,b=0);return y};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(m,v,g){return s(m)?a(m)===!1?-1:!u(m)||!s(v)&&!s(g)||!s(g)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:A(m)&&s(v)&&!o(v)&&s(g)&&u(g)?3:o(m)||!s(g)?1:2:-1},h=function(m){var v=0,g=0,y=0,b="",C="",E="",N=(m=m||"").split("\\s+"),_=[];for(v=0;v<N.length;v+=1){for(_.push(""),g=0;g<N[v].length;g+=1)b=N[v][g],C=N[v][g-1],E=N[v][g+1],s(b)?(y=f(b,C,E),_[v]+=y!==-1?String.fromCharCode(e[b.charCodeAt(0)][y]):b):_[v]+=b;_[v]=d(_[v])}return _.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(v)){var y=0;for(g=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?g.push([h(v[y][0]),v[y][1],v[y][2]]):g.push([h(v[y])]);m=g}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(pn.API),pn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(pn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,C){return b.concat(v.splitTextToSize(C,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(m=this.getStringUnitWidth(l[y],{font:d})*A)&&(h=m);return h!==0&&(p=l.length),{w:h/=f,h:Math.max((p*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-A,l.y+A,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+A,{align:"center",baseline:"top",maxWidth:l.width-A-A}):this.text(l.text,l.x+A,l.y+A,{align:"left",baseline:"top",maxWidth:l.width-A-A})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,A,d,f){if(r.call(this),!A)throw new Error("No data for PDF table.");var h,p,m,v,g=[],y=[],b=[],C={},E={},N=[],_=[],B=(f=f||{}).autoSize||!1,j=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,k=f.margins||Object.assign({width:this.getPageWidth()},e),O=typeof f.padding=="number"?f.padding:3,F=f.headerBackgroundColor||"#c8c8c8",H=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=H,this.setFontSize(D),d==null)y=g=Object.keys(A[0]),b=g.map(function(){return"left"});else if(Array.isArray(d)&&Vr(d[0])==="object")for(g=d.map(function(te){return te.name}),y=d.map(function(te){return te.prompt||te.name||""}),b=d.map(function(te){return te.align||"left"}),h=0;h<d.length;h+=1)E[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(y=g=d,b=g.map(function(){return"left"}));if(B||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<g.length;h+=1){for(C[v=g[h]]=A.map(function(te){return te[v]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=C[v],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)N.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,N)+O+O,N=[]}if(j){var Y={};for(h=0;h<g.length;h+=1)Y[g[h]]={},Y[g[h]].text=y[h],Y[g[h]].align=b[h];var q=o.call(this,Y,E);_=g.map(function(te){return new a(l,u,E[te],q,Y[te].text,void 0,Y[te].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var Z=d.reduce(function(te,ue){return te[ue.name]=ue.align,te},{});for(h=0;h<A.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:A[h]},this);var W=o.call(this,A[h],E);for(m=0;m<g.length;m+=1){var oe=A[h][g[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:oe},this),s.call(this,new a(l,u,E[g[m]],W,oe,h+2,Z[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var A=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-A-A)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+A+A},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){A=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,f.push(A)),A.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,A),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(pn.API);var jne={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Tne=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sk=Nne(Tne),Ine=[100,200,300,400,500,600,700,800,900],SKe=Nne(Ine);function jN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return jne[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof sk[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function wz(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var EKe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cz={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sz(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Ez(t){return t.trimLeft()}function _Ke(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function BKe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Y1,_z,Bz,Lp,X1,Nz,jz,Tz,TN=["times"];function Iz(t,e,n,r,i){var a=4,s=Pz;switch(i){case pn.API.image_compression.FAST:a=1,s=kz;break;case pn.API.image_compression.MEDIUM:a=6,s=Dz;break;case pn.API.image_compression.SLOW:a=9,s=Oz}t=function(l,u,A,d){for(var f,h=l.length/u,p=new Uint8Array(l.length+h),m=[NKe,kz,Pz,Dz,Oz],v=0;v<h;v+=1){var g=v*u,y=l.subarray(g,g+u);if(d)p.set(d(y,A,f),g+v);else{for(var b=m.length,C=[],E=0;E<b;E+=1)C[E]=m[E](y,A,f);var N=TKe(C.concat());p.set(C[N],g+v)}f=y}return p}(t,e,Math.ceil(n*r/8),s);var o=ZI(t,{level:a});return pn.API.__addimage__.arrayBufferToBinaryString(o)}function NKe(t){var e=Array.apply([],t);return e.unshift(0),e}function kz(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function Pz(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function Dz(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function Oz(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=jKe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function jKe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function TKe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function IN(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return kne(t,i)>>a&s}function Fz(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(u,A,d){if(A+1<u.byteLength)u.setUint16(A,d,!1);else{var f=d>>8&255;u.setUint8(A,f)}})(t,a,kne(t,a)&~(o<<s)&65535|l)}function kne(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function IKe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var u=!0,A=[],d=0,f=null,h=0,p=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],1&m||(f=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,C=t[e++],E=C>>6&1,N=1<<1+(7&C),_=o,B=l,j=!1;C>>7&&(j=!0,_=e,B=N,e+=3*N);var D=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}A.push({x:v,y:g,width:y,height:b,has_local_palette:j,palette_offset:_,palette_size:B,data_offset:D,data_length:e-D,transparent_index:f,interlaced:!!E,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return p},this.frameInfo=function(O){if(O<0||O>=A.length)throw new Error("Frame index out of range.");return A[O]},this.decodeAndBlitFrameBGRA=function(O,F){var H=this.frameInfo(O),Y=H.width*H.height,q=new Uint8Array(Y);Mz(t,H.data_offset,q,Y);var Z=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var oe=H.width,te=n-oe,ue=oe,R=4*(H.y*n+H.x),$=4*((H.y+H.height)*n+H.x),J=R,ne=4*te;H.interlaced===!0&&(ne+=4*n*7);for(var he=8,Se=0,we=q.length;Se<we;++Se){var re=q[Se];if(ue===0&&(ue=oe,(J+=ne)>=$&&(ne=4*te+4*n*(he-1),J=R+(oe+te)*(he<<1),he>>=1)),re===W)J+=4;else{var pe=t[Z+3*re],xe=t[Z+3*re+1],Ae=t[Z+3*re+2];F[J++]=Ae,F[J++]=xe,F[J++]=pe,F[J++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(O,F){var H=this.frameInfo(O),Y=H.width*H.height,q=new Uint8Array(Y);Mz(t,H.data_offset,q,Y);var Z=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var oe=H.width,te=n-oe,ue=oe,R=4*(H.y*n+H.x),$=4*((H.y+H.height)*n+H.x),J=R,ne=4*te;H.interlaced===!0&&(ne+=4*n*7);for(var he=8,Se=0,we=q.length;Se<we;++Se){var re=q[Se];if(ue===0&&(ue=oe,(J+=ne)>=$&&(ne=4*te+4*n*(he-1),J=R+(oe+te)*(he<<1),he>>=1)),re===W)J+=4;else{var pe=t[Z+3*re],xe=t[Z+3*re+1],Ae=t[Z+3*re+2];F[J++]=pe,F[J++]=xe,F[J++]=Ae,F[J++]=255}--ue}}}function Mz(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,A=0,d=0,f=0,h=t[e++],p=new Int32Array(4096),m=null;;){for(;A<16&&h!==0;)d|=t[e++]<<A,A+=8,h===1?h=t[e++]:--h;if(A<l)break;var v=d&u;if(d>>=l,A-=l,v!==a){if(v===s)break;for(var g=v<o?v:m,y=0,b=g;b>a;)b=p[b]>>8,++y;var C=b;if(f+y+(g!==v?1:0)>r)return void ni.log("Warning, gif stream longer than expected.");n[f++]=C;var E=f+=y;for(g!==v&&(n[f++]=C),b=g;y--;)b=p[b],n[--E]=255&b,b>>=8;m!==null&&o<4096&&(p[o++]=m<<8|C,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=v}else o=s+1,u=(1<<(l=i+1))-1,m=null}return f!==r&&ni.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kN(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),A=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),m=[],v=0,g=7,y=new Array(64),b=new Array(64),C=new Array(64),E=new Array(256),N=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(R,$){for(var J=0,ne=0,he=new Array,Se=1;Se<=16;Se++){for(var we=1;we<=R[Se];we++)he[$[ne]]=[],he[$[ne]][0]=J,he[$[ne]][1]=Se,ne++,J++;J*=2}return he}function Z(R){for(var $=R[0],J=R[1]-1;J>=0;)$&1<<J&&(v|=1<<g),J--,--g<0&&(v==255?(W(255),W(0)):W(v),g=7,v=0)}function W(R){m.push(R)}function oe(R){W(R>>8&255),W(255&R)}function te(R,$,J,ne,he){for(var Se,we=he[0],re=he[240],pe=function(rt,Et){var gt,$t,Mt,bt,wt,Tt,Xt,ot,vt,xt,Lt=0;for(vt=0;vt<8;++vt){gt=rt[Lt],$t=rt[Lt+1],Mt=rt[Lt+2],bt=rt[Lt+3],wt=rt[Lt+4],Tt=rt[Lt+5],Xt=rt[Lt+6];var hn=gt+(ot=rt[Lt+7]),Cn=gt-ot,zt=$t+Xt,Jt=$t-Xt,St=Mt+Tt,Kt=Mt-Tt,ke=bt+wt,et=bt-wt,Je=hn+ke,Ln=hn-ke,nn=zt+St,Qt=zt-St;rt[Lt]=Je+nn,rt[Lt+4]=Je-nn;var bn=.707106781*(Qt+Ln);rt[Lt+2]=Ln+bn,rt[Lt+6]=Ln-bn;var mi=.382683433*((Je=et+Kt)-(Qt=Jt+Cn)),cr=.5411961*Je+mi,ta=1.306562965*Qt+mi,Me=.707106781*(nn=Kt+Jt),Oe=Cn+Me,Ge=Cn-Me;rt[Lt+5]=Ge+cr,rt[Lt+3]=Ge-cr,rt[Lt+1]=Oe+ta,rt[Lt+7]=Oe-ta,Lt+=8}for(Lt=0,vt=0;vt<8;++vt){gt=rt[Lt],$t=rt[Lt+8],Mt=rt[Lt+16],bt=rt[Lt+24],wt=rt[Lt+32],Tt=rt[Lt+40],Xt=rt[Lt+48];var _t=gt+(ot=rt[Lt+56]),At=gt-ot,Yt=$t+Xt,yn=$t-Xt,Yn=Mt+Tt,Ut=Mt-Tt,mn=bt+wt,Xr=bt-wt,vr=_t+mn,Or=_t-mn,yr=Yt+Yn,Zn=Yt-Yn;rt[Lt]=vr+yr,rt[Lt+32]=vr-yr;var br=.707106781*(Zn+Or);rt[Lt+16]=Or+br,rt[Lt+48]=Or-br;var Jr=.382683433*((vr=Xr+Ut)-(Zn=yn+At)),xa=.5411961*vr+Jr,Mi=1.306562965*Zn+Jr,Jo=.707106781*(yr=Ut+yn),Zo=At+Jo,Ir=At-Jo;rt[Lt+40]=Ir+xa,rt[Lt+24]=Ir-xa,rt[Lt+8]=Zo+Mi,rt[Lt+56]=Zo-Mi,Lt++}for(vt=0;vt<64;++vt)xt=rt[vt]*Et[vt],h[vt]=xt>0?xt+.5|0:xt-.5|0;return h}(R,$),xe=0;xe<64;++xe)p[_[xe]]=pe[xe];var Ae=p[0]-J;J=p[0],Ae==0?Z(ne[0]):(Z(ne[f[Se=32767+Ae]]),Z(d[Se]));for(var He=63;He>0&&p[He]==0;)He--;if(He==0)return Z(we),J;for(var Ie,fe=1;fe<=He;){for(var $e=fe;p[fe]==0&&fe<=He;)++fe;var mt=fe-$e;if(mt>=16){Ie=mt>>4;for(var pt=1;pt<=Ie;++pt)Z(re);mt&=15}Se=32767+p[fe],Z(he[(mt<<4)+f[Se]]),Z(d[Se]),fe++}return He!=63&&Z(we),J}function ue(R){R=Math.min(Math.max(R,1),100),a!=R&&(function($){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var he=s((J[ne]*$+50)/100);he=Math.min(Math.max(he,1),255),o[_[ne]]=he}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var re=s((Se[we]*$+50)/100);re=Math.min(Math.max(re,1),255),l[_[we]]=re}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,Ae=0;Ae<8;Ae++)for(var He=0;He<8;He++)u[xe]=1/(o[_[xe]]*pe[Ae]*pe[He]*8),A[xe]=1/(l[_[xe]]*pe[Ae]*pe[He]*8),xe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,$){$&&ue($),m=new Array,v=0,g=7,oe(65496),oe(65504),oe(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),oe(1),oe(1),W(0),W(0),function(){oe(65499),oe(132),W(0);for(var $t=0;$t<64;$t++)W(o[$t]);W(1);for(var Mt=0;Mt<64;Mt++)W(l[Mt])}(),function($t,Mt){oe(65472),oe(17),W(8),oe(Mt),oe($t),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(R.width,R.height),function(){oe(65476),oe(418),W(0);for(var $t=0;$t<16;$t++)W(B[$t+1]);for(var Mt=0;Mt<=11;Mt++)W(j[Mt]);W(16);for(var bt=0;bt<16;bt++)W(D[bt+1]);for(var wt=0;wt<=161;wt++)W(k[wt]);W(1);for(var Tt=0;Tt<16;Tt++)W(O[Tt+1]);for(var Xt=0;Xt<=11;Xt++)W(F[Xt]);W(17);for(var ot=0;ot<16;ot++)W(H[ot+1]);for(var vt=0;vt<=161;vt++)W(Y[vt])}(),oe(65498),oe(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var J=0,ne=0,he=0;v=0,g=7,this.encode.displayName="_encode_";for(var Se,we,re,pe,xe,Ae,He,Ie,fe,$e=R.data,mt=R.width,pt=R.height,rt=4*mt,Et=0;Et<pt;){for(Se=0;Se<rt;){for(xe=rt*Et+Se,He=-1,Ie=0,fe=0;fe<64;fe++)Ae=xe+(Ie=fe>>3)*rt+(He=4*(7&fe)),Et+Ie>=pt&&(Ae-=rt*(Et+1+Ie-pt)),Se+He>=rt&&(Ae-=Se+He-rt+4),we=$e[Ae++],re=$e[Ae++],pe=$e[Ae++],y[fe]=(N[we]+N[re+256|0]+N[pe+512|0]>>16)-128,b[fe]=(N[we+768|0]+N[re+1024|0]+N[pe+1280|0]>>16)-128,C[fe]=(N[we+1280|0]+N[re+1536|0]+N[pe+1792|0]>>16)-128;J=te(y,u,J,e,r),ne=te(b,A,ne,n,i),he=te(C,A,he,n,i),Se+=32}Et+=8}if(g>=0){var gt=[];gt[1]=g+1,gt[0]=(1<<g+1)-1,Z(gt)}return oe(65497),new Uint8Array(m)},t=t||50,function(){for(var R=String.fromCharCode,$=0;$<256;$++)E[$]=R($)}(),e=q(B,j),n=q(O,F),r=q(D,k),i=q(H,Y),function(){for(var R=1,$=2,J=1;J<=15;J++){for(var ne=R;ne<$;ne++)f[32767+ne]=J,d[32767+ne]=[],d[32767+ne][1]=J,d[32767+ne][0]=ne;for(var he=-($-1);he<=-R;he++)f[32767+he]=J,d[32767+he]=[],d[32767+he][1]=J,d[32767+he][0]=$-1+he;R<<=1,$<<=1}}(),function(){for(var R=0;R<256;R++)N[R]=19595*R,N[R+256|0]=38470*R,N[R+512|0]=7471*R+32768,N[R+768|0]=-11059*R,N[R+1024|0]=-21709*R,N[R+1280|0]=32768*R+8421375,N[R+1536|0]=-27439*R,N[R+1792|0]=-5329*R}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lz(t){function e(j){if(!j)throw Error("assert :P")}function n(j,D,k){for(var O=0;4>O;O++)if(j[D+O]!=k.charCodeAt(O))return!0;return!1}function r(j,D,k,O,F){for(var H=0;H<F;H++)j[D+H]=k[O+H]}function i(j,D,k,O){for(var F=0;F<O;F++)j[D+F]=k}function a(j){return new Int32Array(j)}function s(j,D){for(var k=[],O=0;O<j;O++)k.push(new D);return k}function o(j,D){var k=[];return function O(F,H,Y){for(var q=Y[H],Z=0;Z<q&&(F.push(Y.length>H+1?[]:new D),!(Y.length<H+1));Z++)O(F[Z],H+1,Y)}(k,0,j),k}var l=function(){var j=this;function D(x,T){for(var L=1<<T-1>>>0;x&L;)L>>>=1;return L?(x&L-1)+L:x}function k(x,T,L,z,ee){e(!(z%L));do x[T+(z-=L)]=ee;while(0<z)}function O(x,T,L,z,ee){if(e(2328>=ee),512>=ee)var ae=a(512);else if((ae=a(ee))==null)return 0;return function(se,le,de,ve,De,qe){var ye,Re,Ke=le,st=1<<de,We=a(16),ut=a(16);for(e(De!=0),e(ve!=null),e(se!=null),e(0<de),Re=0;Re<De;++Re){if(15<ve[Re])return 0;++We[ve[Re]]}if(We[0]==De)return 0;for(ut[1]=0,ye=1;15>ye;++ye){if(We[ye]>1<<ye)return 0;ut[ye+1]=ut[ye]+We[ye]}for(Re=0;Re<De;++Re)ye=ve[Re],0<ve[Re]&&(qe[ut[ye]++]=Re);if(ut[15]==1)return(ve=new F).g=0,ve.value=qe[0],k(se,Ke,1,st,ve),st;var ft,jt=-1,Ct=st-1,gn=0,ln=1,Wn=1,An=1<<de;for(Re=0,ye=1,De=2;ye<=de;++ye,De<<=1){if(ln+=Wn<<=1,0>(Wn-=We[ye]))return 0;for(;0<We[ye];--We[ye])(ve=new F).g=ye,ve.value=qe[Re++],k(se,Ke+gn,De,An,ve),gn=D(gn,ye)}for(ye=de+1,De=2;15>=ye;++ye,De<<=1){if(ln+=Wn<<=1,0>(Wn-=We[ye]))return 0;for(;0<We[ye];--We[ye]){if(ve=new F,(gn&Ct)!=jt){for(Ke+=An,ft=1<<(jt=ye)-de;15>jt&&!(0>=(ft-=We[jt]));)++jt,ft<<=1;st+=An=1<<(ft=jt-de),se[le+(jt=gn&Ct)].g=ft+de,se[le+jt].value=Ke-le-jt}ve.g=ye-de,ve.value=qe[Re++],k(se,Ke+(gn>>de),De,An,ve),gn=D(gn,ye)}}return ln!=2*ut[15]-1?0:st}(x,T,L,z,ee,ae)}function F(){this.value=this.g=0}function H(){this.value=this.g=0}function Y(){this.G=s(5,F),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ps,H)}function q(x,T,L,z){e(x!=null),e(T!=null),e(2147483648>z),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=T,x.pa=L,x.Jd=T,x.Yc=L+z,x.Zc=4<=z?L+z-4+1:L,we(x)}function Z(x,T){for(var L=0;0<T--;)L|=pe(x,128)<<T;return L}function W(x,T){var L=Z(x,T);return re(x)?-L:L}function oe(x,T,L,z){var ee,ae=0;for(e(x!=null),e(T!=null),e(4294967288>z),x.Sb=z,x.Ra=0,x.u=0,x.h=0,4<z&&(z=4),ee=0;ee<z;++ee)ae+=T[L+ee]<<8*ee;x.Ra=ae,x.bb=z,x.oa=T,x.pa=L}function te(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<sa-8>>>0,++x.bb,x.u-=8;ne(x)&&(x.h=1,x.u=0)}function ue(x,T){if(e(0<=T),!x.h&&T<=es){var L=J(x)&ur[T];return x.u+=T,te(x),L}return x.h=1,x.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(x){return x.Ra>>>(x.u&sa-1)>>>0}function ne(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>sa}function he(x,T){x.u=T,x.h=ne(x)}function Se(x){x.u>=Oc&&(e(x.u>=Oc),te(x))}function we(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function re(x){return Z(x,1)}function pe(x,T){var L=x.Ca;0>x.b&&we(x);var z=x.b,ee=L*T>>>8,ae=(x.I>>>z>ee)+0;for(ae?(L-=ee,x.I-=ee+1<<z>>>0):L=ee+1,z=L,ee=0;256<=z;)ee+=8,z>>=8;return z=7^ee+Yl[z],x.b-=z,x.Ca=(L<<z)-1,ae}function xe(x,T,L){x[T+0]=L>>24&255,x[T+1]=L>>16&255,x[T+2]=L>>8&255,x[T+3]=255&L}function Ae(x,T){return x[T+0]|x[T+1]<<8}function He(x,T){return Ae(x,T)|x[T+2]<<16}function Ie(x,T){return Ae(x,T)|Ae(x,T+2)<<16}function fe(x,T){var L=1<<T;return e(x!=null),e(0<T),x.X=a(L),x.X==null?0:(x.Mb=32-T,x.Xa=T,1)}function $e(x,T){e(x!=null),e(T!=null),e(x.Xa==T.Xa),r(T.X,0,x.X,0,1<<T.Xa)}function mt(){this.X=[],this.Xa=this.Mb=0}function pt(x,T,L,z){e(L!=null),e(z!=null);var ee=L[0],ae=z[0];return ee==0&&(ee=(x*ae+T/2)/T),ae==0&&(ae=(T*ee+x/2)/x),0>=ee||0>=ae?0:(L[0]=ee,z[0]=ae,1)}function rt(x,T){return x+(1<<T)-1>>>T}function Et(x,T){return((4278255360&x)+(4278255360&T)>>>0&4278255360)+((16711935&x)+(16711935&T)>>>0&16711935)>>>0}function gt(x,T){j[T]=function(L,z,ee,ae,se,le,de){var ve;for(ve=0;ve<se;++ve){var De=j[x](le[de+ve-1],ee,ae+ve);le[de+ve]=Et(L[z+ve],De)}}}function $t(){this.ud=this.hd=this.jd=0}function Mt(x,T){return((4278124286&(x^T))>>>1)+(x&T)>>>0}function bt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function wt(x,T){return bt(x+(x-T+.5>>1))}function Tt(x,T,L){return Math.abs(T-L)-Math.abs(x-L)}function Xt(x,T,L,z,ee,ae,se){for(z=ae[se-1],L=0;L<ee;++L)ae[se+L]=z=Et(x[T+L],z)}function ot(x,T,L,z,ee){var ae;for(ae=0;ae<L;++ae){var se=x[T+ae],le=se>>8&255,de=16711935&(de=(de=16711935&se)+((le<<16)+le));z[ee+ae]=(4278255360&se)+de>>>0}}function vt(x,T){T.jd=255&x,T.hd=x>>8&255,T.ud=x>>16&255}function xt(x,T,L,z,ee,ae){var se;for(se=0;se<z;++se){var le=T[L+se],de=le>>>8,ve=le,De=255&(De=(De=le>>>16)+((x.jd<<24>>24)*(de<<24>>24)>>>5));ve=255&(ve=(ve+=(x.hd<<24>>24)*(de<<24>>24)>>>5)+((x.ud<<24>>24)*(De<<24>>24)>>>5)),ee[ae+se]=(4278255360&le)+(De<<16)+ve}}function Lt(x,T,L,z,ee){j[T]=function(ae,se,le,de,ve,De,qe,ye,Re){for(de=qe;de<ye;++de)for(qe=0;qe<Re;++qe)ve[De++]=ee(le[z(ae[se++])])},j[x]=function(ae,se,le,de,ve,De,qe){var ye=8>>ae.b,Re=ae.Ea,Ke=ae.K[0],st=ae.w;if(8>ye)for(ae=(1<<ae.b)-1,st=(1<<ye)-1;se<le;++se){var We,ut=0;for(We=0;We<Re;++We)We&ae||(ut=z(de[ve++])),De[qe++]=ee(Ke[ut&st]),ut>>=ye}else j["VP8LMapColor"+L](de,ve,Ke,st,De,qe,se,le,Re)}}function hn(x,T,L,z,ee){for(L=T+L;T<L;){var ae=x[T++];z[ee++]=ae>>16&255,z[ee++]=ae>>8&255,z[ee++]=255&ae}}function Cn(x,T,L,z,ee){for(L=T+L;T<L;){var ae=x[T++];z[ee++]=ae>>16&255,z[ee++]=ae>>8&255,z[ee++]=255&ae,z[ee++]=ae>>24&255}}function zt(x,T,L,z,ee){for(L=T+L;T<L;){var ae=(se=x[T++])>>16&240|se>>12&15,se=240&se|se>>28&15;z[ee++]=ae,z[ee++]=se}}function Jt(x,T,L,z,ee){for(L=T+L;T<L;){var ae=(se=x[T++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;z[ee++]=ae,z[ee++]=se}}function St(x,T,L,z,ee){for(L=T+L;T<L;){var ae=x[T++];z[ee++]=255&ae,z[ee++]=ae>>8&255,z[ee++]=ae>>16&255}}function Kt(x,T,L,z,ee,ae){if(ae==0)for(L=T+L;T<L;)xe(z,((ae=x[T++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),ee+=32;else r(z,ee,x,T,L)}function ke(x,T){j[T][0]=j[x+"0"],j[T][1]=j[x+"1"],j[T][2]=j[x+"2"],j[T][3]=j[x+"3"],j[T][4]=j[x+"4"],j[T][5]=j[x+"5"],j[T][6]=j[x+"6"],j[T][7]=j[x+"7"],j[T][8]=j[x+"8"],j[T][9]=j[x+"9"],j[T][10]=j[x+"10"],j[T][11]=j[x+"11"],j[T][12]=j[x+"12"],j[T][13]=j[x+"13"],j[T][14]=j[x+"0"],j[T][15]=j[x+"0"]}function et(x){return x==m_||x==g_||x==$x||x==v_}function Je(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new Ln,this.sd=null}function Qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mi(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function cr(x,T){var L=x.T,z=T.ba.f.RGBA,ee=z.eb,ae=z.fb+x.ka*z.A,se=Xl[T.ba.S],le=x.y,de=x.O,ve=x.f,De=x.N,qe=x.ea,ye=x.W,Re=T.cc,Ke=T.dc,st=T.Mc,We=T.Nc,ut=x.ka,ft=x.ka+x.T,jt=x.U,Ct=jt+1>>1;for(ut==0?se(le,de,null,null,ve,De,qe,ye,ve,De,qe,ye,ee,ae,null,null,jt):(se(T.ec,T.fc,le,de,Re,Ke,st,We,ve,De,qe,ye,ee,ae-z.A,ee,ae,jt),++L);ut+2<ft;ut+=2)Re=ve,Ke=De,st=qe,We=ye,De+=x.Rc,ye+=x.Rc,ae+=2*z.A,se(le,(de+=2*x.fa)-x.fa,le,de,Re,Ke,st,We,ve,De,qe,ye,ee,ae-z.A,ee,ae,jt);return de+=x.fa,x.j+ft<x.o?(r(T.ec,T.fc,le,de,jt),r(T.cc,T.dc,ve,De,Ct),r(T.Mc,T.Nc,qe,ye,Ct),L--):1&ft||se(le,de,null,null,ve,De,qe,ye,ve,De,qe,ye,ee,ae+z.A,null,null,jt),L}function ta(x,T,L){var z=x.F,ee=[x.J];if(z!=null){var ae=x.U,se=T.ba.S,le=se==Vx||se==$x;T=T.ba.f.RGBA;var de=[0],ve=x.ka;de[0]=x.T,x.Kb&&(ve==0?--de[0]:(--ve,ee[0]-=x.width),x.j+x.ka+x.T==x.o&&(de[0]=x.o-x.j-ve));var De=T.eb;ve=T.fb+ve*T.A,x=Fn(z,ee[0],x.width,ae,de,De,ve+(le?0:3),T.A),e(L==de),x&&et(se)&&Rt(De,ve,le,ae,de,T.A)}return 0}function Me(x){var T=x.ma,L=T.ba.S,z=11>L,ee=L==Hx||L==zx||L==Vx||L==p_||L==12||et(L);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Of(T.Oa,x,ee?11:12))return 0;if(ee&&et(L)&&wu(),x.da)alert("todo:use_scaling");else{if(z){if(T.Ib=mi,x.Kb){if(L=x.U+1>>1,T.memory=a(x.U+2*L),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+x.U,T.Mc=T.cc,T.Nc=T.dc+L,T.Ib=cr,wu()}}else alert("todo:EmitYUV");ee&&(T.Jb=ta,z&&kr())}if(z&&!JF){for(x=0;256>x;++x)use[x]=89858*(x-128)+Wx>>Kx,fse[x]=-22014*(x-128)+Wx,dse[x]=-45773*(x-128),Ase[x]=113618*(x-128)+Wx>>Kx;for(x=P0;x<x_;++x)T=76283*(x-16)+Wx>>Kx,hse[x-P0]=Kn(T,255),pse[x-P0]=Kn(T+8>>4,15);JF=1}return 1}function Oe(x){var T=x.ma,L=x.U,z=x.T;return e(!(1&x.ka)),0>=L||0>=z?0:(L=T.Ib(x,T),T.Jb!=null&&T.Jb(x,T,L),T.Dc+=L,1)}function Ge(x){x.ma.memory=null}function _t(x,T,L,z){return ue(x,8)!=47?0:(T[0]=ue(x,14)+1,L[0]=ue(x,14)+1,z[0]=ue(x,1),ue(x,3)!=0?0:!x.h)}function At(x,T){if(4>x)return x+1;var L=x-2>>1;return(2+(1&x)<<L)+ue(T,L)+1}function Yt(x,T){return 120<T?T-120:1<=(L=((L=Yae[T-1])>>4)*x+(8-(15&L)))?L:1;var L}function yn(x,T,L){var z=J(L),ee=x[T+=255&z].g-8;return 0<ee&&(he(L,L.u+8),z=J(L),T+=x[T].value,T+=z&(1<<ee)-1),he(L,L.u+x[T].g),x[T].value}function Yn(x,T,L){return L.g+=x.g,L.value+=x.value<<T>>>0,e(8>=L.g),x.g}function Ut(x,T,L){var z=x.xc;return e((T=z==0?0:x.vc[x.md*(L>>z)+(T>>z)])<x.Wb),x.Ya[T]}function mn(x,T,L,z){var ee=x.ab,ae=x.c*T,se=x.C;T=se+T;var le=L,de=z;for(z=x.Ta,L=x.Ua;0<ee--;){var ve=x.gc[ee],De=se,qe=T,ye=le,Re=de,Ke=(de=z,le=L,ve.Ea);switch(e(De<qe),e(qe<=ve.nc),ve.hc){case 2:gi(ye,Re,(qe-De)*Ke,de,le);break;case 0:var st=De,We=qe,ut=de,ft=le,jt=(An=ve).Ea;st==0&&(ad(ye,Re,null,null,1,ut,ft),Xt(ye,Re+1,0,0,jt-1,ut,ft+1),Re+=jt,ft+=jt,++st);for(var Ct=1<<An.b,gn=Ct-1,ln=rt(jt,An.b),Wn=An.K,An=An.w+(st>>An.b)*ln;st<We;){var Ar=Wn,Ua=An,Gn=1;for(No(ye,Re,ut,ft-jt,1,ut,ft);Gn<jt;){var dn=(Gn&~gn)+Ct;dn>jt&&(dn=jt),(0,I[Ar[Ua++]>>8&15])(ye,Re+ +Gn,ut,ft+Gn-jt,dn-Gn,ut,ft+Gn),Gn=dn}Re+=jt,ft+=jt,++st&gn||(An+=ln)}qe!=ve.nc&&r(de,le-Ke,de,le+(qe-De-1)*Ke,Ke);break;case 1:for(Ke=ye,We=Re,jt=(ye=ve.Ea)-(ft=ye&~(ut=(Re=1<<ve.b)-1)),st=rt(ye,ve.b),Ct=ve.K,ve=ve.w+(De>>ve.b)*st;De<qe;){for(gn=Ct,ln=ve,Wn=new $t,An=We+ft,Ar=We+ye;We<An;)vt(gn[ln++],Wn),U(Wn,Ke,We,Re,de,le),We+=Re,le+=Re;We<Ar&&(vt(gn[ln++],Wn),U(Wn,Ke,We,jt,de,le),We+=jt,le+=jt),++De&ut||(ve+=st)}break;case 3:if(ye==de&&Re==le&&0<ve.b){for(We=de,ye=Ke=le+(qe-De)*Ke-(ft=(qe-De)*rt(ve.Ea,ve.b)),Re=de,ut=le,st=[],ft=(jt=ft)-1;0<=ft;--ft)st[ft]=Re[ut+ft];for(ft=jt-1;0<=ft;--ft)We[ye+ft]=st[ft];Fc(ve,De,qe,de,Ke,de,le)}else Fc(ve,De,qe,ye,Re,de,le)}le=z,de=L}de!=L&&r(z,L,le,de,ae)}function Xr(x,T){var L=x.V,z=x.Ba+x.c*x.C,ee=T-x.C;if(e(T<=x.l.o),e(16>=ee),0<ee){var ae=x.l,se=x.Ta,le=x.Ua,de=ae.width;if(mn(x,ee,L,z),ee=le=[le],e((L=x.C)<(z=T)),e(ae.v<ae.va),z>ae.o&&(z=ae.o),L<ae.j){var ve=ae.j-L;L=ae.j,ee[0]+=ve*de}if(L>=z?L=0:(ee[0]+=4*ae.v,ae.ka=L-ae.j,ae.U=ae.va-ae.v,ae.T=z-L,L=1),L){if(le=le[0],11>(L=x.ca).S){var De=L.f.RGBA,qe=(z=L.S,ee=ae.U,ae=ae.T,ve=De.eb,De.A),ye=ae;for(De=De.fb+x.Ma*De.A;0<ye--;){var Re=se,Ke=le,st=ee,We=ve,ut=De;switch(z){case Qx:V(Re,Ke,st,We,ut);break;case Hx:G(Re,Ke,st,We,ut);break;case m_:G(Re,Ke,st,We,ut),Rt(We,ut,0,st,1,0);break;case zF:Ce(Re,Ke,st,We,ut);break;case zx:Kt(Re,Ke,st,We,ut,1);break;case g_:Kt(Re,Ke,st,We,ut,1),Rt(We,ut,0,st,1,0);break;case Vx:Kt(Re,Ke,st,We,ut,0);break;case $x:Kt(Re,Ke,st,We,ut,0),Rt(We,ut,1,st,1,0);break;case p_:ie(Re,Ke,st,We,ut);break;case v_:ie(Re,Ke,st,We,ut),Wt(We,ut,st,1,0);break;case VF:me(Re,Ke,st,We,ut);break;default:e(0)}le+=de,De+=qe}x.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=L.height)}}x.C=T,e(x.C<=x.i)}function vr(x){var T;if(0<x.ua)return 0;for(T=0;T<x.Wb;++T){var L=x.Ya[T].G,z=x.Ya[T].H;if(0<L[1][z[1]+0].g||0<L[2][z[2]+0].g||0<L[3][z[3]+0].g)return 0}return 1}function Or(x,T,L,z,ee,ae){if(x.Z!=0){var se=x.qd,le=x.rd;for(e(ld[x.Z]!=null);T<L;++T)ld[x.Z](se,le,z,ee,z,ee,ae),se=z,le=ee,ee+=ae;x.qd=se,x.rd=le}}function yr(x,T){var L=x.l.ma,z=L.Z==0||L.Z==1?x.l.j:x.C;if(z=x.C<z?z:x.C,e(T<=x.l.o),T>z){var ee=x.l.width,ae=L.ca,se=L.tb+ee*z,le=x.V,de=x.Ba+x.c*z,ve=x.gc;e(x.ab==1),e(ve[0].hc==3),ul(ve[0],z,T,le,de,ae,se),Or(L,z,T,ae,se,ee)}x.C=x.Ma=T}function Zn(x,T,L,z,ee,ae,se){var le=x.$/z,de=x.$%z,ve=x.m,De=x.s,qe=L+x.$,ye=qe;ee=L+z*ee;var Re=L+z*ae,Ke=280+De.ua,st=x.Pb?le:16777216,We=0<De.ua?De.Wa:null,ut=De.wc,ft=qe<Re?Ut(De,de,le):null;e(x.C<ae),e(Re<=ee);var jt=!1;e:for(;;){for(;jt||qe<Re;){var Ct=0;if(le>=st){var gn=qe-L;e((st=x).Pb),st.wd=st.m,st.xd=gn,0<st.s.ua&&$e(st.s.Wa,st.s.vb),st=le+Jae}if(de&ut||(ft=Ut(De,de,le)),e(ft!=null),ft.Qb&&(T[qe]=ft.qb,jt=!0),!jt)if(Se(ve),ft.jc){Ct=ve,gn=T;var ln=qe,Wn=ft.pd[J(Ct)&ps-1];e(ft.jc),256>Wn.g?(he(Ct,Ct.u+Wn.g),gn[ln]=Wn.value,Ct=0):(he(Ct,Ct.u+Wn.g-256),e(256<=Wn.value),Ct=Wn.value),Ct==0&&(jt=!0)}else Ct=yn(ft.G[0],ft.H[0],ve);if(ve.h)break;if(jt||256>Ct){if(!jt)if(ft.nd)T[qe]=(ft.qb|Ct<<8)>>>0;else{if(Se(ve),jt=yn(ft.G[1],ft.H[1],ve),Se(ve),gn=yn(ft.G[2],ft.H[2],ve),ln=yn(ft.G[3],ft.H[3],ve),ve.h)break;T[qe]=(ln<<24|jt<<16|Ct<<8|gn)>>>0}if(jt=!1,++qe,++de>=z&&(de=0,++le,se!=null&&le<=ae&&!(le%16)&&se(x,le),We!=null))for(;ye<qe;)Ct=T[ye++],We.X[(506832829*Ct&4294967295)>>>We.Mb]=Ct}else if(280>Ct){if(Ct=At(Ct-256,ve),gn=yn(ft.G[4],ft.H[4],ve),Se(ve),gn=Yt(z,gn=At(gn,ve)),ve.h)break;if(qe-L<gn||ee-qe<Ct)break e;for(ln=0;ln<Ct;++ln)T[qe+ln]=T[qe+ln-gn];for(qe+=Ct,de+=Ct;de>=z;)de-=z,++le,se!=null&&le<=ae&&!(le%16)&&se(x,le);if(e(qe<=ee),de&ut&&(ft=Ut(De,de,le)),We!=null)for(;ye<qe;)Ct=T[ye++],We.X[(506832829*Ct&4294967295)>>>We.Mb]=Ct}else{if(!(Ct<Ke))break e;for(jt=Ct-280,e(We!=null);ye<qe;)Ct=T[ye++],We.X[(506832829*Ct&4294967295)>>>We.Mb]=Ct;Ct=qe,e(!(jt>>>(gn=We).Xa)),T[Ct]=gn.X[jt],jt=!0}jt||e(ve.h==ne(ve))}if(x.Pb&&ve.h&&qe<ee)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&$e(x.s.vb,x.s.Wa);else{if(ve.h)break e;se!=null&&se(x,le>ae?ae:le),x.a=0,x.$=qe-L}return 1}return x.a=3,0}function br(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var T=x.Wa;T!=null&&(T.X=null),x.vb=null,e(x!=null)}function Jr(){var x=new tn;return x==null?null:(x.a=0,x.xb=WF,ke("Predictor","VP8LPredictors"),ke("Predictor","VP8LPredictors_C"),ke("PredictorAdd","VP8LPredictorsAdd"),ke("PredictorAdd","VP8LPredictorsAdd_C"),gi=ot,U=xt,V=hn,G=Cn,ie=zt,me=Jt,Ce=St,j.VP8LMapColor32b=Ma,j.VP8LMapColor8b=S,x)}function xa(x,T,L,z,ee){var ae=1,se=[x],le=[T],de=z.m,ve=z.s,De=null,qe=0;e:for(;;){if(L)for(;ae&&ue(de,1);){var ye=se,Re=le,Ke=z,st=1,We=Ke.m,ut=Ke.gc[Ke.ab],ft=ue(We,2);if(Ke.Oc&1<<ft)ae=0;else{switch(Ke.Oc|=1<<ft,ut.hc=ft,ut.Ea=ye[0],ut.nc=Re[0],ut.K=[null],++Ke.ab,e(4>=Ke.ab),ft){case 0:case 1:ut.b=ue(We,3)+2,st=xa(rt(ut.Ea,ut.b),rt(ut.nc,ut.b),0,Ke,ut.K),ut.K=ut.K[0];break;case 3:var jt,Ct=ue(We,8)+1,gn=16<Ct?0:4<Ct?1:2<Ct?2:3;if(ye[0]=rt(ut.Ea,gn),ut.b=gn,jt=st=xa(Ct,1,0,Ke,ut.K)){var ln,Wn=Ct,An=ut,Ar=1<<(8>>An.b),Ua=a(Ar);if(Ua==null)jt=0;else{var Gn=An.K[0],dn=An.w;for(Ua[0]=An.K[0][0],ln=1;ln<1*Wn;++ln)Ua[ln]=Et(Gn[dn+ln],Ua[ln-1]);for(;ln<4*Ar;++ln)Ua[ln]=0;An.K[0]=null,An.K[0]=Ua,jt=1}}st=jt;break;case 2:break;default:e(0)}ae=st}}if(se=se[0],le=le[0],ae&&ue(de,1)&&!(ae=1<=(qe=ue(de,4))&&11>=qe)){z.a=3;break e}var Ht;if(Ht=ae)t:{var la,Hn,pr,yi=z,ms=se,fo=le,Vi=qe,Qs=L,ho=yi.m,Qa=yi.s,Cr=[null],Qr=1,$i=0,Hr=Xae[Vi];n:for(;;){if(Qs&&ue(ho,1)){var gs=ue(ho,3)+2,Lc=rt(ms,gs),ca=rt(fo,gs),jo=Lc*ca;if(!xa(Lc,ca,0,yi,Cr))break n;for(Cr=Cr[0],Qa.xc=gs,la=0;la<jo;++la){var ti=Cr[la]>>8&65535;Cr[la]=ti,ti>=Qr&&(Qr=ti+1)}}if(ho.h)break n;for(Hn=0;5>Hn;++Hn){var Ha=$F[Hn];!Hn&&0<Vi&&(Ha+=1<<Vi),$i<Ha&&($i=Ha)}var Al=s(Qr*Hr,F),po=Qr,dl=s(po,Y);if(dl==null)var fl=null;else e(65536>=po),fl=dl;var To=a($i);if(fl==null||To==null||Al==null){yi.a=1;break n}var hl=Al;for(la=pr=0;la<Qr;++la){var oi=fl[la],pl=oi.G,Rc=oi.H,Mf=0,cA=1,vs=0;for(Hn=0;5>Hn;++Hn){Ha=$F[Hn],pl[Hn]=hl,Rc[Hn]=pr,!Hn&&0<Vi&&(Ha+=1<<Vi);i:{var qx,w_=Ha,Yx=yi,D0=To,vse=hl,yse=pr,C_=0,cd=Yx.m,bse=ue(cd,1);if(i(D0,0,0,w_),bse){var xse=ue(cd,1)+1,wse=ue(cd,1),tM=ue(cd,wse==0?1:8);D0[tM]=1,xse==2&&(D0[tM=ue(cd,8)]=1);var Xx=1}else{var nM=a(19),rM=ue(cd,4)+4;if(19<rM){Yx.a=3;var Jx=0;break i}for(qx=0;qx<rM;++qx)nM[qae[qx]]=ue(cd,3);var S_=void 0,O0=void 0,iM=Yx,Cse=nM,Zx=w_,aM=D0,E_=0,ud=iM.m,sM=8,oM=s(128,F);r:for(;O(oM,0,7,Cse,19);){if(ue(ud,1)){var Sse=2+2*ue(ud,3);if((S_=2+ue(ud,Sse))>Zx)break r}else S_=Zx;for(O0=0;O0<Zx&&S_--;){Se(ud);var lM=oM[0+(127&J(ud))];he(ud,ud.u+lM.g);var Np=lM.value;if(16>Np)aM[O0++]=Np,Np!=0&&(sM=Np);else{var Ese=Np==16,cM=Np-16,_se=Wae[cM],uM=ue(ud,Kae[cM])+_se;if(O0+uM>Zx)break r;for(var Bse=Ese?sM:0;0<uM--;)aM[O0++]=Bse}}E_=1;break r}E_||(iM.a=3),Xx=E_}(Xx=Xx&&!cd.h)&&(C_=O(vse,yse,8,D0,w_)),Xx&&C_!=0?Jx=C_:(Yx.a=3,Jx=0)}if(Jx==0)break n;if(cA&&Gae[Hn]==1&&(cA=hl[pr].g==0),Mf+=hl[pr].g,pr+=Jx,3>=Hn){var F0,__=To[0];for(F0=1;F0<Ha;++F0)To[F0]>__&&(__=To[F0]);vs+=__}}if(oi.nd=cA,oi.Qb=0,cA&&(oi.qb=(pl[3][Rc[3]+0].value<<24|pl[1][Rc[1]+0].value<<16|pl[2][Rc[2]+0].value)>>>0,Mf==0&&256>pl[0][Rc[0]+0].value&&(oi.Qb=1,oi.qb+=pl[0][Rc[0]+0].value<<8)),oi.jc=!oi.Qb&&6>vs,oi.jc){var e1,uA=oi;for(e1=0;e1<ps;++e1){var Ad=e1,dd=uA.pd[Ad],t1=uA.G[0][uA.H[0]+Ad];256<=t1.value?(dd.g=t1.g+256,dd.value=t1.value):(dd.g=0,dd.value=0,Ad>>=Yn(t1,8,dd),Ad>>=Yn(uA.G[1][uA.H[1]+Ad],16,dd),Ad>>=Yn(uA.G[2][uA.H[2]+Ad],0,dd),Yn(uA.G[3][uA.H[3]+Ad],24,dd))}}}Qa.vc=Cr,Qa.Wb=Qr,Qa.Ya=fl,Qa.yc=Al,Ht=1;break t}Ht=0}if(!(ae=Ht)){z.a=3;break e}if(0<qe){if(ve.ua=1<<qe,!fe(ve.Wa,qe)){z.a=1,ae=0;break e}}else ve.ua=0;var B_=z,AM=se,Nse=le,N_=B_.s,j_=N_.xc;if(B_.c=AM,B_.i=Nse,N_.md=rt(AM,j_),N_.wc=j_==0?-1:(1<<j_)-1,L){z.xb=ase;break e}if((De=a(se*le))==null){z.a=1,ae=0;break e}ae=(ae=Zn(z,De,0,se,le,le,null))&&!de.h;break e}return ae?(ee!=null?ee[0]=De:(e(De==null),e(L)),z.$=0,L||br(ve)):br(ve),ae}function Mi(x,T){var L=x.c*x.i,z=L+T+16*T;return e(x.c<=T),x.V=a(z),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+L+T,1)}function Jo(x,T){var L=x.C,z=T-L,ee=x.V,ae=x.Ba+x.c*L;for(e(T<=x.l.o);0<z;){var se=16<z?16:z,le=x.l.ma,de=x.l.width,ve=de*se,De=le.ca,qe=le.tb+de*L,ye=x.Ta,Re=x.Ua;mn(x,se,ee,ae),ir(ye,Re,De,qe,ve),Or(le,L,L+se,De,qe,de),z-=se,ee+=se*x.c,L+=se}e(L==T),x.C=x.Ma=T}function Zo(){this.ub=this.yd=this.td=this.Rb=0}function Ir(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function wa(){this.Yb=function(){var x=[];return function T(L,z,ee){for(var ae=ee[z],se=0;se<ae&&(L.push(ee.length>z+1?[]:0),!(ee.length<z+1));se++)T(L[se],z+1,ee)}(x,0,[3,11]),x}()}function gu(){this.jb=a(3),this.Wc=o([4,8],wa),this.Xc=o([4,17],wa)}function so(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function ds(){this.Na=this.la=0}function Ql(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new oo),this.aa=0,this.l=new Pn}function Hl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function yu(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Zo,this.Kc=new Ir,this.ed=new so,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new vu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,R),this.ia=0,this.pb=s(4,Ql),this.Pa=new gu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hl),this.Hd=0,this.rb=Array(new ds),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oo),this.L=this.aa=0,this.gd=o([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bu(){var x=new yu;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,k0||(k0=tr)),x}function ii(x,T,L){return x.a==0&&(x.a=T,x.sc=L,x.cb=0),0}function zl(x,T,L){return 3<=L&&x[T+0]==157&&x[T+1]==1&&x[T+2]==42}function rA(x,T){if(x==null)return 0;if(x.a=0,x.sc="OK",T==null)return ii(x,2,"null VP8Io passed to VP8GetHeaders()");var L=T.data,z=T.w,ee=T.ha;if(4>ee)return ii(x,7,"Truncated header.");var ae=L[z+0]|L[z+1]<<8|L[z+2]<<16,se=x.Od;if(se.Rb=!(1&ae),se.td=ae>>1&7,se.yd=ae>>4&1,se.ub=ae>>5,3<se.td)return ii(x,3,"Incorrect keyframe parameters.");if(!se.yd)return ii(x,4,"Frame not displayable.");z+=3,ee-=3;var le=x.Kc;if(se.Rb){if(7>ee)return ii(x,7,"cannot parse picture header");if(!zl(L,z,ee))return ii(x,3,"Bad code word");le.c=16383&(L[z+4]<<8|L[z+3]),le.Td=L[z+4]>>6,le.i=16383&(L[z+6]<<8|L[z+5]),le.Ud=L[z+6]>>6,z+=7,ee-=7,x.za=le.c+15>>4,x.Ub=le.i+15>>4,T.width=le.c,T.height=le.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ae=x.Pa).jb,0,255,ae.jb.length),e((ae=x.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,i(ae.Zb,0,0,ae.Zb.length),i(ae.Lb,0,0,ae.Lb)}if(se.ub>ee)return ii(x,7,"bad partition length");q(ae=x.m,L,z,se.ub),z+=se.ub,ee-=se.ub,se.Rb&&(le.Ld=re(ae),le.Kd=re(ae)),le=x.Qa;var de,ve=x.Pa;if(e(ae!=null),e(le!=null),le.Cb=re(ae),le.Cb){if(le.Bb=re(ae),re(ae)){for(le.Fb=re(ae),de=0;4>de;++de)le.Zb[de]=re(ae)?W(ae,7):0;for(de=0;4>de;++de)le.Lb[de]=re(ae)?W(ae,6):0}if(le.Bb)for(de=0;3>de;++de)ve.jb[de]=re(ae)?Z(ae,8):255}else le.Bb=0;if(ae.Ka)return ii(x,3,"cannot parse segment header");if((le=x.ed).zd=re(ae),le.Tb=Z(ae,6),le.wb=Z(ae,3),le.Pc=re(ae),le.Pc&&re(ae)){for(ve=0;4>ve;++ve)re(ae)&&(le.vd[ve]=W(ae,6));for(ve=0;4>ve;++ve)re(ae)&&(le.od[ve]=W(ae,6))}if(x.L=le.Tb==0?0:le.zd?1:2,ae.Ka)return ii(x,3,"cannot parse filter header");var De=ee;if(ee=de=z,z=de+De,le=De,x.Xb=(1<<Z(x.m,2))-1,De<3*(ve=x.Xb))L=7;else{for(de+=3*ve,le-=3*ve,De=0;De<ve;++De){var qe=L[ee+0]|L[ee+1]<<8|L[ee+2]<<16;qe>le&&(qe=le),q(x.Jc[+De],L,de,qe),de+=qe,le-=qe,ee+=3}q(x.Jc[+ve],L,de,le),L=de<z?0:5}if(L!=0)return ii(x,L,"cannot parse partitions");for(L=Z(de=x.m,7),ee=re(de)?W(de,4):0,z=re(de)?W(de,4):0,le=re(de)?W(de,4):0,ve=re(de)?W(de,4):0,de=re(de)?W(de,4):0,De=x.Qa,qe=0;4>qe;++qe){if(De.Cb){var ye=De.Zb[qe];De.Fb||(ye+=L)}else{if(0<qe){x.pb[qe]=x.pb[0];continue}ye=L}var Re=x.pb[qe];Re.Sc[0]=y_[Kn(ye+ee,127)],Re.Sc[1]=b_[Kn(ye+0,127)],Re.Eb[0]=2*y_[Kn(ye+z,127)],Re.Eb[1]=101581*b_[Kn(ye+le,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=y_[Kn(ye+ve,117)],Re.Qc[1]=b_[Kn(ye+de,127)],Re.lc=ye+de}if(!se.Rb)return ii(x,4,"Not a key frame.");for(re(ae),se=x.Pa,L=0;4>L;++L){for(ee=0;8>ee;++ee)for(z=0;3>z;++z)for(le=0;11>le;++le)ve=pe(ae,rse[L][ee][z][le])?Z(ae,8):tse[L][ee][z][le],se.Wc[L][ee].Yb[z][le]=ve;for(ee=0;17>ee;++ee)se.Xc[L][ee]=se.Wc[L][ise[ee]]}return x.kc=re(ae),x.kc&&(x.Bd=Z(ae,8)),x.cb=1}function tr(x,T,L,z,ee,ae,se){var le=T[ee].Yb[L];for(L=0;16>ee;++ee){if(!pe(x,le[L+0]))return ee;for(;!pe(x,le[L+1]);)if(le=T[++ee].Yb[0],L=0,ee==16)return 16;var de=T[ee+1].Yb;if(pe(x,le[L+2])){var ve=x,De=0;if(pe(ve,(ye=le)[(qe=L)+3]))if(pe(ve,ye[qe+6])){for(le=0,qe=2*(De=pe(ve,ye[qe+8]))+(ye=pe(ve,ye[qe+9+De])),De=0,ye=Zae[qe];ye[le];++le)De+=De+pe(ve,ye[le]);De+=3+(8<<qe)}else pe(ve,ye[qe+7])?(De=7+2*pe(ve,165),De+=pe(ve,145)):De=5+pe(ve,159);else De=pe(ve,ye[qe+4])?3+pe(ve,ye[qe+5]):2;le=de[2]}else De=1,le=de[1];de=se+ese[ee],0>(ve=x).b&&we(ve);var qe,ye=ve.b,Re=(qe=ve.Ca>>1)-(ve.I>>ye)>>31;--ve.b,ve.Ca+=Re,ve.Ca|=1,ve.I-=(qe+1&Re)<<ye,ae[de]=((De^Re)-Re)*z[(0<ee)+0]}return 16}function Ps(x){var T=x.rb[x.sb-1];T.la=0,T.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function Ca(x,T,L,z,ee){ee=x[T+L+32*z]+(ee>>3),x[T+L+32*z]=-256&ee?0>ee?0:255:ee}function Ds(x,T,L,z,ee,ae){Ca(x,T,0,L,z+ee),Ca(x,T,1,L,z+ae),Ca(x,T,2,L,z-ae),Ca(x,T,3,L,z-ee)}function xr(x){return(20091*x>>16)+x}function Pa(x,T,L,z){var ee,ae=0,se=a(16);for(ee=0;4>ee;++ee){var le=x[T+0]+x[T+8],de=x[T+0]-x[T+8],ve=(35468*x[T+4]>>16)-xr(x[T+12]),De=xr(x[T+4])+(35468*x[T+12]>>16);se[ae+0]=le+De,se[ae+1]=de+ve,se[ae+2]=de-ve,se[ae+3]=le-De,ae+=4,T++}for(ee=ae=0;4>ee;++ee)le=(x=se[ae+0]+4)+se[ae+8],de=x-se[ae+8],ve=(35468*se[ae+4]>>16)-xr(se[ae+12]),Ca(L,z,0,0,le+(De=xr(se[ae+4])+(35468*se[ae+12]>>16))),Ca(L,z,1,0,de+ve),Ca(L,z,2,0,de-ve),Ca(L,z,3,0,le-De),ae++,z+=32}function tl(x,T,L,z){var ee=x[T+0]+4,ae=35468*x[T+4]>>16,se=xr(x[T+4]),le=35468*x[T+1]>>16;Ds(L,z,0,ee+se,x=xr(x[T+1]),le),Ds(L,z,1,ee+ae,x,le),Ds(L,z,2,ee-ae,x,le),Ds(L,z,3,ee-se,x,le)}function Nc(x,T,L,z,ee){Pa(x,T,L,z),ee&&Pa(x,T+16,L,z+4)}function jc(x,T,L,z){Pe(x,T+0,L,z,1),Pe(x,T+32,L,z+128,1)}function Xn(x,T,L,z){var ee;for(x=x[T+0]+4,ee=0;4>ee;++ee)for(T=0;4>T;++T)Ca(L,z,T,ee,x)}function lo(x,T,L,z){x[T+0]&&Te(x,T+0,L,z),x[T+16]&&Te(x,T+16,L,z+4),x[T+32]&&Te(x,T+32,L,z+128),x[T+48]&&Te(x,T+48,L,z+128+4)}function nl(x,T,L,z){var ee,ae=a(16);for(ee=0;4>ee;++ee){var se=x[T+0+ee]+x[T+12+ee],le=x[T+4+ee]+x[T+8+ee],de=x[T+4+ee]-x[T+8+ee],ve=x[T+0+ee]-x[T+12+ee];ae[0+ee]=se+le,ae[8+ee]=se-le,ae[4+ee]=ve+de,ae[12+ee]=ve-de}for(ee=0;4>ee;++ee)se=(x=ae[0+4*ee]+3)+ae[3+4*ee],le=ae[1+4*ee]+ae[2+4*ee],de=ae[1+4*ee]-ae[2+4*ee],ve=x-ae[3+4*ee],L[z+0]=se+le>>3,L[z+16]=ve+de>>3,L[z+32]=se-le>>3,L[z+48]=ve-de>>3,z+=64}function Os(x,T,L){var z,ee=T-32,ae=oa,se=255-x[ee-1];for(z=0;z<L;++z){var le,de=ae,ve=se+x[T-1];for(le=0;le<L;++le)x[T+le]=de[ve+x[ee+le]];T+=32}}function qn(x,T){Os(x,T,4)}function iA(x,T){Os(x,T,8)}function Pf(x,T){Os(x,T,16)}function Df(x,T){var L;for(L=0;16>L;++L)r(x,T+32*L,x,T-32,16)}function na(x,T){var L;for(L=16;0<L;--L)i(x,T,x[T-1],16),T+=32}function Fs(x,T,L){var z;for(z=0;16>z;++z)i(T,L+32*z,x,16)}function Da(x,T){var L,z=16;for(L=0;16>L;++L)z+=x[T-1+32*L]+x[T+L-32];Fs(z>>5,x,T)}function ra(x,T){var L,z=8;for(L=0;16>L;++L)z+=x[T-1+32*L];Fs(z>>4,x,T)}function rl(x,T){var L,z=8;for(L=0;16>L;++L)z+=x[T+L-32];Fs(z>>4,x,T)}function Tc(x,T){Fs(128,x,T)}function rn(x,T,L){return x+2*T+L+2>>2}function ia(x,T){var L,z=T-32;for(z=new Uint8Array([rn(x[z-1],x[z+0],x[z+1]),rn(x[z+0],x[z+1],x[z+2]),rn(x[z+1],x[z+2],x[z+3]),rn(x[z+2],x[z+3],x[z+4])]),L=0;4>L;++L)r(x,T+32*L,z,0,z.length)}function Ic(x,T){var L=x[T-1],z=x[T-1+32],ee=x[T-1+64],ae=x[T-1+96];xe(x,T+0,16843009*rn(x[T-1-32],L,z)),xe(x,T+32,16843009*rn(L,z,ee)),xe(x,T+64,16843009*rn(z,ee,ae)),xe(x,T+96,16843009*rn(ee,ae,ae))}function kc(x,T){var L,z=4;for(L=0;4>L;++L)z+=x[T+L-32]+x[T-1+32*L];for(z>>=3,L=0;4>L;++L)i(x,T+32*L,z,4)}function aA(x,T){var L=x[T-1+0],z=x[T-1+32],ee=x[T-1+64],ae=x[T-1-32],se=x[T+0-32],le=x[T+1-32],de=x[T+2-32],ve=x[T+3-32];x[T+0+96]=rn(z,ee,x[T-1+96]),x[T+1+96]=x[T+0+64]=rn(L,z,ee),x[T+2+96]=x[T+1+64]=x[T+0+32]=rn(ae,L,z),x[T+3+96]=x[T+2+64]=x[T+1+32]=x[T+0+0]=rn(se,ae,L),x[T+3+64]=x[T+2+32]=x[T+1+0]=rn(le,se,ae),x[T+3+32]=x[T+2+0]=rn(de,le,se),x[T+3+0]=rn(ve,de,le)}function Zr(x,T){var L=x[T+1-32],z=x[T+2-32],ee=x[T+3-32],ae=x[T+4-32],se=x[T+5-32],le=x[T+6-32],de=x[T+7-32];x[T+0+0]=rn(x[T+0-32],L,z),x[T+1+0]=x[T+0+32]=rn(L,z,ee),x[T+2+0]=x[T+1+32]=x[T+0+64]=rn(z,ee,ae),x[T+3+0]=x[T+2+32]=x[T+1+64]=x[T+0+96]=rn(ee,ae,se),x[T+3+32]=x[T+2+64]=x[T+1+96]=rn(ae,se,le),x[T+3+64]=x[T+2+96]=rn(se,le,de),x[T+3+96]=rn(le,de,de)}function il(x,T){var L=x[T-1+0],z=x[T-1+32],ee=x[T-1+64],ae=x[T-1-32],se=x[T+0-32],le=x[T+1-32],de=x[T+2-32],ve=x[T+3-32];x[T+0+0]=x[T+1+64]=ae+se+1>>1,x[T+1+0]=x[T+2+64]=se+le+1>>1,x[T+2+0]=x[T+3+64]=le+de+1>>1,x[T+3+0]=de+ve+1>>1,x[T+0+96]=rn(ee,z,L),x[T+0+64]=rn(z,L,ae),x[T+0+32]=x[T+1+96]=rn(L,ae,se),x[T+1+32]=x[T+2+96]=rn(ae,se,le),x[T+2+32]=x[T+3+96]=rn(se,le,de),x[T+3+32]=rn(le,de,ve)}function Ms(x,T){var L=x[T+0-32],z=x[T+1-32],ee=x[T+2-32],ae=x[T+3-32],se=x[T+4-32],le=x[T+5-32],de=x[T+6-32],ve=x[T+7-32];x[T+0+0]=L+z+1>>1,x[T+1+0]=x[T+0+64]=z+ee+1>>1,x[T+2+0]=x[T+1+64]=ee+ae+1>>1,x[T+3+0]=x[T+2+64]=ae+se+1>>1,x[T+0+32]=rn(L,z,ee),x[T+1+32]=x[T+0+96]=rn(z,ee,ae),x[T+2+32]=x[T+1+96]=rn(ee,ae,se),x[T+3+32]=x[T+2+96]=rn(ae,se,le),x[T+3+64]=rn(se,le,de),x[T+3+96]=rn(le,de,ve)}function Vl(x,T){var L=x[T-1+0],z=x[T-1+32],ee=x[T-1+64],ae=x[T-1+96];x[T+0+0]=L+z+1>>1,x[T+2+0]=x[T+0+32]=z+ee+1>>1,x[T+2+32]=x[T+0+64]=ee+ae+1>>1,x[T+1+0]=rn(L,z,ee),x[T+3+0]=x[T+1+32]=rn(z,ee,ae),x[T+3+32]=x[T+1+64]=rn(ee,ae,ae),x[T+3+64]=x[T+2+64]=x[T+0+96]=x[T+1+96]=x[T+2+96]=x[T+3+96]=ae}function Bo(x,T){var L=x[T-1+0],z=x[T-1+32],ee=x[T-1+64],ae=x[T-1+96],se=x[T-1-32],le=x[T+0-32],de=x[T+1-32],ve=x[T+2-32];x[T+0+0]=x[T+2+32]=L+se+1>>1,x[T+0+32]=x[T+2+64]=z+L+1>>1,x[T+0+64]=x[T+2+96]=ee+z+1>>1,x[T+0+96]=ae+ee+1>>1,x[T+3+0]=rn(le,de,ve),x[T+2+0]=rn(se,le,de),x[T+1+0]=x[T+3+32]=rn(L,se,le),x[T+1+32]=x[T+3+64]=rn(z,L,se),x[T+1+64]=x[T+3+96]=rn(ee,z,L),x[T+1+96]=rn(ae,ee,z)}function $l(x,T){var L;for(L=0;8>L;++L)r(x,T+32*L,x,T-32,8)}function Oa(x,T){var L;for(L=0;8>L;++L)i(x,T,x[T-1],8),T+=32}function Ls(x,T,L){var z;for(z=0;8>z;++z)i(T,L+32*z,x,8)}function Kl(x,T){var L,z=8;for(L=0;8>L;++L)z+=x[T+L-32]+x[T-1+32*L];Ls(z>>4,x,T)}function sA(x,T){var L,z=4;for(L=0;8>L;++L)z+=x[T+L-32];Ls(z>>3,x,T)}function fr(x,T){var L,z=4;for(L=0;8>L;++L)z+=x[T-1+32*L];Ls(z>>3,x,T)}function oA(x,T){Ls(128,x,T)}function Pc(x,T,L){var z=x[T-L],ee=x[T+0],ae=3*(ee-z)+sd[1020+x[T-2*L]-x[T+L]],se=Ea[112+(ae+4>>3)];x[T-L]=oa[255+z+Ea[112+(ae+3>>3)]],x[T+0]=oa[255+ee-se]}function co(x,T,L,z){var ee=x[T+0],ae=x[T+L];return Us[255+x[T-2*L]-x[T-L]]>z||Us[255+ae-ee]>z}function al(x,T,L,z){return 4*Us[255+x[T-L]-x[T+0]]+Us[255+x[T-2*L]-x[T+L]]<=z}function sl(x,T,L,z,ee){var ae=x[T-3*L],se=x[T-2*L],le=x[T-L],de=x[T+0],ve=x[T+L],De=x[T+2*L],qe=x[T+3*L];return 4*Us[255+le-de]+Us[255+se-ve]>z?0:Us[255+x[T-4*L]-ae]<=ee&&Us[255+ae-se]<=ee&&Us[255+se-le]<=ee&&Us[255+qe-De]<=ee&&Us[255+De-ve]<=ee&&Us[255+ve-de]<=ee}function Wl(x,T,L,z){var ee=2*z+1;for(z=0;16>z;++z)al(x,T+z,L,ee)&&Pc(x,T+z,L)}function Gl(x,T,L,z){var ee=2*z+1;for(z=0;16>z;++z)al(x,T+z*L,1,ee)&&Pc(x,T+z*L,1)}function Rs(x,T,L,z){var ee;for(ee=3;0<ee;--ee)Wl(x,T+=4*L,L,z)}function Dc(x,T,L,z){var ee;for(ee=3;0<ee;--ee)Gl(x,T+=4,L,z)}function uo(x,T,L,z,ee,ae,se,le){for(ae=2*ae+1;0<ee--;){if(sl(x,T,L,ae,se))if(co(x,T,L,le))Pc(x,T,L);else{var de=x,ve=T,De=L,qe=de[ve-2*De],ye=de[ve-De],Re=de[ve+0],Ke=de[ve+De],st=de[ve+2*De],We=27*(ft=sd[1020+3*(Re-ye)+sd[1020+qe-Ke]])+63>>7,ut=18*ft+63>>7,ft=9*ft+63>>7;de[ve-3*De]=oa[255+de[ve-3*De]+ft],de[ve-2*De]=oa[255+qe+ut],de[ve-De]=oa[255+ye+We],de[ve+0]=oa[255+Re-We],de[ve+De]=oa[255+Ke-ut],de[ve+2*De]=oa[255+st-ft]}T+=z}}function Za(x,T,L,z,ee,ae,se,le){for(ae=2*ae+1;0<ee--;){if(sl(x,T,L,ae,se))if(co(x,T,L,le))Pc(x,T,L);else{var de=x,ve=T,De=L,qe=de[ve-De],ye=de[ve+0],Re=de[ve+De],Ke=Ea[112+(4+(st=3*(ye-qe))>>3)],st=Ea[112+(st+3>>3)],We=Ke+1>>1;de[ve-2*De]=oa[255+de[ve-2*De]+We],de[ve-De]=oa[255+qe+st],de[ve+0]=oa[255+ye-Ke],de[ve+De]=oa[255+Re-We]}T+=z}}function ql(x,T,L,z,ee,ae){uo(x,T,L,1,16,z,ee,ae)}function ol(x,T,L,z,ee,ae){uo(x,T,1,L,16,z,ee,ae)}function fs(x,T,L,z,ee,ae){var se;for(se=3;0<se;--se)Za(x,T+=4*L,L,1,16,z,ee,ae)}function xu(x,T,L,z,ee,ae){var se;for(se=3;0<se;--se)Za(x,T+=4,1,L,16,z,ee,ae)}function M(x,T,L,z,ee,ae,se,le){uo(x,T,ee,1,8,ae,se,le),uo(L,z,ee,1,8,ae,se,le)}function X(x,T,L,z,ee,ae,se,le){uo(x,T,1,ee,8,ae,se,le),uo(L,z,1,ee,8,ae,se,le)}function ge(x,T,L,z,ee,ae,se,le){Za(x,T+4*ee,ee,1,8,ae,se,le),Za(L,z+4*ee,ee,1,8,ae,se,le)}function Be(x,T,L,z,ee,ae,se,le){Za(x,T+4,1,ee,8,ae,se,le),Za(L,z+4,1,ee,8,ae,se,le)}function Qe(){this.ba=new nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function at(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gt(){this.ua=0,this.Wa=new mt,this.vb=new mt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new F}function tn(){this.xb=this.a=0,this.l=new Pn,this.ca=new nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gt,this.ab=0,this.gc=s(4,lt),this.Oc=0}function xn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sn(x,T,L,z,ee,ae,se){for(x=x==null?0:x[T+0],T=0;T<se;++T)ee[ae+T]=x+L[z+T]&255,x=ee[ae+T]}function nr(x,T,L,z,ee,ae,se){var le;if(x==null)Sn(null,null,L,z,ee,ae,se);else for(le=0;le<se;++le)ee[ae+le]=x[T+le]+L[z+le]&255}function hr(x,T,L,z,ee,ae,se){if(x==null)Sn(null,null,L,z,ee,ae,se);else{var le,de=x[T+0],ve=de,De=de;for(le=0;le<se;++le)ve=De+(de=x[T+le])-ve,De=L[z+le]+(-256&ve?0>ve?0:255:ve)&255,ve=de,ee[ae+le]=De}}function Gr(x,T,L,z){var ee=T.width,ae=T.o;if(e(x!=null&&T!=null),0>L||0>=z||L+z>ae)return null;if(!x.Cc){if(x.ga==null){var se;if(x.ga=new xn,(se=x.ga==null)||(se=T.width*T.o,e(x.Gb.length==0),x.Gb=a(se),x.Uc=0,x.Gb==null?se=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,se=1),se=!se),!se){se=x.ga;var le=x.Fa,de=x.P,ve=x.qc,De=x.mb,qe=x.nb,ye=de+1,Re=ve-1,Ke=se.l;if(e(le!=null&&De!=null&&T!=null),ld[0]=null,ld[1]=Sn,ld[2]=nr,ld[3]=hr,se.ca=De,se.tb=qe,se.c=T.width,se.i=T.height,e(0<se.c&&0<se.i),1>=ve)T=0;else if(se.$a=3&le[de+0],se.Z=le[de+0]>>2&3,se.Lc=le[de+0]>>4&3,de=le[de+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||de)T=0;else if(Ke.put=Oe,Ke.ac=Me,Ke.bc=Ge,Ke.ma=se,Ke.width=T.width,Ke.height=T.height,Ke.Da=T.Da,Ke.v=T.v,Ke.va=T.va,Ke.j=T.j,Ke.o=T.o,se.$a)e:{e(se.$a==1),T=Jr();t:for(;;){if(T==null){T=0;break e}if(e(se!=null),se.mc=T,T.c=se.c,T.i=se.i,T.l=se.l,T.l.ma=se,T.l.width=se.c,T.l.height=se.i,T.a=0,oe(T.m,le,ye,Re),!xa(se.c,se.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&vr(T.s)?(se.ic=1,le=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(le),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(se.ic=0,T=Mi(T,se.c)),!T))break t;T=1;break e}se.mc=null,T=0}else T=Re>=se.c*se.i;se=!T}if(se)return null;x.ga.Lc!=1?x.Ga=0:z=ae-L}e(x.ga!=null),e(L+z<=ae);e:{if(T=(le=x.ga).c,ae=le.l.o,le.$a==0){if(ye=x.rc,Re=x.Vc,Ke=x.Fa,de=x.P+1+L*T,ve=x.mb,De=x.nb+L*T,e(de<=x.P+x.qc),le.Z!=0)for(e(ld[le.Z]!=null),se=0;se<z;++se)ld[le.Z](ye,Re,Ke,de,ve,De,T),ye=ve,Re=De,De+=T,de+=T;else for(se=0;se<z;++se)r(ve,De,Ke,de,T),ye=ve,Re=De,De+=T,de+=T;x.rc=ye,x.Vc=Re}else{if(e(le.mc!=null),T=L+z,e((se=le.mc)!=null),e(T<=se.i),se.C>=T)T=1;else if(le.ic||kr(),le.ic){le=se.V,ye=se.Ba,Re=se.c;var st=se.i,We=(Ke=1,de=se.$/Re,ve=se.$%Re,De=se.m,qe=se.s,se.$),ut=Re*st,ft=Re*T,jt=qe.wc,Ct=We<ft?Ut(qe,ve,de):null;e(We<=ut),e(T<=st),e(vr(qe));t:for(;;){for(;!De.h&&We<ft;){if(ve&jt||(Ct=Ut(qe,ve,de)),e(Ct!=null),Se(De),256>(st=yn(Ct.G[0],Ct.H[0],De)))le[ye+We]=st,++We,++ve>=Re&&(ve=0,++de<=T&&!(de%16)&&yr(se,de));else{if(!(280>st)){Ke=0;break t}st=At(st-256,De);var gn,ln=yn(Ct.G[4],Ct.H[4],De);if(Se(De),!(We>=(ln=Yt(Re,ln=At(ln,De)))&&ut-We>=st)){Ke=0;break t}for(gn=0;gn<st;++gn)le[ye+We+gn]=le[ye+We+gn-ln];for(We+=st,ve+=st;ve>=Re;)ve-=Re,++de<=T&&!(de%16)&&yr(se,de);We<ft&&ve&jt&&(Ct=Ut(qe,ve,de))}e(De.h==ne(De))}yr(se,de>T?T:de);break t}!Ke||De.h&&We<ut?(Ke=0,se.a=De.h?5:3):se.$=We,T=Ke}else T=Zn(se,se.V,se.Ba,se.c,se.i,T,Jo);if(!T){z=0;break e}}L+z>=ae&&(x.Cc=1),z=1}if(!z)return null;if(x.Cc&&((z=x.ga)!=null&&(z.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+L*ee}function wr(x,T,L,z,ee,ae){for(;0<ee--;){var se,le=x,de=T+(L?1:0),ve=x,De=T+(L?0:3);for(se=0;se<z;++se){var qe=ve[De+4*se];qe!=255&&(qe*=32897,le[de+4*se+0]=le[de+4*se+0]*qe>>23,le[de+4*se+1]=le[de+4*se+1]*qe>>23,le[de+4*se+2]=le[de+4*se+2]*qe>>23)}T+=ae}}function Fr(x,T,L,z,ee){for(;0<z--;){var ae;for(ae=0;ae<L;++ae){var se=x[T+2*ae+0],le=15&(ve=x[T+2*ae+1]),de=4369*le,ve=(240&ve|ve>>4)*de>>16;x[T+2*ae+0]=(240&se|se>>4)*de>>16&240|(15&se|se<<4)*de>>16>>4&15,x[T+2*ae+1]=240&ve|le}T+=ee}}function ei(x,T,L,z,ee,ae,se,le){var de,ve,De=255;for(ve=0;ve<ee;++ve){for(de=0;de<z;++de){var qe=x[T+de];ae[se+4*de]=qe,De&=qe}T+=L,se+=le}return De!=255}function ai(x,T,L,z,ee){var ae;for(ae=0;ae<ee;++ae)L[z+ae]=x[T+ae]>>8}function kr(){Rt=wr,Wt=Fr,Fn=ei,ir=ai}function aa(x,T,L){j[x]=function(z,ee,ae,se,le,de,ve,De,qe,ye,Re,Ke,st,We,ut,ft,jt){var Ct,gn=jt-1>>1,ln=le[de+0]|ve[De+0]<<16,Wn=qe[ye+0]|Re[Ke+0]<<16;e(z!=null);var An=3*ln+Wn+131074>>2;for(T(z[ee+0],255&An,An>>16,st,We),ae!=null&&(An=3*Wn+ln+131074>>2,T(ae[se+0],255&An,An>>16,ut,ft)),Ct=1;Ct<=gn;++Ct){var Ar=le[de+Ct]|ve[De+Ct]<<16,Ua=qe[ye+Ct]|Re[Ke+Ct]<<16,Gn=ln+Ar+Wn+Ua+524296,dn=Gn+2*(Ar+Wn)>>3;An=dn+ln>>1,ln=(Gn=Gn+2*(ln+Ua)>>3)+Ar>>1,T(z[ee+2*Ct-1],255&An,An>>16,st,We+(2*Ct-1)*L),T(z[ee+2*Ct-0],255&ln,ln>>16,st,We+(2*Ct-0)*L),ae!=null&&(An=Gn+Wn>>1,ln=dn+Ua>>1,T(ae[se+2*Ct-1],255&An,An>>16,ut,ft+(2*Ct-1)*L),T(ae[se+2*Ct+0],255&ln,ln>>16,ut,ft+(2*Ct+0)*L)),ln=Ar,Wn=Ua}1&jt||(An=3*ln+Wn+131074>>2,T(z[ee+jt-1],255&An,An>>16,st,We+(jt-1)*L),ae!=null&&(An=3*Wn+ln+131074>>2,T(ae[se+jt-1],255&An,An>>16,ut,ft+(jt-1)*L)))}}function wu(){Xl[Qx]=sse,Xl[Hx]=GF,Xl[zF]=ose,Xl[zx]=qF,Xl[Vx]=YF,Xl[p_]=XF,Xl[VF]=lse,Xl[m_]=GF,Xl[g_]=qF,Xl[$x]=YF,Xl[v_]=XF}function Ao(x){return x&-16384?0>x?0:255:x>>cse}function w(x,T){return Ao((19077*x>>8)+(26149*T>>8)-14234)}function Q(x,T,L){return Ao((19077*x>>8)-(6419*T>>8)-(13320*L>>8)+8708)}function K(x,T){return Ao((19077*x>>8)+(33050*T>>8)-17685)}function ce(x,T,L,z,ee){z[ee+0]=w(x,L),z[ee+1]=Q(x,T,L),z[ee+2]=K(x,T)}function ze(x,T,L,z,ee){z[ee+0]=K(x,T),z[ee+1]=Q(x,T,L),z[ee+2]=w(x,L)}function Ye(x,T,L,z,ee){var ae=Q(x,T,L);T=ae<<3&224|K(x,T)>>3,z[ee+0]=248&w(x,L)|ae>>5,z[ee+1]=T}function Dt(x,T,L,z,ee){var ae=240&K(x,T)|15;z[ee+0]=240&w(x,L)|Q(x,T,L)>>4,z[ee+1]=ae}function rr(x,T,L,z,ee){z[ee+0]=255,ce(x,T,L,z,ee+1)}function si(x,T,L,z,ee){ze(x,T,L,z,ee),z[ee+3]=255}function $n(x,T,L,z,ee){ce(x,T,L,z,ee),z[ee+3]=255}function Kn(x,T){return 0>x?0:x>T?T:x}function Ur(x,T,L){j[x]=function(z,ee,ae,se,le,de,ve,De,qe){for(var ye=De+(-2&qe)*L;De!=ye;)T(z[ee+0],ae[se+0],le[de+0],ve,De),T(z[ee+1],ae[se+0],le[de+0],ve,De+L),ee+=2,++se,++de,De+=2*L;1&qe&&T(z[ee+0],ae[se+0],le[de+0],ve,De)}}function hs(x,T,L){return L==0?x==0?T==0?6:5:T==0?4:0:L}function Fa(x,T,L,z,ee){switch(x>>>30){case 3:Pe(T,L,z,ee,0);break;case 2:Le(T,L,z,ee);break;case 1:Te(T,L,z,ee)}}function Sa(x,T){var L,z,ee=T.M,ae=T.Nb,se=x.oc,le=x.pc+40,de=x.oc,ve=x.pc+584,De=x.oc,qe=x.pc+600;for(L=0;16>L;++L)se[le+32*L-1]=129;for(L=0;8>L;++L)de[ve+32*L-1]=129,De[qe+32*L-1]=129;for(0<ee?se[le-1-32]=de[ve-1-32]=De[qe-1-32]=129:(i(se,le-32-1,127,21),i(de,ve-32-1,127,9),i(De,qe-32-1,127,9)),z=0;z<x.za;++z){var ye=T.ya[T.aa+z];if(0<z){for(L=-1;16>L;++L)r(se,le+32*L-4,se,le+32*L+12,4);for(L=-1;8>L;++L)r(de,ve+32*L-4,de,ve+32*L+4,4),r(De,qe+32*L-4,De,qe+32*L+4,4)}var Re=x.Gd,Ke=x.Hd+z,st=ye.ad,We=ye.Hc;if(0<ee&&(r(se,le-32,Re[Ke].y,0,16),r(de,ve-32,Re[Ke].f,0,8),r(De,qe-32,Re[Ke].ea,0,8)),ye.Za){var ut=se,ft=le-32+16;for(0<ee&&(z>=x.za-1?i(ut,ft,Re[Ke].y[15],4):r(ut,ft,Re[Ke+1].y,0,4)),L=0;4>L;L++)ut[ft+128+L]=ut[ft+256+L]=ut[ft+384+L]=ut[ft+0+L];for(L=0;16>L;++L,We<<=2)ut=se,ft=le+ZF[L],Mc[ye.Ob[L]](ut,ft),Fa(We,st,16*+L,ut,ft)}else if(ut=hs(z,ee,ye.Ob[0]),od[ut](se,le),We!=0)for(L=0;16>L;++L,We<<=2)Fa(We,st,16*+L,se,le+ZF[L]);for(L=ye.Gc,ut=hs(z,ee,ye.Dd),lA[ut](de,ve),lA[ut](De,qe),We=st,ut=de,ft=ve,255&(ye=0|L)&&(170&ye?Ee(We,256,ut,ft):_e(We,256,ut,ft)),ye=De,We=qe,255&(L>>=8)&&(170&L?Ee(st,320,ye,We):_e(st,320,ye,We)),ee<x.Ub-1&&(r(Re[Ke].y,0,se,le+480,16),r(Re[Ke].f,0,de,ve+224,8),r(Re[Ke].ea,0,De,qe+224,8)),L=8*ae*x.B,Re=x.sa,Ke=x.ta+16*z+16*ae*x.R,st=x.qa,ye=x.ra+8*z+L,We=x.Ha,ut=x.Ia+8*z+L,L=0;16>L;++L)r(Re,Ke+L*x.R,se,le+32*L,16);for(L=0;8>L;++L)r(st,ye+L*x.B,de,ve+32*L,8),r(We,ut+L*x.B,De,qe+32*L,8)}}function ll(x,T,L,z,ee,ae,se,le,de){var ve=[0],De=[0],qe=0,ye=de!=null?de.kd:0,Re=de??new at;if(x==null||12>L)return 7;Re.data=x,Re.w=T,Re.ha=L,T=[T],L=[L],Re.gb=[Re.gb];e:{var Ke=T,st=L,We=Re.gb;if(e(x!=null),e(st!=null),e(We!=null),We[0]=0,12<=st[0]&&!n(x,Ke[0],"RIFF")){if(n(x,Ke[0]+8,"WEBP")){We=3;break e}var ut=Ie(x,Ke[0]+4);if(12>ut||4294967286<ut){We=3;break e}if(ye&&ut>st[0]-8){We=7;break e}We[0]=ut,Ke[0]+=12,st[0]-=12}We=0}if(We!=0)return We;for(ut=0<Re.gb[0],L=L[0];;){e:{var ft=x;st=T,We=L;var jt=ve,Ct=De,gn=Ke=[0];if((An=qe=[qe])[0]=0,8>We[0])We=7;else{if(!n(ft,st[0],"VP8X")){if(Ie(ft,st[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var ln=Ie(ft,st[0]+8),Wn=1+He(ft,st[0]+12);if(2147483648<=Wn*(ft=1+He(ft,st[0]+15))){We=3;break e}gn!=null&&(gn[0]=ln),jt!=null&&(jt[0]=Wn),Ct!=null&&(Ct[0]=ft),st[0]+=18,We[0]-=18,An[0]=1}We=0}}if(qe=qe[0],Ke=Ke[0],We!=0)return We;if(st=!!(2&Ke),!ut&&qe)return 3;if(ae!=null&&(ae[0]=!!(16&Ke)),se!=null&&(se[0]=st),le!=null&&(le[0]=0),se=ve[0],Ke=De[0],qe&&st&&de==null){We=0;break}if(4>L){We=7;break}if(ut&&qe||!ut&&!qe&&!n(x,T[0],"ALPH")){L=[L],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{ln=x,We=T,ut=L;var An=Re.gb;jt=Re.na,Ct=Re.P,gn=Re.Sa,Wn=22,e(ln!=null),e(ut!=null),ft=We[0];var Ar=ut[0];for(e(jt!=null),e(gn!=null),jt[0]=null,Ct[0]=null,gn[0]=0;;){if(We[0]=ft,ut[0]=Ar,8>Ar){We=7;break e}var Ua=Ie(ln,ft+4);if(4294967286<Ua){We=3;break e}var Gn=8+Ua+1&-2;if(Wn+=Gn,0<An&&Wn>An){We=3;break e}if(!n(ln,ft,"VP8 ")||!n(ln,ft,"VP8L")){We=0;break e}if(Ar[0]<Gn){We=7;break e}n(ln,ft,"ALPH")||(jt[0]=ln,Ct[0]=ft+8,gn[0]=Ua),ft+=Gn,Ar-=Gn}}if(L=L[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],We!=0)break}L=[L],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(An=x,We=T,ut=L,jt=Re.gb[0],Ct=Re.Ja,gn=Re.xa,ln=We[0],ft=!n(An,ln,"VP8 "),Wn=!n(An,ln,"VP8L"),e(An!=null),e(ut!=null),e(Ct!=null),e(gn!=null),8>ut[0])We=7;else{if(ft||Wn){if(An=Ie(An,ln+4),12<=jt&&An>jt-12){We=3;break e}if(ye&&An>ut[0]-8){We=7;break e}Ct[0]=An,We[0]+=8,ut[0]-=8,gn[0]=Wn}else gn[0]=5<=ut[0]&&An[ln+0]==47&&!(An[ln+4]>>5),Ct[0]=ut[0];We=0}if(L=L[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],T=T[0],We!=0)break;if(4294967286<Re.Ja)return 3;if(le==null||st||(le[0]=Re.xa?2:1),se=[se],Ke=[Ke],Re.xa){if(5>L){We=7;break}le=se,ye=Ke,st=ae,x==null||5>L?x=0:5<=L&&x[T+0]==47&&!(x[T+4]>>5)?(ut=[0],An=[0],jt=[0],oe(Ct=new $,x,T,L),_t(Ct,ut,An,jt)?(le!=null&&(le[0]=ut[0]),ye!=null&&(ye[0]=An[0]),st!=null&&(st[0]=jt[0]),x=1):x=0):x=0}else{if(10>L){We=7;break}le=Ke,x==null||10>L||!zl(x,T+3,L-3)?x=0:(ye=x[T+0]|x[T+1]<<8|x[T+2]<<16,st=16383&(x[T+7]<<8|x[T+6]),x=16383&(x[T+9]<<8|x[T+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Re.Ja||!st||!x?x=0:(se&&(se[0]=st),le&&(le[0]=x),x=1))}if(!x||(se=se[0],Ke=Ke[0],qe&&(ve[0]!=se||De[0]!=Ke)))return 3;de!=null&&(de[0]=Re,de.offset=T-de.w,e(4294967286>T-de.w),e(de.offset==de.ha-L));break}return We==0||We==7&&qe&&de==null?(ae!=null&&(ae[0]|=Re.na!=null&&0<Re.na.length),z!=null&&(z[0]=se),ee!=null&&(ee[0]=Ke),0):We}function Of(x,T,L){var z=T.width,ee=T.height,ae=0,se=0,le=z,de=ee;if(T.Da=x!=null&&0<x.Da,T.Da&&(le=x.cd,de=x.bd,ae=x.v,se=x.j,11>L||(ae&=-2,se&=-2),0>ae||0>se||0>=le||0>=de||ae+le>z||se+de>ee))return 0;if(T.v=ae,T.j=se,T.va=ae+le,T.o=se+de,T.U=le,T.T=de,T.da=x!=null&&0<x.da,T.da){if(!pt(le,de,L=[x.ib],ae=[x.hb]))return 0;T.ib=L[0],T.hb=ae[0]}return T.ob=x!=null&&x.ob,T.Kb=x==null||!x.Sd,T.da&&(T.ob=T.ib<3*z/4&&T.hb<3*ee/4,T.Kb=0),1}function Ff(x){if(x==null)return 2;if(11>x.S){var T=x.f.RGBA;T.fb+=(x.height-1)*T.A,T.A=-T.A}else T=x.f.kb,x=x.height,T.O+=(x-1)*T.fa,T.fa=-T.fa,T.N+=(x-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(x-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(x-1)*T.lb,T.lb=-T.lb);return 0}function cl(x,T,L,z){if(z==null||0>=x||0>=T)return 2;if(L!=null){if(L.Da){var ee=L.cd,ae=L.bd,se=-2&L.v,le=-2&L.j;if(0>se||0>le||0>=ee||0>=ae||se+ee>x||le+ae>T)return 2;x=ee,T=ae}if(L.da){if(!pt(x,T,ee=[L.ib],ae=[L.hb]))return 2;x=ee[0],T=ae[0]}}z.width=x,z.height=T;e:{var de=z.width,ve=z.height;if(x=z.S,0>=de||0>=ve||!(x>=Qx&&13>x))x=2;else{if(0>=z.Rd&&z.sd==null){se=ae=ee=T=0;var De=(le=de*eM[x])*ve;if(11>x||(ae=(ve+1)/2*(T=(de+1)/2),x==12&&(se=(ee=de)*ve)),(ve=a(De+2*ae+se))==null){x=1;break e}z.sd=ve,11>x?((de=z.f.RGBA).eb=ve,de.fb=0,de.A=le,de.size=De):((de=z.f.kb).y=ve,de.O=0,de.fa=le,de.Fd=De,de.f=ve,de.N=0+De,de.Ab=T,de.Cd=ae,de.ea=ve,de.W=0+De+ae,de.Db=T,de.Ed=ae,x==12&&(de.F=ve,de.J=0+De+2*ae),de.Tc=se,de.lb=ee)}if(T=1,ee=z.S,ae=z.width,se=z.height,ee>=Qx&&13>ee)if(11>ee)x=z.f.RGBA,T&=(le=Math.abs(x.A))*(se-1)+ae<=x.size,T&=le>=ae*eM[ee],T&=x.eb!=null;else{x=z.f.kb,le=(ae+1)/2,De=(se+1)/2,de=Math.abs(x.fa),ve=Math.abs(x.Ab);var qe=Math.abs(x.Db),ye=Math.abs(x.lb),Re=ye*(se-1)+ae;T&=de*(se-1)+ae<=x.Fd,T&=ve*(De-1)+le<=x.Cd,T=(T&=qe*(De-1)+le<=x.Ed)&de>=ae&ve>=le&qe>=le,T&=x.y!=null,T&=x.f!=null,T&=x.ea!=null,ee==12&&(T&=ye>=ae,T&=Re<=x.Tc,T&=x.F!=null)}else T=0;x=T?0:2}}return x!=0||L!=null&&L.fd&&(x=Ff(z)),x}var ps=64,ur=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],es=24,sa=32,Oc=8,Yl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];gt("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(x){return x},j.Predictor2=function(x,T,L){return T[L+0]},j.Predictor3=function(x,T,L){return T[L+1]},j.Predictor4=function(x,T,L){return T[L-1]},j.Predictor5=function(x,T,L){return Mt(Mt(x,T[L+1]),T[L+0])},j.Predictor6=function(x,T,L){return Mt(x,T[L-1])},j.Predictor7=function(x,T,L){return Mt(x,T[L+0])},j.Predictor8=function(x,T,L){return Mt(T[L-1],T[L+0])},j.Predictor9=function(x,T,L){return Mt(T[L+0],T[L+1])},j.Predictor10=function(x,T,L){return Mt(Mt(x,T[L-1]),Mt(T[L+0],T[L+1]))},j.Predictor11=function(x,T,L){var z=T[L+0];return 0>=Tt(z>>24&255,x>>24&255,(T=T[L-1])>>24&255)+Tt(z>>16&255,x>>16&255,T>>16&255)+Tt(z>>8&255,x>>8&255,T>>8&255)+Tt(255&z,255&x,255&T)?z:x},j.Predictor12=function(x,T,L){var z=T[L+0];return(bt((x>>24&255)+(z>>24&255)-((T=T[L-1])>>24&255))<<24|bt((x>>16&255)+(z>>16&255)-(T>>16&255))<<16|bt((x>>8&255)+(z>>8&255)-(T>>8&255))<<8|bt((255&x)+(255&z)-(255&T)))>>>0},j.Predictor13=function(x,T,L){var z=T[L-1];return(wt((x=Mt(x,T[L+0]))>>24&255,z>>24&255)<<24|wt(x>>16&255,z>>16&255)<<16|wt(x>>8&255,z>>8&255)<<8|wt(255&x,255&z))>>>0};var ad=j.PredictorAdd0;j.PredictorAdd1=Xt,gt("Predictor2","PredictorAdd2"),gt("Predictor3","PredictorAdd3"),gt("Predictor4","PredictorAdd4"),gt("Predictor5","PredictorAdd5"),gt("Predictor6","PredictorAdd6"),gt("Predictor7","PredictorAdd7"),gt("Predictor8","PredictorAdd8"),gt("Predictor9","PredictorAdd9"),gt("Predictor10","PredictorAdd10"),gt("Predictor11","PredictorAdd11"),gt("Predictor12","PredictorAdd12"),gt("Predictor13","PredictorAdd13");var No=j.PredictorAdd2;Lt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var gi,Fc=j.ColorIndexInverseTransform,Ma=j.MapARGB,ul=j.VP8LColorIndexInverseTransformAlpha,S=j.MapAlpha,I=j.VP8LPredictorsAdd=[];I.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var U,V,G,ie,me,Ce,Ne,Pe,Le,Ee,Te,_e,je,Fe,Ue,Ve,Xe,nt,it,Bt,Ft,It,Ot,Vt,Rt,Wt,Fn,ir,In=a(511),vi=a(2041),jn=a(225),La=a(767),Ra=0,sd=vi,Ea=jn,oa=La,Us=In,Qx=0,Hx=1,zF=2,zx=3,Vx=4,p_=5,VF=6,m_=7,g_=8,$x=9,v_=10,Kae=[2,3,7],Wae=[3,3,11],$F=[280,256,256,256,40],Gae=[0,1,1,1,0],qae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yae=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xae=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jae=8,y_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],b_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],k0=null,Zae=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ese=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],KF=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tse=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nse=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rse=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ise=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],od=[],Mc=[],lA=[],ase=1,WF=2,ld=[],Xl=[];aa("UpsampleRgbLinePair",ce,3),aa("UpsampleBgrLinePair",ze,3),aa("UpsampleRgbaLinePair",$n,4),aa("UpsampleBgraLinePair",si,4),aa("UpsampleArgbLinePair",rr,4),aa("UpsampleRgba4444LinePair",Dt,2),aa("UpsampleRgb565LinePair",Ye,2);var sse=j.UpsampleRgbLinePair,ose=j.UpsampleBgrLinePair,GF=j.UpsampleRgbaLinePair,qF=j.UpsampleBgraLinePair,YF=j.UpsampleArgbLinePair,XF=j.UpsampleRgba4444LinePair,lse=j.UpsampleRgb565LinePair,Kx=16,Wx=1<<Kx-1,P0=-227,x_=482,cse=6,JF=0,use=a(256),Ase=a(256),dse=a(256),fse=a(256),hse=a(x_-P0),pse=a(x_-P0);Ur("YuvToRgbRow",ce,3),Ur("YuvToBgrRow",ze,3),Ur("YuvToRgbaRow",$n,4),Ur("YuvToBgraRow",si,4),Ur("YuvToArgbRow",rr,4),Ur("YuvToRgba4444Row",Dt,2),Ur("YuvToRgb565Row",Ye,2);var ZF=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gx=[0,2,8],mse=[8,7,6,4,4,2,2,2,1,1,1,1],gse=1;this.WebPDecodeRGBA=function(x,T,L,z,ee){var ae=Hx,se=new Qe,le=new nn;se.ba=le,le.S=ae,le.width=[le.width],le.height=[le.height];var de=le.width,ve=le.height,De=new Qt;if(De==null||x==null)var qe=2;else e(De!=null),qe=ll(x,T,L,De.width,De.height,De.Pd,De.Qd,De.format,null);if(qe!=0?de=0:(de!=null&&(de[0]=De.width[0]),ve!=null&&(ve[0]=De.height[0]),de=1),de){le.width=le.width[0],le.height=le.height[0],z!=null&&(z[0]=le.width),ee!=null&&(ee[0]=le.height);e:{if(z=new Pn,(ee=new at).data=x,ee.w=T,ee.ha=L,ee.kd=1,T=[0],e(ee!=null),((x=ll(ee.data,ee.w,ee.ha,null,null,null,T,null,ee))==0||x==7)&&T[0]&&(x=4),(T=x)==0){if(e(se!=null),z.data=ee.data,z.w=ee.w+ee.offset,z.ha=ee.ha-ee.offset,z.put=Oe,z.ac=Me,z.bc=Ge,z.ma=se,ee.xa){if((x=Jr())==null){se=1;break e}if(function(ye,Re){var Ke=[0],st=[0],We=[0];t:for(;;){if(ye==null)return 0;if(Re==null)return ye.a=2,0;if(ye.l=Re,ye.a=0,oe(ye.m,Re.data,Re.w,Re.ha),!_t(ye.m,Ke,st,We)){ye.a=3;break t}if(ye.xb=WF,Re.width=Ke[0],Re.height=st[0],!xa(Ke[0],st[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(x,z)){if(z=(T=cl(z.width,z.height,se.Oa,se.ba))==0){t:{z=x;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((L=z.l)!=null),e((ee=L.ma)!=null),z.xb!=0){if(z.ca=ee.ba,z.tb=ee.tb,e(z.ca!=null),!Of(ee.Oa,L,zx)){z.a=2;break n}if(!Mi(z,L.width)||L.da)break n;if((L.da||et(z.ca.S))&&kr(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&kr()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!fe(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Zn(z,z.V,z.Ba,z.c,z.i,L.o,Xr))break n;ee.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(T=x.a)}else T=x.a}else{if((x=new bu)==null){se=1;break e}if(x.Fa=ee.na,x.P=ee.P,x.qc=ee.Sa,rA(x,z)){if((T=cl(z.width,z.height,se.Oa,se.ba))==0){if(x.Aa=0,L=se.Oa,e((ee=x)!=null),L!=null){if(0<(de=0>(de=L.Md)?0:100<de?255:255*de/100)){for(ve=De=0;4>ve;++ve)12>(qe=ee.pb[ve]).lc&&(qe.ia=de*mse[0>qe.lc?0:qe.lc]>>3),De|=qe.ia;De&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=L.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(ye,Re){if(ye==null)return 0;if(Re==null)return ii(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!rA(ye,Re))return 0;if(e(ye.cb),Re.ac==null||Re.ac(Re)){Re.ob&&(ye.L=0);var Ke=Gx[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Re.v-Ke>>4,ye.zb=Re.j-Ke>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Re.o+15+Ke>>4,ye.Hb=Re.va+15+Ke>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var st=ye.ed;for(Ke=0;4>Ke;++Ke){var We;if(ye.Qa.Cb){var ut=ye.Qa.Lb[Ke];ye.Qa.Fb||(ut+=st.Tb)}else ut=st.Tb;for(We=0;1>=We;++We){var ft=ye.gd[Ke][We],jt=ut;if(st.Pc&&(jt+=st.vd[0],We&&(jt+=st.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var Ct=jt;0<st.wb&&(Ct=4<st.wb?Ct>>2:Ct>>1)>9-st.wb&&(Ct=9-st.wb),1>Ct&&(Ct=1),ft.dd=Ct,ft.tc=2*jt+Ct,ft.ld=40<=jt?2:15<=jt?1:0}else ft.tc=0;ft.La=We}}}Ke=0}else ii(ye,6,"Frame setup failed"),Ke=ye.a;if(Ke=Ke==0){if(Ke){ye.$c=0,0<ye.Aa||(ye.Ic=gse);t:{Ke=ye.Ic,st=4*(Ct=ye.za);var gn=32*Ct,ln=Ct+1,Wn=0<ye.L?Ct*(0<ye.Aa?2:1):0,An=(ye.Aa==2?2:1)*Ct;if((ft=st+832+(We=3*(16*Ke+Gx[ye.L])/2*gn)+(ut=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=ft)Ke=0;else{if(ft>ye.Vb){if(ye.Vb=0,ye.Ec=a(ft),ye.Fc=0,ye.Ec==null){Ke=ii(ye,1,"no memory during frame initialization.");break t}ye.Vb=ft}ft=ye.Ec,jt=ye.Fc,ye.Ac=ft,ye.Bc=jt,jt+=st,ye.Gd=s(gn,Hl),ye.Hd=0,ye.rb=s(ln+1,ds),ye.sb=1,ye.wa=Wn?s(Wn,Li):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=Ct),e(!0),ye.oc=ft,ye.pc=jt,jt+=832,ye.ya=s(An,oo),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=Ct),ye.R=16*Ct,ye.B=8*Ct,Ct=(gn=Gx[ye.L])*ye.R,gn=gn/2*ye.B,ye.sa=ft,ye.ta=jt+Ct,ye.qa=ye.sa,ye.ra=ye.ta+16*Ke*ye.R+gn,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Ke*ye.B+gn,ye.$c=0,jt+=We,ye.mb=ut?ft:null,ye.nb=ut?jt:null,e(jt+ut<=ye.Fc+ye.Vb),Ps(ye),i(ye.Ac,ye.Bc,0,st),Ke=1}}if(Ke){if(Re.ka=0,Re.y=ye.sa,Re.O=ye.ta,Re.f=ye.qa,Re.N=ye.ra,Re.ea=ye.Ha,Re.Vd=ye.Ia,Re.fa=ye.R,Re.Rc=ye.B,Re.F=null,Re.J=0,!Ra){for(Ke=-255;255>=Ke;++Ke)In[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)vi[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)jn[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)La[255+Ke]=0>Ke?0:255<Ke?255:Ke;Ra=1}Ne=nl,Pe=Nc,Ee=jc,Te=Xn,_e=lo,Le=tl,je=ql,Fe=ol,Ue=M,Ve=X,Xe=fs,nt=xu,it=ge,Bt=Be,Ft=Wl,It=Gl,Ot=Rs,Vt=Dc,Mc[0]=kc,Mc[1]=qn,Mc[2]=ia,Mc[3]=Ic,Mc[4]=aA,Mc[5]=il,Mc[6]=Zr,Mc[7]=Ms,Mc[8]=Bo,Mc[9]=Vl,od[0]=Da,od[1]=Pf,od[2]=Df,od[3]=na,od[4]=ra,od[5]=rl,od[6]=Tc,lA[0]=Kl,lA[1]=iA,lA[2]=$l,lA[3]=Oa,lA[4]=fr,lA[5]=sA,lA[6]=oA,Ke=1}else Ke=0}Ke&&(Ke=function(Ar,Ua){for(Ar.M=0;Ar.M<Ar.Va;++Ar.M){var Gn,dn=Ar.Jc[Ar.M&Ar.Xb],Ht=Ar.m,la=Ar;for(Gn=0;Gn<la.za;++Gn){var Hn=Ht,pr=la,yi=pr.Ac,ms=pr.Bc+4*Gn,fo=pr.zc,Vi=pr.ya[pr.aa+Gn];if(pr.Qa.Bb?Vi.$b=pe(Hn,pr.Pa.jb[0])?2+pe(Hn,pr.Pa.jb[2]):pe(Hn,pr.Pa.jb[1]):Vi.$b=0,pr.kc&&(Vi.Ad=pe(Hn,pr.Bd)),Vi.Za=!pe(Hn,145)+0,Vi.Za){var Qs=Vi.Ob,ho=0;for(pr=0;4>pr;++pr){var Qa,Cr=fo[0+pr];for(Qa=0;4>Qa;++Qa){Cr=nse[yi[ms+Qa]][Cr];for(var Qr=KF[pe(Hn,Cr[0])];0<Qr;)Qr=KF[2*Qr+pe(Hn,Cr[Qr])];Cr=-Qr,yi[ms+Qa]=Cr}r(Qs,ho,yi,ms,4),ho+=4,fo[0+pr]=Cr}}else Cr=pe(Hn,156)?pe(Hn,128)?1:3:pe(Hn,163)?2:0,Vi.Ob[0]=Cr,i(yi,ms,Cr,4),i(fo,0,Cr,4);Vi.Dd=pe(Hn,142)?pe(Hn,114)?pe(Hn,183)?1:3:2:0}if(la.m.Ka)return ii(Ar,7,"Premature end-of-partition0 encountered.");for(;Ar.ja<Ar.za;++Ar.ja){if(la=dn,Hn=(Ht=Ar).rb[Ht.sb-1],yi=Ht.rb[Ht.sb+Ht.ja],Gn=Ht.ya[Ht.aa+Ht.ja],ms=Ht.kc?Gn.Ad:0)Hn.la=yi.la=0,Gn.Za||(Hn.Na=yi.Na=0),Gn.Hc=0,Gn.Gc=0,Gn.ia=0;else{var $i,Hr;if(Hn=yi,yi=la,ms=Ht.Pa.Xc,fo=Ht.ya[Ht.aa+Ht.ja],Vi=Ht.pb[fo.$b],pr=fo.ad,Qs=0,ho=Ht.rb[Ht.sb-1],Cr=Qa=0,i(pr,Qs,0,384),fo.Za)var gs=0,Lc=ms[3];else{Qr=a(16);var ca=Hn.Na+ho.Na;if(ca=k0(yi,ms[1],ca,Vi.Eb,0,Qr,0),Hn.Na=ho.Na=(0<ca)+0,1<ca)Ne(Qr,0,pr,Qs);else{var jo=Qr[0]+3>>3;for(Qr=0;256>Qr;Qr+=16)pr[Qs+Qr]=jo}gs=1,Lc=ms[0]}var ti=15&Hn.la,Ha=15&ho.la;for(Qr=0;4>Qr;++Qr){var Al=1&Ha;for(jo=Hr=0;4>jo;++jo)ti=ti>>1|(Al=(ca=k0(yi,Lc,ca=Al+(1&ti),Vi.Sc,gs,pr,Qs))>gs)<<7,Hr=Hr<<2|(3<ca?3:1<ca?2:pr[Qs+0]!=0),Qs+=16;ti>>=4,Ha=Ha>>1|Al<<7,Qa=(Qa<<8|Hr)>>>0}for(Lc=ti,gs=Ha>>4,$i=0;4>$i;$i+=2){for(Hr=0,ti=Hn.la>>4+$i,Ha=ho.la>>4+$i,Qr=0;2>Qr;++Qr){for(Al=1&Ha,jo=0;2>jo;++jo)ca=Al+(1&ti),ti=ti>>1|(Al=0<(ca=k0(yi,ms[2],ca,Vi.Qc,0,pr,Qs)))<<3,Hr=Hr<<2|(3<ca?3:1<ca?2:pr[Qs+0]!=0),Qs+=16;ti>>=2,Ha=Ha>>1|Al<<5}Cr|=Hr<<4*$i,Lc|=ti<<4<<$i,gs|=(240&Ha)<<$i}Hn.la=Lc,ho.la=gs,fo.Hc=Qa,fo.Gc=Cr,fo.ia=43690&Cr?0:Vi.ia,ms=!(Qa|Cr)}if(0<Ht.L&&(Ht.wa[Ht.Y+Ht.ja]=Ht.gd[Gn.$b][Gn.Za],Ht.wa[Ht.Y+Ht.ja].La|=!ms),la.Ka)return ii(Ar,7,"Premature end-of-file encountered.")}if(Ps(Ar),Ht=Ua,la=1,Gn=(dn=Ar).D,Hn=0<dn.L&&dn.M>=dn.zb&&dn.M<=dn.Va,dn.Aa==0)t:{if(Gn.M=dn.M,Gn.uc=Hn,Sa(dn,Gn),la=1,Gn=(Hr=dn.D).Nb,Hn=(Cr=Gx[dn.L])*dn.R,yi=Cr/2*dn.B,Qr=16*Gn*dn.R,jo=8*Gn*dn.B,ms=dn.sa,fo=dn.ta-Hn+Qr,Vi=dn.qa,pr=dn.ra-yi+jo,Qs=dn.Ha,ho=dn.Ia-yi+jo,Ha=(ti=Hr.M)==0,Qa=ti>=dn.Va-1,dn.Aa==2&&Sa(dn,Hr),Hr.uc)for(Al=(ca=dn).D.M,e(ca.D.uc),Hr=ca.yb;Hr<ca.Hb;++Hr){gs=Hr,Lc=Al;var po=(dl=(vs=ca).D).Nb;$i=vs.R;var dl=dl.wa[dl.Y+gs],fl=vs.sa,To=vs.ta+16*po*$i+16*gs,hl=dl.dd,oi=dl.tc;if(oi!=0)if(e(3<=oi),vs.L==1)0<gs&&It(fl,To,$i,oi+4),dl.La&&Vt(fl,To,$i,oi),0<Lc&&Ft(fl,To,$i,oi+4),dl.La&&Ot(fl,To,$i,oi);else{var pl=vs.B,Rc=vs.qa,Mf=vs.ra+8*po*pl+8*gs,cA=vs.Ha,vs=vs.Ia+8*po*pl+8*gs;po=dl.ld,0<gs&&(Fe(fl,To,$i,oi+4,hl,po),Ve(Rc,Mf,cA,vs,pl,oi+4,hl,po)),dl.La&&(nt(fl,To,$i,oi,hl,po),Bt(Rc,Mf,cA,vs,pl,oi,hl,po)),0<Lc&&(je(fl,To,$i,oi+4,hl,po),Ue(Rc,Mf,cA,vs,pl,oi+4,hl,po)),dl.La&&(Xe(fl,To,$i,oi,hl,po),it(Rc,Mf,cA,vs,pl,oi,hl,po))}}if(dn.ia&&alert("todo:DitherRow"),Ht.put!=null){if(Hr=16*ti,ti=16*(ti+1),Ha?(Ht.y=dn.sa,Ht.O=dn.ta+Qr,Ht.f=dn.qa,Ht.N=dn.ra+jo,Ht.ea=dn.Ha,Ht.W=dn.Ia+jo):(Hr-=Cr,Ht.y=ms,Ht.O=fo,Ht.f=Vi,Ht.N=pr,Ht.ea=Qs,Ht.W=ho),Qa||(ti-=Cr),ti>Ht.o&&(ti=Ht.o),Ht.F=null,Ht.J=null,dn.Fa!=null&&0<dn.Fa.length&&Hr<ti&&(Ht.J=Gr(dn,Ht,Hr,ti-Hr),Ht.F=dn.mb,Ht.F==null&&Ht.F.length==0)){la=ii(dn,3,"Could not decode alpha data.");break t}Hr<Ht.j&&(Cr=Ht.j-Hr,Hr=Ht.j,e(!(1&Cr)),Ht.O+=dn.R*Cr,Ht.N+=dn.B*(Cr>>1),Ht.W+=dn.B*(Cr>>1),Ht.F!=null&&(Ht.J+=Ht.width*Cr)),Hr<ti&&(Ht.O+=Ht.v,Ht.N+=Ht.v>>1,Ht.W+=Ht.v>>1,Ht.F!=null&&(Ht.J+=Ht.v),Ht.ka=Hr-Ht.j,Ht.U=Ht.va-Ht.v,Ht.T=ti-Hr,la=Ht.put(Ht))}Gn+1!=dn.Ic||Qa||(r(dn.sa,dn.ta-Hn,ms,fo+16*dn.R,Hn),r(dn.qa,dn.ra-yi,Vi,pr+8*dn.B,yi),r(dn.Ha,dn.Ia-yi,Qs,ho+8*dn.B,yi))}if(!la)return ii(Ar,6,"Output aborted.")}return 1}(ye,Re)),Re.bc!=null&&Re.bc(Re),Ke&=1}return Ke?(ye.cb=0,Ke):0})(x,z)||(T=x.a)}}else T=x.a}T==0&&se.Oa!=null&&se.Oa.fd&&(T=Ff(se.ba))}se=T}ae=se!=0?null:11>ae?le.f.RGBA.eb:le.f.kb.y}else ae=null;return ae};var eM=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,D){for(var k="",O=0;O<4;O++)k+=String.fromCharCode(j[D++]);return k}function A(j,D){return j[D+0]|j[D+1]<<8}function d(j,D){return(j[D+0]|j[D+1]<<8|j[D+2]<<16)>>>0}function f(j,D){return(j[D+0]|j[D+1]<<8|j[D+2]<<16|j[D+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],v=new l,g=t,y=function(j,D){var k={},O=0,F=!1,H=0,Y=0;if(k.frames=[],!function(R,$){for(var J=0;J<4;J++)if(R[$+J]!="RIFF".charCodeAt(J))return!0;return!1}(j,D)){for(f(j,D+=4),D+=8;D<j.length;){var q=u(j,D),Z=f(j,D+=4);D+=4;var W=Z+(1&Z);switch(q){case"VP8 ":case"VP8L":k.frames[O]===void 0&&(k.frames[O]={}),(ue=k.frames[O]).src_off=F?Y:D-8,ue.src_size=H+Z+8,O++,F&&(F=!1,H=0,Y=0);break;case"VP8X":(ue=k.header={}).feature_flags=j[D];var oe=D+4;ue.canvas_width=1+d(j,oe),oe+=3,ue.canvas_height=1+d(j,oe),oe+=3;break;case"ALPH":F=!0,H=W+8,Y=D-8;break;case"ANIM":(ue=k.header).bgcolor=f(j,D),oe=D+4,ue.loop_count=A(j,oe),oe+=2;break;case"ANMF":var te,ue;(ue=k.frames[O]={}).offset_x=2*d(j,D),D+=3,ue.offset_y=2*d(j,D),D+=3,ue.width=1+d(j,D),D+=3,ue.height=1+d(j,D),D+=3,ue.duration=d(j,D),D+=3,te=j[D++],ue.dispose=1&te,ue.blend=te>>1&1}q!="ANMF"&&(D+=W)}return k}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,C=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var E=0;E<C.length&&C[E].blend!=0;E++);}var N=C[0],_=v.WebPDecodeRGBA(g,N.src_off,N.src_size,p,h);N.rgba=_,N.imgwidth=p[0],N.imgheight=h[0];for(var B=0;B<p[0]*h[0]*4;B++)m[B]=_[B];return this.width=p,this.height=h,this.data=m,this}(function(t){var e,n,r,i,a,s,o,l,u,A=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new A}]);var d=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=R;Object.defineProperty(this,"pdf",{get:function(){return $}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ie){J=!!Ie}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ie){ne=!!Ie}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Ie){isNaN(Ie)||(he=Ie)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(Ie){isNaN(Ie)||(Se=Ie)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ie){var fe;typeof Ie=="number"?fe=[Ie,Ie,Ie,Ie]:((fe=new Array(4))[0]=Ie[0],fe[1]=Ie.length>=2?Ie[1]:fe[0],fe[2]=Ie.length>=3?Ie[2]:fe[0],fe[3]=Ie.length>=4?Ie[3]:fe[1]),u.margin=fe}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ie){we=Ie}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(Ie){re=Ie}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Ie){pe=Ie}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ie){Ie instanceof A&&(u=Ie)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ie){u.path=Ie}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Ie){xe=Ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ie){var fe;fe=f(Ie),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ie){var fe=f(Ie);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ie){["butt","round","square"].indexOf(Ie)!==-1&&(this.ctx.lineCap=Ie,this.pdf.setLineCap(Ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ie){isNaN(Ie)||(this.ctx.lineWidth=Ie,this.pdf.setLineWidth(Ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ie){["bevel","round","miter"].indexOf(Ie)!==-1&&(this.ctx.lineJoin=Ie,this.pdf.setLineJoin(Ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ie){isNaN(Ie)||(this.ctx.miterLimit=Ie,this.pdf.setMiterLimit(Ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ie){this.ctx.textBaseline=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ie){["right","end","center","left","start"].indexOf(Ie)!==-1&&(this.ctx.textAlign=Ie)}});var Ae=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ie){Ae=null,He=Ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ie){var fe;if(this.ctx.font=Ie,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ie))!==null){var $e=fe[1];fe[2];var mt=fe[3],pt=fe[4];fe[5];var rt=fe[6],Et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(Et==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:Et==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var gt=function(xt){var Lt,hn,Cn=[],zt=xt.trim();if(zt==="")return TN;if(zt in Cz)return[Cz[zt]];for(;zt!=="";){switch(hn=null,Lt=(zt=Ez(zt)).charAt(0)){case'"':case"'":hn=_Ke(zt.substring(1),Lt);break;default:hn=BKe(zt)}if(hn===null||(Cn.push(hn[0]),(zt=Ez(hn[1]))!==""&&zt.charAt(0)!==","))return TN;zt=zt.replace(/^,/,"")}return Cn}(rt);if(this.fontFaces){var $t=function(xt,Lt){if(Ae===null){var hn=function(Cn){var zt=[];return Object.keys(Cn).forEach(function(Jt){Cn[Jt].forEach(function(St){var Kt=null;switch(St){case"bold":Kt={family:Jt,weight:"bold"};break;case"italic":Kt={family:Jt,style:"italic"};break;case"bolditalic":Kt={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":Kt={family:Jt}}Kt!==null&&(Kt.ref={name:Jt,style:St},zt.push(Kt))})}),zt}(xt.getFontList());Ae=function(Cn){for(var zt={},Jt=0;Jt<Cn.length;++Jt){var St=jN(Cn[Jt]),Kt=St.family,ke=St.stretch,et=St.style,Je=St.weight;zt[Kt]=zt[Kt]||{},zt[Kt][ke]=zt[Kt][ke]||{},zt[Kt][ke][et]=zt[Kt][ke][et]||{},zt[Kt][ke][et][Je]=St}return zt}(hn.concat(Lt))}return Ae}(this.pdf,this.fontFaces),Mt=gt.map(function(xt){return{family:xt,stretch:"normal",weight:mt,style:$e}}),bt=function(xt,Lt,hn){for(var Cn=(hn=hn||{}).defaultFontFamily||"times",zt=Object.assign({},EKe,hn.genericFontFamilies||{}),Jt=null,St=null,Kt=0;Kt<Lt.length;++Kt)if(zt[(Jt=jN(Lt[Kt])).family]&&(Jt.family=zt[Jt.family]),xt.hasOwnProperty(Jt.family)){St=xt[Jt.family];break}if(!(St=St||xt[Cn]))throw new Error("Could not find a font-family for the rule '"+Sz(Jt)+"' and default family '"+Cn+"'.");if(St=function(ke,et){if(et[ke])return et[ke];var Je=sk[ke],Ln=Je<=sk.normal?-1:1,nn=wz(et,Tne,Je,Ln);if(!nn)throw new Error("Could not find a matching font-stretch value for "+ke);return nn}(Jt.stretch,St),St=function(ke,et){if(et[ke])return et[ke];for(var Je=jne[ke],Ln=0;Ln<Je.length;++Ln)if(et[Je[Ln]])return et[Je[Ln]];throw new Error("Could not find a matching font-style for "+ke)}(Jt.style,St),!(St=function(ke,et){if(et[ke])return et[ke];if(ke===400&&et[500])return et[500];if(ke===500&&et[400])return et[400];var Je=SKe[ke],Ln=wz(et,Ine,Je,ke<400?-1:1);if(!Ln)throw new Error("Could not find a matching font-weight for value "+ke);return Ln}(Jt.weight,St)))throw new Error("Failed to resolve a font for the rule '"+Sz(Jt)+"'.");return St}($t,Mt);this.pdf.setFont(bt.ref.name,bt.ref.style)}else{var wt="";(mt==="bold"||parseInt(mt,10)>=700||$e==="bold")&&(wt="bold"),$e==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Tt="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<gt.length;ot++){if(this.pdf.internal.getFont(gt[ot],wt,{noFallback:!0,disableWarning:!0})!==void 0){Tt=gt[ot];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(gt[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=gt[ot],wt="bold";else if(this.pdf.internal.getFont(gt[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=gt[ot],wt="normal";break}}if(Tt===""){for(var vt=0;vt<gt.length;vt++)if(Xt[gt[vt]]){Tt=Xt[gt[vt]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ie){this.ctx.globalCompositeOperation=Ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ie){this.ctx.globalAlpha=Ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ie){this.ctx.lineDashOffset=Ie,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ie){this.ctx.lineDash=Ie,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ie){this.ctx.ignoreClearRect=!!Ie}})};d.prototype.setLineDash=function(R){this.lineDash=R},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(R,$){if(isNaN(R)||isNaN($))throw ni.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(R,$));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(R,$)},d.prototype.closePath=function(){var R=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Vr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){R=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},d.prototype.lineTo=function(R,$){if(isNaN(R)||isNaN($))throw ni.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(R,$));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(R,$,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(R)||isNaN($))throw ni.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new s(J,ne)),Se=this.ctx.transform.applyToPoint(new s(R,$));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},d.prototype.bezierCurveTo=function(R,$,J,ne,he,Se){if(isNaN(he)||isNaN(Se)||isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new s(he,Se)),re=this.ctx.transform.applyToPoint(new s(R,$)),pe=this.ctx.transform.applyToPoint(new s(J,ne));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:pe.x,y2:pe.y,x:we.x,y:we.y}),this.ctx.lastPoint=new s(we.x,we.y)},d.prototype.arc=function(R,$,J,ne,he,Se){if(isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(he))throw ni.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new s(R,$));R=we.x,$=we.y;var re=this.ctx.transform.applyToPoint(new s(0,J)),pe=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(re.x-pe.x,2)+Math.pow(re.y-pe.y,2))}Math.abs(he-ne)>=2*Math.PI&&(ne=0,he=2*Math.PI),this.path.push({type:"arc",x:R,y:$,radius:J,startAngle:ne,endAngle:he,counterclockwise:Se})},d.prototype.arcTo=function(R,$,J,ne,he){throw new Error("arcTo not implemented.")},d.prototype.rect=function(R,$,J,ne){if(isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,$),this.lineTo(R+J,$),this.lineTo(R+J,$+ne),this.lineTo(R,$+ne),this.lineTo(R,$),this.lineTo(R+J,$),this.lineTo(R,$)},d.prototype.fillRect=function(R,$,J,ne){if(isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,$,J,ne),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},d.prototype.strokeRect=function(R,$,J,ne){if(isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(R,$,J,ne),this.stroke())},d.prototype.clearRect=function(R,$,J,ne){if(isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,$,J,ne))},d.prototype.save=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage($),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage($),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(R){var $,J,ne,he;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))$=0,J=0,ne=0,he=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Se!==null)$=parseInt(Se[1]),J=parseInt(Se[2]),ne=parseInt(Se[3]),he=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)$=parseInt(Se[1]),J=parseInt(Se[2]),ne=parseInt(Se[3]),he=parseFloat(Se[4]);else{if(he=1,typeof R=="string"&&R.charAt(0)!=="#"){var we=new wne(R);R=we.ok?we.toHex():"#000000"}R.length===4?($=R.substring(1,2),$+=$,J=R.substring(2,3),J+=J,ne=R.substring(3,4),ne+=ne):($=R.substring(1,3),J=R.substring(3,5),ne=R.substring(5,7)),$=parseInt($,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:$,g:J,b:ne,a:he,style:R}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(R,$,J,ne){if(isNaN($)||isNaN(J)||typeof R!="string")throw ni.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var he=W(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;O.call(this,{text:R,x:$,y:J,scale:Se,angle:he,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(R,$,J,ne){if(isNaN($)||isNaN(J)||typeof R!="string")throw ni.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ne=isNaN(ne)?void 0:ne;var he=W(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;O.call(this,{text:R,x:$,y:J,scale:Se,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(R){if(typeof R!="string")throw ni.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,J=this.pdf.internal.scaleFactor,ne=$.internal.getFontSize(),he=$.getStringUnitWidth(R)*ne/$.internal.scaleFactor;return new function(Se){var we=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:he*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(R,$){if(isNaN(R)||isNaN($))throw ni.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(R,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(R){if(isNaN(R))throw ni.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.translate=function(R,$){if(isNaN(R)||isNaN($))throw ni.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,R,$);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(R,$,J,ne,he,Se){if(isNaN(R)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(he)||isNaN(Se))throw ni.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(R,$,J,ne,he,Se);this.ctx.transform=this.ctx.transform.multiply(we)},d.prototype.setTransform=function(R,$,J,ne,he,Se){R=isNaN(R)?1:R,$=isNaN($)?0:$,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,he=isNaN(he)?0:he,Se=isNaN(Se)?0:Se,this.ctx.transform=new l(R,$,J,ne,he,Se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(R,$,J,ne,he,Se,we,re,pe){var xe=this.pdf.getImageProperties(R),Ae=1,He=1,Ie=1,fe=1;ne!==void 0&&re!==void 0&&(Ie=re/ne,fe=pe/he,Ae=xe.width/ne*re/ne,He=xe.height/he*pe/he),Se===void 0&&(Se=$,we=J,$=0,J=0),ne!==void 0&&re===void 0&&(re=ne,pe=he),ne===void 0&&re===void 0&&(re=xe.width,pe=xe.height);for(var $e,mt=this.ctx.transform.decompose(),pt=W(mt.rotate.shx),rt=new l,Et=(rt=(rt=(rt=rt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new o(Se-$*Ie,we-J*fe,ne*Ae,he*He)),gt=v.call(this,Et),$t=[],Mt=0;Mt<gt.length;Mt+=1)$t.indexOf(gt[Mt])===-1&&$t.push(gt[Mt]);if(b($t),this.autoPaging)for(var bt=$t[0],wt=$t[$t.length-1],Tt=bt;Tt<wt+1;Tt++){this.pdf.setPage(Tt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Tt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Tt===1?0:vt+(Tt-2)*xt;if(this.ctx.clip_path.length!==0){var hn=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($e,this.posX+this.margin[3],-Lt+ot+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=hn}var Cn=JSON.parse(JSON.stringify(Et));Cn=y([Cn],this.posX+this.margin[3],-Lt+ot+this.ctx.prevPageLastElemOffset)[0];var zt=(Tt>bt||Tt<wt)&&m.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,xt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Cn.x,Cn.y,Cn.w,Cn.h,null,null,pt),zt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,pt)};var v=function(R,$,J){var ne=[];$=$||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ne.push(Math.floor((R.y+he)/J)+1);break;case"arc":ne.push(Math.floor((R.y+he-R.radius)/J)+1),ne.push(Math.floor((R.y+he+R.radius)/J)+1);break;case"qct":var Se=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ne.push(Math.floor((Se.y+he)/J)+1),ne.push(Math.floor((Se.y+Se.h+he)/J)+1);break;case"bct":var we=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ne.push(Math.floor((we.y+he)/J)+1),ne.push(Math.floor((we.y+we.h+he)/J)+1);break;case"rect":ne.push(Math.floor((R.y+he)/J)+1),ne.push(Math.floor((R.y+R.h+he)/J)+1)}for(var re=0;re<ne.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<ne[re];)g.call(this);return ne},g=function(){var R=this.fillStyle,$=this.strokeStyle,J=this.font,ne=this.lineCap,he=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=$,this.font=J,this.lineCap=ne,this.lineWidth=he,this.lineJoin=Se},y=function(R,$,J){for(var ne=0;ne<R.length;ne++)switch(R[ne].type){case"bct":R[ne].x2+=$,R[ne].y2+=J;case"qct":R[ne].x1+=$,R[ne].y1+=J;default:R[ne].x+=$,R[ne].y+=J}return R},b=function(R){return R.sort(function($,J){return $-J})},C=function(R,$){for(var J,ne,he=this.fillStyle,Se=this.strokeStyle,we=this.lineCap,re=this.lineWidth,pe=Math.abs(re*this.ctx.transform.scaleX),xe=this.lineJoin,Ae=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Ie=[],fe=0;fe<He.length;fe++)if(He[fe].x!==void 0)for(var $e=v.call(this,He[fe]),mt=0;mt<$e.length;mt+=1)Ie.indexOf($e[mt])===-1&&Ie.push($e[mt]);for(var pt=0;pt<Ie.length;pt++)for(;this.pdf.internal.getNumberOfPages()<Ie[pt];)g.call(this);if(b(Ie),this.autoPaging)for(var rt=Ie[0],Et=Ie[Ie.length-1],gt=rt;gt<Et+1;gt++){this.pdf.setPage(gt),this.fillStyle=he,this.strokeStyle=Se,this.lineCap=we,this.lineWidth=pe,this.lineJoin=xe;var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=gt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=gt===1?0:bt+(gt-2)*wt;if(this.ctx.clip_path.length!==0){var Xt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(J,this.posX+this.margin[3],-Tt+Mt+this.ctx.prevPageLastElemOffset),E.call(this,R,!0),this.path=Xt}if(ne=JSON.parse(JSON.stringify(Ae)),this.path=y(ne,this.posX+this.margin[3],-Tt+Mt+this.ctx.prevPageLastElemOffset),$===!1||gt===0){var ot=(gt>rt||gt<Et)&&m.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,wt,null).clip().discardPath()),E.call(this,R,$),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=pe,E.call(this,R,$),this.lineWidth=re;this.path=Ae},E=function(R,$){if((R!=="stroke"||$||!p.call(this))&&(R==="stroke"||$||!h.call(this))){for(var J,ne,he=[],Se=this.path,we=0;we<Se.length;we++){var re=Se[we];switch(re.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:re,deltas:[],abs:[]});break;case"lt":var pe=he.length;if(Se[we-1]&&!isNaN(Se[we-1].x)&&(J=[re.x-Se[we-1].x,re.y-Se[we-1].y],pe>0)){for(;pe>=0;pe--)if(he[pe-1].close!==!0&&he[pe-1].begin!==!0){he[pe-1].deltas.push(J),he[pe-1].abs.push(re);break}}break;case"bct":J=[re.x1-Se[we-1].x,re.y1-Se[we-1].y,re.x2-Se[we-1].x,re.y2-Se[we-1].y,re.x-Se[we-1].x,re.y-Se[we-1].y],he[he.length-1].deltas.push(J);break;case"qct":var xe=Se[we-1].x+2/3*(re.x1-Se[we-1].x),Ae=Se[we-1].y+2/3*(re.y1-Se[we-1].y),He=re.x+2/3*(re.x1-re.x),Ie=re.y+2/3*(re.y1-re.y),fe=re.x,$e=re.y;J=[xe-Se[we-1].x,Ae-Se[we-1].y,He-Se[we-1].x,Ie-Se[we-1].y,fe-Se[we-1].x,$e-Se[we-1].y],he[he.length-1].deltas.push(J);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(re)}}ne=$?null:R==="stroke"?"stroke":"fill";for(var mt=!1,pt=0;pt<he.length;pt++)if(he[pt].arc)for(var rt=he[pt].abs,Et=0;Et<rt.length;Et++){var gt=rt[Et];gt.type==="arc"?B.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,$,!mt):F.call(this,gt.x,gt.y),mt=!0}else if(he[pt].close===!0)this.pdf.internal.out("h"),mt=!1;else if(he[pt].begin!==!0){var $t=he[pt].start.x,Mt=he[pt].start.y;H.call(this,he[pt].deltas,$t,Mt),mt=!0}ne&&j.call(this,ne),$&&D.call(this)}},N=function(R){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-J;case"top":return R+$-J;case"hanging":return R+$-2*J;case"middle":return R+$/2-J;default:return R}},_=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function($,J){this.colorStops.push([$,J])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(R,$,J,ne,he,Se,we,re,pe){for(var xe=q.call(this,J,ne,he,Se),Ae=0;Ae<xe.length;Ae++){var He=xe[Ae];Ae===0&&(pe?k.call(this,He.x1+R,He.y1+$):F.call(this,He.x1+R,He.y1+$)),Y.call(this,R,$,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}re?D.call(this):j.call(this,we)},j=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(R,$){this.pdf.internal.out(n(R)+" "+r($)+" m")},O=function(R){var $;switch(R.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var J=this.pdf.getTextDimensions(R.text),ne=N.call(this,R.y),he=_.call(this,ne)-J.h,Se=this.ctx.transform.applyToPoint(new s(R.x,ne)),we=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var pe,xe,Ae,He=this.ctx.transform.applyToRectangle(new o(R.x,ne,J.w,J.h)),Ie=re.applyToRectangle(new o(R.x,he,J.w,J.h)),fe=v.call(this,Ie),$e=[],mt=0;mt<fe.length;mt+=1)$e.indexOf(fe[mt])===-1&&$e.push(fe[mt]);if(b($e),this.autoPaging)for(var pt=$e[0],rt=$e[$e.length-1],Et=pt;Et<rt+1;Et++){this.pdf.setPage(Et);var gt=Et===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[2],bt=Mt-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],Tt=wt-this.margin[3],Xt=Et===1?0:$t+(Et-2)*bt;if(this.ctx.clip_path.length!==0){var ot=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(pe,this.posX+this.margin[3],-1*Xt+gt),E.call(this,"fill",!0),this.path=ot}var vt=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Xt+gt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*R.scale),Ae=this.lineWidth,this.lineWidth=Ae*R.scale);var xt=this.autoPaging!=="text";if(xt||vt.y+vt.h<=Mt){if(xt||vt.y>=gt&&vt.x<=wt){var Lt=xt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||wt-vt.x)[0],hn=y([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Xt+gt+this.ctx.prevPageLastElemOffset)[0],Cn=xt&&(Et>pt||Et<rt)&&m.call(this);Cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,bt,null).clip().discardPath()),this.pdf.text(Lt,hn.x,hn.y,{angle:R.angle,align:$,renderingMode:R.renderingMode}),Cn&&this.pdf.restoreGraphicsState()}}else vt.y<Mt&&(this.ctx.prevPageLastElemOffset+=Mt-vt.y);R.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=Ae)}else R.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*R.scale),Ae=this.lineWidth,this.lineWidth=Ae*R.scale),this.pdf.text(R.text,Se.x+this.posX,Se.y+this.posY,{angle:R.angle,align:$,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=Ae)},F=function(R,$,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(R+J)+" "+r($+ne)+" l")},H=function(R,$,J){return this.pdf.lines(R,$,J,null,null)},Y=function(R,$,J,ne,he,Se,we,re){this.pdf.internal.out([e(i(J+R)),e(a(ne+$)),e(i(he+R)),e(a(Se+$)),e(i(we+R)),e(a(re+$)),"c"].join(" "))},q=function(R,$,J,ne){for(var he=2*Math.PI,Se=Math.PI/2;$>J;)$-=he;var we=Math.abs(J-$);we<he&&ne&&(we=he-we);for(var re=[],pe=ne?-1:1,xe=$;we>1e-5;){var Ae=xe+pe*Math.min(we,Se);re.push(Z.call(this,R,xe,Ae)),we-=Math.abs(Ae-xe),xe=Ae}return re},Z=function(R,$,J){var ne=(J-$)/2,he=R*Math.cos(ne),Se=R*Math.sin(ne),we=he,re=-Se,pe=we*we+re*re,xe=pe+we*he+re*Se,Ae=4/3*(Math.sqrt(2*pe*xe)-xe)/(we*Se-re*he),He=we-Ae*re,Ie=re+Ae*we,fe=He,$e=-Ie,mt=ne+$,pt=Math.cos(mt),rt=Math.sin(mt);return{x1:R*Math.cos($),y1:R*Math.sin($),x2:He*pt-Ie*rt,y2:He*rt+Ie*pt,x3:fe*pt-$e*rt,y3:fe*rt+$e*pt,x4:R*Math.cos(J),y4:R*Math.sin(J)}},W=function(R){return 180*R/Math.PI},oe=function(R,$,J,ne,he,Se){var we=R+.5*(J-R),re=$+.5*(ne-$),pe=he+.5*(J-he),xe=Se+.5*(ne-Se),Ae=Math.min(R,he,we,pe),He=Math.max(R,he,we,pe),Ie=Math.min($,Se,re,xe),fe=Math.max($,Se,re,xe);return new o(Ae,Ie,He-Ae,fe-Ie)},te=function(R,$,J,ne,he,Se,we,re){var pe,xe,Ae,He,Ie,fe,$e,mt,pt,rt,Et,gt,$t,Mt,bt=J-R,wt=ne-$,Tt=he-J,Xt=Se-ne,ot=we-he,vt=re-Se;for(xe=0;xe<41;xe++)pt=($e=(Ae=R+(pe=xe/40)*bt)+pe*((Ie=J+pe*Tt)-Ae))+pe*(Ie+pe*(he+pe*ot-Ie)-$e),rt=(mt=(He=$+pe*wt)+pe*((fe=ne+pe*Xt)-He))+pe*(fe+pe*(Se+pe*vt-fe)-mt),xe==0?(Et=pt,gt=rt,$t=pt,Mt=rt):(Et=Math.min(Et,pt),gt=Math.min(gt,rt),$t=Math.max($t,pt),Mt=Math.max(Mt,rt));return new o(Math.round(Et),Math.round(gt),Math.round($t-Et),Math.round(Mt-gt))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,$,J=(R=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:$}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(pn.API),function(t){var e=function(s){var o,l,u,A,d,f,h,p,m,v;for(l=[],u=0,A=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;A>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(f=(d=((d=((d=((d=(d-(v=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,v+33)):l.push(122);return function(g,y){for(var b=y;b>0;b--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,u,A,d,f=String,h="length",p=255,m="charCodeAt",v="slice",g="replace";for(s[v](-2),s=s[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],A=0,d=(s+=o="uuuuu"[v](s[h]%5||5))[h];d>A;A+=5)l=52200625*(s[m](A)-33)+614125*(s[m](A+1)-33)+7225*(s[m](A+2)-33)+85*(s[m](A+3)-33)+(s[m](A+4)-33),u.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,b){for(var C=b;C>0;C--)y.pop()}(u,o[h]),f.fromCharCode.apply(f,u)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=ZI(o)).reduce(function(u,A){return u+String.fromCharCode(A)},"")};t.processDataByFilters=function(s,o){var l=0,u=s||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:A.reverse().join(" ")}}}(pn.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,A){var d=new XMLHttpRequest,f=0,h=function(p){var m=p.length,v=[],g=String.fromCharCode;for(f=0;f<m;f+=1)v.push(g(255&p.charCodeAt(f)));return v.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?A(h(this.responseText)):A(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(pn.API),function(t){function e(){return(kn.html2canvas?Promise.resolve(kn.html2canvas):AN(()=>Promise.resolve().then(()=>eZe),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(kn.DOMPurify?Promise.resolve(kn.DOMPurify):AN(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Vr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var A in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[A]=l.style[A];return u},a=function o(l,u){for(var A=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||A.appendChild(o(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(A.width=l.width,A.height=l.height,A.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(A.value=l.value),A.addEventListener("load",function(){A.scrollTop=l.scrollTop,A.scrollLeft=l.scrollLeft},!0)),A},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),u);return(A=A.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,A=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=A,A)for(var h=0;h<A.length;++h){var p=A[h],m=p.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,A){return Math.floor(u*A/72*96)}return this.then(function(){(o=o||pn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,A){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,A?this.progress.stack.concat(A):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(A,d){return u.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,A),f}).then(A,d).then(function(f){return u.updateProgress(1),f})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var A=this;o&&(o=o.bind(A)),l&&(l=l.bind(A));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:s.convert(Object.assign({},A),Promise.prototype),f=u.call(d,o,l);return s.convert(f,A.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,pn.getPageSize=function(o,l,u){if(Vr(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,u=A.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,v=0;if(h.hasOwnProperty(f))m=h[f][1]/d,v=h[f][0]/d;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",v>m&&(p=v,v=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(p=v,v=m,m=p)}return{width:v,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jN):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(pn.API),pn.API.addJS=function(t){return Bz=t,this.internal.events.subscribe("postPutResources",function(){Y1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Y1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_z=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Bz+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Y1!==void 0&&_z!==void 0&&this.internal.out("/Names <</JavaScript "+Y1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(a=0;a<u;a++){var d=n.internal.newObject();A.push(d);var f=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<A.length;a++)n.internal.write("(page_"+(a+1)+")"+A[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(pn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,u=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,e.indexOf(d.charCodeAt(v+1))!==-1){f=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:f,numcomponents:d.charCodeAt(v+9)};break}h=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return A}}(pn.API),pn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=uKe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,A=a.depth;i=u&&l===1?function(B){for(var j=B.width,D=B.height,k=B.data,O=B.palette,F=B.depth,H=!1,Y=[],q=[],Z=void 0,W=!1,oe=0,te=0;te<O.length;te++){var ue=IH(O[te],4),R=ue[0],$=ue[1],J=ue[2],ne=ue[3];Y.push(R,$,J),ne!=null&&(ne===0?(oe++,q.length<1&&q.push(te)):ne<255&&(W=!0))}if(W||oe>1){H=!0,q=void 0;var he=j*D;Z=new Uint8Array(he);for(var Se=new DataView(k.buffer),we=0;we<he;we++){var re=IN(Se,we,F),pe=IH(O[re],4)[3];Z[we]=pe}}else oe===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:Z,needSMask:H,palette:Y,mask:q}}(a):l===2||l===4?function(B){for(var j=B.data,D=B.width,k=B.height,O=B.channels,F=B.depth,H=O===2?"DeviceGray":"DeviceRGB",Y=O-1,q=D*k,Z=Y,W=q*Z,oe=1*q,te=Math.ceil(W*F/8),ue=Math.ceil(oe*F/8),R=new Uint8Array(te),$=new Uint8Array(ue),J=new DataView(j.buffer),ne=new DataView(R.buffer),he=new DataView($.buffer),Se=!1,we=0;we<q;we++){for(var re=we*O,pe=0;pe<Z;pe++)Fz(ne,IN(J,re+pe,F),we*Z+pe,F);var xe=IN(J,re+Z,F);xe<(1<<F)-1&&(Se=!0),Fz(he,xe,1*we,F)}return{colorSpace:H,colorsPerPixel:Y,sMaskBitsPerComponent:Se?F:void 0,colorBytes:R,alphaBytes:$,needSMask:Se}}(a):function(B){var j=B.data,D=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?function(k){for(var O=k.length,F=new Uint8Array(2*O),H=new DataView(F.buffer,F.byteOffset,F.byteLength),Y=0;Y<O;Y++)H.setUint16(2*Y,k[Y],!1);return F}(j):j,needSMask:!1}}(a);var d,f,h,p=i,m=p.colorSpace,v=p.colorsPerPixel,g=p.sMaskBitsPerComponent,y=p.colorBytes,b=p.alphaBytes,C=p.needSMask,E=p.palette,N=p.mask,_=null;return r!==pn.API.image_compression.NONE&&typeof ZI=="function"?(_=function(B){var j;switch(B){case pn.API.image_compression.FAST:j=11;break;case pn.API.image_compression.MEDIUM:j=13;break;case pn.API.image_compression.SLOW:j=14;break;default:j=12}return j}(r),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(_," /Colors ").concat(v," /BitsPerComponent ").concat(A," /Columns ").concat(s),t=Iz(y,Math.ceil(s*v*A/8),v,A,r),C&&(h=Iz(b,Math.ceil(s*g/8),1,g,r))):(d=void 0,f=void 0,t=y,C&&(h=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:d,decodeParameters:f,transparency:N,palette:E,sMask:h,predictor:_,width:s,height:o,bitsPerComponent:A,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new IKe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},A=new kN(100).encode(u,100);return t.processJPEG.call(this,A,n,r,i)},t.processGIF87A=t.processGIF89A}(pn.API),Hc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ni.log("bit decode error:"+n)}},Hc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Hc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Hc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Hc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,A=r*this.width*4+4*i;this.data[A]=l,this.data[A+1]=o,this.data[A+2]=s,this.data[A+3]=u}this.pos+=t}},Hc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,A=i*this.width*4+4*a;this.data[A]=u,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=255}this.pos+=t}},Hc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Hc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Hc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Hc(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new kN(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(pn.API),Lz.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new Lz(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new kN(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(pn.API),pn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var A=r[u],d=r[u+1],f=r[u+2],h=r[u+3];a[o++]=A,a[o++]=d,a[o++]=f,s[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lp=pn.API,X1=Lp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,A=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,h=t.length,p=0,m=o[0]||l,v=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(f=d&&Vr(u[r])==="object"&&!isNaN(parseInt(u[r][p],10))?u[r][p]/A:0,v.push((o[r]||m)/l+f)),p=r;return v},Nz=Lp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Lp.processArabic&&(t=Lp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:X1.apply(this,arguments).reduce(function(a,s){return a+s},0)},jz=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},Tz=function(t,e,n){n||(n={});var r,i,a,s,o,l,u,A=[],d=[A],f=n.textIndent||0,h=0,p=0,m=t.split(" "),v=X1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),y=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?y=y.concat(C.map(function(E,N){return(N&&E.length?`
`:"")+E})):y.push(C[0])}),m=y,l=Nz.apply(this,[g,n])}for(a=0,s=m.length;a<s;a++){var b=0;if(r=m[a],l&&r[0]==`
`&&(r=r.substr(1),b=1),f+h+(p=(i=X1.apply(this,[r,n])).reduce(function(C,E){return C+E},0))>e||b){if(p>e){for(o=jz.apply(this,[r,i,e-(f+h),e]),A.push(o.shift()),A=[o.pop()];o.length;)d.push([o.shift()]);p=i.slice(r.length-(A[0]?A[0].length:0)).reduce(function(C,E){return C+E},0)}else A=[r];d.push(A),f=p+l,h=v}else A.push(r),f+=h+p,h=v}return u=l?function(C,E){return(E?g:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(u)},Lp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var d=this.internal.getFont(A.fontName,A.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(Tz.apply(this,[r[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,m,v,g=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(Vr(h)!=="object")throw new Error("Don't know what to do with value type "+Vr(h)+".");m=o(h)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,v,g={},y=1,b=g,C=[],E="",N="",_=f.length-1,B=1;B<_;B+=1)(v=f[B])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(C.push([b,m]),b={},m=void 0):v=="}"?((p=C.pop())[0][p[1]]=b,m=void 0,b=p[0]):v=="-"?y=-1:m===void 0?r.hasOwnProperty(v)?(E+=r[v],m=parseInt(E,16)*y,y=1,E=""):E+=v:r.hasOwnProperty(v)?(N+=r[v],b[m]=parseInt(N,16)*y,y=1,m=void 0,N=""):N+=v;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=A.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(pn.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(l2(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(pn),pn.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw ni.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ni.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(kn.canvg?Promise.resolve(kn.canvg):AN(()=>import("./index.es-C4tmA5hN.js"),[],import.meta.url)).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(u,t,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(A)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},pn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},pn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,A=0,d=0;function f(p,m){var v,g=!1;for(v=0;v<p.length;v+=1)p[v]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(d=0;d<h;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Vr(t)==="object"){for(i in t)if(a=t[i],f(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&f(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(A=0;A<a[u].length;A+=1)typeof a[u][A]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(pn.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],d=0,f=a.length;d<f;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return A.join("");o=o.toString(16),A.push(u[4-o.length],o)}return A.join("")},r=function(a){var s,o,l,u,A,d,f;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(a).sort(function(h,p){return h-p})).length;d<f;d++)s=o[d],l.length>=100&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,A=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();A({data:h,addLength1:!0,objectId:m}),l("endobj");var v=u();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Yp(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Yp(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Yp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,A=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=u();A({data:f,addLength1:!0,objectId:p}),l("endobj");var m=u();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Yp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Yp(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,A=a.options||{},d=a.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,m=h,v="",g=0,y="",b=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:o,x:l,y:u,options:A,mutex:d};for(y=o,m=h,Array.isArray(o)&&(y=o[0]),g=0;g<y.length;g+=1)p[m].metadata.hasOwnProperty("cmap")&&(s=p[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),s||y[g].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?v+=y[g]:v+="";var C="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?C=f(v,m).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(C=n(v,p[m])),d.isHex=!0,{text:C,x:l,y:u,options:A,mutex:d}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(pn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(pn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,u,A,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var C=function(k){var O=k.charCodeAt(),F=O>>8,H=m[F];return H!==void 0?d[256*H+(255&O)]:F===252||F===253?"AL":g.test(F)?"L":F===8?"R":"N"},E=function(k){for(var O,F=0;F<k.length;F++){if((O=C(k.charAt(F)))==="L")return!1;if(O==="R")return!0}return!1},N=function(k,O,F,H){var Y,q,Z,W,oe=O[H];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(oe="AN");break;case"AL":y=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":H<1||H+1>=O.length||(Y=F[H-1])!=="EN"&&Y!=="AN"||(q=O[H+1])!=="EN"&&q!=="AN"?oe="N":y&&(q="AN"),oe=q===Y?q:"N";break;case"ES":oe=(Y=H>0?F[H-1]:"B")==="EN"&&H+1<O.length&&O[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&F[H-1]==="EN"){oe="EN";break}if(y){oe="N";break}for(Z=H+1,W=O.length;Z<W&&O[Z]==="ET";)Z++;oe=Z<W&&O[Z]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(W=O.length,Z=H+1;Z<W&&O[Z]==="NSM";)Z++;if(Z<W){var te=k[H],ue=te>=1425&&te<=2303||te===64286;if(Y=O[Z],ue&&(Y==="R"||Y==="AL")){oe="R";break}}}oe=H<1||(Y=O[H-1])==="B"?"N":F[H-1];break;case"B":y=!1,i=!0,oe=b;break;case"S":a=!0,oe="N"}return oe},_=function(k,O,F){var H=k.split("");return F&&B(H,F,{hiLevel:b}),H.reverse(),O&&O.reverse(),H.join("")},B=function(k,O,F){var H,Y,q,Z,W,oe=-1,te=k.length,ue=0,R=[],$=b?h:f,J=[];for(y=!1,i=!1,a=!1,Y=0;Y<te;Y++)J[Y]=C(k[Y]);for(q=0;q<te;q++){if(W=ue,R[q]=N(k,J,R,q),H=240&(ue=$[W][p[R[q]]]),ue&=15,O[q]=Z=$[ue][5],H>0)if(H===16){for(Y=oe;Y<q;Y++)O[Y]=1;oe=-1}else oe=-1;if($[ue][6])oe===-1&&(oe=q);else if(oe>-1){for(Y=oe;Y<q;Y++)O[Y]=Z;oe=-1}J[q]==="B"&&(O[q]=0),F.hiLevel|=Z}a&&function(ne,he,Se){for(var we=0;we<Se;we++)if(ne[we]==="S"){he[we]=b;for(var re=we-1;re>=0&&ne[re]==="WS";re--)he[re]=b}}(J,O,te)},j=function(k,O,F,H,Y){if(!(Y.hiLevel<k)){if(k===1&&b===1&&!i)return O.reverse(),void(F&&F.reverse());for(var q,Z,W,oe,te=O.length,ue=0;ue<te;){if(H[ue]>=k){for(W=ue+1;W<te&&H[W]>=k;)W++;for(oe=ue,Z=W-1;oe<Z;oe++,Z--)q=O[oe],O[oe]=O[Z],O[Z]=q,F&&(q=F[oe],F[oe]=F[Z],F[Z]=q);ue=W}ue++}}},D=function(k,O,F){var H=k.split(""),Y={hiLevel:b};return F||(F=[]),B(H,F,Y),function(q,Z,W){if(W.hiLevel!==0&&A)for(var oe,te=0;te<q.length;te++)Z[te]===1&&(oe=v.indexOf(q[te]))>=0&&(q[te]=v[oe+1])}(H,F,Y),j(2,H,O,F,Y),j(1,H,O,F,Y),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,O,F){if(function(Y,q){if(q)for(var Z=0;Z<Y.length;Z++)q[Z]=Z;o===void 0&&(o=E(Y)),u===void 0&&(u=E(Y))}(k,O),s||!l||u)if(s&&l&&o^u)b=o?1:0,k=_(k,O,F);else if(!s&&l&&u)b=o?1:0,k=D(k,O,F),k=_(k,O);else if(!s||o||l||u){if(s&&!l&&o^u)k=_(k,O),o?(b=0,k=D(k,O,F)):(b=1,k=D(k,O,F),k=_(k,O));else if(s&&o&&!l&&u)b=1,k=D(k,O,F),k=_(k,O);else if(!s&&!l&&o^u){var H=A;o?(b=1,k=D(k,O,F),b=0,A=!1,k=D(k,O,F),A=H):(b=0,k=D(k,O,F),k=_(k,O),b=1,A=!1,k=D(k,O,F),A=H,k=_(k,O))}}else b=0,k=D(k,O,F);else b=o?1:0,k=D(k,O,F);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,A=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(pn),pn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new pf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new KKe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new kKe(this.contents),this.head=new DKe(this),this.name=new RKe(this),this.cmap=new Pne(this),this.toUnicode={},this.hhea=new OKe(this),this.maxp=new UKe(this),this.hmtx=new QKe(this),this.post=new MKe(this),this.os2=new FKe(this),this.loca=new $Ke(this),this.glyf=new HKe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var pu,pf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),kKe=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,u,A,d,f,h,p,m;for(m in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),s=Math.floor(d/l),A=16*h-d,(i=new pf).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(s),i.writeShort(A),a=16*h,u=i.pos+a,o=null,p=[],n)for(f=n[m],i.writeString(m),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),p=p.concat(f),m==="head"&&(o=u),u+=f.length;u%4;)p.push(0),u++;return i.write(p),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=Dne.call(n);n.length%4;)n.push(0);for(a=new pf(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),PKe={}.hasOwnProperty,eA=function(t,e){for(var n in e)PKe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};pu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var DKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new pf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Rz=function(){function t(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,a=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),e.pos+=2,m=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),u=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),A=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var C,E;for(E=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)E.push(e.readUInt16());return E}(),l=g=0,b=a.length;g<b;l=++g)for(v=a[l],r=y=p=m[l];p<=v?y<=v:y>=v;r=p<=v?++y:--y)A[l]===0?s=r+u[l]:(s=o[A[l]/2+(r-p)-(f-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=d}return t.encode=function(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,b,C,E,N,_,B,j,D,k,O,F,H,Y,q,Z,W,oe,te,ue,R,$,J,ne,he,Se,we,re,pe,xe,Ae;switch(H=new pf,s=Object.keys(e).sort(function(He,Ie){return He-Ie}),n){case"macroman":for(m=0,v=function(){var He=[];for(p=0;p<256;++p)He.push(0);return He}(),y={0:0},a={},Y=0,oe=s.length;Y<oe;Y++)y[re=e[i=s[Y]]]==null&&(y[re]=++m),a[i]={old:e[i],new:y[e[i]]},v[i]=y[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(v),{charMap:a,subtable:H.data,maxGlyphID:m+1};case"unicode":for(O=[],d=[],b=0,y={},r={},g=u=null,q=0,te=s.length;q<te;q++)y[E=e[i=s[q]]]==null&&(y[E]=++b),r[i]={old:E,new:y[E]},o=y[E]-i,g!=null&&o===u||(g&&d.push(g),O.push(i),u=o),g=i;for(g&&d.push(g),d.push(65535),O.push(65535),D=2*(j=O.length),B=2*Math.pow(Math.log(j)/Math.LN2,2),f=Math.log(B/2)/Math.LN2,_=2*j-B,l=[],N=[],h=[],p=Z=0,ue=O.length;Z<ue;p=++Z){if(k=O[p],A=d[p],k===65535){l.push(0),N.push(0);break}if(k-(F=r[k].new)>=32768)for(l.push(0),N.push(2*(h.length+j-p)),i=W=k;k<=A?W<=A:W>=A;i=k<=A?++W:--W)h.push(r[i].new);else l.push(F-k),N.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*j+2*h.length),H.writeUInt16(0),H.writeUInt16(D),H.writeUInt16(B),H.writeUInt16(f),H.writeUInt16(_),Se=0,R=d.length;Se<R;Se++)i=d[Se],H.writeUInt16(i);for(H.writeUInt16(0),we=0,$=O.length;we<$;we++)i=O[we],H.writeUInt16(i);for(pe=0,J=l.length;pe<J;pe++)o=l[pe],H.writeUInt16(o);for(xe=0,ne=N.length;xe<ne;xe++)C=N[xe],H.writeUInt16(C);for(Ae=0,he=h.length;Ae<he;Ae++)m=h[Ae],H.writeUInt16(m);return{charMap:r,subtable:H.data,maxGlyphID:b+1}}},t}(),Pne=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Rz(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Rz.encode(e,n),(i=new pf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),OKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),FKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),MKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),LKe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},RKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,u,A,d,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=A=0,d=r.length;A<d;a=++A)i=r[a],e.pos=i.offset,u=e.readString(i.length),s=new LKe(u,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),UKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),QKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)A.push(e.readInt16());return A}(),this.widths=(function(){var u,A,d,f;for(f=[],u=0,A=(d=this.metrics).length;u<A;u++)a=d[u],f.push(a.advance);return f}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Dne=[].slice,HKe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,u,A,d;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new pf(n.read(i))).readShort(),u=o.readShort(),d=o.readShort(),l=o.readShort(),A=o.readShort(),this.cache[e]=s===-1?new VKe(o,u,d,l,A):new zKe(o,s,u,d,l,A),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),zKe=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),VKe=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new pf(Dne.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),$Ke=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eA(t,pu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),A=0;A<r.length;++A)u[4*A+3]=255&r[A],u[4*A+2]=(65280&r[A])>>8,u[4*A+1]=(16711680&r[A])>>16,u[4*A]=(4278190080&r[A])>>24;return u},t}(),KKe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g;for(i in r=Pne.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=r.charMap)h[(l=g[i]).old]=l.new;for(p in f=r.maxGlyphID,s)p in h||(h[p]=f++);return A=function(y){var b,C;for(b in C={},y)C[y[b]]=b;return C}(h),d=Object.keys(A).sort(function(y,b){return y-b}),m=function(){var y,b,C;for(C=[],y=0,b=d.length;y<b;y++)o=d[y],C.push(A[o]);return C}(),a=this.font.glyf.encode(s,m,h),u=this.font.loca.encode(a.offsets,m),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();pn.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function One(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*l,A=/\r\n|\r|\n/g,d="",f=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(A):t,f=d.length||1),n+=o*(2-a),r.valign==="middle"?n-=f/2*u:r.valign==="bottom"&&(n-=f*u),r.halign==="center"||r.halign==="right"){var h=o;if(r.halign==="center"&&(h*=.5),d&&f>=1){for(var p=0;p<d.length;p++)i.text(d[p],e-i.getStringUnitWidth(d[p])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Uz={},Km=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Uz=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var A=t.unifyColor(e.fillColor);A&&(r=this.jsPDFDocument).setFillColor.apply(r,A),A=t.unifyColor(e.textColor),A&&(i=this.jsPDFDocument).setTextColor.apply(i,A),A=t.unifyColor(e.lineColor),A&&(a=this.jsPDFDocument).setDrawColor.apply(a,A),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Uz||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),ok=function(t,e){return ok=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ok(t,e)};function Fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ok(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Mne=function(t){Fne(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function WKe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function GKe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function ES(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function Lne(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=Rne(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function Rne(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function WE(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Une(t,e){var n=WE(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function qKe(t,e,n,r,i){var a={},s=1.3333333333333333,o=PN(e,function(b){return i.getComputedStyle(b).backgroundColor});o!=null&&(a.fillColor=o);var l=PN(e,function(b){return i.getComputedStyle(b).color});l!=null&&(a.textColor=l);var u=XKe(r,n);u&&(a.cellPadding=u);var A="borderTopColor",d=s*n,f=r.borderTopWidth;if(r.borderBottomWidth===f&&r.borderRightWidth===f&&r.borderLeftWidth===f){var h=(parseFloat(f)||0)/d;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?A="borderRightColor":a.lineWidth.bottom?A="borderBottomColor":a.lineWidth.left&&(A="borderLeftColor"));var p=PN(e,function(b){return i.getComputedStyle(b)[A]});p!=null&&(a.lineColor=p);var m=["left","right","center","justify"];m.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),m=["middle","bottom","top"],m.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var v=parseInt(r.fontSize||"");isNaN(v)||(a.fontSize=v/s);var g=YKe(r);g&&(a.fontStyle=g);var y=(r.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(a.font=y),a}function YKe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function PN(t,e){var n=Qne(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Qne(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Qne(t.parentElement,e):n}function XKe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),s=WE(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function Hne(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),A=[],d=[],f=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:A,body:d,foot:f};for(var h=0;h<o.rows.length;h++){var p=o.rows[h],m=(s=(a=p==null?void 0:p.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=JKe(l,u,n,p,r,i);v&&(m==="thead"?A.push(v):m==="tfoot"?f.push(v):d.push(v))}return{head:A,body:d,foot:f}}function JKe(t,e,n,r,i,a){for(var s=new Mne(r),o=0;o<r.cells.length;o++){var l=r.cells[o],u=n.getComputedStyle(l);if(i||u.display!=="none"){var A=void 0;a&&(A=qKe(t,l,e,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:A,_element:l,content:ZKe(l)})}}var d=n.getComputedStyle(r);if(s.length>0&&(i||d.display!=="none"))return s}function ZKe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function eWe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function jA(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function zne(t,e){var n=new Km(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();eWe(i,r,e);var a=jA({},i,r,e),s;typeof window<"u"&&(s=window);var o=tWe(i,r,e),l=nWe(i,r,e),u=rWe(n,a),A=aWe(n,a,s);return{id:e.tableId,content:A,hooks:l,styles:o,settings:u}}function tWe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],A=e[l],d=n[l];r.columnStyles=jA({},u,A,d)}else{var f=[t,e,n],h=f.map(function(p){return p[l]||{}});r[l]=jA({},h[0],h[1],h[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function nWe(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function rWe(t,e){var n,r,i,a,s,o,l,u,A,d,f,h,p=WE(e.margin,40/t.scaleFactor()),m=(n=iWe(t,e.startY))!==null&&n!==void 0?n:p.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var g;e.showHead===!0?g="everyPage":e.showHead===!1?g="never":g=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var y=(a=e.useCss)!==null&&a!==void 0?a:!1,b=e.theme||(y?"plain":"striped"),C=!!e.horizontalPageBreak,E=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:b,startY:m,margin:p,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(A=e.tableWidth)!==null&&A!==void 0?A:"auto",showHead:g,showFoot:v,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function iWe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function aWe(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var o=Hne(t,e.html,n,s,e.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||sWe(r,i,a);return{columns:l,head:r,body:i,foot:a}}function sWe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=a+(l>0?"_".concat(l):"");var A={dataKey:u};i.push(A)}}),i}var lk=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),oWe=function(t){Fne(e,t);function e(n,r,i,a,s,o){var l=t.call(this,n,r,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return e}(lk),lWe=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var o=0,l=n;o<l.length;o++){var u=l[o],A=new oWe(e,this,r,i,a,s),d=u(A)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new lk(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new lk(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),Vne=function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof Mne&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),$ne=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=WE(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),cWe=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function uWe(t,e){AWe(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=ck(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=ck(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),fWe(e),hWe(e,t),dWe(e)}function AWe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=Une(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){var A=e.hooks.didParseCell;e.callCellHooks(t,A,u,a,l,null);var d=u.padding("horizontal");u.contentWidth=ES(u.text,u.styles,t)+d;var f=ES(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var A=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=A.cellWidth||A.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function ck(t,e,n){for(var r=e,i=t.reduce(function(h,p){return h+p.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/i,l=r*o,u=s.width+l,A=n(s),d=u<A?A:u;e-=d-s.width,s.width=d}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(h){return e<0?h.width>n(h):!0});f.length&&(e=ck(f,e,n))}return e}function dWe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=t.columns;s<o.length;s++){var l=o[s],u=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,n=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var A=a.cells[l.index];if(!A)continue;if(A.height=a.height,A.rowSpan>1){var d=r.length-i,f=A.rowSpan>d?d:A.rowSpan;e[l.index]={cell:A,left:f,row:a}}}}}function fWe(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+a}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function hWe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){e.applyStyles(u.styles,!0);var A=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,A+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Qz(u.text,A,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Qz(u.text,A,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,A);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<f*u.rowSpan?n={height:f,count:u.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>a.height&&(a.height=f)}}n.count--}}function Qz(t,e,n,r,i){return t.map(function(a){return pWe(a,e,n,r,i)})}function pWe(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=ES(t,n,r))return t;for(;e<ES(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Kne(t,e){var n=new Km(t),r=mWe(e,n.scaleFactor()),i=new lWe(e,r);return uWe(n,i),n.applyStyles(n.userStyles),i}function mWe(t,e){var n=t.content,r=vWe(n.columns);if(n.head.length===0){var i=Hz(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Hz(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:DN("head",n.head,r,s,a,e),body:DN("body",n.body,r,s,a,e),foot:DN("foot",n.foot,r,s,a,e)}}function DN(t,e,n,r,i,a){var s={},o=e.map(function(l,u){for(var A=0,d={},f=0,h=0,p=0,m=n;p<m.length;p++){var v=m[p];if(s[v.index]==null||s[v.index].left===0)if(h===0){var g=void 0;Array.isArray(l)?g=l[v.index-f-A]:g=l[v.dataKey];var y={};typeof g=="object"&&!Array.isArray(g)&&(y=(g==null?void 0:g.styles)||{});var b=yWe(t,v,u,i,r,a,y),C=new $ne(g,b,t);d[v.dataKey]=C,d[v.index]=C,h=C.colSpan-1,s[v.index]={left:C.rowSpan-1,times:h}}else h--,f++;else s[v.index].left--,h=s[v.index].times,A++}return new Vne(l,u,t,d)});return o}function Hz(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=gWe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function gWe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function vWe(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new cWe(i,e,n)})}function yWe(t,e,n,r,i,a,s){var o=GKe(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=jA({},o.table,o[t],i.styles,l),A=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?A:{},f=t==="body"&&n%2===0?jA({},o.alternateRow,i.alternateRowStyles):{},h=WKe(a),p=jA({},h,u,f,d);return jA(p,s)}function bWe(t,e,n){var r;n===void 0&&(n={});var i=Une(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var h=e.columns.find(function(p){return p.dataKey===f||p.index===f});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),o.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,A=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;A<e.columns.length;){if(a.has(A)){A++;continue}var d=e.columns[A].wrappedWidth;if(u||i>=d)u=!1,s.push(A),o.push(e.columns[A]),i-=d;else break;A++}return{colIndexes:s,columns:o,lastIndex:A-1}}function xWe(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=bWe(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function Wne(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(f,h){return f+h.height},0);o+=u}var A=new Km(t);(n.pageBreak==="always"||n.startY!=null&&o>A.pageSize().height)&&(qne(A),a.y=i.top),e.callWillDrawPageHooks(A,a);var d=jA({},a);e.startPageNumber=A.pageNumber(),n.horizontalPageBreak?wWe(A,e,d,a):(A.applyStyles(A.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(f){return GA(A,e,f,a,e.columns)}),A.applyStyles(A.userStyles),e.body.forEach(function(f,h){var p=h===e.body.length-1;_S(A,e,f,p,d,a,e.columns)}),A.applyStyles(A.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(f){return GA(A,e,f,a,e.columns)})),Lne(A,e,d,a),e.callEndPageHooks(A,a),e.finalY=a.y,t.lastAutoTable=e,A.applyStyles(A.userStyles)}function wWe(t,e,n,r){var i=xWe(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,A){t.applyStyles(t.userStyles),A>0?uy(t,e,n,r,u.columns,!0):zz(t,e,r,u.columns),CWe(t,e,n,r,u.columns),ON(t,e,r,u.columns)});else for(var s=-1,o=i[0],l=function(){var u=s;if(o){t.applyStyles(t.userStyles);var A=o.columns;s>=0?uy(t,e,n,r,A,!0):zz(t,e,r,A),u=Vz(t,e,s+1,r,A),ON(t,e,r,A)}var d=u-s;i.slice(1).forEach(function(f){t.applyStyles(t.userStyles),uy(t,e,n,r,f.columns,!0),Vz(t,e,s+1,r,f.columns,d),ON(t,e,r,f.columns)}),s=u};s<e.body.length-1;)l()}function zz(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return GA(t,e,a,n,r)})}function CWe(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;_S(t,e,a,o,n,r,i)})}function Vz(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,s).forEach(function(l,u){var A=n+u===e.body.length-1,d=Gne(t,e,A,r);l.canEntireRowFit(d,i)&&(GA(t,e,l,r,i),o=n+u)}),o}function ON(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return GA(t,e,a,n,r)})}function SWe(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function EWe(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var A=new $ne(u.raw,u.styles,u.section);A=jA(A,u),A.text=[];var d=SWe(u,e,r);u.text.length>d&&(A.text=u.text.splice(d,u.text.length));var f=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,h),u.contentHeight>=e&&(u.contentHeight=e,A.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),A.contentHeight=A.getContentHeight(f,h),A.contentHeight>a&&(a=A.contentHeight),i[l.index]=A}}var p=new Vne(t.raw,-1,t.section,i,!0);p.height=a;for(var m=0,v=n.columns;m<v.length;m++){var l=v[m],A=p.cells[l.index];A&&(A.height=p.height);var u=t.cells[l.index];u&&(u.height=t.height)}return p}function _We(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var A=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>o;return d?(A&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||r.settings.rowPageBreak==="avoid")}function _S(t,e,n,r,i,a,s){var o=Gne(t,e,r,a);if(n.canEntireRowFit(o,s))GA(t,e,n,a,s);else if(_We(t,n,o,e)){var l=EWe(n,o,e,t);GA(t,e,n,a,s),uy(t,e,i,a,s),_S(t,e,l,r,i,a,s)}else uy(t,e,i,a,s),_S(t,e,n,r,i,a,s)}function GA(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(u===!1){r.x+=o.width;continue}BWe(t,l,r);var A=l.getTextPos();One(l.text,A.x,A.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function BWe(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Rne(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),NWe(t,e,n,r.lineWidth))}function NWe(t,e,n,r){var i,a,s,o;r.top&&(i=n.x,a=n.y,s=n.x+e.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,o=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o));function l(u,A,d,f,h){t.getDocument().setLineWidth(u),t.getDocument().line(A,d,f,h,"S")}}function Gne(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function uy(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return GA(t,e,o,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;Lne(t,e,n,r),qne(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return GA(t,e,o,r,i)}),t.applyStyles(t.userStyles))}function qne(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function jWe(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=zne(this,r),a=Kne(this,i);return Wne(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){One(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Km.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Km.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Km(this),a=Hne(i,e,window,n,!1),s=a.head,o=a.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var FN;function GE(t,e){var n=zne(t,e),r=Kne(t,n);Wne(t,r)}try{if(typeof window<"u"&&window){var $z=window,Kz=$z.jsPDF||((FN=$z.jspdf)===null||FN===void 0?void 0:FN.jsPDF);Kz&&jWe(Kz)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uk=function(t,e){return uk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uk(t,e)};function mu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uk(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ak=function(){return Ak=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ak.apply(this,arguments)};function mo(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(A){try{u(r.next(A))}catch(d){s(d)}}function l(A){try{u(r.throw(A))}catch(d){s(d)}}function u(A){A.done?a(A.value):i(A.value).then(o,l)}u((r=r.apply(t,[])).next())})}function Ys(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(A){return l([u,A])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(A){u=[6,A],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function J1(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var qA=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),qE=function(t,e){return qA.fromClientRect(t,e.getBoundingClientRect())},TWe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new qA(0,0,r,i)},YE=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},da=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var s=t[i];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Wz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IWe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Z1=0;Z1<Wz.length;Z1++)IWe[Wz.charCodeAt(Z1)]=Z1;var Gz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_v=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ew=0;ew<Gz.length;ew++)_v[Gz.charCodeAt(ew)]=ew;var kWe=function(t){var e=t.length*.75,n=t.length,r,i=0,a,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=_v[t.charCodeAt(r)],s=_v[t.charCodeAt(r+1)],o=_v[t.charCodeAt(r+2)],l=_v[t.charCodeAt(r+3)],A[i++]=a<<2|s>>4,A[i++]=(s&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return u},PWe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},DWe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Ph=5,aF=11,MN=2,OWe=aF-Ph,Yne=65536>>Ph,FWe=1<<Ph,LN=FWe-1,MWe=1024>>Ph,LWe=Yne+MWe,RWe=LWe,UWe=32,QWe=RWe+UWe,HWe=65536>>aF,zWe=1<<OWe,VWe=zWe-1,qz=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},$We=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},KWe=function(t,e){var n=kWe(t),r=Array.isArray(n)?DWe(n):new Uint32Array(n),i=Array.isArray(n)?PWe(n):new Uint16Array(n),a=24,s=qz(i,a/2,r[4]/2),o=r[5]===2?qz(i,(a+r[4])/2):$We(r,Math.ceil((a+r[4])/4));return new WWe(r[0],r[1],r[2],r[3],s,o)},WWe=function(){function t(e,n,r,i,a,s){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Ph],n=(n<<MN)+(e&LN),this.data[n];if(e<=65535)return n=this.index[Yne+(e-55296>>Ph)],n=(n<<MN)+(e&LN),this.data[n];if(e<this.highStart)return n=QWe-HWe+(e>>aF),n=this.index[n],n+=e>>Ph&VWe,n=this.index[n],n=(n<<MN)+(e&LN),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Yz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GWe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tw=0;tw<Yz.length;tw++)GWe[Yz.charCodeAt(tw)]=tw;var qWe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Xz=50,YWe=1,Xne=2,Jne=3,XWe=4,JWe=5,Jz=7,Zne=8,Zz=9,Rd=10,dk=11,e9=12,fk=13,ZWe=14,Bv=15,hk=16,nw=17,sv=18,eGe=19,t9=20,pk=21,ov=22,RN=23,Rp=24,vl=25,Nv=26,jv=27,Up=28,tGe=29,sh=30,nGe=31,rw=32,iw=33,mk=34,gk=35,vk=36,Ub=37,yk=38,f2=39,h2=40,UN=41,ere=42,rGe=43,iGe=[9001,65288],tre="!",or="",aw="",bk=KWe(qWe),pA=[sh,vk],xk=[YWe,Xne,Jne,JWe],nre=[Rd,Zne],n9=[jv,Nv],aGe=xk.concat(nre),r9=[yk,f2,h2,mk,gk],sGe=[Bv,fk],oGe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(a,s){var o=bk.get(a);if(o>Xz?(i.push(!0),o-=Xz):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(s),n.push(hk);if(o===XWe||o===dk){if(s===0)return r.push(s),n.push(sh);var l=n[s-1];return aGe.indexOf(l)===-1?(r.push(r[s-1]),n.push(l)):(r.push(s),n.push(sh))}if(r.push(s),o===nGe)return n.push(e==="strict"?pk:Ub);if(o===ere||o===tGe)return n.push(sh);if(o===rGe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Ub):n.push(sh);n.push(o)}),[r,n,i]},QN=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=n;a<=r.length;){a++;var s=r[a];if(s===e)return!0;if(s!==Rd)break}if(i===Rd)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var s=r[l];if(s===e)return!0;if(s!==Rd)break}if(o!==Rd)break}return!1},i9=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Rd)n--;else return r}return 0},lGe=function(t,e,n,r,i){if(n[r]===0)return or;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return or;var s=a-1,o=a+1,l=e[a],u=s>=0?e[s]:0,A=e[o];if(l===Xne&&A===Jne)return or;if(xk.indexOf(l)!==-1)return tre;if(xk.indexOf(A)!==-1||nre.indexOf(A)!==-1)return or;if(i9(a,e)===Zne)return aw;if(bk.get(t[a])===dk||(l===rw||l===iw)&&bk.get(t[o])===dk||l===Jz||A===Jz||l===Zz||[Rd,fk,Bv].indexOf(l)===-1&&A===Zz||[nw,sv,eGe,Rp,Up].indexOf(A)!==-1||i9(a,e)===ov||QN(RN,ov,a,e)||QN([nw,sv],pk,a,e)||QN(e9,e9,a,e))return or;if(l===Rd)return aw;if(l===RN||A===RN)return or;if(A===hk||l===hk)return aw;if([fk,Bv,pk].indexOf(A)!==-1||l===ZWe||u===vk&&sGe.indexOf(l)!==-1||l===Up&&A===vk||A===t9||pA.indexOf(A)!==-1&&l===vl||pA.indexOf(l)!==-1&&A===vl||l===jv&&[Ub,rw,iw].indexOf(A)!==-1||[Ub,rw,iw].indexOf(l)!==-1&&A===Nv||pA.indexOf(l)!==-1&&n9.indexOf(A)!==-1||n9.indexOf(l)!==-1&&pA.indexOf(A)!==-1||[jv,Nv].indexOf(l)!==-1&&(A===vl||[ov,Bv].indexOf(A)!==-1&&e[o+1]===vl)||[ov,Bv].indexOf(l)!==-1&&A===vl||l===vl&&[vl,Up,Rp].indexOf(A)!==-1)return or;if([vl,Up,Rp,nw,sv].indexOf(A)!==-1)for(var d=a;d>=0;){var f=e[d];if(f===vl)return or;if([Up,Rp].indexOf(f)!==-1)d--;else break}if([jv,Nv].indexOf(A)!==-1)for(var d=[nw,sv].indexOf(l)!==-1?s:a;d>=0;){var f=e[d];if(f===vl)return or;if([Up,Rp].indexOf(f)!==-1)d--;else break}if(yk===l&&[yk,f2,mk,gk].indexOf(A)!==-1||[f2,mk].indexOf(l)!==-1&&[f2,h2].indexOf(A)!==-1||[h2,gk].indexOf(l)!==-1&&A===h2||r9.indexOf(l)!==-1&&[t9,Nv].indexOf(A)!==-1||r9.indexOf(A)!==-1&&l===jv||pA.indexOf(l)!==-1&&pA.indexOf(A)!==-1||l===Rp&&pA.indexOf(A)!==-1||pA.concat(vl).indexOf(l)!==-1&&A===ov&&iGe.indexOf(t[o])===-1||pA.concat(vl).indexOf(A)!==-1&&l===sv)return or;if(l===UN&&A===UN){for(var h=n[a],p=1;h>0&&(h--,e[h]===UN);)p++;if(p%2!==0)return or}return l===rw&&A===iw?or:aw},cGe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=oGe(t,e.lineBreak),r=n[0],i=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[vl,sh,ere].indexOf(o)!==-1?Ub:o}));var s=e.wordBreak==="keep-all"?a.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,s]},uGe=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===tre,this.start=r,this.end=i}return t.prototype.slice=function(){return da.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),AGe=function(t,e){var n=YE(t),r=cGe(n,e),i=r[0],a=r[1],s=r[2],o=n.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var A=or;u<o&&(A=lGe(n,a,i,++u,s))===or;);if(A!==or||u===o){var d=new uGe(n,A,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},dGe=1,fGe=2,Dx=4,a9=8,BS=10,s9=47,Ay=92,hGe=9,pGe=32,sw=34,lv=61,mGe=35,gGe=36,vGe=37,ow=39,lw=40,cv=41,yGe=95,Po=45,bGe=33,xGe=60,wGe=62,CGe=64,SGe=91,EGe=93,_Ge=61,BGe=123,cw=63,NGe=125,o9=124,jGe=126,TGe=128,l9=65533,HN=42,yh=43,IGe=44,kGe=58,PGe=59,Qb=46,DGe=0,OGe=8,FGe=11,MGe=14,LGe=31,RGe=127,Eu=-1,rre=48,ire=97,are=101,UGe=102,QGe=117,HGe=122,sre=65,ore=69,lre=70,zGe=85,VGe=90,eo=function(t){return t>=rre&&t<=57},$Ge=function(t){return t>=55296&&t<=57343},Qp=function(t){return eo(t)||t>=sre&&t<=lre||t>=ire&&t<=UGe},KGe=function(t){return t>=ire&&t<=HGe},WGe=function(t){return t>=sre&&t<=VGe},GGe=function(t){return KGe(t)||WGe(t)},qGe=function(t){return t>=TGe},uw=function(t){return t===BS||t===hGe||t===pGe},NS=function(t){return GGe(t)||qGe(t)||t===yGe},c9=function(t){return NS(t)||eo(t)||t===Po},YGe=function(t){return t>=DGe&&t<=OGe||t===FGe||t>=MGe&&t<=LGe||t===RGe},Bd=function(t,e){return t!==Ay?!1:e!==BS},Aw=function(t,e,n){return t===Po?NS(e)||Bd(e,n):NS(t)?!0:!!(t===Ay&&Bd(t,e))},zN=function(t,e,n){return t===yh||t===Po?eo(e)?!0:e===Qb&&eo(n):eo(t===Qb?e:t)},XGe=function(t){var e=0,n=1;(t[e]===yh||t[e]===Po)&&(t[e]===Po&&(n=-1),e++);for(var r=[];eo(t[e]);)r.push(t[e++]);var i=r.length?parseInt(da.apply(void 0,r),10):0;t[e]===Qb&&e++;for(var a=[];eo(t[e]);)a.push(t[e++]);var s=a.length,o=s?parseInt(da.apply(void 0,a),10):0;(t[e]===ore||t[e]===are)&&e++;var l=1;(t[e]===yh||t[e]===Po)&&(t[e]===Po&&(l=-1),e++);for(var u=[];eo(t[e]);)u.push(t[e++]);var A=u.length?parseInt(da.apply(void 0,u),10):0;return n*(i+o*Math.pow(10,-s))*Math.pow(10,l*A)},JGe={type:2},ZGe={type:3},eqe={type:4},tqe={type:13},nqe={type:8},rqe={type:21},iqe={type:9},aqe={type:10},sqe={type:11},oqe={type:12},lqe={type:14},dw={type:23},cqe={type:1},uqe={type:25},Aqe={type:24},dqe={type:26},fqe={type:27},hqe={type:28},pqe={type:29},mqe={type:31},wk={type:32},cre=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(YE(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==wk;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case sw:return this.consumeStringToken(sw);case mGe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(c9(n)||Bd(r,i)){var a=Aw(n,r,i)?fGe:dGe,s=this.consumeName();return{type:5,value:s,flags:a}}break;case gGe:if(this.peekCodePoint(0)===lv)return this.consumeCodePoint(),tqe;break;case ow:return this.consumeStringToken(ow);case lw:return JGe;case cv:return ZGe;case HN:if(this.peekCodePoint(0)===lv)return this.consumeCodePoint(),lqe;break;case yh:if(zN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case IGe:return eqe;case Po:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(zN(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Aw(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Po&&u===wGe)return this.consumeCodePoint(),this.consumeCodePoint(),Aqe;break;case Qb:if(zN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case s9:if(this.peekCodePoint(0)===HN)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===HN&&(A=this.consumeCodePoint(),A===s9))return this.consumeToken();if(A===Eu)return this.consumeToken()}break;case kGe:return dqe;case PGe:return fqe;case xGe:if(this.peekCodePoint(0)===bGe&&this.peekCodePoint(1)===Po&&this.peekCodePoint(2)===Po)return this.consumeCodePoint(),this.consumeCodePoint(),uqe;break;case CGe:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(Aw(d,f,h)){var s=this.consumeName();return{type:7,value:s}}break;case SGe:return hqe;case Ay:if(Bd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case EGe:return pqe;case _Ge:if(this.peekCodePoint(0)===lv)return this.consumeCodePoint(),nqe;break;case BGe:return sqe;case NGe:return oqe;case QGe:case zGe:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===yh&&(Qp(m)||m===cw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case o9:if(this.peekCodePoint(0)===lv)return this.consumeCodePoint(),iqe;if(this.peekCodePoint(0)===o9)return this.consumeCodePoint(),rqe;break;case jGe:if(this.peekCodePoint(0)===lv)return this.consumeCodePoint(),aqe;break;case Eu:return wk}return uw(e)?(this.consumeWhiteSpace(),mqe):eo(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):NS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:da(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Qp(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===cw&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(da.apply(void 0,e.map(function(l){return l===cw?rre:l})),16),a=parseInt(da.apply(void 0,e.map(function(l){return l===cw?lre:l})),16);return{type:30,start:i,end:a}}var s=parseInt(da.apply(void 0,e),16);if(this.peekCodePoint(0)===Po&&Qp(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];Qp(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(da.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===lw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lw?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eu)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===ow||n===sw){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eu||this.peekCodePoint(0)===cv)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),dw)}for(;;){var i=this.consumeCodePoint();if(i===Eu||i===cv)return{type:22,value:da.apply(void 0,e)};if(uw(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Eu||this.peekCodePoint(0)===cv?(this.consumeCodePoint(),{type:22,value:da.apply(void 0,e)}):(this.consumeBadUrlRemnants(),dw);if(i===sw||i===ow||i===lw||YGe(i))return this.consumeBadUrlRemnants(),dw;if(i===Ay)if(Bd(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dw;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;uw(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===cv||e===Eu)return;Bd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=da.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Eu||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===BS)return this._value.splice(0,r),cqe;if(i===Ay){var a=this._value[r+1];a!==Eu&&a!==void 0&&(a===BS?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Bd(i,a)&&(n+=this.consumeStringSlice(r),n+=da(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Dx,r=this.peekCodePoint(0);for((r===yh||r===Po)&&e.push(this.consumeCodePoint());eo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Qb&&eo(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=a9;eo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===ore||r===are)&&((i===yh||i===Po)&&eo(a)||eo(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=a9;eo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[XGe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Aw(i,a,s)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===vGe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Qp(e)){for(var n=da(e);Qp(this.peekCodePoint(0))&&n.length<6;)n+=da(this.consumeCodePoint());uw(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||$Ge(r)||r>1114111?l9:r}return e===Eu?l9:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(c9(n))e+=da(n);else if(Bd(n,this.peekCodePoint(0)))e+=da(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),ure=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new cre;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||vqe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?wk:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ox=function(t){return t.type===15},N0=function(t){return t.type===17},Yr=function(t){return t.type===20},gqe=function(t){return t.type===0},Ck=function(t,e){return Yr(t)&&t.value===e},Are=function(t){return t.type!==31},Gg=function(t){return t.type!==31&&t.type!==4},tA=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},vqe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},mf=function(t){return t.type===17||t.type===15},Na=function(t){return t.type===16||mf(t)},dre=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Bs={type:17,number:0,flags:Dx},sF={type:16,number:50,flags:Dx},Ud={type:16,number:100,flags:Dx},Tv=function(t,e,n){var r=t[0],i=t[1];return[ui(r,e),ui(typeof i<"u"?i:r,n)]},ui=function(t,e){if(t.type===16)return t.number/100*e;if(Ox(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},fre="deg",hre="grad",pre="rad",mre="turn",XE={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case fre:return Math.PI*e.number/180;case hre:return Math.PI/200*e.number;case pre:return e.number;case mre:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},gre=function(t){return t.type===15&&(t.unit===fre||t.unit===hre||t.unit===pre||t.unit===mre)},vre=function(t){var e=t.filter(Yr).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Bs,Bs];case"to top":case"bottom":return dc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Bs,Ud];case"to right":case"left":return dc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ud,Ud];case"to bottom":case"top":return dc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ud,Bs];case"to left":case"right":return dc(270)}return 0},dc=function(t){return Math.PI*t/180},rf={name:"color",parse:function(t,e){if(e.type===18){var n=yqe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Qd(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return Qd(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Qd(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return Qd(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var o=OA[e.value.toUpperCase()];if(typeof o<"u")return o}return OA.TRANSPARENT}},af=function(t){return(255&t)===0},ts=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Qd=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},u9=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},A9=function(t,e){var n=e.filter(Gg);if(n.length===3){var r=n.map(u9),i=r[0],a=r[1],s=r[2];return Qd(i,a,s,1)}if(n.length===4){var o=n.map(u9),i=o[0],a=o[1],s=o[2],l=o[3];return Qd(i,a,s,l)}return 0};function VN(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var d9=function(t,e){var n=e.filter(Gg),r=n[0],i=n[1],a=n[2],s=n[3],o=(r.type===17?dc(r.number):XE.parse(t,r))/(Math.PI*2),l=Na(i)?i.number/100:0,u=Na(a)?a.number/100:0,A=typeof s<"u"&&Na(s)?ui(s,1):1;if(l===0)return Qd(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,f=u*2-d,h=VN(f,d,o+1/3),p=VN(f,d,o),m=VN(f,d,o-1/3);return Qd(h*255,p*255,m*255,A)},yqe={hsl:d9,hsla:d9,rgb:A9,rgba:A9},dy=function(t,e){return rf.parse(t,ure.create(e).parseComponentValue())},OA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bqe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xqe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JE=function(t,e){var n=rf.parse(t,e[0]),r=e[1];return r&&Na(r)?{color:n,stop:r}:{color:n,stop:null}},f9=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Bs),r.stop===null&&(r.stop=Ud);for(var i=[],a=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var l=ui(o,e);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,s=0;s<i.length;s++){var A=i[s];if(A===null)u===null&&(u=s);else if(u!==null){for(var d=s-u,f=i[u-1],h=(A-f)/(d+1),p=1;p<=d;p++)i[u+p-1]=h*p;u=null}}return t.map(function(m,v){var g=m.color;return{color:g,stop:Math.max(Math.min(1,i[v]/e),0)}})},wqe=function(t,e,n){var r=e/2,i=n/2,a=ui(t[0],e)-r,s=i-ui(t[1],n);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},Cqe=function(t,e,n){var r=typeof t=="number"?t:wqe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,s=n/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,a-u,a+u,s-l,s+l]},zc=function(t,e){return Math.sqrt(t*t+e*e)},h9=function(t,e,n,r,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,o){var l=o[0],u=o[1],A=zc(n-l,r-u);return(i?A<s.optimumDistance:A>s.optimumDistance)?{optimumCorner:o,optimumDistance:A}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Sqe=function(t,e,n,r,i){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),s=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)a=s=Math.min(zc(e,n),zc(e,n-i),zc(e-r,n),zc(e-r,n-i));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=h9(r,i,e,n,!0),u=l[0],A=l[1];a=zc(u-e,(A-n)/o),s=o*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),s=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)a=s=Math.max(zc(e,n),zc(e,n-i),zc(e-r,n),zc(e-r,n-i));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),d=h9(r,i,e,n,!1),u=d[0],A=d[1];a=zc(u-e,(A-n)/o),s=o*a}break}return Array.isArray(t.size)&&(a=ui(t.size[0],r),s=t.size.length===2?ui(t.size[1],i):a),[a,s]},Eqe=function(t,e){var n=dc(180),r=[];return tA(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){n=vre(i);return}else if(gre(s)){n=XE.parse(t,s);return}}var o=JE(t,i);r.push(o)}),{angle:n,stops:r,type:1}},fw=function(t,e){var n=dc(180),r=[];return tA(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){n=vre(i);return}else if(gre(s)){n=(XE.parse(t,s)+dc(270))%dc(360);return}}var o=JE(t,i);r.push(o)}),{angle:n,stops:r,type:1}},_qe=function(t,e){var n=dc(180),r=[],i=1,a=0,s=3,o=[];return tA(e).forEach(function(l,u){var A=l[0];if(u===0){if(Yr(A)&&A.value==="linear"){i=1;return}else if(Yr(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var d=rf.parse(t,A.values[0]);r.push({stop:Bs,color:d})}else if(A.name==="to"){var d=rf.parse(t,A.values[0]);r.push({stop:Ud,color:d})}else if(A.name==="color-stop"){var f=A.values.filter(Gg);if(f.length===2){var d=rf.parse(t,f[1]),h=f[0];N0(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),i===1?{angle:(n+dc(180))%dc(360),stops:r,type:i}:{size:s,shape:a,stops:r,position:o,type:i}},yre="closest-side",bre="farthest-side",xre="closest-corner",wre="farthest-corner",Cre="circle",Sre="ellipse",Ere="cover",_re="contain",Bqe=function(t,e){var n=0,r=3,i=[],a=[];return tA(e).forEach(function(s,o){var l=!0;if(o===0){var u=!1;l=s.reduce(function(d,f){if(u)if(Yr(f))switch(f.value){case"center":return a.push(sF),d;case"top":case"left":return a.push(Bs),d;case"right":case"bottom":return a.push(Ud),d}else(Na(f)||mf(f))&&a.push(f);else if(Yr(f))switch(f.value){case Cre:return n=0,!1;case Sre:return n=1,!1;case"at":return u=!0,!1;case yre:return r=0,!1;case Ere:case bre:return r=1,!1;case _re:case xre:return r=2,!1;case wre:return r=3,!1}else if(mf(f)||Na(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},l)}if(l){var A=JE(t,s);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},hw=function(t,e){var n=0,r=3,i=[],a=[];return tA(e).forEach(function(s,o){var l=!0;if(o===0?l=s.reduce(function(A,d){if(Yr(d))switch(d.value){case"center":return a.push(sF),!1;case"top":case"left":return a.push(Bs),!1;case"right":case"bottom":return a.push(Ud),!1}else if(Na(d)||mf(d))return a.push(d),!1;return A},l):o===1&&(l=s.reduce(function(A,d){if(Yr(d))switch(d.value){case Cre:return n=0,!1;case Sre:return n=1,!1;case _re:case yre:return r=0,!1;case bre:return r=1,!1;case xre:return r=2,!1;case Ere:case wre:return r=3,!1}else if(mf(d)||Na(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return A},l)),l){var u=JE(t,s);i.push(u)}}),{size:r,shape:n,stops:i,position:a,type:2}},Nqe=function(t){return t.type===1},jqe=function(t){return t.type===2},oF={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=Bre[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Tqe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Bre[t.name])}var Bre={"linear-gradient":Eqe,"-moz-linear-gradient":fw,"-ms-linear-gradient":fw,"-o-linear-gradient":fw,"-webkit-linear-gradient":fw,"radial-gradient":Bqe,"-moz-radial-gradient":hw,"-ms-radial-gradient":hw,"-o-radial-gradient":hw,"-webkit-radial-gradient":hw,"-webkit-gradient":_qe},Iqe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Gg(r)&&Tqe(r)}).map(function(r){return oF.parse(t,r)})}},kqe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pqe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return tA(e).map(function(n){return n.filter(Na)}).map(dre)}},Dqe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return tA(e).map(function(n){return n.filter(Yr).map(function(r){return r.value}).join(" ")}).map(Oqe)}},Oqe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wm;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Wm||(Wm={}));var Fqe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return tA(e).map(function(n){return n.filter(Mqe)})}},Mqe=function(t){return Yr(t)||Na(t)},ZE=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Lqe=ZE("top"),Rqe=ZE("right"),Uqe=ZE("bottom"),Qqe=ZE("left"),e_=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return dre(n.filter(Na))}}},Hqe=e_("top-left"),zqe=e_("top-right"),Vqe=e_("bottom-right"),$qe=e_("bottom-left"),t_=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Kqe=t_("top"),Wqe=t_("right"),Gqe=t_("bottom"),qqe=t_("left"),n_=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Ox(n)?n.number:0}}},Yqe=n_("top"),Xqe=n_("right"),Jqe=n_("bottom"),Zqe=n_("left"),eYe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tYe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},nYe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).reduce(function(n,r){return n|rYe(r.value)},0)}},rYe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},iYe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},aYe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},jS;(function(t){t.NORMAL="normal",t.STRICT="strict"})(jS||(jS={}));var sYe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return jS.STRICT;case"normal":default:return jS.NORMAL}}},oYe={name:"line-height",initialValue:"normal",prefix:!1,type:4},p9=function(t,e){return Yr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Na(t)?ui(t,e):e},lYe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:oF.parse(t,e)}},cYe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Sk={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},r_=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},uYe=r_("top"),AYe=r_("right"),dYe=r_("bottom"),fYe=r_("left"),hYe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pYe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},i_=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mYe=i_("top"),gYe=i_("right"),vYe=i_("bottom"),yYe=i_("left"),bYe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},xYe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},wYe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ck(e[0],"none")?[]:tA(e).map(function(n){for(var r={color:OA.TRANSPARENT,offsetX:Bs,offsetY:Bs,blur:Bs},i=0,a=0;a<n.length;a++){var s=n[a];mf(s)?(i===0?r.offsetX=s:i===1?r.offsetY=s:r.blur=s,i++):r.color=rf.parse(t,s)}return r})}},CYe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},SYe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=BYe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},EYe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},_Ye=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,i,a,s,o]:null},BYe={matrix:EYe,matrix3d:_Ye},m9={type:16,number:50,flags:Dx},NYe=[m9,m9],jYe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Na);return n.length!==2?NYe:[n[0],n[1]]}},TYe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},fy;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(fy||(fy={}));var IYe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return fy.BREAK_ALL;case"keep-all":return fy.KEEP_ALL;case"normal":default:return fy.NORMAL}}},kYe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(N0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Nre={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},PYe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return N0(e)?e.number:1}},DYe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},OYe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},FYe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},MYe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},LYe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(N0(e))return e.number;if(Yr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},RYe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Yr).map(function(n){return n.value})}},UYe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ga=function(t,e){return(t&e)!==0},QYe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},HYe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(Are),a=0;a<i.length;a++){var s=i[a],o=i[a+1];if(s.type===20){var l=o&&N0(o)?o.number:1;r.push({counter:s.value,increment:l})}}return r}},zYe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(Are),i=0;i<r.length;i++){var a=r[i],s=r[i+1];if(Yr(a)&&a.value!=="none"){var o=s&&N0(s)?s.number:0;n.push({counter:a.value,reset:o})}}return n}},VYe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ox).map(function(n){return Nre.parse(t,n)})}},$Ye={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(gqe);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,o=i[a+1].value;r.push({open:s,close:o})}return r}},g9=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},KYe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ck(e[0],"none")?[]:tA(e).map(function(n){for(var r={color:255,offsetX:Bs,offsetY:Bs,blur:Bs,spread:Bs,inset:!1},i=0,a=0;a<n.length;a++){var s=n[a];Ck(s,"inset")?r.inset=!0:mf(s)?(i===0?r.offsetX=s:i===1?r.offsetY=s:i===2?r.blur=s:r.spread=s,i++):r.color=rf.parse(t,s)}return r})}},WYe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Yr).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},GYe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},qYe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ox(e)?e.number:0}},YYe=function(){function t(e,n){var r,i;this.animationDuration=Zt(e,VYe,n.animationDuration),this.backgroundClip=Zt(e,bqe,n.backgroundClip),this.backgroundColor=Zt(e,xqe,n.backgroundColor),this.backgroundImage=Zt(e,Iqe,n.backgroundImage),this.backgroundOrigin=Zt(e,kqe,n.backgroundOrigin),this.backgroundPosition=Zt(e,Pqe,n.backgroundPosition),this.backgroundRepeat=Zt(e,Dqe,n.backgroundRepeat),this.backgroundSize=Zt(e,Fqe,n.backgroundSize),this.borderTopColor=Zt(e,Lqe,n.borderTopColor),this.borderRightColor=Zt(e,Rqe,n.borderRightColor),this.borderBottomColor=Zt(e,Uqe,n.borderBottomColor),this.borderLeftColor=Zt(e,Qqe,n.borderLeftColor),this.borderTopLeftRadius=Zt(e,Hqe,n.borderTopLeftRadius),this.borderTopRightRadius=Zt(e,zqe,n.borderTopRightRadius),this.borderBottomRightRadius=Zt(e,Vqe,n.borderBottomRightRadius),this.borderBottomLeftRadius=Zt(e,$qe,n.borderBottomLeftRadius),this.borderTopStyle=Zt(e,Kqe,n.borderTopStyle),this.borderRightStyle=Zt(e,Wqe,n.borderRightStyle),this.borderBottomStyle=Zt(e,Gqe,n.borderBottomStyle),this.borderLeftStyle=Zt(e,qqe,n.borderLeftStyle),this.borderTopWidth=Zt(e,Yqe,n.borderTopWidth),this.borderRightWidth=Zt(e,Xqe,n.borderRightWidth),this.borderBottomWidth=Zt(e,Jqe,n.borderBottomWidth),this.borderLeftWidth=Zt(e,Zqe,n.borderLeftWidth),this.boxShadow=Zt(e,KYe,n.boxShadow),this.color=Zt(e,eYe,n.color),this.direction=Zt(e,tYe,n.direction),this.display=Zt(e,nYe,n.display),this.float=Zt(e,iYe,n.cssFloat),this.fontFamily=Zt(e,FYe,n.fontFamily),this.fontSize=Zt(e,MYe,n.fontSize),this.fontStyle=Zt(e,UYe,n.fontStyle),this.fontVariant=Zt(e,RYe,n.fontVariant),this.fontWeight=Zt(e,LYe,n.fontWeight),this.letterSpacing=Zt(e,aYe,n.letterSpacing),this.lineBreak=Zt(e,sYe,n.lineBreak),this.lineHeight=Zt(e,oYe,n.lineHeight),this.listStyleImage=Zt(e,lYe,n.listStyleImage),this.listStylePosition=Zt(e,cYe,n.listStylePosition),this.listStyleType=Zt(e,Sk,n.listStyleType),this.marginTop=Zt(e,uYe,n.marginTop),this.marginRight=Zt(e,AYe,n.marginRight),this.marginBottom=Zt(e,dYe,n.marginBottom),this.marginLeft=Zt(e,fYe,n.marginLeft),this.opacity=Zt(e,PYe,n.opacity);var a=Zt(e,hYe,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Zt(e,pYe,n.overflowWrap),this.paddingTop=Zt(e,mYe,n.paddingTop),this.paddingRight=Zt(e,gYe,n.paddingRight),this.paddingBottom=Zt(e,vYe,n.paddingBottom),this.paddingLeft=Zt(e,yYe,n.paddingLeft),this.paintOrder=Zt(e,WYe,n.paintOrder),this.position=Zt(e,xYe,n.position),this.textAlign=Zt(e,bYe,n.textAlign),this.textDecorationColor=Zt(e,DYe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Zt(e,OYe,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Zt(e,wYe,n.textShadow),this.textTransform=Zt(e,CYe,n.textTransform),this.transform=Zt(e,SYe,n.transform),this.transformOrigin=Zt(e,jYe,n.transformOrigin),this.visibility=Zt(e,TYe,n.visibility),this.webkitTextStrokeColor=Zt(e,GYe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Zt(e,qYe,n.webkitTextStrokeWidth),this.wordBreak=Zt(e,IYe,n.wordBreak),this.zIndex=Zt(e,kYe,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return af(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ga(this.display,4)||Ga(this.display,33554432)||Ga(this.display,268435456)||Ga(this.display,536870912)||Ga(this.display,67108864)||Ga(this.display,134217728)},t}(),XYe=function(){function t(e,n){this.content=Zt(e,QYe,n.content),this.quotes=Zt(e,$Ye,n.quotes)}return t}(),v9=function(){function t(e,n){this.counterIncrement=Zt(e,HYe,n.counterIncrement),this.counterReset=Zt(e,zYe,n.counterReset)}return t}(),Zt=function(t,e,n){var r=new cre,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var a=new ure(r.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,Yr(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return XE.parse(t,a.parseComponentValue());case"color":return rf.parse(t,a.parseComponentValue());case"image":return oF.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return mf(o)?o:Bs;case"length-percentage":var l=a.parseComponentValue();return Na(l)?l:Bs;case"time":return Nre.parse(t,a.parseComponentValue())}break}},JYe="data-html2canvas-debug",ZYe=function(t){var e=t.getAttribute(JYe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ek=function(t,e){var n=ZYe(t);return n===1||e===n},nA=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ek(n,3))debugger;this.styles=new YYe(e,window.getComputedStyle(n,null)),Nk(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=qE(this.context,n),Ek(n,4)&&(this.flags|=16)}return t}(),eXe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",y9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Iv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pw=0;pw<y9.length;pw++)Iv[y9.charCodeAt(pw)]=pw;var tXe=function(t){var e=t.length*.75,n=t.length,r,i=0,a,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=Iv[t.charCodeAt(r)],s=Iv[t.charCodeAt(r+1)],o=Iv[t.charCodeAt(r+2)],l=Iv[t.charCodeAt(r+3)],A[i++]=a<<2|s>>4,A[i++]=(s&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return u},nXe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},rXe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Dh=5,lF=11,$N=2,iXe=lF-Dh,jre=65536>>Dh,aXe=1<<Dh,KN=aXe-1,sXe=1024>>Dh,oXe=jre+sXe,lXe=oXe,cXe=32,uXe=lXe+cXe,AXe=65536>>lF,dXe=1<<iXe,fXe=dXe-1,b9=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},hXe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},pXe=function(t,e){var n=tXe(t),r=Array.isArray(n)?rXe(n):new Uint32Array(n),i=Array.isArray(n)?nXe(n):new Uint16Array(n),a=24,s=b9(i,a/2,r[4]/2),o=r[5]===2?b9(i,(a+r[4])/2):hXe(r,Math.ceil((a+r[4])/4));return new mXe(r[0],r[1],r[2],r[3],s,o)},mXe=function(){function t(e,n,r,i,a,s){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Dh],n=(n<<$N)+(e&KN),this.data[n];if(e<=65535)return n=this.index[jre+(e-55296>>Dh)],n=(n<<$N)+(e&KN),this.data[n];if(e<this.highStart)return n=uXe-AXe+(e>>lF),n=this.index[n],n+=e>>Dh&fXe,n=this.index[n],n=(n<<$N)+(e&KN),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),x9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gXe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mw=0;mw<x9.length;mw++)gXe[x9.charCodeAt(mw)]=mw;var vXe=1,WN=2,GN=3,w9=4,C9=5,yXe=7,S9=8,qN=9,YN=10,E9=11,_9=12,B9=13,N9=14,XN=15,bXe=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},xXe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var s=t[i];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},wXe=pXe(eXe),ac="",JN="",CXe=function(t){return wXe.get(t)},SXe=function(t,e,n){var r=n-2,i=e[r],a=e[n-1],s=e[n];if(a===WN&&s===GN)return ac;if(a===WN||a===GN||a===w9||s===WN||s===GN||s===w9)return JN;if(a===S9&&[S9,qN,E9,_9].indexOf(s)!==-1||(a===E9||a===qN)&&(s===qN||s===YN)||(a===_9||a===YN)&&s===YN||s===B9||s===C9||s===yXe||a===vXe)return ac;if(a===B9&&s===N9){for(;i===C9;)i=e[--r];if(i===N9)return ac}if(a===XN&&s===XN){for(var o=0;i===XN;)o++,i=e[--r];if(o%2===0)return ac}return JN},EXe=function(t){var e=bXe(t),n=e.length,r=0,i=0,a=e.map(CXe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var s=ac;r<n&&(s=SXe(e,a,++r))===ac;);if(s!==ac||r===n){var o=xXe.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},_Xe=function(t){for(var e=EXe(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},BXe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(r),a===e)return!0}}return!1},NXe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=YE(r.data).map(function(l){return da(l)}),a=0,s={},o=i.every(function(l,u){n.setStart(r,a),n.setEnd(r,a+l.length);var A=n.getBoundingClientRect();a+=l.length;var d=A.x>s.x||A.y>s.y;return s=A,u===0?!0:d});return t.body.removeChild(e),o},jXe=function(){return typeof new Image().crossOrigin<"u"},TXe=function(){return typeof new XMLHttpRequest().responseType=="string"},IXe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},j9=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},kXe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=e.toDataURL();i.src=a;var s=_k(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),T9(s).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",j9(l)?T9(_k(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),j9(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},_k=function(t,e,n,r,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},T9=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Cs={get SUPPORT_RANGE_BOUNDS(){var t=BXe(document);return Object.defineProperty(Cs,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Cs.SUPPORT_RANGE_BOUNDS&&NXe(document);return Object.defineProperty(Cs,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=IXe(document);return Object.defineProperty(Cs,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?kXe(document):Promise.resolve(!1);return Object.defineProperty(Cs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=jXe();return Object.defineProperty(Cs,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=TXe();return Object.defineProperty(Cs,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Cs,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Cs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},hy=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),PXe=function(t,e,n,r){var i=FXe(e,n),a=[],s=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Cs.SUPPORT_RANGE_BOUNDS){var l=I9(r,s,o.length).getClientRects();if(l.length>1){var u=cF(o),A=0;u.forEach(function(f){a.push(new hy(f,qA.fromDOMRectList(t,I9(r,A+s,f.length).getClientRects()))),A+=f.length})}else a.push(new hy(o,qA.fromDOMRectList(t,l)))}else{var d=r.splitText(o.length);a.push(new hy(o,DXe(t,r))),r=d}else Cs.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),a},DXe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var a=qE(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return qA.EMPTY},I9=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},cF=function(t){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return _Xe(t)},OXe=function(t,e){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return LXe(t,e)},FXe=function(t,e){return e.letterSpacing!==0?cF(t):OXe(t,e)},MXe=[32,160,4961,65792,65793,4153,4241],LXe=function(t,e){for(var n=AGe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,a=function(){if(i.value){var s=i.value.slice(),o=YE(s),l="";o.forEach(function(u){MXe.indexOf(u)===-1?l+=da(u):(l.length&&r.push(l),r.push(da(u)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)a();return r},RXe=function(){function t(e,n,r){this.text=UXe(n.data,r.textTransform),this.textBounds=PXe(e,this.text,r,n)}return t}(),UXe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(QXe,HXe);case 2:return t.toUpperCase();default:return t}},QXe=/(^|\s|:|-|\(|\))([a-z])/g,HXe=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Tre=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(nA),Ire=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(nA),kre=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=new XMLSerializer,s=qE(n,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(nA),Pre=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(nA),Bk=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(nA),zXe=[{type:15,flags:0,unit:"px",number:3}],VXe=[{type:16,flags:0,number:50}],$Xe=function(t){return t.width>t.height?new qA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new qA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},KXe=function(t){var e=t.type===WXe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},TS="checkbox",IS="radio",WXe="password",k9=707406591,uF=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=KXe(r),(i.type===TS||i.type===IS)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=$Xe(i.bounds)),i.type){case TS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=zXe;break;case IS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=VXe;break}return i}return e}(nA),Dre=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(nA),Ore=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(nA),Fre=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=Lre(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?dy(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):OA.TRANSPARENT,s=r.contentWindow.document.body?dy(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):OA.TRANSPARENT;i.backgroundColor=af(a)?af(s)?i.styles.backgroundColor:s:a}}catch{}return i}return e}(nA),GXe=["OL","UL","MENU"],p2=function(t,e,n,r){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,Rre(i)&&i.data.trim().length>0)n.textNodes.push(new RXe(t,i,n.styles));else if(_m(i))if(zre(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return p2(t,o,n,r)});else{var s=Mre(t,i);s.styles.isVisible()&&(qXe(i,s,r)?s.flags|=4:YXe(s.styles)&&(s.flags|=2),GXe.indexOf(i.tagName)!==-1&&(s.flags|=8),n.elements.push(s),i.slot,i.shadowRoot?p2(t,i.shadowRoot,s,r):!kS(i)&&!Ure(i)&&!PS(i)&&p2(t,i,s,r))}},Mre=function(t,e){return jk(e)?new Tre(t,e):Qre(e)?new Ire(t,e):Ure(e)?new kre(t,e):XXe(e)?new Pre(t,e):JXe(e)?new Bk(t,e):ZXe(e)?new uF(t,e):PS(e)?new Dre(t,e):kS(e)?new Ore(t,e):Hre(e)?new Fre(t,e):new nA(t,e)},Lre=function(t,e){var n=Mre(t,e);return n.flags|=4,p2(t,e,n,n),n},qXe=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||AF(t)&&n.styles.isTransparent()},YXe=function(t){return t.isPositioned()||t.isFloating()},Rre=function(t){return t.nodeType===Node.TEXT_NODE},_m=function(t){return t.nodeType===Node.ELEMENT_NODE},Nk=function(t){return _m(t)&&typeof t.style<"u"&&!m2(t)},m2=function(t){return typeof t.className=="object"},XXe=function(t){return t.tagName==="LI"},JXe=function(t){return t.tagName==="OL"},ZXe=function(t){return t.tagName==="INPUT"},eJe=function(t){return t.tagName==="HTML"},Ure=function(t){return t.tagName==="svg"},AF=function(t){return t.tagName==="BODY"},Qre=function(t){return t.tagName==="CANVAS"},P9=function(t){return t.tagName==="VIDEO"},jk=function(t){return t.tagName==="IMG"},Hre=function(t){return t.tagName==="IFRAME"},D9=function(t){return t.tagName==="STYLE"},tJe=function(t){return t.tagName==="SCRIPT"},kS=function(t){return t.tagName==="TEXTAREA"},PS=function(t){return t.tagName==="SELECT"},zre=function(t){return t.tagName==="SLOT"},O9=function(t){return t.tagName.indexOf("-")>0},nJe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,a=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var s=[];return a&&i.forEach(function(o){var l=n.counters[o.counter];s.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),s},t}(),F9={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},M9={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},rJe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},iJe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hp=function(t,e,n,r,i,a){return t<e||t>n?Hb(t,i,a.length>0):r.integers.reduce(function(s,o,l){for(;t>=o;)t-=o,s+=r.values[l];return s},"")+a},Vre=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},ua=function(t,e,n,r,i){var a=n-e+1;return(t<0?"-":"")+(Vre(Math.abs(t),a,r,function(s){return da(Math.floor(s%a)+e)})+i)},zf=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return Vre(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},Xp=1,wd=2,Cd=4,kv=8,mA=function(t,e,n,r,i,a){if(t<-9999||t>9999)return Hb(t,4,i.length>0);var s=Math.abs(t),o=i;if(s===0)return e[0]+o;for(var l=0;s>0&&l<=4;l++){var u=s%10;u===0&&Ga(a,Xp)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Ga(a,wd)||u===1&&l===1&&Ga(a,Cd)&&t>100||u===1&&l>1&&Ga(a,kv)?o=e[u]+(l>0?n[l-1]:"")+o:u===1&&l>0&&(o=n[l-1]+o),s=Math.floor(s/10)}return(t<0?r:"")+o},L9="",R9="",U9="",ZN="",Hb=function(t,e,n){var r=n?". ":"",i=n?"":"",a=n?", ":"",s=n?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=ua(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return zf(t,"",i);case 6:return Hp(t,1,3999,F9,3,r).toLowerCase();case 7:return Hp(t,1,3999,F9,3,r);case 8:return ua(t,945,969,!1,r);case 9:return ua(t,97,122,!1,r);case 10:return ua(t,65,90,!1,r);case 11:return ua(t,1632,1641,!0,r);case 12:case 49:return Hp(t,1,9999,M9,3,r);case 35:return Hp(t,1,9999,M9,3,r).toLowerCase();case 13:return ua(t,2534,2543,!0,r);case 14:case 30:return ua(t,6112,6121,!0,r);case 15:return zf(t,"",i);case 16:return zf(t,"",i);case 17:case 48:return mA(t,"",L9,"",i,wd|Cd|kv);case 47:return mA(t,"",R9,"",i,Xp|wd|Cd|kv);case 42:return mA(t,"",L9,"",i,wd|Cd|kv);case 41:return mA(t,"",R9,"",i,Xp|wd|Cd|kv);case 26:return mA(t,"","",U9,i,0);case 25:return mA(t,"","",U9,i,Xp|wd|Cd);case 31:return mA(t,"","",ZN,a,Xp|wd|Cd);case 33:return mA(t,"","",ZN,a,0);case 32:return mA(t,"","",ZN,a,Xp|wd|Cd);case 18:return ua(t,2406,2415,!0,r);case 20:return Hp(t,1,19999,iJe,3,r);case 21:return ua(t,2790,2799,!0,r);case 22:return ua(t,2662,2671,!0,r);case 22:return Hp(t,1,10999,rJe,3,r);case 23:return zf(t,"");case 24:return zf(t,"");case 27:return ua(t,3302,3311,!0,r);case 28:return zf(t,"",i);case 29:return zf(t,"",i);case 34:return ua(t,3792,3801,!0,r);case 37:return ua(t,6160,6169,!0,r);case 38:return ua(t,4160,4169,!0,r);case 39:return ua(t,2918,2927,!0,r);case 40:return ua(t,1776,1785,!0,r);case 43:return ua(t,3046,3055,!0,r);case 44:return ua(t,3174,3183,!0,r);case 45:return ua(t,3664,3673,!0,r);case 46:return ua(t,3872,3881,!0,r);case 3:default:return ua(t,48,57,!0,r)}},$re="data-html2canvas-ignore",Q9=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new nJe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=aJe(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=lJe(i).then(function(){return mo(r,void 0,void 0,function(){var A,d;return Ys(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(dJe),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,oJe(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(uJe(document.doctype)+"<html></html>"),AJe(this.referenceElement.ownerDocument,a,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(Ek(e,2))debugger;if(Qre(e))return this.createCanvasClone(e);if(P9(e))return this.createVideoClone(e);if(D9(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return jk(n)&&(jk(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),O9(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return e4(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!_m(n)||!tJe(n)&&!n.hasAttribute($re)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!_m(n)||!D9(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(_m(a)&&zre(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(Rre(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&_m(e)&&(Nk(e)||m2(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=r.getComputedStyle(e),s=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&Nk(i)&&(this.clonedReferenceElement=i),AF(i)&&pJe(i);var l=this.counters.parse(new v9(this.context,a)),u=this.resolvePseudoContent(e,i,s,py.BEFORE);O9(e)&&(n=!0),P9(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var A=this.resolvePseudoContent(e,i,o,py.AFTER);return A&&i.appendChild(A),this.counters.pop(l),(a&&(this.options.copyStyles||m2(e))&&!Hre(e)||n)&&e4(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(kS(e)||PS(e))&&(kS(i)||PS(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var a=this;if(r){var s=r.content,o=n.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new v9(this.context,r));var l=new XYe(this.context,r),u=o.createElement("html2canvaspseudoelement");e4(r,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",u.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Yr);h.length&&u.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(Gg),m=p[0],v=p[1];if(m&&Yr(m)){var g=a.counters.getCounterValue(m.value),y=v&&Yr(v)?Sk.parse(a.context,v.value):3;u.appendChild(o.createTextNode(Hb(g,y,!1)))}}else if(d.name==="counters"){var b=d.values.filter(Gg),m=b[0],C=b[1],v=b[2];if(m&&Yr(m)){var E=a.counters.getCounterValues(m.value),N=v&&Yr(v)?Sk.parse(a.context,v.value):3,_=C&&C.type===0?C.value:"",B=E.map(function(k){return Hb(k,N,!1)}).join(_);u.appendChild(o.createTextNode(B))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(o.createTextNode(g9(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(g9(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(d.value))}}),u.className=Tk+" "+Ik;var A=i===py.BEFORE?" "+Tk:" "+Ik;return m2(n)?n.className.baseValue+=A:n.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),py;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(py||(py={}));var aJe=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute($re,"true"),t.body.appendChild(n),n},sJe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},oJe=function(t){return Promise.all([].slice.call(t.images,0).map(sJe))},lJe=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},cJe=["all","d","content"],e4=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);cJe.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},uJe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},AJe=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},dJe=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},fJe=":before",hJe=":after",Tk="___html2canvas___pseudoelement_before",Ik="___html2canvas___pseudoelement_after",H9=`{
    content: "" !important;
    display: none !important;
}`,pJe=function(t){mJe(t,"."+Tk+fJe+H9+`
         .`+Ik+hJe+H9)},mJe=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},Kre=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),gJe=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(n4(e)||xJe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return mo(this,void 0,void 0,function(){var n,r,i,a,s=this;return Ys(this,function(o){switch(o.label){case 0:return n=Kre.isSameOrigin(e),r=!t4(e)&&this._options.useCORS===!0&&Cs.SUPPORT_CORS_IMAGES&&!n,i=!t4(e)&&!n&&!n4(e)&&typeof this._options.proxy=="string"&&Cs.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!t4(e)&&!n4(e)&&!i&&!r?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var A=new Image;A.onload=function(){return l(A)},A.onerror=u,(wJe(a)||r)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return l(A)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,s){var o=Cs.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(f){return s(f)},!1),d.readAsDataURL(l.response)}else s("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=s;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var A=n._options.imageTimeout;l.timeout=A,l.ontimeout=function(){return s("Timed out ("+A+"ms) proxying "+i)}}l.send()})},t}(),vJe=/^data:image\/svg\+xml/i,yJe=/^data:image\/.*;base64,/i,bJe=/^data:image\/.*/i,xJe=function(t){return Cs.SUPPORT_SVG_DRAWING||!CJe(t)},t4=function(t){return bJe.test(t)},wJe=function(t){return yJe.test(t)},n4=function(t){return t.substr(0,4)==="blob"},CJe=function(t){return t.substr(-3).toLowerCase()==="svg"||vJe.test(t)},qt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),zp=function(t,e,n){return new qt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},gw=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=zp(this.start,this.startControl,e),i=zp(this.startControl,this.endControl,e),a=zp(this.endControl,this.end,e),s=zp(r,i,e),o=zp(i,a,e),l=zp(s,o,e);return n?new t(this.start,r,s,l):new t(l,o,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),lc=function(t){return t.type===1},SJe=function(){function t(e){var n=e.styles,r=e.bounds,i=Tv(n.borderTopLeftRadius,r.width,r.height),a=i[0],s=i[1],o=Tv(n.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],A=Tv(n.borderBottomRightRadius,r.width,r.height),d=A[0],f=A[1],h=Tv(n.borderBottomLeftRadius,r.width,r.height),p=h[0],m=h[1],v=[];v.push((a+l)/r.width),v.push((p+d)/r.width),v.push((s+m)/r.height),v.push((u+f)/r.height);var g=Math.max.apply(Math,v);g>1&&(a/=g,s/=g,l/=g,u/=g,d/=g,f/=g,p/=g,m/=g);var y=r.width-l,b=r.height-f,C=r.width-d,E=r.height-m,N=n.borderTopWidth,_=n.borderRightWidth,B=n.borderBottomWidth,j=n.borderLeftWidth,D=ui(n.paddingTop,e.bounds.width),k=ui(n.paddingRight,e.bounds.width),O=ui(n.paddingBottom,e.bounds.width),F=ui(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?Ti(r.left+j/3,r.top+N/3,a-j/3,s-N/3,Lr.TOP_LEFT):new qt(r.left+j/3,r.top+N/3),this.topRightBorderDoubleOuterBox=a>0||s>0?Ti(r.left+y,r.top+N/3,l-_/3,u-N/3,Lr.TOP_RIGHT):new qt(r.left+r.width-_/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?Ti(r.left+C,r.top+b,d-_/3,f-B/3,Lr.BOTTOM_RIGHT):new qt(r.left+r.width-_/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?Ti(r.left+j/3,r.top+E,p-j/3,m-B/3,Lr.BOTTOM_LEFT):new qt(r.left+j/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?Ti(r.left+j*2/3,r.top+N*2/3,a-j*2/3,s-N*2/3,Lr.TOP_LEFT):new qt(r.left+j*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?Ti(r.left+y,r.top+N*2/3,l-_*2/3,u-N*2/3,Lr.TOP_RIGHT):new qt(r.left+r.width-_*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?Ti(r.left+C,r.top+b,d-_*2/3,f-B*2/3,Lr.BOTTOM_RIGHT):new qt(r.left+r.width-_*2/3,r.top+r.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?Ti(r.left+j*2/3,r.top+E,p-j*2/3,m-B*2/3,Lr.BOTTOM_LEFT):new qt(r.left+j*2/3,r.top+r.height-B*2/3),this.topLeftBorderStroke=a>0||s>0?Ti(r.left+j/2,r.top+N/2,a-j/2,s-N/2,Lr.TOP_LEFT):new qt(r.left+j/2,r.top+N/2),this.topRightBorderStroke=a>0||s>0?Ti(r.left+y,r.top+N/2,l-_/2,u-N/2,Lr.TOP_RIGHT):new qt(r.left+r.width-_/2,r.top+N/2),this.bottomRightBorderStroke=d>0||f>0?Ti(r.left+C,r.top+b,d-_/2,f-B/2,Lr.BOTTOM_RIGHT):new qt(r.left+r.width-_/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=p>0||m>0?Ti(r.left+j/2,r.top+E,p-j/2,m-B/2,Lr.BOTTOM_LEFT):new qt(r.left+j/2,r.top+r.height-B/2),this.topLeftBorderBox=a>0||s>0?Ti(r.left,r.top,a,s,Lr.TOP_LEFT):new qt(r.left,r.top),this.topRightBorderBox=l>0||u>0?Ti(r.left+y,r.top,l,u,Lr.TOP_RIGHT):new qt(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||f>0?Ti(r.left+C,r.top+b,d,f,Lr.BOTTOM_RIGHT):new qt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||m>0?Ti(r.left,r.top+E,p,m,Lr.BOTTOM_LEFT):new qt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||s>0?Ti(r.left+j,r.top+N,Math.max(0,a-j),Math.max(0,s-N),Lr.TOP_LEFT):new qt(r.left+j,r.top+N),this.topRightPaddingBox=l>0||u>0?Ti(r.left+Math.min(y,r.width-_),r.top+N,y>r.width+_?0:Math.max(0,l-_),Math.max(0,u-N),Lr.TOP_RIGHT):new qt(r.left+r.width-_,r.top+N),this.bottomRightPaddingBox=d>0||f>0?Ti(r.left+Math.min(C,r.width-j),r.top+Math.min(b,r.height-B),Math.max(0,d-_),Math.max(0,f-B),Lr.BOTTOM_RIGHT):new qt(r.left+r.width-_,r.top+r.height-B),this.bottomLeftPaddingBox=p>0||m>0?Ti(r.left+j,r.top+Math.min(E,r.height-B),Math.max(0,p-j),Math.max(0,m-B),Lr.BOTTOM_LEFT):new qt(r.left+j,r.top+r.height-B),this.topLeftContentBox=a>0||s>0?Ti(r.left+j+F,r.top+N+D,Math.max(0,a-(j+F)),Math.max(0,s-(N+D)),Lr.TOP_LEFT):new qt(r.left+j+F,r.top+N+D),this.topRightContentBox=l>0||u>0?Ti(r.left+Math.min(y,r.width+j+F),r.top+N+D,y>r.width+j+F?0:l-j+F,u-(N+D),Lr.TOP_RIGHT):new qt(r.left+r.width-(_+k),r.top+N+D),this.bottomRightContentBox=d>0||f>0?Ti(r.left+Math.min(C,r.width-(j+F)),r.top+Math.min(b,r.height+N+D),Math.max(0,d-(_+k)),f-(B+O),Lr.BOTTOM_RIGHT):new qt(r.left+r.width-(_+k),r.top+r.height-(B+O)),this.bottomLeftContentBox=p>0||m>0?Ti(r.left+j+F,r.top+E,Math.max(0,p-(j+F)),m-(B+O),Lr.BOTTOM_LEFT):new qt(r.left+j+F,r.top+r.height-(B+O))}return t}(),Lr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Lr||(Lr={}));var Ti=function(t,e,n,r,i){var a=4*((Math.sqrt(2)-1)/3),s=n*a,o=r*a,l=t+n,u=e+r;switch(i){case Lr.TOP_LEFT:return new gw(new qt(t,u),new qt(t,u-o),new qt(l-s,e),new qt(l,e));case Lr.TOP_RIGHT:return new gw(new qt(t,e),new qt(t+s,e),new qt(l,u-o),new qt(l,u));case Lr.BOTTOM_RIGHT:return new gw(new qt(l,e),new qt(l,e+o),new qt(t+s,u),new qt(t,u));case Lr.BOTTOM_LEFT:default:return new gw(new qt(l,u),new qt(l-s,u),new qt(t,e+o),new qt(t,e))}},DS=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},EJe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},OS=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},_Je=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),vw=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),BJe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),NJe=function(t){return t.type===0},Wre=function(t){return t.type===1},jJe=function(t){return t.type===2},z9=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},TJe=function(t,e,n,r,i){return t.map(function(a,s){switch(s){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+i);case 3:return a.add(e,n+i)}return a})},Gre=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),qre=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new SJe(this.container),this.container.styles.opacity<1&&this.effects.push(new BJe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new _Je(r,i,a))}if(this.container.styles.overflowX!==0){var s=DS(this.curves),o=OS(this.curves);z9(s,o)?this.effects.push(new vw(s,6)):(this.effects.push(new vw(s,2)),this.effects.push(new vw(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(l){return!Wre(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=DS(r.curves),o=OS(r.curves);z9(s,o)||i.unshift(new vw(o,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(l){return Ga(l.target,e)})},t}(),kk=function(t,e,n,r){t.container.elements.forEach(function(i){var a=Ga(i.flags,4),s=Ga(i.flags,2),o=new qre(i,t);Ga(i.styles.display,2048)&&r.push(o);var l=Ga(i.flags,8)?[]:r;if(a||s){var u=a||i.styles.isPositioned()?n:e,A=new Gre(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;u.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(f=m,!1):f>0}),u.negativeZIndex.splice(f,0,A)}else if(d>0){var h=0;u.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),u.positiveZIndex.splice(h,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);kk(o,A,a?A:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),kk(o,e,n,l);Ga(i.flags,8)&&Yre(i,l)})},Yre=function(t,e){for(var n=t instanceof Bk?t.start:1,r=t instanceof Bk?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof Pre&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Hb(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},IJe=function(t){var e=new qre(t,null),n=new Gre(e),r=[];return kk(e,n,n,r),Yre(e.container,r),n},V9=function(t,e){switch(e){case 0:return fc(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return fc(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return fc(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return fc(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},kJe=function(t,e){switch(e){case 0:return fc(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return fc(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return fc(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return fc(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},PJe=function(t,e){switch(e){case 0:return fc(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return fc(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return fc(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return fc(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},DJe=function(t,e){switch(e){case 0:return yw(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return yw(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return yw(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return yw(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},yw=function(t,e){var n=[];return lc(t)?n.push(t.subdivide(.5,!1)):n.push(t),lc(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},fc=function(t,e,n,r){var i=[];return lc(t)?i.push(t.subdivide(.5,!1)):i.push(t),lc(n)?i.push(n.subdivide(.5,!0)):i.push(n),lc(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),lc(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Xre=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},FS=function(t){var e=t.styles,n=t.bounds,r=ui(e.paddingLeft,n.width),i=ui(e.paddingRight,n.width),a=ui(e.paddingTop,n.width),s=ui(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+a+s))},OJe=function(t,e){return t===0?e.bounds:t===2?FS(e):Xre(e)},FJe=function(t,e){return t===0?e.bounds:t===2?FS(e):Xre(e)},r4=function(t,e,n){var r=OJe(Jp(t.styles.backgroundOrigin,e),t),i=FJe(Jp(t.styles.backgroundClip,e),t),a=MJe(Jp(t.styles.backgroundSize,e),n,r),s=a[0],o=a[1],l=Tv(Jp(t.styles.backgroundPosition,e),r.width-s,r.height-o),u=LJe(Jp(t.styles.backgroundRepeat,e),l,a,r,i),A=Math.round(r.left+l[0]),d=Math.round(r.top+l[1]);return[u,A,d,s,o]},Vp=function(t){return Yr(t)&&t.value===Wm.AUTO},bw=function(t){return typeof t=="number"},MJe=function(t,e,n){var r=e[0],i=e[1],a=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(Na(s)&&o&&Na(o))return[ui(s,n.width),ui(o,n.height)];var l=bw(a);if(Yr(s)&&(s.value===Wm.CONTAIN||s.value===Wm.COVER)){if(bw(a)){var u=n.width/n.height;return u<a!=(s.value===Wm.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var A=bw(r),d=bw(i),f=A||d;if(Vp(s)&&(!o||Vp(o))){if(A&&d)return[r,i];if(!l&&!f)return[n.width,n.height];if(f&&l){var h=A?r:i*a,p=d?i:r/a;return[h,p]}var m=A?r:n.width,v=d?i:n.height;return[m,v]}if(l){var g=0,y=0;return Na(s)?g=ui(s,n.width):Na(o)&&(y=ui(o,n.height)),Vp(s)?g=y*a:(!o||Vp(o))&&(y=g/a),[g,y]}var b=null,C=null;if(Na(s)?b=ui(s,n.width):o&&Na(o)&&(C=ui(o,n.height)),b!==null&&(!o||Vp(o))&&(C=A&&d?b/r*i:n.height),C!==null&&Vp(s)&&(b=A&&d?C/i*r:n.width),b!==null&&C!==null)return[b,C];throw new Error("Unable to calculate background-size for element")},Jp=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},LJe=function(t,e,n,r,i){var a=e[0],s=e[1],o=n[0],l=n[1];switch(t){case 2:return[new qt(Math.round(r.left),Math.round(r.top+s)),new qt(Math.round(r.left+r.width),Math.round(r.top+s)),new qt(Math.round(r.left+r.width),Math.round(l+r.top+s)),new qt(Math.round(r.left),Math.round(l+r.top+s))];case 3:return[new qt(Math.round(r.left+a),Math.round(r.top)),new qt(Math.round(r.left+a+o),Math.round(r.top)),new qt(Math.round(r.left+a+o),Math.round(r.height+r.top)),new qt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new qt(Math.round(r.left+a),Math.round(r.top+s)),new qt(Math.round(r.left+a+o),Math.round(r.top+s)),new qt(Math.round(r.left+a+o),Math.round(r.top+s+l)),new qt(Math.round(r.left+a),Math.round(r.top+s+l))];default:return[new qt(Math.round(i.left),Math.round(i.top)),new qt(Math.round(i.left+i.width),Math.round(i.top)),new qt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new qt(Math.round(i.left),Math.round(i.height+i.top))]}},RJe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",$9="Hidden Text",UJe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),i.src=RJe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode($9)),r.appendChild(a),r.appendChild(i);var o=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode($9)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Jre=function(){function t(e,n){this.context=e,this.options=n}return t}(),QJe=1e4,HJe=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new UJe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),jJe(n)&&(this.ctx.globalAlpha=n.opacity),NJe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Wre(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return mo(this,void 0,void 0,function(){var r;return Ys(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return mo(this,void 0,void 0,function(){return Ys(this,function(r){switch(r.label){case 0:if(Ga(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var s=cF(n.text);s.reduce(function(o,l){return a.ctx.fillText(l,o,n.bounds.top+i),o+a.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=WJe(n.fontFamily).join(", "),a=Ox(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(n,r){return mo(this,void 0,void 0,function(){var i,a,s,o,l,u,A,d,f=this;return Ys(this,function(h){return i=this.createFontStyle(r),a=i[0],s=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,o),u=l.baseline,A=l.middle,d=r.paintOrder,n.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=ts(r.color),f.renderTextWithLetterSpacing(p,r.letterSpacing,u);var v=r.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(g){f.ctx.shadowColor=ts(g.color),f.ctx.shadowOffsetX=g.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=g.offsetY.number*f.options.scale,f.ctx.shadowBlur=g.blur.number,f.renderTextWithLetterSpacing(p,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=ts(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+A),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=ts(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=FS(n),s=OS(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return mo(this,void 0,void 0,function(){var r,i,a,s,o,l,y,y,u,A,d,f,C,h,p,E,m,v,g,y,b,C,E;return Ys(this,function(N){switch(N.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,s=0,o=r.textNodes,N.label=1;case 1:return s<o.length?(l=o[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:N.sent(),N.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof Tre))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=N.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Ire&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof kre))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=N.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Fre&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:A=N.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof uF&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===TS?r.checked&&(this.ctx.save(),this.path([new qt(r.bounds.left+d*.39363,r.bounds.top+d*.79),new qt(r.bounds.left+d*.16,r.bounds.top+d*.5549),new qt(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new qt(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new qt(r.bounds.left+d*.72983,r.bounds.top+d*.23),new qt(r.bounds.left+d*.84,r.bounds.top+d*.34085),new qt(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=ts(k9),this.ctx.fill(),this.ctx.restore()):r.type===IS&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=ts(k9),this.ctx.fill(),this.ctx.restore())),zJe(r)&&r.value.length){switch(f=this.createFontStyle(a),C=f[0],h=f[1],p=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=ts(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$Je(r.styles.textAlign),E=FS(r),m=0,r.styles.textAlign){case 1:m+=E.width/2;break;case 2:m+=E.width;break}v=E.add(m,0,0,-E.height/2+1),this.ctx.save(),this.path([new qt(E.left,E.top),new qt(E.left+E.width,E.top),new qt(E.left+E.width,E.top+E.height),new qt(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new hy(r.value,v),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ga(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,b=g.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=N.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(a)[0],this.ctx.font=C,this.ctx.fillStyle=ts(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new qA(r.bounds.left,r.bounds.top+ui(r.styles.paddingTop,r.bounds.width),r.bounds.width,p9(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new hy(n.listValue,E),a.letterSpacing,p9(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return mo(this,void 0,void 0,function(){var r,i,g,a,s,g,o,l,g,u,A,g,d,f,g,h,p,g,m,v,g;return Ys(this,function(y){switch(y.label){case 0:if(Ga(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,i=n.negativeZIndex,y.label=2;case 2:return r<i.length?(g=i[r],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),a=0,s=n.nonInlineLevel,y.label=7;case 7:return a<s.length?(g=s[a],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:o=0,l=n.nonPositionedFloats,y.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:u=0,A=n.nonPositionedInlineLevel,y.label=15;case 15:return u<A.length?(g=A[u],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:d=0,f=n.inlineLevel,y.label=19;case 19:return d<f.length?(g=f[d],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:m=0,v=n.positiveZIndex,y.label=27;case 27:return m<v.length?(g=v[m],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var s=lc(i)?i.start:i;a===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),lc(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(n){return mo(this,void 0,void 0,function(){var r,i,a,s,o,l;return Ys(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var d,f,h,D,q,Z,F,H,B,p,D,q,Z,F,H,m,v,g,y,b,C,E,N,_,B,j,D,k,O,F,H,Y,q,Z,W,oe,te,ue,R,$,J,ne;return Ys(this,function(he){switch(he.label){case 0:if(A.type!==0)return[3,5];d=void 0,f=A.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return d=he.sent(),[3,4];case 3:return he.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(h=r4(n,r,[d.width,d.height,d.width/d.height]),D=h[0],q=h[1],Z=h[2],F=h[3],H=h[4],B=a.ctx.createPattern(a.resizeImage(d,F,H),"repeat"),a.renderRepeat(D,B,q,Z)),[3,6];case 5:Nqe(A)?(p=r4(n,r,[null,null,null]),D=p[0],q=p[1],Z=p[2],F=p[3],H=p[4],m=Cqe(A.angle,F,H),v=m[0],g=m[1],y=m[2],b=m[3],C=m[4],E=document.createElement("canvas"),E.width=F,E.height=H,N=E.getContext("2d"),_=N.createLinearGradient(g,b,y,C),f9(A.stops,v).forEach(function(Se){return _.addColorStop(Se.stop,ts(Se.color))}),N.fillStyle=_,N.fillRect(0,0,F,H),F>0&&H>0&&(B=a.ctx.createPattern(E,"repeat"),a.renderRepeat(D,B,q,Z))):jqe(A)&&(j=r4(n,r,[null,null,null]),D=j[0],k=j[1],O=j[2],F=j[3],H=j[4],Y=A.position.length===0?[sF]:A.position,q=ui(Y[0],F),Z=ui(Y[Y.length-1],H),W=Sqe(A,q,Z,F,H),oe=W[0],te=W[1],oe>0&&te>0&&(ue=a.ctx.createRadialGradient(k+q,O+Z,0,k+q,O+Z,oe),f9(A.stops,oe*2).forEach(function(Se){return ue.addColorStop(Se.stop,ts(Se.color))}),a.path(D),a.ctx.fillStyle=ue,oe!==te?(R=n.bounds.left+.5*n.bounds.width,$=n.bounds.top+.5*n.bounds.height,J=te/oe,ne=1/J,a.ctx.save(),a.ctx.translate(R,$),a.ctx.transform(1,0,0,J,0,0),a.ctx.translate(-R,-$),a.ctx.fillRect(k,ne*(O-$)+$,F,H*ne),a.ctx.restore()):a.ctx.fill())),he.label=6;case 6:return r--,[2]}})},a=this,s=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<o.length?(l=o[s],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return mo(this,void 0,void 0,function(){return Ys(this,function(a){return this.path(V9(i,r)),this.ctx.fillStyle=ts(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,a){return mo(this,void 0,void 0,function(){var s,o;return Ys(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return s=kJe(a,i),this.path(s),this.ctx.fillStyle=ts(n),this.ctx.fill(),o=PJe(a,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return mo(this,void 0,void 0,function(){var r,i,a,s,o,l,u,A,d=this;return Ys(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!af(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=VJe(Jp(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),af(r.backgroundColor)||(this.ctx.fillStyle=ts(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var p=DS(n.curves),m=h.inset?0:QJe,v=TJe(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(p),d.ctx.clip(),d.mask(v)):(d.mask(p),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=h.offsetX.number+m,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=ts(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?ts(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,l=0,u=a,f.label=3;case 3:return l<u.length?(A=u[l],A.style!==0&&!af(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,n.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,a,s){return mo(this,void 0,void 0,function(){var o,l,u,A,d,f,h,p,m,v,g,y,b,C,E,N,E,N;return Ys(this,function(_){return this.ctx.save(),o=DJe(a,i),l=V9(a,i),s===2&&(this.path(l),this.ctx.clip()),lc(l[0])?(u=l[0].start.x,A=l[0].start.y):(u=l[0].x,A=l[0].y),lc(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),i===0||i===2?h=Math.abs(u-d):h=Math.abs(A-f),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,m=r<3?r*2:r,s===3&&(p=r,m=r),v=!0,h<=p*2?v=!1:h<=p*2+m?(g=h/(2*p+m),p*=g,m*=g):(y=Math.floor((h+m)/(p+m)),b=(h-y*p)/(y-1),C=(h-(y+1)*p)/y,m=C<=0||Math.abs(m-b)<Math.abs(m-C)?b:C),v&&(s===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ts(n),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(lc(l[0])&&(E=l[3],N=l[0],this.ctx.beginPath(),this.formatPath([new qt(E.end.x,E.end.y),new qt(N.start.x,N.start.y)]),this.ctx.stroke()),lc(l[1])&&(E=l[1],N=l[2],this.ctx.beginPath(),this.formatPath([new qt(E.end.x,E.end.y),new qt(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return mo(this,void 0,void 0,function(){var r;return Ys(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ts(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=IJe(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Jre),zJe=function(t){return t instanceof Ore||t instanceof Dre?!0:t instanceof uF&&t.type!==IS&&t.type!==TS},VJe=function(t,e){switch(t){case 0:return DS(e);case 2:return EJe(e);case 1:default:return OS(e)}},$Je=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},KJe=["-apple-system","system-ui"],WJe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return KJe.indexOf(e)===-1}):t},GJe=function(t){mu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return mo(this,void 0,void 0,function(){var r,i;return Ys(this,function(a){switch(a.label){case 0:return r=_k(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,qJe(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ts(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Jre),qJe=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},YJe=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,J1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,J1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,J1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,J1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),XJe=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new YJe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new gJe(this,e)}return t.instanceCount=1,t}(),dF=function(t,e){return e===void 0&&(e={}),JJe(t,e)};typeof window<"u"&&Kre.setContext(window);var JJe=function(t,e){return mo(void 0,void 0,void 0,function(){var n,r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,b,C,E,_,N,_,B,j,D,k,O,F,H,Y,q,Z,W,oe,te,ue,R,$,J;return Ys(this,function(ne){switch(ne.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(j=e.imageTimeout)!==null&&j!==void 0?j:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},a=Ak({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},i),s={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:r.innerWidth,windowHeight:(F=e.windowHeight)!==null&&F!==void 0?F:r.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:r.pageXOffset,scrollY:(Y=e.scrollY)!==null&&Y!==void 0?Y:r.pageYOffset},o=new qA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new XJe(a,o),u=(q=e.foreignObjectRendering)!==null&&q!==void 0?q:!1,A={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new Q9(l,t,A),f=d.clonedReferenceElement,f?[4,d.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ne.sent(),p=AF(f)||eJe(f)?TWe(f.ownerDocument):qE(l,f),m=p.width,v=p.height,g=p.left,y=p.top,b=ZJe(l,f,e.backgroundColor),C={canvas:e.canvas,backgroundColor:b,scale:(oe=(W=e.scale)!==null&&W!==void 0?W:r.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((te=e.x)!==null&&te!==void 0?te:0)+g,y:((ue=e.y)!==null&&ue!==void 0?ue:0)+y,width:(R=e.width)!==null&&R!==void 0?R:Math.ceil(m),height:($=e.height)!==null&&$!==void 0?$:Math.ceil(v)},u?(l.logger.debug("Document cloned, using foreign object rendering"),_=new GJe(l,C),[4,_.render(f)]):[3,3];case 2:return E=ne.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+y+" with size "+m+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),N=Lre(l,f),b===N.styles.backgroundColor&&(N.styles.backgroundColor=OA.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),_=new HJe(l,C),[4,_.render(N)];case 4:E=ne.sent(),ne.label=5;case 5:return(!((J=e.removeContainer)!==null&&J!==void 0)||J)&&(Q9.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,E]}})})},ZJe=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?dy(t,getComputedStyle(r.documentElement).backgroundColor):OA.TRANSPARENT,a=r.body?dy(t,getComputedStyle(r.body).backgroundColor):OA.TRANSPARENT,s=typeof n=="string"?dy(t,n):n===null?OA.TRANSPARENT:4294967295;return e===r.documentElement?af(i)?af(a)?s:a:i:s};const eZe=Object.freeze(Object.defineProperty({__proto__:null,default:dF},Symbol.toStringTag,{value:"Module"})),ht=(t,e=0)=>t==null||isNaN(t)?"0":t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}),zb=(t,e="$",n=2)=>t==null||isNaN(t)?`${e}0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n,maximumFractionDigits:n}).format(t).replace("$",e),Oo=14,Vb=210,Pk=297,tZe=Vb-Oo*2,MS="#3b82f6",fF="#1f2937",hF="#f3f4f6",Fx="#374151",K9=(t,e,n)=>{t.setFont("helvetica","bold"),t.setFontSize(22),t.setTextColor(MS),t.text("GanaderoOS - Reporte de Simulacin",Oo,20),t.setFontSize(16),t.setTextColor(Fx),t.text(e,Oo,30),t.setDrawColor(MS),t.setLineWidth(.5),t.line(Oo,33,Vb-Oo,33),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor("#9ca3af");const r=`Pgina ${n}`;t.text(r,Vb-Oo,Pk-10,{align:"right"}),t.text(`Generado: ${new Date().toLocaleString("es-VE")}`,Oo,Pk-10)},W9=(t,e,n,r)=>(t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(Fx),t.text(e,Oo,r),GE(t,{startY:r+6,head:[["Indicador (KPI)","Valor (Real)"]],body:n,theme:"grid",headStyles:{fillColor:fF,textColor:hF,fontStyle:"bold"},styles:{fontSize:10,cellPadding:2.5},alternateRowStyles:{fillColor:"#f9fafb"}}),t.lastAutoTable.finalY+12),nZe=(t,e,n)=>{t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(Fx),t.text("KPIs de Linealidad por Ao",Oo,n);const r=[["Ao","CV (%)","Prom. Mensual (L)","Mes Pico (L)","Mes Valle (L)"]],i=e.map(a=>[a.year,ht(a.cv,1),ht(a.avgMonthly,0),`${ht(a.peakMonthValue,0)} (${a.peakMonthLabel})`,`${ht(a.valleyMonthValue,0)} (${a.valleyMonthLabel})`]);return GE(t,{startY:n+6,head:r,body:i,theme:"grid",headStyles:{fillColor:fF,textColor:hF,fontStyle:"bold",halign:"center"},styles:{fontSize:10,cellPadding:2.5,halign:"center"},alternateRowStyles:{fillColor:"#f9fafb"},columnStyles:{3:{halign:"left"},4:{halign:"left"}}}),t.lastAutoTable.finalY+12},rZe=(t,e,n,r,i,a)=>{const s=new pn({orientation:"portrait",unit:"mm",format:"a4"});let o=1;K9(s,"Resumen de Desempeo del Rebao",o);let l=45;const u=[["Tasa Natalidad (Anual.)",`${ht(n.tasaNatalidadReal,1)} %`],["Tasa Prolificidad",`${ht(n.tasaProlificidadReal,1)} %`],["Tasa Reemplazo (Anual.)",`${ht(n.tasaReemplazoReal,1)} %`],["Tasa Descarte (Anual.)",`${ht(n.tasaDescarteReal,1)} %`],["% Mort. Cras (0-3m)",`${ht(n.mortalidadCriasReal,1)} %`],["% Mort. Levante (Anual.)",`${ht(n.mortalidadLevanteReal,1)} %`],["% Mort. Cabras (Anual.)",`${ht(n.mortalidadCabrasReal,1)} %`],["% Elim. Cras M (0-3m)",`${ht(n.tasaEliminacionCriasMReal,1)} %`]];l=W9(s," KPIs de Dinmica del Rebao",u,l);const A=[["Total Litros (Horizonte)",`${ht(r.totalLitrosHorizonte)} L`],["Litros / Vientre / Ao",`${ht(r.litrosPorVientrePorAnio)} L/Vientre`],["Total Das-Lactancia",`${ht(r.totalDiasLactancia)} Das`],["Litros / Da-Lactancia",`${ht(r.litrosPorDiaLactancia,2)} L/Da`]];W9(s," KPIs de Eficiencia Lechera",A,l),s.addPage(),o++,K9(s,"Anlisis de Produccin y Linealidad",o),l=45;try{const p=s.getImageProperties(a),m=tZe,v=p.height*m/p.width;s.addImage(a,"PNG",Oo,l,m,v),l+=v+12}catch(p){console.error("Error al aadir imagen al PDF:",p),s.text("Error al renderizar el grfico.",Oo,l),l+=10}nZe(s,i,l),s.addPage("a4","landscape"),o++;const d=p=>{s.setFont("helvetica","bold"),s.setFontSize(18),s.setTextColor(MS),s.text(" Tabla Detallada de Flujos y Stock",Oo,20),s.setFont("helvetica","normal"),s.setFontSize(9),s.setTextColor("#9ca3af"),s.text(`Pgina ${p}`,Pk-Oo,Vb-10,{align:"right"}),s.text(`Generado: ${new Date().toLocaleString("es-VE")}`,Oo,Vb-10)};d(o);const f=[[{content:"Periodo",rowSpan:2,styles:{halign:"center",valign:"middle",minCellWidth:25}},{content:"Poblacin",colSpan:3,styles:{halign:"center"}},{content:"Produccin",colSpan:3,styles:{halign:"center"}},{content:"Flujos: Entradas",colSpan:3,styles:{halign:"center"}},{content:"Flujos: Salidas (Muertes)",colSpan:4,styles:{halign:"center"}},{content:"Flujos: Salidas (Ventas)",colSpan:2,styles:{halign:"center"}},{content:"Flujos: Internos (Promociones H)",colSpan:4,styles:{halign:"center"}},{content:"Desglose Stock Final",colSpan:7,styles:{halign:"center"}}],["Inicio","Final","Cambio","Litros","Vientres (Fin)","Ingresos Leche","Nacim. H","Nacim. M","Compras","Muertes C.H","Muertes C.M","Muertes Lev.","Muertes Adu.","Ventas C.M","Ventas Desc.","CLT","LTLM","LMLTD","LTDC","Fin C.H","Fin C.M","Fin LT","Fin LM","Fin LTD","Fin Cabras","Fin Padres"]],h=[];for(const p of t){const m=p.muertesLevanteTemprano+p.muertesLevanteMedio+p.muertesLevanteTardio,v=p.muertesCabras+p.muertesPadres;h.push([{content:p.periodLabel,styles:{fontStyle:"bold",fillColor:"#e5e7eb",textColor:Fx}},ht(p.startTotal),ht(p.endTotal),ht(p.netChange),ht(p.litrosLeche,0),ht(p.kpiProductivasCount,0),zb(p.ingresosTotales,"$",0),ht(p.nacimientosH),ht(p.nacimientosM),ht(p.comprasVientres),ht(p.muertesCriaH),ht(p.muertesCriaM),ht(m),ht(v),ht(p.ventasCabritos),ht(p.ventasDescartes),ht(p.promocionCriaH),ht(p.promocionLevanteTemprano),ht(p.promocionLevanteMedio),ht(p.promocionLevanteTardio),ht(p.endCriaH),ht(p.endCriaM),ht(p.endLevanteTemprano),ht(p.endLevanteMedio),ht(p.endLevanteTardio),ht(p.endCabras),ht(p.endPadres)]);const g=e.filter(y=>y.year===p.year);for(const y of g){const b=y.muertesLevanteTemprano+y.muertesLevanteMedio+y.muertesLevanteTardio,C=y.muertesCabras+y.muertesPadres;h.push([{content:`  ${y.periodLabel}`,styles:{fontStyle:"normal"}},ht(y.startTotal),ht(y.endTotal),ht(y.netChange),ht(y.litrosLeche,0),ht(y.kpiProductivasCount,0),zb(y.ingresosTotales,"$",0),ht(y.nacimientosH),ht(y.nacimientosM),ht(y.comprasVientres),ht(y.muertesCriaH),ht(y.muertesCriaM),ht(b),ht(C),ht(y.ventasCabritos),ht(y.ventasDescartes),ht(y.promocionCriaH),ht(y.promocionLevanteTemprano),ht(y.promocionLevanteMedio),ht(y.promocionLevanteTardio),ht(y.endCriaH),ht(y.endCriaM),ht(y.endLevanteTemprano),ht(y.endLevanteMedio),ht(y.endLevanteTardio),ht(y.endCabras),ht(y.endPadres)])}}GE(s,{startY:30,head:f,body:h,theme:"grid",headStyles:{fillColor:fF,textColor:hF,fontSize:8,fontStyle:"bold",halign:"center",valign:"middle"},styles:{fontSize:8,cellPadding:1.5,overflow:"linebreak",halign:"right"},columnStyles:{0:{halign:"left"},5:{halign:"left"}},didDrawPage:p=>{p.pageNumber>1&&d(o+p.pageNumber-1)}}),s.save(`Reporte_Simulacion_GanaderoOS_${new Date().toISOString().split("T")[0]}.pdf`)},iZe=async(t,e)=>{const n=await dF(t,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0}),r=n.toDataURL("image/png"),i=297,a=210,s=10,o=i-s*2,l={width:n.width,height:n.height},u=l.height*o/l.width,A=new pn({orientation:"landscape",unit:"mm",format:"a4"});A.setFont("helvetica","bold"),A.setFontSize(20),A.setTextColor(MS),A.text("GanaderoOS - Pedigr de Animal",s,s+5),A.setFont("helvetica","normal"),A.setFontSize(14),A.setTextColor(Fx),A.text(`Animal: ${Vn(e)}`,s,s+15);let d=s+25;u<a-d-s&&(d=(a-u)/2),A.addImage(r,"PNG",s,d,o,u),A.setFont("helvetica","normal"),A.setFontSize(9),A.setTextColor("#9ca3af"),A.text("Pgina 1 de 1",i-s,a-10,{align:"right"}),A.text(`Generado: ${new Date().toLocaleString("es-VE")}`,s,a-10),A.save(`Pedigri_${e.id}_${new Date().toISOString().split("T")[0]}.pdf`)},aZe=({animalId:t,birthDate:e,onSave:n,onCancel:r})=>{const[i,a]=P.useState(new Date().toISOString().split("T")[0]),[s,o]=P.useState(""),[l,u]=P.useState(null),[A,d]=P.useState(!1),{animals:f}=en(),h=P.useMemo(()=>f.find(v=>v.id===t),[f,t]),p=h!=null&&h.name?String(h.name).toUpperCase().trim():"",m=async v=>{v.preventDefault(),u(null),d(!0);const g=parseFloat(s);if(!i||!s||isNaN(g)||g<=0){u("Por favor, introduce una fecha y un peso vlidos."),d(!1);return}if(new Date(i)<new Date(e)){u("La fecha de destete no puede ser anterior a la fecha de nacimiento."),d(!1);return}try{await n({weaningDate:i,weaningWeight:g})}catch(y){u("No se pudo guardar el registro de destete."),console.error(y)}finally{d(!1)}};return c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.toUpperCase()}),p&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:p})]}),c.jsx("p",{className:"text-sm text-zinc-400 text-center -mt-2",children:"Registra la fecha y el peso al momento del destete."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weaningDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Destete"}),c.jsx("input",{id:"weaningDate",type:"date",value:i,onChange:v=>a(v.target.value),className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0,max:new Date().toISOString().split("T")[0]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weaningWeight",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso al Destete (Kg)"}),c.jsx("input",{id:"weaningWeight",type:"number",step:"0.1",value:s,onChange:v=>o(v.target.value),placeholder:"Ej: 15.5",className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),l&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:l})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:A,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[A&&c.jsx(iu,{size:18,className:"animate-spin"}),A?"Guardando...":"Guardar Destete"]})]})]})},LS=be.forwardRef(({className:t,...e},n)=>c.jsx("input",{ref:n,...e,className:`w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange disabled:opacity-50 disabled:bg-brand-dark/50 ${t}`})),Pv=be.forwardRef(({children:t,...e},n)=>c.jsxs("div",{className:"relative w-full",children:[c.jsx("select",{ref:n,...e,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:t}),c.jsx(Kh,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]})),Oh=({title:t,children:e})=>c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border overflow-hidden",children:[c.jsx("h2",{className:"text-zinc-400 font-semibold text-sm uppercase tracking-wide px-4 pt-4 pb-2",children:t}),c.jsx("div",{className:"space-y-4 p-4",children:e})]}),nc=({label:t,value:e,children:n,className:r="",isEditing:i})=>c.jsxs("div",{className:r,children:[c.jsx("dt",{className:"text-sm font-medium text-zinc-400",children:t}),i?c.jsx("div",{className:"mt-1",children:n}):c.jsx("dd",{className:"mt-1 text-base font-semibold text-white truncate",children:e||"N/A"})]}),Zre=({labelOn:t,labelOff:e,value:n,onChange:r})=>c.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-brand-dark rounded-xl p-1 flex cursor-pointer",children:[c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-700 text-white":"text-zinc-400"}`,children:t}),c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-700 text-white"}`,children:e})]}),sZe=({onClose:t,onSelectDate:e,currentValue:n})=>c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",onClick:r=>r.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("div",{onClick:t,className:"w-16 h-1.5 bg-zinc-700 rounded-full mx-auto mb-4 cursor-pointer"}),c.jsx("div",{className:"flex justify-center [&_.rdp]:bg-transparent [&_.rdp]:text-white [&_.rdp-caption_select]:bg-brand-glass [&_.rdp-caption_select]:border-brand-border [&_.rdp-caption_select]:text-white [&_.rdp-caption_select]:rounded-lg [&_.rdp-day_selected]:bg-brand-orange [&_.rdp-day_selected]:text-white [&_.rdp-day_today]:text-brand-orange [&_.rdp-nav_button]:text-zinc-400 [&_.rdp-head_cell]:text-zinc-500 [&_.rdp-day]:text-zinc-200 [&_.rdp-day_outside]:text-zinc-600",children:c.jsx(yp,{mode:"single",selected:n,onSelect:e,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),defaultMonth:n,locale:jx})})]})}),oZe=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","-","0","DEL"],a=o=>{if(o==="DEL"){s();return}o&&n.length<15&&e(n+o)},s=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:o=>o.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(o=>c.jsx("button",{onClick:()=>a(o),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:o},o))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center",children:o==="DEL"?c.jsx(M5,{size:20}):o},o))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},lZe=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","%","0","DEL"],a=4,s=l=>{var m,v,g;if(l==="DEL"){o();return}if(n.length>=30)return;const u=n.split(" ").filter(y=>y!=="");let A=/[%A-Z]$/.test(n),d=n===""||n.endsWith(" ");if(u.length>=a&&d&&/\d/.test(l))return;let f=n;if(A&&/\d/.test(l))if(u.length<a)f+=" ";else return;if(l==="%"&&!/\d$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||l==="%"&&/%$/.test(f)||/[A-Z]/.test(l)&&!d&&!/\d$/.test(f.slice(-1))&&!/%$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||/\d/.test(l)&&/[A-Z]$/.test(f))return;const h=((v=(m=f.split(" ").pop())==null?void 0:m.match(/\d+$/))==null?void 0:v[0])||"";if(!(l==="0"&&(d||/[%A-Z ]$/.test(f.slice(-1)))&&h.length===0)){if(l==="0"&&h==="0")return;/\d/.test(l)&&h==="0"&&(f=f.slice(0,-1))}const p=(g=(h+l).match(/\d+/))==null?void 0:g[0];p&&parseInt(p,10)>100||e(f+l)},o=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:l=>l.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(l=>c.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:l},l))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(l=>c.jsx("button",{onClick:()=>s(l),className:`h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center ${l==="%"?"text-brand-orange":""}`,children:l==="DEL"?c.jsx(M5,{size:20}):l},l))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},cZe=({type:t,onClose:e,onSave:n})=>{const{addAnimal:r,animals:i,fathers:a}=en(),[s,o]=P.useState("Referencia"),[l,u]=P.useState(""),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState(""),[y,b]=P.useState(null),[C,E]=P.useState(!1),[N,_]=P.useState(!1),[B,j]=P.useState(!1),D=(F,H)=>{if(!F||!H)return"Indefinido";const Y=new Date,q=new Date(F+"T00:00:00");if(isNaN(q.getTime()))return"Indefinido";const Z=(Y.getTime()-q.getTime())/(1e3*60*60*24);return H==="Hembra"?Z<=60?"Cabrita":Z<=365?"Cabritona":"Cabra":Z<=60?"Cabrito":Z<=365?"Macho de Levante":"Reproductor"};P.useEffect(()=>{g(QE(p))},[p]);const k=async()=>{if(b(null),s==="Activo"&&!l){b("El ID es obligatorio si el estado es Activo.");return}const F=l.toUpperCase()||`REF-${Date.now()}`,H=new Set([...i.map(Z=>Z.id.toLowerCase()),...a.map(Z=>Z.id.toLowerCase())]);if(l&&H.has(F.toLowerCase())){b("Este ID ya existe en la base de datos (rebao o referencias).");return}const Y=t==="mother"?"Hembra":"Macho",q={id:F,name:A.toUpperCase()||void 0,birthDate:f||"N/A",sex:Y,isReference:s==="Referencia",status:"Activo",lifecycleStage:f?D(f,Y):Y==="Hembra"?"Cabra":"Reproductor",racialComposition:p||void 0,breed:v||void 0,location:"Referencia",reproductiveStatus:Y==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await r(q),n(q)}catch(Z){b(Z.message||"Error al preparar datos del animal."),console.error("Error creating quick parent object:",Z)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[110] bg-black/60 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md bg-ios-modal-bg rounded-2xl shadow-lg animate-slide-up flex flex-col max-h-[90vh]",onClick:F=>F.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"}),c.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Agregar ",t==="mother"?"Madre":"Padre"," Rpido"]}),c.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50",children:c.jsx(qo,{size:20})})]}),c.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[c.jsx(Oh,{title:"Categora",children:c.jsx(Zre,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:F=>o(F?"Activo":"Referencia")})}),c.jsxs(Oh,{title:"Identificacin",children:[c.jsx("input",{type:"text",value:l,onClick:()=>E(!0),readOnly:!0,placeholder:s==="Activo"?"ID (Obligatorio)":"ID (Opcional)",className:`w-full bg-brand-glass border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 cursor-pointer font-mono ${y&&y.includes("ID ya existe")?"border-brand-red ring-brand-red":"border-brand-border focus:ring-brand-orange"}`}),c.jsx(LS,{value:A,onChange:F=>d(F.target.value.toUpperCase()),placeholder:"Nombre (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-left flex justify-between items-center",children:[c.jsx("span",{className:f?"text-white":"text-zinc-500",children:f?new Date(f+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Fecha Nacimiento (Opcional)"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs(Oh,{title:"Raza",children:[c.jsx("input",{type:"text",value:p,onClick:()=>j(!0),readOnly:!0,placeholder:"Composicin Racial (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(LS,{value:v,disabled:!0,readOnly:!0,placeholder:"Raza (Auto-calculada)"})]}),y&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:y})]}),c.jsx("footer",{className:"p-4 border-t border-brand-border flex-shrink-0",children:c.jsx("button",{onClick:k,className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar"})})]})}),C&&c.jsx(oZe,{onClose:()=>E(!1),onInput:F=>u(F.toUpperCase()),currentValue:l}),N&&c.jsx(sZe,{onClose:()=>_(!1),onSelectDate:F=>{F&&h(F.toISOString().split("T")[0]),_(!1)},currentValue:f?new Date(f+"T00:00:00Z"):new Date}),B&&c.jsx(lZe,{onClose:()=>j(!1),onInput:m,currentValue:p}),c.jsx("style",{children:" .rdp { --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: transparent; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: transparent; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; margin: 1em auto; } .rdp-caption_label { color: #FFF; font-weight: bold;} .rdp-nav_button { color: #FF9500; } .rdp-head_cell { color: #8e8e93; font-size: 0.8em; } .rdp-day { color: #FFF;} .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } .rdp-day_today { font-weight: bold; color: #FF9500; } .rdp-day_disabled { color: #505054; } .rdp-day_outside { color: #505054; } .rdp-caption_dropdowns { display: flex; gap: 10px; } .rdp-dropdown { background-color: #333; border: 1px solid #555; color: #FFF; padding: 4px 8px; border-radius: 6px; } "})]})},uZe=({rootNode:t,navigateTo:e,onExportPDF:n,isExporting:r})=>{const i=a=>{setTimeout(()=>e({name:"rebano-profile",animalId:a}),100)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Desliza el grfico para ver ms "}),c.jsxs("button",{onClick:n,disabled:r,className:"flex items-center gap-2 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-1.5 px-3 rounded-lg transition-colors text-sm disabled:opacity-50",children:[c.jsx(Vpe,{size:16}),r?"Generando...":"PDF"]})]}),c.jsx("div",{className:"overflow-x-auto bg-black/20 rounded-lg p-2",children:c.jsx(zte,{rootNode:t,onAncestorClick:i})})]})},eie={Nacimiento:{icon:Ope,color:"bg-green-500/20 text-brand-green"},Registro:{icon:dx,color:"bg-blue-500/20 text-brand-blue"},Parto:{icon:Co,color:"bg-pink-500/20 text-pink-400"},Aborto:{icon:ff,color:"bg-yellow-500/20 text-yellow-400"},Movimiento:{icon:RD,color:"bg-blue-500/20 text-brand-blue"},"Cambio de Estado":{icon:Xpe,color:"bg-purple-500/20 text-purple-400"},"Pesaje Lechero":{icon:Mq,color:"bg-gray-500/20 text-gray-300"},"Pesaje Corporal":{icon:Xu,color:"bg-green-500/20 text-brand-green"},Servicio:{icon:L5,color:"bg-pink-500/20 text-pink-400"},Tratamiento:{icon:c0,color:"bg-red-500/20 text-brand-red"},Diagnstico:{icon:us,color:"bg-teal-500/20 text-teal-300"}},AZe=({events:t,animal:e})=>!t||t.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene eventos registrados."}):c.jsx("div",{className:"space-y-3",children:t.map(n=>{const r=eie[n.type]||{icon:dx,color:"bg-gray-500/20 text-gray-300"},i=r.icon;let a="Fecha desconocida",s="";if(n.type==="Registro"&&e&&e.createdAt)a=new Date(e.createdAt).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}),s="Registrado el: ";else if(n.date&&n.date!=="N/A")try{a=new Date(n.date+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(o){console.error("Error formatting event date:",n.date,o),a=n.date}return c.jsxs("div",{className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r.color}`,children:c.jsx(i,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:n.type}),c.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[s,a,n.lotName&&` | Lote: ${n.lotName}`]})]})]},n.id)})}),dZe=({offspring:t,navigateTo:e})=>t.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene descendencia registrada."}):c.jsx("div",{className:"space-y-2",children:t.map(n=>{const r=n.name?String(n.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e({name:"rebano-profile",animalId:n.id}),className:"w-full text-left p-3 bg-black/20 hover:bg-zinc-800/60 rounded-lg transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:n.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[n.sex," | ",fu(n.birthDate)," | Lote: ",n.location||"N/A"]})})]}),c.jsx(ea,{className:"text-zinc-600 group-hover:text-white transition-colors flex-shrink-0"})]},n.id)})}),fZe=({animal:t,isEditing:e,editedData:n,setEditedData:r,origins:i,lots:a,onAddOriginClick:s,onAddLotClick:o,allFathers:l,mothers:u,navigateTo:A})=>{const d=(b,C)=>{r(E=>({...E,[b]:C}))},f=fu(t.birthDate),h=P.useMemo(()=>l.find(b=>b.id===t.fatherId),[l,t.fatherId]),p=P.useMemo(()=>u.find(b=>b.id===t.motherId),[u,t.motherId]),m=b=>{r(C=>({...C,isReference:!b}))},v={MN:"Monta Natural (MN)",IA:"Inseminacin Artificial (IA)",TE:"Transferencia de Embriones (TE)","":"Otro/Desconocido"},g={Simple:"Parto Simple",TW:"Doble (TW)",TR:"Triple (TR)",QD:"Cudruple (QD)","":"N/A"},y=P.useMemo(()=>{const b=e?n.racialComposition:t.racialComposition;if(!b)return[];const C={A:"bg-blue-500",S:"bg-green-500",AN:"bg-red-500",AGC:"bg-yellow-500",T:"bg-purple-500",C:"bg-orange-500"},E=/(\d+(\.\d+)?)%?([A-Z]+)/g;let N;const _=[];for(;(N=E.exec(b.toUpperCase()))!==null;){const B=parseFloat(N[1]),j=N[3];_.push({label:`${j} (${B}%)`,percentage:B,color:C[j]||"bg-gray-500"})}return _},[t.racialComposition,n.racialComposition,e]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Oh,{title:"Estado",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(nc,{label:"Categora",value:t.lifecycleStage}),c.jsx(nc,{label:"Ubicacin / Lote",value:t.location||"Sin Asignar",isEditing:e,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Pv,{value:n.location||"",onChange:b=>d("location",b.target.value),children:[c.jsx("option",{value:"",children:"Sin Asignar"}),a.map(b=>c.jsx("option",{value:b.name,children:b.name},b.id))]}),c.jsx("button",{type:"button",onClick:o,className:"p-2.5 bg-zinc-700 hover:bg-zinc-600 text-brand-orange rounded-lg",children:c.jsx(ba,{size:18})})]})}),c.jsx(nc,{label:"Edad",value:f}),c.jsx(nc,{label:"Estado (Activo/Ref)",value:t.isReference?"Referencia":"Activo",isEditing:e,children:c.jsx(Zre,{labelOn:"Activo",labelOff:"Referencia",value:!n.isReference,onChange:m})})]})}),c.jsxs(Oh,{title:"Gentica",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(nc,{label:"Padre (Reproductor)",value:h?c.jsx("button",{onClick:()=>h.id&&A({name:"rebano-profile",animalId:h.id}),className:"text-brand-orange hover:underline text-left",children:Vn(h)}):"Desconocido",isEditing:e,children:c.jsxs("button",{type:"button",id:"edit-father-btn",onClick:()=>{var b;return e?(b=document.getElementById("edit-father-btn"))==null?void 0:b.click():null},className:"w-full text-left bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:n.fatherId?"text-white":"text-zinc-400",children:n.fatherId?Vn(l.find(b=>b.id===n.fatherId))||n.fatherId:"Seleccionar..."}),c.jsx($u,{size:16,className:"text-zinc-400"})]})}),c.jsx(nc,{label:"Madre",value:p?c.jsx("button",{onClick:()=>p.id&&A({name:"rebano-profile",animalId:p.id}),className:"text-brand-orange hover:underline text-left",children:Vn(p)}):"Desconocida",isEditing:e,children:c.jsxs("button",{type:"button",id:"edit-mother-btn",onClick:()=>{var b;return e?(b=document.getElementById("edit-mother-btn"))==null?void 0:b.click():null},className:"w-full text-left bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:n.motherId?"text-white":"text-zinc-400",children:n.motherId?Vn(u.find(b=>b.id===n.motherId))||n.motherId:"Seleccionar..."}),c.jsx($u,{size:16,className:"text-zinc-400"})]})})]}),c.jsxs(nc,{label:"Composicin Racial",value:t.racialComposition||"N/A",isEditing:e,children:[!e&&y.length>0&&c.jsx("div",{className:"w-full flex h-2 rounded-full overflow-hidden mt-2 bg-zinc-700",children:y.map(b=>c.jsx("div",{className:`${b.color}`,style:{width:`${b.percentage}%`},title:b.label},b.label))}),e&&c.jsx(LS,{type:"text",value:n.racialComposition||"",onChange:b=>d("racialComposition",b.target.value.toUpperCase()),className:"w-full font-mono",placeholder:"Ej: 100%A  50%A 50%AGC"})]})]}),c.jsx(Oh,{title:"Nacimiento y Origen",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(nc,{label:"Fecha Nacimiento",value:t.birthDate!=="N/A"?new Date(t.birthDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"}):"N/A",isEditing:e,children:c.jsx("input",{type:"date",value:n.birthDate==="N/A"?"":n.birthDate||"",onChange:b=>d("birthDate",b.target.value||"N/A"),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-white"})}),c.jsx(nc,{label:"Peso al Nacer",value:t.birthWeight?`${t.birthWeight} Kg`:"N/A",isEditing:e,children:c.jsx(LS,{type:"number",step:"0.1",value:n.birthWeight||"",onChange:b=>d("birthWeight",b.target.value?parseFloat(b.target.value):void 0),className:"w-full",placeholder:"Kg (ej: 3.5)"})}),c.jsx(nc,{label:"Mtodo de Concepcin",value:v[t.conceptionMethod||""]||"N/A",isEditing:e,children:c.jsxs(Pv,{value:n.conceptionMethod||"MN",onChange:b=>d("conceptionMethod",b.target.value),children:[c.jsx("option",{value:"MN",children:"Monta Natural (MN)"}),c.jsx("option",{value:"IA",children:"Inseminacin Artificial (IA)"}),c.jsx("option",{value:"TE",children:"Transferencia de Embriones (TE)"}),c.jsx("option",{value:"",children:"Otro/Desconocido"})]})}),c.jsx(nc,{label:"Tipo de Parto (Origen)",value:g[t.parturitionType||""]||"N/A",isEditing:e,children:c.jsxs(Pv,{value:n.parturitionType||"Simple",onChange:b=>d("parturitionType",b.target.value),children:[c.jsx("option",{value:"Simple",children:"Parto Simple"}),c.jsx("option",{value:"TW",children:"Doble (TW)"}),c.jsx("option",{value:"TR",children:"Triple (TR)"}),c.jsx("option",{value:"QD",children:"Cudruple (QD)"}),c.jsx("option",{value:"",children:"N/A"})]})}),c.jsx(nc,{label:"Origen",value:t.origin,isEditing:e,className:"col-span-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Pv,{value:n.origin||"",onChange:b=>d("origin",b.target.value),children:[c.jsx("option",{value:"",children:"Seleccionar Origen..."}),c.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),i.map(b=>c.jsx("option",{value:b.name,children:b.name},b.id))]}),c.jsx("button",{type:"button",onClick:s,className:"p-2.5 bg-zinc-700 hover:bg-zinc-600 text-brand-orange rounded-lg",children:c.jsx(ba,{size:18})})]})})]})})]})},hZe=({events:t})=>{const e=t.slice(0,3);return e.length===0?c.jsx("div",{className:"text-center p-4 text-zinc-500",children:"No hay eventos recientes."}):c.jsx(Oh,{title:"ltimos 3 Eventos",children:e.map(n=>{const r=eie[n.type]||{icon:dx,color:"bg-gray-500/20 text-gray-300"},i=r.icon;let a="Fecha desconocida";if(n.date&&n.date!=="N/A")try{a=new Date(n.date+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch{a=n.date}return c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${r.color}`,children:c.jsx(i,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:n.type}),c.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),c.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:a})]})]},n.id)})})},tie=be.forwardRef(({rootNode:t},e)=>c.jsx("div",{ref:e,style:{position:"absolute",left:"-9999px",width:"1200px",padding:"20px",backgroundColor:"#FFFFFF",color:"#000000"},children:c.jsx(zte,{rootNode:t,onAncestorClick:()=>{},theme:"light"})}));tie.displayName="HiddenPdfChart";function pZe({animalId:t,onBack:e,navigateTo:n}){const r=P.useRef(null),i=P.useRef(null),{animals:a,lots:s,origins:o,parturitions:l,updateAnimal:u,deleteAnimalPermanently:A,fathers:d,addAnimal:f,appConfig:h}=en(),p=P.useMemo(()=>a.find(ke=>ke.id===t),[a,t]),m=tVe(p?p.id:void 0),v=nVe(t),[g,y]=P.useState("main"),[b,C]=P.useState(!1),[E,N]=P.useState({}),[_,B]=P.useState("idle"),[j,D]=P.useState(!1),[k,O]=P.useState(!1),[F,H]=P.useState(!1),[Y,q]=P.useState(!1),[Z,W]=P.useState(""),[oe,te]=P.useState(!1),[ue,R]=P.useState(null),[$,J]=P.useState(!1),[ne,he]=P.useState(!1),[Se,we]=P.useState(!1),[re,pe]=P.useState(!1),[xe,Ae]=P.useState(!1),[He,Ie]=P.useState(null),[fe,$e]=P.useState(!1),mt=P.useMemo(()=>p?p.sex==="Hembra"?a.filter(ke=>ke.motherId===p.id).sort((ke,et)=>new Date(et.birthDate).getTime()-new Date(ke.birthDate).getTime()):p.sex==="Macho"?a.filter(ke=>ke.fatherId===p.id).sort((ke,et)=>new Date(et.birthDate).getTime()-new Date(ke.birthDate).getTime()):[]:[],[a,p]),pt=P.useMemo(()=>a.filter(ke=>ke.sex==="Hembra"),[a]),rt=P.useMemo(()=>{const ke=a.filter(Je=>Je.sex==="Macho"),et=d.map(Je=>({id:Je.id,name:Je.name,sex:"Macho",status:"Activo",isReference:!0,birthDate:"N/A",lifecycleStage:"Reproductor",location:"Referencia",reproductiveStatus:"No Aplica",createdAt:0,lastWeighing:null}));return[...ke,...et]},[a,d]),Et=P.useMemo(()=>p?xc(p,l):"",[p,l]),gt=P.useMemo(()=>{if(!p||p.weaningDate||p.isReference||p.status!=="Activo")return!1;const ke=Et;return ke!=="Cabrita"&&ke!=="Cabrito"?!1:Ko(p.birthDate)>h.diasMetaDesteteFinal},[p,Et,h.diasMetaDesteteFinal]),$t=(p==null?void 0:p.breedingFailures)||0,Mt=P.useMemo(()=>p?gt?{text:`Destete Atrasado (${Ko(p.birthDate)} das)`,icon:c.jsx(gr,{className:"text-brand-red",size:20}),title:`Destete atrasado (Meta: ${h.diasMetaDesteteFinal} das)`}:$t>=2?{text:`${$t} Fallos Reprod.`,icon:c.jsx(gr,{className:"text-brand-red",size:20}),title:`${$t} fallos reproductivos reportados`}:$t===1?{text:"1 Fallo Reprod.",icon:c.jsx(gr,{className:"text-yellow-400",size:20}),title:"1 fallo reproductivo reportado"}:null:null,[p,gt,$t,h.diasMetaDesteteFinal]);P.useEffect(()=>{p&&(N(b?{name:p.name,birthDate:p.birthDate,birthWeight:p.birthWeight,origin:p.origin,fatherId:p.fatherId,motherId:p.motherId,racialComposition:p.racialComposition,location:p.location,isReference:p.isReference,conceptionMethod:p.conceptionMethod,parturitionType:p.parturitionType}:{}),W(p.location||""))},[p,b]),P.useEffect(()=>{if(!b)return;const ke=pt.find(Je=>Je.id===E.motherId),et=rt.find(Je=>Je.id===E.fatherId);if(ke!=null&&ke.racialComposition&&(et!=null&&et.racialComposition)){const Je=mte(ke.racialComposition,et.racialComposition);N(Ln=>({...Ln,racialComposition:Je}))}},[E.motherId,E.fatherId,b,pt,rt]);const bt=async()=>{if(p){B("saving");try{const ke={...E};E.racialComposition!==p.racialComposition&&(ke.breed=QE(E.racialComposition)),E.birthDate&&E.birthDate!==p.birthDate&&(ke.lifecycleStage=xc({...p,...ke},l)),await u(p.id,ke),B("success"),setTimeout(()=>{C(!1),B("idle")},1500)}catch(ke){console.error("Error al actualizar:",ke),B("idle")}}},wt=()=>{C(!1),N({})},Tt=async()=>{if(p)try{await u(p.id,{location:Z}),q(!1)}catch(ke){console.error("Error al actualizar ubicacin:",ke)}},Xt=async ke=>{if(!p||!ue)return;const et={status:ue,isReference:!0,endDate:ke.date};ue==="Venta"&&Object.assign(et,{salePrice:ke.salePrice,saleBuyer:ke.saleBuyer,salePurpose:ke.salePurpose}),ue==="Muerte"&&(et.deathReason=ke.deathReason),ue==="Descarte"&&Object.assign(et,{cullReason:ke.cullReason,cullReasonDetails:ke.cullReasonDetails});try{await u(p.id,et),R(null),e()}catch(Je){console.error("Error al dar de baja:",Je),R(null)}},ot=async()=>{p&&(await u(p.id,{isReference:!1,status:"Activo",endDate:void 0}),J(!1))},vt=async()=>{p&&(await A(p.id),e())},xt=async ke=>{p&&(await u(p.id,{weaningDate:ke.weaningDate,weaningWeight:ke.weaningWeight}),we(!1))},Lt=async ke=>{try{await f(ke),He==="father"?(N(et=>({...et,fatherId:ke.id})),rt.push(ke)):He==="mother"&&(N(et=>({...et,motherId:ke.id})),pt.push(ke))}catch(et){console.error("Error saving quick parent:",et)}finally{Ie(null)}},hn=async()=>{if(!i.current||!p){alert("Error: No se pudo encontrar el grfico para exportar.");return}$e(!0);try{await iZe(i.current,p)}catch(ke){console.error("Error al exportar PDF:",ke),alert("Ocurri un error al generar el PDF.")}finally{$e(!1)}},Cn=[{label:"Por Venta",icon:vc,onClick:()=>R("Venta")},{label:"Por Muerte",icon:ff,onClick:()=>R("Muerte"),color:"text-brand-red"},{label:"Por Descarte",icon:O5,onClick:()=>R("Descarte"),color:"text-brand-red"}],zt=[{label:"Reintegrar a Activos",icon:Lq,onClick:ot},{label:"Eliminar Permanentemente",icon:Sc,onClick:()=>he(!0),color:"text-brand-red"}];if(!p)return c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]});const Jt=p.name?p.name.toUpperCase().trim():"",St=b?E.name||"":Jt,Kt=[...p.sex==="Hembra"?[{label:"Leche",icon:df,onClick:()=>n({name:"lactation-profile",animalId:p.id}),color:"text-blue-300",disabled:!1},{label:"Parto",icon:Co,onClick:()=>H(!0),color:"text-pink-400",disabled:p.isReference}]:[],...(Et==="Cabrita"||Et==="Cabrito")&&!p.weaningDate&&!p.isReference?[{label:"Destetar",icon:hpe,onClick:()=>we(!0),color:"text-yellow-300",disabled:!1}]:[],{label:"Peso",icon:Xu,onClick:()=>n({name:"growth-profile",animalId:p.id}),color:"text-brand-green",disabled:!1},{label:"Sanidad",icon:c0,onClick:()=>alert("Funcin en desarrollo"),color:"text-teal-300",disabled:p.isReference},...p.isReference?[{label:"Acciones",icon:MR,onClick:()=>J(!0),color:"text-brand-blue",disabled:b}]:[{label:"Mover",icon:MR,onClick:()=>q(!0),color:"text-brand-blue",disabled:b},{label:"Dar de Baja",icon:Cc,onClick:()=>te(!0),color:"text-amber-400",disabled:b}]];return c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:r,className:"w-full max-w-2xl mx-auto",children:[c.jsxs("header",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-zinc-400 hover:text-white transition-colors",children:[c.jsx(Ni,{size:20}),c.jsx("span",{children:"Volver"})]}),c.jsx("div",{className:"flex gap-2",children:b?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:wt,className:"bg-zinc-700 hover:bg-zinc-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:c.jsx(qo,{size:18})}),c.jsxs("button",{onClick:bt,disabled:_!=="idle",className:"bg-brand-green hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 disabled:opacity-50 min-w-[100px] justify-center",children:[_==="saving"&&c.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"}),_==="success"&&c.jsx(us,{size:18}),_==="idle"&&c.jsx(l0,{size:18}),_==="idle"&&c.jsx("span",{children:"Guardar"})]})]}):c.jsxs("button",{onClick:()=>C(!0),className:"bg-brand-orange/20 hover:bg-brand-orange/30 text-brand-orange font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[c.jsx(Cf,{size:16}),c.jsx("span",{children:"Editar"})]})})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("h1",{className:"text-3xl font-mono font-bold tracking-tight text-white truncate",children:p.id.toUpperCase()}),St&&c.jsx("p",{className:"text-lg text-zinc-400 truncate -mt-1",children:St})]}),Mt&&!b&&c.jsx("div",{title:Mt.title,className:"flex-shrink-0 ml-4",children:Mt.icon})]}),!b&&c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Kt.map(ke=>c.jsxs("button",{onClick:ke.onClick,disabled:ke.disabled,className:`flex-shrink-0 flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 ${ke.color} font-semibold px-3 py-1.5 rounded-full text-sm transition-colors disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(ke.icon,{size:14}),c.jsx("span",{children:ke.label})]},ke.label))})]}),c.jsxs("main",{className:"px-4 space-y-4",children:[c.jsxs("div",{className:"flex bg-brand-glass rounded-xl p-1 border border-brand-border",children:[c.jsx("button",{onClick:()=>y("main"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${g==="main"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Ficha"}),c.jsx("button",{onClick:()=>y("genetics"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${g==="genetics"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Genealoga"}),c.jsx("button",{onClick:()=>y("progeny"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${g==="progeny"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Progenie"}),c.jsx("button",{onClick:()=>y("events"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${g==="events"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Eventos"})]}),g==="main"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(fZe,{animal:p,isEditing:b,editedData:E,setEditedData:N,origins:o,lots:s,onAddOriginClick:()=>O(!0),onAddLotClick:()=>D(!0),allFathers:rt,mothers:pt,navigateTo:n}),b&&c.jsxs("div",{className:"hidden",children:[c.jsx("button",{id:"edit-father-btn",type:"button",onClick:()=>Ae(!0)}),c.jsx("button",{id:"edit-mother-btn",type:"button",onClick:()=>pe(!0)})]}),!b&&c.jsx("div",{className:"pt-4",children:c.jsx(hZe,{events:m})})]}),g==="genetics"&&c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border min-h-[200px]",children:c.jsx(uZe,{animal:p,rootNode:v,navigateTo:n,onExportPDF:hn,isExporting:fe})}),g==="progeny"&&c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border min-h-[200px]",children:c.jsx(dZe,{offspring:mt,navigateTo:n})}),g==="events"&&c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border min-h-[200px]",children:c.jsx(AZe,{animal:p,events:m})})]})]}),c.jsx(tie,{ref:i,rootNode:v}),c.jsx(fn,{isOpen:Y,onClose:()=>q(!1),title:`Mover a ${Vn(p)}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar nuevo lote"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Pv,{value:Z,onChange:ke=>W(ke.target.value),children:[c.jsx("option",{value:"",children:"Sin Asignar"}),s.map(ke=>c.jsx("option",{value:ke.name,children:ke.name},ke.id))]}),c.jsx("button",{type:"button",onClick:()=>{q(!1),D(!0)},className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(pc,{size:24})})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:()=>q(!1),className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:Tt,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Cambio"})]})]})}),c.jsx(Ku,{isOpen:oe,onClose:()=>te(!1),title:"Causa de la Baja",actions:Cn}),ue&&p&&c.jsx(VE,{isOpen:!!ue,animal:p,onCancel:()=>R(null),onConfirm:Xt,reason:ue}),c.jsx(Ku,{isOpen:$,onClose:()=>J(!1),title:"Acciones de Referencia",actions:zt}),c.jsx(_0,{isOpen:ne,onClose:()=>he(!1),onConfirm:vt,title:`Eliminar ${Vn(p)} Permanentemente?`,message:"Esta accin borrar el registro del animal de la base de datos para siempre y no se puede deshacer."}),c.jsx(Z9e,{isOpen:j,onClose:()=>D(!1)}),c.jsx(eVe,{isOpen:k,onClose:()=>O(!1)}),c.jsx(bp,{isOpen:F,onClose:()=>H(!1),motherId:p.id}),c.jsxs(fn,{isOpen:Se,onClose:()=>we(!1),title:`Registrar Destete de ${Vn(p)}`,children:[" ",c.jsx(aZe,{animalId:p.id,birthDate:p.birthDate,onSave:xt,onCancel:()=>we(!1)})," "]}),c.jsx(bS,{isOpen:re,onClose:()=>pe(!1),onSelect:ke=>{N(et=>({...et,motherId:ke})),pe(!1)},animals:pt,title:"Seleccionar Madre",filterSex:"Hembra"}),c.jsx(bS,{isOpen:xe,onClose:()=>Ae(!1),onSelect:ke=>{N(et=>({...et,fatherId:ke})),Ae(!1)},animals:rt,title:"Seleccionar Padre",filterSex:"Macho"}),He&&c.jsx(cZe,{type:He,onClose:()=>Ie(null),onSave:Lt})]})}const i4=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),n},a4=(t,e)=>{const n=e.getTime()-t.getTime();return Math.ceil(n/(1e3*60*60*24))},nie=()=>{const{animals:t,parturitions:e,serviceRecords:n,bodyWeighings:r,appConfig:i}=en();return P.useMemo(()=>{const s=t.filter(b=>!b.isReference&&b.status==="Activo"),o=new Date;o.setHours(0,0,0,0);const l=[],{diasGestacion:u,diasConfirmarPrenez:A,diasPreParto:d,diasLactanciaObjetivo:f,diasAlertaInicioSecado:h,diasMetaSecadoCompleto:p,diasAlertaPesarDestete:m,pesoMinimoPesarDestete:v,diasMetaDesteteFinal:g,pesoMinimoDesteteFinal:y}=i;for(const b of s){if(b.sex==="Hembra"){const N=n.filter(j=>j.femaleId===b.id).sort((j,D)=>new Date(D.serviceDate).getTime()-new Date(j.serviceDate).getTime())[0],B=e.filter(j=>j.goatId===b.id).sort((j,D)=>new Date(D.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(b.reproductiveStatus==="En Servicio"&&N){const j=new Date(N.serviceDate+"T00:00:00Z"),D=a4(j,o);D>=A&&D<u&&l.push({id:`${b.id}_confirmar`,animalId:b.id,animalDisplay:Vn(b),type:"REPRODUCTIVO",icon:ID,color:"text-yellow-400",title:"Confirmar Preez",message:`Servicio hace ${D} das. Realizar palpacin/eco.`,sortDate:j})}if(b.reproductiveStatus==="Preada"&&N){const j=new Date(N.serviceDate+"T00:00:00Z"),D=i4(j,u),k=a4(o,D),O=B&&B.status==="activa";O&&k<=h&&k>p&&l.push({id:`${b.id}_iniciar_secado`,animalId:b.id,animalDisplay:Vn(b),type:"SECADO",icon:Zc,color:"text-blue-400",title:"Iniciar Secado",message:`Faltan ${k} das para el parto (Inicia a los ${h} das).`,sortDate:D}),O&&k<=p&&l.push({id:`${b.id}_secado_urgente`,animalId:b.id,animalDisplay:Vn(b),type:"SECADO",icon:Zc,color:"text-red-500",title:"SECADO URGENTE",message:`Faltan ${k} das para el parto (Meta: ${p} das).`,sortDate:D}),k<=d&&k>0&&l.push({id:`${b.id}_preparto`,animalId:b.id,animalDisplay:Vn(b),type:"REPRODUCTIVO",icon:LD,color:"text-green-400",title:"Mover a Pre-Parto",message:`Parto probable en ${k} das.`,sortDate:D})}if(B&&B.status==="activa"&&b.reproductiveStatus!=="Preada"){const j=new Date(B.parturitionDate+"T00:00:00Z"),D=a4(j,o);D>=f&&l.push({id:`${b.id}_lactancia_larga`,animalId:b.id,animalDisplay:Vn(b),type:"SECADO",icon:Zc,color:"text-blue-400",title:"Secado (Lact. Larga)",message:`${D} das en leche. Iniciar secado.`,sortDate:o})}}const C=xc(b,e);if(C==="Cabrita"||C==="Cabrito"){const E=Ko(b.birthDate),N=new Date(b.birthDate+"T00:00:00Z"),_=r.filter(B=>B.animalId===b.id).sort((B,j)=>new Date(j.date).getTime()-new Date(B.date).getTime())[0];if(E>=m&&E<g){const B="Pesar (Revisin 1)";let j=`Edad: ${E} das. Pesar para revisin (Meta: ${v} Kg).`;_&&new Date(_.date)>i4(N,m-7)&&(j=`Edad: ${E} das. Peso actual: ${_.kg} Kg (Meta: ${v} Kg).`),l.push({id:`${b.id}_pesar_destete_1`,animalId:b.id,animalDisplay:Vn(b),type:"DESTETE",icon:Xu,color:"text-yellow-400",title:B,message:j,sortDate:N})}if(E>=g){let B="Pesar (Destete Final)",j=`Edad: ${E} das. Pesar para destete final (Meta: ${y} Kg).`,D="text-yellow-400";_&&new Date(_.date)>i4(N,m-7)&&(_.kg>=y?(B="LISTO PARA DESTETE",j=`Edad: ${E} das. Peso: ${_.kg} Kg (Meta: ${y} Kg).`,D="text-green-400"):(B="Bajo Peso (Destete Final)",j=`Edad: ${E} das. Peso: ${_.kg} Kg (Meta: ${y} Kg).`,D="text-red-500")),l.push({id:`${b.id}_destete_final`,animalId:b.id,animalDisplay:Vn(b),type:"DESTETE",icon:Co,color:D,title:B,message:j,sortDate:N})}}}return l.sort((b,C)=>b.sortDate.getTime()-C.sortDate.getTime())},[t,e,n,r,i])},mZe=({alert:t,onClick:e})=>{const{icon:n,color:r,animalDisplay:i,title:a,message:s}=t;return c.jsxs("button",{onClick:e,className:"w-full flex items-start text-left p-3 bg-ios-modal-bg hover:bg-zinc-800 transition-colors",children:[c.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-3 ${r} bg-zinc-700/50`,children:c.jsx(n,{size:18})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-sm font-semibold text-zinc-300",children:i}),c.jsx("p",{className:`text-xs font-bold ${r}`,children:a})]}),c.jsx("p",{className:"text-base text-white mt-0.5",children:s})]}),c.jsx("div",{className:"flex-shrink-0 ml-2 self-center",children:c.jsx(ea,{size:20,className:"text-zinc-500"})})]})},s4=({title:t,icon:e,alerts:n,onAlertClick:r,startOpen:i=!1})=>{const[a,s]=P.useState(i),o=n.length;return c.jsxs("div",{className:"mb-4",children:[c.jsxs("button",{onClick:()=>s(!a),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 uppercase tracking-wide mb-2 px-4",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(e,{size:16}),t]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white bg-zinc-700 rounded-full px-2 py-0.5 text-xs font-bold",children:o}),c.jsx(Kh,{size:20,className:`transition-transform duration-200 ${a?"rotate-180":""}`})]})]}),a&&c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden animate-fade-in",children:n.map(l=>c.jsx(mZe,{alert:l,onClick:()=>r(l.animalId)},l.id))})]})};function gZe({navigateTo:t,onBack:e}){const n=nie(),{reproductiveAlerts:r,dryingAlerts:i,weaningAlerts:a}=P.useMemo(()=>({reproductiveAlerts:n.filter(l=>l.type==="REPRODUCTIVO"),dryingAlerts:n.filter(l=>l.type==="SECADO"),weaningAlerts:n.filter(l=>l.type==="DESTETE")}),[n]),s=l=>{t({name:"rebano-profile",animalId:l})},o=n.length;return c.jsxs("div",{className:"w-full max-w-lg mx-auto pb-8",children:[c.jsxs("div",{className:"sticky top-0 z-10 bg-gray-900/80 backdrop-blur-lg pt-4 pb-4 px-4",children:[c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Alertas de Manejo"}),c.jsx("p",{className:"text-base text-zinc-400",children:o>0?`Tienes ${o} tareas prioritarias.`:"No hay tareas urgentes. Todo en orden!"})]})]}),c.jsxs("main",{className:"pt-4 px-4",children:[o===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 bg-brand-glass rounded-2xl border border-brand-border",children:[c.jsx(Cpe,{size:40,className:"text-green-500"}),c.jsx("h2",{className:"text-xl font-semibold text-white mt-4",children:"Todo en Orden"}),c.jsx("p",{className:"text-zinc-400",children:"No se detectaron alertas de manejo basadas en tu configuracin."})]}),r.length>0&&c.jsx(s4,{title:"Reproductivo",icon:o0,alerts:r,onAlertClick:s,startOpen:!0}),i.length>0&&c.jsx(s4,{title:"Secado",icon:Zc,alerts:i,onAlertClick:s,startOpen:!0}),a.length>0&&c.jsx(s4,{title:"Destete",icon:Co,alerts:a,onAlertClick:s,startOpen:!0})]})]})}function vZe({onBack:t}){const{lots:e,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,addLot:o,deleteLot:l,updateAnimal:u}=en(),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(""),y=P.useMemo(()=>{const _=new Map;return n.forEach(B=>{const j=B.location||"Sin Asignar";_.set(j,(_.get(j)||0)+1)}),e.map(B=>({...B,animalCount:_.get(B.name)||0})).sort((B,j)=>B.name.localeCompare(j.name))},[e,n]),b=async()=>{if(A.trim()!==""){g("");try{await o({name:A,parentLotId:void 0}),d("")}catch(_){g(_.message||"No se pudo crear el lote.")}}},C=async(_,B)=>{var j;if(B>0){g(`No se puede eliminar "${(j=e.find(D=>D.id===_))==null?void 0:j.name}". Reasigne los ${B} animales primero.`);return}if(g(""),window.confirm("Ests seguro de que quieres eliminar este lote? Esta accin no se puede deshacer."))try{await l(_)}catch(D){g(D.message||"No se pudo eliminar el lote.")}},E=_=>{m(_),h(!0)},N=async _=>{if(!p)return;const B=_.map(j=>u(j,{location:p}));await Promise.all(B),h(!1),m(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestionar Lotes Fsicos"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Crea ubicaciones y asigna animales"})]}),c.jsx("div",{className:"w-8"})]}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Aadir Nuevo Lote"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:A,onChange:_=>d(_.target.value),placeholder:"Nombre del lote...",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),c.jsx("button",{onClick:b,className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(ba,{size:24})})]}),v&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:v})]})}),c.jsxs("div",{className:"space-y-2 pt-4 px-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Lotes Existentes"}),y.length>0?y.map(_=>c.jsxs("div",{className:"w-full text-left bg-brand-glass rounded-2xl p-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:_.name}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[_.animalCount," ",_.animalCount===1?"animal":"animales"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>E(_.name),className:"flex items-center gap-2 bg-zinc-700/80 text-white font-semibold py-2 px-3 rounded-lg hover:bg-zinc-600/80 transition-colors",children:[c.jsx(ZA,{size:16})," Asignar"]}),c.jsx("button",{onClick:()=>C(_.id,_.animalCount),className:"p-2 text-zinc-500 hover:text-brand-red transition-colors",children:c.jsx(Sc,{size:18})})]})]},_.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"An no has creado ningn lote."})})]})]}),c.jsx(HE,{isOpen:f,onClose:()=>h(!1),onSelect:N,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,title:`Asignar animales a: ${p}`})]})}const yZe=({onSave:t,onCancel:e,editingLot:n})=>{const{fathers:r,addFather:i}=en(),[a,s]=P.useState(""),[o,l]=P.useState(!1),[u,A]=P.useState(null),[d,f]=P.useState(!1);P.useEffect(()=>{n&&n.sireId?s(n.sireId):s("")},[n]);const h=async v=>{await i(v),s(v.id),l(!1)},p=async v=>{if(v.preventDefault(),A(null),!a){A("Debes seleccionar un semental.");return}f(!0);try{await t(a)}catch(g){A("No se pudo guardar el lote."),console.error(g),f(!1)}},m=n?d?"Actualizando...":"Guardar Cambios":d?"Creando...":"Crear Lote";return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"sire",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar Semental"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{id:"sire",value:a,onChange:v=>s(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl font-mono text-white",required:!0,disabled:!!n,children:[c.jsx("option",{value:"",children:"Elegir reproductor..."}),r.map(v=>c.jsx("option",{value:v.id,children:Vn(v)},v.id))]}),c.jsx("button",{type:"button",onClick:()=>l(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(ba,{size:24})})]})]}),u&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:u})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d||!a,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:m})]})]}),c.jsx(DO,{isOpen:o,onClose:()=>l(!1),onSave:h})]})},bZe=({isOpen:t,onClose:e,femalesToTransfer:n,originSeasonId:r,onConfirmTransfer:i})=>{const{animals:a,breedingSeasons:s,sireLots:o}=en(),[l,u]=P.useState(new Set),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState("");P.useEffect(()=>{t&&(u(new Set(n)),d(""),m(""))},[t,n]);const v=P.useMemo(()=>s.find(E=>E.id===r),[s,r]),g=P.useMemo(()=>s.filter(E=>E.id!==r&&E.status==="Activo"),[s,r]),y=P.useMemo(()=>{const E=new Map(a.map(N=>[N.id,N]));return n.map(N=>E.get(N)).filter(N=>!!N).sort((N,_)=>N.id.localeCompare(_.id))},[n,a]),b=E=>{u(N=>{const _=new Set(N);return _.has(E)?_.delete(E):_.add(E),_})},C=async()=>{if(!A){m("Debes seleccionar una temporada de destino.");return}if(!o.some(N=>N.seasonId===A)){m("La temporada de destino no tiene lotes de reproductor. Crea uno primero.");return}if(l.size===0){m("Debes seleccionar al menos una hembra para transferir.");return}h(!0),m("");try{await i(A,Array.from(l)),h(!1),e()}catch(N){m(N.message||"Error al transferir los animales."),console.error("Error transferring animals:",N),h(!1)}};return t?c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in p-4",onClick:e,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-lg rounded-2xl flex flex-col animate-slide-up max-h-[90vh]",onClick:E=>E.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 p-4 border-b border-brand-border",children:[c.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Transferir Animales"}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Desde la Temporada: ",(v==null?void 0:v.name)||"Cargando..."]})]}),c.jsxs("main",{className:"p-6 space-y-4 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["Animales a transferir (",l.size,"/",y.length,")"]}),c.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 p-2 bg-black/20 rounded-lg border border-zinc-700",children:y.length>0?y.map(E=>{const N=E.name?String(E.name).toUpperCase().trim():"";return c.jsxs("div",{onClick:()=>b(E.id),className:"flex items-center gap-3 p-2 rounded-md hover:bg-zinc-700 cursor-pointer transition-colors",children:[l.has(E.id)?c.jsx(R5,{className:"text-brand-orange flex-shrink-0"}):c.jsx(U5,{className:"text-zinc-500 flex-shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:E.id.toUpperCase()}),N&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:N})]})]},E.id)}):c.jsx("p",{className:"text-sm text-zinc-500 text-center py-2",children:"No hay animales para transferir."})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Transferir a la Temporada:"}),c.jsxs("select",{id:"destination",value:A,onChange:E=>d(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-white appearance-none",children:[c.jsx("option",{value:"",children:"Seleccionar temporada de destino..."}),g.map(E=>c.jsxs("option",{value:E.id,children:[E.name," (Activa)"]},E.id))]})]}),p&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:p})]})]}),c.jsxs("footer",{className:"flex-shrink-0 flex justify-end gap-4 p-4 border-t border-brand-border",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:C,disabled:f||l.size===0||!A,className:"px-5 py-2 bg-brand-blue hover:bg-blue-700 text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Transfiriendo...":`Transferir ${l.size} Animal(es)`})]})]})}):null},xZe=({sireName:t,animalCount:e,dragControls:n})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:r=>n.start(r),children:c.jsx(OD,{className:"text-zinc-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[c.jsx(hx,{})," Lote: ",t]}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1 flex items-center gap-2",children:[c.jsx(ZA,{size:14})," ",e," ",e===1?"hembra asignada":"hembras asignadas"]})]}),c.jsx(ea,{className:"text-zinc-600"})]}),wZe=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=dp(),s=P.useRef(!1),o=(l,u)=>{const A=u.offset.x,d=u.velocity.x;Math.abs(A)<2&&Math.abs(d)<100||(A<-160/2||d<-500?a.start({x:-160}):a.start({x:0})),setTimeout(()=>{s.current=!1},100)};return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[c.jsxs("button",{onClick:e,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(Cf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c.jsxs("button",{onClick:n,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(Sc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{s.current=!0},onDragEnd:o,onTap:()=>{s.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(xZe,{sireName:t.sireName,animalCount:t.animalCount,dragControls:i})})]})},CZe=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=w3();return c.jsx(S3,{value:t,dragListener:!1,dragControls:i,children:c.jsx(wZe,{lot:t,dragControls:i,onClick:()=>e({name:"sire-lot-detail",lotId:t.id}),onEdit:()=>n(t),onDelete:()=>r(t)})},t.id)};function SZe({seasonId:t,onBack:e,navigateTo:n}){const{breedingSeasons:r,sireLots:i,fathers:a,animals:s,serviceRecords:o,addSireLot:l,updateSireLot:u,deleteSireLot:A,updateAnimal:d}=en(),[f,h]=P.useState(!1),[p,m]=P.useState(void 0),[v,g]=P.useState(null),[y,b]=P.useState(null),[C,E]=P.useState(!1),[N,_]=P.useState(null),B=P.useMemo(()=>r.find(W=>W.id===t),[r,t]),j=P.useMemo(()=>i.filter(W=>W.seasonId===t).map(W=>{const oe=a.find(R=>R.id===W.sireId),te=oe?Vn(oe):"Desconocido",ue=s.filter(R=>R.sireLotId===W.id).length;return{...W,sireName:te,animalCount:ue,sireId:W.sireId}}),[i,t,a,s]),[D,k]=P.useState(j);P.useEffect(()=>{k(j)},[j]);const O=P.useMemo(()=>{if(!B||B.status!=="Cerrado")return[];const W=new Set(j.map(ue=>ue.id)),oe=s.filter(ue=>ue.sireLotId&&W.has(ue.sireLotId)),te=new Set(o.filter(ue=>ue.sireLotId&&W.has(ue.sireLotId)).map(ue=>ue.femaleId));return oe.filter(ue=>!te.has(ue.id))},[B,j,s,o]),F=W=>{m(W),h(!0)},H=async W=>{p?await u(p.id,{sireId:W}):await l({seasonId:t,sireId:W}),h(!1),m(void 0)},Y=W=>{W.animalCount>0?b(`No se puede eliminar. Reasigna las ${W.animalCount} hembra(s) a otro lote primero.`):g(W)},q=()=>{v&&(A(v.id),g(null))},Z=async(W,oe)=>{_(null);const te=i.find(R=>R.seasonId===W);if(!te){_("La temporada de destino no tiene lotes de reproductor. Por favor, crea uno primero."),E(!1);return}const ue=oe.map(R=>d(R,{sireLotId:te.id,reproductiveStatus:"En Servicio"}));await Promise.all(ue),E(!1)};return B?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:B.name}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de la Temporada"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Lotes de Reproductor"}),c.jsxs("button",{onClick:()=>F(),className:"flex items-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[c.jsx(ba,{size:16})," Aadir Lote"]})]}),D.length>0?c.jsx(C3,{as:"div",axis:"y",values:D,onReorder:k,className:"space-y-3",children:D.map(W=>c.jsx(CZe,{lot:W,navigateTo:n,onEdit:F,onDelete:Y},W.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"Esta temporada an no tiene lotes de reproductor."})})]}),B.status==="Cerrado"&&c.jsxs("div",{className:"space-y-4 px-4 pt-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Resultados: Hembras sin Servicio"}),O.length>0&&c.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-bold py-2 px-3 rounded-lg text-sm",children:[c.jsx(LD,{size:16})," Transferir"]})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-2",children:O.length>0?O.map(W=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-md",children:[c.jsx("span",{className:"font-semibold text-white",children:Vn(W)}),c.jsxs("span",{className:"text-xs text-zinc-400",children:["Lote Fsico: ",W.location||"N/A"]})]},W.id)):c.jsxs("div",{className:"text-center py-6 flex flex-col items-center gap-2",children:[c.jsx(zpe,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold",children:"Todas las hembras tuvieron servicio en esta temporada."})]})})]})]}),c.jsx(fn,{isOpen:f,onClose:()=>{h(!1),m(void 0)},title:p?`Editar Lote de ${p.sireName}`:"Aadir Lote de Reproductor",children:c.jsx(yZe,{onSave:H,onCancel:()=>{h(!1),m(void 0)},editingLot:p,seasonId:B.id})}),c.jsx(_0,{isOpen:!!v,onClose:()=>g(null),onConfirm:q,title:`Eliminar Lote de ${v==null?void 0:v.sireName}`,message:"Ests seguro de que quieres eliminar este lote? Esta accin es irreversible."}),c.jsx(fn,{isOpen:!!y,onClose:()=>b(null),title:"Accin no permitida",children:c.jsxs("div",{className:"space-y-4 text-center",children:[" ",c.jsx(gr,{size:40,className:"mx-auto text-amber-400"})," ",c.jsx("p",{className:"text-zinc-300",children:y})," ",c.jsx("button",{onClick:()=>b(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),c.jsx(fn,{isOpen:!!N,onClose:()=>_(null),title:"Error de Transferencia",children:c.jsxs("div",{className:"space-y-4 text-center",children:[" ",c.jsx(gr,{size:40,className:"mx-auto text-amber-400"})," ",c.jsx("p",{className:"text-zinc-300",children:N})," ",c.jsx("button",{onClick:()=>_(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),c.jsx(bZe,{isOpen:C,onClose:()=>E(!1),femalesToTransfer:O.map(W=>W.id),originSeasonId:B.id,onConfirmTransfer:Z})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada no encontrada."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const EZe=(t,e,n,r,i)=>{if(!t||t.status!=="Activo"||t.isReference)return[];const a=[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Dr.MILKING):o.status==="en-secado"?a.push(Dr.DRYING_OFF):o.status==="seca"&&a.push(Dr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Dr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Dr.IN_SERVICE_CONFIRMED):a.push(Dr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Dr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Dr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Dr[o]).filter(Boolean)};function _Ze({lotId:t,navigateTo:e,onBack:n}){const{sireLots:r,fathers:i,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:l,updateAnimal:u,addServiceRecord:A,startDryingProcess:d,setLactationAsDry:f}=en(),[h,p]=P.useState(!1),[m,v]=P.useState(""),[g,y]=P.useState(null),[b,C]=P.useState(!1),[E,N]=P.useState(null),[_,B]=P.useState(null),[j,D]=P.useState(null),[k,O]=P.useState([]),[F,H]=P.useState("corporal"),Y=P.useMemo(()=>r.find(Ae=>Ae.id===t),[r,t]),q=P.useMemo(()=>{if(!Y)return;const Ae=i.find(He=>He.id===Y.sireId);return Ae?{...Ae,isReference:!0}:a.find(He=>He.id===Y.sireId)},[i,a,Y]),Z=P.useMemo(()=>q?Vn(q):"Desconocido",[q]),W=P.useMemo(()=>Y?a.filter(Ae=>Ae.sireLotId===Y.id&&!Ae.isReference).sort((Ae,He)=>Ae.id.localeCompare(He.id)).map(Ae=>({...Ae,formattedAge:fu(Ae.birthDate),statusObjects:EZe(Ae,s,o,r,l)})):[],[a,Y,s,o,r,l]),oe=P.useMemo(()=>{if(!m)return W;const Ae=m.toLowerCase();return W.filter(He=>Vn(He).toLowerCase().includes(Ae))},[W,m]),te=async Ae=>{if(!Y)return;const He=Ae.map(Ie=>u(Ie,{sireLotId:Y.id,reproductiveStatus:"En Servicio"}));await Promise.all(He),p(!1)},ue=async Ae=>{!Y||!g||(await A({sireLotId:Y.id,femaleId:g.id,serviceDate:Ae.toISOString().split("T")[0]}),ne())},R=Ae=>{if(!Ae)return[];const He=[];return He.push({label:"Registrar Servicio",icon:o0,onClick:()=>{C(!1),N("service")},color:"text-pink-400"}),He.push({label:"Declarar Parto",icon:Co,onClick:()=>{C(!1),N("parturition")}}),He.push({label:"Declarar Aborto",icon:ff,onClick:()=>{C(!1),N("abortion")},color:"text-yellow-400"}),He.push({label:"Acciones de Leche",icon:df,onClick:()=>{C(!1),N("milkWeighingAction")}}),He.push({label:"Acciones de Peso",icon:Xu,onClick:()=>{C(!1),N("bodyWeighingAction")}}),He.push({label:"Dar de Baja",icon:Cc,onClick:()=>{C(!1),N("decommissionSheet")},color:"text-brand-red"}),He},$=[{label:"Por Venta",icon:vc,onClick:()=>{B("Venta"),N("decommission")}},{label:"Por Muerte",icon:ff,onClick:()=>{B("Muerte"),N("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:O5,onClick:()=>{B("Descarte"),N("decommission")},color:"text-brand-red"}],J=Ae=>{y(Ae),C(!0)},ne=()=>{N(null),y(null),D(null),O([]),B(null)},he=async Ae=>{if(!g)return;const He={status:Ae.reason,isReference:!0,endDate:Ae.date};Ae.reason==="Venta"&&Object.assign(He,{salePrice:Ae.salePrice,saleBuyer:Ae.saleBuyer,salePurpose:Ae.salePurpose}),Ae.reason==="Muerte"&&(He.deathReason=Ae.deathReason),Ae.reason==="Descarte"&&Object.assign(He,{cullReason:Ae.cullReason,cullReasonDetails:Ae.cullReasonDetails}),await u(g.id,He),ne()},Se=(Ae,He)=>{D(Ae),N(He==="leche"?"logSimpleMilk":"logSimpleBody")},we=Ae=>{H(Ae),N(Ae==="leche"?"newMilkSession":"newBodySession")},re=async()=>{g&&(await u(g.id,{reproductiveStatus:"En Servicio"}),ne())},pe=(Ae,He)=>{O(He),N("bulkWeighing")},xe=()=>{ne()};return Y?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow min-w-0",children:[c.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white truncate",children:["Lote: ",c.jsx("span",{className:"font-mono",children:Z})]}),c.jsxs("p",{className:"text-xs text-zinc-400 truncate",children:["Reproductor: ",q?Vn(q):"Desconocido"]})]}),c.jsx("button",{onClick:()=>p(!0),className:"p-2 -mr-2 bg-brand-orange hover:bg-orange-600 text-white rounded-full transition-colors",children:c.jsx(ba,{size:24})})]}),c.jsxs("div",{className:"space-y-4 pt-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300",children:["Hembras Asignadas (",oe.length,")"]}),c.jsxs("div",{className:"relative w-40",children:[c.jsx($u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),c.jsx("input",{type:"search",value:m,onChange:Ae=>v(Ae.target.value),placeholder:"Buscar ID o Nombre...",className:"w-full bg-zinc-800/80 rounded-lg pl-8 pr-2 py-1 text-white border-transparent focus:border-brand-amber focus:ring-0 text-sm"})]})]}),c.jsx("div",{className:"space-y-4",children:oe.length>0?oe.map(Ae=>c.jsx(PO,{animal:Ae,onSelect:He=>e({name:"rebano-profile",animalId:He}),onOpenActions:J},Ae.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:m?"No se encontraron coincidencias.":"An no has asignado hembras a este lote."})})})]})]}),c.jsx(HE,{isOpen:h,onClose:()=>p(!1),onSelect:te,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:l,sireLots:r,title:`Asignar Hembras al Lote de ${Z}`,sireIdForInbreedingCheck:Y.sireId}),c.jsx(Ku,{isOpen:b,onClose:()=>C(!1),title:`Acciones para ${Vn(g)}`,actions:R(g)}),c.jsx(Ku,{isOpen:E==="decommissionSheet",onClose:ne,title:"Causa de la Baja",actions:$}),g&&c.jsxs(c.Fragment,{children:[E==="service"&&c.jsx(JO,{isOpen:!0,onClose:ne,onSave:ue,animal:g}),E==="parturition"&&c.jsx(bp,{isOpen:!0,onClose:ne,motherId:g.id}),E==="abortion"&&c.jsx(qO,{animal:g,onCancel:ne,onSaveSuccess:ne}),E==="decommission"&&_&&c.jsx(VE,{isOpen:E==="decommission",animal:g,onCancel:ne,onConfirm:he,reason:_}),E==="milkWeighingAction"&&c.jsx(WO,{isOpen:!0,animal:g,onClose:ne,onLogToSession:Ae=>Se(Ae,"leche"),onStartNewSession:()=>we("leche"),onStartDrying:d,onSetDry:f}),E==="bodyWeighingAction"&&c.jsx(GO,{isOpen:!0,animal:g,onClose:ne,onLogToSession:Ae=>Se(Ae,"corporal"),onStartNewSession:()=>we("corporal"),onSetReadyForMating:re}),E==="logSimpleMilk"&&j&&c.jsx(fn,{isOpen:!0,onClose:ne,title:`Aadir Pesaje Leche: ${Vn(g)}`,children:c.jsx(Wg,{animalId:g.id,weightType:"leche",onSaveSuccess:ne,onCancel:ne,sessionDate:j})}),E==="logSimpleBody"&&j&&c.jsx(fn,{isOpen:!0,onClose:ne,title:`Aadir Peso Corporal: ${Vn(g)}`,children:c.jsx(Wg,{animalId:g.id,weightType:"corporal",onSaveSuccess:ne,onCancel:ne,sessionDate:j})}),(E==="newMilkSession"||E==="newBodySession")&&c.jsx(XO,{weightType:F,onBack:ne,onAnimalsSelected:pe}),E==="bulkWeighing"&&c.jsx(fn,{isOpen:!0,onClose:ne,title:`Carga Masiva - ${F==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(YO,{weightType:F,animalsToWeigh:k,onSaveSuccess:xe,onCancel:ne})})]})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Lote de Reproductor no encontrado."}),c.jsx("button",{onClick:n,className:"mt-4 text-brand-orange",children:"Volver"})]})}const BZe=t=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,s]=P.useState(!0);return P.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const u=er(),[A,d]=await Promise.all([u.weighings.where("goatId").equals(t).toArray(),u.parturitions.where("goatId").equals(t).toArray()]);n(A),i(d.sort((f,h)=>new Date(f.parturitionDate).getTime()-new Date(h.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{s(!1)}})()},[t]),{...P.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((d,f)=>{const h=new Date(d.parturitionDate),p=f<r.length-1?new Date(r[f+1].parturitionDate):new Date(9999,11,31),m=e.filter(N=>{const _=new Date(N.date);return _>=h&&_<p}),v=m.map(N=>({del:Tf(d.parturitionDate,N.date),kg:N.kg})).sort((N,_)=>N.del-_.del),g=m.reduce((N,_)=>N+_.kg,0),y=m.length>0?g/m.length:0,b=v.reduce((N,_)=>_.kg>N.kg?_:N,{kg:0,del:0}),C=v[v.length-1],E=C?C.del:0;return{parturitionDate:d.parturitionDate,weighings:m,lactationCurve:v,averageProduction:y,peakProduction:b,totalDays:E}}),u=r.slice(1).map((d,f)=>{const h=r[f],p=new Date(d.parturitionDate).getTime()-new Date(h.parturitionDate).getTime();return{period:`${h.parturitionDate.substring(0,4)} - ${d.parturitionDate.substring(0,4)}`,days:Math.round(p/(1e3*60*60*24))}}),A=e.sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime())[0];return{allLactations:l,parturitionIntervals:u,lastWeighingDate:(A==null?void 0:A.date)||null}},[e,r]),isLoading:a}},xw=(t,e,n)=>{const r={};return t.forEach(i=>{const a=e.filter(o=>o.goatId===i.goatId&&new Date(i.date)>=new Date(o.parturitionDate)).sort((o,l)=>new Date(l.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];if(!a)return;const s=Tf(a.parturitionDate,i.date);n!==void 0&&s>n||(r[s]||(r[s]={totalKg:0,count:0}),r[s].totalKg+=i.kg,r[s].count++)}),Object.entries(r).map(([i,a])=>({del:parseInt(i),kg:a.totalKg/a.count})).sort((i,a)=>i.del-a.del)},ww=(t,e)=>{let n=0,r=0;return t.forEach(i=>{const a=e.filter(s=>s.goatId===i).sort((s,o)=>new Date(s.parturitionDate).getTime()-new Date(o.parturitionDate).getTime());for(let s=1;s<a.length;s++){const o=a[s],l=a[s-1];if(l.dryingStartDate){const u=new Date(l.dryingStartDate),d=new Date(o.parturitionDate).getTime()-u.getTime(),f=Math.round(d/(1e3*60*60*24));f>=0&&(n+=f,r++)}}}),r===0?null:n/r},NZe=(t,e,n,r)=>{const[i,a]=P.useState(null),[s,o]=P.useState(!1);return P.useEffect(()=>{if(!t.type||!t.animal){a(null),o(!1);return}const{type:l,animal:u,highlightedLactationDEL:A}=t;(async()=>{o(!0),a(null);let f=null;try{if(l==="PRIMIPARAS_AVG"||l==="MULTIPARAS_AVG"||l==="HERD_AVG"){const h=n.reduce((C,E)=>(C[E.goatId]=(C[E.goatId]||0)+1,C),{}),p=n.filter(C=>{const E=h[C.goatId]||0;return l==="PRIMIPARAS_AVG"?E===1:l==="MULTIPARAS_AVG"?E>1:!0}),m=new Set(p.map(C=>C.goatId)),v=r.filter(C=>m.has(C.goatId)),g=xw(v,p,A),y=ww(m,n);f={name:l==="PRIMIPARAS_AVG"?"Prom. Primparas":l==="MULTIPARAS_AVG"?"Prom. Multparas":"Prom. Rebao",curve:g,averageRestInterval:y}}else if(l==="PEERS_AVG"){const h=new Date(u.birthDate),p=h.getFullYear(),m=Math.floor(h.getMonth()/6),v=new Set(e.filter(N=>{const _=new Date(N.birthDate);return _.getFullYear()===p&&Math.floor(_.getMonth()/6)===m&&N.id!==u.id}).map(N=>N.id)),g=new Set(n.filter(N=>v.has(N.goatId)).map(N=>N.goatId)),y=n.filter(N=>g.has(N.goatId)),b=r.filter(N=>g.has(N.goatId)),C=xw(b,y,A),E=ww(g,n);f={name:`Prom. Pares (${p}-S${m+1})`,curve:C,averageRestInterval:E}}else if(l==="DAM")if(u.motherId){const h=n.filter(g=>g.goatId===u.motherId),p=r.filter(g=>g.goatId===u.motherId),m=xw(p,h,A),v=ww(new Set([u.motherId]),n);f={name:`Prom. Madre (${u.motherId})`,curve:m,averageRestInterval:v}}else f={name:"Madre (Desconocida)",curve:[],averageRestInterval:null};else if(l==="PROGENY_AVG"){const h=new Set(e.filter(y=>y.motherId===u.id&&y.sex==="Hembra").map(y=>y.id)),p=n.filter(y=>h.has(y.goatId)),m=r.filter(y=>h.has(y.goatId)),v=xw(m,p,A),g=ww(h,n);f={name:"Prom. Hijas",curve:v,averageRestInterval:g}}else if(l==="SPECIFIC_LACTATION"&&t.specificLactationIndex!==void 0){const h=n.filter(m=>m.goatId===u.id).sort((m,v)=>new Date(m.parturitionDate).getTime()-new Date(v.parturitionDate).getTime());let p=null;if(t.specificLactationIndex>0&&t.specificLactationIndex<h.length){const m=h[t.specificLactationIndex-1];if(m.dryingStartDate){const v=new Date(m.dryingStartDate),y=new Date(h[t.specificLactationIndex].parturitionDate).getTime()-v.getTime();p=Math.round(y/(1e3*60*60*24))}}if(t.specificLactationIndex<h.length){const m=h[t.specificLactationIndex],v=t.specificLactationIndex+1<h.length?new Date(h[t.specificLactationIndex+1].parturitionDate):new Date(9999,11,31),y=r.filter(C=>{const E=new Date(C.date);return C.goatId===u.id&&E>=new Date(m.parturitionDate)&&E<v}).map(C=>({del:Tf(m.parturitionDate,C.date),kg:C.kg})).sort((C,E)=>C.del-E.del);f={name:`Lact. ${new Date(m.parturitionDate).getFullYear()} (#${t.specificLactationIndex+1})`,curve:y,averageRestInterval:p}}else f={name:"Lactancia no encontrada",curve:[],averageRestInterval:null}}}catch(h){console.error("Error calculating comparison data:",h),f={name:"Error",curve:[],averageRestInterval:null}}finally{a(f),o(!1)}})()},[t,e,n,r]),{comparativeData:i,isLoading:s}},Cw=[{stroke:"#FF9500",fill:"url(#gradient0)"},{stroke:"#34C759",fill:"url(#gradient1)"},{stroke:"#007AFF",fill:"url(#gradient2)"},{stroke:"#AF52DE",fill:"url(#gradient3)"},{stroke:"#FF3B30",fill:"url(#gradient4)"},{stroke:"#5AC8FA",fill:"url(#gradient5)"},{stroke:"#FFCC00",fill:"url(#gradient6)"}],o4="#007AFF",G9="comparisonGradient",jZe=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-black/70 backdrop-blur-md p-3 rounded-lg border border-zinc-700 text-white shadow-xl",children:[c.jsxs("p",{className:"label text-zinc-400 text-sm font-medium mb-1",children:["DEL: ",n]}),e.map(r=>{var i;return c.jsxs("p",{style:{color:r.stroke||((i=r.payload)==null?void 0:i.stroke)},className:"font-semibold text-base flex justify-between items-center gap-4",children:[c.jsxs("span",{children:[r.name,":"]}),c.jsx("span",{children:typeof r.value=="number"?`${r.value.toFixed(2)} Kg`:"N/A"})]},r.name)})]}):null,TZe=({lactationsData:t,comparisonData:e,highlightedLactationDate:n,onLactationClick:r})=>{const[i,a]=P.useState(null),s=P.useMemo(()=>t?t.slice(-Cw.length).reverse():[],[t]),o=P.useMemo(()=>new Map(s.map(m=>[`Lact. ${new Date(m.parturitionDate).getFullYear()}`,m.parturitionDate])),[s]),l=(m,v)=>{const g=o.get(m),y=f&&n===g,b=i===m,C=v.dataKey==="kg"&&e&&m===e.name;let E=1;return C?E=1:f?E=y?1:.7:i&&(E=b?1:.7),c.jsx("span",{style:{color:v.color,opacity:E,transition:"opacity 0.2s ease"},children:m})},u=P.useMemo(()=>{if(!s)return[];let m=s.flatMap(v=>v.lactationCurve);return e!=null&&e.curve&&(m=m.concat(e.curve)),m},[s,e]),A=P.useMemo(()=>!u||u.length===0?305:Math.max(...u.map(m=>m.del),0),[u]),d=P.useMemo(()=>!u||u.length===0?5:Math.max(...u.map(m=>m.kg),0),[u]),f=n!==null,h=o4,p=`url(#${G9})`;return s?s.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos histricos de lactancia para mostrar."}):c.jsx("div",{className:"w-full h-72",children:c.jsx(Fi,{children:c.jsxs(Bx,{margin:{top:5,right:15,left:-25,bottom:5},onClick:m=>{(!m||!m.activePayload||m.activePayload.length===0)&&r(null)},children:[c.jsxs("defs",{children:[Cw.map((m,v)=>c.jsxs("linearGradient",{id:`gradient${v}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:m.stroke,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:m.stroke,stopOpacity:.15})]},`grad-${v}`)),c.jsxs("linearGradient",{id:G9,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:o4,stopOpacity:.6})," ",c.jsx("stop",{offset:"95%",stopColor:o4,stopOpacity:.1})," "]})]}),c.jsx(Bc,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)",vertical:!1}),c.jsx(hi,{dataKey:"del",type:"number",domain:[0,A>0?A:305],tick:{fill:"rgba(255, 255, 255, 0.5)",fontSize:10},stroke:"rgba(255, 255, 255, 0.2)",axisLine:!1,tickLine:!1,name:"DEL"}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255, 255, 255, 0.5)",fontSize:10},stroke:"rgba(255, 255, 255, 0.2)",axisLine:!1,tickLine:!1,domain:[0,d>0?Math.ceil(d+.5):5],unit:"Kg",width:35}),c.jsx(Er,{content:c.jsx(jZe,{}),cursor:{stroke:"rgba(255,255,255,0.4)",strokeWidth:1.5}}),c.jsx(Il,{verticalAlign:"top",height:36,iconType:"plainline",wrapperStyle:{fontSize:"12px",paddingBottom:"10px"},formatter:l,onMouseEnter:m=>a(m.value),onMouseLeave:()=>a(null)}),s.map((m,v)=>{const g=Cw[v%Cw.length],b=`Lact. ${new Date(m.parturitionDate).getFullYear()}`,C=n===m.parturitionDate,E=i===b,N=C||E,_=f?C?1:.7:E?1:.9,B=N?3.5:2.5,j=f?C?.7:.3:E?.8:.7;return c.jsxs(be.Fragment,{children:[c.jsx(Ol,{type:"monotone",data:m.lactationCurve,dataKey:"kg",name:b,stroke:"none",fill:g.fill,fillOpacity:j,activeDot:!1,style:{transition:"opacity 0.2s ease, fill-opacity 0.2s ease"}}),c.jsx(ou,{type:"monotone",data:m.lactationCurve,dataKey:"kg",name:b,stroke:g.stroke,strokeWidth:B,dot:!1,activeDot:{r:5,strokeWidth:0},strokeOpacity:_,style:{transition:"opacity 0.2s ease, stroke-width 0.2s ease"},onClick:()=>{r(m.parturitionDate)},cursor:"pointer"})]},m.parturitionDate)}),e&&e.curve.length>0&&c.jsxs(be.Fragment,{children:[c.jsx(Ol,{type:"monotone",data:e.curve,dataKey:"kg",name:e.name,stroke:"none",fill:p,fillOpacity:f?.4:.6,style:{transition:"opacity 0.2s ease"}}),c.jsx(ou,{type:"monotone",data:e.curve,dataKey:"kg",name:e.name,stroke:h,strokeWidth:2.5,strokeDasharray:"4 4",dot:!1,activeDot:{r:5,strokeWidth:0},strokeOpacity:1,style:{transition:"opacity 0.2s ease"}})]})]})})}):c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Cargando datos..."})},IZe=({lactationNumber:t,lactationData:e,onClick:n})=>{const r=new Date(e.parturitionDate+"T00:00:00Z").getUTCFullYear();return c.jsxs("button",{onClick:n,className:"w-full text-left bg-black/20 rounded-2xl p-4 border border-zinc-700/80 hover:border-brand-blue/50 transition-colors group",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-bold text-lg text-white",children:["Lactancia #",t," ",c.jsxs("span",{className:"text-zinc-400 font-normal",children:["(",r,")"]})]}),c.jsx(ea,{className:"text-zinc-500 group-hover:text-brand-blue transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(s0,{size:12}),"Promedio"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.averageProduction.toFixed(2),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" Kg"})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(ya,{size:12}),"Pico"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.peakProduction.kg.toFixed(2),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" Kg"})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(TD,{size:12}),"Duracin"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.totalDays,c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" das"})]})]})]})]})},l4=(t,e=2,n="Kg")=>t==null||isNaN(t)?"N/A":`${t.toFixed(e)} ${n}`,kZe=(t,e,n)=>{const r=n.find(s=>s.goatId===e&&s.parturitionDate===t.parturitionDate);if(!r)return null;const i=n.filter(s=>s.goatId===e&&new Date(s.parturitionDate)<new Date(r.parturitionDate)).sort((s,o)=>new Date(o.parturitionDate).getTime()-new Date(s.parturitionDate).getTime())[0];if(!i||!i.dryingStartDate)return null;const a=new Date(r.parturitionDate).getTime()-new Date(i.dryingStartDate).getTime();return Math.round(a/(1e3*60*60*24))},Sw=({label:t,valueA:e,valueB:n,unit:r,decimals:i=2,invertColors:a=!1})=>{const s=e!=null,o=n!=null,l=s&&o;let u=null,A="N/A",d="text-zinc-400",f=MD;return l&&(u=e-n,Math.abs(u)<.01&&(u=0),A=`${u>0?"+":""}${u.toFixed(i)} ${r}`,u>0?(d=a?"text-brand-red":"text-brand-green",f=pg):u<0&&(d=a?"text-brand-green":"text-brand-red",f=hg)),c.jsxs("div",{className:"py-3 border-b border-zinc-700/50 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-zinc-400",children:t}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-lg font-semibold text-white",children:l4(e,i,r)}),l?c.jsxs("span",{className:`text-sm font-medium flex items-center ${d}`,children:[c.jsx(f,{size:16,className:"mr-0.5"}),A,c.jsxs("span",{className:"text-zinc-500 ml-2 text-xs font-normal",children:["(vs ",l4(n,i,r),")"]})]}):c.jsxs("span",{className:"text-sm font-medium text-zinc-500",children:["vs ",l4(n,i,r)]})]})]})},PZe=({lactationA:t,comparisonB:e,allParturitions:n,animalId:r})=>{const i=e!=null&&e.curve.length?e.curve.reduce((A,d)=>A+d.kg,0)/e.curve.length:null,a=e!=null&&e.curve.length?e.curve.reduce((A,d)=>d.kg>A.kg?d:A,{kg:0,del:0}):null,s=e!=null&&e.curve.length?e.curve[e.curve.length-1].del:null,o=P.useMemo(()=>kZe(t,r,n),[t,r,n]),l=e==null?void 0:e.averageRestInterval,u=`Lact. ${new Date(t.parturitionDate).getFullYear()}`;return c.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-border/50 text-white animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[c.jsx("span",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide",children:"Mtrica"}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs font-semibold text-white uppercase tracking-wide",children:u}),c.jsxs("span",{className:"text-xs font-light text-zinc-400",children:["vs ",(e==null?void 0:e.name)||"..."]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Sw,{label:"Promedio",valueA:t.averageProduction,valueB:i,unit:"Kg",decimals:2}),c.jsx(Sw,{label:"Pico",valueA:t.peakProduction.kg,valueB:a==null?void 0:a.kg,unit:"Kg",decimals:2}),c.jsx(Sw,{label:"Duracin (DEL)",valueA:t.totalDays,valueB:s,unit:"das",decimals:0}),c.jsx(Sw,{label:"Descanso Previo",valueA:o,valueB:l,unit:"das",decimals:0,invertColors:!0})]})]})},DZe=({active:t,payload:e,label:n})=>{var r;return t&&e&&e.length?c.jsxs("div",{className:"bg-zinc-800/80 backdrop-blur-md p-3 rounded-lg border border-zinc-700 text-white shadow-xl",children:[c.jsxs("p",{className:"label text-zinc-400 text-sm font-medium mb-1",children:["DEL: ",n]}),c.jsxs("p",{className:"font-semibold text-base",style:{color:e[0].stroke||((r=e[0].payload)==null?void 0:r.stroke)||e[0].fill},children:[e[0].name,": ",e[0].value.toFixed(2)," Kg"]})]}):null};function rie({animalId:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,weighings:a,startDryingProcess:s,setLactationAsDry:o}=en(),{allLactations:l,parturitionIntervals:u,lastWeighingDate:A,isLoading:d}=BZe(t),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(!1),[y,b]=P.useState(null),C=P.useMemo(()=>r.find(J=>J.id===t)||null,[r,t]),[E,N]=P.useState({type:null,animal:C,highlightedLactationDEL:void 0}),{comparativeData:_,isLoading:B}=NZe(E,r,i,a),j=P.useMemo(()=>{if(l.length===0)return null;const J=l[l.length-1],ne=i.find(he=>he.parturitionDate===J.parturitionDate&&he.goatId===t);return{...J,id:ne==null?void 0:ne.id,status:ne==null?void 0:ne.status}},[l,i,t]),D=P.useMemo(()=>{if(!j||j.status==="seca"||j.status==="finalizada")return"N/A";const J=j.status!=="activa"&&A?A:new Date().toISOString().split("T")[0];return Tf(j.parturitionDate,J)},[j,A]),k=P.useMemo(()=>!j||j.weighings.length===0?null:[...j.weighings].sort((ne,he)=>new Date(he.date).getTime()-new Date(ne.date).getTime())[0].kg,[j]),O=P.useMemo(()=>!v||!_||B||_.curve.length===0?null:{name:_.name,curve:_.curve},[v,_,B]),F=P.useMemo(()=>l.length>0?l[l.length-1]:null,[l]),H=P.useMemo(()=>u.length>0?u[u.length-1].days:0,[u]),Y=P.useMemo(()=>l.length<=1?[]:l.slice(0,-1).reverse(),[l]);if(d)return c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando perfil..."})});const q=l.length===1,Z=J=>{if(!J)return;const ne=l.find(he=>he.parturitionDate===J);return!ne||ne.lactationCurve.length===0?0:Math.max(...ne.lactationCurve.map(he=>he.del),0)},W=J=>{b(J);const ne=Z(J);J?(g(!0),N(he=>({...he,animal:C,highlightedLactationDEL:ne}))):(g(!1),N({type:null,animal:null,highlightedLactationDEL:void 0}))},oe=()=>{const J=!v;if(g(J),J){let ne=y;!ne&&F&&(ne=F.parturitionDate,b(ne));const he=Z(ne);N(Se=>({...Se,animal:C,highlightedLactationDEL:he}))}else b(null),N({type:null,animal:null,highlightedLactationDEL:void 0})},te=(J,ne)=>{N(he=>{const Se=he.type===J&&he.specificLactationIndex===ne?null:J;let we=y;Se&&(g(!0),!we&&F&&(we=F.parturitionDate,b(we)));const re=Z(we);return{...he,type:Se,animal:C,specificLactationIndex:J==="SPECIFIC_LACTATION"?ne:void 0,highlightedLactationDEL:re}})},ue=J=>{J&&J.lactationCurve.length>0&&(m(J),h(!0))},R=(J,ne)=>{const he=E.type===J&&(J!=="SPECIFIC_LACTATION"||E.specificLactationIndex===ne);let Se="";return q&&J==="PRIMIPARAS_AVG"&&(Se="ring-2 ring-amber-400"),!q&&J==="MULTIPARAS_AVG"&&(Se="ring-2 ring-amber-400"),`px-2 py-1 text-xs rounded-md transition-colors ${he?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${Se}`},$=y!==null;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 sticky top-0 z-10 bg-brand-dark/80 backdrop-blur-md -mx-4 px-4 border-b border-brand-border/50 mb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Perfil de Lactancia"})]}),c.jsx("button",{onClick:()=>n({name:"rebano-profile",animalId:t}),className:"p-2 -mr-2 text-zinc-400 hover:text-white transition-colors",title:"Ir a la ficha general del animal",children:c.jsx(dx,{size:24})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(s0,{size:14}),c.jsx("span",{children:"Promedio Actual"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(F==null?void 0:F.averageProduction.toFixed(2))||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(ya,{size:14}),c.jsx("span",{children:"Pico Prod. Actual"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(F==null?void 0:F.peakProduction.kg.toFixed(2))||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(TD,{size:14}),c.jsx("span",{children:"DEL Actual"})]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:D})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx($pe,{size:14}),c.jsx("span",{children:"lt. Int. Partos"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[H||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"das"})]})]}),c.jsxs("button",{onClick:()=>ue(F),disabled:!F||F.weighings.length===0,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors col-span-2 md:col-span-1 disabled:opacity-50 disabled:cursor-not-allowed relative group",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(gpe,{size:14}),c.jsx("span",{children:"lt. Pesaje"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(k==null?void 0:k.toFixed(2))??"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]}),c.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:A?new Date(A+"T00:00:00").toLocaleDateString():""}),c.jsx("div",{className:"absolute top-3 right-3 text-zinc-500 group-hover:text-brand-amber transition-colors",children:c.jsx(Ax,{size:18})})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[c.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:"Historial de Lactancias"}),c.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[$&&c.jsxs("button",{onClick:()=>W(null),className:"text-xs font-semibold text-zinc-400 hover:text-white animate-fade-in flex items-center gap-1 bg-zinc-700/50 px-2 py-1 rounded-md",title:"Quitar zoom",children:[c.jsx(_pe,{size:14}),"Ver Todo"]}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),c.jsx("button",{onClick:oe,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})})]})]}),v&&c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 animate-fade-in p-2 bg-black/20 rounded-lg",children:[c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto",children:"Grupos:"}),c.jsx("button",{onClick:()=>te("PRIMIPARAS_AVG"),className:R("PRIMIPARAS_AVG"),children:"vs Primparas"}),c.jsx("button",{onClick:()=>te("MULTIPARAS_AVG"),className:R("MULTIPARAS_AVG"),children:"vs Multparas"}),c.jsx("button",{onClick:()=>te("HERD_AVG"),className:R("HERD_AVG"),children:"vs Rebao"}),c.jsx("button",{onClick:()=>te("PEERS_AVG"),className:R("PEERS_AVG"),children:"vs Pares"}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto pt-2 sm:pt-0",children:"Familia:"}),c.jsx("button",{onClick:()=>te("DAM"),className:R("DAM"),disabled:!(C!=null&&C.motherId),children:"Madre"}),c.jsx("button",{onClick:()=>te("PROGENY_AVG"),className:R("PROGENY_AVG"),children:"Prom. Hijas"}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto pt-2 sm:pt-0",children:"Propias:"}),Y.map((J,ne)=>c.jsxs("button",{onClick:()=>te("SPECIFIC_LACTATION",l.length-2-ne),className:R("SPECIFIC_LACTATION",l.length-2-ne),children:["vs Lact. #",l.length-1-ne," (",new Date(J.parturitionDate).getFullYear(),")"]},J.parturitionDate))]}),c.jsx(TZe,{lactationsData:l,comparisonData:O,highlightedLactationDate:y,onLactationClick:W}),B&&c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:[c.jsx(iu,{className:"animate-spin mr-2"})," Calculando comparacin..."]}),v&&_&&F&&!B&&c.jsx(PZe,{lactationA:l.find(J=>J.parturitionDate===y)||F,comparisonB:_,allParturitions:i,animalId:t})]}),Y.length>0&&c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-1",children:"Lactancias Anteriores"}),Y.map((J,ne)=>c.jsx(IZe,{lactationNumber:l.length-1-ne,lactationData:J,onClick:()=>ue(J)},J.parturitionDate))]}),(j==null?void 0:j.id)&&j.status!=="finalizada"&&c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestin de Lactancia Actual"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[j.status==="activa"&&c.jsxs("button",{onClick:()=>s(j.id),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[c.jsx(Zc,{size:20}),c.jsx("span",{children:"Iniciar Proceso de Secado"})]}),(j.status==="activa"||j.status==="en-secado")&&c.jsxs("button",{onClick:()=>o(j.id),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[c.jsx(Cc,{size:20}),c.jsx("span",{children:"Declarar Lactancia como Seca"})]}),j.status==="seca"&&c.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:c.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),j.status==="en-secado"&&c.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]}),c.jsx(fn,{isOpen:f,onClose:()=>h(!1),title:`Curva Lactancia (${p?new Date(p.parturitionDate).getFullYear():"Actual"}) - ${t}`,children:p?c.jsx("div",{className:"w-full h-[320px] -ml-2 -mr-2",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(Bx,{data:p.lactationCurve,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorLactation",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#FBBF24",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#FBBF24",stopOpacity:0})]})}),c.jsx(Bc,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),c.jsx(hi,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.2)"}}),c.jsx(Bi,{orientation:"right",tickFormatter:J=>`${J.toFixed(1)} Kg`,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.2)"}}),c.jsx(Er,{content:c.jsx(DZe,{})}),c.jsx(Ol,{type:"monotone",dataKey:"kg",name:`${t} (${new Date(p.parturitionDate).getFullYear()})`,stroke:"#FBBF24",fill:"url(#colorLactation)",strokeWidth:2.5,dot:{r:3,fill:"#FBBF24",stroke:"#FBBF24",strokeWidth:1},activeDot:{r:5,fill:"#FFFFFF",stroke:"#FBBF24",strokeWidth:2}})]})})}):c.jsx("p",{className:"text-center text-zinc-400 py-8",children:"No hay datos para mostrar la curva seleccionada."})})]})}const OZe=({plan:t})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("p",{className:"font-semibold text-white",children:t.details}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Iniciado el: ",new Date(t.startDate+"T00:00:00").toLocaleDateString("es-VE")]})]});function FZe({lotName:t,onBack:e}){const{feedingPlans:n,addFeedingPlan:r}=en(),[i,a]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(null),A=P.useMemo(()=>n.filter(f=>f.lotName===t).sort((f,h)=>new Date(h.startDate).getTime()-new Date(f.startDate).getTime()),[n,t]),d=async f=>{if(f.preventDefault(),!i.trim()){u({type:"error",text:"Los detalles del plan no pueden estar vacos."});return}try{await r({lotName:t,details:i,startDate:s}),u({type:"success",text:"Plan de alimentacin guardado con xito."}),a("")}catch(h){u({type:"error",text:"No se pudo guardar el plan."}),console.error(h)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Alimentacin: ",t]}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Planes de Nutricin del Lote"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(ba,{size:20})," Asignar Nuevo Plan"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"planDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Plan (Ej: 2kg de concentrado/da)"}),c.jsx("textarea",{id:"planDetails",rows:3,value:i,onChange:f=>a(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"planStartDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),c.jsx("input",{id:"planStartDate",type:"date",value:s,onChange:f=>o(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Plan"}),l&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18}),c.jsx("span",{children:l.text})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[c.jsx(kD,{size:20})," Historial de Planes"]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(f=>c.jsx(OZe,{plan:f},f.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay planes de alimentacin registrados para este lote."})})]})]})}const MZe=({event:t})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("p",{className:"font-semibold text-white",children:t.details}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Aplicado el: ",new Date(t.date+"T00:00:00").toLocaleDateString("es-VE")]})]});function LZe({lotName:t,onBack:e}){const{events:n,addBatchEvent:r}=en(),[i,a]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(null),A=P.useMemo(()=>{const f=n.filter(h=>h.lotName===t&&h.type==="Tratamiento").reduce((h,p)=>{const m=`${p.date}-${p.details}`;return h[m]||(h[m]=p),h},{});return Object.values(f).sort((h,p)=>new Date(p.date).getTime()-new Date(h.date).getTime())},[n,t]),d=async f=>{if(f.preventDefault(),u(null),!i.trim()){u({type:"error",text:"Los detalles del tratamiento no pueden estar vacos."});return}try{await r({lotName:t,details:i,date:s,type:"Tratamiento"}),u({type:"success",text:"Tratamiento registrado con xito para todo el lote."}),a("")}catch(h){u({type:"error",text:"No se pudo registrar el tratamiento."}),console.error(h)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Tratamientos: ",t]}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Sanidad Colectiva del Lote"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(ba,{size:20})," Registrar Tratamiento al Lote"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"treatmentDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Tratamiento (Ej: Vacuna Triple)"}),c.jsx("textarea",{id:"treatmentDetails",rows:3,value:i,onChange:f=>a(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"treatmentDate",type:"date",value:s,onChange:f=>o(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Tratamiento"}),l&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18}),c.jsx("span",{children:l.text})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[c.jsx(Jpe,{size:20})," Historial de Tratamientos del Lote"]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(f=>c.jsx(MZe,{event:f},f.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay tratamientos registrados para este lote."})})]})]})}const qu=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebao";return"range"in e[0].payload?c.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[c.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),c.jsxs("p",{className:"font-bold text-base",children:["N de Cabras: ",e[0].value]})]}):c.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[c.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Das en Leche (DEL): ${n}`:`DEL: ${n}`}),c.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Produccin: ${e[0].value.toFixed(2)} Kg`})]})}return null},Vf=({icon:t,label:e,value:n,unit:r,colorClass:i})=>c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border ${i||""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(t,{size:14}),c.jsx("span",{children:e})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[n," ",c.jsx("span",{className:"text-lg text-zinc-400",children:r})]})]});function RZe({animalId:t,onBack:e}){const{animals:n,bodyWeighings:r,appConfig:i}=en(),a=P.useMemo(()=>{const m=n.find(j=>j.id===t);if(!m)return null;const v=r.filter(j=>j.animalId===m.id).sort((j,D)=>new Date(j.date).getTime()-new Date(D.date).getTime()),g=kO(m.birthWeight,v),y=fu(m.birthDate),b=v.length>0?v[v.length-1].kg:m.birthWeight||0,C=n7e(m),E=r7e(m,v),N=v.map(j=>({age:(new Date(j.date).getTime()-new Date(m.birthDate+"T00:00:00Z").getTime())/(1e3*60*60*24),[m.id]:j.kg}));m.birthWeight&&N.unshift({age:0,[m.id]:m.birthWeight});const B=[60,90,180,270].map(j=>({days:j,weight:hte(v,m.birthDate,j)}));return{animal:m,gdp:g,formattedAge:y,latestWeight:b,chartData:N,interpolatedWeights:B,weaningIndex:C,precocityIndex:E}},[t,n,r]);if(!a)return c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."})});const{animal:s,gdp:o,formattedAge:l,latestWeight:u,chartData:A,interpolatedWeights:d,weaningIndex:f,precocityIndex:h}=a,p=s.name?String(s.name).toUpperCase().trim():"";return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-md z-10 border-b border-brand-border -mx-4 mb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow min-w-0",children:[c.jsx("h1",{className:"text-3xl font-mono font-bold tracking-tight text-white truncate",children:s.id.toUpperCase()}),p&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:p}),c.jsx("p",{className:"text-lg text-zinc-400 mt-1",children:"Perfil de Crecimiento"})]}),c.jsx("div",{className:"w-8"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-4",children:[c.jsx(Vf,{icon:Xu,label:"Peso Actual",value:u.toFixed(2),unit:"Kg"}),c.jsx(Vf,{icon:ya,label:"GDP General",value:o.overall?(o.overall*1e3).toFixed(0):"N/A",unit:"g/da"}),c.jsx(Vf,{icon:So,label:"Edad Actual",value:l}),c.jsx(Vf,{icon:Rpe,label:"N Pesajes",value:A.length>0?A.length-(s.birthWeight?1:0):0})]}),(f||h)&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 px-4",children:[f&&c.jsx(Vf,{icon:ume,label:"ndice Destete (60d)",value:f.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"}),c.jsx(Vf,{icon:F5,label:"Meta Destete (Config)",value:i.pesoMinimoDesteteFinal.toFixed(2),unit:"Kg",colorClass:"border-blue-400/50"}),h&&c.jsx(Vf,{icon:lme,label:"ndice Precocidad (7m)",value:h.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"})]}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Curva de Crecimiento"}),A.length>1?c.jsx("div",{className:"w-full h-64",children:c.jsx(Fi,{children:c.jsxs(IO,{data:A,margin:{top:5,right:20,left:-10,bottom:5},children:[c.jsx(Bc,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(hi,{dataKey:"age",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Edad (das)",position:"insideBottom",offset:-5,fill:"rgba(255,255,255,0.5)"}}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Peso (Kg)",angle:-90,position:"insideRight",fill:"rgba(255,255,255,0.5)"},domain:["dataMin - 2","dataMax + 2"]}),c.jsx(Er,{content:c.jsx(qu,{})}),c.jsx(Il,{verticalAlign:"top",height:36}),c.jsx(ou,{type:"monotone",dataKey:s.id,name:Vn(s),stroke:"#34C759",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})}):c.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No hay suficientes pesajes para mostrar la curva."})]})}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hitos de Crecimiento (Pesos Estimados)"}),A.length>1?c.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(({days:m,weight:v})=>c.jsxs("div",{className:"bg-black/20 p-3 rounded-lg text-center",children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["Peso a los ",m," das"]}),c.jsx("p",{className:"text-xl font-bold text-white",children:v?`${v.toFixed(2)} Kg`:"---"})]},m))}):c.jsx("p",{className:"text-center text-zinc-500 py-4",children:"Se necesitan ms pesajes para estimar los hitos."})]})})]})}const UZe=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result.split(",")[1]),r.onerror=i=>n(i)}),QZe=({onImageSelect:t})=>{const e=P.useRef(null),n=r=>{var i;(i=r.target.files)!=null&&i[0]&&t(r.target.files[0])};return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("input",{type:"file",ref:e,accept:"image/*",onChange:n,className:"hidden"}),c.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.setAttribute("capture","environment"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(ype,{className:"w-12 h-12 mb-2 text-blue-400"}),c.jsx("span",{className:"text-lg font-semibold",children:"Tomar Foto"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Usa la cmara para escanear"})]}),c.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.removeAttribute("capture"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Fpe,{className:"w-12 h-12 mb-2 text-green-400"}),c.jsx("span",{className:"text-lg font-semibold",children:"Seleccionar Archivo"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Elige una foto de tu galera"})]})]})};function HZe({onBack:t}){const[e,n]=P.useState("capture"),[r,i]=P.useState(""),[a,s]=P.useState(""),o=async l=>{var u,A;n("loading"),i(""),s("");try{const d=await UZe(l),m=await fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyAsHrxI8e8prsvYNvx992YyC26n592GfWk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:d},features:[{type:"TEXT_DETECTION"}]}]})});if(!m.ok){const y=await m.json();throw new Error(y.error.message||"Error en la API de Google Vision.")}const g=(A=(u=(await m.json()).responses[0])==null?void 0:u.fullTextAnnotation)==null?void 0:A.text;if(g)s(g),n("verification");else throw new Error("No se pudo detectar texto en la imagen. Intenta con una foto ms clara.")}catch(d){i(d.message||"Ocurri un error inesperado."),n("error")}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Escanear Cuaderno"}),c.jsx("p",{className:"text-xl text-zinc-400",children:"Digitalizacin Asistida"})]}),c.jsx("div",{className:"w-8"})]}),e==="capture"&&c.jsx(QZe,{onImageSelect:o}),e==="loading"&&c.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[c.jsx(Dq,{className:"w-12 h-12 text-amber-400 mx-auto animate-spin"}),c.jsx("p",{className:"mt-4 text-zinc-400",children:"Analizando imagen con IA..."})]}),e==="verification"&&c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider border-b border-brand-border pb-2",children:[c.jsx(dx,{}),c.jsx("span",{children:"Texto Reconocido"})]}),c.jsx("textarea",{readOnly:!0,value:a,className:"w-full h-48 bg-black/20 text-white p-3 rounded-lg border border-zinc-700"}),c.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Funcionalidad de autocompletado de pesajes prximamente."}),c.jsx("button",{onClick:()=>n("capture"),className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Escanear Otra Imagen"})]}),e==="error"&&c.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-6 text-center animate-fade-in",children:[c.jsx(gr,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),c.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Ocurri un Error"}),c.jsx("p",{className:"text-red-300",children:r}),c.jsx("button",{onClick:()=>n("capture"),className:"mt-6 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Intentar de Nuevo"})]})]})}const q9=152,pF=()=>{const{animals:t,breedingSeasons:e,sireLots:n,serviceRecords:r,fathers:i}=en();return{forecastBySeason:P.useMemo(()=>{var A;const s=[],o=e.filter(d=>d.status==="Activo");for(const d of o){const f=n.filter(m=>m.seasonId===d.id);if(f.length===0)continue;const h=new Set(f.map(m=>m.id)),p=t.filter(m=>m.sireLotId&&h.has(m.sireLotId));for(const m of p){const v=r.filter(b=>b.femaleId===m.id&&b.sireLotId===m.sireLotId&&new Date(b.serviceDate)>=new Date(d.startDate)&&new Date(b.serviceDate)<=new Date(d.endDate)).sort((b,C)=>new Date(C.serviceDate).getTime()-new Date(b.serviceDate).getTime())[0],g=n.find(b=>b.id===m.sireLotId);if(!g)continue;const y=((A=i.find(b=>b.id===g.sireId))==null?void 0:A.name)||"Desconocido";if(v){const b=new Date(v.serviceDate);b.setDate(b.getDate()+q9),s.push({animal:m,dueDate:b,type:"Confirmada",sireId:g.sireId,sireName:y,seasonId:d.id})}else{const C=new Date(d.startDate);C.setDate(C.getDate()+10+q9),s.push({animal:m,dueDate:C,type:"Probable",sireId:g.sireId,sireName:y,seasonId:d.id})}}}const l=s.reduce((d,f)=>{const{seasonId:h}=f;return d[h]||(d[h]=[]),d[h].push(f),d},{});let u=Object.entries(l).map(([d,f])=>{const h=e.find(g=>g.id===d),p=f.map(g=>g.dueDate.getTime()),m=new Date(Math.min(...p)),v=new Date(Math.max(...p));return{seasonId:d,seasonName:h.name,projectedStartDate:f.length>0?m:null,projectedEndDate:f.length>0?v:null,events:f.sort((g,y)=>g.dueDate.getTime()-y.dueDate.getTime()),totalEvents:f.length,confirmedEvents:f.filter(g=>g.type==="Confirmada").length,probableEvents:f.filter(g=>g.type==="Probable").length,daysSinceLastSeason:null}}).sort((d,f)=>d.projectedStartDate&&f.projectedStartDate?d.projectedStartDate.getTime()-f.projectedStartDate.getTime():d.projectedStartDate?-1:f.projectedStartDate?1:0);if(u.length>1){for(let d=1;d<u.length;d++)if(u[d].projectedStartDate&&u[d-1].projectedEndDate){const f=u[d].projectedStartDate,h=u[d-1].projectedEndDate,p=f.getTime()-h.getTime(),m=Math.ceil(p/(1e3*60*60*24));u[d].daysSinceLastSeason=m}}return u},[t,e,n,r,i])}},zZe=`
  .rdp { --rdp-cell-size: 45px; --rdp-accent-color: #FF9500; --rdp-background-color: #2C2C2E; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: #2C2C2E; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; width: 100%; }
  .rdp-caption_label, .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .day-confirmed { position: relative; }
  .day-confirmed::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #34C759; }
  .day-probable { position: relative; }
  .day-probable::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #FF9500; opacity: 0.7; }
`,VZe=({seasonForecast:t,onClick:e})=>{var n,r;return c.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border hover:border-brand-blue transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.seasonName}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[(n=t.projectedStartDate)==null?void 0:n.toLocaleDateString("es-VE",{month:"long",day:"numeric"})," - ",(r=t.projectedEndDate)==null?void 0:r.toLocaleDateString("es-VE",{month:"long",day:"numeric",year:"numeric"})]})]}),t.daysSinceLastSeason!==null&&t.daysSinceLastSeason>0&&c.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[c.jsx("p",{className:"text-xs text-zinc-500",children:"Separacin"}),c.jsxs("p",{className:"font-semibold text-white",children:[t.daysSinceLastSeason," das"]})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold text-2xl text-white",children:t.totalEvents}),c.jsx("p",{className:"text-xs text-zinc-400",children:"Partos"})]}),c.jsxs("div",{className:"text-left text-xs",children:[c.jsxs("p",{className:"flex items-center gap-1 text-brand-green",children:[c.jsx(us,{size:12})," Confirmados: ",t.confirmedEvents]}),c.jsxs("p",{className:"flex items-center gap-1 text-brand-orange",children:[c.jsx(PD,{size:12})," Probables: ",t.probableEvents]})]})]}),c.jsx(ea,{className:"text-zinc-600"})]})]})},$Ze=({forecastItem:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:t.animal.id}),c.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?c.jsx(us,{size:16}):c.jsx(PD,{size:16}),c.jsx("span",{children:t.type})]})]});function KZe({navigateTo:t}){const{forecastBySeason:e}=pF(),[n,r]=P.useState("cards"),[i,a]=P.useState(void 0),[s,o]=P.useState(new Date),l=P.useMemo(()=>e.flatMap(d=>d.events),[e]),u=P.useMemo(()=>({confirmed:l.filter(d=>d.type==="Confirmada").map(d=>d.dueDate),probable:l.filter(d=>d.type==="Probable").map(d=>d.dueDate)}),[l]),A=P.useMemo(()=>i?l.filter(d=>d.dueDate.getFullYear()===i.getFullYear()&&d.dueDate.getMonth()===i.getMonth()&&d.dueDate.getDate()===i.getDate()):[],[l,i]);return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[c.jsx("style",{children:zZe}),c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Calendario de Partos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Proyecciones del Rebao"})]}),c.jsxs("div",{className:"flex justify-center p-1 bg-zinc-800 rounded-xl",children:[c.jsxs("button",{onClick:()=>r("cards"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="cards"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(Pq,{size:16})," Temporadas"]}),c.jsxs("button",{onClick:()=>r("calendar"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="calendar"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(So,{size:16})," Calendario"]})]}),n==="cards"&&c.jsx("div",{className:"space-y-3",children:e.length>0?e.map(d=>c.jsx(VZe,{seasonForecast:d,onClick:()=>t({name:"birthing-season-detail",seasonId:d.seasonId})},d.seasonId)):c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(Co,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400",children:"No hay temporadas de parto activas o proyectadas."})]})}),n==="calendar"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:c.jsx(yp,{mode:"single",selected:i,onSelect:a,month:s,onMonthChange:o,locale:jx,modifiers:{confirmed:u.confirmed,probable:u.probable},modifiersClassNames:{confirmed:"day-confirmed",probable:"day-probable"},showOutsideDays:!0})}),i&&c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Proyecciones para el ",i.toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(d=>c.jsx($Ze,{forecastItem:d,onClick:()=>t({name:"rebano-profile",animalId:d.animal.id})},d.animal.id))}):c.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay partos proyectados para este da."})})]})]})]})}const WZe=({forecastItem:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:t.animal.id}),c.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?c.jsx(us,{size:16}):c.jsx(PD,{size:16}),c.jsx("span",{children:t.type})]}),c.jsx(ea,{className:"text-zinc-600"})]})]}),GZe=t=>{const e=new Date(t.getUTCFullYear(),t.getUTCMonth(),1),n=e.getUTCDay()===0?6:e.getUTCDay()-1,r=t.getUTCDate(),i=Math.ceil((r+n)/7),a=t.toLocaleString("es-VE",{month:"short",timeZone:"UTC"});return`${a.charAt(0).toUpperCase()+a.slice(1)} - Sem ${i}`};function qZe({seasonId:t,onBack:e,navigateTo:n}){const{forecastBySeason:r}=pF(),i=P.useMemo(()=>r.find(s=>s.seasonId===t),[r,t]),a=P.useMemo(()=>{if(!i)return[];const s={};return i.events.forEach(o=>{const l=o.dueDate,u=GZe(l);if(!s[u]){const A=l.getUTCDate(),d=l.getUTCDay()===0?6:l.getUTCDay()-1,f=new Date(l);f.setUTCDate(A-d),s[u]={count:0,startDate:f}}s[u].count++}),Object.entries(s).map(([o,l])=>({name:o,partos:l.count,startDate:l.startDate})).sort((o,l)=>o.startDate.getTime()-l.startDate.getTime())},[i]);return i?c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:i.seasonName}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de Proyeccin de Partos"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(Ax,{size:20})," Proyeccin Semanal de Partos"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:a,margin:{top:5,right:10,left:-20,bottom:5},children:[c.jsx(Bc,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{allowDecimals:!1,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Er,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"}}),c.jsx(Xa,{dataKey:"partos",name:"N de Partos",fill:"#007AFF",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Lista de Animales (",i.totalEvents,")"]}),c.jsxs("div",{className:"space-y-2",children:["M          ",i.events.map(s=>c.jsx(WZe,{forecastItem:s,onClick:()=>n({name:"rebano-profile",animalId:s.animal.id})},s.animal.id))]})]})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada de Partos no encontrada."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const Y9=t=>{const e={};for(const[n,r]of Object.entries(t))typeof r=="number"?e[n]=String(r):e[n]=r;return e},YZe=t=>{const e={...t};for(const[n,r]of Object.entries(Td))if(typeof r=="number"){const i=String(t[n]);let a=parseFloat(i);isNaN(a)&&(a=Td[n]),e[n]=a}return e},Ew=({title:t,icon:e,children:n,startOpen:r=!1})=>{const[i,a]=P.useState(r);return c.jsxs("div",{className:"mb-4",children:[c.jsxs("button",{onClick:()=>a(!i),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 uppercase tracking-wide mb-2 px-4",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(e,{size:16}),t]}),c.jsx(Kh,{size:20,className:`transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden animate-fade-in",children:n})]})},rc=be.forwardRef(({label:t,unit:e,...n},r)=>c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${n.disabled?"opacity-50":""}`,children:[c.jsx("label",{htmlFor:n.id||n.name,className:"text-white text-base",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{ref:r,...n,type:n.type==="number"?"text":n.type,inputMode:n.type==="number"?"decimal":"text",className:`w-24 bg-zinc-700/80 rounded-lg p-2 text-right font-mono text-base focus:outline-none focus:ring-2 focus:ring-brand-orange ${n.type==="text"?"font-sans":""} ${n.disabled?"text-zinc-400":"text-white"}`}),e&&c.jsx("span",{className:"text-zinc-400 w-6 text-left",children:e})]})]})),XZe=({label:t,value:e,onChange:n,disabled:r=!1})=>c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${r?"opacity-50":""}`,children:[c.jsx("label",{className:"text-white text-base",children:t}),c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>!r&&n(!e),disabled:r,className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out ${e?"bg-brand-green":"bg-zinc-700"} ${r?"cursor-not-allowed":""}`,children:c.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-7 w-7 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e?"translate-x-6":"translate-x-0"}`})})]});function JZe({onBack:t}){const{appConfig:e,updateAppConfig:n,isLoadingConfig:r}=en(),[i,a]=P.useState(Y9(e||Td)),[s,o]=P.useState("idle");P.useEffect(()=>{e&&a(Y9(e))},[e]);const l=f=>{const{name:h,value:p,type:m}=f.target;let v=p;m==="checkbox"&&(v=f.target.checked),a(g=>({...g,[h]:v}))},u=f=>{a(h=>({...h,theme:f?"dark":"light"}))},A=async()=>{o("saving");try{const f=YZe(i);await n(f),o("success"),setTimeout(()=>{o("idle"),t()},1500)}catch(f){console.error("Error al guardar configuracin:",f),o("idle")}},d=()=>{dg.signOut()};return r?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando configuracin..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col",children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between pt-4 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Configuracin"}),c.jsxs("button",{onClick:A,disabled:s!=="idle",className:`px-4 py-2 rounded-xl font-bold transition-colors text-base flex items-center gap-2 ${s==="idle"?"bg-brand-orange text-black":s==="saving"?"bg-zinc-600 text-white":"bg-brand-green text-white"}`,children:[s==="idle"&&c.jsx(l0,{size:16}),s==="saving"&&c.jsx(iu,{size:16,className:"animate-spin"}),s==="success"&&c.jsx(us,{size:16}),s==="saving"?"Guardando...":s==="success"?"Guardado":"Guardar"]})]}),c.jsxs("main",{className:"pb-24 pt-4 px-4",children:[c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border p-4 mb-6",children:[c.jsx("label",{htmlFor:"nombreFinca",className:"text-sm font-medium text-zinc-400",children:"Nombre de la Finca"}),c.jsx("input",{id:"nombreFinca",type:"text",name:"nombreFinca",value:String(i.nombreFinca),onChange:l,className:"w-full bg-transparent text-2xl font-bold text-white p-0 border-0 focus:outline-none focus:ring-0"})]}),c.jsx(Ew,{title:"General",icon:Tpe,children:c.jsx(XZe,{label:"Modo Oscuro",value:i.theme==="dark",onChange:f=>u(f)})}),c.jsxs(Ew,{title:"Manejo Reproductivo",icon:Co,children:[c.jsx(rc,{label:"Edad 1er Servicio",type:"number",name:"edadPrimerServicioMeses",value:String(i.edadPrimerServicioMeses),onChange:l,unit:"meses"}),c.jsx(rc,{label:"Peso 1er Servicio",type:"number",name:"pesoPrimerServicioKg",value:String(i.pesoPrimerServicioKg),onChange:l,unit:"Kg"}),c.jsx(rc,{label:"Das de Gestacin",type:"number",name:"diasGestacion",value:String(i.diasGestacion),onChange:l,unit:"das"}),c.jsx(rc,{label:"Das Confirmar Preez",type:"number",name:"diasConfirmarPrenez",value:String(i.diasConfirmarPrenez),onChange:l,unit:"das"}),c.jsx(rc,{label:"Das de Pre-parto",type:"number",name:"diasPreParto",value:String(i.diasPreParto),onChange:l,unit:"das"})]}),c.jsxs(Ew,{title:"Manejo Productivo (Leche)",icon:Mq,children:[c.jsx(rc,{label:"Das Lactancia (Larga)",type:"number",name:"diasLactanciaObjetivo",value:String(i.diasLactanciaObjetivo),onChange:l,unit:"das"}),c.jsx(rc,{label:"Alerta Iniciar Secado",type:"number",name:"diasAlertaInicioSecado",value:String(i.diasAlertaInicioSecado),onChange:l,unit:"das"}),c.jsx(rc,{label:"Meta Secado Completo",type:"number",name:"diasMetaSecadoCompleto",value:String(i.diasMetaSecadoCompleto),onChange:l,unit:"das"})]}),c.jsxs(Ew,{title:"Manejo Crecimiento (Kilos)",icon:ya,children:[c.jsx(rc,{label:"Alerta Pesar Destete",type:"number",name:"diasAlertaPesarDestete",value:String(i.diasAlertaPesarDestete),onChange:l,unit:"das"}),c.jsx(rc,{label:"Peso Mn. Pesar Destete",type:"number",name:"pesoMinimoPesarDestete",value:String(i.pesoMinimoPesarDestete),onChange:l,unit:"Kg"}),c.jsx(rc,{label:"Meta Edad Destete Final",type:"number",name:"diasMetaDesteteFinal",value:String(i.diasMetaDesteteFinal),onChange:l,unit:"das"}),c.jsx(rc,{label:"Peso Mn. Destete Final",type:"number",name:"pesoMinimoDesteteFinal",value:String(i.pesoMinimoDesteteFinal),onChange:l,unit:"Kg"})]}),c.jsx("div",{className:"mt-8",children:c.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 bg-red-600/20 text-brand-red font-semibold py-3 px-4 rounded-xl transition-colors hover:bg-red-600/40",children:[c.jsx(Fq,{size:18}),"Cerrar Sesin"]})})]})]})}const ZZe=[{id:"rebano",name:"Rebao",icon:hx,color:"text-amber-600"},{id:"lactokeeper",name:"LactoKeeper",icon:df,color:"text-brand-blue"},{id:"kilos",name:"Kilos",icon:Xu,color:"text-brand-green"},{id:"salud",name:"StockCare",icon:L5,color:"text-teal-500"},{id:"cents",name:"Cents",icon:vc,color:"text-yellow-500"},{id:"evolucion",name:"Evolucin",icon:ya,color:"text-indigo-500"}],Mx=({isOpen:t,onClose:e,onSwitchModule:n})=>{const r=i=>{e(),setTimeout(()=>{n(i)},300)};return t?c.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{onClick:i=>i.stopPropagation(),className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-2 text-zinc-500 hover:text-white rounded-full hover:bg-zinc-700/50","aria-label":"Cerrar",children:c.jsx(qo,{size:20})}),c.jsx("h2",{className:"text-lg font-semibold text-white text-center mb-4",children:"Seleccionar Mdulo"}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:ZZe.map(i=>c.jsxs("button",{onClick:()=>r(i.id),className:"flex flex-col items-center justify-center p-4 bg-brand-glass hover:bg-zinc-800 border border-brand-border rounded-2xl transition-colors","aria-label":`Cambiar al mdulo ${i.name}`,children:[c.jsx("div",{className:`flex items-center justify-center w-14 h-14 rounded-full ${i.color} bg-opacity-20 mb-2`,children:c.jsx(i.icon,{size:28,className:i.color})}),c.jsx("span",{className:"text-white font-semibold text-sm",children:i.name})]},i.id))})]})}):null};function eet(t){return Ul({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224l0 32 0 160c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-88.2c9.9 6.6 20.6 12 32 16.1l0 24.2c0 8.8 7.2 16 16 16s16-7.2 16-16l0-16.9c5.3 .6 10.6 .9 16 .9s10.7-.3 16-.9l0 16.9c0 8.8 7.2 16 16 16s16-7.2 16-16l0-24.2c11.4-4 22.1-9.4 32-16.1l0 88.2c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-160 32 32 0 49.5c0 9.5 2.8 18.7 8.1 26.6L530 427c8.8 13.1 23.5 21 39.3 21c22.5 0 41.9-15.9 46.3-38l20.3-101.6c2.6-13-.3-26.5-8-37.3l-3.9-5.5 0-81.6c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 14.4-52.9-74.1C496 86.5 452.4 64 405.9 64L272 64l-16 0-64 0-48 0C77.7 64 24 117.7 24 184l0 54C9.4 249.8 0 267.8 0 288l0 17.6c0 8 6.4 14.4 14.4 14.4C46.2 320 72 294.2 72 262.4l0-6.4 0-32 0-40c0-24.3 12.1-45.8 30.5-58.9C98.3 135.9 96 147.7 96 160l0 64zM560 336a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM166.6 166.6c-4.2-4.2-6.6-10-6.6-16c0-12.5 10.1-22.6 22.6-22.6l178.7 0c12.5 0 22.6 10.1 22.6 22.6c0 6-2.4 11.8-6.6 16l-23.4 23.4C332.2 211.8 302.7 224 272 224s-60.2-12.2-81.9-33.9l-23.4-23.4z"},child:[]}]})(t)}const tet={idle:{Icon:jpe,color:"text-green-500",label:"Datos sincronizados"},syncing:{Icon:Bpe,color:"text-amber-500 animate-spin-slow",label:"Sincronizando datos..."},offline:{Icon:Npe,color:"text-red-500",label:"Sin conexin"}},j0=({status:t})=>{const{Icon:e,color:n,label:r}=tet[t];return c.jsx("div",{className:"flex items-center gap-2",title:r,children:c.jsx(e,{className:`w-5 h-5 ${n}`})})};function net({initialState:t,onSwitchModule:e}){const{syncStatus:n}=en(),[r,i]=P.useState({name:"lots-dashboard"}),[a,s]=P.useState([]),o=P.useRef(null),[l,u]=P.useState(!1),d=nie().length>0;P.useEffect(()=>{t&&t.page?(i(t.page),s([])):(i({name:"lots-dashboard"}),s([]))},[t]);const f=[{id:"lots-dashboard",page:{name:"lots-dashboard"},label:"Lotes",icon:zq,mapsTo:["lots-dashboard","lot-detail","breeding-season-detail","sire-lot-detail","feeding-plan","batch-treatment"]},{id:"herd",page:{name:"herd"},label:"Rebao",icon:eet,mapsTo:["herd","rebano-profile","manage-lots","lactation-profile","growth-profile","configuracion","management"]},{id:"add-animal",page:{name:"add-animal"},label:"Aadir",icon:pc,mapsTo:["add-animal","ocr"]},{id:"farm-calendar",page:{name:"farm-calendar"},label:"Calendario",icon:TD,mapsTo:["farm-calendar","birthing-season-detail"]},{id:"modules",label:"Mdulos",icon:fx,mapsTo:[]}],h=g=>{var y;s(b=>[...b,r]),i(g),(y=o.current)==null||y.scrollTo(0,0)},p=()=>{var y;const g=a.pop();g?(s([...a]),i(g)):t&&t.sourceModule?e(t.sourceModule):i({name:"lots-dashboard"}),(y=o.current)==null||y.scrollTo(0,0)},m=g=>{g.id==="modules"?u(!0):(s([]),i(g.page))},v=()=>{const g={navigateTo:h,onBack:p};switch(r.name){case"lots-dashboard":return c.jsx(sH,{navigateTo:h});case"lot-detail":return c.jsx(H9e,{lotName:r.lotName,onBack:p,navigateTo:h});case"breeding-season-detail":return c.jsx(SZe,{seasonId:r.seasonId,onBack:p,navigateTo:h});case"sire-lot-detail":return c.jsx(_Ze,{lotId:r.lotId,onBack:p,navigateTo:h});case"herd":return c.jsx(J9e,{...g,locationFilter:r.locationFilter,kpiFilter:r.kpiFilter,scrollContainerRef:o});case"manage-lots":return c.jsx(vZe,{onBack:()=>m(f.find(y=>y.id==="herd"))});case"management":return c.jsx(gZe,{navigateTo:h,onBack:p});case"add-animal":return c.jsx(G9e,{onBack:()=>m(f.find(y=>y.id==="herd"))});case"rebano-profile":return c.jsx(pZe,{animalId:r.animalId,onBack:p,navigateTo:h});case"lactation-profile":return c.jsx(rie,{animalId:r.animalId,onBack:p,navigateTo:h});case"growth-profile":return c.jsx(RZe,{animalId:r.animalId,onBack:p});case"ocr":return c.jsx(HZe,{onBack:p});case"feeding-plan":return c.jsx(FZe,{lotName:r.lotName,onBack:p});case"batch-treatment":return c.jsx(LZe,{lotName:r.lotName,onBack:p});case"farm-calendar":return c.jsx(KZe,{navigateTo:h});case"birthing-season-detail":return c.jsx(qZe,{seasonId:r.seasonId,onBack:p,navigateTo:h});case"configuracion":return c.jsx(JZe,{navigateTo:h,onBack:p});default:return c.jsx(sH,{navigateTo:h})}};return c.jsxs("div",{className:"font-sans text-gray-200 h-screen overflow-hidden flex flex-col animate-fade-in",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border h-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hx,{className:"text-brand-orange",size:28}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Rebao"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(j0,{status:n}),c.jsxs("button",{onClick:()=>h({name:"management"}),className:"p-2 text-zinc-400 hover:text-white transition-colors relative",title:"Alertas de Manejo",children:[c.jsx(mpe,{size:20}),d&&c.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-gray-900"})]}),c.jsx("button",{onClick:()=>h({name:"configuracion"}),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Configuracin",children:c.jsx(QD,{size:20})})]})]})}),c.jsx("main",{ref:o,className:"flex-1 overflow-y-auto pt-16 pb-16",children:v()}),c.jsx(Mx,{isOpen:l,onClose:()=>u(!1),onSwitchModule:e}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 z-20 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:f.map(g=>{const y=g.id!=="modules"&&g.mapsTo.includes(r.name),b=g.label==="Aadir";let C="relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ";return b?C+="text-brand-orange hover:bg-white/5":y?C+="text-amber-400":C+="text-gray-500 hover:text-white",c.jsxs("button",{onClick:()=>m(g),className:C,children:[c.jsx(g.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-semibold mt-1",children:g.label})]},g.label)})})]})}function X9({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=en(),[a,s]=P.useState("current"),[o,l]=P.useState(!1),[u,A]=P.useState(!1),d=P.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let f=0;if(n.length>0){const N=n.reduce((_,B)=>B.date>_?B.date:_,n[0].date);f=new Set(n.filter(_=>_.date===N).map(_=>_.goatId)).size}let h=n;if(a==="current"){const N=new Set(r.filter(_=>_.status==="activa").map(_=>_.goatId));h=n.filter(_=>N.has(_.goatId))}const p={};h.forEach(N=>{const _=r.filter(j=>j.goatId===N.goatId&&new Date(N.date)>=new Date(j.parturitionDate)).sort((j,D)=>new Date(D.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(!_)return;const B=Tf(_.parturitionDate,N.date);p[B]||(p[B]={totalKg:0,count:0}),p[B].totalKg+=N.kg,p[B].count++});const m=Object.entries(p).map(([N,_])=>({del:parseInt(N),kg:_.totalKg/_.count,name:"Promedio Rebao"})).sort((N,_)=>N.del-_.del),v=e.map(N=>{const _=n.filter(j=>j.goatId===N.id);return _.length===0?null:{avg:_.reduce((j,D)=>j+D.kg,0)/_.length}}).filter(Boolean),g=v.length>0?v.reduce((N,_)=>N+_.avg,0)/v.length:0,y=v.length>0?Math.sqrt(v.reduce((N,_)=>N+Math.pow(_.avg-g,2),0)/v.length):0,b=[];if(v.length>0){const N=Math.floor(Math.min(...v.map(B=>B.avg))*4)/4,_=Math.ceil(Math.max(...v.map(B=>B.avg))*4)/4;for(let B=N;B<=_;B+=.25){const j=B,D=B+.25,k=v.filter(O=>O.avg>=j&&O.avg<D).length;k>0&&b.push({range:`${j.toFixed(2)}`,count:k})}}const C={distribution:b,mean:g,stdDev:y};return{herdAverage:n.length>0?n.reduce((N,_)=>N+_.kg,0)/n.length:0,activeGoats:f,herdLactationCurve:m,gaussData:C}},[e,n,r,i,a]);return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebao..."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 px-4",children:[c.jsxs("header",{className:"text-center pt-4 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Dashboard de Produccin"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Anlisis General de LactoKeeper"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[c.jsx(s0,{size:14}),c.jsx("span",{children:"Promedio Global"})]}),c.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[d.herdAverage.toFixed(2)," ",c.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),c.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[c.jsx(Wpe,{}),c.jsx("span",{children:"Animales en Ordeo"})]}),c.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:d.activeGoats})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[c.jsx(sC,{size:16}),c.jsx("span",{children:"Curva de Lactancia"}),c.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:c.jsx(Xy,{size:14})})]}),c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[c.jsx("button",{onClick:()=>s("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="current"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),c.jsx("button",{onClick:()=>s("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="historical"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histrico"})]})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Bx,{data:d.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"lactationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#FF9500",stopOpacity:.7}),c.jsx("stop",{offset:"80%",stopColor:"#34C759",stopOpacity:.1})]})}),c.jsx(hi,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),c.jsx(Er,{content:c.jsx(qu,{})}),c.jsx(Ol,{type:"monotone",dataKey:"kg",stroke:"#FF9500",strokeWidth:2.5,fill:"url(#lactationGradient)"})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[c.jsx(sC,{size:16}),c.jsx("span",{children:"Distribucin del Rebao"}),c.jsx("button",{onClick:()=>A(!0),className:"text-zinc-500 hover:text-white transition-colors",children:c.jsx(Xy,{size:14})})]})}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:d.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx(Bc,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),c.jsx(hi,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Xa,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"N de Cabras"}),c.jsx(S0,{x:d.gaussData.mean.toFixed(2),stroke:"#34C759",strokeWidth:2,label:{value:"",fill:"#34C759",position:"insideTopLeft"}})]})})})]})]}),c.jsx(fn,{isOpen:o,onClose:()=>l(!1),title:"Qu es la Curva de Lactancia del Rebao?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:'Este grfico revela la **"personalidad productiva"** de tu rebao. No es un promedio simple, sino una lnea de tiempo del rendimiento promedio.'}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Cmo se Calcula?"}),c.jsx("p",{className:"text-sm",children:'Para cada "Da en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese da de su ciclo y calcula el promedio.'}),c.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[c.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su da 50 de lactancia.']})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: Cundo ocurre el pico de produccin del rebao? y Qu tan persistente es la lactancia despus del pico?"})]})}),c.jsx(fn,{isOpen:u,onClose:()=>A(!1),title:"Qu es la Distribucin del Rebao?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Este grfico, conocido como Campana de Gauss o distribucin normal, clasifica el rendimiento promedio de cada animal en el rebao."}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media ()"}),c.jsx("p",{className:"text-sm",children:"La lnea verde marcada como **** representa el **promedio de produccin de todo el rebao**. Es el punto de referencia central."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),c.jsx("p",{className:"text-sm",children:"Cada barra muestra cuntos animales caen dentro de un rango especfico de produccin. Una barra alta en el centro (cerca de ) indica que la mayora de tu rebao tiene un rendimiento promedio y consistente."})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rpidamente a los animales de lite (extremo derecho) y a los que podran necesitar atencin (extremo izquierdo)."})]})})]})}const RS=(t,e,n,r,i)=>P.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=t.reduce((m,v)=>{const g=e.find(B=>B.id===v.goatId);if(!g)return m;const y=r.filter(B=>B.goatId===g.id&&new Date(B.parturitionDate)<=new Date(v.date)).sort((B,j)=>new Date(j.parturitionDate).getTime()-new Date(B.parturitionDate).getTime())[0];if(!y)return m;const b=Tf(y.parturitionDate,v.date),C=i?e7e(v.kg,b):v.kg,E=n.filter(B=>B.goatId===g.id).sort((B,j)=>new Date(j.date).getTime()-new Date(B.date).getTime());let N="single";const _=E.findIndex(B=>B.date===v.date);if(_!==-1&&_+1<E.length){const B=E[_+1],j=v.kg-B.kg,D=.15;j>D?N="up":j<-D?N="down":N="stable"}return m.push({...g,latestWeighing:v.kg,weighingId:v.id,del:b,score:C,trend:N,date:v.date}),m},[]);if(!a.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const s=i?"score":"latestWeighing",o=a.reduce((m,v)=>m+v[s],0)/a.length,l=Math.sqrt(a.reduce((m,v)=>m+Math.pow(v[s]-o,2),0)/a.length),u=o-.4*l,A=o+.4*l,d=a.map(m=>{const v=m[s];let g="Promedio";return l>.1&&(v<u?g="Pobre":v>A&&(g="Sobresaliente")),{...m,classification:g}}),f=[{name:"Pobre",count:d.filter(m=>m.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(m=>m.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(m=>m.classification==="Sobresaliente").length,fill:"#34C759"}],h=a.length>0?a.reduce((m,v)=>m+v.latestWeighing,0)/a.length:0,p=a.length>0?a.reduce((m,v)=>m+v.score,0)/a.length:0;return{classifiedAnimals:d,distribution:f,mean:h,stdDev:l,weightedMean:p}},[t,e,n,r,i]),ret=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:{Icon:pg,color:"text-brand-green"},down:{Icon:hg,color:"text-brand-red"},stable:{Icon:MD,color:"text-zinc-400"}},{Icon:r,color:i}=n[t];return c.jsxs("div",{className:`flex items-center font-semibold text-sm ${i}`,children:[c.jsx(r,{size:18,strokeWidth:3}),e&&c.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},iie=(t,e)=>P.useMemo(()=>{if(!t||!e)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};const r=e.filter(A=>A.goatId===t).sort((A,d)=>new Date(d.date).getTime()-new Date(A.date).getTime());if(r.length<1)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};if(r.length===1)return{trend:"single",difference:0,isLongTrend:!1,lastTwoWeighings:[r[0]]};const i=r[0],a=r[1],s=i.kg-a.kg,o=.15;let l;s>o?l="up":s<-o?l="down":l="stable";let u=!1;if(r.length>=3){const A=r[2],d=a.kg-A.kg,f=s>o&&d>o,h=s<-o&&d<-o;(f||h)&&(u=!0)}return{trend:l,difference:s,isLongTrend:u,lastTwoWeighings:[i,a]}},[t,e]),iet=({animal:t,onSaveSuccess:e,onCancel:n})=>{const{parturitions:r,addWeighing:i,startDryingProcess:a,setLactationAsDry:s}=en(),[o,l]=P.useState(new Date().toISOString().split("T")[0]),[u,A]=P.useState(""),[d,f]=P.useState(!1),[h,p]=P.useState(null),[m,v]=P.useState(!1),g=P.useMemo(()=>r.filter(_=>_.goatId===t.id&&(_.status==="activa"||_.status==="en-secado")).sort((_,B)=>new Date(B.parturitionDate).getTime()-new Date(_.parturitionDate).getTime())[0],[r,t.id]),y=g?Tf(g.parturitionDate,o):null,b=t.name?String(t.name).toUpperCase().trim():"",C=async _=>{if(_.preventDefault(),!g||g.status==="seca"||g.status==="finalizada"){p({type:"error",text:"No se puede guardar pesaje. El animal no tiene una lactancia activa o en secado."});return}p(null),f(!0);const B=parseFloat(u);if(isNaN(B)||B<=0){p({type:"error",text:"Por favor, introduce un peso vlido."}),f(!1);return}if(B>8.5){p({type:"error",text:"La produccin parece irracionalmente alta (> 8.5 Kg)."}),f(!1);return}try{await i({goatId:t.id,date:o,kg:B}),p({type:"success",text:`Pesaje de ${t.id.toUpperCase()} guardado.`}),setTimeout(e,1500)}catch(j){p({type:"error",text:j.message||"No se pudo guardar el pesaje."}),f(!1)}},E=async()=>{if(!(!g||g.status!=="activa")){f(!0),p(null);try{await a(g.id),p({type:"success",text:"Proceso de secado iniciado con xito."}),setTimeout(e,1500)}catch(_){p({type:"error",text:_.message||"No se pudo iniciar el secado."}),f(!1)}}},N=async()=>{if(!(!g||g.status==="seca"||g.status==="finalizada")){f(!0),p(null);try{await s(g.id),p({type:"success",text:"Lactancia declarada como seca con xito."}),setTimeout(e,1500)}catch(_){p({type:"error",text:_.message||"No se pudo finalizar la lactancia."}),f(!1)}}};return c.jsxs(c.Fragment,{children:[c.jsx(fn,{isOpen:!m,onClose:n,title:"Pesaje Lechero",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),b&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:b})]}),g?c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingDateMilk",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha"}),c.jsx("input",{id:"weighingDateMilk",type:"date",value:o,onChange:_=>l(_.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Das en Leche (DEL)"}),c.jsx("div",{className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center font-bold text-white",children:y??"N/A"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingKgMilk",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Produccin (Kg)"}),c.jsx("input",{id:"weighingKgMilk",type:"number",step:"0.1",value:u,onChange:_=>A(_.target.value),placeholder:"Ej: 3.5",autoFocus:!0,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-white",required:!0})]}),h&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${h.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[h.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18}),c.jsx("span",{children:h.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:d,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[c.jsx(l0,{size:18})," Guardar Pesaje"]})]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-brand-border",children:[c.jsx("h4",{className:"text-sm font-semibold text-zinc-400",children:"Otras Acciones de Lactancia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("button",{type:"button",onClick:E,disabled:d||g.status!=="activa",className:"w-full flex items-center justify-center gap-2 bg-blue-600/20 text-blue-300 font-semibold py-3 px-3 rounded-lg hover:bg-blue-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Zc,{size:16})," ",g.status==="en-secado"?"Ya en Secado":"Iniciar Secado"]}),c.jsxs("button",{type:"button",onClick:N,disabled:d||g.status==="seca"||g.status==="finalizada",className:"w-full flex items-center justify-center gap-2 bg-gray-600/20 text-gray-300 font-semibold py-3 px-3 rounded-lg hover:bg-gray-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Cc,{size:16})," ",g.status==="seca"?"Ya Seca":"Declarar Seca"]})]})]})]}):c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx(gr,{className:"mx-auto h-12 w-12 text-amber-400"}),c.jsx("h3",{className:"text-lg font-medium text-white",children:"Animal sin Parto Activo"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Para registrar un pesaje o gestionar el secado, debe tener un parto activo."}),c.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(Co,{size:18})," Declarar Parto"]})]})]})}),m&&c.jsx(bp,{isOpen:m,onClose:()=>{v(!1)},motherId:t.id})]})},aet=()=>{const{animals:t,parturitions:e,weighings:n,appConfig:r}=en();return P.useMemo(()=>{const a=new Date().toISOString().split("T")[0],s=new Set,o=r.diasLactanciaObjetivo-35,l=r.diasLactanciaObjetivo-5;return e.forEach(A=>{if(A.status==="activa"){const d=Tf(A.parturitionDate,a);d>=o&&d<=l&&s.add(A.goatId)}}),t.filter(A=>A.reproductiveStatus==="Preada"&&!A.isReference).forEach(A=>{const d=n.filter(f=>f.goatId===A.id).sort((f,h)=>new Date(h.date).getTime()-new Date(f.date).getTime());if(d.length>=4){const f=d[0].kg,h=d[1].kg,p=d[2].kg,m=d[3].kg;f<h&&h<p&&p<m&&s.add(A.id)}}),e.forEach(A=>{A.status==="en-secado"&&s.add(A.goatId)}),Array.from(s)},[t,e,n,r.diasLactanciaObjetivo])},set=({isOpen:t,onClose:e,animalIds:n,onSelectAnimal:r})=>{const{animals:i,fathers:a}=en(),s=P.useMemo(()=>{const o=new Map(i.map(u=>[u.id,u])),l=new Map(a.map(u=>[u.id,u]));return n.map(u=>{const A=o.get(u);if(A)return A;const d=l.get(u);return d?{id:d.id,name:d.name,sex:"Macho",isReference:!0}:{id:u,name:void 0}}).sort((u,A)=>u.id.localeCompare(A.id))},[n,i,a]);return c.jsxs(fn,{isOpen:t,onClose:e,title:"Animales que Salieron del Ordeo",children:[c.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2",children:s.length>0?s.map(o=>{const l=o.name?String(o.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>{r(o.id),e()},className:"w-full text-left p-3 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:o.id.toUpperCase()}),l&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:l})]}),c.jsx(ea,{className:"text-zinc-500 group-hover:text-white transition-colors flex-shrink-0"})]},o.id)}):c.jsx("p",{className:"text-center text-zinc-500 py-4",children:"No hay animales que hayan salido en este perodo."})}),c.jsx("div",{className:"flex justify-end mt-4 pt-4 border-t border-brand-border",children:c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cerrar"})})]})},oet=({isOpen:t,onClose:e,onConfirm:n,dateToDelete:r})=>{const[i,a]=P.useState(""),s=r?new Date(r+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"",o=i===r;return P.useEffect(()=>{t&&a("")},[t]),c.jsx(fn,{isOpen:t,onClose:e,title:"Confirmar Eliminacin",children:c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(gr,{className:"mx-auto h-12 w-12 text-brand-red"}),c.jsxs("p",{className:"text-lg font-semibold",children:["Eliminar todos los pesajes del ",c.jsx("span",{className:"font-bold",children:s}),"?"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Esta accin es irreversible y eliminar ",r?"permanentemente":""," todos los registros de esta fecha."]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"confirmDateInput",className:"block text-sm font-medium text-zinc-400 mb-1",children:["Para confirmar, escribe la fecha: ",c.jsx("strong",{className:"text-zinc-200",children:r})]}),c.jsx("input",{id:"confirmDateInput",type:"text",value:i,onChange:l=>a(l.target.value),placeholder:"YYYY-MM-DD",className:`w-full bg-zinc-800 p-3 rounded-xl text-lg text-center font-mono border-2 ${i&&!o?"border-red-500":"border-zinc-700"} focus:border-brand-red focus:ring-0`})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:n,disabled:!o,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Eliminar Permanentemente"})]})]})})},_w=({title:t,value:e,unit:n,icon:r,onClick:i})=>c.jsxs("button",{onClick:i,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors w-full",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(r,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[e," ",c.jsx("span",{className:"text-lg text-zinc-400",children:n})]})]}),c4=({animal:t,onSelectAnimal:e,onOpenActions:n,isNewEntry:r})=>{const{weighings:i}=en(),{trend:a,isLongTrend:s}=iie(t.id,i);return c.jsx(cet,{animal:t,onSelectAnimal:e,onOpenActions:n,isNewEntry:r,trend:a,isLongTrend:s})},cet=({animal:t,onSelectAnimal:e,onOpenActions:n,isNewEntry:r,trend:i,isLongTrend:a})=>{const s=dp(),o=P.useRef(!1),l={Sobresaliente:"bg-brand-green",Promedio:"bg-gray-500",Pobre:"bg-brand-red"},u=t.name?String(t.name).toUpperCase().trim():"",A=(d,f)=>{const h=f.offset.x,p=f.velocity.x;(h<-80/2||p<-500)&&n(t),s.start({x:0}),setTimeout(()=>{o.current=!1},100)};return c.jsxs("div",{className:"relative w-full overflow-hidden bg-brand-glass border-b border-brand-border/50 last:border-b-0",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("div",{className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(ba,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Acciones"})]})}),c.jsxs(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:A,onTap:()=>{o.current||e(t.id)},animate:s,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-3",children:[c.jsx("div",{className:`absolute top-3 right-3 w-2.5 h-2.5 rounded-full ${t.latestWeighing>0?l[t.classification]:"bg-transparent"}`,title:`Rendimiento: ${t.classification}`}),c.jsxs("div",{className:"flex justify-between items-center w-full",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),u&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:u}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-base text-brand-orange",children:t.latestWeighing>0?`${t.latestWeighing.toFixed(2)} Kg`:"Sin Pesar"}),t.del>0&&c.jsxs("p",{className:"text-xs text-zinc-400",children:["DEL: ",t.del]})]}),c.jsx(yte,{statuses:t.statusObjects}),r?c.jsx("span",{title:"Primer Ingreso al Control Lechero",className:"w-6 h-6 flex items-center justify-center rounded-full bg-green-500/20 text-brand-green",children:c.jsx(Oq,{size:16,strokeWidth:2.5})}):c.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:c.jsx(ret,{trend:i,isLongTrend:a})}),c.jsx(ea,{className:"text-zinc-600 w-5 h-5"})]})]})]})]})},uet=({animalId:t})=>{var i,a;const{weighings:e}=en(),{lastTwoWeighings:n,difference:r}=iie(t,e);return n.length<2?c.jsx("p",{children:"No hay suficientes datos para comparar."}):c.jsxs("div",{className:"text-center text-white space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",new Date(n[1].date+"T00:00:00").toLocaleDateString(),")"]}),c.jsxs("p",{className:"text-2xl font-semibold",children:[((i=n[1])==null?void 0:i.kg.toFixed(2))||"N/A"," Kg"]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["ltimo Pesaje (",new Date(n[0].date+"T00:00:00").toLocaleDateString(),")"]}),c.jsxs("p",{className:"text-2xl font-semibold",children:[((a=n[0])==null?void 0:a.kg.toFixed(2))||"N/A"," Kg"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),c.jsxs("p",{className:`text-3xl font-bold ${r>.15?"text-brand-green":r<-.15?"text-brand-red":"text-zinc-400"}`,children:[r>0?"+":"",r.toFixed(2)," Kg"]})]})]})},Aet=t=>{const{x:e,y:n,width:r,height:i,value:a,total:s}=t;if(s===0||a===0)return null;const o=(a/s*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${o}%`})};function det({onSelectAnimal:t}){const{animals:e,parturitions:n,weighings:r,isLoading:i,serviceRecords:a,sireLots:s,breedingSeasons:o,startDryingProcess:l,setLactationAsDry:u,deleteWeighingSession:A}=en(),[d,f]=P.useState(!1),[h,p]=P.useState("all"),[m,v]=P.useState("all"),[g,y]=P.useState("all"),[b,C]=P.useState("all"),[E,N]=P.useState(null),[_,B]=P.useState(null),[j,D]=P.useState(!1),[k,O]=P.useState(!1),[F,H]=P.useState(!1),[Y,q]=P.useState(!1),[Z,W]=P.useState(null),[oe,te]=P.useState(!1),[ue,R]=P.useState(0),$=aet(),{weighingsByDate:J,availableDates:ne}=P.useMemo(()=>{const ot={};r.forEach(xt=>{ot[xt.date]||(ot[xt.date]=[]),ot[xt.date].push(xt)});const vt=Object.keys(ot).sort((xt,Lt)=>new Date(Lt).getTime()-new Date(xt).getTime());return{weighingsByDate:ot,availableDates:vt}},[r]),he=ne[ue],Se=P.useMemo(()=>{if(!he)return[];const ot=J[he]||[],vt=new Map;return ot.forEach(xt=>vt.set(xt.goatId,xt)),Array.from(vt.values())},[he,J]),{classifiedAnimals:we,distribution:re,mean:pe,stdDev:xe,weightedMean:Ae}=RS(Se,e,r,n,d),He=P.useMemo(()=>{const ot=new Map(e.map(vt=>[vt.id,vt]));return we.map(vt=>{const xt=ot.get(vt.id);return{...xt,...vt,formattedAge:xt?fu(xt.birthDate):"N/A",statusObjects:xt?pte(xt,n,a,s,o):[]}})},[we,e,n,a,s,o]),Ie=P.useMemo(()=>{if(ue+1<ne.length){const ot=ne[ue+1];return J[ot]||[]}return[]},[ue,ne,J]),fe=RS(Ie,e,r,n,!1),$e=P.useMemo(()=>{const ot=new Set(we.map(nn=>nn.id)),vt=new Set(fe.classifiedAnimals.map(nn=>nn.id));let xt=new Set,Lt=new Set;ue===ne.length-1&&ne.length>0?xt=ot:ne.length>0&&(xt=new Set([...ot].filter(nn=>!vt.has(nn))),Lt=new Set([...vt].filter(nn=>!ot.has(nn))));const hn=ne.slice(Math.max(0,ue-2),ue+1).map(nn=>{const Qt=J[nn]||[];if(Qt.length===0)return{date:nn,avg:0};const bn=Qt.reduce((mi,cr)=>mi+cr.kg,0);return{date:new Date(nn+"T00:00:00").toLocaleDateString("es-VE",{month:"short",day:"numeric"}),avg:bn/Qt.length}}).reverse();let Cn=null,zt=null,Jt=0,St=0,Kt=1/0;if(He.length>0){Jt=He.reduce((Qt,bn)=>Qt+bn.latestWeighing,0);const nn=He.map(Qt=>Qt.latestWeighing);St=Math.max(...nn),Kt=Math.min(...nn.filter(Qt=>Qt>0)),Kt===1/0&&(Kt=0),Cn=He.find(Qt=>Qt.latestWeighing===St)||null,zt=He.find(Qt=>Qt.latestWeighing===Kt)||null}const ke=pe-xe,et=pe+xe,Je=we.filter(nn=>nn.latestWeighing>=ke&&nn.latestWeighing<=et).length,Ln=we.length>0?Je/we.length*100:0;return{trendData:hn,kpi:{total:Jt,max:St,min:Kt},topPerformer:Cn,bottomPerformer:zt,consistency:{percentage:Ln},newAnimalIds:xt,exitingAnimalIds:Lt}},[we,He,fe.classifiedAnimals,ne,ue,J,pe,xe]),{searchTerm:mt,setSearchTerm:pt,filteredItems:rt}=ZO(He,["id","name"]),Et=P.useMemo(()=>{let ot=rt;return h!=="all"&&(ot=ot.filter(vt=>vt.classification===h)),g==="new"&&(ot=ot.filter(vt=>$e.newAnimalIds.has(vt.id))),m!=="all"&&(ot=ot.filter(vt=>vt.trend===m)),b!=="all"&&(ot=ot.filter(vt=>{const xt=vt.del;return b==="drying"?$.includes(vt.id):xt===0||xt===void 0?!1:b==="first"?xt>0&&xt<=100:b==="second"?xt>100&&xt<=200:b==="third"?xt>200&&xt<270:!1})),ot.sort((vt,xt)=>xt.latestWeighing-vt.latestWeighing)},[rt,h,m,b,g,$e.newAnimalIds,$]),gt=P.useMemo(()=>{const ot=we.filter(hn=>!$e.newAnimalIds.has(hn.id)).length;if(we.length===0)return{up:0,down:0,stable:0,new:0};if(ot===0&&$e.newAnimalIds.size>0)return{up:0,down:0,stable:0,new:100};if(ot===0)return{up:0,down:0,stable:0,new:0};const vt=we.filter(hn=>hn.trend==="up").length,xt=we.filter(hn=>hn.trend==="down").length,Lt=we.filter(hn=>hn.trend==="stable").length;return{up:vt/ot*100,down:xt/ot*100,stable:Lt/ot*100,new:$e.newAnimalIds.size/we.length*100||0}},[we,$e.newAnimalIds]),$t=()=>{p("all"),v("all"),C("all"),y("all"),pt("")},Mt=ot=>{var vt;if((vt=ot==null?void 0:ot.payload)!=null&&vt.name){const xt=ot.payload.name;p(Lt=>Lt===xt?"all":xt)}},bt=ot=>{W(ot),q(!0)},wt=ot=>{if(!ot)return[];const vt=[],xt=n.find(Lt=>Lt.goatId===ot.id&&(Lt.status==="activa"||Lt.status==="en-secado"));return vt.push({label:"Registrar/Editar Pesaje",icon:df,onClick:()=>{q(!1),N("milkWeighing")}}),xt&&(xt.status==="activa"&&vt.push({label:"Iniciar Secado",icon:Zc,onClick:()=>{l(xt.id),q(!1)},color:"text-blue-400"}),(xt.status==="activa"||xt.status==="en-secado")&&vt.push({label:"Declarar Seca",icon:Cc,onClick:()=>{u(xt.id),q(!1)},color:"text-zinc-400"})),vt},Tt=()=>{N(null),W(null)},Xt=async()=>{if(he)try{await A(he),R(0),te(!1)}catch(ot){console.error("Error deleting session:",ot)}};return i&&ne.length===0?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Calculando anlisis..."})}):ne.length===0?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"No hay pesajes registrados."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"bg-brand-glass rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[c.jsx("button",{onClick:()=>R(ot=>Math.min(ot+1,ne.length-1)),disabled:ue>=ne.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:c.jsx(bpe,{})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-lg font-semibold text-white",children:he?new Date(he+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[Se.length," animales pesados"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{onClick:()=>te(!0),className:"p-2 rounded-full text-zinc-500 hover:text-brand-red hover:bg-red-500/10 transition-colors mr-2",title:"Eliminar pesajes de este da",children:[" ",c.jsx(Sc,{size:18})," "]}),c.jsx("button",{onClick:()=>R(ot=>Math.max(ot-1,0)),disabled:ue===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:c.jsx(ea,{})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(_w,{icon:df,title:d?"Media Ponderada":"Media Prod.",value:(d?Ae:pe).toFixed(2),unit:"Kg",onClick:()=>N("media")}),c.jsx(_w,{icon:HD,title:"Prod. Total",value:$e.kpi.total.toFixed(2),unit:"Kg",onClick:()=>N("total")}),c.jsx(_w,{icon:Uq,title:"Consistencia",value:xe.toFixed(2),unit:"",onClick:()=>N("stdDev")}),c.jsx(_w,{icon:ya,title:"Rango Prod.",value:`${$e.kpi.min.toFixed(2)} - ${$e.kpi.max.toFixed(2)}`,unit:"Kg",onClick:()=>N("rango")})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(sC,{className:"text-brand-orange w-[18px] h-[18px]"}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Anlisis del Da"}),c.jsx("button",{onClick:()=>D(!0),className:"text-zinc-500 hover:text-white",children:c.jsx(Xy,{size:14})})]}),c.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[c.jsx(qv,{size:14,className:d?"text-brand-orange":"text-zinc-500"}),c.jsx("span",{children:"Ponderado a DEL"}),c.jsx("button",{type:"button",onClick:ot=>{ot.preventDefault(),ot.stopPropagation(),O(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:c.jsx(Xy,{size:14})}),c.jsx("input",{type:"checkbox",checked:d,onChange:ot=>f(ot.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:re,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Bc,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Xa,{dataKey:"count",onClick:Mt,cursor:"pointer",children:[re.map(ot=>c.jsx(yc,{fill:ot.fill,className:`${h!=="all"&&h!==ot.name?"opacity-30":"opacity-100"} transition-opacity`},ot.name)),c.jsx($o,{dataKey:"count",content:c.jsx(Aet,{total:we.length})})]}),c.jsx(S0,{x:pe.toFixed(2),stroke:"#34C759",strokeWidth:2,label:{value:"",fill:"#34C759",position:"insideTopLeft"}})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",pe.toFixed(2)]})," | ",c.jsxs("span",{children:[" = ",xe.toFixed(2)]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("button",{onClick:()=>{v("all"),y("all")},className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${m==="all"&&g==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),c.jsxs("button",{onClick:()=>{v("up"),y("all")},disabled:gt.up===0&&we.length-$e.newAnimalIds.size>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="up"?"bg-brand-green/80 text-white":"bg-zinc-800/50 text-brand-green"} disabled:opacity-40`,children:[c.jsx(pg,{size:14})," ",c.jsxs("span",{children:[gt.up.toFixed(0),"%"]})]}),c.jsxs("button",{onClick:()=>{v("down"),y("all")},disabled:gt.down===0&&we.length-$e.newAnimalIds.size>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="down"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"} disabled:opacity-40`,children:[c.jsx(hg,{size:14})," ",c.jsxs("span",{children:[gt.down.toFixed(0),"%"]})]}),c.jsxs("button",{onClick:()=>{v("single"),y("all")},disabled:gt.new===0&&we.length>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="single"?"bg-brand-blue/80 text-white":"bg-zinc-800/50 text-brand-blue"} disabled:opacity-40`,children:[c.jsx(qv,{size:14})," ",c.jsxs("span",{children:[gt.new.toFixed(0),"%"]})]})]}),c.jsx("button",{onClick:$t,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:c.jsx(DD,{size:16})})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("button",{onClick:()=>C("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${b==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),c.jsx("button",{onClick:()=>C("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${b==="first"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),c.jsx("button",{onClick:()=>C("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${b==="second"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),c.jsx("button",{onClick:()=>C("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${b==="third"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),c.jsx("button",{onClick:()=>C("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${b==="drying"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"}`,children:"A Secado"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:()=>y(ot=>ot==="new"?"all":"new"),disabled:$e.newAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${g==="new"?"bg-brand-green text-white shadow-lg shadow-green-500/20":"bg-zinc-800/50 text-zinc-300"} ${$e.newAnimalIds.size>0&&g!=="new"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(Oq,{size:14})," ",c.jsxs("span",{children:["Ingresos (",$e.newAnimalIds.size,")"]})]}),c.jsxs("button",{onClick:()=>H(!0),disabled:$e.exitingAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all bg-zinc-800/50 text-zinc-300 ${$e.exitingAnimalIds.size>0&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(Fq,{size:14})," ",c.jsxs("span",{children:["Salidas (",$e.exitingAnimalIds.size,")"]})]})]})]})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx($u,{className:"absolute left-7 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),c.jsx("input",{type:"search",placeholder:`Buscar ID o Nombre en ${Et.length} animales...`,value:mt,onChange:ot=>pt(ot.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]})]}),c.jsx("div",{className:"pt-2 space-y-0 pb-4",children:Et.length>0?c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border overflow-hidden mx-4",children:Et.map(ot=>c.jsx(c4,{animal:ot,onSelectAnimal:t,onOpenActions:bt,isNewEntry:$e.newAnimalIds.has(ot.id)},ot.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:mt?"No se encontraron resultados":"No hay animales con los filtros."})})})]}),c.jsx(fn,{isOpen:E==="media",onClose:()=>N(null),title:"Anlisis de Produccin Media",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsxs("p",{children:["La **Media de Produccin** del da es **",pe.toFixed(2)," Kg**. Representa el promedio simple."]}),c.jsxs("p",{children:["La **Media Ponderada** (",Ae.toFixed(2)," Kg) premia la **persistencia lechera** (ms valor a produccin tarda)."]})]})}),c.jsx(fn,{isOpen:E==="total",onClose:()=>N(null),title:"Produccin Total del Da",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-zinc-400",children:["La produccin total registrada el ",he?new Date(he+"T00:00:00").toLocaleDateString("es-VE"):"-"," fue:"]}),c.jsxs("h2",{className:"text-5xl font-bold text-brand-orange my-2",children:[$e.kpi.total.toFixed(2)," Kg"]})]})}),c.jsx(fn,{isOpen:E==="stdDev",onClose:()=>N(null),title:"Anlisis de Consistencia ()",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsxs("p",{children:["La Desviacin Estndar () de **",xe.toFixed(2),"** mide la dispersin. Un valor **bajo** es ideal (rebao consistente)."]}),c.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[c.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebao dentro de 1"}),c.jsxs("p",{className:"text-4xl font-bold text-brand-orange my-1",children:[$e.consistency.percentage.toFixed(0),"%"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Cercana al promedio de ",c.jsxs("span",{className:"font-bold text-white",children:[pe.toFixed(2)," Kg"]}),"."]})]})]})}),c.jsx(fn,{isOpen:E==="rango",onClose:()=>N(null),title:"Extremos de Produccin del Da",children:c.jsxs("div",{className:"space-y-4",children:[$e.topPerformer&&c.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold text-brand-green mb-2",children:"Produccin Mxima"}),c.jsx(c4,{animal:$e.topPerformer,onSelectAnimal:()=>{N(null),t($e.topPerformer.id)},onOpenActions:bt,isNewEntry:$e.newAnimalIds.has($e.topPerformer.id)})]}),$e.bottomPerformer&&c.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold text-brand-red mb-2",children:"Produccin Mnima"}),c.jsx(c4,{animal:$e.bottomPerformer,onSelectAnimal:()=>{N(null),t($e.bottomPerformer.id)},onOpenActions:bt,isNewEntry:$e.newAnimalIds.has($e.bottomPerformer.id)})]})]})}),c.jsx(fn,{isOpen:j,onClose:()=>D(!1),title:"Qu es el Anlisis del Ordeo?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Clasifica animales (Pobre, Promedio, Sobresaliente) usando la media () y desviacin estndar ()."}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-white mb-1",children:["Ponderado a DEL (",c.jsx(qv,{size:12,className:"inline-block mb-0.5"}),")"]}),c.jsx("p",{className:"text-sm",children:"Activa este clculo para dar ms valor a la produccin temprana (persistencia)."})]})]})}),c.jsx(fn,{isOpen:k,onClose:()=>O(!1),title:"Qu es el Score Ponderado?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Ajusta la produccin para premiar la **persistencia lechera**."}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Frmula"}),c.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center text-orange-300",children:"Score = Kg  (1 + ((DEL - 50) / (DEL + 50)))"})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"2 Kg en da **200** valen ms que 2 Kg en da 40."})]})}),_&&c.jsx(fn,{isOpen:!!_,onClose:()=>B(null),title:`Tendencia de ${Vn(_)}`,children:c.jsx(uet,{animalId:_.id})}),c.jsx(set,{isOpen:F,onClose:()=>H(!1),animalIds:Array.from($e.exitingAnimalIds),onSelectAnimal:t}),c.jsx(Ku,{isOpen:Y,onClose:()=>q(!1),title:`Acciones para ${Vn(Z)}`,actions:wt(Z)}),E==="milkWeighing"&&Z&&c.jsx(iet,{animal:Z,onCancel:Tt,onSaveSuccess:Tt}),he&&c.jsx(oet,{isOpen:oe,onClose:()=>te(!1),onConfirm:Xt,dateToDelete:he})]})}const fet=t=>P.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,a)=>{const s=a.date.substring(0,7);return i[s]||(i[s]=[]),i[s].push(a),i},{});let r=Object.entries(n).map(([i,a])=>{const s=new Date(`${i}-02T12:00:00Z`),o=s.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=s.getUTCFullYear(),u=a.length,A=a.reduce((d,f)=>d+f.kg,0);return{periodLabel:`${o.charAt(0).toUpperCase()+o.slice(1)} ${l}`,periodId:i,totalKg:A,averageKg:u>0?A/u:0,weighingCount:u,animalCount:new Set(a.map(d=>d.goatId)).size,weighingEvents:new Set(a.map(d=>d.date)).size,weighings:a,newAnimalsWeighings:[]}}).sort((i,a)=>a.periodId.localeCompare(i.periodId));return r=r.map((i,a,s)=>{const o=s[a+1];if(o){const l=o.averageKg?(i.averageKg-o.averageKg)/o.averageKg*100:void 0,u=o.animalCount?(i.animalCount-o.animalCount)/o.animalCount*100:void 0,A=new Set(o.weighings.map(m=>m.goatId)),d=new Set(i.weighings.map(m=>m.goatId)),f=new Set([...d].filter(m=>!A.has(m))),h=i.weighings.filter(m=>f.has(m.goatId)),p=[...A].filter(m=>!d.has(m)).length;return{...i,avgKgChange:l,animalCountChange:u,newAnimalsWeighings:h,previousAnimalCount:o.animalCount,exitingAnimalCount:p}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),g2=({value:t})=>{if(t===void 0||isNaN(t)||t===0)return c.jsx("div",{className:"w-16 h-5"});const e=t>0,n=e?"text-brand-green":"text-brand-red",r=e?pg:hg;return c.jsxs("span",{className:`flex items-center text-sm font-bold ${n} whitespace-nowrap`,children:[c.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},het=({stats:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[c.jsxs("div",{className:"min-w-0 mr-2",children:[c.jsx("p",{className:"font-bold text-lg text-white truncate",children:t.periodLabel}),c.jsxs("p",{className:"text-sm text-zinc-400 truncate",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),c.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[c.jsx(g2,{value:t.avgKgChange}),c.jsx(ea,{className:"text-zinc-600 flex-shrink-0"})]})]}),aie=({weighing:t,onSelectAnimal:e})=>{const n=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-orange-400/50",children:[c.jsxs("div",{className:"min-w-0 pr-3 flex items-center gap-3",children:[" ",c.jsxs("div",{children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),n&&c.jsx("p",{className:"text-xs font-normal text-zinc-400 truncate",children:n})]}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white whitespace-nowrap ${t.classification==="Pobre"?"bg-brand-red/80":t.classification==="Sobresaliente"?"bg-brand-green/80":"bg-gray-500/80"}`,children:t.classification})]}),c.jsxs("p",{className:"font-semibold text-lg text-white flex-shrink-0",children:[" ",t.latestWeighing.toFixed(2),c.jsx("span",{className:"text-base font-medium text-zinc-400 ml-1",children:"Kg"})," "]})]})},sie=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})},pet=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:a,weighings:s,parturitions:o}=en(),[l,u]=P.useState("all"),A=RS((n==null?void 0:n.newAnimalsWeighings)||[],a,s,o,!1),d=P.useMemo(()=>l==="all"?A.classifiedAnimals:A.classifiedAnimals.filter(h=>h.classification===l),[A.classifiedAnimals,l]),f=h=>{var p;if((p=h==null?void 0:h.payload)!=null&&p.name){const m=h.payload.name;u(v=>v===m?"all":m)}};return!t||!n?null:c.jsx(fn,{isOpen:t,onClose:e,title:`Anlisis Nuevos Ingresos - ${r}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(s0,{size:14}),"Promedio"]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[A.mean.toFixed(2),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(ZA,{size:14}),"Animales"]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:A.classifiedAnimals.length})]})]}),c.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:A.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Xa,{dataKey:"count",onClick:f,cursor:"pointer",children:[A.distribution.map(h=>c.jsx(yc,{fill:h.fill,className:`${l!=="all"&&l!==h.name?"opacity-30":"opacity-100"}`},h.name)),c.jsx($o,{dataKey:"count",content:c.jsx(sie,{total:A.classifiedAnimals.length})})]})]})})})}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:d.sort((h,p)=>p.latestWeighing-h.latestWeighing).map(h=>c.jsx(aie,{weighing:h,onSelectAnimal:i},h.weighingId||h.id))})]})})};function met({navigateToRebano:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=en(),[a,s]=P.useState(null),[o,l]=P.useState("all"),[u,A]=P.useState(!1),[d,f]=P.useState(null),{monthlyData:h}=fet(n),p=RS((a==null?void 0:a.weighings)||[],e,n,r,!1),m=P.useMemo(()=>o==="all"?p.classifiedAnimals:p.classifiedAnimals.filter(g=>g.classification===o),[p.classifiedAnimals,o]),v=g=>{var y;if((y=g==null?void 0:g.payload)!=null&&y.name){const b=g.payload.name;l(C=>C===b?"all":b)}};return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in px-4",children:[c.jsxs("header",{className:"flex items-center pt-4 pb-4",children:[c.jsx("button",{onClick:()=>{s(null),l("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsx("div",{className:"text-center flex-grow",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:a.periodLabel})}),c.jsx("div",{className:"w-8"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(s0,{size:14}),"Promedio / Animal"]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.averageKg.toFixed(2),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),c.jsx(g2,{value:a.avgKgChange})]})]}),c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(So,{size:14}),"Eventos de Pesaje"]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:a.weighingEvents})]}),c.jsxs("button",{onClick:()=>A(!0),className:"bg-brand-glass p-3 rounded-2xl text-left hover:border-brand-orange transition-colors border border-brand-border",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(ZA,{size:14}),"Animales Ordeados"]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("p",{className:"text-2xl font-bold text-white",children:a.animalCount}),c.jsx(g2,{value:a.animalCountChange})]})]}),c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(ya,{size:14}),"Total Registrado"]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.totalKg.toFixed(0),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[c.jsx(Ax,{className:"text-brand-orange",size:18}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribucin del Perodo"})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:p.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Xa,{dataKey:"count",onClick:v,cursor:"pointer",children:[p.distribution.map(g=>c.jsx(yc,{fill:g.fill,className:`${o!=="all"&&o!==g.name?"opacity-30":"opacity-100"} transition-opacity`},g.name)),c.jsx($o,{dataKey:"count",content:c.jsx(sie,{total:p.classifiedAnimals.length})})]})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",p.mean.toFixed(2)," Kg"]})," | ",c.jsxs("span",{children:[" = ",p.stdDev.toFixed(2)]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Perodo (",m.length,")"]}),m.length>0?m.sort((g,y)=>y.latestWeighing-g.latestWeighing).map(g=>c.jsx(aie,{weighing:g,onSelectAnimal:y=>t({name:"lactation-profile",animalId:y})},g.weighingId||g.id)):c.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-lg",children:c.jsx("p",{className:"text-zinc-500",children:"No hay pesajes que coincidan con el filtro."})})]})]}),c.jsx(fn,{isOpen:u,onClose:()=>A(!1),title:"Variacin de Animales en Ordeo",children:c.jsxs("div",{className:"text-zinc-300 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-white mb-1",children:[a.periodLabel," vs Mes Anterior"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenas ",c.jsx("span",{className:"font-bold text-white",children:a.previousAnimalCount})," animales en ordeo. Este mes tienes ",c.jsx("span",{className:"font-bold text-white",children:a.animalCount}),"."]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("p",{children:["El cambio neto es de ",c.jsx("span",{className:"font-bold text-white",children:a.animalCount-(a.previousAnimalCount||0)})," animales"]}),c.jsx(g2,{value:a.animalCountChange})]})]}),c.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[a.exitingAnimalCount>0&&c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeo: ",c.jsx("span",{className:"font-bold text-brand-red",children:a.exitingAnimalCount})," animales."]}),a.newAnimalsWeighings.length>0&&c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",c.jsx("span",{className:"font-bold text-brand-green",children:new Set(a.newAnimalsWeighings.map(g=>g.goatId)).size})," animales."]}),a.newAnimalsWeighings.length>0&&c.jsxs("button",{onClick:()=>{f(a),A(!1)},className:"w-full mt-4 bg-brand-orange text-white font-semibold py-2 rounded-lg hover:bg-orange-600 transition-colors",children:["Analizar los ",new Set(a.newAnimalsWeighings.map(g=>g.goatId)).size," Nuevos Ingresos"]})]})]})}),c.jsx(pet,{isOpen:!!d,onClose:()=>f(null),data:d,periodLabel:a.periodLabel,onSelectAnimal:g=>t({name:"lactation-profile",animalId:g})})]}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4 pt-4",children:[c.jsx("header",{className:"text-center pb-4",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Historial de Produccin"})}),h.length>0?c.jsx("div",{className:"space-y-2",children:h.map(g=>c.jsx(het,{stats:g,onClick:()=>s(g)},g.periodId))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:"No hay datos histricos de pesajes registrados."})})]})}const get=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=P.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const l=new Date(a);return l.setDate(a.getDate()-o),l})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return c.jsxs("div",{className:"px-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(So,{size:16}),"Fecha del Pesaje"]}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[c.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[c.jsx(So,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return c.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-orange text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[c.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),c.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),c.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},vet=({entry:t,onDelete:e,onRegister:n})=>{const r=!t.isRecognized;return c.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0 pr-2",children:[r&&c.jsx(gr,{className:"text-amber-400 flex-shrink-0",size:18}),c.jsx("div",{className:"min-w-0",children:c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.animalId.toUpperCase()})})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[r?c.jsx("button",{onClick:()=>n(t.animalId),className:"text-xs font-semibold bg-brand-orange text-white px-2 py-1 rounded-md hover:bg-orange-600",children:"Registrar Parto"}):c.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),c.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(qo,{size:16})})]})]})},yet=({onSaveSuccess:t})=>{const{animals:e,weighings:n,fetchData:r,addWeighing:i}=en(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState([]),[d,f]=P.useState(null),[h,p]=P.useState(()=>{const H=new Date;return H.setHours(0,0,0,0),H}),[m,v]=P.useState(!1),[g,y]=P.useState({isOpen:!1,motherId:""}),[b,C]=P.useState(!1),E=P.useRef(null),N=P.useRef(null),_=()=>{var oe;if(f(null),!a||!o)return;const H=a.toUpperCase().trim(),Y=parseFloat(o),q=h.toISOString().split("T")[0];if(Y>100){f({type:"error",text:`El valor de ${Y} Kg es irracional. Verifique el dato.`});return}if(Y>8.5){f({type:"error",text:`Produccin de ${Y} Kg es muy alta. Lmite: 8.5 Kg.`});return}if(u.some(te=>te.animalId===H)){f({type:"error",text:`${H} ya tiene un pesaje en esta sesin.`});return}if(n.some(te=>te.goatId===H&&te.date===q)){f({type:"error",text:`${H} ya tiene un pesaje guardado para esta fecha.`});return}const Z=e.find(te=>te.id===H);if(Z&&Z.isReference){f({type:"error",text:`${H} es un animal de Referencia. No se pueden aadir pesajes.`});return}const W={tempId:Date.now(),animalId:H,name:Z==null?void 0:Z.name,kg:Y,date:q,isRecognized:!!Z};A(te=>[W,...te]),s(""),l(""),(oe=E.current)==null||oe.focus()},B=async()=>{f(null),C(!0);const{currentUser:H}=dg;if(!H){f({type:"error",text:"Error de autenticacin."}),C(!1);return}const Y=u.filter(q=>!q.isRecognized).length;if(Y>0){f({type:"error",text:`No se puede guardar. Tienes ${Y} animal(es) sin registrar.`}),C(!1);return}if(u.length===0){f({type:"error",text:"No hay pesajes para guardar."}),C(!1);return}try{const q=u.map(Z=>{const W={goatId:Z.animalId,kg:Z.kg,date:Z.date};return i(W)});await Promise.all(q),f({type:"success",text:`${u.length} pesajes guardados con xito.`}),A([]),setTimeout(()=>{t(h.toISOString().split("T")[0])},1500)}catch(q){f({type:"error",text:"Ocurri un error al guardar localmente."}),console.error("Error en escritura local de pesajes:",q),C(!1)}},j=H=>{var Y;H.key==="Enter"&&a&&(H.preventDefault(),(Y=N.current)==null||Y.focus())},D=H=>{H.key==="Enter"&&o&&(H.preventDefault(),_())},k=H=>{A(Y=>Y.filter(q=>q.tempId!==H))},O=H=>{H&&(H.setHours(0,0,0,0),p(H)),v(!1)},F=()=>{r(),A(H=>H.map(Y=>Y.animalId===g.motherId?{...Y,isRecognized:!0}:Y)),y({isOpen:!1,motherId:""})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[c.jsxs("div",{className:"text-center px-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rpida de Leche"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Sesin de Ordeo"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(get,{selectedDate:h,onDateChange:p,onOpenCalendar:()=>v(!0)}),c.jsxs("div",{className:"flex items-center gap-2 px-4",children:[c.jsx("input",{ref:E,type:"text",value:a,onChange:H=>s(H.target.value),onKeyDown:j,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),c.jsx("input",{ref:N,type:"number",step:"0.01",value:o,onChange:H=>l(H.target.value),onKeyDown:D,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),c.jsx("button",{onClick:_,disabled:!a||!o||b,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:c.jsx(pc,{size:24})})]})]})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[u.length===0&&c.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes aadidos aparecern aqu."}),u.map(H=>c.jsx(vet,{entry:H,onDelete:k,onRegister:Y=>y({isOpen:!0,motherId:Y})},H.tempId))]}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[d&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${d.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",d.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18})," ",c.jsx("span",{children:d.text})," "]}),c.jsxs("button",{onClick:B,disabled:b||u.length===0||u.some(H=>!H.isRecognized),className:"w-full flex items-center justify-center gap-2 bg-brand-orange/20 border border-brand-orange text-brand-orange hover:bg-brand-orange/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[b?c.jsx(iu,{size:24,className:"animate-spin"}):c.jsx(l0,{size:20}),b?"Guardando...":`Guardar ${u.length>0?`(${u.length})`:""} Pesajes`]})]})]}),c.jsx(fn,{isOpen:m,onClose:()=>v(!1),title:"Seleccionar Fecha",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(yp,{mode:"single",selected:h,onSelect:O})})}),c.jsx(bp,{isOpen:g.isOpen,onClose:F,motherId:g.motherId})]})};function bet({onNavigate:t,onSaveSuccess:e}){const[n,r]=P.useState("options");return n==="rapid"?c.jsx(yet,{onSaveSuccess:e}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white text-center",children:"Aadir Datos de Leche"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Q5,{className:"w-12 h-12 mb-2 text-brand-orange"}),c.jsx("span",{className:"text-lg font-semibold",children:"Carga Rpida"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),c.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Rq,{className:"w-12 h-12 mb-2 text-brand-blue"}),c.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]})]})]})}const xet=({animal:t,parturition:e,onSelectAnimal:n})=>c.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),t.name&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:t.name.toUpperCase().trim()}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"})}`,e.status==="seca"&&"Lactancia finalizada"]})]}),c.jsx(ea,{className:"text-zinc-600 w-5 h-5 flex-shrink-0"})]});function wet({navigateToRebano:t}){const{animals:e,parturitions:n,isLoading:r}=en(),[i,a]=P.useState("drying"),s=P.useMemo(()=>{const l=d=>e.find(f=>f.id===d),u=n.filter(d=>d.status==="en-secado").sort((d,f)=>new Date(f.dryingStartDate).getTime()-new Date(d.dryingStartDate).getTime()).map(d=>({animal:l(d.goatId),parturition:d})).filter(d=>d.animal&&!d.animal.isReference),A=n.filter(d=>d.status==="seca").sort((d,f)=>new Date(f.dryingStartDate).getTime()-new Date(d.dryingStartDate).getTime()).map(d=>({animal:l(d.goatId),parturition:d})).filter(d=>d.animal&&!d.animal.isReference);return{drying:u,dry:A}},[e,n]),o=s[i]||[];return r?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4",children:[c.jsxs("header",{className:"text-center pt-4 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestin de Secado"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Animales por Estado de Lactancia"})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>a("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),c.jsxs("button",{onClick:()=>a("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),c.jsx("div",{className:"space-y-4",children:o.length>0?o.map(({animal:l,parturition:u})=>c.jsx(xet,{animal:l,parturition:u,onSelectAnimal:A=>t({name:"lactation-profile",animalId:A})},u.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function Cet({initialPage:t,onPageStateChange:e,navigateToRebano:n,onSwitchModule:r}){const{syncStatus:i}=en(),[a,s]=P.useState(t||{name:"dashboard"}),[o,l]=P.useState([]),[u,A]=P.useState(!1);P.useEffect(()=>{e(a)},[a,e]),P.useEffect(()=>{s(t&&typeof t=="object"&&"name"in t?t:{name:"dashboard"})},[t]);const d=[{id:"dashboard",label:"Dashboard",icon:Sq},{id:"analysis",label:"Anlisis",icon:Pq},{id:"history",label:"Historial",icon:_q},{id:"add-data",label:"Aadir",icon:pc},{id:"drying",label:"Secado",icon:Zc}],f=g=>{l(y=>[...y,a]),s(g)},h=()=>{const g=o.pop();g?(s(g),l([...o])):a.name!=="dashboard"?s({name:"dashboard"}):r("rebano")},p=g=>{l([]),s({name:g})},m=g=>{n(g,"lactokeeper")},v=()=>{switch(a.name){case"dashboard":return c.jsx(X9,{onNavigateToAnalysis:()=>f({name:"analysis"})});case"analysis":return c.jsx(det,{onSelectAnimal:g=>f({name:"lactation-profile",animalId:g})});case"history":return c.jsx(met,{navigateToRebano:m});case"add-data":return c.jsx(bet,{onNavigate:(g,y)=>m({name:g,...y}),onSaveSuccess:()=>f({name:"analysis"})});case"drying":return c.jsx(wet,{navigateToRebano:m});case"lactation-profile":return c.jsx(rie,{animalId:a.animalId,onBack:h,navigateTo:m});default:return c.jsx(X9,{onNavigateToAnalysis:()=>f({name:"analysis"})})}};return c.jsxs("div",{className:"h-screen overflow-hidden animate-fade-in text-white flex flex-col bg-brand-dark",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-brand-dark/80 backdrop-blur-lg border-b border-brand-border h-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-full",children:[c.jsx("button",{onClick:h,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cme,{className:"text-brand-orange",size:28}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"LactoKeeper"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(j0,{status:i}),c.jsx("button",{onClick:()=>A(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Mdulos",children:c.jsx(fx,{size:20})})]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto pt-16 pb-16",children:v()}),c.jsx(Mx,{isOpen:u,onClose:()=>A(!1),onSwitchModule:r}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around z-20 h-16",children:d.map(g=>c.jsxs("button",{onClick:()=>p(g.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${a.name===g.id?"text-brand-orange":"text-gray-400 hover:text-brand-orange"}`,children:[c.jsx(g.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:g.label})]},g.id))})]})}const Eet=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=P.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const l=new Date(a);return l.setDate(a.getDate()-o),l})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return c.jsxs("div",{className:"px-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(So,{size:16}),"Fecha del Pesaje"]}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[c.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[c.jsx(So,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return c.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[c.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),c.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),c.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},_et=({entry:t,onDelete:e})=>{const n=!t.isRecognized,r=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${n?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0 pr-2",children:[n&&c.jsx(gr,{className:"text-amber-400 flex-shrink-0",size:18}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.animalId.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:r})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[c.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),c.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(qo,{size:16})})]})]})},Bet=({onBack:t,onSaveSuccess:e})=>{const{animals:n,addBodyWeighing:r}=en(),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState([]),[A,d]=P.useState(null),[f,h]=P.useState(()=>{const D=new Date;return D.setHours(0,0,0,0),D}),[p,m]=P.useState(!1),[v,g]=P.useState(!1),y=P.useRef(null),b=P.useRef(null),C=()=>{var H,Y,q,Z,W;if(d(null),!i||!s)return;const D=i.toUpperCase().trim(),k=parseFloat(s);if(isNaN(k)||k<=0){d({type:"error",text:"Peso invlido."}),(H=b.current)==null||H.focus();return}if(k>150){d({type:"error",text:`El peso de ${k} Kg parece irracional. Verifique.`}),(Y=b.current)==null||Y.focus();return}if(l.some(oe=>oe.animalId===D)){d({type:"error",text:`${D} ya tiene un pesaje en esta sesin.`}),a(""),(q=y.current)==null||q.focus();return}const O=n.find(oe=>oe.id===D);if(O&&O.isReference){d({type:"error",text:`${D} es Referencia. No se pueden aadir pesajes.`}),a(""),(Z=y.current)==null||Z.focus();return}const F={tempId:Date.now(),animalId:D,name:O==null?void 0:O.name,kg:k,date:f.toISOString().split("T")[0],isRecognized:!!O};u(oe=>[F,...oe]),a(""),o(""),(W=y.current)==null||W.focus()},E=async()=>{d(null),g(!0);const{currentUser:D}=dg;if(!D){d({type:"error",text:"Error de autenticacin."}),g(!1);return}const k=l.filter(O=>!O.isRecognized).length;if(k>0){d({type:"error",text:`No se puede guardar. Tienes ${k} animal(es) sin registrar en el rebao.`}),g(!1);return}if(l.length===0){d({type:"error",text:"No hay pesajes para guardar."}),g(!1);return}try{const O=l.map(F=>r({animalId:F.animalId,kg:F.kg,date:F.date}));await Promise.all(O),d({type:"success",text:`${l.length} pesajes guardados con xito.`}),u([]),setTimeout(()=>e(f.toISOString().split("T")[0]),1500)}catch(O){d({type:"error",text:"Ocurri un error al guardar los datos."}),console.error("Error en escritura de pesajes corporales:",O),g(!1)}},N=D=>{var k;D.key==="Enter"&&i&&(D.preventDefault(),(k=b.current)==null||k.focus())},_=D=>{D.key==="Enter"&&s&&(D.preventDefault(),C())},B=D=>{u(k=>k.filter(O=>O.tempId!==D))},j=D=>{D&&(D.setHours(0,0,0,0),h(D)),m(!1)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[c.jsxs("header",{className:"text-center px-4 flex items-center",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rpida de Peso"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Sesin de Pesaje Corporal"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Eet,{selectedDate:f,onDateChange:h,onOpenCalendar:()=>m(!0)}),c.jsxs("div",{className:"flex items-center gap-2 px-4",children:[c.jsx("input",{ref:y,type:"text",value:i,onChange:D=>a(D.target.value),onKeyDown:N,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),c.jsx("input",{ref:b,type:"number",step:"0.1",value:s,onChange:D=>o(D.target.value),onKeyDown:_,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),c.jsx("button",{onClick:C,disabled:!i||!s||v,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:c.jsx(pc,{size:24})})]})]})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[l.length===0&&c.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes aadidos aparecern aqu."}),l.map(D=>c.jsx(_et,{entry:D,onDelete:B},D.tempId))]}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[A&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${A.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",A.type==="success"?c.jsx(us,{size:18}):c.jsx(gr,{size:18})," ",c.jsx("span",{children:A.text})," "]}),c.jsxs("button",{onClick:E,disabled:v||l.length===0||l.some(D=>!D.isRecognized),className:"w-full flex items-center justify-center gap-2 bg-brand-green/20 border border-brand-green text-brand-green hover:bg-brand-green/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[v?c.jsx(iu,{size:20,className:"animate-spin"}):c.jsx(l0,{size:20}),v?"Guardando...":`Guardar ${l.length>0?`(${l.length})`:""} Pesajes`]})]})]}),c.jsx(fn,{isOpen:p,onClose:()=>m(!1),title:"Seleccionar Fecha",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(yp,{mode:"single",selected:f,onSelect:j})})})]})};function Net({onNavigate:t,onSaveSuccess:e}){const[n,r]=P.useState("options");return n==="rapid"?c.jsx(Bet,{onBack:()=>r("options"),onSaveSuccess:e}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Aadir Pesaje Corporal"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Carga de Datos de Crecimiento"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-green text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Q5,{className:"w-12 h-12 mb-2 text-brand-green"}),c.jsx("span",{className:"text-lg font-semibold",children:"Carga Rpida"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),c.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Rq,{className:"w-12 h-12 mb-2 text-brand-blue"}),c.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]})]})]})}const jet=({gdp:t,averageGdp:e})=>{if(t===null||!e||e===0)return null;const n=t/e;return n>1.1?c.jsx(ya,{size:18,className:"text-brand-green"}):n<.9?c.jsx(ya,{size:18,className:"text-brand-red rotate-180"}):c.jsx(MD,{size:18,className:"text-zinc-500"})},Tet=({animal:t,onSelect:e,averageGdp:n})=>{const r={Sobresaliente:"text-brand-green",Promedio:"text-zinc-400",Pobre:"text-brand-red"},i=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-white text-base",children:[t.gdp?`${t.gdp.toFixed(0)}`:"--",c.jsx("span",{className:"text-sm text-zinc-400",children:" g/da"})]}),c.jsx("p",{className:`font-bold text-xs ${r[t.classification]}`,children:t.classification})]}),c.jsx(jet,{gdp:t.gdp?t.gdp/1e3:null,averageGdp:n}),c.jsx(ea,{className:"text-zinc-600 w-5 h-5"})]})]})};function J9({onSelectAnimal:t}){const{animals:e,bodyWeighings:n,parturitions:r}=en(),[i,a]=P.useState("all"),s=P.useMemo(()=>{const u=e.filter(D=>{if(D.status!=="Activo"||D.isReference||D.sireLotId)return!1;const k=xc(D,r);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(k)});if(u.length===0)return{analyzedAnimals:[],distribution:[],averageGdp:0,gaussChartData:[],meanGdp:0,stdDev:0};let A=0,d=0;const f=u.map(D=>{const k=n.filter(Z=>Z.animalId===D.id),F=kO(D.birthWeight,k).overall??0,H=Ko(D.birthDate);F>0&&(A+=F,d++);const Y=d>0?A/d:0,q=F>0?t7e(F,Y,H):0;return{...D,formattedAge:fu(D.birthDate),ageInDays:H,gdpKgDay:F,score:q}}),h=d>0?A/d:0,p=h,m=f.filter(D=>D.score>0).map(D=>D.score),v=m.length>0?m.reduce((D,k)=>D+k,0)/m.length:0,g=m.length>0?Math.sqrt(m.reduce((D,k)=>D+Math.pow(k-v,2),0)/m.length):0,y=v-.4*g,b=v+.4*g,E=f.sort((D,k)=>k.score-D.score).map(D=>{let k="Promedio";return D.score>0&&g>1&&(D.score<y?k="Pobre":D.score>b&&(k="Sobresaliente")),{...D,gdp:D.gdpKgDay*1e3,ageInDays:D.ageInDays,classification:k,formattedAge:D.formattedAge}}),N=[{name:"Pobre",count:E.filter(D=>D.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:E.filter(D=>D.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:E.filter(D=>D.classification==="Sobresaliente").length,fill:"#34C759"}],_=E.map(D=>D.gdp).filter(D=>D>0),B=[];let j=0;if(_.length>0){const D=Math.min(..._),k=Math.max(..._),O=Math.max(10,Math.ceil((k-D)/15));for(let H=Math.floor(D/O)*O;H<k;H+=O){const Y=H,q=H+O,Z=E.filter(W=>W.gdp>=Y&&W.gdp<q).length;Z>0&&B.push({name:`${Y}-${q}`,count:Z})}const F=p*1e3;j=_.length>0?Math.sqrt(_.reduce((H,Y)=>H+Math.pow(Y-F,2),0)/_.length):0}return{analyzedAnimals:E,distribution:N,averageGdp:h,gaussChartData:B,meanGdp:p*1e3,stdDev:j}},[e,n,r]),o=be.useMemo(()=>i==="all"?s.analyzedAnimals:s.analyzedAnimals.filter(u=>u.classification===i),[s.analyzedAnimals,i]),l=u=>{var A;if((A=u==null?void 0:u.payload)!=null&&A.name){const d=u.payload.name;a(f=>f===d?"all":d)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-4",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de GDP"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(ya,{size:14}),c.jsx("span",{children:"GDP Media"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.meanGdp.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(HD,{size:14}),c.jsx("span",{children:"Desv. Estndar"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.stdDev.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribucin del Crecimiento"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:s.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Xa,{dataKey:"count",onClick:l,cursor:"pointer",children:s.distribution.map(u=>c.jsx(yc,{fill:u.fill,className:`${i!=="all"&&i!==u.name?"opacity-30":"opacity-100"} transition-opacity`},u.name))})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/da)"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:s.gaussChartData,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},interval:0,angle:-30,textAnchor:"end",height:40}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Xa,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)",name:"N Animales"})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",s.meanGdp.toFixed(0)," g/da"]})," | ",c.jsxs("span",{children:[" = ",s.stdDev.toFixed(0)," g/da"]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[i==="all"?"Animales en Crecimiento":`Animales (${i})`," (",o.length,")"]}),o.length>0?o.map(u=>c.jsx(Tet,{animal:u,onSelect:t,averageGdp:s.averageGdp},u.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}const Iet=()=>{const{animals:t,bodyWeighings:e,parturitions:n}=en();return P.useMemo(()=>{const a=t.filter(b=>{if(b.status!=="Activo"||b.isReference||b.sireLotId)return!1;const C=xc(b,n);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(C)}).map(b=>{const C=e.filter(N=>N.animalId===b.id),E=kO(b.birthWeight,C);return{...b,gdp:E.overall,ageInDays:Ko(b.birthDate)}}).filter(b=>b.gdp!==null&&b.gdp>0);if(a.length<2)return{classifiedAnimals:[],distribution:[],gaussChartData:[],meanGdp:0,stdDev:0};const o=a.reduce((b,C)=>b+C.gdp,0)/a.length,l=Math.sqrt(a.reduce((b,C)=>b+Math.pow(C.gdp-o,2),0)/a.length),u=o-.4*l,A=o+.4*l,d=a.map(b=>{let C="Promedio";return l>.005&&(b.gdp<u?C="Pobre":b.gdp>A&&(C="Sobresaliente")),{...b,classification:C,gdp:b.gdp*1e3}}),f=[{name:"Pobre",count:d.filter(b=>b.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(b=>b.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(b=>b.classification==="Sobresaliente").length,fill:"#34C759"}],h=d.map(b=>b.gdp),p=Math.min(...h),m=Math.max(...h),v=10,g=(m-p)/v,y=Array.from({length:v},(b,C)=>{const E=p+C*g,N=E+g,_=d.filter(B=>B.gdp>=E&&B.gdp<N).length;return{name:`${E.toFixed(0)}`,count:_}});return{classifiedAnimals:d.sort((b,C)=>C.gdp-b.gdp),distribution:f,gaussChartData:y,meanGdp:o,stdDev:l}},[t,e,n])},ket=({animal:t,onSelect:e})=>{const n={Sobresaliente:"bg-brand-green/80",Promedio:"bg-gray-500/80",Pobre:"bg-brand-red/80"},r=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-white text-base",children:[t.gdp?`${t.gdp.toFixed(0)}`:"--",c.jsx("span",{className:"text-sm text-zinc-400",children:" g/da"})]}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${n[t.classification]}`,children:t.classification})]}),c.jsx(ea,{className:"text-zinc-600 w-5 h-5"})]})]})},Pet=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})};function Det({onSelectAnimal:t}){const{classifiedAnimals:e,distribution:n,gaussChartData:r,meanGdp:i,stdDev:a}=Iet(),s=P.useMemo(()=>e.map(p=>({...p,formattedAge:fu(p.birthDate)})),[e]),{searchTerm:o,setSearchTerm:l,filteredItems:u}=ZO(s,["id","name"]),[A,d]=P.useState("all"),f=be.useMemo(()=>{let p=o?u:s;return A==="all"?p:p.filter(m=>m.classification===A)},[s,A,o,u]),h=p=>{var m;if((m=p==null?void 0:p.payload)!=null&&m.name){const v=p.payload.name;d(g=>g===v?"all":v)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-4",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de GDP"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx($u,{className:"absolute left-7 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),c.jsx("input",{type:"search",placeholder:`Buscar ID o Nombre en ${f.length} animales...`,value:o,onChange:p=>l(p.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(ya,{size:14}),c.jsx("span",{children:"GDP Media"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[i.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(HD,{size:14}),c.jsx("span",{children:"Desv. Estndar"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribucin del Crecimiento"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:n,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Xa,{dataKey:"count",onClick:h,cursor:"pointer",children:[n.map(p=>c.jsx(yc,{fill:p.fill,className:`${A!=="all"&&A!==p.name?"opacity-30":"opacity-100"} transition-opacity`},p.name)),c.jsx($o,{dataKey:"count",content:Pet})]})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/da)"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:r,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},interval:0,angle:-30,textAnchor:"end",height:40}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Er,{content:c.jsx(qu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Xa,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)",name:"N Animales"})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",i.toFixed(0)," g/da"]})," | ",c.jsxs("span",{children:[" = ",a.toFixed(0)," g/da"]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[A==="all"?"Animales en Crecimiento":`Animales (${A})`," (",f.length,")"]}),f.length>0?f.map(p=>c.jsx(ket,{animal:p,onSelect:t},p.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}function Oet({navigateToRebano:t,onSwitchModule:e}){const{syncStatus:n}=en(),[r,i]=P.useState("dashboard"),[a,s]=P.useState(!1),o=[{id:"dashboard",label:"Dashboard",icon:Ax},{id:"analysis",label:"Anlisis",icon:ome},{id:"add-data",label:"Aadir",icon:pc}],l=()=>{r!=="dashboard"?i("dashboard"):e("rebano")},u=()=>{switch(r){case"dashboard":return c.jsx(J9,{onSelectAnimal:A=>t({name:"growth-profile",animalId:A})});case"analysis":return c.jsx(Det,{onSelectAnimal:A=>t({name:"growth-profile",animalId:A})});case"add-data":return c.jsx(Net,{onNavigate:t,onSaveSuccess:()=>i("analysis")});default:return c.jsx(J9,{onSelectAnimal:A=>t({name:"growth-profile",animalId:A})})}};return c.jsxs("div",{className:"h-screen overflow-hidden animate-fade-in text-white flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border h-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-full",children:[c.jsx("button",{onClick:l,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xu,{className:"text-brand-green"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Kilos"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(j0,{status:n}),c.jsx("button",{onClick:()=>s(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Mdulos",children:c.jsx(fx,{size:20})})]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto pt-16 pb-16",children:u()}),c.jsx(Mx,{isOpen:a,onClose:()=>s(!1),onSwitchModule:e}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:o.map(A=>c.jsxs("button",{onClick:()=>i(A.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r===A.id?"text-brand-green":"text-gray-400 hover:text-brand-green"}`,children:[c.jsx(A.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:A.label})]},A.id))})]})}const Fet=["Desparasitantes","Antibiticos","Vacunas","Vitaminas","Modificadores Orgnicos","Pomadas Tpicas","Analgsicos","Hormonas","Antiinflamatorios","Otro"],mF=({onSave:t,onCancel:e,existingProduct:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState("Otro"),[u,A]=P.useState(""),[d,f]=P.useState("ml"),[h,p]=P.useState(""),[m,v]=P.useState("Inyectable"),[g,y]=P.useState("Intramuscular"),[b,C]=P.useState("per_kg"),[E,N]=P.useState(""),[_,B]=P.useState(""),[j,D]=P.useState(""),[k,O]=P.useState(null);P.useEffect(()=>{n&&(i(n.name),s(n.laboratory||""),l(n.category||"Otro"),A(String(n.presentationValue||"")),f(n.presentationUnit||"ml"),p(String(n.price||"")),v(n.applicationType),n.applicationRoute&&y(n.applicationRoute),C(n.dosageType||"per_kg"),N(String(n.dosageFixed||"")),B(String(n.dosagePerKg_ml||"")),D(String(n.dosagePerKg_kg||"")))},[n]);const F=async H=>{if(H.preventDefault(),O(null),!r.trim()){O("El nombre es obligatorio.");return}if(b==="fixed"&&!E){O("La dosis fija es obligatoria.");return}if(b==="per_kg"&&(!_||!j)){O("Ambos campos de dosificacin por Kg son obligatorios.");return}const Y={name:r,applicationType:m,dosageType:b,category:o};a&&(Y.laboratory=a),u&&(Y.presentationValue=parseFloat(u)),Y.presentationUnit=d,h&&(Y.price=parseFloat(h)),m==="Inyectable"&&(Y.applicationRoute=g),b==="fixed"&&(Y.dosageFixed=parseFloat(E)),b==="per_kg"&&(Y.dosagePerKg_ml=parseFloat(_),Y.dosagePerKg_kg=parseFloat(j));try{await t(Y)}catch(q){O("No se pudo guardar el producto."),console.error(q)}};return c.jsxs("form",{onSubmit:F,className:"space-y-4",children:[c.jsx("input",{type:"text",value:r,onChange:H=>i(H.target.value),placeholder:"Nombre o Marca Comercial",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsxs("select",{value:o,onChange:H=>l(H.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccionar Categora..."}),Fet.map(H=>c.jsx("option",{value:H,children:H},H))]}),c.jsx("input",{type:"text",value:a,onChange:H=>s(H.target.value),placeholder:"Laboratorio (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:u,onChange:H=>A(H.target.value),placeholder:"Presentacin",className:"w-full bg-zinc-800 p-3 rounded-xl"}),c.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"ml",children:"ml"}),c.jsx("option",{value:"L",children:"L"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"$"}),c.jsx("input",{type:"number",step:"0.01",value:h,onChange:H=>p(H.target.value),placeholder:"Precio",className:"w-full bg-zinc-800 p-3 pl-7 rounded-xl"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Va de Administracin"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>v("Inyectable"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Inyectable"}),c.jsx("button",{type:"button",onClick:()=>v("Oral"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Oral"}),c.jsx(Ji.div,{layoutId:"app-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${m==="Oral"?"left-1/2":"left-1"}`})]})]}),m==="Inyectable"&&c.jsxs(Ji.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Ruta (Inyectable)"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>y("Intramuscular"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Intramuscular"}),c.jsx("button",{type:"button",onClick:()=>y("Subcutneo"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Subcutneo"}),c.jsx(Ji.div,{layoutId:"app-route-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${g==="Subcutneo"?"left-1/2":"left-1"}`})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Dosificacin"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>C("per_kg"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Por Kg PV"}),c.jsx("button",{type:"button",onClick:()=>C("fixed"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Dosis nica"}),c.jsx(Ji.div,{layoutId:"dosage-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${b==="fixed"?"left-1/2":"left-1"}`})]}),b==="per_kg"?c.jsxs("div",{className:"flex items-center justify-between gap-2 animate-fade-in",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",step:"0.1",value:_,onChange:H=>B(H.target.value),placeholder:"1",className:"w-full bg-zinc-800 p-3 pr-10 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"ml"})]}),c.jsx("span",{className:"text-zinc-500 text-sm",children:"por cada"}),c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",step:"1",value:j,onChange:H=>D(H.target.value),placeholder:"50",className:"w-full bg-zinc-800 p-3 pr-10 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"Kg"})]})]}):c.jsxs("div",{className:"relative animate-fade-in",children:[c.jsx("input",{type:"number",step:"0.1",value:E,onChange:H=>N(H.target.value),placeholder:"Ej: 2",className:"w-full bg-zinc-800 p-3 pr-24 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"ml (dosis total)"})]})]}),k&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:k})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-brand-green text-white font-bold rounded-lg",children:n?"Actualizar Producto":"Guardar Producto"})]})]})};function Met(){const{products:t,addProduct:e,updateProduct:n,deleteProduct:r}=en(),[i,a]=P.useState(!1),[s,o]=P.useState(void 0),[l,u]=P.useState(null),[A,d]=P.useState("Todos"),f=C=>{o(C),a(!0)},h=()=>{a(!1),o(void 0)},p=async C=>{s!=null&&s.id?await n(s.id,C):await e(C),h()},m=async()=>{l!=null&&l.id&&await r(l.id),u(null)},v=P.useMemo(()=>{const C=new Set(t.map(E=>E.category).filter(Boolean));return["Todos",...Array.from(C).sort()]},[t]),g=P.useMemo(()=>A==="Todos"?t:t.filter(C=>C.category===A),[t,A]),y=C=>{if(!C.price||!C.presentationValue||C.presentationValue===0)return"N/A";const E=C.presentationUnit==="L"?C.presentationValue*1e3:C.presentationValue;return E===0?"N/A":`$${(C.price/E).toFixed(3)} / ml`},b=C=>C.dosageType==="fixed"?`${C.dosageFixed} ml (fija)`:C.dosageType==="per_kg"?`${C.dosagePerKg_ml} ml / ${C.dosagePerKg_kg} Kg`:"No especificada";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Inventario de Productos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Gestin de Insumos Sanitarios"})]}),c.jsxs("button",{onClick:()=>f(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:opacity-90 text-black font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(ba,{size:18})," Aadir Nuevo Producto"]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-zinc-300",children:[c.jsx(Tq,{size:18})," Filtrar por Categora"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(C=>c.jsx("button",{onClick:()=>d(C),className:`px-3 py-1.5 text-sm font-semibold rounded-full transition-colors ${A===C?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:C},C))})]}),c.jsx("div",{className:"space-y-3 pt-4",children:g.length>0?g.map(C=>c.jsx("div",{className:"bg-dashboard-surface rounded-2xl p-4 border border-brand-border",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:C.name}),c.jsx("p",{className:"text-sm text-zinc-400",children:C.presentationValue?`${C.presentationValue} ${C.presentationUnit}`:"Sin presentacin"}),c.jsxs("div",{className:"mt-2 flex items-center flex-wrap gap-x-4 gap-y-1 text-xs",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(c0,{size:14})," ",b(C)]}),c.jsxs("span",{className:"flex items-center gap-1 font-semibold text-amber-400",children:[c.jsx(vc,{size:14})," ",y(C)]})]})]}),c.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>f(C),className:"p-2 text-zinc-400 hover:text-brand-orange transition-colors",children:c.jsx(Cf,{size:18})}),c.jsx("button",{onClick:()=>u(C),className:"p-2 text-zinc-400 hover:text-brand-red transition-colors",children:c.jsx(Sc,{size:18})})]})]})},C.id)):c.jsxs("div",{className:"text-center py-10 bg-dashboard-surface rounded-2xl",children:[c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No se encontraron productos."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:A==="Todos"?"Aade tu primer producto para empezar.":`No hay productos en la categora "${A}".`})]})})]}),c.jsx(fn,{isOpen:i,onClose:h,title:s?"Editar Producto":"Aadir Producto",children:c.jsx(mF,{onSave:p,onCancel:h,existingProduct:s})}),c.jsx(_0,{isOpen:!!l,onClose:()=>u(null),onConfirm:m,title:"Eliminar Producto",message:`Ests seguro de que quieres eliminar "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})}var a_,En,oie,lie,qg,oh,Z9,cie,uie,US={},Aie=[],Let=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Hd(t,e){for(var n in e)t[n]=e[n];return t}function die(t){var e=t.parentNode;e&&e.removeChild(t)}function tt(t,e,n){var r,i,a,s={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?a_.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return v2(t,s,r,i,null)}function v2(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++oie};return i==null&&En.vnode!=null&&En.vnode(a),a}function YA(){return{current:null}}function Zi(t){return t.children}function Ret(t,e,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in e||QS(t,a,null,n[a],r);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||QS(t,a,e[a],n[a],r)}function eV(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Let.test(e)?n:n+"px"}function QS(t,e,n,r,i){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||eV(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||eV(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r||t.addEventListener(e,a?nV:tV,a):t.removeEventListener(e,a?nV:tV,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function tV(t){qg=!0;try{return this.l[t.type+!1](En.event?En.event(t):t)}finally{qg=!1}}function nV(t){qg=!0;try{return this.l[t.type+!0](En.event?En.event(t):t)}finally{qg=!1}}function kl(t,e){this.props=t,this.context=e}function $b(t,e){if(e==null)return t.__?$b(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?$b(t):null}function fie(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return fie(t)}}function Uet(t){qg?setTimeout(t):cie(t)}function Dk(t){(!t.__d&&(t.__d=!0)&&oh.push(t)&&!HS.__r++||Z9!==En.debounceRendering)&&((Z9=En.debounceRendering)||Uet)(HS)}function HS(){var t,e,n,r,i,a,s,o;for(oh.sort(function(l,u){return l.__v.__b-u.__v.__b});t=oh.shift();)t.__d&&(e=oh.length,r=void 0,i=void 0,s=(a=(n=t).__v).__e,(o=n.__P)&&(r=[],(i=Hd({},a)).__v=a.__v+1,gF(o,a,i,n.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,r,s??$b(a),a.__h),vie(r,a),a.__e!=s&&fie(a)),oh.length>e&&oh.sort(function(l,u){return l.__v.__b-u.__v.__b}));HS.__r=0}function hie(t,e,n,r,i,a,s,o,l,u){var A,d,f,h,p,m,v,g=r&&r.__k||Aie,y=g.length;for(n.__k=[],A=0;A<e.length;A++)if((h=n.__k[A]=(h=e[A])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?v2(null,h,null,null,h):Array.isArray(h)?v2(Zi,{children:h},null,null,null):h.__b>0?v2(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=g[A])===null||f&&h.key==f.key&&h.type===f.type)g[A]=void 0;else for(d=0;d<y;d++){if((f=g[d])&&h.key==f.key&&h.type===f.type){g[d]=void 0;break}f=null}gF(t,h,f=f||US,i,a,s,o,l,u),p=h.__e,(d=h.ref)&&f.ref!=d&&(v||(v=[]),f.ref&&v.push(f.ref,null,h),v.push(d,h.__c||p,h)),p!=null?(m==null&&(m=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=pie(h,l,t):l=mie(t,h,f,g,p,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=$b(f))}for(n.__e=m,A=y;A--;)g[A]!=null&&(typeof n.type=="function"&&g[A].__e!=null&&g[A].__e==n.__d&&(n.__d=gie(r).nextSibling),bie(g[A],g[A]));if(v)for(A=0;A<v.length;A++)yie(v[A],v[++A],v[++A])}function pie(t,e,n){for(var r,i=t.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=t,e=typeof r.type=="function"?pie(r,e,n):mie(n,r,r,i,r.__e,e));return e}function zS(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){zS(n,e)}):e.push(t)),e}function mie(t,e,n,r,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function gie(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=gie(n)))return r}return null}function gF(t,e,n,r,i,a,s,o,l){var u,A,d,f,h,p,m,v,g,y,b,C,E,N,_,B=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,o=e.__e=n.__e,e.__h=null,a=[o]),(u=En.__b)&&u(e);try{e:if(typeof B=="function"){if(v=e.props,g=(u=B.contextType)&&r[u.__c],y=u?g?g.props.value:u.__:r,n.__c?m=(A=e.__c=n.__c).__=A.__E:("prototype"in B&&B.prototype.render?e.__c=A=new B(v,y):(e.__c=A=new kl(v,y),A.constructor=B,A.render=Het),g&&g.sub(A),A.props=v,A.state||(A.state={}),A.context=y,A.__n=r,d=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),B.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Hd({},A.__s)),Hd(A.__s,B.getDerivedStateFromProps(v,A.__s))),f=A.props,h=A.state,A.__v=e,d)B.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(B.getDerivedStateFromProps==null&&v!==f&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(v,y),!A.__e&&A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(v,A.__s,y)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(A.props=v,A.state=A.__s,A.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(j){j&&(j.__=e)}),b=0;b<A._sb.length;b++)A.__h.push(A._sb[b]);A._sb=[],A.__h.length&&s.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(v,A.__s,y),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(f,h,p)})}if(A.context=y,A.props=v,A.__P=t,C=En.__r,E=0,"prototype"in B&&B.prototype.render){for(A.state=A.__s,A.__d=!1,C&&C(e),u=A.render(A.props,A.state,A.context),N=0;N<A._sb.length;N++)A.__h.push(A._sb[N]);A._sb=[]}else do A.__d=!1,C&&C(e),u=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++E<25);A.state=A.__s,A.getChildContext!=null&&(r=Hd(Hd({},r),A.getChildContext())),d||A.getSnapshotBeforeUpdate==null||(p=A.getSnapshotBeforeUpdate(f,h)),_=u!=null&&u.type===Zi&&u.key==null?u.props.children:u,hie(t,Array.isArray(_)?_:[_],e,n,r,i,a,s,o,l),A.base=e.__e,e.__h=null,A.__h.length&&s.push(A),m&&(A.__E=A.__=null),A.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Qet(n.__e,e,n,r,i,a,s,l);(u=En.diffed)&&u(e)}catch(j){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),En.__e(j,e,n)}}function vie(t,e){En.__c&&En.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){En.__e(r,n.__v)}})}function Qet(t,e,n,r,i,a,s,o){var l,u,A,d=n.props,f=e.props,h=e.type,p=0;if(h==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,a[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,o=!1}if(h===null)d===f||o&&t.data===f||(t.data=f);else{if(a=a&&a_.call(t.childNodes),u=(d=n.props||US).dangerouslySetInnerHTML,A=f.dangerouslySetInnerHTML,!o){if(a!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(A||u)&&(A&&(u&&A.__html==u.__html||A.__html===t.innerHTML)||(t.innerHTML=A&&A.__html||""))}if(Ret(t,f,d,i,o),A)e.__k=[];else if(p=e.props.children,hie(t,Array.isArray(p)?p:[p],e,n,r,i&&h!=="foreignObject",a,s,a?a[0]:n.__k&&$b(n,0),o),a!=null)for(p=a.length;p--;)a[p]!=null&&die(a[p]);o||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==d.value)&&QS(t,"value",p,d.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&QS(t,"checked",p,d.checked,!1))}return t}function yie(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){En.__e(r,n)}}function bie(t,e,n){var r,i;if(En.unmount&&En.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||yie(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){En.__e(a,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&bie(r[i],e,n||typeof t.type!="function");n||t.__e==null||die(t.__e),t.__=t.__e=t.__d=void 0}function Het(t,e,n){return this.constructor(t,n)}function Kb(t,e,n){var r,i,a;En.__&&En.__(t,e),i=(r=!1)?null:e.__k,a=[],gF(e,t=e.__k=tt(Zi,null,[t]),i||US,US,e.ownerSVGElement!==void 0,i?null:e.firstChild?a_.call(e.childNodes):null,a,i?i.__e:e.firstChild,r),vie(a,t)}function zet(t,e){var n={__c:e="__cC"+uie++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,Dk(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}a_=Aie.slice,En={__e:function(t,e,n,r){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},oie=0,lie=function(t){return t!=null&&t.constructor===void 0},qg=!1,kl.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hd({},this.state),typeof t=="function"&&(t=t(Hd({},n),this.props)),t&&Hd(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Dk(this))},kl.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Dk(this))},kl.prototype.render=Zi,oh=[],cie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,HS.__r=0,uie=0;var Nu,u4,rV,xie=[],A4=[],iV=En.__b,aV=En.__r,sV=En.diffed,oV=En.__c,lV=En.unmount;function Vet(){for(var t;t=xie.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(y2),t.__H.__h.forEach(Ok),t.__H.__h=[]}catch(e){t.__H.__h=[],En.__e(e,t.__v)}}En.__b=function(t){Nu=null,iV&&iV(t)},En.__r=function(t){aV&&aV(t);var e=(Nu=t.__c).__H;e&&(u4===Nu?(e.__h=[],Nu.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=A4,n.__N=n.i=void 0})):(e.__h.forEach(y2),e.__h.forEach(Ok),e.__h=[])),u4=Nu},En.diffed=function(t){sV&&sV(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(xie.push(e)!==1&&rV===En.requestAnimationFrame||((rV=En.requestAnimationFrame)||$et)(Vet)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==A4&&(n.__=n.__V),n.i=void 0,n.__V=A4})),u4=Nu=null},En.__c=function(t,e){e.some(function(n){try{n.__h.forEach(y2),n.__h=n.__h.filter(function(r){return!r.__||Ok(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],En.__e(r,n.__v)}}),oV&&oV(t,e)},En.unmount=function(t){lV&&lV(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{y2(r)}catch(i){e=i}}),n.__H=void 0,e&&En.__e(e,n.__v))};var cV=typeof requestAnimationFrame=="function";function $et(t){var e,n=function(){clearTimeout(r),cV&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);cV&&(e=requestAnimationFrame(n))}function y2(t){var e=Nu,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Nu=e}function Ok(t){var e=Nu;t.__c=t.__(),Nu=e}function Ket(t,e){for(var n in e)t[n]=e[n];return t}function uV(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function AV(t){this.props=t}(AV.prototype=new kl).isPureReactComponent=!0,AV.prototype.shouldComponentUpdate=function(t,e){return uV(this.props,t)||uV(this.state,e)};var dV=En.__b;En.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),dV&&dV(t)};var Wet=En.__e;En.__e=function(t,e,n,r){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Wet(t,e,n,r)};var fV=En.unmount;function wie(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Ket({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return wie(r,e,n)})),t}function Cie(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Cie(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function d4(){this.__u=0,this.t=null,this.__b=null}function Sie(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Bw(){this.u=null,this.o=null}En.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),fV&&fV(t)},(d4.prototype=new kl).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Sie(r.__v),a=!1,s=function(){a||(a=!0,n.__R=null,i?i(o):o())};n.__R=s;var o=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=Cie(u,u.__c.__P,u.__c.__O)}var A;for(r.setState({__a:r.__b=null});A=r.t.pop();)A.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},d4.prototype.componentWillUnmount=function(){this.t=[]},d4.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=wie(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&tt(Zi,null,t.fallback);return i&&(i.__h=null),[tt(Zi,null,e.__a?null:t.children),i]};var hV=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Get(t){return this.getChildContext=function(){return t.context},t.children}function qet(t){var e=this,n=t.i;e.componentWillUnmount=function(){Kb(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Kb(tt(Get,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Yet(t,e){var n=tt(qet,{__v:t,i:e});return n.containerInfo=e,n}(Bw.prototype=new kl).__a=function(t){var e=this,n=Sie(e.__v),r=e.o.get(t);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),hV(e,t,r)):i()};n?n(a):a()}},Bw.prototype.render=function(t){this.u=null,this.o=new Map;var e=zS(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Bw.prototype.componentDidUpdate=Bw.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){hV(t,n,e)})};var Xet=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jet=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Zet=typeof document<"u",ett=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};kl.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(kl.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var pV=En.event;function ttt(){}function ntt(){return this.cancelBubble}function rtt(){return this.defaultPrevented}En.event=function(t){return pV&&(t=pV(t)),t.persist=ttt,t.isPropagationStopped=ntt,t.isDefaultPrevented=rtt,t.nativeEvent=t};var mV={configurable:!0,get:function(){return this.class}},gV=En.vnode;En.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in r={},n){var s=n[a];Zet&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in n&&s==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!ett(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&Jet.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=zS(n.children).forEach(function(o){o.props.selected=r.value.indexOf(o.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=zS(n.children).forEach(function(o){o.props.selected=r.multiple?r.defaultValue.indexOf(o.props.value)!=-1:r.defaultValue==o.props.value})),t.props=r,n.class!=n.className&&(mV.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",mV))}t.$$typeof=Xet,gV&&gV(t)};var vV=En.__r;En.__r=function(t){vV&&vV(t),t.__c};const Eie=[],Fk=new Map;function _ie(t){Eie.push(t),Fk.forEach(e=>{Nie(e,t)})}function itt(t){t.isConnected&&t.getRootNode&&Bie(t.getRootNode())}function Bie(t){let e=Fk.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=stt();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Fk.set(t,e),att(e)}}function att(t){for(const e of Eie)Nie(t,e)}function Nie(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&n.insertRule(i+"}",r+a)})}let f4;function stt(){return f4===void 0&&(f4=ott()),f4}function ott(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Bie(document);var ltt=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';_ie(ltt);class vF{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function yF(t){t.parentNode&&t.parentNode.removeChild(t)}function io(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(ctt(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function ctt(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function utt(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let a=n[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)r.push(a[s])}return r}const Att=/(top|left|right|bottom|width|height)$/i;function my(t,e){for(let n in e)jie(t,n,e[n])}function jie(t,e,n){n==null?t.style[e]="":typeof n=="number"&&Att.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Tie(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let yV=0;function s_(){return yV+=1,"fc-dom-"+yV}function o_(t){t.preventDefault()}function dtt(t,e){return n=>{let r=io(n.target,t);r&&e.call(r,n,r)}}function Iie(t,e,n,r){let i=dtt(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function ftt(t,e,n,r){let i;return Iie(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,n(a,s);let o=l=>{i=null,r(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const bV=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function htt(t,e){let n=r=>{e(r),bV.forEach(i=>{t.removeEventListener(i,n)})};bV.forEach(r=>{t.addEventListener(r,n)})}function kie(t){return Object.assign({onClick:t},Pie(t))}function Pie(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let xV=0;function Cp(){return xV+=1,String(xV)}function bF(){document.body.classList.add("fc-not-allowed")}function xF(){document.body.classList.remove("fc-not-allowed")}function ptt(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",o_)}function mtt(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",o_)}function gtt(t){t.addEventListener("contextmenu",o_)}function vtt(t){t.removeEventListener("contextmenu",o_)}function ytt(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function btt(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=xtt(t,e,n[r]),i)return i;return 0}function xtt(t,e,n){return n.func?n.func(t,e):wtt(t[n.field],e[n.field])*(n.order||1)}function wtt(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function h4(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function gy(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,a)=>r.replace("$"+a,i||""),t):n}function Ctt(t,e){return t-e}function p4(t){return t%1===0}function Stt(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const Ett=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Pr(t,e){return typeof t=="string"?_tt(t):typeof t=="object"&&t?wV(t):typeof t=="number"?wV({[e||"milliseconds"]:t}):null}function _tt(t){let e=Ett.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function wV(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Btt(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Ntt(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function jtt(t){return Gm(t)/365}function Ttt(t){return Gm(t)/30}function Gm(t){return Wb(t)/864e5}function Wb(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Mk(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function gf(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const Itt=["sun","mon","tue","wed","thu","fri","sat"];function CV(t,e){let n=zd(t);return n[2]+=e*7,Uo(n)}function cs(t,e){let n=zd(t);return n[2]+=e,Uo(n)}function vf(t,e){let n=zd(t);return n[6]+=e,Uo(n)}function ktt(t,e){return T0(t,e)/7}function T0(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Ptt(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Dtt(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Ott(t,e){return(e.valueOf()-t.valueOf())/1e3}function Ftt(t,e){let n=Di(t),r=Di(e);return{years:0,months:0,days:Math.round(T0(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function Mtt(t,e){let n=VS(t,e);return n!==null&&n%7===0?n/7:null}function VS(t,e){return Vd(t)===Vd(e)?Math.round(T0(t,e)):null}function Di(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Ltt(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Rtt(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Utt(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Qtt(t,e,n){let r=t.getUTCFullYear(),i=m4(t,r,e,n);if(i<1)return m4(t,r-1,e,n);let a=m4(t,r+1,e,n);return a>=1?Math.min(i,a):i}function m4(t,e,n,r){let i=Uo([e,0,1+Htt(e,n,r)]),a=Di(t),s=Math.round(T0(i,a));return Math.floor(s/7)+1}function Htt(t,e,n){let r=7+e-n;return-((7+Uo([t,0,r]).getUTCDay()-e)%7)+r-1}function SV(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function EV(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function zd(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Uo(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Die(t){return!isNaN(t.valueOf())}function Vd(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function ztt(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",CF(e,!0)))),r}function wF(t){return t.toISOString().replace(/T.*$/,"")}function Vtt(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function CF(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=Math.round(r%60);return e?`${n+h4(i,2)}:${h4(a,2)}`:`GMT${n}${i}${a?`:${h4(a,2)}`:""}`}function Nr(t,e,n){let r,i;return function(...a){if(!r)i=t.apply(this,a);else if(!gf(r,a)){let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return r=a,i}}function b2(t,e,n){let r,i;return a=>(r?Au(r,a)||(i=t.call(this,a)):i=t.call(this,a),r=a,i)}const g4={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},$S={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Nw=/\s*([ap])\.?m\.?/i,$tt=/,/g,Ktt=/\s+/g,Wtt=/\u200e/g,Gtt=/UTC|GMT/;class qtt{constructor(e){let n={},r={},i=9;for(let a in e)a in g4?(r[a]=e[a],g4[a]<9&&(i=Math.min(g4[a],i))):(n[a]=e[a],a in $S&&(i=Math.min($S[a],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=Nr(_V)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:a,extendedSettings:s}=this,o=tnt(e.marker,n.marker,r.calendarSystem);if(!o)return this.format(e,r);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,r),A=this.format(n,r);if(u===A)return u;let d=nnt(a,l),f=_V(d,s,r),h=f(e),p=f(n),m=rnt(u,h,A,p),v=s.separator||i||r.defaultSeparator||"";return m?m.before+h+v+p+m.after:u+v+A}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function _V(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>CF(i.timeZoneOffset):r===0&&e.week?i=>ent(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):Ytt(t,e,n)}function Ytt(t,e,n){t=Object.assign({},t),e=Object.assign({},e),Xtt(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=r;let l=o.format(s);return Jtt(l,a,t,e,n)}}function Xtt(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Jtt(t,e,n,r,i){return t=t.replace(Wtt,""),n.timeZoneName==="short"&&(t=Ztt(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":CF(e.timeZoneOffset))),r.omitCommas&&(t=t.replace($tt,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Nw,"").trim():r.meridiem==="narrow"?t=t.replace(Nw,(a,s)=>s.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Nw,(a,s)=>`${s.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Nw,a=>a.toLocaleLowerCase())),t=t.replace(Ktt," "),t=t.trim(),t}function Ztt(t,e){let n=!1;return t=t.replace(Gtt,()=>(n=!0,e)),n||(t+=` ${e}`),t}function ent(t,e,n,r,i){let a=[];return i==="long"?a.push(n):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&a.reverse(),a.join("")}function tnt(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Vd(t)!==Vd(e)?1:0}function nnt(t,e){let n={};for(let r in t)(!(r in $S)||$S[r]<=e)&&(n[r]=t[r]);return n}function rnt(t,e,n,r){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<n.length;){let u=n.indexOf(r,l);if(u===-1)break;let A=n.substr(0,u);l=u+r.length;let d=n.substr(l);if(s===A&&o===d)return{before:s,after:o}}}return null}function BV(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function KS(t,e,n,r){let i=BV(t,n.calendarSystem),a=e?BV(e,n.calendarSystem):null;return{date:i,start:i,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class int{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,KS(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,KS(e,n,r,i))}}class ant{constructor(e){this.func=e}format(e,n,r){return this.func(KS(e,null,n,r))}formatRange(e,n,r,i){return this.func(KS(e,n,r,i))}}function os(t){return typeof t=="object"&&t?new qtt(t):typeof t=="string"?new int(t):typeof t=="function"?new ant(t):null}const NV={navLinkDayClick:Ze,navLinkWeekClick:Ze,duration:Pr,bootstrapFontAwesome:Ze,buttonIcons:Ze,customButtons:Ze,defaultAllDayEventDuration:Pr,defaultTimedEventDuration:Pr,nextDayThreshold:Pr,scrollTime:Pr,scrollTimeReset:Boolean,slotMinTime:Pr,slotMaxTime:Pr,dayPopoverFormat:os,slotDuration:Pr,snapDuration:Pr,headerToolbar:Ze,footerToolbar:Ze,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:os,dayHeaderClassNames:Ze,dayHeaderContent:Ze,dayHeaderDidMount:Ze,dayHeaderWillUnmount:Ze,dayCellClassNames:Ze,dayCellContent:Ze,dayCellDidMount:Ze,dayCellWillUnmount:Ze,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ze,weekNumbers:Boolean,weekNumberClassNames:Ze,weekNumberContent:Ze,weekNumberDidMount:Ze,weekNumberWillUnmount:Ze,editable:Boolean,viewClassNames:Ze,viewDidMount:Ze,viewWillUnmount:Ze,nowIndicator:Boolean,nowIndicatorSnap:Ze,nowIndicatorClassNames:Ze,nowIndicatorContent:Ze,nowIndicatorDidMount:Ze,nowIndicatorWillUnmount:Ze,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ze,locale:Ze,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ze,eventOrder:ytt,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ze,contentHeight:Ze,direction:String,weekNumberFormat:os,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ze,initialDate:Ze,now:Ze,eventDataTransform:Ze,stickyHeaderDates:Ze,stickyFooterScrollbar:Ze,viewHeight:Ze,defaultAllDay:Boolean,eventSourceFailure:Ze,eventSourceSuccess:Ze,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ze,eventConstraint:Ze,eventAllow:Ze,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ze,eventContent:Ze,eventDidMount:Ze,eventWillUnmount:Ze,selectConstraint:Ze,selectOverlap:Ze,selectAllow:Ze,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ze,slotLaneClassNames:Ze,slotLaneContent:Ze,slotLaneDidMount:Ze,slotLaneWillUnmount:Ze,slotLabelClassNames:Ze,slotLabelContent:Ze,slotLabelDidMount:Ze,slotLabelWillUnmount:Ze,dayMaxEvents:Ze,dayMaxEventRows:Ze,dayMinWidth:Number,slotLabelInterval:Pr,allDayText:String,allDayClassNames:Ze,allDayContent:Ze,allDayDidMount:Ze,allDayWillUnmount:Ze,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:os,rerenderDelay:Number,moreLinkText:Ze,moreLinkHint:Ze,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ze,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Pr,hiddenDays:Ze,fixedWeekCount:Boolean,validRange:Ze,visibleRange:Ze,titleFormat:Ze,eventInteractive:Boolean,noEventsText:String,viewHint:Ze,navLinkHint:Ze,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ze,moreLinkClassNames:Ze,moreLinkContent:Ze,moreLinkDidMount:Ze,moreLinkWillUnmount:Ze,monthStartFormat:os,handleCustomRendering:Ze,customRenderingMetaMap:Ze,customRenderingReplaces:Boolean},vy={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},jV={datesSet:Ze,eventsSet:Ze,eventAdd:Ze,eventChange:Ze,eventRemove:Ze,windowResize:Ze,eventClick:Ze,eventMouseEnter:Ze,eventMouseLeave:Ze,select:Ze,unselect:Ze,loading:Ze,_unmount:Ze,_beforeprint:Ze,_afterprint:Ze,_noEventDrop:Ze,_noEventResize:Ze,_resize:Ze,_scrollRequest:Ze},TV={buttonText:Ze,buttonHints:Ze,views:Ze,plugins:Ze,initialEvents:Ze,events:Ze,eventSources:Ze},nh={headerToolbar:rh,footerToolbar:rh,buttonText:rh,buttonHints:rh,buttonIcons:rh,dateIncrement:rh,plugins:jw,events:jw,eventSources:jw,resources:jw};function rh(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Au(t,e):t===e}function jw(t,e){return Array.isArray(t)&&Array.isArray(e)?gf(t,e):t===e}const snt={type:String,component:Ze,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ze,usesMinMaxTime:Boolean,classNames:Ze,content:Ze,didMount:Ze,willUnmount:Ze};function v4(t){return EF(t,nh)}function SF(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function Ze(t){return t}const{hasOwnProperty:WS}=Object.prototype;function EF(t,e){let n={};if(e){for(let r in e)if(e[r]===rh){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][r];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){n[r]=s;break}}i.length&&(n[r]=EF(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let a in i)a in n||(n[a]=i[a])}return n}function rp(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Sp(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Oie(t){let e={};for(let n of t)e[n]=!0;return e}function _F(t){let e=[];for(let n in t)e.push(t[n]);return e}function Au(t,e){if(t===e)return!0;for(let n in t)if(WS.call(t,n)&&!(n in e))return!1;for(let n in e)if(WS.call(e,n)&&t[n]!==e[n])return!1;return!0}const ont=/^on[A-Z]/;function lnt(t,e){const n=cnt(t,e);for(let r of n)if(!ont.test(r))return!1;return!0}function cnt(t,e){let n=[];for(let r in t)WS.call(t,r)&&(r in e||n.push(r));for(let r in e)WS.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function y4(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&unt(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function unt(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Ant(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let a=e;a<n;a+=r){let s=t[a];s!==void 0&&i.push(s)}return i}let Fie={};function dnt(t,e){Fie[t]=e}function fnt(t){return new Fie[t]}class hnt{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Uo(e)}markerToArray(e){return zd(e)}}dnt("gregory",hnt);const pnt=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function mnt(t){let e=pnt.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Die(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class gnt{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=fnt(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Uo(SV(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Uo(e)),n===null||!Die(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=mnt(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Vd(e)===Vd(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Vd(e)===Vd(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=Mtt(e,n),r!==null?{unit:"week",value:r}:(r=VS(e,n),r!==null?{unit:"day",value:r}:(r=Ptt(e,n),p4(r)?{unit:"hour",value:r}:(r=Dtt(e,n),p4(r)?{unit:"minute",value:r}:(r=Ott(e,n),p4(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/jtt(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/Ttt(r):r.days&&(i=VS(e,n),i!==null)?i/Gm(r):(n.valueOf()-e.valueOf())/Wb(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Di(e):n==="hour"?Ltt(e):n==="minute"?Rtt(e):n==="second"?Utt(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Qtt(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=vf(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),ztt(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Uo(SV(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Uo(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-EV(zd(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(zd(e)):null}toDate(e,n){return this.timeZone==="local"?EV(zd(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(zd(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Lx{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Lx.prototype.classes={};Lx.prototype.iconClasses={};Lx.prototype.baseIconClass="";Lx.prototype.iconOverridePrefix="";function GS(t){t();let e=En.debounceRendering,n=[];function r(i){n.push(i)}for(En.debounceRendering=r,Kb(tt(vnt,{}),document.createElement("div"));n.length;)n.shift()();En.debounceRendering=e}class vnt extends kl{render(){return tt("div",{})}componentDidMount(){this.setState({})}}function Mie(t){let e=zet(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class ynt{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ep=Mie({});function bnt(t,e,n,r,i,a,s,o,l,u,A,d,f,h){return{dateEnv:i,nowManager:a,options:n,pluginHooks:o,emitter:A,dispatch:l,getCurrentData:u,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(p){A.on("_resize",p)},removeResizeHandler(p){A.off("_resize",p)},createScrollResponder(p){return new ynt(p,A,Pr(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}class _p extends kl{shouldComponentUpdate(e,n){return!y4(this.props,e,this.propEquality)||!y4(this.state,n,this.stateEquality)}safeSetState(e){y4(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}_p.addPropsEquality=xnt;_p.addStateEquality=wnt;_p.contextType=Ep;_p.prototype.propEquality={};_p.prototype.stateEquality={};class zi extends _p{}zi.contextType=Ep;function xnt(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function wnt(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Yu(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class BF extends zi{constructor(){super(...arguments),this.id=Cp(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Lk(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Yu(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=Lie(e,[],this.handleEl);let l=!1,u,A=[],d;if(i!=null){const f=typeof i=="function"?i(s,tt):i;if(f===!0)l=!0;else{const h=f&&typeof f=="object";h&&"html"in f?o.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?A=Array.prototype.slice.call(f.domNodes):(h?lie(f):typeof f!="function")?u=f:d=f}}else l=!Lk(e.generatorName,r);return l&&a&&(u=a(s)),this.queuedDomNodes=A,this.currentGeneratorMeta=d,tt(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:s==null?void 0:s[r.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},r),{elClasses:(r.elClasses||[]).filter(Cnt)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!gf(e,n)){n.forEach(yF);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}BF.addPropsEquality({elClasses:gf,elStyle:Au,elAttrs:lnt,renderProps:Au});function Lk(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Lie(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Cnt(t){return!!t}const Rie=Mie(0);class id extends kl{constructor(){super(...arguments),this.InnerContent=Snt.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Yu(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=Ent(e.classNameGenerator,e.renderProps);if(e.children){const r=Lie(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?tt(e.elTag,r,i):i}else return tt(BF,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}id.contextType=Rie;function Snt(t,e){const n=t.props;return tt(BF,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function Ent(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class IV extends zi{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return tt(id,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Uie(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function Uie(t){return[`fc-${t.type}-view`,"fc-view"]}function _nt(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function kV(t,e){let n=[],{start:r}=e,i,a;for(t.sort(Bnt),i=0;i<t.length;i+=1)a=t[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<e.end&&n.push({start:r,end:e.end}),n}function Bnt(t,e){return t.start.valueOf()-e.start.valueOf()}function Yg(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function Nnt(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function NF(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function l_(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function sf(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function jnt(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Qie(t){let e=Math.floor(T0(t.start,t.end))||1,n=Di(t.start),r=cs(n,e);return{start:n,end:r}}function Hie(t,e=Pr(0)){let n=null,r=null;if(t.end){r=Di(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Wb(e)&&(r=cs(r,1))}return t.start&&(n=Di(t.start),r&&r<=n&&(r=cs(n,1))),{start:n,end:r}}function Bm(t,e,n,r){return r==="year"?Pr(n.diffWholeYears(t,e),"year"):r==="month"?Pr(n.diffWholeMonths(t,e),"month"):Ftt(t,e)}class zie{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,a=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,r)}build(e,n,r=!0){let{props:i}=this,a,s,o,l,u,A;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(e=jnt(e,a)),s=this.buildCurrentRangeInfo(e,n),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=Yg(u,s.range)),u=this.adjustActiveRange(u),u=Yg(u,a),A=NF(s.range,a),sf(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:A,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,a=null,s=null,o;return r.duration?(i=r.duration,a=r.durationUnit,s=this.buildRangeFromDuration(e,n,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,n,o)):(s=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=Mk(i).unit,s=this.buildRangeFromDuration(e,n,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Pr({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return r&&(Gm(i)<0&&(s=Di(s),s=n.add(s,i)),Gm(a)>1&&(o=Di(o),o=cs(o,-1),o=n.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,n,r,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:d}=this.props;d&&Wb(d)<Wb(r)?s=Mk(d).unit:s=i}Gm(r)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,n),o=Di(o));function A(){o=a.startOf(e,s),l=a.add(o,r),u={start:o,end:l}}return A(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),A()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=Di(o),o=this.skipHiddenDays(o,n),l=o;do l=cs(l,1),this.isHiddenDay(l)||(s+=1);while(s<r);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Pr(1,r):e||Pr({days:1}))}refineRange(e){if(e){let n=_nt(e,this.props.dateEnv);return n&&(n=Hie(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=cs(e,n);return e}}function jF(t,e,n,r){return{instanceId:Cp(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Tnt(t,e,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(t,n);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function ip(t,e,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:s,instances:o}=t;o=rp(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:A}=u.recurringDef;A||(A=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let d=Int(u,A,e,r,i.recurringTypes);for(let f of d){let h=jF(l,{start:f,end:r.add(f,A)});o[h.instanceId]=h}}}return{defs:s,instances:o}}function Int(t,e,n,r,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(s=s.map(Di)),s}const x2={id:String,groupId:String,title:String,url:String,interactive:Boolean},Vie={start:Ze,end:Ze,date:Ze,allDay:Boolean},knt=Object.assign(Object.assign(Object.assign({},x2),Vie),{extendedProps:Ze});function $ie(t,e,n,r,i=TF(n),a,s){let{refined:o,extra:l}=Kie(t,n,i),u=Dnt(e,n),A=Tnt(o,u,n.dateEnv,n.pluginHooks.recurringTypes);if(A){let f=Rk(o,l,e?e.sourceId:"",A.allDay,!!A.duration,n,a);return f.recurringDef={typeId:A.typeId,typeData:A.typeData,duration:A.duration},{def:f,instance:null}}let d=Pnt(o,u,n,r);if(d){let f=Rk(o,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,a),h=jF(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&f.publicId&&s[f.publicId]&&(h.instanceId=s[f.publicId]),{def:f,instance:h}}return null}function Kie(t,e,n=TF(e)){return SF(t,n)}function TF(t){return Object.assign(Object.assign(Object.assign({},qS),knt),t.pluginHooks.eventRefiners)}function Rk(t,e,n,r,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||Cp(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:YS(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function Pnt(t,e,n,r){let{allDay:i}=t,a,s=null,o=!1,l,u=null,A=t.start!=null?t.start:t.date;if(a=n.dateEnv.createMarkerMeta(A),a)s=a.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=Di(s)),l&&(u=l.marker,i&&(u=Di(u)),s&&u<=s&&(u=null)),u?o=!0:r||(o=n.options.forceEventDuration||!1,u=n.dateEnv.add(s,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Dnt(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Gb(t,e,n,r,i,a){let s=tu(),o=TF(n);for(let l of t){let u=$ie(l,e,n,r,o,i,a);u&&Uk(u,s)}return s}function Uk(t,e=tu()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function IF(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=c_(t,a=>Ont(r,a));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return tu()}function Ont(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function tu(){return{defs:{},instances:{}}}function kF(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function c_(t,e){let n=rp(t.defs,e),r=rp(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function Fnt(t,e){let{defs:n,instances:r}=t,i={},a={};for(let s in n)e.defs[s]||(i[s]=n[s]);for(let s in r)!e.instances[s]&&i[r[s].defId]&&(a[s]=r[s]);return{defs:i,instances:a}}function Mnt(t,e){return Array.isArray(t)?Gb(t,null,e,!0):typeof t=="object"&&t?Gb([t],null,e,!0):t!=null?String(t):null}function PV(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const qS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ze,overlap:Ze,allow:Ze,className:PV,classNames:PV,color:String,backgroundColor:String,borderColor:String,textColor:String},Lnt={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function YS(t,e){let n=Mnt(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Rnt(t){return t.reduce(Unt,Lnt)}function Unt(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Qnt={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ze,eventDataTransform:Ze,success:Ze,failure:Ze};function Wie(t,e,n=Gie(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:a}=SF(r,n),s=Hnt(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Cp(),sourceDefId:s.sourceDefId,meta:s.meta,ui:YS(i,e),extendedProps:a}}return null}function Gie(t){return Object.assign(Object.assign(Object.assign({},qS),Qnt),t.pluginHooks.eventSourceRefiners)}function Hnt(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let a=n[r].parseMeta(t);if(a)return{sourceDefId:r,meta:a}}return null}function znt(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Vnt(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return $nt(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return Knt(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return kF(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?ip(t,r.activeRange,i):t;case"REMOVE_EVENTS":return Fnt(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Yie(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return c_(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return tu();default:return t}}function Vnt(t,e,n,r,i,a){if(e&&n===e.latestFetchId){let s=Gb(qie(i,e,a),e,a);return r&&(s=ip(s,r,a)),kF(Yie(t,e.sourceId),s)}return t}function $nt(t,e,n,r,i){const{defIdMap:a,instanceIdMap:s}=Gnt(t);let o=Gb(qie(n,e,i),e,i,!1,a,s);return ip(o,r,i)}function qie(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=DV(t,i)),r&&(t=DV(t,r)),t}function DV(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function Knt(t,e,n,r){return n&&(e=ip(e,n,r)),kF(t,e)}function OV(t,e,n){let{defs:r}=t,i=Sp(t.instances,a=>r[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:r,instances:i}}function Yie(t,e){return c_(t,n=>n.sourceId!==e)}function Wnt(t,e){return{defs:t.defs,instances:rp(t.instances,n=>!e[n.instanceId])}}function Gnt(t){const{defs:e,instances:n}=t,r={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(r[o]=a)}for(let a in n){const s=n[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:r,instanceIdMap:i}}class u_{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){qnt(this.handlers,e,n)}off(e,n){Ynt(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],r);for(let s of a)s.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function qnt(t,e,n){(t[e]||(t[e]=[])).push(n)}function Ynt(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const Xnt={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Jnt(t,e){return Gb(Znt(t),null,e)}function Znt(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},Xnt),n)),e}function Xie(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},PF(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function ert(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function PF(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,prt(t,e.dateEnv)),n}function FV(t,e,n){let{dateEnv:r,options:i}=n,a=e;return t?(a=Di(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function DF(t,e,n,r){let i=XS(t.defs,e),a=tu();for(let s in t.defs){let o=t.defs[s];a.defs[s]=trt(o,i[s],n,r)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=nrt(o,l,i[o.defId],n,r)}return a}function trt(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function nrt(t,e,n,r,i){let{dateEnv:a}=i,s=r.standardProps&&r.standardProps.allDay===!0,o=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=Qie(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:a.add(l.range.start,r.datesDelta),end:a.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:a.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:FV(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Di(l.range.start),end:Di(l.range.end)}),l.range.end<l.range.start&&(l.range.end=FV(e.allDay,l.range.start,i)),l}class Zp{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Oi{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in Vie)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=x2[e](n),this.mutate({standardProps:{publicId:n}});else if(e in x2)n=x2[e](n),this.mutate({standardProps:{[e]:n}});else if(e in qS){let r=qS[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=Bm(a.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let a=Bm(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,a={allDay:r.allDay},s=i.createMarker(e),o;if(s&&!(n!=null&&(o=i.createMarker(n),!o))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=Qie(l));let u=Bm(l.start,s,i,r.granularity);if(o){let A=Bm(l.end,o,i,r.granularity);Btt(u,A)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:A,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let n=Pr(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Pr(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Pr(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=os(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=IF(a,n.instanceId);s=DF(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Oi(i,r,n);this._def=s.defs[r.defId],this._instance=s.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Fh(s,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,n=Jie(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Zp(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:a}=this,s={allDay:n.allDay};return n.title&&(s.title=n.title),i&&(s.start=i),a&&(s.end=a),n.publicId&&(s.id=n.publicId),n.groupId&&(s.groupId=n.groupId),n.url&&(s.url=n.url),r.display&&r.display!=="auto"&&(s.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.color=r.backgroundColor:(r.backgroundColor&&(s.backgroundColor=r.backgroundColor),r.borderColor&&(s.borderColor=r.borderColor)),r.textColor&&(s.textColor=r.textColor),r.classNames.length&&(s.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,n.extendedProps):s.extendedProps=n.extendedProps),s}toJSON(){return this.toPlainObject()}}function Jie(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Fh(t,e,n){let{defs:r,instances:i}=t,a=[],s=n?n.instanceId:"";for(let o in i){let l=i[o],u=r[l.defId];l.instanceId!==s&&a.push(new Oi(e,u,l))}return a}function MV(t,e,n,r){let i={},a={},s={},o=[],l=[],u=XS(t.defs,e);for(let A in t.defs){let d=t.defs[A];u[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],s[d.groupId]||(s[d.groupId]=d)):a[A]=[])}for(let A in t.instances){let d=t.instances[A],f=t.defs[d.defId],h=u[f.defId],p=d.range,m=!f.allDay&&r?Hie(p,r):p,v=Yg(m,n);v&&(h.display==="inverse-background"?f.groupId?i[f.groupId].push(v):a[d.defId].push(v):h.display!=="none"&&(h.display==="background"?o:l).push({def:f,ui:h,instance:d,range:v,isStart:m.start&&m.start.valueOf()===v.start.valueOf(),isEnd:m.end&&m.end.valueOf()===v.end.valueOf()}))}for(let A in i){let d=i[A],f=kV(d,n);for(let h of f){let p=s[A],m=u[p.defId];o.push({def:p,ui:m,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let A in a){let d=a[A],f=kV(d,n);for(let h of f)o.push({def:t.defs[A],ui:u[A],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function LV(t,e){t.fcSeg=e}function Xg(t){return t.fcSeg||t.parentNode.fcSeg||null}function XS(t,e){return Sp(t,n=>Zie(n,e))}function Zie(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),Rnt(n)}function rrt(t,e){let n=t.map(irt);return n.sort((r,i)=>btt(r,i,e)),n.map(r=>r._seg)}function irt(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:t})}function art(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of r)s=o(s,i,a,e);return s}function srt(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ort(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function eae(t,e,n,r,i,a,s){let{dateEnv:o,options:l}=n,{displayEventTime:u,displayEventEnd:A}=l,d=t.eventRange.def,f=t.eventRange.instance;u==null&&(u=r!==!1),A==null&&(A=i!==!1);let h=f.range.start,p=f.range.end,m=t.start||t.eventRange.range.start,v=t.end||t.eventRange.range.end,g=Di(h).valueOf()===Di(m).valueOf(),y=Di(vf(p,-1)).valueOf()===Di(vf(v,-1)).valueOf();return u&&!d.allDay&&(g||y)?(m=g?h:m,v=y?p:v,A&&d.hasEnd?o.formatRange(m,v,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):o.format(m,e,{forcedTzo:f.forcedStartTzo})):""}function yy(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&sf(e,r.start)}}function lrt(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function crt(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function tae(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=n.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?Pie(l=>{a.trigger("eventClick",{el:l.target,event:new Oi(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const urt={start:Ze,end:Ze,allDay:Boolean};function Art(t,e,n){let r=drt(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function drt(t,e){let{refined:n,extra:r}=SF(t,urt),i=n.start?e.createMarkerMeta(n.start):null,a=n.end?e.createMarkerMeta(n.end):null,{allDay:s}=n;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},r)}function frt(t,e){return Nnt(t.range,e.range)&&t.allDay===e.allDay&&hrt(t,e)}function hrt(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function prt(t,e){return Object.assign(Object.assign({},rae(t.range,e,t.allDay)),{allDay:t.allDay})}function nae(t,e,n){return Object.assign(Object.assign({},rae(t,e,n)),{timeZone:e.timeZone})}function rae(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function mrt(t,e,n){let r=Kie({editable:!1},n),i=Rk(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Zie(i,e),instance:jF(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function grt(t,e,n){let r=!1,i=function(o){r||(r=!0,e(o))},a=function(o){r||(r=!0,n(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class RV extends Error{constructor(e,n){super(e),this.response=n}}function vrt(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new RV("Failure parsing JSON",i)});throw new RV("Request failed",i)})}let b4;function iae(){return b4==null&&(b4=yrt()),b4}function yrt(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class brt extends zi{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{GS(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{GS(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",a=!i&&n.height!=null?n.height:"",s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return iae()||s.push("fc-liquid-hack"),e.children(s,a,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class I0{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function xrt(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function OF(t){return{[t.component.uid]:t}}const Qk={};class A_ extends kl{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let a,s;return i?(a=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(a,Pr(1,e.unit)).valueOf()-r.valueOf()):(a=r,s=1e3*60),s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:wrt(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}A_.contextType=Ep;function wrt(t){let e=Di(t),n=cs(e,1);return{start:e,end:n}}class Crt{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),a,s;for(let o in n)i.push(o);for(a=0;a<i.length;a+=1)if(s=n[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Pr(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),os(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),os(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),a=Art(r,i.dateEnv,Pr({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),Xie(a,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),ert(e,n))}addEvent(e,n){if(e instanceof Oi){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Uk({def:s,instance:o})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Zp)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=_F(r.eventSources));else if(n!=null){let s=this.getEventSourceById(n);if(!s)return console.warn(`Could not find an event source with ID "${n}"`),null;i=s.internalEventSource}let a=$ie(e,i,r,!1);if(a){let s=new Oi(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Uk(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Jie(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let a in r){let s=r[a];if(s.publicId===e){if(s.recurringDef)return new Oi(n,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new Oi(n,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Fh(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Zp(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Zp(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Zp)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Wie(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Zp(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Pr(e);n&&this.trigger("_scrollRequest",{time:n})}}function Srt(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function aae(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function Ert(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function _rt(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Brt(t,e){return{left:t.left-e.left,top:t.top-e.top}}function sae(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!sf(r.activeRange,t))),isOther:!!(r&&!sf(r.currentRange,t)),isToday:!!(e&&sf(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function FF(t,e){let n=["fc-day",`fc-day-${Itt[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const Nrt=os({year:"numeric",month:"long",day:"numeric"}),jrt=os({week:"long"});function Hk(t,e,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,n==="week"?jrt:Nrt);if(a.navLinks){let l=i.toDate(e);const u=A=>{let d=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof d=="function"?d.call(s,i.toDate(e),A):(typeof d=="string"&&(n=d),s.zoomTo(e,n))};return Object.assign({title:gy(a.navLinkHint,[o,l],o),"data-navlink":""},r?kie(u):{onClick:u})}return{"aria-label":o}}let x4=null;function Trt(){return x4===null&&(x4=Irt()),x4}function Irt(){let t=document.createElement("div");my(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return yF(t),n}let w4;function krt(){return w4||(w4=Prt()),w4}function Prt(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=oae(t);return document.body.removeChild(t),e}function oae(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Drt(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,o=oae(t),l=o.y-r-i,u=o.x-a-s,A={borderLeft:r,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Trt()&&n.direction==="rtl"?A.scrollbarLeft=l:A.scrollbarRight=l,e&&(A.paddingLeft=parseInt(n.paddingLeft,10)||0,A.paddingRight=parseInt(n.paddingRight,10)||0,A.paddingTop=parseInt(n.paddingTop,10)||0,A.paddingBottom=parseInt(n.paddingBottom,10)||0),A}function Ort(t,e=!1,n){let r=MF(t),i=Drt(t,e),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function MF(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Frt(t){let e=lae(t),n=t.getBoundingClientRect();for(let r of e){let i=aae(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function lae(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class JS{constructor(e,n,r,i){this.els=n;let a=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.left-e),r.push(a.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.top-e),r.push(a.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Tw(this.tops||[],e.tops||[])&&Tw(this.bottoms||[],e.bottoms||[])&&Tw(this.lefts||[],e.lefts||[])&&Tw(this.rights||[],e.rights||[])}}function Tw(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class LF{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Mrt extends LF{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Lrt extends LF{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Bp extends zi{constructor(){super(...arguments),this.uid=Cp()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!io(e,".fc-event-mirror")}isValidDateDownEl(e){return!io(e,".fc-event:not(.fc-bg-event)")&&!io(e,".fc-more-link")&&!io(e,"a[data-navlink]")&&!io(e,".fc-popover")}}class Rrt{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:cae(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,a=n.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},r),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(C4(i,n.level,n.levelCoord),C4(r,n.level,[e])):C4(r[n.level],n.lateral,e),this.stackCnts[by(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:a}=this,s=n.length,o=0,l=-1,u=-1,A=null,d=0;for(let p=0;p<s;p+=1){const m=n[p];if(!i&&m>=o+this.getEntryThickness(e))break;let v=r[p],g,y=QV(v,e.span.start,UV),b=y[0]+y[1];for(;(g=v[b])&&g.span.start<e.span.end;){let C=m+this.getEntryThickness(g);C>o&&(o=C,A=g,l=p,u=b),C===o&&(d=Math.max(d,a[by(g)]+1)),b+=1}}let f=0;if(A)for(f=l+1;f<s&&n[f]<o;)f+=1;let h=-1;return f<s&&n[f]===o&&(h=QV(r[f],e.span.end,UV)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:A,stackCnt:d,levelCoord:o,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let a=0;a<r;a+=1){let s=e[a],o=n[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function UV(t){return t.span.end}function by(t){return t.index+":"+t.span.start}function cae(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function C4(t,e,n){t.splice(e,0,n)}function QV(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),s=n(t[a]);if(e<s)i=a;else if(e>s)r=a+1;else return[a,1]}return[r,0]}class Urt{constructor(e,n){this.emitter=new u_}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const RF={};function Qrt(t,e){return!t||e>10?os({weekday:"short"}):e>1?os({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):os({weekday:"long"})}const uae="fc-col-header-cell";function Aae(t){return t.text}class Hrt extends zi{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=sae(s,a.todayRange,null,o),u=[uae].concat(FF(l,r)),A=e.format(s,a.dayHeaderFormat),d=!l.isDisabled&&a.colCnt>1?Hk(this.context,s):{},f=e.toDate(s);e.namedTimeZoneImpl&&(f=vf(f,36e5));let h=Object.assign(Object.assign(Object.assign({date:f,view:i},a.extraRenderProps),{text:A}),l);return tt(id,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:wF(s)},a.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Aae,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>tt("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&tt(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const zrt=os({weekday:"long"});class Vrt extends zi{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:a}=this.context,s=cs(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return tt(id,{elTag:"th",elClasses:[uae,...FF(o,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:Aae,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},A=>tt("div",{className:"fc-scrollgrid-sync-inner"},tt(A,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(s,zrt)}})))}}class $rt extends zi{constructor(){super(...arguments),this.createDayHeaderFormatter=Nr(Krt)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return tt(A_,{unit:"day"},(o,l)=>tt("tr",{role:"row"},a&&a("day"),n.map(u=>i?tt(Hrt,{key:u.toISOString(),date:u,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:s}):tt(Vrt,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function Krt(t,e,n){return t||Qrt(e,n)}class Wrt{constructor(e,n){let r=e.start,{end:i}=e,a=[],s=[],o=-1;for(;r<i;)n.isHiddenDay(r)?a.push(o+.5):(o+=1,a.push(o),s.push(r)),r=cs(r,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(cs(e.end,-1)),i=Math.max(0,n),a=Math.min(this.cnt-1,r);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:n===i,isEnd:r===a}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(T0(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class Grt{constructor(e,n){let{dates:r}=e,i,a,s;if(n){for(a=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==a;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:a,lastIndex:s}=r,o=a;for(;o<=s;){let l=Math.floor(o/n),u=Math.min((l+1)*n,s+1);i.push({row:l,firstCol:o%n,lastCol:(u-1)%n,isStart:r.isStart&&o===a,isEnd:r.isEnd&&u-1===s}),o=u}}return i}}class qrt{constructor(){this.sliceBusinessHours=Nr(this._sliceBusinessHours),this.sliceDateSelection=Nr(this._sliceDateSpan),this.sliceEventStore=Nr(this._sliceEventStore),this.sliceEventDrag=Nr(this._sliceInteraction),this.sliceEventResize=Nr(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,n,r,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,n,r,...a),eventResize:this.sliceEventResize(e.eventResize,s,n,r,...a),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...a){return this._sliceDateSpan({range:{start:e,end:vf(e,1)},allDay:!1},n,r,{},i,...a)}_sliceBusinessHours(e,n,r,i,...a){return e?this._sliceEventStore(ip(e,Iw(n,!!r),i),{},n,r,...a).bg:[]}_sliceEventStore(e,n,r,i,...a){if(e){let s=MV(e,n,Iw(r,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...a){if(!e)return null;let s=MV(e.mutatedEvents,n,Iw(r,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,a,...s){if(!e)return[];let o=Iw(n,!!r),l=Yg(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=mrt(e,i,a),A=this.sliceRange(e.range,...s);for(let d of A)d.eventRange=u;return A}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:cs(r.start,1)});let i=this.sliceRange(r,...n);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Iw(t,e){let n=t.activeRange;return e?n:{start:vf(n.start,t.slotMinTime.milliseconds),end:vf(n.end,t.slotMaxTime.milliseconds-864e5)}}function dae(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!l_(e.validRange,r[i].range))return!1;return fae({eventDrag:t},n)}function Yrt(t,e,n){return l_(e.validRange,t.range)?fae({dateSelection:t},n):!1}function fae(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Xrt)(r,e)}function Xrt(t,e,n={},r){return!(t.eventDrag&&!Jrt(t,e,n,r)||t.dateSelection&&!Zrt(t,e,n,r))}function Jrt(t,e,n,r){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=XS(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=Sp(u,r));let A=Wnt(t.eventStore,a.affectedEvents.instances),d=A.defs,f=A.instances,h=XS(d,t.eventUiBases);for(let p in l){let m=l[p],v=m.range,g=u[m.defId],y=o[m.defId];if(!hae(g.constraints,v,A,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,C=typeof b=="function"?b:null;for(let N in f){let _=f[N];if(NF(v,_.range)&&(h[_.defId].overlap===!1&&a.isEvent||g.overlap===!1||C&&!C(new Oi(e,d[_.defId],_),new Oi(e,y,m))))return!1}let E=i.eventStore;for(let N of g.allows){let _=Object.assign(Object.assign({},n),{range:m.range,allDay:y.allDay}),B=E.defs[y.defId],j=E.instances[p],D;if(B?D=new Oi(e,B,j):D=new Oi(e,y),!N(PF(_,e),D))return!1}}return!0}function Zrt(t,e,n,r){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!hae(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:A}=e.options,d=typeof A=="function"?A:null;for(let f in s){let h=s[f];if(NF(l,h.range)&&(u.overlap===!1||d&&!d(new Oi(e,a[h.defId],h),null)))return!1}for(let f of u.allows){let h=Object.assign(Object.assign({},n),o);if(!f(PF(h,e),null))return!1}return!0}function hae(t,e,n,r,i){for(let a of t)if(!tit(eit(a,e,n,r,i),e))return!1;return!0}function eit(t,e,n,r,i){return t==="businessHours"?S4(ip(r,e,i)):typeof t=="string"?S4(c_(n,a=>a.groupId===t)):typeof t=="object"&&t?S4(ip(t,e,i)):[]}function S4(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function tit(t,e){for(let n of t)if(l_(n,e))return!0;return!1}const kw=/^(visible|hidden)$/;class nit extends zi{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Yu(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,a=["fc-scroller"];return n&&(r?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),tt("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(kw.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(kw.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return kw.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return kw.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class bh{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;n!==null?(s=r in a,a[r]=n,i[r]=(i[r]||0)+1,o=!0):(i[r]-=1,i[r]||(delete a[r],delete this.callbackMap[r],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(r)),o&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return Ant(this.currentMap,e,n,r)}getAll(){return _F(this.currentMap)}}function rit(t){let e=utt(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,Stt(r));return Math.ceil(n)}function pae(t,e){return t.liquid&&e.liquid}function iit(t,e){return e.maxHeight!=null||pae(t,e)}function ait(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):tt("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,tt(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function sit(t,e){return gf(t,e,Au)}function oit(t,e){let n=[];for(let r of t){let i=r.span||1;for(let a=0;a<i;a+=1)n.push(tt("col",{style:{width:r.width==="shrink"?lit(e):r.width||"",minWidth:r.minWidth||""}}))}return tt("colgroup",{},...n)}function lit(t){return t??4}function cit(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function uit(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Ait(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function dit(t){return tt("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function HV(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function fit(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class mae extends zi{constructor(){super(...arguments),this.processCols=Nr(e=>e,sit),this.renderMicroColGroup=Nr(oit),this.scrollerRefs=new bh,this.scrollerElRefs=new bh(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,n.shrinkWidth),o=uit(e.liquid,r);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,A,d=[],f=[],h=[];for(;u<l&&(A=i[u]).type==="header";)d.push(this.renderSection(A,s,!0)),u+=1;for(;u<l&&(A=i[u]).type==="body";)f.push(this.renderSection(A,s,!1)),u+=1;for(;u<l&&(A=i[u]).type==="footer";)h.push(this.renderSection(A,s,!0)),u+=1;let p=!iae();const m={role:"rowgroup"};return tt("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!p&&d.length)&&tt("thead",m,...d),!!(!p&&f.length)&&tt("tbody",m,...f),!!(!p&&h.length)&&tt("tfoot",m,...h),p&&tt("tbody",m,...d,...f,...h))}renderSection(e,n,r){return"outerContent"in e?tt(Zi,{key:e.key},e.outerContent):tt("tr",{key:e.key,role:"presentation",className:Ait(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=iit(a,e),A=pae(a,e),d=a.liquid?s?"scroll":u?"auto":"hidden":"visible",f=e.key,h=ait(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[f]!==void 0?o[f]:null,clientHeight:l[f]!==void 0?l[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return tt(i?"th":"td",{ref:r.elRef,role:"presentation"},tt("div",{className:`fc-scroller-harness${A?" fc-scroller-harness-liquid":""}`},tt(nit,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:A,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let r=hit(this.props.sections,n);r&&Yu(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return cit(this.props.cols)?rit(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=krt(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,a={},s={};for(let o in n.currentMap){let l=n.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=r.currentMap[l];if(u){let A=u.parentNode;a[l]=Math.floor(A.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(A.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}mae.addStateEquality({scrollerClientWidths:Au,scrollerClientHeights:Au});function hit(t,e){for(let n of t)if(n.key===e)return n;return null}class UF extends zi{constructor(){super(...arguments),this.buildPublicEvent=Nr((e,n,r)=>new Oi(e,n,r)),this.handleEl=e=>{this.el=e,Yu(this.props.elRef,e),e&&LV(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&art(i,n),isStartResizable:!e.disableResizing&&srt(i,n),isEndResizable:!e.disableResizing&&ort(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return tt(id,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...lrt(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&LV(this.el,this.props.seg)}}class gae extends zi{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:a}=i.eventRange,s=r.eventTimeFormat||e.defaultTimeFormat,o=eae(i,s,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return tt(UF,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:tae(i,n),defaultGenerator:pit,timeText:o}),(l,u)=>tt(Zi,null,tt(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&tt("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&tt("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}gae.addPropsEquality({seg:Au});function pit(t){return tt("div",{className:"fc-event-main-frame"},t.timeText&&tt("div",{className:"fc-event-time"},t.timeText),tt("div",{className:"fc-event-title-container"},tt("div",{className:"fc-event-title fc-sticky"},t.event.title||tt(Zi,null,""))))}const mit=os({day:"numeric"});class vae extends zi{constructor(){super(...arguments),this.refineRenderProps=b2(git)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return tt(id,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":wF(e.date)}),elClasses:[...FF(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function yae(t){return!!(t.dayCellContent||Lk("dayCellContent",t))}function git(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,a=sae(e,t.todayRange,null,r),s=t.showDayNumber?n.format(e,i?t.monthStartFormat:mit):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class vit extends zi{render(){let{props:e}=this,{seg:n}=e;return tt(UF,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:yit,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function yit(t){let{title:e}=t.event;return e&&tt("div",{className:"fc-event-title"},t.event.title)}function bit(t){return tt("div",{className:`fc-${t}`})}const xit=t=>tt(Ep.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,a=r.weekNumberFormat||t.defaultFormat,s=n.computeWeekNumber(i),o=n.format(i,a),l={num:s,text:o,date:i};return tt(id,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:wit,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function wit(t){return t.text}const E4=10;class Cit extends zi{constructor(){super(...arguments),this.state={titleId:s_()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Yu(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Tie(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return Yet(tt("div",Object.assign({},r.extraAttrs,{id:r.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),tt("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},tt("span",{className:"fc-popover-title",id:i.titleId},r.title),tt("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),tt("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,a=Frt(n);if(a){let s=i.getBoundingClientRect(),o=r?io(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,E4),l=Math.min(l,document.documentElement.clientWidth-E4-s.width),l=Math.max(l,E4);let u=i.offsetParent.getBoundingClientRect();my(i,{top:o-u.top,left:l-u.left})}}}class Sit extends Bp{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:a,dateProfile:s}=r,o=n.format(i,e.dayPopoverFormat);return tt(vae,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,A)=>tt(Cit,{elRef:A.ref,id:r.id,title:o,extraClassNames:["fc-more-popover"].concat(A.className||[]),extraAttrs:A,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},yae(e)&&tt(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:a,props:s}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class Eit extends zi{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:s_()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Yu(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,a=zV(n).start;function s(o){let{def:l,instance:u,range:A}=o.eventRange;return{event:new Oi(r,l,u),start:r.dateEnv.toDate(A.start),end:r.dateEnv.toDate(A.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(s),hiddenSegs:n.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return tt(Ep.Consumer,null,r=>{let{viewApi:i,options:a,calendarApi:s}=r,{moreLinkText:o}=a,{moreCnt:l}=e,u=zV(e),A=typeof o=="function"?o.call(s,l):`+${l} ${o}`,d=gy(a.moreLinkHint,[l],A),f={num:l,shortText:`+${l}`,text:A,view:i};return tt(Zi,null,!!e.moreCnt&&tt(id,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),kie(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||_it,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),n.isPopoverOpen&&tt(Sit,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=io(this.linkEl,".fc-view-harness"))}}function _it(t){return t.text}function zV(t){if(t.allDayDate)return{start:t.allDayDate,end:cs(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Bit(e),end:jit(e)}}function Bit(t){return t.reduce(Nit).eventRange.range.start}function Nit(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function jit(t){return t.reduce(Tit).eventRange.range.end}function Tit(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Iit{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class kit extends Iit{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const Pit=[],bae={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},xae=Object.assign(Object.assign({},bae),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Dit(t){let e=t.length>0?t[0].code:"en",n=Pit.concat(t),r={en:xae};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function wae(t,e){return typeof t=="object"&&!Array.isArray(t)?Cae(t.code,[t.code],t):Oit(t,e)}function Oit(t,e){let n=[].concat(t||[]),r=Fit(n,e)||xae;return Cae(t,n,r)}function Fit(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let a=r.slice(0,i).join("-");if(e[a])return e[a]}}return null}function Cae(t,e,n){let r=EF([bae,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function If(t){return{id:Cp(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Mit(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=n[o];l===void 0?(n[o]=s.id,i(s.deps),r=Rit(r,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),r}function Lit(){let t=[],e=[],n;return(r,i)=>((!n||!gf(r,t)||!gf(i,e))&&(n=Mit(r,i)),t=r,e=i,n)}function Rit(t,e){return{premiumReleaseDate:Uit(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Uit(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class kf extends Lx{}kf.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};kf.prototype.baseIconClass="fc-icon";kf.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};kf.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};kf.prototype.iconOverrideOption="buttonIcons";kf.prototype.iconOverrideCustomButtonOption="icon";kf.prototype.iconOverridePrefix="fc-icon-";function Qit(t,e){let n={},r;for(r in t)zk(r,n,t,e);for(r in e)zk(r,n,t,e);return n}function zk(t,e,n,r){if(e[t])return e[t];let i=Hit(t,e,n,r);return i&&(e[t]=i),i}function Hit(t,e,n,r){let i=n[t],a=r[t],s=A=>i&&i[A]!==null?i[A]:a&&a[A]!==null?a[A]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=zk(l,e,n,r)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function VV(t){return Sp(t,zit)}function zit(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=$V(e):n&&!(n.prototype instanceof zi)&&(n=$V(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function $V(t){return e=>tt(Ep.Consumer,null,n=>tt(id,{elTag:"div",elClasses:Uie(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Vit(t,e,n,r){let i=VV(t),a=VV(e.views),s=Qit(i,a);return Sp(s,o=>$it(o,a,e,n,r))}function $it(t,e,n,r,i){let a=t.overrides.duration||t.defaults.duration||r.duration||n.duration,s=null,o="",l="",u={};if(a&&(s=Kit(a),s)){let f=Mk(s);o=f.unit,f.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let A=f=>{let h=f.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null},d=f=>{let h=f.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:A(r)||A(n)||t.overrides.buttonText,buttonTextDefault:A(i)||t.defaults.buttonText||A(vy)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(vy)}}let KV={};function Kit(t){let e=JSON.stringify(t),n=KV[e];return n===void 0&&(n=Pr(t),KV[e]=n),n}function Wit(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Git(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function qit(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function Yit(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Xit(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Jit(t,e,n){let r=e?e.activeRange:null;return Eae({},aat(t,n),r,n)}function Zit(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Eae(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return tat(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?_ae(t,i,r):t;case"FETCH_EVENT_SOURCES":return QF(t,e.sourceIds?Oie(e.sourceIds):Bae(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return iat(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function eat(t,e,n){let r=e?e.activeRange:null;return QF(t,Bae(t,n),r,!0,n)}function Sae(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function Eae(t,e,n,r){let i={};for(let a of e)i[a.sourceId]=a;return n&&(i=_ae(i,n,r)),Object.assign(Object.assign({},t),i)}function tat(t,e){return rp(t,n=>n.sourceId!==e)}function _ae(t,e,n){return QF(t,rp(t,r=>nat(r,e,n)),e,!1,n)}function nat(t,e,n){return Nae(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function QF(t,e,n,r,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=rat(o,n,r,i):a[s]=o}return a}function rat(t,e,n,r){let{options:i,calendarApi:a}=r,s=r.pluginHooks.eventSourceDefs[t.sourceDefId],o=Cp();return s.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function iat(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function Bae(t,e){return rp(t,n=>Nae(n,e))}function aat(t,e){let n=Gie(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let a of r){let s=Wie(a,e,n);s&&i.push(s)}return i}function Nae(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function sat(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function oat(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function lat(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function cat(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function uat(t,e,n,r,i){let a=t.headerToolbar?WV(t.headerToolbar,t,e,n,r,i):null,s=t.footerToolbar?WV(t.footerToolbar,t,e,n,r,i):null;return{header:a,footer:s}}function WV(t,e,n,r,i,a){let s={},o=[],l=!1;for(let u in t){let A=t[u],d=Aat(A,e,n,r,i,a);s[u]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Aat(t,e,n,r,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=n.buttonText||{},u=e.buttonText||{},A=n.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],p=!1;return{widgets:f.map(v=>v.split(",").map(g=>{if(g==="title")return p=!0,{buttonName:g};let y,b,C,E,N,_;if(y=o[g])C=B=>{y.click&&y.click.call(B.target,B,B.target)},(E=r.getCustomButtonIconClass(y))||(E=r.getIconClass(g,s))||(N=y.text),_=y.hint||y.text;else if(b=i[g]){h.push(g),C=()=>{a.changeView(g)},(N=b.buttonTextOverride)||(E=r.getIconClass(g,s))||(N=b.buttonTextDefault);let B=b.buttonTextOverride||b.buttonTextDefault;_=gy(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[B,g],B)}else if(a[g])if(C=()=>{a[g]()},(N=l[g])||(E=r.getIconClass(g,s))||(N=u[g]),g==="prevYear"||g==="nextYear"){let B=g==="prevYear"?"prev":"next";_=gy(A[B]||d[B],[u.year||"year","year"],u[g])}else _=B=>gy(A[g]||d[g],[u[B]||B,B],u[g]);return{buttonName:g,buttonClick:C,buttonIcon:E,buttonText:N,buttonHint:_}})),viewsWithButtons:h,hasTitle:p}}class dat{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let fat={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const hat=If({name:"array-event-source",eventSourceDefs:[fat]});let pat={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;grt(i.bind(null,nae(t.range,r)),a=>e({rawEvents:a}),n)}};const mat=If({name:"func-event-source",eventSourceDefs:[pat]}),gat={method:String,extraParams:Ze,startParam:String,endParam:String,timeZoneParam:String};let vat={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=bat(r,t.range,t.context);vrt(r.method,r.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},n)}};const yat=If({name:"json-event-source",eventSourceRefiners:gat,eventSourceDefs:[vat]});function bat(t,e,n){let{dateEnv:r,options:i}=n,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=r.formatIso(e.start),u[s]=r.formatIso(e.end),r.timeZone!=="local"&&(u[o]=r.timeZone),u}const xat={daysOfWeek:Ze,startTime:Pr,endTime:Pr,duration:Pr,startRecur:Ze,endRecur:Ze};let wat={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Ntt(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Yg(e,{start:t.startRecur,end:t.endRecur});return r?Sat(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const Cat=If({name:"simple-recurring-event",recurringTypes:[wat],eventRefiners:xat});function Sat(t,e,n,r,i){let a=t?Oie(t):null,s=Di(i.start),o=i.end,l=[];for(e&&(e.milliseconds<0?o=cs(o,1):e.milliseconds>=1e3*60*60*24&&(s=cs(s,-1)));s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=r.add(s,e):u=s,l.push(r.createMarker(n.toDate(u)))),s=cs(s,1)}return l}const Eat=If({name:"change-handler",optionChangeHandlers:{events(t,e){GV([t],e)},eventSources:GV}});function GV(t,e){let n=_F(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let a=!1;for(let s=0;s<n.length;s+=1)if(n[s]._raw===i){n.splice(s,1),a=!0;break}a||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function _at(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},nae(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Bat(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Fh(t,e))}const Nat=[hat,mat,yat,Cat,Eat,If({name:"misc",isLoadingFuncs:[t=>Sae(t.eventSources)],propSetHandlers:{dateProfile:_at,eventStore:Bat}})];class jat{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new vF(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Tat(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,os(e.titleFormat||Iat(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Iat(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=VS(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class qV{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class kat{constructor(e){this.computeCurrentViewData=Nr(this._computeCurrentViewData),this.organizeRawLocales=Nr(Dit),this.buildLocale=Nr(wae),this.buildPluginHooks=Lit(),this.buildDateEnv=Nr(Pat),this.buildTheme=Nr(Dat),this.parseToolbars=Nr(uat),this.buildViewSpecs=Nr(Vit),this.buildDateProfileGenerator=b2(Oat),this.buildViewApi=Nr(Fat),this.buildViewUiProps=b2(Rat),this.buildEventUiBySource=Nr(Mat,Au),this.buildEventUiBases=Nr(Lat),this.parseContextBusinessHours=b2(Uat),this.buildTitle=Nr(Tat),this.nowManager=new qV,this.emitter=new u_,this.actionRunner=new jat(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause(),this.nowManager=new qV;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=qit(r.calendarOptions,r.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);sf(l.activeRange,o)||(o=l.currentRange.start);for(let f of r.pluginHooks.contextInit)f(s);let u=Jit(r.calendarOptions,l,s),A={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:tu(),renderableEventStore:tu(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},d=Object.assign(Object.assign({},s),A);for(let f of r.pluginHooks.reducers)Object.assign(A,f(null,null,d));_4(A,s)&&this.emitter.trigger("loading",!0),this.state=A,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,a=Yit(r.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),o=Wit(r.currentViewType,e),l=this.computeCurrentViewData(o,s,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:A,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(A)),A=Git(A,e),d=Xit(d,e,A,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!sf(d.currentRange,A))&&(A=d.currentRange.start);let f=Zit(r.eventSources,e,d,u),h=znt(r.eventStore,e,f,d,u),m=Sae(f)&&!l.options.progressiveEventRendering&&r.renderableEventStore||h,{eventUiSingleBase:v,selectionConfig:g}=this.buildViewUiProps(u),y=this.buildEventUiBySource(f),b=this.buildEventUiBases(m.defs,v,y),C={dynamicOptionOverrides:a,currentViewType:o,currentDate:A,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:m,selectionConfig:g,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:sat(r.dateSelection,e),eventSelection:oat(r.eventSelection,e),eventDrag:lat(r.eventDrag,e),eventResize:cat(r.eventResize,e)},E=Object.assign(Object.assign({},u),C);for(let B of s.pluginHooks.reducers)Object.assign(C,B(r,e,E));let N=_4(r,u),_=_4(C,u);!N&&_?i.trigger("loading",!0):N&&!_&&i.trigger("loading",!1),this.state=C,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),n),o=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(n.eventSources=s.eventSources=eat(s.eventSources,n.dateProfile,s),n.eventStore=s.eventStore=OV(s.eventStore,r.dateEnv,s.dateEnv),n.renderableEventStore=s.renderableEventStore=OV(s.renderableEventStore,r.dateEnv,s.dateEnv));for(let A in o)(this.optionsForHandling.indexOf(A)!==-1||l[A]!==u[A])&&o[A](u[A],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,n);YV(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),A=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(i,a),f=this.parseToolbars(i,this.stableOptionOverrides,d,A,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:A,theme:d,toolbarConfig:f,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=v4([vy,e,n]),a=this.organizeRawLocales(r),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Nat),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NV),jV),TV),l.listenerRefiners),l.optionRefiners),A={},d=v4([vy,o,e,n]),f={},h=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===h[v]||nh[v]&&v in h&&nh[v](h[v],d[v]))?f[v]=p[v]:u[v]?(f[v]=u[v](d[v]),m=!0):A[v]=h[v];return m&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:A}}_computeCurrentViewData(e,n,r,i){let a=n.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,r,i);YV(o),this.nowManager.handleInput(n.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,n,r,i,a){let s=v4([vy,e.optionDefaults,r,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NV),jV),TV),snt),n.listenerRefiners),n.optionRefiners),l={},u=this.currentViewOptionsInput,A=this.currentViewOptionsRefined,d=!1,f={};for(let h in s)s[h]===u[h]||nh[h]&&nh[h](s[h],u[h])?l[h]=A[h]:(s[h]===this.currentCalendarOptionsInput[h]||nh[h]&&nh[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(l[h]=this.currentCalendarOptionsRefined[h]):o[h]?l[h]=o[h](s[h]):f[h]=s[h],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function Pat(t,e,n,r,i,a,s,o){let l=wae(e||s.defaultCode,s.map);return new gnt({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function Dat(t,e){let n=e.themeClasses[t.themeSystem]||kf;return new n(t)}function Oat(t){let e=t.dateProfileGeneratorClass||zie;return new e(t)}function Fat(t,e,n){return new dat(t,e,n)}function Mat(t){return Sp(t,e=>e.ui)}function Lat(t,e,n){let r={"":e};for(let i in t){let a=t[i];a.sourceId&&n[a.sourceId]&&(r[i]=n[a.sourceId])}return r}function Rat(t){let{options:e}=t;return{eventUiSingleBase:YS({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:YS({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function _4(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function Uat(t){return Jnt(t.options.businessHours,t)}function YV(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class Qat extends zi{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return tt("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:A,buttonHint:d}=s;if(o==="title")a=!1,i.push(tt("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=o===n.activeButton,h=!n.isTodayEnabled&&o==="today"||!n.isPrevEnabled&&o==="prev"||!n.isNextEnabled&&o==="next",p=[`fc-${o}-button`,r.getClass("button")];f&&p.push(r.getClass("buttonActive")),i.push(tt("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:h,"aria-pressed":f,className:p.join(" "),onClick:l},u||(A?tt("span",{className:A,role:"img"}):"")))}}if(i.length>1){let s=a&&r.getClass("buttonGroup")||"";return tt("div",{className:s},...i)}return i[0]}}class XV extends zi{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(r=!0,i=s.left):i=s.start,s.right?(r=!0,a=s.right):a=s.end,tt("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,n){let{props:r}=this;return tt(Qat,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Hat extends zi{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Yu(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return r?n.availableWidth!==null?a=n.availableWidth/r:s=`${1/r*100}%`:a=e.height||"",tt("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class zat extends I0{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:a}=i,s=Xg(r);if(s&&i.isValidSegDownEl(n.target)){let o=io(n.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:r,event:new Oi(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:a.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=Iie(e.el,"click",".fc-event",this.handleSegClick)}}class Vat extends I0{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Xg(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=ftt(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:a}=i,s=Xg(r);(!n||i.isValidSegDownEl(n.target))&&a.emitter.trigger(e,{el:r,event:new Oi(a,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:a.viewApi})}}class $at extends _p{constructor(){super(...arguments),this.buildViewContext=Nr(bnt),this.buildViewPropTransformers=Nr(Wat),this.buildToolbarProps=Nr(Kat),this.headerRef=YA(),this.footerRef=YA(),this.interactionsStore={},this.state={viewLabelId:s_()},this.registerInteractiveComponent=(e,n)=>{let r=xrt(e,n),s=[zat,Vat].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(r));this.interactionsStore[e.uid]=s,Qk[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete Qk[e.uid]},this.resizeRunner=new vF(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":r.height!=null?i=!0:r.contentHeight!=null?a=r.contentHeight:s=Math.max(r.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return tt(Ep.Provider,{value:o},tt(A_,{unit:"day"},u=>{let A=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return tt(Zi,null,n.header&&tt(XV,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},A)),tt(Hat,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&tt(XV,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},A)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return tt(Zi,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=r.component;return tt(s,Object.assign({},i))}}function Kat(t,e,n,r,i,a){let s=n.build(i,void 0,!1),o=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!sf(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function Wat(t){return t.map(e=>new e)}class Gat extends Crt{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;GS(()=>{Kb(tt(brt,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),tt(Rie.Provider,{value:this.customContentRenderId},tt($at,Object.assign({isHeightAuto:s,forPrint:o},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Kb(null,this.el),this.setClassNames([]),this.setHeight(""))},itt(e),this.el=e,this.renderRunner=new vF(this.handleRenderRequest),new kat({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){GS(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!gf(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){jie(this.el,"height",e)}}const qat=parseInt(String(be.version).split(".")[0]),Yat=qat<18;class HF extends P.Component{constructor(){super(...arguments),this.elRef=P.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(be.createElement(Xat,{key:n.id,customRendering:n}));return be.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new kit;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Gat(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ly.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),a=!n;(Yat||a||this.isUpdating||this.isUnmounting||i-n<100?jae:Ly.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}HF.act=jae;class Xat extends P.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Ly.createPortal(r,e.containerEl)}}function jae(t){t()}class Jat extends Bp{constructor(){super(...arguments),this.headerElRef=YA()}renderSimpleLayout(e,n){let{props:r,context:i}=this,a=[],s=HV(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),tt(IV,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},tt(mae,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,n,r,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&HV(o.options),u=!s.forPrint&&fit(o.options),A=[];return e&&A.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),A.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&A.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:dit}]}),tt(IV,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},tt(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:A}))}}function w2(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Pw(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function JV(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const Tae=os({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Iae(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class kae extends zi{render(){let{props:e}=this;return tt(gae,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Tae,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Pae extends zi{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,a=r.eventTimeFormat||Tae,s=eae(i,a,n,!0,e.defaultDisplayEventEnd);return tt(UF,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:tae(e.seg,n),defaultGenerator:Zat,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function Zat(t){return tt(Zi,null,tt("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&tt("div",{className:"fc-event-time"},t.timeText),tt("div",{className:"fc-event-title"},t.event.title||tt(Zi,null,"")))}class est extends zi{constructor(){super(...arguments),this.compileSegs=Nr(tst)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return tt(Eit,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return tt(Zi,null,n.map(a=>{let s=a.eventRange.instance.instanceId;return tt("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},Iae(a)?tt(Pae,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},yy(a,e.todayRange))):tt(kae,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},yy(a,e.todayRange))))}))}})}}function tst(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const nst=os({week:"narrow"});class rst extends Bp{constructor(){super(...arguments),this.rootElRef=YA(),this.state={dayNumberId:s_()},this.handleRootEl=e=>{Yu(this.rootElRef,e),Yu(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=n;const u=n.showDayNumber&&ast(o,l.currentRange,s);return tt(vae,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:ist,date:o,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(A,d)=>tt("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&tt(xit,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Hk(e,o,"week"),date:o,defaultFormat:nst}),!d.isDisabled&&(n.showDayNumber||yae(a)||n.forceDayTop)?tt("div",{className:"fc-daygrid-day-top"},tt(A,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Hk(e,o)),{id:r.dayNumberId})})):n.showDayNumber?tt("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},tt("a",{className:"fc-daygrid-day-number"},"")):void 0,tt("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,tt("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},tt(est,{allDayDate:o,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),tt("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function ist(t){return t.dayNumberText||tt(Zi,null,"")}function ast(t,e,n){const{start:r,end:i}=e,a=vf(i,-1),s=n.getYear(r),o=n.getMonth(r),l=n.getYear(a),u=n.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function Dae(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function Oae(t){return Dae(t)+":"+t.lastCol}function sst(t,e,n,r,i,a,s){let o=new cst(g=>{let y=t[g.index].eventRange.instance.instanceId+":"+g.span.start+":"+(g.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=r,e===!0||n===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof n=="number"&&(o.maxStackCnt=n,o.hiddenConsumes=!0);let l=[],u=[];for(let g=0;g<t.length;g+=1){let y=t[g],b=Oae(y);i[b]!=null?l.push({index:g,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let A=o.addSegs(l),d=o.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:p}=ost(d,t,s),m=[],v=[];for(let g of u){h[g.firstCol].push({seg:g,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=g.firstCol;y<=g.lastCol;y+=1)f[y].push({seg:qm(g,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<s.length;g+=1)m.push(0);for(let g of A){let y=t[g.index],b=g.span;h[b.start].push({seg:qm(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=b.start;C<b.end;C+=1)m[C]+=1,f[C].push({seg:qm(y,C,C+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<s.length;g+=1)v.push(p[g]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:m,moreMarginTops:v}}function ost(t,e,n){let r=lst(t,n.length),i=[],a=[],s=[];for(let o=0;o<n.length;o+=1){let l=r[o],u=[],A=0,d=0;for(let h of l){let p=e[h.index];u.push({seg:qm(p,o,o+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-A}),A=h.levelCoord+h.thickness}let f=[];A=0,d=0;for(let h of l){let p=e[h.index],m=h.span.end-h.span.start>1,v=h.span.start===o;d+=h.levelCoord-A,A=h.levelCoord+h.thickness,m?(d+=h.thickness,v&&f.push({seg:qm(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):v&&(f.push({seg:qm(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}i.push(u),a.push(f),s.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function lst(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function qm(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,a=i.range,s=Yg(a,{start:r[e].date,end:cs(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class cst extends Rrt{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=a=>!this.forceHidden[by(a)];for(let a=0;a<r.length;a+=1)r[a]=r[a].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=by(s);if(!a[u])if(this.allowReslicing){const A=Object.assign(Object.assign({},s),{span:cae(s.span,n.span)}),d=by(A);a[d]=!0,i[o][l]=A,r.push(A),this.splitEntry(s,n,r)}else a[u]=!0,r.push(s)}super.handleInvalidInsertion(e,n,r)}}class Fae extends Bp{constructor(){super(...arguments),this.cellElRefs=new bh,this.frameElRefs=new bh,this.fgElRefs=new bh,this.segHarnessRefs=new bh,this.rootElRef=YA(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,a=e.cells.length,s=Pw(e.businessHourSegs,a),o=Pw(e.bgEventSegs,a),l=Pw(this.getHighlightSegs(),a),u=Pw(this.getMirrorSegs(),a),{singleColPlacements:A,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=sst(rrt(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return tt("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,v)=>{let g=this.renderFgSegs(v,e.forPrint?A[v]:d[v],e.todayRange,p),y=this.renderFgSegs(v,ust(u[v],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return tt(rst,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:f[v],moreMarginTop:h[v],singlePlacements:A[v],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:tt(Zi,null,tt(Zi,null,g),tt(Zi,null,y)),bgContent:tt(Zi,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Au(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:A}=this.state,d=this.props.cells.length===1,f=a||s||o,h=[];if(A)for(let p of n){let{seg:m}=p,{instanceId:v}=m.eventRange.instance,g=p.isVisible&&!i[v],y=p.isAbsolute,b="",C="";y&&(l.isRtl?(C=0,b=A.lefts[m.lastCol]-A.lefts[m.firstCol]):(b=0,C=A.rights[m.firstCol]-A.rights[m.lastCol])),h.push(tt("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:Dae(m),ref:f?null:this.segHarnessRefs.createRef(Oae(m)),style:{visibility:g?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:b,right:C}},Iae(m)?tt(Pae,Object.assign({seg:m,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:d},yy(m,r))):tt(kae,Object.assign({seg:m,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:d},yy(m,r)))))}return h}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=r?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(tt("div",{key:crt(o.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?tt(vit,Object.assign({seg:o},yy(o,i))):bit(n)))}return tt(Zi,{},...s)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,A=new JS(u,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(A))&&this.setState({framePositions:new JS(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}Fae.addStateEquality({segHeights:Au});function ust(t,e){if(!t.length)return[];let n=Ast(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function Ast(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class dst extends Bp{constructor(){super(...arguments),this.splitBusinessHourSegs=Nr(w2),this.splitBgEventSegs=Nr(fst),this.splitFgEventSegs=Nr(w2),this.splitDateSelectionSegs=Nr(w2),this.splitEventDrag=Nr(JV),this.splitEventResize=Nr(JV),this.rowRefs=new bh}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitFgEventSegs(e.fgEventSegs,r),o=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),A=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return tt(A_,{unit:"day"},(d,f)=>tt(Zi,null,e.cells.map((h,p)=>tt(Fae,{ref:this.rowRefs.createRef(p),key:h.length?h[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:a[p],fgEventSegs:s[p],dateSelectionSegs:o[p],eventDrag:l[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:A,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new JS(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new JS(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,a=r.leftToIndex(e),s=i.topToIndex(n);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:r.lefts[a],right:r.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=cs(r,1);return{start:r,end:i}}}function fst(t,e){return w2(t.filter(hst),e)}function hst(t){return t.eventRange.def.allDay}class pst extends Bp{constructor(){super(...arguments),this.elRef=YA(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,a=r===!0||n===!0;a&&!i&&(a=!1,n=null,r=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return tt("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},tt("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,tt("tbody",{role:"presentation"},tt(dst,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=mst(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function mst(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Vtt(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${wF(e.currentDate)}"]`)),n}class gst extends qrt{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class vst extends Bp{constructor(){super(...arguments),this.slicer=new gst,this.tableRef=YA()}render(){let{props:e,context:n}=this;return tt(pst,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class yst extends Jat{constructor(){super(...arguments),this.buildDayTableModel=Nr(bst),this.headerRef=YA(),this.tableRef=YA()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),a=e.dayHeaders&&tt($rt,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>tt(vst,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function bst(t,e){let n=new Wrt(t.renderRange,e);return new Grt(n,/year|month|week/.test(t.currentRangeUnit))}class xst extends zie{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:a}=this;return wst({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function wst(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,a;if(t.snapToWeek&&(r=e.startOfWeek(r),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=CV(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(cs(n.end,-1))),o=Math.ceil(ktt(s,i));i=CV(i,6-o)}return{start:r,end:i}}var Cst=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';_ie(Cst);var Mae=If({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:yst,dateProfileGeneratorClass:xst},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),Lae={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Ao",month:"Mes",week:"Semana",day:"Da",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today(t){return t==="Da"?"Hoy":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Vista "+(t==="Semana"?"de la":"del")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el da",moreLinkText:"ms",moreLinkHint(t){return`Mostrar ${t} eventos ms`},noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"};const Sst=(t,e)=>{const n=[],r=new Date,i=r.getFullYear();return t.forEach(a=>{const s=a.category==="Tratamiento"?"#007AFF":"#AF52DE";if(e==="Maternidad"&&a.trigger.type==="age"&&a.trigger.days)a.trigger.days.forEach(o=>{const l=new Date;l.setDate(r.getDate()+o),n.push({title:a.name,start:l,backgroundColor:s,borderColor:s})});else if(e==="Adultos"&&a.trigger.type==="fixed_date_period"&&a.trigger.month&&a.trigger.week){const o=(a.trigger.week-1)*7+1,l=new Date(i,a.trigger.month-1,o);n.push({title:a.name,start:l,backgroundColor:s,borderColor:s})}}),n},Est=({isOpen:t,onClose:e,activities:n,targetGroup:r})=>{const i=be.useMemo(()=>Sst(n,r),[n,r]);return c.jsx(fn,{isOpen:t,onClose:e,title:"",children:c.jsxs(Ji.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-2xl mx-auto p-4 sm:p-0",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white leading-none",children:"Previsualizacin del Plan"}),c.jsx("p",{className:"text-zinc-400 mt-2",children:r==="Maternidad"?"Este calendario simula las fechas de las actividades asumiendo un nacimiento el da de hoy.":"Este calendario muestra la distribucin de las actividades a lo largo del ao actual."})]}),c.jsx("div",{className:"h-[55vh] sm:h-[60vh] text-white",children:c.jsx(HF,{plugins:[Mae],initialView:"dayGridMonth",locale:Lae,events:i,height:"100%",headerToolbar:{left:"prev,next",center:"title",right:"today"}})}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx("button",{onClick:e,className:"px-6 py-3 bg-brand-blue text-white font-bold rounded-xl w-full sm:w-auto",children:"Cerrar"})})]})})},_st=({targetGroup:t,activityType:e,onSaveActivity:n,existingActivity:r,clearEditing:i})=>{const{products:a,addProduct:s}=en(),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(!1),[m,v]=P.useState(null),[g,y]=P.useState(new Set),[b,C]=P.useState(""),[E,N]=P.useState(null),_=["0","8","15","21","30","45","60","75","90","105","120"],O=e==="Control"?t==="Maternidad"?["Cura de Ombligo","Descorne","Castracin","Hematologa","Coprologa","FAMACHA"]:["Hematologa","Coprologa","Arreglo Podal","FAMACHA"]:t==="Maternidad"?["Coxidioesttico","Desparasitacin","Vacuna Clostridial"]:["Desparasitacin","Vacuna Leptospirosis","Vacuna Clostridial","Vacuna Rabia"],F=P.useMemo(()=>a.reduce((te,ue)=>{const R=ue.category||"Otro";return te[R]||(te[R]=[]),te[R].push(ue),te},{}),[a]);P.useEffect(()=>{r?(l(r.name),e==="Tratamiento"&&(A(r.productId||""),f(r.complementaryProductId||"")),t==="Maternidad"&&r.trigger.days&&y(new Set(r.trigger.days.map(String))),t==="Adultos"&&r.trigger.month&&r.trigger.week&&y(new Set([`${r.trigger.month}-${r.trigger.week}`]))):H()},[r,e,t]);const H=()=>{l(""),A(""),f(""),y(new Set),C(""),v(null),i()},Y=te=>{te.trim()&&y(ue=>{const R=new Set(ue);return R.has(te)?R.delete(te):R.add(te),R})},q=()=>{b&&!isNaN(Number(b))&&(Y(b),C(""))},Z=async te=>{await s(te),p(!1)},W=()=>{if(v(null),!o.trim()){v("El nombre es obligatorio.");return}if(e==="Tratamiento"&&!u){v("Debe seleccionar un producto principal.");return}if(g.size===0){v("Debe seleccionar al menos un tiempo de aplicacin.");return}const te=[],ue={category:e,name:o};if(e==="Tratamiento"&&(u&&(ue.productId=u),d&&(ue.complementaryProductId=d)),t==="Maternidad"){const R={type:"age",days:Array.from(g).map(Number).sort(($,J)=>$-J)};te.push({...ue,trigger:R})}else Array.from(g).forEach(R=>{const[$,J]=R.split("-").map(Number),ne={type:"fixed_date_period",month:$,week:J};te.push({...ue,trigger:ne})});te.forEach(R=>n(R,!!r)),H()},oe=Array.from(g).filter(te=>!_.includes(te));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Aadir ",e]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{list:"activity-names-list",value:o,onChange:te=>l(te.target.value),placeholder:`Nombre del ${e}...`,className:"w-full bg-zinc-800 p-3 rounded-lg text-base"}),c.jsx("datalist",{id:"activity-names-list",children:O.map(te=>c.jsx("option",{value:te},te))}),e==="Control"&&c.jsx("button",{type:"button",onClick:()=>alert("Funcionalidad para crear nuevos tipos de control en desarrollo."),className:"flex-shrink-0 p-3 bg-brand-orange/80 text-white rounded-lg",children:c.jsx(pc,{size:20})})]}),e==="Tratamiento"&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:u,onChange:te=>A(te.target.value),className:"w-full bg-zinc-800 p-3 rounded-lg text-base appearance-none",children:[c.jsx("option",{value:"",disabled:!0,children:"Producto Principal..."}),Object.entries(F).map(([te,ue])=>c.jsx("optgroup",{label:te,children:ue.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))},te))]}),c.jsx("button",{type:"button",onClick:()=>p(!0),className:"flex-shrink-0 p-3 bg-brand-orange text-white rounded-lg",children:c.jsx(pc,{size:20})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d,onChange:te=>f(te.target.value),className:"w-full bg-zinc-800 p-3 rounded-lg text-base appearance-none",children:[c.jsx("option",{value:"",children:"Producto Complementario (Opcional)..."}),Object.entries(F).map(([te,ue])=>c.jsx("optgroup",{label:te,children:ue.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))},te))]}),c.jsx("button",{type:"button",onClick:()=>p(!0),className:"flex-shrink-0 p-3 bg-brand-orange/50 text-white rounded-lg",children:c.jsx(pc,{size:20})})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-base font-medium text-zinc-400",children:"Tiempos de Aplicacin (Selecciona uno o varios)"}),t==="Maternidad"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.map(te=>c.jsx("button",{type:"button",onClick:()=>Y(te),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${g.has(te)?"bg-zinc-200 text-black":"bg-zinc-700 text-zinc-300"}`,children:te==="0"?"Nacimiento":`${te} das`},te)),oe.map(te=>c.jsxs("button",{type:"button",onClick:()=>Y(te),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-semibold rounded-lg bg-zinc-200 text-black",children:[te," das ",c.jsx(qo,{size:16})]},`manual-${te}`))]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("input",{type:"number",value:b,onChange:te=>C(te.target.value),placeholder:"Da manual...",className:"w-full bg-zinc-800 p-3 rounded-lg text-base"}),c.jsx("button",{type:"button",onClick:q,className:"px-5 py-3 bg-zinc-700 text-white font-semibold rounded-lg text-sm hover:bg-zinc-600",children:"Agregar"})]})]}):c.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg",children:c.jsx(t2,{mode:"wait",children:E?c.jsxs(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>N(null),className:"p-2 text-zinc-400 hover:bg-zinc-700 rounded-md",children:c.jsx(Ni,{size:16})}),c.jsx("h4",{className:"font-bold text-white",children:new Date(0,E-1).toLocaleString("es-VE",{month:"long"})})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(te=>{const ue=`${E}-${te}`,R=g.has(ue);return c.jsxs("button",{type:"button",onClick:()=>Y(ue),className:`py-3 px-2 text-sm font-semibold rounded-md transition-colors ${R?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:["Semana ",te]},te)})})]},"weeks-view"):c.jsx(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-4 gap-2",children:[...Array(12)].map((te,ue)=>{const R=ue+1,$=new Date(0,ue).toLocaleString("es-VE",{month:"short"}),J=Array.from(g).some(ne=>ne.startsWith(`${R}-`));return c.jsxs("button",{type:"button",onClick:()=>N(R),className:"relative text-center py-3 px-2 text-sm font-semibold rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-300 transition-colors",children:[J&&c.jsx("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-brand-green rounded-full"}),$.charAt(0).toUpperCase()+$.slice(1)]},R)})},"months-view")})})]}),m&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2",children:[c.jsx(gr,{size:16})," ",m]}),c.jsx("button",{type:"button",onClick:W,className:"w-full py-3 bg-brand-orange text-black font-bold rounded-lg text-base mt-4",children:r?"Actualizar Actividad":"Aadir a la Lista"}),c.jsx(fn,{isOpen:h,onClose:()=>p(!1),title:"Crear Producto",children:c.jsx(mF,{onSave:Z,onCancel:()=>p(!1)})})]})},Bst=({onSave:t,onCancel:e})=>{const[n,r]=P.useState(1),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState("Maternidad"),[A,d]=P.useState(new Set),[f,h]=P.useState([]),[p,m]=P.useState(null),[v,g]=P.useState(null),[y,b]=P.useState(!1),[C,E]=P.useState("Tratamiento"),[N,_]=P.useState(!1),B=["Cabritonas","Cabras","Reproductores","Machos de Levante"],j=H=>{d(Y=>{const q=new Set(Y);return q.has(H)?q.delete(H):q.add(H),q})},D=(H,Y)=>{h(Y&&p?q=>q.map(Z=>Z.tempId===p.tempId?{...H,tempId:Z.tempId}:Z):q=>[...q,{...H,tempId:Date.now()}])},k=H=>{h(Y=>Y.filter(q=>q.tempId!==H))},O=async()=>{if(!i.trim()){g("El nombre del plan es obligatorio.");return}if(l==="Adultos"&&A.size===0){g("Debe seleccionar al menos una categora de adulto.");return}if(f.length===0){g("Debe aadir al menos una actividad al plan.");return}g(null),b(!0);try{const H=f.map(({tempId:q,...Z})=>Z),Y={name:i,description:s,targetGroup:l,adultsSubgroup:l==="Adultos"?Array.from(A):void 0};await t(Y,H)}catch{g("No se pudo guardar el plan."),b(!1)}},F=()=>n===1?c.jsxs(Ji.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Crear Plan Sanitario"}),c.jsx("p",{className:"text-zinc-400",children:"Paso 1: Define tu plan"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:"Nombre del Plan",className:"w-full bg-zinc-800 p-3 rounded-xl text-base"}),c.jsx("input",{type:"text",value:s,onChange:H=>o(H.target.value),placeholder:"Descripcin (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-base"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-base font-medium text-zinc-400 mb-2 block",children:"Grupo Objetivo"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>u("Maternidad"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${l==="Maternidad"?"bg-teal-500/20 border-teal-500 scale-105":"bg-zinc-800/50 border-zinc-700"}`,children:[c.jsx(fme,{className:"w-8 h-8 text-teal-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Maternidad"})]}),c.jsxs("button",{type:"button",onClick:()=>u("Adultos"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${l==="Adultos"?"bg-pink-500/20 border-pink-500 scale-105":"bg-zinc-800/50 border-zinc-700"}`,children:[c.jsx(mme,{className:"w-8 h-8 text-pink-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Rebao Adulto"})]})]})]})]}),v&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2 mt-4",children:[c.jsx(gr,{size:16})," ",v]}),c.jsxs("div",{className:"flex flex-col sm:flex-row-reverse sm:justify-start gap-3 pt-4",children:[c.jsx("button",{onClick:()=>{i.trim()?(r(2),g(null)):g("El nombre del plan es obligatorio.")},className:"w-full sm:w-auto px-5 py-3 bg-brand-orange text-black font-bold rounded-xl flex items-center justify-center gap-2",children:"Siguiente"}),c.jsx("button",{onClick:e,className:"w-full sm:w-auto px-5 py-3 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-xl",children:"Cancelar"})]})]},"step1"):n===2?c.jsxs(Ji.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:i||"Nuevo Plan"}),c.jsxs("p",{className:"text-zinc-400",children:["Paso 2: Aade las actividades para el grupo: ",c.jsx("span",{className:"font-semibold text-white",children:l})]})]}),c.jsx(t2,{children:l==="Adultos"&&c.jsxs(Ji.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[c.jsx("label",{className:"text-base font-medium text-zinc-400 mb-2 block",children:"Categoras (Selecciona una o varias)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(H=>c.jsx("button",{type:"button",onClick:()=>j(H),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${A.has(H)?"bg-pink-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:H},H))})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-xl font-semibold text-zinc-300",children:["Actividades del Plan (",f.length,")"]}),c.jsx("div",{className:"min-h-[100px] max-h-60 overflow-y-auto pr-2 border border-brand-border rounded-xl p-2 space-y-2",children:c.jsx(t2,{children:f.length>0?f.map(H=>{var Y;return c.jsxs(Ji.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`flex justify-between items-center bg-zinc-800 p-3 rounded-lg border-l-4 ${H.category==="Tratamiento"?"border-blue-500":"border-purple-500"}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:H.name}),c.jsxs("p",{className:"text-xs text-zinc-400",children:[((Y=H.trigger.days)==null?void 0:Y.map(q=>q===0?"Nacer":q).join(", "))||"Tiempos no definidos"," das"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>m({activity:H,tempId:H.tempId}),className:"p-1 text-zinc-400 hover:text-brand-orange",children:c.jsx(Cf,{size:16})}),c.jsx("button",{onClick:()=>k(H.tempId),className:"p-1 text-zinc-400 hover:text-brand-red",children:c.jsx(Sc,{size:16})})]})]},H.tempId)}):c.jsx("div",{className:"text-center py-6 text-zinc-500",children:c.jsx("p",{children:"Aade actividades para empezar a construir tu plan."})})})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"relative flex w-full max-w-sm mx-auto justify-between rounded-lg bg-zinc-800 p-1 mb-6",children:[c.jsxs("button",{type:"button",onClick:()=>E("Tratamiento"),className:"relative z-10 w-1/2 py-2 text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(pme,{})," Tratamiento"]}),c.jsxs("button",{type:"button",onClick:()=>E("Control"),className:"relative z-10 w-1/2 py-2 text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(hme,{})," Control"]}),c.jsx(Ji.div,{layoutId:"add-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${C==="Control"?"left-1/2":"left-1"}`})]}),c.jsx(_st,{targetGroup:l,activityType:C,onSaveActivity:D,existingActivity:p?p.activity:null,clearEditing:()=>m(null)})]}),v&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2 mt-4",children:[c.jsx(gr,{size:16})," ",v]}),c.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between items-center pt-6 gap-4",children:[c.jsxs("button",{onClick:()=>r(1),className:"w-full sm:w-auto px-5 py-3 text-zinc-300 font-semibold rounded-xl flex items-center justify-center gap-2 hover:bg-zinc-700",children:[c.jsx(Ni,{size:16})," Atrs"]}),c.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>_(!0),className:"flex-1 px-5 py-3 bg-brand-blue text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[c.jsx(Dpe,{size:16})," Previsualizar"]}),c.jsx("button",{onClick:O,disabled:y,className:"flex-1 px-5 py-3 bg-brand-green text-white font-bold rounded-xl flex items-center justify-center gap-2 disabled:opacity-50",children:y?"Guardando...":c.jsxs(c.Fragment,{children:[c.jsx(us,{size:16})," Guardar"]})})]})]})]},"step2"):null;return c.jsxs("div",{className:"w-full p-4",children:[c.jsx(t2,{mode:"wait",children:F()}),c.jsx(Est,{isOpen:N,onClose:()=>_(!1),activities:f,targetGroup:l})]})},Nst=({plan:t,onClick:e,onDelete:n,isDeleting:r})=>{const i=dp(),a=P.useRef(!1),s=(o,l)=>{const u=l.offset.x,A=l.velocity.x;if(Math.abs(u)<5&&!a.current){e();return}u<-80/2||A<-500?i.start({x:-80}):i.start({x:0}),setTimeout(()=>{a.current=!1},100)};return c.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl bg-dashboard-surface border border-brand-border transition-opacity ${r?"opacity-50":"opacity-100"}`,children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("button",{onClick:n,onPointerDown:o=>o.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white transition-colors hover:bg-red-600",children:[c.jsx(Sc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{a.current=!0},onDragEnd:s,onTap:()=>{!a.current&&!r&&e()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),c.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:t.description||`Plan para ${t.targetGroup}`})]}),r?c.jsx(iu,{className:"animate-spin text-zinc-400"}):c.jsx(ea,{className:"text-zinc-600"})]})})]})};function jst({navigateTo:t}){const{healthPlans:e,deleteHealthPlan:n,addHealthPlanWithActivities:r}=en(),[i,a]=P.useState(!1),[s,o]=P.useState(null),[l,u]=P.useState(null),A=async(f,h)=>{await r(f,h),a(!1)},d=async()=>{if(s!=null&&s.id){u(s.id),o(null);try{await n(s.id)}catch(f){console.error("Error al eliminar el plan:",f)}finally{u(null)}}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Planificador Sanitario"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus Protocolos y Planes"})]}),c.jsxs("button",{onClick:()=>a(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:opacity-90 text-black font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(ba,{size:18})," Crear Nuevo Plan Sanitario"]}),c.jsx("div",{className:"space-y-3 pt-4",children:e.length>0?e.map(f=>c.jsx(Nst,{plan:f,onClick:()=>t({name:"plan-detail",planId:f.id}),onDelete:()=>o(f),isDeleting:l===f.id},f.id)):c.jsxs("div",{className:"text-center py-10 bg-dashboard-surface rounded-2xl flex flex-col items-center gap-4",children:[c.jsx(kD,{size:48,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold",children:"An no has creado ningn plan."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:"Usa el botn de arriba para empezar."})]})})]}),c.jsx(fn,{isOpen:i,onClose:()=>a(!1),title:"",children:c.jsx(Bst,{onSave:A,onCancel:()=>a(!1)})}),c.jsx(_0,{isOpen:!!s,onClose:()=>o(null),onConfirm:d,title:`Eliminar Plan "${s==null?void 0:s.name}"`,message:"Ests seguro? Al eliminar el plan, tambin se eliminarn todas sus actividades asociadas. Esta accin no se puede deshacer."})]})}RF.touchMouseIgnoreWait=500;let Vk=0,ZS=0,$k=!1;class Rae{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Tst(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Ist()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new u_,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),kst()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Pst()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||io(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){$k=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?io(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Vk||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&($k=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,a,s=0,o=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),n?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function Tst(t){return t.button===0&&!t.ctrlKey}function Ist(){Vk+=1,setTimeout(()=>{Vk-=1},RF.touchMouseIgnoreWait)}function kst(){ZS+=1,ZS===1&&window.addEventListener("touchmove",Uae,{passive:!1})}function Pst(){ZS-=1,ZS||window.removeEventListener("touchmove",Uae,{passive:!1})}function Uae(t){$k&&t.preventDefault()}class Dst{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",my(r,{left:i.left,top:i.top}),htt(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(yF(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&my(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),my(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class Qae extends LF{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Hae extends Qae{constructor(e,n){super(new Mrt(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Ort(this.scrollController.el)}}class Ost extends Qae{constructor(e){super(new Lrt,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const ZV=typeof performance=="function"?performance.now:Date.now;class Fst{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=ZV();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ZV()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*n,o=1;switch(e.name){case"left":o=-1;case"right":r.setScrollLeft(r.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":r.setScrollTop(r.getScrollTop()+s*o);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,A=n-o.top,d=o.bottom-n;l>=0&&u>=0&&A>=0&&d>=0&&(A<=r&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>A)&&(i={scrollCache:s,name:"top",distance:A}),d<=r&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=r&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Ost(!1):new Hae(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Rx extends Urt{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,ptt(document.body),gtt(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,mtt(document.body),vtt(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new Rae(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Dst,this.autoScroller=new Fst}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Mst{constructor(e){this.el=e,this.origRect=MF(e),this.scrollCaches=lae(e).map(n=>new Hae(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Lst(i.getEventTarget())&&!Srt(r,i.clientRect))return!1;return!0}}function Lst(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class d_{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new u_}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,a;i instanceof HTMLElement&&(a=MF(i),r=Ert(r,a));let s=this.initialHit=this.queryHitForOffset(r.left,r.top);if(s){if(this.useSubjectCenter&&a){let o=aae(a,s.rect);o&&(r=_rt(o))}this.coordAdjust=Brt(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!f_(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Sp(this.droppableStore,e=>(e.component.prepareHits(),new Mst(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,a=null;for(let s in r){let o=r[s].component,l=i[s];if(l&&l.isWithinClipping(e,n)){let u=l.computeLeft(),A=l.computeTop(),d=e-u,f=n-A,{origRect:h}=l,p=h.right-h.left,m=h.bottom-h.top;if(d>=0&&d<p&&f>=0&&f<m){let v=o.queryHit(d,f,p,m);v&&l_(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+u-window.scrollX,f+A-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=A,v.rect.bottom+=A,a=v)}}}return a}}function f_(t,e){return!t&&!e?!0:!!t!=!!e?!1:frt(t.dateSpan,e.dateSpan)}function zae(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Rst(t,e.dateEnv)),n}function Rst(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Ust extends I0{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,a=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&f_(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},zae(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Rx(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new d_(this.dragging,OF(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Qst extends I0{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,A=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!A),l.delay=s.isTouch?Hst(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,A=!1;if(s){let d=this.hitDragging.initialHit;s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(u=zst(d,s,l.pluginHooks.dateSelectionTransformers)),(!u||!Yrt(u,s.dateProfile,l))&&(A=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),A?bF():xF(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(Xie(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Rx(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new d_(this.dragging,OF(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Hst(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function zst(t,e,n){let r=t.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(Ctt);let s={};for(let o of n){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}class Ux extends I0{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:A}=u,{options:d}=l.context,f=l.context;this.subjectEl=s.subjectEl;let h=this.subjectSeg=Xg(s.subjectEl),m=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=IF(f.getCurrentData().eventStore,m),u.minDistance=s.isTouch?0:d.eventDragMinDistance,u.delay=s.isTouch&&m!==l.props.eventSelection?$st(l):null,d.fixedMirrorParent?A.parentNode=d.fixedMirrorParent:A.parentNode=io(o,".fc"),A.revertDuration=d.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!io(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Oi(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,A=this.component.context,d=null,f=null,h=null,p=!1,m={affectedEvents:l,mutatedEvents:tu(),isEvent:!0};if(s){d=s.context;let v=d.options;A===d||v.editable&&v.droppable?(f=Vst(u,s,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=DF(l,d.getCurrentData().eventUiBases,f,d),m.mutatedEvents=h,dae(m,s.dateProfile,d)||(p=!0,f=null,h=null,m.mutatedEvents=tu()))):d=null}this.displayDrag(d,m),p?bF():xF(),o||(A===d&&f_(u,s)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:A}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new Oi(o,d,f),p=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:s.origEvent,view:l}),A){if(u===o){let g=new Oi(o,m.defs[d.defId],f?m.instances[f.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:h,event:g,relatedEvents:Fh(m,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}},b={};for(let C of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,C(A,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:A.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let g={event:h,relatedEvents:Fh(p,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},g),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:p}),o.emitter.trigger("eventRemove",g);let y=m.defs[d.defId],b=m.instances[f.instanceId],C=new Oi(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:m});let E={event:C,relatedEvents:Fh(m,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};u.emitter.trigger("eventAdd",E),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},zae(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},E),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Rx(e.el);i.pointer.selector=Ux.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new d_(this.dragging,Qk);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:tu(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ux.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Vst(t,e,n,r){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=Di(n):s=n);let u=Bm(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let A={datesDelta:u,standardProps:l};for(let d of r)d(A,t,e);return A}function $st(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class Kst extends I0{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=Xg(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=IF(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Xg(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new Oi(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,A=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,p=!1,m={affectedEvents:u,mutatedEvents:tu(),isEvent:!0};a&&(a.componentId===A.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(A,a)||(f=Wst(A,a,o.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=DF(u,l.getCurrentData().eventUiBases,f,l),m.mutatedEvents=h,dae(m,a.dateProfile,l)||(p=!0,f=null,h=null,m.mutatedEvents=null)),h?l.dispatch({type:"SET_EVENT_RESIZE",state:m}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?bF():xF(),s||(f&&f_(A,a)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new Oi(s,o,l),A=this.relevantEvents,d=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let f=new Oi(s,d.defs[o.defId],l?d.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:u,event:f,relatedEvents:Fh(d,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:A})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Pr(0),endDelta:this.validMutation.endDelta||Pr(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",h)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Rx(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new d_(this.dragging,OF(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return io(e.subjectEl,".fc-event")}}function Wst(t,e,n,r){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Bm(a,s,i,t.largeUnit);if(n){if(i.add(r.start,o)<r.end)return{startDelta:o}}else if(i.add(r.end,o)>r.start)return{endDelta:o};return null}class Gst{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,a=Tie(r.origEvent);this.matchesCancel=!!io(a,i),this.matchesEvent=!!io(a,Ux.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(r)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new Rae(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const qst={fixedMirrorParent:Ze},Yst={dateClick:Ze,eventDragStart:Ze,eventDragStop:Ze,eventDrop:Ze,eventResizeStart:Ze,eventResizeStop:Ze,eventResize:Ze,drop:Ze,eventReceive:Ze,eventLeave:Ze};RF.dataAttrPrefix="";var Xst=If({name:"@fullcalendar/interaction",componentInteractions:[Ust,Qst,Ux,Kst],calendarInteractions:[Gst],elementDraggingImpl:Rx,optionRefiners:qst,listenerRefiners:Yst});const Jst=(t,e,n)=>{const r=(n-1)*7+1;return new Date(Date.UTC(t,e-1,r))},Zst=()=>{const{animals:t,healthPlans:e,planActivities:n,healthEvents:r,parturitions:i}=en(),{forecastBySeason:a}=pF(),s=P.useMemo(()=>{const l=new Date;l.setUTCHours(0,0,0,0);const u=l.getUTCFullYear(),A=new Date(l.getTime()+90*24*60*60*1e3),d=7,f=[],h=t.filter(p=>p.status==="Activo"&&!p.isReference);for(const p of e){const m=h.filter(g=>{var b,C;const y=Ko(g.birthDate);if(y<0)return!1;if(p.targetGroup==="Maternidad")return y<=120;if(p.targetGroup==="Adultos"){if(y<=120)return!1;const E=p.adultsSubgroup&&p.adultsSubgroup.length>0,N=p.targetLots&&p.targetLots.length>0;if(!E&&!N)return!0;const _=xc(g,i),B=E&&((b=p.adultsSubgroup)==null?void 0:b.includes(_)),j=N&&((C=p.targetLots)==null?void 0:C.includes(g.location));if(E&&N)return B||j;if(E)return B;if(N)return j}return!1}),v=n.filter(g=>g.healthPlanId===p.id);for(const g of m)for(const y of v){const b=(C,E)=>{if(!C||!E)return;if(C.setUTCHours(0,0,0,0),!r.some(_=>_.animalId!==g.id||_.activityId!==y.id?!1:y.trigger.type==="age"?new Date(_.date+"T00:00:00Z").getTime()===C.getTime():new Date(_.date+"T00:00:00Z").getUTCFullYear()===C.getUTCFullYear())&&C<=A){let _="Prxima";const B=Math.ceil((C.getTime()-l.getTime())/864e5);B<0&&Math.abs(B)>d?_="Atrasada":B===0&&(_="Para Hoy"),f.push({key:E,animal:g,plan:p,activity:y,dueDate:C,status:_})}};if(y.trigger.type==="age"&&y.trigger.days)for(const C of y.trigger.days){const E=new Date(g.birthDate+"T00:00:00Z");E.setUTCDate(E.getUTCDate()+C),b(E,`${g.id}-${y.id}-${C}`)}else if(y.trigger.type==="fixed_date_period"&&y.trigger.month&&y.trigger.week){const C=Jst(u,y.trigger.month,y.trigger.week),E=`${g.id}-${y.id}-${u}`;b(C,E)}else if(y.trigger.type==="birthing_season_event"&&y.trigger.offsetDays!==void 0){const C=a.find(E=>E.events.some(N=>N.animal.id===g.id));if(C&&C.projectedStartDate){const E=new Date(C.projectedStartDate);E.setUTCDate(E.getUTCDate()+y.trigger.offsetDays);const N=E,_=`${g.id}-${y.id}-${C.seasonId}`;b(N,_)}}}}return f.sort((p,m)=>p.dueDate.getTime()-m.dueDate.getTime())},[t,e,n,r,i,a]);return{...P.useMemo(()=>({overdue:s.filter(l=>l.status==="Atrasada"),today:s.filter(l=>l.status==="Para Hoy"),upcoming:s.filter(l=>l.status==="Prxima")}),[s]),allTasks:s}},eot=({task:t,onSave:e,onCancel:n})=>{const{addHealthEvent:r,products:i,bodyWeighings:a}=en(),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(""),[A,d]=P.useState(null),[f,h]=P.useState(!1),{animal:p,activity:m}=t,v=p.name?String(p.name).toUpperCase().trim():"",g=P.useMemo(()=>i.find(N=>N.id===m.productId),[i,m.productId]),y=P.useMemo(()=>a.filter(N=>N.animalId===p.id).sort((N,_)=>new Date(_.date).getTime()-new Date(N.date).getTime())[0],[a,p.id]),{doseApplied:b,calculatedCost:C}=P.useMemo(()=>{if(!g||!y)return{doseApplied:void 0,calculatedCost:void 0};let N=0;if(g.dosageType==="fixed"&&g.dosageFixed?N=g.dosageFixed:g.dosageType==="per_kg"&&g.dosagePerKg_ml&&g.dosagePerKg_kg&&(N=y.kg/g.dosagePerKg_kg*g.dosagePerKg_ml),N===0)return{doseApplied:void 0,calculatedCost:void 0};let _=0;const B=g.presentationUnit==="L"?(g.presentationValue||0)*1e3:g.presentationValue||0;if(g.price&&B>0){const j=g.price/B;_=N*j}return{doseApplied:parseFloat(N.toFixed(2)),calculatedCost:parseFloat(_.toFixed(2))}},[g,y]),E=async N=>{N.preventDefault(),h(!0),d(null);const _=(g==null?void 0:g.withdrawalDaysMilk)??7,B=(g==null?void 0:g.withdrawalDaysMeat)??30;try{await r({animalId:p.id,lotName:p.location,date:s,activityId:m.id,type:m.name,productUsed:g==null?void 0:g.id,doseApplied:b,unit:"ml",calculatedCost:C,notes:l,executedBy:"self",diasRetiroLeche:_>0?_:void 0,diasRetiroCarne:B>0?B:void 0}),e()}catch(j){console.error(j),d("No se pudo registrar el evento. Intntelo de nuevo.")}finally{h(!1)}};return c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-zinc-400 text-sm",children:"Animal:"}),c.jsx("p",{className:"font-mono font-semibold text-lg text-white truncate",children:p.id.toUpperCase()}),v&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:v})]}),c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold text-zinc-400 text-sm",children:"Actividad:"})," ",c.jsx("span",{className:"font-bold text-base text-white",children:m.name})]}),g&&c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold text-zinc-400 text-sm",children:"Producto:"})," ",c.jsx("span",{className:"font-bold text-base text-white",children:g.name})]})]}),c.jsxs("div",{className:"p-4 bg-black/20 rounded-xl space-y-2",children:[c.jsx("h3",{className:"font-semibold text-white",children:"Detalles del Registro"}),y?c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-300",children:["Basado en el ltimo peso registrado de ",c.jsxs("span",{className:"font-bold text-white",children:[y.kg," kg"]}),"."]}),b!==void 0&&c.jsxs("p",{className:"text-sm text-zinc-300",children:["Dosis Calculada: ",c.jsxs("span",{className:"font-bold text-teal-400",children:[b," ml"]})]}),C!==void 0&&c.jsxs("p",{className:"text-sm text-zinc-300",children:["Costo Estimado: ",c.jsxs("span",{className:"font-bold text-amber-400",children:["$",C.toFixed(2)]})]})]}):c.jsx("p",{className:"text-sm text-amber-400",children:"Advertencia: No se encontr un peso reciente para este animal. La dosis y el costo no se pueden calcular automticamente."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"date",type:"date",value:s,onChange:N=>o(N.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas (Opcional)"}),c.jsx("textarea",{id:"notes",value:l,onChange:N=>u(N.target.value),placeholder:"Anotaciones sobre la aplicacin, etc.",rows:3,className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),A&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:A})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[f&&c.jsx(iu,{size:18,className:"animate-spin"}),f?"Guardando...":"Confirmar Registro"]})]})]})},tot=({animals:t,selectedAnimalIds:e,onChange:n})=>{const r=i=>{const a=Array.from(i.target.selectedOptions,s=>s.value);n(a)};return c.jsx("select",{multiple:!0,value:e,onChange:r,className:"w-full h-40 bg-zinc-800 p-3 rounded-xl font-mono text-white",children:t.map(i=>{const a=i.name?String(i.name).toUpperCase().trim():"";return c.jsxs("option",{value:i.id,className:"py-1",children:[i.id.toUpperCase()," ",a&&` - ${a}`]},i.id)})})},not=({onSaveSuccess:t,onCancel:e})=>{const{addHealthEvent:n,products:r,animals:i,bodyWeighings:a}=en(),[s,o]=P.useState([]),[l,u]=P.useState(new Date().toISOString().split("T")[0]),[A,d]=P.useState(""),[f,h]=P.useState(void 0),[p,m]=P.useState(""),[v,g]=P.useState(null),[y,b]=P.useState(!1),C=P.useMemo(()=>r.find(_=>_.id===f),[r,f]),E=P.useMemo(()=>i.filter(_=>_.status==="Activo"&&!_.isReference).sort((_,B)=>_.id.localeCompare(B.id)),[i]),N=async _=>{if(_.preventDefault(),s.length===0||!A.trim()){g("Debe seleccionar al menos un animal y especificar el tipo de actividad.");return}b(!0),g(null);try{const B=s.map(j=>{const D=i.find(H=>H.id===j);if(!D)return null;const k=a.filter(H=>H.animalId===j).sort((H,Y)=>new Date(Y.date).getTime()-new Date(H.date).getTime())[0];let O,F;if(C&&k){let H=0;if(C.dosageType==="fixed"&&C.dosageFixed?H=C.dosageFixed:C.dosageType==="per_kg"&&C.dosagePerKg_ml&&C.dosagePerKg_kg&&(H=k.kg/C.dosagePerKg_kg*C.dosagePerKg_ml),H>0){O=parseFloat(H.toFixed(2));const Y=C.presentationUnit==="L"?(C.presentationValue||0)*1e3:C.presentationValue||0;if(C.price&&Y>0){const q=C.price/Y;F=parseFloat((H*q).toFixed(2))}}}return{animalId:j,lotName:D.location,date:l,type:A,productUsed:f,doseApplied:O,unit:"ml",calculatedCost:F,notes:p,executedBy:"self"}});for(const j of B)j&&await n(j);t()}catch(B){console.error(B),g("No se pudo registrar el evento. Intntelo de nuevo.")}finally{b(!1)}};return c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Animal(es) (mantn Ctrl/Cmd para seleccionar varios)"}),c.jsx(tot,{animals:E,selectedAnimalIds:s,onChange:o}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[s.length," animal(es) seleccionado(s)."]})]}),c.jsx("input",{type:"text",value:A,onChange:_=>d(_.target.value),placeholder:"Tipo de Actividad (Ej: Tratamiento por Neumona)",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsxs("select",{value:f||"",onChange:_=>h(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",children:"Seleccionar Producto (Opcional)..."}),r.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"unplanned-date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"unplanned-date",type:"date",value:l,onChange:_=>u(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),c.jsx("textarea",{value:p,onChange:_=>m(_.target.value),placeholder:"Notas (Opcional)",rows:3,className:"w-full bg-zinc-800 p-3 rounded-xl"}),v&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18}),c.jsx("span",{children:v})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:y,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[y&&c.jsx(iu,{size:18,className:"animate-spin"}),y?"Guardando...":"Registrar Evento"]})]})]})},rot=t=>{const{task:e}=t.event.extendedProps;if(!e)return c.jsx("div",{children:"Evento invlido"});const{animal:n,activity:r}=e,i=n.name?String(n.name).toUpperCase().trim():"";return c.jsxs("div",{className:"p-1 overflow-hidden w-full",style:{whiteSpace:"normal"},children:[c.jsx("p",{className:"font-mono font-semibold text-xs text-white truncate",children:n.id.toUpperCase()}),i&&c.jsx("p",{className:"text-[10px] font-normal text-zinc-300 truncate",children:i}),c.jsx("p",{className:"text-[10px] text-zinc-400 truncate",children:r.name})]})};function e$(){const{allTasks:t}=Zst(),[e,n]=P.useState(null),[r,i]=P.useState(!1),a=P.useRef(null),[s,o]=P.useState("dayGridMonth"),[l,u]=P.useState(""),A=P.useMemo(()=>t.map(m=>({id:m.key,title:`${m.animal.id} - ${m.activity.name}`,start:m.dueDate,allDay:!0,extendedProps:{task:m},backgroundColor:m.status==="Atrasada"?"#FF3B30":m.status==="Para Hoy"?"#34C759":"#007AFF",borderColor:m.status==="Atrasada"?"#FF3B30":m.status==="Para Hoy"?"#34C759":"#007AFF"})),[t]),d=m=>{n(m.event.extendedProps.task)},f=()=>{n(null),i(!1)},h=m=>{var v;(v=a.current)==null||v.getApi().changeView(m),o(m)},p=m=>{u(m.view.title)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full h-full max-w-4xl mx-auto p-4 flex flex-col",children:[c.jsxs("header",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-white leading-tight",children:"Calendario Sanitario"}),c.jsx("p",{className:"text-base sm:text-lg text-zinc-400",children:"Vista completa de actividades"})]}),c.jsxs("button",{onClick:()=>i(!0),className:"flex-shrink-0 flex items-center justify-center gap-2 bg-brand-blue text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm w-full sm:w-auto",children:[c.jsx(ba,{size:16})," Registrar Actividad"]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().prev()},className:"p-2 bg-zinc-700 rounded-md hover:bg-zinc-600",children:c.jsx(Ni,{size:16})}),c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().next()},className:"p-2 bg-zinc-700 rounded-md hover:bg-zinc-600",children:c.jsx(ea,{size:16})}),c.jsx("h2",{className:"text-xl font-semibold text-white capitalize w-40 text-center",children:l})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().today()},className:"px-4 py-1.5 bg-zinc-700 rounded-md hover:bg-zinc-600 text-sm font-semibold",children:"Hoy"}),c.jsxs("div",{className:"relative flex justify-between rounded-lg bg-zinc-700 p-1 text-sm font-semibold",children:[c.jsx("button",{onClick:()=>h("dayGridMonth"),className:"relative z-10 w-20 py-1 rounded-md",children:"Mes"}),c.jsx("button",{onClick:()=>h("dayGridWeek"),className:"relative z-10 w-20 py-1 rounded-md",children:"Semana"}),c.jsx(Ji.div,{layoutId:"calendar-view-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-20 rounded-md bg-zinc-500 ${s==="dayGridWeek"?"left-[calc(50%_-_2px)]":"left-1"}`})]})]})]}),c.jsx("div",{className:"flex-grow",children:c.jsx(HF,{ref:a,plugins:[Mae,Xst],initialView:s,locale:Lae,events:A,eventClick:d,height:"100%",headerToolbar:!1,datesSet:p,eventContent:rot})})]}),e&&c.jsx(fn,{isOpen:!!e,onClose:()=>n(null),title:`Registrar: ${e.activity.name}`,children:c.jsx(eot,{task:e,onSave:f,onCancel:()=>n(null)})}),c.jsx(fn,{isOpen:r,onClose:()=>i(!1),title:"Registrar Actividad No Planificada",children:c.jsx(not,{onSaveSuccess:f,onCancel:()=>i(!1)})})]})}const B4=({legend:t,children:e})=>c.jsxs("fieldset",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-700 space-y-4",children:[c.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-400",children:t}),e]}),iot=["Coxidioesttico","Desparasitacin","Vacuna Clostridial"],aot=["Desparasitacin","Vacuna Leptospirosis","Vacuna Clostridial","Vacuna Rabia"],sot=["Cura de ombligo","Revisin de Mucosas (FAMACHA)","Descorne","Castracin"],oot=["Revisin de Mucosas (FAMACHA)","Recorte de Pezuas","Toma de muestra de Hematologa y Coprologa"],lot=[1,8,15,21,30,45,60,90,120],cot=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],uot=[{value:1,label:"1ra Semana"},{value:2,label:"2da Semana"},{value:3,label:"3ra Semana"},{value:4,label:"4ta Semana"}],Aot=({healthPlanId:t,targetGroup:e,onSave:n,onCancel:r,existingActivity:i})=>{const{products:a,addProduct:s}=en(),[o,l]=P.useState("Tratamiento"),[u,A]=P.useState(""),[d,f]=P.useState(void 0),[h,p]=P.useState(void 0),[m,v]=P.useState(e==="Maternidad"?"age":"fixed_date_period"),[g,y]=P.useState(""),[b,C]=P.useState("1"),[E,N]=P.useState("1"),[_,B]=P.useState(""),[j,D]=P.useState(!1),[k,O]=P.useState(null),F=e==="Maternidad"?o==="Tratamiento"?iot:sot:o==="Tratamiento"?aot:oot;P.useEffect(()=>{var q;i&&(l(i.category),A(i.name),f(i.productId),p(i.complementaryProductId),v(i.trigger.type),i.trigger.type==="age"&&y(String(((q=i.trigger.days)==null?void 0:q[0])||"")),i.trigger.type==="fixed_date_period"&&(C(String(i.trigger.month||"1")),N(String(i.trigger.week||"1"))),i.trigger.type==="birthing_season_event"&&B(String(i.trigger.offsetDays||"")))},[i]);const H=async q=>{await s(q),D(!1)},Y=async q=>{if(q.preventDefault(),O(null),!u.trim()){O("El nombre es obligatorio.");return}if(o==="Tratamiento"&&!d){O("Debe seleccionar un producto principal.");return}let Z;if(e==="Maternidad"){const oe=parseInt(g,10);if(isNaN(oe)||oe<0){O("Los das de nacido deben ser un nmero vlido.");return}Z={type:"age",days:[oe]}}else if(m==="fixed_date_period")Z={type:"fixed_date_period",month:parseInt(b,10),week:parseInt(E,10)};else{const oe=parseInt(_,10);if(isNaN(oe)){O("Debe introducir un nmero vlido de das.");return}Z={type:"birthing_season_event",offsetDays:oe}}await n({healthPlanId:t,category:o,name:u,productId:d,complementaryProductId:h,trigger:Z})};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[c.jsxs(B4,{legend:"Paso 1: Define la Actividad",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>l("Tratamiento"),className:`p-4 rounded-2xl border-2 transition-colors flex flex-col items-center gap-2 ${o==="Tratamiento"?"bg-blue-500/20 border-blue-500":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-500"}`,children:[c.jsx(c0,{className:"w-8 h-8 text-blue-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Tratamiento"})]}),c.jsxs("button",{type:"button",onClick:()=>l("Control"),className:`p-4 rounded-2xl border-2 transition-colors flex flex-col items-center gap-2 ${o==="Control"?"bg-purple-500/20 border-purple-500":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-500"}`,children:[c.jsx(ID,{className:"w-8 h-8 text-purple-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Control"})]})]}),c.jsx("input",{list:"activity-names",value:u,onChange:q=>A(q.target.value),placeholder:`Nombre del ${o}...`,className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsx("datalist",{id:"activity-names",children:F.map(q=>c.jsx("option",{value:q},q))})]}),o==="Tratamiento"&&c.jsxs(B4,{legend:"Paso 2: Selecciona los Productos",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d||"",onChange:q=>f(q.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:[c.jsx("option",{value:"",children:"Producto Principal..."}),a.map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))]}),c.jsx("button",{type:"button",onClick:()=>D(!0),className:"flex-shrink-0 p-3 bg-brand-orange text-white rounded-xl",children:c.jsx(pc,{size:20})})]}),c.jsxs("select",{value:h||"",onChange:q=>p(q.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",children:"Producto Complementario (Opcional)..."}),a.map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))]})]}),c.jsx(B4,{legend:`Paso ${o==="Tratamiento"?"3":"2"}: Cundo se ejecuta?`,children:e==="Maternidad"?c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"A los Das de Nacido"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:lot.map(q=>c.jsxs("button",{type:"button",onClick:()=>y(String(q)),className:`px-3 py-1 text-sm font-semibold rounded-full transition-colors ${g===String(q)?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:[q," das"]},q))}),c.jsx("div",{className:"flex items-center gap-2 mt-4",children:c.jsx("input",{type:"number",value:g,onChange:q=>y(q.target.value),placeholder:"O escribe los das...",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("select",{value:m,onChange:q=>v(q.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:[c.jsx("option",{value:"fixed_date_period",children:"Por Fecha Fija Anual"}),c.jsx("option",{value:"birthing_season_event",children:"Relativo a Temporada de Partos"})]}),m==="fixed_date_period"&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"triggerMonth",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Mes"}),c.jsx("select",{id:"triggerMonth",value:b,onChange:q=>C(q.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:cot.map(q=>c.jsx("option",{value:q.value,children:q.label},q.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"triggerWeek",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Semana"}),c.jsx("select",{id:"triggerWeek",value:E,onChange:q=>N(q.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:uot.map(q=>c.jsx("option",{value:q.value,children:q.label},q.value))})]})]}),m==="birthing_season_event"&&c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{htmlFor:"triggerOffsetDays",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Das antes (-) / despus (+) del inicio de la temporada"}),c.jsx("input",{id:"triggerOffsetDays",type:"number",value:_,onChange:q=>B(q.target.value),placeholder:"Ej: -30 (para 30 das antes)",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})]})]})}),k&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(gr,{size:18})," ",c.jsx("span",{children:k})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:i?"Actualizar Actividad":"Aadir al Plan"})]})]}),c.jsx(fn,{isOpen:j,onClose:()=>D(!1),title:"Crear Nuevo Producto",children:c.jsx(mF,{onSave:H,onCancel:()=>D(!1)})})]})},dot=({activity:t,onEdit:e,onDelete:n})=>{const{products:r}=en(),i=r.find(A=>A.id===t.productId),a=r.find(A=>A.id===t.complementaryProductId),s=dp(),o=P.useRef(!1),l=(A,d)=>{const f=d.offset.x,h=d.velocity.x;f<-160/2||h<-500?s.start({x:-160}):s.start({x:0}),setTimeout(()=>{o.current=!1},100)},u=()=>{var d;const{trigger:A}=t;switch(A.type){case"age":return`Das: ${((d=A.days)==null?void 0:d.join(", "))||"N/A"}`;case"fixed_date_period":const f=new Date(2024,A.month-1,1).toLocaleString("es-VE",{month:"long"});return`${A.week}a semana de ${f}`;case"birthing_season_event":const h=A.offsetDays>=0?"das despus":"das antes";return`${Math.abs(A.offsetDays)} ${h} del inicio de la temporada de partos`;default:return"Tiempo no especificado"}};return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-black/20 border border-zinc-700",children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[c.jsxs("button",{onClick:e,onPointerDown:A=>A.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(Cf,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c.jsxs("button",{onClick:n,onPointerDown:A=>A.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(Sc,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),c.jsxs(Ji.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:l,animate:s,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-grab bg-ios-modal-bg/50 p-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),c.jsx("p",{className:`text-sm font-semibold ${t.category==="Tratamiento"?"text-blue-400":"text-purple-400"}`,children:t.category}),i&&c.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Ppal: ",i.name]}),a&&c.jsxs("p",{className:"text-xs text-zinc-400",children:["Comp: ",a.name]})]}),t.category==="Tratamiento"?c.jsx(c0,{className:"text-blue-400"}):c.jsx(ID,{className:"text-purple-400"})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700 flex items-center text-zinc-300",children:[c.jsx(So,{size:16,className:"mr-2"}),c.jsx("span",{className:"text-sm font-semibold",children:u()})]})]})]})};function fot({planId:t,onBack:e}){const{healthPlans:n,planActivities:r,addPlanActivity:i,updatePlanActivity:a,deletePlanActivity:s}=en(),[o,l]=P.useState(!1),[u,A]=P.useState(void 0),[d,f]=P.useState(null),h=P.useMemo(()=>n.find(b=>b.id===t),[n,t]),p=P.useMemo(()=>h?r.filter(b=>b.healthPlanId===t).sort((b,C)=>{var E,N;return(((E=b.trigger.days)==null?void 0:E[0])||0)-(((N=C.trigger.days)==null?void 0:N[0])||0)}):[],[r,t,h]),m=b=>{A(b),l(!0)},v=()=>{l(!1),A(void 0)},g=async b=>{u!=null&&u.id?await a(u.id,b):await i({...b,healthPlanId:t}),v()},y=async()=>{d!=null&&d.id&&await s(d.id),f(null)};return h?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in px-4",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:h.name}),c.jsx("p",{className:"text-lg text-zinc-400",children:h.targetGroup})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Actividades del Plan"}),c.jsxs("button",{onClick:()=>m(),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[c.jsx(ba,{size:16})," Aadir Actividad"]})]}),p.length>0?c.jsx("div",{className:"space-y-3",children:p.map(b=>c.jsx(dot,{activity:b,onEdit:()=>m(b),onDelete:()=>f(b)},b.id))}):c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:[c.jsx("p",{className:"text-zinc-500 font-semibold",children:"Este plan an no tiene actividades."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:"Aade tratamientos o controles para empezar."})]})]})]}),c.jsx(fn,{isOpen:o,onClose:v,title:u?"Editar Actividad":"Aadir Actividad al Plan",children:c.jsx(Aot,{healthPlanId:h.id,targetGroup:h.targetGroup,onSave:g,onCancel:v,existingActivity:u})}),c.jsx(_0,{isOpen:!!d,onClose:()=>f(null),onConfirm:y,title:`Eliminar Actividad "${d==null?void 0:d.name}"`,message:"Ests seguro de que quieres eliminar esta actividad del plan? Esta accin no se puede deshacer."})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Plan no encontrado."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-amber",children:"Volver al Planificador"})]})}const hot=()=>{const{healthEvents:t,products:e,animals:n}=en();return P.useMemo(()=>{const i=new Date;i.setDate(i.getDate()-30),i.setHours(0,0,0,0);const s=t.filter(v=>new Date(v.date)>=i).reduce((v,g)=>v+(g.calculatedCost||0),0),o=n.filter(v=>v.status==="Activo").length,l=o>0?s/o:0,u=[],A={},d=new Date;d.setMonth(d.getMonth()-6),t.filter(v=>new Date(v.date)>=d).forEach(v=>{const g=v.date.substring(0,7);A[g]||(A[g]=0),A[g]+=v.calculatedCost||0}),Object.keys(A).sort().forEach(v=>{u.push({name:v,total:parseFloat(A[v].toFixed(2))})});const f={};t.forEach(v=>{const g=v.type||"Sin Categora";f[g]||(f[g]=0),f[g]+=v.calculatedCost||0});const h=Object.keys(f).map(v=>({name:v,total:parseFloat(f[v].toFixed(2))})).sort((v,g)=>g.total-v.total),p={};t.forEach(v=>{p[v.animalId]||(p[v.animalId]=0),p[v.animalId]+=v.calculatedCost||0});const m=Object.keys(p).map(v=>({animalId:v,total:p[v]})).sort((v,g)=>g.total-v.total).slice(0,5);return{totalCostLast30Days:s,avgCostPerAnimal:l,monthlyCosts:u,costsByCategory:h,topCostAnimals:m}},[t,e,n])},t$=({title:t,value:e,unit:n,icon:r})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(r,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[e," ",c.jsx("span",{className:"text-xl text-zinc-400",children:n})]})]}),n$=["#34C759","#FF9500","#007AFF","#AF52DE","#FF3B30","#5E5CE6","#5AC8FA","#FFCC00"];function pot(){const{totalCostLast30Days:t,avgCostPerAnimal:e,monthlyCosts:n,costsByCategory:r,topCostAnimals:i}=hot(),a=s=>new Date(s+"-02T00:00:00Z").toLocaleString("es-VE",{month:"short",year:"2-digit"});return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[" ",c.jsxs("header",{className:"text-center pt-4",children:[" ",c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de Costos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Mdulo StockCare"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(t$,{title:"Costo (ltimos 30 das)",value:`$${t.toFixed(2)}`,icon:vc}),c.jsx(t$,{title:"Costo Prom./Animal (30d)",value:`$${e.toFixed(2)}`,icon:ya})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(Ax,{size:20})," Costo Mensual (ltimos 6m)"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:n,margin:{top:5,right:10,left:-20,bottom:5},children:[c.jsx(hi,{dataKey:"name",tickFormatter:a,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"$"}),c.jsx(Er,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"},formatter:s=>`$${s.toFixed(2)}`}),c.jsx(Xa,{dataKey:"total",name:"Costo Total",fill:"#2dd4bf",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(UD,{size:20})," Costos por Categora"]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Fi,{children:c.jsxs(VI,{children:[c.jsx(su,{data:r,dataKey:"total",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",children:r.map((s,o)=>c.jsx(yc,{fill:n$[o%n$.length]},`cell-${o}`))}),c.jsx(Er,{contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"},formatter:s=>`$${s.toFixed(2)}`}),c.jsx(Il,{iconSize:10,wrapperStyle:{fontSize:"12px",color:"#a1a1aa"}})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top 5 Animales (Costo Total)"}),c.jsx("div",{className:"space-y-2",children:i.length>0?i.map((s,o)=>c.jsxs("div",{className:"flex justify-between items-center text-sm bg-black/20 p-2 rounded-md",children:[c.jsxs("span",{className:"font-mono font-semibold text-base text-white",children:[o+1,". ",s.animalId]}),c.jsxs("span",{className:"font-bold text-teal-300",children:["$",s.total.toFixed(2)]})]},s.animalId)):c.jsx("p",{className:"text-sm text-zinc-500 text-center pt-8",children:"No hay datos suficientes."})})]})]})]})}function mot({onSwitchModule:t}){const{syncStatus:e}=en(),[n,r]=P.useState({name:"calendario"}),[i,a]=P.useState([]),s=[{id:"calendario",label:"Calendario",icon:vpe},{id:"planes",label:"Planes",icon:kD},{id:"inventario",label:"Inventario",icon:c0},{id:"costos",label:"Costos",icon:vc}],o=d=>{a(f=>[...f,n]),r(d)},l=()=>{const d=i.pop();d?(a([...i]),r(d)):t("rebano")},u=d=>{a([]),r({name:d})},A=()=>{switch(n.name){case"calendario":return c.jsx(e$,{});case"planes":return c.jsx(jst,{navigateTo:o});case"inventario":return c.jsx(Met,{});case"costos":return c.jsx(pot,{});case"plan-detail":return c.jsx(fot,{planId:n.planId,onBack:l});default:return c.jsx(e$,{})}};return c.jsxs("div",{className:"h-screen overflow-hidden animate-fade-in text-white flex flex-col bg-brand-dark",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-brand-dark/80 backdrop-blur-lg border-b border-brand-border h-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-full",children:[c.jsx("button",{onClick:l,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(L5,{className:"text-teal-400"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"StockCare"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(j0,{status:e})})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto pt-16 pb-16",children:A()}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around z-20 h-16",children:s.map(d=>c.jsxs("button",{onClick:()=>u(d.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n.name===d.id?"text-teal-400":"text-gray-400 hover:text-teal-400"}`,children:[c.jsx(d.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:d.label})]},d.id))})]})}const r$=.5,got=()=>{const{animals:t,healthEvents:e,weighings:n,parturitions:r}=en();return P.useMemo(()=>{const o=[...t.filter(h=>h.status==="Activo"&&h.sex==="Hembra").map(h=>{const p=e.filter(N=>N.animalId===h.id).reduce((N,_)=>N+(_.calculatedCost||0),0),m=n.filter(N=>N.goatId===h.id),v=m.reduce((N,_)=>N+_.kg,0),g=v*r$;let y=null,b=0;const C=r.filter(N=>N.goatId===h.id);v>0&&C.length>0&&(b=C.reduce((_,B)=>{const j=m.filter(F=>new Date(F.date)>=new Date(B.parturitionDate));if(j.length===0)return _;const D=new Date(B.parturitionDate),O=(new Date(j.sort((F,H)=>new Date(H.date).getTime()-new Date(F.date).getTime())[0].date).getTime()-D.getTime())/(1e3*60*60*24);return _+O},0),y=p/v);const E=g-p;return{animalId:h.id,totalRevenue:g,totalCosts:p,netProfit:E,costPerLiter:y,totalKgProduced:v,lactationDays:b}})].sort((h,p)=>p.netProfit-h.netProfit),l=o.reduce((h,p)=>h+p.totalRevenue,0),u=o.reduce((h,p)=>h+p.totalCosts,0),A=l-u,d=o.filter(h=>h.costPerLiter!==null&&h.costPerLiter>0).map(h=>h.costPerLiter),f=d.length>0?d.reduce((h,p)=>h+p,0)/d.length:0;return{animalsByProfitability:o,totalFarmRevenue:l,totalFarmCosts:u,totalFarmNetProfit:A,averageCostPerLiter:f,assumedMilkPrice:r$}},[t,e,n,r])},Dw=({title:t,value:e,unit:n,preValue:r,icon:i,colorClass:a})=>c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border ${a||""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(i,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[r&&c.jsx("span",{className:"text-3xl font-bold text-white",children:r}),e,n&&c.jsxs("span",{className:"text-xl text-zinc-400",children:[" ",n]})]})]}),i$=({animalData:t,monedaSimbolo:e})=>{const n=t.netProfit>=0;return c.jsxs("div",{className:"w-full text-left bg-black/20 rounded-xl p-4 border border-zinc-700/80 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-xl text-white",children:t.animalId}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-400 mt-1",children:[c.jsxs("span",{children:["Ingresos: ",e,t.totalRevenue.toFixed(2)]}),c.jsxs("span",{children:["Costos: ",e,t.totalCosts.toFixed(2)]})]})]}),c.jsxs("div",{className:`text-right font-bold text-2xl ${n?"text-brand-green":"text-brand-red"}`,children:[n?"+":"",e,t.netProfit.toFixed(2)]})]})},vot=({active:t,payload:e,monedaSimbolo:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-2 rounded-lg border border-zinc-700 text-white text-sm",children:[c.jsx("p",{className:"font-bold",children:e[0].payload.animalId}),c.jsxs("p",{style:{color:e[0].fill},children:["Rentabilidad: ",n,e[0].value.toFixed(2)]})]}):null;function yot(){const t="$",{animalsByProfitability:n,totalFarmRevenue:r,totalFarmCosts:i,totalFarmNetProfit:a,averageCostPerLiter:s}=got(),o=n.slice(0,5),l=n.slice(-5).reverse();return n.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4 flex flex-col items-center gap-4",children:[c.jsx(vc,{size:48,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold text-lg",children:"No hay datos suficientes"}),c.jsx("p",{className:"text-zinc-500 text-sm max-w-xs",children:"Registra pesajes lecheros y eventos de salud con costos para empezar a ver el anlisis econmico."})]}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis Econmico"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Rentabilidad de la Finca"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Dw,{title:"Ingresos Totales (Leche)",preValue:t,value:r.toFixed(2),icon:pg,colorClass:"border-green-500/30"}),c.jsx(Dw,{title:"Costos Totales (Sanidad)",preValue:t,value:i.toFixed(2),icon:hg,colorClass:"border-red-500/30"})]}),c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border ${a>=0?"border-green-500/50":"border-red-500/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(vc,{size:14}),c.jsx("span",{children:"Rentabilidad Neta (Ingresos - Costos)"})]}),c.jsxs("p",{className:`text-5xl font-bold mt-1 ${a>=0?"text-brand-green":"text-brand-red"}`,children:[a>=0?"+":"",t,a.toFixed(2)]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Dw,{title:"Costo / Litro de Leche",preValue:t,value:s.toFixed(3),icon:df}),c.jsx(Dw,{title:"Precio Leche (Config)",preValue:t,value:.8.toFixed(2),unit:"/Kg",icon:ya})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ppe,{size:20})," Distribucin de Rentabilidad"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(Fi,{children:c.jsxs(Fl,{data:n,margin:{top:5,right:0,left:0,bottom:5},children:[c.jsx(hi,{dataKey:"animalId",tick:!1,axisLine:!1}),c.jsx(Er,{content:c.jsx(vot,{monedaSimbolo:t}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),c.jsx(Xa,{dataKey:"netProfit",children:n.map(u=>c.jsx(yc,{fill:u.netProfit>=0?"#34C759":"#FF3B30"},u.animalId))})]})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-zinc-300",children:"Ranking de Rentabilidad"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h4",{className:"font-semibold text-brand-green flex items-center gap-2",children:[c.jsx(pg,{size:18})," Top 5 Animales Ms Rentables"]}),o.map(u=>c.jsx(i$,{animalData:u,monedaSimbolo:t},u.animalId))]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs("h4",{className:"font-semibold text-brand-red flex items-center gap-2",children:[c.jsx(hg,{size:18})," Top 5 Animales Menos Rentables"]}),l.map(u=>c.jsx(i$,{animalData:u,monedaSimbolo:t},u.animalId))]})]})]})}function bot({onSwitchModule:t}){const{syncStatus:e}=en(),[n,r]=P.useState(!1);return c.jsxs("div",{className:"h-screen overflow-hidden animate-fade-in text-white flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border h-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-full",children:[c.jsx("button",{onClick:()=>t("rebano"),className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Salir del mdulo",children:c.jsx(Ni,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vc,{className:"text-yellow-400"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Cents"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(j0,{status:e}),c.jsx("button",{onClick:()=>r(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Mdulos",children:c.jsx(fx,{size:20})})]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto pt-16 pb-16",children:c.jsx(yot,{})}),c.jsx(Mx,{isOpen:n,onClose:()=>r(!1),onSwitchModule:t})]})}const xot=(t,e)=>{const n={initialCabras:t.initialCabras??0,initialLevanteTardio:t.initialLevanteTardio??0,initialLevanteMedio:t.initialLevanteMedio??0,initialLevanteTemprano:t.initialLevanteTemprano??0,initialCriaH:t.initialCriaH??0,initialCriaM:t.initialCriaM??0,initialPadres:t.initialPadres??1,comprasVientresAnual:t.comprasVientresAnual??0,mesInicioMonta1:t.mesInicioMonta1,mesInicioMonta2:t.mesInicioMonta2,mesInicioMonta3:t.mesInicioMonta3,mesInicioMonta4:t.mesInicioMonta4,duracionMontaDias:t.duracionMontaDias??45,diasGestacion:t.diasGestacion??150,litrosPromedioPorAnimal:t.litrosPromedioPorAnimal??1.8,diasLactanciaObjetivo:t.diasLactanciaObjetivo??305,litrosPicoPorAnimal:t.litrosPicoPorAnimal??((t.diasLactanciaObjetivo??305)>=305?(t.litrosPromedioPorAnimal??1.8)*1.4:(t.litrosPromedioPorAnimal??1.8)*1.5),porcentajePrenez:t.porcentajePrenez??85,porcentajeProlificidad:t.porcentajeProlificidad??120,mortalidadCrias:t.mortalidadCrias??5,mortalidadLevante:t.mortalidadLevante??3,mortalidadCabras:t.mortalidadCabras??3,tasaReemplazo:t.tasaReemplazo??20,eliminacionCabritos:t.eliminacionCabritos??100,precioLecheLitro:t.precioLecheLitro??.5,precioVentaCabritoKg:t.precioVentaCabritoKg??3,precioVentaDescarteAdulto:t.precioVentaDescarteAdulto??50,monedaSimbolo:t.monedaSimbolo??"$",matingDistribution:t.matingDistribution},r=[],i=e*12,a=30.44;let s=[],o=[],l=[],u=0;const A=Math.round(n.diasGestacion/a),d=6,f=n.mortalidadCrias/100/12,h=n.mortalidadLevante/100/12,p=n.mortalidadCabras/100/12,m=n.tasaReemplazo/100/12,v=n.comprasVientresAnual/12,g=new Set,y=[t.mesInicioMonta1,t.mesInicioMonta2,t.mesInicioMonta3,t.mesInicioMonta4].filter(H=>typeof H=="number"&&H>0);y.forEach(H=>g.add(H));const b=[.8,1.4,1.4,1.3,1.2,1,.9,.8,.7,.5],C=[.7,1.5,1.5,1.3,1,.6,.4],E=n.diasLactanciaObjetivo>=305,N=E?b:C,_=E?1.4:1.5,B=N.length,j=n.litrosPromedioPorAnimal,D=n.litrosPicoPorAnimal,k=D>j&&j>0?D/j:_,O=_>1?(k-1)/(_-1):1,F=N.map(H=>(H-1)*O+1);for(let H=0;H<i;H++){const Y=r[H-1],q=Math.floor(H/12)+1,Z=H%12+1,W=`Ao ${q} - Mes ${Z}`,oe=Y?Y.endCriaH:n.initialCriaH,te=Y?Y.endCriaM:n.initialCriaM,ue=Y?Y.endLevanteTemprano:n.initialLevanteTemprano,R=Y?Y.endLevanteMedio:n.initialLevanteMedio,$=Y?Y.endLevanteTardio:n.initialLevanteTardio,J=Y?Y.endCabras:n.initialCabras,ne=Y?Y.endPadres:n.initialPadres,he=oe+te+ue+R+$+J+ne;let Se=0;const we=[];s=s.filter(mn=>mn.monthEnd===H?(Se+=mn.size,we.push({id:mn.id,size:mn.size,monthEnd:H+d}),l.push({id:mn.id,deliveries:mn.size,startMonth:H}),!1):!0),o.push(...we),o=o.filter(mn=>mn.monthEnd>H);const re=Se*(n.porcentajeProlificidad/100),pe=re*.5,xe=re*.5;let Ae=0,He=0;if(g.has(Z)){const mn=s.reduce((xa,Mi)=>xa+Mi.size,0),Xr=o.reduce((xa,Mi)=>xa+Mi.size,0),vr=Math.max(0,J-mn-Xr),Or=Math.max(0,$*(1-h)),yr=y.indexOf(Z),Zn=yr!==-1&&n.matingDistribution&&n.matingDistribution[yr]!==void 0?n.matingDistribution[yr]:1/0,br=Math.min(vr,Zn),Jr=Or;Ae=br*(n.porcentajePrenez/100),He=Jr*(n.porcentajePrenez/100),Ae>0&&s.push({id:++u,size:Ae,monthEnd:H+A}),He>0&&s.push({id:++u,size:He,monthEnd:H+A})}const Ie=(oe+pe)*f,fe=(te+xe)*f,$e=ue*h,mt=R*h,pt=$*h,rt=ne*p,Et=J*p,$t=(J-Et)*m,Mt=Et+$t,bt=J>0?Mt/J:0;s.forEach(mn=>mn.size*=1-bt),o.forEach(mn=>mn.size*=1-bt);const wt=Ie+fe+$e+mt+pt+Et+rt,Tt=Math.max(0,te+xe-fe),Xt=Tt*(n.eliminacionCabritos/100),ot=Xt+$t,vt=v,xt=0,Lt=vt+xt,hn=Math.max(0,oe+pe-Ie),Cn=Math.max(0,ue-$e),zt=Math.max(0,R-mt),Jt=Math.max(0,$-pt),St=Math.max(0,Jt-He),Kt=hn/3,ke=Cn/3,et=zt/6,Je=St/6,Ln=Math.max(0,hn-Kt),nn=Math.max(0,Tt-Xt),Qt=Math.max(0,Cn-ke+Kt),bn=Math.max(0,zt-et+ke),mi=Math.max(0,Jt-He-Je+vt+et),cr=Math.max(0,J-Mt+Je+He),ta=Math.max(0,ne-rt+xt),Me=Ln+nn+Qt+bn+mi+cr+ta;let Oe=0,Ge=0;l.forEach(mn=>mn.deliveries*=1-bt),l=l.filter(mn=>{const Xr=H-mn.startMonth;if(Xr<B){const vr=F[Xr]||0;return Oe+=mn.deliveries*n.litrosPromedioPorAnimal*a*vr,Ge+=mn.deliveries,!0}return!1});const _t=Oe,At=Ge,Yt=_t*n.precioLecheLitro,yn=Xt*10*n.precioVentaCabritoKg,Yn=$t*n.precioVentaDescarteAdulto,Ut=Yt+yn+Yn;r.push({monthIndex:H,year:q,month:Z,periodLabel:W,startCriaH:oe,startCriaM:te,startLevanteTemprano:ue,startLevanteMedio:R,startLevanteTardio:$,startCabras:J,startPadres:ne,startTotal:he,partos:Se,nacimientosH:pe,nacimientosM:xe,muertesCriaH:Ie,muertesCriaM:fe,muertesLevanteTemprano:$e,muertesLevanteMedio:mt,muertesLevanteTardio:pt,muertesCabras:Et,muertesPadres:rt,muertesTotales:wt,ventasCabritos:Xt,ventasDescartes:$t,ventasTotales:ot,comprasVientres:vt,comprasPadres:xt,comprasTotales:Lt,promocionCriaH:Kt,promocionLevanteTemprano:ke,promocionLevanteMedio:et,promocionLevanteTardio:Je,endCriaH:Ln,endCriaM:nn,endLevanteTemprano:Qt,endLevanteMedio:bn,endLevanteTardio:mi,endCabras:cr,endPadres:ta,endTotal:Me,litrosLeche:_t,ingresosTotales:Ut,hembrasProduccion:At,ingresosLeche:Yt})}return r};function a$(t,e,n){const r=[];if(!t||t.length===0)return r;for(let i=0;i<t.length;i+=e){const a=t.slice(i,i+e);if(a.length===0)continue;const s=a[0],o=a[a.length-1];if(!s||!o)continue;const l=s.startTotal,u=o.endTotal,A=u-l,d=r[r.length-1],f=d?d.endTotal:l,h=f>0?A/f*100:0,p=C=>a.reduce((E,N)=>N&&typeof N[C]=="number"?E+N[C]:E,0),m=o.endCabras+o.endLevanteTardio,v=u>0?m/u*100:0,g=o.endCriaH+o.endLevanteTemprano+o.endLevanteMedio,y=u>0?g/u*100:0,b={startTotal:l,endTotal:u,netChange:A,growthRate:h,startCriaH:s.startCriaH,startCriaM:s.startCriaM,startLevanteTemprano:s.startLevanteTemprano,startLevanteMedio:s.startLevanteMedio,startLevanteTardio:s.startLevanteTardio,startCabras:s.startCabras,startPadres:s.startPadres,endCriaH:o.endCriaH,endCriaM:o.endCriaM,endLevanteTemprano:o.endLevanteTemprano,endLevanteMedio:o.endLevanteMedio,endLevanteTardio:o.endLevanteTardio,endCabras:o.endCabras,endPadres:o.endPadres,nacimientosH:p("nacimientosH"),nacimientosM:p("nacimientosM"),muertesCriaH:p("muertesCriaH"),muertesCriaM:p("muertesCriaM"),muertesLevanteTemprano:p("muertesLevanteTemprano"),muertesLevanteMedio:p("muertesLevanteMedio"),muertesLevanteTardio:p("muertesLevanteTardio"),muertesCabras:p("muertesCabras"),muertesPadres:p("muertesPadres"),muertesTotales:p("muertesTotales"),ventasCabritos:p("ventasCabritos"),ventasDescartes:p("ventasDescartes"),ventasTotales:p("ventasTotales"),comprasVientres:p("comprasVientres"),comprasPadres:p("comprasPadres"),comprasTotales:p("comprasTotales"),promocionCriaH:p("promocionCriaH"),promocionLevanteTemprano:p("promocionLevanteTemprano"),promocionLevanteMedio:p("promocionLevanteMedio"),promocionLevanteTardio:p("promocionLevanteTardio"),kpiProductivasCount:m,kpiProductivasPercent:v,kpiCrecimientoCount:g,kpiCrecimientoPercent:y,litrosLeche:p("litrosLeche"),ingresosTotales:p("ingresosTotales")};n==="Semestral"?r.push({...b,semestreIndex:i/6,year:s.year,periodLabel:`S${i/6%2+1} (Ao ${s.year})`}):r.push({...b,year:s.year,periodLabel:`Ao ${s.year}`})}return r}const wot=(t,e)=>P.useMemo(()=>{const r=xot(t,e),i=a$(r,6,"Semestral"),a=a$(r,12,"Anual");return{monthlyData:r,semestralData:i,annualData:a}},[t,e]),s$=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],em=t=>!t||t.length===0?0:t.reduce((n,r)=>n+r,0)/t.length,Cot=t=>{if(!t||t.length<2)return 0;const e=em(t),n=t.reduce((r,i)=>r+Math.pow(i-e,2),0)/(t.length-1);return Math.sqrt(n)},Sot=(t,e)=>P.useMemo(()=>{var te,ue;if(!t||t.length===0||!e||e.length===0)return{isLoading:!0,milkLinearityKpis:[],herdEfficiencyKpis:null,herdDynamicsKpis:null,horizonInYears:0};const r=e.length,i=e.map(R=>{const $=R.year,ne=t.filter($e=>$e.year===$).map($e=>$e.litrosLeche),he=ne.reduce(($e,mt)=>$e+mt,0),Se=em(ne),we=Cot(ne),re=Se>0?we/Se*100:0,pe=Math.max(...ne),xe=ne.indexOf(pe),Ae=s$[xe%12],He=Math.min(...ne),Ie=ne.indexOf(He),fe=s$[Ie%12];return{year:$,monthlyProduction:ne,totalProduction:he,avgMonthly:Se,peakMonthValue:pe,peakMonthLabel:Ae,valleyMonthValue:He,valleyMonthLabel:fe,stdDev:we,cv:re}}),a=e.reduce((R,$)=>R+$.litrosLeche,0),s=30.44,o=t.reduce((R,$)=>R+$.hembrasProduccion*s,0),l=a/(o||1),u=em(e.map(R=>R.kpiProductivasCount)),A=a/r/(u||1),d={totalLitrosHorizonte:a,totalDiasLactancia:o,litrosPorDiaLactancia:l,avgVientresProductivosHorizonte:u,litrosPorVientrePorAnio:A},f=em(t.map(R=>R.startCabras+R.startLevanteTardio)),h=em(t.map(R=>R.startLevanteTemprano+R.startLevanteMedio+R.startLevanteTardio)),p=em(t.map(R=>R.startCabras)),m=e.reduce((R,$)=>R+$.nacimientosH+$.nacimientosM,0),v=e.reduce((R,$)=>R+$.muertesCriaH+$.muertesCriaM,0),g=e.reduce((R,$)=>R+$.muertesLevanteTemprano+$.muertesLevanteMedio+$.muertesLevanteTardio,0),y=e.reduce((R,$)=>R+$.muertesCabras,0),b=e.reduce((R,$)=>R+$.promocionLevanteTardio,0),C=e.reduce((R,$)=>R+$.ventasDescartes,0),E=e.reduce((R,$)=>R+$.ventasCabritos,0),N=e.reduce((R,$)=>R+$.nacimientosM,0),_=e.reduce((R,$)=>R+$.muertesCriaM,0),B=t.reduce((R,$)=>R+$.partos,0),j=m/(f*r||1)*100,D=m/(B||1)*100,k=(((te=t[0])==null?void 0:te.startCriaH)??0)+(((ue=t[0])==null?void 0:ue.startCriaM)??0),O=v/(m+k||1)*100,F=g/(h*r||1)*100,H=y/(p*r||1)*100,Y=b/(p*r||1)*100,q=C/(p*r||1)*100,Z=N-_,W=E/(Z||1)*100;return{isLoading:!1,milkLinearityKpis:i,herdEfficiencyKpis:d,herdDynamicsKpis:{tasaNatalidadReal:j,tasaProlificidadReal:D,mortalidadCriasReal:O,mortalidadLevanteReal:F,mortalidadCabrasReal:H,tasaReemplazoReal:Y,tasaDescarteReal:q,tasaEliminacionCriasMReal:W},horizonInYears:r}},[t,e]),o$=[{key:"year",label:"Ao"},{key:"month",label:"Mes"},{key:"periodLabel",label:"Periodo"},{key:"startTotal",label:"Stock Total (Inicio)"},{key:"endTotal",label:"Stock Total (Final)"},{key:"partos",label:"N Partos"},{key:"nacimientosH",label:"Nacidos H"},{key:"nacimientosM",label:"Nacidos M"},{key:"muertesTotales",label:"Muertes Totales"},{key:"ventasTotales",label:"Ventas Totales"},{key:"comprasTotales",label:"Compras Totales"},{key:"litrosLeche",label:"Litros Leche (Mes)"},{key:"hembrasProduccion",label:"Hembras en Produccin"},{key:"ingresosLeche",label:"Ingresos Leche"},{key:"ingresosTotales",label:"Ingresos Totales (Mes)"},{key:"endCriaH",label:"Final Cra H (0-3m)"},{key:"endLevanteTemprano",label:"Final L. Temprano (3-6m)"},{key:"endLevanteMedio",label:"Final L. Medio (6-12m)"},{key:"endLevanteTardio",label:"Final L. Tardo (12-18m)"},{key:"endCabras",label:"Final Cabras (>18m)"},{key:"endPadres",label:"Final Padres"}],l$=t=>{if(t==null)return'""';let e=String(t);return e.match(/("|,|\n)/)&&(e=e.replace(/"/g,'""'),e=`"${e}"`),e},Eot=(t,e="simulacion_mensual_detallada.csv")=>{if(!t||t.length===0){console.warn("No hay datos para exportar a CSV."),alert("No hay datos mensuales para exportar.");return}try{const n=o$.map(u=>l$(u.label)).join(","),r=t.map(u=>o$.map(A=>{const d=u[A.key];return typeof d=="number"?["litrosLeche","ingresosLeche","ingresosTotales"].includes(A.key)?d.toFixed(2):String(Math.round(d)):l$(d)}).join(",")),i=[n,...r].join(`
`),a="\uFEFF",s=new Blob([a+i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(s);o.setAttribute("href",l),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)}catch(n){console.error("Error al exportar a CSV:",n),alert("Ocurri un error al intentar generar el archivo CSV.")}},Zs=({label:t,value:e,unit:n,icon:r,color:i="text-sky-500",tooltip:a,onShowInfo:s})=>{const o=l=>{l.stopPropagation(),s&&a&&s(a)};return c.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/10 flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg bg-gray-700 ${i}`,children:c.jsx(r,{size:20})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:t}),a&&s&&c.jsx("button",{onClick:o,className:"text-gray-500 hover:text-white -mr-2 -mt-2 p-1 rounded-full",title:"Ver ms informacin",children:c.jsx(Xy,{size:14})})]}),c.jsxs("p",{className:"text-xl font-bold text-white",children:[e," ",c.jsx("span",{className:"text-sm font-normal text-gray-300",children:n})]})]})]})},_ot=({options:t,value:e,onChange:n})=>c.jsx("div",{className:"flex rounded-lg bg-gray-900 border border-brand-border p-0.5",children:t.map(r=>c.jsx("button",{onClick:()=>n(r.value),className:`rounded-md px-3 py-1.5 text-sm font-medium transition-colors ${e===r.value?"bg-gray-700 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:r.label},String(r.value)))}),Bot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=n.litrosLeche,i=n.hembrasProduccion,a=i>0?r/i/30.44:0;return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-sky-400",children:"Litros (Mes):"}),c.jsxs("span",{className:"text-xs font-mono text-white",children:[ht(r,0)," L"]})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-gray-300",children:"Animales:"}),c.jsx("span",{className:"text-xs font-mono text-white",children:ht(i,0)})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-gray-300",children:"Prom. (L/da):"}),c.jsxs("span",{className:"text-xs font-mono text-white",children:[a.toFixed(2)," L/da"]})]})]})]})}return null},Vae=P.forwardRef(({data:t,monthlyData:e},n)=>{const r=P.useMemo(()=>{if(!t||!e)return[];const i=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return e.filter(a=>a.year===t.year).map((a,s)=>({...a,name:i[s%12],Litros:Math.round(a.litrosLeche)}))},[t,e]);return t?c.jsx("div",{ref:n,className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(Fl,{data:r,margin:{top:5,right:0,left:0,bottom:5},children:[c.jsx(Bc,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,allowDecimals:!1,tickFormatter:i=>ht(i,0)}),c.jsx(Er,{cursor:{fill:"rgba(56, 189, 248, 0.1)"},content:c.jsx(Bot,{})}),c.jsx(Xa,{dataKey:"Litros",fill:"#0ea5e9",radius:[4,4,0,0]}),c.jsx(S0,{y:t.avgMonthly,label:{value:`Prom: ${ht(t.avgMonthly,0)} L`,position:"insideTopRight",fill:"#f3f4f6",fontSize:12},stroke:"#f3f4f6",strokeDasharray:"4 4",strokeOpacity:.8})]})})}):c.jsx("div",{className:"text-gray-500",children:"Selecciona un ao."})});Vae.displayName="MilkLinearityChart";const Not=({data:t,onShowInfo:e})=>{if(!t)return null;const n=t.cv;let r="text-green-500";return n>15&&(r="text-yellow-500"),n>40&&(r="text-red-500"),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Zs,{label:"Coef. de Variacin (CV)",value:n.toFixed(1),unit:"%",icon:Q5,color:r,tooltip:`Coeficiente de Variacin (CV):
Mide la estabilidad de la produccin.
< 15% = Muy Lineal
> 40% = Muy Estacional`,onShowInfo:e}),c.jsx(Zs,{label:"Promedio Mensual",value:ht(t.avgMonthly,0),unit:"Litros",icon:Xu,tooltip:"El promedio simple de litros de leche producidos por mes durante este ao.",onShowInfo:e}),c.jsx(Zs,{label:"Mes Pico",value:ht(t.peakMonthValue,0),unit:`(${t.peakMonthLabel})`,icon:ya,color:"text-green-500",tooltip:"El mes con la mayor produccin de leche del ao.",onShowInfo:e}),c.jsx(Zs,{label:"Mes Valle",value:ht(t.valleyMonthValue,0),unit:`(${t.valleyMonthLabel})`,icon:Yj,color:"text-red-500",tooltip:"El mes con la menor produccin de leche del ao.",onShowInfo:e})]})},jot=({data:t,onShowInfo:e})=>t?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-base font-semibold text-white mt-6 mb-3",children:"Eficiencia Lechera (Horizonte Total)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Zs,{label:"Total Litros (Horizonte)",value:ht(t.totalLitrosHorizonte,0),unit:"Litros",icon:s0,color:"text-sky-500",tooltip:"Suma total de todos los litros de leche producidos durante todo el horizonte de la simulacin.",onShowInfo:e}),c.jsx(Zs,{label:"Litros / Vientre / Ao",value:ht(t.litrosPorVientrePorAnio,0),unit:"L/Vientre",icon:Cc,color:"text-sky-500",tooltip:"Un KPI clave de eficiencia: (Total Litros / Aos) / (Promedio de Vientres Productivos).",onShowInfo:e}),c.jsx(Zs,{label:"Total Das-Lactancia",value:ht(t.totalDiasLactancia,0),unit:"Das",icon:_q,tooltip:"El nmero total de 'das-animal' que las hembras pasaron en estado de lactancia activa.",onShowInfo:e}),c.jsx(Zs,{label:"Litros / Da-Lactancia",value:t.litrosPorDiaLactancia.toFixed(2),unit:"L/Da",icon:wpe,tooltip:"La produccin promedio real por animal por da de lactancia (Total Litros / Total Das-Lactancia).",onShowInfo:e})]})]}):null,Tot=({data:t,onShowInfo:e})=>t?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-white mb-3",children:"Tasas de Dinmica (Promedio Anualizado)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Zs,{label:"Tasa Natalidad",value:t.tasaNatalidadReal.toFixed(1),unit:"%",icon:ZA,color:"text-green-500",tooltip:"Nacimientos / (Vientres Prom. * Aos) * 100",onShowInfo:e}),c.jsx(Zs,{label:"Tasa Prolificidad",value:t.tasaProlificidadReal.toFixed(1),unit:"%",icon:Ipe,color:"text-green-500",tooltip:"Nacimientos Totales / Partos Totales * 100",onShowInfo:e}),c.jsx(Zs,{label:"Tasa Reemplazo",value:t.tasaReemplazoReal.toFixed(1),unit:"%",icon:fpe,color:"text-green-500",tooltip:"Promociones (LTD -> Cabras) / (Cabras Prom. * Aos) * 100",onShowInfo:e}),c.jsx(Zs,{label:"Tasa Descarte",value:t.tasaDescarteReal.toFixed(1),unit:"%",icon:Xj,color:"text-red-500",tooltip:"Ventas Descarte / (Cabras Prom. * Aos) * 100",onShowInfo:e})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-white mb-3",children:"Tasas de Bajas (Reales)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Zs,{label:"% Mort. Cras (0-3m)",value:t.mortalidadCriasReal.toFixed(1),unit:"%",icon:e2,color:"text-red-500",tooltip:"Muertes Cras / (Nacidos + Stock Inicial) * 100",onShowInfo:e}),c.jsx(Zs,{label:"% Mort. Levante (Anual.)",value:t.mortalidadLevanteReal.toFixed(1),unit:"%",icon:e2,color:"text-red-500",tooltip:"Muertes Levante / (Levante Prom. * Aos) * 100",onShowInfo:e}),c.jsx(Zs,{label:"% Mort. Cabras (Anual.)",value:t.mortalidadCabrasReal.toFixed(1),unit:"%",icon:e2,color:"text-red-500",tooltip:"Muertes Cabras / (Cabras Prom. * Aos) * 100",onShowInfo:e}),c.jsx(Zs,{label:"% Elim. Cras M (0-3m)",value:t.tasaEliminacionCriasMReal.toFixed(1),unit:"%",icon:Xj,color:"text-yellow-500",tooltip:"Ventas Cras M / (Nacidos M - Muertes M) * 100",onShowInfo:e})]})]})]}):null,Iot=({annualData:t,semestralData:e})=>{const n=[{name:"Poblacin",span:3},{name:"Produccin",span:3},{name:"Flujos: Entradas",span:3},{name:"Flujos: Salidas (Muertes)",span:4},{name:"Flujos: Salidas (Ventas)",span:2},{name:"Flujos: Internos (Promociones H)",span:4},{name:"Desglose Stock Final",span:7}],r=[{key:"startTotal",label:"Inicio"},{key:"endTotal",label:"Final"},{key:"netChange",label:"Cambio"},{key:"litrosLeche",label:"Litros Totales",format:a=>ht(a,0)},{key:"kpiProductivasCount",label:"Vientres (Final)",tooltip:"Vientres Productivos (>12m) al final del perodo."},{key:"ingresosLeche",label:"Ingresos Leche",format:a=>zb(a,"$",0)},{key:"nacimientosH",label:"Nacim. H"},{key:"nacimientosM",label:"Nacim. M"},{key:"comprasVientres",label:"Compras Vientres"},{key:"muertesCriaH",label:"Muertes Cras H"},{key:"muertesCriaM",label:"Muertes Cras M"},{key:"muertesLevante",label:"Muertes Levante (Total)"},{key:"muertesAdultas",label:"Muertes Adultas (Total)"},{key:"ventasCabritos",label:"Ventas Cras M"},{key:"ventasDescartes",label:"Ventas Descartes"},{key:"promocionCriaH",label:"Cra  LT"},{key:"promocionLevanteTemprano",label:"LT  LM"},{key:"promocionLevanteMedio",label:"LM  LTD"},{key:"promocionLevanteTardio",label:"LTD  Cabras"},{key:"endCriaH",label:"Final Cra H"},{key:"endCriaM",label:"Final Cra M"},{key:"endLevanteTemprano",label:"Final LT"},{key:"endLevanteMedio",label:"Final LM"},{key:"endLevanteTardio",label:"Final LTD"},{key:"endCabras",label:"Final Cabras"},{key:"endPadres",label:"Final Padres"}],i=(a,s=!1)=>{const o=a.muertesLevanteTemprano+a.muertesLevanteMedio+a.muertesLevanteTardio,l=a.muertesCabras+a.muertesPadres;return c.jsxs("tr",{className:s?"bg-gray-800/60":"bg-gray-700/50",children:[c.jsx("td",{className:`sticky left-0 z-10 p-2 text-sm whitespace-nowrap ${s?"bg-gray-800/60 pl-6":"bg-gray-700/50 font-semibold text-white"}`,children:a.periodLabel}),r.map(u=>{let A;u.key==="muertesLevante"?A=o:u.key==="muertesAdultas"?A=l:A=a[u.key]??0;const d=u.format||(f=>ht(f,0));return c.jsx("td",{className:"p-2 text-sm text-right whitespace-nowrap text-gray-200 font-mono",title:u.tooltip,children:d(A)},u.key)})]},a.periodLabel)};return c.jsx("div",{className:"overflow-x-auto h-full",children:c.jsxs("table",{className:"min-w-full border-separate border-spacing-0",children:[c.jsxs("thead",{className:"sticky top-0 z-20",children:[c.jsxs("tr",{className:"bg-gray-900/80 backdrop-blur-lg",children:[c.jsx("th",{className:"sticky left-0 z-30 p-2 text-xs font-semibold text-left uppercase text-white bg-gray-900/80 backdrop-blur-lg",children:"Periodo"}),n.map((a,s)=>c.jsx("th",{colSpan:a.span,className:"p-2 text-xs font-semibold text-center uppercase text-white border-b border-l border-white/10",children:a.name},s))]}),c.jsxs("tr",{className:"bg-gray-900/80 backdrop-blur-lg",children:[c.jsx("th",{className:"sticky left-0 z-30 p-2 text-xs font-semibold text-left uppercase text-white bg-gray-900/80 backdrop-blur-lg"}),r.map(a=>c.jsx("th",{className:"p-2 text-xs font-semibold text-right uppercase text-gray-300 border-b border-l border-white/10 whitespace-nowrap",title:a.tooltip,children:a.label},a.key))]})]}),c.jsx("tbody",{className:"bg-gray-800",children:t.map(a=>{const s=e.filter(o=>o.year===a.year);return c.jsxs(be.Fragment,{children:[i(a,!1),s.map(o=>i(o,!0))]},a.year)})})]})})},kot=({text:t,onClose:e})=>{if(!t)return null;const n=t.split(`
`).map((r,i)=>c.jsxs(be.Fragment,{children:[r,c.jsx("br",{})]},i));return c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative w-full max-w-sm p-6 m-4 bg-gray-800 border border-brand-border rounded-2xl shadow-2xl",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-sky-600/20 text-sky-400 flex-shrink-0",children:c.jsx(Iq,{size:20})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informacin del Indicador"}),c.jsx("p",{className:"text-sm text-gray-300 mt-2",children:n})]})]}),c.jsx("button",{onClick:e,className:"mt-6 w-full rounded-md bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-500",children:"Entendido"})]})})},N4=({label:t,icon:e,isActive:n,onClick:r})=>c.jsxs("button",{onClick:r,className:`flex-1 flex flex-col items-center justify-center p-3 text-xs font-medium transition-colors border-b-2 ${n?"text-sky-500 border-sky-500":"text-gray-500 border-transparent hover:text-gray-300"}`,children:[c.jsx(e,{size:18,className:"mb-1"}),t]}),Pot=({isOpen:t,onClose:e,monthlyData:n,semestralData:r,annualData:i})=>{const[a,s]=P.useState("produccion"),[o,l]=P.useState(!1),u=P.useRef(null),[A,d]=P.useState(null),f=B=>d(B),{isLoading:h,milkLinearityKpis:p,herdEfficiencyKpis:m,herdDynamicsKpis:v}=Sot(n,i),[g,y]=P.useState(()=>{var B;return((B=i[0])==null?void 0:B.year)??new Date().getFullYear()}),b=P.useMemo(()=>i.map(B=>({label:`Ao ${B.year}`,value:B.year})),[i]);be.useEffect(()=>{i.length>0&&!i.find(B=>B.year===g)&&y(i[0].year)},[i,g]);const C=P.useMemo(()=>p.find(B=>B.year===g),[p,g]),E=async()=>{if(h||!v||!m||!C){alert("Los datos de analtica an no estn listos.");return}if(a!=="produccion"&&(await s("produccion"),await new Promise(B=>setTimeout(B,50))),!u.current){alert("Error: No se pudo encontrar el grfico para exportar.");return}l(!0);try{const j=(await dF(u.current,{backgroundColor:"#1f2937",scale:2})).toDataURL("image/png",.9);rZe(i,r,v,m,p,j)}catch(B){console.error("Error al generar la imagen del grfico:",B),alert("Ocurri un error al exportar el grfico.")}finally{l(!1)}},N=()=>{if(h||!n||n.length===0){alert("Los datos mensuales an no estn listos para exportar.");return}Eot(n,"simulacion_detallada_mensual.csv")};if(!t)return null;const _=()=>{if(h)return c.jsx("div",{className:"p-10 text-center text-gray-400",children:"Calculando analticas..."});switch(a){case"produccion":return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" Anlisis de Linealidad de Leche"}),c.jsx(_ot,{options:b,value:g,onChange:B=>y(B)})]}),c.jsx(Vae,{ref:u,data:C,monthlyData:n}),c.jsx(Not,{data:C,onShowInfo:f}),c.jsx(jot,{data:m,onShowInfo:f})]});case"dinamica":return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" KPIs de Dinmica del Rebao"}),c.jsx(Tot,{data:v,onShowInfo:f})]});case"tabla":return c.jsx("div",{className:"w-full h-full overflow-hidden",children:c.jsx(Iot,{annualData:i,semestralData:r})});default:return null}};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:[c.jsx(kot,{text:A,onClose:()=>d(null)}),c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-4xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:B=>B.stopPropagation(),children:[o&&c.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-gray-900/80 backdrop-blur-sm",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-white text-lg font-semibold mt-4",children:"Generando PDF de Alto Nivel..."})]}),c.jsxs("header",{className:"relative flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0 pr-36",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"p-2 rounded-lg bg-sky-600/20 text-sky-400",children:c.jsx(UD,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-base font-bold text-white",children:"Reporte Detallado de Simulacin"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Anlisis de eficiencia y produccin del rebao"})]})]}),c.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[c.jsx("button",{onClick:N,disabled:h||o,title:"Exportar datos mensuales a CSV (para Google Sheets/Excel)",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Mpe,{size:20})}),c.jsx("button",{onClick:E,disabled:h||o,title:"Exportar Resumen a PDF de Alto Nivel",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Bq,{size:20})}),c.jsx("button",{onClick:e,disabled:o,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50",children:c.jsx(qo,{size:20})})]})]}),c.jsxs("nav",{className:"flex items-stretch border-b border-brand-border flex-shrink-0",children:[c.jsx(N4,{label:"Produccin de Leche",icon:Sq,isActive:a==="produccion",onClick:()=>s("produccion")}),c.jsx(N4,{label:"Dinmica del Rebao",icon:Cq,isActive:a==="dinamica",onClick:()=>s("dinamica")}),c.jsx(N4,{label:"Tabla Detallada",icon:Ype,isActive:a==="tabla",onClick:()=>s("tabla")})]}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-900/50",children:_()})]})]})},e5=[{key:"endCabras",name:"Cabras (>18m)",color:"#5856D6",gradientId:"colorCabrasModal"},{key:"endLevanteTardio",name:"L. Tardo (12-18m)",color:"#007AFF",gradientId:"colorLTardioModal"},{key:"endLevanteMedio",name:"L. Medio (6-12m)",color:"#34C759",gradientId:"colorLMedioModal"},{key:"endLevanteTemprano",name:"L. Temprano (3-6m)",color:"#FF9500",gradientId:"colorLTempranoModal"},{key:"endCriaH",name:"Cras H (0-3m)",color:"#FFCC00",gradientId:"colorCriaHModal"}],Dot=e5.map(t=>t.key),Oot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=e.reduce((i,a)=>i+a.value,0);return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsxs("p",{className:"text-lg font-mono text-white",children:["Total Hembras: ",ht(r,0)]}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.slice().reverse().map((i,a)=>c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{style:{backgroundColor:i.color},className:"w-2.5 h-2.5 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-300",children:i.name})]}),c.jsx("span",{className:"text-xs font-mono text-white",children:ht(i.value,0)})]},a))})]})}return null},Fot=t=>t>=1e3?`${(t/1e3).toFixed(0)}k`:t.toString(),Mot=({data:t,visibleCategories:e})=>{const n=r=>{const i=t[r];return i&&(i.month===1||r===0)?`Ao ${i.year}`:i&&i.month===7?"S2":""};return c.jsxs("div",{className:"h-[calc(90vh-160px)] w-full p-4",children:[" ",c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(Bx,{data:t,margin:{top:5,right:0,left:0,bottom:5},stackOffset:"none",children:[c.jsx("defs",{children:e5.map(r=>c.jsxs("linearGradient",{id:r.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:r.color,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:r.color,stopOpacity:.1})]},r.gradientId))}),c.jsx(Bc,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(hi,{dataKey:"monthIndex",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:n,padding:{left:10,right:10}}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:Fot,width:40}),c.jsx(Er,{content:c.jsx(Oot,{})}),e5.map(r=>e.includes(r.key)?c.jsx(Ol,{type:"monotone",dataKey:r.key,name:r.name,stackId:"1",stroke:r.color,strokeWidth:2,fill:`url(#${r.gradientId})`,activeDot:{r:6,stroke:"white",strokeWidth:2,fill:r.color}},r.key):null)]})})]})},Lot=({visibleCategories:t,onToggleCategory:e})=>c.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 px-4 py-2 border-b border-brand-border",children:e5.map(n=>{const r=t.includes(n.key);return c.jsxs("button",{onClick:()=>e(n.key),className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium transition-all ${r?"bg-gray-700 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-gray-400"}`,children:[c.jsx("span",{style:{backgroundColor:n.color},className:"w-2.5 h-2.5 rounded-full"}),n.name,r?c.jsx(F5,{size:14}):c.jsx(Nq,{size:14})]},n.key)})}),Rot=({isOpen:t,onClose:e,monthlyData:n,title:r})=>{const[i,a]=P.useState(Dot),s=o=>{a(l=>l.includes(o)?l.length===1?l:l.filter(A=>A!==o):[...l,o])};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-6xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:o=>o.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:r}),c.jsx("button",{onClick:e,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(qo,{size:20})})]}),c.jsx(Lot,{visibleCategories:i,onToggleCategory:s}),c.jsx("main",{className:"flex-1 overflow-hidden bg-gray-900/50 flex items-center justify-center",children:n&&n.length>0?c.jsx(Mot,{data:n,visibleCategories:i}):c.jsx("p",{className:"text-gray-400",children:"No hay datos para mostrar el grfico."})})]})}):null},t5=[{key:"endCabras",name:"Cabras (>18m)",color:"#5856D6",gradientId:"colorCabrasPeriod"},{key:"endLevanteTardio",name:"L. Tardo (12-18m)",color:"#007AFF",gradientId:"colorLTardioPeriod"},{key:"endLevanteMedio",name:"L. Medio (6-12m)",color:"#34C759",gradientId:"colorLMedioPeriod"},{key:"endLevanteTemprano",name:"L. Temprano (3-6m)",color:"#FF9500",gradientId:"colorLTempranoPeriod"},{key:"endCriaH",name:"Cras H (0-3m)",color:"#FFCC00",gradientId:"colorCriaHPeriod"}],Uot=t5.map(t=>t.key),Qot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=e.reduce((i,a)=>i+a.value,0);return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsxs("p",{className:"text-lg font-mono text-white",children:["Total Hembras: ",ht(r,0)]}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.slice().reverse().map((i,a)=>c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{style:{backgroundColor:i.color},className:"w-2.5 h-2.5 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-300",children:i.name})]}),c.jsx("span",{className:"text-xs font-mono text-white",children:ht(i.value,0)})]},a))})]})}return null},Hot=t=>t>=1e3?`${(t/1e3).toFixed(0)}k`:t.toString(),zot=({visibleCategories:t,onToggleCategory:e})=>c.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 px-4 py-2 border-b border-brand-border",children:t5.map(n=>{const r=t.includes(n.key);return c.jsxs("button",{onClick:()=>e(n.key),className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium transition-all ${r?"bg-gray-700 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-gray-400"}`,children:[c.jsx("span",{style:{backgroundColor:n.color},className:"w-2.5 h-2.5 rounded-full"}),n.name,r?c.jsx(F5,{size:14}):c.jsx(Nq,{size:14})]},n.key)})}),Vot=({data:t,visibleCategories:e})=>c.jsxs("div",{className:"h-[calc(90vh-200px)] w-full p-4",children:[" ",c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(Bx,{data:t,margin:{top:5,right:0,left:0,bottom:5},stackOffset:"none",children:[c.jsx("defs",{children:t5.map(n=>c.jsxs("linearGradient",{id:n.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:n.color,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:n.color,stopOpacity:.1})]},n.gradientId))}),c.jsx(Bc,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,padding:{left:10,right:10}}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:Hot,width:40}),c.jsx(Er,{content:c.jsx(Qot,{})}),t5.map(n=>e.includes(n.key)?c.jsx(Ol,{type:"monotone",dataKey:n.key,name:n.name,stackId:"1",stroke:n.color,strokeWidth:2,fill:`url(#${n.gradientId})`,activeDot:{r:6,stroke:"white",strokeWidth:2,fill:n.color}},n.key):null)]})})]}),$ot=({isOpen:t,onClose:e,monthlyData:n,periodData:r})=>{const[i,a]=P.useState(Uot),s=l=>{a(u=>u.includes(l)?u.length===1?u:u.filter(d=>d!==l):[...u,l])},o=P.useMemo(()=>{if(!r||!n)return[];let l=0,u=0;const A=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return"semestreIndex"in r?(l=(r.semestreIndex||0)*6,u=6):(l=(r.year-1)*12,u=12),n.slice(l,l+u).map(f=>({...f,name:A[f.month-1]}))},[r,n]);return!t||!r?null:c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-6xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:l=>l.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0",children:[c.jsxs("h1",{className:"text-xl font-bold text-white",children:["Evolucin de Hembras: ",r.periodLabel]}),c.jsx("button",{onClick:e,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(qo,{size:20})})]}),c.jsx(zot,{visibleCategories:i,onToggleCategory:s}),c.jsx("main",{className:"flex-1 overflow-hidden bg-gray-900/50 flex items-center justify-center",children:o.length>0?c.jsx(Vot,{data:o,visibleCategories:i}):c.jsx("p",{className:"text-gray-400",children:"No hay datos para mostrar el grfico."})})]})})},Kot=t=>{const e=g=>Math.round(g),n=e(t.startCabras)+e(t.startLevanteTardio),r=e(t.endCabras)+e(t.endLevanteTardio),i=r-n,a=n>0?i/n*100:0,s=e(t.startCriaH)+e(t.startLevanteTemprano)+e(t.startLevanteMedio),o=e(t.endCriaH)+e(t.endLevanteTemprano)+e(t.endLevanteMedio),l=n+s,A=r+o-l,d=e(t.nacimientosH)+e(t.nacimientosM),f=e(t.muertesTotales),h=e(t.ventasTotales),p=f+h;let m="";i>0?m+=`El perodo fue POSITIVO, con un crecimiento de +${i} vientres (+${a.toFixed(1)}%). `:m+=`Perodo de DECRECIMIENTO, con una prdida de ${i} vientres (${a.toFixed(1)}%). `,m+=`El rebao de vientres pas de ${n} a ${r} animales.

`,m+=`Este cambio fue el resultado de ${d} nacimientos, contrarrestados por ${p} bajas totales (${f} muertes y ${h} ventas). `,d>p?m+=`Los nacimientos superaron exitosamente a las bajas, impulsando el crecimiento.
`:m+=`Las bajas superaron a los nacimientos, causando la reduccin del rebao.
`;const v=o-s;return v>0?m+=`RECOMENDACIN: El "pool" de hembras en crecimiento aument (+${v}), lo que augura un buen potencial de reemplazo y crecimiento futuro. (Total Hembras: ${A>0?"+":""}${A})`:m+=`ALERTA: El "pool" de hembras en crecimiento se redujo (${v}), lo que podra comprometer el reemplazo y crecimiento en los prximos perodos. (Total Hembras: ${A})`,m},uv=(t,e,n,r)=>(GE(t,{startY:r,head:[[e,"Valor"]],body:n,theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:10}}),t.lastAutoTable.finalY+8),Wot=t=>{const e=new pn({orientation:"portrait",unit:"mm",format:"a4"});e.setFontSize(22),e.setFont("helvetica","bold"),e.setTextColor(44,62,80),e.text(`Reporte de Perodo: ${t.periodLabel}`,105,20,{align:"center"}),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(120,120,120),e.text(`Generado: ${new Date().toLocaleString()}`,105,27,{align:"center"}),e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(88,86,214),e.text("Anlisis IA GanaGenius",14,45),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(50,50,50);const n=Kot(t);e.splitTextToSize(n,182).forEach((u,A)=>{e.text(u,14,52+A*5)});let r=80;const i=[["Vientres Iniciales",ht(t.startCabras+t.startLevanteTardio)],["Vientres Finales",ht(t.endCabras+t.endLevanteTardio)],["Crecimiento Vientres (Neto)",`${ht(t.endCabras+t.endLevanteTardio-(t.startCabras+t.startLevanteTardio))}`],["Crecimiento Vientres (%)",ht(t.growthRate,1)+" %"]];r=uv(e,"Resumen de Vientres Productivos",i,r);const a=[["H. en Crecimiento (Inicio)",ht(t.startCriaH+t.startLevanteTemprano+t.startLevanteMedio)],["H. en Crecimiento (Final)",ht(t.endCriaH+t.endLevanteTemprano+t.endLevanteMedio)],["Total Hembras (Inicio)",ht(t.startCabras+t.startLevanteTardio+t.startCriaH+t.startLevanteTemprano+t.startLevanteMedio)],["Total Hembras (Final)",ht(t.endCabras+t.endLevanteTardio+t.endCriaH+t.endLevanteTemprano+t.endLevanteMedio)]];r=uv(e,"Resumen de Hembras en Crecimiento",a,r),e.addPage(),r=20;const s=[["Nacimientos (Hembras)",ht(t.nacimientosH)],["Nacimientos (Machos)",ht(t.nacimientosM)],["Total Nacimientos",ht(t.nacimientosH+t.nacimientosM)],["Muertes Totales",ht(t.muertesTotales)],["Ventas Totales",ht(t.ventasTotales)],["Compras Totales",ht(t.comprasTotales)]];r=uv(e,"Flujos del Perodo",s,r);const o=[["Muertes Cras H",ht(t.muertesCriaH)],["Muertes Cras M",ht(t.muertesCriaM)],["Muertes Levante",ht(t.muertesLevanteTemprano+t.muertesLevanteMedio+t.muertesLevanteTardio)],["Muertes Cabras",ht(t.muertesCabras)],["Muertes Padres",ht(t.muertesPadres)],["Ventas Cras M (Elim.)",ht(t.ventasCabritos)],["Ventas Cabras (Descarte)",ht(t.ventasDescartes)]];r=uv(e,"Desglose de Bajas",o,r);const l=[["Cabras (>18m)",ht(t.endCabras)],["L. Tardo (12-18m)",ht(t.endLevanteTardio)],["L. Medio (6-12m)",ht(t.endLevanteMedio)],["L. Temprano (3-6m)",ht(t.endLevanteTemprano)],["Cras H (0-3m)",ht(t.endCriaH)],["Cras M (0-3m)",ht(t.endCriaM)],["Padres (>12m)",ht(t.endPadres)]];r=uv(e,"Desglose de Stock (Final)",l,r),e.save(`Reporte_${t.periodLabel.replace(/ /g,"_")}.pdf`)},Jn=t=>Math.round(t||0),Got=({data:t,onViewYearChart:e,onExportPeriodPdf:n})=>{const[r,i]=P.useState(!1),a=N=>(N||0).toFixed(1),s=Jn(t.startCabras)+Jn(t.startLevanteTardio),o=Jn(t.endCabras)+Jn(t.endLevanteTardio),l=Jn(t.startLevanteTemprano)+Jn(t.startLevanteMedio)+Jn(t.startCriaH),u=Jn(t.endLevanteTemprano)+Jn(t.endLevanteMedio)+Jn(t.endCriaH),A=s+l,d=o+u,f=o-s,h=s>0?f/s*100:0,p=f>=0,m=p?ya:Yj,v=p?"text-green-500":"text-red-500",g=d-A,y=A>0?g/A*100:0,b=g>=0,C=b?ya:Yj,E=b?"text-green-500":"text-red-500";return c.jsxs("div",{className:"w-full overflow-hidden rounded-xl border border-white/10 bg-gray-800/50 shadow-md backdrop-blur-lg",children:[c.jsx("button",{onClick:()=>i(!r),className:"w-full p-5 text-left focus:outline-none focus:ring-2 focus:ring-sky-500 rounded-t-xl",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("p",{className:"text-lg font-bold text-white",children:t.periodLabel}),c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsx("p",{className:"text-4xl font-bold leading-none text-white",children:o}),c.jsxs("p",{className:"text-2xl font-medium text-gray-400",children:["(Inicio: ",s,")"]})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Vientres Productivos (Final vs. Inicial)"}),c.jsxs("p",{className:"text-sm text-gray-400 pt-1",children:["Hembras Totales: ",c.jsx("span",{className:"font-semibold text-white",children:d})," (Inicio: ",A,")"]})]}),c.jsxs("div",{className:"flex-1 text-right space-y-2",children:[c.jsxs("div",{className:`text-right ${v}`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(m,{size:"1.2em"}),c.jsxs("p",{className:"text-xl font-bold",children:[a(h),"%"]})]}),c.jsxs("p",{className:"text-lg font-medium",children:[p?"+":"",f," Vientres"]})]}),c.jsxs("div",{className:`text-right text-xs ${E} opacity-70`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(C,{size:"1em"}),c.jsxs("p",{className:"font-semibold",children:[a(y),"%"]})]}),c.jsxs("p",{className:"font-medium",children:[b?"+":"",g," Hembras Totales"]})]})]}),c.jsxs("div",{className:"ml-4 text-gray-500 pt-2",children:[" ",r?c.jsx(xpe,{size:20}):c.jsx(Kh,{size:20})," "]})]})}),r&&c.jsxs("div",{className:"relative border-t border-white/10 px-5 pb-14 pt-4 animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-0.5 md:pr-4 md:border-r md:border-white/10",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Desglose Final (Periodo)"}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endCabras)})," Cabras (",">","18m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endLevanteTardio)})," L. Tardo (12-18m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endLevanteMedio)})," L. Medio (6-12m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endLevanteTemprano)})," L. Temprano (3-6m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endCriaH)})," Cras H (0-3m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endCriaM)})," Cras M (0-3m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endPadres)})," Padres (",">","12m)"]}),c.jsx("hr",{className:"my-1 border-white/10"}),c.jsxs("p",{className:"text-sm text-gray-100",children:[c.jsx("span",{className:"font-bold text-white",children:Jn(t.endTotal)})," Animales Totales (Final)"]})]}),c.jsxs("div",{className:"space-y-3 md:pr-4 md:border-r md:border-white/10",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Movimientos del Periodo"}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[c.jsx(Co,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Jn(t.nacimientosH+t.nacimientosM)," Nacimientos Totales"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[c.jsxs("div",{children:[Jn(t.nacimientosH)," Hembras (0-3m)"]})," ",c.jsxs("div",{children:[Jn(t.nacimientosM)," Machos (0-3m)"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[c.jsx(Cq,{size:14})," ",c.jsx("span",{className:"font-semibold",children:"Promociones (Hembras)"})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[c.jsxs("div",{children:[Jn(t.promocionCriaH)," Cra H  L. Temprano"]}),c.jsxs("div",{children:[Jn(t.promocionLevanteTemprano)," L. Temprano  L. Medio"]}),c.jsxs("div",{children:[Jn(t.promocionLevanteMedio)," L. Medio  L. Tardo"]}),c.jsxs("div",{children:[Jn(t.promocionLevanteTardio)," L. Tardo  Cabras"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(e2,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Jn(t.muertesTotales)," Muertes"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.muertesCriaH>0&&c.jsxs("div",{children:[Jn(t.muertesCriaH)," Cras H (0-3m)"]}),t.muertesCriaM>0&&c.jsxs("div",{children:[Jn(t.muertesCriaM)," Cras M (0-3m)"]}),t.muertesLevanteTemprano>0&&c.jsxs("div",{children:[Jn(t.muertesLevanteTemprano)," L. Temprano (3-6m)"]}),t.muertesLevanteMedio>0&&c.jsxs("div",{children:[Jn(t.muertesLevanteMedio)," L. Medio (6-12m)"]}),t.muertesLevanteTardio>0&&c.jsxs("div",{children:[Jn(t.muertesLevanteTardio)," L. Tardo (12-18m)"]}),t.muertesCabras>0&&c.jsxs("div",{children:[Jn(t.muertesCabras)," Cabras (",">","18m)"]}),t.muertesPadres>0&&c.jsxs("div",{children:[Jn(t.muertesPadres)," Padres"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(Xj,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Jn(t.ventasTotales)," Ventas (Elim./Descarte)"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.ventasCabritos>0&&c.jsxs("div",{children:[Jn(t.ventasCabritos)," Cras M (Eliminacin)"]}),t.ventasDescartes>0&&c.jsxs("div",{children:[Jn(t.ventasDescartes)," Cabras (Descarte)"]})]})]}),t.comprasTotales>0&&c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[c.jsx(Kpe,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Jn(t.comprasTotales)," Compras"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.comprasVientres>0&&c.jsxs("div",{children:[Jn(t.comprasVientres)," Vientres (12-18m)"]}),t.comprasPadres>0&&c.jsxs("div",{children:[Jn(t.comprasPadres)," Padres"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Capacidad Productiva (Inicio  Fin)"}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Eq,{size:12})," Vientres Productivos (",">","12m)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[s,"  ",o]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(qj,{size:12})," % Vientres Productivos (Final)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[a(t.kpiProductivasPercent),"%"]})]}),c.jsx("hr",{className:"my-2 border-white/10"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(ya,{size:12})," Hembras en Crecimiento (","<","12m)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[l,"  ",u]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(qj,{size:12})," % Hembras en Crecimiento (Final)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[a(t.kpiCrecimientoPercent),"%"]})]})]})]})]}),c.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[c.jsx("button",{onClick:N=>{N.stopPropagation(),e(t)},className:"p-2 rounded-full text-gray-300 bg-gray-700/80 hover:text-white hover:bg-gray-600 transition-colors backdrop-blur-sm",title:`Ver evolucin detallada de ${t.periodLabel}`,children:c.jsx(kq,{size:18})}),c.jsx("button",{onClick:N=>{N.stopPropagation(),n(t)},className:"p-2 rounded-full text-gray-300 bg-gray-700/80 hover:text-white hover:bg-gray-600 transition-colors backdrop-blur-sm ml-2",title:`Exportar ${t.periodLabel} a PDF`,children:c.jsx(Bq,{size:18})})]})]})]})},c$=({options:t,value:e,onChange:n})=>c.jsxs("div",{className:"flex rounded-lg bg-gray-700 p-0.5",children:[" ",t.map(r=>c.jsxs("button",{onClick:()=>n(r.value),className:`rounded-md px-3 py-1 text-sm font-medium transition-colors ${e===r.value?"bg-sky-600 text-white shadow-sm":"text-gray-300 hover:text-white"}`,children:[" ",r.label," "]},String(r.value)))," "]}),u$=({simulationConfig:t,mode:e})=>{const[n,r]=P.useState(!1),[i,a]=P.useState(!1),[s,o]=P.useState(!1),[l,u]=P.useState(null),[A,d]=P.useState(3),[f,h]=P.useState("Anual"),{annualData:p,semestralData:m,monthlyData:v}=wot(t,A),g=f==="Anual"?p:m,y=[{label:"1 Ao",value:1},{label:"3 Aos",value:3},{label:"5 Aos",value:5},{label:"10 Aos",value:10}],b=[{label:"Anual",value:"Anual"},{label:"Semestral",value:"Semestral"}],C=N=>{u(N),o(!0)},E=N=>{Wot(N)};return c.jsxs("div",{className:"py-8",children:[c.jsxs("div",{className:"flex flex-col items-stretch gap-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white max-w-4xl mx-auto px-4 text-center md:text-left",children:[" Evolucin del Rebao ",c.jsxs("span",{className:"ml-3 font-normal text-gray-400 hidden md:inline",children:["(",e==="simulacion"?"Simulacin":"Proyeccin Real",")"]})," "]}),c.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-4xl mx-auto px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 w-full justify-center",children:[c.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"Horizonte:"}),c.jsx(c$,{options:y,value:A,onChange:N=>d(N)})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"Vista:"}),c.jsx(c$,{options:b,value:f,onChange:N=>h(N)})]}),c.jsxs("div",{className:"flex gap-2 mt-4 md:mt-0",children:[c.jsxs("button",{onClick:()=>a(!0),disabled:!v||v.length===0,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 px-3 py-1.5 text-sm font-medium text-sky-300 transition-colors hover:bg-gray-600 disabled:opacity-50",title:"Ver grfico de evolucin de poblacin",children:[c.jsx(kq,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Grfico Total"})]}),c.jsxs("button",{onClick:()=>r(!0),disabled:!p||p.length===0,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 px-3 py-1.5 text-sm font-medium text-sky-300 transition-colors hover:bg-gray-600 disabled:opacity-50",title:"Ver reporte detallado de simulacin",children:[c.jsx(UD,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Reporte Detallado"})]})]})]})]}),c.jsx("div",{className:"flex flex-col items-stretch gap-4 max-w-4xl mx-auto px-4",children:g.map(N=>{const _=f==="Anual"?`anno-${N.year}`:`sem-${N.semestreIndex}`;return c.jsx(Got,{data:N,onViewYearChart:C,onExportPeriodPdf:E},_)})})]}),c.jsx(Pot,{isOpen:n,onClose:()=>r(!1),monthlyData:v,semestralData:m,annualData:p}),c.jsx(Rot,{isOpen:i,onClose:()=>a(!1),monthlyData:v,title:`Evolucin Total del Rebao (${A} Aos)`}),l&&c.jsx($ot,{isOpen:s,onClose:()=>{o(!1),u(null)},periodData:l,monthlyData:v})]})},$f=({title:t,icon:e,children:n,defaultOpen:r=!1})=>{const[i,a]=P.useState(r);return c.jsxs("div",{className:"mb-4",children:[c.jsxs("button",{type:"button",onClick:()=>a(!i),className:"text-sm font-semibold text-zinc-400 uppercase tracking-wide flex items-center justify-between gap-2 mb-2 px-4 w-full",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[" ",c.jsx(e,{size:16})," ",t]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-4 h-4 transition-transform ${i?"rotate-180":"rotate-0"}`,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),i&&c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden animate-fade-in",children:n})]})},Wi=be.forwardRef(({label:t,unit:e,disabled:n,...r},i)=>c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${n?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:r.id||r.name,className:"text-white text-base",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{ref:i,...r,disabled:n,className:`w-24 bg-zinc-700/80 rounded-lg p-2 text-white text-right font-mono text-base focus:outline-none focus:ring-2 focus:ring-brand-orange ${n?"text-zinc-400":"text-white"}`}),e&&c.jsx("span",{className:"text-zinc-400 w-8 text-left",children:e})]})]})),Ow=({label:t,name:e,value:n,onChange:r,disabled:i})=>{const a=["No Usar","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],s=o=>{const l=parseInt(o.target.value,10);r(e,l===0?void 0:l)};return c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${i?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:e,className:"text-white text-base",children:t}),c.jsx("select",{id:e,name:e,value:n??0,onChange:s,disabled:i,className:`w-28 bg-zinc-700/80 rounded-lg p-2 text-base focus:outline-none focus:ring-2 focus:ring-brand-orange appearance-none text-center ${i?"text-zinc-400":"text-white"}`,children:a.map((o,l)=>c.jsx("option",{value:l,children:o},l))})]})},qot=({label:t,name:e,value:n,onChange:r,options:i,disabled:a})=>{const s=o=>{r(e,parseInt(o.target.value,10))};return c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${a?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:e,className:"text-white text-base",children:t}),c.jsx("select",{id:e,name:e,value:n??"",onChange:s,disabled:a,className:`w-40 bg-zinc-700/80 rounded-lg p-2 text-base focus:outline-none focus:ring-2 focus:ring-brand-orange appearance-none text-center ${a?"text-zinc-400":"text-white"}`,children:i.map(o=>c.jsx("option",{value:o.value,children:o.label},o.value))})]})},Yot=({label:t,description:e,icon:n,isChecked:r,onToggle:i,disabled:a=!1})=>c.jsxs("div",{className:`p-4 bg-brand-glass rounded-2xl border border-brand-border flex items-center justify-between ${a?"opacity-50 cursor-not-allowed":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-gray-700 text-sky-400",children:c.jsx(n,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base font-semibold text-white",children:t}),c.jsx("p",{className:"text-sm text-gray-400",children:e})]})]}),c.jsx("button",{type:"button",role:"switch","aria-checked":r,onClick:()=>!a&&i(!r),disabled:a,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-gray-900 ${r?"bg-sky-500":"bg-gray-600"} ${a?"cursor-not-allowed":""}`,children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${r?"translate-x-5":"translate-x-0"}`})})]}),j4={initialCabras:0,initialLevanteTardio:0,initialLevanteMedio:0,initialLevanteTemprano:0,initialCriaH:0,initialCriaM:0,initialPadres:1,diasLactanciaObjetivo:305},Xot=({initialConfig:t,realConfig:e,onSimulate:n})=>{const[r,i]=P.useState(()=>({...j4,...t||{}})),[a,s]=P.useState(!1);P.useEffect(()=>{!a&&t&&JSON.stringify(t)!==JSON.stringify(r)&&i({...j4,...t})},[t,a]),P.useEffect(()=>{if(a)return;const h=r.initialCabras??0,p=r.initialLevanteTemprano??0,m=r.initialLevanteMedio??0,v=r.initialLevanteTardio??0,g=r.initialPadres,y=h+v+m+p,b=Math.max(1,Math.ceil(y/30));(g===void 0||g!==b)&&i(C=>({...C,initialPadres:b}))},[r.initialCabras,r.initialLevanteTemprano,r.initialLevanteMedio,r.initialLevanteTardio,r.initialPadres,a]);const o=h=>{const{name:p,value:m,type:v}=h.target;let g=m;v==="number"&&(m===""?g=void 0:(g=parseFloat(m),isNaN(g)&&(g=void 0))),i(y=>({...y,[p]:g}))},l=(h,p)=>{i(m=>({...m,[h]:p}))},u=(h,p)=>{i(m=>({...m,[h]:p}))},A=h=>{s(h),i(h&&e?e:{...j4,...t||{}})},d=h=>{if(h.preventDefault(),a&&!e){alert("Error: No se pudieron cargar los datos reales. Desactiva el modo 'Usar Datos Reales' para continuar.");return}if(!a&&!r.mesInicioMonta1&&!r.mesInicioMonta2&&!r.mesInicioMonta3&&!r.mesInicioMonta4){alert("Debes seleccionar al menos un mes de inicio para la Temporada de Monta 1.");return}if(!a){const p=r.litrosPromedioPorAnimal??0,m=r.litrosPicoPorAnimal??0;if(m>0&&m<=p){alert("Error: La Produccin (Pico) debe ser mayor que la Produccin (Promedio).");return}}console.log(`Ejecutando simulacin con (Modo Real: ${a}):`,r),n(r)},f=!!e;return c.jsxs("form",{onSubmit:d,className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in p-4 pb-32",children:[c.jsxs("header",{className:"text-center mb-6",children:[" ",c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Modo Simulacin"})," ",c.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus parmetros de partida"})," "]}),c.jsx(Yot,{label:"Usar Datos Reales de mi Finca",description:f?"Poblar el setup con KPIs reales":"Calculando KPIs reales...",icon:kpe,isChecked:a,onToggle:A,disabled:!f}),c.jsxs($f,{title:"Poblacin Inicial",icon:ZA,defaultOpen:!0,children:[c.jsx(Wi,{label:"Cabras (>18m)",type:"number",name:"initialCabras",value:r.initialCabras??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"L. Tardo (12-18m)",type:"number",name:"initialLevanteTardio",value:r.initialLevanteTardio??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"L. Medio (6-12m)",type:"number",name:"initialLevanteMedio",value:r.initialLevanteMedio??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"L. Temprano (3-6m)",type:"number",name:"initialLevanteTemprano",value:r.initialLevanteTemprano??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"Cras H (0-3m)",type:"number",name:"initialCriaH",value:r.initialCriaH??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"Cras M (0-3m)",type:"number",name:"initialCriaM",value:r.initialCriaM??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"Reproductores (>12m)",type:"number",name:"initialPadres",value:r.initialPadres??"",onChange:o,min:"1",step:"1",unit:"N",disabled:a}),!a&&c.jsx("p",{className:"text-xs text-zinc-500 px-3 py-2 text-center",children:"Nota: Reproductores calculados (1/30 hembras)."}),c.jsx(Wi,{label:"Compras Vientres/Ao",type:"number",name:"comprasVientresAnual",value:r.comprasVientresAnual??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a})]}),c.jsxs($f,{title:"Temporadas de Monta",icon:So,defaultOpen:!0,children:[c.jsx(Ow,{label:"Inicio Temporada 1",name:"mesInicioMonta1",value:r.mesInicioMonta1,onChange:l,disabled:a}),c.jsx(Ow,{label:"Inicio Temporada 2",name:"mesInicioMonta2",value:r.mesInicioMonta2,onChange:l,disabled:a}),c.jsx(Ow,{label:"Inicio Temporada 3",name:"mesInicioMonta3",value:r.mesInicioMonta3,onChange:l,disabled:a}),c.jsx(Ow,{label:"Inicio Temporada 4",name:"mesInicioMonta4",value:r.mesInicioMonta4,onChange:l,disabled:a}),c.jsx(Wi,{label:"Duracin Monta",type:"number",name:"duracionMontaDias",value:r.duracionMontaDias??"",onChange:o,min:"1",step:"1",unit:"das",disabled:a})]}),c.jsx($f,{title:"Parmetros de Gestacin",icon:pB,defaultOpen:!1,children:c.jsx(Wi,{label:"Das Gestacin",type:"number",name:"diasGestacion",value:r.diasGestacion??"",onChange:o,min:"140",max:"160",step:"1",unit:"das",disabled:a})}),c.jsxs($f,{title:"Manejo Productivo",icon:pB,defaultOpen:!1,children:[c.jsx(Wi,{label:"Produccin Leche (Prom.)",type:"number",name:"litrosPromedioPorAnimal",value:r.litrosPromedioPorAnimal??"",onChange:o,min:"0",step:"0.1",unit:"L/da",disabled:a}),c.jsx(Wi,{label:"Produccin Leche (Pico)",type:"number",name:"litrosPicoPorAnimal",value:r.litrosPicoPorAnimal??"",onChange:o,min:"0",step:"0.1",unit:"L/da",disabled:a}),c.jsx(qot,{label:"Das de Lactancia",name:"diasLactanciaObjetivo",value:r.diasLactanciaObjetivo,onChange:u,options:[{label:"305 Das (10 Meses)",value:305},{label:"210 Das (7 Meses)",value:210}],disabled:a})]}),c.jsxs($f,{title:"ndices Biolgicos",icon:qj,defaultOpen:!0,children:[c.jsx(Wi,{label:"% de Preez",type:"number",name:"porcentajePrenez",value:r.porcentajePrenez??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Prolificidad",type:"number",name:"porcentajeProlificidad",value:r.porcentajeProlificidad??"",onChange:o,min:"0",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Mortalidad Cras (0-3m)",type:"number",name:"mortalidadCrias",value:r.mortalidadCrias??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Mortalidad Levante (3-18m)",type:"number",name:"mortalidadLevante",value:r.mortalidadLevante??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Mortalidad Cabras (>18m)",type:"number",name:"mortalidadCabras",value:r.mortalidadCabras??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a})]}),c.jsxs($f,{title:"Parmetros de Manejo",icon:pB,defaultOpen:!1,children:[c.jsx(Wi,{label:"% Reemplazo (Anual)",type:"number",name:"tasaReemplazo",value:r.tasaReemplazo??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Eliminacin Cras M (0-3m)",type:"number",name:"eliminacionCabritos",value:r.eliminacionCabritos??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a})]}),c.jsxs($f,{title:"Parmetros Econmicos",icon:vc,defaultOpen:!1,children:[c.jsx(Wi,{label:"Precio Venta Leche",type:"number",name:"precioLecheLitro",value:r.precioLecheLitro??"",onChange:o,min:"0",step:"0.01",unit:`${r.monedaSimbolo??"$"}/L`,disabled:a}),c.jsx(Wi,{label:"Precio Venta Cabrito",type:"number",name:"precioVentaCabritoKg",value:r.precioVentaCabritoKg??"",onChange:o,min:"0",step:"0.01",unit:`${r.monedaSimbolo??"$"}/Kg`,disabled:a}),c.jsx(Wi,{label:"Precio Venta Descarte",type:"number",name:"precioVentaDescarteAdulto",value:r.precioVentaDescarteAdulto??"",onChange:o,min:"0",step:"1",unit:r.monedaSimbolo??"$",disabled:a})]}),c.jsx("div",{className:"fixed bottom-16 left-0 right-0 p-4 bg-brand-dark/80 backdrop-blur-lg border-t border-brand-border z-10",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:c.jsxs("button",{type:"submit",className:"w-full max-w-2xl mx-auto bg-brand-orange text-black font-bold py-4 rounded-xl text-lg flex items-center justify-center gap-2 hover:bg-orange-400 transition-colors",children:[c.jsx(ya,{size:20}),a?"Correr Simulacin (con Datos Reales)":"Correr Simulacin (Manual)"]})})]})};function Jot(t){return new Worker(""+new URL("optimizationWorker-BqR3qtmQ.js",import.meta.url).href,{name:t==null?void 0:t.name})}const Zot=({baseConfig:t,horizonInYears:e,enabled:n,totalSimulations:r=200})=>{const[i,a]=P.useState(!1),[s,o]=P.useState(0),[l,u]=P.useState(null),[A,d]=P.useState(null),[f,h]=P.useState(null),[p,m]=P.useState(null),[v,g]=P.useState(null),[y,b]=P.useState(null),C=P.useRef(null);return P.useEffect(()=>{if(!(!n||!t)&&!C.current){a(!0),o(0),u(null),d(null),h(null),m(null),g(null),b(null),console.log("[GanaGenius V8.5] Iniciando optimizador de linealidad...");try{const E=new Jot;C.current=E,E.onmessage=_=>{const{type:B,progress:j,baseCV:D,bestCV:k,bestDistribution:O,error:F,baseMonthlyData:H,bestMonthlyData:Y}=_.data;B==="progress"?(o(j??0),D&&u(D),k&&d(k)):B==="result"?(console.log("[GanaGenius V8.5] Optimizacin completada!",_.data),a(!1),o(j??1),u(D??null),d(k??null),h(O??null),g(H??null),b(Y??null),E.terminate(),C.current=null):B==="error"&&(console.error("[GanaGenius V8.5] Error en Worker:",F),a(!1),m(F??"Error desconocido en el worker"),E.terminate(),C.current=null)},E.onerror=_=>{console.error("[GanaGenius V8.5] Error fatal del Worker:",_),a(!1),m(`Error en el Worker: ${_.message||"Fall la instanciacin"}`),E.terminate(),C.current=null};const N={baseConfig:t,horizonInYears:e,totalSimulations:r};E.postMessage(N)}catch(E){console.error("[GanaGenius V8.5] No se pudo crear el Worker:",E),a(!1),m(`No se pudo iniciar el optimizador: ${E.message}`)}return()=>{C.current&&(console.log("[GanaGenius V8.5] Terminando optimizacin prematuramente..."),C.current.terminate(),C.current=null,a(!1))}}},[t,e,n,r]),{isLoading:i,progress:s,baseCV:l,bestCV:A,bestDistribution:f,error:p,baseMonthlyData:v,bestMonthlyData:y}};function elt(t){return new Worker(""+new URL("sensitivityWorker-BUbenlRC.js",import.meta.url).href,{name:t==null?void 0:t.name})}const tlt=({baseConfig:t,horizonInYears:e,enabled:n})=>{const[r,i]=P.useState(!1),[a,s]=P.useState(null),[o,l]=P.useState(null),u=P.useRef(null);return P.useEffect(()=>{if(!(!n||!t)&&!u.current){i(!0),s(null),l(null),console.log("[GanaGenius V8.5] Iniciando Anlisis de Sensibilidad...");try{const A=new elt;u.current=A,A.onmessage=f=>{const{type:h,report:p,error:m}=f.data;h==="result"&&p?(console.log("[GanaGenius V8.5] Anlisis de Sensibilidad completado.",p),s(p),i(!1),A.terminate(),u.current=null):h==="error"&&(console.error("[GanaGenius V8.5] Error en Sensitivity Worker:",m),l(m??"Error desconocido en el worker"),i(!1),A.terminate(),u.current=null)},A.onerror=f=>{console.error("[GanaGenius V8.5] Error fatal del Sensitivity Worker:",f),l(`Error en el Worker: ${f.message||"Fall la instanciacin"}`),i(!1),A.terminate(),u.current=null};const d={baseConfig:t,horizonInYears:e};A.postMessage(d)}catch(A){console.error("[GanaGenius V8.5] No se pudo crear el Sensitivity Worker:",A),l(`No se pudo iniciar el anlisis: ${A.message}`),i(!1)}return()=>{u.current&&(console.log("[GanaGenius V8.5] Terminando anlisis de sensibilidad..."),u.current.terminate(),u.current=null,i(!1))}}},[t,e,n]),{isLoading:r,report:a,error:o}},$ae=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload.periodLabel;return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.map(r=>c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsxs("span",{className:"text-xs",style:{color:r.color},children:[r.name,":"]}),c.jsx("span",{className:"text-xs font-mono text-white",children:r.dataKey.includes("Ingreso")?zb(r.value,"$",0):ht(r.value,0)+" L"})]},r.name))})]})}return null},nlt=({baseData:t,optimizedData:e})=>{const n=P.useMemo(()=>!t||!e?[]:t.slice(0,12).map((r,i)=>{var a;return{name:r.periodLabel.split(" ")[2],"CV Actual (L)":r.litrosLeche,"CV Optimizado (L)":((a=e[i])==null?void 0:a.litrosLeche)??0,periodLabel:r.periodLabel}}),[t,e]);return c.jsx("div",{className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(IO,{data:n,margin:{top:5,right:0,left:-20,bottom:5},children:[c.jsx(Bc,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickFormatter:r=>ht(r,0)}),c.jsx(Er,{content:c.jsx($ae,{})}),c.jsx(Il,{wrapperStyle:{fontSize:"12px"}}),c.jsx(ou,{type:"monotone",name:"CV Actual (L)",dataKey:"CV Actual (L)",stroke:"#f87171",strokeWidth:2,dot:!1}),c.jsx(ou,{type:"monotone",name:"CV Optimizado (L)",dataKey:"CV Optimizado (L)",stroke:"#4ade80",strokeWidth:2,dot:!1})]})})})},rlt=({baseData:t,optimizedData:e,kpiName:n})=>{const r=P.useMemo(()=>!t||!e?[]:t.map((a,s)=>{var o;return{name:`A${a.year} M${a.month}`,periodLabel:a.periodLabel,"Ingreso Actual":a.ingresosTotales,[`Ingreso (+${n})`]:((o=e[s])==null?void 0:o.ingresosTotales)??0}}),[t,e,n]),i=a=>a.endsWith("M1")?a.split(" ")[0]:"";return c.jsx("div",{className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(Fi,{width:"100%",height:"100%",children:c.jsxs(IO,{data:r,margin:{top:5,right:0,left:-20,bottom:5},children:[c.jsx(Bc,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12,tickFormatter:i}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickFormatter:a=>`${ht(a/1e3,0)}k`}),c.jsx(Er,{content:c.jsx($ae,{})}),c.jsx(Il,{wrapperStyle:{fontSize:"12px"}}),c.jsx(ou,{type:"monotone",name:"Ingreso Actual",dataKey:"Ingreso Actual",stroke:"#9ca3af",strokeWidth:2,dot:!1}),c.jsx(ou,{type:"monotone",name:`Ingreso (+${n})`,dataKey:`Ingreso (+${n})`,stroke:"#4ade80",strokeWidth:2,dot:!1})]})})})},ilt=({baseConfig:t,horizonInYears:e,onSaveOptimizedPlan:n})=>{const[r,i]=P.useState("idle"),{isLoading:a,report:s,error:o}=tlt({baseConfig:t,horizonInYears:e,enabled:r==="diagnosing"}),{isLoading:l,progress:u,baseCV:A,bestCV:d,bestDistribution:f,error:h,baseMonthlyData:p,bestMonthlyData:m}=Zot({baseConfig:t,horizonInYears:e,enabled:r==="optimizing"}),v=o||h,g=()=>{i("diagnosing")},y=()=>{i("optimizing")},b=j=>{if(!t)return;const D={...t,matingDistribution:j};n(D)},C=[t==null?void 0:t.mesInicioMonta1,t==null?void 0:t.mesInicioMonta2,t==null?void 0:t.mesInicioMonta3,t==null?void 0:t.mesInicioMonta4].filter(j=>typeof j=="number"&&j>0),E=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],N=j=>{if(!j)return null;const D=j.impacts[0],k=(t==null?void 0:t.monedaSimbolo)??"$",O=j.impacts.find(F=>F.kpi===D.kpi);return c.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Diagnstico Zootcnico Completo"}),c.jsxs("p",{className:"text-sm text-gray-300",children:["Tu **",D.kpi,"** es tu eslabn ms dbil (y tu mayor oportunidad). Mejorar este KPI tiene el mayor impacto en tus ingresos."]}),c.jsx(rlt,{baseData:j.baseMonthlyData,optimizedData:(O==null?void 0:O.monthlyData)??null,kpiName:D.kpi}),c.jsx("div",{className:"my-4 space-y-2 text-left",children:j.impacts.map(F=>c.jsxs("div",{className:`p-3 rounded-lg border ${F.kpi===D.kpi?"bg-green-900/50 border-green-700":"bg-gray-800 border-gray-700"}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-semibold text-white",children:F.kpi}),c.jsxs("span",{className:`font-bold ${F.kpi===D.kpi?"text-green-400":"text-gray-300"}`,children:["+ ",zb(F.impact,k,0)]})]}),c.jsx("p",{className:"text-xs text-gray-400",children:F.kpi==="Mortalidad"?"Reduciendo mortalidad":`Mejorando a ${ht(F.newValue,0)}%`})]},F.kpi))}),c.jsx("hr",{className:"border-gray-700 my-4"}),c.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"**Paso 2 (Opcional):** Ahora que conoces tu prioridad zootcnica, podemos optimizar tu flujo de caja."}),c.jsxs("button",{type:"button",onClick:y,className:"w-full rounded-md bg-sky-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-sky-500",children:[c.jsx(sC,{size:18,className:"inline-block -mt-1 mr-2"}),"Optimizar Linealidad (Flujo de Caja)"]})]})},_=()=>{const j=typeof f<"u"&&f!==null;let D="";return j&&f&&(D=f.map((k,O)=>{const F=C[O];if(typeof F!="number")return"?";const H=F-1;return`${E[H]||"Mes?"}: ${ht(k,0)} cabras`}).join(" / ")),c.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Optimizacin de Linealidad Completa"}),j?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-gray-300",children:'Mejora de flujo de caja encontrada! GanaGenius ha aplanado tu "montaa rusa" de produccin.'}),c.jsx(nlt,{baseData:p,optimizedData:m}),c.jsxs("div",{className:"flex justify-center gap-4 my-4",children:[c.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg text-center",children:[c.jsx("p",{className:"text-xs text-red-400",children:"CV Actual"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[ht(A,1),"%"]})]}),c.jsxs("div",{className:"p-3 bg-green-900/50 border border-green-700 rounded-lg text-center",children:[c.jsx("p",{className:"text-xs text-green-400",children:"CV ptimo"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[ht(d,1),"%"]})]})]}),c.jsx("h3",{className:"font-semibold text-white",children:"Plan de Accin (Cupos de Monta):"}),c.jsx("p",{className:"text-base font-semibold text-green-400 bg-gray-800 p-3 rounded-md mt-2",children:D}),c.jsxs("button",{type:"button",onClick:()=>b(f),className:"mt-6 w-full rounded-md bg-green-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-green-500",children:[c.jsx(F5,{size:18,className:"inline-block -mt-1 mr-2"}),"Guardar y Usar este Plan Optimizado"]}),c.jsx("button",{type:"button",onClick:()=>i("diagnosis_result"),className:"w-full text-center text-sm text-gray-400 hover:text-white mt-4",children:"Volver al Diagnstico"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"mt-2 text-sm text-gray-300",children:["Buen trabajo! Tu escenario actual (CV: ",ht(A,1),"%) ya es el ms lineal encontrado. No se requiere optimizacin."]}),c.jsx("button",{type:"button",onClick:()=>i("diagnosis_result"),className:"mt-6 w-full rounded-md bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-500",children:"Volver al Diagnstico"})]})]})},B=()=>v?c.jsxs("div",{className:"p-4 max-w-2xl mx-auto text-center",children:[c.jsx("h3",{className:"text-lg font-medium text-red-400",children:"Error en GanaGenius"}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:v}),c.jsx("button",{type:"button",onClick:()=>i("idle"),className:"mt-6 w-full rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white",children:"Volver"})]}):a?c.jsxs("div",{className:"p-6 text-center max-w-2xl mx-auto",children:[c.jsx(OR,{size:48,className:"mx-auto text-sky-400 animate-pulse"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"GanaGenius est diagnosticando..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Analizando el impacto de tus KPIs... (Corriendo 4 simulaciones)"})]}):l?c.jsxs("div",{className:"p-6 text-center max-w-2xl mx-auto",children:[c.jsx(OR,{size:48,className:"mx-auto text-sky-400 animate-pulse"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"GanaGenius est optimizando..."}),c.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Analizando ",Math.round(u*200)," / 200 escenarios de montas."]}),c.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-4",children:c.jsx("div",{className:"bg-sky-500 h-2.5 rounded-full transition-all",style:{width:`${u*100}%`}})}),c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["CV Actual: ",ht(A,1),"%",d&&A&&d<A?` | Mejor: ${ht(d,1)}%`:""]})]}):r==="optimizing"&&d!==null?_():r==="diagnosing"&&s?N(s):c.jsxs("div",{className:"p-4 max-w-2xl mx-auto text-center",children:[c.jsx(Iq,{size:48,className:"mx-auto text-yellow-400"}),c.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:"Asistente Zootcnico GanaGenius"}),c.jsx("p",{className:"mt-2 text-lg text-gray-300",children:'Bienvenido a tu "Cuarto de Guerra".'}),c.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"GanaGenius usar la proyeccin de tus **Datos Reales** para ayudarte a tomar dos decisiones crticas:"}),c.jsxs("ul",{className:"text-left text-sm text-gray-300 space-y-2 my-4 list-decimal list-inside",children:[c.jsx("li",{children:"**Diagnosticar** tu principal cuello de botella zootcnico (el eslabn ms dbil)."}),c.jsx("li",{children:"**Optimizar** tu flujo de caja (linealidad) sugiriendo un plan de montas."})]}),c.jsxs("button",{type:"button",onClick:g,className:"mt-4 w-full rounded-md bg-sky-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-sky-500",children:[c.jsx(ya,{size:18,className:"inline-block -mt-1 mr-2"}),"Iniciar Diagnstico Zootcnico"]})]});return c.jsx("div",{className:"py-8",children:B()})},Kk=()=>c.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#1C1C1E] animate-fade-in",children:[c.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[c.jsx(hx,{className:"text-brand-orange w-12 h-12"}),c.jsx("div",{className:"absolute inset-0",children:c.jsx(Dq,{className:"w-24 h-24 text-zinc-700 animate-spin-slow"})})]}),c.jsx("p",{className:"mt-4 text-lg font-medium text-zinc-400 tracking-wider",children:"Cargando datos..."})]}),h_=30.44,alt=3*h_,slt=6*h_,olt=12*h_,llt=18*h_,C2=(t,e)=>{try{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());return Math.floor((a-i)/(1e3*60*60*24))}catch(n){return console.error("Error en getDaysBetweenDates:",n),0}},$p=(t,e)=>{if(t.status!=="Activo")return"Otros";if(!t.birthDate||t.birthDate==="N/A")return t.sex==="Hembra"?"Cabras":"Machos";const n=C2(t.birthDate,e);return t.sex==="Macho"?"Machos":n<=alt?"CriaH":n<=slt?"L.Temprano":n<=olt?"L.Medio":n<=llt?"L.Tardo":"Cabras"},clt=(t,e)=>{if(!e||e.length===0)return null;const n=new Date(t+"T00:00:00Z");return isNaN(n.getTime())?null:e.filter(i=>{const a=new Date(i.parturitionDate+"T00:00:00Z");return isNaN(a.getTime())?!1:a<=n&&i.status!=="finalizada"}).sort((i,a)=>{const s=new Date(i.parturitionDate+"T00:00:00Z").getTime();return new Date(a.parturitionDate+"T00:00:00Z").getTime()-s})[0]||null},gA={comprasVientresAnual:0,duracionMontaDias:45,diasGestacion:150,litrosPromedioPorAnimal:1.8,litrosPicoPorAnimal:2.6,diasLactanciaObjetivo:305,porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:5,mortalidadLevante:3,mortalidadCabras:3,tasaReemplazo:20,eliminacionCabritos:100,precioLecheLitro:.5,precioVentaCabritoKg:3,precioVentaDescarteAdulto:50,monedaSimbolo:"$"},ult=()=>{const{animals:t,events:e,parturitions:n,serviceRecords:r,weighings:i,appConfig:a,isLoading:s,isLoadingConfig:o}=en(),l=s||o;return{realConfig:P.useMemo(()=>{if(l||!t||t.length===0)return null;const A=new Date().toISOString().split("T")[0],d=new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().split("T")[0];let f=0,h=0,p=0,m=0,v=0,g=0,y=0;t.filter($=>$.status==="Activo"&&!$.isReference).forEach($=>{switch($p($,A)){case"CriaH":$.sex==="Hembra"?v++:$.sex==="Macho"?g++:(v+=.5,g+=.5);break;case"L.Temprano":m++;break;case"L.Medio":p++;break;case"L.Tardo":h++;break;case"Cabras":f++;break;case"Machos":y++;break}}),v=Math.round(v),g=Math.round(g),y=Math.max(1,y);const C=r.filter($=>$.serviceDate>=d),E=n.filter($=>$.parturitionDate>=d);let N=gA.porcentajePrenez;C.length>5&&(N=C.filter(J=>E.some(ne=>ne.goatId===J.femaleId&&C2(J.serviceDate,ne.parturitionDate)>140&&C2(J.serviceDate,ne.parturitionDate)<160)).length/C.length*100);let _=gA.porcentajeProlificidad;const B=E.filter($=>$.parturitionOutcome==="Normal"||$.parturitionOutcome==="Con Mortinatos");B.length>3&&(_=B.reduce((J,ne)=>J+(ne.offspringCount||0),0)/B.length*100);const j=e.filter($=>$.type==="Cambio de Estado"&&$.details.includes("Muerte")&&$.date>=d),D=t.filter($=>($.createdAt||0)<=new Date(d).getTime()),k=e.filter($=>$.type==="Nacimiento"&&$.date>=d).length,O=j.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&$p(J,$.date)==="CriaH"}).length;let F=gA.mortalidadCrias;k>5&&(F=O/k*100);const H=j.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&["L.Temprano","L.Medio","L.Tardo"].includes($p(J,$.date))}).length,Y=D.filter($=>["L.Temprano","L.Medio","L.Tardo"].includes($p($,d))).length;let q=gA.mortalidadLevante;Y>0&&(q=H/Y*100);const Z=j.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&$p(J,$.date)==="Cabras"}).length,W=D.filter($=>$p($,d)==="Cabras").length;let oe=gA.mortalidadCabras;W>0&&(oe=Z/W*100);let te=gA.litrosPromedioPorAnimal,ue=gA.litrosPicoPorAnimal;if(i.length>20){const $=new Map;n.forEach(ne=>{const he=$.get(ne.goatId)||[];he.push(ne),$.set(ne.goatId,he)});const J=[];if(i.forEach(ne=>{const he=$.get(ne.goatId);if(!he)return;const Se=clt(ne.date,he);if(!Se)return;const we=C2(Se.parturitionDate,ne.date);we>=0&&we<=305&&J.push({daysInMilk:we,kg:ne.kg})}),J.length>10){te=J.reduce((we,re)=>we+re.kg,0)/J.length;const he={};J.forEach(we=>{const re=Math.floor(we.daysInMilk/30.44)+1;he[re]||(he[re]=[]),he[re].push(we.kg)});const Se=Object.values(he).map(we=>we.reduce((pe,xe)=>pe+xe,0)/we.length);ue=Math.max(...Se,te*1.01)}}const R={...gA,...a||{},initialCabras:Math.round(f),initialLevanteTardio:Math.round(h),initialLevanteMedio:Math.round(p),initialLevanteTemprano:Math.round(m),initialCriaH:Math.round(v),initialCriaM:Math.round(g),initialPadres:Math.round(y),porcentajePrenez:parseFloat(N.toFixed(1)),porcentajeProlificidad:parseFloat(_.toFixed(1)),mortalidadCrias:parseFloat(F.toFixed(1)),mortalidadLevante:parseFloat(q.toFixed(1)),mortalidadCabras:parseFloat(oe.toFixed(1)),litrosPromedioPorAnimal:parseFloat(te.toFixed(2)),litrosPicoPorAnimal:parseFloat(ue.toFixed(2)),monedaSimbolo:gA.monedaSimbolo,comprasVientresAnual:0};return(R.litrosPicoPorAnimal??0)<=(R.litrosPromedioPorAnimal??0)&&(R.litrosPicoPorAnimal=(R.litrosPromedioPorAnimal??1.8)*1.4),R},[l,t,e,n,r,i,a]),isLoading:l}},Av={comprasVientresAnual:0,duracionMontaDias:45,diasGestacion:150,litrosPromedioPorAnimal:1.8,litrosPicoPorAnimal:2.6,diasLactanciaObjetivo:305,porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:5,mortalidadLevante:3,mortalidadCabras:3,tasaReemplazo:20,eliminacionCabritos:100,precioLecheLitro:.5,precioVentaCabritoKg:3,precioVentaDescarteAdulto:50,monedaSimbolo:"$"};function Alt({onSwitchModule:t}){const{syncStatus:e,appConfig:n,isLoading:r}=en(),[i,a]=P.useState("setup"),[s,o]=P.useState(!1),{realConfig:l,isLoading:u}=ult(),[A,d]=P.useState(()=>{try{const C=localStorage.getItem("ganaderoOS_simConfig");if(C)return JSON.parse(C)}catch(C){console.error("Error al cargar simulacin guardada de localStorage:",C),localStorage.removeItem("ganaderoOS_simConfig")}return null}),[f,h]=P.useState(A),p=r||u,m=C=>{console.log("[EvolucionShell] Corriendo nueva simulacin...",C),h(C),C.initialCabras!==(l==null?void 0:l.initialCabras)?(console.log("[EvolucionShell] Guardando simulacin manual en localStorage."),d(C)):console.log("[EvolucionShell] Corriendo simulacin 'Real' (no se guarda)."),a("sim-results")},v=C=>{console.log("[EvolucionShell] GanaGenius guard un nuevo plan optimizado."),d(C),h(C),a("sim-results")},g=C=>{a(C)},y=[{view:"setup",label:"Setup",icon:QD},{view:"sim-results",label:"Simulacin",icon:Eq},{view:"real-results",label:"Real",icon:us},{view:"genius-analysis",label:"GanaGenius",icon:qv}],b={...Av,initialCabras:0,initialLevanteTardio:0,initialLevanteMedio:0,initialLevanteTemprano:0,initialCriaH:0,initialCriaM:0,initialPadres:1,...n||{},monedaSimbolo:Av.monedaSimbolo,precioLecheLitro:Av.precioLecheLitro,precioVentaCabritoKg:Av.precioVentaCabritoKg,precioVentaDescarteAdulto:Av.precioVentaDescarteAdulto};return P.useEffect(()=>{try{A?localStorage.setItem("ganaderoOS_simConfig",JSON.stringify(A)):localStorage.removeItem("ganaderoOS_simConfig")}catch(C){console.error("Error al guardar simulacin en localStorage:",C)}},[A]),c.jsxs("div",{className:"font-sans text-gray-200 h-screen overflow-hidden animate-fade-in flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border h-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i!=="setup"&&c.jsx("button",{onClick:()=>g("setup"),className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors flex-shrink-0","aria-label":"Volver a Configuracin",children:c.jsx(Ni,{size:24})}),c.jsx(ya,{className:`text-indigo-400 ${i==="setup"?"":"hidden sm:block"} flex-shrink-0`,size:28}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none truncate",children:"GanaderoOS"}),c.jsxs("p",{className:"text-xs text-zinc-400 leading-none truncate",children:["Evolucin - ",i==="setup"?"Configurar Simulacin":i==="sim-results"?"Resultados Simulacin":i==="real-results"?"Proyeccin Real":"Asistente GanaGenius"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[c.jsx(j0,{status:e}),c.jsx("button",{onClick:()=>o(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Mdulos",children:c.jsx(fx,{size:20})})]})]})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pt-16 pb-16",children:[i==="setup"&&c.jsx(Xot,{initialConfig:A||b,realConfig:l,onSimulate:m}),i==="sim-results"&&f&&c.jsx(u$,{simulationConfig:f,mode:"simulacion"},"sim-results"),i==="sim-results"&&!f&&c.jsx("div",{className:"text-center p-10 text-zinc-400",children:"Primero configura y corre una simulacin."}),i==="real-results"&&l&&c.jsx(u$,{simulationConfig:l,mode:"real"},"real-results"),i==="real-results"&&!l&&p&&c.jsx(Kk,{}),i==="real-results"&&!l&&!p&&c.jsx("div",{className:"text-center p-10 text-zinc-400",children:"No hay suficientes datos reales para una proyeccin."}),i==="genius-analysis"&&l&&c.jsx(ilt,{baseConfig:l,horizonInYears:3,onSaveOptimizedPlan:v}),i==="genius-analysis"&&!l&&p&&c.jsx(Kk,{}),i==="genius-analysis"&&!l&&!p&&c.jsxs("div",{className:"text-center p-10 text-zinc-400 max-w-sm mx-auto",children:[c.jsx(qv,{className:"mx-auto text-sky-500",size:48}),c.jsx("h2",{className:"text-lg font-semibold text-white mt-4",children:"Asistente GanaGenius"}),c.jsx("p",{children:'GanaGenius requiere datos reales para funcionar. Registra partos, servicios y pesajes de leche para activar el "Switch de Realidad" en el Setup.'})]})]}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 z-20 bg-black/50 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:y.map(C=>{const E=C.view==="sim-results"&&!A||C.view==="real-results"&&!l||C.view==="genius-analysis"&&!l,N=i===C.view;return c.jsxs("button",{onClick:()=>g(C.view),disabled:E,className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${N?"text-indigo-400 font-semibold":"text-gray-500 hover:text-white"} ${E?"opacity-40 cursor-not-allowed":""}`,"aria-current":N?"page":void 0,children:[" ",c.jsx(C.icon,{className:"w-6 h-6"})," ",c.jsx("span",{className:"text-xs font-semibold mt-1",children:C.label})," "]},C.view)})}),c.jsx(Mx,{isOpen:s,onClose:()=>o(!1),onSwitchModule:t})]})}function dlt(){const{currentUser:t,isLoading:e}=gq(),{isLoading:n}=en(),[r,i]=P.useState("rebano"),[a,s]=P.useState({page:null,sourceModule:void 0}),[o,l]=P.useState({lactokeeper:{name:"dashboard"}});P.useEffect(()=>{r!=="rebano"&&s({page:null,sourceModule:void 0})},[r]);const u=P.useCallback(f=>{i(f)},[]),A=P.useCallback((f,h)=>{s({page:f,sourceModule:h}),i("rebano")},[]),d=P.useCallback(f=>{l(h=>({...h,lactokeeper:f}))},[]);if(e||t&&n)return c.jsx(Kk,{});if(!t)return c.jsx(dme,{});switch(r){case"lactokeeper":return c.jsx(Cet,{initialPage:o.lactokeeper,onPageStateChange:d,navigateToRebano:A,onSwitchModule:u});case"kilos":return c.jsx(Oet,{navigateToRebano:A,onSwitchModule:u});case"salud":return c.jsx(mot,{onSwitchModule:u});case"cents":return c.jsx(bot,{onSwitchModule:u});case"evolucion":return c.jsx(Alt,{onSwitchModule:u});case"rebano":default:return c.jsx(net,{initialState:a,onSwitchModule:u})}}T4.createRoot(document.getElementById("root")).render(c.jsx(be.StrictMode,{children:c.jsx(Zhe,{children:c.jsx(lpe,{children:c.jsx(dlt,{})})})}));export{Vr as _,tm as c,Rr as g};
