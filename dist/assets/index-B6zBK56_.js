var xse=Object.defineProperty;var wse=(t,e,n)=>e in t?xse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ln=(t,e,n)=>wse(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r$={exports:{}},qS={},i$={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=Symbol.for("react.element"),Cse=Symbol.for("react.portal"),Sse=Symbol.for("react.fragment"),Ese=Symbol.for("react.strict_mode"),_se=Symbol.for("react.profiler"),Bse=Symbol.for("react.provider"),Nse=Symbol.for("react.context"),jse=Symbol.for("react.forward_ref"),Ise=Symbol.for("react.suspense"),Tse=Symbol.for("react.memo"),kse=Symbol.for("react.lazy"),iL=Symbol.iterator;function Pse(t){return t===null||typeof t!="object"?null:(t=iL&&t[iL]||t["@@iterator"],typeof t=="function"?t:null)}var a$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s$=Object.assign,o$={};function Jg(t,e,n){this.props=t,this.context=e,this.refs=o$,this.updater=n||a$}Jg.prototype.isReactComponent={};Jg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l$(){}l$.prototype=Jg.prototype;function Uk(t,e,n){this.props=t,this.context=e,this.refs=o$,this.updater=n||a$}var Qk=Uk.prototype=new l$;Qk.constructor=Uk;s$(Qk,Jg.prototype);Qk.isPureReactComponent=!0;var aL=Array.isArray,c$=Object.prototype.hasOwnProperty,Hk={current:null},u$={key:!0,ref:!0,__self:!0,__source:!0};function A$(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)c$.call(e,r)&&!u$.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:$b,type:t,key:a,ref:s,props:i,_owner:Hk.current}}function Dse(t,e){return{$$typeof:$b,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zk(t){return typeof t=="object"&&t!==null&&t.$$typeof===$b}function Ose(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sL=/\/+/g;function S_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ose(""+t.key):e.toString(36)}function Iw(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $b:case Cse:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+S_(s,0):r,aL(i)?(n="",t!=null&&(n=t.replace(sL,"$&/")+"/"),Iw(i,e,n,"",function(u){return u})):i!=null&&(zk(i)&&(i=Dse(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sL,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",aL(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+S_(a,o);s+=Iw(a,e,n,l,i)}else if(l=Pse(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+S_(a,o++),s+=Iw(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xx(t,e,n){if(t==null)return t;var r=[],i=0;return Iw(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Fse(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Eo={current:null},Tw={transition:null},Lse={ReactCurrentDispatcher:Eo,ReactCurrentBatchConfig:Tw,ReactCurrentOwner:Hk};function d$(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:Xx,forEach:function(t,e,n){Xx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xx(t,function(){e++}),e},toArray:function(t){return Xx(t,function(e){return e})||[]},only:function(t){if(!zk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ar.Component=Jg;ar.Fragment=Sse;ar.Profiler=_se;ar.PureComponent=Uk;ar.StrictMode=Ese;ar.Suspense=Ise;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lse;ar.act=d$;ar.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=s$({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Hk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)c$.call(e,l)&&!u$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:$b,type:t.type,key:i,ref:a,props:r,_owner:s}};ar.createContext=function(t){return t={$$typeof:Nse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bse,_context:t},t.Consumer=t};ar.createElement=A$;ar.createFactory=function(t){var e=A$.bind(null,t);return e.type=t,e};ar.createRef=function(){return{current:null}};ar.forwardRef=function(t){return{$$typeof:jse,render:t}};ar.isValidElement=zk;ar.lazy=function(t){return{$$typeof:kse,_payload:{_status:-1,_result:t},_init:Fse}};ar.memo=function(t,e){return{$$typeof:Tse,type:t,compare:e===void 0?null:e}};ar.startTransition=function(t){var e=Tw.transition;Tw.transition={};try{t()}finally{Tw.transition=e}};ar.unstable_act=d$;ar.useCallback=function(t,e){return Eo.current.useCallback(t,e)};ar.useContext=function(t){return Eo.current.useContext(t)};ar.useDebugValue=function(){};ar.useDeferredValue=function(t){return Eo.current.useDeferredValue(t)};ar.useEffect=function(t,e){return Eo.current.useEffect(t,e)};ar.useId=function(){return Eo.current.useId()};ar.useImperativeHandle=function(t,e,n){return Eo.current.useImperativeHandle(t,e,n)};ar.useInsertionEffect=function(t,e){return Eo.current.useInsertionEffect(t,e)};ar.useLayoutEffect=function(t,e){return Eo.current.useLayoutEffect(t,e)};ar.useMemo=function(t,e){return Eo.current.useMemo(t,e)};ar.useReducer=function(t,e,n){return Eo.current.useReducer(t,e,n)};ar.useRef=function(t){return Eo.current.useRef(t)};ar.useState=function(t){return Eo.current.useState(t)};ar.useSyncExternalStore=function(t,e,n){return Eo.current.useSyncExternalStore(t,e,n)};ar.useTransition=function(){return Eo.current.useTransition()};ar.version="18.3.1";i$.exports=ar;var P=i$.exports;const be=Rr(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mse=P,Rse=Symbol.for("react.element"),Use=Symbol.for("react.fragment"),Qse=Object.prototype.hasOwnProperty,Hse=Mse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zse={key:!0,ref:!0,__self:!0,__source:!0};function f$(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Qse.call(e,r)&&!zse.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Rse,type:t,key:a,ref:s,props:i,_owner:Hse.current}}qS.Fragment=Use;qS.jsx=f$;qS.jsxs=f$;r$.exports=qS;var c=r$.exports,C4={},h$={exports:{}},Ul={},p$={exports:{}},m$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var le=K.length;K.push(te);e:for(;0<le;){var se=le-1>>>1,M=K[se];if(0<i(M,te))K[se]=te,K[le]=M,le=se;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],le=K.pop();if(le!==te){K[0]=le;e:for(var se=0,M=K.length,$=M>>>1;se<$;){var J=2*(se+1)-1,ne=K[J],he=J+1,we=K[he];if(0>i(ne,le))he<M&&0>i(we,ne)?(K[se]=we,K[he]=le,se=he):(K[se]=ne,K[J]=le,se=J);else if(he<M&&0>i(we,le))K[se]=we,K[he]=le,se=he;else break e}}return te}function i(K,te){var le=K.sortIndex-te.sortIndex;return le!==0?le:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],A=1,d=null,f=3,h=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(K){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=K)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function C(K){if(m=!1,x(K),!p)if(n(l)!==null)p=!0,Y(E);else{var te=n(u);te!==null&&ee(C,te.startTime-K)}}function E(K,te){p=!1,m&&(m=!1,g(B),B=-1),h=!0;var le=f;try{for(x(te),d=n(l);d!==null&&(!(d.expirationTime>te)||K&&!T());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var M=se(d.expirationTime<=te);te=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),x(te)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(u);J!==null&&ee(C,J.startTime-te),$=!1}return $}finally{d=null,f=le,h=!1}}var j=!1,_=null,B=-1,N=5,D=-1;function T(){return!(t.unstable_now()-D<N)}function O(){if(_!==null){var K=t.unstable_now();D=K;var te=!0;try{te=_(!0,K)}finally{te?L():(j=!1,_=null)}}else j=!1}var L;if(typeof y=="function")L=function(){y(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=O,L=function(){q.postMessage(null)}}else L=function(){v(O,0)};function Y(K){_=K,j||(j=!0,L())}function ee(K,te){B=v(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,Y(E))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var le=f;f=te;try{return K()}finally{f=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=f;f=K;try{return te()}finally{f=le}},t.unstable_scheduleCallback=function(K,te,le){var se=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?se+le:se):le=se,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,K={id:A++,callback:te,priorityLevel:K,startTime:le,expirationTime:M,sortIndex:-1},le>se?(K.sortIndex=le,e(u,K),n(l)===null&&K===n(u)&&(m?(g(B),B=-1):m=!0,ee(C,le-se))):(K.sortIndex=M,e(l,K),p||h||(p=!0,Y(E))),K},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(K){var te=f;return function(){var le=f;f=te;try{return K.apply(this,arguments)}finally{f=le}}}})(m$);p$.exports=m$;var Vse=p$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $se=P,Pl=Vse;function kt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g$=new Set,my={};function np(t,e){Ym(t,e),Ym(t+"Capture",e)}function Ym(t,e){for(my[t]=e,t=0;t<e.length;t++)g$.add(e[t])}var DA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S4=Object.prototype.hasOwnProperty,Kse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oL={},lL={};function Wse(t){return S4.call(lL,t)?!0:S4.call(oL,t)?!1:Kse.test(t)?lL[t]=!0:(oL[t]=!0,!1)}function Gse(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qse(t,e,n,r){if(e===null||typeof e>"u"||Gse(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _o(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ts[t]=new _o(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ts[e]=new _o(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ts[t]=new _o(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ts[t]=new _o(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ts[t]=new _o(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ts[t]=new _o(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ts[t]=new _o(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ts[t]=new _o(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ts[t]=new _o(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vk=/[\-:]([a-z])/g;function $k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vk,$k);Ts[e]=new _o(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vk,$k);Ts[e]=new _o(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vk,$k);Ts[e]=new _o(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ts[t]=new _o(t,1,!1,t.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new _o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ts[t]=new _o(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kk(t,e,n,r){var i=Ts.hasOwnProperty(e)?Ts[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qse(e,n,i,r)&&(n=null),r||i===null?Wse(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qA=$se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jx=Symbol.for("react.element"),nm=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),Wk=Symbol.for("react.strict_mode"),E4=Symbol.for("react.profiler"),v$=Symbol.for("react.provider"),y$=Symbol.for("react.context"),Gk=Symbol.for("react.forward_ref"),_4=Symbol.for("react.suspense"),B4=Symbol.for("react.suspense_list"),qk=Symbol.for("react.memo"),wd=Symbol.for("react.lazy"),b$=Symbol.for("react.offscreen"),cL=Symbol.iterator;function D0(t){return t===null||typeof t!="object"?null:(t=cL&&t[cL]||t["@@iterator"],typeof t=="function"?t:null)}var Qi=Object.assign,E_;function lv(t){if(E_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);E_=e&&e[1]||""}return`
`+E_+t}var __=!1;function B_(t,e){if(!t||__)return"";__=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{__=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lv(t):""}function Yse(t){switch(t.tag){case 5:return lv(t.type);case 16:return lv("Lazy");case 13:return lv("Suspense");case 19:return lv("SuspenseList");case 0:case 2:case 15:return t=B_(t.type,!1),t;case 11:return t=B_(t.type.render,!1),t;case 1:return t=B_(t.type,!0),t;default:return""}}function N4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rm:return"Fragment";case nm:return"Portal";case E4:return"Profiler";case Wk:return"StrictMode";case _4:return"Suspense";case B4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y$:return(t.displayName||"Context")+".Consumer";case v$:return(t._context.displayName||"Context")+".Provider";case Gk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qk:return e=t.displayName||null,e!==null?e:N4(t.type)||"Memo";case wd:e=t._payload,t=t._init;try{return N4(t(e))}catch{}}return null}function Xse(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N4(e);case 8:return e===Wk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jse(t){var e=x$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zx(t){t._valueTracker||(t._valueTracker=Jse(t))}function w$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function v2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function j4(t,e){var n=e.checked;return Qi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uL(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C$(t,e){e=e.checked,e!=null&&Kk(t,"checked",e,!1)}function I4(t,e){C$(t,e);var n=rf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T4(t,e.type,n):e.hasOwnProperty("defaultValue")&&T4(t,e.type,rf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AL(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T4(t,e,n){(e!=="number"||v2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cv=Array.isArray;function Nm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(kt(91));return Qi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dL(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(kt(92));if(cv(n)){if(1<n.length)throw Error(kt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rf(n)}}function S$(t,e){var n=rf(e.value),r=rf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fL(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var e1,_$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(e1=e1||document.createElement("div"),e1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=e1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zse=["Webkit","ms","Moz","O"];Object.keys(jv).forEach(function(t){Zse.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jv[e]=jv[t]})});function B$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jv.hasOwnProperty(t)&&jv[t]?(""+e).trim():e+"px"}function N$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eoe=Qi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D4(t,e){if(e){if(eoe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(kt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(kt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(kt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(kt(62))}}function O4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F4=null;function Yk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L4=null,jm=null,Im=null;function hL(t){if(t=Gb(t)){if(typeof L4!="function")throw Error(kt(280));var e=t.stateNode;e&&(e=e5(e),L4(t.stateNode,t.type,e))}}function j$(t){jm?Im?Im.push(t):Im=[t]:jm=t}function I$(){if(jm){var t=jm,e=Im;if(Im=jm=null,hL(t),e)for(t=0;t<e.length;t++)hL(e[t])}}function T$(t,e){return t(e)}function k$(){}var N_=!1;function P$(t,e,n){if(N_)return t(e,n);N_=!0;try{return T$(t,e,n)}finally{N_=!1,(jm!==null||Im!==null)&&(k$(),I$())}}function vy(t,e){var n=t.stateNode;if(n===null)return null;var r=e5(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(kt(231,e,typeof n));return n}var M4=!1;if(DA)try{var O0={};Object.defineProperty(O0,"passive",{get:function(){M4=!0}}),window.addEventListener("test",O0,O0),window.removeEventListener("test",O0,O0)}catch{M4=!1}function toe(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(A){this.onError(A)}}var Iv=!1,y2=null,b2=!1,R4=null,noe={onError:function(t){Iv=!0,y2=t}};function roe(t,e,n,r,i,a,s,o,l){Iv=!1,y2=null,toe.apply(noe,arguments)}function ioe(t,e,n,r,i,a,s,o,l){if(roe.apply(this,arguments),Iv){if(Iv){var u=y2;Iv=!1,y2=null}else throw Error(kt(198));b2||(b2=!0,R4=u)}}function rp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pL(t){if(rp(t)!==t)throw Error(kt(188))}function aoe(t){var e=t.alternate;if(!e){if(e=rp(t),e===null)throw Error(kt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return pL(i),t;if(a===r)return pL(i),e;a=a.sibling}throw Error(kt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(kt(189))}}if(n.alternate!==r)throw Error(kt(190))}if(n.tag!==3)throw Error(kt(188));return n.stateNode.current===n?t:e}function O$(t){return t=aoe(t),t!==null?F$(t):null}function F$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F$(t);if(e!==null)return e;t=t.sibling}return null}var L$=Pl.unstable_scheduleCallback,mL=Pl.unstable_cancelCallback,soe=Pl.unstable_shouldYield,ooe=Pl.unstable_requestPaint,pa=Pl.unstable_now,loe=Pl.unstable_getCurrentPriorityLevel,Xk=Pl.unstable_ImmediatePriority,M$=Pl.unstable_UserBlockingPriority,x2=Pl.unstable_NormalPriority,coe=Pl.unstable_LowPriority,R$=Pl.unstable_IdlePriority,YS=null,Pu=null;function uoe(t){if(Pu&&typeof Pu.onCommitFiberRoot=="function")try{Pu.onCommitFiberRoot(YS,t,void 0,(t.current.flags&128)===128)}catch{}}var Wc=Math.clz32?Math.clz32:foe,Aoe=Math.log,doe=Math.LN2;function foe(t){return t>>>=0,t===0?32:31-(Aoe(t)/doe|0)|0}var t1=64,n1=4194304;function uv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function w2(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=uv(o):(a&=s,a!==0&&(r=uv(a)))}else s=n&~i,s!==0?r=uv(s):a!==0&&(r=uv(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wc(e),i=1<<n,r|=t[n],e&=~i;return r}function hoe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function poe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Wc(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=hoe(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function U4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U$(){var t=t1;return t1<<=1,!(t1&4194240)&&(t1=64),t}function j_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kb(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wc(e),t[e]=n}function moe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wc(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Jk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $r=0;function Q$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H$,Zk,z$,V$,$$,Q4=!1,r1=[],Hd=null,zd=null,Vd=null,yy=new Map,by=new Map,_d=[],goe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gL(t,e){switch(t){case"focusin":case"focusout":Hd=null;break;case"dragenter":case"dragleave":zd=null;break;case"mouseover":case"mouseout":Vd=null;break;case"pointerover":case"pointerout":yy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":by.delete(e.pointerId)}}function F0(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Gb(e),e!==null&&Zk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function voe(t,e,n,r,i){switch(e){case"focusin":return Hd=F0(Hd,t,e,n,r,i),!0;case"dragenter":return zd=F0(zd,t,e,n,r,i),!0;case"mouseover":return Vd=F0(Vd,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yy.set(a,F0(yy.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,by.set(a,F0(by.get(a)||null,t,e,n,r,i)),!0}return!1}function K$(t){var e=oh(t.target);if(e!==null){var n=rp(e);if(n!==null){if(e=n.tag,e===13){if(e=D$(n),e!==null){t.blockedOn=e,$$(t.priority,function(){z$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);F4=r,n.target.dispatchEvent(r),F4=null}else return e=Gb(n),e!==null&&Zk(e),t.blockedOn=n,!1;e.shift()}return!0}function vL(t,e,n){kw(t)&&n.delete(e)}function yoe(){Q4=!1,Hd!==null&&kw(Hd)&&(Hd=null),zd!==null&&kw(zd)&&(zd=null),Vd!==null&&kw(Vd)&&(Vd=null),yy.forEach(vL),by.forEach(vL)}function L0(t,e){t.blockedOn===e&&(t.blockedOn=null,Q4||(Q4=!0,Pl.unstable_scheduleCallback(Pl.unstable_NormalPriority,yoe)))}function xy(t){function e(i){return L0(i,t)}if(0<r1.length){L0(r1[0],t);for(var n=1;n<r1.length;n++){var r=r1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hd!==null&&L0(Hd,t),zd!==null&&L0(zd,t),Vd!==null&&L0(Vd,t),yy.forEach(e),by.forEach(e),n=0;n<_d.length;n++)r=_d[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_d.length&&(n=_d[0],n.blockedOn===null);)K$(n),n.blockedOn===null&&_d.shift()}var Tm=qA.ReactCurrentBatchConfig,C2=!0;function boe(t,e,n,r){var i=$r,a=Tm.transition;Tm.transition=null;try{$r=1,eP(t,e,n,r)}finally{$r=i,Tm.transition=a}}function xoe(t,e,n,r){var i=$r,a=Tm.transition;Tm.transition=null;try{$r=4,eP(t,e,n,r)}finally{$r=i,Tm.transition=a}}function eP(t,e,n,r){if(C2){var i=H4(t,e,n,r);if(i===null)R_(t,e,r,S2,n),gL(t,r);else if(voe(i,t,e,n,r))r.stopPropagation();else if(gL(t,r),e&4&&-1<goe.indexOf(t)){for(;i!==null;){var a=Gb(i);if(a!==null&&H$(a),a=H4(t,e,n,r),a===null&&R_(t,e,r,S2,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else R_(t,e,r,null,n)}}var S2=null;function H4(t,e,n,r){if(S2=null,t=Yk(r),t=oh(t),t!==null)if(e=rp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return S2=t,null}function W$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(loe()){case Xk:return 1;case M$:return 4;case x2:case coe:return 16;case R$:return 536870912;default:return 16}default:return 16}}var jd=null,tP=null,Pw=null;function G$(){if(Pw)return Pw;var t,e=tP,n=e.length,r,i="value"in jd?jd.value:jd.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Pw=i.slice(t,1<r?1-r:void 0)}function Dw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function i1(){return!0}function yL(){return!1}function Ql(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?i1:yL,this.isPropagationStopped=yL,this}return Qi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=i1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=i1)},persist:function(){},isPersistent:i1}),e}var Zg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nP=Ql(Zg),Wb=Qi({},Zg,{view:0,detail:0}),woe=Ql(Wb),I_,T_,M0,XS=Qi({},Wb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==M0&&(M0&&t.type==="mousemove"?(I_=t.screenX-M0.screenX,T_=t.screenY-M0.screenY):T_=I_=0,M0=t),I_)},movementY:function(t){return"movementY"in t?t.movementY:T_}}),bL=Ql(XS),Coe=Qi({},XS,{dataTransfer:0}),Soe=Ql(Coe),Eoe=Qi({},Wb,{relatedTarget:0}),k_=Ql(Eoe),_oe=Qi({},Zg,{animationName:0,elapsedTime:0,pseudoElement:0}),Boe=Ql(_oe),Noe=Qi({},Zg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),joe=Ql(Noe),Ioe=Qi({},Zg,{data:0}),xL=Ql(Ioe),Toe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},koe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Poe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Doe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Poe[t])?!!e[t]:!1}function rP(){return Doe}var Ooe=Qi({},Wb,{key:function(t){if(t.key){var e=Toe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?koe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rP,charCode:function(t){return t.type==="keypress"?Dw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Foe=Ql(Ooe),Loe=Qi({},XS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wL=Ql(Loe),Moe=Qi({},Wb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rP}),Roe=Ql(Moe),Uoe=Qi({},Zg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qoe=Ql(Uoe),Hoe=Qi({},XS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zoe=Ql(Hoe),Voe=[9,13,27,32],iP=DA&&"CompositionEvent"in window,Tv=null;DA&&"documentMode"in document&&(Tv=document.documentMode);var $oe=DA&&"TextEvent"in window&&!Tv,q$=DA&&(!iP||Tv&&8<Tv&&11>=Tv),CL=" ",SL=!1;function Y$(t,e){switch(t){case"keyup":return Voe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var im=!1;function Koe(t,e){switch(t){case"compositionend":return X$(e);case"keypress":return e.which!==32?null:(SL=!0,CL);case"textInput":return t=e.data,t===CL&&SL?null:t;default:return null}}function Woe(t,e){if(im)return t==="compositionend"||!iP&&Y$(t,e)?(t=G$(),Pw=tP=jd=null,im=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q$&&e.locale!=="ko"?null:e.data;default:return null}}var Goe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Goe[t.type]:e==="textarea"}function J$(t,e,n,r){j$(r),e=E2(e,"onChange"),0<e.length&&(n=new nP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kv=null,wy=null;function qoe(t){cK(t,0)}function JS(t){var e=om(t);if(w$(e))return t}function Yoe(t,e){if(t==="change")return e}var Z$=!1;if(DA){var P_;if(DA){var D_="oninput"in document;if(!D_){var _L=document.createElement("div");_L.setAttribute("oninput","return;"),D_=typeof _L.oninput=="function"}P_=D_}else P_=!1;Z$=P_&&(!document.documentMode||9<document.documentMode)}function BL(){kv&&(kv.detachEvent("onpropertychange",eK),wy=kv=null)}function eK(t){if(t.propertyName==="value"&&JS(wy)){var e=[];J$(e,wy,t,Yk(t)),P$(qoe,e)}}function Xoe(t,e,n){t==="focusin"?(BL(),kv=e,wy=n,kv.attachEvent("onpropertychange",eK)):t==="focusout"&&BL()}function Joe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return JS(wy)}function Zoe(t,e){if(t==="click")return JS(e)}function ele(t,e){if(t==="input"||t==="change")return JS(e)}function tle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jc=typeof Object.is=="function"?Object.is:tle;function Cy(t,e){if(Jc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!S4.call(e,i)||!Jc(t[i],e[i]))return!1}return!0}function NL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jL(t,e){var n=NL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NL(n)}}function tK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nK(){for(var t=window,e=v2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=v2(t.document)}return e}function aP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nle(t){var e=nK(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tK(n.ownerDocument.documentElement,n)){if(r!==null&&aP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=jL(n,a);var s=jL(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rle=DA&&"documentMode"in document&&11>=document.documentMode,am=null,z4=null,Pv=null,V4=!1;function IL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;V4||am==null||am!==v2(r)||(r=am,"selectionStart"in r&&aP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pv&&Cy(Pv,r)||(Pv=r,r=E2(z4,"onSelect"),0<r.length&&(e=new nP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=am)))}function a1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sm={animationend:a1("Animation","AnimationEnd"),animationiteration:a1("Animation","AnimationIteration"),animationstart:a1("Animation","AnimationStart"),transitionend:a1("Transition","TransitionEnd")},O_={},rK={};DA&&(rK=document.createElement("div").style,"AnimationEvent"in window||(delete sm.animationend.animation,delete sm.animationiteration.animation,delete sm.animationstart.animation),"TransitionEvent"in window||delete sm.transitionend.transition);function ZS(t){if(O_[t])return O_[t];if(!sm[t])return t;var e=sm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rK)return O_[t]=e[n];return t}var iK=ZS("animationend"),aK=ZS("animationiteration"),sK=ZS("animationstart"),oK=ZS("transitionend"),lK=new Map,TL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mf(t,e){lK.set(t,e),np(e,[t])}for(var F_=0;F_<TL.length;F_++){var L_=TL[F_],ile=L_.toLowerCase(),ale=L_[0].toUpperCase()+L_.slice(1);mf(ile,"on"+ale)}mf(iK,"onAnimationEnd");mf(aK,"onAnimationIteration");mf(sK,"onAnimationStart");mf("dblclick","onDoubleClick");mf("focusin","onFocus");mf("focusout","onBlur");mf(oK,"onTransitionEnd");Ym("onMouseEnter",["mouseout","mouseover"]);Ym("onMouseLeave",["mouseout","mouseover"]);Ym("onPointerEnter",["pointerout","pointerover"]);Ym("onPointerLeave",["pointerout","pointerover"]);np("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));np("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));np("onBeforeInput",["compositionend","keypress","textInput","paste"]);np("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));np("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));np("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Av="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sle=new Set("cancel close invalid load scroll toggle".split(" ").concat(Av));function kL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ioe(r,e,void 0,t),t.currentTarget=null}function cK(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;kL(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;kL(i,o,u),a=l}}}if(b2)throw t=R4,b2=!1,R4=null,t}function bi(t,e){var n=e[q4];n===void 0&&(n=e[q4]=new Set);var r=t+"__bubble";n.has(r)||(uK(e,t,2,!1),n.add(r))}function M_(t,e,n){var r=0;e&&(r|=4),uK(n,t,r,e)}var s1="_reactListening"+Math.random().toString(36).slice(2);function Sy(t){if(!t[s1]){t[s1]=!0,g$.forEach(function(n){n!=="selectionchange"&&(sle.has(n)||M_(n,!1,t),M_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[s1]||(e[s1]=!0,M_("selectionchange",!1,e))}}function uK(t,e,n,r){switch(W$(e)){case 1:var i=boe;break;case 4:i=xoe;break;default:i=eP}n=i.bind(null,e,n,t),i=void 0,!M4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function R_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=oh(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}P$(function(){var u=a,A=Yk(n),d=[];e:{var f=lK.get(t);if(f!==void 0){var h=nP,p=t;switch(t){case"keypress":if(Dw(n)===0)break e;case"keydown":case"keyup":h=Foe;break;case"focusin":p="focus",h=k_;break;case"focusout":p="blur",h=k_;break;case"beforeblur":case"afterblur":h=k_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=bL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Soe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Roe;break;case iK:case aK:case sK:h=Boe;break;case oK:h=Qoe;break;case"scroll":h=woe;break;case"wheel":h=zoe;break;case"copy":case"cut":case"paste":h=joe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=wL}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=vy(y,g),C!=null&&m.push(Ey(y,C,x)))),v)break;y=y.return}0<m.length&&(f=new h(f,p,null,n,A),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==F4&&(p=n.relatedTarget||n.fromElement)&&(oh(p)||p[OA]))break e;if((h||f)&&(f=A.window===A?A:(f=A.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?oh(p):null,p!==null&&(v=rp(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=bL,C="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=wL,C="onPointerLeave",g="onPointerEnter",y="pointer"),v=h==null?f:om(h),x=p==null?f:om(p),f=new m(C,y+"leave",h,n,A),f.target=v,f.relatedTarget=x,C=null,oh(A)===u&&(m=new m(g,y+"enter",p,n,A),m.target=x,m.relatedTarget=v,C=m),v=C,h&&p)t:{for(m=h,g=p,y=0,x=m;x;x=Np(x))y++;for(x=0,C=g;C;C=Np(C))x++;for(;0<y-x;)m=Np(m),y--;for(;0<x-y;)g=Np(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Np(m),g=Np(g)}m=null}else m=null;h!==null&&PL(d,f,h,m,!1),p!==null&&v!==null&&PL(d,v,p,m,!0)}}e:{if(f=u?om(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=Yoe;else if(EL(f))if(Z$)E=ele;else{E=Joe;var j=Xoe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Zoe);if(E&&(E=E(t,u))){J$(d,E,n,A);break e}j&&j(t,f,u),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&T4(f,"number",f.value)}switch(j=u?om(u):window,t){case"focusin":(EL(j)||j.contentEditable==="true")&&(am=j,z4=u,Pv=null);break;case"focusout":Pv=z4=am=null;break;case"mousedown":V4=!0;break;case"contextmenu":case"mouseup":case"dragend":V4=!1,IL(d,n,A);break;case"selectionchange":if(rle)break;case"keydown":case"keyup":IL(d,n,A)}var _;if(iP)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else im?Y$(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(q$&&n.locale!=="ko"&&(im||B!=="onCompositionStart"?B==="onCompositionEnd"&&im&&(_=G$()):(jd=A,tP="value"in jd?jd.value:jd.textContent,im=!0)),j=E2(u,B),0<j.length&&(B=new xL(B,t,null,n,A),d.push({event:B,listeners:j}),_?B.data=_:(_=X$(n),_!==null&&(B.data=_)))),(_=$oe?Koe(t,n):Woe(t,n))&&(u=E2(u,"onBeforeInput"),0<u.length&&(A=new xL("onBeforeInput","beforeinput",null,n,A),d.push({event:A,listeners:u}),A.data=_))}cK(d,e)})}function Ey(t,e,n){return{instance:t,listener:e,currentTarget:n}}function E2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vy(t,n),a!=null&&r.unshift(Ey(t,a,i)),a=vy(t,e),a!=null&&r.push(Ey(t,a,i))),t=t.return}return r}function Np(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PL(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=vy(n,a),l!=null&&s.unshift(Ey(n,l,o))):i||(l=vy(n,a),l!=null&&s.push(Ey(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ole=/\r\n?/g,lle=/\u0000|\uFFFD/g;function DL(t){return(typeof t=="string"?t:""+t).replace(ole,`
`).replace(lle,"")}function o1(t,e,n){if(e=DL(e),DL(t)!==e&&n)throw Error(kt(425))}function _2(){}var $4=null,K4=null;function W4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G4=typeof setTimeout=="function"?setTimeout:void 0,cle=typeof clearTimeout=="function"?clearTimeout:void 0,OL=typeof Promise=="function"?Promise:void 0,ule=typeof queueMicrotask=="function"?queueMicrotask:typeof OL<"u"?function(t){return OL.resolve(null).then(t).catch(Ale)}:G4;function Ale(t){setTimeout(function(){throw t})}function U_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xy(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xy(e)}function $d(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var e0=Math.random().toString(36).slice(2),_u="__reactFiber$"+e0,_y="__reactProps$"+e0,OA="__reactContainer$"+e0,q4="__reactEvents$"+e0,dle="__reactListeners$"+e0,fle="__reactHandles$"+e0;function oh(t){var e=t[_u];if(e)return e;for(var n=t.parentNode;n;){if(e=n[OA]||n[_u]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FL(t);t!==null;){if(n=t[_u])return n;t=FL(t)}return e}t=n,n=t.parentNode}return null}function Gb(t){return t=t[_u]||t[OA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function om(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(kt(33))}function e5(t){return t[_y]||null}var Y4=[],lm=-1;function gf(t){return{current:t}}function _i(t){0>lm||(t.current=Y4[lm],Y4[lm]=null,lm--)}function Ai(t,e){lm++,Y4[lm]=t.current,t.current=e}var af={},so=gf(af),Qo=gf(!1),Oh=af;function Xm(t,e){var n=t.type.contextTypes;if(!n)return af;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ho(t){return t=t.childContextTypes,t!=null}function B2(){_i(Qo),_i(so)}function LL(t,e,n){if(so.current!==af)throw Error(kt(168));Ai(so,e),Ai(Qo,n)}function AK(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(kt(108,Xse(t)||"Unknown",i));return Qi({},n,r)}function N2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||af,Oh=so.current,Ai(so,t),Ai(Qo,Qo.current),!0}function ML(t,e,n){var r=t.stateNode;if(!r)throw Error(kt(169));n?(t=AK(t,e,Oh),r.__reactInternalMemoizedMergedChildContext=t,_i(Qo),_i(so),Ai(so,t)):_i(Qo),Ai(Qo,n)}var vA=null,t5=!1,Q_=!1;function dK(t){vA===null?vA=[t]:vA.push(t)}function hle(t){t5=!0,dK(t)}function vf(){if(!Q_&&vA!==null){Q_=!0;var t=0,e=$r;try{var n=vA;for($r=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vA=null,t5=!1}catch(i){throw vA!==null&&(vA=vA.slice(t+1)),L$(Xk,vf),i}finally{$r=e,Q_=!1}}return null}var cm=[],um=0,j2=null,I2=0,sc=[],oc=0,Fh=null,bA=1,xA="";function $f(t,e){cm[um++]=I2,cm[um++]=j2,j2=t,I2=e}function fK(t,e,n){sc[oc++]=bA,sc[oc++]=xA,sc[oc++]=Fh,Fh=t;var r=bA;t=xA;var i=32-Wc(r)-1;r&=~(1<<i),n+=1;var a=32-Wc(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,bA=1<<32-Wc(e)+i|n<<i|r,xA=a+t}else bA=1<<a|n<<i|r,xA=t}function sP(t){t.return!==null&&($f(t,1),fK(t,1,0))}function oP(t){for(;t===j2;)j2=cm[--um],cm[um]=null,I2=cm[--um],cm[um]=null;for(;t===Fh;)Fh=sc[--oc],sc[oc]=null,xA=sc[--oc],sc[oc]=null,bA=sc[--oc],sc[oc]=null}var El=null,wl=null,Ii=!1,$c=null;function hK(t,e){var n=uc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,El=t,wl=$d(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,El=t,wl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fh!==null?{id:bA,overflow:xA}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=uc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,El=t,wl=null,!0):!1;default:return!1}}function X4(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J4(t){if(Ii){var e=wl;if(e){var n=e;if(!RL(t,e)){if(X4(t))throw Error(kt(418));e=$d(n.nextSibling);var r=El;e&&RL(t,e)?hK(r,n):(t.flags=t.flags&-4097|2,Ii=!1,El=t)}}else{if(X4(t))throw Error(kt(418));t.flags=t.flags&-4097|2,Ii=!1,El=t}}}function UL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;El=t}function l1(t){if(t!==El)return!1;if(!Ii)return UL(t),Ii=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W4(t.type,t.memoizedProps)),e&&(e=wl)){if(X4(t))throw pK(),Error(kt(418));for(;e;)hK(t,e),e=$d(e.nextSibling)}if(UL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(kt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wl=$d(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wl=null}}else wl=El?$d(t.stateNode.nextSibling):null;return!0}function pK(){for(var t=wl;t;)t=$d(t.nextSibling)}function Jm(){wl=El=null,Ii=!1}function lP(t){$c===null?$c=[t]:$c.push(t)}var ple=qA.ReactCurrentBatchConfig;function R0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(kt(309));var r=n.stateNode}if(!r)throw Error(kt(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(kt(284));if(!n._owner)throw Error(kt(290,t))}return t}function c1(t,e){throw t=Object.prototype.toString.call(e),Error(kt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QL(t){var e=t._init;return e(t._payload)}function mK(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=qd(g,y),g.index=0,g.sibling=null,g}function a(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,x,C){return y===null||y.tag!==6?(y=G_(x,g.mode,C),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,C){var E=x.type;return E===rm?A(g,y,x.props.children,C,x.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wd&&QL(E)===y.type)?(C=i(y,x.props),C.ref=R0(g,y,x),C.return=g,C):(C=Qw(x.type,x.key,x.props,null,g.mode,C),C.ref=R0(g,y,x),C.return=g,C)}function u(g,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=q_(x,g.mode,C),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function A(g,y,x,C,E){return y===null||y.tag!==7?(y=xh(x,g.mode,C,E),y.return=g,y):(y=i(y,x),y.return=g,y)}function d(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=G_(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jx:return x=Qw(y.type,y.key,y.props,null,g.mode,x),x.ref=R0(g,null,y),x.return=g,x;case nm:return y=q_(y,g.mode,x),y.return=g,y;case wd:var C=y._init;return d(g,C(y._payload),x)}if(cv(y)||D0(y))return y=xh(y,g.mode,x,null),y.return=g,y;c1(g,y)}return null}function f(g,y,x,C){var E=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:o(g,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jx:return x.key===E?l(g,y,x,C):null;case nm:return x.key===E?u(g,y,x,C):null;case wd:return E=x._init,f(g,y,E(x._payload),C)}if(cv(x)||D0(x))return E!==null?null:A(g,y,x,C,null);c1(g,x)}return null}function h(g,y,x,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,o(y,g,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Jx:return g=g.get(C.key===null?x:C.key)||null,l(y,g,C,E);case nm:return g=g.get(C.key===null?x:C.key)||null,u(y,g,C,E);case wd:var j=C._init;return h(g,y,x,j(C._payload),E)}if(cv(C)||D0(C))return g=g.get(x)||null,A(y,g,C,E,null);c1(y,C)}return null}function p(g,y,x,C){for(var E=null,j=null,_=y,B=y=0,N=null;_!==null&&B<x.length;B++){_.index>B?(N=_,_=null):N=_.sibling;var D=f(g,_,x[B],C);if(D===null){_===null&&(_=N);break}t&&_&&D.alternate===null&&e(g,_),y=a(D,y,B),j===null?E=D:j.sibling=D,j=D,_=N}if(B===x.length)return n(g,_),Ii&&$f(g,B),E;if(_===null){for(;B<x.length;B++)_=d(g,x[B],C),_!==null&&(y=a(_,y,B),j===null?E=_:j.sibling=_,j=_);return Ii&&$f(g,B),E}for(_=r(g,_);B<x.length;B++)N=h(_,g,B,x[B],C),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?B:N.key),y=a(N,y,B),j===null?E=N:j.sibling=N,j=N);return t&&_.forEach(function(T){return e(g,T)}),Ii&&$f(g,B),E}function m(g,y,x,C){var E=D0(x);if(typeof E!="function")throw Error(kt(150));if(x=E.call(x),x==null)throw Error(kt(151));for(var j=E=null,_=y,B=y=0,N=null,D=x.next();_!==null&&!D.done;B++,D=x.next()){_.index>B?(N=_,_=null):N=_.sibling;var T=f(g,_,D.value,C);if(T===null){_===null&&(_=N);break}t&&_&&T.alternate===null&&e(g,_),y=a(T,y,B),j===null?E=T:j.sibling=T,j=T,_=N}if(D.done)return n(g,_),Ii&&$f(g,B),E;if(_===null){for(;!D.done;B++,D=x.next())D=d(g,D.value,C),D!==null&&(y=a(D,y,B),j===null?E=D:j.sibling=D,j=D);return Ii&&$f(g,B),E}for(_=r(g,_);!D.done;B++,D=x.next())D=h(_,g,B,D.value,C),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?B:D.key),y=a(D,y,B),j===null?E=D:j.sibling=D,j=D);return t&&_.forEach(function(O){return e(g,O)}),Ii&&$f(g,B),E}function v(g,y,x,C){if(typeof x=="object"&&x!==null&&x.type===rm&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Jx:e:{for(var E=x.key,j=y;j!==null;){if(j.key===E){if(E=x.type,E===rm){if(j.tag===7){n(g,j.sibling),y=i(j,x.props.children),y.return=g,g=y;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wd&&QL(E)===j.type){n(g,j.sibling),y=i(j,x.props),y.ref=R0(g,j,x),y.return=g,g=y;break e}n(g,j);break}else e(g,j);j=j.sibling}x.type===rm?(y=xh(x.props.children,g.mode,C,x.key),y.return=g,g=y):(C=Qw(x.type,x.key,x.props,null,g.mode,C),C.ref=R0(g,y,x),C.return=g,g=C)}return s(g);case nm:e:{for(j=x.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=q_(x,g.mode,C),y.return=g,g=y}return s(g);case wd:return j=x._init,v(g,y,j(x._payload),C)}if(cv(x))return p(g,y,x,C);if(D0(x))return m(g,y,x,C);c1(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,x),y.return=g,g=y):(n(g,y),y=G_(x,g.mode,C),y.return=g,g=y),s(g)):n(g,y)}return v}var Zm=mK(!0),gK=mK(!1),T2=gf(null),k2=null,Am=null,cP=null;function uP(){cP=Am=k2=null}function AP(t){var e=T2.current;_i(T2),t._currentValue=e}function Z4(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function km(t,e){k2=t,cP=Am=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lo=!0),t.firstContext=null)}function pc(t){var e=t._currentValue;if(cP!==t)if(t={context:t,memoizedValue:e,next:null},Am===null){if(k2===null)throw Error(kt(308));Am=t,k2.dependencies={lanes:0,firstContext:t}}else Am=Am.next=t;return e}var lh=null;function dP(t){lh===null?lh=[t]:lh.push(t)}function vK(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dP(e)):(n.next=i.next,i.next=n),e.interleaved=n,FA(t,r)}function FA(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cd=!1;function fP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function NA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Er&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,FA(t,n)}return i=r.interleaved,i===null?(e.next=e,dP(r)):(e.next=i.next,i.next=e),r.interleaved=e,FA(t,n)}function Ow(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jk(t,n)}}function HL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function P2(t,e,n,r){var i=t.updateQueue;Cd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var A=t.alternate;A!==null&&(A=A.updateQueue,o=A.lastBaseUpdate,o!==s&&(o===null?A.firstBaseUpdate=u:o.next=u,A.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,A=u=l=null,o=a;do{var f=o.lane,h=o.eventTime;if((r&f)===f){A!==null&&(A=A.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Qi({},d,f);break e;case 2:Cd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},A===null?(u=A=h,l=d):A=A.next=h,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(A===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=A,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Mh|=s,t.lanes=s,t.memoizedState=d}}function zL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(kt(191,i));i.call(r)}}}var qb={},Du=gf(qb),By=gf(qb),Ny=gf(qb);function ch(t){if(t===qb)throw Error(kt(174));return t}function hP(t,e){switch(Ai(Ny,e),Ai(By,t),Ai(Du,qb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P4(e,t)}_i(Du),Ai(Du,e)}function eg(){_i(Du),_i(By),_i(Ny)}function bK(t){ch(Ny.current);var e=ch(Du.current),n=P4(e,t.type);e!==n&&(Ai(By,t),Ai(Du,n))}function pP(t){By.current===t&&(_i(Du),_i(By))}var Ri=gf(0);function D2(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H_=[];function mP(){for(var t=0;t<H_.length;t++)H_[t]._workInProgressVersionPrimary=null;H_.length=0}var Fw=qA.ReactCurrentDispatcher,z_=qA.ReactCurrentBatchConfig,Lh=0,Ui=null,Wa=null,as=null,O2=!1,Dv=!1,jy=0,mle=0;function zs(){throw Error(kt(321))}function gP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jc(t[n],e[n]))return!1;return!0}function vP(t,e,n,r,i,a){if(Lh=a,Ui=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fw.current=t===null||t.memoizedState===null?ble:xle,t=n(r,i),Dv){a=0;do{if(Dv=!1,jy=0,25<=a)throw Error(kt(301));a+=1,as=Wa=null,e.updateQueue=null,Fw.current=wle,t=n(r,i)}while(Dv)}if(Fw.current=F2,e=Wa!==null&&Wa.next!==null,Lh=0,as=Wa=Ui=null,O2=!1,e)throw Error(kt(300));return t}function yP(){var t=jy!==0;return jy=0,t}function Su(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return as===null?Ui.memoizedState=as=t:as=as.next=t,as}function mc(){if(Wa===null){var t=Ui.alternate;t=t!==null?t.memoizedState:null}else t=Wa.next;var e=as===null?Ui.memoizedState:as.next;if(e!==null)as=e,Wa=t;else{if(t===null)throw Error(kt(310));Wa=t,t={memoizedState:Wa.memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},as===null?Ui.memoizedState=as=t:as=as.next=t}return as}function Iy(t,e){return typeof e=="function"?e(t):e}function V_(t){var e=mc(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=Wa,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var A=u.lane;if((Lh&A)===A)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:A,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Ui.lanes|=A,Mh|=A}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Jc(r,e.memoizedState)||(Lo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Ui.lanes|=a,Mh|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $_(t){var e=mc(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Jc(a,e.memoizedState)||(Lo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function xK(){}function wK(t,e){var n=Ui,r=mc(),i=e(),a=!Jc(r.memoizedState,i);if(a&&(r.memoizedState=i,Lo=!0),r=r.queue,bP(EK.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||as!==null&&as.memoizedState.tag&1){if(n.flags|=2048,Ty(9,SK.bind(null,n,r,i,e),void 0,null),cs===null)throw Error(kt(349));Lh&30||CK(n,e,i)}return i}function CK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ui.updateQueue,e===null?(e={lastEffect:null,stores:null},Ui.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SK(t,e,n,r){e.value=n,e.getSnapshot=r,_K(e)&&BK(t)}function EK(t,e,n){return n(function(){_K(e)&&BK(t)})}function _K(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jc(t,n)}catch{return!0}}function BK(t){var e=FA(t,1);e!==null&&Gc(e,t,1,-1)}function VL(t){var e=Su();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:t},e.queue=t,t=t.dispatch=yle.bind(null,Ui,t),[e.memoizedState,t]}function Ty(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ui.updateQueue,e===null?(e={lastEffect:null,stores:null},Ui.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NK(){return mc().memoizedState}function Lw(t,e,n,r){var i=Su();Ui.flags|=t,i.memoizedState=Ty(1|e,n,void 0,r===void 0?null:r)}function n5(t,e,n,r){var i=mc();r=r===void 0?null:r;var a=void 0;if(Wa!==null){var s=Wa.memoizedState;if(a=s.destroy,r!==null&&gP(r,s.deps)){i.memoizedState=Ty(e,n,a,r);return}}Ui.flags|=t,i.memoizedState=Ty(1|e,n,a,r)}function $L(t,e){return Lw(8390656,8,t,e)}function bP(t,e){return n5(2048,8,t,e)}function jK(t,e){return n5(4,2,t,e)}function IK(t,e){return n5(4,4,t,e)}function TK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kK(t,e,n){return n=n!=null?n.concat([t]):null,n5(4,4,TK.bind(null,e,t),n)}function xP(){}function PK(t,e){var n=mc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DK(t,e){var n=mc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OK(t,e,n){return Lh&21?(Jc(n,e)||(n=U$(),Ui.lanes|=n,Mh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lo=!0),t.memoizedState=n)}function gle(t,e){var n=$r;$r=n!==0&&4>n?n:4,t(!0);var r=z_.transition;z_.transition={};try{t(!1),e()}finally{$r=n,z_.transition=r}}function FK(){return mc().memoizedState}function vle(t,e,n){var r=Gd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LK(t))MK(e,n);else if(n=vK(t,e,n,r),n!==null){var i=Co();Gc(n,t,r,i),RK(n,e,r)}}function yle(t,e,n){var r=Gd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LK(t))MK(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Jc(o,s)){var l=e.interleaved;l===null?(i.next=i,dP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vK(t,e,i,r),n!==null&&(i=Co(),Gc(n,t,r,i),RK(n,e,r))}}function LK(t){var e=t.alternate;return t===Ui||e!==null&&e===Ui}function MK(t,e){Dv=O2=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RK(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jk(t,n)}}var F2={readContext:pc,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},ble={readContext:pc,useCallback:function(t,e){return Su().memoizedState=[t,e===void 0?null:e],t},useContext:pc,useEffect:$L,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lw(4194308,4,TK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lw(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lw(4,2,t,e)},useMemo:function(t,e){var n=Su();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Su();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vle.bind(null,Ui,t),[r.memoizedState,t]},useRef:function(t){var e=Su();return t={current:t},e.memoizedState=t},useState:VL,useDebugValue:xP,useDeferredValue:function(t){return Su().memoizedState=t},useTransition:function(){var t=VL(!1),e=t[0];return t=gle.bind(null,t[1]),Su().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ui,i=Su();if(Ii){if(n===void 0)throw Error(kt(407));n=n()}else{if(n=e(),cs===null)throw Error(kt(349));Lh&30||CK(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,$L(EK.bind(null,r,a,t),[t]),r.flags|=2048,Ty(9,SK.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Su(),e=cs.identifierPrefix;if(Ii){var n=xA,r=bA;n=(r&~(1<<32-Wc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jy++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mle++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xle={readContext:pc,useCallback:PK,useContext:pc,useEffect:bP,useImperativeHandle:kK,useInsertionEffect:jK,useLayoutEffect:IK,useMemo:DK,useReducer:V_,useRef:NK,useState:function(){return V_(Iy)},useDebugValue:xP,useDeferredValue:function(t){var e=mc();return OK(e,Wa.memoizedState,t)},useTransition:function(){var t=V_(Iy)[0],e=mc().memoizedState;return[t,e]},useMutableSource:xK,useSyncExternalStore:wK,useId:FK,unstable_isNewReconciler:!1},wle={readContext:pc,useCallback:PK,useContext:pc,useEffect:bP,useImperativeHandle:kK,useInsertionEffect:jK,useLayoutEffect:IK,useMemo:DK,useReducer:$_,useRef:NK,useState:function(){return $_(Iy)},useDebugValue:xP,useDeferredValue:function(t){var e=mc();return Wa===null?e.memoizedState=t:OK(e,Wa.memoizedState,t)},useTransition:function(){var t=$_(Iy)[0],e=mc().memoizedState;return[t,e]},useMutableSource:xK,useSyncExternalStore:wK,useId:FK,unstable_isNewReconciler:!1};function Qc(t,e){if(t&&t.defaultProps){e=Qi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ej(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var r5={isMounted:function(t){return(t=t._reactInternals)?rp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Gd(t),a=NA(r,i);a.payload=e,n!=null&&(a.callback=n),e=Kd(t,a,i),e!==null&&(Gc(e,t,i,r),Ow(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Gd(t),a=NA(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Kd(t,a,i),e!==null&&(Gc(e,t,i,r),Ow(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Co(),r=Gd(t),i=NA(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kd(t,i,r),e!==null&&(Gc(e,t,r,n),Ow(e,t,r))}};function KL(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Cy(n,r)||!Cy(i,a):!0}function UK(t,e,n){var r=!1,i=af,a=e.contextType;return typeof a=="object"&&a!==null?a=pc(a):(i=Ho(e)?Oh:so.current,r=e.contextTypes,a=(r=r!=null)?Xm(t,i):af),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=r5,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function WL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&r5.enqueueReplaceState(e,e.state,null)}function tj(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=pc(a):(a=Ho(e)?Oh:so.current,i.context=Xm(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ej(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&r5.enqueueReplaceState(i,i.state,null),P2(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tg(t,e){try{var n="",r=e;do n+=Yse(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function K_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nj(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cle=typeof WeakMap=="function"?WeakMap:Map;function QK(t,e,n){n=NA(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){M2||(M2=!0,dj=r),nj(t,e)},n}function HK(t,e,n){n=NA(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nj(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){nj(t,e),typeof r!="function"&&(Wd===null?Wd=new Set([this]):Wd.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function GL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Cle;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Lle.bind(null,t,e,n),e.then(t,t))}function qL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=NA(-1,1),e.tag=2,Kd(n,e,1))),n.lanes|=1),t)}var Sle=qA.ReactCurrentOwner,Lo=!1;function vo(t,e,n,r){e.child=t===null?gK(e,null,n,r):Zm(e,t.child,n,r)}function XL(t,e,n,r,i){n=n.render;var a=e.ref;return km(e,i),r=vP(t,e,n,r,a,i),n=yP(),t!==null&&!Lo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,LA(t,e,i)):(Ii&&n&&sP(e),e.flags|=1,vo(t,e,r,i),e.child)}function JL(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!jP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,zK(t,e,a,r,i)):(t=Qw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Cy,n(s,r)&&t.ref===e.ref)return LA(t,e,i)}return e.flags|=1,t=qd(a,r),t.ref=e.ref,t.return=e,e.child=t}function zK(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Cy(a,r)&&t.ref===e.ref)if(Lo=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Lo=!0);else return e.lanes=t.lanes,LA(t,e,i)}return rj(t,e,n,r,i)}function VK(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(fm,yl),yl|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ai(fm,yl),yl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ai(fm,yl),yl|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ai(fm,yl),yl|=r;return vo(t,e,i,n),e.child}function $K(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rj(t,e,n,r,i){var a=Ho(n)?Oh:so.current;return a=Xm(e,a),km(e,i),n=vP(t,e,n,r,a,i),r=yP(),t!==null&&!Lo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,LA(t,e,i)):(Ii&&r&&sP(e),e.flags|=1,vo(t,e,n,i),e.child)}function ZL(t,e,n,r,i){if(Ho(n)){var a=!0;N2(e)}else a=!1;if(km(e,i),e.stateNode===null)Mw(t,e),UK(e,n,r),tj(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=pc(u):(u=Ho(n)?Oh:so.current,u=Xm(e,u));var A=n.getDerivedStateFromProps,d=typeof A=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&WL(e,s,r,u),Cd=!1;var f=e.memoizedState;s.state=f,P2(e,r,s,i),l=e.memoizedState,o!==r||f!==l||Qo.current||Cd?(typeof A=="function"&&(ej(e,n,A,r),l=e.memoizedState),(o=Cd||KL(e,n,o,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,yK(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Qc(e.type,o),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=pc(l):(l=Ho(n)?Oh:so.current,l=Xm(e,l));var h=n.getDerivedStateFromProps;(A=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&WL(e,s,r,l),Cd=!1,f=e.memoizedState,s.state=f,P2(e,r,s,i);var p=e.memoizedState;o!==d||f!==p||Qo.current||Cd?(typeof h=="function"&&(ej(e,n,h,r),p=e.memoizedState),(u=Cd||KL(e,n,u,r,f,p,l)||!1)?(A||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ij(t,e,n,r,a,i)}function ij(t,e,n,r,i,a){$K(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ML(e,n,!1),LA(t,e,a);r=e.stateNode,Sle.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Zm(e,t.child,null,a),e.child=Zm(e,null,o,a)):vo(t,e,o,a),e.memoizedState=r.state,i&&ML(e,n,!0),e.child}function KK(t){var e=t.stateNode;e.pendingContext?LL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LL(t,e.context,!1),hP(t,e.containerInfo)}function eM(t,e,n,r,i){return Jm(),lP(i),e.flags|=256,vo(t,e,n,r),e.child}var aj={dehydrated:null,treeContext:null,retryLane:0};function sj(t){return{baseLanes:t,cachePool:null,transitions:null}}function WK(t,e,n){var r=e.pendingProps,i=Ri.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ai(Ri,i&1),t===null)return J4(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=s5(s,r,0,null),t=xh(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=sj(n),e.memoizedState=aj,t):wP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Ele(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=qd(o,a):(a=xh(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?sj(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=aj,r}return a=t.child,t=a.sibling,r=qd(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wP(t,e){return e=s5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function u1(t,e,n,r){return r!==null&&lP(r),Zm(e,t.child,null,n),t=wP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ele(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=K_(Error(kt(422))),u1(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=s5({mode:"visible",children:r.children},i,0,null),a=xh(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Zm(e,t.child,null,s),e.child.memoizedState=sj(s),e.memoizedState=aj,a);if(!(e.mode&1))return u1(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(kt(419)),r=K_(a,r,void 0),u1(t,e,s,r)}if(o=(s&t.childLanes)!==0,Lo||o){if(r=cs,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,FA(t,i),Gc(r,t,i,-1))}return NP(),r=K_(Error(kt(421))),u1(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Mle.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,wl=$d(i.nextSibling),El=e,Ii=!0,$c=null,t!==null&&(sc[oc++]=bA,sc[oc++]=xA,sc[oc++]=Fh,bA=t.id,xA=t.overflow,Fh=e),e=wP(e,r.children),e.flags|=4096,e)}function tM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Z4(t.return,e,n)}function W_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function GK(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(vo(t,e,r.children,n),r=Ri.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tM(t,n,e);else if(t.tag===19)tM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ai(Ri,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&D2(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),W_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&D2(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}W_(e,!0,n,null,a);break;case"together":W_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function LA(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(kt(153));if(e.child!==null){for(t=e.child,n=qd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _le(t,e,n){switch(e.tag){case 3:KK(e),Jm();break;case 5:bK(e);break;case 1:Ho(e.type)&&N2(e);break;case 4:hP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ai(T2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ai(Ri,Ri.current&1),e.flags|=128,null):n&e.child.childLanes?WK(t,e,n):(Ai(Ri,Ri.current&1),t=LA(t,e,n),t!==null?t.sibling:null);Ai(Ri,Ri.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GK(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Ri,Ri.current),r)break;return null;case 22:case 23:return e.lanes=0,VK(t,e,n)}return LA(t,e,n)}var qK,oj,YK,XK;qK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oj=function(){};YK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ch(Du.current);var a=null;switch(n){case"input":i=j4(t,i),r=j4(t,r),a=[];break;case"select":i=Qi({},i,{value:void 0}),r=Qi({},r,{value:void 0}),a=[];break;case"textarea":i=k4(t,i),r=k4(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_2)}D4(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(my.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(my.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&bi("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};XK=function(t,e,n,r){n!==r&&(e.flags|=4)};function U0(t,e){if(!Ii)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ble(t,e,n){var r=e.pendingProps;switch(oP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(e),null;case 1:return Ho(e.type)&&B2(),Vs(e),null;case 3:return r=e.stateNode,eg(),_i(Qo),_i(so),mP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(l1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$c!==null&&(pj($c),$c=null))),oj(t,e),Vs(e),null;case 5:pP(e);var i=ch(Ny.current);if(n=e.type,t!==null&&e.stateNode!=null)YK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(kt(166));return Vs(e),null}if(t=ch(Du.current),l1(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[_u]=e,r[_y]=a,t=(e.mode&1)!==0,n){case"dialog":bi("cancel",r),bi("close",r);break;case"iframe":case"object":case"embed":bi("load",r);break;case"video":case"audio":for(i=0;i<Av.length;i++)bi(Av[i],r);break;case"source":bi("error",r);break;case"img":case"image":case"link":bi("error",r),bi("load",r);break;case"details":bi("toggle",r);break;case"input":uL(r,a),bi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},bi("invalid",r);break;case"textarea":dL(r,a),bi("invalid",r)}D4(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&o1(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&o1(r.textContent,o,t),i=["children",""+o]):my.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&bi("scroll",r)}switch(n){case"input":Zx(r),AL(r,a,!0);break;case"textarea":Zx(r),fL(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=_2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_u]=e,t[_y]=r,qK(t,e,!1,!1),e.stateNode=t;e:{switch(s=O4(n,r),n){case"dialog":bi("cancel",t),bi("close",t),i=r;break;case"iframe":case"object":case"embed":bi("load",t),i=r;break;case"video":case"audio":for(i=0;i<Av.length;i++)bi(Av[i],t);i=r;break;case"source":bi("error",t),i=r;break;case"img":case"image":case"link":bi("error",t),bi("load",t),i=r;break;case"details":bi("toggle",t),i=r;break;case"input":uL(t,r),i=j4(t,r),bi("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qi({},r,{value:void 0}),bi("invalid",t);break;case"textarea":dL(t,r),i=k4(t,r),bi("invalid",t);break;default:i=r}D4(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?N$(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_$(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gy(t,l):typeof l=="number"&&gy(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(my.hasOwnProperty(a)?l!=null&&a==="onScroll"&&bi("scroll",t):l!=null&&Kk(t,a,l,s))}switch(n){case"input":Zx(t),AL(t,r,!1);break;case"textarea":Zx(t),fL(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rf(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Nm(t,!!r.multiple,a,!1):r.defaultValue!=null&&Nm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vs(e),null;case 6:if(t&&e.stateNode!=null)XK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(kt(166));if(n=ch(Ny.current),ch(Du.current),l1(e)){if(r=e.stateNode,n=e.memoizedProps,r[_u]=e,(a=r.nodeValue!==n)&&(t=El,t!==null))switch(t.tag){case 3:o1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&o1(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_u]=e,e.stateNode=r}return Vs(e),null;case 13:if(_i(Ri),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ii&&wl!==null&&e.mode&1&&!(e.flags&128))pK(),Jm(),e.flags|=98560,a=!1;else if(a=l1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(kt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(kt(317));a[_u]=e}else Jm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vs(e),a=!1}else $c!==null&&(pj($c),$c=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ri.current&1?Ya===0&&(Ya=3):NP())),e.updateQueue!==null&&(e.flags|=4),Vs(e),null);case 4:return eg(),oj(t,e),t===null&&Sy(e.stateNode.containerInfo),Vs(e),null;case 10:return AP(e.type._context),Vs(e),null;case 17:return Ho(e.type)&&B2(),Vs(e),null;case 19:if(_i(Ri),a=e.memoizedState,a===null)return Vs(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)U0(a,!1);else{if(Ya!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=D2(t),s!==null){for(e.flags|=128,U0(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ai(Ri,Ri.current&1|2),e.child}t=t.sibling}a.tail!==null&&pa()>ng&&(e.flags|=128,r=!0,U0(a,!1),e.lanes=4194304)}else{if(!r)if(t=D2(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),U0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ii)return Vs(e),null}else 2*pa()-a.renderingStartTime>ng&&n!==1073741824&&(e.flags|=128,r=!0,U0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pa(),e.sibling=null,n=Ri.current,Ai(Ri,r?n&1|2:n&1),e):(Vs(e),null);case 22:case 23:return BP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yl&1073741824&&(Vs(e),e.subtreeFlags&6&&(e.flags|=8192)):Vs(e),null;case 24:return null;case 25:return null}throw Error(kt(156,e.tag))}function Nle(t,e){switch(oP(e),e.tag){case 1:return Ho(e.type)&&B2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eg(),_i(Qo),_i(so),mP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pP(e),null;case 13:if(_i(Ri),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(kt(340));Jm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _i(Ri),null;case 4:return eg(),null;case 10:return AP(e.type._context),null;case 22:case 23:return BP(),null;case 24:return null;default:return null}}var A1=!1,no=!1,jle=typeof WeakSet=="function"?WeakSet:Set,an=null;function dm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xi(t,e,r)}else n.current=null}function lj(t,e,n){try{n()}catch(r){Xi(t,e,r)}}var nM=!1;function Ile(t,e){if($4=C2,t=nK(),aP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,A=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=s),f===a&&++A===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(K4={focusedElem:t,selectionRange:n},C2=!1,an=e;an!==null;)if(e=an,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,an=t;else for(;an!==null;){e=an;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Qc(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(kt(163))}}catch(C){Xi(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,an=t;break}an=e.return}return p=nM,nM=!1,p}function Ov(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&lj(e,n,a)}i=i.next}while(i!==r)}}function i5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cj(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JK(t){var e=t.alternate;e!==null&&(t.alternate=null,JK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_u],delete e[_y],delete e[q4],delete e[dle],delete e[fle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZK(t){return t.tag===5||t.tag===3||t.tag===4}function rM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_2));else if(r!==4&&(t=t.child,t!==null))for(uj(t,e,n),t=t.sibling;t!==null;)uj(t,e,n),t=t.sibling}function Aj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Aj(t,e,n),t=t.sibling;t!==null;)Aj(t,e,n),t=t.sibling}var ws=null,Hc=!1;function Ad(t,e,n){for(n=n.child;n!==null;)eW(t,e,n),n=n.sibling}function eW(t,e,n){if(Pu&&typeof Pu.onCommitFiberUnmount=="function")try{Pu.onCommitFiberUnmount(YS,n)}catch{}switch(n.tag){case 5:no||dm(n,e);case 6:var r=ws,i=Hc;ws=null,Ad(t,e,n),ws=r,Hc=i,ws!==null&&(Hc?(t=ws,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ws.removeChild(n.stateNode));break;case 18:ws!==null&&(Hc?(t=ws,n=n.stateNode,t.nodeType===8?U_(t.parentNode,n):t.nodeType===1&&U_(t,n),xy(t)):U_(ws,n.stateNode));break;case 4:r=ws,i=Hc,ws=n.stateNode.containerInfo,Hc=!0,Ad(t,e,n),ws=r,Hc=i;break;case 0:case 11:case 14:case 15:if(!no&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&lj(n,e,s),i=i.next}while(i!==r)}Ad(t,e,n);break;case 1:if(!no&&(dm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Xi(n,e,o)}Ad(t,e,n);break;case 21:Ad(t,e,n);break;case 22:n.mode&1?(no=(r=no)||n.memoizedState!==null,Ad(t,e,n),no=r):Ad(t,e,n);break;default:Ad(t,e,n)}}function iM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jle),e.forEach(function(r){var i=Rle.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:ws=o.stateNode,Hc=!1;break e;case 3:ws=o.stateNode.containerInfo,Hc=!0;break e;case 4:ws=o.stateNode.containerInfo,Hc=!0;break e}o=o.return}if(ws===null)throw Error(kt(160));eW(a,s,i),ws=null,Hc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tW(e,t),e=e.sibling}function tW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fc(e,t),bu(t),r&4){try{Ov(3,t,t.return),i5(3,t)}catch(m){Xi(t,t.return,m)}try{Ov(5,t,t.return)}catch(m){Xi(t,t.return,m)}}break;case 1:Fc(e,t),bu(t),r&512&&n!==null&&dm(n,n.return);break;case 5:if(Fc(e,t),bu(t),r&512&&n!==null&&dm(n,n.return),t.flags&32){var i=t.stateNode;try{gy(i,"")}catch(m){Xi(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&C$(i,a),O4(o,s);var u=O4(o,a);for(s=0;s<l.length;s+=2){var A=l[s],d=l[s+1];A==="style"?N$(i,d):A==="dangerouslySetInnerHTML"?_$(i,d):A==="children"?gy(i,d):Kk(i,A,d,u)}switch(o){case"input":I4(i,a);break;case"textarea":S$(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Nm(i,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?Nm(i,!!a.multiple,a.defaultValue,!0):Nm(i,!!a.multiple,a.multiple?[]:"",!1))}i[_y]=a}catch(m){Xi(t,t.return,m)}}break;case 6:if(Fc(e,t),bu(t),r&4){if(t.stateNode===null)throw Error(kt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Xi(t,t.return,m)}}break;case 3:if(Fc(e,t),bu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xy(e.containerInfo)}catch(m){Xi(t,t.return,m)}break;case 4:Fc(e,t),bu(t);break;case 13:Fc(e,t),bu(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(EP=pa())),r&4&&iM(t);break;case 22:if(A=n!==null&&n.memoizedState!==null,t.mode&1?(no=(u=no)||A,Fc(e,t),no=u):Fc(e,t),bu(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!A&&t.mode&1)for(an=t,A=t.child;A!==null;){for(d=an=A;an!==null;){switch(f=an,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ov(4,f,f.return);break;case 1:dm(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Xi(r,n,m)}}break;case 5:dm(f,f.return);break;case 22:if(f.memoizedState!==null){sM(d);continue}}h!==null?(h.return=f,an=h):sM(d)}A=A.sibling}e:for(A=null,d=t;;){if(d.tag===5){if(A===null){A=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=B$("display",s))}catch(m){Xi(t,t.return,m)}}}else if(d.tag===6){if(A===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Xi(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;A===d&&(A=null),d=d.return}A===d&&(A=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fc(e,t),bu(t),r&4&&iM(t);break;case 21:break;default:Fc(e,t),bu(t)}}function bu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZK(n)){var r=n;break e}n=n.return}throw Error(kt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gy(i,""),r.flags&=-33);var a=rM(t);Aj(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=rM(t);uj(t,o,s);break;default:throw Error(kt(161))}}catch(l){Xi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tle(t,e,n){an=t,nW(t)}function nW(t,e,n){for(var r=(t.mode&1)!==0;an!==null;){var i=an,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||A1;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||no;o=A1;var u=no;if(A1=s,(no=l)&&!u)for(an=i;an!==null;)s=an,l=s.child,s.tag===22&&s.memoizedState!==null?oM(i):l!==null?(l.return=s,an=l):oM(i);for(;a!==null;)an=a,nW(a),a=a.sibling;an=i,A1=o,no=u}aM(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,an=a):aM(t)}}function aM(t){for(;an!==null;){var e=an;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:no||i5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!no)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&zL(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zL(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var A=u.memoizedState;if(A!==null){var d=A.dehydrated;d!==null&&xy(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(kt(163))}no||e.flags&512&&cj(e)}catch(f){Xi(e,e.return,f)}}if(e===t){an=null;break}if(n=e.sibling,n!==null){n.return=e.return,an=n;break}an=e.return}}function sM(t){for(;an!==null;){var e=an;if(e===t){an=null;break}var n=e.sibling;if(n!==null){n.return=e.return,an=n;break}an=e.return}}function oM(t){for(;an!==null;){var e=an;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{i5(4,e)}catch(l){Xi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xi(e,i,l)}}var a=e.return;try{cj(e)}catch(l){Xi(e,a,l)}break;case 5:var s=e.return;try{cj(e)}catch(l){Xi(e,s,l)}}}catch(l){Xi(e,e.return,l)}if(e===t){an=null;break}var o=e.sibling;if(o!==null){o.return=e.return,an=o;break}an=e.return}}var kle=Math.ceil,L2=qA.ReactCurrentDispatcher,CP=qA.ReactCurrentOwner,hc=qA.ReactCurrentBatchConfig,Er=0,cs=null,ja=null,js=0,yl=0,fm=gf(0),Ya=0,ky=null,Mh=0,a5=0,SP=0,Fv=null,Do=null,EP=0,ng=1/0,mA=null,M2=!1,dj=null,Wd=null,d1=!1,Id=null,R2=0,Lv=0,fj=null,Rw=-1,Uw=0;function Co(){return Er&6?pa():Rw!==-1?Rw:Rw=pa()}function Gd(t){return t.mode&1?Er&2&&js!==0?js&-js:ple.transition!==null?(Uw===0&&(Uw=U$()),Uw):(t=$r,t!==0||(t=window.event,t=t===void 0?16:W$(t.type)),t):1}function Gc(t,e,n,r){if(50<Lv)throw Lv=0,fj=null,Error(kt(185));Kb(t,n,r),(!(Er&2)||t!==cs)&&(t===cs&&(!(Er&2)&&(a5|=n),Ya===4&&Bd(t,js)),zo(t,r),n===1&&Er===0&&!(e.mode&1)&&(ng=pa()+500,t5&&vf()))}function zo(t,e){var n=t.callbackNode;poe(t,e);var r=w2(t,t===cs?js:0);if(r===0)n!==null&&mL(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mL(n),e===1)t.tag===0?hle(lM.bind(null,t)):dK(lM.bind(null,t)),ule(function(){!(Er&6)&&vf()}),n=null;else{switch(Q$(r)){case 1:n=Xk;break;case 4:n=M$;break;case 16:n=x2;break;case 536870912:n=R$;break;default:n=x2}n=uW(n,rW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rW(t,e){if(Rw=-1,Uw=0,Er&6)throw Error(kt(327));var n=t.callbackNode;if(Pm()&&t.callbackNode!==n)return null;var r=w2(t,t===cs?js:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=U2(t,r);else{e=r;var i=Er;Er|=2;var a=aW();(cs!==t||js!==e)&&(mA=null,ng=pa()+500,bh(t,e));do try{Ole();break}catch(o){iW(t,o)}while(!0);uP(),L2.current=a,Er=i,ja!==null?e=0:(cs=null,js=0,e=Ya)}if(e!==0){if(e===2&&(i=U4(t),i!==0&&(r=i,e=hj(t,i))),e===1)throw n=ky,bh(t,0),Bd(t,r),zo(t,pa()),n;if(e===6)Bd(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ple(i)&&(e=U2(t,r),e===2&&(a=U4(t),a!==0&&(r=a,e=hj(t,a))),e===1))throw n=ky,bh(t,0),Bd(t,r),zo(t,pa()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(kt(345));case 2:Kf(t,Do,mA);break;case 3:if(Bd(t,r),(r&130023424)===r&&(e=EP+500-pa(),10<e)){if(w2(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Co(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=G4(Kf.bind(null,t,Do,mA),e);break}Kf(t,Do,mA);break;case 4:if(Bd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Wc(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=pa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kle(r/1960))-r,10<r){t.timeoutHandle=G4(Kf.bind(null,t,Do,mA),r);break}Kf(t,Do,mA);break;case 5:Kf(t,Do,mA);break;default:throw Error(kt(329))}}}return zo(t,pa()),t.callbackNode===n?rW.bind(null,t):null}function hj(t,e){var n=Fv;return t.current.memoizedState.isDehydrated&&(bh(t,e).flags|=256),t=U2(t,e),t!==2&&(e=Do,Do=n,e!==null&&pj(e)),t}function pj(t){Do===null?Do=t:Do.push.apply(Do,t)}function Ple(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Jc(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bd(t,e){for(e&=~SP,e&=~a5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wc(e),r=1<<n;t[n]=-1,e&=~r}}function lM(t){if(Er&6)throw Error(kt(327));Pm();var e=w2(t,0);if(!(e&1))return zo(t,pa()),null;var n=U2(t,e);if(t.tag!==0&&n===2){var r=U4(t);r!==0&&(e=r,n=hj(t,r))}if(n===1)throw n=ky,bh(t,0),Bd(t,e),zo(t,pa()),n;if(n===6)throw Error(kt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kf(t,Do,mA),zo(t,pa()),null}function _P(t,e){var n=Er;Er|=1;try{return t(e)}finally{Er=n,Er===0&&(ng=pa()+500,t5&&vf())}}function Rh(t){Id!==null&&Id.tag===0&&!(Er&6)&&Pm();var e=Er;Er|=1;var n=hc.transition,r=$r;try{if(hc.transition=null,$r=1,t)return t()}finally{$r=r,hc.transition=n,Er=e,!(Er&6)&&vf()}}function BP(){yl=fm.current,_i(fm)}function bh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cle(n)),ja!==null)for(n=ja.return;n!==null;){var r=n;switch(oP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&B2();break;case 3:eg(),_i(Qo),_i(so),mP();break;case 5:pP(r);break;case 4:eg();break;case 13:_i(Ri);break;case 19:_i(Ri);break;case 10:AP(r.type._context);break;case 22:case 23:BP()}n=n.return}if(cs=t,ja=t=qd(t.current,null),js=yl=e,Ya=0,ky=null,SP=a5=Mh=0,Do=Fv=null,lh!==null){for(e=0;e<lh.length;e++)if(n=lh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}lh=null}return t}function iW(t,e){do{var n=ja;try{if(uP(),Fw.current=F2,O2){for(var r=Ui.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}O2=!1}if(Lh=0,as=Wa=Ui=null,Dv=!1,jy=0,CP.current=null,n===null||n.return===null){Ya=1,ky=e,ja=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=js,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,A=o,d=A.tag;if(!(A.mode&1)&&(d===0||d===11||d===15)){var f=A.alternate;f?(A.updateQueue=f.updateQueue,A.memoizedState=f.memoizedState,A.lanes=f.lanes):(A.updateQueue=null,A.memoizedState=null)}var h=qL(s);if(h!==null){h.flags&=-257,YL(h,s,o,a,e),h.mode&1&&GL(a,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){GL(a,u,e),NP();break e}l=Error(kt(426))}}else if(Ii&&o.mode&1){var v=qL(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YL(v,s,o,a,e),lP(tg(l,o));break e}}a=l=tg(l,o),Ya!==4&&(Ya=2),Fv===null?Fv=[a]:Fv.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=QK(a,l,e);HL(a,g);break e;case 1:o=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Wd===null||!Wd.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=HK(a,o,e);HL(a,C);break e}}a=a.return}while(a!==null)}oW(n)}catch(E){e=E,ja===n&&n!==null&&(ja=n=n.return);continue}break}while(!0)}function aW(){var t=L2.current;return L2.current=F2,t===null?F2:t}function NP(){(Ya===0||Ya===3||Ya===2)&&(Ya=4),cs===null||!(Mh&268435455)&&!(a5&268435455)||Bd(cs,js)}function U2(t,e){var n=Er;Er|=2;var r=aW();(cs!==t||js!==e)&&(mA=null,bh(t,e));do try{Dle();break}catch(i){iW(t,i)}while(!0);if(uP(),Er=n,L2.current=r,ja!==null)throw Error(kt(261));return cs=null,js=0,Ya}function Dle(){for(;ja!==null;)sW(ja)}function Ole(){for(;ja!==null&&!soe();)sW(ja)}function sW(t){var e=cW(t.alternate,t,yl);t.memoizedProps=t.pendingProps,e===null?oW(t):ja=e,CP.current=null}function oW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nle(n,e),n!==null){n.flags&=32767,ja=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ya=6,ja=null;return}}else if(n=Ble(n,e,yl),n!==null){ja=n;return}if(e=e.sibling,e!==null){ja=e;return}ja=e=t}while(e!==null);Ya===0&&(Ya=5)}function Kf(t,e,n){var r=$r,i=hc.transition;try{hc.transition=null,$r=1,Fle(t,e,n,r)}finally{hc.transition=i,$r=r}return null}function Fle(t,e,n,r){do Pm();while(Id!==null);if(Er&6)throw Error(kt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(kt(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(moe(t,a),t===cs&&(ja=cs=null,js=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||d1||(d1=!0,uW(x2,function(){return Pm(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=hc.transition,hc.transition=null;var s=$r;$r=1;var o=Er;Er|=4,CP.current=null,Ile(t,n),tW(n,t),nle(K4),C2=!!$4,K4=$4=null,t.current=n,Tle(n),ooe(),Er=o,$r=s,hc.transition=a}else t.current=n;if(d1&&(d1=!1,Id=t,R2=i),a=t.pendingLanes,a===0&&(Wd=null),uoe(n.stateNode),zo(t,pa()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(M2)throw M2=!1,t=dj,dj=null,t;return R2&1&&t.tag!==0&&Pm(),a=t.pendingLanes,a&1?t===fj?Lv++:(Lv=0,fj=t):Lv=0,vf(),null}function Pm(){if(Id!==null){var t=Q$(R2),e=hc.transition,n=$r;try{if(hc.transition=null,$r=16>t?16:t,Id===null)var r=!1;else{if(t=Id,Id=null,R2=0,Er&6)throw Error(kt(331));var i=Er;for(Er|=4,an=t.current;an!==null;){var a=an,s=a.child;if(an.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(an=u;an!==null;){var A=an;switch(A.tag){case 0:case 11:case 15:Ov(8,A,a)}var d=A.child;if(d!==null)d.return=A,an=d;else for(;an!==null;){A=an;var f=A.sibling,h=A.return;if(JK(A),A===u){an=null;break}if(f!==null){f.return=h,an=f;break}an=h}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}an=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,an=s;else e:for(;an!==null;){if(a=an,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ov(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,an=g;break e}an=a.return}}var y=t.current;for(an=y;an!==null;){s=an;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,an=x;else e:for(s=y;an!==null;){if(o=an,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:i5(9,o)}}catch(E){Xi(o,o.return,E)}if(o===s){an=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,an=C;break e}an=o.return}}if(Er=i,vf(),Pu&&typeof Pu.onPostCommitFiberRoot=="function")try{Pu.onPostCommitFiberRoot(YS,t)}catch{}r=!0}return r}finally{$r=n,hc.transition=e}}return!1}function cM(t,e,n){e=tg(n,e),e=QK(t,e,1),t=Kd(t,e,1),e=Co(),t!==null&&(Kb(t,1,e),zo(t,e))}function Xi(t,e,n){if(t.tag===3)cM(t,t,n);else for(;e!==null;){if(e.tag===3){cM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wd===null||!Wd.has(r))){t=tg(n,t),t=HK(e,t,1),e=Kd(e,t,1),t=Co(),e!==null&&(Kb(e,1,t),zo(e,t));break}}e=e.return}}function Lle(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Co(),t.pingedLanes|=t.suspendedLanes&n,cs===t&&(js&n)===n&&(Ya===4||Ya===3&&(js&130023424)===js&&500>pa()-EP?bh(t,0):SP|=n),zo(t,e)}function lW(t,e){e===0&&(t.mode&1?(e=n1,n1<<=1,!(n1&130023424)&&(n1=4194304)):e=1);var n=Co();t=FA(t,e),t!==null&&(Kb(t,e,n),zo(t,n))}function Mle(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lW(t,n)}function Rle(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(kt(314))}r!==null&&r.delete(e),lW(t,n)}var cW;cW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qo.current)Lo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lo=!1,_le(t,e,n);Lo=!!(t.flags&131072)}else Lo=!1,Ii&&e.flags&1048576&&fK(e,I2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mw(t,e),t=e.pendingProps;var i=Xm(e,so.current);km(e,n),i=vP(null,e,r,t,i,n);var a=yP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ho(r)?(a=!0,N2(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fP(e),i.updater=r5,e.stateNode=i,i._reactInternals=e,tj(e,r,t,n),e=ij(null,e,r,!0,a,n)):(e.tag=0,Ii&&a&&sP(e),vo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mw(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Qle(r),t=Qc(r,t),i){case 0:e=rj(null,e,r,t,n);break e;case 1:e=ZL(null,e,r,t,n);break e;case 11:e=XL(null,e,r,t,n);break e;case 14:e=JL(null,e,r,Qc(r.type,t),n);break e}throw Error(kt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qc(r,i),rj(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qc(r,i),ZL(t,e,r,i,n);case 3:e:{if(KK(e),t===null)throw Error(kt(387));r=e.pendingProps,a=e.memoizedState,i=a.element,yK(t,e),P2(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=tg(Error(kt(423)),e),e=eM(t,e,r,n,i);break e}else if(r!==i){i=tg(Error(kt(424)),e),e=eM(t,e,r,n,i);break e}else for(wl=$d(e.stateNode.containerInfo.firstChild),El=e,Ii=!0,$c=null,n=gK(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jm(),r===i){e=LA(t,e,n);break e}vo(t,e,r,n)}e=e.child}return e;case 5:return bK(e),t===null&&J4(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,W4(r,i)?s=null:a!==null&&W4(r,a)&&(e.flags|=32),$K(t,e),vo(t,e,s,n),e.child;case 6:return t===null&&J4(e),null;case 13:return WK(t,e,n);case 4:return hP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zm(e,null,r,n):vo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qc(r,i),XL(t,e,r,i,n);case 7:return vo(t,e,e.pendingProps,n),e.child;case 8:return vo(t,e,e.pendingProps.children,n),e.child;case 12:return vo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ai(T2,r._currentValue),r._currentValue=s,a!==null)if(Jc(a.value,s)){if(a.children===i.children&&!Qo.current){e=LA(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=NA(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var A=u.pending;A===null?l.next=l:(l.next=A.next,A.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Z4(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(kt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Z4(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}vo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,km(e,n),i=pc(i),r=r(i),e.flags|=1,vo(t,e,r,n),e.child;case 14:return r=e.type,i=Qc(r,e.pendingProps),i=Qc(r.type,i),JL(t,e,r,i,n);case 15:return zK(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qc(r,i),Mw(t,e),e.tag=1,Ho(r)?(t=!0,N2(e)):t=!1,km(e,n),UK(e,r,i),tj(e,r,i,n),ij(null,e,r,!0,t,n);case 19:return GK(t,e,n);case 22:return VK(t,e,n)}throw Error(kt(156,e.tag))};function uW(t,e){return L$(t,e)}function Ule(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uc(t,e,n,r){return new Ule(t,e,n,r)}function jP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qle(t){if(typeof t=="function")return jP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gk)return 11;if(t===qk)return 14}return 2}function qd(t,e){var n=t.alternate;return n===null?(n=uc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qw(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")jP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case rm:return xh(n.children,i,a,e);case Wk:s=8,i|=8;break;case E4:return t=uc(12,n,e,i|2),t.elementType=E4,t.lanes=a,t;case _4:return t=uc(13,n,e,i),t.elementType=_4,t.lanes=a,t;case B4:return t=uc(19,n,e,i),t.elementType=B4,t.lanes=a,t;case b$:return s5(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v$:s=10;break e;case y$:s=9;break e;case Gk:s=11;break e;case qk:s=14;break e;case wd:s=16,r=null;break e}throw Error(kt(130,t==null?t:typeof t,""))}return e=uc(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function xh(t,e,n,r){return t=uc(7,t,r,e),t.lanes=n,t}function s5(t,e,n,r){return t=uc(22,t,r,e),t.elementType=b$,t.lanes=n,t.stateNode={isHidden:!1},t}function G_(t,e,n){return t=uc(6,t,null,e),t.lanes=n,t}function q_(t,e,n){return e=uc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hle(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j_(0),this.expirationTimes=j_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function IP(t,e,n,r,i,a,s,o,l){return t=new Hle(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=uc(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fP(a),t}function zle(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AW(t){if(!t)return af;t=t._reactInternals;e:{if(rp(t)!==t||t.tag!==1)throw Error(kt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ho(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(kt(171))}if(t.tag===1){var n=t.type;if(Ho(n))return AK(t,n,e)}return e}function dW(t,e,n,r,i,a,s,o,l){return t=IP(n,r,!0,t,i,a,s,o,l),t.context=AW(null),n=t.current,r=Co(),i=Gd(n),a=NA(r,i),a.callback=e??null,Kd(n,a,i),t.current.lanes=i,Kb(t,i,r),zo(t,r),t}function o5(t,e,n,r){var i=e.current,a=Co(),s=Gd(i);return n=AW(n),e.context===null?e.context=n:e.pendingContext=n,e=NA(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kd(i,e,s),t!==null&&(Gc(t,i,s,a),Ow(t,i,s)),s}function Q2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TP(t,e){uM(t,e),(t=t.alternate)&&uM(t,e)}function Vle(){return null}var fW=typeof reportError=="function"?reportError:function(t){console.error(t)};function kP(t){this._internalRoot=t}l5.prototype.render=kP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(kt(409));o5(t,e,null,null)};l5.prototype.unmount=kP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rh(function(){o5(null,t,null,null)}),e[OA]=null}};function l5(t){this._internalRoot=t}l5.prototype.unstable_scheduleHydration=function(t){if(t){var e=V$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_d.length&&e!==0&&e<_d[n].priority;n++);_d.splice(n,0,t),n===0&&K$(t)}};function PP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AM(){}function $le(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Q2(s);a.call(u)}}var s=dW(e,r,t,0,null,!1,!1,"",AM);return t._reactRootContainer=s,t[OA]=s.current,Sy(t.nodeType===8?t.parentNode:t),Rh(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Q2(l);o.call(u)}}var l=IP(t,0,!1,null,null,!1,!1,"",AM);return t._reactRootContainer=l,t[OA]=l.current,Sy(t.nodeType===8?t.parentNode:t),Rh(function(){o5(e,l,n,r)}),l}function u5(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Q2(s);o.call(l)}}o5(e,s,t,i)}else s=$le(n,e,t,i,r);return Q2(s)}H$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uv(e.pendingLanes);n!==0&&(Jk(e,n|1),zo(e,pa()),!(Er&6)&&(ng=pa()+500,vf()))}break;case 13:Rh(function(){var r=FA(t,1);if(r!==null){var i=Co();Gc(r,t,1,i)}}),TP(t,1)}};Zk=function(t){if(t.tag===13){var e=FA(t,134217728);if(e!==null){var n=Co();Gc(e,t,134217728,n)}TP(t,134217728)}};z$=function(t){if(t.tag===13){var e=Gd(t),n=FA(t,e);if(n!==null){var r=Co();Gc(n,t,e,r)}TP(t,e)}};V$=function(){return $r};$$=function(t,e){var n=$r;try{return $r=t,e()}finally{$r=n}};L4=function(t,e,n){switch(e){case"input":if(I4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=e5(r);if(!i)throw Error(kt(90));w$(r),I4(r,i)}}}break;case"textarea":S$(t,n);break;case"select":e=n.value,e!=null&&Nm(t,!!n.multiple,e,!1)}};T$=_P;k$=Rh;var Kle={usingClientEntryPoint:!1,Events:[Gb,om,e5,j$,I$,_P]},Q0={findFiberByHostInstance:oh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wle={bundleType:Q0.bundleType,version:Q0.version,rendererPackageName:Q0.rendererPackageName,rendererConfig:Q0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O$(t),t===null?null:t.stateNode},findFiberByHostInstance:Q0.findFiberByHostInstance||Vle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f1.isDisabled&&f1.supportsFiber)try{YS=f1.inject(Wle),Pu=f1}catch{}}Ul.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kle;Ul.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PP(e))throw Error(kt(200));return zle(t,e,null,n)};Ul.createRoot=function(t,e){if(!PP(t))throw Error(kt(299));var n=!1,r="",i=fW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=IP(t,1,!1,null,null,n,!1,r,i),t[OA]=e.current,Sy(t.nodeType===8?t.parentNode:t),new kP(e)};Ul.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(kt(188)):(t=Object.keys(t).join(","),Error(kt(268,t)));return t=O$(e),t=t===null?null:t.stateNode,t};Ul.flushSync=function(t){return Rh(t)};Ul.hydrate=function(t,e,n){if(!c5(e))throw Error(kt(200));return u5(null,t,e,!0,n)};Ul.hydrateRoot=function(t,e,n){if(!PP(t))throw Error(kt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=fW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=dW(e,null,t,1,n??null,i,!1,a,s),t[OA]=e.current,Sy(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new l5(e)};Ul.render=function(t,e,n){if(!c5(e))throw Error(kt(200));return u5(null,t,e,!1,n)};Ul.unmountComponentAtNode=function(t){if(!c5(t))throw Error(kt(40));return t._reactRootContainer?(Rh(function(){u5(null,null,t,!1,function(){t._reactRootContainer=null,t[OA]=null})}),!0):!1};Ul.unstable_batchedUpdates=_P;Ul.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!c5(n))throw Error(kt(200));if(t==null||t._reactInternals===void 0)throw Error(kt(38));return u5(t,e,n,!1,r)};Ul.version="18.3.1-next-f1338f8080-20240426";function hW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hW)}catch(t){console.error(t)}}hW(),h$.exports=Ul;var Py=h$.exports,dM=Py;C4.createRoot=dM.createRoot,C4.hydrateRoot=dM.hydrateRoot;var fM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gle=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,A=a>>2,d=(a&3)<<4|o>>4;let f=(o&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[A],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new qle;const f=a<<2|o>>4;if(r.push(f),u!==64){const h=o<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yle=function(t){const e=pW(t);return mW.encodeByteArray(e,!0)},gW=function(t){return Yle(t).replace(/\./g,"")},vW=function(t){try{return mW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=()=>Xle().__FIREBASE_DEFAULTS__,Zle=()=>{if(typeof process>"u"||typeof fM>"u")return;const t=fM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ece=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vW(t[1]);return e&&JSON.parse(e)},DP=()=>{try{return Jle()||Zle()||ece()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tce=()=>{var t;return(t=DP())===null||t===void 0?void 0:t.config},nce=t=>{var e;return(e=DP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ice(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wo())}function ace(){var t;const e=(t=DP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cce(){const t=Wo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uce(){return!ace()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ace(){try{return typeof indexedDB=="object"}catch{return!1}}function dce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce="FirebaseError";class YA extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fce,Object.setPrototypeOf(this,YA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yb.prototype.create)}}class Yb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?hce(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new YA(i,o,r)}}function hce(t,e){return t.replace(pce,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pce=/\{\$([^}]+)}/g;function Dy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(hM(a)&&hM(s)){if(!Dy(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dv(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mce(t,e){const n=new gce(t,e);return n.subscribe.bind(n)}class gce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vce(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Y_),i.error===void 0&&(i.error=Y_),i.complete===void 0&&(i.complete=Y_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Y_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){return t&&t._delegate?t._delegate:t}class Uh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rce;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xce(e))try{this.getOrInitializeService({instanceIdentifier:Wf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Wf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wf){return this.instances.has(e)}getOptions(e=Wf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wf){return this.component?this.component.multipleInstances?e:Wf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bce(t){return t===Wf?void 0:t}function xce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ur||(ur={}));const Cce={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},Sce=ur.INFO,Ece={[ur.DEBUG]:"log",[ur.VERBOSE]:"log",[ur.INFO]:"info",[ur.WARN]:"warn",[ur.ERROR]:"error"},_ce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ece[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let OP=class{constructor(e){this.name=e,this._logLevel=Sce,this._logHandler=_ce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ur.DEBUG,...e),this._logHandler(this,ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ur.VERBOSE,...e),this._logHandler(this,ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ur.INFO,...e),this._logHandler(this,ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ur.WARN,...e),this._logHandler(this,ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ur.ERROR,...e),this._logHandler(this,ur.ERROR,...e)}};const Bce=(t,e)=>e.some(n=>t instanceof n);let pM,mM;function Nce(){return pM||(pM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jce(){return mM||(mM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bW=new WeakMap,mj=new WeakMap,xW=new WeakMap,X_=new WeakMap,FP=new WeakMap;function Ice(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Yd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bW.set(n,t)}).catch(()=>{}),FP.set(e,t),e}function Tce(t){if(mj.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});mj.set(t,e)}let gj={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mj.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xW.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kce(t){gj=t(gj)}function Pce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(J_(this),e,...n);return xW.set(r,e.sort?e.sort():[e]),Yd(r)}:jce().includes(t)?function(...e){return t.apply(J_(this),e),Yd(bW.get(this))}:function(...e){return Yd(t.apply(J_(this),e))}}function Dce(t){return typeof t=="function"?Pce(t):(t instanceof IDBTransaction&&Tce(t),Bce(t,Nce())?new Proxy(t,gj):t)}function Yd(t){if(t instanceof IDBRequest)return Ice(t);if(X_.has(t))return X_.get(t);const e=Dce(t);return e!==t&&(X_.set(t,e),FP.set(e,t)),e}const J_=t=>FP.get(t);function Oce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Yd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yd(s.result),l.oldVersion,l.newVersion,Yd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Fce=["get","getKey","getAll","getAllKeys","count"],Lce=["put","add","delete","clear"],Z_=new Map;function gM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z_.get(e))return Z_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fce.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Z_.set(e,a),a}kce(t=>({...t,get:(e,n,r)=>gM(e,n)||t.get(e,n,r),has:(e,n)=>!!gM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vj="@firebase/app",vM="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new OP("@firebase/app"),Uce="@firebase/app-compat",Qce="@firebase/analytics-compat",Hce="@firebase/analytics",zce="@firebase/app-check-compat",Vce="@firebase/app-check",$ce="@firebase/auth",Kce="@firebase/auth-compat",Wce="@firebase/database",Gce="@firebase/data-connect",qce="@firebase/database-compat",Yce="@firebase/functions",Xce="@firebase/functions-compat",Jce="@firebase/installations",Zce="@firebase/installations-compat",eue="@firebase/messaging",tue="@firebase/messaging-compat",nue="@firebase/performance",rue="@firebase/performance-compat",iue="@firebase/remote-config",aue="@firebase/remote-config-compat",sue="@firebase/storage",oue="@firebase/storage-compat",lue="@firebase/firestore",cue="@firebase/vertexai-preview",uue="@firebase/firestore-compat",Aue="firebase",due="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue="[DEFAULT]",hue={[vj]:"fire-core",[Uce]:"fire-core-compat",[Hce]:"fire-analytics",[Qce]:"fire-analytics-compat",[Vce]:"fire-app-check",[zce]:"fire-app-check-compat",[$ce]:"fire-auth",[Kce]:"fire-auth-compat",[Wce]:"fire-rtdb",[Gce]:"fire-data-connect",[qce]:"fire-rtdb-compat",[Yce]:"fire-fn",[Xce]:"fire-fn-compat",[Jce]:"fire-iid",[Zce]:"fire-iid-compat",[eue]:"fire-fcm",[tue]:"fire-fcm-compat",[nue]:"fire-perf",[rue]:"fire-perf-compat",[iue]:"fire-rc",[aue]:"fire-rc-compat",[sue]:"fire-gcs",[oue]:"fire-gcs-compat",[lue]:"fire-fst",[uue]:"fire-fst-compat",[cue]:"fire-vertex","fire-js":"fire-js",[Aue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Map,pue=new Map,bj=new Map;function yM(t,e){try{t.container.addComponent(e)}catch(n){MA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rg(t){const e=t.name;if(bj.has(e))return MA.debug(`There were multiple attempts to register component ${e}.`),!1;bj.set(e,t);for(const n of yj.values())yM(n,t);for(const n of pue.values())yM(n,t);return!0}function wW(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Td(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wh=new Yb("app","Firebase",mue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=due;function vue(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fue,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wh.create("bad-app-name",{appName:String(i)});if(n||(n=tce()),!n)throw wh.create("no-options");const a=yj.get(i);if(a){if(Dy(n,a.options)&&Dy(r,a.config))return a;throw wh.create("duplicate-app",{appName:i})}const s=new wce(i);for(const l of bj.values())s.addComponent(l);const o=new gue(n,r,s);return yj.set(i,o),o}function Xd(t,e,n){var r;let i=(r=hue[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),MA.warn(o.join(" "));return}rg(new Uh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue="firebase-heartbeat-database",bue=1,Oy="firebase-heartbeat-store";let eB=null;function CW(){return eB||(eB=Oce(yue,bue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oy)}catch(n){console.warn(n)}}}}).catch(t=>{throw wh.create("idb-open",{originalErrorMessage:t.message})})),eB}async function xue(t){try{const n=(await CW()).transaction(Oy),r=await n.objectStore(Oy).get(SW(t));return await n.done,r}catch(e){if(e instanceof YA)MA.warn(e.message);else{const n=wh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});MA.warn(n.message)}}}async function bM(t,e){try{const r=(await CW()).transaction(Oy,"readwrite");await r.objectStore(Oy).put(e,SW(t)),await r.done}catch(n){if(n instanceof YA)MA.warn(n.message);else{const r=wh.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});MA.warn(r.message)}}}function SW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=1024,Cue=30*24*60*60*1e3;class Sue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _ue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=Cue}),this._storage.overwrite(this._heartbeatsCache))}catch(r){MA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xM(),{heartbeatsToSend:r,unsentEntries:i}=Eue(this._heartbeatsCache.heartbeats),a=gW(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return MA.warn(n),""}}}function xM(){return new Date().toISOString().substring(0,10)}function Eue(t,e=wue){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),wM(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _ue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ace()?dce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xue(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wM(t){return gW(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bue(t){rg(new Uh("platform-logger",e=>new Mce(e),"PRIVATE")),rg(new Uh("heartbeat",e=>new Sue(e),"PRIVATE")),Xd(vj,vM,t),Xd(vj,vM,"esm2017"),Xd("fire-js","")}Bue("");function EW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _W(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nue=_W,BW=new Yb("auth","Firebase",_W());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new OP("@firebase/auth");function jue(t,...e){H2.logLevel<=ur.WARN&&H2.warn(`Auth (${A5}): ${t}`,...e)}function Hw(t,...e){H2.logLevel<=ur.ERROR&&H2.error(`Auth (${A5}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,...e){throw MP(t,...e)}function LP(t,...e){return MP(t,...e)}function NW(t,e,n){const r=Object.assign(Object.assign({},Nue()),{[e]:n});return new Yb("auth","Firebase",r).create(e,{appName:t.name})}function Ch(t){return NW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BW.create(t,...e)}function Cr(t,e,...n){if(!t)throw MP(e,...n)}function wA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hw(e),new Error(e)}function z2(t,e){t||wA(e)}function Iue(){return CM()==="http:"||CM()==="https:"}function CM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iue()||oce()||"connection"in navigator)?navigator.onLine:!0}function kue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.shortDelay=e,this.longDelay=n,z2(n>e,"Short delay should be less than long delay!"),this.isMobile=ice()||lce()}get(){return Tue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pue(t,e){z2(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oue=new Xb(3e4,6e4);function ip(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ap(t,e,n,r,i={}){return IW(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=yW(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return sce()||(u.referrerPolicy="no-referrer"),jW.fetch()(TW(t,t.config.apiHost,n,o),u)})}async function IW(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Due),e);try{const i=new Lue(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw h1(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw h1(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw h1(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw h1(t,"user-disabled",s);const A=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NW(t,A,u);ig(t,A)}}catch(i){if(i instanceof YA)throw i;ig(t,"network-request-failed",{message:String(i)})}}async function d5(t,e,n,r,i={}){const a=await ap(t,e,n,r,i);return"mfaPendingCredential"in a&&ig(t,"multi-factor-auth-required",{_serverResponse:a}),a}function TW(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Pue(t.config,i):`${t.config.apiScheme}://${i}`}function Fue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(LP(this.auth,"network-request-failed")),Oue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function h1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=LP(t,e,r);return i.customData._tokenResponse=n,i}function SM(t){return t!==void 0&&t.enterprise!==void 0}class Mue{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Fue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Rue(t,e){return ap(t,"GET","/v2/recaptchaConfig",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uue(t,e){return ap(t,"POST","/v1/accounts:delete",e)}async function kW(t,e){return ap(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Que(t,e=!1){const n=ks(t),r=await n.getIdToken(e),i=PW(r);Cr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Mv(tB(i.auth_time)),issuedAtTime:Mv(tB(i.iat)),expirationTime:Mv(tB(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tB(t){return Number(t)*1e3}function PW(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hw("JWT malformed, contained fewer than 3 sections"),null;try{const i=vW(n);return i?JSON.parse(i):(Hw("Failed to decode base64 JWT payload"),null)}catch(i){return Hw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function EM(t){const e=PW(t);return Cr(e,"internal-error"),Cr(typeof e.exp<"u","internal-error"),Cr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof YA&&Hue(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Hue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mv(this.lastLoginAt),this.creationTime=Mv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xj(t,kW(n,{idToken:r}));Cr(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?DW(a.providerUserInfo):[],o=$ue(t.providerData,s),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),A=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new wj(a.createdAt,a.lastLoginAt),isAnonymous:A};Object.assign(t,d)}async function Vue(t){const e=ks(t);await V2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $ue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DW(t){return t.map(e=>{var{providerId:n}=e,r=EW(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kue(t,e){const n=await IW(t,{},async()=>{const r=yW({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=TW(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",jW.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Wue(t,e){return ap(t,"POST","/v2/accounts:revokeToken",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cr(e.idToken,"internal-error"),Cr(typeof e.idToken<"u","internal-error"),Cr(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Cr(e.length!==0,"internal-error");const n=EM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Cr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Kue(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Dm;return r&&(Cr(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Cr(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Cr(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dm,this.toJSON())}_performRefresh(){return wA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){Cr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class CA{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=EW(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wj(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xj(this,this.stsTokenManager.getToken(this.auth,e));return Cr(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Que(this,e)}reload(){return Vue(this)}_assign(e){this!==e&&(Cr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new CA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Cr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await V2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Td(this.auth.app))return Promise.reject(Ch(this.auth));const e=await this.getIdToken();return await xj(this,Uue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,u,A;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:x,emailVerified:C,isAnonymous:E,providerData:j,stsTokenManager:_}=n;Cr(x&&_,e,"internal-error");const B=Dm.fromJSON(this.name,_);Cr(typeof x=="string",e,"internal-error"),dd(d,e.name),dd(f,e.name),Cr(typeof C=="boolean",e,"internal-error"),Cr(typeof E=="boolean",e,"internal-error"),dd(h,e.name),dd(p,e.name),dd(m,e.name),dd(v,e.name),dd(g,e.name),dd(y,e.name);const N=new CA({uid:x,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:y});return j&&Array.isArray(j)&&(N.providerData=j.map(D=>Object.assign({},D))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dm;i.updateFromServerResponse(n);const a=new CA({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await V2(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Cr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?DW(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Dm;o.updateFromIdToken(r);const l=new CA({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wj(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Map;function uh(t){z2(t instanceof Function,"Expected a class definition");let e=_M.get(t);return e?(z2(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_M.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OW.type="NONE";const BM=OW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t,e,n){return`firebase:${t}:${e}:${n}`}class Om{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=nB(this.userKey,i.apiKey,a),this.fullPersistenceKey=nB("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?CA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Om(uh(BM),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||uh(BM);const s=nB(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const A=await u._get(s);if(A){const d=CA._fromJSON(e,A);u!==a&&(o=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Om(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Om(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gue(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MW(e))return"Blackberry";if(RW(e))return"Webos";if(que(e))return"Safari";if((e.includes("chrome/")||Yue(e))&&!e.includes("edge/"))return"Chrome";if(LW(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gue(t=Wo()){return/firefox\//i.test(t)}function que(t=Wo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yue(t=Wo()){return/crios\//i.test(t)}function FW(t=Wo()){return/iemobile/i.test(t)}function LW(t=Wo()){return/android/i.test(t)}function MW(t=Wo()){return/blackberry/i.test(t)}function RW(t=Wo()){return/webos/i.test(t)}function Xue(t=Wo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jue(){return cce()&&document.documentMode===10}function Zue(t=Wo()){return Xue(t)||LW(t)||RW(t)||MW(t)||/windows phone/i.test(t)||FW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e=[]){let n;switch(t){case"Browser":n=NM(Wo());break;case"Worker":n=`${NM(Wo())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${A5}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tAe(t,e={}){return ap(t,"GET","/v2/passwordPolicy",ip(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nAe=6;class rAe{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:nAe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iAe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jM(this),this.idTokenSubscription=new jM(this),this.beforeStateQueue=new eAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=uh(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Om.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kW(this,{idToken:e}),r=await CA._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Td(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Cr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await V2(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Td(this.app))return Promise.reject(Ch(this));const n=e?ks(e):null;return n&&Cr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Cr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Td(this.app)?Promise.reject(Ch(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Td(this.app)?Promise.reject(Ch(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(uh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tAe(this),n=new rAe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yb("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Wue(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&uh(e)||this._popupRedirectResolver;Cr(n,this,"argument-error"),this.redirectPersistenceManager=await Om.create(this,[uh(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cr(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jue(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jb(t){return ks(t)}class jM{constructor(e){this.auth=e,this.observer=null,this.addObserver=mce(n=>this.observer=n)}get next(){return Cr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aAe(t){RP=t}function sAe(t){return RP.loadJS(t)}function oAe(){return RP.recaptchaEnterpriseScript}const lAe="recaptcha-enterprise",cAe="NO_RECAPTCHA";class uAe{constructor(e){this.type=lAe,this.auth=Jb(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Rue(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Mue(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;SM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(cAe)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&SM(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oAe();l.length!==0&&(l+=o),sAe(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function IM(t,e,n,r=!1){const i=new uAe(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Cj(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await IM(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await IM(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AAe(t,e){const n=wW(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Dy(a,e??{}))return i;ig(i,"already-initialized")}return n.initialize({options:e})}function dAe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(uh);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fAe{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wA("not implemented")}_getIdTokenResponse(e){return wA("not implemented")}_linkToIdToken(e,n){return wA("not implemented")}_getReauthenticationResolver(e){return wA("not implemented")}}async function hAe(t,e){return ap(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pAe(t,e){return d5(t,"POST","/v1/accounts:signInWithPassword",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mAe(t,e){return d5(t,"POST","/v1/accounts:signInWithEmailLink",ip(t,e))}async function gAe(t,e){return d5(t,"POST","/v1/accounts:signInWithEmailLink",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends fAe{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cj(e,n,"signInWithPassword",pAe);case"emailLink":return mAe(e,{email:this._email,oobCode:this._password});default:ig(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cj(e,r,"signUpPassword",hAe);case"emailLink":return gAe(e,{idToken:n,email:this._email,oobCode:this._password});default:ig(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vAe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yAe(t){const e=dv(fv(t)).link,n=e?dv(fv(e)).deep_link_id:null,r=dv(fv(t)).deep_link_id;return(r?dv(fv(r)).link:null)||r||n||e||t}class UP{constructor(e){var n,r,i,a,s,o;const l=dv(fv(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,A=(r=l.oobCode)!==null&&r!==void 0?r:null,d=vAe((i=l.mode)!==null&&i!==void 0?i:null);Cr(u&&A&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=A,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=yAe(e);try{return new UP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.providerId=t0.PROVIDER_ID}static credential(e,n){return Fy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=UP.parseLink(n);return Cr(r,"argument-error"),Fy._fromEmailAndCode(e,r.code,r.tenantId)}}t0.PROVIDER_ID="password";t0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";t0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bAe(t,e){return d5(t,"POST","/v1/accounts:signUp",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await CA._fromIdTokenResponse(e,r,i),s=TM(r);return new Ly({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TM(r);return new Ly({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends YA{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$2.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $2(e,n,r,i)}}function xAe(t,e,n,r){return n._getIdTokenResponse(t).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$2._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wAe(t,e,n=!1){if(Td(t.app))return Promise.reject(Ch(t));const r="signIn",i=await xAe(t,r,e),a=await Ly._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function CAe(t,e){return wAe(Jb(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QW(t){const e=Jb(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SAe(t,e,n){if(Td(t.app))return Promise.reject(Ch(t));const r=Jb(t),s=await Cj(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bAe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QW(t),l}),o=await Ly._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function EAe(t,e,n){return Td(t.app)?Promise.reject(Ch(t)):CAe(ks(t),t0.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QW(t),r})}function _Ae(t,e,n,r){return ks(t).onAuthStateChanged(e,n,r)}const kM="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kM,"1"),this.storage.removeItem(kM),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BAe=1e3,NAe=10;class zW extends HW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zue(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Jue()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NAe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zW.type="LOCAL";const jAe=zW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IAe extends HW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IAe.type="SESSION";new Xb(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Xb(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Xb(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Xb(5e3,15e3);var PM="@firebase/auth",DM="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Cr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kAe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PAe(t){rg(new Uh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Cr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UW(t)},u=new iAe(r,i,a,l);return dAe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rg(new Uh("auth-internal",e=>{const n=Jb(e.getProvider("auth").getImmediate());return(r=>new TAe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xd(PM,DM,kAe(t)),Xd(PM,DM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DAe=5*60;nce("authIdTokenMaxAge");function OAe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aAe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=LP("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",OAe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PAe("Browser");var FAe="firebase",LAe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xd(FAe,LAe,"app");var OM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sh,VW;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,B){function N(){}N.prototype=B.prototype,_.D=B.prototype,_.prototype=new N,_.prototype.constructor=_,_.C=function(D,T,O){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return B.prototype[T].apply(D,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,B,N){N||(N=0);var D=Array(16);if(typeof B=="string")for(var T=0;16>T;++T)D[T]=B.charCodeAt(N++)|B.charCodeAt(N++)<<8|B.charCodeAt(N++)<<16|B.charCodeAt(N++)<<24;else for(T=0;16>T;++T)D[T]=B[N++]|B[N++]<<8|B[N++]<<16|B[N++]<<24;B=_.g[0],N=_.g[1],T=_.g[2];var O=_.g[3],L=B+(O^N&(T^O))+D[0]+3614090360&4294967295;B=N+(L<<7&4294967295|L>>>25),L=O+(T^B&(N^T))+D[1]+3905402710&4294967295,O=B+(L<<12&4294967295|L>>>20),L=T+(N^O&(B^N))+D[2]+606105819&4294967295,T=O+(L<<17&4294967295|L>>>15),L=N+(B^T&(O^B))+D[3]+3250441966&4294967295,N=T+(L<<22&4294967295|L>>>10),L=B+(O^N&(T^O))+D[4]+4118548399&4294967295,B=N+(L<<7&4294967295|L>>>25),L=O+(T^B&(N^T))+D[5]+1200080426&4294967295,O=B+(L<<12&4294967295|L>>>20),L=T+(N^O&(B^N))+D[6]+2821735955&4294967295,T=O+(L<<17&4294967295|L>>>15),L=N+(B^T&(O^B))+D[7]+4249261313&4294967295,N=T+(L<<22&4294967295|L>>>10),L=B+(O^N&(T^O))+D[8]+1770035416&4294967295,B=N+(L<<7&4294967295|L>>>25),L=O+(T^B&(N^T))+D[9]+2336552879&4294967295,O=B+(L<<12&4294967295|L>>>20),L=T+(N^O&(B^N))+D[10]+4294925233&4294967295,T=O+(L<<17&4294967295|L>>>15),L=N+(B^T&(O^B))+D[11]+2304563134&4294967295,N=T+(L<<22&4294967295|L>>>10),L=B+(O^N&(T^O))+D[12]+1804603682&4294967295,B=N+(L<<7&4294967295|L>>>25),L=O+(T^B&(N^T))+D[13]+4254626195&4294967295,O=B+(L<<12&4294967295|L>>>20),L=T+(N^O&(B^N))+D[14]+2792965006&4294967295,T=O+(L<<17&4294967295|L>>>15),L=N+(B^T&(O^B))+D[15]+1236535329&4294967295,N=T+(L<<22&4294967295|L>>>10),L=B+(T^O&(N^T))+D[1]+4129170786&4294967295,B=N+(L<<5&4294967295|L>>>27),L=O+(N^T&(B^N))+D[6]+3225465664&4294967295,O=B+(L<<9&4294967295|L>>>23),L=T+(B^N&(O^B))+D[11]+643717713&4294967295,T=O+(L<<14&4294967295|L>>>18),L=N+(O^B&(T^O))+D[0]+3921069994&4294967295,N=T+(L<<20&4294967295|L>>>12),L=B+(T^O&(N^T))+D[5]+3593408605&4294967295,B=N+(L<<5&4294967295|L>>>27),L=O+(N^T&(B^N))+D[10]+38016083&4294967295,O=B+(L<<9&4294967295|L>>>23),L=T+(B^N&(O^B))+D[15]+3634488961&4294967295,T=O+(L<<14&4294967295|L>>>18),L=N+(O^B&(T^O))+D[4]+3889429448&4294967295,N=T+(L<<20&4294967295|L>>>12),L=B+(T^O&(N^T))+D[9]+568446438&4294967295,B=N+(L<<5&4294967295|L>>>27),L=O+(N^T&(B^N))+D[14]+3275163606&4294967295,O=B+(L<<9&4294967295|L>>>23),L=T+(B^N&(O^B))+D[3]+4107603335&4294967295,T=O+(L<<14&4294967295|L>>>18),L=N+(O^B&(T^O))+D[8]+1163531501&4294967295,N=T+(L<<20&4294967295|L>>>12),L=B+(T^O&(N^T))+D[13]+2850285829&4294967295,B=N+(L<<5&4294967295|L>>>27),L=O+(N^T&(B^N))+D[2]+4243563512&4294967295,O=B+(L<<9&4294967295|L>>>23),L=T+(B^N&(O^B))+D[7]+1735328473&4294967295,T=O+(L<<14&4294967295|L>>>18),L=N+(O^B&(T^O))+D[12]+2368359562&4294967295,N=T+(L<<20&4294967295|L>>>12),L=B+(N^T^O)+D[5]+4294588738&4294967295,B=N+(L<<4&4294967295|L>>>28),L=O+(B^N^T)+D[8]+2272392833&4294967295,O=B+(L<<11&4294967295|L>>>21),L=T+(O^B^N)+D[11]+1839030562&4294967295,T=O+(L<<16&4294967295|L>>>16),L=N+(T^O^B)+D[14]+4259657740&4294967295,N=T+(L<<23&4294967295|L>>>9),L=B+(N^T^O)+D[1]+2763975236&4294967295,B=N+(L<<4&4294967295|L>>>28),L=O+(B^N^T)+D[4]+1272893353&4294967295,O=B+(L<<11&4294967295|L>>>21),L=T+(O^B^N)+D[7]+4139469664&4294967295,T=O+(L<<16&4294967295|L>>>16),L=N+(T^O^B)+D[10]+3200236656&4294967295,N=T+(L<<23&4294967295|L>>>9),L=B+(N^T^O)+D[13]+681279174&4294967295,B=N+(L<<4&4294967295|L>>>28),L=O+(B^N^T)+D[0]+3936430074&4294967295,O=B+(L<<11&4294967295|L>>>21),L=T+(O^B^N)+D[3]+3572445317&4294967295,T=O+(L<<16&4294967295|L>>>16),L=N+(T^O^B)+D[6]+76029189&4294967295,N=T+(L<<23&4294967295|L>>>9),L=B+(N^T^O)+D[9]+3654602809&4294967295,B=N+(L<<4&4294967295|L>>>28),L=O+(B^N^T)+D[12]+3873151461&4294967295,O=B+(L<<11&4294967295|L>>>21),L=T+(O^B^N)+D[15]+530742520&4294967295,T=O+(L<<16&4294967295|L>>>16),L=N+(T^O^B)+D[2]+3299628645&4294967295,N=T+(L<<23&4294967295|L>>>9),L=B+(T^(N|~O))+D[0]+4096336452&4294967295,B=N+(L<<6&4294967295|L>>>26),L=O+(N^(B|~T))+D[7]+1126891415&4294967295,O=B+(L<<10&4294967295|L>>>22),L=T+(B^(O|~N))+D[14]+2878612391&4294967295,T=O+(L<<15&4294967295|L>>>17),L=N+(O^(T|~B))+D[5]+4237533241&4294967295,N=T+(L<<21&4294967295|L>>>11),L=B+(T^(N|~O))+D[12]+1700485571&4294967295,B=N+(L<<6&4294967295|L>>>26),L=O+(N^(B|~T))+D[3]+2399980690&4294967295,O=B+(L<<10&4294967295|L>>>22),L=T+(B^(O|~N))+D[10]+4293915773&4294967295,T=O+(L<<15&4294967295|L>>>17),L=N+(O^(T|~B))+D[1]+2240044497&4294967295,N=T+(L<<21&4294967295|L>>>11),L=B+(T^(N|~O))+D[8]+1873313359&4294967295,B=N+(L<<6&4294967295|L>>>26),L=O+(N^(B|~T))+D[15]+4264355552&4294967295,O=B+(L<<10&4294967295|L>>>22),L=T+(B^(O|~N))+D[6]+2734768916&4294967295,T=O+(L<<15&4294967295|L>>>17),L=N+(O^(T|~B))+D[13]+1309151649&4294967295,N=T+(L<<21&4294967295|L>>>11),L=B+(T^(N|~O))+D[4]+4149444226&4294967295,B=N+(L<<6&4294967295|L>>>26),L=O+(N^(B|~T))+D[11]+3174756917&4294967295,O=B+(L<<10&4294967295|L>>>22),L=T+(B^(O|~N))+D[2]+718787259&4294967295,T=O+(L<<15&4294967295|L>>>17),L=N+(O^(T|~B))+D[9]+3951481745&4294967295,_.g[0]=_.g[0]+B&4294967295,_.g[1]=_.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,_.g[2]=_.g[2]+T&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.u=function(_,B){B===void 0&&(B=_.length);for(var N=B-this.blockSize,D=this.B,T=this.h,O=0;O<B;){if(T==0)for(;O<=N;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<B;)if(D[T++]=_.charCodeAt(O++),T==this.blockSize){i(this,D),T=0;break}}else for(;O<B;)if(D[T++]=_[O++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=B},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var B=1;B<_.length-8;++B)_[B]=0;var N=8*this.o;for(B=_.length-8;B<_.length;++B)_[B]=N&255,N/=256;for(this.u(_),_=Array(16),B=N=0;4>B;++B)for(var D=0;32>D;D+=8)_[N++]=this.g[B]>>>D&255;return _};function a(_,B){var N=o;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=B(_)}function s(_,B){this.h=B;for(var N=[],D=!0,T=_.length-1;0<=T;T--){var O=_[T]|0;D&&O==B||(N[T]=O,D=!1)}this.g=N}var o={};function l(_){return-128<=_&&128>_?a(_,function(B){return new s([B|0],0>B?-1:0)}):new s([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return d;if(0>_)return v(u(-_));for(var B=[],N=1,D=0;_>=N;D++)B[D]=_/N|0,N*=4294967296;return new s(B,0)}function A(_,B){if(_.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(_.charAt(0)=="-")return v(A(_.substring(1),B));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(B,8)),D=d,T=0;T<_.length;T+=8){var O=Math.min(8,_.length-T),L=parseInt(_.substring(T,T+O),B);8>O?(O=u(Math.pow(B,O)),D=D.j(O).add(u(L))):(D=D.j(N),D=D.add(u(L)))}return D}var d=l(0),f=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-v(this).m();for(var _=0,B=1,N=0;N<this.g.length;N++){var D=this.i(N);_+=(0<=D?D:4294967296+D)*B,B*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(p(this))return"0";if(m(this))return"-"+v(this).toString(_);for(var B=u(Math.pow(_,6)),N=this,D="";;){var T=C(N,B).g;N=g(N,T.j(B));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(_);if(N=T,p(N))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function p(_){if(_.h!=0)return!1;for(var B=0;B<_.g.length;B++)if(_.g[B]!=0)return!1;return!0}function m(_){return _.h==-1}t.l=function(_){return _=g(this,_),m(_)?-1:p(_)?0:1};function v(_){for(var B=_.g.length,N=[],D=0;D<B;D++)N[D]=~_.g[D];return new s(N,~_.h).add(f)}t.abs=function(){return m(this)?v(this):this},t.add=function(_){for(var B=Math.max(this.g.length,_.g.length),N=[],D=0,T=0;T<=B;T++){var O=D+(this.i(T)&65535)+(_.i(T)&65535),L=(O>>>16)+(this.i(T)>>>16)+(_.i(T)>>>16);D=L>>>16,O&=65535,L&=65535,N[T]=L<<16|O}return new s(N,N[N.length-1]&-2147483648?-1:0)};function g(_,B){return _.add(v(B))}t.j=function(_){if(p(this)||p(_))return d;if(m(this))return m(_)?v(this).j(v(_)):v(v(this).j(_));if(m(_))return v(this.j(v(_)));if(0>this.l(h)&&0>_.l(h))return u(this.m()*_.m());for(var B=this.g.length+_.g.length,N=[],D=0;D<2*B;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<_.g.length;T++){var O=this.i(D)>>>16,L=this.i(D)&65535,H=_.i(T)>>>16,q=_.i(T)&65535;N[2*D+2*T]+=L*q,y(N,2*D+2*T),N[2*D+2*T+1]+=O*q,y(N,2*D+2*T+1),N[2*D+2*T+1]+=L*H,y(N,2*D+2*T+1),N[2*D+2*T+2]+=O*H,y(N,2*D+2*T+2)}for(D=0;D<B;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=B;D<2*B;D++)N[D]=0;return new s(N,0)};function y(_,B){for(;(_[B]&65535)!=_[B];)_[B+1]+=_[B]>>>16,_[B]&=65535,B++}function x(_,B){this.g=_,this.h=B}function C(_,B){if(p(B))throw Error("division by zero");if(p(_))return new x(d,d);if(m(_))return B=C(v(_),B),new x(v(B.g),v(B.h));if(m(B))return B=C(_,v(B)),new x(v(B.g),B.h);if(30<_.g.length){if(m(_)||m(B))throw Error("slowDivide_ only works with positive integers.");for(var N=f,D=B;0>=D.l(_);)N=E(N),D=E(D);var T=j(N,1),O=j(D,1);for(D=j(D,2),N=j(N,2);!p(D);){var L=O.add(D);0>=L.l(_)&&(T=T.add(N),O=L),D=j(D,1),N=j(N,1)}return B=g(_,T.j(B)),new x(T,B)}for(T=d;0<=_.l(B);){for(N=Math.max(1,Math.floor(_.m()/B.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=u(N),L=O.j(B);m(L)||0<L.l(_);)N-=D,O=u(N),L=O.j(B);p(O)&&(O=f),T=T.add(O),_=g(_,L)}return new x(T,_)}t.A=function(_){return C(this,_).h},t.and=function(_){for(var B=Math.max(this.g.length,_.g.length),N=[],D=0;D<B;D++)N[D]=this.i(D)&_.i(D);return new s(N,this.h&_.h)},t.or=function(_){for(var B=Math.max(this.g.length,_.g.length),N=[],D=0;D<B;D++)N[D]=this.i(D)|_.i(D);return new s(N,this.h|_.h)},t.xor=function(_){for(var B=Math.max(this.g.length,_.g.length),N=[],D=0;D<B;D++)N[D]=this.i(D)^_.i(D);return new s(N,this.h^_.h)};function E(_){for(var B=_.g.length+1,N=[],D=0;D<B;D++)N[D]=_.i(D)<<1|_.i(D-1)>>>31;return new s(N,_.h)}function j(_,B){var N=B>>5;B%=32;for(var D=_.g.length-N,T=[],O=0;O<D;O++)T[O]=0<B?_.i(O+N)>>>B|_.i(O+N+1)<<32-B:_.i(O+N);return new s(T,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VW=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=A,Sh=s}).apply(typeof OM<"u"?OM:typeof self<"u"?self:typeof window<"u"?window:{});var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $W,hv,KW,zw,Sj,WW,GW,qW;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,Q,W){return w==Array.prototype||w==Object.prototype||(w[Q]=W.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof p1=="object"&&p1];for(var Q=0;Q<w.length;++Q){var W=w[Q];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function i(w,Q){if(Q)e:{var W=r;w=w.split(".");for(var ue=0;ue<w.length-1;ue++){var Qe=w[ue];if(!(Qe in W))break e;W=W[Qe]}w=w[w.length-1],ue=W[w],Q=Q(ue),Q!=ue&&Q!=null&&e(W,w,{configurable:!0,writable:!0,value:Q})}}function a(w,Q){w instanceof String&&(w+="");var W=0,ue=!1,Qe={next:function(){if(!ue&&W<w.length){var qe=W++;return{value:Q(qe,w[qe]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Qe[Symbol.iterator]=function(){return Qe},Qe}i("Array.prototype.values",function(w){return w||function(){return a(this,function(Q,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var Q=typeof w;return Q=Q!="object"?Q:w?Array.isArray(w)?"array":Q:"null",Q=="array"||Q=="object"&&typeof w.length=="number"}function u(w){var Q=typeof w;return Q=="object"&&w!=null||Q=="function"}function A(w,Q,W){return w.call.apply(w.bind,arguments)}function d(w,Q,W){if(!w)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Qe,ue),w.apply(Q,Qe)}}return function(){return w.apply(Q,arguments)}}function f(w,Q,W){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,f.apply(null,arguments)}function h(w,Q){var W=Array.prototype.slice.call(arguments,1);return function(){var ue=W.slice();return ue.push.apply(ue,arguments),w.apply(this,ue)}}function p(w,Q){function W(){}W.prototype=Q.prototype,w.aa=Q.prototype,w.prototype=new W,w.prototype.constructor=w,w.Qb=function(ue,Qe,qe){for(var Pt=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)Pt[nr-2]=arguments[nr];return Q.prototype[Qe].apply(ue,Pt)}}function m(w){const Q=w.length;if(0<Q){const W=Array(Q);for(let ue=0;ue<Q;ue++)W[ue]=w[ue];return W}return[]}function v(w,Q){for(let W=1;W<arguments.length;W++){const ue=arguments[W];if(l(ue)){const Qe=w.length||0,qe=ue.length||0;w.length=Qe+qe;for(let Pt=0;Pt<qe;Pt++)w[Qe+Pt]=ue[Pt]}else w.push(ue)}}class g{constructor(Q,W){this.i=Q,this.j=W,this.h=0,this.g=null}get(){let Q;return 0<this.h?(this.h--,Q=this.g,this.g=Q.next,Q.next=null):Q=this.i(),Q}}function y(w){return/^[\s\xa0]*$/.test(w)}function x(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function C(w){return C[" "](w),w}C[" "]=function(){};var E=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function j(w,Q,W){for(const ue in w)Q.call(W,w[ue],ue,w)}function _(w,Q){for(const W in w)Q.call(void 0,w[W],W,w)}function B(w){const Q={};for(const W in w)Q[W]=w[W];return Q}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(w,Q){let W,ue;for(let Qe=1;Qe<arguments.length;Qe++){ue=arguments[Qe];for(W in ue)w[W]=ue[W];for(let qe=0;qe<N.length;qe++)W=N[qe],Object.prototype.hasOwnProperty.call(ue,W)&&(w[W]=ue[W])}}function T(w){var Q=1;w=w.split(":");const W=[];for(;0<Q&&w.length;)W.push(w.shift()),Q--;return w.length&&W.push(w.join(":")),W}function O(w){o.setTimeout(()=>{throw w},0)}function L(){var w=te;let Q=null;return w.g&&(Q=w.g,w.g=w.g.next,w.g||(w.h=null),Q.next=null),Q}class H{constructor(){this.h=this.g=null}add(Q,W){const ue=q.get();ue.set(Q,W),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var q=new g(()=>new Y,w=>w.reset());class Y{constructor(){this.next=this.g=this.h=null}set(Q,W){this.h=Q,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,K=!1,te=new H,le=()=>{const w=o.Promise.resolve(void 0);ee=()=>{w.then(se)}};var se=()=>{for(var w;w=L();){try{w.h.call(w.g)}catch(W){O(W)}var Q=q;Q.j(w),100>Q.h&&(Q.h++,w.next=Q.g,Q.g=w)}K=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(w,Q){this.type=w,this.g=this.target=Q,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,Q=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const W=()=>{};o.addEventListener("test",W,Q),o.removeEventListener("test",W,Q)}catch{}return w}();function ne(w,Q){if($.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var W=this.type=w.type,ue=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=Q,Q=w.relatedTarget){if(E){e:{try{C(Q.nodeName);var Qe=!0;break e}catch{}Qe=!1}Qe||(Q=null)}}else W=="mouseover"?Q=w.fromElement:W=="mouseout"&&(Q=w.toElement);this.relatedTarget=Q,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:he[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ne.aa.h.call(this)}}p(ne,$);var he={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ae(w,Q,W,ue,Qe){this.listener=w,this.proxy=null,this.src=Q,this.type=W,this.capture=!!ue,this.ha=Qe,this.key=++Se,this.da=this.fa=!1}function ge(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function xe(w){this.src=w,this.g={},this.h=0}xe.prototype.add=function(w,Q,W,ue,Qe){var qe=w.toString();w=this.g[qe],w||(w=this.g[qe]=[],this.h++);var Pt=Ve(w,Q,ue,Qe);return-1<Pt?(Q=w[Pt],W||(Q.fa=!1)):(Q=new Ae(Q,this.src,qe,!!ue,Qe),Q.fa=W,w.push(Q)),Q};function ae(w,Q){var W=Q.type;if(W in w.g){var ue=w.g[W],Qe=Array.prototype.indexOf.call(ue,Q,void 0),qe;(qe=0<=Qe)&&Array.prototype.splice.call(ue,Qe,1),qe&&(ge(Q),w.g[W].length==0&&(delete w.g[W],w.h--))}}function Ve(w,Q,W,ue){for(var Qe=0;Qe<w.length;++Qe){var qe=w[Qe];if(!qe.da&&qe.listener==Q&&qe.capture==!!W&&qe.ha==ue)return Qe}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),fe={};function $e(w,Q,W,ue,Qe){if(Array.isArray(Q)){for(var qe=0;qe<Q.length;qe++)$e(w,Q[qe],W,ue,Qe);return null}return W=Zt(W),w&&w[we]?w.K(Q,W,u(ue)?!!ue.capture:!1,Qe):ht(w,Q,W,!1,ue,Qe)}function ht(w,Q,W,ue,Qe,qe){if(!Q)throw Error("Invalid event type");var Pt=u(Qe)?!!Qe.capture:!!Qe,nr=jt(w);if(nr||(w[Oe]=nr=new xe(w)),W=nr.add(Q,W,ue,Pt,qe),W.proxy)return W;if(ue=vt(),W.proxy=ue,ue.src=w,ue.listener=W,w.addEventListener)J||(Qe=Pt),Qe===void 0&&(Qe=!1),w.addEventListener(Q.toString(),ue,Qe);else if(w.attachEvent)w.attachEvent(mt(Q.toString()),ue);else if(w.addListener&&w.removeListener)w.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return W}function vt(){function w(W){return Q.call(w.src,w.listener,W)}const Q=ct;return w}function Ye(w,Q,W,ue,Qe){if(Array.isArray(Q))for(var qe=0;qe<Q.length;qe++)Ye(w,Q[qe],W,ue,Qe);else ue=u(ue)?!!ue.capture:!!ue,W=Zt(W),w&&w[we]?(w=w.i,Q=String(Q).toString(),Q in w.g&&(qe=w.g[Q],W=Ve(qe,W,ue,Qe),-1<W&&(ge(qe[W]),Array.prototype.splice.call(qe,W,1),qe.length==0&&(delete w.g[Q],w.h--)))):w&&(w=jt(w))&&(Q=w.g[Q.toString()],w=-1,Q&&(w=Ve(Q,W,ue,Qe)),(W=-1<w?Q[w]:null)&&Dt(W))}function Dt(w){if(typeof w!="number"&&w&&!w.da){var Q=w.src;if(Q&&Q[we])ae(Q.i,w);else{var W=w.type,ue=w.proxy;Q.removeEventListener?Q.removeEventListener(W,ue,w.capture):Q.detachEvent?Q.detachEvent(mt(W),ue):Q.addListener&&Q.removeListener&&Q.removeListener(ue),(W=jt(Q))?(ae(W,w),W.h==0&&(W.src=null,Q[Oe]=null)):ge(w)}}}function mt(w){return w in fe?fe[w]:fe[w]="on"+w}function ct(w,Q){if(w.da)w=!0;else{Q=new ne(Q,this);var W=w.listener,ue=w.ha||w.src;w.fa&&Dt(w),w=W.call(ue,Q)}return w}function jt(w){return w=w[Oe],w instanceof xe?w:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zt(w){return typeof w=="function"?w:(w[Xt]||(w[Xt]=function(Q){return w.handleEvent(Q)}),w[Xt])}function Ut(){M.call(this),this.i=new xe(this),this.M=this,this.F=null}p(Ut,M),Ut.prototype[we]=!0,Ut.prototype.removeEventListener=function(w,Q,W,ue){Ye(this,w,Q,W,ue)};function rn(w,Q){var W,ue=w.F;if(ue)for(W=[];ue;ue=ue.F)W.push(ue);if(w=w.M,ue=Q.type||Q,typeof Q=="string")Q=new $(Q,w);else if(Q instanceof $)Q.target=Q.target||w;else{var Qe=Q;Q=new $(ue,w),D(Q,Qe)}if(Qe=!0,W)for(var qe=W.length-1;0<=qe;qe--){var Pt=Q.g=W[qe];Qe=st(Pt,ue,!0,Q)&&Qe}if(Pt=Q.g=w,Qe=st(Pt,ue,!0,Q)&&Qe,Qe=st(Pt,ue,!1,Q)&&Qe,W)for(qe=0;qe<W.length;qe++)Pt=Q.g=W[qe],Qe=st(Pt,ue,!1,Q)&&Qe}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var w=this.i,Q;for(Q in w.g){for(var W=w.g[Q],ue=0;ue<W.length;ue++)ge(W[ue]);delete w.g[Q],w.h--}}this.F=null},Ut.prototype.K=function(w,Q,W,ue){return this.i.add(String(w),Q,!1,W,ue)},Ut.prototype.L=function(w,Q,W,ue){return this.i.add(String(w),Q,!0,W,ue)};function st(w,Q,W,ue){if(Q=w.i.g[String(Q)],!Q)return!0;Q=Q.concat();for(var Qe=!0,qe=0;qe<Q.length;++qe){var Pt=Q[qe];if(Pt&&!Pt.da&&Pt.capture==W){var nr=Pt.listener,si=Pt.ha||Pt.src;Pt.fa&&ae(w.i,Pt),Qe=nr.call(si,ue)!==!1&&Qe}}return Qe&&!ue.defaultPrevented}function bt(w,Q,W){if(typeof w=="function")W&&(w=f(w,W));else if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(Q)?-1:o.setTimeout(w,Q||0)}function yt(w){w.g=bt(()=>{w.g=null,w.i&&(w.i=!1,yt(w))},w.l);const Q=w.h;w.h=null,w.m.apply(null,Q)}class tt extends M{constructor(Q,W){super(),this.m=Q,this.l=W,this.h=null,this.i=!1,this.g=null}j(Q){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(w){M.call(this),this.h=w,this.g={}}p(Qt,M);var ft=[];function gt(w){j(w.g,function(Q,W){this.g.hasOwnProperty(W)&&Dt(Q)},w),w.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),gt(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=o.JSON.stringify,St=o.JSON.parse,Vt=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function hn(){}hn.prototype.h=null;function cn(w){return w.h||(w.h=w.i())}function wt(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){$.call(this,"d")}p(gn,$);function Kt(){$.call(this,"c")}p(Kt,$);var En={},Vi=null;function Ir(){return Vi=Vi||new Ut}En.La="serverreachability";function Pa(w){$.call(this,En.La,w)}p(Pa,$);function Fe(w){const Q=Ir();rn(Q,new Pa(Q))}En.STAT_EVENT="statevent";function Pe(w,Q){$.call(this,En.STAT_EVENT,w),this.stat=Q}p(Pe,$);function We(w){const Q=Ir();rn(Q,new Pe(Q,w))}En.Ma="timingevent";function Et(w,Q){$.call(this,En.Ma,w),this.size=Q}p(Et,$);function ut(w,Q){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},Q)}function qt(){this.g=!0}qt.prototype.xa=function(){this.g=!1};function bn(w,Q,W,ue,Qe,qe){w.info(function(){if(w.g)if(qe)for(var Pt="",nr=qe.split("&"),si=0;si<nr.length;si++){var zn=nr[si].split("=");if(1<zn.length){var Vn=zn[0];zn=zn[1];var Ur=Vn.split("_");Pt=2<=Ur.length&&Ur[1]=="type"?Pt+(Vn+"="+zn+"&"):Pt+(Vn+"=redacted&")}}else Pt=null;else Pt=qe;return"XMLHTTP REQ ("+ue+") [attempt "+Qe+"]: "+Q+`
`+W+`
`+Pt})}function Gn(w,Q,W,ue,Qe,qe,Pt){w.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Qe+"]: "+Q+`
`+W+`
`+qe+" "+Pt})}function Rt(w,Q,W,ue){w.info(function(){return"XMLHTTP TEXT ("+Q+"): "+Xr(w,W)+(ue?" "+ue:"")})}function pn(w,Q){w.info(function(){return"TIMEOUT: "+Q})}qt.prototype.info=function(){};function Xr(w,Q){if(!w.g)return Q;if(!Q)return null;try{var W=JSON.parse(Q);if(W){for(w=0;w<W.length;w++)if(Array.isArray(W[w])){var ue=W[w];if(!(2>ue.length)){var Qe=ue[1];if(Array.isArray(Qe)&&!(1>Qe.length)){var qe=Qe[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var Pt=1;Pt<Qe.length;Pt++)Qe[Pt]=""}}}}return Ft(W)}catch{return Q}}var gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function Xn(){}p(Xn,hn),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},vr=new Xn;function yr(w,Q,W,ue){this.j=w,this.i=Q,this.l=W,this.R=ue||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var xa={},Li={};function Xo(w,Q,W){w.L=1,w.v=co(Da(Q)),w.m=W,w.P=!0,Jo(w,null)}function Jo(w,Q){w.F=Date.now(),wa(w),w.A=Da(w.v);var W=w.A,ue=w.R;Array.isArray(ue)||(ue=[String(ue)]),tn(W.i,"t",ue),w.C=0,W=w.j.J,w.h=new Jr,w.g=Fr(w.j,W?Q:null,!w.m),0<w.O&&(w.M=new tt(f(w.Y,w,w.g),w.O)),Q=w.U,W=w.g,ue=w.ca;var Qe="readystatechange";Array.isArray(Qe)||(Qe&&(ft[0]=Qe.toString()),Qe=ft);for(var qe=0;qe<Qe.length;qe++){var Pt=$e(W,Qe[qe],ue||Q.handleEvent,!1,Q.h||Q);if(!Pt)break;Q.g[Pt.key]=Pt}Q=w.H?B(w.H):{},w.m?(w.u||(w.u="POST"),Q["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,Q)):(w.u="GET",w.g.ea(w.A,w.u,null,Q)),Fe(),bn(w.i,w.u,w.A,w.l,w.R,w.m)}yr.prototype.ca=function(w){w=w.target;const Q=this.M;Q&&Us(w)==3?Q.j():this.Y(w)},yr.prototype.Y=function(w){try{if(w==this.g)e:{const Ur=Us(this.g);var Q=this.g.Ba();const ps=this.g.Z();if(!(3>Ur)&&(Ur!=3||this.g&&(this.h.h||this.g.oa()||Ic(this.g)))){this.J||Ur!=4||Q==7||(Q==8||0>=ps?Fe(3):Fe(2)),oo(this);var W=this.g.Z();this.X=W;t:if(Tr(this)){var ue=Ic(this.g);w="";var Qe=ue.length,qe=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Mi(this);var Pt="";break t}this.h.i=new o.TextDecoder}for(Q=0;Q<Qe;Q++)this.h.h=!0,w+=this.h.i.decode(ue[Q],{stream:!(qe&&Q==Qe-1)});ue.length=0,this.h.g+=w,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=W==200,Gn(this.i,this.u,this.A,this.l,this.R,Ur,W),this.o){if(this.T&&!this.K){t:{if(this.g){var nr,si=this.g;if((nr=si.g?si.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(nr)){var zn=nr;break t}}zn=null}if(W=zn)Rt(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zl(this,W);else{this.o=!1,this.s=3,We(12),fs(this),Mi(this);break e}}if(this.P){W=!0;let La;for(;!this.J&&this.C<Pt.length;)if(La=Zo(this,Pt),La==Li){Ur==4&&(this.s=4,We(14),W=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(La==xa){this.s=4,We(15),Rt(this.i,this.l,Pt,"[Invalid Chunk]"),W=!1;break}else Rt(this.i,this.l,La,null),zl(this,La);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ur!=4||Pt.length!=0||this.h.h||(this.s=1,We(16),W=!1),this.o=this.o&&W,!W)Rt(this.i,this.l,Pt,"[Invalid Chunked Response]"),fs(this),Mi(this);else if(0<Pt.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Wt(Vn),Vn.M=!0,We(11))}}else Rt(this.i,this.l,Pt,null),zl(this,Pt);Ur==4&&fs(this),this.o&&!this.J&&(Ur==4?Cn(this.j,this):(this.o=!1,wa(this)))}else Ao(this.g),W==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),fs(this),Mi(this)}}}catch{}finally{}};function Tr(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Zo(w,Q){var W=w.C,ue=Q.indexOf(`
`,W);return ue==-1?Li:(W=Number(Q.substring(W,ue)),isNaN(W)?xa:(ue+=1,ue+W>Q.length?Li:(Q=Q.slice(ue,ue+W),w.C=ue+W,Q)))}yr.prototype.cancel=function(){this.J=!0,fs(this)};function wa(w){w.S=Date.now()+w.I,hu(w,w.I)}function hu(w,Q){if(w.B!=null)throw Error("WatchDog timer not null");w.B=ut(f(w.ba,w),Q)}function oo(w){w.B&&(o.clearTimeout(w.B),w.B=null)}yr.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(pn(this.i,this.A),this.L!=2&&(Fe(),We(17)),fs(this),this.s=2,Mi(this)):hu(this,this.S-w)};function Mi(w){w.j.G==0||w.J||Cn(w.j,w)}function fs(w){oo(w);var Q=w.M;Q&&typeof Q.ma=="function"&&Q.ma(),w.M=null,gt(w.U),w.g&&(Q=w.g,w.g=null,Q.abort(),Q.ma())}function zl(w,Q){try{var W=w.j;if(W.G!=0&&(W.g==w||Pn(W.h,w))){if(!w.K&&Pn(W.h,w)&&W.G==3){try{var ue=W.Da.g.parse(Q)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Qe=ue;if(Qe[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<w.F)xn(W),hs(W);else break e;at(W),We(18)}}else W.za=Qe[1],0<W.za-W.T&&37500>Qe[2]&&W.F&&W.v==0&&!W.C&&(W.C=ut(f(W.Za,W),6e3));if(1>=mu(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else fr(W,11)}else if((w.K||W.g==w)&&xn(W),!y(Q))for(Qe=W.Da.g.parse(Q),Q=0;Q<Qe.length;Q++){let zn=Qe[Q];if(W.T=zn[0],zn=zn[1],W.G==2)if(zn[0]=="c"){W.K=zn[1],W.ia=zn[2];const Vn=zn[3];Vn!=null&&(W.la=Vn,W.j.info("VER="+W.la));const Ur=zn[4];Ur!=null&&(W.Aa=Ur,W.j.info("SVER="+W.Aa));const ps=zn[5];ps!=null&&typeof ps=="number"&&0<ps&&(ue=1.5*ps,W.L=ue,W.j.info("backChannelRequestTimeoutMs_="+ue)),ue=W;const La=w.g;if(La){const Sa=La.g?La.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var qe=ue.h;qe.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(gu(qe,qe.h),qe.h=null))}if(ue.D){const ol=La.g?La.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(ue.ya=ol,qn(ue.I,ue.D,ol))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-w.F,W.j.info("Handshake RTT: "+W.R+"ms")),ue=W;var Pt=w;if(ue.qa=xr(ue,ue.J?ue.ia:null,ue.W),Pt.K){ii(ue.h,Pt);var nr=Pt,si=ue.L;si&&(nr.I=si),nr.B&&(oo(nr),wa(nr)),ue.g=Pt}else rt(ue);0<W.i.length&&F(W)}else zn[0]!="stop"&&zn[0]!="close"||fr(W,7);else W.G==3&&(zn[0]=="stop"||zn[0]=="close"?zn[0]=="stop"?fr(W,7):sl(W):zn[0]!="noop"&&W.l&&W.l.ta(zn),W.v=0)}}Fe(4)}catch{}}var lo=class{constructor(w,Q){this.g=w,this.map=Q}};function pu(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vl(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function mu(w){return w.h?1:w.g?w.g.size:0}function Pn(w,Q){return w.h?w.h==Q:w.g?w.g.has(Q):!1}function gu(w,Q){w.g?w.g.add(Q):w.h=Q}function ii(w,Q){w.h&&w.h==Q?w.h=null:w.g&&w.g.has(Q)&&w.g.delete(Q)}pu.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function $l(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let Q=w.i;for(const W of w.g.values())Q=Q.concat(W.D);return Q}return m(w.i)}function eA(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var Q=[],W=w.length,ue=0;ue<W;ue++)Q.push(w[ue]);return Q}Q=[],W=0;for(ue in w)Q[W++]=w[ue];return Q}function er(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var Q=[];w=w.length;for(var W=0;W<w;W++)Q.push(W);return Q}Q=[],W=0;for(const ue in w)Q[W++]=ue;return Q}}}function Ds(w,Q){if(w.forEach&&typeof w.forEach=="function")w.forEach(Q,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,Q,void 0);else for(var W=er(w),ue=eA(w),Qe=ue.length,qe=0;qe<Qe;qe++)Q.call(void 0,ue[qe],W&&W[qe],w)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(w,Q){if(w){w=w.split("&");for(var W=0;W<w.length;W++){var ue=w[W].indexOf("="),Qe=null;if(0<=ue){var qe=w[W].substring(0,ue);Qe=w[W].substring(ue+1)}else qe=w[W];Q(qe,Qe?decodeURIComponent(Qe.replace(/\+/g," ")):"")}}}function br(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof br){this.h=w.h,el(this,w.j),this.o=w.o,this.g=w.g,Sc(this,w.s),this.l=w.l;var Q=w.i,W=new Oa;W.i=Q.i,Q.g&&(W.g=new Map(Q.g),W.h=Q.h),Ec(this,W),this.m=w.m}else w&&(Q=String(w).match(Ca))?(this.h=!1,el(this,Q[1]||"",!0),this.o=tl(Q[2]||""),this.g=tl(Q[3]||"",!0),Sc(this,Q[4]),this.l=tl(Q[5]||"",!0),Ec(this,Q[6]||"",!0),this.m=tl(Q[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}br.prototype.toString=function(){var w=[],Q=this.j;Q&&w.push(Fs(Q,tA,!0),":");var W=this.g;return(W||Q=="file")&&(w.push("//"),(Q=this.o)&&w.push(Fs(Q,tA,!0),"@"),w.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&w.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&w.push("/"),w.push(Fs(W,W.charAt(0)=="/"?kf:Tf,!0))),(W=this.i.toString())&&w.push("?",W),(W=this.m)&&w.push("#",Fs(W,Ls)),w.join("")};function Da(w){return new br(w)}function el(w,Q,W){w.j=W?tl(Q,!0):Q,w.j&&(w.j=w.j.replace(/:$/,""))}function Sc(w,Q){if(Q){if(Q=Number(Q),isNaN(Q)||0>Q)throw Error("Bad port number "+Q);w.s=Q}else w.s=null}function Ec(w,Q,W){Q instanceof Oa?(w.i=Q,Bc(w.i,w.h)):(W||(Q=Fs(Q,ra)),w.i=new Oa(Q,w.h))}function qn(w,Q,W){w.i.set(Q,W)}function co(w){return qn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function tl(w,Q){return w?Q?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Fs(w,Q,W){return typeof w=="string"?(w=encodeURI(w).replace(Q,Wn),W&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Wn(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var tA=/[#\/\?@]/g,Tf=/[#\?:]/g,kf=/[#\?]/g,ra=/[#\?@]/g,Ls=/#/g;function Oa(w,Q){this.h=this.g=null,this.i=w||null,this.j=!!Q}function ia(w){w.g||(w.g=new Map,w.h=0,w.i&&Os(w.i,function(Q,W){w.add(decodeURIComponent(Q.replace(/\+/g," ")),W)}))}t=Oa.prototype,t.add=function(w,Q){ia(this),this.i=null,w=aa(this,w);var W=this.g.get(w);return W||this.g.set(w,W=[]),W.push(Q),this.h+=1,this};function nl(w,Q){ia(w),Q=aa(w,Q),w.g.has(Q)&&(w.i=null,w.h-=w.g.get(Q).length,w.g.delete(Q))}function _c(w,Q){return ia(w),Q=aa(w,Q),w.g.has(Q)}t.forEach=function(w,Q){ia(this),this.g.forEach(function(W,ue){W.forEach(function(Qe){w.call(Q,Qe,ue,this)},this)},this)},t.na=function(){ia(this);const w=Array.from(this.g.values()),Q=Array.from(this.g.keys()),W=[];for(let ue=0;ue<Q.length;ue++){const Qe=w[ue];for(let qe=0;qe<Qe.length;qe++)W.push(Q[ue])}return W},t.V=function(w){ia(this);let Q=[];if(typeof w=="string")_c(this,w)&&(Q=Q.concat(this.g.get(aa(this,w))));else{w=Array.from(this.g.values());for(let W=0;W<w.length;W++)Q=Q.concat(w[W])}return Q},t.set=function(w,Q){return ia(this),this.i=null,w=aa(this,w),_c(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Q]),this.h+=1,this},t.get=function(w,Q){return w?(w=this.V(w),0<w.length?String(w[0]):Q):Q};function tn(w,Q,W){nl(w,Q),0<W.length&&(w.i=null,w.g.set(aa(w,Q),m(W)),w.h+=W.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Q=Array.from(this.g.keys());for(var W=0;W<Q.length;W++){var ue=Q[W];const qe=encodeURIComponent(String(ue)),Pt=this.V(ue);for(ue=0;ue<Pt.length;ue++){var Qe=qe;Pt[ue]!==""&&(Qe+="="+encodeURIComponent(String(Pt[ue]))),w.push(Qe)}}return this.i=w.join("&")};function aa(w,Q){return Q=String(Q),w.j&&(Q=Q.toLowerCase()),Q}function Bc(w,Q){Q&&!w.j&&(ia(w),w.i=null,w.g.forEach(function(W,ue){var Qe=ue.toLowerCase();ue!=Qe&&(nl(this,ue),tn(this,Qe,W))},w)),w.j=Q}function Nc(w,Q){const W=new qt;if(o.Image){const ue=new Image;ue.onload=h(Zr,W,"TestLoadImage: loaded",!0,Q,ue),ue.onerror=h(Zr,W,"TestLoadImage: error",!1,Q,ue),ue.onabort=h(Zr,W,"TestLoadImage: abort",!1,Q,ue),ue.ontimeout=h(Zr,W,"TestLoadImage: timeout",!1,Q,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=w}else Q(!1)}function nA(w,Q){const W=new qt,ue=new AbortController,Qe=setTimeout(()=>{ue.abort(),Zr(W,"TestPingServer: timeout",!1,Q)},1e4);fetch(w,{signal:ue.signal}).then(qe=>{clearTimeout(Qe),qe.ok?Zr(W,"TestPingServer: ok",!0,Q):Zr(W,"TestPingServer: server error",!1,Q)}).catch(()=>{clearTimeout(Qe),Zr(W,"TestPingServer: error",!1,Q)})}function Zr(w,Q,W,ue,Qe){try{Qe&&(Qe.onload=null,Qe.onerror=null,Qe.onabort=null,Qe.ontimeout=null),ue(W)}catch{}}function rl(){this.g=new Vt}function Ms(w,Q,W){const ue=W||"";try{Ds(w,function(Qe,qe){let Pt=Qe;u(Qe)&&(Pt=Ft(Qe)),Q.push(ue+qe+"="+encodeURIComponent(Pt))})}catch(Qe){throw Q.push(ue+"type="+encodeURIComponent("_badmap")),Qe}}function Kl(w){this.l=w.Ub||null,this.j=w.eb||!1}p(Kl,hn),Kl.prototype.g=function(){return new Bo(this.l,this.j)},Kl.prototype.i=function(w){return function(){return w}}({});function Bo(w,Q){Ut.call(this),this.D=w,this.o=Q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Bo,Ut),t=Bo.prototype,t.open=function(w,Q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=Q,this.readyState=1,Rs(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(Q.body=w),(this.D||o).fetch(new Request(this.A,Q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Q=w.value?w.value:new Uint8Array(0);(Q=this.v.decode(Q,{stream:!w.done}))&&(this.response=this.responseText+=Q)}w.done?Fa(this):Rs(this),this.readyState==3&&Wl(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Fa(this))},t.Qa=function(w){this.g&&(this.response=w,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Rs(w)}t.setRequestHeader=function(w,Q){this.u.append(w,Q)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Q=this.h.entries();for(var W=Q.next();!W.done;)W=W.value,w.push(W[0]+": "+W[1]),W=Q.next();return w.join(`\r
`)};function Rs(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Gl(w){let Q="";return j(w,function(W,ue){Q+=ue,Q+=":",Q+=W,Q+=`\r
`}),Q}function rA(w,Q,W){e:{for(ue in W){var ue=!1;break e}ue=!0}ue||(W=Gl(W),typeof w=="string"?W!=null&&encodeURIComponent(String(W)):qn(w,Q,W))}function dr(w){Ut.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(dr,Ut);var iA=/^https?$/i,jc=["POST","PUT"];t=dr.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,Q,W,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Q=Q?Q.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?cn(this.o):cn(vr),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(Q,String(w),!0),this.B=!1}catch(qe){uo(this,qe);return}if(w=W||"",W=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Qe in ue)W.set(Qe,ue[Qe]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const qe of ue.keys())W.set(qe,ue.get(qe));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(W.keys()).find(qe=>qe.toLowerCase()=="content-type"),Qe=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(jc,Q,void 0))||ue||Qe||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,Pt]of W)this.g.setRequestHeader(qe,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yl(this),this.u=!0,this.g.send(w),this.u=!1}catch(qe){uo(this,qe)}};function uo(w,Q){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Q,w.m=5,il(w),ql(w)}function il(w){w.A||(w.A=!0,rn(w,"complete"),rn(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,rn(this,"complete"),rn(this,"abort"),ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),dr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},t.bb=function(){al(this)};function al(w){if(w.h&&typeof s<"u"&&(!w.v[1]||Us(w)!=4||w.Z()!=2)){if(w.u&&Us(w)==4)bt(w.Ea,0,w);else if(rn(w,"readystatechange"),Us(w)==4){w.h=!1;try{const Pt=w.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}var W;if(!(W=Q)){var ue;if(ue=Pt===0){var Qe=String(w.D).match(Ca)[1]||null;!Qe&&o.self&&o.self.location&&(Qe=o.self.location.protocol.slice(0,-1)),ue=!iA.test(Qe?Qe.toLowerCase():"")}W=ue}if(W)rn(w,"complete"),rn(w,"success");else{w.m=6;try{var qe=2<Us(w)?w.g.statusText:""}catch{qe=""}w.l=qe+" ["+w.Z()+"]",il(w)}}finally{ql(w)}}}}function ql(w,Q){if(w.g){Yl(w);const W=w.g,ue=w.v[0]?()=>{}:null;w.g=null,w.v=null,Q||rn(w,"ready");try{W.onreadystatechange=ue}catch{}}}function Yl(w){w.I&&(o.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Us(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var Q=this.g.responseText;return w&&Q.indexOf(w)==0&&(Q=Q.substring(w.length)),St(Q)}};function Ic(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(w){const Q={};w=(w.g&&2<=Us(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<w.length;ue++){if(y(w[ue]))continue;var W=T(w[ue]);const Qe=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const qe=Q[Qe]||[];Q[Qe]=qe,qe.push(W)}_(Q,function(ue){return ue.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(w,Q,W){return W&&W.internalChannelParams&&W.internalChannelParams[w]||Q}function Xl(w){this.Aa=0,this.i=[],this.j=new qt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,w),this.cb=es("retryDelaySeedMs",1e4,w),this.Wa=es("forwardChannelMaxRetries",2,w),this.wa=es("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new pu(w&&w.concurrentRequestLimit),this.Da=new rl,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xl.prototype,t.la=8,t.G=1,t.connect=function(w,Q,W,ue){We(0),this.W=w,this.H=Q||{},W&&ue!==void 0&&(this.H.OSID=W,this.H.OAID=ue),this.F=this.X,this.I=xr(this,null,this.W),F(this)};function sl(w){if(vu(w),w.G==3){var Q=w.U++,W=Da(w.I);if(qn(W,"SID",w.K),qn(W,"RID",Q),qn(W,"TYPE","terminate"),Be(w,W),Q=new yr(w,w.j,Q),Q.L=2,Q.v=co(Da(W)),W=!1,o.navigator&&o.navigator.sendBeacon)try{W=o.navigator.sendBeacon(Q.v.toString(),"")}catch{}!W&&o.Image&&(new Image().src=Q.v,W=!0),W||(Q.g=Fr(Q.j,null),Q.g.ea(Q.v)),Q.F=Date.now(),wa(Q)}Gr(w)}function hs(w){w.g&&(Wt(w),w.g.cancel(),w.g=null)}function vu(w){hs(w),w.u&&(o.clearTimeout(w.u),w.u=null),xn(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function F(w){if(!Vl(w.h)&&!w.s){w.s=!0;var Q=w.Ga;ee||le(),K||(ee(),K=!0),te.add(Q,w),w.B=0}}function X(w,Q){return mu(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=Q.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=ut(f(w.Ga,w,Q),tr(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Qe=new yr(this,this.j,w);let qe=this.o;if(this.S&&(qe?(qe=B(qe),D(qe,this.S)):qe=this.S),this.m!==null||this.O||(Qe.H=qe,qe=null),this.P)e:{for(var Q=0,W=0;W<this.i.length;W++){t:{var ue=this.i[W];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(Q+=ue,4096<Q){Q=W;break e}if(Q===4096||W===this.i.length-1){Q=W+1;break e}}Q=1e3}else Q=1e3;Q=Ue(this,Qe,Q),W=Da(this.I),qn(W,"RID",w),qn(W,"CVER",22),this.D&&qn(W,"X-HTTP-Session-Id",this.D),Be(this,W),qe&&(this.O?Q="headers="+encodeURIComponent(String(Gl(qe)))+"&"+Q:this.m&&rA(W,this.m,qe)),gu(this.h,Qe),this.Ua&&qn(W,"TYPE","init"),this.P?(qn(W,"$req",Q),qn(W,"SID","null"),Qe.T=!0,Xo(Qe,W,null)):Xo(Qe,W,Q),this.G=2}}else this.G==3&&(w?me(this,w):this.i.length==0||Vl(this.h)||me(this))};function me(w,Q){var W;Q?W=Q.l:W=w.U++;const ue=Da(w.I);qn(ue,"SID",w.K),qn(ue,"RID",W),qn(ue,"AID",w.T),Be(w,ue),w.m&&w.o&&rA(ue,w.m,w.o),W=new yr(w,w.j,W,w.B+1),w.m===null&&(W.H=w.o),Q&&(w.i=Q.D.concat(w.i)),Q=Ue(w,W,1e3),W.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),gu(w.h,W),Xo(W,ue,Q)}function Be(w,Q){w.H&&j(w.H,function(W,ue){qn(Q,ue,W)}),w.l&&Ds({},function(W,ue){qn(Q,ue,W)})}function Ue(w,Q,W){W=Math.min(w.i.length,W);var ue=w.l?f(w.l.Na,w.l,w):null;e:{var Qe=w.i;let qe=-1;for(;;){const Pt=["count="+W];qe==-1?0<W?(qe=Qe[0].g,Pt.push("ofs="+qe)):qe=0:Pt.push("ofs="+qe);let nr=!0;for(let si=0;si<W;si++){let zn=Qe[si].g;const Vn=Qe[si].map;if(zn-=qe,0>zn)qe=Math.max(0,Qe[si].g-100),nr=!1;else try{Ms(Vn,Pt,"req"+zn+"_")}catch{ue&&ue(Vn)}}if(nr){ue=Pt.join("&");break e}}}return w=w.i.splice(0,W),Q.D=w,ue}function rt(w){if(!w.g&&!w.u){w.Y=1;var Q=w.Fa;ee||le(),K||(ee(),K=!0),te.add(Q,w),w.v=0}}function at(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=ut(f(w.Fa,w),tr(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,en(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=ut(f(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),hs(this),en(this))};function Wt(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function en(w){w.g=new yr(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var Q=Da(w.qa);qn(Q,"RID","rpc"),qn(Q,"SID",w.K),qn(Q,"AID",w.T),qn(Q,"CI",w.F?"0":"1"),!w.F&&w.ja&&qn(Q,"TO",w.ja),qn(Q,"TYPE","xmlhttp"),Be(w,Q),w.m&&w.o&&rA(Q,w.m,w.o),w.L&&(w.g.I=w.L);var W=w.g;w=w.ia,W.L=1,W.v=co(Da(Q)),W.m=null,W.P=!0,Jo(W,w)}t.Za=function(){this.C!=null&&(this.C=null,hs(this),at(this),We(19))};function xn(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function Cn(w,Q){var W=null;if(w.g==Q){xn(w),Wt(w),w.g=null;var ue=2}else if(Pn(w.h,Q))W=Q.D,ii(w.h,Q),ue=1;else return;if(w.G!=0){if(Q.o)if(ue==1){W=Q.m?Q.m.length:0,Q=Date.now()-Q.F;var Qe=w.B;ue=Ir(),rn(ue,new Et(ue,W)),F(w)}else rt(w);else if(Qe=Q.s,Qe==3||Qe==0&&0<Q.X||!(ue==1&&X(w,Q)||ue==2&&at(w)))switch(W&&0<W.length&&(Q=w.h,Q.i=Q.i.concat(W)),Qe){case 1:fr(w,5);break;case 4:fr(w,10);break;case 3:fr(w,6);break;default:fr(w,2)}}}function tr(w,Q){let W=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(W*=2),W*Q}function fr(w,Q){if(w.j.info("Error code "+Q),Q==2){var W=f(w.fb,w),ue=w.Xa;const Qe=!ue;ue=new br(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||el(ue,"https"),co(ue),Qe?Nc(ue.toString(),W):nA(ue.toString(),W)}else We(2);w.G=0,w.l&&w.l.sa(Q),Gr(w),vu(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Gr(w){if(w.G=0,w.ka=[],w.l){const Q=$l(w.h);(Q.length!=0||w.i.length!=0)&&(v(w.ka,Q),v(w.ka,w.i),w.h.i.length=0,m(w.i),w.i.length=0),w.l.ra()}}function xr(w,Q,W){var ue=W instanceof br?Da(W):new br(W);if(ue.g!="")Q&&(ue.g=Q+"."+ue.g),Sc(ue,ue.s);else{var Qe=o.location;ue=Qe.protocol,Q=Q?Q+"."+Qe.hostname:Qe.hostname,Qe=+Qe.port;var qe=new br(null);ue&&el(qe,ue),Q&&(qe.g=Q),Qe&&Sc(qe,Qe),W&&(qe.l=W),ue=qe}return W=w.D,Q=w.ya,W&&Q&&qn(ue,W,Q),qn(ue,"VER",w.la),Be(w,ue),ue}function Fr(w,Q,W){if(Q&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return Q=w.Ca&&!w.pa?new dr(new Kl({eb:W})):new dr(w.pa),Q.Ha(w.J),Q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ei(){}t=ei.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ai(){}ai.prototype.g=function(w,Q){return new kr(w,Q)};function kr(w,Q){Ut.call(this),this.g=new Xl(Q),this.l=w,this.h=Q&&Q.messageUrlParams||null,w=Q&&Q.messageHeaders||null,Q&&Q.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Q&&Q.initMessageHeaders||null,Q&&Q.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Q.messageContentType:w={"X-WebChannel-Content-Type":Q.messageContentType}),Q&&Q.va&&(w?w["X-WebChannel-Client-Profile"]=Q.va:w={"X-WebChannel-Client-Profile":Q.va}),this.g.S=w,(w=Q&&Q.Sb)&&!y(w)&&(this.g.m=w),this.v=Q&&Q.supportsCrossDomainXhr||!1,this.u=Q&&Q.sendRawJson||!1,(Q=Q&&Q.httpSessionIdParam)&&!y(Q)&&(this.g.D=Q,w=this.h,w!==null&&Q in w&&(w=this.h,Q in w&&delete w[Q])),this.j=new fo(this)}p(kr,Ut),kr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){sl(this.g)},kr.prototype.o=function(w){var Q=this.g;if(typeof w=="string"){var W={};W.__data__=w,w=W}else this.u&&(W={},W.__data__=Ft(w),w=W);Q.i.push(new lo(Q.Ya++,w)),Q.G==3&&F(Q)},kr.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,kr.aa.N.call(this)};function sa(w){gn.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Q=w.__sm__;if(Q){e:{for(const W in Q){w=W;break e}w=void 0}(this.i=w)&&(w=this.i,Q=Q!==null&&w in Q?Q[w]:void 0),this.data=Q}else this.data=w}p(sa,gn);function yu(){Kt.call(this),this.status=1}p(yu,Kt);function fo(w){this.g=w}p(fo,ei),fo.prototype.ua=function(){rn(this.g,"a")},fo.prototype.ta=function(w){rn(this.g,new sa(w))},fo.prototype.sa=function(w){rn(this.g,new yu)},fo.prototype.ra=function(){rn(this.g,"b")},ai.prototype.createWebChannel=ai.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,qW=function(){return new ai},GW=function(){return Ir()},WW=En,Sj={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,zw=gr,Or.COMPLETE="complete",KW=Or,wt.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,hv=wt,dr.prototype.listenOnce=dr.prototype.L,dr.prototype.getLastError=dr.prototype.Ka,dr.prototype.getLastErrorCode=dr.prototype.Ba,dr.prototype.getStatus=dr.prototype.Z,dr.prototype.getResponseJson=dr.prototype.Oa,dr.prototype.getResponseText=dr.prototype.oa,dr.prototype.send=dr.prototype.ea,dr.prototype.setWithCredentials=dr.prototype.Ha,$W=dr}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});const FM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new OP("@firebase/firestore");function H0(){return Qh.logLevel}function un(t,...e){if(Qh.logLevel<=ur.DEBUG){const n=e.map(QP);Qh.debug(`Firestore (${n0}): ${t}`,...n)}}function RA(t,...e){if(Qh.logLevel<=ur.ERROR){const n=e.map(QP);Qh.error(`Firestore (${n0}): ${t}`,...n)}}function My(t,...e){if(Qh.logLevel<=ur.WARN){const n=e.map(QP);Qh.warn(`Firestore (${n0}): ${t}`,...n)}}function QP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t="Unexpected state"){const e=`FIRESTORE (${n0}) INTERNAL ASSERTION FAILED: `+t;throw RA(e),new Error(e)}function Kr(t,e){t||Dn()}function Un(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends YA{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MAe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RAe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ko.UNAUTHENTICATED))}shutdown(){}}class UAe{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kr(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Eh;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Eh,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(un("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Eh)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kr(typeof r.accessToken=="string"),new MAe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kr(e===null||typeof e=="string"),new ko(e)}}class QAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QAe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zAe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VAe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Kr(this.o===void 0);const r=a=>{a.error!=null&&un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,un("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kr(typeof n.token=="string"),this.R=n.token,new zAe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Ae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$Ae(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Nr(t,e){return t<e?-1:t>e?1:0}function ag(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new nn(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nn(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new nn(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nn(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ta.fromMillis(Date.now())}static fromDate(e){return Ta.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ta(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nr(this.nanoseconds,e.nanoseconds):Nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new Ta(0,0))}static max(){return new Rn(new Ta(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dn(),r===void 0?r=e.length-n:r>e.length-n&&Dn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ry.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ry?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Si extends Ry{construct(e,n,r){return new Si(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new nn(xt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Si(n)}static emptyPath(){return new Si([])}}const KAe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _s extends Ry{construct(e,n,r){return new _s(e,n,r)}static isValidIdentifier(e){return KAe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_s.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _s(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new nn(xt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new nn(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new nn(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new nn(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _s(n)}static emptyPath(){return new _s([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.path=e}static fromPath(e){return new wn(Si.fromString(e))}static fromName(e){return new wn(Si.fromString(e).popFirst(5))}static empty(){return new wn(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Si.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Si.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new Si(e.slice()))}}function WAe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rn.fromTimestamp(r===1e9?new Ta(n+1,0):new Ta(n,r));return new sf(i,wn.empty(),e)}function GAe(t){return new sf(t.readTime,t.key,-1)}class sf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sf(Rn.min(),wn.empty(),-1)}static max(){return new sf(Rn.max(),wn.empty(),-1)}}function qAe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=wn.comparator(t.documentKey,e.documentKey),n!==0?n:Nr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YAe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XAe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t){if(t.code!==xt.FAILED_PRECONDITION||t.message!==YAe)throw t;un("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Bt((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Bt?n:Bt.resolve(n)}catch(n){return Bt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Bt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Bt.reject(n)}static resolve(e){return new Bt((n,r)=>{n(e)})}static reject(e){return new Bt((n,r)=>{r(e)})}static waitFor(e){return new Bt((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=Bt.resolve(!1);for(const r of e)n=n.next(i=>i?Bt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Bt((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(A=>{s[u]=A,++o,o===a&&r(s)},A=>i(A))}})}static doWhile(e,n){return new Bt((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function JAe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ex(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}HP.oe=-1;function f5(t){return t==null}function K2(t){return t===0&&1/t==-1/0}function ZAe(t){return typeof t=="number"&&Number.isInteger(t)&&!K2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.comparator=e,this.root=n||Es.EMPTY}insert(e,n){return new Hi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new Hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new m1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new m1(this.root,e,this.comparator,!1)}getReverseIterator(){return new m1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new m1(this.root,e,this.comparator,!0)}}class m1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Es.RED,this.left=i??Es.EMPTY,this.right=a??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Es(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1;Es.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Es(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e,this.data=new Hi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MM(this.data.getIterator())}getIteratorFrom(e){return new MM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Is(this.comparator);return n.data=e,n}}class MM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.fields=e,e.sort(_s.comparator)}static empty(){return new Cl([])}unionWith(e){let n=new Is(_s.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ag(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new JW("Invalid base64 string: "+a):a}}(e);return new Ps(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ps(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const ede=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function of(t){if(Kr(!!t),typeof t=="string"){let e=0;const n=ede.exec(t);if(Kr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ha(t.seconds),nanos:ha(t.nanos)}}function ha(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hh(t){return typeof t=="string"?Ps.fromBase64String(t):Ps.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VP(t){const e=t.mapValue.fields.__previous_value__;return zP(e)?VP(e):e}function Uy(t){const e=of(t.mapValue.fields.__local_write_time__.timestampValue);return new Ta(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{constructor(e,n,r,i,a,s,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Qy{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={mapValue:{}};function zh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zP(t)?4:rde(t)?9007199254740991:nde(t)?10:11:Dn()}function Qu(t,e){if(t===e)return!0;const n=zh(t);if(n!==zh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uy(t).isEqual(Uy(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=of(i.timestampValue),o=of(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Hh(i.bytesValue).isEqual(Hh(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ha(i.geoPointValue.latitude)===ha(a.geoPointValue.latitude)&&ha(i.geoPointValue.longitude)===ha(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ha(i.integerValue)===ha(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ha(i.doubleValue),o=ha(a.doubleValue);return s===o?K2(s)===K2(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ag(t.arrayValue.values||[],e.arrayValue.values||[],Qu);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(LM(s)!==LM(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Qu(s[l],o[l])))return!1;return!0}(t,e);default:return Dn()}}function Hy(t,e){return(t.values||[]).find(n=>Qu(n,e))!==void 0}function sg(t,e){if(t===e)return 0;const n=zh(t),r=zh(e);if(n!==r)return Nr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nr(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ha(a.integerValue||a.doubleValue),l=ha(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return RM(t.timestampValue,e.timestampValue);case 4:return RM(Uy(t),Uy(e));case 5:return Nr(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Hh(a),l=Hh(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const A=Nr(o[u],l[u]);if(A!==0)return A}return Nr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Nr(ha(a.latitude),ha(s.latitude));return o!==0?o:Nr(ha(a.longitude),ha(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UM(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,u,A;const d=a.fields||{},f=s.fields||{},h=(o=d.value)===null||o===void 0?void 0:o.arrayValue,p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,m=Nr(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((A=p==null?void 0:p.values)===null||A===void 0?void 0:A.length)||0);return m!==0?m:UM(h,p)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===g1.mapValue&&s===g1.mapValue)return 0;if(a===g1.mapValue)return 1;if(s===g1.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},A=Object.keys(u);l.sort(),A.sort();for(let d=0;d<l.length&&d<A.length;++d){const f=Nr(l[d],A[d]);if(f!==0)return f;const h=sg(o[l[d]],u[A[d]]);if(h!==0)return h}return Nr(l.length,A.length)}(t.mapValue,e.mapValue);default:throw Dn()}}function RM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nr(t,e);const n=of(t),r=of(e),i=Nr(n.seconds,r.seconds);return i!==0?i:Nr(n.nanos,r.nanos)}function UM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=sg(n[i],r[i]);if(a)return a}return Nr(n.length,r.length)}function og(t){return Ej(t)}function Ej(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=of(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hh(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return wn.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Ej(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Ej(n.fields[s])}`;return i+"}"}(t.mapValue):Dn()}function QM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _j(t){return!!t&&"integerValue"in t}function $P(t){return!!t&&"arrayValue"in t}function HM(t){return!!t&&"nullValue"in t}function zM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vw(t){return!!t&&"mapValue"in t}function nde(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rv(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rv(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rde(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rv(n)}setAll(e){let n=_s.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Rv(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Vw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sp(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fo(Rv(this.value))}}function ZW(t){const e=[];return sp(t.fields,(n,r)=>{const i=new _s([n]);if(Vw(r)){const a=ZW(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Cl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ro(e,0,Rn.min(),Rn.min(),Rn.min(),Fo.empty(),0)}static newFoundDocument(e,n,r,i){return new ro(e,1,n,Rn.min(),r,i,0)}static newNoDocument(e,n){return new ro(e,2,n,Rn.min(),Rn.min(),Fo.empty(),0)}static newUnknownDocument(e,n){return new ro(e,3,n,Rn.min(),Rn.min(),Fo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.position=e,this.inclusive=n}}function VM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=wn.comparator(wn.fromName(s.referenceValue),n.key):r=sg(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function $M(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n="asc"){this.field=e,this.dir=n}}function ide(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eG=class{};class Ia extends eG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sde(e,n,r):n==="array-contains"?new cde(e,r):n==="in"?new ude(e,r):n==="not-in"?new Ade(e,r):n==="array-contains-any"?new dde(e,r):new Ia(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ode(e,r):new lde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sg(n,this.value)):n!==null&&zh(this.value)===zh(n)&&this.matchesComparison(sg(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zc extends eG{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zc(e,n)}matches(e){return tG(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tG(t){return t.op==="and"}function nG(t){return ade(t)&&tG(t)}function ade(t){for(const e of t.filters)if(e instanceof Zc)return!1;return!0}function Bj(t){if(t instanceof Ia)return t.field.canonicalString()+t.op.toString()+og(t.value);if(nG(t))return t.filters.map(e=>Bj(e)).join(",");{const e=t.filters.map(n=>Bj(n)).join(",");return`${t.op}(${e})`}}function rG(t,e){return t instanceof Ia?function(r,i){return i instanceof Ia&&r.op===i.op&&r.field.isEqual(i.field)&&Qu(r.value,i.value)}(t,e):t instanceof Zc?function(r,i){return i instanceof Zc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&rG(s,i.filters[o]),!0):!1}(t,e):void Dn()}function iG(t){return t instanceof Ia?function(n){return`${n.field.canonicalString()} ${n.op} ${og(n.value)}`}(t):t instanceof Zc?function(n){return n.op.toString()+" {"+n.getFilters().map(iG).join(" ,")+"}"}(t):"Filter"}class sde extends Ia{constructor(e,n,r){super(e,n,r),this.key=wn.fromName(r.referenceValue)}matches(e){const n=wn.comparator(e.key,this.key);return this.matchesComparison(n)}}class ode extends Ia{constructor(e,n){super(e,"in",n),this.keys=aG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lde extends Ia{constructor(e,n){super(e,"not-in",n),this.keys=aG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aG(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>wn.fromName(r.referenceValue))}class cde extends Ia{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $P(n)&&Hy(n.arrayValue,this.value)}}class ude extends Ia{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hy(this.value.arrayValue,n)}}class Ade extends Ia{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hy(this.value.arrayValue,n)}}class dde extends Ia{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$P(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fde{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function KM(t,e=null,n=[],r=[],i=null,a=null,s=null){return new fde(t,e,n,r,i,a,s)}function KP(t){const e=Un(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bj(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),f5(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>og(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>og(r)).join(",")),e.ue=n}return e.ue}function WP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ide(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$M(t.startAt,e.startAt)&&$M(t.endAt,e.endAt)}function Nj(t){return wn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hde(t,e,n,r,i,a,s,o){return new tx(t,e,n,r,i,a,s,o)}function GP(t){return new tx(t)}function WM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sG(t){return t.collectionGroup!==null}function Uv(t){const e=Un(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Is(_s.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new G2(a,r))}),n.has(_s.keyField().canonicalString())||e.ce.push(new G2(_s.keyField(),r))}return e.ce}function Ou(t){const e=Un(t);return e.le||(e.le=pde(e,Uv(t))),e.le}function pde(t,e){if(t.limitType==="F")return KM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new G2(i.field,a)});const n=t.endAt?new W2(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new W2(t.startAt.position,t.startAt.inclusive):null;return KM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jj(t,e){const n=t.filters.concat([e]);return new tx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ij(t,e,n){return new tx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function h5(t,e){return WP(Ou(t),Ou(e))&&t.limitType===e.limitType}function oG(t){return`${KP(Ou(t))}|lt:${t.limitType}`}function $p(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iG(i)).join(", ")}]`),f5(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>og(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>og(i)).join(",")),`Target(${r})`}(Ou(t))}; limitType=${t.limitType})`}function p5(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):wn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Uv(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=VM(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Uv(r),i)||r.endAt&&!function(s,o,l){const u=VM(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Uv(r),i))}(t,e)}function mde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lG(t){return(e,n)=>{let r=!1;for(const i of Uv(t)){const a=gde(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gde(t,e,n){const r=t.field.isKeyField()?wn.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?sg(l,u):Dn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sp(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return XW(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vde=new Hi(wn.comparator);function UA(){return vde}const cG=new Hi(wn.comparator);function pv(...t){let e=cG;for(const n of t)e=e.insert(n.key,n);return e}function uG(t){let e=cG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ah(){return Qv()}function AG(){return Qv()}function Qv(){return new r0(t=>t.toString(),(t,e)=>t.isEqual(e))}const yde=new Hi(wn.comparator),bde=new Is(wn.comparator);function or(...t){let e=bde;for(const n of t)e=e.add(n);return e}const xde=new Is(Nr);function wde(){return xde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K2(e)?"-0":e}}function dG(t){return{integerValue:""+t}}function Cde(t,e){return ZAe(e)?dG(e):qP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this._=void 0}}function Sde(t,e,n){return t instanceof zy?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&zP(a)&&(a=VP(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof Vy?hG(t,e):t instanceof $y?pG(t,e):function(i,a){const s=fG(i,a),o=GM(s)+GM(i.Pe);return _j(s)&&_j(i.Pe)?dG(o):qP(i.serializer,o)}(t,e)}function Ede(t,e,n){return t instanceof Vy?hG(t,e):t instanceof $y?pG(t,e):n}function fG(t,e){return t instanceof q2?function(r){return _j(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class zy extends m5{}class Vy extends m5{constructor(e){super(),this.elements=e}}function hG(t,e){const n=mG(e);for(const r of t.elements)n.some(i=>Qu(i,r))||n.push(r);return{arrayValue:{values:n}}}class $y extends m5{constructor(e){super(),this.elements=e}}function pG(t,e){let n=mG(e);for(const r of t.elements)n=n.filter(i=>!Qu(i,r));return{arrayValue:{values:n}}}class q2 extends m5{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function GM(t){return ha(t.integerValue||t.doubleValue)}function mG(t){return $P(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e,n){this.field=e,this.transform=n}}function Bde(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vy&&i instanceof Vy||r instanceof $y&&i instanceof $y?ag(r.elements,i.elements,Qu):r instanceof q2&&i instanceof q2?Qu(r.Pe,i.Pe):r instanceof zy&&i instanceof zy}(t.transform,e.transform)}class Nde{constructor(e,n){this.version=e,this.transformResults=n}}class _l{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _l}static exists(e){return new _l(void 0,e)}static updateTime(e){return new _l(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $w(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class g5{}function gG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v5(t.key,_l.none()):new nx(t.key,t.data,_l.none());{const n=t.data,r=Fo.empty();let i=new Is(_s.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new yf(t.key,r,new Cl(i.toArray()),_l.none())}}function jde(t,e,n){t instanceof nx?function(i,a,s){const o=i.value.clone(),l=YM(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof yf?function(i,a,s){if(!$w(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=YM(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(vG(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Hv(t,e,n,r){return t instanceof nx?function(a,s,o,l){if(!$w(a.precondition,s))return o;const u=a.value.clone(),A=XM(a.fieldTransforms,l,s);return u.setAll(A),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yf?function(a,s,o,l){if(!$w(a.precondition,s))return o;const u=XM(a.fieldTransforms,l,s),A=s.data;return A.setAll(vG(a)),A.setAll(u),s.convertToFoundDocument(s.version,A).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return $w(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Ide(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=fG(r.transform,i||null);a!=null&&(n===null&&(n=Fo.empty()),n.set(r.field,a))}return n||null}function qM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ag(r,i,(a,s)=>Bde(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nx extends g5{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yf extends g5{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YM(t,e,n){const r=new Map;Kr(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,Ede(s,o,n[i]))}return r}function XM(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Sde(a,s,e))}return r}class v5 extends g5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tde extends g5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kde{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jde(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hv(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hv(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AG();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=gG(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Rn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),or())}isEqual(e){return this.batchId===e.batchId&&ag(this.mutations,e.mutations,(n,r)=>qM(n,r))&&ag(this.baseMutations,e.baseMutations,(n,r)=>qM(n,r))}}class YP{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kr(e.mutations.length===r.length);let i=function(){return yde}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new YP(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _a,pr;function Ode(t){switch(t){default:return Dn();case xt.CANCELLED:case xt.UNKNOWN:case xt.DEADLINE_EXCEEDED:case xt.RESOURCE_EXHAUSTED:case xt.INTERNAL:case xt.UNAVAILABLE:case xt.UNAUTHENTICATED:return!1;case xt.INVALID_ARGUMENT:case xt.NOT_FOUND:case xt.ALREADY_EXISTS:case xt.PERMISSION_DENIED:case xt.FAILED_PRECONDITION:case xt.ABORTED:case xt.OUT_OF_RANGE:case xt.UNIMPLEMENTED:case xt.DATA_LOSS:return!0}}function yG(t){if(t===void 0)return RA("GRPC error has no .code"),xt.UNKNOWN;switch(t){case _a.OK:return xt.OK;case _a.CANCELLED:return xt.CANCELLED;case _a.UNKNOWN:return xt.UNKNOWN;case _a.DEADLINE_EXCEEDED:return xt.DEADLINE_EXCEEDED;case _a.RESOURCE_EXHAUSTED:return xt.RESOURCE_EXHAUSTED;case _a.INTERNAL:return xt.INTERNAL;case _a.UNAVAILABLE:return xt.UNAVAILABLE;case _a.UNAUTHENTICATED:return xt.UNAUTHENTICATED;case _a.INVALID_ARGUMENT:return xt.INVALID_ARGUMENT;case _a.NOT_FOUND:return xt.NOT_FOUND;case _a.ALREADY_EXISTS:return xt.ALREADY_EXISTS;case _a.PERMISSION_DENIED:return xt.PERMISSION_DENIED;case _a.FAILED_PRECONDITION:return xt.FAILED_PRECONDITION;case _a.ABORTED:return xt.ABORTED;case _a.OUT_OF_RANGE:return xt.OUT_OF_RANGE;case _a.UNIMPLEMENTED:return xt.UNIMPLEMENTED;case _a.DATA_LOSS:return xt.DATA_LOSS;default:return Dn()}}(pr=_a||(_a={}))[pr.OK=0]="OK",pr[pr.CANCELLED=1]="CANCELLED",pr[pr.UNKNOWN=2]="UNKNOWN",pr[pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pr[pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pr[pr.NOT_FOUND=5]="NOT_FOUND",pr[pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",pr[pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",pr[pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",pr[pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pr[pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pr[pr.ABORTED=10]="ABORTED",pr[pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",pr[pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",pr[pr.INTERNAL=13]="INTERNAL",pr[pr.UNAVAILABLE=14]="UNAVAILABLE",pr[pr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lde=new Sh([4294967295,4294967295],0);function JM(t){const e=Fde().encode(t),n=new VW;return n.update(e),new Uint8Array(n.digest())}function ZM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Sh([n,r],0),new Sh([i,a],0)]}class XP{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mv(`Invalid padding: ${n}`);if(r<0)throw new mv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mv(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sh.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Sh.fromNumber(r)));return i.compare(Lde)===1&&(i=new Sh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=JM(e),[r,i]=ZM(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new XP(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=JM(e),[r,i]=ZM(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new y5(Rn.min(),i,new Hi(Nr),UA(),or())}}class rx{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rx(r,n,or(),or(),or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bG{constructor(e,n){this.targetId=e,this.me=n}}class xG{constructor(e,n,r=Ps.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eR{constructor(){this.fe=0,this.ge=nR(),this.pe=Ps.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=or(),n=or(),r=or();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dn()}}),new rx(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Mde{constructor(e){this.Le=e,this.Be=new Map,this.ke=UA(),this.qe=tR(),this.Qe=new Hi(Nr)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Dn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Nj(a))if(r===0){const s=new wn(a.path);this.Ue(n,s,ro.newNoDocument(s,Rn.min()))}else Kr(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Hh(r).toUint8Array()}catch(l){if(l instanceof JW)return My("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new XP(s,i,a)}catch(l){return My(l instanceof mv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&Nj(o.target)){const l=new wn(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,ro.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=or();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new y5(e,n,this.Qe,this.ke,r);return this.ke=UA(),this.qe=tR(),this.Qe=new Hi(Nr),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new eR,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Is(Nr),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||un("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tR(){return new Hi(wn.comparator)}function nR(){return new Hi(wn.comparator)}const Rde={asc:"ASCENDING",desc:"DESCENDING"},Ude={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qde={and:"AND",or:"OR"};class Hde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tj(t,e){return t.useProto3Json||f5(e)?e:{value:e}}function Y2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zde(t,e){return Y2(t,e.toTimestamp())}function Fu(t){return Kr(!!t),Rn.fromTimestamp(function(n){const r=of(n);return new Ta(r.seconds,r.nanos)}(t))}function JP(t,e){return kj(t,e).canonicalString()}function kj(t,e){const n=function(i){return new Si(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CG(t){const e=Si.fromString(t);return Kr(NG(e)),e}function Pj(t,e){return JP(t.databaseId,e.path)}function rB(t,e){const n=CG(e);if(n.get(1)!==t.databaseId.projectId)throw new nn(xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new nn(xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wn(EG(n))}function SG(t,e){return JP(t.databaseId,e)}function Vde(t){const e=CG(t);return e.length===4?Si.emptyPath():EG(e)}function Dj(t){return new Si(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EG(t){return Kr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rR(t,e,n){return{name:Pj(t,e),fields:n.value.mapValue.fields}}function $de(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Dn()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,A){return u.useProto3Json?(Kr(A===void 0||typeof A=="string"),Ps.fromBase64String(A||"")):(Kr(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Ps.fromUint8Array(A||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const A=u.code===void 0?xt.UNKNOWN:yG(u.code);return new nn(A,u.message||"")}(s);n=new xG(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rB(t,r.document.name),a=Fu(r.document.updateTime),s=r.document.createTime?Fu(r.document.createTime):Rn.min(),o=new Fo({mapValue:{fields:r.document.fields}}),l=ro.newFoundDocument(i,a,s,o),u=r.targetIds||[],A=r.removedTargetIds||[];n=new Kw(u,A,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rB(t,r.document),a=r.readTime?Fu(r.readTime):Rn.min(),s=ro.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Kw([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rB(t,r.document),a=r.removedTargetIds||[];n=new Kw([],a,i,null)}else{if(!("filter"in e))return Dn();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Dde(i,a),o=r.targetId;n=new bG(o,s)}}return n}function Kde(t,e){let n;if(e instanceof nx)n={update:rR(t,e.key,e.value)};else if(e instanceof v5)n={delete:Pj(t,e.key)};else if(e instanceof yf)n={update:rR(t,e.key,e.data),updateMask:tfe(e.fieldMask)};else{if(!(e instanceof Tde))return Dn();n={verify:Pj(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof zy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $y)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof q2)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Dn()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:zde(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Dn()}(t,e.precondition)),n}function Wde(t,e){return t&&t.length>0?(Kr(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Fu(i.updateTime):Fu(a);return s.isEqual(Rn.min())&&(s=Fu(a)),new Nde(s,i.transformResults||[])}(n,e))):[]}function Gde(t,e){return{documents:[SG(t,e.path)]}}function qde(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SG(t,i);const a=function(u){if(u.length!==0)return BG(Zc.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(A=>function(f){return{field:Kp(f.field),direction:Jde(f.dir)}}(A))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Tj(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Yde(t){let e=Vde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kr(r===1);const A=n.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let a=[];n.where&&(a=function(d){const f=_G(d);return f instanceof Zc&&nG(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new G2(Wp(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,f5(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new W2(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new W2(h,f)}(n.endAt)),hde(e,i,s,a,o,"F",l,u)}function Xde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dn()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _G(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wp(n.unaryFilter.field);return Ia.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wp(n.unaryFilter.field);return Ia.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wp(n.unaryFilter.field);return Ia.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wp(n.unaryFilter.field);return Ia.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}(t):t.fieldFilter!==void 0?function(n){return Ia.create(Wp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zc.create(n.compositeFilter.filters.map(r=>_G(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dn()}}(n.compositeFilter.op))}(t):Dn()}function Jde(t){return Rde[t]}function Zde(t){return Ude[t]}function efe(t){return Qde[t]}function Kp(t){return{fieldPath:t.canonicalString()}}function Wp(t){return _s.fromServerFormat(t.fieldPath)}function BG(t){return t instanceof Ia?function(n){if(n.op==="=="){if(zM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NAN"}};if(HM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NOT_NAN"}};if(HM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kp(n.field),op:Zde(n.op),value:n.value}}}(t):t instanceof Zc?function(n){const r=n.getFilters().map(i=>BG(i));return r.length===1?r[0]:{compositeFilter:{op:efe(n.op),filters:r}}}(t):Dn()}function tfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NG(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i,a=Rn.min(),s=Rn.min(),o=Ps.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new kd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(e){this.ct=e}}function rfe(t){const e=Yde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ij(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ife{constructor(){this.un=new afe}addToCollectionParentIndex(e,n){return this.un.add(n),Bt.resolve()}getCollectionParents(e,n){return Bt.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Bt.resolve()}deleteFieldIndex(e,n){return Bt.resolve()}deleteAllFieldIndexes(e){return Bt.resolve()}createTargetIndexes(e,n){return Bt.resolve()}getDocumentsMatchingTarget(e,n){return Bt.resolve(null)}getIndexType(e,n){return Bt.resolve(0)}getFieldIndexes(e,n){return Bt.resolve([])}getNextCollectionGroupToUpdate(e){return Bt.resolve(null)}getMinOffset(e,n){return Bt.resolve(sf.min())}getMinOffsetFromCollectionGroup(e,n){return Bt.resolve(sf.min())}updateCollectionGroup(e,n,r){return Bt.resolve()}updateIndexEntries(e,n){return Bt.resolve()}}class afe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Is(Si.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Is(Si.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lg(0)}static kn(){return new lg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(){this.changes=new r0(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Bt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hv(r.mutation,i,Cl.empty(),Ta.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,or()).next(()=>r))}getLocalViewOfDocuments(e,n,r=or()){const i=Ah();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=pv();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ah();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,or()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=UA();const s=Qv(),o=function(){return Qv()}();return n.forEach((l,u)=>{const A=r.get(u.key);i.has(u.key)&&(A===void 0||A.mutation instanceof yf)?a=a.insert(u.key,u):A!==void 0?(s.set(u.key,A.mutation.getFieldMask()),Hv(A.mutation,u,A.mutation.getFieldMask(),Ta.now())):s.set(u.key,Cl.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,A)=>s.set(u,A)),n.forEach((u,A)=>{var d;return o.set(u,new ofe(A,(d=s.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Qv();let i=new Hi((s,o)=>s-o),a=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let A=r.get(l)||Cl.empty();A=o.applyToLocalView(u,A),r.set(l,A);const d=(i.get(o.batchId)||or()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,A=l.value,d=AG();A.forEach(f=>{if(!a.has(f)){const h=gG(n.get(f),r.get(f));h!==null&&d.set(f,h),a=a.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Bt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return wn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Bt.resolve(Ah());let o=-1,l=a;return s.next(u=>Bt.forEach(u,(A,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(A)?Bt.resolve():this.remoteDocumentCache.getEntry(e,A).next(f=>{l=l.insert(A,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,or())).next(A=>({batchId:o,changes:uG(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wn(n)).next(r=>{let i=pv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=pv();return this.indexManager.getCollectionParents(e,a).next(o=>Bt.forEach(o,l=>{const u=function(d,f){return new tx(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(A=>{A.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const A=u.getKey();s.get(A)===null&&(s=s.insert(A,ro.newInvalidDocument(A)))});let o=pv();return s.forEach((l,u)=>{const A=a.get(l);A!==void 0&&Hv(A.mutation,u,Cl.empty(),Ta.now()),p5(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Bt.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fu(i.createTime)}}(n)),Bt.resolve()}getNamedQuery(e,n){return Bt.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:rfe(i.bundledQuery),readTime:Fu(i.readTime)}}(n)),Bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(){this.overlays=new Hi(wn.comparator),this.Ir=new Map}getOverlay(e,n){return Bt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ah();return Bt.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),Bt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Bt.resolve()}getOverlaysForCollection(e,n,r){const i=Ah(),a=n.length+1,s=new wn(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Bt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Hi((u,A)=>u-A);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let A=a.get(u.largestBatchId);A===null&&(A=Ah(),a=a.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const o=Ah(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,A)=>o.set(u,A)),!(o.size()>=i)););return Bt.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Pde(n,r));let a=this.Ir.get(n);a===void 0&&(a=or(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(){this.sessionToken=Ps.EMPTY_BYTE_STRING}getSessionToken(e){return Bt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.Tr=new Is(rs.Er),this.dr=new Is(rs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rs(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rs(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new wn(new Si([])),r=new rs(n,e),i=new rs(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new wn(new Si([])),r=new rs(n,e),i=new rs(n,e+1);let a=or();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new rs(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rs{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return wn.comparator(e.key,n.key)||Nr(e.wr,n.wr)}static Ar(e,n){return Nr(e.wr,n.wr)||wn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Is(rs.Er)}checkEmpty(e){return Bt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kde(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new rs(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Bt.resolve(s)}lookupMutationBatch(e,n){return Bt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Bt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Bt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rs(n,0),i=new rs(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),Bt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Is(Nr);return n.forEach(i=>{const a=new rs(i,0),s=new rs(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),Bt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;wn.isDocumentKey(a)||(a=a.child(""));const s=new rs(new wn(a),0);let o=new Is(Nr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),Bt.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kr(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Bt.forEach(n.mutations,i=>{const a=new rs(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rs(n,0),i=this.br.firstAfterOrEqual(r);return Bt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Bt.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(e){this.Mr=e,this.docs=function(){return new Hi(wn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Bt.resolve(r?r.document.mutableCopy():ro.newInvalidDocument(n))}getEntries(e,n){let r=UA();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ro.newInvalidDocument(i))}),Bt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=UA();const s=n.path,o=new wn(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:A}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||qAe(GAe(A),r)<=0||(i.has(A.key)||p5(n,A))&&(a=a.insert(A.key,A.mutableCopy()))}return Bt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Dn()}Or(e,n){return Bt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hfe(this)}getSize(e){return Bt.resolve(this.size)}}class hfe extends sfe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Bt.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(e){this.persistence=e,this.Nr=new r0(n=>KP(n),WP),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ZP,this.targetCount=0,this.kr=lg.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Bt.resolve()}getLastRemoteSnapshotVersion(e){return Bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Bt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Bt.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new lg(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Bt.resolve()}updateTargetData(e,n){return this.Kn(n),Bt.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Bt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Bt.waitFor(a).next(()=>i)}getTargetCount(e){return Bt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Bt.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Bt.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Bt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Bt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Bt.resolve(r)}containsKey(e,n){return Bt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,n){this.qr={},this.overlays={},this.Qr=new HP(0),this.Kr=!1,this.Kr=!0,this.$r=new Afe,this.referenceDelegate=e(this),this.Ur=new pfe(this),this.indexManager=new ife,this.remoteDocumentCache=function(i){return new ffe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nfe(n),this.Gr=new cfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ufe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dfe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){un("MemoryPersistence","Starting transaction:",e);const i=new gfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return Bt.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gfe extends XAe{constructor(e){super(),this.currentSequenceNumber=e}}class eD{constructor(e){this.persistence=e,this.Jr=new ZP,this.Yr=null}static Zr(e){return new eD(e)}get Xr(){if(this.Yr)return this.Yr;throw Dn()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Bt.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Bt.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Bt.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.Xr,r=>{const i=wn.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Rn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Bt.or([()=>Bt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=or(),i=or();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new tD(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uce()?8:JAe(Wo())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new vfe;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(H0()<=ur.DEBUG&&un("QueryEngine","SDK will not create cache indexes for query:",$p(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Bt.resolve()):(H0()<=ur.DEBUG&&un("QueryEngine","Query:",$p(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(H0()<=ur.DEBUG&&un("QueryEngine","The SDK decides to create cache indexes for query:",$p(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ou(n))):Bt.resolve())}Yi(e,n){if(WM(n))return Bt.resolve(null);let r=Ou(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ij(n,null,"F"),r=Ou(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=or(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,s,l.readTime)?this.Yi(e,Ij(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return WM(n)||i.isEqual(Rn.min())?Bt.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?Bt.resolve(null):(H0()<=ur.DEBUG&&un("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$p(n)),this.rs(e,s,n,WAe(i,-1)).next(o=>o))})}ts(e,n){let r=new Is(lG(e));return n.forEach((i,a)=>{p5(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return H0()<=ur.DEBUG&&un("QueryEngine","Using full collection scan to execute query:",$p(n)),this.Ji.getDocumentsMatchingQuery(e,n,sf.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Hi(Nr),this._s=new r0(a=>KP(a),WP),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lfe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function xfe(t,e,n,r){return new bfe(t,e,n,r)}async function jG(t,e){const n=Un(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=or();for(const u of i){s.push(u.batchId);for(const A of u.mutations)l=l.add(A.key)}for(const u of a){o.push(u.batchId);for(const A of u.mutations)l=l.add(A.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function wfe(t,e){const n=Un(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,A){const d=u.batch,f=d.keys();let h=Bt.resolve();return f.forEach(p=>{h=h.next(()=>A.getEntry(l,p)).next(m=>{const v=u.docVersions.get(p);Kr(v!==null),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),A.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=or();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IG(t){const e=Un(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Cfe(t,e){const n=Un(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((A,d)=>{const f=i.get(d);if(!f)return;o.push(n.Ur.removeMatchingKeys(a,A.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,A.addedDocuments,d)));let h=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Ps.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):A.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(A.resumeToken,r)),i=i.insert(d,h),function(m,v,g){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,A)&&o.push(n.Ur.updateTargetData(a,h))});let l=UA(),u=or();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,A))}),o.push(Sfe(a,s,e.documentUpdates).next(A=>{l=A.Ps,u=A.Is})),!r.isEqual(Rn.min())){const A=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(A)}return Bt.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function Sfe(t,e,n){let r=or(),i=or();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=UA();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Rn.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):un("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Efe(t,e){const n=Un(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _fe(t,e){const n=Un(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,Bt.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new kd(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Oj(t,e,n){const r=Un(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ex(s))throw s;un("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function iR(t,e,n){const r=Un(t);let i=Rn.min(),a=or();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,A){const d=Un(l),f=d._s.get(A);return f!==void 0?Bt.resolve(d.os.get(f)):d.Ur.getTargetData(u,A)}(r,s,Ou(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Rn.min(),n?a:or())).next(o=>(Bfe(r,mde(e),o),{documents:o,Ts:a})))}function Bfe(t,e,n){let r=t.us.get(e)||Rn.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class aR{constructor(){this.activeTargetIds=wde()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nfe{constructor(){this.so=new aR,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new aR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jfe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1=null;function iB(){return v1===null?v1=function(){return 268435456+Math.round(2147483648*Math.random())}():v1++,"0x"+v1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="WebChannelConnection";class kfe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=iB(),l=this.xo(n,r.toUriEncodedString());un("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(n,l,u,i).then(A=>(un("RestConnection",`Received RPC '${n}' ${o}: `,A),A),A=>{throw My("RestConnection",`RPC '${n}' ${o} failed with error: `,A,"url: ",l,"request:",i),A})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+n0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=Ife[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=iB();return new Promise((s,o)=>{const l=new $W;l.setWithCredentials(!0),l.listenOnce(KW.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zw.NO_ERROR:const A=l.getResponseJson();un($s,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(A)),s(A);break;case zw.TIMEOUT:un($s,`RPC '${e}' ${a} timed out`),o(new nn(xt.DEADLINE_EXCEEDED,"Request time out"));break;case zw.HTTP_ERROR:const d=l.getStatus();if(un($s,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(xt).indexOf(g)>=0?g:xt.UNKNOWN}(h.status);o(new nn(p,h.message))}else o(new nn(xt.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new nn(xt.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{un($s,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);un($s,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=iB(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qW(),o=GW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const A=a.join("");un($s,`Creating RPC '${e}' stream ${i}: ${A}`,l);const d=s.createWebChannel(A,l);let f=!1,h=!1;const p=new Tfe({Io:v=>{h?un($s,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(un($s,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),un($s,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),m=(v,g,y)=>{v.listen(g,x=>{try{y(x)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,hv.EventType.OPEN,()=>{h||(un($s,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),m(d,hv.EventType.CLOSE,()=>{h||(h=!0,un($s,`RPC '${e}' stream ${i} transport closed`),p.So())}),m(d,hv.EventType.ERROR,v=>{h||(h=!0,My($s,`RPC '${e}' stream ${i} transport errored:`,v),p.So(new nn(xt.UNAVAILABLE,"The operation could not be completed")))}),m(d,hv.EventType.MESSAGE,v=>{var g;if(!h){const y=v.data[0];Kr(!!y);const x=y,C=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(C){un($s,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let j=function(N){const D=_a[N];if(D!==void 0)return yG(D)}(E),_=C.message;j===void 0&&(j=xt.INTERNAL,_="Unknown error status: "+E+" with message "+C.message),h=!0,p.So(new nn(j,_)),d.close()}else un($s,`RPC '${e}' stream ${i} received:`,y),p.bo(y)}}),m(o,WW.STAT_EVENT,v=>{v.stat===Sj.PROXY?un($s,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Sj.NOPROXY&&un($s,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function aB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){return new Hde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&un("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TG(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===xt.RESOURCE_EXHAUSTED?(RA(n.toString()),RA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===xt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new nn(xt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pfe extends kG{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$de(this.serializer,e),r=function(a){if(!("targetChange"in a))return Rn.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Rn.min():s.readTime?Fu(s.readTime):Rn.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Dj(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Nj(l)?{documents:Gde(a,l)}:{query:qde(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=wG(a,s.resumeToken);const u=Tj(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Rn.min())>0){o.readTime=Y2(a,s.snapshotVersion.toTimestamp());const u=Tj(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=Xde(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Dj(this.serializer),n.removeTarget=e,this.a_(n)}}class Dfe extends kG{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Kr(!!e.streamToken),this.lastStreamToken=e.streamToken,Kr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Wde(e.writeResults,e.commitTime),r=Fu(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Dj(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kde(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new nn(xt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,kj(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new nn(xt.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,kj(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nn(xt.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ffe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(RA(n),this.D_=!1):un("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{op(this)&&(un("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Un(l);u.L_.add(4),await ix(u),u.q_.set("Unknown"),u.L_.delete(4),await x5(u)}(this))})}),this.q_=new Ffe(r,i)}}async function x5(t){if(op(t))for(const e of t.B_)await e(!0)}async function ix(t){for(const e of t.B_)await e(!1)}function PG(t,e){const n=Un(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),aD(n)?iD(n):i0(n).r_()&&rD(n,e))}function nD(t,e){const n=Un(t),r=i0(n);n.N_.delete(e),r.r_()&&DG(n,e),n.N_.size===0&&(r.r_()?r.o_():op(n)&&n.q_.set("Unknown"))}function rD(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}i0(t).A_(e)}function DG(t,e){t.Q_.xe(e),i0(t).R_(e)}function iD(t){t.Q_=new Mde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),i0(t).start(),t.q_.v_()}function aD(t){return op(t)&&!i0(t).n_()&&t.N_.size>0}function op(t){return Un(t).L_.size===0}function OG(t){t.Q_=void 0}async function Mfe(t){t.q_.set("Online")}async function Rfe(t){t.N_.forEach((e,n)=>{rD(t,e)})}async function Ufe(t,e){OG(t),aD(t)?(t.q_.M_(e),iD(t)):t.q_.set("Unknown")}async function Qfe(t,e,n){if(t.q_.set("Online"),e instanceof xG&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await X2(t,r)}else if(e instanceof Kw?t.Q_.Ke(e):e instanceof bG?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Rn.min()))try{const r=await IG(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const A=a.N_.get(u);A&&a.N_.set(u,A.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const A=a.N_.get(l);if(!A)return;a.N_.set(l,A.withResumeToken(Ps.EMPTY_BYTE_STRING,A.snapshotVersion)),DG(a,l);const d=new kd(A.target,l,u,A.sequenceNumber);rD(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){un("RemoteStore","Failed to raise snapshot:",r),await X2(t,r)}}async function X2(t,e,n){if(!ex(e))throw e;t.L_.add(1),await ix(t),t.q_.set("Offline"),n||(n=()=>IG(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{un("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await x5(t)})}function FG(t,e){return e().catch(n=>X2(t,n,e))}async function w5(t){const e=Un(t),n=lf(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Hfe(e);)try{const i=await Efe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zfe(e,i)}catch(i){await X2(e,i)}LG(e)&&MG(e)}function Hfe(t){return op(t)&&t.O_.length<10}function zfe(t,e){t.O_.push(e);const n=lf(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LG(t){return op(t)&&!lf(t).n_()&&t.O_.length>0}function MG(t){lf(t).start()}async function Vfe(t){lf(t).p_()}async function $fe(t){const e=lf(t);for(const n of t.O_)e.m_(n.mutations)}async function Kfe(t,e,n){const r=t.O_.shift(),i=YP.from(r,e,n);await FG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await w5(t)}async function Wfe(t,e){e&&lf(t).V_&&await async function(r,i){if(function(s){return Ode(s)&&s!==xt.ABORTED}(i.code)){const a=r.O_.shift();lf(r).s_(),await FG(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await w5(r)}}(t,e),LG(t)&&MG(t)}async function oR(t,e){const n=Un(t);n.asyncQueue.verifyOperationInProgress(),un("RemoteStore","RemoteStore received new credentials");const r=op(n);n.L_.add(3),await ix(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await x5(n)}async function Gfe(t,e){const n=Un(t);e?(n.L_.delete(2),await x5(n)):e||(n.L_.add(2),await ix(n),n.q_.set("Unknown"))}function i0(t){return t.K_||(t.K_=function(n,r,i){const a=Un(n);return a.w_(),new Pfe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Mfe.bind(null,t),Ro:Rfe.bind(null,t),mo:Ufe.bind(null,t),d_:Qfe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),aD(t)?iD(t):t.q_.set("Unknown")):(await t.K_.stop(),OG(t))})),t.K_}function lf(t){return t.U_||(t.U_=function(n,r,i){const a=Un(n);return a.w_(),new Dfe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Vfe.bind(null,t),mo:Wfe.bind(null,t),f_:$fe.bind(null,t),g_:Kfe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await w5(t)):(await t.U_.stop(),t.O_.length>0&&(un("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Eh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new sD(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nn(xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oD(t,e){if(RA("AsyncQueue",`${e}: ${t}`),ex(t))return new nn(xt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||wn.comparator(n.key,r.key):(n,r)=>wn.comparator(n.key,r.key),this.keyedMap=pv(),this.sortedSet=new Hi(this.comparator)}static emptySet(e){return new Fm(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.W_=new Hi(wn.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Dn():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cg{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new cg(e,n,Fm.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Yfe{constructor(){this.queries=cR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Un(n),a=i.queries;i.queries=cR(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new nn(xt.ABORTED,"Firestore shutting down"))}}function cR(){return new r0(t=>oG(t),h5)}async function Xfe(t,e){const n=Un(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new qfe,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=oD(s,`Initialization of query '${$p(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&lD(n)}async function Jfe(t,e){const n=Un(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zfe(t,e){const n=Un(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&lD(n)}function ehe(t,e,n){const r=Un(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function lD(t){t.Y_.forEach(e=>{e.next()})}var Fj,uR;(uR=Fj||(Fj={})).ea="default",uR.Cache="cache";class the{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.key=e}}class UG{constructor(e){this.key=e}}class nhe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=or(),this.mutatedKeys=or(),this.Aa=lG(e),this.Ra=new Fm(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lR,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,d)=>{const f=i.get(A),h=p5(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),v=!0):this.ga(f,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(o=!0)):!f&&h?(r.track({type:0,doc:h}),v=!0):f&&!h&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(h?(s=s.add(h),a=m?a.add(A):a.delete(A)):(s=s.delete(A),a=a.delete(A)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const A=this.query.limitType==="F"?s.last():s.first();s=s.delete(A.key),a=a.delete(A.key),r.track({type:1,doc:A})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((A,d)=>function(h,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return m(h)-m(p)}(A.type,d.type)||this.Aa(A.doc,d.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new cg(this.query,e.Ra,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=or(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new UG(r))}),this.da.forEach(r=>{e.has(r)||n.push(new RG(r))}),n}ba(e){this.Ta=e.Ts,this.da=or();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ihe{constructor(e){this.key=e,this.va=!1}}class ahe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new r0(o=>oG(o),h5),this.Ma=new Map,this.xa=new Set,this.Oa=new Hi(wn.comparator),this.Na=new Map,this.La=new ZP,this.Ba={},this.ka=new Map,this.qa=lg.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function she(t,e,n=!0){const r=KG(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await QG(r,e,n,!0),i}async function ohe(t,e){const n=KG(t);await QG(n,e,!0,!1)}async function QG(t,e,n,r){const i=await _fe(t.localStore,Ou(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await lhe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&PG(t.remoteStore,i),o}async function lhe(t,e,n,r,i){t.Ka=(d,f,h)=>async function(m,v,g,y){let x=v.view.ma(g);x.ns&&(x=await iR(m.localStore,v.query,!1).then(({documents:_})=>v.view.ma(_,x)));const C=y&&y.targetChanges.get(v.targetId),E=y&&y.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(x,m.isPrimaryClient,C,E);return dR(m,v.targetId,j.wa),j.snapshot}(t,d,f,h);const a=await iR(t.localStore,e,!0),s=new nhe(e,a.Ts),o=s.ma(a.documents),l=rx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);dR(t,n,u.wa);const A=new rhe(e,n,s);return t.Fa.set(e,A),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function che(t,e,n){const r=Un(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!h5(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Oj(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nD(r.remoteStore,i.targetId),Lj(r,i.targetId)}).catch(Zb)):(Lj(r,i.targetId),await Oj(r.localStore,i.targetId,!0))}async function uhe(t,e){const n=Un(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nD(n.remoteStore,r.targetId))}async function Ahe(t,e,n){const r=vhe(t);try{const i=await function(s,o){const l=Un(s),u=Ta.now(),A=o.reduce((h,p)=>h.add(p.key),or());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=UA(),m=or();return l.cs.getEntries(h,A).next(v=>{p=v,p.forEach((g,y)=>{y.isValidDocument()||(m=m.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(v=>{d=v;const g=[];for(const y of o){const x=Ide(y,d.get(y.key).overlayedDocument);x!=null&&g.push(new yf(y.key,x,ZW(x.value.mapValue),_l.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,o)}).next(v=>{f=v;const g=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,g)})}).then(()=>({batchId:f.batchId,changes:uG(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Hi(Nr)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await ax(r,i.changes),await w5(r.remoteStore)}catch(i){const a=oD(i,"Failed to persist write");n.reject(a)}}async function HG(t,e){const n=Un(t);try{const r=await Cfe(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(Kr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Kr(s.va):i.removedDocuments.size>0&&(Kr(s.va),s.va=!1))}),await ax(n,r,e)}catch(r){await Zb(r)}}function AR(t,e,n){const r=Un(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Un(s);l.onlineState=o;let u=!1;l.queries.forEach((A,d)=>{for(const f of d.j_)f.Z_(o)&&(u=!0)}),u&&lD(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dhe(t,e,n){const r=Un(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new Hi(wn.comparator);s=s.insert(a,ro.newNoDocument(a,Rn.min()));const o=or().add(a),l=new y5(Rn.min(),new Map,new Hi(Nr),s,o);await HG(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),cD(r)}else await Oj(r.localStore,e,!1).then(()=>Lj(r,e,n)).catch(Zb)}async function fhe(t,e){const n=Un(t),r=e.batch.batchId;try{const i=await wfe(n.localStore,e);VG(n,r,null),zG(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ax(n,i)}catch(i){await Zb(i)}}async function hhe(t,e,n){const r=Un(t);try{const i=await function(s,o){const l=Un(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Kr(d!==null),A=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,A,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>l.localDocuments.getDocuments(u,A))})}(r.localStore,e);VG(r,e,n),zG(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ax(r,i)}catch(i){await Zb(i)}}function zG(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function VG(t,e,n){const r=Un(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Lj(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$G(t,r)})}function $G(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nD(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cD(t))}function dR(t,e,n){for(const r of n)r instanceof RG?(t.La.addReference(r.key,e),phe(t,r)):r instanceof UG?(un("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$G(t,r.key)):Dn()}function phe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(un("SyncEngine","New document in limbo: "+n),t.xa.add(r),cD(t))}function cD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new wn(Si.fromString(e)),r=t.qa.next();t.Na.set(r,new ihe(n)),t.Oa=t.Oa.insert(n,r),PG(t.remoteStore,new kd(Ou(GP(n.path)),r,"TargetPurposeLimboResolution",HP.oe))}}async function ax(t,e,n){const r=Un(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(u=>{var A;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(A=n==null?void 0:n.targetChanges.get(l.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=tD.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const A=Un(l);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Bt.forEach(u,f=>Bt.forEach(f.$i,h=>A.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>Bt.forEach(f.Ui,h=>A.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!ex(d))throw d;un("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=A.os.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);A.os=A.os.insert(f,m)}}}(r.localStore,a))}async function mhe(t,e){const n=Un(t);if(!n.currentUser.isEqual(e)){un("SyncEngine","User change. New user:",e.toKey());const r=await jG(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new nn(xt.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ax(n,r.hs)}}function ghe(t,e){const n=Un(t),r=n.Na.get(e);if(r&&r.va)return or().add(r.key);{let i=or();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function KG(t){const e=Un(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ghe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dhe.bind(null,e),e.Ca.d_=Zfe.bind(null,e.eventManager),e.Ca.$a=ehe.bind(null,e.eventManager),e}function vhe(t){const e=Un(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hhe.bind(null,e),e}class J2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=b5(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return xfe(this.persistence,new yfe,e.initialUser,this.serializer)}Ga(e){return new mfe(eD.Zr,this.serializer)}Wa(e){return new Nfe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}J2.provider={build:()=>new J2};class Mj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mhe.bind(null,this.syncEngine),await Gfe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yfe}()}createDatastore(e){const n=b5(e.databaseInfo.databaseId),r=function(a){return new kfe(a)}(e.databaseInfo);return function(a,s,o,l){return new Ofe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Lfe(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>AR(this.syncEngine,n,0),function(){return sR.D()?new sR:new jfe}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,A){const d=new ahe(i,a,s,o,l,u);return A&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Un(i);un("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ix(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mj.provider={build:()=>new Mj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):RA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bhe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ko.UNAUTHENTICATED,this.clientId=YW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{un("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(un("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sB(t,e){t.asyncQueue.verifyOperationInProgress(),un("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jG(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xhe(t);un("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oR(e.remoteStore,i)),t._onlineComponents=e}async function xhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){un("FirestoreClient","Using user provided OfflineComponentProvider");try{await sB(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===xt.FAILED_PRECONDITION||i.code===xt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;My("Error using user provided cache. Falling back to memory cache: "+n),await sB(t,new J2)}}else un("FirestoreClient","Using default OfflineComponentProvider"),await sB(t,new J2);return t._offlineComponents}async function WG(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(un("FirestoreClient","Using user provided OnlineComponentProvider"),await fR(t,t._uninitializedComponentsProvider._online)):(un("FirestoreClient","Using default OnlineComponentProvider"),await fR(t,new Mj))),t._onlineComponents}function whe(t){return WG(t).then(e=>e.syncEngine)}async function hR(t){const e=await WG(t),n=e.eventManager;return n.onListen=she.bind(null,e.syncEngine),n.onUnlisten=che.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ohe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uhe.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t,e,n){if(!n)throw new nn(xt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Che(t,e,n,r){if(e===!0&&r===!0)throw new nn(xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mR(t){if(!wn.isDocumentKey(t))throw new nn(xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gR(t){if(wn.isDocumentKey(t))throw new nn(xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dn()}function _h(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new nn(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C5(t);throw new nn(xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nn(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nn(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Che("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nn(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nn(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nn(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uD{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vR({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nn(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nn(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RAe;switch(r.type){case"firstParty":return new HAe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nn(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pR.get(n);r&&(un("ComponentProvider","Removing Datastore"),pR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new a0(this.firestore,e,this._query)}}class Vo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vo(this.firestore,e,this._key)}}class Jd extends a0{constructor(e,n,r){super(e,n,GP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vo(this.firestore,null,new wn(e))}withConverter(e){return new Jd(this.firestore,e,this._path)}}function She(t,e,...n){if(t=ks(t),qG("collection","path",e),t instanceof uD){const r=Si.fromString(e,...n);return gR(r),new Jd(t,null,r)}{if(!(t instanceof Vo||t instanceof Jd))throw new nn(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Si.fromString(e,...n));return gR(r),new Jd(t.firestore,null,r)}}function $a(t,e,...n){if(t=ks(t),arguments.length===1&&(e=YW.newId()),qG("doc","path",e),t instanceof uD){const r=Si.fromString(e,...n);return mR(r),new Vo(t,null,new wn(r))}{if(!(t instanceof Vo||t instanceof Jd))throw new nn(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Si.fromString(e,...n));return mR(r),new Vo(t.firestore,t instanceof Jd?t.converter:null,new wn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TG(this,"async_queue_retry"),this.Vu=()=>{const r=aB();r&&un("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=aB();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=aB();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Eh;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ex(e))throw e;un("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw RA("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=sD.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Dn()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function bR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ug extends uD{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yR(e),this._firestoreClient=void 0,await e}}}function Ehe(t,e,n){n||(n="(default)");const r=wW(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Dy(a,e))return i;throw new nn(xt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new nn(xt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nn(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function AD(t){if(t._terminated)throw new nn(xt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_he(t),t._firestoreClient}function _he(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,u,A){return new tde(o,l,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,GG(A.experimentalLongPollingOptions),A.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new bhe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ag(Ps.fromBase64String(e))}catch(n){throw new nn(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ag(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new nn(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new nn(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new nn(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nr(this._lat,e._lat)||Nr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bhe=/^__.*__$/;class Nhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yf(e,this.data,this.fieldMask,n,this.fieldTransforms):new nx(e,this.data,n,this.fieldTransforms)}}class YG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class hD{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Z2(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(XG(this.Cu)&&Bhe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class jhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||b5(e)}Qu(e,n,r,i=!1){return new hD({Cu:e,methodName:n,qu:r,path:_s.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pD(t){const e=t._freezeSettings(),n=b5(t._databaseId);return new jhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JG(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);gD("Data must be an object, but it was:",s,r);const o=ZG(r,s);let l,u;if(a.merge)l=new Cl(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const A=[];for(const d of a.mergeFields){const f=Rj(e,d,n);if(!s.contains(f))throw new nn(xt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);tq(A,f)||A.push(f)}l=new Cl(A),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Nhe(new Fo(o),l,u)}class _5 extends E5{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _5}}class mD extends E5{_toFieldTransform(e){return new _de(e.path,new zy)}isEqual(e){return e instanceof mD}}function Ihe(t,e,n,r){const i=t.Qu(1,e,n);gD("Data must be an object, but it was:",i,r);const a=[],s=Fo.empty();sp(r,(l,u)=>{const A=vD(e,l,n);u=ks(u);const d=i.Nu(A);if(u instanceof _5)a.push(A);else{const f=sx(u,d);f!=null&&(a.push(A),s.set(A,f))}});const o=new Cl(a);return new YG(s,o,i.fieldTransforms)}function The(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[Rj(e,r,n)],l=[i];if(a.length%2!=0)throw new nn(xt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)o.push(Rj(e,a[f])),l.push(a[f+1]);const u=[],A=Fo.empty();for(let f=o.length-1;f>=0;--f)if(!tq(u,o[f])){const h=o[f];let p=l[f];p=ks(p);const m=s.Nu(h);if(p instanceof _5)u.push(h);else{const v=sx(p,m);v!=null&&(u.push(h),A.set(h,v))}}const d=new Cl(u);return new YG(A,d,s.fieldTransforms)}function khe(t,e,n,r=!1){return sx(n,t.Qu(r?4:3,e))}function sx(t,e){if(eq(t=ks(t)))return gD("Unsupported field value:",e,t),ZG(t,e);if(t instanceof E5)return function(r,i){if(!XG(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=sx(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=ks(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cde(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ta.fromDate(r);return{timestampValue:Y2(i.serializer,a)}}if(r instanceof Ta){const a=new Ta(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Y2(i.serializer,a)}}if(r instanceof dD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ag)return{bytesValue:wG(i.serializer,r._byteString)};if(r instanceof Vo){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:JP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fD)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return qP(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${C5(r)}`)}(t,e)}function ZG(t,e){const n={};return XW(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sp(t,(r,i)=>{const a=sx(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function eq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ta||t instanceof dD||t instanceof Ag||t instanceof Vo||t instanceof E5||t instanceof fD)}function gD(t,e,n){if(!eq(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C5(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Rj(t,e,n){if((e=ks(e))instanceof S5)return e._internalPath;if(typeof e=="string")return vD(t,e);throw Z2("Field path arguments must be of type string or ",t,!1,void 0,n)}const Phe=new RegExp("[~\\*/\\[\\]]");function vD(t,e,n){if(e.search(Phe)>=0)throw Z2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new S5(...e.split("."))._internalPath}catch{throw Z2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Z2(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new nn(xt.INVALID_ARGUMENT,o+t+l)}function tq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dhe extends nq{data(){return super.data()}}function yD(t,e){return typeof e=="string"?vD(t,e):e instanceof S5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ohe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new nn(xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bD{}class Fhe extends bD{}function Lhe(t,e,...n){let r=[];e instanceof bD&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof xD).length,o=a.filter(l=>l instanceof B5).length;if(s>1||s>0&&o>0)throw new nn(xt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class B5 extends Fhe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new B5(e,n,r)}_apply(e){const n=this._parse(e);return rq(e._query,n),new a0(e.firestore,e.converter,jj(e._query,n))}_parse(e){const n=pD(e.firestore);return function(a,s,o,l,u,A,d){let f;if(u.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nn(xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){wR(d,A);const h=[];for(const p of d)h.push(xR(l,a,p));f={arrayValue:{values:h}}}else f=xR(l,a,d)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||wR(d,A),f=khe(o,s,d,A==="in"||A==="not-in");return Ia.create(u,A,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mhe(t,e,n){const r=e,i=yD("where",t);return B5._create(i,r,n)}class xD extends bD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xD(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)rq(s,l),s=jj(s,l)}(e._query,n),new a0(e.firestore,e.converter,jj(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xR(t,e,n){if(typeof(n=ks(n))=="string"){if(n==="")throw new nn(xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sG(e)&&n.indexOf("/")!==-1)throw new nn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Si.fromString(n));if(!wn.isDocumentKey(r))throw new nn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QM(t,new wn(r))}if(n instanceof Vo)return QM(t,n._key);throw new nn(xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C5(n)}.`)}function wR(t,e){if(!Array.isArray(t)||t.length===0)throw new nn(xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rq(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new nn(xt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nn(xt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Rhe{convertValue(e,n="none"){switch(zh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sp(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ha(s.doubleValue));return new fD(a)}convertGeoPoint(e){return new dD(ha(e.latitude),ha(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uy(e));default:return null}}convertTimestamp(e){const n=of(e);return new Ta(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Si.fromString(e);Kr(NG(r));const i=new Qy(r.get(1),r.get(3)),a=new wn(r.popFirst(5));return i.isEqual(n)||RA(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aq extends nq{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ww extends aq{data(e={}){return super.data(e)}}class Uhe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ww(this._firestore,this._userDataWriter,r.key,r,new gv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new nn(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Ww(i._firestore,i._userDataWriter,o.doc.key,o.doc,new gv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Ww(i._firestore,i._userDataWriter,o.doc.key,o.doc,new gv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,A=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),A=s.indexOf(o.doc.key)),{type:Qhe(o.type),doc:l,oldIndex:u,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Qhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}class sq extends Rhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ag(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vo(this.firestore,null,n)}}function Uj(t,e,n){t=_h(t,Vo);const r=_h(t.firestore,ug),i=iq(t.converter,e,n);return wD(r,[JG(pD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_l.none())])}function Ff(t){return wD(_h(t.firestore,ug),[new v5(t._key,_l.none())])}function CR(t,...e){var n,r,i;t=ks(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bR(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bR(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,A;if(t instanceof Vo)u=_h(t.firestore,ug),A=GP(t._key.path),l={next:d=>{e[s]&&e[s](Hhe(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=_h(t,a0);u=_h(d.firestore,ug),A=d._query;const f=new sq(u);l={next:h=>{e[s]&&e[s](new Uhe(u,f,d,h))},error:e[s+1],complete:e[s+2]},Ohe(t._query)}return function(f,h,p,m){const v=new yhe(m),g=new the(h,v,p);return f.asyncQueue.enqueueAndForget(async()=>Xfe(await hR(f),g)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>Jfe(await hR(f),g))}}(AD(u),A,o,l)}function wD(t,e){return function(r,i){const a=new Eh;return r.asyncQueue.enqueueAndForget(async()=>Ahe(await whe(r),i,a)),a.promise}(AD(t),e)}function Hhe(t,e,n){const r=n.docs.get(e._key),i=new sq(t);return new aq(t,i,e._key,r,new gv(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zhe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pD(e)}set(e,n,r){this._verifyNotCommitted();const i=oB(e,this._firestore),a=iq(i.converter,n,r),s=JG(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,_l.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=oB(e,this._firestore);let s;return s=typeof(n=ks(n))=="string"||n instanceof S5?The(this._dataReader,"WriteBatch.update",a._key,n,r,i):Ihe(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,_l.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=oB(e,this._firestore);return this._mutations=this._mutations.concat(new v5(n._key,_l.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nn(xt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oB(t,e){if((t=ks(t)).firestore!==e)throw new nn(xt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function SR(){return new mD("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){return AD(t=_h(t,ug)),new zhe(t,e=>wD(t,e))}(function(e,n=!0){(function(i){n0=i})(A5),rg(new Uh("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new ug(new UAe(r.getProvider("auth-internal")),new VAe(r.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new nn(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qy(u.options.projectId,A)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Xd(FM,"4.7.3",e),Xd(FM,"4.7.3","esm2017")})();const Vhe={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},oq=vue(Vhe),dg=AAe(oq,{persistence:jAe}),xi=Ehe(oq,{}),lq=P.createContext({currentUser:null,isLoading:!0}),cq=()=>P.useContext(lq),$he=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0);P.useEffect(()=>_Ae(dg,o=>{n(o),setTimeout(()=>i(!1),200)}),[]);const a=P.useMemo(()=>({currentUser:e,isLoading:r}),[e,r]);return c.jsx(lq.Provider,{value:a,children:t})};var uq={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tm,function(){var n=function(S,k){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,V){U.__proto__=V}||function(U,V){for(var G in V)Object.prototype.hasOwnProperty.call(V,G)&&(U[G]=V[G])})(S,k)},r=function(){return(r=Object.assign||function(S){for(var k,U=1,V=arguments.length;U<V;U++)for(var G in k=arguments[U])Object.prototype.hasOwnProperty.call(k,G)&&(S[G]=k[G]);return S}).apply(this,arguments)};function i(S,k,U){for(var V,G=0,re=k.length;G<re;G++)!V&&G in k||((V=V||Array.prototype.slice.call(k,0,G))[G]=k[G]);return S.concat(V||Array.prototype.slice.call(k))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tm,s=Object.keys,o=Array.isArray;function l(S,k){return typeof k!="object"||s(k).forEach(function(U){S[U]=k[U]}),S}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var u=Object.getPrototypeOf,A={}.hasOwnProperty;function d(S,k){return A.call(S,k)}function f(S,k){typeof k=="function"&&(k=k(u(S))),(typeof Reflect>"u"?s:Reflect.ownKeys)(k).forEach(function(U){p(S,U,k[U])})}var h=Object.defineProperty;function p(S,k,U,V){h(S,k,l(U&&d(U,"get")&&typeof U.get=="function"?{get:U.get,set:U.set,configurable:!0}:{value:U,configurable:!0,writable:!0},V))}function m(S){return{from:function(k){return S.prototype=Object.create(k.prototype),p(S.prototype,"constructor",S),{extend:f.bind(null,S.prototype)}}}}var v=Object.getOwnPropertyDescriptor,g=[].slice;function y(S,k,U){return g.call(S,k,U)}function x(S,k){return k(S)}function C(S){if(!S)throw new Error("Assertion Failed")}function E(S){a.setImmediate?setImmediate(S):setTimeout(S,0)}function j(S,k){if(typeof k=="string"&&d(S,k))return S[k];if(!k)return S;if(typeof k!="string"){for(var U=[],V=0,G=k.length;V<G;++V){var re=j(S,k[V]);U.push(re)}return U}var pe=k.indexOf(".");if(pe!==-1){var Ce=S[k.substr(0,pe)];return Ce==null?void 0:j(Ce,k.substr(pe+1))}}function _(S,k,U){if(S&&k!==void 0&&!("isFrozen"in Object&&Object.isFrozen(S)))if(typeof k!="string"&&"length"in k){C(typeof U!="string"&&"length"in U);for(var V=0,G=k.length;V<G;++V)_(S,k[V],U[V])}else{var re,pe,Ce=k.indexOf(".");Ce!==-1?(re=k.substr(0,Ce),(pe=k.substr(Ce+1))===""?U===void 0?o(S)&&!isNaN(parseInt(re))?S.splice(re,1):delete S[re]:S[re]=U:_(Ce=!(Ce=S[re])||!d(S,re)?S[re]={}:Ce,pe,U)):U===void 0?o(S)&&!isNaN(parseInt(k))?S.splice(k,1):delete S[k]:S[k]=U}}function B(S){var k,U={};for(k in S)d(S,k)&&(U[k]=S[k]);return U}var N=[].concat;function D(S){return N.apply([],S)}var Ut="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(S){return["Int","Uint","Float"].map(function(k){return k+S+"Array"})}))).filter(function(S){return a[S]}),T=new Set(Ut.map(function(S){return a[S]})),O=null;function L(S){return O=new WeakMap,S=function k(U){if(!U||typeof U!="object")return U;var V=O.get(U);if(V)return V;if(o(U)){V=[],O.set(U,V);for(var G=0,re=U.length;G<re;++G)V.push(k(U[G]))}else if(T.has(U.constructor))V=U;else{var pe,Ce=u(U);for(pe in V=Ce===Object.prototype?{}:Object.create(Ce),O.set(U,V),U)d(U,pe)&&(V[pe]=k(U[pe]))}return V}(S),O=null,S}var H={}.toString;function q(S){return H.call(S).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ee=typeof Y=="symbol"?function(S){var k;return S!=null&&(k=S[Y])&&k.apply(S)}:function(){return null};function K(S,k){return k=S.indexOf(k),0<=k&&S.splice(k,1),0<=k}var te={};function le(S){var k,U,V,G;if(arguments.length===1){if(o(S))return S.slice();if(this===te&&typeof S=="string")return[S];if(G=ee(S)){for(U=[];!(V=G.next()).done;)U.push(V.value);return U}if(S==null)return[S];if(typeof(k=S.length)!="number")return[S];for(U=new Array(k);k--;)U[k]=S[k];return U}for(k=arguments.length,U=new Array(k);k--;)U[k]=arguments[k];return U}var se=typeof Symbol<"u"?function(S){return S[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Zt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oa=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Zt),M={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(S,k){this.name=S,this.message=k}function J(S,k){return S+". Errors: "+Object.keys(k).map(function(U){return k[U].toString()}).filter(function(U,V,G){return G.indexOf(U)===V}).join(`
`)}function ne(S,k,U,V){this.failures=k,this.failedKeys=V,this.successCount=U,this.message=J(S,k)}function he(S,k){this.name="BulkError",this.failures=Object.keys(k).map(function(U){return k[U]}),this.failuresByPos=k,this.message=J(S,this.failures)}m($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(ne).from($),m(he).from($);var we=oa.reduce(function(S,k){return S[k]=k+"Error",S},{}),Se=$,Ae=oa.reduce(function(S,k){var U=k+"Error";function V(G,re){this.name=U,G?typeof G=="string"?(this.message="".concat(G).concat(re?`
 `+re:""),this.inner=re||null):typeof G=="object"&&(this.message="".concat(G.name," ").concat(G.message),this.inner=G):(this.message=M[k]||U,this.inner=null)}return m(V).from(Se),S[k]=V,S},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var ge=Zt.reduce(function(S,k){return S[k+"Error"]=Ae[k],S},{}),xe=oa.reduce(function(S,k){return["Syntax","Type","Range"].indexOf(k)===-1&&(S[k+"Error"]=Ae[k]),S},{});function ae(){}function Ve(S){return S}function Oe(S,k){return S==null||S===Ve?k:function(U){return k(S(U))}}function fe(S,k){return function(){S.apply(this,arguments),k.apply(this,arguments)}}function $e(S,k){return S===ae?k:function(){var U=S.apply(this,arguments);U!==void 0&&(arguments[0]=U);var V=this.onsuccess,G=this.onerror;this.onsuccess=null,this.onerror=null;var re=k.apply(this,arguments);return V&&(this.onsuccess=this.onsuccess?fe(V,this.onsuccess):V),G&&(this.onerror=this.onerror?fe(G,this.onerror):G),re!==void 0?re:U}}function ht(S,k){return S===ae?k:function(){S.apply(this,arguments);var U=this.onsuccess,V=this.onerror;this.onsuccess=this.onerror=null,k.apply(this,arguments),U&&(this.onsuccess=this.onsuccess?fe(U,this.onsuccess):U),V&&(this.onerror=this.onerror?fe(V,this.onerror):V)}}function vt(S,k){return S===ae?k:function(U){var V=S.apply(this,arguments);l(U,V);var G=this.onsuccess,re=this.onerror;return this.onsuccess=null,this.onerror=null,U=k.apply(this,arguments),G&&(this.onsuccess=this.onsuccess?fe(G,this.onsuccess):G),re&&(this.onerror=this.onerror?fe(re,this.onerror):re),V===void 0?U===void 0?void 0:U:l(V,U)}}function Ye(S,k){return S===ae?k:function(){return k.apply(this,arguments)!==!1&&S.apply(this,arguments)}}function Dt(S,k){return S===ae?k:function(){var U=S.apply(this,arguments);if(U&&typeof U.then=="function"){for(var V=this,G=arguments.length,re=new Array(G);G--;)re[G]=arguments[G];return U.then(function(){return k.apply(V,re)})}return k.apply(this,arguments)}}xe.ModifyError=ne,xe.DexieError=$,xe.BulkError=he;var mt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ct(S){mt=S}var jt={},Xt=100,Ut=typeof Promise>"u"?[]:function(){var S=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[S,u(S),S];var k=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[k,u(k),S]}(),Zt=Ut[0],oa=Ut[1],Ut=Ut[2],oa=oa&&oa.then,rn=Zt&&Zt.constructor,st=!!Ut,bt=function(S,k){Vt.push([S,k]),tt&&(queueMicrotask(Pa),tt=!1)},yt=!0,tt=!0,Qt=[],ft=[],gt=Ve,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ae,pgp:!1,env:{},finalize:ae},St=Ft,Vt=[],hn=0,cn=[];function wt(S){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var k=this._PSD=St;if(typeof S!="function"){if(S!==jt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Kt(this,this._value))}this._state=null,this._value=null,++k.ref,function U(V,G){try{G(function(re){if(V._state===null){if(re===V)throw new TypeError("A promise cannot be resolved with itself.");var pe=V._lib&&Fe();re&&typeof re.then=="function"?U(V,function(Ce,Ne){re instanceof wt?re._then(Ce,Ne):re.then(Ce,Ne)}):(V._state=!0,V._value=re,En(V)),pe&&Pe()}},Kt.bind(null,V))}catch(re){Kt(V,re)}}(this,S)}var Zn={get:function(){var S=St,k=pn;function U(V,G){var re=this,pe=!S.global&&(S!==St||k!==pn),Ce=pe&&!vr(),Ne=new wt(function(Te,Le){Vi(re,new gn(Xo(V,S,pe,Ce),Xo(G,S,pe,Ce),Te,Le,S))});return this._consoleTask&&(Ne._consoleTask=this._consoleTask),Ne}return U.prototype=jt,U},set:function(S){p(this,"then",S&&S.prototype===jt?Zn:{get:function(){return S},set:Zn.set})}};function gn(S,k,U,V,G){this.onFulfilled=typeof S=="function"?S:null,this.onRejected=typeof k=="function"?k:null,this.resolve=U,this.reject=V,this.psd=G}function Kt(S,k){var U,V;ft.push(k),S._state===null&&(U=S._lib&&Fe(),k=gt(k),S._state=!1,S._value=k,V=S,Qt.some(function(G){return G._value===V._value})||Qt.push(V),En(S),U&&Pe())}function En(S){var k=S._listeners;S._listeners=[];for(var U=0,V=k.length;U<V;++U)Vi(S,k[U]);var G=S._PSD;--G.ref||G.finalize(),hn===0&&(++hn,bt(function(){--hn==0&&We()},[]))}function Vi(S,k){if(S._state!==null){var U=S._state?k.onFulfilled:k.onRejected;if(U===null)return(S._state?k.resolve:k.reject)(S._value);++k.psd.ref,++hn,bt(Ir,[U,S,k])}else S._listeners.push(k)}function Ir(S,k,U){try{var V,G=k._value;!k._state&&ft.length&&(ft=[]),V=mt&&k._consoleTask?k._consoleTask.run(function(){return S(G)}):S(G),k._state||ft.indexOf(G)!==-1||function(re){for(var pe=Qt.length;pe;)if(Qt[--pe]._value===re._value)return Qt.splice(pe,1)}(k),U.resolve(V)}catch(re){U.reject(re)}finally{--hn==0&&We(),--U.psd.ref||U.psd.finalize()}}function Pa(){Li(Ft,function(){Fe()&&Pe()})}function Fe(){var S=yt;return tt=yt=!1,S}function Pe(){var S,k,U;do for(;0<Vt.length;)for(S=Vt,Vt=[],U=S.length,k=0;k<U;++k){var V=S[k];V[0].apply(null,V[1])}while(0<Vt.length);tt=yt=!0}function We(){var S=Qt;Qt=[],S.forEach(function(V){V._PSD.onunhandled.call(null,V._value,V)});for(var k=cn.slice(0),U=k.length;U;)k[--U]()}function Et(S){return new wt(jt,!1,S)}function ut(S,k){var U=St;return function(){var V=Fe(),G=St;try{return Jr(U,!0),S.apply(this,arguments)}catch(re){k&&k(re)}finally{Jr(G,!1),V&&Pe()}}}f(wt.prototype,{then:Zn,_then:function(S,k){Vi(this,new gn(null,null,S,k,St))},catch:function(S){if(arguments.length===1)return this.then(null,S);var k=S,U=arguments[1];return typeof k=="function"?this.then(null,function(V){return(V instanceof k?U:Et)(V)}):this.then(null,function(V){return(V&&V.name===k?U:Et)(V)})},finally:function(S){return this.then(function(k){return wt.resolve(S()).then(function(){return k})},function(k){return wt.resolve(S()).then(function(){return Et(k)})})},timeout:function(S,k){var U=this;return S<1/0?new wt(function(V,G){var re=setTimeout(function(){return G(new Ae.Timeout(k))},S);U.then(V,G).finally(clearTimeout.bind(null,re))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(wt.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=xa(),f(wt,{all:function(){var S=le.apply(null,arguments).map(Xn);return new wt(function(k,U){S.length===0&&k([]);var V=S.length;S.forEach(function(G,re){return wt.resolve(G).then(function(pe){S[re]=pe,--V||k(S)},U)})})},resolve:function(S){return S instanceof wt?S:S&&typeof S.then=="function"?new wt(function(k,U){S.then(k,U)}):new wt(jt,!0,S)},reject:Et,race:function(){var S=le.apply(null,arguments).map(Xn);return new wt(function(k,U){S.map(function(V){return wt.resolve(V).then(k,U)})})},PSD:{get:function(){return St},set:function(S){return St=S}},totalEchoes:{get:function(){return pn}},newPSD:gr,usePSD:Li,scheduler:{get:function(){return bt},set:function(S){bt=S}},rejectionMapper:{get:function(){return gt},set:function(S){gt=S}},follow:function(S,k){return new wt(function(U,V){return gr(function(G,re){var pe=St;pe.unhandleds=[],pe.onunhandled=re,pe.finalize=fe(function(){var Ce,Ne=this;Ce=function(){Ne.unhandleds.length===0?G():re(Ne.unhandleds[0])},cn.push(function Te(){Ce(),cn.splice(cn.indexOf(Te),1)}),++hn,bt(function(){--hn==0&&We()},[])},pe.finalize),S()},k,U,V)})}}),rn&&(rn.allSettled&&p(wt,"allSettled",function(){var S=le.apply(null,arguments).map(Xn);return new wt(function(k){S.length===0&&k([]);var U=S.length,V=new Array(U);S.forEach(function(G,re){return wt.resolve(G).then(function(pe){return V[re]={status:"fulfilled",value:pe}},function(pe){return V[re]={status:"rejected",reason:pe}}).then(function(){return--U||k(V)})})})}),rn.any&&typeof AggregateError<"u"&&p(wt,"any",function(){var S=le.apply(null,arguments).map(Xn);return new wt(function(k,U){S.length===0&&U(new AggregateError([]));var V=S.length,G=new Array(V);S.forEach(function(re,pe){return wt.resolve(re).then(function(Ce){return k(Ce)},function(Ce){G[pe]=Ce,--V||U(new AggregateError(G))})})})}),rn.withResolvers&&(wt.withResolvers=rn.withResolvers));var qt={awaits:0,echoes:0,id:0},bn=0,Gn=[],Rt=0,pn=0,Xr=0;function gr(S,k,U,V){var G=St,re=Object.create(G);return re.parent=G,re.ref=0,re.global=!1,re.id=++Xr,Ft.env,re.env=st?{Promise:wt,PromiseProp:{value:wt,configurable:!0,writable:!0},all:wt.all,race:wt.race,allSettled:wt.allSettled,any:wt.any,resolve:wt.resolve,reject:wt.reject}:{},k&&l(re,k),++G.ref,re.finalize=function(){--this.parent.ref||this.parent.finalize()},V=Li(re,S,U,V),re.ref===0&&re.finalize(),V}function Or(){return qt.id||(qt.id=++bn),++qt.awaits,qt.echoes+=Xt,qt.id}function vr(){return!!qt.awaits&&(--qt.awaits==0&&(qt.id=0),qt.echoes=qt.awaits*Xt,!0)}function Xn(S){return qt.echoes&&S&&S.constructor===rn?(Or(),S.then(function(k){return vr(),k},function(k){return vr(),Tr(k)})):S}function yr(){var S=Gn[Gn.length-1];Gn.pop(),Jr(S,!1)}function Jr(S,k){var U,V=St;(k?!qt.echoes||Rt++&&S===St:!Rt||--Rt&&S===St)||queueMicrotask(k?(function(G){++pn,qt.echoes&&--qt.echoes!=0||(qt.echoes=qt.awaits=qt.id=0),Gn.push(St),Jr(G,!0)}).bind(null,S):yr),S!==St&&(St=S,V===Ft&&(Ft.env=xa()),st&&(U=Ft.env.Promise,k=S.env,(V.global||S.global)&&(Object.defineProperty(a,"Promise",k.PromiseProp),U.all=k.all,U.race=k.race,U.resolve=k.resolve,U.reject=k.reject,k.allSettled&&(U.allSettled=k.allSettled),k.any&&(U.any=k.any))))}function xa(){var S=a.Promise;return st?{Promise:S,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:S.all,race:S.race,allSettled:S.allSettled,any:S.any,resolve:S.resolve,reject:S.reject}:{}}function Li(S,k,U,V,G){var re=St;try{return Jr(S,!0),k(U,V,G)}finally{Jr(re,!1)}}function Xo(S,k,U,V){return typeof S!="function"?S:function(){var G=St;U&&Or(),Jr(k,!0);try{return S.apply(this,arguments)}finally{Jr(G,!1),V&&queueMicrotask(vr)}}}function Jo(S){Promise===rn&&qt.echoes===0?Rt===0?S():enqueueNativeMicroTask(S):setTimeout(S,0)}(""+oa).indexOf("[native code]")===-1&&(Or=vr=ae);var Tr=wt.reject,Zo="",wa="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hu="String expected.",oo=[],Mi="__dbnames",fs="readonly",zl="readwrite";function lo(S,k){return S?k?function(){return S.apply(this,arguments)&&k.apply(this,arguments)}:S:k}var pu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Vl(S){return typeof S!="string"||/\./.test(S)?function(k){return k}:function(k){return k[S]===void 0&&S in k&&delete(k=L(k))[S],k}}function mu(){throw Ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pn(S,k){try{var U=gu(S),V=gu(k);if(U!==V)return U==="Array"?1:V==="Array"?-1:U==="binary"?1:V==="binary"?-1:U==="string"?1:V==="string"?-1:U==="Date"?1:V!=="Date"?NaN:-1;switch(U){case"number":case"Date":case"string":return k<S?1:S<k?-1:0;case"binary":return function(G,re){for(var pe=G.length,Ce=re.length,Ne=pe<Ce?pe:Ce,Te=0;Te<Ne;++Te)if(G[Te]!==re[Te])return G[Te]<re[Te]?-1:1;return pe===Ce?0:pe<Ce?-1:1}(ii(S),ii(k));case"Array":return function(G,re){for(var pe=G.length,Ce=re.length,Ne=pe<Ce?pe:Ce,Te=0;Te<Ne;++Te){var Le=Pn(G[Te],re[Te]);if(Le!==0)return Le}return pe===Ce?0:pe<Ce?-1:1}(S,k)}}catch{}return NaN}function gu(S){var k=typeof S;return k!="object"?k:ArrayBuffer.isView(S)?"binary":(S=q(S),S==="ArrayBuffer"?"binary":S)}function ii(S){return S instanceof Uint8Array?S:ArrayBuffer.isView(S)?new Uint8Array(S.buffer,S.byteOffset,S.byteLength):new Uint8Array(S)}function $l(S,k,U){var V=S.schema.yProps;return V?(k&&0<U.numFailures&&(k=k.filter(function(G,re){return!U.failures[re]})),Promise.all(V.map(function(G){return G=G.updatesTable,k?S.db.table(G).where("k").anyOf(k).delete():S.db.table(G).clear()})).then(function(){return U})):U}var eA=(er.prototype._trans=function(S,k,U){var V=this._tx||St.trans,G=this.name,re=mt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(S==="readonly"?"read":"write"," ").concat(this.name));function pe(Te,Le,Ee){if(!Ee.schema[G])throw new Ae.NotFound("Table "+G+" not part of transaction");return k(Ee.idbtrans,Ee)}var Ce=Fe();try{var Ne=V&&V.db._novip===this.db._novip?V===St.trans?V._promise(S,pe,U):gr(function(){return V._promise(S,pe,U)},{trans:V,transless:St.transless||St}):function Te(Le,Ee,Ie,_e){if(Le.idbdb&&(Le._state.openComplete||St.letThrough||Le._vip)){var je=Le._createTransaction(Ee,Ie,Le._dbSchema);try{je.create(),Le._state.PR1398_maxLoop=3}catch(De){return De.name===we.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Te(Le,Ee,Ie,_e)})):Tr(De)}return je._promise(Ee,function(De,Re){return gr(function(){return St.trans=je,_e(De,Re,je)})}).then(function(De){if(Ee==="readwrite")try{je.idbtrans.commit()}catch{}return Ee==="readonly"?De:je._completion.then(function(){return De})})}if(Le._state.openComplete)return Tr(new Ae.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return Tr(new Ae.DatabaseClosed);Le.open().catch(ae)}return Le._state.dbReadyPromise.then(function(){return Te(Le,Ee,Ie,_e)})}(this.db,S,[this.name],pe);return re&&(Ne._consoleTask=re,Ne=Ne.catch(function(Te){return console.trace(Te),Tr(Te)})),Ne}finally{Ce&&Pe()}},er.prototype.get=function(S,k){var U=this;return S&&S.constructor===Object?this.where(S).first(k):S==null?Tr(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(V){return U.core.get({trans:V,key:S}).then(function(G){return U.hook.reading.fire(G)})}).then(k)},er.prototype.where=function(S){if(typeof S=="string")return new this.db.WhereClause(this,S);if(o(S))return new this.db.WhereClause(this,"[".concat(S.join("+"),"]"));var k=s(S);if(k.length===1)return this.where(k[0]).equals(S[k[0]]);var U=this.schema.indexes.concat(this.schema.primKey).filter(function(Ce){if(Ce.compound&&k.every(function(Te){return 0<=Ce.keyPath.indexOf(Te)})){for(var Ne=0;Ne<k.length;++Ne)if(k.indexOf(Ce.keyPath[Ne])===-1)return!1;return!0}return!1}).sort(function(Ce,Ne){return Ce.keyPath.length-Ne.keyPath.length})[0];if(U&&this.db._maxKey!==Zo){var re=U.keyPath.slice(0,k.length);return this.where(re).equals(re.map(function(Ne){return S[Ne]}))}!U&&mt&&console.warn("The query ".concat(JSON.stringify(S)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(k.join("+"),"]"));var V=this.schema.idxByName;function G(Ce,Ne){return Pn(Ce,Ne)===0}var pe=k.reduce(function(Ee,Ne){var Te=Ee[0],Le=Ee[1],Ee=V[Ne],Ie=S[Ne];return[Te||Ee,Te||!Ee?lo(Le,Ee&&Ee.multi?function(_e){return _e=j(_e,Ne),o(_e)&&_e.some(function(je){return G(Ie,je)})}:function(_e){return G(Ie,j(_e,Ne))}):Le]},[null,null]),re=pe[0],pe=pe[1];return re?this.where(re.name).equals(S[re.keyPath]).filter(pe):U?this.filter(pe):this.where(k).equals("")},er.prototype.filter=function(S){return this.toCollection().and(S)},er.prototype.count=function(S){return this.toCollection().count(S)},er.prototype.offset=function(S){return this.toCollection().offset(S)},er.prototype.limit=function(S){return this.toCollection().limit(S)},er.prototype.each=function(S){return this.toCollection().each(S)},er.prototype.toArray=function(S){return this.toCollection().toArray(S)},er.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},er.prototype.orderBy=function(S){return new this.db.Collection(new this.db.WhereClause(this,o(S)?"[".concat(S.join("+"),"]"):S))},er.prototype.reverse=function(){return this.toCollection().reverse()},er.prototype.mapToClass=function(S){var k,U=this.db,V=this.name;function G(){return k!==null&&k.apply(this,arguments)||this}(this.schema.mappedClass=S).prototype instanceof mu&&(function(Ne,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Class extends value "+String(Te)+" is not a constructor or null");function Le(){this.constructor=Ne}n(Ne,Te),Ne.prototype=Te===null?Object.create(Te):(Le.prototype=Te.prototype,new Le)}(G,k=S),Object.defineProperty(G.prototype,"db",{get:function(){return U},enumerable:!1,configurable:!0}),G.prototype.table=function(){return V},S=G);for(var re=new Set,pe=S.prototype;pe;pe=u(pe))Object.getOwnPropertyNames(pe).forEach(function(Ne){return re.add(Ne)});function Ce(Ne){if(!Ne)return Ne;var Te,Le=Object.create(S.prototype);for(Te in Ne)if(!re.has(Te))try{Le[Te]=Ne[Te]}catch{}return Le}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ce,this.hook("reading",Ce),S},er.prototype.defineClass=function(){return this.mapToClass(function(S){l(this,S)})},er.prototype.add=function(S,k){var U=this,V=this.schema.primKey,G=V.auto,re=V.keyPath,pe=S;return re&&G&&(pe=Vl(re)(S)),this._trans("readwrite",function(Ce){return U.core.mutate({trans:Ce,type:"add",keys:k!=null?[k]:null,values:[pe]})}).then(function(Ce){return Ce.numFailures?wt.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(re)try{_(S,re,Ce)}catch{}return Ce})},er.prototype.update=function(S,k){return typeof S!="object"||o(S)?this.where(":id").equals(S).modify(k):(S=j(S,this.schema.primKey.keyPath),S===void 0?Tr(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(S).modify(k))},er.prototype.put=function(S,k){var U=this,V=this.schema.primKey,G=V.auto,re=V.keyPath,pe=S;return re&&G&&(pe=Vl(re)(S)),this._trans("readwrite",function(Ce){return U.core.mutate({trans:Ce,type:"put",values:[pe],keys:k!=null?[k]:null})}).then(function(Ce){return Ce.numFailures?wt.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(re)try{_(S,re,Ce)}catch{}return Ce})},er.prototype.delete=function(S){var k=this;return this._trans("readwrite",function(U){return k.core.mutate({trans:U,type:"delete",keys:[S]}).then(function(V){return $l(k,[S],V)}).then(function(V){return V.numFailures?wt.reject(V.failures[0]):void 0})})},er.prototype.clear=function(){var S=this;return this._trans("readwrite",function(k){return S.core.mutate({trans:k,type:"deleteRange",range:pu}).then(function(U){return $l(S,null,U)})}).then(function(k){return k.numFailures?wt.reject(k.failures[0]):void 0})},er.prototype.bulkGet=function(S){var k=this;return this._trans("readonly",function(U){return k.core.getMany({keys:S,trans:U}).then(function(V){return V.map(function(G){return k.hook.reading.fire(G)})})})},er.prototype.bulkAdd=function(S,k,U){var V=this,G=Array.isArray(k)?k:void 0,re=(U=U||(G?void 0:k))?U.allKeys:void 0;return this._trans("readwrite",function(pe){var Te=V.schema.primKey,Ce=Te.auto,Te=Te.keyPath;if(Te&&G)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(G&&G.length!==S.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var Ne=S.length,Te=Te&&Ce?S.map(Vl(Te)):S;return V.core.mutate({trans:pe,type:"add",keys:G,values:Te,wantResults:re}).then(function(je){var Ee=je.numFailures,Ie=je.results,_e=je.lastResult,je=je.failures;if(Ee===0)return re?Ie:_e;throw new he("".concat(V.name,".bulkAdd(): ").concat(Ee," of ").concat(Ne," operations failed"),je)})})},er.prototype.bulkPut=function(S,k,U){var V=this,G=Array.isArray(k)?k:void 0,re=(U=U||(G?void 0:k))?U.allKeys:void 0;return this._trans("readwrite",function(pe){var Te=V.schema.primKey,Ce=Te.auto,Te=Te.keyPath;if(Te&&G)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(G&&G.length!==S.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var Ne=S.length,Te=Te&&Ce?S.map(Vl(Te)):S;return V.core.mutate({trans:pe,type:"put",keys:G,values:Te,wantResults:re}).then(function(je){var Ee=je.numFailures,Ie=je.results,_e=je.lastResult,je=je.failures;if(Ee===0)return re?Ie:_e;throw new he("".concat(V.name,".bulkPut(): ").concat(Ee," of ").concat(Ne," operations failed"),je)})})},er.prototype.bulkUpdate=function(S){var k=this,U=this.core,V=S.map(function(pe){return pe.key}),G=S.map(function(pe){return pe.changes}),re=[];return this._trans("readwrite",function(pe){return U.getMany({trans:pe,keys:V,cache:"clone"}).then(function(Ce){var Ne=[],Te=[];S.forEach(function(Ee,Ie){var _e=Ee.key,je=Ee.changes,De=Ce[Ie];if(De){for(var Re=0,He=Object.keys(je);Re<He.length;Re++){var Xe=He[Re],et=je[Xe];if(Xe===k.schema.primKey.keyPath){if(Pn(et,_e)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else _(De,Xe,et)}re.push(Ie),Ne.push(_e),Te.push(De)}});var Le=Ne.length;return U.mutate({trans:pe,type:"put",keys:Ne,values:Te,updates:{keys:V,changeSpecs:G}}).then(function(Ee){var Ie=Ee.numFailures,_e=Ee.failures;if(Ie===0)return Le;for(var je=0,De=Object.keys(_e);je<De.length;je++){var Re,He=De[je],Xe=re[Number(He)];Xe!=null&&(Re=_e[He],delete _e[He],_e[Xe]=Re)}throw new he("".concat(k.name,".bulkUpdate(): ").concat(Ie," of ").concat(Le," operations failed"),_e)})})})},er.prototype.bulkDelete=function(S){var k=this,U=S.length;return this._trans("readwrite",function(V){return k.core.mutate({trans:V,type:"delete",keys:S}).then(function(G){return $l(k,S,G)})}).then(function(pe){var G=pe.numFailures,re=pe.lastResult,pe=pe.failures;if(G===0)return re;throw new he("".concat(k.name,".bulkDelete(): ").concat(G," of ").concat(U," operations failed"),pe)})},er);function er(){}function Ds(S){function k(pe,Ce){if(Ce){for(var Ne=arguments.length,Te=new Array(Ne-1);--Ne;)Te[Ne-1]=arguments[Ne];return U[pe].subscribe.apply(null,Te),S}if(typeof pe=="string")return U[pe]}var U={};k.addEventType=re;for(var V=1,G=arguments.length;V<G;++V)re(arguments[V]);return k;function re(pe,Ce,Ne){if(typeof pe!="object"){var Te;Ce=Ce||Ye;var Le={subscribers:[],fire:Ne=Ne||ae,subscribe:function(Ee){Le.subscribers.indexOf(Ee)===-1&&(Le.subscribers.push(Ee),Le.fire=Ce(Le.fire,Ee))},unsubscribe:function(Ee){Le.subscribers=Le.subscribers.filter(function(Ie){return Ie!==Ee}),Le.fire=Le.subscribers.reduce(Ce,Ne)}};return U[pe]=k[pe]=Le}s(Te=pe).forEach(function(Ee){var Ie=Te[Ee];if(o(Ie))re(Ee,Te[Ee][0],Te[Ee][1]);else{if(Ie!=="asap")throw new Ae.InvalidArgument("Invalid event config");var _e=re(Ee,Ve,function(){for(var je=arguments.length,De=new Array(je);je--;)De[je]=arguments[je];_e.subscribers.forEach(function(Re){E(function(){Re.apply(null,De)})})})}})}}function Ca(S,k){return m(k).from({prototype:S}),k}function Os(S,k){return!(S.filter||S.algorithm||S.or)&&(k?S.justLimit:!S.replayFilter)}function br(S,k){S.filter=lo(S.filter,k)}function Da(S,k,U){var V=S.replayFilter;S.replayFilter=V?function(){return lo(V(),k())}:k,S.justLimit=U&&!V}function el(S,k){if(S.isPrimKey)return k.primaryKey;var U=k.getIndexByKeyPath(S.index);if(!U)throw new Ae.Schema("KeyPath "+S.index+" on object store "+k.name+" is not indexed");return U}function Sc(S,k,U){var V=el(S,k.schema);return k.openCursor({trans:U,values:!S.keysOnly,reverse:S.dir==="prev",unique:!!S.unique,query:{index:V,range:S.range}})}function Ec(S,k,U,V){var G=S.replayFilter?lo(S.filter,S.replayFilter()):S.filter;if(S.or){var re={},pe=function(Ce,Ne,Te){var Le,Ee;G&&!G(Ne,Te,function(Ie){return Ne.stop(Ie)},function(Ie){return Ne.fail(Ie)})||((Ee=""+(Le=Ne.primaryKey))=="[object ArrayBuffer]"&&(Ee=""+new Uint8Array(Le)),d(re,Ee)||(re[Ee]=!0,k(Ce,Ne,Te)))};return Promise.all([S.or._iterate(pe,U),qn(Sc(S,V,U),S.algorithm,pe,!S.keysOnly&&S.valueMapper)])}return qn(Sc(S,V,U),lo(S.algorithm,G),k,!S.keysOnly&&S.valueMapper)}function qn(S,k,U,V){var G=ut(V?function(re,pe,Ce){return U(V(re),pe,Ce)}:U);return S.then(function(re){if(re)return re.start(function(){var pe=function(){return re.continue()};k&&!k(re,function(Ce){return pe=Ce},function(Ce){re.stop(Ce),pe=ae},function(Ce){re.fail(Ce),pe=ae})||G(re.value,re,function(Ce){return pe=Ce}),pe()})})}var co=(tl.prototype.execute=function(S){var k=this["@@propmod"];if(k.add!==void 0){var U=k.add;if(o(U))return i(i([],o(S)?S:[],!0),U).sort();if(typeof U=="number")return(Number(S)||0)+U;if(typeof U=="bigint")try{return BigInt(S)+U}catch{return BigInt(0)+U}throw new TypeError("Invalid term ".concat(U))}if(k.remove!==void 0){var V=k.remove;if(o(V))return o(S)?S.filter(function(G){return!V.includes(G)}).sort():[];if(typeof V=="number")return Number(S)-V;if(typeof V=="bigint")try{return BigInt(S)-V}catch{return BigInt(0)-V}throw new TypeError("Invalid subtrahend ".concat(V))}return U=(U=k.replacePrefix)===null||U===void 0?void 0:U[0],U&&typeof S=="string"&&S.startsWith(U)?k.replacePrefix[1]+S.substring(U.length):S},tl);function tl(S){this["@@propmod"]=S}var Fs=(Wn.prototype._read=function(S,k){var U=this._ctx;return U.error?U.table._trans(null,Tr.bind(null,U.error)):U.table._trans("readonly",S).then(k)},Wn.prototype._write=function(S){var k=this._ctx;return k.error?k.table._trans(null,Tr.bind(null,k.error)):k.table._trans("readwrite",S,"locked")},Wn.prototype._addAlgorithm=function(S){var k=this._ctx;k.algorithm=lo(k.algorithm,S)},Wn.prototype._iterate=function(S,k){return Ec(this._ctx,S,k,this._ctx.table.core)},Wn.prototype.clone=function(S){var k=Object.create(this.constructor.prototype),U=Object.create(this._ctx);return S&&l(U,S),k._ctx=U,k},Wn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Wn.prototype.each=function(S){var k=this._ctx;return this._read(function(U){return Ec(k,S,U,k.table.core)})},Wn.prototype.count=function(S){var k=this;return this._read(function(U){var V=k._ctx,G=V.table.core;if(Os(V,!0))return G.count({trans:U,query:{index:el(V,G.schema),range:V.range}}).then(function(pe){return Math.min(pe,V.limit)});var re=0;return Ec(V,function(){return++re,!1},U,G).then(function(){return re})}).then(S)},Wn.prototype.sortBy=function(S,k){var U=S.split(".").reverse(),V=U[0],G=U.length-1;function re(Ne,Te){return Te?re(Ne[U[Te]],Te-1):Ne[V]}var pe=this._ctx.dir==="next"?1:-1;function Ce(Ne,Te){return Pn(re(Ne,G),re(Te,G))*pe}return this.toArray(function(Ne){return Ne.sort(Ce)}).then(k)},Wn.prototype.toArray=function(S){var k=this;return this._read(function(U){var V=k._ctx;if(V.dir==="next"&&Os(V,!0)&&0<V.limit){var G=V.valueMapper,re=el(V,V.table.core.schema);return V.table.core.query({trans:U,limit:V.limit,values:!0,query:{index:re,range:V.range}}).then(function(Ce){return Ce=Ce.result,G?Ce.map(G):Ce})}var pe=[];return Ec(V,function(Ce){return pe.push(Ce)},U,V.table.core).then(function(){return pe})},S)},Wn.prototype.offset=function(S){var k=this._ctx;return S<=0||(k.offset+=S,Os(k)?Da(k,function(){var U=S;return function(V,G){return U===0||(U===1?--U:G(function(){V.advance(U),U=0}),!1)}}):Da(k,function(){var U=S;return function(){return--U<0}})),this},Wn.prototype.limit=function(S){return this._ctx.limit=Math.min(this._ctx.limit,S),Da(this._ctx,function(){var k=S;return function(U,V,G){return--k<=0&&V(G),0<=k}},!0),this},Wn.prototype.until=function(S,k){return br(this._ctx,function(U,V,G){return!S(U.value)||(V(G),k)}),this},Wn.prototype.first=function(S){return this.limit(1).toArray(function(k){return k[0]}).then(S)},Wn.prototype.last=function(S){return this.reverse().first(S)},Wn.prototype.filter=function(S){var k;return br(this._ctx,function(U){return S(U.value)}),(k=this._ctx).isMatch=lo(k.isMatch,S),this},Wn.prototype.and=function(S){return this.filter(S)},Wn.prototype.or=function(S){return new this.db.WhereClause(this._ctx.table,S,this)},Wn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Wn.prototype.desc=function(){return this.reverse()},Wn.prototype.eachKey=function(S){var k=this._ctx;return k.keysOnly=!k.isMatch,this.each(function(U,V){S(V.key,V)})},Wn.prototype.eachUniqueKey=function(S){return this._ctx.unique="unique",this.eachKey(S)},Wn.prototype.eachPrimaryKey=function(S){var k=this._ctx;return k.keysOnly=!k.isMatch,this.each(function(U,V){S(V.primaryKey,V)})},Wn.prototype.keys=function(S){var k=this._ctx;k.keysOnly=!k.isMatch;var U=[];return this.each(function(V,G){U.push(G.key)}).then(function(){return U}).then(S)},Wn.prototype.primaryKeys=function(S){var k=this._ctx;if(k.dir==="next"&&Os(k,!0)&&0<k.limit)return this._read(function(V){var G=el(k,k.table.core.schema);return k.table.core.query({trans:V,values:!1,limit:k.limit,query:{index:G,range:k.range}})}).then(function(V){return V.result}).then(S);k.keysOnly=!k.isMatch;var U=[];return this.each(function(V,G){U.push(G.primaryKey)}).then(function(){return U}).then(S)},Wn.prototype.uniqueKeys=function(S){return this._ctx.unique="unique",this.keys(S)},Wn.prototype.firstKey=function(S){return this.limit(1).keys(function(k){return k[0]}).then(S)},Wn.prototype.lastKey=function(S){return this.reverse().firstKey(S)},Wn.prototype.distinct=function(){var S=this._ctx,S=S.index&&S.table.schema.idxByName[S.index];if(!S||!S.multi)return this;var k={};return br(this._ctx,function(G){var V=G.primaryKey.toString(),G=d(k,V);return k[V]=!0,!G}),this},Wn.prototype.modify=function(S){var k=this,U=this._ctx;return this._write(function(V){var G,re,pe;pe=typeof S=="function"?S:(G=s(S),re=G.length,function(He){for(var Xe=!1,et=0;et<re;++et){var nt=G[et],_t=S[nt],Lt=j(He,nt);_t instanceof co?(_(He,nt,_t.execute(Lt)),Xe=!0):Lt!==_t&&(_(He,nt,_t),Xe=!0)}return Xe});var Ce=U.table.core,Ee=Ce.schema.primaryKey,Ne=Ee.outbound,Te=Ee.extractKey,Le=200,Ee=k.db._options.modifyChunkSize;Ee&&(Le=typeof Ee=="object"?Ee[Ce.name]||Ee["*"]||200:Ee);function Ie(He,nt){var et=nt.failures,nt=nt.numFailures;je+=He-nt;for(var _t=0,Lt=s(et);_t<Lt.length;_t++){var It=Lt[_t];_e.push(et[It])}}var _e=[],je=0,De=[],Re=S===tA;return k.clone().primaryKeys().then(function(He){function Xe(nt){var _t=Math.min(Le,He.length-nt),Lt=He.slice(nt,nt+_t);return(Re?Promise.resolve([]):Ce.getMany({trans:V,keys:Lt,cache:"immutable"})).then(function(It){var Ot=[],zt=[],Mt=Ne?[]:null,$t=Re?Lt:[];if(!Re)for(var Fn=0;Fn<_t;++Fn){var rr=It[Fn],Tn={value:L(rr),primKey:He[nt+Fn]};pe.call(Tn,Tn.value,Tn)!==!1&&(Tn.value==null?$t.push(He[nt+Fn]):Ne||Pn(Te(rr),Te(Tn.value))===0?(zt.push(Tn.value),Ne&&Mt.push(He[nt+Fn])):($t.push(He[nt+Fn]),Ot.push(Tn.value)))}return Promise.resolve(0<Ot.length&&Ce.mutate({trans:V,type:"add",values:Ot}).then(function(gi){for(var jn in gi.failures)$t.splice(parseInt(jn),1);Ie(Ot.length,gi)})).then(function(){return(0<zt.length||et&&typeof S=="object")&&Ce.mutate({trans:V,type:"put",keys:Mt,values:zt,criteria:et,changeSpec:typeof S!="function"&&S,isAdditionalChunk:0<nt}).then(function(gi){return Ie(zt.length,gi)})}).then(function(){return(0<$t.length||et&&Re)&&Ce.mutate({trans:V,type:"delete",keys:$t,criteria:et,isAdditionalChunk:0<nt}).then(function(gi){return $l(U.table,$t,gi)}).then(function(gi){return Ie($t.length,gi)})}).then(function(){return He.length>nt+_t&&Xe(nt+Le)})})}var et=Os(U)&&U.limit===1/0&&(typeof S!="function"||Re)&&{index:U.index,range:U.range};return Xe(0).then(function(){if(0<_e.length)throw new ne("Error modifying one or more objects",_e,je,De);return He.length})})})},Wn.prototype.delete=function(){var S=this._ctx,k=S.range;return!Os(S)||S.table.schema.yProps||!S.isPrimKey&&k.type!==3?this.modify(tA):this._write(function(U){var V=S.table.core.schema.primaryKey,G=k;return S.table.core.count({trans:U,query:{index:V,range:G}}).then(function(re){return S.table.core.mutate({trans:U,type:"deleteRange",range:G}).then(function(Ne){var Ce=Ne.failures,Ne=Ne.numFailures;if(Ne)throw new ne("Could not delete some values",Object.keys(Ce).map(function(Te){return Ce[Te]}),re-Ne);return re-Ne})})})},Wn);function Wn(){}var tA=function(S,k){return k.value=null};function Tf(S,k){return S<k?-1:S===k?0:1}function kf(S,k){return k<S?-1:S===k?0:1}function ra(S,k,U){return S=S instanceof _c?new S.Collection(S):S,S._ctx.error=new(U||TypeError)(k),S}function Ls(S){return new S.Collection(S,function(){return nl("")}).limit(0)}function Oa(S,k,U,V){var G,re,pe,Ce,Ne,Te,Le,Ee=U.length;if(!U.every(function(je){return typeof je=="string"}))return ra(S,hu);function Ie(je){G=je==="next"?function(Re){return Re.toUpperCase()}:function(Re){return Re.toLowerCase()},re=je==="next"?function(Re){return Re.toLowerCase()}:function(Re){return Re.toUpperCase()},pe=je==="next"?Tf:kf;var De=U.map(function(Re){return{lower:re(Re),upper:G(Re)}}).sort(function(Re,He){return pe(Re.lower,He.lower)});Ce=De.map(function(Re){return Re.upper}),Ne=De.map(function(Re){return Re.lower}),Le=(Te=je)==="next"?"":V}Ie("next"),S=new S.Collection(S,function(){return ia(Ce[0],Ne[Ee-1]+V)}),S._ondirectionchange=function(je){Ie(je)};var _e=0;return S._addAlgorithm(function(je,De,Re){var He=je.key;if(typeof He!="string")return!1;var Xe=re(He);if(k(Xe,Ne,_e))return!0;for(var et=null,nt=_e;nt<Ee;++nt){var _t=function(Lt,It,Ot,zt,Mt,$t){for(var Fn=Math.min(Lt.length,zt.length),rr=-1,Tn=0;Tn<Fn;++Tn){var gi=It[Tn];if(gi!==zt[Tn])return Mt(Lt[Tn],Ot[Tn])<0?Lt.substr(0,Tn)+Ot[Tn]+Ot.substr(Tn+1):Mt(Lt[Tn],zt[Tn])<0?Lt.substr(0,Tn)+zt[Tn]+Ot.substr(Tn+1):0<=rr?Lt.substr(0,rr)+It[rr]+Ot.substr(rr+1):null;Mt(Lt[Tn],gi)<0&&(rr=Tn)}return Fn<zt.length&&$t==="next"?Lt+Ot.substr(Lt.length):Fn<Lt.length&&$t==="prev"?Lt.substr(0,Ot.length):rr<0?null:Lt.substr(0,rr)+zt[rr]+Ot.substr(rr+1)}(He,Xe,Ce[nt],Ne[nt],pe,Te);_t===null&&et===null?_e=nt+1:(et===null||0<pe(et,_t))&&(et=_t)}return De(et!==null?function(){je.continue(et+Le)}:Re),!1}),S}function ia(S,k,U,V){return{type:2,lower:S,upper:k,lowerOpen:U,upperOpen:V}}function nl(S){return{type:1,lower:S,upper:S}}var _c=(Object.defineProperty(tn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),tn.prototype.between=function(S,k,U,V){U=U!==!1,V=V===!0;try{return 0<this._cmp(S,k)||this._cmp(S,k)===0&&(U||V)&&(!U||!V)?Ls(this):new this.Collection(this,function(){return ia(S,k,!U,!V)})}catch{return ra(this,wa)}},tn.prototype.equals=function(S){return S==null?ra(this,wa):new this.Collection(this,function(){return nl(S)})},tn.prototype.above=function(S){return S==null?ra(this,wa):new this.Collection(this,function(){return ia(S,void 0,!0)})},tn.prototype.aboveOrEqual=function(S){return S==null?ra(this,wa):new this.Collection(this,function(){return ia(S,void 0,!1)})},tn.prototype.below=function(S){return S==null?ra(this,wa):new this.Collection(this,function(){return ia(void 0,S,!1,!0)})},tn.prototype.belowOrEqual=function(S){return S==null?ra(this,wa):new this.Collection(this,function(){return ia(void 0,S)})},tn.prototype.startsWith=function(S){return typeof S!="string"?ra(this,hu):this.between(S,S+Zo,!0,!0)},tn.prototype.startsWithIgnoreCase=function(S){return S===""?this.startsWith(S):Oa(this,function(k,U){return k.indexOf(U[0])===0},[S],Zo)},tn.prototype.equalsIgnoreCase=function(S){return Oa(this,function(k,U){return k===U[0]},[S],"")},tn.prototype.anyOfIgnoreCase=function(){var S=le.apply(te,arguments);return S.length===0?Ls(this):Oa(this,function(k,U){return U.indexOf(k)!==-1},S,"")},tn.prototype.startsWithAnyOfIgnoreCase=function(){var S=le.apply(te,arguments);return S.length===0?Ls(this):Oa(this,function(k,U){return U.some(function(V){return k.indexOf(V)===0})},S,Zo)},tn.prototype.anyOf=function(){var S=this,k=le.apply(te,arguments),U=this._cmp;try{k.sort(U)}catch{return ra(this,wa)}if(k.length===0)return Ls(this);var V=new this.Collection(this,function(){return ia(k[0],k[k.length-1])});V._ondirectionchange=function(re){U=re==="next"?S._ascending:S._descending,k.sort(U)};var G=0;return V._addAlgorithm(function(re,pe,Ce){for(var Ne=re.key;0<U(Ne,k[G]);)if(++G===k.length)return pe(Ce),!1;return U(Ne,k[G])===0||(pe(function(){re.continue(k[G])}),!1)}),V},tn.prototype.notEqual=function(S){return this.inAnyRange([[-1/0,S],[S,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},tn.prototype.noneOf=function(){var S=le.apply(te,arguments);if(S.length===0)return new this.Collection(this);try{S.sort(this._ascending)}catch{return ra(this,wa)}var k=S.reduce(function(U,V){return U?U.concat([[U[U.length-1][1],V]]):[[-1/0,V]]},null);return k.push([S[S.length-1],this.db._maxKey]),this.inAnyRange(k,{includeLowers:!1,includeUppers:!1})},tn.prototype.inAnyRange=function(He,k){var U=this,V=this._cmp,G=this._ascending,re=this._descending,pe=this._min,Ce=this._max;if(He.length===0)return Ls(this);if(!He.every(function(Xe){return Xe[0]!==void 0&&Xe[1]!==void 0&&G(Xe[0],Xe[1])<=0}))return ra(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var Ne=!k||k.includeLowers!==!1,Te=k&&k.includeUppers===!0,Le,Ee=G;function Ie(Xe,et){return Ee(Xe[0],et[0])}try{(Le=He.reduce(function(Xe,et){for(var nt=0,_t=Xe.length;nt<_t;++nt){var Lt=Xe[nt];if(V(et[0],Lt[1])<0&&0<V(et[1],Lt[0])){Lt[0]=pe(Lt[0],et[0]),Lt[1]=Ce(Lt[1],et[1]);break}}return nt===_t&&Xe.push(et),Xe},[])).sort(Ie)}catch{return ra(this,wa)}var _e=0,je=Te?function(Xe){return 0<G(Xe,Le[_e][1])}:function(Xe){return 0<=G(Xe,Le[_e][1])},De=Ne?function(Xe){return 0<re(Xe,Le[_e][0])}:function(Xe){return 0<=re(Xe,Le[_e][0])},Re=je,He=new this.Collection(this,function(){return ia(Le[0][0],Le[Le.length-1][1],!Ne,!Te)});return He._ondirectionchange=function(Xe){Ee=Xe==="next"?(Re=je,G):(Re=De,re),Le.sort(Ie)},He._addAlgorithm(function(Xe,et,nt){for(var _t,Lt=Xe.key;Re(Lt);)if(++_e===Le.length)return et(nt),!1;return!je(_t=Lt)&&!De(_t)||(U._cmp(Lt,Le[_e][1])===0||U._cmp(Lt,Le[_e][0])===0||et(function(){Ee===G?Xe.continue(Le[_e][0]):Xe.continue(Le[_e][1])}),!1)}),He},tn.prototype.startsWithAnyOf=function(){var S=le.apply(te,arguments);return S.every(function(k){return typeof k=="string"})?S.length===0?Ls(this):this.inAnyRange(S.map(function(k){return[k,k+Zo]})):ra(this,"startsWithAnyOf() only works with strings")},tn);function tn(){}function aa(S){return ut(function(k){return Bc(k),S(k.target.error),!1})}function Bc(S){S.stopPropagation&&S.stopPropagation(),S.preventDefault&&S.preventDefault()}var Nc="storagemutated",nA="x-storagemutated-1",Zr=Ds(null,Nc),rl=(Ms.prototype._lock=function(){return C(!St.global),++this._reculock,this._reculock!==1||St.global||(St.lockOwnerFor=this),this},Ms.prototype._unlock=function(){if(C(!St.global),--this._reculock==0)for(St.global||(St.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var S=this._blockedFuncs.shift();try{Li(S[1],S[0])}catch{}}return this},Ms.prototype._locked=function(){return this._reculock&&St.lockOwnerFor!==this},Ms.prototype.create=function(S){var k=this;if(!this.mode)return this;var U=this.db.idbdb,V=this.db._state.dbOpenError;if(C(!this.idbtrans),!S&&!U)switch(V&&V.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(V);case"MissingAPIError":throw new Ae.MissingAPI(V.message,V);default:throw new Ae.OpenFailed(V)}if(!this.active)throw new Ae.TransactionInactive;return C(this._completion._state===null),(S=this.idbtrans=S||(this.db.core||U).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ut(function(G){Bc(G),k._reject(S.error)}),S.onabort=ut(function(G){Bc(G),k.active&&k._reject(new Ae.Abort(S.error)),k.active=!1,k.on("abort").fire(G)}),S.oncomplete=ut(function(){k.active=!1,k._resolve(),"mutatedParts"in S&&Zr.storagemutated.fire(S.mutatedParts)}),this},Ms.prototype._promise=function(S,k,U){var V=this;if(S==="readwrite"&&this.mode!=="readwrite")return Tr(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return Tr(new Ae.TransactionInactive);if(this._locked())return new wt(function(re,pe){V._blockedFuncs.push([function(){V._promise(S,k,U).then(re,pe)},St])});if(U)return gr(function(){var re=new wt(function(pe,Ce){V._lock();var Ne=k(pe,Ce,V);Ne&&Ne.then&&Ne.then(pe,Ce)});return re.finally(function(){return V._unlock()}),re._lib=!0,re});var G=new wt(function(re,pe){var Ce=k(re,pe,V);Ce&&Ce.then&&Ce.then(re,pe)});return G._lib=!0,G},Ms.prototype._root=function(){return this.parent?this.parent._root():this},Ms.prototype.waitFor=function(S){var k,U=this._root(),V=wt.resolve(S);U._waitingFor?U._waitingFor=U._waitingFor.then(function(){return V}):(U._waitingFor=V,U._waitingQueue=[],k=U.idbtrans.objectStore(U.storeNames[0]),function re(){for(++U._spinCount;U._waitingQueue.length;)U._waitingQueue.shift()();U._waitingFor&&(k.get(-1/0).onsuccess=re)}());var G=U._waitingFor;return new wt(function(re,pe){V.then(function(Ce){return U._waitingQueue.push(ut(re.bind(null,Ce)))},function(Ce){return U._waitingQueue.push(ut(pe.bind(null,Ce)))}).finally(function(){U._waitingFor===G&&(U._waitingFor=null)})})},Ms.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},Ms.prototype.table=function(S){var k=this._memoizedTables||(this._memoizedTables={});if(d(k,S))return k[S];var U=this.schema[S];if(!U)throw new Ae.NotFound("Table "+S+" not part of transaction");return U=new this.db.Table(S,U,this),U.core=this.db.core.table(S),k[S]=U},Ms);function Ms(){}function Kl(S,k,U,V,G,re,pe,Ce){return{name:S,keyPath:k,unique:U,multi:V,auto:G,compound:re,src:(U&&!pe?"&":"")+(V?"*":"")+(G?"++":"")+Bo(k),type:Ce}}function Bo(S){return typeof S=="string"?S:S?"["+[].join.call(S,"+")+"]":""}function Wl(S,k,U){return{name:S,primKey:k,indexes:U,mappedClass:null,idxByName:(V=function(G){return[G.name,G]},U.reduce(function(G,re,pe){return pe=V(re,pe),pe&&(G[pe[0]]=pe[1]),G},{}))};var V}var Fa=function(S){try{return S.only([[]]),Fa=function(){return[[]]},[[]]}catch{return Fa=function(){return Zo},Zo}};function Rs(S){return S==null?function(){}:typeof S=="string"?(k=S).split(".").length===1?function(U){return U[k]}:function(U){return j(U,k)}:function(U){return j(U,S)};var k}function Gl(S){return[].slice.call(S)}var rA=0;function dr(S){return S==null?":id":typeof S=="string"?S:"[".concat(S.join("+"),"]")}function iA(S,k,Ne){function V(Re){if(Re.type===3)return null;if(Re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _e=Re.lower,je=Re.upper,De=Re.lowerOpen,Re=Re.upperOpen;return _e===void 0?je===void 0?null:k.upperBound(je,!!Re):je===void 0?k.lowerBound(_e,!!De):k.bound(_e,je,!!De,!!Re)}function G(Ie){var _e,je=Ie.name;return{name:je,schema:Ie,mutate:function(De){var Re=De.trans,He=De.type,Xe=De.keys,et=De.values,nt=De.range;return new Promise(function(_t,Lt){_t=ut(_t);var It=Re.objectStore(je),Ot=It.keyPath==null,zt=He==="put"||He==="add";if(!zt&&He!=="delete"&&He!=="deleteRange")throw new Error("Invalid operation type: "+He);var Mt,$t=(Xe||et||{length:1}).length;if(Xe&&et&&Xe.length!==et.length)throw new Error("Given keys array must have same length as given values array.");if($t===0)return _t({numFailures:0,failures:{},results:[],lastResult:void 0});function Fn(Ea){++gi,Bc(Ea)}var rr=[],Tn=[],gi=0;if(He==="deleteRange"){if(nt.type===4)return _t({numFailures:gi,failures:Tn,results:[],lastResult:void 0});nt.type===3?rr.push(Mt=It.clear()):rr.push(Mt=It.delete(V(nt)))}else{var Ot=zt?Ot?[et,Xe]:[et,null]:[Xe,null],jn=Ot[0],Ra=Ot[1];if(zt)for(var Ua=0;Ua<$t;++Ua)rr.push(Mt=Ra&&Ra[Ua]!==void 0?It[He](jn[Ua],Ra[Ua]):It[He](jn[Ua])),Mt.onerror=Fn;else for(Ua=0;Ua<$t;++Ua)rr.push(Mt=It[He](jn[Ua])),Mt.onerror=Fn}function id(Ea){Ea=Ea.target.result,rr.forEach(function(la,Qs){return la.error!=null&&(Tn[Qs]=la.error)}),_t({numFailures:gi,failures:Tn,results:He==="delete"?Xe:rr.map(function(la){return la.result}),lastResult:Ea})}Mt.onerror=function(Ea){Fn(Ea),id(Ea)},Mt.onsuccess=id})},getMany:function(De){var Re=De.trans,He=De.keys;return new Promise(function(Xe,et){Xe=ut(Xe);for(var nt,_t=Re.objectStore(je),Lt=He.length,It=new Array(Lt),Ot=0,zt=0,Mt=function(rr){rr=rr.target,It[rr._pos]=rr.result,++zt===Ot&&Xe(It)},$t=aa(et),Fn=0;Fn<Lt;++Fn)He[Fn]!=null&&((nt=_t.get(He[Fn]))._pos=Fn,nt.onsuccess=Mt,nt.onerror=$t,++Ot);Ot===0&&Xe(It)})},get:function(De){var Re=De.trans,He=De.key;return new Promise(function(Xe,et){Xe=ut(Xe);var nt=Re.objectStore(je).get(He);nt.onsuccess=function(_t){return Xe(_t.target.result)},nt.onerror=aa(et)})},query:(_e=Te,function(De){return new Promise(function(Re,He){Re=ut(Re);var Xe,et,nt,Ot=De.trans,_t=De.values,Lt=De.limit,Mt=De.query,It=Lt===1/0?void 0:Lt,zt=Mt.index,Mt=Mt.range,Ot=Ot.objectStore(je),zt=zt.isPrimaryKey?Ot:Ot.index(zt.name),Mt=V(Mt);if(Lt===0)return Re({result:[]});_e?((It=_t?zt.getAll(Mt,It):zt.getAllKeys(Mt,It)).onsuccess=function($t){return Re({result:$t.target.result})},It.onerror=aa(He)):(Xe=0,et=!_t&&"openKeyCursor"in zt?zt.openKeyCursor(Mt):zt.openCursor(Mt),nt=[],et.onsuccess=function($t){var Fn=et.result;return Fn?(nt.push(_t?Fn.value:Fn.primaryKey),++Xe===Lt?Re({result:nt}):void Fn.continue()):Re({result:nt})},et.onerror=aa(He))})}),openCursor:function(De){var Re=De.trans,He=De.values,Xe=De.query,et=De.reverse,nt=De.unique;return new Promise(function(_t,Lt){_t=ut(_t);var zt=Xe.index,It=Xe.range,Ot=Re.objectStore(je),Ot=zt.isPrimaryKey?Ot:Ot.index(zt.name),zt=et?nt?"prevunique":"prev":nt?"nextunique":"next",Mt=!He&&"openKeyCursor"in Ot?Ot.openKeyCursor(V(It),zt):Ot.openCursor(V(It),zt);Mt.onerror=aa(Lt),Mt.onsuccess=ut(function($t){var Fn,rr,Tn,gi,jn=Mt.result;jn?(jn.___id=++rA,jn.done=!1,Fn=jn.continue.bind(jn),rr=(rr=jn.continuePrimaryKey)&&rr.bind(jn),Tn=jn.advance.bind(jn),gi=function(){throw new Error("Cursor not stopped")},jn.trans=Re,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=ut(Lt),jn.next=function(){var Ra=this,Ua=1;return this.start(function(){return Ua--?Ra.continue():Ra.stop()}).then(function(){return Ra})},jn.start=function(Ra){function Ua(){if(Mt.result)try{Ra()}catch(Ea){jn.fail(Ea)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var id=new Promise(function(Ea,la){Ea=ut(Ea),Mt.onerror=aa(la),jn.fail=la,jn.stop=function(Qs){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=gi,Ea(Qs)}});return Mt.onsuccess=ut(function(Ea){Mt.onsuccess=Ua,Ua()}),jn.continue=Fn,jn.continuePrimaryKey=rr,jn.advance=Tn,Ua(),id},_t(jn)):_t(null)},Lt)})},count:function(De){var Re=De.query,He=De.trans,Xe=Re.index,et=Re.range;return new Promise(function(nt,_t){var Lt=He.objectStore(je),It=Xe.isPrimaryKey?Lt:Lt.index(Xe.name),Lt=V(et),It=Lt?It.count(Lt):It.count();It.onsuccess=ut(function(Ot){return nt(Ot.target.result)}),It.onerror=aa(_t)})}}}var re,pe,Ce,Le=(pe=Ne,Ce=Gl((re=S).objectStoreNames),{schema:{name:re.name,tables:Ce.map(function(Ie){return pe.objectStore(Ie)}).map(function(Ie){var _e=Ie.keyPath,Re=Ie.autoIncrement,je=o(_e),De={},Re={name:Ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_e==null,compound:je,keyPath:_e,autoIncrement:Re,unique:!0,extractKey:Rs(_e)},indexes:Gl(Ie.indexNames).map(function(He){return Ie.index(He)}).map(function(nt){var Xe=nt.name,et=nt.unique,_t=nt.multiEntry,nt=nt.keyPath,_t={name:Xe,compound:o(nt),keyPath:nt,unique:et,multiEntry:_t,extractKey:Rs(nt)};return De[dr(nt)]=_t}),getIndexByKeyPath:function(He){return De[dr(He)]}};return De[":id"]=Re.primaryKey,_e!=null&&(De[dr(_e)]=Re.primaryKey),Re})},hasGetAll:0<Ce.length&&"getAll"in pe.objectStore(Ce[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ne=Le.schema,Te=Le.hasGetAll,Le=Ne.tables.map(G),Ee={};return Le.forEach(function(Ie){return Ee[Ie.name]=Ie}),{stack:"dbcore",transaction:S.transaction.bind(S),table:function(Ie){if(!Ee[Ie])throw new Error("Table '".concat(Ie,"' not found"));return Ee[Ie]},MIN_KEY:-1/0,MAX_KEY:Fa(k),schema:Ne}}function jc(S,k,U,V){var G=U.IDBKeyRange;return U.indexedDB,{dbcore:(V=iA(k,G,V),S.dbcore.reduce(function(re,pe){return pe=pe.create,r(r({},re),pe(re))},V))}}function uo(S,V){var U=V.db,V=jc(S._middlewares,U,S._deps,V);S.core=V.dbcore,S.tables.forEach(function(G){var re=G.name;S.core.schema.tables.some(function(pe){return pe.name===re})&&(G.core=S.core.table(re),S[re]instanceof S.Table&&(S[re].core=G.core))})}function il(S,k,U,V){U.forEach(function(G){var re=V[G];k.forEach(function(pe){var Ce=function Ne(Te,Le){return v(Te,Le)||(Te=u(Te))&&Ne(Te,Le)}(pe,G);(!Ce||"value"in Ce&&Ce.value===void 0)&&(pe===S.Transaction.prototype||pe instanceof S.Transaction?p(pe,G,{get:function(){return this.table(G)},set:function(Ne){h(this,G,{value:Ne,writable:!0,configurable:!0,enumerable:!0})}}):pe[G]=new S.Table(G,re))})})}function al(S,k){k.forEach(function(U){for(var V in U)U[V]instanceof S.Table&&delete U[V]})}function ql(S,k){return S._cfg.version-k._cfg.version}function Yl(S,k,U,V){var G=S._dbSchema;U.objectStoreNames.contains("$meta")&&!G.$meta&&(G.$meta=Wl("$meta",vu("")[0],[]),S._storeNames.push("$meta"));var re=S._createTransaction("readwrite",S._storeNames,G);re.create(U),re._completion.catch(V);var pe=re._reject.bind(re),Ce=St.transless||St;gr(function(){return St.trans=re,St.transless=Ce,k!==0?(uo(S,U),Te=k,((Ne=re).storeNames.includes("$meta")?Ne.table("$meta").get("version").then(function(Le){return Le??Te}):wt.resolve(Te)).then(function(Le){return Ie=Le,_e=re,je=U,De=[],Le=(Ee=S)._versions,Re=Ee._dbSchema=sl(0,Ee.idbdb,je),(Le=Le.filter(function(He){return He._cfg.version>=Ie})).length!==0?(Le.forEach(function(He){De.push(function(){var Xe=Re,et=He._cfg.dbschema;hs(Ee,Xe,je),hs(Ee,et,je),Re=Ee._dbSchema=et;var nt=Ic(Xe,et);nt.add.forEach(function(zt){Ao(je,zt[0],zt[1].primKey,zt[1].indexes)}),nt.change.forEach(function(zt){if(zt.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var Mt=je.objectStore(zt.name);zt.add.forEach(function($t){return Xl(Mt,$t)}),zt.change.forEach(function($t){Mt.deleteIndex($t.name),Xl(Mt,$t)}),zt.del.forEach(function($t){return Mt.deleteIndex($t)})});var _t=He._cfg.contentUpgrade;if(_t&&He._cfg.version>Ie){uo(Ee,je),_e._memoizedTables={};var Lt=B(et);nt.del.forEach(function(zt){Lt[zt]=Xe[zt]}),al(Ee,[Ee.Transaction.prototype]),il(Ee,[Ee.Transaction.prototype],s(Lt),Lt),_e.schema=Lt;var It,Ot=se(_t);return Ot&&Or(),nt=wt.follow(function(){var zt;(It=_t(_e))&&Ot&&(zt=vr.bind(null,null),It.then(zt,zt))}),It&&typeof It.then=="function"?wt.resolve(It):nt.then(function(){return It})}}),De.push(function(Xe){var et,nt,_t=He._cfg.dbschema;et=_t,nt=Xe,[].slice.call(nt.db.objectStoreNames).forEach(function(Lt){return et[Lt]==null&&nt.db.deleteObjectStore(Lt)}),al(Ee,[Ee.Transaction.prototype]),il(Ee,[Ee.Transaction.prototype],Ee._storeNames,Ee._dbSchema),_e.schema=Ee._dbSchema}),De.push(function(Xe){Ee.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ee.idbdb.version/10)===He._cfg.version?(Ee.idbdb.deleteObjectStore("$meta"),delete Ee._dbSchema.$meta,Ee._storeNames=Ee._storeNames.filter(function(et){return et!=="$meta"})):Xe.objectStore("$meta").put(He._cfg.version,"version"))})}),function He(){return De.length?wt.resolve(De.shift()(_e.idbtrans)).then(He):wt.resolve()}().then(function(){es(Re,je)})):wt.resolve();var Ee,Ie,_e,je,De,Re}).catch(pe)):(s(G).forEach(function(Le){Ao(U,Le,G[Le].primKey,G[Le].indexes)}),uo(S,U),void wt.follow(function(){return S.on.populate.fire(re)}).catch(pe));var Ne,Te})}function Us(S,k){es(S._dbSchema,k),k.db.version%10!=0||k.objectStoreNames.contains("$meta")||k.db.createObjectStore("$meta").add(Math.ceil(k.db.version/10-1),"version");var U=sl(0,S.idbdb,k);hs(S,S._dbSchema,k);for(var V=0,G=Ic(U,S._dbSchema).change;V<G.length;V++){var re=function(pe){if(pe.change.length||pe.recreate)return console.warn("Unable to patch indexes of table ".concat(pe.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ce=k.objectStore(pe.name);pe.add.forEach(function(Ne){mt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(pe.name,".").concat(Ne.src)),Xl(Ce,Ne)})}(G[V]);if(typeof re=="object")return re.value}}function Ic(S,k){var U,V={del:[],add:[],change:[]};for(U in S)k[U]||V.del.push(U);for(U in k){var G=S[U],re=k[U];if(G){var pe={name:U,def:re,recreate:!1,del:[],add:[],change:[]};if(""+(G.primKey.keyPath||"")!=""+(re.primKey.keyPath||"")||G.primKey.auto!==re.primKey.auto)pe.recreate=!0,V.change.push(pe);else{var Ce=G.idxByName,Ne=re.idxByName,Te=void 0;for(Te in Ce)Ne[Te]||pe.del.push(Te);for(Te in Ne){var Le=Ce[Te],Ee=Ne[Te];Le?Le.src!==Ee.src&&pe.change.push(Ee):pe.add.push(Ee)}(0<pe.del.length||0<pe.add.length||0<pe.change.length)&&V.change.push(pe)}}else V.add.push([U,re])}return V}function Ao(S,k,U,V){var G=S.db.createObjectStore(k,U.keyPath?{keyPath:U.keyPath,autoIncrement:U.auto}:{autoIncrement:U.auto});return V.forEach(function(re){return Xl(G,re)}),G}function es(S,k){s(S).forEach(function(U){k.db.objectStoreNames.contains(U)||(mt&&console.debug("Dexie: Creating missing table",U),Ao(k,U,S[U].primKey,S[U].indexes))})}function Xl(S,k){S.createIndex(k.name,k.keyPath,{unique:k.unique,multiEntry:k.multi})}function sl(S,k,U){var V={};return y(k.objectStoreNames,0).forEach(function(G){for(var re=U.objectStore(G),pe=Kl(Bo(Te=re.keyPath),Te||"",!0,!1,!!re.autoIncrement,Te&&typeof Te!="string",!0),Ce=[],Ne=0;Ne<re.indexNames.length;++Ne){var Le=re.index(re.indexNames[Ne]),Te=Le.keyPath,Le=Kl(Le.name,Te,!!Le.unique,!!Le.multiEntry,!1,Te&&typeof Te!="string",!1);Ce.push(Le)}V[G]=Wl(G,pe,Ce)}),V}function hs(S,k,U){for(var V=U.db.objectStoreNames,G=0;G<V.length;++G){var re=V[G],pe=U.objectStore(re);S._hasGetAll="getAll"in pe;for(var Ce=0;Ce<pe.indexNames.length;++Ce){var Ne=pe.indexNames[Ce],Te=pe.index(Ne).keyPath,Le=typeof Te=="string"?Te:"["+y(Te).join("+")+"]";!k[re]||(Te=k[re].idxByName[Le])&&(Te.name=Ne,delete k[re].idxByName[Le],k[re].idxByName[Ne]=Te)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(S._hasGetAll=!1)}function vu(S){return S.split(",").map(function(k,U){var re=k.split(":"),V=(G=re[1])===null||G===void 0?void 0:G.trim(),G=(k=re[0].trim()).replace(/([&*]|\+\+)/g,""),re=/^\[/.test(G)?G.match(/^\[(.*)\]$/)[1].split("+"):G;return Kl(G,re||null,/\&/.test(k),/\*/.test(k),/\+\+/.test(k),o(re),U===0,V)})}var F=(X.prototype._createTableSchema=Wl,X.prototype._parseIndexSyntax=vu,X.prototype._parseStoresSpec=function(S,k){var U=this;s(S).forEach(function(V){if(S[V]!==null){var G=U._parseIndexSyntax(S[V]),re=G.shift();if(!re)throw new Ae.Schema("Invalid schema for table "+V+": "+S[V]);if(re.unique=!0,re.multi)throw new Ae.Schema("Primary key cannot be multiEntry*");G.forEach(function(pe){if(pe.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!pe.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),G=U._createTableSchema(V,re,G),k[V]=G}})},X.prototype.stores=function(U){var k=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,U):U;var U=k._versions,V={},G={};return U.forEach(function(re){l(V,re._cfg.storesSource),G=re._cfg.dbschema={},re._parseStoresSpec(V,G)}),k._dbSchema=G,al(k,[k._allTables,k,k.Transaction.prototype]),il(k,[k._allTables,k,k.Transaction.prototype,this._cfg.tables],s(G),G),k._storeNames=s(G),this},X.prototype.upgrade=function(S){return this._cfg.contentUpgrade=Dt(this._cfg.contentUpgrade||ae,S),this},X);function X(){}function me(S,k){var U=S._dbNamesDB;return U||(U=S._dbNamesDB=new ms(Mi,{addons:[],indexedDB:S,IDBKeyRange:k})).version(1).stores({dbnames:"name"}),U.table("dbnames")}function Be(S){return S&&typeof S.databases=="function"}function Ue(S){return gr(function(){return St.letThrough=!0,S()})}function rt(S){return!("from"in S)}var at=function(S,k){if(!this){var U=new at;return S&&"d"in S&&l(U,S),U}l(this,arguments.length?{d:1,from:S,to:1<arguments.length?k:S}:{d:0})};function Wt(S,k,U){var V=Pn(k,U);if(!isNaN(V)){if(0<V)throw RangeError();if(rt(S))return l(S,{from:k,to:U,d:1});var G=S.l,V=S.r;if(Pn(U,S.from)<0)return G?Wt(G,k,U):S.l={from:k,to:U,d:1,l:null,r:null},tr(S);if(0<Pn(k,S.to))return V?Wt(V,k,U):S.r={from:k,to:U,d:1,l:null,r:null},tr(S);Pn(k,S.from)<0&&(S.from=k,S.l=null,S.d=V?V.d+1:1),0<Pn(U,S.to)&&(S.to=U,S.r=null,S.d=S.l?S.l.d+1:1),U=!S.r,G&&!S.l&&en(S,G),V&&U&&en(S,V)}}function en(S,k){rt(k)||function U(V,Ne){var re=Ne.from,pe=Ne.to,Ce=Ne.l,Ne=Ne.r;Wt(V,re,pe),Ce&&U(V,Ce),Ne&&U(V,Ne)}(S,k)}function xn(S,k){var U=Cn(k),V=U.next();if(V.done)return!1;for(var G=V.value,re=Cn(S),pe=re.next(G.from),Ce=pe.value;!V.done&&!pe.done;){if(Pn(Ce.from,G.to)<=0&&0<=Pn(Ce.to,G.from))return!0;Pn(G.from,Ce.from)<0?G=(V=U.next(Ce.from)).value:Ce=(pe=re.next(G.from)).value}return!1}function Cn(S){var k=rt(S)?null:{s:0,n:S};return{next:function(U){for(var V=0<arguments.length;k;)switch(k.s){case 0:if(k.s=1,V)for(;k.n.l&&Pn(U,k.n.from)<0;)k={up:k,n:k.n.l,s:1};else for(;k.n.l;)k={up:k,n:k.n.l,s:1};case 1:if(k.s=2,!V||Pn(U,k.n.to)<=0)return{value:k.n,done:!1};case 2:if(k.n.r){k.s=3,k={up:k,n:k.n.r,s:0};continue}case 3:k=k.up}return{done:!0}}}}function tr(S){var k,U,V=(((k=S.r)===null||k===void 0?void 0:k.d)||0)-(((U=S.l)===null||U===void 0?void 0:U.d)||0),G=1<V?"r":V<-1?"l":"";G&&(k=G=="r"?"l":"r",U=r({},S),V=S[G],S.from=V.from,S.to=V.to,S[G]=V[G],U[G]=V[k],(S[k]=U).d=fr(U)),S.d=fr(S)}function fr(U){var k=U.r,U=U.l;return(k?U?Math.max(k.d,U.d):k.d:U?U.d:0)+1}function Gr(S,k){return s(k).forEach(function(U){S[U]?en(S[U],k[U]):S[U]=function V(G){var re,pe,Ce={};for(re in G)d(G,re)&&(pe=G[re],Ce[re]=!pe||typeof pe!="object"||T.has(pe.constructor)?pe:V(pe));return Ce}(k[U])}),S}function xr(S,k){return S.all||k.all||Object.keys(S).some(function(U){return k[U]&&xn(k[U],S[U])})}f(at.prototype,((oa={add:function(S){return en(this,S),this},addKey:function(S){return Wt(this,S,S),this},addKeys:function(S){var k=this;return S.forEach(function(U){return Wt(k,U,U)}),this},hasKey:function(S){var k=Cn(this).next(S).value;return k&&Pn(k.from,S)<=0&&0<=Pn(k.to,S)}})[Y]=function(){return Cn(this)},oa));var Fr={},ei={},ai=!1;function kr(S){Gr(ei,S),ai||(ai=!0,setTimeout(function(){ai=!1,sa(ei,!(ei={}))},0))}function sa(S,k){k===void 0&&(k=!1);var U=new Set;if(S.all)for(var V=0,G=Object.values(Fr);V<G.length;V++)yu(pe=G[V],S,U,k);else for(var re in S){var pe,Ce=/^idb\:\/\/(.*)\/(.*)\//.exec(re);Ce&&(re=Ce[1],Ce=Ce[2],(pe=Fr["idb://".concat(re,"/").concat(Ce)])&&yu(pe,S,U,k))}U.forEach(function(Ne){return Ne()})}function yu(S,k,U,V){for(var G=[],re=0,pe=Object.entries(S.queries.query);re<pe.length;re++){for(var Ce=pe[re],Ne=Ce[0],Te=[],Le=0,Ee=Ce[1];Le<Ee.length;Le++){var Ie=Ee[Le];xr(k,Ie.obsSet)?Ie.subscribers.forEach(function(Re){return U.add(Re)}):V&&Te.push(Ie)}V&&G.push([Ne,Te])}if(V)for(var _e=0,je=G;_e<je.length;_e++){var De=je[_e],Ne=De[0],Te=De[1];S.queries.query[Ne]=Te}}function fo(S){var k=S._state,U=S._deps.indexedDB;if(k.isBeingOpened||S.idbdb)return k.dbReadyPromise.then(function(){return k.dbOpenError?Tr(k.dbOpenError):S});k.isBeingOpened=!0,k.dbOpenError=null,k.openComplete=!1;var V=k.openCanceller,G=Math.round(10*S.verno),re=!1;function pe(){if(k.openCanceller!==V)throw new Ae.DatabaseClosed("db.open() was cancelled")}function Ce(){return new wt(function(Ie,_e){if(pe(),!U)throw new Ae.MissingAPI;var je=S.name,De=k.autoSchema||!G?U.open(je):U.open(je,G);if(!De)throw new Ae.MissingAPI;De.onerror=aa(_e),De.onblocked=ut(S._fireOnBlocked),De.onupgradeneeded=ut(function(Re){var He;Le=De.transaction,k.autoSchema&&!S._options.allowEmptyDB?(De.onerror=Bc,Le.abort(),De.result.close(),(He=U.deleteDatabase(je)).onsuccess=He.onerror=ut(function(){_e(new Ae.NoSuchDatabase("Database ".concat(je," doesnt exist")))})):(Le.onerror=aa(_e),Re=Re.oldVersion>Math.pow(2,62)?0:Re.oldVersion,Ee=Re<1,S.idbdb=De.result,re&&Us(S,Le),Yl(S,Re/10,Le,_e))},_e),De.onsuccess=ut(function(){Le=null;var Re,He,Xe,et,nt,_t=S.idbdb=De.result,Lt=y(_t.objectStoreNames);if(0<Lt.length)try{var It=_t.transaction((et=Lt).length===1?et[0]:et,"readonly");if(k.autoSchema)He=_t,Xe=It,(Re=S).verno=He.version/10,Xe=Re._dbSchema=sl(0,He,Xe),Re._storeNames=y(He.objectStoreNames,0),il(Re,[Re._allTables],s(Xe),Xe);else if(hs(S,S._dbSchema,It),((nt=Ic(sl(0,(nt=S).idbdb,It),nt._dbSchema)).add.length||nt.change.some(function(Ot){return Ot.add.length||Ot.change.length}))&&!re)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),_t.close(),G=_t.version+1,re=!0,Ie(Ce());uo(S,It)}catch{}oo.push(S),_t.onversionchange=ut(function(Ot){k.vcFired=!0,S.on("versionchange").fire(Ot)}),_t.onclose=ut(function(Ot){S.on("close").fire(Ot)}),Ee&&(nt=S._deps,It=je,_t=nt.indexedDB,nt=nt.IDBKeyRange,Be(_t)||It===Mi||me(_t,nt).put({name:It}).catch(ae)),Ie()},_e)}).catch(function(Ie){switch(Ie==null?void 0:Ie.name){case"UnknownError":if(0<k.PR1398_maxLoop)return k.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ce();break;case"VersionError":if(0<G)return G=0,Ce()}return wt.reject(Ie)})}var Ne,Te=k.dbReadyResolve,Le=null,Ee=!1;return wt.race([V,(typeof navigator>"u"?wt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ie){function _e(){return indexedDB.databases().finally(Ie)}Ne=setInterval(_e,100),_e()}).finally(function(){return clearInterval(Ne)}):Promise.resolve()).then(Ce)]).then(function(){return pe(),k.onReadyBeingFired=[],wt.resolve(Ue(function(){return S.on.ready.fire(S.vip)})).then(function Ie(){if(0<k.onReadyBeingFired.length){var _e=k.onReadyBeingFired.reduce(Dt,ae);return k.onReadyBeingFired=[],wt.resolve(Ue(function(){return _e(S.vip)})).then(Ie)}})}).finally(function(){k.openCanceller===V&&(k.onReadyBeingFired=null,k.isBeingOpened=!1)}).catch(function(Ie){k.dbOpenError=Ie;try{Le&&Le.abort()}catch{}return V===k.openCanceller&&S._close(),Tr(Ie)}).finally(function(){k.openComplete=!0,Te()}).then(function(){var Ie;return Ee&&(Ie={},S.tables.forEach(function(_e){_e.schema.indexes.forEach(function(je){je.name&&(Ie["idb://".concat(S.name,"/").concat(_e.name,"/").concat(je.name)]=new at(-1/0,[[[]]]))}),Ie["idb://".concat(S.name,"/").concat(_e.name,"/")]=Ie["idb://".concat(S.name,"/").concat(_e.name,"/:dels")]=new at(-1/0,[[[]]])}),Zr(Nc).fire(Ie),sa(Ie,!0)),S})}function w(S){function k(re){return S.next(re)}var U=G(k),V=G(function(re){return S.throw(re)});function G(re){return function(Ne){var Ce=re(Ne),Ne=Ce.value;return Ce.done?Ne:Ne&&typeof Ne.then=="function"?Ne.then(U,V):o(Ne)?Promise.all(Ne).then(U,V):U(Ne)}}return G(k)()}function Q(S,k,U){for(var V=o(S)?S.slice():[S],G=0;G<U;++G)V.push(k);return V}var W={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(S){return r(r({},S),{table:function(k){var U=S.table(k),V=U.schema,G={},re=[];function pe(Ee,Ie,_e){var je=dr(Ee),De=G[je]=G[je]||[],Re=Ee==null?0:typeof Ee=="string"?1:Ee.length,He=0<Ie,He=r(r({},_e),{name:He?"".concat(je,"(virtual-from:").concat(_e.name,")"):_e.name,lowLevelIndex:_e,isVirtual:He,keyTail:Ie,keyLength:Re,extractKey:Rs(Ee),unique:!He&&_e.unique});return De.push(He),He.isPrimaryKey||re.push(He),1<Re&&pe(Re===2?Ee[0]:Ee.slice(0,Re-1),Ie+1,_e),De.sort(function(Xe,et){return Xe.keyTail-et.keyTail}),He}k=pe(V.primaryKey.keyPath,0,V.primaryKey),G[":id"]=[k];for(var Ce=0,Ne=V.indexes;Ce<Ne.length;Ce++){var Te=Ne[Ce];pe(Te.keyPath,0,Te)}function Le(Ee){var Ie,_e=Ee.query.index;return _e.isVirtual?r(r({},Ee),{query:{index:_e.lowLevelIndex,range:(Ie=Ee.query.range,_e=_e.keyTail,{type:Ie.type===1?2:Ie.type,lower:Q(Ie.lower,Ie.lowerOpen?S.MAX_KEY:S.MIN_KEY,_e),lowerOpen:!0,upper:Q(Ie.upper,Ie.upperOpen?S.MIN_KEY:S.MAX_KEY,_e),upperOpen:!0})}}):Ee}return r(r({},U),{schema:r(r({},V),{primaryKey:k,indexes:re,getIndexByKeyPath:function(Ee){return(Ee=G[dr(Ee)])&&Ee[0]}}),count:function(Ee){return U.count(Le(Ee))},query:function(Ee){return U.query(Le(Ee))},openCursor:function(Ee){var Ie=Ee.query.index,_e=Ie.keyTail,je=Ie.isVirtual,De=Ie.keyLength;return je?U.openCursor(Le(Ee)).then(function(He){return He&&Re(He)}):U.openCursor(Ee);function Re(He){return Object.create(He,{continue:{value:function(Xe){Xe!=null?He.continue(Q(Xe,Ee.reverse?S.MAX_KEY:S.MIN_KEY,_e)):Ee.unique?He.continue(He.key.slice(0,De).concat(Ee.reverse?S.MIN_KEY:S.MAX_KEY,_e)):He.continue()}},continuePrimaryKey:{value:function(Xe,et){He.continuePrimaryKey(Q(Xe,S.MAX_KEY,_e),et)}},primaryKey:{get:function(){return He.primaryKey}},key:{get:function(){var Xe=He.key;return De===1?Xe[0]:Xe.slice(0,De)}},value:{get:function(){return He.value}}})}}})}})}};function ue(S,k,U,V){return U=U||{},V=V||"",s(S).forEach(function(G){var re,pe,Ce;d(k,G)?(re=S[G],pe=k[G],typeof re=="object"&&typeof pe=="object"&&re&&pe?(Ce=q(re))!==q(pe)?U[V+G]=k[G]:Ce==="Object"?ue(re,pe,U,V+G+"."):re!==pe&&(U[V+G]=k[G]):re!==pe&&(U[V+G]=k[G])):U[V+G]=void 0}),s(k).forEach(function(G){d(S,G)||(U[V+G]=k[G])}),U}function Qe(S,k){return k.type==="delete"?k.keys:k.keys||k.values.map(S.extractKey)}var qe={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(S){return r(r({},S),{table:function(k){var U=S.table(k),V=U.schema.primaryKey;return r(r({},U),{mutate:function(G){var re=St.trans,pe=re.table(k).hook,Ce=pe.deleting,Ne=pe.creating,Te=pe.updating;switch(G.type){case"add":if(Ne.fire===ae)break;return re._promise("readwrite",function(){return Le(G)},!0);case"put":if(Ne.fire===ae&&Te.fire===ae)break;return re._promise("readwrite",function(){return Le(G)},!0);case"delete":if(Ce.fire===ae)break;return re._promise("readwrite",function(){return Le(G)},!0);case"deleteRange":if(Ce.fire===ae)break;return re._promise("readwrite",function(){return function Ee(Ie,_e,je){return U.query({trans:Ie,values:!1,query:{index:V,range:_e},limit:je}).then(function(De){var Re=De.result;return Le({type:"delete",keys:Re,trans:Ie}).then(function(He){return 0<He.numFailures?Promise.reject(He.failures[0]):Re.length<je?{failures:[],numFailures:0,lastResult:void 0}:Ee(Ie,r(r({},_e),{lower:Re[Re.length-1],lowerOpen:!0}),je)})})}(G.trans,G.range,1e4)},!0)}return U.mutate(G);function Le(Ee){var Ie,_e,je,De=St.trans,Re=Ee.keys||Qe(V,Ee);if(!Re)throw new Error("Keys missing");return(Ee=Ee.type==="add"||Ee.type==="put"?r(r({},Ee),{keys:Re}):r({},Ee)).type!=="delete"&&(Ee.values=i([],Ee.values)),Ee.keys&&(Ee.keys=i([],Ee.keys)),Ie=U,je=Re,((_e=Ee).type==="add"?Promise.resolve([]):Ie.getMany({trans:_e.trans,keys:je,cache:"immutable"})).then(function(He){var Xe=Re.map(function(et,nt){var _t,Lt,It,Ot=He[nt],zt={onerror:null,onsuccess:null};return Ee.type==="delete"?Ce.fire.call(zt,et,Ot,De):Ee.type==="add"||Ot===void 0?(_t=Ne.fire.call(zt,et,Ee.values[nt],De),et==null&&_t!=null&&(Ee.keys[nt]=et=_t,V.outbound||_(Ee.values[nt],V.keyPath,et))):(_t=ue(Ot,Ee.values[nt]),(Lt=Te.fire.call(zt,_t,et,Ot,De))&&(It=Ee.values[nt],Object.keys(Lt).forEach(function(Mt){d(It,Mt)?It[Mt]=Lt[Mt]:_(It,Mt,Lt[Mt])}))),zt});return U.mutate(Ee).then(function(et){for(var nt=et.failures,_t=et.results,Lt=et.numFailures,et=et.lastResult,It=0;It<Re.length;++It){var Ot=(_t||Re)[It],zt=Xe[It];Ot==null?zt.onerror&&zt.onerror(nt[It]):zt.onsuccess&&zt.onsuccess(Ee.type==="put"&&He[It]?Ee.values[It]:Ot)}return{failures:nt,results:_t,numFailures:Lt,lastResult:et}}).catch(function(et){return Xe.forEach(function(nt){return nt.onerror&&nt.onerror(et)}),Promise.reject(et)})})}}})}})}};function Pt(S,k,U){try{if(!k||k.keys.length<S.length)return null;for(var V=[],G=0,re=0;G<k.keys.length&&re<S.length;++G)Pn(k.keys[G],S[re])===0&&(V.push(U?L(k.values[G]):k.values[G]),++re);return V.length===S.length?V:null}catch{return null}}var nr={stack:"dbcore",level:-1,create:function(S){return{table:function(k){var U=S.table(k);return r(r({},U),{getMany:function(V){if(!V.cache)return U.getMany(V);var G=Pt(V.keys,V.trans._cache,V.cache==="clone");return G?wt.resolve(G):U.getMany(V).then(function(re){return V.trans._cache={keys:V.keys,values:V.cache==="clone"?L(re):re},re})},mutate:function(V){return V.type!=="add"&&(V.trans._cache=null),U.mutate(V)}})}}}};function si(S,k){return S.trans.mode==="readonly"&&!!S.subscr&&!S.trans.explicit&&S.trans.db._options.cache!=="disabled"&&!k.schema.primaryKey.outbound}function zn(S,k){switch(S){case"query":return k.values&&!k.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Vn={stack:"dbcore",level:0,name:"Observability",create:function(S){var k=S.schema.name,U=new at(S.MIN_KEY,S.MAX_KEY);return r(r({},S),{transaction:function(V,G,re){if(St.subscr&&G!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(St.querier));return S.transaction(V,G,re)},table:function(V){var G=S.table(V),re=G.schema,pe=re.primaryKey,Ee=re.indexes,Ce=pe.extractKey,Ne=pe.outbound,Te=pe.autoIncrement&&Ee.filter(function(_e){return _e.compound&&_e.keyPath.includes(pe.keyPath)}),Le=r(r({},G),{mutate:function(_e){function je(Mt){return Mt="idb://".concat(k,"/").concat(V,"/").concat(Mt),et[Mt]||(et[Mt]=new at)}var De,Re,He,Xe=_e.trans,et=_e.mutatedParts||(_e.mutatedParts={}),nt=je(""),_t=je(":dels"),Lt=_e.type,zt=_e.type==="deleteRange"?[_e.range]:_e.type==="delete"?[_e.keys]:_e.values.length<50?[Qe(pe,_e).filter(function(Mt){return Mt}),_e.values]:[],It=zt[0],Ot=zt[1],zt=_e.trans._cache;return o(It)?(nt.addKeys(It),(zt=Lt==="delete"||It.length===Ot.length?Pt(It,zt):null)||_t.addKeys(It),(zt||Ot)&&(De=je,Re=zt,He=Ot,re.indexes.forEach(function(Mt){var $t=De(Mt.name||"");function Fn(Tn){return Tn!=null?Mt.extractKey(Tn):null}function rr(Tn){return Mt.multiEntry&&o(Tn)?Tn.forEach(function(gi){return $t.addKey(gi)}):$t.addKey(Tn)}(Re||He).forEach(function(Tn,Ra){var jn=Re&&Fn(Re[Ra]),Ra=He&&Fn(He[Ra]);Pn(jn,Ra)!==0&&(jn!=null&&rr(jn),Ra!=null&&rr(Ra))})}))):It?(Ot={from:(Ot=It.lower)!==null&&Ot!==void 0?Ot:S.MIN_KEY,to:(Ot=It.upper)!==null&&Ot!==void 0?Ot:S.MAX_KEY},_t.add(Ot),nt.add(Ot)):(nt.add(U),_t.add(U),re.indexes.forEach(function(Mt){return je(Mt.name).add(U)})),G.mutate(_e).then(function(Mt){return!It||_e.type!=="add"&&_e.type!=="put"||(nt.addKeys(Mt.results),Te&&Te.forEach(function($t){for(var Fn=_e.values.map(function(jn){return $t.extractKey(jn)}),rr=$t.keyPath.findIndex(function(jn){return jn===pe.keyPath}),Tn=0,gi=Mt.results.length;Tn<gi;++Tn)Fn[Tn][rr]=Mt.results[Tn];je($t.name).addKeys(Fn)})),Xe.mutatedParts=Gr(Xe.mutatedParts||{},et),Mt})}}),Ee=function(je){var De=je.query,je=De.index,De=De.range;return[je,new at((je=De.lower)!==null&&je!==void 0?je:S.MIN_KEY,(De=De.upper)!==null&&De!==void 0?De:S.MAX_KEY)]},Ie={get:function(_e){return[pe,new at(_e.key)]},getMany:function(_e){return[pe,new at().addKeys(_e.keys)]},count:Ee,query:Ee,openCursor:Ee};return s(Ie).forEach(function(_e){Le[_e]=function(je){var De=St.subscr,Re=!!De,He=si(St,G)&&zn(_e,je)?je.obsSet={}:De;if(Re){var Xe=function(Ot){return Ot="idb://".concat(k,"/").concat(V,"/").concat(Ot),He[Ot]||(He[Ot]=new at)},et=Xe(""),nt=Xe(":dels"),De=Ie[_e](je),Re=De[0],De=De[1];if((_e==="query"&&Re.isPrimaryKey&&!je.values?nt:Xe(Re.name||"")).add(De),!Re.isPrimaryKey){if(_e!=="count"){var _t=_e==="query"&&Ne&&je.values&&G.query(r(r({},je),{values:!1}));return G[_e].apply(this,arguments).then(function(Ot){if(_e==="query"){if(Ne&&je.values)return _t.then(function(Fn){return Fn=Fn.result,et.addKeys(Fn),Ot});var zt=je.values?Ot.result.map(Ce):Ot.result;(je.values?et:nt).addKeys(zt)}else if(_e==="openCursor"){var Mt=Ot,$t=je.values;return Mt&&Object.create(Mt,{key:{get:function(){return nt.addKey(Mt.primaryKey),Mt.key}},primaryKey:{get:function(){var Fn=Mt.primaryKey;return nt.addKey(Fn),Fn}},value:{get:function(){return $t&&et.addKey(Mt.primaryKey),Mt.value}}})}return Ot})}nt.add(U)}}return G[_e].apply(this,arguments)}}),Le}})}};function Ur(S,k,U){if(U.numFailures===0)return k;if(k.type==="deleteRange")return null;var V=k.keys?k.keys.length:"values"in k&&k.values?k.values.length:1;return U.numFailures===V?null:(k=r({},k),o(k.keys)&&(k.keys=k.keys.filter(function(G,re){return!(re in U.failures)})),"values"in k&&o(k.values)&&(k.values=k.values.filter(function(G,re){return!(re in U.failures)})),k)}function ps(S,k){return U=S,((V=k).lower===void 0||(V.lowerOpen?0<Pn(U,V.lower):0<=Pn(U,V.lower)))&&(S=S,(k=k).upper===void 0||(k.upperOpen?Pn(S,k.upper)<0:Pn(S,k.upper)<=0));var U,V}function La(S,k,Ie,V,G,re){if(!Ie||Ie.length===0)return S;var pe=k.query.index,Ce=pe.multiEntry,Ne=k.query.range,Te=V.schema.primaryKey.extractKey,Le=pe.extractKey,Ee=(pe.lowLevelIndex||pe).extractKey,Ie=Ie.reduce(function(_e,je){var De=_e,Re=[];if(je.type==="add"||je.type==="put")for(var He=new at,Xe=je.values.length-1;0<=Xe;--Xe){var et,nt=je.values[Xe],_t=Te(nt);He.hasKey(_t)||(et=Le(nt),(Ce&&o(et)?et.some(function(Mt){return ps(Mt,Ne)}):ps(et,Ne))&&(He.addKey(_t),Re.push(nt)))}switch(je.type){case"add":var Lt=new at().addKeys(k.values?_e.map(function($t){return Te($t)}):_e),De=_e.concat(k.values?Re.filter(function($t){return $t=Te($t),!Lt.hasKey($t)&&(Lt.addKey($t),!0)}):Re.map(function($t){return Te($t)}).filter(function($t){return!Lt.hasKey($t)&&(Lt.addKey($t),!0)}));break;case"put":var It=new at().addKeys(je.values.map(function($t){return Te($t)}));De=_e.filter(function($t){return!It.hasKey(k.values?Te($t):$t)}).concat(k.values?Re:Re.map(function($t){return Te($t)}));break;case"delete":var Ot=new at().addKeys(je.keys);De=_e.filter(function($t){return!Ot.hasKey(k.values?Te($t):$t)});break;case"deleteRange":var zt=je.range;De=_e.filter(function($t){return!ps(Te($t),zt)})}return De},S);return Ie===S?S:(Ie.sort(function(_e,je){return Pn(Ee(_e),Ee(je))||Pn(Te(_e),Te(je))}),k.limit&&k.limit<1/0&&(Ie.length>k.limit?Ie.length=k.limit:S.length===k.limit&&Ie.length<k.limit&&(G.dirty=!0)),re?Object.freeze(Ie):Ie)}function Sa(S,k){return Pn(S.lower,k.lower)===0&&Pn(S.upper,k.upper)===0&&!!S.lowerOpen==!!k.lowerOpen&&!!S.upperOpen==!!k.upperOpen}function ol(S,k){return function(U,V,G,re){if(U===void 0)return V!==void 0?-1:0;if(V===void 0)return 1;if((V=Pn(U,V))===0){if(G&&re)return 0;if(G)return 1;if(re)return-1}return V}(S.lower,k.lower,S.lowerOpen,k.lowerOpen)<=0&&0<=function(U,V,G,re){if(U===void 0)return V!==void 0?1:0;if(V===void 0)return-1;if((V=Pn(U,V))===0){if(G&&re)return 0;if(G)return-1;if(re)return 1}return V}(S.upper,k.upper,S.upperOpen,k.upperOpen)}function Pf(S,k,U,V){S.subscribers.add(U),V.addEventListener("abort",function(){var G,re;S.subscribers.delete(U),S.subscribers.size===0&&(G=S,re=k,setTimeout(function(){G.subscribers.size===0&&K(re,G)},3e3))})}var Df={stack:"dbcore",level:0,name:"Cache",create:function(S){var k=S.schema.name;return r(r({},S),{transaction:function(U,V,G){var re,pe,Ce=S.transaction(U,V,G);return V==="readwrite"&&(pe=(re=new AbortController).signal,G=function(Ne){return function(){if(re.abort(),V==="readwrite"){for(var Te=new Set,Le=0,Ee=U;Le<Ee.length;Le++){var Ie=Ee[Le],_e=Fr["idb://".concat(k,"/").concat(Ie)];if(_e){var je=S.table(Ie),De=_e.optimisticOps.filter(function($t){return $t.trans===Ce});if(Ce._explicit&&Ne&&Ce.mutatedParts)for(var Re=0,He=Object.values(_e.queries.query);Re<He.length;Re++)for(var Xe=0,et=(Lt=He[Re]).slice();Xe<et.length;Xe++)xr((It=et[Xe]).obsSet,Ce.mutatedParts)&&(K(Lt,It),It.subscribers.forEach(function($t){return Te.add($t)}));else if(0<De.length){_e.optimisticOps=_e.optimisticOps.filter(function($t){return $t.trans!==Ce});for(var nt=0,_t=Object.values(_e.queries.query);nt<_t.length;nt++)for(var Lt,It,Ot,zt=0,Mt=(Lt=_t[nt]).slice();zt<Mt.length;zt++)(It=Mt[zt]).res!=null&&Ce.mutatedParts&&(Ne&&!It.dirty?(Ot=Object.isFrozen(It.res),Ot=La(It.res,It.req,De,je,It,Ot),It.dirty?(K(Lt,It),It.subscribers.forEach(function($t){return Te.add($t)})):Ot!==It.res&&(It.res=Ot,It.promise=wt.resolve({result:Ot}))):(It.dirty&&K(Lt,It),It.subscribers.forEach(function($t){return Te.add($t)})))}}}Te.forEach(function($t){return $t()})}}},Ce.addEventListener("abort",G(!1),{signal:pe}),Ce.addEventListener("error",G(!1),{signal:pe}),Ce.addEventListener("complete",G(!0),{signal:pe})),Ce},table:function(U){var V=S.table(U),G=V.schema.primaryKey;return r(r({},V),{mutate:function(re){var pe=St.trans;if(G.outbound||pe.db._options.cache==="disabled"||pe.explicit||pe.idbtrans.mode!=="readwrite")return V.mutate(re);var Ce=Fr["idb://".concat(k,"/").concat(U)];return Ce?(pe=V.mutate(re),re.type!=="add"&&re.type!=="put"||!(50<=re.values.length||Qe(G,re).some(function(Ne){return Ne==null}))?(Ce.optimisticOps.push(re),re.mutatedParts&&kr(re.mutatedParts),pe.then(function(Ne){0<Ne.numFailures&&(K(Ce.optimisticOps,re),(Ne=Ur(0,re,Ne))&&Ce.optimisticOps.push(Ne),re.mutatedParts&&kr(re.mutatedParts))}),pe.catch(function(){K(Ce.optimisticOps,re),re.mutatedParts&&kr(re.mutatedParts)})):pe.then(function(Ne){var Te=Ur(0,r(r({},re),{values:re.values.map(function(Le,Ee){var Ie;return Ne.failures[Ee]?Le:(Le=(Ie=G.keyPath)!==null&&Ie!==void 0&&Ie.includes(".")?L(Le):r({},Le),_(Le,G.keyPath,Ne.results[Ee]),Le)})}),Ne);Ce.optimisticOps.push(Te),queueMicrotask(function(){return re.mutatedParts&&kr(re.mutatedParts)})}),pe):V.mutate(re)},query:function(re){if(!si(St,V)||!zn("query",re))return V.query(re);var pe=((Te=St.trans)===null||Te===void 0?void 0:Te.db._options.cache)==="immutable",Ee=St,Ce=Ee.requery,Ne=Ee.signal,Te=function(je,De,Re,He){var Xe=Fr["idb://".concat(je,"/").concat(De)];if(!Xe)return[];if(!(De=Xe.queries[Re]))return[null,!1,Xe,null];var et=De[(He.query?He.query.index.name:null)||""];if(!et)return[null,!1,Xe,null];switch(Re){case"query":var nt=et.find(function(_t){return _t.req.limit===He.limit&&_t.req.values===He.values&&Sa(_t.req.query.range,He.query.range)});return nt?[nt,!0,Xe,et]:[et.find(function(_t){return("limit"in _t.req?_t.req.limit:1/0)>=He.limit&&(!He.values||_t.req.values)&&ol(_t.req.query.range,He.query.range)}),!1,Xe,et];case"count":return nt=et.find(function(_t){return Sa(_t.req.query.range,He.query.range)}),[nt,!!nt,Xe,et]}}(k,U,"query",re),Le=Te[0],Ee=Te[1],Ie=Te[2],_e=Te[3];return Le&&Ee?Le.obsSet=re.obsSet:(Ee=V.query(re).then(function(je){var De=je.result;if(Le&&(Le.res=De),pe){for(var Re=0,He=De.length;Re<He;++Re)Object.freeze(De[Re]);Object.freeze(De)}else je.result=L(De);return je}).catch(function(je){return _e&&Le&&K(_e,Le),Promise.reject(je)}),Le={obsSet:re.obsSet,promise:Ee,subscribers:new Set,type:"query",req:re,dirty:!1},_e?_e.push(Le):(_e=[Le],(Ie=Ie||(Fr["idb://".concat(k,"/").concat(U)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[re.query.index.name||""]=_e)),Pf(Le,_e,Ce,Ne),Le.promise.then(function(je){return{result:La(je.result,re,Ie==null?void 0:Ie.optimisticOps,V,Le,pe)}})}})}})}};function ll(S,k){return new Proxy(S,{get:function(U,V,G){return V==="db"?k:Reflect.get(U,V,G)}})}var ms=(lr.prototype.version=function(S){if(isNaN(S)||S<.1)throw new Ae.Type("Given version is not a positive number");if(S=Math.round(10*S)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,S);var k=this._versions,U=k.filter(function(V){return V._cfg.version===S})[0];return U||(U=new this.Version(S),k.push(U),k.sort(ql),U.stores({}),this._state.autoSchema=!1,U)},lr.prototype._whenReady=function(S){var k=this;return this.idbdb&&(this._state.openComplete||St.letThrough||this._vip)?S():new wt(function(U,V){if(k._state.openComplete)return V(new Ae.DatabaseClosed(k._state.dbOpenError));if(!k._state.isBeingOpened){if(!k._state.autoOpen)return void V(new Ae.DatabaseClosed);k.open().catch(ae)}k._state.dbReadyPromise.then(U,V)}).then(S)},lr.prototype.use=function(S){var k=S.stack,U=S.create,V=S.level,G=S.name;return G&&this.unuse({stack:k,name:G}),S=this._middlewares[k]||(this._middlewares[k]=[]),S.push({stack:k,create:U,level:V??10,name:G}),S.sort(function(re,pe){return re.level-pe.level}),this},lr.prototype.unuse=function(S){var k=S.stack,U=S.name,V=S.create;return k&&this._middlewares[k]&&(this._middlewares[k]=this._middlewares[k].filter(function(G){return V?G.create!==V:!!U&&G.name!==U})),this},lr.prototype.open=function(){var S=this;return Li(Ft,function(){return fo(S)})},lr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var S=this._state,k=oo.indexOf(this);if(0<=k&&oo.splice(k,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}S.isBeingOpened||(S.dbReadyPromise=new wt(function(U){S.dbReadyResolve=U}),S.openCanceller=new wt(function(U,V){S.cancelOpen=V}))},lr.prototype.close=function(U){var k=(U===void 0?{disableAutoOpen:!0}:U).disableAutoOpen,U=this._state;k?(U.isBeingOpened&&U.cancelOpen(new Ae.DatabaseClosed),this._close(),U.autoOpen=!1,U.dbOpenError=new Ae.DatabaseClosed):(this._close(),U.autoOpen=this._options.autoOpen||U.isBeingOpened,U.openComplete=!1,U.dbOpenError=null)},lr.prototype.delete=function(S){var k=this;S===void 0&&(S={disableAutoOpen:!0});var U=0<arguments.length&&typeof arguments[0]!="object",V=this._state;return new wt(function(G,re){function pe(){k.close(S);var Ce=k._deps.indexedDB.deleteDatabase(k.name);Ce.onsuccess=ut(function(){var Ne,Te,Le;Ne=k._deps,Te=k.name,Le=Ne.indexedDB,Ne=Ne.IDBKeyRange,Be(Le)||Te===Mi||me(Le,Ne).delete(Te).catch(ae),G()}),Ce.onerror=aa(re),Ce.onblocked=k._fireOnBlocked}if(U)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");V.isBeingOpened?V.dbReadyPromise.then(pe):pe()})},lr.prototype.backendDB=function(){return this.idbdb},lr.prototype.isOpen=function(){return this.idbdb!==null},lr.prototype.hasBeenClosed=function(){var S=this._state.dbOpenError;return S&&S.name==="DatabaseClosed"},lr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},lr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(lr.prototype,"tables",{get:function(){var S=this;return s(this._allTables).map(function(k){return S._allTables[k]})},enumerable:!1,configurable:!0}),lr.prototype.transaction=function(){var S=(function(k,U,V){var G=arguments.length;if(G<2)throw new Ae.InvalidArgument("Too few arguments");for(var re=new Array(G-1);--G;)re[G-1]=arguments[G];return V=re.pop(),[k,D(re),V]}).apply(this,arguments);return this._transaction.apply(this,S)},lr.prototype._transaction=function(S,k,U){var V=this,G=St.trans;G&&G.db===this&&S.indexOf("!")===-1||(G=null);var re,pe,Ce=S.indexOf("?")!==-1;S=S.replace("!","").replace("?","");try{if(pe=k.map(function(Te){if(Te=Te instanceof V.Table?Te.name:Te,typeof Te!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Te}),S=="r"||S===fs)re=fs;else{if(S!="rw"&&S!=zl)throw new Ae.InvalidArgument("Invalid transaction mode: "+S);re=zl}if(G){if(G.mode===fs&&re===zl){if(!Ce)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");G=null}G&&pe.forEach(function(Te){if(G&&G.storeNames.indexOf(Te)===-1){if(!Ce)throw new Ae.SubTransaction("Table "+Te+" not included in parent transaction.");G=null}}),Ce&&G&&!G.active&&(G=null)}}catch(Te){return G?G._promise(null,function(Le,Ee){Ee(Te)}):Tr(Te)}var Ne=(function Te(Le,Ee,Ie,_e,je){return wt.resolve().then(function(){var De=St.transless||St,Re=Le._createTransaction(Ee,Ie,Le._dbSchema,_e);if(Re.explicit=!0,De={trans:Re,transless:De},_e)Re.idbtrans=_e.idbtrans;else try{Re.create(),Re.idbtrans._explicit=!0,Le._state.PR1398_maxLoop=3}catch(et){return et.name===we.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Te(Le,Ee,Ie,null,je)})):Tr(et)}var He,Xe=se(je);return Xe&&Or(),De=wt.follow(function(){var et;(He=je.call(Re,Re))&&(Xe?(et=vr.bind(null,null),He.then(et,et)):typeof He.next=="function"&&typeof He.throw=="function"&&(He=w(He)))},De),(He&&typeof He.then=="function"?wt.resolve(He).then(function(et){return Re.active?et:Tr(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):De.then(function(){return He})).then(function(et){return _e&&Re._resolve(),Re._completion.then(function(){return et})}).catch(function(et){return Re._reject(et),Tr(et)})})}).bind(null,this,re,pe,G,U);return G?G._promise(re,Ne,"lock"):St.trans?Li(St.transless,function(){return V._whenReady(Ne)}):this._whenReady(Ne)},lr.prototype.table=function(S){if(!d(this._allTables,S))throw new Ae.InvalidTable("Table ".concat(S," does not exist"));return this._allTables[S]},lr);function lr(S,k){var U=this;this._middlewares={},this.verno=0;var V=lr.dependencies;this._options=k=r({addons:lr.addons,autoOpen:!0,indexedDB:V.indexedDB,IDBKeyRange:V.IDBKeyRange,cache:"cloned"},k),this._deps={indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange},V=k.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var G,re,pe,Ce,Ne,Te={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ae,dbReadyPromise:null,cancelOpen:ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:k.autoOpen};Te.dbReadyPromise=new wt(function(Ee){Te.dbReadyResolve=Ee}),Te.openCanceller=new wt(function(Ee,Ie){Te.cancelOpen=Ie}),this._state=Te,this.name=S,this.on=Ds(this,"populate","blocked","versionchange","close",{ready:[Dt,ae]}),this.once=function(Ee,Ie){var _e=function(){for(var je=[],De=0;De<arguments.length;De++)je[De]=arguments[De];U.on(Ee).unsubscribe(_e),Ie.apply(U,je)};return U.on(Ee,_e)},this.on.ready.subscribe=x(this.on.ready.subscribe,function(Ee){return function(Ie,_e){lr.vip(function(){var je,De=U._state;De.openComplete?(De.dbOpenError||wt.resolve().then(Ie),_e&&Ee(Ie)):De.onReadyBeingFired?(De.onReadyBeingFired.push(Ie),_e&&Ee(Ie)):(Ee(Ie),je=U,_e||Ee(function Re(){je.on.ready.unsubscribe(Ie),je.on.ready.unsubscribe(Re)}))})}}),this.Collection=(G=this,Ca(Fs.prototype,function(He,Re){this.db=G;var _e=pu,je=null;if(Re)try{_e=Re()}catch(Xe){je=Xe}var De=He._ctx,Re=De.table,He=Re.hook.reading.fire;this._ctx={table:Re,index:De.index,isPrimKey:!De.index||Re.schema.primKey.keyPath&&De.index===Re.schema.primKey.name,range:_e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:je,or:De.or,valueMapper:He!==Ve?He:null}})),this.Table=(re=this,Ca(eA.prototype,function(Ee,Ie,_e){this.db=re,this._tx=_e,this.name=Ee,this.schema=Ie,this.hook=re._allTables[Ee]?re._allTables[Ee].hook:Ds(null,{creating:[$e,ae],reading:[Oe,Ve],updating:[vt,ae],deleting:[ht,ae]})})),this.Transaction=(pe=this,Ca(rl.prototype,function(Ee,Ie,_e,je,De){var Re=this;Ee!=="readonly"&&Ie.forEach(function(He){He=(He=_e[He])===null||He===void 0?void 0:He.yProps,He&&(Ie=Ie.concat(He.map(function(Xe){return Xe.updatesTable})))}),this.db=pe,this.mode=Ee,this.storeNames=Ie,this.schema=_e,this.chromeTransactionDurability=je,this.idbtrans=null,this.on=Ds(this,"complete","error","abort"),this.parent=De||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wt(function(He,Xe){Re._resolve=He,Re._reject=Xe}),this._completion.then(function(){Re.active=!1,Re.on.complete.fire()},function(He){var Xe=Re.active;return Re.active=!1,Re.on.error.fire(He),Re.parent?Re.parent._reject(He):Xe&&Re.idbtrans&&Re.idbtrans.abort(),Tr(He)})})),this.Version=(Ce=this,Ca(F.prototype,function(Ee){this.db=Ce,this._cfg={version:Ee,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ne=this,Ca(_c.prototype,function(Ee,Ie,_e){if(this.db=Ne,this._ctx={table:Ee,index:Ie===":id"?null:Ie,or:_e},this._cmp=this._ascending=Pn,this._descending=function(je,De){return Pn(De,je)},this._max=function(je,De){return 0<Pn(je,De)?je:De},this._min=function(je,De){return Pn(je,De)<0?je:De},this._IDBKeyRange=Ne._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(Ee){0<Ee.newVersion?console.warn("Another connection wants to upgrade database '".concat(U.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(U.name,"'. Closing db now to resume the delete request.")),U.close({disableAutoOpen:!1})}),this.on("blocked",function(Ee){!Ee.newVersion||Ee.newVersion<Ee.oldVersion?console.warn("Dexie.delete('".concat(U.name,"') was blocked")):console.warn("Upgrade '".concat(U.name,"' blocked by other connection holding version ").concat(Ee.oldVersion/10))}),this._maxKey=Fa(k.IDBKeyRange),this._createTransaction=function(Ee,Ie,_e,je){return new U.Transaction(Ee,Ie,_e,U._options.chromeTransactionDurability,je)},this._fireOnBlocked=function(Ee){U.on("blocked").fire(Ee),oo.filter(function(Ie){return Ie.name===U.name&&Ie!==U&&!Ie._state.vcFired}).map(function(Ie){return Ie.on("versionchange").fire(Ee)})},this.use(nr),this.use(Df),this.use(Vn),this.use(W),this.use(qe);var Le=new Proxy(this,{get:function(Ee,Ie,_e){if(Ie==="_vip")return!0;if(Ie==="table")return function(De){return ll(U.table(De),Le)};var je=Reflect.get(Ee,Ie,_e);return je instanceof eA?ll(je,Le):Ie==="tables"?je.map(function(De){return ll(De,Le)}):Ie==="_createTransaction"?function(){return ll(je.apply(this,arguments),Le)}:je}});this.vip=Le,V.forEach(function(Ee){return Ee(U)})}var ts,oa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Tc=(Jl.prototype.subscribe=function(S,k,U){return this._subscribe(S&&typeof S!="function"?S:{next:S,error:k,complete:U})},Jl.prototype[oa]=function(){return this},Jl);function Jl(S){this._subscribe=S}try{ts={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ts={indexedDB:null,IDBKeyRange:null}}function rd(S){var k,U=!1,V=new Tc(function(G){var re=se(S),pe,Ce=!1,Ne={},Te={},Le={get closed(){return Ce},unsubscribe:function(){Ce||(Ce=!0,pe&&pe.abort(),Ee&&Zr.storagemutated.unsubscribe(_e))}};G.start&&G.start(Le);var Ee=!1,Ie=function(){return Jo(je)},_e=function(De){Gr(Ne,De),xr(Te,Ne)&&Ie()},je=function(){var De,Re,He;!Ce&&ts.indexedDB&&(Ne={},De={},pe&&pe.abort(),pe=new AbortController,He=function(Xe){var et=Fe();try{re&&Or();var nt=gr(S,Xe);return nt=re?nt.finally(vr):nt}finally{et&&Pe()}}(Re={subscr:De,signal:pe.signal,requery:Ie,querier:S,trans:null}),Promise.resolve(He).then(function(Xe){U=!0,k=Xe,Ce||Re.signal.aborted||(Ne={},function(et){for(var nt in et)if(d(et,nt))return;return 1}(Te=De)||Ee||(Zr(Nc,_e),Ee=!0),Jo(function(){return!Ce&&G.next&&G.next(Xe)}))},function(Xe){U=!1,["DatabaseClosedError","AbortError"].includes(Xe==null?void 0:Xe.name)||Ce||Jo(function(){Ce||G.error&&G.error(Xe)})}))};return setTimeout(Ie,0),Le});return V.hasValue=function(){return U},V.getValue=function(){return k},V}var No=ms;function mi(S){var k=Ma;try{Ma=!0,Zr.storagemutated.fire(S),sa(S,!0)}finally{Ma=k}}f(No,r(r({},xe),{delete:function(S){return new No(S,{addons:[]}).delete()},exists:function(S){return new No(S,{addons:[]}).open().then(function(k){return k.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(S){try{return k=No.dependencies,U=k.indexedDB,k=k.IDBKeyRange,(Be(U)?Promise.resolve(U.databases()).then(function(V){return V.map(function(G){return G.name}).filter(function(G){return G!==Mi})}):me(U,k).toCollection().primaryKeys()).then(S)}catch{return Tr(new Ae.MissingAPI)}var k,U},defineClass:function(){return function(S){l(this,S)}},ignoreTransaction:function(S){return St.trans?Li(St.transless,S):S()},vip:Ue,async:function(S){return function(){try{var k=w(S.apply(this,arguments));return k&&typeof k.then=="function"?k:wt.resolve(k)}catch(U){return Tr(U)}}},spawn:function(S,k,U){try{var V=w(S.apply(U,k||[]));return V&&typeof V.then=="function"?V:wt.resolve(V)}catch(G){return Tr(G)}},currentTransaction:{get:function(){return St.trans||null}},waitFor:function(S,k){return k=wt.resolve(typeof S=="function"?No.ignoreTransaction(S):S).timeout(k||6e4),St.trans?St.trans.waitFor(k):k},Promise:wt,debug:{get:function(){return mt},set:function(S){ct(S)}},derive:m,extend:l,props:f,override:x,Events:Ds,on:Zr,liveQuery:rd,extendObservabilitySet:Gr,getByKeyPath:j,setByKeyPath:_,delByKeyPath:function(S,k){typeof k=="string"?_(S,k,void 0):"length"in k&&[].map.call(k,function(U){_(S,U,void 0)})},shallowClone:B,deepClone:L,getObjectDiff:ue,cmp:Pn,asap:E,minKey:-1/0,addons:[],connections:oo,errnames:we,dependencies:ts,cache:Fr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(S){return parseInt(S)}).reduce(function(S,k,U){return S+k/Math.pow(10,2*U)})})),No.maxKey=Fa(No.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zr(Nc,function(S){Ma||(S=new CustomEvent(nA,{detail:S}),Ma=!0,dispatchEvent(S),Ma=!1)}),addEventListener(nA,function(S){S=S.detail,Ma||mi(S)}));var kc,Ma=!1,cl=function(){};return typeof BroadcastChannel<"u"&&((cl=function(){(kc=new BroadcastChannel(nA)).onmessage=function(S){return S.data&&mi(S.data)}})(),typeof kc.unref=="function"&&kc.unref(),Zr(Nc,function(S){Ma||kc.postMessage(S)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(S){if(!ms.disableBfCache&&S.persisted){mt&&console.debug("Dexie: handling persisted pagehide"),kc!=null&&kc.close();for(var k=0,U=oo;k<U.length;k++)U[k].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(S){!ms.disableBfCache&&S.persisted&&(mt&&console.debug("Dexie: handling persisted pageshow"),cl(),mi({all:new at(-1/0,[[]])}))})),wt.rejectionMapper=function(S,k){return!S||S instanceof $||S instanceof TypeError||S instanceof SyntaxError||!S.name||!ge[S.name]?S:(k=new ge[S.name](k||S.message,S),"stack"in S&&p(k,"stack",{get:function(){return this.inner.stack}}),k)},ct(mt),r(ms,Object.freeze({__proto__:null,Dexie:ms,liveQuery:rd,Entity:mu,cmp:Pn,PropModification:co,replacePrefix:function(S,k){return new co({replacePrefix:[S,k]})},add:function(S){return new co({add:S})},remove:function(S){return new co({remove:S})},default:ms,RangeSet:at,mergeRanges:en,rangesOverlap:xn}),{default:ms}),ms})})(uq);var Khe=uq.exports;const Qj=Rr(Khe),ER=Symbol.for("Dexie"),fg=globalThis[ER]||(globalThis[ER]=Qj);if(Qj.semVer!==fg.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qj.semVer} and ${fg.semVer}`);const{liveQuery:alt,mergeRanges:slt,rangesOverlap:olt,RangeSet:llt,cmp:clt,Entity:ult,PropModification:Alt,replacePrefix:dlt,add:flt,remove:hlt,DexieYProvider:plt}=fg,Aq="GanaderoOS_DB",dq=21;class Whe extends fg{constructor(){super(Aq);Ln(this,"animals");Ln(this,"fathers");Ln(this,"parturitions");Ln(this,"weighings");Ln(this,"lots");Ln(this,"origins");Ln(this,"breedingSeasons");Ln(this,"sireLots");Ln(this,"serviceRecords");Ln(this,"events");Ln(this,"feedingPlans");Ln(this,"bodyWeighings");Ln(this,"products");Ln(this,"healthPlans");Ln(this,"planActivities");Ln(this,"healthEvents");this.version(dq).stores({animals:"&id, userId, status, location, motherId, fatherId, sireLotId, _synced",fathers:"&id, userId, _synced",parturitions:"&id, userId, goatId, status, _synced",weighings:"&id, userId, goatId, date, _synced",lots:"&id, userId, &name, parentLotId, _synced",origins:"&id, userId, &name, _synced",breedingSeasons:"&id, userId, &name, status, _synced",sireLots:"&id, userId, seasonId, sireId, _synced",serviceRecords:"&id, userId, sireLotId, femaleId, _synced",events:"&id, userId, animalId, date, type, lotName, _synced",feedingPlans:"&id, userId, lotName, _synced",bodyWeighings:"&id, userId, animalId, date, _synced",products:"&id, userId, &name, category, _synced",healthPlans:"&id, userId, &name, targetGroup, _synced",planActivities:"&id, userId, healthPlanId, category, _synced",healthEvents:"&id, userId, animalId, date, activityId, _synced"})}}let zv=null;const Ghe=async()=>{if(zv)return zv;const t=new Whe;try{return await t.open(),console.log("Base de datos local abierta con xito (v"+dq+")."),zv=t,t}catch(e){return console.error("Error al abrir la base de datos local.",e),e.name==="VersionError"?console.log("Dexie intentar actualizar la estructura de la base de datos."):confirm("Error al iniciar la base de datos local. Deseas forzar el reinicio? (Tus datos en la nube estn seguros). La aplicacin se recargar.")?(await fg.delete(Aq),window.location.reload()):alert("La aplicacin no puede continuar sin una base de datos funcional."),new Promise(()=>{})}},Jn=()=>{if(!zv)throw new Error("La base de datos no ha sido inicializada. Llama a initDB() primero.");return zv},bs=[];for(let t=0;t<256;++t)bs.push((t+256).toString(16).slice(1));function qhe(t,e=0){return(bs[t[e+0]]+bs[t[e+1]]+bs[t[e+2]]+bs[t[e+3]]+"-"+bs[t[e+4]]+bs[t[e+5]]+"-"+bs[t[e+6]]+bs[t[e+7]]+"-"+bs[t[e+8]]+bs[t[e+9]]+"-"+bs[t[e+10]]+bs[t[e+11]]+bs[t[e+12]]+bs[t[e+13]]+bs[t[e+14]]+bs[t[e+15]]).toLowerCase()}let lB;const Yhe=new Uint8Array(16);function Xhe(){if(!lB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lB=crypto.getRandomValues.bind(crypto)}return lB(Yhe)}const Jhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_R={randomUUID:Jhe};function Zhe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Xhe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qhe(r)}function Ks(t,e,n){return _R.randomUUID&&!t?_R.randomUUID():Zhe(t)}const Gp={nombreFinca:"Mi Finca",theme:"dark",porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:8,mortalidadLevante:3,mortalidadCabras:5,tasaReemplazo:20,eliminacionCabritos:100,pesoPrimerServicioKg:30,edadDesteteDias:90,pesoDesteteMetaKg:15,diasGestacion:150,diasLactanciaObjetivo:305,diasSecadoObjetivo:60,diasConfirmarPrenez:60,diasPreParto:15,diasAlertaAtraso:7,diasRetiroLecheDefault:7,diasRetiroCarneDefault:30,monedaSimbolo:"$",costoSacoAlimento:25,pesoSacoAlimentoKg:40,precioLecheLitro:.8,precioVentaCabritoKg:3.5,precioVentaDescarteAdulto:50},fq=P.createContext({}),Yt=()=>P.useContext(fq),Wi=async(t,e,n)=>{try{const r=Object.entries(n).reduce((l,[u,A])=>(A!==void 0&&u!=="_synced"&&(l[u]=A),l),{}),i=Jn()[t],a=await i.get(e),s=!a||!a.createdAt||n.createdAt===SR(),o={...r};s&&!r.createdAt?o.createdAt=SR():(r.createdAt===null||r.createdAt===void 0)&&delete o.createdAt,await Uj($a(xi,t,e),o,{merge:!0}),await i.update(e,{_synced:!0})}catch(r){console.error(`Firestore sync for ${t} (${e}) failed:`,r);const i=Jn()[t];try{await i.update(e,{_synced:!1})}catch(a){console.error(`Failed to update sync status locally for ${t} (${e}):`,a)}}},epe=({children:t})=>{const{currentUser:e}=cq(),[n,r]=P.useState([]),[i,a]=P.useState([]),[s,o]=P.useState([]),[l,u]=P.useState([]),[A,d]=P.useState([]),[f,h]=P.useState([]),[p,m]=P.useState([]),[v,g]=P.useState([]),[y,x]=P.useState([]),[C,E]=P.useState([]),[j,_]=P.useState([]),[B,N]=P.useState([]),[D,T]=P.useState([]),[O,L]=P.useState([]),[H,q]=P.useState([]),[Y,ee]=P.useState([]),[K,te]=P.useState(!0),[le,se]=P.useState(navigator.onLine?"idle":"offline"),[M,$]=P.useState(Gp),[J,ne]=P.useState(!0),he=P.useRef(null),we=P.useRef([]),Se=P.useRef(!1),Ae=P.useCallback(async()=>{if(Se.current||we.current.length===0||!navigator.onLine){we.current.length===0&&!Se.current&&se("idle");return}Se.current=!0,se("syncing");const Fe=we.current.shift();if(Fe)try{await Fe()}catch(Pe){console.error("Sync Queue: Error processing item:",Pe)}Se.current=!1,we.current.length>0?setTimeout(Ae,100):(se("idle"),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{we.current.length===0&&!Se.current&&se("idle")},2e3))},[]),ge=P.useCallback(Fe=>{we.current.push(Fe),Se.current||Ae()},[Ae]),xe=P.useCallback(async()=>{try{const Fe=Jn(),[Pe,We,Et,ut,qt,bn,Gn,Rt,pn,Xr,gr,Or,vr,Xn,yr,Jr]=await Promise.all([Fe.animals.toArray(),Fe.fathers.toArray(),Fe.weighings.toArray(),Fe.parturitions.toArray(),Fe.lots.toArray(),Fe.origins.toArray(),Fe.breedingSeasons.toArray(),Fe.sireLots.toArray(),Fe.serviceRecords.toArray(),Fe.events.toArray(),Fe.feedingPlans.toArray(),Fe.bodyWeighings.toArray(),Fe.products.toArray(),Fe.healthPlans.toArray(),Fe.planActivities.toArray(),Fe.healthEvents.toArray()]);r(Pe),a(We),o(Et),u(ut),d(qt),h(bn),m(Gn),g(Rt),x(pn),E(Xr),_(gr),N(Or),T(vr),L(Xn),q(yr),ee(Jr)}catch(Fe){console.error("Error al cargar datos locales:",Fe)}finally{te(!1)}},[]);P.useEffect(()=>{let Fe=[];const Pe=()=>{se("idle"),Ae()},We=()=>se("offline");return window.addEventListener("online",Pe),window.addEventListener("offline",We),(async()=>{if(!e){te(!1),ne(!1),r([]),a([]),o([]),u([]),d([]),h([]),m([]),g([]),x([]),E([]),_([]),N([]),T([]),L([]),q([]),ee([]),$(Gp);return}te(!0),ne(!0);try{const ut=await Ghe();await xe();const qt=$a(xi,"configuracion",e.uid),bn=CR(qt,pn=>{pn.exists()?$(Xr=>({...Gp,...Xr,...pn.data()})):($(Gp),Uj(qt,Gp).catch(Xr=>console.error("Failed to set default config",Xr))),ne(!1)},pn=>{console.error("Error fetching config:",pn),ne(!1)});Fe.push(bn);const Gn=pn=>Lhe(She(xi,pn),Mhe("userId","==",e.uid)),Rt=(pn,Xr)=>{const gr=CR(Gn(pn),async Or=>{if(Or.metadata.hasPendingWrites)return;const vr=Or.docChanges().map(Xn=>{const yr={id:Xn.doc.id,...Xn.doc.data()};return Object.keys(yr).forEach(Jr=>{yr[Jr]instanceof Ta&&(yr[Jr]=yr[Jr].toMillis())}),{type:Xn.type,data:yr}});if(vr.length>0){navigator.onLine&&(se("syncing"),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{we.current.length===0&&!Se.current&&se("idle")},2e3));try{await ut.transaction("rw",Xr,async()=>{for(const Xn of vr)Xn.data._synced=!0,Xn.type==="added"||Xn.type==="modified"?await Xr.put(Xn.data):Xn.type==="removed"&&await Xr.delete(Xn.data.id)}),await xe()}catch(Xn){console.error(`Dexie transaction error during sync for ${pn}:`,Xn)}}},Or=>{Or.code==="permission-denied"?console.warn(`Permission denied for ${pn}.`):console.error(`Firestore snapshot error for ${pn}:`,Or)});Fe.push(gr)};Rt("animals",ut.animals),Rt("fathers",ut.fathers),Rt("parturitions",ut.parturitions),Rt("weighings",ut.weighings),Rt("lots",ut.lots),Rt("origins",ut.origins),Rt("breedingSeasons",ut.breedingSeasons),Rt("sireLots",ut.sireLots),Rt("serviceRecords",ut.serviceRecords),Rt("events",ut.events),Rt("feedingPlans",ut.feedingPlans),Rt("bodyWeighings",ut.bodyWeighings),Rt("products",ut.products),Rt("healthPlans",ut.healthPlans),Rt("planActivities",ut.planActivities),Rt("healthEvents",ut.healthEvents)}catch(ut){console.error("Fallo crtico en la inicializacin:",ut),te(!1),ne(!1)}})(),()=>{Fe.forEach(ut=>ut()),window.removeEventListener("online",Pe),window.removeEventListener("offline",We),he.current&&clearTimeout(he.current)}},[e==null?void 0:e.uid,xe,Ae]);const ae=P.useCallback(Fe=>{e&&(async()=>{try{const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.events.put(We),ge(()=>Wi("events",We.id,We)),setTimeout(xe,50)}catch(Pe){console.error("Error en registro de evento local:",Pe)}})()},[e,ge,xe]),Ve=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=(Fe.id?Fe.id:`REF-${Date.now()}`).toUpperCase(),Et={...Fe,id:We,userId:e.uid,createdAt:Date.now(),_synced:!1};await Pe.animals.put(Et);let ut="";if(Et.birthDate&&Et.birthDate!=="N/A")try{ut=` F.N.: ${new Date(Et.birthDate+"T00:00:00Z").toLocaleDateString("es-VE",{day:"numeric",month:"short",year:"numeric",timeZone:"UTC"})}`}catch{ut=` F.N.: ${Et.birthDate}.`}else ut=" F.N. desconocida.";const qt=Et.isReference?"Animal de Referencia":"Animal (Activo)";ae({animalId:Et.id,date:new Date(Et.createdAt).toISOString().split("T")[0],type:"Registro",details:`${qt} registrado en el sistema.${ut}`,lotName:Et.location}),xe(),ge(()=>Wi("animals",Et.id,Et))},[e,ge,xe,ae]),Oe=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et=Fe.toUpperCase(),ut=new Date().toISOString().split("T")[0],qt=await We.animals.get(Et);if(!qt)throw new Error("Animal no encontrado para actualizar");Pe.birthDate&&Pe.birthDate!=="N/A"&&!Pe.lifecycleStage?Pe.lifecycleStage=tpe(Pe.birthDate,qt.sex):(Pe.birthDate==="N/A"||Pe.birthDate==="")&&!Pe.lifecycleStage&&(delete Pe.lifecycleStage,Pe.birthDate="N/A");const bn={...Pe,_synced:!1};await We.animals.update(Et,bn),Pe.location!==void 0&&Pe.location!==qt.location&&ae({animalId:Et,date:ut,type:"Movimiento",details:`Movido de '${qt.location||"Sin Asignar"}' a '${Pe.location||"Sin Asignar"}'`,lotName:Pe.location||""}),Pe.reproductiveStatus!==void 0&&Pe.reproductiveStatus!==qt.reproductiveStatus&&ae({animalId:Et,date:ut,type:"Cambio de Estado",details:`Estado reproductivo: ${Pe.reproductiveStatus}`}),Pe.status!==void 0&&Pe.status!==qt.status&&ae({animalId:Et,date:Pe.endDate||ut,type:"Cambio de Estado",details:`Animal dado de baja: ${Pe.status} ${Pe.cullReason?`(${Pe.cullReason})`:""}`}),Pe.weaningDate&&!qt.weaningDate&&ae({animalId:Et,date:Pe.weaningDate,type:"Cambio de Estado",details:`Destetado con ${Pe.weaningWeight||"N/A"} Kg`}),xe();const Gn=await We.animals.get(Et);Gn&&ge(()=>Wi("animals",Et,Gn))},[e,ge,xe,ae]),fe=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=Fe.toUpperCase();await Pe.animals.delete(We),xe(),ge(()=>Ff($a(xi,"animals",We)).catch(Et=>console.error("Firestore delete sync failed:",Et)))},[e,ge,xe]),$e=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.parturitions.get(Fe);if(!We)throw new Error("Parto no encontrado");const Et={status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0],_synced:!1};await Pe.parturitions.update(Fe,Et),ae({animalId:We.goatId,date:Et.dryingStartDate,type:"Cambio de Estado",details:`Inici proceso de secado (Lactancia de ${We.parturitionDate})`}),xe();const ut=await Pe.parturitions.get(Fe);ut&&ge(()=>Wi("parturitions",Fe,ut))},[e,ge,xe,ae]),ht=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.parturitions.get(Fe);if(!We)throw new Error("Parto no encontrado");const Et={status:"seca",_synced:!1};await Pe.parturitions.update(Fe,Et),ae({animalId:We.goatId,date:new Date().toISOString().split("T")[0],type:"Cambio de Estado",details:`Declarada Seca (Lactancia de ${We.parturitionDate})`}),xe();const ut=await Pe.parturitions.get(Fe);ut&&ge(()=>Wi("parturitions",Fe,ut))},[e,ge,xe,ae]),vt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn();if(await Pe.lots.where("name").equalsIgnoreCase(Fe.name).first())throw new Error(`El lote '${Fe.name}' ya existe.`);const Et={id:Ks(),name:Fe.name,parentLotId:Fe.parentLotId,userId:e.uid,_synced:!1};await Pe.lots.put(Et),xe(),ge(()=>Wi("lots",Et.id,Et))},[e,ge,xe]),Ye=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.lots.get(Fe);if(We){if(await Pe.animals.where({location:We.name}).count()>0)throw new Error("No se puede eliminar un lote con animales asignados.");if(await Pe.lots.where({parentLotId:Fe}).count()>0)throw new Error("No se puede eliminar un lote que contiene sub-lotes.")}await Pe.lots.delete(Fe),xe(),ge(()=>Ff($a(xi,"lots",Fe)).catch(Et=>console.error("Firestore delete sync failed:",Et)))},[e,ge,xe]),Dt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn();if(await Pe.origins.where("name").equalsIgnoreCase(Fe).first())throw new Error(`El origen '${Fe}' ya existe.`);const Et={id:Ks(),name:Fe,userId:e.uid,_synced:!1};await Pe.origins.put(Et),xe(),ge(()=>Wi("origins",Et.id,Et))},[e,ge,xe]),mt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().origins.delete(Fe),xe(),ge(()=>Ff($a(xi,"origins",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),ct=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.weighings.put(We),ae({animalId:Fe.goatId,date:Fe.date,type:"Pesaje Lechero",details:`Registro de ${Fe.kg} Kg`}),xe(),ge(()=>Wi("weighings",We.id,We))},[e,ge,xe,ae]),jt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.bodyWeighings.put(We),ae({animalId:Fe.animalId,date:Fe.date,type:"Pesaje Corporal",details:`Registro de ${Fe.kg} Kg`}),xe(),ge(()=>Wi("bodyWeighings",We.id,We))},[e,ge,xe,ae]),Xt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.weighings.where({date:Fe}).toArray();if(We.length===0)return;const Et=We.map(Rt=>Rt.id),ut=We.map(Rt=>Rt.goatId),bn=(await Pe.events.where("date").equals(Fe).and(Rt=>Rt.type==="Pesaje Lechero"&&ut.includes(Rt.animalId)).toArray()).map(Rt=>Rt.id);await Pe.transaction("rw",Pe.weighings,Pe.events,async()=>{await Pe.weighings.bulkDelete(Et),await Pe.events.bulkDelete(bn)}),await xe(),ge(async()=>{const Rt=z0(xi);Et.forEach(pn=>Rt.delete($a(xi,"weighings",pn))),bn.forEach(pn=>Rt.delete($a(xi,"events",pn))),await Rt.commit()})},[e,ge,xe]),Zt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=Fe.id.toUpperCase();if(await Pe.fathers.where("id").equalsIgnoreCase(We).first())throw new Error(`El ID de padre '${We}' ya est en uso.`);const ut={...Fe,id:We,userId:e.uid,_synced:!1};await Pe.fathers.put(ut),xe(),ge(()=>Wi("fathers",ut.id,ut))},[e,ge,xe]),Ut=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=Fe.motherId.toUpperCase(),Et=Fe.parturitionOutcome==="Aborto"&&!Fe.inducedLactation?"finalizada":"activa",ut=Ks(),qt={id:ut,goatId:We,parturitionDate:Fe.parturitionDate,sireId:Fe.sireId,offspringCount:Fe.offspringCount,parturitionType:Fe.parturitionType,parturitionOutcome:Fe.parturitionOutcome,status:Et,userId:e.uid,_synced:!1,dryingStartDate:Fe.inducedLactation&&Fe.parturitionOutcome==="Aborto"?Fe.parturitionDate:void 0,liveOffspring:Fe.liveOffspring?Fe.liveOffspring.map(Rt=>{var pn;return{id:(pn=Rt.id)==null?void 0:pn.toUpperCase(),sex:Rt.sex,birthWeight:Rt.birthWeight}}):void 0},bn=(Fe.liveOffspring||[]).map(Rt=>({id:Rt.id.toUpperCase(),sex:Rt.sex,status:"Activo",birthDate:Fe.parturitionDate,motherId:We,fatherId:Fe.sireId,birthWeight:parseFloat(Rt.birthWeight)||void 0,userId:e.uid,createdAt:Date.now(),lifecycleStage:Rt.sex==="Hembra"?"Cabrita":"Cabrito",location:"",reproductiveStatus:"No Aplica",isReference:!1,_synced:!1}));await Pe.transaction("rw",Pe.parturitions,Pe.animals,Pe.events,async()=>{await Pe.parturitions.put(qt),ae({animalId:We,date:Fe.parturitionDate,type:Fe.parturitionOutcome==="Aborto"?"Aborto":"Parto",details:Fe.parturitionOutcome==="Aborto"?`Aborto registrado con Semental: ${Fe.sireId}. ${Fe.inducedLactation?"Se induce lactancia.":""}`:`Parto ${Fe.parturitionType} (${Fe.offspringCount} cras) con Semental: ${Fe.sireId}. Vivas: ${bn.length}.`}),bn.length>0&&(await Pe.animals.bulkPut(bn),bn.forEach(Rt=>{ae({animalId:Rt.id,date:Rt.birthDate,type:"Nacimiento",details:`Nacido con ${Rt.birthWeight||"N/A"} Kg. Madre: ${Rt.motherId}. Padre: ${Rt.fatherId}.`})}))}),await xe(),ge(async()=>{const Rt=z0(xi);Rt.set($a(xi,"parturitions",ut),qt),bn.forEach(pn=>Rt.set($a(xi,"animals",pn.id),pn)),await Rt.commit()})},[e,ge,xe,ae]),rn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.serviceRecords.put(We);const Et=await Pe.sireLots.get(We.sireLotId),ut=Et?await Pe.fathers.get(Et.sireId)||await Pe.animals.get(Et.sireId):null;ae({animalId:We.femaleId,date:We.serviceDate,type:"Servicio",details:`Servicio registrado con Semental: ${(ut==null?void 0:ut.name)||(ut==null?void 0:ut.id)||(Et==null?void 0:Et.sireId)||"Desconocido"}`}),xe(),ge(()=>Wi("serviceRecords",We.id,We))},[e,ge,xe,ae]),st=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.animals.where({location:Fe.lotName}).toArray();if(We.length===0)return;const Et=We.map(qt=>({id:Ks(),animalId:qt.id,date:Fe.date,type:Fe.type,details:Fe.details,lotName:Fe.lotName,userId:e.uid,notes:`Evento aplicado a todo el lote: ${Fe.lotName}`,_synced:!1}));await Pe.events.bulkPut(Et),xe(),ge(async()=>{const qt=z0(xi);Et.forEach(bn=>qt.set($a(xi,"events",bn.id),bn)),await qt.commit()})},[e,ge,xe]),bt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.feedingPlans.put(We),xe(),ge(()=>Wi("feedingPlans",We.id,We))},[e,ge,xe]),yt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};return await Pe.breedingSeasons.put(We),xe(),ge(()=>Wi("breedingSeasons",We.id,We)),We.id},[e,ge,xe]),tt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.breedingSeasons.update(Fe,Et),xe();const ut=await We.breedingSeasons.get(Fe);ut&&ge(()=>Wi("breedingSeasons",Fe,ut))},[e,ge,xe]),Qt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().breedingSeasons.delete(Fe),xe(),ge(()=>Ff($a(xi,"breedingSeasons",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),ft=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};return await Pe.sireLots.put(We),xe(),ge(()=>Wi("sireLots",We.id,We)),We.id},[e,ge,xe]),gt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.sireLots.update(Fe,Et),xe();const ut=await We.sireLots.get(Fe);ut&&ge(()=>Wi("sireLots",Fe,ut))},[e,ge,xe]),Ft=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().sireLots.delete(Fe),xe(),ge(()=>Ff($a(xi,"sireLots",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),St=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.products.put(We),xe(),ge(()=>Wi("products",We.id,We))},[e,ge,xe]),Vt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.products.update(Fe,Et),xe();const ut=await We.products.get(Fe);ut&&ge(()=>Wi("products",Fe,ut))},[e,ge,xe]),hn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().products.delete(Fe),xe(),ge(()=>Ff($a(xi,"products",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),cn=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={id:Ks(),...Fe,userId:e.uid,_synced:!1},ut=Pe.map(bn=>({id:Ks(),...bn,healthPlanId:Et.id,userId:e.uid,_synced:!1}));await We.transaction("rw",We.healthPlans,We.planActivities,async()=>{await We.healthPlans.put(Et),await We.planActivities.bulkPut(ut)}),xe(),ge(async()=>{const bn=z0(xi);bn.set($a(xi,"healthPlans",Et.id),Et),ut.forEach(Gn=>bn.set($a(xi,"planActivities",Gn.id),Gn)),await bn.commit()})},[e,ge,xe]),wt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.healthPlans.update(Fe,Et),xe();const ut=await We.healthPlans.get(Fe);ut&&ge(()=>Wi("healthPlans",Fe,ut))},[e,ge,xe]),Zn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),Et=(await Pe.planActivities.where({healthPlanId:Fe}).toArray()).map(qt=>qt.id);await Pe.transaction("rw",Pe.healthPlans,Pe.planActivities,async()=>{await Pe.planActivities.bulkDelete(Et),await Pe.healthPlans.delete(Fe)}),xe(),ge(async()=>{const qt=z0(xi);Et.forEach(bn=>qt.delete($a(xi,"planActivities",bn))),qt.delete($a(xi,"healthPlans",Fe)),await qt.commit()})},[e,ge,xe]),gn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.planActivities.put(We),xe(),ge(()=>Wi("planActivities",We.id,We))},[e,ge,xe]),Kt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.planActivities.update(Fe,Et),xe();const ut=await We.planActivities.get(Fe);ut&&ge(()=>Wi("planActivities",Fe,ut))},[e,ge,xe]),En=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().planActivities.delete(Fe),xe(),ge(()=>Ff($a(xi,"planActivities",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),Vi=P.useCallback(async Fe=>{var Et;if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.healthEvents.put(We),ae({animalId:We.animalId,date:We.date,type:"Tratamiento",details:`${We.type}${We.productUsed?` con ${((Et=D.find(ut=>ut.id===We.productUsed))==null?void 0:Et.name)||"producto"}`:""}`,notes:We.notes,lotName:We.lotName}),xe(),ge(()=>Wi("healthEvents",We.id,We))},[e,ge,xe,ae,D]),Ir=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");se("syncing");try{const Pe=$a(xi,"configuracion",e.uid);await Uj(Pe,Fe,{merge:!0})}catch(Pe){throw console.error("Error al guardar configuracin:",Pe),se("idle"),Pe}},[e]),Pa=P.useMemo(()=>({animals:n,fathers:i,weighings:s,parturitions:l,lots:A,origins:f,breedingSeasons:p,sireLots:v,serviceRecords:y,events:C,feedingPlans:j,bodyWeighings:B,products:D,healthPlans:O,planActivities:H,healthEvents:Y,appConfig:M,isLoadingConfig:J,isLoading:K,syncStatus:le,fetchData:xe,addAnimal:Ve,updateAnimal:Oe,deleteAnimalPermanently:fe,startDryingProcess:$e,setLactationAsDry:ht,addLot:vt,deleteLot:Ye,addOrigin:Dt,deleteOrigin:mt,addBreedingSeason:yt,updateBreedingSeason:tt,deleteBreedingSeason:Qt,addSireLot:ft,updateSireLot:gt,deleteSireLot:Ft,addServiceRecord:rn,addFeedingPlan:bt,addBatchEvent:st,addWeighing:ct,addBodyWeighing:jt,deleteWeighingSession:Xt,addParturition:Ut,addFather:Zt,addProduct:St,updateProduct:Vt,deleteProduct:hn,addHealthPlanWithActivities:cn,updateHealthPlan:wt,deleteHealthPlan:Zn,addPlanActivity:gn,updatePlanActivity:Kt,deletePlanActivity:En,addHealthEvent:Vi,updateAppConfig:Ir}),[n,i,s,l,A,f,p,v,y,C,j,B,D,O,H,Y,M,J,K,le,xe,Ve,Oe,fe,$e,ht,vt,Ye,Dt,mt,yt,tt,Qt,ft,gt,Ft,rn,bt,st,ct,jt,Xt,Ut,Zt,St,Vt,hn,cn,wt,Zn,gn,Kt,En,Vi,Ir]);return c.jsx(fq.Provider,{value:Pa,children:t})},tpe=(t,e)=>{if(!t||t==="N/A"||!e)return"Indefinido";const n=new Date,r=new Date(t+"T00:00:00Z");if(isNaN(r.getTime()))return"Indefinido";const i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s=Math.floor((i-a)/(1e3*60*60*24));return e==="Hembra"?s<=60?"Cabrita":s<=365?"Cabritona":"Cabra Adulta":s<=60?"Cabrito":s<=365?"Macho de Levante":"Macho Cabro"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hq=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rpe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>P.createElement("svg",{ref:l,...rpe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hq("lucide",i),...o},[...s.map(([u,A])=>P.createElement(u,A)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const n=P.forwardRef(({className:r,...i},a)=>P.createElement(ipe,{ref:a,iconNode:e,className:hq(`lucide-${npe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=pt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=pt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=pt("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=pt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=pt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=pt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=pt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=pt("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=pt("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=pt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=pt("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=pt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=pt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=pt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=pt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=pt("ChevronsLeftRight",[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=pt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=pt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=pt("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=pt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=pt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=pt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=pt("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=pt("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=pt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=pt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=pt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=pt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=pt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=pt("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=pt("Dna",[["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m17 6-2.5-2.5",key:"5cdfhj"}],["path",{d:"m14 8-1-1",key:"15nbz5"}],["path",{d:"m7 18 2.5 2.5",key:"16tu1a"}],["path",{d:"m3.5 14.5.5.5",key:"hapbhd"}],["path",{d:"m20 9 .5.5",key:"1n7z02"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m10 16 1.5 1.5",key:"11lckj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=pt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=pt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=pt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=pt("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=pt("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=pt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=pt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=pt("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=pt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=pt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=pt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=pt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=pt("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=pt("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=pt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=pt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=pt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=pt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=pt("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=pt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=pt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=pt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=pt("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=pt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=pt("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=pt("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=pt("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=pt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=pt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=pt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=pt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=pt("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=pt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=pt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=pt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=pt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=pt("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=pt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=pt("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=pt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=pt("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=pt("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=pt("SquareMinus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=pt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=pt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=pt("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=pt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=pt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=pt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=pt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=pt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=pt("Waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=pt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var Lq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jR=be.createContext&&be.createContext(Lq),Hpe=["attr","size","title"];function zpe(t,e){if(t==null)return{};var n=Vpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(this,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){$pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $pe(t,e,n){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kpe(t){var e=Wpe(t,"string");return typeof e=="symbol"?e:e+""}function Wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mq(t){return t&&t.map((e,n)=>be.createElement(e.tag,rC({key:n},e.attr),Mq(e.child)))}function Hl(t){return e=>be.createElement(Gpe,nC({attr:rC({},t.attr)},e),Mq(t.child))}function Gpe(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=zpe(t,Hpe),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",nC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:rC(rC({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&be.createElement("title",null,a),t.children)};return jR!==void 0?be.createElement(jR.Consumer,null,n=>e(n)):e(Lq)}function Rq(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 23.38L89.844 89.845l-64.9 162.254 14.85 5.943c20.312-50.766 40.62-101.535 60.93-152.304l1.432-3.58L256 40.616l153.844 61.54 1.43 3.58 60.93 152.305 14.853-5.942-64.9-162.254C366.77 67.69 311.386 45.534 256 23.38zm0 36.624l-139.996 55.998L72.8 224h.2v263h78V329h-39v-18h297v176h30V224h.2c-14.402-36-28.802-72-43.204-107.998L256 60.004zM151 135h210v114H151V135zm23.563 18L199 201.873V153h-24.438zM313 153v48.873L337.438 153H313zm-144 29.127V231h24.438L169 182.127zm174 0L318.562 231H343v-48.873zm-98.73 18.69c-1.207-.02-2.31.02-3.288.128-2.823.31-10.76 3.708-16.86 7.3-2.796 1.645-5.23 3.22-7.122 4.484V231h78v-16.97c-4.193-1.675-10.334-4.02-17.578-6.368-11.206-3.63-24.71-6.71-33.152-6.846zM160 263h192v18H160v-18zm15.16 66L208 389.205 240.84 329h-65.68zm144 0L352 389.205 384.84 329h-65.68zM169 355.295v105.41L197.748 408 169 355.295zm78 0L218.252 408 247 460.705v-105.41zm66 0v105.41L341.748 408 313 355.295zm78 0L362.252 408 391 460.705v-105.41zm-183 71.5L175.16 487h65.68L208 426.795zm144 0L319.16 487h65.68L352 426.795z"},child:[]}]})(t)}function qpe(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23 23v466h466v-18H41v-82.184l85.854-57.234 70.023 70.022 65.133-260.536L387.28 203.7 455.07 95.73l19.317 11.858 6.102-71.1-60.644 37.616 19.884 12.207-59.01 93.99-130.732-65.366-62.865 251.462-57.98-57.978L41 367.184V23H23z"},child:[]}]})(t)}function Ype(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M44.62 106a26 26 0 0 0-25.69 29.3c16 124 16 117.4 0 241.4A26 26 0 0 0 54.72 404l138.68-57.7c-1.2 9.5-2.4 18.9-3.9 30.4-2.5 19.8 17.3 35 35.8 27.3l252-124c9.7-4 16-13.5 16-24s-6.3-20-16-24l-252-124c-3.2-1.3-6.6-2-10.1-2-15.6.1-27.7 13.8-25.7 29.3 1.5 11.5 2.7 20.9 3.9 30.4L54.72 108a26 26 0 0 0-10.1-2z"},child:[]}]})(t)}function cx(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M273 459l7.79-20 6.21 20 5.79-23.33-4.25-48c-7.76 7.94-17.54 17.85-29.74 30.27zm38.5-380.86a115.06 115.06 0 0 0-21.13-19.6c-17.315-11.88-35.418-18.913-55.08-22.14-18.751-3.067-37.99-2.743-56.33.12A203.86 203.86 0 0 0 133 49.42a184.2 184.2 0 0 0-29.62 15.36c-12.304 8.597-10.431 6.828.95 1.82a179.6 179.6 0 0 1 30.9-10c50.427-4.832 98.41-7.579 134.17 27.17a80 80 0 0 1 12.28 16c4.714 8.06 7.805 16.877 9.66 25.59l45.69 2.84c-5.032-17.752-15.256-37.574-25.53-50.06zm50.05 26.63c-8.531-13.217-18.495-25.428-29.66-34.88a78.24 78.24 0 0 0-15.79-10.38c2.67 2.68 5.22 5.45 7.61 8.32a138.13 138.13 0 0 1 9.13 12.11l.1.14.09.14c9.772 15.14 17.164 33.862 20.78 49.15l22.19 1.3a253.49 253.49 0 0 0-14.43-25.91zm29.89 43l70 179.4-11.82 28.37-65.77-37.94-8 13.86 67.56 39-4.327 5.754L394.12 372l-65.33-31.47a42.41 42.41 0 0 0-9.29-1.43c-5.71 0-9.52 2.06-12.71 6.62-2.53 3.61-78.5 80.52-147.64 150.28H16V243.73l92.85 3.85 96.61-33.26 10.13-11a214.71 214.71 0 0 1 38 24.27 18.57 18.57 0 0 0 11.61 3.93c13.792-1.574 22.025-9.12 32.83-17.83-3.267-21.244-6.724-43.71-9.56-62.1-6.463-2.155-12.926-4.308-19.39-6.46l4.39-4.78zm-37.25 65.02c-4.024-14.705-20.114-19.427-30.58-18.14-3.073.432-6.167 1.427-8.77 2.68.868 3.09 2.17 7.87 3.79 10.35 6.527 9.211 17.348 13.898 27.64 12.51 3.967-.672 8.94-3.676 7.92-7.4zm61.63 105.47l19 20 11.6-11-19-20zM475 172.99s-40.54-27.8-57-1.2l11.25 28.83zM294 382.05l13.4 22.28-.4-35.64c-3.29 3.45-7.53 7.82-12.95 13.36zm-30.6-167c5.858 1.872 17.61-6.048 17.33-8.01l-6.67-43.33-28-9.31c-17.65-2.861-58.224-4.989-67.27 9.28 39.596 39.732 39.526 16.87 84.61 51.37zm127.08 172.89c-15.313-7.704-30.838-14.996-46.28-22.44 5.153 29.387 10.895 58.672 15.75 88.11l25.26 37.33-2.6-34L400 469.61v-28.67l10.19-41.95 6.67-11.05z"},child:[]}]})(t)}function Xpe(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M302.958 20.019l-93.916 46.564v35.404c31.305-15.522 62.61-31.047 93.916-46.568zm6.53 52.252l-95.4 47.3 63.036 78.137 95.397-47.303zm-111.915 55.492l-33.732 16.724h47.224zm-22.119 34.722l71.615 26.633-21.484-26.633zm-41.021 3.948v276.752l131.22 48.796v-276.75zm243.134 1.56c-31.306 15.521-62.61 31.044-93.916 46.567v275.863l93.916-46.567zM176.501 272.466s-15.3 15.085-9.889 24.203c4.167 7.02 21.889 5.418 21.889 5.418l15.549 3.848s17.72 10.374 21.887 5.416c5.41-6.44-9.887-29.098-9.887-29.098s35.91 33.492 29.662 47.318c-3.143 6.955-24.719-2.117-24.719-2.117s5.495 7.21 4.944 10.549c-1.001 6.062-13.774 9.916-13.774 9.916s1.111 21.24-6 25.168c-5.147 2.843-14.628.497-19.775-4.895-7.111-7.448-6-28.136-6-28.136s-12.775-10.177-13.776-16.735c-.55-3.611 4.944-8.103 4.944-8.103s-21.575-1.607-24.717-10.117c-6.247-16.919 29.662-32.635 29.662-32.635z"},child:[]}]})(t)}function Jpe(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M90.52 390.06h38.497v16.583H65.443V390.06l31.933-28.182c2.852-2.578 4.96-5.098 6.328-7.56 1.368-2.46 2.05-5.018 2.05-7.675 0-4.1-1.386-7.402-4.16-9.902-2.733-2.5-6.386-3.75-10.956-3.75-3.516 0-7.363.763-11.543 2.286-4.18 1.485-8.652 3.71-13.418 6.68v-19.22c5.078-1.678 10.098-2.948 15.06-3.807 4.96-.9 9.823-1.35 14.588-1.35 10.47 0 18.594 2.306 24.375 6.915 5.82 4.61 8.73 11.035 8.73 19.277 0 4.766-1.23 9.22-3.69 13.36-2.46 4.1-7.637 9.61-15.528 16.523l-18.69 16.406m349.377 32.915c5.897 1.524 10.37 4.18 13.417 7.97 3.086 3.75 4.63 8.534 4.63 14.355 0 8.672-3.322 15.273-9.962 19.804-6.64 4.493-16.328 6.74-29.063 6.74-4.492 0-9.004-.372-13.535-1.115-4.492-.704-8.945-1.778-13.36-3.223v-17.403c4.22 2.11 8.4 3.71 12.54 4.805 4.18 1.054 8.28 1.58 12.304 1.58 5.978 0 10.548-1.034 13.712-3.104 3.203-2.07 4.805-5.04 4.805-8.907 0-3.985-1.64-6.993-4.922-9.024-3.242-2.07-8.047-3.105-14.414-3.106h-9.022v-14.53h9.492c5.664 0 9.883-.88 12.656-2.638 2.773-1.796 4.16-4.51 4.16-8.144 0-3.36-1.347-5.957-4.043-7.793-2.695-1.836-6.504-2.754-11.426-2.754-3.632 0-7.304.41-11.015 1.232-3.71.82-7.403 2.03-11.074 3.632V384.83c4.453-1.25 8.867-2.186 13.242-2.812 4.375-.624 8.672-.937 12.89-.937 11.368 0 19.864 1.876 25.49 5.626 5.663 3.71 8.495 9.316 8.495 16.816 0 5.118-1.348 9.317-4.043 12.598-2.696 3.242-6.68 5.527-11.953 6.856M236.062 230.74h19.922v-56.544l-20.45 4.22v-15.352l20.333-4.22h21.445v71.895h19.922v15.585h-61.172V230.74M496 496V352H352V128H176v160H16v208"},child:[]}]})(t)}function Zpe(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M24.844 25.563c1.333 77.685 25.778 141.568 63.283 187.955 4.367-4.937 8.77-9.796 13.13-14.553a9.5 9.5 0 0 1 7.348-3.178 9.5 9.5 0 0 1 6.66 16.016c-22.957 25.048-46.51 52.82-58.777 76.95-6.132 12.067-9.31 23.07-9.037 31.874.17 5.474 1.374 10.174 4.26 14.562l16.552-22.684a9.5 9.5 0 0 1 7.898-4.008 9.5 9.5 0 0 1 7.45 15.207l-16.635 22.797c2.973.316 6.316-.284 10.474-1.75 8.174-2.882 18.38-9.868 28.734-19.672 20.704-19.608 42.15-50.057 56.953-77.644a9.5 9.5 0 0 1 9.9-4.885c6.228 1.017 22.147 2.215 35.78.573 6.816-.82 13.107-2.395 17.232-4.432 4.124-2.035 5.597-3.84 6.12-5.934a9.5 9.5 0 1 1 18.434 4.603c-2.193 8.78-8.967 14.825-16.145 18.37-7.18 3.542-15.245 5.277-23.372 6.256-12.798 1.542-25.47 1.082-34.522.143-2.816 5.038-5.806 10.122-8.937 15.192 29.03 14.058 60.48 21.354 92.34 21.115 22.055-.164 43.82-4.29 64.64-11.937-6.014-8.637-11.297-17.378-15.596-25.96A9.5 9.5 0 1 1 326 252.03c13.688 27.32 40.692 59.164 67.537 79.982 13.423 10.41 26.846 18.047 37.842 21.363 5.988 1.806 10.902 2.378 14.983 1.854l-10.996-13.093a9.5 9.5 0 0 1 7.06-15.715 9.5 9.5 0 0 1 7.49 3.494l12.054 14.352c3.226-4.725 4.71-9.948 5.042-16.102.513-9.534-2.39-21.344-8.18-34.158-11.578-25.63-34.297-54.796-57.053-79.625a9.5 9.5 0 0 1 7.322-16.01 9.5 9.5 0 0 1 6.685 3.172c3.1 3.384 6.205 6.848 9.29 10.37 37.514-47.34 61.834-111.574 62.892-186.352H24.843zm138.664 270.68c-4.952 14.607-8.863 29.266-11.043 42.61-2.476 15.154-2.608 28.608-.29 37.745 2.32 9.137 5.71 13.32 12.514 15.22 10.31 2.88 17.56 1.32 24.884-3.572 7.325-4.893 14.436-13.87 20.696-25.87 6.813-13.064 12.555-29.486 17.517-47.09-22.16-3.106-43.775-9.54-64.28-19.044zm173.04 6.083c-9.938 3.936-20.108 7.144-30.456 9.57.512.913 1.02 1.844 1.54 2.733 7.736 13.262 16.197 23.722 23.802 29.292 7.604 5.57 12.882 6.638 19.34 3.77 7.937-3.52 12.458-8.014 15.236-14.087-10.454-9.556-20.457-20.185-29.46-31.28z"},child:[]}]})(t)}const eme=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(""),[i,a]=P.useState(""),[s,o]=P.useState(null),[l,u]=P.useState(!1),A=async()=>{if(window.confirm("Ests seguro de que quieres forzar la eliminacin de la base de datos local? Esto no afectar tus datos en la nube."))try{await fg.delete("GanaderoOS_DB"),alert("Base de datos local eliminada con xito. La pgina se recargar."),window.location.reload()}catch(h){alert("Error al eliminar la base de datos."),console.error(h)}},d=h=>{if(h.code==="auth/network-request-failed")return"No hay conexin a internet. Se requiere conexin para iniciar sesin.";switch(h.code){case"auth/invalid-email":return"El formato del correo electrnico no es vlido.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electrnico o contrasea incorrectos.";case"auth/email-already-in-use":return"Este correo electrnico ya est registrado.";case"auth/weak-password":return"La contrasea debe tener al menos 6 caracteres.";default:return console.error("Firebase Auth Error:",h),"Ocurri un error inesperado. Por favor, intenta de nuevo."}},f=async h=>{h.preventDefault(),o(null),u(!0);try{t?await EAe(dg,n,i):await SAe(dg,n,i)}catch(p){o(d(p))}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[c.jsx(cx,{className:"w-12 h-12 text-brand-orange"}),c.jsx("h1",{className:"text-4xl font-bold text-white",children:"GanaderoOS"})]}),c.jsx("p",{className:"text-zinc-400",children:"El sistema operativo para tu finca."})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[c.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesin"}),c.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"Correo electrnico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),c.jsx("input",{type:"password",value:i,onChange:h=>a(h.target.value),placeholder:"Contrasea",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),s&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:s})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl transition-colors hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesin":"Crear Cuenta"})]})]}),c.jsxs("div",{className:"mt-6 text-center",children:[c.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-2 mx-auto bg-brand-red/20 text-brand-red font-semibold py-2 px-4 rounded-lg border border-brand-red/50 hover:bg-brand-red/30 transition-colors",children:[c.jsx(xc,{size:16}),"Forzar Reinicio de DB Local"]}),c.jsx("p",{className:"text-xs text-zinc-600 mt-2",children:"Si la app no carga, usa este botn."})]})]})})};function tme(t){return Hl({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 160c44.2 0 80-35.8 80-80S236.2 0 192 0s-80 35.8-80 80 35.8 80 80 80zm-53.4 248.8l25.6-32-61.5-51.2L56.8 383c-11.4 14.2-11.7 34.4-.8 49l48 64c7.9 10.5 19.9 16 32 16 8.3 0 16.8-2.6 24-8 17.7-13.2 21.2-38.3 8-56l-29.4-39.2zm142.7-83.2l-61.5 51.2 25.6 32L216 448c-13.2 17.7-9.7 42.8 8 56 7.2 5.4 15.6 8 24 8 12.2 0 24.2-5.5 32-16l48-64c10.9-14.6 10.6-34.8-.8-49l-45.9-57.4zM376.7 145c-12.7-18.1-37.6-22.4-55.7-9.8l-40.6 28.5c-52.7 37-124.2 37-176.8 0L63 135.3C44.9 122.6 20 127 7.3 145-5.4 163.1-1 188 17 200.7l40.6 28.5c17 11.9 35.4 20.9 54.4 27.9V288h160v-30.8c19-7 37.4-16 54.4-27.9l40.6-28.5c18.1-12.8 22.4-37.7 9.7-55.8z"},child:[]}]})(t)}function nme(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(t)}function rme(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"},child:[]}]})(t)}function ime(t){return Hl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 336c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 112c-13.23 0-24-10.77-24-24s10.77-24 24-24 24 10.77 24 24-10.77 24-24 24zm80-288h-64v-40.2c0-14.12 4.7-27.76 13.15-38.84 4.42-5.8 3.55-14.06-1.32-19.49L534.2 37.3c-6.66-7.45-18.32-6.92-24.7.78C490.58 60.9 480 89.81 480 119.8V160H377.67L321.58 29.14A47.914 47.914 0 0 0 277.45 0H144c-26.47 0-48 21.53-48 48v146.52c-8.63-6.73-20.96-6.46-28.89 1.47L36 227.1c-8.59 8.59-8.59 22.52 0 31.11l5.06 5.06c-4.99 9.26-8.96 18.82-11.91 28.72H22c-12.15 0-22 9.85-22 22v44c0 12.15 9.85 22 22 22h7.14c2.96 9.91 6.92 19.46 11.91 28.73l-5.06 5.06c-8.59 8.59-8.59 22.52 0 31.11L67.1 476c8.59 8.59 22.52 8.59 31.11 0l5.06-5.06c9.26 4.99 18.82 8.96 28.72 11.91V490c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-7.14c9.9-2.95 19.46-6.92 28.72-11.91l5.06 5.06c8.59 8.59 22.52 8.59 31.11 0l31.11-31.11c8.59-8.59 8.59-22.52 0-31.11l-5.06-5.06c4.99-9.26 8.96-18.82 11.91-28.72H330c12.15 0 22-9.85 22-22v-6h80.54c21.91-28.99 56.32-48 95.46-48 18.64 0 36.07 4.61 51.8 12.2l50.82-50.82c6-6 9.37-14.14 9.37-22.63V192c.01-17.67-14.32-32-31.99-32zM176 416c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm22-256h-38V64h106.89l41.15 96H198z"},child:[]}]})(t)}function ame(t){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.28 445.86l-73.03-292.13c-3.8-15.19-16.44-25.72-30.87-25.72h-60.25c3.57-10.05 5.88-20.72 5.88-32 0-53.02-42.98-96-96-96s-96 42.98-96 96c0 11.28 2.3 21.95 5.88 32h-60.25c-14.43 0-27.08 10.54-30.87 25.72L1.72 445.86C-6.61 479.17 16.38 512 48.03 512h415.95c31.64 0 54.63-32.83 46.3-66.14zM256 128c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z"},child:[]}]})(t)}const An=({isOpen:t,onClose:e,title:n,children:r,size:i="default"})=>{if(!t)return null;const a=i==="fullscreen"?"items-end":"items-center",s={default:"max-w-md m-4 rounded-2xl",large:"max-w-xl m-4 rounded-2xl",fullscreen:"w-full h-[95vh] rounded-t-2xl flex flex-col"};return c.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center z-50 animate-fade-in ${a}`,onClick:e,children:c.jsxs("div",{className:`bg-ios-modal-bg border border-zinc-700/80 shadow-2xl text-white transform transition-all animate-slide-up ${s[i]}`,onClick:o=>o.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-zinc-800/80",children:[c.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),c.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:c.jsx(Go,{size:20})})]}),c.jsx("div",{className:i==="fullscreen"?"flex-1 overflow-y-auto p-4":"overflow-y-auto max-h-[85vh] p-6",children:r})]})})},sme=({isOpen:t,onClose:e,editingLotId:n})=>{const{lots:r,addLot:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState(""),d=async()=>{if(a.trim()===""){A("El nombre del lote no puede estar vaco.");return}try{await i({name:a,parentLotId:o||void 0}),f()}catch(p){A(p.message||"No se pudo guardar el lote."),console.error(p)}},f=()=>{s(""),l(""),A(""),e()},h=r.filter(p=>!p.parentLotId&&p.id!==n);return c.jsx(An,{isOpen:t,onClose:f,title:"Crear Nuevo Lote",children:c.jsxs("form",{onSubmit:p=>{p.preventDefault(),d()},className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lotName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote"}),c.jsx("input",{id:"lotName",type:"text",value:a,onChange:p=>s(p.target.value),placeholder:"Ej: Galpn 1",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"parentLot",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-lote de (Opcional)"}),c.jsxs("select",{id:"parentLot",value:o,onChange:p=>l(p.target.value),className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0",children:[c.jsx("option",{value:"",children:"Ninguno (Es un Lote Principal)"}),h.map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:u}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:f,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},DD=P.createContext({});function JA(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const F5=P.createContext(null),L5=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ome extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lme({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=P.useContext(L5);return P.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const A=document.createElement("style");return a&&(A.nonce=a),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[e]),c.jsx(ome,{isPresent:e,childRef:r,sizeRef:i,children:P.cloneElement(t,{ref:r})})}const cme=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=JA(ume),l=P.useId(),u=P.useCallback(d=>{o.set(d,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),A=P.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:d=>(o.set(d,!1),()=>o.delete(d))}),a?[Math.random(),u]:[n,u]);return P.useMemo(()=>{o.forEach((d,f)=>o.set(f,!1))},[n]),P.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=c.jsx(lme,{isPresent:n,children:t})),c.jsx(F5.Provider,{value:A,children:t})};function ume(){return new Map}function Uq(t=!0){const e=P.useContext(F5);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=P.useId();P.useEffect(()=>{t&&i(a)},[t]);const s=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const y1=t=>t.key||"";function TR(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const OD=typeof window<"u",M5=OD?P.useLayoutEffect:P.useEffect,qw=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=Uq(s),u=P.useMemo(()=>TR(t),[t]),A=s&&!o?[]:u.map(y1),d=P.useRef(!0),f=P.useRef(u),h=JA(()=>new Map),[p,m]=P.useState(u),[v,g]=P.useState(u);M5(()=>{d.current=!1,f.current=u;for(let C=0;C<v.length;C++){const E=y1(v[C]);A.includes(E)?h.delete(E):h.get(E)!==!0&&h.set(E,!1)}},[v,A.length,A.join("-")]);const y=[];if(u!==p){let C=[...u];for(let E=0;E<v.length;E++){const j=v[E],_=y1(j);A.includes(_)||(C.splice(E,0,j),y.push(j))}a==="wait"&&y.length&&(C=y),g(TR(C)),m(u);return}const{forceRender:x}=P.useContext(DD);return c.jsx(c.Fragment,{children:v.map(C=>{const E=y1(C),j=s&&!o?!1:u===v||A.includes(E),_=()=>{if(h.has(E))h.set(E,!0);else return;let B=!0;h.forEach(N=>{N||(B=!1)}),B&&(x==null||x(),g(f.current),s&&(l==null||l()),r&&r())};return c.jsx(cme,{isPresent:j,initial:!d.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:j?void 0:_,children:C},E)})})},Nl=t=>t;let Qq=Nl;function FD(t){let e;return()=>(e===void 0&&(e=t()),e)}const mg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},jA=t=>t*1e3,IA=t=>t/1e3,Ame={useManualTiming:!1};function dme(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(l.schedule(u),t()),u(s)}const l={schedule:(u,A=!1,d=!1)=>{const h=d&&r?e:n;return A&&a.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const b1=["read","resolveKeyframes","update","preRender","render","postRender"],fme=40;function Hq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=b1.reduce((g,y)=>(g[y]=dme(a),g),{}),{read:o,resolveKeyframes:l,update:u,preRender:A,render:d,postRender:f}=s,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,fme),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),A.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},p=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:b1.reduce((g,y)=>{const x=s[y];return g[y]=(C,E=!1,j=!1)=>(n||p(),x.schedule(C,E,j)),g},{}),cancel:g=>{for(let y=0;y<b1.length;y++)s[b1[y]].cancel(g)},state:i,steps:s}}const{schedule:fi,cancel:QA,state:Cs,steps:uB}=Hq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nl,!0),zq=P.createContext({strict:!1}),kR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gg={};for(const t in kR)gg[t]={isEnabled:e=>kR[t].some(n=>!!e[n])};function hme(t){for(const e in t)gg[e]={...gg[e],...t[e]}}const pme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pme.has(t)}let Vq=t=>!iC(t);function mme(t){t&&(Vq=e=>e.startsWith("on")?!iC(e):t(e))}try{mme(require("@emotion/is-prop-valid").default)}catch{}function gme(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Vq(i)||n===!0&&iC(i)||!e&&!iC(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vme(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const R5=P.createContext({});function Gy(t){return typeof t=="string"||Array.isArray(t)}function U5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const LD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],MD=["initial",...LD];function Q5(t){return U5(t.animate)||MD.some(e=>Gy(t[e]))}function $q(t){return!!(Q5(t)||t.variants)}function yme(t,e){if(Q5(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gy(n)?n:void 0,animate:Gy(r)?r:void 0}}return t.inherit!==!1?e:{}}function bme(t){const{initial:e,animate:n}=yme(t,P.useContext(R5));return P.useMemo(()=>({initial:e,animate:n}),[PR(e),PR(n)])}function PR(t){return Array.isArray(t)?t.join(" "):t}const xme=Symbol.for("motionComponentSymbol");function hm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wme(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hm(n)&&(n.current=r))},[e])}const RD=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cme="framerAppearId",Kq="data-"+RD(Cme),{schedule:UD}=Hq(queueMicrotask,!1),Wq=P.createContext({});function Sme(t,e,n,r,i){var a,s;const{visualElement:o}=P.useContext(R5),l=P.useContext(zq),u=P.useContext(F5),A=P.useContext(L5).reducedMotion,d=P.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:A}));const f=d.current,h=P.useContext(Wq);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Eme(d.current,n,i,h);const p=P.useRef(!1);P.useInsertionEffect(()=>{f&&p.current&&f.update(n,u)});const m=n[Kq],v=P.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return M5(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),UD.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),f}function Eme(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Gq(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&hm(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Gq(t){if(t)return t.options.allowProjection!==!1?t.projection:Gq(t.parent)}function _me({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&hme(t);function o(u,A){let d;const f={...P.useContext(L5),...u,layoutId:Bme(u)},{isStatic:h}=f,p=bme(u),m=r(u,h);if(!h&&OD){Nme();const v=jme(f);d=v.MeasureLayout,p.visualElement=Sme(i,m,f,e,v.ProjectionNode)}return c.jsxs(R5.Provider,{value:p,children:[d&&p.visualElement?c.jsx(d,{visualElement:p.visualElement,...f}):null,n(i,u,wme(m,p.visualElement,A),m,h,p.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=P.forwardRef(o);return l[xme]=i,l}function Bme({layoutId:t}){const e=P.useContext(DD).id;return e&&t!==void 0?e+"-"+t:t}function Nme(t,e){P.useContext(zq).strict}function jme(t){const{drag:e,layout:n}=gg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ime=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QD(t){return typeof t!="string"||t.includes("-")?!1:!!(Ime.indexOf(t)>-1||/[A-Z]/u.test(t))}function DR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function HD(t,e,n,r){if(typeof e=="function"){const[i,a]=DR(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=DR(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Vj=t=>Array.isArray(t),Tme=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kme=t=>Vj(t)?t[t.length-1]||0:t,Bs=t=>!!(t&&t.getVelocity);function Yw(t){const e=Bs(t)?t.get():t;return Tme(e)?e.toValue():e}function Pme({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:Dme(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const qq=t=>(e,n)=>{const r=P.useContext(R5),i=P.useContext(F5),a=()=>Pme(t,e,r,i);return n?a():JA(a)};function Dme(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=Yw(a[f]);let{initial:s,animate:o}=t;const l=Q5(t),u=$q(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let A=n?n.initial===!1:!1;A=A||s===!1;const d=A?o:s;if(d&&typeof d!="boolean"&&!U5(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=HD(t,f[h]);if(p){const{transitionEnd:m,transition:v,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const C=A?x.length-1:0;x=x[C]}x!==null&&(i[y]=x)}for(const y in m)i[y]=m[y]}}}return i}const l0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],up=new Set(l0),Yq=t=>e=>typeof e=="string"&&e.startsWith(t),Xq=Yq("--"),Ome=Yq("var(--"),zD=t=>Ome(t)?Fme.test(t.split("/*")[0].trim()):!1,Fme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jq=(t,e)=>e&&typeof t=="number"?e.transform(t):t,HA=(t,e,n)=>n>e?e:n<t?t:n,c0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qy={...c0,transform:t=>HA(0,1,t)},x1={...c0,default:1},ux=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vd=ux("deg"),Lu=ux("%"),Bn=ux("px"),Lme=ux("vh"),Mme=ux("vw"),OR={...Lu,parse:t=>Lu.parse(t)/100,transform:t=>Lu.transform(t*100)},Rme={borderWidth:Bn,borderTopWidth:Bn,borderRightWidth:Bn,borderBottomWidth:Bn,borderLeftWidth:Bn,borderRadius:Bn,radius:Bn,borderTopLeftRadius:Bn,borderTopRightRadius:Bn,borderBottomRightRadius:Bn,borderBottomLeftRadius:Bn,width:Bn,maxWidth:Bn,height:Bn,maxHeight:Bn,top:Bn,right:Bn,bottom:Bn,left:Bn,padding:Bn,paddingTop:Bn,paddingRight:Bn,paddingBottom:Bn,paddingLeft:Bn,margin:Bn,marginTop:Bn,marginRight:Bn,marginBottom:Bn,marginLeft:Bn,backgroundPositionX:Bn,backgroundPositionY:Bn},Ume={rotate:vd,rotateX:vd,rotateY:vd,rotateZ:vd,scale:x1,scaleX:x1,scaleY:x1,scaleZ:x1,skew:vd,skewX:vd,skewY:vd,distance:Bn,translateX:Bn,translateY:Bn,translateZ:Bn,x:Bn,y:Bn,z:Bn,perspective:Bn,transformPerspective:Bn,opacity:qy,originX:OR,originY:OR,originZ:Bn},FR={...c0,transform:Math.round},VD={...Rme,...Ume,zIndex:FR,size:Bn,fillOpacity:qy,strokeOpacity:qy,numOctaves:FR},Qme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hme=l0.length;function zme(t,e,n){let r="",i=!0;for(let a=0;a<Hme;a++){const s=l0[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=Jq(o,VD[s]);if(!l){i=!1;const A=Qme[s]||s;r+=`${A}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function $D(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const u=e[l];if(up.has(l)){s=!0;continue}else if(Xq(l)){i[l]=u;continue}else{const A=Jq(u,VD[l]);l.startsWith("origin")?(o=!0,a[l]=A):r[l]=A}}if(e.transform||(s||n?r.transform=zme(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:A=0}=a;r.transformOrigin=`${l} ${u} ${A}`}}const Vme={offset:"stroke-dashoffset",array:"stroke-dasharray"},$me={offset:"strokeDashoffset",array:"strokeDasharray"};function Kme(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Vme:$me;t[a.offset]=Bn.transform(-r);const s=Bn.transform(e),o=Bn.transform(n);t[a.array]=`${s} ${o}`}function LR(t,e,n){return typeof t=="string"?t:Bn.transform(e+n*t)}function Wme(t,e,n){const r=LR(e,t.x,t.width),i=LR(n,t.y,t.height);return`${r} ${i}`}function KD(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},A,d){if($D(t,u,d),A){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:p}=t;f.transform&&(p&&(h.transform=f.transform),delete f.transform),p&&(i!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=Wme(p,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&Kme(f,s,o,l,!1)}const WD=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Zq=()=>({...WD(),attrs:{}}),GD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eY(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const tY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nY(t,e,n,r){eY(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(tY.has(i)?i:RD(i),e.attrs[i])}const aC={};function Gme(t){Object.assign(aC,t)}function rY(t,{layout:e,layoutId:n}){return up.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!aC[t]||t==="opacity")}function qD(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(Bs(i[s])||e.style&&Bs(e.style[s])||rY(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function iY(t,e,n){const r=qD(t,e,n);for(const i in t)if(Bs(t[i])||Bs(e[i])){const a=l0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function qme(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const MR=["x","y","width","height","cx","cy","r"],Yme={useVisualState:qq({scrapeMotionValuesFromProps:iY,createRenderState:Zq,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(up.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<MR.length;o++){const l=MR[o];t[l]!==e[l]&&(s=!0)}s&&fi.read(()=>{qme(n,r),fi.render(()=>{KD(r,i,GD(n.tagName),t.transformTemplate),nY(n,r)})})}})},Xme={useVisualState:qq({scrapeMotionValuesFromProps:qD,createRenderState:WD})};function aY(t,e,n){for(const r in e)!Bs(e[r])&&!rY(r,n)&&(t[r]=e[r])}function Jme({transformTemplate:t},e){return P.useMemo(()=>{const n=WD();return $D(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Zme(t,e){const n=t.style||{},r={};return aY(r,n,t),Object.assign(r,Jme(t,e)),r}function ege(t,e){const n={},r=Zme(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function tge(t,e,n,r){const i=P.useMemo(()=>{const a=Zq();return KD(a,e,GD(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};aY(a,t.style,t),i.style={...a,...i.style}}return i}function nge(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(QD(n)?tge:ege)(r,a,s,n),u=gme(r,typeof n=="string",t),A=n!==P.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=P.useMemo(()=>Bs(d)?d.get():d,[d]);return P.createElement(n,{...A,children:f})}}function rge(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...QD(r)?Yme:Xme,preloadedFeatures:t,useRender:nge(i),createVisualElement:e,Component:r};return _me(s)}}function sY(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function H5(t,e,n){const r=t.getProps();return HD(r,e,n!==void 0?n:r.custom,t)}const ige=FD(()=>window.ScrollTimeline!==void 0);class age{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(ige()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sge extends age{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function YD(t,e){return t?t[e]||t.default||t:void 0}const $j=2e4;function oY(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$j;)e+=n,r=t.next(e);return e>=$j?1/0:e}function XD(t){return typeof t=="function"}function RR(t,e){t.timeline=e,t.onfinish=null}const JD=t=>Array.isArray(t)&&typeof t[0]=="number",oge={linearEasing:void 0};function lge(t,e){const n=FD(t);return()=>{var r;return(r=oge[e])!==null&&r!==void 0?r:n()}}const sC=lge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lY=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(mg(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function cY(t){return!!(typeof t=="function"&&sC()||!t||typeof t=="string"&&(t in Kj||sC())||JD(t)||Array.isArray(t)&&t.every(cY))}const vv=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Kj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vv([0,.65,.55,1]),circOut:vv([.55,0,1,.45]),backIn:vv([.31,.01,.66,-.59]),backOut:vv([.33,1.53,.69,.99])};function uY(t,e){if(t)return typeof t=="function"&&sC()?lY(t,e):JD(t)?vv(t):Array.isArray(t)?t.map(n=>uY(n,e)||Kj.easeOut):Kj[t]}const Uc={x:!1,y:!1};function AY(){return Uc.x||Uc.y}function cge(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function dY(t,e){const n=cge(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function UR(t){return e=>{e.pointerType==="touch"||AY()||t(e)}}function uge(t,e,n={}){const[r,i,a]=dY(t,n),s=UR(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const A=UR(d=>{u(d),l.removeEventListener("pointerleave",A)});l.addEventListener("pointerleave",A,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const fY=(t,e)=>e?t===e?!0:fY(t,e.parentElement):!1,ZD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Age=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dge(t){return Age.has(t.tagName)||t.tabIndex!==-1}const yv=new WeakSet;function QR(t){return e=>{e.key==="Enter"&&t(e)}}function AB(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fge=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=QR(()=>{if(yv.has(n))return;AB(n,"down");const i=QR(()=>{AB(n,"up")}),a=()=>AB(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function HR(t){return ZD(t)&&!AY()}function hge(t,e,n={}){const[r,i,a]=dY(t,n),s=o=>{const l=o.currentTarget;if(!HR(o)||yv.has(l))return;yv.add(l);const u=e(o),A=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!HR(h)||!yv.has(l))&&(yv.delete(l),typeof u=="function"&&u(h,{success:p}))},d=h=>{A(h,n.useGlobalTarget||fY(l,h.target))},f=h=>{A(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!dge(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>fge(u,i),i)}),a}function pge(t){return t==="x"||t==="y"?Uc[t]?null:(Uc[t]=!0,()=>{Uc[t]=!1}):Uc.x||Uc.y?null:(Uc.x=Uc.y=!0,()=>{Uc.x=Uc.y=!1})}const hY=new Set(["width","height","top","left","right","bottom",...l0]);let Xw;function mge(){Xw=void 0}const Mu={now:()=>(Xw===void 0&&Mu.set(Cs.isProcessing||Ame.useManualTiming?Cs.timestamp:performance.now()),Xw),set:t=>{Xw=t,queueMicrotask(mge)}};function e3(t,e){t.indexOf(e)===-1&&t.push(e)}function t3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function gge([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class n3{constructor(){this.subscriptions=[]}add(e){return e3(this.subscriptions,e),()=>t3(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pY(t,e){return e?t*(1e3/e):0}const zR=30,vge=t=>!isNaN(parseFloat(t)),$v={current:void 0};class yge{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Mu.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new n3);const r=this.events[e].add(n);return e==="change"?()=>{r(),fi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return $v.current&&$v.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Mu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zR);return pY(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vg(t,e){return new yge(t,e)}function bge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vg(n))}function r3(t,e){const n=H5(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=kme(a[s]);bge(t,s,o)}}function xge(t){return!!(Bs(t)&&t.add)}function Wj(t,e){const n=t.getValue("willChange");if(xge(n))return n.add(e)}function mY(t){return t.props[Kq]}const gY=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wge=1e-7,Cge=12;function Sge(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=gY(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>wge&&++o<Cge);return s}function Ax(t,e,n,r){if(t===e&&n===r)return Nl;const i=a=>Sge(a,0,1,t,n);return a=>a===0||a===1?a:gY(i(a),e,r)}const vY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yY=t=>e=>1-t(1-e),bY=Ax(.33,1.53,.69,.99),i3=yY(bY),xY=vY(i3),wY=t=>(t*=2)<1?.5*i3(t):.5*(2-Math.pow(2,-10*(t-1))),a3=t=>1-Math.sin(Math.acos(t)),CY=yY(a3),SY=vY(a3),EY=t=>/^0[^.\s]+$/u.test(t);function Ege(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EY(t):!0}const Kv=t=>Math.round(t*1e5)/1e5,s3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _ge(t){return t==null}const Bge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o3=(t,e)=>n=>!!(typeof n=="string"&&Bge.test(n)&&n.startsWith(t)||e&&!_ge(n)&&Object.prototype.hasOwnProperty.call(n,e)),_Y=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(s3);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Nge=t=>HA(0,255,t),dB={...c0,transform:t=>Math.round(Nge(t))},dh={test:o3("rgb","red"),parse:_Y("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dB.transform(t)+", "+dB.transform(e)+", "+dB.transform(n)+", "+Kv(qy.transform(r))+")"};function jge(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gj={test:o3("#"),parse:jge,transform:dh.transform},pm={test:o3("hsl","hue"),parse:_Y("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lu.transform(Kv(e))+", "+Lu.transform(Kv(n))+", "+Kv(qy.transform(r))+")"},Js={test:t=>dh.test(t)||Gj.test(t)||pm.test(t),parse:t=>dh.test(t)?dh.parse(t):pm.test(t)?pm.parse(t):Gj.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dh.transform(t):pm.transform(t)},Ige=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tge(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(s3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ige))===null||n===void 0?void 0:n.length)||0)>0}const BY="number",NY="color",kge="var",Pge="var(",VR="${}",Dge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(Dge,l=>(Js.test(l)?(r.color.push(a),i.push(NY),n.push(Js.parse(l))):l.startsWith(Pge)?(r.var.push(a),i.push(kge),n.push(l)):(r.number.push(a),i.push(BY),n.push(parseFloat(l))),++a,VR)).split(VR);return{values:n,split:o,indexes:r,types:i}}function jY(t){return Yy(t).values}function IY(t){const{split:e,types:n}=Yy(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===BY?a+=Kv(i[s]):o===NY?a+=Js.transform(i[s]):a+=i[s]}return a}}const Oge=t=>typeof t=="number"?0:t;function Fge(t){const e=jY(t);return IY(t)(e.map(Oge))}const Af={test:Tge,parse:jY,createTransformer:IY,getAnimatableNone:Fge},Lge=new Set(["brightness","contrast","saturate","opacity"]);function Mge(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(s3)||[];if(!r)return t;const i=n.replace(r,"");let a=Lge.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Rge=/\b([a-z-]*)\(.*?\)/gu,qj={...Af,getAnimatableNone:t=>{const e=t.match(Rge);return e?e.map(Mge).join(" "):t}},Uge={...VD,color:Js,backgroundColor:Js,outlineColor:Js,fill:Js,stroke:Js,borderColor:Js,borderTopColor:Js,borderRightColor:Js,borderBottomColor:Js,borderLeftColor:Js,filter:qj,WebkitFilter:qj},l3=t=>Uge[t];function TY(t,e){let n=l3(t);return n!==qj&&(n=Af),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qge=new Set(["auto","none","0"]);function Hge(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Qge.has(a)&&Yy(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=TY(n,i)}const $R=t=>t===c0||t===Bn,KR=(t,e)=>parseFloat(t.split(", ")[e]),WR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return KR(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?KR(a[1],t):0}},zge=new Set(["x","y","z"]),Vge=l0.filter(t=>!zge.has(t));function $ge(t){const e=[];return Vge.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yg={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WR(4,13),y:WR(5,14)};yg.translateX=yg.x;yg.translateY=yg.y;const Bh=new Set;let Yj=!1,Xj=!1;function kY(){if(Xj){const t=Array.from(Bh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$ge(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xj=!1,Yj=!1,Bh.forEach(t=>t.complete()),Bh.clear()}function PY(){Bh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xj=!0)})}function Kge(){PY(),kY()}class c3{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bh.add(this),Yj||(Yj=!0,fi.read(PY),fi.resolveKeyframes(kY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const DY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Wge=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gge(t){const e=Wge.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function OY(t,e,n=1){const[r,i]=Gge(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return DY(s)?parseFloat(s):s}return zD(i)?OY(i,e,n+1):i}const FY=t=>e=>e.test(t),qge={test:t=>t==="auto",parse:t=>t},LY=[c0,Bn,Lu,vd,Mme,Lme,qge],GR=t=>LY.find(FY(t));class MY extends c3{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),zD(u))){const A=OY(u,n.current);A!==void 0&&(e[l]=A),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hY.has(r)||e.length!==2)return;const[i,a]=e,s=GR(i),o=GR(a);if(s!==o)if($R(s)&&$R(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Ege(e[i])&&r.push(i);r.length&&Hge(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yg[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=yg[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const qR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Af.test(t)||t==="0")&&!t.startsWith("url("));function Yge(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Xge(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=qR(i,e),o=qR(a,e);return!s||!o?!1:Yge(t)||(n==="spring"||XD(n))&&r}const Jge=t=>t!==null;function z5(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Jge),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Zge=40;class RY{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mu.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zge?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Kge(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Xge(e,r,i,a))if(s)this.options.duration=0;else{l&&l(z5(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const A=this.initPlayback(e,n);A!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...A},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ti=(t,e,n)=>t+(e-t)*n;function fB(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e0e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=fB(l,o,t+1/3),a=fB(l,o,t),s=fB(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function oC(t,e){return n=>n>0?e:t}const hB=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},t0e=[Gj,dh,pm],n0e=t=>t0e.find(e=>e.test(t));function YR(t){const e=n0e(t);if(!e)return!1;let n=e.parse(t);return e===pm&&(n=e0e(n)),n}const XR=(t,e)=>{const n=YR(t),r=YR(e);if(!n||!r)return oC(t,e);const i={...n};return a=>(i.red=hB(n.red,r.red,a),i.green=hB(n.green,r.green,a),i.blue=hB(n.blue,r.blue,a),i.alpha=Ti(n.alpha,r.alpha,a),dh.transform(i))},r0e=(t,e)=>n=>e(t(n)),dx=(...t)=>t.reduce(r0e),Jj=new Set(["none","hidden"]);function i0e(t,e){return Jj.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a0e(t,e){return n=>Ti(t,e,n)}function u3(t){return typeof t=="number"?a0e:typeof t=="string"?zD(t)?oC:Js.test(t)?XR:l0e:Array.isArray(t)?UY:typeof t=="object"?Js.test(t)?XR:s0e:oC}function UY(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>u3(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function s0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=u3(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function o0e(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const l0e=(t,e)=>{const n=Af.createTransformer(e),r=Yy(t),i=Yy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jj.has(t)&&!i.values.length||Jj.has(e)&&!r.values.length?i0e(t,e):dx(UY(o0e(r,i),i.values),n):oC(t,e)};function QY(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ti(t,e,n):u3(t)(t,e)}const c0e=5;function HY(t,e,n){const r=Math.max(e-c0e,0);return pY(n-t(r),e-r)}const Yi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pB=.001;function u0e({duration:t=Yi.duration,bounce:e=Yi.bounce,velocity:n=Yi.velocity,mass:r=Yi.mass}){let i,a,s=1-e;s=HA(Yi.minDamping,Yi.maxDamping,s),t=HA(Yi.minDuration,Yi.maxDuration,IA(t)),s<1?(i=u=>{const A=u*s,d=A*t,f=A-n,h=Zj(u,s),p=Math.exp(-d);return pB-f/h*p},a=u=>{const d=u*s*t,f=d*n+n,h=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-d),m=Zj(Math.pow(u,2),s);return(-i(u)+pB>0?-1:1)*((f-h)*p)/m}):(i=u=>{const A=Math.exp(-u*t),d=(u-n)*t+1;return-pB+A*d},a=u=>{const A=Math.exp(-u*t),d=(n-u)*(t*t);return A*d});const o=5/t,l=d0e(i,a,o);if(t=jA(t),isNaN(l))return{stiffness:Yi.stiffness,damping:Yi.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const A0e=12;function d0e(t,e,n){let r=n;for(let i=1;i<A0e;i++)r=r-t(r)/e(r);return r}function Zj(t,e){return t*Math.sqrt(1-e*e)}const f0e=["duration","bounce"],h0e=["stiffness","damping","mass"];function JR(t,e){return e.some(n=>t[n]!==void 0)}function p0e(t){let e={velocity:Yi.velocity,stiffness:Yi.stiffness,damping:Yi.damping,mass:Yi.mass,isResolvedFromDuration:!1,...t};if(!JR(t,h0e)&&JR(t,f0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*HA(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Yi.mass,stiffness:i,damping:a}}else{const n=u0e(t);e={...e,...n,mass:Yi.mass},e.isResolvedFromDuration=!0}return e}function zY(t=Yi.visualDuration,e=Yi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:A,duration:d,velocity:f,isResolvedFromDuration:h}=p0e({...n,velocity:-IA(n.velocity||0)}),p=f||0,m=u/(2*Math.sqrt(l*A)),v=s-a,g=IA(Math.sqrt(l/A)),y=Math.abs(v)<5;r||(r=y?Yi.restSpeed.granular:Yi.restSpeed.default),i||(i=y?Yi.restDelta.granular:Yi.restDelta.default);let x;if(m<1){const E=Zj(g,m);x=j=>{const _=Math.exp(-m*g*j);return s-_*((p+m*g*v)/E*Math.sin(E*j)+v*Math.cos(E*j))}}else if(m===1)x=E=>s-Math.exp(-g*E)*(v+(p+g*v)*E);else{const E=g*Math.sqrt(m*m-1);x=j=>{const _=Math.exp(-m*g*j),B=Math.min(E*j,300);return s-_*((p+m*g*v)*Math.sinh(B)+E*v*Math.cosh(B))/E}}const C={calculatedDuration:h&&d||null,next:E=>{const j=x(E);if(h)o.done=E>=d;else{let _=0;m<1&&(_=E===0?jA(p):HY(x,E,j));const B=Math.abs(_)<=r,N=Math.abs(s-j)<=i;o.done=B&&N}return o.value=o.done?s:j,o},toString:()=>{const E=Math.min(oY(C),$j),j=lY(_=>C.next(E*_).value,E,30);return E+"ms "+j}};return C}function ZR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:A}){const d=t[0],f={done:!1,value:d},h=B=>o!==void 0&&B<o||l!==void 0&&B>l,p=B=>o===void 0?l:l===void 0||Math.abs(o-B)<Math.abs(l-B)?o:l;let m=n*e;const v=d+m,g=s===void 0?v:s(v);g!==v&&(m=g-d);const y=B=>-m*Math.exp(-B/r),x=B=>g+y(B),C=B=>{const N=y(B),D=x(B);f.done=Math.abs(N)<=u,f.value=f.done?g:D};let E,j;const _=B=>{h(f.value)&&(E=B,j=zY({keyframes:[f.value,p(f.value)],velocity:HY(x,B,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:A}))};return _(0),{calculatedDuration:null,next:B=>{let N=!1;return!j&&E===void 0&&(N=!0,C(B),_(B)),E!==void 0&&B>=E?j.next(B-E):(!N&&C(B),f)}}}const m0e=Ax(.42,0,1,1),g0e=Ax(0,0,.58,1),VY=Ax(.42,0,.58,1),v0e=t=>Array.isArray(t)&&typeof t[0]!="number",y0e={linear:Nl,easeIn:m0e,easeInOut:VY,easeOut:g0e,circIn:a3,circInOut:SY,circOut:CY,backIn:i3,backInOut:xY,backOut:bY,anticipate:wY},e6=t=>{if(JD(t)){Qq(t.length===4);const[e,n,r,i]=t;return Ax(e,n,r,i)}else if(typeof t=="string")return y0e[t];return t};function b0e(t,e,n){const r=[],i=n||QY,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Nl:e;o=dx(l,o)}r.push(o)}return r}function $Y(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Qq(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=b0e(e,r,i),l=o.length,u=A=>{if(s&&A<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(A<t[d+1]);d++);const f=mg(t[d],t[d+1],A);return o[d](f)};return n?A=>u(HA(t[0],t[a-1],A)):u}function x0e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mg(0,e,r);t.push(Ti(n,1,i))}}function w0e(t){const e=[0];return x0e(e,t.length-1),e}function C0e(t,e){return t.map(n=>n*e)}function S0e(t,e){return t.map(()=>e||VY).splice(0,t.length-1)}function lC({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=v0e(r)?r.map(e6):e6(r),a={done:!1,value:e[0]},s=C0e(n&&n.length===e.length?n:w0e(e),t),o=$Y(s,e,{ease:Array.isArray(i)?i:S0e(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const E0e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>fi.update(e,!0),stop:()=>QA(e),now:()=>Cs.isProcessing?Cs.timestamp:Mu.now()}},_0e={decay:ZR,inertia:ZR,tween:lC,keyframes:lC,spring:zY},B0e=t=>t/100;class A3 extends RY{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||c3,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=XD(n)?n:_0e[n]||lC;let l,u;o!==lC&&typeof e[0]!="number"&&(l=dx(B0e,QY(e[0],e[1])),e=[0,100]);const A=o({...this.options,keyframes:e});a==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),A.calculatedDuration===null&&(A.calculatedDuration=oY(A));const{calculatedDuration:d}=A,f=d+i,h=f*(r+1)-i;return{generator:A,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:A,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-A/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>A;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let x=this.currentTime,C=a;if(h){const B=Math.min(this.currentTime,A)/d;let N=Math.floor(B),D=B%1;!D&&B>=1&&(D=1),D===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(p==="reverse"?(D=1-D,m&&(D-=m/d)):p==="mirror"&&(C=s)),x=HA(0,1,D)*d}const E=y?{done:!1,value:l[0]}:C.next(x);o&&(E.value=o(E.value));let{done:j}=E;!y&&u!==null&&(j=this.speed>=0?this.currentTime>=A:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return _&&i!==void 0&&(E.value=z5(l,this.options,i)),v&&v(E.value),_&&this.finish(),E}get duration(){const{resolved:e}=this;return e?IA(e.calculatedDuration):0}get time(){return IA(this.currentTime)}set time(e){e=jA(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=IA(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=E0e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const N0e=new Set(["opacity","clipPath","filter","transform"]);function j0e(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const A=uY(o,i);return Array.isArray(A)&&(u.easing=A),t.animate(u,{delay:r,duration:i,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const I0e=FD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cC=10,T0e=2e4;function k0e(t){return XD(t.type)||t.type==="spring"||!cY(t.ease)}function P0e(t,e){const n=new A3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<T0e;)r=n.sample(a),i.push(r.value),a+=cC;return{times:void 0,keyframes:i,duration:a-cC,ease:"linear"}}const KY={anticipate:wY,backInOut:xY,circInOut:SY};function D0e(t){return t in KY}class t6 extends RY{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new MY(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&sC()&&D0e(a)&&(a=KY[a]),k0e(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:p,...m}=this.options,v=P0e(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,a=v.ease,s="keyframes"}const A=j0e(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return A.startTime=u??this.calcStartTime(),this.pendingTimeline?(RR(A,this.pendingTimeline),this.pendingTimeline=void 0):A.onfinish=()=>{const{onComplete:d}=this.options;o.set(z5(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:A,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return IA(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return IA(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=jA(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nl;const{animation:r}=n;RR(r,e)}return Nl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:A,onComplete:d,element:f,...h}=this.options,p=new A3({...h,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),m=jA(this.time);u.setWithVelocity(p.sample(m-cC).value,p.sample(m).value,cC)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return I0e()&&r&&N0e.has(r)&&!l&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const O0e={type:"spring",stiffness:500,damping:25,restSpeed:10},F0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L0e={type:"keyframes",duration:.8},M0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R0e=(t,{keyframes:e})=>e.length>2?L0e:up.has(t)?t.startsWith("scale")?F0e(e[1]):O0e:M0e;function U0e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...A}){return!!Object.keys(A).length}const d3=(t,e,n,r={},i,a)=>s=>{const o=YD(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-jA(l);let A={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};U0e(o)||(A={...A,...R0e(t,A)}),A.duration&&(A.duration=jA(A.duration)),A.repeatDelay&&(A.repeatDelay=jA(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let d=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(A.duration=0,A.delay===0&&(d=!0)),d&&!a&&e.get()!==void 0){const f=z5(A.keyframes,o);if(f!==void 0)return fi.update(()=>{A.onUpdate(f),A.onComplete()}),new sge([])}return!a&&t6.supports(A)?new t6(A):new A3(A)};function Q0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function WY(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],A=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(a=t.latestValues[d])!==null&&a!==void 0?a:null),h=l[d];if(h===void 0||A&&Q0e(A,d))continue;const p={delay:n,...YD(s||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=mY(t);if(g){const y=window.MotionHandoffAnimation(g,d,fi);y!==null&&(p.startTime=y,m=!0)}}Wj(t,d),f.start(d3(d,f,h,t.shouldReduceMotion&&hY.has(d)?{type:!1}:p,t,m));const v=f.animation;v&&u.push(v)}return o&&Promise.all(u).then(()=>{fi.update(()=>{o&&r3(t,o)})}),u}function eI(t,e,n={}){var r;const i=H5(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(WY(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:A=0,staggerChildren:d,staggerDirection:f}=a;return H0e(t,e,A+u,d,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,A]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>A())}else return Promise.all([s(),o(n.delay)])}function H0e(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(z0e).forEach((u,A)=>{u.notify("AnimationStart",e),s.push(eI(u,e,{...a,delay:n+l(A)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function z0e(t,e){return t.sortNodePosition(e)}function GY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>eI(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=eI(t,e,n);else{const i=typeof e=="function"?H5(t,e,n.custom):e;r=Promise.all(WY(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const V0e=MD.length;function qY(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qY(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<V0e;n++){const r=MD[n],i=t.props[r];(Gy(i)||i===!1)&&(e[r]=i)}return e}const $0e=[...LD].reverse(),K0e=LD.length;function W0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>GY(t,n,r)))}function G0e(t){let e=W0e(t),n=n6(),r=!0;const i=l=>(u,A)=>{var d;const f=H5(t,A,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...m}=f;u={...u,...m,...p}}return u};function a(l){e=l(t)}function s(l){const{props:u}=t,A=qY(t.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let v=0;v<K0e;v++){const g=$0e[v],y=n[g],x=u[g]!==void 0?u[g]:A[g],C=Gy(x),E=g===l?y.isActive:null;E===!1&&(p=v);let j=x===A[g]&&x!==u[g]&&C;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...h},!y.isActive&&E===null||!x&&!y.prevProp||U5(x)||typeof x=="boolean")continue;const _=q0e(y.prevProp,x);let B=_||g===l&&y.isActive&&!j&&C||v>p&&C,N=!1;const D=Array.isArray(x)?x:[x];let T=D.reduce(i(g),{});E===!1&&(T={});const{prevResolvedValues:O={}}=y,L={...O,...T},H=ee=>{B=!0,f.has(ee)&&(N=!0,f.delete(ee)),y.needsAnimating[ee]=!0;const K=t.getValue(ee);K&&(K.liveStyle=!1)};for(const ee in L){const K=T[ee],te=O[ee];if(h.hasOwnProperty(ee))continue;let le=!1;Vj(K)&&Vj(te)?le=!sY(K,te):le=K!==te,le?K!=null?H(ee):f.add(ee):K!==void 0&&f.has(ee)?H(ee):y.protectedKeys[ee]=!0}y.prevProp=x,y.prevResolvedValues=T,y.isActive&&(h={...h,...T}),r&&t.blockInitialAnimation&&(B=!1),B&&(!(j&&_)||N)&&d.push(...D.map(ee=>({animation:ee,options:{type:g}})))}if(f.size){const v={};f.forEach(g=>{const y=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),v[g]=y??null}),d.push({animation:v})}let m=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function o(l,u){var A;if(n[l].isActive===u)return Promise.resolve();(A=t.variantChildren)===null||A===void 0||A.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=n6(),r=!0}}}function q0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sY(e,t):!1}function Lf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function n6(){return{animate:Lf(!0),whileInView:Lf(),whileHover:Lf(),whileTap:Lf(),whileDrag:Lf(),whileFocus:Lf(),exit:Lf()}}class xf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Y0e extends xf{constructor(e){super(e),e.animationState||(e.animationState=G0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();U5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let X0e=0;class J0e extends xf{constructor(){super(...arguments),this.id=X0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Z0e={animation:{Feature:Y0e},exit:{Feature:J0e}};function Xy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fx(t){return{point:{x:t.pageX,y:t.pageY}}}const eve=t=>e=>ZD(e)&&t(e,fx(e));function Wv(t,e,n,r){return Xy(t,e,eve(n),r)}const r6=(t,e)=>Math.abs(t-e);function tve(t,e){const n=r6(t.x,e.x),r=r6(t.y,e.y);return Math.sqrt(n**2+r**2)}class YY{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=gB(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=tve(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:m}=Cs;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=mB(f,this.transformPagePoint),fi.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=gB(d.type==="pointercancel"?this.lastMoveEventInfo:mB(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),p&&p(d,v)},!ZD(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=fx(e),o=mB(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Cs;this.history=[{...l,timestamp:u}];const{onSessionStart:A}=n;A&&A(e,gB(o,this.history)),this.removeListeners=dx(Wv(this.contextWindow,"pointermove",this.handlePointerMove),Wv(this.contextWindow,"pointerup",this.handlePointerUp),Wv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),QA(this.updatePoint)}}function mB(t,e){return e?{point:e(t.point)}:t}function i6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gB({point:t},e){return{point:t,delta:i6(t,XY(e)),offset:i6(t,nve(e)),velocity:rve(e,.1)}}function nve(t){return t[0]}function XY(t){return t[t.length-1]}function rve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=XY(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>jA(e)));)n--;if(!r)return{x:0,y:0};const a=IA(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const JY=1e-4,ive=1-JY,ave=1+JY,ZY=.01,sve=0-ZY,ove=0+ZY;function Fl(t){return t.max-t.min}function lve(t,e,n){return Math.abs(t-e)<=n}function a6(t,e,n,r=.5){t.origin=r,t.originPoint=Ti(e.min,e.max,t.origin),t.scale=Fl(n)/Fl(e),t.translate=Ti(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ive&&t.scale<=ave||isNaN(t.scale))&&(t.scale=1),(t.translate>=sve&&t.translate<=ove||isNaN(t.translate))&&(t.translate=0)}function Gv(t,e,n,r){a6(t.x,e.x,n.x,r?r.originX:void 0),a6(t.y,e.y,n.y,r?r.originY:void 0)}function s6(t,e,n){t.min=n.min+e.min,t.max=t.min+Fl(e)}function cve(t,e,n){s6(t.x,e.x,n.x),s6(t.y,e.y,n.y)}function o6(t,e,n){t.min=e.min-n.min,t.max=t.min+Fl(e)}function qv(t,e,n){o6(t.x,e.x,n.x),o6(t.y,e.y,n.y)}function uve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ti(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ti(n,t,r.max):Math.min(t,n)),t}function l6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ave(t,{top:e,left:n,bottom:r,right:i}){return{x:l6(t.x,n,i),y:l6(t.y,e,r)}}function c6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dve(t,e){return{x:c6(t.x,e.x),y:c6(t.y,e.y)}}function fve(t,e){let n=.5;const r=Fl(t),i=Fl(e);return i>r?n=mg(e.min,e.max-r,t.min):r>i&&(n=mg(t.min,t.max-i,e.min)),HA(0,1,n)}function hve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tI=.35;function pve(t=tI){return t===!1?t=0:t===!0&&(t=tI),{x:u6(t,"left","right"),y:u6(t,"top","bottom")}}function u6(t,e,n){return{min:A6(t,e),max:A6(t,n)}}function A6(t,e){return typeof t=="number"?t:t[e]||0}const d6=()=>({translate:0,scale:1,origin:0,originPoint:0}),mm=()=>({x:d6(),y:d6()}),f6=()=>({min:0,max:0}),da=()=>({x:f6(),y:f6()});function ic(t){return[t("x"),t("y")]}function eX({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vB(t){return t===void 0||t===1}function nI({scale:t,scaleX:e,scaleY:n}){return!vB(t)||!vB(e)||!vB(n)}function Gf(t){return nI(t)||tX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tX(t){return h6(t.x)||h6(t.y)}function h6(t){return t&&t!=="0%"}function uC(t,e,n){const r=t-n,i=e*r;return n+i}function p6(t,e,n,r,i){return i!==void 0&&(t=uC(t,i,r)),uC(t,n,r)+e}function rI(t,e=0,n=1,r,i){t.min=p6(t.min,e,n,r,i),t.max=p6(t.max,e,n,r,i)}function nX(t,{x:e,y:n}){rI(t.x,e.translate,e.scale,e.originPoint),rI(t.y,n.translate,n.scale,n.originPoint)}const m6=.999999999999,g6=1.0000000000001;function vve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vm(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,nX(t,s)),r&&Gf(a.latestValues)&&vm(t,a.latestValues))}e.x<g6&&e.x>m6&&(e.x=1),e.y<g6&&e.y>m6&&(e.y=1)}function gm(t,e){t.min=t.min+e,t.max=t.max+e}function v6(t,e,n,r,i=.5){const a=Ti(t.min,t.max,i);rI(t,e,n,a,r)}function vm(t,e){v6(t.x,e.x,e.scaleX,e.scale,e.originX),v6(t.y,e.y,e.scaleY,e.scale,e.originY)}function rX(t,e){return eX(gve(t.getBoundingClientRect(),e))}function yve(t,e,n){const r=rX(t,n),{scroll:i}=e;return i&&(gm(r.x,i.offset.x),gm(r.y,i.offset.y)),r}const iX=({current:t})=>t?t.ownerDocument.defaultView:null,bve=new WeakMap;class xve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=da(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=A=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fx(A).point)},a=(A,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pge(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ic(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Lu.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=Fl(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&fi.postRender(()=>p(A,d)),Wj(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(A,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=wve(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(A,d)},o=(A,d)=>this.stop(A,d),l=()=>ic(A=>{var d;return this.getAnimationState(A)==="paused"&&((d=this.getAxisMotionValue(A).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YY(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:iX(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&fi.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!w1(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=uve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&hm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ave(i.layoutBox,n):this.constraints=!1,this.elastic=pve(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ic(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=hve(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hm(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=yve(r,i.root,this.visualElement.getTransformPagePoint());let s=dve(i.layout.layoutBox,a);if(n){const o=n(mve(s));this.hasMutatedConstraints=!!o,o&&(s=eX(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ic(A=>{if(!w1(A,n,this.currentDirection))return;let d=l&&l[A]||{};s&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[A]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(A,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Wj(this.visualElement,e),r.start(d3(e,r,0,n,this.visualElement,!1))}stopAnimation(){ic(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ic(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ic(n=>{const{drag:r}=this.getProps();if(!w1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-Ti(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ic(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=fve({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ic(s=>{if(!w1(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Ti(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;bve.set(this.visualElement,this);const e=this.visualElement.current,n=Wv(e,"pointerdown",l=>{const{drag:u,dragListener:A=!0}=this.getProps();u&&A&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fi.read(r);const s=Xy(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ic(A=>{const d=this.getAxisMotionValue(A);d&&(this.originPoint[A]+=l[A].translate,d.set(d.get()+l[A].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=tI,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function w1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wve(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Cve extends xf{constructor(e){super(e),this.removeGroupControls=Nl,this.removeListeners=Nl,this.controls=new xve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nl}unmount(){this.removeGroupControls(),this.removeListeners()}}const y6=t=>(e,n)=>{t&&fi.postRender(()=>t(e,n))};class Sve extends xf{constructor(){super(...arguments),this.removePointerDownListener=Nl}onPointerDown(e){this.session=new YY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:y6(e),onStart:y6(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&fi.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Wv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const V0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bn.test(t))t=parseFloat(t);else return t;const n=b6(t,e.target.x),r=b6(t,e.target.y);return`${n}% ${r}%`}},Eve={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Af.parse(t);if(i.length>5)return r;const a=Af.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=Ti(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class _ve extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Gme(Bve),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Jw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||fi.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),UD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aX(t){const[e,n]=Uq(),r=P.useContext(DD);return c.jsx(_ve,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(Wq),isPresent:e,safeToRemove:n})}const Bve={borderRadius:{...V0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:V0,borderTopRightRadius:V0,borderBottomLeftRadius:V0,borderBottomRightRadius:V0,boxShadow:Eve};function Nve(t,e,n){const r=Bs(t)?t:vg(t);return r.start(d3("",r,e,n)),r.animation}function jve(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Ive=(t,e)=>t.depth-e.depth;class Tve{constructor(){this.children=[],this.isDirty=!1}add(e){e3(this.children,e),this.isDirty=!0}remove(e){t3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ive),this.isDirty=!1,this.children.forEach(e)}}function kve(t,e){const n=Mu.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(QA(r),t(a-e))};return fi.read(r,!0),()=>QA(r)}const sX=["TopLeft","TopRight","BottomLeft","BottomRight"],Pve=sX.length,x6=t=>typeof t=="string"?parseFloat(t):t,w6=t=>typeof t=="number"||Bn.test(t);function Dve(t,e,n,r,i,a){i?(t.opacity=Ti(0,n.opacity!==void 0?n.opacity:1,Ove(r)),t.opacityExit=Ti(e.opacity!==void 0?e.opacity:1,0,Fve(r))):a&&(t.opacity=Ti(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Pve;s++){const o=`border${sX[s]}Radius`;let l=C6(e,o),u=C6(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||w6(l)===w6(u)?(t[o]=Math.max(Ti(x6(l),x6(u),r),0),(Lu.test(u)||Lu.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Ti(e.rotate||0,n.rotate||0,r))}function C6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ove=oX(0,.5,CY),Fve=oX(.5,.95,Nl);function oX(t,e,n){return r=>r<t?0:r>e?1:n(mg(t,e,r))}function S6(t,e){t.min=e.min,t.max=e.max}function ec(t,e){S6(t.x,e.x),S6(t.y,e.y)}function E6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _6(t,e,n,r,i){return t-=e,t=uC(t,1/n,r),i!==void 0&&(t=uC(t,1/i,r)),t}function Lve(t,e=0,n=1,r=.5,i,a=t,s=t){if(Lu.test(e)&&(e=parseFloat(e),e=Ti(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Ti(a.min,a.max,r);t===a&&(o-=e),t.min=_6(t.min,e,n,o,i),t.max=_6(t.max,e,n,o,i)}function B6(t,e,[n,r,i],a,s){Lve(t,e[n],e[r],e[i],e.scale,a,s)}const Mve=["x","scaleX","originX"],Rve=["y","scaleY","originY"];function N6(t,e,n,r){B6(t.x,e,Mve,n?n.x:void 0,r?r.x:void 0),B6(t.y,e,Rve,n?n.y:void 0,r?r.y:void 0)}function j6(t){return t.translate===0&&t.scale===1}function lX(t){return j6(t.x)&&j6(t.y)}function I6(t,e){return t.min===e.min&&t.max===e.max}function Uve(t,e){return I6(t.x,e.x)&&I6(t.y,e.y)}function T6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cX(t,e){return T6(t.x,e.x)&&T6(t.y,e.y)}function k6(t){return Fl(t.x)/Fl(t.y)}function P6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qve{constructor(){this.members=[]}add(e){e3(this.members,e),e.scheduleRender()}remove(e){if(t3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hve(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:A,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),A&&(r+=`rotate(${A}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const qf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bv=typeof window<"u"&&window.MotionDebug!==void 0,yB=["","X","Y","Z"],zve={visibility:"hidden"},D6=1e3;let Vve=0;function bB(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function uX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mY(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fi,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&uX(r)}function AX({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=Vve++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bv&&(qf.totalNodes=qf.resolvedTargetDeltas=qf.recalculatedProjection=0),this.nodes.forEach(Wve),this.nodes.forEach(Jve),this.nodes.forEach(Zve),this.nodes.forEach(Gve),bv&&window.MotionDebug.record(qf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new n3),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jve(s),this.instance=s;const{layoutId:l,layout:u,visualElement:A}=this.options;if(A&&!A.current&&A.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=kve(f,250),Jw.hasAnimatedSinceResize&&(Jw.hasAnimatedSinceResize=!1,this.nodes.forEach(F6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&A&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||A.getDefaultTransition()||iye,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=A.getProps(),y=!this.targetLayout||!cX(this.targetLayout,p)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const C={...YD(m,"layout"),onPlay:v,onComplete:g};(A.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||F6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,QA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eye),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const d=this.path[A];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O6);return}this.isUpdating||this.nodes.forEach(Yve),this.isUpdating=!1,this.nodes.forEach(Xve),this.nodes.forEach($ve),this.nodes.forEach(Kve),this.clearAllSnapshots();const o=Mu.now();Cs.delta=HA(0,1e3/60,o-Cs.timestamp),Cs.timestamp=o,Cs.isProcessing=!0,uB.update.process(Cs),uB.preRender.process(Cs),uB.render.process(Cs),Cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qve),this.sharedNodes.forEach(tye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=da(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!lX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,A=u!==this.prevTransformTemplateValue;s&&(o||Gf(this.latestValues)||A)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),aye(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return da();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(sye))){const{scroll:A}=this.root;A&&(gm(l.x,A.offset.x),gm(l.y,A.offset.y))}return l}removeElementScroll(s){var o;const l=da();if(ec(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const A=this.path[u],{scroll:d,options:f}=A;A!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&ec(l,s),gm(l.x,d.offset.x),gm(l.y,d.offset.y))}return l}applyTransform(s,o=!1){const l=da();ec(l,s);for(let u=0;u<this.path.length;u++){const A=this.path[u];!o&&A.options.layoutScroll&&A.scroll&&A!==A.root&&vm(l,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Gf(A.latestValues)&&vm(l,A.latestValues)}return Gf(this.latestValues)&&vm(l,this.latestValues),l}removeTransform(s){const o=da();ec(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Gf(u.latestValues))continue;nI(u.latestValues)&&u.updateSnapshot();const A=da(),d=u.measurePageBox();ec(A,d),N6(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,A)}return Gf(this.latestValues)&&N6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Cs.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=da(),this.relativeTargetOrigin=da(),qv(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),ec(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=da(),this.targetWithTransforms=da()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ec(this.target,this.layout.layoutBox),nX(this.target,this.targetDelta)):ec(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=da(),this.relativeTargetOrigin=da(),qv(this.relativeTargetOrigin,this.target,h.target),ec(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bv&&qf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nI(this.parent.latestValues)||tX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Cs.timestamp&&(u=!1),u)return;const{layout:A,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||d))return;ec(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;vve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=da());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E6(this.prevProjectionDelta.x,this.projectionDelta.x),E6(this.prevProjectionDelta.y,this.projectionDelta.y)),Gv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!P6(this.projectionDelta.x,this.prevProjectionDelta.x)||!P6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),bv&&qf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mm(),this.projectionDelta=mm(),this.projectionDeltaWithTransform=mm()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},A={...this.latestValues},d=mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=da(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,v=this.getStack(),g=!v||v.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(rye));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const E=C/1e3;L6(d.x,s.x,E),L6(d.y,s.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qv(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nye(this.relativeTarget,this.relativeTargetOrigin,f,E),x&&Uve(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=da()),ec(x,this.relativeTarget)),m&&(this.animationValues=A,Dve(A,u,this.latestValues,E,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(QA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fi.update(()=>{Jw.hasAnimatedSinceResize=!0,this.currentAnimation=Nve(0,D6,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:A}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&dX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||da();const d=Fl(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=Fl(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}ec(o,l),vm(o,A),Gv(this.projectionDeltaWithTransform,this.layoutCorrected,o,A)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Qve),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&bB("z",s,u,this.animationValues);for(let A=0;A<yB.length;A++)bB(`rotate${yB[A]}`,s,u,this.animationValues),bB(`skew${yB[A]}`,s,u,this.animationValues);s.render();for(const A in u)s.setStaticValue(A,u[A]),this.animationValues&&(this.animationValues[A]=u[A]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zve;const u={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Yw(s==null?void 0:s.pointerEvents)||"",u.transform=A?A(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Yw(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Gf(this.latestValues)&&(m.transform=A?A({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Hve(this.projectionDeltaWithTransform,this.treeScale,f),A&&(u.transform=A(f,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in aC){if(f[m]===void 0)continue;const{correct:v,applyTo:g}=aC[m],y=u.transform==="none"?f[m]:v(f[m],d);if(g){const x=g.length;for(let C=0;C<x;C++)u[g[C]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=d===this?Yw(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(O6),this.root.sharedNodes.clear()}}}function $ve(t){t.updateLayout()}function Kve(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?ic(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=Fl(f);f.min=r[d].min,f.max=f.min+h}):dX(a,n.layoutBox,r)&&ic(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=Fl(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=mm();Gv(o,r,n.layoutBox);const l=mm();s?Gv(l,t.applyTransform(i,!0),n.measuredBox):Gv(l,r,n.layoutBox);const u=!lX(o);let A=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=da();qv(p,n.layoutBox,f.layoutBox);const m=da();qv(m,r,h.layoutBox),cX(p,m)||(A=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:A})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Wve(t){bv&&qf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qve(t){t.clearSnapshot()}function O6(t){t.clearMeasurements()}function Yve(t){t.isLayoutDirty=!1}function Xve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function F6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jve(t){t.resolveTargetDelta()}function Zve(t){t.calcProjection()}function eye(t){t.resetSkewAndRotation()}function tye(t){t.removeLeadSnapshot()}function L6(t,e,n){t.translate=Ti(e.translate,0,n),t.scale=Ti(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function M6(t,e,n,r){t.min=Ti(e.min,n.min,r),t.max=Ti(e.max,n.max,r)}function nye(t,e,n,r){M6(t.x,e.x,n.x,r),M6(t.y,e.y,n.y,r)}function rye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iye={duration:.45,ease:[.4,0,.1,1]},R6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),U6=R6("applewebkit/")&&!R6("chrome/")?Math.round:Nl;function Q6(t){t.min=U6(t.min),t.max=U6(t.max)}function aye(t){Q6(t.x),Q6(t.y)}function dX(t,e,n){return t==="position"||t==="preserve-aspect"&&!lve(k6(e),k6(n),.2)}function sye(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oye=AX({attachResizeListener:(t,e)=>Xy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xB={current:void 0},fX=AX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xB.current){const t=new oye({});t.mount(window),t.setOptions({layoutScroll:!0}),xB.current=t}return xB.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lye={pan:{Feature:Sve},drag:{Feature:Cve,ProjectionNode:fX,MeasureLayout:aX}};function H6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&fi.postRender(()=>a(e,fx(e)))}class cye extends xf{mount(){const{current:e}=this.node;e&&(this.unmount=uge(e,n=>(H6(this.node,n,"Start"),r=>H6(this.node,r,"End"))))}unmount(){}}class uye extends xf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dx(Xy(this.node.current,"focus",()=>this.onFocus()),Xy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function z6(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&fi.postRender(()=>a(e,fx(e)))}class Aye extends xf{mount(){const{current:e}=this.node;e&&(this.unmount=hge(e,n=>(z6(this.node,n,"Start"),(r,{success:i})=>z6(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iI=new WeakMap,wB=new WeakMap,dye=t=>{const e=iI.get(t.target);e&&e(t)},fye=t=>{t.forEach(dye)};function hye({root:t,...e}){const n=t||document;wB.has(n)||wB.set(n,{});const r=wB.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fye,{root:t,...e})),r[i]}function pye(t,e,n){const r=hye(e);return iI.set(t,n),r.observe(t),()=>{iI.delete(t),r.unobserve(t)}}const mye={some:0,all:1};class gye extends xf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mye[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:A,onViewportLeave:d}=this.node.getProps(),f=u?A:d;f&&f(l)};return pye(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vye(e,n))&&this.startObserver()}unmount(){}}function vye({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yye={inView:{Feature:gye},tap:{Feature:Aye},focus:{Feature:uye},hover:{Feature:cye}},bye={layout:{ProjectionNode:fX,MeasureLayout:aX}},aI={current:null},hX={current:!1};function xye(){if(hX.current=!0,!!OD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aI.current=t.matches;t.addListener(e),e()}else aI.current=!1}const wye=[...LY,Js,Af],Cye=t=>wye.find(FY(t)),V6=new WeakMap;function Sye(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Bs(i))t.addValue(r,i);else if(Bs(a))t.addValue(r,vg(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,vg(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eye{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Mu.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,fi.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:A}=s;this.onUpdate=A,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Q5(n),this.isVariantNode=$q(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Bs(p)&&p.set(l[h],!1)}}mount(e){this.current=e,V6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hX.current||xye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){V6.delete(this.current),this.projection&&this.projection.unmount(),QA(this.notifyUpdate),QA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=up.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gg){const n=gg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):da()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$6.length;r++){const i=$6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Sye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(DY(i)||EY(i))?i=parseFloat(i):!Cye(i)&&Af.test(n)&&(i=TY(e,n)),this.setBaseTarget(e,Bs(i)?i.get():i)),Bs(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=HD(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Bs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new n3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class pX extends Eye{constructor(){super(...arguments),this.KeyframeResolver=MY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _ye(t){return window.getComputedStyle(t)}class Bye extends pX{constructor(){super(...arguments),this.type="html",this.renderInstance=eY}readValueFromInstance(e,n){if(up.has(n)){const r=l3(n);return r&&r.default||0}else{const r=_ye(e),i=(Xq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rX(e,n)}build(e,n,r){$D(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qD(e,n,r)}}class Nye extends pX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=da}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(up.has(n)){const r=l3(n);return r&&r.default||0}return n=tY.has(n)?n:RD(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iY(e,n,r)}build(e,n,r){KD(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){nY(e,n,r,i)}mount(e){this.isSVGTag=GD(e.tagName),super.mount(e)}}const jye=(t,e)=>QD(t)?new Nye(e):new Bye(e,{allowProjection:t!==P.Fragment}),Iye=rge({...Z0e,...yye,...lye,...bye},jye),Zi=vme(Iye);function mX(t){const e=JA(()=>vg(t)),{isStatic:n}=P.useContext(L5);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function gX(t,e){const n=mX(e()),r=()=>n.set(e());return r(),M5(()=>{const i=()=>fi.preRender(r,!1,!0),a=t.map(s=>s.on("change",i));return()=>{a.forEach(s=>s()),QA(r)}}),n}const Tye=t=>t&&typeof t=="object"&&t.mix,kye=t=>Tye(t)?t.mix:void 0;function Pye(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],s=t[3+n],o=$Y(i,a,{mixer:kye(a[0]),...s});return e?o(r):o}function Dye(t){$v.current=[],t();const e=gX($v.current,t);return $v.current=void 0,e}function Oye(t,e,n,r){if(typeof t=="function")return Dye(t);const i=typeof e=="function"?e:Pye(e,n,r);return Array.isArray(t)?K6(t,i):K6([t],([a])=>i(a))}function K6(t,e){const n=JA(()=>[]);return gX(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Fye(t){t.values.forEach(e=>e.stop())}function sI(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&r3(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{sI(a,e)})})}function Lye(t,e){if(Array.isArray(e))return sI(t,e);if(typeof e=="string")return sI(t,[e]);r3(t,e)}function Mye(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(GY(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{Lye(r,n)})},stop(){t.forEach(n=>{Fye(n)})},mount(){return()=>{e.stop()}}};return e}function Rye(){const t=JA(Mye);return M5(t.mount,[]),t}const Ap=Rye;class Uye{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const Qye=()=>new Uye;function f3(){return JA(Qye)}const vX=P.createContext(null);function Hye(t,e,n,r){if(!r)return t;const i=t.findIndex(A=>A.value===e);if(i===-1)return t;const a=r>0?1:-1,s=t[i+a];if(!s)return t;const o=t[i],l=s.layout,u=Ti(l.min,l.max,.5);return a===1&&o.layout.max+n>u||a===-1&&o.layout.min+n<u?gge(t,i,i+a):t}function zye({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},s){const o=JA(()=>Zi[e]),l=[],u=P.useRef(!1),A={axis:n,registerItem:(d,f)=>{const h=l.findIndex(p=>d===p.value);h!==-1?l[h].layout=f[n]:l.push({value:d,layout:f[n]}),l.sort($ye)},updateOrder:(d,f,h)=>{if(u.current)return;const p=Hye(l,d,f,h);l!==p&&(u.current=!0,r(p.map(Vye).filter(m=>i.indexOf(m)!==-1)))}};return P.useEffect(()=>{u.current=!1}),c.jsx(o,{...a,ref:s,ignoreStrict:!0,children:c.jsx(vX.Provider,{value:A,children:t})})}const h3=P.forwardRef(zye);function Vye(t){return t.value}function $ye(t,e){return t.layout.min-e.layout.min}function W6(t,e=0){return Bs(t)?t:mX(e)}function Kye({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...s},o){const l=JA(()=>Zi[r]),u=P.useContext(vX),A={x:W6(e.x),y:W6(e.y)},d=Oye([A.x,A.y],([m,v])=>m||v?1:"unset"),{axis:f,registerItem:h,updateOrder:p}=u;return c.jsx(l,{drag:f,...s,dragSnapToOrigin:!0,style:{...e,x:A.x,y:A.y,zIndex:d},layout:a,onDrag:(m,v)=>{const{velocity:g}=v;g[f]&&p(n,A[f].get(),g[f]),i&&i(m,v)},onLayoutMeasure:m=>h(n,m),ref:o,ignoreStrict:!0,children:t})}const p3=P.forwardRef(Kye),Vu=({isOpen:t,onClose:e,title:n,actions:r})=>t?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:c.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:i=>i.stopPropagation(),children:[c.jsx("div",{className:"p-2",children:c.jsx("header",{className:"text-center p-2 rounded-lg bg-zinc-800/50",children:c.jsx("h2",{className:"text-sm font-semibold text-brand-light-gray",children:n})})}),c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"bg-zinc-800/50 rounded-lg",children:r.map((i,a)=>c.jsxs("button",{onClick:()=>{i.onClick(),e()},className:`w-full flex items-center p-3 text-left transition-colors hover:bg-white/10 ${i.color||"text-brand-blue"} ${a>0?"border-t border-zinc-700/80":""}`,children:[c.jsx(i.icon,{size:22,className:"mr-4"}),c.jsx("span",{className:"text-lg font-medium text-white",children:i.label})]},a))})}),c.jsxs("div",{className:"p-2 mt-1",children:[c.jsx("button",{onClick:e,className:"w-full bg-zinc-700 p-3 text-lg font-bold text-white rounded-xl hover:bg-zinc-600 transition-colors",children:"Cancelar"}),"S      "]})]})}):null,Wye=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?c.jsxs(An,{isOpen:t,onClose:e,title:r,children:[" ",c.jsxs("div",{className:"space-y-6",children:[" ",c.jsx("p",{className:"text-zinc-300",children:i})," ",c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})," "]})," "]}):null,Gye=({lotName:t,count:e,subLotsCount:n,dragControls:r,isSubLot:i})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[!i&&c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:a=>r.start(a),children:c.jsx(BD,{className:"text-zinc-500"})}),i&&c.jsx("div",{className:"w-4 flex-shrink-0"}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t,n>0&&c.jsx("span",{title:`${n} sub-lotes`,className:"bg-zinc-700/80 p-1 rounded-full",children:c.jsx(Eq,{size:12,className:"text-zinc-400"})})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[c.jsx("span",{className:"font-semibold text-brand-orange",children:e})," ",e===1?"animal":"animales",n>0?" (directos)":""]})]})]}),G6=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i,isSubLot:a=!1})=>{var f,h;const s=Ap(),o=P.useRef(!1),l=t.count>0||(((f=t.subLots)==null?void 0:f.length)||0)>0,u=t.name!=="Sin Asignar",d={drag:"x",dragConstraints:{left:-((l?80:0)+(u?80:0)),right:0},dragElastic:.1,onPanStart:()=>{o.current=!0},onPanEnd:()=>{setTimeout(()=>{o.current=!1},50)},onTap:()=>{o.current||r()},animate:s,transition:{type:"spring",stiffness:400,damping:40}};return c.jsxs("div",{className:`relative w-full overflow-hidden ${a?"rounded-lg":"rounded-2xl"} bg-brand-glass border border-brand-border`,children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[l&&c.jsxs("button",{onClick:e,onPointerDown:p=>p.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-orange text-white",children:[c.jsx(bf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),u&&c.jsxs("button",{onClick:n,onPointerDown:p=>p.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(xc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Borrar"})]})]}),c.jsx(Zi.div,{...d,dragListener:!a&&i?!1:void 0,className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(Gye,{lotName:t.name,count:t.count,subLotsCount:((h=t.subLots)==null?void 0:h.length)||0,dragControls:i,isSubLot:a})})]})},qye=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=f3();return c.jsxs(p3,{value:t,dragListener:!1,dragControls:i,className:"space-y-1",children:[c.jsx(G6,{lot:t,dragControls:i,onClick:()=>e({name:"lot-detail",lotName:t.name}),onEdit:()=>n(t),onDelete:()=>r(t),isSubLot:!1}),t.subLots&&t.subLots.length>0&&c.jsx("div",{className:"pl-6 space-y-1",children:t.subLots.map(a=>c.jsx(G6,{lot:a,onClick:()=>e({name:"lot-detail",lotName:a.name}),onEdit:()=>n(a),onDelete:()=>r(a),isSubLot:!0},a.id))})]},t.id)};function Yye({navigateTo:t}){const{animals:e,lots:n,deleteLot:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(null),[l,u]=P.useState(null),A=P.useMemo(()=>{const m=new Map;n.forEach(C=>m.set(C.name,0)),(e||[]).forEach(C=>{const E=C.location||"Sin Asignar";m.set(E,(m.get(E)||0)+1)});const v=n.map(C=>({id:C.id,name:C.name,count:m.get(C.name)||0,parentLotId:C.parentLotId})),g=new Map;v.forEach(C=>{C.parentLotId&&(g.has(C.parentLotId)||g.set(C.parentLotId,[]),g.get(C.parentLotId).push(C))});const y=v.filter(C=>!C.parentLotId).map(C=>({...C,subLots:g.get(C.id)||[]})),x=m.get("Sin Asignar")||0;return(x>0||y.length===0&&x>0)&&y.push({id:"unassigned",name:"Sin Asignar",count:x,parentLotId:void 0,subLots:[]}),y.sort((C,E)=>C.name.localeCompare(E.name))},[e,n]),[d,f]=P.useState(A);P.useEffect(()=>{f(A)},[A]);const h=[{label:"Mover Animales",icon:ID,onClick:()=>t({name:"lot-detail",lotName:(s==null?void 0:s.name)||""})}],p=()=>{l&&(r(l.id),u(null))};return d.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(Rq,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay lotes fsicos creados."}),c.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botn '+' para empezar a organizar tu rebao."})]}):c.jsxs(c.Fragment,{children:[c.jsx(h3,{as:"div",axis:"y",values:d,onReorder:f,className:"space-y-3",children:d.map(m=>c.jsx(qye,{lot:m,navigateTo:t,onEdit:v=>{o(v),a(!0)},onDelete:v=>u(v)},m.id))}),c.jsx(Vu,{isOpen:i,onClose:()=>a(!1),title:`Acciones para "${s==null?void 0:s.name}"`,actions:h}),c.jsx(Wye,{isOpen:!!l,onClose:()=>u(null),onConfirm:p,title:"Eliminar Lote",message:`Ests seguro de que quieres eliminar el lote "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})}const Xye=({onSave:t,onCancel:e,existingSeason:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState("45"),[u,A]=P.useState(!1),[d,f]=P.useState(null),[h,p]=P.useState(!1);P.useEffect(()=>{if(n){i(n.name),s(n.startDate);const v=new Date(n.startDate),g=new Date(n.endDate),y=Math.abs(g.getTime()-v.getTime()),x=Math.ceil(y/(1e3*60*60*24));l(String(x)),A(n.requiresLightTreatment)}else s(new Date().toISOString().split("T")[0])},[n]);const m=async v=>{if(v.preventDefault(),f(null),!r.trim()||!a||!o){f("Todos los campos son obligatorios.");return}p(!0);const g=new Date(a),y=new Date(g);y.setDate(g.getDate()+parseInt(o,10));const x={name:r,startDate:a,endDate:y.toISOString().split("T")[0],requiresLightTreatment:u};try{await t(x)}catch(C){f("No se pudo guardar la temporada de monta."),console.error(C),p(!1)}};return c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre de la Temporada"}),c.jsx("input",{id:"name",type:"text",value:r,onChange:v=>i(v.target.value),placeholder:"Ej: Monta de Otoo 2025",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),c.jsx("input",{id:"startDate",type:"date",value:a,onChange:v=>s(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Duracin (das)"}),c.jsx("input",{id:"duration",type:"number",value:o,onChange:v=>l(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]})]}),c.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[c.jsx("label",{htmlFor:"lightTreatment",className:"text-sm font-medium text-zinc-300",children:"Requiere Tratamiento de Luz?"}),c.jsx("input",{id:"lightTreatment",type:"checkbox",checked:u,onChange:v=>A(v.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),d&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:h,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:h?"Guardando...":"Guardar Temporada"})]})]})},Jye=({season:t,dragControls:e})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:n=>e.start(n),children:c.jsx(BD,{className:"text-zinc-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t.name,t.requiresLightTreatment&&c.jsx("span",{title:"Requiere Tratamiento de Luz",children:c.jsx(Lpe,{size:16,className:"text-yellow-400"})})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[new Date(t.startDate+"T00:00:00").toLocaleDateString()," - ",new Date(t.endDate+"T00:00:00").toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${t.status==="Activo"?"bg-green-500/80 text-white":"bg-zinc-600 text-zinc-300"}`,children:t.status}),c.jsx(ta,{className:"text-zinc-600"})]})]}),Zye=({season:t,onEdit:e,onClick:n,dragControls:r})=>{const i=Ap(),a=P.useRef(!1);return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("button",{onClick:e,onPointerDown:s=>s.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(bf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]})}),c.jsx(Zi.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onPanStart:()=>{a.current=!0},onPanEnd:()=>{setTimeout(()=>{a.current=!1},50)},onTap:()=>{a.current||n()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(Jye,{season:t,dragControls:r})})]})},ebe=({season:t,navigateTo:e,onEdit:n})=>{const r=f3();return c.jsx(p3,{value:t,dragListener:!1,dragControls:r,children:c.jsx(Zye,{season:t,dragControls:r,onClick:()=>e({name:"breeding-season-detail",seasonId:t.id}),onEdit:()=>n(t)})},t.id)};function tbe({navigateTo:t}){const{breedingSeasons:e,addBreedingSeason:n,updateBreedingSeason:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(void 0),l=P.useMemo(()=>[...e].sort((h,p)=>h.status==="Activo"&&p.status!=="Activo"?-1:h.status!=="Activo"&&p.status==="Activo"?1:new Date(p.startDate).getTime()-new Date(h.startDate).getTime()),[e]),[u,A]=P.useState(l);P.useEffect(()=>{A(l)},[l]);const d=h=>{o(h),a(!0)},f=async h=>{s?await r(s.id,{...h}):await n({...h,status:"Activo"}),a(!1),o(void 0)};return u.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(lx,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay temporadas de monta creadas."}),c.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botn de abajo para empezar a planificar."})]}):c.jsxs(c.Fragment,{children:[c.jsx(h3,{as:"div",axis:"y",values:u,onReorder:A,className:"space-y-3",children:u.map(h=>c.jsx(ebe,{season:h,navigateTo:t,onEdit:d},h.id))}),c.jsx("div",{className:"px-4 mt-4",children:c.jsxs("button",{onClick:()=>d(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:20})," Crear Nueva Temporada"]})}),c.jsx(An,{isOpen:i,onClose:()=>{a(!1),o(void 0)},title:s?"Editar Temporada de Monta":"Crear Temporada de Monta",children:c.jsx(Xye,{onSave:f,onCancel:()=>{a(!1),o(void 0)},existingSeason:s})})]})}function yX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yX(t))&&(r&&(r+=" "),r+=e);return r}var nbe=Array.isArray,qo=nbe,rbe=typeof tm=="object"&&tm&&tm.Object===Object&&tm,bX=rbe,ibe=bX,abe=typeof self=="object"&&self&&self.Object===Object&&self,sbe=ibe||abe||Function("return this")(),qu=sbe,obe=qu,lbe=obe.Symbol,hx=lbe,q6=hx,xX=Object.prototype,cbe=xX.hasOwnProperty,ube=xX.toString,$0=q6?q6.toStringTag:void 0;function Abe(t){var e=cbe.call(t,$0),n=t[$0];try{t[$0]=void 0;var r=!0}catch{}var i=ube.call(t);return r&&(e?t[$0]=n:delete t[$0]),i}var dbe=Abe,fbe=Object.prototype,hbe=fbe.toString;function pbe(t){return hbe.call(t)}var mbe=pbe,Y6=hx,gbe=dbe,vbe=mbe,ybe="[object Null]",bbe="[object Undefined]",X6=Y6?Y6.toStringTag:void 0;function xbe(t){return t==null?t===void 0?bbe:ybe:X6&&X6 in Object(t)?gbe(t):vbe(t)}var ZA=xbe;function wbe(t){return t!=null&&typeof t=="object"}var ed=wbe,Cbe=ZA,Sbe=ed,Ebe="[object Symbol]";function _be(t){return typeof t=="symbol"||Sbe(t)&&Cbe(t)==Ebe}var u0=_be,Bbe=qo,Nbe=u0,jbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ibe=/^\w*$/;function Tbe(t,e){if(Bbe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Nbe(t)?!0:Ibe.test(t)||!jbe.test(t)||e!=null&&t in Object(e)}var m3=Tbe;function kbe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wf=kbe;const A0=Rr(wf);var Pbe=ZA,Dbe=wf,Obe="[object AsyncFunction]",Fbe="[object Function]",Lbe="[object GeneratorFunction]",Mbe="[object Proxy]";function Rbe(t){if(!Dbe(t))return!1;var e=Pbe(t);return e==Fbe||e==Lbe||e==Obe||e==Mbe}var g3=Rbe;const Nn=Rr(g3);var Ube=qu,Qbe=Ube["__core-js_shared__"],Hbe=Qbe,CB=Hbe,J6=function(){var t=/[^.]+$/.exec(CB&&CB.keys&&CB.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zbe(t){return!!J6&&J6 in t}var Vbe=zbe,$be=Function.prototype,Kbe=$be.toString;function Wbe(t){if(t!=null){try{return Kbe.call(t)}catch{}try{return t+""}catch{}}return""}var wX=Wbe,Gbe=g3,qbe=Vbe,Ybe=wf,Xbe=wX,Jbe=/[\\^$.*+?()[\]{}|]/g,Zbe=/^\[object .+?Constructor\]$/,exe=Function.prototype,txe=Object.prototype,nxe=exe.toString,rxe=txe.hasOwnProperty,ixe=RegExp("^"+nxe.call(rxe).replace(Jbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function axe(t){if(!Ybe(t)||qbe(t))return!1;var e=Gbe(t)?ixe:Zbe;return e.test(Xbe(t))}var sxe=axe;function oxe(t,e){return t==null?void 0:t[e]}var lxe=oxe,cxe=sxe,uxe=lxe;function Axe(t,e){var n=uxe(t,e);return cxe(n)?n:void 0}var dp=Axe,dxe=dp,fxe=dxe(Object,"create"),V5=fxe,Z6=V5;function hxe(){this.__data__=Z6?Z6(null):{},this.size=0}var pxe=hxe;function mxe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gxe=mxe,vxe=V5,yxe="__lodash_hash_undefined__",bxe=Object.prototype,xxe=bxe.hasOwnProperty;function wxe(t){var e=this.__data__;if(vxe){var n=e[t];return n===yxe?void 0:n}return xxe.call(e,t)?e[t]:void 0}var Cxe=wxe,Sxe=V5,Exe=Object.prototype,_xe=Exe.hasOwnProperty;function Bxe(t){var e=this.__data__;return Sxe?e[t]!==void 0:_xe.call(e,t)}var Nxe=Bxe,jxe=V5,Ixe="__lodash_hash_undefined__";function Txe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jxe&&e===void 0?Ixe:e,this}var kxe=Txe,Pxe=pxe,Dxe=gxe,Oxe=Cxe,Fxe=Nxe,Lxe=kxe;function d0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}d0.prototype.clear=Pxe;d0.prototype.delete=Dxe;d0.prototype.get=Oxe;d0.prototype.has=Fxe;d0.prototype.set=Lxe;var Mxe=d0;function Rxe(){this.__data__=[],this.size=0}var Uxe=Rxe;function Qxe(t,e){return t===e||t!==t&&e!==e}var v3=Qxe,Hxe=v3;function zxe(t,e){for(var n=t.length;n--;)if(Hxe(t[n][0],e))return n;return-1}var $5=zxe,Vxe=$5,$xe=Array.prototype,Kxe=$xe.splice;function Wxe(t){var e=this.__data__,n=Vxe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kxe.call(e,n,1),--this.size,!0}var Gxe=Wxe,qxe=$5;function Yxe(t){var e=this.__data__,n=qxe(e,t);return n<0?void 0:e[n][1]}var Xxe=Yxe,Jxe=$5;function Zxe(t){return Jxe(this.__data__,t)>-1}var e1e=Zxe,t1e=$5;function n1e(t,e){var n=this.__data__,r=t1e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var r1e=n1e,i1e=Uxe,a1e=Gxe,s1e=Xxe,o1e=e1e,l1e=r1e;function f0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f0.prototype.clear=i1e;f0.prototype.delete=a1e;f0.prototype.get=s1e;f0.prototype.has=o1e;f0.prototype.set=l1e;var K5=f0,c1e=dp,u1e=qu,A1e=c1e(u1e,"Map"),y3=A1e,eU=Mxe,d1e=K5,f1e=y3;function h1e(){this.size=0,this.__data__={hash:new eU,map:new(f1e||d1e),string:new eU}}var p1e=h1e;function m1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var g1e=m1e,v1e=g1e;function y1e(t,e){var n=t.__data__;return v1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var W5=y1e,b1e=W5;function x1e(t){var e=b1e(this,t).delete(t);return this.size-=e?1:0,e}var w1e=x1e,C1e=W5;function S1e(t){return C1e(this,t).get(t)}var E1e=S1e,_1e=W5;function B1e(t){return _1e(this,t).has(t)}var N1e=B1e,j1e=W5;function I1e(t,e){var n=j1e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var T1e=I1e,k1e=p1e,P1e=w1e,D1e=E1e,O1e=N1e,F1e=T1e;function h0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h0.prototype.clear=k1e;h0.prototype.delete=P1e;h0.prototype.get=D1e;h0.prototype.has=O1e;h0.prototype.set=F1e;var b3=h0,CX=b3,L1e="Expected a function";function x3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(L1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(x3.Cache||CX),n}x3.Cache=CX;var SX=x3;const M1e=Rr(SX);var R1e=SX,U1e=500;function Q1e(t){var e=R1e(t,function(r){return n.size===U1e&&n.clear(),r}),n=e.cache;return e}var H1e=Q1e,z1e=H1e,V1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$1e=/\\(\\)?/g,K1e=z1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(V1e,function(n,r,i,a){e.push(i?a.replace($1e,"$1"):r||n)}),e}),W1e=K1e;function G1e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var w3=G1e,tU=hx,q1e=w3,Y1e=qo,X1e=u0,nU=tU?tU.prototype:void 0,rU=nU?nU.toString:void 0;function EX(t){if(typeof t=="string")return t;if(Y1e(t))return q1e(t,EX)+"";if(X1e(t))return rU?rU.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var J1e=EX,Z1e=J1e;function ewe(t){return t==null?"":Z1e(t)}var _X=ewe,twe=qo,nwe=m3,rwe=W1e,iwe=_X;function awe(t,e){return twe(t)?t:nwe(t,e)?[t]:rwe(iwe(t))}var BX=awe,swe=u0;function owe(t){if(typeof t=="string"||swe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var G5=owe,lwe=BX,cwe=G5;function uwe(t,e){e=lwe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cwe(e[n++])];return n&&n==r?t:void 0}var C3=uwe,Awe=C3;function dwe(t,e,n){var r=t==null?void 0:Awe(t,e);return r===void 0?n:r}var NX=dwe;const jl=Rr(NX);function fwe(t){return t==null}var hwe=fwe;const On=Rr(hwe);var pwe=ZA,mwe=qo,gwe=ed,vwe="[object String]";function ywe(t){return typeof t=="string"||!mwe(t)&&gwe(t)&&pwe(t)==vwe}var bwe=ywe;const Vh=Rr(bwe);var jX={exports:{}},Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3=Symbol.for("react.element"),E3=Symbol.for("react.portal"),q5=Symbol.for("react.fragment"),Y5=Symbol.for("react.strict_mode"),X5=Symbol.for("react.profiler"),J5=Symbol.for("react.provider"),Z5=Symbol.for("react.context"),xwe=Symbol.for("react.server_context"),eE=Symbol.for("react.forward_ref"),tE=Symbol.for("react.suspense"),nE=Symbol.for("react.suspense_list"),rE=Symbol.for("react.memo"),iE=Symbol.for("react.lazy"),wwe=Symbol.for("react.offscreen"),IX;IX=Symbol.for("react.module.reference");function wc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case S3:switch(t=t.type,t){case q5:case X5:case Y5:case tE:case nE:return t;default:switch(t=t&&t.$$typeof,t){case xwe:case Z5:case eE:case iE:case rE:case J5:return t;default:return e}}case E3:return e}}}Wr.ContextConsumer=Z5;Wr.ContextProvider=J5;Wr.Element=S3;Wr.ForwardRef=eE;Wr.Fragment=q5;Wr.Lazy=iE;Wr.Memo=rE;Wr.Portal=E3;Wr.Profiler=X5;Wr.StrictMode=Y5;Wr.Suspense=tE;Wr.SuspenseList=nE;Wr.isAsyncMode=function(){return!1};Wr.isConcurrentMode=function(){return!1};Wr.isContextConsumer=function(t){return wc(t)===Z5};Wr.isContextProvider=function(t){return wc(t)===J5};Wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===S3};Wr.isForwardRef=function(t){return wc(t)===eE};Wr.isFragment=function(t){return wc(t)===q5};Wr.isLazy=function(t){return wc(t)===iE};Wr.isMemo=function(t){return wc(t)===rE};Wr.isPortal=function(t){return wc(t)===E3};Wr.isProfiler=function(t){return wc(t)===X5};Wr.isStrictMode=function(t){return wc(t)===Y5};Wr.isSuspense=function(t){return wc(t)===tE};Wr.isSuspenseList=function(t){return wc(t)===nE};Wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===q5||t===X5||t===Y5||t===tE||t===nE||t===wwe||typeof t=="object"&&t!==null&&(t.$$typeof===iE||t.$$typeof===rE||t.$$typeof===J5||t.$$typeof===Z5||t.$$typeof===eE||t.$$typeof===IX||t.getModuleId!==void 0)};Wr.typeOf=wc;jX.exports=Wr;var Cwe=jX.exports,Swe=ZA,Ewe=ed,_we="[object Number]";function Bwe(t){return typeof t=="number"||Ewe(t)&&Swe(t)==_we}var TX=Bwe;const Nwe=Rr(TX);var jwe=TX;function Iwe(t){return jwe(t)&&t!=+t}var Twe=Iwe;const p0=Rr(Twe);var bo=function(e){return e===0?0:e>0?1:-1},fh=function(e){return Vh(e)&&e.indexOf("%")===e.length-1},Tt=function(e){return Nwe(e)&&!p0(e)},kwe=function(e){return On(e)},Xa=function(e){return Tt(e)||Vh(e)},Pwe=0,fp=function(e){var n=++Pwe;return"".concat(e||"").concat(n)},xo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(e)&&!Vh(e))return r;var a;if(fh(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return p0(a)&&(a=r),i&&a>n&&(a=n),a},Nd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Dwe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ga=function(e,n){return Tt(e)&&Tt(n)?function(r){return e+r*(n-e)}:function(){return n}};function AC(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):jl(r,e))===n})}var Owe=function(e,n){return Tt(e)&&Tt(n)?e-n:Vh(e)&&Vh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Lm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function oI(t){"@babel/helpers - typeof";return oI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oI(t)}var Fwe=["viewBox","children"],Lwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iU=["points","pathLength"],SB={svg:Fwe,polygon:iU,polyline:iU},_3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dC=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!A0(r))return null;var i={};return Object.keys(r).forEach(function(a){_3.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Mwe=function(e,n,r){return function(i){return e(n,r,i),null}},$h=function(e,n,r){if(!A0(e)||oI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];_3.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Mwe(s,n,r))}),i},Rwe=["children"],Uwe=["children"];function aU(t,e){if(t==null)return{};var n=Qwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lI(t){"@babel/helpers - typeof";return lI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lI(t)}var sU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},TA=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oU=null,EB=null,B3=function t(e){if(e===oU&&Array.isArray(EB))return EB;var n=[];return P.Children.forEach(e,function(r){On(r)||(Cwe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),EB=n,oU=e,n};function Il(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return TA(i)}):r=[TA(e)],B3(t).forEach(function(i){var a=jl(i,"type.displayName")||jl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function bl(t,e){var n=Il(t,e);return n&&n[0]}var lU=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Tt(r)||r<=0||!Tt(i)||i<=0)},Hwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zwe=function(e){return e&&e.type&&Vh(e.type)&&Hwe.indexOf(e.type)>=0},kX=function(e){return e&&lI(e)==="object"&&"clipDot"in e},Vwe=function(e,n,r,i){var a,s=(a=SB==null?void 0:SB[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Nn(e)&&(i&&s.includes(n)||Lwe.includes(n))||r&&_3.includes(n)},yn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!A0(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Vwe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},cI=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return cU(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!cU(a,s))return!1}return!0},cU=function(e,n){if(On(e)&&On(n))return!0;if(!On(e)&&!On(n)){var r=e.props||{},i=r.children,a=aU(r,Rwe),s=n.props||{},o=s.children,l=aU(s,Uwe);return i&&o?Lm(a,l)&&cI(i,o):!i&&!o?Lm(a,l):!1}return!1},uU=function(e,n){var r=[],i={};return B3(e).forEach(function(a,s){if(zwe(a))r.push(a);else if(a){var o=TA(a.type),l=n[o]||{},u=l.handler,A=l.once;if(u&&(!A||!i[o])){var d=u(a,o,s);r.push(d),i[o]=!0}}}),r},$we=function(e){var n=e&&e.type;return n&&sU[n]?sU[n]:null},Kwe=function(e,n){return B3(n).indexOf(e)},Wwe=["children","width","height","viewBox","className","style","title","desc"];function uI(){return uI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uI.apply(this,arguments)}function Gwe(t,e){if(t==null)return{};var n=qwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AI(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=Gwe(t,Wwe),A=i||{width:n,height:r,x:0,y:0},d=Hn("recharts-surface",a);return be.createElement("svg",uI({},yn(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),be.createElement("title",null,o),be.createElement("desc",null,l),e)}var Ywe=["children","className"];function dI(){return dI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dI.apply(this,arguments)}function Xwe(t,e){if(t==null)return{};var n=Jwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ir=be.forwardRef(function(t,e){var n=t.children,r=t.className,i=Xwe(t,Ywe),a=Hn("recharts-layer",r);return be.createElement("g",dI({className:a},yn(i,!0),{ref:e}),n)}),qc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Zwe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var e2e=Zwe,t2e=e2e;function n2e(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:t2e(t,e,n)}var r2e=n2e,i2e="\\ud800-\\udfff",a2e="\\u0300-\\u036f",s2e="\\ufe20-\\ufe2f",o2e="\\u20d0-\\u20ff",l2e=a2e+s2e+o2e,c2e="\\ufe0e\\ufe0f",u2e="\\u200d",A2e=RegExp("["+u2e+i2e+l2e+c2e+"]");function d2e(t){return A2e.test(t)}var PX=d2e;function f2e(t){return t.split("")}var h2e=f2e,DX="\\ud800-\\udfff",p2e="\\u0300-\\u036f",m2e="\\ufe20-\\ufe2f",g2e="\\u20d0-\\u20ff",v2e=p2e+m2e+g2e,y2e="\\ufe0e\\ufe0f",b2e="["+DX+"]",fI="["+v2e+"]",hI="\\ud83c[\\udffb-\\udfff]",x2e="(?:"+fI+"|"+hI+")",OX="[^"+DX+"]",FX="(?:\\ud83c[\\udde6-\\uddff]){2}",LX="[\\ud800-\\udbff][\\udc00-\\udfff]",w2e="\\u200d",MX=x2e+"?",RX="["+y2e+"]?",C2e="(?:"+w2e+"(?:"+[OX,FX,LX].join("|")+")"+RX+MX+")*",S2e=RX+MX+C2e,E2e="(?:"+[OX+fI+"?",fI,FX,LX,b2e].join("|")+")",_2e=RegExp(hI+"(?="+hI+")|"+E2e+S2e,"g");function B2e(t){return t.match(_2e)||[]}var N2e=B2e,j2e=h2e,I2e=PX,T2e=N2e;function k2e(t){return I2e(t)?T2e(t):j2e(t)}var P2e=k2e,D2e=r2e,O2e=PX,F2e=P2e,L2e=_X;function M2e(t){return function(e){e=L2e(e);var n=O2e(e)?F2e(e):void 0,r=n?n[0]:e.charAt(0),i=n?D2e(n,1).join(""):e.slice(1);return r[t]()+i}}var R2e=M2e,U2e=R2e,Q2e=U2e("toUpperCase"),H2e=Q2e;const aE=Rr(H2e);function ci(t){return function(){return t}}const UX=Math.cos,fC=Math.sin,lu=Math.sqrt,hC=Math.PI,sE=2*hC,pI=Math.PI,mI=2*pI,Yf=1e-6,z2e=mI-Yf;function QX(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function V2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QX;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QX:V2e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,A=s-e,d=o-n,f=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Yf)if(!(Math.abs(d*l-u*A)>Yf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,p=i-o,m=l*l+u*u,v=h*h+p*p,g=Math.sqrt(m),y=Math.sqrt(f),x=a*Math.tan((pI-Math.acos((m+f-v)/(2*g*y)))/2),C=x/y,E=x/g;Math.abs(C-1)>Yf&&this._append`L${e+C*A},${n+C*d}`,this._append`A${a},${a},0,0,${+(d*h>A*p)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,A=n+l,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>Yf||Math.abs(this._y1-A)>Yf)&&this._append`L${u},${A}`,r&&(f<0&&(f=f%mI+mI),f>z2e?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=A}`:f>Yf&&this._append`A${r},${r},0,${+(f>=pI)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function N3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $2e(e)}function j3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HX(t){this._context=t}HX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function oE(t){return new HX(t)}function zX(t){return t[0]}function VX(t){return t[1]}function $X(t,e){var n=ci(!0),r=null,i=oE,a=null,s=N3(o);t=typeof t=="function"?t:t===void 0?zX:ci(t),e=typeof e=="function"?e:e===void 0?VX:ci(e);function o(l){var u,A=(l=j3(l)).length,d,f=!1,h;for(r==null&&(a=i(h=s())),u=0;u<=A;++u)!(u<A&&n(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ci(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ci(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ci(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function C1(t,e,n){var r=null,i=ci(!0),a=null,s=oE,o=null,l=N3(u);t=typeof t=="function"?t:t===void 0?zX:ci(+t),e=typeof e=="function"?e:ci(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?VX:ci(+n);function u(d){var f,h,p,m=(d=j3(d)).length,v,g=!1,y,x=new Array(m),C=new Array(m);for(a==null&&(o=s(y=l())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===g)if(g=!g)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=h;--p)o.point(x[p],C[p]);o.lineEnd(),o.areaEnd()}g&&(x[f]=+t(v,f,d),C[f]=+e(v,f,d),o.point(r?+r(v,f,d):x[f],n?+n(v,f,d):C[f]))}if(y)return o=null,y+""||null}function A(){return $X().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ci(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ci(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ci(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ci(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ci(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ci(+d),u):n},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(n)},u.lineX1=function(){return A().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ci(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class KX{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function K2e(t){return new KX(t,!0)}function W2e(t){return new KX(t,!1)}const I3={draw(t,e){const n=lu(e/hC);t.moveTo(n,0),t.arc(0,0,n,0,sE)}},G2e={draw(t,e){const n=lu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},WX=lu(1/3),q2e=WX*2,Y2e={draw(t,e){const n=lu(e/q2e),r=n*WX;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},X2e={draw(t,e){const n=lu(e),r=-n/2;t.rect(r,r,n,n)}},J2e=.8908130915292852,GX=fC(hC/10)/fC(7*hC/10),Z2e=fC(sE/10)*GX,eCe=-UX(sE/10)*GX,tCe={draw(t,e){const n=lu(e*J2e),r=Z2e*n,i=eCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=sE*a/5,o=UX(s),l=fC(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},_B=lu(3),nCe={draw(t,e){const n=-lu(e/(_B*3));t.moveTo(0,n*2),t.lineTo(-_B*n,-n),t.lineTo(_B*n,-n),t.closePath()}},tc=-.5,nc=lu(3)/2,gI=1/lu(12),rCe=(gI/2+1)*3,iCe={draw(t,e){const n=lu(e/rCe),r=n/2,i=n*gI,a=r,s=n*gI+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(tc*r-nc*i,nc*r+tc*i),t.lineTo(tc*a-nc*s,nc*a+tc*s),t.lineTo(tc*o-nc*l,nc*o+tc*l),t.lineTo(tc*r+nc*i,tc*i-nc*r),t.lineTo(tc*a+nc*s,tc*s-nc*a),t.lineTo(tc*o+nc*l,tc*l-nc*o),t.closePath()}};function aCe(t,e){let n=null,r=N3(i);t=typeof t=="function"?t:ci(t||I3),e=typeof e=="function"?e:ci(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ci(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ci(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function pC(){}function mC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qX(t){this._context=t}qX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sCe(t){return new qX(t)}function YX(t){this._context=t}YX.prototype={areaStart:pC,areaEnd:pC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oCe(t){return new YX(t)}function XX(t){this._context=t}XX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lCe(t){return new XX(t)}function JX(t){this._context=t}JX.prototype={areaStart:pC,areaEnd:pC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cCe(t){return new JX(t)}function AU(t){return t<0?-1:1}function dU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(AU(a)+AU(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function fU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function BB(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function gC(t){this._context=t}gC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:BB(this,this._t0,fU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,BB(this,fU(this,n=dU(this,t,e)),n);break;default:BB(this,this._t0,n=dU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ZX(t){this._context=new eJ(t)}(ZX.prototype=Object.create(gC.prototype)).point=function(t,e){gC.prototype.point.call(this,e,t)};function eJ(t){this._context=t}eJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function uCe(t){return new gC(t)}function ACe(t){return new ZX(t)}function tJ(t){this._context=t}tJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hU(t),i=hU(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hU(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function dCe(t){return new tJ(t)}function lE(t,e){this._context=t,this._t=e}lE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fCe(t){return new lE(t,.5)}function hCe(t){return new lE(t,0)}function pCe(t){return new lE(t,1)}function bg(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vI(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function mCe(t,e){return t[e]}function gCe(t){const e=[];return e.key=t,e}function vCe(){var t=ci([]),e=vI,n=bg,r=mCe;function i(a){var s=Array.from(t.apply(this,arguments),gCe),o,l=s.length,u=-1,A;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,A=j3(e(s));o<l;++o)s[A[o]].index=o;return n(s,A),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ci(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ci(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?vI:typeof a=="function"?a:ci(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??bg,i):n},i}function yCe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}bg(t,e)}}function bCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}bg(t,e)}}function xCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var A=t[e[o]],d=A[r][1]||0,f=A[r-1][1]||0,h=(d-f)/2,p=0;p<o;++p){var m=t[e[p]],v=m[r][1]||0,g=m[r-1][1]||0;h+=v-g}l+=d,u+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,bg(t,e)}}function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}var wCe=["type","size","sizeType"];function yI(){return yI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yI.apply(this,arguments)}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){CCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CCe(t,e,n){return e=SCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SCe(t){var e=ECe(t,"string");return Jy(e)=="symbol"?e:e+""}function ECe(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ce(t,e){if(t==null)return{};var n=BCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nJ={symbolCircle:I3,symbolCross:G2e,symbolDiamond:Y2e,symbolSquare:X2e,symbolStar:tCe,symbolTriangle:nCe,symbolWye:iCe},NCe=Math.PI/180,jCe=function(e){var n="symbol".concat(aE(e));return nJ[n]||I3},ICe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*NCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TCe=function(e,n){nJ["symbol".concat(aE(e))]=n},T3=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=_Ce(e,wCe),u=mU(mU({},l),{},{type:r,size:a,sizeType:o}),A=function(){var v=jCe(r),g=aCe().type(v).size(ICe(a,o,r));return g()},d=u.className,f=u.cx,h=u.cy,p=yn(u,!0);return f===+f&&h===+h&&a===+a?be.createElement("path",yI({},p,{className:Hn("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:A()})):null};T3.registerSymbol=TCe;function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function bI(){return bI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bI.apply(this,arguments)}function gU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(n),!0).forEach(function(r){Zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iJ(r.key),r)}}function OCe(t,e,n){return e&&DCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FCe(t,e,n){return e=vC(e),LCe(t,rJ()?Reflect.construct(e,n||[],vC(t).constructor):e.apply(t,n))}function LCe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MCe(t)}function MCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rJ=function(){return!!t})()}function vC(t){return vC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vC(t)}function RCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xI(t,e)}function xI(t,e){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xI(t,e)}function Zy(t,e,n){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=UCe(t,"string");return xg(e)=="symbol"?e:e+""}function UCe(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=32,k3=function(t){function e(){return PCe(this,e),FCe(this,e,arguments)}return RCe(e,t),OCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=rc/2,s=rc/6,o=rc/3,l=r.inactive?i:r.color;if(r.type==="plainline")return be.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:rc,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return be.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(rc,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return be.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(rc/8,"h").concat(rc,"v").concat(rc*3/4,"h").concat(-rc,"z"),className:"recharts-legend-icon"});if(be.isValidElement(r.legendIcon)){var u=kCe({},r);return delete u.legendIcon,be.cloneElement(r.legendIcon,u)}return be.createElement(T3,{fill:l,cx:a,cy:a,size:rc,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,A={x:0,y:0,width:rc,height:rc},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,p){var m=h.formatter||l,v=Hn(Zy(Zy({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var g=Nn(h.value)?null:h.value;qc(!Nn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return be.createElement("li",bI({className:v,style:d,key:"legend-item-".concat(p)},$h(r.props,h,p)),be.createElement(AI,{width:s,height:s,viewBox:A,style:f},r.renderIcon(h)),be.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,h,p):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return be.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(P.PureComponent);Zy(k3,"displayName","Legend");Zy(k3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QCe=K5;function HCe(){this.__data__=new QCe,this.size=0}var zCe=HCe;function VCe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $Ce=VCe;function KCe(t){return this.__data__.get(t)}var WCe=KCe;function GCe(t){return this.__data__.has(t)}var qCe=GCe,YCe=K5,XCe=y3,JCe=b3,ZCe=200;function eSe(t,e){var n=this.__data__;if(n instanceof YCe){var r=n.__data__;if(!XCe||r.length<ZCe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new JCe(r)}return n.set(t,e),this.size=n.size,this}var tSe=eSe,nSe=K5,rSe=zCe,iSe=$Ce,aSe=WCe,sSe=qCe,oSe=tSe;function m0(t){var e=this.__data__=new nSe(t);this.size=e.size}m0.prototype.clear=rSe;m0.prototype.delete=iSe;m0.prototype.get=aSe;m0.prototype.has=sSe;m0.prototype.set=oSe;var aJ=m0,lSe="__lodash_hash_undefined__";function cSe(t){return this.__data__.set(t,lSe),this}var uSe=cSe;function ASe(t){return this.__data__.has(t)}var dSe=ASe,fSe=b3,hSe=uSe,pSe=dSe;function yC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fSe;++e<n;)this.add(t[e])}yC.prototype.add=yC.prototype.push=hSe;yC.prototype.has=pSe;var sJ=yC;function mSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var oJ=mSe;function gSe(t,e){return t.has(e)}var lJ=gSe,vSe=sJ,ySe=oJ,bSe=lJ,xSe=1,wSe=2;function CSe(t,e,n,r,i,a){var s=n&xSe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),A=a.get(e);if(u&&A)return u==e&&A==t;var d=-1,f=!0,h=n&wSe?new vSe:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var p=t[d],m=e[d];if(r)var v=s?r(m,p,d,e,t,a):r(p,m,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!ySe(e,function(g,y){if(!bSe(h,y)&&(p===g||i(p,g,n,r,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||i(p,m,n,r,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var cJ=CSe,SSe=qu,ESe=SSe.Uint8Array,_Se=ESe;function BSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var NSe=BSe;function jSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var P3=jSe,vU=hx,yU=_Se,ISe=v3,TSe=cJ,kSe=NSe,PSe=P3,DSe=1,OSe=2,FSe="[object Boolean]",LSe="[object Date]",MSe="[object Error]",RSe="[object Map]",USe="[object Number]",QSe="[object RegExp]",HSe="[object Set]",zSe="[object String]",VSe="[object Symbol]",$Se="[object ArrayBuffer]",KSe="[object DataView]",bU=vU?vU.prototype:void 0,NB=bU?bU.valueOf:void 0;function WSe(t,e,n,r,i,a,s){switch(n){case KSe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $Se:return!(t.byteLength!=e.byteLength||!a(new yU(t),new yU(e)));case FSe:case LSe:case USe:return ISe(+t,+e);case MSe:return t.name==e.name&&t.message==e.message;case QSe:case zSe:return t==e+"";case RSe:var o=kSe;case HSe:var l=r&DSe;if(o||(o=PSe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=OSe,s.set(t,e);var A=TSe(o(t),o(e),r,i,a,s);return s.delete(t),A;case VSe:if(NB)return NB.call(t)==NB.call(e)}return!1}var GSe=WSe;function qSe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var uJ=qSe,YSe=uJ,XSe=qo;function JSe(t,e,n){var r=e(t);return XSe(t)?r:YSe(r,n(t))}var ZSe=JSe;function e5e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var t5e=e5e;function n5e(){return[]}var r5e=n5e,i5e=t5e,a5e=r5e,s5e=Object.prototype,o5e=s5e.propertyIsEnumerable,xU=Object.getOwnPropertySymbols,l5e=xU?function(t){return t==null?[]:(t=Object(t),i5e(xU(t),function(e){return o5e.call(t,e)}))}:a5e,c5e=l5e;function u5e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var A5e=u5e,d5e=ZA,f5e=ed,h5e="[object Arguments]";function p5e(t){return f5e(t)&&d5e(t)==h5e}var m5e=p5e,wU=m5e,g5e=ed,AJ=Object.prototype,v5e=AJ.hasOwnProperty,y5e=AJ.propertyIsEnumerable,b5e=wU(function(){return arguments}())?wU:function(t){return g5e(t)&&v5e.call(t,"callee")&&!y5e.call(t,"callee")},D3=b5e,bC={exports:{}};function x5e(){return!1}var w5e=x5e;bC.exports;(function(t,e){var n=qu,r=w5e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(bC,bC.exports);var dJ=bC.exports,C5e=9007199254740991,S5e=/^(?:0|[1-9]\d*)$/;function E5e(t,e){var n=typeof t;return e=e??C5e,!!e&&(n=="number"||n!="symbol"&&S5e.test(t))&&t>-1&&t%1==0&&t<e}var O3=E5e,_5e=9007199254740991;function B5e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_5e}var F3=B5e,N5e=ZA,j5e=F3,I5e=ed,T5e="[object Arguments]",k5e="[object Array]",P5e="[object Boolean]",D5e="[object Date]",O5e="[object Error]",F5e="[object Function]",L5e="[object Map]",M5e="[object Number]",R5e="[object Object]",U5e="[object RegExp]",Q5e="[object Set]",H5e="[object String]",z5e="[object WeakMap]",V5e="[object ArrayBuffer]",$5e="[object DataView]",K5e="[object Float32Array]",W5e="[object Float64Array]",G5e="[object Int8Array]",q5e="[object Int16Array]",Y5e="[object Int32Array]",X5e="[object Uint8Array]",J5e="[object Uint8ClampedArray]",Z5e="[object Uint16Array]",eEe="[object Uint32Array]",wi={};wi[K5e]=wi[W5e]=wi[G5e]=wi[q5e]=wi[Y5e]=wi[X5e]=wi[J5e]=wi[Z5e]=wi[eEe]=!0;wi[T5e]=wi[k5e]=wi[V5e]=wi[P5e]=wi[$5e]=wi[D5e]=wi[O5e]=wi[F5e]=wi[L5e]=wi[M5e]=wi[R5e]=wi[U5e]=wi[Q5e]=wi[H5e]=wi[z5e]=!1;function tEe(t){return I5e(t)&&j5e(t.length)&&!!wi[N5e(t)]}var nEe=tEe;function rEe(t){return function(e){return t(e)}}var fJ=rEe,xC={exports:{}};xC.exports;(function(t,e){var n=bX,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(xC,xC.exports);var iEe=xC.exports,aEe=nEe,sEe=fJ,CU=iEe,SU=CU&&CU.isTypedArray,oEe=SU?sEe(SU):aEe,hJ=oEe,lEe=A5e,cEe=D3,uEe=qo,AEe=dJ,dEe=O3,fEe=hJ,hEe=Object.prototype,pEe=hEe.hasOwnProperty;function mEe(t,e){var n=uEe(t),r=!n&&cEe(t),i=!n&&!r&&AEe(t),a=!n&&!r&&!i&&fEe(t),s=n||r||i||a,o=s?lEe(t.length,String):[],l=o.length;for(var u in t)(e||pEe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dEe(u,l)))&&o.push(u);return o}var gEe=mEe,vEe=Object.prototype;function yEe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vEe;return t===n}var bEe=yEe;function xEe(t,e){return function(n){return t(e(n))}}var pJ=xEe,wEe=pJ,CEe=wEe(Object.keys,Object),SEe=CEe,EEe=bEe,_Ee=SEe,BEe=Object.prototype,NEe=BEe.hasOwnProperty;function jEe(t){if(!EEe(t))return _Ee(t);var e=[];for(var n in Object(t))NEe.call(t,n)&&n!="constructor"&&e.push(n);return e}var IEe=jEe,TEe=g3,kEe=F3;function PEe(t){return t!=null&&kEe(t.length)&&!TEe(t)}var px=PEe,DEe=gEe,OEe=IEe,FEe=px;function LEe(t){return FEe(t)?DEe(t):OEe(t)}var cE=LEe,MEe=ZSe,REe=c5e,UEe=cE;function QEe(t){return MEe(t,UEe,REe)}var HEe=QEe,EU=HEe,zEe=1,VEe=Object.prototype,$Ee=VEe.hasOwnProperty;function KEe(t,e,n,r,i,a){var s=n&zEe,o=EU(t),l=o.length,u=EU(e),A=u.length;if(l!=A&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:$Ee.call(e,f)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){f=o[d];var g=t[f],y=e[f];if(r)var x=s?r(y,g,f,e,t,a):r(g,y,f,t,e,a);if(!(x===void 0?g===y||i(g,y,n,r,a):x)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(t),a.delete(e),m}var WEe=KEe,GEe=dp,qEe=qu,YEe=GEe(qEe,"DataView"),XEe=YEe,JEe=dp,ZEe=qu,e_e=JEe(ZEe,"Promise"),t_e=e_e,n_e=dp,r_e=qu,i_e=n_e(r_e,"Set"),mJ=i_e,a_e=dp,s_e=qu,o_e=a_e(s_e,"WeakMap"),l_e=o_e,wI=XEe,CI=y3,SI=t_e,EI=mJ,_I=l_e,gJ=ZA,g0=wX,_U="[object Map]",c_e="[object Object]",BU="[object Promise]",NU="[object Set]",jU="[object WeakMap]",IU="[object DataView]",u_e=g0(wI),A_e=g0(CI),d_e=g0(SI),f_e=g0(EI),h_e=g0(_I),Xf=gJ;(wI&&Xf(new wI(new ArrayBuffer(1)))!=IU||CI&&Xf(new CI)!=_U||SI&&Xf(SI.resolve())!=BU||EI&&Xf(new EI)!=NU||_I&&Xf(new _I)!=jU)&&(Xf=function(t){var e=gJ(t),n=e==c_e?t.constructor:void 0,r=n?g0(n):"";if(r)switch(r){case u_e:return IU;case A_e:return _U;case d_e:return BU;case f_e:return NU;case h_e:return jU}return e});var p_e=Xf,jB=aJ,m_e=cJ,g_e=GSe,v_e=WEe,TU=p_e,kU=qo,PU=dJ,y_e=hJ,b_e=1,DU="[object Arguments]",OU="[object Array]",S1="[object Object]",x_e=Object.prototype,FU=x_e.hasOwnProperty;function w_e(t,e,n,r,i,a){var s=kU(t),o=kU(e),l=s?OU:TU(t),u=o?OU:TU(e);l=l==DU?S1:l,u=u==DU?S1:u;var A=l==S1,d=u==S1,f=l==u;if(f&&PU(t)){if(!PU(e))return!1;s=!0,A=!1}if(f&&!A)return a||(a=new jB),s||y_e(t)?m_e(t,e,n,r,i,a):g_e(t,e,l,n,r,i,a);if(!(n&b_e)){var h=A&&FU.call(t,"__wrapped__"),p=d&&FU.call(e,"__wrapped__");if(h||p){var m=h?t.value():t,v=p?e.value():e;return a||(a=new jB),i(m,v,n,r,a)}}return f?(a||(a=new jB),v_e(t,e,n,r,i,a)):!1}var C_e=w_e,S_e=C_e,LU=ed;function vJ(t,e,n,r,i){return t===e?!0:t==null||e==null||!LU(t)&&!LU(e)?t!==t&&e!==e:S_e(t,e,n,r,vJ,i)}var L3=vJ,E_e=aJ,__e=L3,B_e=1,N_e=2;function j_e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],A=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new E_e;if(r)var f=r(u,A,l,t,e,d);if(!(f===void 0?__e(A,u,B_e|N_e,r,d):f))return!1}}return!0}var I_e=j_e,T_e=wf;function k_e(t){return t===t&&!T_e(t)}var yJ=k_e,P_e=yJ,D_e=cE;function O_e(t){for(var e=D_e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,P_e(i)]}return e}var F_e=O_e;function L_e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var bJ=L_e,M_e=I_e,R_e=F_e,U_e=bJ;function Q_e(t){var e=R_e(t);return e.length==1&&e[0][2]?U_e(e[0][0],e[0][1]):function(n){return n===t||M_e(n,t,e)}}var H_e=Q_e;function z_e(t,e){return t!=null&&e in Object(t)}var V_e=z_e,$_e=BX,K_e=D3,W_e=qo,G_e=O3,q_e=F3,Y_e=G5;function X_e(t,e,n){e=$_e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Y_e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&q_e(i)&&G_e(s,i)&&(W_e(t)||K_e(t)))}var J_e=X_e,Z_e=V_e,eBe=J_e;function tBe(t,e){return t!=null&&eBe(t,e,Z_e)}var nBe=tBe,rBe=L3,iBe=NX,aBe=nBe,sBe=m3,oBe=yJ,lBe=bJ,cBe=G5,uBe=1,ABe=2;function dBe(t,e){return sBe(t)&&oBe(e)?lBe(cBe(t),e):function(n){var r=iBe(n,t);return r===void 0&&r===e?aBe(n,t):rBe(e,r,uBe|ABe)}}var fBe=dBe;function hBe(t){return t}var v0=hBe;function pBe(t){return function(e){return e==null?void 0:e[t]}}var mBe=pBe,gBe=C3;function vBe(t){return function(e){return gBe(e,t)}}var yBe=vBe,bBe=mBe,xBe=yBe,wBe=m3,CBe=G5;function SBe(t){return wBe(t)?bBe(CBe(t)):xBe(t)}var EBe=SBe,_Be=H_e,BBe=fBe,NBe=v0,jBe=qo,IBe=EBe;function TBe(t){return typeof t=="function"?t:t==null?NBe:typeof t=="object"?jBe(t)?BBe(t[0],t[1]):_Be(t):IBe(t)}var Yu=TBe;function kBe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var xJ=kBe;function PBe(t){return t!==t}var DBe=PBe;function OBe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var FBe=OBe,LBe=xJ,MBe=DBe,RBe=FBe;function UBe(t,e,n){return e===e?RBe(t,e,n):LBe(t,MBe,n)}var QBe=UBe,HBe=QBe;function zBe(t,e){var n=t==null?0:t.length;return!!n&&HBe(t,e,0)>-1}var VBe=zBe;function $Be(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var KBe=$Be;function WBe(){}var GBe=WBe,IB=mJ,qBe=GBe,YBe=P3,XBe=1/0,JBe=IB&&1/YBe(new IB([,-0]))[1]==XBe?function(t){return new IB(t)}:qBe,ZBe=JBe,eNe=sJ,tNe=VBe,nNe=KBe,rNe=lJ,iNe=ZBe,aNe=P3,sNe=200;function oNe(t,e,n){var r=-1,i=tNe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=nNe;else if(a>=sNe){var u=e?null:iNe(t);if(u)return aNe(u);s=!1,i=rNe,l=new eNe}else l=e?[]:o;e:for(;++r<a;){var A=t[r],d=e?e(A):A;if(A=n||A!==0?A:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(A)}else i(l,d,n)||(l!==o&&l.push(d),o.push(A))}return o}var lNe=oNe,cNe=Yu,uNe=lNe;function ANe(t,e){return t&&t.length?uNe(t,cNe(e)):[]}var dNe=ANe;const MU=Rr(dNe);function wJ(t,e,n){return e===!0?MU(t,n):Nn(e)?MU(t,e):t}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}var fNe=["ref"];function RU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(n),!0).forEach(function(r){uE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SJ(r.key),r)}}function pNe(t,e,n){return e&&UU(t.prototype,e),n&&UU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mNe(t,e,n){return e=wC(e),gNe(t,CJ()?Reflect.construct(e,n||[],wC(t).constructor):e.apply(t,n))}function gNe(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(t)}function vNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CJ=function(){return!!t})()}function wC(t){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wC(t)}function yNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BI(t,e)}function uE(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=bNe(t,"string");return wg(e)=="symbol"?e:e+""}function bNe(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xNe(t,e){if(t==null)return{};var n=wNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CNe(t){return t.value}function SNe(t,e){if(be.isValidElement(t))return be.cloneElement(t,e);if(typeof t=="function")return be.createElement(t,e);e.ref;var n=xNe(e,fNe);return be.createElement(k3,n)}var QU=1,Tl=function(t){function e(){var n;hNe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=mNe(this,e,[].concat(i)),uE(n,"lastBoundingBox",{width:-1,height:-1}),n}return yNe(e,t),pNe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QU||Math.abs(i.height-this.lastBoundingBox.height)>QU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?lA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,A=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((u||0)-h.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var p=this.getBBoxSnapshot();f={top:((A||0)-p.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return lA(lA({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,A=i.payload,d=lA(lA({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return be.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},SNe(a,lA(lA({},this.props),{},{payload:wJ(A,u,CNe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=lA(lA({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&Tt(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);uE(Tl,"displayName","Legend");uE(Tl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var HU=hx,ENe=D3,_Ne=qo,zU=HU?HU.isConcatSpreadable:void 0;function BNe(t){return _Ne(t)||ENe(t)||!!(zU&&t&&t[zU])}var NNe=BNe,jNe=uJ,INe=NNe;function EJ(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=INe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?EJ(o,e-1,n,r,i):jNe(i,o):r||(i[i.length]=o)}return i}var _J=EJ;function TNe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var kNe=TNe,PNe=kNe,DNe=PNe(),ONe=DNe,FNe=ONe,LNe=cE;function MNe(t,e){return t&&FNe(t,e,LNe)}var BJ=MNe,RNe=px;function UNe(t,e){return function(n,r){if(n==null)return n;if(!RNe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var QNe=UNe,HNe=BJ,zNe=QNe,VNe=zNe(HNe),M3=VNe,$Ne=M3,KNe=px;function WNe(t,e){var n=-1,r=KNe(t)?Array(t.length):[];return $Ne(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var NJ=WNe;function GNe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var qNe=GNe,VU=u0;function YNe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=VU(t),s=e!==void 0,o=e===null,l=e===e,u=VU(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var XNe=YNe,JNe=XNe;function ZNe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=JNe(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var e4e=ZNe,TB=w3,t4e=C3,n4e=Yu,r4e=NJ,i4e=qNe,a4e=fJ,s4e=e4e,o4e=v0,l4e=qo;function c4e(t,e,n){e.length?e=TB(e,function(a){return l4e(a)?function(s){return t4e(s,a.length===1?a[0]:a)}:a}):e=[o4e];var r=-1;e=TB(e,a4e(n4e));var i=r4e(t,function(a,s,o){var l=TB(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return i4e(i,function(a,s){return s4e(a,s,n)})}var u4e=c4e;function A4e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var d4e=A4e,f4e=d4e,$U=Math.max;function h4e(t,e,n){return e=$U(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=$U(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),f4e(t,this,o)}}var p4e=h4e;function m4e(t){return function(){return t}}var g4e=m4e,v4e=dp,y4e=function(){try{var t=v4e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),jJ=y4e,b4e=g4e,KU=jJ,x4e=v0,w4e=KU?function(t,e){return KU(t,"toString",{configurable:!0,enumerable:!1,value:b4e(e),writable:!0})}:x4e,C4e=w4e,S4e=800,E4e=16,_4e=Date.now;function B4e(t){var e=0,n=0;return function(){var r=_4e(),i=E4e-(r-n);if(n=r,i>0){if(++e>=S4e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var N4e=B4e,j4e=C4e,I4e=N4e,T4e=I4e(j4e),k4e=T4e,P4e=v0,D4e=p4e,O4e=k4e;function F4e(t,e){return O4e(D4e(t,e,P4e),t+"")}var L4e=F4e,M4e=v3,R4e=px,U4e=O3,Q4e=wf;function H4e(t,e,n){if(!Q4e(n))return!1;var r=typeof e;return(r=="number"?R4e(n)&&U4e(e,n.length):r=="string"&&e in n)?M4e(n[e],t):!1}var AE=H4e,z4e=_J,V4e=u4e,$4e=L4e,WU=AE,K4e=$4e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&WU(t,e[0],e[1])?e=[]:n>2&&WU(e[0],e[1],e[2])&&(e=[e[0]]),V4e(t,z4e(e,1),[])}),W4e=K4e;const R3=Rr(W4e);function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function NI(){return NI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NI.apply(this,arguments)}function G4e(t,e){return J4e(t)||X4e(t,e)||Y4e(t,e)||q4e()}function q4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y4e(t,e){if(t){if(typeof t=="string")return GU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GU(t,e)}}function GU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function J4e(t){if(Array.isArray(t))return t}function qU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(n),!0).forEach(function(r){Z4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z4e(t,e,n){return e=eje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eje(t){var e=tje(t,"string");return eb(e)=="symbol"?e:e+""}function tje(t,e){if(eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nje(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var rje=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,A=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,v=e.labelFormatter,g=e.accessibilityLayer,y=g===void 0?!1:g,x=function(){if(A&&A.length){var O={padding:0,margin:0},L=(f?R3(A,f):A).map(function(H,q){if(H.type==="none")return null;var Y=kB({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),ee=H.formatter||d||nje,K=H.value,te=H.name,le=K,se=te;if(ee&&le!=null&&se!=null){var M=ee(K,te,H,q,A);if(Array.isArray(M)){var $=G4e(M,2);le=$[0],se=$[1]}else le=M}return be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:Y},Xa(se)?be.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Xa(se)?be.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,be.createElement("span",{className:"recharts-tooltip-item-value"},le),be.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return be.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},C=kB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=kB({margin:0},u),j=!On(m),_=j?m:"",B=Hn("recharts-default-tooltip",h),N=Hn("recharts-tooltip-label",p);j&&v&&A!==void 0&&A!==null&&(_=v(m,A));var D=y?{role:"status","aria-live":"assertive"}:{};return be.createElement("div",NI({className:B,style:C},D),be.createElement("p",{className:N,style:E},be.isValidElement(_)?_:"".concat(_)),x())};function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function E1(t,e,n){return e=ije(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ije(t){var e=aje(t,"string");return tb(e)=="symbol"?e:e+""}function aje(t,e){if(tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K0="recharts-tooltip-wrapper",sje={visibility:"hidden"};function oje(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Hn(K0,E1(E1(E1(E1({},"".concat(K0,"-right"),Tt(n)&&e&&Tt(e.x)&&n>=e.x),"".concat(K0,"-left"),Tt(n)&&e&&Tt(e.x)&&n<e.x),"".concat(K0,"-bottom"),Tt(r)&&e&&Tt(e.y)&&r>=e.y),"".concat(K0,"-top"),Tt(r)&&e&&Tt(e.y)&&r<e.y))}function YU(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Tt(a[r]))return a[r];var A=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?A:d;if(s[r]){var f=A,h=l[r];return f<h?Math.max(d,l[r]):Math.max(A,l[r])}var p=d+o,m=l[r]+u;return p>m?Math.max(A,l[r]):Math.max(d,l[r])}function lje(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cje(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,A,d;return s.height>0&&s.width>0&&n?(A=YU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=YU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=lje({translateX:A,translateY:d,useTranslate3d:o})):u=sje,{cssProperties:u,cssClasses:oje({translateX:A,translateY:d,coordinate:n})}}function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function XU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(n),!0).forEach(function(r){II(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TJ(r.key),r)}}function dje(t,e,n){return e&&Aje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fje(t,e,n){return e=CC(e),hje(t,IJ()?Reflect.construct(e,n||[],CC(t).constructor):e.apply(t,n))}function hje(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pje(t)}function pje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IJ=function(){return!!t})()}function CC(t){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CC(t)}function mje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jI(t,e)}function jI(t,e){return jI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jI(t,e)}function II(t,e,n){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=gje(t,"string");return Cg(e)=="symbol"?e:e+""}function gje(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZU=1,vje=function(t){function e(){var n;uje(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fje(this,e,[].concat(i)),II(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),II(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,A;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(A=n.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),n}return mje(e,t),dje(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ZU||Math.abs(r.height-this.state.lastBoundingBox.height)>ZU)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,A=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,p=i.position,m=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,y=i.wrapperStyle,x=cje({allowEscapeViewBox:s,coordinate:A,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),C=x.cssClasses,E=x.cssProperties,j=JU(JU({transition:f&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return be.createElement("div",{tabIndex:-1,className:C,style:j,ref:function(B){r.wrapperNode=B}},u)}}])}(P.PureComponent),yje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cf={isSsr:yje()};function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function e8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(n),!0).forEach(function(r){U3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PJ(r.key),r)}}function wje(t,e,n){return e&&xje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cje(t,e,n){return e=SC(e),Sje(t,kJ()?Reflect.construct(e,n||[],SC(t).constructor):e.apply(t,n))}function Sje(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eje(t)}function Eje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kJ=function(){return!!t})()}function SC(t){return SC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SC(t)}function _je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TI(t,e)}function U3(t,e,n){return e=PJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PJ(t){var e=Bje(t,"string");return Sg(e)=="symbol"?e:e+""}function Bje(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nje(t){return t.dataKey}function jje(t,e){return be.isValidElement(t)?be.cloneElement(t,e):typeof t=="function"?be.createElement(t,e):be.createElement(rje,e)}var Sr=function(t){function e(){return bje(this,e),Cje(this,e,arguments)}return _je(e,t),wje(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,A=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,p=i.payload,m=i.payloadUniqBy,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,C=i.wrapperStyle,E=p??[];d&&E.length&&(E=wJ(p.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),m,Nje));var j=E.length>0;return be.createElement(vje,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:f,active:a,coordinate:A,hasPayload:j,offset:h,position:v,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:C},jje(u,t8(t8({},this.props),{},{payload:E})))}}])}(P.PureComponent);U3(Sr,"displayName","Tooltip");U3(Sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ije=qu,Tje=function(){return Ije.Date.now()},kje=Tje,Pje=/\s/;function Dje(t){for(var e=t.length;e--&&Pje.test(t.charAt(e)););return e}var Oje=Dje,Fje=Oje,Lje=/^\s+/;function Mje(t){return t&&t.slice(0,Fje(t)+1).replace(Lje,"")}var Rje=Mje,Uje=Rje,n8=wf,Qje=u0,r8=NaN,Hje=/^[-+]0x[0-9a-f]+$/i,zje=/^0b[01]+$/i,Vje=/^0o[0-7]+$/i,$je=parseInt;function Kje(t){if(typeof t=="number")return t;if(Qje(t))return r8;if(n8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=n8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Uje(t);var n=zje.test(t);return n||Vje.test(t)?$je(t.slice(2),n?2:8):Hje.test(t)?r8:+t}var DJ=Kje,Wje=wf,PB=kje,i8=DJ,Gje="Expected a function",qje=Math.max,Yje=Math.min;function Xje(t,e,n){var r,i,a,s,o,l,u=0,A=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Gje);e=i8(e)||0,Wje(n)&&(A=!!n.leading,d="maxWait"in n,a=d?qje(i8(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function h(j){var _=r,B=i;return r=i=void 0,u=j,s=t.apply(B,_),s}function p(j){return u=j,o=setTimeout(g,e),A?h(j):s}function m(j){var _=j-l,B=j-u,N=e-_;return d?Yje(N,a-B):N}function v(j){var _=j-l,B=j-u;return l===void 0||_>=e||_<0||d&&B>=a}function g(){var j=PB();if(v(j))return y(j);o=setTimeout(g,m(j))}function y(j){return o=void 0,f&&r?h(j):(r=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function C(){return o===void 0?s:y(PB())}function E(){var j=PB(),_=v(j);if(r=arguments,i=this,l=j,_){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(g,e),h(l)}return o===void 0&&(o=setTimeout(g,e)),s}return E.cancel=x,E.flush=C,E}var Jje=Xje,Zje=Jje,eIe=wf,tIe="Expected a function";function nIe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(tIe);return eIe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zje(t,e,{leading:r,maxWait:e,trailing:i})}var rIe=nIe;const OJ=Rr(rIe);function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function a8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(r){iIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iIe(t,e,n){return e=aIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aIe(t){var e=sIe(t,"string");return nb(e)=="symbol"?e:e+""}function sIe(t,e){if(nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oIe(t,e){return AIe(t)||uIe(t,e)||cIe(t,e)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(t,e){if(t){if(typeof t=="string")return s8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(t,e)}}function s8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function AIe(t){if(Array.isArray(t))return t}var Oi=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,h=t.children,p=t.debounce,m=p===void 0?0:p,v=t.id,g=t.className,y=t.onResize,x=t.style,C=x===void 0?{}:x,E=P.useRef(null),j=P.useRef();j.current=y,P.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=P.useState({containerWidth:i.width,containerHeight:i.height}),B=oIe(_,2),N=B[0],D=B[1],T=P.useCallback(function(L,H){D(function(q){var Y=Math.round(L),ee=Math.round(H);return q.containerWidth===Y&&q.containerHeight===ee?q:{containerWidth:Y,containerHeight:ee}})},[]);P.useEffect(function(){var L=function(te){var le,se=te[0].contentRect,M=se.width,$=se.height;T(M,$),(le=j.current)===null||le===void 0||le.call(j,M,$)};m>0&&(L=OJ(L,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(L),q=E.current.getBoundingClientRect(),Y=q.width,ee=q.height;return T(Y,ee),H.observe(E.current),function(){H.disconnect()}},[T,m]);var O=P.useMemo(function(){var L=N.containerWidth,H=N.containerHeight;if(L<0||H<0)return null;qc(fh(s)||fh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),qc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=fh(s)?L:s,Y=fh(l)?H:l;n&&n>0&&(q?Y=q/n:Y&&(q=Y*n),f&&Y>f&&(Y=f)),qc(q>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,Y,s,l,A,d,n);var ee=!Array.isArray(h)&&TA(h.type).endsWith("Chart");return be.Children.map(h,function(K){return be.isValidElement(K)?P.cloneElement(K,_1({width:q,height:Y},ee?{style:_1({height:"100%",width:"100%",maxHeight:Y,maxWidth:q},K.props.style)}:{})):K})},[n,h,l,f,d,A,N,s]);return be.createElement("div",{id:v?"".concat(v):void 0,className:Hn("recharts-responsive-container",g),style:_1(_1({},C),{},{width:s,height:l,minWidth:A,minHeight:d,maxHeight:f}),ref:E},O)}),gc=function(e){return null};gc.displayName="Cell";function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function o8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(n),!0).forEach(function(r){dIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dIe(t,e,n){return e=fIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fIe(t){var e=hIe(t,"string");return rb(e)=="symbol"?e:e+""}function hIe(t,e){if(rb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jp={widthCache:{},cacheCount:0},pIe=2e3,mIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},l8="recharts_measurement_span";function gIe(t){var e=kI({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cf.isSsr)return{width:0,height:0};var r=gIe(n),i=JSON.stringify({text:e,copyStyle:r});if(jp.widthCache[i])return jp.widthCache[i];try{var a=document.getElementById(l8);a||(a=document.createElement("span"),a.setAttribute("id",l8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=kI(kI({},mIe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return jp.widthCache[i]=l,++jp.cacheCount>pIe&&(jp.cacheCount=0,jp.widthCache={}),l}catch{return{width:0,height:0}}},vIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ib(t){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function EC(t,e){return wIe(t)||xIe(t,e)||bIe(t,e)||yIe()}function yIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(t,e){if(t){if(typeof t=="string")return c8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c8(t,e)}}function c8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function wIe(t){if(Array.isArray(t))return t}function CIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EIe(r.key),r)}}function SIe(t,e,n){return e&&u8(t.prototype,e),n&&u8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EIe(t){var e=_Ie(t,"string");return ib(e)=="symbol"?e:e+""}function _Ie(t,e){if(ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jIe=Object.keys(FJ),ym="NaN";function IIe(t,e){return t*FJ[e]}var B1=function(){function t(e,n){CIe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!BIe.test(n)&&(this.num=NaN,this.unit=""),jIe.includes(n)&&(this.num=IIe(e,n),this.unit="px")}return SIe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=NIe.exec(n))!==null&&r!==void 0?r:[],a=EC(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function LJ(t){if(t.includes(ym))return ym;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=A8.exec(e))!==null&&n!==void 0?n:[],i=EC(r,4),a=i[1],s=i[2],o=i[3],l=B1.parse(a??""),u=B1.parse(o??""),A=s==="*"?l.multiply(u):l.divide(u);if(A.isNaN())return ym;e=e.replace(A8,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=d8.exec(e))!==null&&d!==void 0?d:[],h=EC(f,4),p=h[1],m=h[2],v=h[3],g=B1.parse(p??""),y=B1.parse(v??""),x=m==="+"?g.add(y):g.subtract(y);if(x.isNaN())return ym;e=e.replace(d8,x.toString())}return e}var f8=/\(([^()]*)\)/;function TIe(t){for(var e=t;e.includes("(");){var n=f8.exec(e),r=EC(n,2),i=r[1];e=e.replace(f8,LJ(i))}return e}function kIe(t){var e=t.replace(/\s+/g,"");return e=TIe(e),e=LJ(e),e}function PIe(t){try{return kIe(t)}catch{return ym}}function DB(t){var e=PIe(t.slice(5,-1));return e===ym?"":e}var DIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OIe=["dx","dy","angle","className","breakAll"];function PI(){return PI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PI.apply(this,arguments)}function h8(t,e){if(t==null)return{};var n=FIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p8(t,e){return UIe(t)||RIe(t,e)||MIe(t,e)||LIe()}function LIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MIe(t,e){if(t){if(typeof t=="string")return m8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m8(t,e)}}function m8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function UIe(t){if(Array.isArray(t))return t}var MJ=/[ \f\n\r\t\v\u2028\u2029]+/,RJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];On(n)||(r?a=n.toString().split(""):a=n.toString().split(MJ));var s=a.map(function(l){return{word:l,width:Yv(l,i).width}}),o=r?0:Yv("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},QIe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,A=Tt(s),d=o,f=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(Y,ee){var K=ee.word,te=ee.width,le=Y[Y.length-1];if(le&&(i==null||a||le.width+te+r<Number(i)))le.words.push(K),le.width+=te+r;else{var se={words:[K],width:te};Y.push(se)}return Y},[])},h=f(n),p=function(q){return q.reduce(function(Y,ee){return Y.width>ee.width?Y:ee})};if(!A)return h;for(var m="",v=function(q){var Y=d.slice(0,q),ee=RJ({breakAll:u,style:l,children:Y+m}).wordsWithComputedWidth,K=f(ee),te=K.length>s||p(K).width>Number(i);return[te,K]},g=0,y=d.length-1,x=0,C;g<=y&&x<=d.length-1;){var E=Math.floor((g+y)/2),j=E-1,_=v(j),B=p8(_,2),N=B[0],D=B[1],T=v(E),O=p8(T,1),L=O[0];if(!N&&!L&&(g=E+1),N&&L&&(y=E-1),!N&&L){C=D;break}x++}return C||h},g8=function(e){var n=On(e)?[]:e.toString().split(MJ);return[{words:n}]},HIe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Cf.isSsr){var l,u,A=RJ({breakAll:s,children:i,style:a});if(A){var d=A.wordsWithComputedWidth,f=A.spaceWidth;l=d,u=f}else return g8(i);return QIe({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return g8(i)},v8="#808080",Kh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,A=e.scaleToFit,d=A===void 0?!1:A,f=e.textAnchor,h=f===void 0?"start":f,p=e.verticalAnchor,m=p===void 0?"end":p,v=e.fill,g=v===void 0?v8:v,y=h8(e,DIe),x=P.useMemo(function(){return HIe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),C=y.dx,E=y.dy,j=y.angle,_=y.className,B=y.breakAll,N=h8(y,OIe);if(!Xa(r)||!Xa(a))return null;var D=r+(Tt(C)?C:0),T=a+(Tt(E)?E:0),O;switch(m){case"start":O=DB("calc(".concat(u,")"));break;case"middle":O=DB("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=DB("calc(".concat(x.length-1," * -").concat(o,")"));break}var L=[];if(d){var H=x[0].width,q=y.width;L.push("scale(".concat((Tt(q)?q/H:1)/H,")"))}return j&&L.push("rotate(".concat(j,", ").concat(D,", ").concat(T,")")),L.length&&(N.transform=L.join(" ")),be.createElement("text",PI({},yn(N,!0),{x:D,y:T,className:Hn("recharts-text",_),textAnchor:h,fill:g.includes("url")?v8:g}),x.map(function(Y,ee){var K=Y.words.join(B?"":" ");return be.createElement("tspan",{x:D,dy:ee===0?O:o,key:"".concat(K,"-").concat(ee)},K)}))};function Zd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Q3(t){let e,n,r;t.length!==2?(e=Zd,n=(o,l)=>Zd(t(o),l),r=(o,l)=>t(o)-l):(e=t===Zd||t===zIe?t:VIe,n=t,r=t);function i(o,l,u=0,A=o.length){if(u<A){if(e(l,l)!==0)return A;do{const d=u+A>>>1;n(o[d],l)<0?u=d+1:A=d}while(u<A)}return u}function a(o,l,u=0,A=o.length){if(u<A){if(e(l,l)!==0)return A;do{const d=u+A>>>1;n(o[d],l)<=0?u=d+1:A=d}while(u<A)}return u}function s(o,l,u=0,A=o.length){const d=i(o,l,u,A-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function VIe(){return 0}function UJ(t){return t===null?NaN:+t}function*$Ie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const KIe=Q3(Zd),mx=KIe.right;Q3(UJ).center;class y8 extends Map{constructor(e,n=qIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(b8(this,e))}has(e){return super.has(b8(this,e))}set(e,n){return super.set(WIe(this,e),n)}delete(e){return super.delete(GIe(this,e))}}function b8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function WIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function GIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YIe(t=Zd){if(t===Zd)return QJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function QJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const XIe=Math.sqrt(50),JIe=Math.sqrt(10),ZIe=Math.sqrt(2);function _C(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=XIe?10:a>=JIe?5:a>=ZIe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?_C(t,e,n*2):[o,l,u]}function DI(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?_C(e,t,n):_C(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function OI(t,e,n){return e=+e,t=+t,n=+n,_C(t,e,n)[2]}function FI(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?OI(e,t,n):OI(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function x8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function w8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?QJ:YIe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,A=Math.log(l),d=.5*Math.exp(2*A/3),f=.5*Math.sqrt(A*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*d/l+f)),p=Math.min(r,Math.floor(e+(l-u)*d/l+f));HJ(t,e,h,p,i)}const a=t[e];let s=n,o=r;for(W0(t,n,e),i(t[r],a)>0&&W0(t,n,r);s<o;){for(W0(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?W0(t,n,o):(++o,W0(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function W0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eTe(t,e,n){if(t=Float64Array.from($Ie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return w8(t);if(e>=1)return x8(t);var r,i=(r-1)*e,a=Math.floor(i),s=x8(HJ(t,a).subarray(0,a+1)),o=w8(t.subarray(a+1));return s+(o-s)*(i-a)}}function tTe(t,e,n=UJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function nTe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Cc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function td(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const LI=Symbol("implicit");function H3(){var t=new y8,e=[],n=[],r=LI;function i(a){let s=t.get(a);if(s===void 0){if(r!==LI)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new y8;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return H3(e,n).unknown(r)},Cc.apply(i,arguments),i}function ab(){var t=H3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,A=.5;delete t.unknown;function d(){var f=e().length,h=i<r,p=h?i:r,m=h?r:i;a=(m-p)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),p+=(m-p-a*(f-l))*A,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=nTe(f).map(function(g){return p+a*g});return n(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(A=Math.max(0,Math.min(1,f)),d()):A},t.copy=function(){return ab(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(A)},Cc.apply(d(),arguments)}function zJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zJ(e())},t}function Xv(){return zJ(ab.apply(null,arguments).paddingInner(1))}function z3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function VJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gx(){}var sb=.7,BC=1/sb,Mm="\\s*([+-]?\\d+)\\s*",ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rTe=/^#([0-9a-f]{3,8})$/,iTe=new RegExp(`^rgb\\(${Mm},${Mm},${Mm}\\)$`),aTe=new RegExp(`^rgb\\(${Ru},${Ru},${Ru}\\)$`),sTe=new RegExp(`^rgba\\(${Mm},${Mm},${Mm},${ob}\\)$`),oTe=new RegExp(`^rgba\\(${Ru},${Ru},${Ru},${ob}\\)$`),lTe=new RegExp(`^hsl\\(${ob},${Ru},${Ru}\\)$`),cTe=new RegExp(`^hsla\\(${ob},${Ru},${Ru},${ob}\\)$`),C8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z3(gx,lb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:S8,formatHex:S8,formatHex8:uTe,formatHsl:ATe,formatRgb:E8,toString:E8});function S8(){return this.rgb().formatHex()}function uTe(){return this.rgb().formatHex8()}function ATe(){return $J(this).formatHsl()}function E8(){return this.rgb().formatRgb()}function lb(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rTe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_8(e):n===3?new Mo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?N1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?N1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iTe.exec(t))?new Mo(e[1],e[2],e[3],1):(e=aTe.exec(t))?new Mo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sTe.exec(t))?N1(e[1],e[2],e[3],e[4]):(e=oTe.exec(t))?N1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lTe.exec(t))?j8(e[1],e[2]/100,e[3]/100,1):(e=cTe.exec(t))?j8(e[1],e[2]/100,e[3]/100,e[4]):C8.hasOwnProperty(t)?_8(C8[t]):t==="transparent"?new Mo(NaN,NaN,NaN,0):null}function _8(t){return new Mo(t>>16&255,t>>8&255,t&255,1)}function N1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mo(t,e,n,r)}function dTe(t){return t instanceof gx||(t=lb(t)),t?(t=t.rgb(),new Mo(t.r,t.g,t.b,t.opacity)):new Mo}function MI(t,e,n,r){return arguments.length===1?dTe(t):new Mo(t,e,n,r??1)}function Mo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}z3(Mo,MI,VJ(gx,{brighter(t){return t=t==null?BC:Math.pow(BC,t),new Mo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sb:Math.pow(sb,t),new Mo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mo(Nh(this.r),Nh(this.g),Nh(this.b),NC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B8,formatHex:B8,formatHex8:fTe,formatRgb:N8,toString:N8}));function B8(){return`#${hh(this.r)}${hh(this.g)}${hh(this.b)}`}function fTe(){return`#${hh(this.r)}${hh(this.g)}${hh(this.b)}${hh((isNaN(this.opacity)?1:this.opacity)*255)}`}function N8(){const t=NC(this.opacity);return`${t===1?"rgb(":"rgba("}${Nh(this.r)}, ${Nh(this.g)}, ${Nh(this.b)}${t===1?")":`, ${t})`}`}function NC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hh(t){return t=Nh(t),(t<16?"0":"")+t.toString(16)}function j8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kc(t,e,n,r)}function $J(t){if(t instanceof Kc)return new Kc(t.h,t.s,t.l,t.opacity);if(t instanceof gx||(t=lb(t)),!t)return new Kc;if(t instanceof Kc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Kc(s,o,l,t.opacity)}function hTe(t,e,n,r){return arguments.length===1?$J(t):new Kc(t,e,n,r??1)}function Kc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}z3(Kc,hTe,VJ(gx,{brighter(t){return t=t==null?BC:Math.pow(BC,t),new Kc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sb:Math.pow(sb,t),new Kc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mo(OB(t>=240?t-240:t+120,i,r),OB(t,i,r),OB(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Kc(I8(this.h),j1(this.s),j1(this.l),NC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=NC(this.opacity);return`${t===1?"hsl(":"hsla("}${I8(this.h)}, ${j1(this.s)*100}%, ${j1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I8(t){return t=(t||0)%360,t<0?t+360:t}function j1(t){return Math.max(0,Math.min(1,t||0))}function OB(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const V3=t=>()=>t;function pTe(t,e){return function(n){return t+n*e}}function mTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gTe(t){return(t=+t)==1?KJ:function(e,n){return n-e?mTe(e,n,t):V3(isNaN(e)?n:e)}}function KJ(t,e){var n=e-t;return n?pTe(t,n):V3(isNaN(t)?e:t)}const T8=function t(e){var n=gTe(e);function r(i,a){var s=n((i=MI(i)).r,(a=MI(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=KJ(i.opacity,a.opacity);return function(A){return i.r=s(A),i.g=o(A),i.b=l(A),i.opacity=u(A),i+""}}return r.gamma=t,r}(1);function vTe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function yTe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bTe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=y0(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function xTe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wTe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=y0(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var RI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FB=new RegExp(RI.source,"g");function CTe(t){return function(){return t}}function STe(t){return function(e){return t(e)+""}}function ETe(t,e){var n=RI.lastIndex=FB.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=RI.exec(t))&&(i=FB.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:jC(r,i)})),n=FB.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?STe(l[0].x):CTe(e):(e=l.length,function(u){for(var A=0,d;A<e;++A)o[(d=l[A]).i]=d.x(u);return o.join("")})}function y0(t,e){var n=typeof e,r;return e==null||n==="boolean"?V3(e):(n==="number"?jC:n==="string"?(r=lb(e))?(e=r,T8):ETe:e instanceof lb?T8:e instanceof Date?xTe:yTe(e)?vTe:Array.isArray(e)?bTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wTe:jC)(t,e)}function $3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _Te(t,e){e===void 0&&(e=t,t=y0);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function BTe(t){return function(){return t}}function IC(t){return+t}var k8=[0,1];function wo(t){return t}function UI(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BTe(isNaN(e)?NaN:.5)}function NTe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jTe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=UI(i,r),a=n(s,a)):(r=UI(r,i),a=n(a,s)),function(o){return a(r(o))}}function ITe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=UI(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=mx(t,o,1,r)-1;return a[l](i[l](o))}}function vx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dE(){var t=k8,e=k8,n=y0,r,i,a,s=wo,o,l,u;function A(){var f=Math.min(t.length,e.length);return s!==wo&&(s=NTe(t[0],t[f-1])),o=f>2?ITe:jTe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=o(e,t.map(r),jC)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,IC),A()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),A()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=$3,A()},d.clamp=function(f){return arguments.length?(s=f?!0:wo,A()):s!==wo},d.interpolate=function(f){return arguments.length?(n=f,A()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return r=f,i=h,A()}}function K3(){return dE()(wo,wo)}function TTe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function TC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Eg(t){return t=TC(Math.abs(t)),t?t[1]:NaN}function kTe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function PTe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var DTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cb(t){if(!(e=DTe.exec(t)))throw new Error("invalid format: "+t);var e;return new W3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cb.prototype=W3.prototype;function W3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}W3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OTe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var WJ;function FTe(t,e){var n=TC(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(WJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+TC(t,Math.max(0,e+a-1))[0]}function P8(t,e){var n=TC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const D8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TTe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>P8(t*100,e),r:P8,s:FTe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function O8(t){return t}var F8=Array.prototype.map,L8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LTe(t){var e=t.grouping===void 0||t.thousands===void 0?O8:kTe(F8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?O8:PTe(F8.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=cb(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,v=d.zero,g=d.width,y=d.comma,x=d.precision,C=d.trim,E=d.type;E==="n"?(y=!0,E="g"):D8[E]||(x===void 0&&(x=12),C=!0,E="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var j=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=m==="$"?r:/[%p]/.test(E)?s:"",B=D8[E],N=/[defgprs%]/.test(E);x=x===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(T){var O=j,L=_,H,q,Y;if(E==="c")L=B(T)+L,T="";else{T=+T;var ee=T<0||1/T<0;if(T=isNaN(T)?l:B(Math.abs(T),x),C&&(T=OTe(T)),ee&&+T==0&&p!=="+"&&(ee=!1),O=(ee?p==="("?p:o:p==="-"||p==="("?"":p)+O,L=(E==="s"?L8[8+WJ/3]:"")+L+(ee&&p==="("?")":""),N){for(H=-1,q=T.length;++H<q;)if(Y=T.charCodeAt(H),48>Y||Y>57){L=(Y===46?i+T.slice(H+1):T.slice(H))+L,T=T.slice(0,H);break}}}y&&!v&&(T=e(T,1/0));var K=O.length+T.length+L.length,te=K<g?new Array(g-K+1).join(f):"";switch(y&&v&&(T=e(te+T,te.length?g-L.length:1/0),te=""),h){case"<":T=O+T+L+te;break;case"=":T=O+te+T+L;break;case"^":T=te.slice(0,K=te.length>>1)+O+T+L+te.slice(K);break;default:T=te+O+T+L;break}return a(T)}return D.toString=function(){return d+""},D}function A(d,f){var h=u((d=cb(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Eg(f)/3)))*3,m=Math.pow(10,-p),v=L8[8+p/3];return function(g){return h(m*g)+v}}return{format:u,formatPrefix:A}}var I1,G3,GJ;MTe({thousands:",",grouping:[3],currency:["$",""]});function MTe(t){return I1=LTe(t),G3=I1.format,GJ=I1.formatPrefix,I1}function RTe(t){return Math.max(0,-Eg(Math.abs(t)))}function UTe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Eg(e)/3)))*3-Eg(Math.abs(t)))}function QTe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Eg(e)-Eg(t))+1}function qJ(t,e,n,r){var i=FI(t,e,n),a;switch(r=cb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=UTe(i,s))&&(r.precision=a),GJ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=QTe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=RTe(i))&&(r.precision=a-(r.type==="%")*2);break}}return G3(r)}function Sf(t){var e=t.domain;return t.ticks=function(n){var r=e();return DI(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return qJ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,A=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);A-- >0;){if(u=OI(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function kC(){var t=K3();return t.copy=function(){return vx(t,kC())},Cc.apply(t,arguments),Sf(t)}function YJ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,IC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return YJ(t).unknown(e)},t=arguments.length?Array.from(t,IC):[0,1],Sf(n)}function XJ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function M8(t){return Math.log(t)}function R8(t){return Math.exp(t)}function HTe(t){return-Math.log(-t)}function zTe(t){return-Math.exp(-t)}function VTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $Te(t){return t===10?VTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KTe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function U8(t){return(e,n)=>-t(-e,n)}function q3(t){const e=t(M8,R8),n=e.domain;let r=10,i,a;function s(){return i=KTe(r),a=$Te(r),n()[0]<0?(i=U8(i),a=U8(a),t(HTe,zTe)):t(M8,R8),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],A=l[l.length-1];const d=A<u;d&&([u,A]=[A,u]);let f=i(u),h=i(A),p,m;const v=o==null?10:+o;let g=[];if(!(r%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/a(-f):p*a(f),!(m<u)){if(m>A)break;g.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/a(-f):p*a(f),!(m<u)){if(m>A)break;g.push(m)}g.length*2<v&&(g=DI(u,A,v))}else g=DI(f,h,Math.min(h-f,v)).map(a);return d?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=cb(l)).precision==null&&(l.trim=!0),l=G3(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return A=>{let d=A/a(Math.round(i(A)));return d*r<r-.5&&(d*=r),d<=u?l(A):""}},e.nice=()=>n(XJ(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function JJ(){const t=q3(dE()).domain([1,10]);return t.copy=()=>vx(t,JJ()).base(t.base()),Cc.apply(t,arguments),t}function Q8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Y3(t){var e=1,n=t(Q8(e),H8(e));return n.constant=function(r){return arguments.length?t(Q8(e=+r),H8(e)):e},Sf(n)}function ZJ(){var t=Y3(dE());return t.copy=function(){return vx(t,ZJ()).constant(t.constant())},Cc.apply(t,arguments)}function z8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function WTe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GTe(t){return t<0?-t*t:t*t}function X3(t){var e=t(wo,wo),n=1;function r(){return n===1?t(wo,wo):n===.5?t(WTe,GTe):t(z8(n),z8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sf(e)}function J3(){var t=X3(dE());return t.copy=function(){return vx(t,J3()).exponent(t.exponent())},Cc.apply(t,arguments),t}function qTe(){return J3.apply(null,arguments).exponent(.5)}function V8(t){return Math.sign(t)*t*t}function YTe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eZ(){var t=K3(),e=[0,1],n=!1,r;function i(a){var s=YTe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(V8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,IC)).map(V8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eZ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cc.apply(i,arguments),Sf(i)}function tZ(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=tTe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[mx(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Zd),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return tZ().domain(t).range(e).unknown(r)},Cc.apply(a,arguments)}function nZ(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[mx(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return nZ().domain([t,e]).range(i).unknown(a)},Cc.apply(Sf(s),arguments)}function rZ(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mx(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rZ().domain(t).range(e).unknown(n)},Cc.apply(i,arguments)}const LB=new Date,MB=new Date;function Za(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Za(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(LB.setTime(+a),MB.setTime(+s),t(LB),t(MB),Math.floor(n(LB,MB))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const PC=Za(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);PC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Za(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):PC);PC.range;const SA=1e3,Ac=SA*60,EA=Ac*60,zA=EA*24,Z3=zA*7,$8=zA*30,RB=zA*365,ph=Za(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*SA)},(t,e)=>(e-t)/SA,t=>t.getUTCSeconds());ph.range;const eO=Za(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*SA)},(t,e)=>{t.setTime(+t+e*Ac)},(t,e)=>(e-t)/Ac,t=>t.getMinutes());eO.range;const tO=Za(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ac)},(t,e)=>(e-t)/Ac,t=>t.getUTCMinutes());tO.range;const nO=Za(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*SA-t.getMinutes()*Ac)},(t,e)=>{t.setTime(+t+e*EA)},(t,e)=>(e-t)/EA,t=>t.getHours());nO.range;const rO=Za(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*EA)},(t,e)=>(e-t)/EA,t=>t.getUTCHours());rO.range;const yx=Za(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ac)/zA,t=>t.getDate()-1);yx.range;const fE=Za(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zA,t=>t.getUTCDate()-1);fE.range;const iZ=Za(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zA,t=>Math.floor(t/zA));iZ.range;function hp(t){return Za(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ac)/Z3)}const hE=hp(0),DC=hp(1),XTe=hp(2),JTe=hp(3),_g=hp(4),ZTe=hp(5),eke=hp(6);hE.range;DC.range;XTe.range;JTe.range;_g.range;ZTe.range;eke.range;function pp(t){return Za(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Z3)}const pE=pp(0),OC=pp(1),tke=pp(2),nke=pp(3),Bg=pp(4),rke=pp(5),ike=pp(6);pE.range;OC.range;tke.range;nke.range;Bg.range;rke.range;ike.range;const iO=Za(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iO.range;const aO=Za(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aO.range;const VA=Za(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());VA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Za(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});VA.range;const $A=Za(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$A.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Za(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$A.range;function aZ(t,e,n,r,i,a){const s=[[ph,1,SA],[ph,5,5*SA],[ph,15,15*SA],[ph,30,30*SA],[a,1,Ac],[a,5,5*Ac],[a,15,15*Ac],[a,30,30*Ac],[i,1,EA],[i,3,3*EA],[i,6,6*EA],[i,12,12*EA],[r,1,zA],[r,2,2*zA],[n,1,Z3],[e,1,$8],[e,3,3*$8],[t,1,RB]];function o(u,A,d){const f=A<u;f&&([u,A]=[A,u]);const h=d&&typeof d.range=="function"?d:l(u,A,d),p=h?h.range(u,+A+1):[];return f?p.reverse():p}function l(u,A,d){const f=Math.abs(A-u)/d,h=Q3(([,,v])=>v).right(s,f);if(h===s.length)return t.every(FI(u/RB,A/RB,d));if(h===0)return PC.every(Math.max(FI(u,A,d),1));const[p,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(m)}return[o,l]}const[ake,ske]=aZ($A,aO,pE,iZ,rO,tO),[oke,lke]=aZ(VA,iO,hE,yx,nO,eO);function UB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function G0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=q0(i),A=Y0(i),d=q0(a),f=Y0(a),h=q0(s),p=Y0(s),m=q0(o),v=Y0(o),g=q0(l),y=Y0(l),x={a:ee,A:K,b:te,B:le,c:null,d:X8,e:X8,f:kke,g:Hke,G:Vke,H:jke,I:Ike,j:Tke,L:sZ,m:Pke,M:Dke,p:se,q:M,Q:eQ,s:tQ,S:Oke,u:Fke,U:Lke,V:Mke,w:Rke,W:Uke,x:null,X:null,y:Qke,Y:zke,Z:$ke,"%":Z8},C={a:$,A:J,b:ne,B:he,c:null,d:J8,e:J8,f:qke,g:aPe,G:oPe,H:Kke,I:Wke,j:Gke,L:lZ,m:Yke,M:Xke,p:we,q:Se,Q:eQ,s:tQ,S:Jke,u:Zke,U:ePe,V:tPe,w:nPe,W:rPe,x:null,X:null,y:iPe,Y:sPe,Z:lPe,"%":Z8},E={a:D,A:T,b:O,B:L,c:H,d:q8,e:q8,f:Eke,g:G8,G:W8,H:Y8,I:Y8,j:xke,L:Ske,m:bke,M:wke,p:N,q:yke,Q:Bke,s:Nke,S:Cke,u:hke,U:pke,V:mke,w:fke,W:gke,x:q,X:Y,y:G8,Y:W8,Z:vke,"%":_ke};x.x=j(n,x),x.X=j(r,x),x.c=j(e,x),C.x=j(n,C),C.X=j(r,C),C.c=j(e,C);function j(Ae,ge){return function(xe){var ae=[],Ve=-1,Oe=0,fe=Ae.length,$e,ht,vt;for(xe instanceof Date||(xe=new Date(+xe));++Ve<fe;)Ae.charCodeAt(Ve)===37&&(ae.push(Ae.slice(Oe,Ve)),(ht=K8[$e=Ae.charAt(++Ve)])!=null?$e=Ae.charAt(++Ve):ht=$e==="e"?" ":"0",(vt=ge[$e])&&($e=vt(xe,ht)),ae.push($e),Oe=Ve+1);return ae.push(Ae.slice(Oe,Ve)),ae.join("")}}function _(Ae,ge){return function(xe){var ae=G0(1900,void 0,1),Ve=B(ae,Ae,xe+="",0),Oe,fe;if(Ve!=xe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ge&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Oe=QB(G0(ae.y,0,1)),fe=Oe.getUTCDay(),Oe=fe>4||fe===0?OC.ceil(Oe):OC(Oe),Oe=fE.offset(Oe,(ae.V-1)*7),ae.y=Oe.getUTCFullYear(),ae.m=Oe.getUTCMonth(),ae.d=Oe.getUTCDate()+(ae.w+6)%7):(Oe=UB(G0(ae.y,0,1)),fe=Oe.getDay(),Oe=fe>4||fe===0?DC.ceil(Oe):DC(Oe),Oe=yx.offset(Oe,(ae.V-1)*7),ae.y=Oe.getFullYear(),ae.m=Oe.getMonth(),ae.d=Oe.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),fe="Z"in ae?QB(G0(ae.y,0,1)).getUTCDay():UB(G0(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(fe+5)%7:ae.w+ae.U*7-(fe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,QB(ae)):UB(ae)}}function B(Ae,ge,xe,ae){for(var Ve=0,Oe=ge.length,fe=xe.length,$e,ht;Ve<Oe;){if(ae>=fe)return-1;if($e=ge.charCodeAt(Ve++),$e===37){if($e=ge.charAt(Ve++),ht=E[$e in K8?ge.charAt(Ve++):$e],!ht||(ae=ht(Ae,xe,ae))<0)return-1}else if($e!=xe.charCodeAt(ae++))return-1}return ae}function N(Ae,ge,xe){var ae=u.exec(ge.slice(xe));return ae?(Ae.p=A.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function D(Ae,ge,xe){var ae=h.exec(ge.slice(xe));return ae?(Ae.w=p.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function T(Ae,ge,xe){var ae=d.exec(ge.slice(xe));return ae?(Ae.w=f.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function O(Ae,ge,xe){var ae=g.exec(ge.slice(xe));return ae?(Ae.m=y.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function L(Ae,ge,xe){var ae=m.exec(ge.slice(xe));return ae?(Ae.m=v.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function H(Ae,ge,xe){return B(Ae,e,ge,xe)}function q(Ae,ge,xe){return B(Ae,n,ge,xe)}function Y(Ae,ge,xe){return B(Ae,r,ge,xe)}function ee(Ae){return s[Ae.getDay()]}function K(Ae){return a[Ae.getDay()]}function te(Ae){return l[Ae.getMonth()]}function le(Ae){return o[Ae.getMonth()]}function se(Ae){return i[+(Ae.getHours()>=12)]}function M(Ae){return 1+~~(Ae.getMonth()/3)}function $(Ae){return s[Ae.getUTCDay()]}function J(Ae){return a[Ae.getUTCDay()]}function ne(Ae){return l[Ae.getUTCMonth()]}function he(Ae){return o[Ae.getUTCMonth()]}function we(Ae){return i[+(Ae.getUTCHours()>=12)]}function Se(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var ge=j(Ae+="",x);return ge.toString=function(){return Ae},ge},parse:function(Ae){var ge=_(Ae+="",!1);return ge.toString=function(){return Ae},ge},utcFormat:function(Ae){var ge=j(Ae+="",C);return ge.toString=function(){return Ae},ge},utcParse:function(Ae){var ge=_(Ae+="",!0);return ge.toString=function(){return Ae},ge}}}var K8={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,uke=/^%/,Ake=/[\\^$*+?|[\]().{}]/g;function jr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function dke(t){return t.replace(Ake,"\\$&")}function q0(t){return new RegExp("^(?:"+t.map(dke).join("|")+")","i")}function Y0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fke(t,e,n){var r=ds.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hke(t,e,n){var r=ds.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function pke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function W8(t,e,n){var r=ds.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function G8(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yke(t,e,n){var r=ds.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function q8(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xke(t,e,n){var r=ds.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Y8(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Cke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ske(t,e,n){var r=ds.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Eke(t,e,n){var r=ds.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _ke(t,e,n){var r=uke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Bke(t,e,n){var r=ds.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nke(t,e,n){var r=ds.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function X8(t,e){return jr(t.getDate(),e,2)}function jke(t,e){return jr(t.getHours(),e,2)}function Ike(t,e){return jr(t.getHours()%12||12,e,2)}function Tke(t,e){return jr(1+yx.count(VA(t),t),e,3)}function sZ(t,e){return jr(t.getMilliseconds(),e,3)}function kke(t,e){return sZ(t,e)+"000"}function Pke(t,e){return jr(t.getMonth()+1,e,2)}function Dke(t,e){return jr(t.getMinutes(),e,2)}function Oke(t,e){return jr(t.getSeconds(),e,2)}function Fke(t){var e=t.getDay();return e===0?7:e}function Lke(t,e){return jr(hE.count(VA(t)-1,t),e,2)}function oZ(t){var e=t.getDay();return e>=4||e===0?_g(t):_g.ceil(t)}function Mke(t,e){return t=oZ(t),jr(_g.count(VA(t),t)+(VA(t).getDay()===4),e,2)}function Rke(t){return t.getDay()}function Uke(t,e){return jr(DC.count(VA(t)-1,t),e,2)}function Qke(t,e){return jr(t.getFullYear()%100,e,2)}function Hke(t,e){return t=oZ(t),jr(t.getFullYear()%100,e,2)}function zke(t,e){return jr(t.getFullYear()%1e4,e,4)}function Vke(t,e){var n=t.getDay();return t=n>=4||n===0?_g(t):_g.ceil(t),jr(t.getFullYear()%1e4,e,4)}function $ke(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jr(e/60|0,"0",2)+jr(e%60,"0",2)}function J8(t,e){return jr(t.getUTCDate(),e,2)}function Kke(t,e){return jr(t.getUTCHours(),e,2)}function Wke(t,e){return jr(t.getUTCHours()%12||12,e,2)}function Gke(t,e){return jr(1+fE.count($A(t),t),e,3)}function lZ(t,e){return jr(t.getUTCMilliseconds(),e,3)}function qke(t,e){return lZ(t,e)+"000"}function Yke(t,e){return jr(t.getUTCMonth()+1,e,2)}function Xke(t,e){return jr(t.getUTCMinutes(),e,2)}function Jke(t,e){return jr(t.getUTCSeconds(),e,2)}function Zke(t){var e=t.getUTCDay();return e===0?7:e}function ePe(t,e){return jr(pE.count($A(t)-1,t),e,2)}function cZ(t){var e=t.getUTCDay();return e>=4||e===0?Bg(t):Bg.ceil(t)}function tPe(t,e){return t=cZ(t),jr(Bg.count($A(t),t)+($A(t).getUTCDay()===4),e,2)}function nPe(t){return t.getUTCDay()}function rPe(t,e){return jr(OC.count($A(t)-1,t),e,2)}function iPe(t,e){return jr(t.getUTCFullYear()%100,e,2)}function aPe(t,e){return t=cZ(t),jr(t.getUTCFullYear()%100,e,2)}function sPe(t,e){return jr(t.getUTCFullYear()%1e4,e,4)}function oPe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bg(t):Bg.ceil(t),jr(t.getUTCFullYear()%1e4,e,4)}function lPe(){return"+0000"}function Z8(){return"%"}function eQ(t){return+t}function tQ(t){return Math.floor(+t/1e3)}var Ip,uZ,AZ;cPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cPe(t){return Ip=cke(t),uZ=Ip.format,Ip.parse,AZ=Ip.utcFormat,Ip.utcParse,Ip}function uPe(t){return new Date(t)}function APe(t){return t instanceof Date?+t:+new Date(+t)}function sO(t,e,n,r,i,a,s,o,l,u){var A=K3(),d=A.invert,f=A.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),x=u("%B"),C=u("%Y");function E(j){return(l(j)<j?h:o(j)<j?p:s(j)<j?m:a(j)<j?v:r(j)<j?i(j)<j?g:y:n(j)<j?x:C)(j)}return A.invert=function(j){return new Date(d(j))},A.domain=function(j){return arguments.length?f(Array.from(j,APe)):f().map(uPe)},A.ticks=function(j){var _=f();return t(_[0],_[_.length-1],j??10)},A.tickFormat=function(j,_){return _==null?E:u(_)},A.nice=function(j){var _=f();return(!j||typeof j.range!="function")&&(j=e(_[0],_[_.length-1],j??10)),j?f(XJ(_,j)):A},A.copy=function(){return vx(A,sO(t,e,n,r,i,a,s,o,l,u))},A}function dPe(){return Cc.apply(sO(oke,lke,VA,iO,hE,yx,nO,eO,ph,uZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fPe(){return Cc.apply(sO(ake,ske,$A,aO,pE,fE,rO,tO,ph,AZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mE(){var t=0,e=1,n,r,i,a,s=wo,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function A(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),u):[s(0),s(1)]}}return u.range=A(y0),u.rangeRound=A($3),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Ef(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dZ(){var t=Sf(mE()(wo));return t.copy=function(){return Ef(t,dZ())},td.apply(t,arguments)}function fZ(){var t=q3(mE()).domain([1,10]);return t.copy=function(){return Ef(t,fZ()).base(t.base())},td.apply(t,arguments)}function hZ(){var t=Y3(mE());return t.copy=function(){return Ef(t,hZ()).constant(t.constant())},td.apply(t,arguments)}function oO(){var t=X3(mE());return t.copy=function(){return Ef(t,oO()).exponent(t.exponent())},td.apply(t,arguments)}function hPe(){return oO.apply(null,arguments).exponent(.5)}function pZ(){var t=[],e=wo;function n(r){if(r!=null&&!isNaN(r=+r))return e((mx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>eTe(t,a/r))},n.copy=function(){return pZ(e).domain(t)},td.apply(n,arguments)}function gE(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=wo,A,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+A(m))-a)*(r*m<r*a?o:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,n]=m,i=A(t=+t),a=A(e=+e),s=A(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(v){var g,y,x;return arguments.length?([g,y,x]=v,u=_Te(m,[g,y,x]),h):[u(0),u(.5),u(1)]}}return h.range=p(y0),h.rangeRound=p($3),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return A=m,i=m(t),a=m(e),s=m(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h}}function mZ(){var t=Sf(gE()(wo));return t.copy=function(){return Ef(t,mZ())},td.apply(t,arguments)}function gZ(){var t=q3(gE()).domain([.1,1,10]);return t.copy=function(){return Ef(t,gZ()).base(t.base())},td.apply(t,arguments)}function vZ(){var t=Y3(gE());return t.copy=function(){return Ef(t,vZ()).constant(t.constant())},td.apply(t,arguments)}function lO(){var t=X3(gE());return t.copy=function(){return Ef(t,lO()).exponent(t.exponent())},td.apply(t,arguments)}function pPe(){return lO.apply(null,arguments).exponent(.5)}const nQ=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ab,scaleDiverging:mZ,scaleDivergingLog:gZ,scaleDivergingPow:lO,scaleDivergingSqrt:pPe,scaleDivergingSymlog:vZ,scaleIdentity:YJ,scaleImplicit:LI,scaleLinear:kC,scaleLog:JJ,scaleOrdinal:H3,scalePoint:Xv,scalePow:J3,scaleQuantile:tZ,scaleQuantize:nZ,scaleRadial:eZ,scaleSequential:dZ,scaleSequentialLog:fZ,scaleSequentialPow:oO,scaleSequentialQuantile:pZ,scaleSequentialSqrt:hPe,scaleSequentialSymlog:hZ,scaleSqrt:qTe,scaleSymlog:ZJ,scaleThreshold:rZ,scaleTime:dPe,scaleUtc:fPe,tickFormat:qJ},Symbol.toStringTag,{value:"Module"}));var mPe=u0;function gPe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!mPe(s):n(s,o)))var o=s,l=a}return l}var vE=gPe;function vPe(t,e){return t>e}var yZ=vPe,yPe=vE,bPe=yZ,xPe=v0;function wPe(t){return t&&t.length?yPe(t,xPe,bPe):void 0}var CPe=wPe;const Pd=Rr(CPe);function SPe(t,e){return t<e}var bZ=SPe,EPe=vE,_Pe=bZ,BPe=v0;function NPe(t){return t&&t.length?EPe(t,BPe,_Pe):void 0}var jPe=NPe;const yE=Rr(jPe);var IPe=w3,TPe=Yu,kPe=NJ,PPe=qo;function DPe(t,e){var n=PPe(t)?IPe:kPe;return n(t,TPe(e))}var OPe=DPe,FPe=_J,LPe=OPe;function MPe(t,e){return FPe(LPe(t,e),1)}var RPe=MPe;const UPe=Rr(RPe);var QPe=L3;function HPe(t,e){return QPe(t,e)}var zPe=HPe;const Wh=Rr(zPe);var b0=1e9,VPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uO,ki=!0,vc="[DecimalError] ",jh=vc+"Invalid argument: ",cO=vc+"Exponent out of range: ",x0=Math.floor,Jf=Math.pow,$Pe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xl,is=1e7,Ci=7,xZ=9007199254740991,FC=x0(xZ/Ci),sn={};sn.absoluteValue=sn.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};sn.comparedTo=sn.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};sn.decimalPlaces=sn.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ci;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};sn.dividedBy=sn.div=function(t){return kA(this,new this.constructor(t))};sn.dividedToIntegerBy=sn.idiv=function(t){var e=this,n=e.constructor;return ri(kA(e,new n(t),0,1),n.precision)};sn.equals=sn.eq=function(t){return!this.cmp(t)};sn.exponent=function(){return ka(this)};sn.greaterThan=sn.gt=function(t){return this.cmp(t)>0};sn.greaterThanOrEqualTo=sn.gte=function(t){return this.cmp(t)>=0};sn.isInteger=sn.isint=function(){return this.e>this.d.length-2};sn.isNegative=sn.isneg=function(){return this.s<0};sn.isPositive=sn.ispos=function(){return this.s>0};sn.isZero=function(){return this.s===0};sn.lessThan=sn.lt=function(t){return this.cmp(t)<0};sn.lessThanOrEqualTo=sn.lte=function(t){return this.cmp(t)<1};sn.logarithm=sn.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(xl))throw Error(vc+"NaN");if(n.s<1)throw Error(vc+(n.s?"NaN":"-Infinity"));return n.eq(xl)?new r(0):(ki=!1,e=kA(ub(n,a),ub(t,a),a),ki=!0,ri(e,i))};sn.minus=sn.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SZ(e,t):wZ(e,(t.s=-t.s,t))};sn.modulo=sn.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(vc+"NaN");return n.s?(ki=!1,e=kA(n,t,0,1).times(t),ki=!0,n.minus(e)):ri(new r(n),i)};sn.naturalExponential=sn.exp=function(){return CZ(this)};sn.naturalLogarithm=sn.ln=function(){return ub(this)};sn.negated=sn.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};sn.plus=sn.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wZ(e,t):SZ(e,(t.s=-t.s,t))};sn.precision=sn.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jh+t);if(e=ka(i)+1,r=i.d.length-1,n=r*Ci+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};sn.squareRoot=sn.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(vc+"NaN")}for(t=ka(o),ki=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ju(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=x0((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(kA(o,a,s+2)).times(.5),ju(a.d).slice(0,s)===(e=ju(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ri(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return ki=!0,ri(r,n)};sn.times=sn.mul=function(t){var e,n,r,i,a,s,o,l,u,A=this,d=A.constructor,f=A.d,h=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,n=A.e+t.e,l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+h[r]*f[i-r-1]+e,a[i--]=o%is|0,e=o/is|0;a[i]=(a[i]+e)%is|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ki?ri(t,d.precision):t};sn.toDecimalPlaces=sn.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($u(t,0,b0),e===void 0?e=r.rounding:$u(e,0,8),ri(n,t+ka(n)+1,e))};sn.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Gh(r,!0):($u(t,0,b0),e===void 0?e=i.rounding:$u(e,0,8),r=ri(new i(r),t+1,e),n=Gh(r,!0,t+1)),n};sn.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Gh(i):($u(t,0,b0),e===void 0?e=a.rounding:$u(e,0,8),r=ri(new a(i),t+ka(i)+1,e),n=Gh(r.abs(),!1,t+ka(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};sn.toInteger=sn.toint=function(){var t=this,e=t.constructor;return ri(new e(t),ka(t)+1,e.rounding)};sn.toNumber=function(){return+this};sn.toPower=sn.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,A=+(t=new l(t));if(!t.s)return new l(xl);if(o=new l(o),!o.s){if(t.s<1)throw Error(vc+"Infinity");return o}if(o.eq(xl))return o;if(r=l.precision,t.eq(xl))return ri(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=A<0?-A:A)<=xZ){for(i=new l(xl),e=Math.ceil(r/Ci+4),ki=!1;n%2&&(i=i.times(o),iQ(i.d,e)),n=x0(n/2),n!==0;)o=o.times(o),iQ(o.d,e);return ki=!0,t.s<0?new l(xl).div(i):ri(i,r)}}else if(a<0)throw Error(vc+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,ki=!1,i=t.times(ub(o,r+u)),ki=!0,i=CZ(i),i.s=a,i};sn.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ka(i),r=Gh(i,n<=a.toExpNeg||n>=a.toExpPos)):($u(t,1,b0),e===void 0?e=a.rounding:$u(e,0,8),i=ri(new a(i),t,e),n=ka(i),r=Gh(i,t<=n||n<=a.toExpNeg,t)),r};sn.toSignificantDigits=sn.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($u(t,1,b0),e===void 0?e=r.rounding:$u(e,0,8)),ri(new r(n),t,e)};sn.toString=sn.valueOf=sn.val=sn.toJSON=sn[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ka(t),n=t.constructor;return Gh(t,e<=n.toExpNeg||e>=n.toExpPos)};function wZ(t,e){var n,r,i,a,s,o,l,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),ki?ri(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/Ci),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/is|0,l[a]%=is;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ki?ri(e,d):e}function $u(t,e,n){if(t!==~~t||t<e||t>n)throw Error(jh+t)}function ju(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ci-r.length,n&&(a+=Sd(n)),a+=r;s=t[e],r=s+"",n=Ci-r.length,n&&(a+=Sd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var kA=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%is|0,s=a/is|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*is+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,A,d,f,h,p,m,v,g,y,x,C,E,j,_,B,N=r.constructor,D=r.s==i.s?1:-1,T=r.d,O=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(vc+"Division by zero");for(l=r.e-i.e,_=O.length,E=T.length,h=new N(D),p=h.d=[],u=0;O[u]==(T[u]||0);)++u;if(O[u]>(T[u]||0)&&--l,a==null?y=a=N.precision:s?y=a+(ka(r)-ka(i))+1:y=a,y<0)return new N(0);if(y=y/Ci+2|0,u=0,_==1)for(A=0,O=O[0],y++;(u<E||A)&&y--;u++)x=A*is+(T[u]||0),p[u]=x/O|0,A=x%O|0;else{for(A=is/(O[0]+1)|0,A>1&&(O=t(O,A),T=t(T,A),_=O.length,E=T.length),C=_,m=T.slice(0,_),v=m.length;v<_;)m[v++]=0;B=O.slice(),B.unshift(0),j=O[0],O[1]>=is/2&&++j;do A=0,o=e(O,m,_,v),o<0?(g=m[0],_!=v&&(g=g*is+(m[1]||0)),A=g/j|0,A>1?(A>=is&&(A=is-1),d=t(O,A),f=d.length,v=m.length,o=e(d,m,f,v),o==1&&(A--,n(d,_<f?B:O,f))):(A==0&&(o=A=1),d=O.slice()),f=d.length,f<v&&d.unshift(0),n(m,d,v),o==-1&&(v=m.length,o=e(O,m,_,v),o<1&&(A++,n(m,_<v?B:O,v))),v=m.length):o===0&&(A++,m=[0]),p[u++]=A,o&&m[0]?m[v++]=T[C]||0:(m=[T[C]],v=1);while((C++<E||m[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=l,ri(h,s?a+ka(h)+1:a)}}();function CZ(t,e){var n,r,i,a,s,o,l=0,u=0,A=t.constructor,d=A.precision;if(ka(t)>16)throw Error(cO+ka(t));if(!t.s)return new A(xl);for(ki=!1,o=d,s=new A(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Jf(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new A(xl),A.precision=o;;){if(i=ri(i.times(t),o),n=n.times(++l),s=a.plus(kA(i,n,o)),ju(s.d).slice(0,o)===ju(a.d).slice(0,o)){for(;u--;)a=ri(a.times(a),o);return A.precision=d,e==null?(ki=!0,ri(a,d)):a}a=s}}function ka(t){for(var e=t.e*Ci,n=t.d[0];n>=10;n/=10)e++;return e}function HB(t,e,n){if(e>t.LN10.sd())throw ki=!0,n&&(t.precision=n),Error(vc+"LN10 precision limit exceeded");return ri(new t(t.LN10),e)}function Sd(t){for(var e="";t--;)e+="0";return e}function ub(t,e){var n,r,i,a,s,o,l,u,A,d=1,f=10,h=t,p=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(vc+(h.s?"NaN":"-Infinity"));if(h.eq(xl))return new m(0);if(e==null?(ki=!1,u=v):u=e,h.eq(10))return e==null&&(ki=!0),HB(m,u);if(u+=f,m.precision=u,n=ju(p),r=n.charAt(0),a=ka(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=ju(h.d),r=n.charAt(0),d++;a=ka(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1))}else return l=HB(m,u+2,v).times(a+""),h=ub(new m(r+"."+n.slice(1)),u-f).plus(l),m.precision=v,e==null?(ki=!0,ri(h,v)):h;for(o=s=h=kA(h.minus(xl),h.plus(xl),u),A=ri(h.times(h),u),i=3;;){if(s=ri(s.times(A),u),l=o.plus(kA(s,new m(i),u)),ju(l.d).slice(0,u)===ju(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(HB(m,u+2,v).times(a+""))),o=kA(o,new m(d),u),m.precision=v,e==null?(ki=!0,ri(o,v)):o;o=l,i+=2}}function rQ(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=x0(n/Ci),t.d=[],r=(n+1)%Ci,n<0&&(r+=Ci),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ci;r<i;)t.d.push(+e.slice(r,r+=Ci));e=e.slice(r),r=Ci-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ki&&(t.e>FC||t.e<-FC))throw Error(cO+n)}else t.s=0,t.e=0,t.d=[0];return t}function ri(t,e,n){var r,i,a,s,o,l,u,A,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ci,i=e,u=d[A=0];else{if(A=Math.ceil((r+1)/Ci),a=d.length,A>=a)return t;for(u=a=d[A],s=1;a>=10;a/=10)s++;r%=Ci,i=r-Ci+s}if(n!==void 0&&(a=Jf(10,s-i-1),o=u/a%10|0,l=e<0||d[A+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Jf(10,s-i):0:d[A-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=ka(t),d.length=1,e=e-a-1,d[0]=Jf(10,(Ci-e%Ci)%Ci),t.e=x0(-e/Ci)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=A,a=1,A--):(d.length=A+1,a=Jf(10,Ci-r),d[A]=i>0?(u/Jf(10,s-i)%Jf(10,i)|0)*a:0),l)for(;;)if(A==0){(d[0]+=a)==is&&(d[0]=1,++t.e);break}else{if(d[A]+=a,d[A]!=is)break;d[A--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(ki&&(t.e>FC||t.e<-FC))throw Error(cO+ka(t));return t}function SZ(t,e){var n,r,i,a,s,o,l,u,A,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),ki?ri(e,h):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(A=s<0,A?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(h/Ci),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,A=i<o,A&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){A=l[i]<d[i];break}s=0}for(A&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=is-1;--l[a],l[i]+=is}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ki?ri(e,h):e):new f(0)}function Gh(t,e,n){var r,i=ka(t),a=ju(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Sd(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Sd(-i-1)+a,n&&(r=n-s)>0&&(a+=Sd(r))):i>=s?(a+=Sd(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Sd(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Sd(r))),t.s<0?"-"+a:a}function iQ(t,e){if(t.length>e)return t.length=e,!0}function EZ(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return rQ(s,a.toString())}else if(typeof a!="string")throw Error(jh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,$Pe.test(a))rQ(s,a);else throw Error(jh+a)}if(i.prototype=sn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=EZ,i.config=i.set=KPe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function KPe(t){if(!t||typeof t!="object")throw Error(vc+"Object expected");var e,n,r,i=["precision",1,b0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(x0(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(jh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jh+n+": "+r);return this}var uO=EZ(VPe);xl=new uO(1);const qr=uO;function WPe(t){return XPe(t)||YPe(t)||qPe(t)||GPe()}function GPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qPe(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function YPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function XPe(t){if(Array.isArray(t))return QI(t)}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var JPe=function(e){return e},_Z={},BZ=function(e){return e===_Z},aQ=function(e){return function n(){return arguments.length===0||arguments.length===1&&BZ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ZPe=function t(e,n){return e===1?n:aQ(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==_Z}).length;return s>=e?n.apply(void 0,i):t(e-s,aQ(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var A=i.map(function(d){return BZ(d)?l.shift():d});return n.apply(void 0,WPe(A).concat(l))}))})},bE=function(e){return ZPe(e.length,e)},HI=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},eDe=bE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tDe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return JPe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},zI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},NZ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function nDe(t){var e;return t===0?e=1:e=Math.floor(new qr(t).abs().log(10).toNumber())+1,e}function rDe(t,e,n){for(var r=new qr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var iDe=bE(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),aDe=bE(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),sDe=bE(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const xE={rangeStep:rDe,getDigitCount:nDe,interpolateNumber:iDe,uninterpolateNumber:aDe,uninterpolateTruncation:sDe};function VI(t){return cDe(t)||lDe(t)||jZ(t)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cDe(t){if(Array.isArray(t))return $I(t)}function Ab(t,e){return dDe(t)||ADe(t,e)||jZ(t,e)||uDe()}function uDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZ(t,e){if(t){if(typeof t=="string")return $I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ADe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function dDe(t){if(Array.isArray(t))return t}function IZ(t){var e=Ab(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function TZ(t,e,n){if(t.lte(0))return new qr(0);var r=xE.getDigitCount(t.toNumber()),i=new qr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new qr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new qr(Math.ceil(l))}function fDe(t,e,n){var r=1,i=new qr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new qr(10).pow(xE.getDigitCount(t)-1),i=new qr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new qr(Math.floor(t)))}else t===0?i=new qr(Math.floor((e-1)/2)):n||(i=new qr(Math.floor(t)));var s=Math.floor((e-1)/2),o=tDe(eDe(function(l){return i.add(new qr(l-s).mul(r)).toNumber()}),HI);return o(0,e)}function kZ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qr(0),tickMin:new qr(0),tickMax:new qr(0)};var a=TZ(new qr(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new qr(0):(s=new qr(t).add(e).div(2),s=s.sub(new qr(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new qr(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?kZ(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new qr(o).mul(a)),tickMax:s.add(new qr(l).mul(a))})}function hDe(t){var e=Ab(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=IZ([n,r]),l=Ab(o,2),u=l[0],A=l[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(VI(HI(0,i-1).map(function(){return 1/0}))):[].concat(VI(HI(0,i-1).map(function(){return-1/0})),[A]);return n>r?zI(d):d}if(u===A)return fDe(u,i,a);var f=kZ(u,A,s,a),h=f.step,p=f.tickMin,m=f.tickMax,v=xE.rangeStep(p,m.add(new qr(.1).mul(h)),h);return n>r?zI(v):v}function pDe(t,e){var n=Ab(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=IZ([r,i]),o=Ab(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var A=Math.max(e,2),d=TZ(new qr(u).sub(l).div(A-1),a,0),f=[].concat(VI(xE.rangeStep(new qr(l),new qr(u).sub(new qr(.99).mul(d)),d)),[u]);return r>i?zI(f):f}var mDe=NZ(hDe),gDe=NZ(pDe),vDe="Invariant failed";function qh(t,e){throw new Error(vDe)}var yDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}function bDe(t,e){return SDe(t)||CDe(t,e)||wDe(t,e)||xDe()}function xDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wDe(t,e){if(t){if(typeof t=="string")return sQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sQ(t,e)}}function sQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function SDe(t){if(Array.isArray(t))return t}function EDe(t,e){if(t==null)return{};var n=_De(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _De(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OZ(r.key),r)}}function jDe(t,e,n){return e&&NDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IDe(t,e,n){return e=MC(e),TDe(t,PZ()?Reflect.construct(e,n||[],MC(t).constructor):e.apply(t,n))}function TDe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kDe(t)}function kDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PZ=function(){return!!t})()}function MC(t){return MC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},MC(t)}function PDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KI(t,e)}function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KI(t,e)}function DZ(t,e,n){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=DDe(t,"string");return Ng(e)=="symbol"?e:e+""}function DDe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bx=function(t){function e(){return BDe(this,e),IDe(this,e,arguments)}return PDe(e,t),jDe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,A=r.xAxis,d=r.yAxis,f=EDe(r,yDe),h=yn(f,!1);this.props.direction==="x"&&A.type!=="number"&&qh();var p=l.map(function(m){var v=u(m,o),g=v.x,y=v.y,x=v.value,C=v.errorVal;if(!C)return null;var E=[],j,_;if(Array.isArray(C)){var B=bDe(C,2);j=B[0],_=B[1]}else j=_=C;if(a==="vertical"){var N=A.scale,D=y+i,T=D+s,O=D-s,L=N(x-j),H=N(x+_);E.push({x1:H,y1:T,x2:H,y2:O}),E.push({x1:L,y1:D,x2:H,y2:D}),E.push({x1:L,y1:T,x2:L,y2:O})}else if(a==="horizontal"){var q=d.scale,Y=g+i,ee=Y-s,K=Y+s,te=q(x-j),le=q(x+_);E.push({x1:ee,y1:le,x2:K,y2:le}),E.push({x1:Y,y1:te,x2:Y,y2:le}),E.push({x1:ee,y1:te,x2:K,y2:te})}return be.createElement(ir,LC({className:"recharts-errorBar",key:"bar-".concat(E.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),E.map(function(se){return be.createElement("line",LC({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return be.createElement(ir,{className:"recharts-errorBars"},p)}}])}(be.Component);DZ(bx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});DZ(bx,"displayName","ErrorBar");function db(t){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function oQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oQ(Object(n),!0).forEach(function(r){ODe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ODe(t,e,n){return e=FDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FDe(t){var e=LDe(t,"string");return db(e)=="symbol"?e:e+""}function LDe(t,e){if(db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FZ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=bl(n,Tl);if(!s)return null;var o=Tl.defaultProps,l=o!==void 0?Mf(Mf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(A,d){var f=d.item,h=d.props,p=h.sectors||h.data||[];return A.concat(p.map(function(m){return{type:s.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(A){var d=A.item,f=d.type.defaultProps,h=f!==void 0?Mf(Mf({},f),d.props):{},p=h.dataKey,m=h.name,v=h.legendType,g=h.hide;return{inactive:g,dataKey:p,type:l.iconType||v||"square",color:AO(d),value:m||p,payload:h}}),Mf(Mf(Mf({},l),Tl.getWithHeight(s,i)),{},{payload:u,item:s})};function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function lQ(t){return QDe(t)||UDe(t)||RDe(t)||MDe()}function MDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RDe(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function UDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QDe(t){if(Array.isArray(t))return WI(t)}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cQ(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rm(t,e,n){return e=HDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HDe(t){var e=zDe(t,"string");return fb(e)=="symbol"?e:e+""}function zDe(t,e){if(fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ya(t,e,n){return On(t)||On(e)?n:Xa(e)?jl(t,e,n):Nn(e)?e(t):n}function Jv(t,e,n,r){var i=UPe(t,function(o){return ya(o,e)});if(n==="number"){var a=i.filter(function(o){return Tt(o)||parseFloat(o)});return a.length?[yE(a),Pd(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!On(o)}):i;return s.map(function(o){return Xa(o)||o instanceof Date?o:""})}var VDe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var A=u>0?i[u-1].coordinate:i[o-1].coordinate,d=i[u].coordinate,f=u>=o-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(bo(d-A)!==bo(f-d)){var p=[];if(bo(f-d)===bo(l[1]-l[0])){h=f;var m=d+l[1]-l[0];p[0]=Math.min(m,(m+A)/2),p[1]=Math.max(m,(m+A)/2)}else{h=A;var v=f+l[1]-l[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){s=i[u].index;break}}else{var y=Math.min(A,f),x=Math.max(A,f);if(e>(y+d)/2&&e<=(x+d)/2){s=i[u].index;break}}}else for(var C=0;C<o;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===o-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},AO=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ji(Ji({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},$De=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var A=a[o[l]].stackGroups,d=Object.keys(A),f=0,h=d.length;f<h;f++){var p=A[d[f]],m=p.items,v=p.cateAxisId,g=m.filter(function(_){return TA(_.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,x=y!==void 0?Ji(Ji({},y),g[0].props):g[0].props,C=x.barSize,E=x[v];s[E]||(s[E]=[]);var j=On(C)?n:C;s[E].push({item:g[0],stackList:g.slice(1),barSize:On(j)?void 0:xo(j,r,0)})}}return s},KDe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=xo(n,i,0,!0),A,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/l,p=s.reduce(function(C,E){return C+E.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&h>0&&(f=!0,h*=.9,p=l*h);var m=(i-p)/2>>0,v={offset:m-u,size:0};A=s.reduce(function(C,E){var j={item:E.item,position:{offset:v.offset+v.size+u,size:f?h:E.barSize}},_=[].concat(lQ(C),[j]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(B){_.push({item:B,position:v})}),_},d)}else{var g=xo(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var y=(i-2*g-(l-1)*u)/l;y>1&&(y>>=0);var x=o===+o?Math.min(y,o):y;A=s.reduce(function(C,E,j){var _=[].concat(lQ(C),[{item:E.item,position:{offset:g+(y+u)*j+(y-x)/2,size:x}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(B){_.push({item:B,position:_[_.length-1].position})}),_},d)}return A},WDe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=FZ({children:a,legendWidth:l});if(u){var A=i||{},d=A.width,f=A.height,h=u.align,p=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&h!=="center"&&Tt(e[h]))return Ji(Ji({},e),{},Rm({},h,e[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&p!=="middle"&&Tt(e[p]))return Ji(Ji({},e),{},Rm({},p,e[p]+(f||0)))}return e},GDe=function(e,n,r){return On(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},LZ=function(e,n,r,i,a){var s=n.props.children,o=Il(s,bx).filter(function(u){return GDe(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=ya(A,r);if(On(d))return u;var f=Array.isArray(d)?[yE(d),Pd(d)]:[d,d],h=l.reduce(function(p,m){var v=ya(A,m,0),g=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},qDe=function(e,n,r,i,a){var s=n.map(function(o){return LZ(e,o,r,a,i)}).filter(function(o){return!On(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},MZ=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&LZ(e,l,u,i)||Jv(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var A=0,d=u.length;A<d;A++)o[u[A]]||(o[u[A]]=!0,l.push(u[A]));return l},[])},RZ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},UZ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},_A=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?bo(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return A.filter(function(d){return!p0(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:a?a[d]:d,index:f,offset:u}})},zB=new WeakMap,T1=function(e,n){if(typeof n!="function")return e;zB.has(e)||zB.set(e,new WeakMap);var r=zB.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},QZ=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:ab(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:kC(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xv(),realScaleType:"point"}:a==="category"?{scale:ab(),realScaleType:"band"}:{scale:kC(),realScaleType:"linear"};if(Vh(i)){var l="scale".concat(aE(i));return{scale:(nQ[l]||Xv)(),realScaleType:nQ[l]?l:"point"}}return Nn(i)?{scale:i}:{scale:Xv(),realScaleType:"point"}},uQ=1e-4,HZ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-uQ,s=Math.max(i[0],i[1])+uQ,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},YDe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},XDe=function(e,n){if(!n||n.length!==2||!Tt(n[0])||!Tt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Tt(e[0])||e[0]<r)&&(a[0]=r),(!Tt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},JDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=p0(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},ZDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=p0(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},e3e={sign:JDe,expand:yCe,none:bg,silhouette:bCe,wiggle:xCe,positive:ZDe},t3e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=e3e[r],s=vCe().keys(i).value(function(o,l){return+ya(o,l,0)}).order(vI).offset(a);return s(e)},n3e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(d,f){var h,p=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Ji(Ji({},f.type.defaultProps),f.props):f.props,m=p.stackId,v=p.hide;if(v)return d;var g=p[r],y=d[g]||{hasStack:!1,stackGroups:{}};if(Xa(m)){var x=y.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),y.hasStack=!0,y.stackGroups[m]=x}else y.stackGroups[fp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Ji(Ji({},d),{},Rm({},g,y))},l),A={};return Object.keys(u).reduce(function(d,f){var h=u[f];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var g=h.stackGroups[v];return Ji(Ji({},m),{},Rm({},v,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:t3e(e,g.items,a)}))},p)}return Ji(Ji({},d),{},Rm({},f,h))},A)},zZ=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=mDe(u,a,o);return e.domain([yE(A),Pd(A)]),{niceTicks:A}}if(a&&i==="number"){var d=e.domain(),f=gDe(d,a,o);return{niceTicks:f}}return null};function RC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!On(i[e.dataKey])){var o=AC(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ya(i,On(s)?e.dataKey:s);return On(l)?null:e.scale(l)}var AQ=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=ya(s,n.dataKey,n.domain[o]);return On(l)?null:n.scale(l)-a/2+i},r3e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},i3e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ji(Ji({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Xa(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},a3e=function(e){return e.reduce(function(n,r){return[yE(r.concat([n[0]]).filter(Tt)),Pd(r.concat([n[1]]).filter(Tt))]},[1/0,-1/0])},VZ=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,A){var d=a3e(A.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},dQ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fQ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GI=function(e,n,r){if(Nn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Tt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(dQ.test(e[0])){var a=+dQ.exec(e[0])[1];i[0]=n[0]-a}else Nn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Tt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(fQ.test(e[1])){var s=+fQ.exec(e[1])[1];i[1]=n[1]+s}else Nn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},UC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=R3(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],A=a[o-1];s=Math.min((u.coordinate||0)-(A.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},hQ=function(e,n,r){return!e||!e.length||Wh(e,jl(r,"type.defaultProps.domain"))?n:e},$Z=function(e,n){var r=e.type.defaultProps?Ji(Ji({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,A=r.hide;return Ji(Ji({},yn(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:AO(e),value:ya(n,i),type:l,payload:n,chartType:u,hide:A})};function hb(t){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function pQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pQ(Object(n),!0).forEach(function(r){KZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KZ(t,e,n){return e=s3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s3e(t){var e=o3e(t,"string");return hb(e)=="symbol"?e:e+""}function o3e(t,e){if(hb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l3e(t,e){return d3e(t)||A3e(t,e)||u3e(t,e)||c3e()}function c3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u3e(t,e){if(t){if(typeof t=="string")return mQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mQ(t,e)}}function mQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function d3e(t){if(Array.isArray(t))return t}var QC=Math.PI/180,f3e=function(e){return e*180/Math.PI},di=function(e,n,r,i){return{x:e+Math.cos(-QC*i)*r,y:n+Math.sin(-QC*i)*r}},WZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},h3e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,A=xo(e.cx,s,s/2),d=xo(e.cy,o,o/2),f=WZ(s,o,r),h=xo(e.innerRadius,f,0),p=xo(e.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(v,g){var y=n[g],x=y.domain,C=y.reversed,E;if(On(y.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[h,p]),C&&(E=[E[1],E[0]]);else{E=y.range;var j=E,_=l3e(j,2);l=_[0],u=_[1]}var B=QZ(y,a),N=B.realScaleType,D=B.scale;D.domain(x).range(E),HZ(D);var T=zZ(D,gA(gA({},y),{},{realScaleType:N})),O=gA(gA(gA({},y),T),{},{range:E,radius:p,realScaleType:N,scale:D,cx:A,cy:d,innerRadius:h,outerRadius:p,startAngle:l,endAngle:u});return gA(gA({},v),{},KZ({},g,O))},{})},p3e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},m3e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=p3e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:f3e(u),angleInRadian:u}},g3e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},v3e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},gQ=function(e,n){var r=e.x,i=e.y,a=m3e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var A=g3e(n),d=A.startAngle,f=A.endAngle,h=o,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?gA(gA({},n),{},{radius:s,angle:v3e(h,n)}):null},GZ=function(e){return!P.isValidElement(e)&&!Nn(e)&&typeof e!="boolean"?e.className:""};function pb(t){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}var y3e=["offset"];function b3e(t){return S3e(t)||C3e(t)||w3e(t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function C3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S3e(t){if(Array.isArray(t))return qI(t)}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E3e(t,e){if(t==null)return{};var n=_3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vQ(Object(n),!0).forEach(function(r){B3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3e(t,e,n){return e=N3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N3e(t){var e=j3e(t,"string");return pb(e)=="symbol"?e:e+""}function j3e(t,e){if(pb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}var I3e=function(e){var n=e.value,r=e.formatter,i=On(e.children)?n:e.children;return Nn(r)?r(i):i},T3e=function(e,n){var r=bo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},k3e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,A=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,p=l.endAngle,m=l.clockWise,v=(d+f)/2,g=T3e(h,p),y=g>=0?1:-1,x,C;i==="insideStart"?(x=h+y*s,C=m):i==="insideEnd"?(x=p-y*s,C=!m):i==="end"&&(x=p+y*s,C=m),C=g<=0?C:!C;var E=di(u,A,v,x),j=di(u,A,v,x+(C?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(j.x,",").concat(j.y),B=On(e.id)?fp("recharts-radial-line-"):e.id;return be.createElement("text",mb({},r,{dominantBaseline:"central",className:Hn("recharts-radial-bar-label",o)}),be.createElement("defs",null,be.createElement("path",{id:B,d:_})),be.createElement("textPath",{xlinkHref:"#".concat(B)},n))},P3e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,A=a.startAngle,d=a.endAngle,f=(A+d)/2;if(i==="outside"){var h=di(s,o,u+r,f),p=h.x,m=h.y;return{x:p,y:m,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,g=di(s,o,v,f),y=g.x,x=g.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},D3e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,A=s.height,d=A>=0?1:-1,f=d*i,h=d>0?"end":"start",p=d>0?"start":"end",m=u>=0?1:-1,v=m*i,g=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var x={x:o+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return Ka(Ka({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var C={x:o+u/2,y:l+A+f,textAnchor:"middle",verticalAnchor:p};return Ka(Ka({},C),r?{height:Math.max(r.y+r.height-(l+A),0),width:u}:{})}if(a==="left"){var E={x:o-v,y:l+A/2,textAnchor:g,verticalAnchor:"middle"};return Ka(Ka({},E),r?{width:Math.max(E.x-r.x,0),height:A}:{})}if(a==="right"){var j={x:o+u+v,y:l+A/2,textAnchor:y,verticalAnchor:"middle"};return Ka(Ka({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:A}:{})}var _=r?{width:u,height:A}:{};return a==="insideLeft"?Ka({x:o+v,y:l+A/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideRight"?Ka({x:o+u-v,y:l+A/2,textAnchor:g,verticalAnchor:"middle"},_):a==="insideTop"?Ka({x:o+u/2,y:l+f,textAnchor:"middle",verticalAnchor:p},_):a==="insideBottom"?Ka({x:o+u/2,y:l+A-f,textAnchor:"middle",verticalAnchor:h},_):a==="insideTopLeft"?Ka({x:o+v,y:l+f,textAnchor:y,verticalAnchor:p},_):a==="insideTopRight"?Ka({x:o+u-v,y:l+f,textAnchor:g,verticalAnchor:p},_):a==="insideBottomLeft"?Ka({x:o+v,y:l+A-f,textAnchor:y,verticalAnchor:h},_):a==="insideBottomRight"?Ka({x:o+u-v,y:l+A-f,textAnchor:g,verticalAnchor:h},_):A0(a)&&(Tt(a.x)||fh(a.x))&&(Tt(a.y)||fh(a.y))?Ka({x:o+xo(a.x,u),y:l+xo(a.y,A),textAnchor:"end",verticalAnchor:"end"},_):Ka({x:o+u/2,y:l+A/2,textAnchor:"middle",verticalAnchor:"middle"},_)},O3e=function(e){return"cx"in e&&Tt(e.cx)};function os(t){var e=t.offset,n=e===void 0?5:e,r=E3e(t,y3e),i=Ka({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,A=i.className,d=A===void 0?"":A,f=i.textBreakAll;if(!a||On(o)&&On(l)&&!P.isValidElement(u)&&!Nn(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var h;if(Nn(u)){if(h=P.createElement(u,i),P.isValidElement(h))return h}else h=I3e(i);var p=O3e(a),m=yn(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return k3e(i,h,m);var v=p?P3e(i):D3e(i);return be.createElement(Kh,mb({className:Hn("recharts-label",d)},m,v,{breakAll:f}),h)}os.displayName="Label";var qZ=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,f=e.y,h=e.top,p=e.left,m=e.width,v=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Tt(m)&&Tt(v)){if(Tt(d)&&Tt(f))return{x:d,y:f,width:m,height:v};if(Tt(h)&&Tt(p))return{x:h,y:p,width:m,height:v}}return Tt(d)&&Tt(f)?{x:d,y:f,width:0,height:0}:Tt(n)&&Tt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:A||l||o||0,clockWise:g}:e.viewBox?e.viewBox:{}},F3e=function(e,n){return e?e===!0?be.createElement(os,{key:"label-implicit",viewBox:n}):Xa(e)?be.createElement(os,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===os?P.cloneElement(e,{key:"label-implicit",viewBox:n}):be.createElement(os,{key:"label-implicit",content:e,viewBox:n}):Nn(e)?be.createElement(os,{key:"label-implicit",content:e,viewBox:n}):A0(e)?be.createElement(os,mb({viewBox:n},e,{key:"label-implicit"})):null:null},L3e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=qZ(e),s=Il(i,os).map(function(l,u){return P.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=F3e(e.label,n||a);return[o].concat(b3e(s))};os.parseViewBox=qZ;os.renderCallByParent=L3e;function M3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var R3e=M3e;const U3e=Rr(R3e);function gb(t){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}var Q3e=["valueAccessor"],H3e=["data","dataKey","clockWise","id","textBreakAll"];function z3e(t){return W3e(t)||K3e(t)||$3e(t)||V3e()}function V3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(t,e){if(t){if(typeof t=="string")return YI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(t,e)}}function K3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W3e(t){if(Array.isArray(t))return YI(t)}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HC.apply(this,arguments)}function yQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yQ(Object(n),!0).forEach(function(r){G3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G3e(t,e,n){return e=q3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3e(t){var e=Y3e(t,"string");return gb(e)=="symbol"?e:e+""}function Y3e(t,e){if(gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xQ(t,e){if(t==null)return{};var n=X3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var J3e=function(e){return Array.isArray(e.value)?U3e(e.value):e.value};function $o(t){var e=t.valueAccessor,n=e===void 0?J3e:e,r=xQ(t,Q3e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=xQ(r,H3e);return!i||!i.length?null:be.createElement(ir,{className:"recharts-label-list"},i.map(function(A,d){var f=On(a)?n(A,d):ya(A&&A.payload,a),h=On(o)?{}:{id:"".concat(o,"-").concat(d)};return be.createElement(os,HC({},yn(A,!0),u,h,{parentViewBox:A.parentViewBox,value:f,textBreakAll:l,viewBox:os.parseViewBox(On(s)?A:bQ(bQ({},A),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}$o.displayName="LabelList";function Z3e(t,e){return t?t===!0?be.createElement($o,{key:"labelList-implicit",data:e}):be.isValidElement(t)||Nn(t)?be.createElement($o,{key:"labelList-implicit",data:e,content:t}):A0(t)?be.createElement($o,HC({data:e},t,{key:"labelList-implicit"})):null:null}function eOe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Il(r,$o).map(function(s,o){return P.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=Z3e(t.label,e);return[a].concat(z3e(i))}$o.renderCallByParent=eOe;function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function XI(){return XI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XI.apply(this,arguments)}function wQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(n),!0).forEach(function(r){tOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tOe(t,e,n){return e=nOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nOe(t){var e=rOe(t,"string");return vb(e)=="symbol"?e:e+""}function rOe(t,e){if(vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iOe=function(e,n){var r=bo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},k1=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,A=l*(o?1:-1)+i,d=Math.asin(l/A)/QC,f=u?a:a+s*d,h=di(n,r,A,f),p=di(n,r,i,f),m=u?a-s*d:a,v=di(n,r,A*Math.cos(d*QC),m);return{center:h,circleTangency:p,lineTangency:v,theta:d}},YZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=iOe(s,o),u=s+l,A=di(n,r,a,s),d=di(n,r,a,u),f="M ".concat(A.x,",").concat(A.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=di(n,r,i,s),p=di(n,r,i,u);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},aOe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=bo(A-u),f=k1({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),h=f.circleTangency,p=f.lineTangency,m=f.theta,v=k1({cx:n,cy:r,radius:a,angle:A,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=v.circleTangency,y=v.lineTangency,x=v.theta,C=l?Math.abs(u-A):Math.abs(u-A)-m-x;if(C<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):YZ({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:A});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var j=k1({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=j.circleTangency,B=j.lineTangency,N=j.theta,D=k1({cx:n,cy:r,radius:i,angle:A,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=D.circleTangency,O=D.lineTangency,L=D.theta,H=l?Math.abs(u-A):Math.abs(u-A)-N-L;if(H<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},sOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XZ=function(e){var n=CQ(CQ({},sOe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,A=n.startAngle,d=n.endAngle,f=n.className;if(s<a||A===d)return null;var h=Hn("recharts-sector",f),p=s-a,m=xo(o,p,0,!0),v;return m>0&&Math.abs(A-d)<360?v=aOe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:A,endAngle:d}):v=YZ({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:A,endAngle:d}),be.createElement("path",XI({},yn(n,!0),{className:h,d:v,role:"img"}))};function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function JI(){return JI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JI.apply(this,arguments)}function SQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SQ(Object(n),!0).forEach(function(r){oOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oOe(t,e,n){return e=lOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lOe(t){var e=cOe(t,"string");return yb(e)=="symbol"?e:e+""}function cOe(t,e){if(yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Q={curveBasisClosed:oCe,curveBasisOpen:lCe,curveBasis:sCe,curveBumpX:K2e,curveBumpY:W2e,curveLinearClosed:cCe,curveLinear:oE,curveMonotoneX:uCe,curveMonotoneY:ACe,curveNatural:dCe,curveStep:fCe,curveStepAfter:pCe,curveStepBefore:hCe},P1=function(e){return e.x===+e.x&&e.y===+e.y},X0=function(e){return e.x},J0=function(e){return e.y},uOe=function(e,n){if(Nn(e))return e;var r="curve".concat(aE(e));return(r==="curveMonotone"||r==="curveBump")&&n?_Q["".concat(r).concat(n==="vertical"?"Y":"X")]:_Q[r]||oE},AOe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,A=uOe(r,o),d=u?a.filter(function(m){return P1(m)}):a,f;if(Array.isArray(s)){var h=u?s.filter(function(m){return P1(m)}):s,p=d.map(function(m,v){return EQ(EQ({},m),{},{base:h[v]})});return o==="vertical"?f=C1().y(J0).x1(X0).x0(function(m){return m.base.x}):f=C1().x(X0).y1(J0).y0(function(m){return m.base.y}),f.defined(P1).curve(A),f(p)}return o==="vertical"&&Tt(s)?f=C1().y(J0).x1(X0).x0(s):Tt(s)?f=C1().x(X0).y1(J0).y0(s):f=$X().x(X0).y(J0),f.defined(P1).curve(A),f(d)},Ih=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?AOe(e):i;return P.createElement("path",JI({},yn(e,!1),dC(e),{className:Hn("recharts-curve",n),d:s,ref:a}))},JZ={exports:{}},dOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fOe=dOe,hOe=fOe;function ZZ(){}function eee(){}eee.resetWarningCache=ZZ;var pOe=function(){function t(r,i,a,s,o,l){if(l!==hOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eee,resetWarningCache:ZZ};return n.PropTypes=n,n};JZ.exports=pOe();var mOe=JZ.exports;const Lr=Rr(mOe);var gOe=Object.getOwnPropertyNames,vOe=Object.getOwnPropertySymbols,yOe=Object.prototype.hasOwnProperty;function BQ(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function D1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function bOe(t){return t!=null?t[Symbol.toStringTag]:void 0}function NQ(t){return gOe(t).concat(vOe(t))}var xOe=Object.hasOwn||function(t,e){return yOe.call(t,e)};function mp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var wOe="__v",COe="__o",SOe="_owner",jQ=Object.getOwnPropertyDescriptor,IQ=Object.keys;function EOe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function _Oe(t,e){return mp(t.getTime(),e.getTime())}function BOe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function NOe(t,e){return t===e}function TQ(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),A=!1,d=0;(o=u.next())&&!o.done;){if(i[d]){d++;continue}var f=s.value,h=o.value;if(n.equals(f[0],h[0],l,d,t,e,n)&&n.equals(f[1],h[1],f[0],h[0],t,e,n)){A=i[d]=!0;break}d++}if(!A)return!1;l++}return!0}var jOe=mp;function IOe(t,e,n){var r=IQ(t),i=r.length;if(IQ(e).length!==i)return!1;for(;i-- >0;)if(!tee(t,e,n,r[i]))return!1;return!0}function Z0(t,e,n){var r=NQ(t),i=r.length;if(NQ(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],!tee(t,e,n,a)||(s=jQ(t,a),o=jQ(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function TOe(t,e){return mp(t.valueOf(),e.valueOf())}function kOe(t,e){return t.source===e.source&&t.flags===e.flags}function kQ(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,A=0;(o=l.next())&&!o.done;){if(!i[A]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[A]=!0;break}A++}if(!u)return!1}return!0}function POe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function DOe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tee(t,e,n,r){return(r===SOe||r===COe||r===wOe)&&(t.$$typeof||e.$$typeof)?!0:xOe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var OOe="[object Arguments]",FOe="[object Boolean]",LOe="[object Date]",MOe="[object Error]",ROe="[object Map]",UOe="[object Number]",QOe="[object Object]",HOe="[object RegExp]",zOe="[object Set]",VOe="[object String]",$Oe="[object URL]",KOe=Array.isArray,PQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DQ=Object.assign,WOe=Object.prototype.toString.call.bind(Object.prototype.toString);function GOe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,A=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual,h=t.unknownTagComparators;return function(m,v,g){if(m===v)return!0;if(m==null||v==null)return!1;var y=typeof m;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?s(m,v,g):y==="function"?i(m,v,g):!1;var x=m.constructor;if(x!==v.constructor)return!1;if(x===Object)return o(m,v,g);if(KOe(m))return e(m,v,g);if(PQ!=null&&PQ(m))return d(m,v,g);if(x===Date)return n(m,v,g);if(x===RegExp)return u(m,v,g);if(x===Map)return a(m,v,g);if(x===Set)return A(m,v,g);var C=WOe(m);if(C===LOe)return n(m,v,g);if(C===HOe)return u(m,v,g);if(C===ROe)return a(m,v,g);if(C===zOe)return A(m,v,g);if(C===QOe)return typeof m.then!="function"&&typeof v.then!="function"&&o(m,v,g);if(C===$Oe)return f(m,v,g);if(C===MOe)return r(m,v,g);if(C===OOe)return o(m,v,g);if(C===FOe||C===UOe||C===VOe)return l(m,v,g);if(h){var E=h[C];if(!E){var j=bOe(m);j&&(E=h[j])}if(E)return E(m,v,g)}return!1}}function qOe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Z0:EOe,areDatesEqual:_Oe,areErrorsEqual:BOe,areFunctionsEqual:NOe,areMapsEqual:r?BQ(TQ,Z0):TQ,areNumbersEqual:jOe,areObjectsEqual:r?Z0:IOe,arePrimitiveWrappersEqual:TOe,areRegExpsEqual:kOe,areSetsEqual:r?BQ(kQ,Z0):kQ,areTypedArraysEqual:r?Z0:POe,areUrlsEqual:DOe,unknownTagComparators:void 0};if(n&&(i=DQ({},i,n(i))),e){var a=D1(i.areArraysEqual),s=D1(i.areMapsEqual),o=D1(i.areObjectsEqual),l=D1(i.areSetsEqual);i=DQ({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function YOe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function XOe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var A=r(),d=A.cache,f=d===void 0?e?new WeakMap:void 0:d,h=A.meta;return n(l,u,{cache:f,equals:i,meta:h,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,s)}}var JOe=_f();_f({strict:!0});_f({circular:!0});_f({circular:!0,strict:!0});_f({createInternalComparator:function(){return mp}});_f({strict:!0,createInternalComparator:function(){return mp}});_f({circular:!0,createInternalComparator:function(){return mp}});_f({circular:!0,createInternalComparator:function(){return mp},strict:!0});function _f(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=qOe(t),l=GOe(o),u=r?r(l):YOe(l);return XOe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function ZOe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function OQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):ZOe(i)};requestAnimationFrame(r)}function ZI(t){"@babel/helpers - typeof";return ZI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZI(t)}function eFe(t){return iFe(t)||rFe(t)||nFe(t)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nFe(t,e){if(t){if(typeof t=="string")return FQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FQ(t,e)}}function FQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iFe(t){if(Array.isArray(t))return t}function aFe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=eFe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){OQ(i.bind(null,u),l);return}i(l),OQ(i.bind(null,u));return}ZI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}function LQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LQ(Object(n),!0).forEach(function(r){nee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nee(t,e,n){return e=sFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sFe(t){var e=oFe(t,"string");return bb(e)==="symbol"?e:String(e)}function oFe(t,e){if(bb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lFe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},cFe=function(e){return e},uFe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zv=function(e,n){return Object.keys(n).reduce(function(r,i){return MQ(MQ({},r),{},nee({},i,e(i,n[i])))},{})},RQ=function(e,n,r){return e.map(function(i){return"".concat(uFe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function AFe(t,e){return hFe(t)||fFe(t,e)||ree(t,e)||dFe()}function dFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hFe(t){if(Array.isArray(t))return t}function pFe(t){return vFe(t)||gFe(t)||ree(t)||mFe()}function mFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(t,e){if(t){if(typeof t=="string")return eT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(t,e)}}function gFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vFe(t){if(Array.isArray(t))return eT(t)}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zC=1e-4,iee=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},aee=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},UQ=function(e,n){return function(r){var i=iee(e,n);return aee(i,r)}},yFe=function(e,n){return function(r){var i=iee(e,n),a=[].concat(pFe(i.map(function(s,o){return s*o}).slice(1)),[0]);return aee(a,r)}},QQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),A=AFe(u,4);i=A[0],a=A[1],s=A[2],o=A[3]}}}var d=UQ(i,s),f=UQ(a,o),h=yFe(i,s),p=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,x=y,C=0;C<8;++C){var E=d(x)-y,j=h(x);if(Math.abs(E-y)<zC||j<zC)return f(x);x=p(x-E/j)}return f(x)};return m.isStepper=!1,m},bFe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(A,d,f){var h=-(A-d)*r,p=f*a,m=f+(h-p)*o/1e3,v=f*o/1e3+A;return Math.abs(v-d)<zC&&Math.abs(m)<zC?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},xFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QQ(i);case"spring":return bFe();default:if(i.split("(")[0]==="cubic-bezier")return QQ(i)}return typeof i=="function"?i:null};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function HQ(t){return SFe(t)||CFe(t)||see(t)||wFe()}function wFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SFe(t){if(Array.isArray(t))return nT(t)}function zQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zQ(Object(n),!0).forEach(function(r){tT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tT(t,e,n){return e=EFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EFe(t){var e=_Fe(t,"string");return xb(e)==="symbol"?e:String(e)}function _Fe(t,e){if(xb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BFe(t,e){return IFe(t)||jFe(t,e)||see(t,e)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function see(t,e){if(t){if(typeof t=="string")return nT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(t,e)}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function IFe(t){if(Array.isArray(t))return t}var VC=function(e,n,r){return e+(n-e)*r},rT=function(e){var n=e.from,r=e.to;return n!==r},TFe=function t(e,n,r){var i=Zv(function(a,s){if(rT(s)){var o=e(s.from,s.to,s.velocity),l=BFe(o,2),u=l[0],A=l[1];return xs(xs({},s),{},{from:u,velocity:A})}return s},n);return r<1?Zv(function(a,s){return rT(s)?xs(xs({},s),{},{velocity:VC(s.velocity,i[a].velocity,r),from:VC(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const kFe=function(t,e,n,r,i){var a=lFe(t,e),s=a.reduce(function(v,g){return xs(xs({},v),{},tT({},g,[t[g],e[g]]))},{}),o=a.reduce(function(v,g){return xs(xs({},v),{},tT({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,A,d=function(){return null},f=function(){return Zv(function(g,y){return y.from},o)},h=function(){return!Object.values(o).filter(rT).length},p=function(g){u||(u=g);var y=g-u,x=y/n.dt;o=TFe(n,o,x),i(xs(xs(xs({},t),e),f())),u=g,h()||(l=requestAnimationFrame(d))},m=function(g){A||(A=g);var y=(g-A)/r,x=Zv(function(E,j){return VC.apply(void 0,HQ(j).concat([n(y)]))},s);if(i(xs(xs(xs({},t),e),x)),y<1)l=requestAnimationFrame(d);else{var C=Zv(function(E,j){return VC.apply(void 0,HQ(j).concat([n(1)]))},s);i(xs(xs(xs({},t),e),C))}};return d=n.isStepper?p:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var PFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function DFe(t,e){if(t==null)return{};var n=OFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OFe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VB(t){return RFe(t)||MFe(t)||LFe(t)||FFe()}function FFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LFe(t,e){if(t){if(typeof t=="string")return iT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iT(t,e)}}function MFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RFe(t){if(Array.isArray(t))return iT(t)}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VQ(Object(n),!0).forEach(function(r){xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xv(t,e,n){return e=oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oee(r.key),r)}}function HFe(t,e,n){return e&&QFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oee(t){var e=zFe(t,"string");return jg(e)==="symbol"?e:String(e)}function zFe(t,e){if(jg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aT(t,e)}function $Fe(t){var e=KFe();return function(){var r=$C(t),i;if(e){var a=$C(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return sT(this,i)}}function sT(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oT(t)}function oT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $C(t){return $C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$C(t)}var tu=function(t){VFe(n,t);var e=$Fe(n);function n(r,i){var a;UFe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,A=s.to,d=s.steps,f=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(oT(a)),a.changeStyle=a.changeStyle.bind(oT(a)),!o||h<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:A}),sT(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof f=="function")return a.state={style:u},sT(a);a.state={style:l?xv({},l,u):u}}else a.state={style:{}};return a}return HFe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,A=a.to,d=a.from,f=this.state.style;if(o){if(!s){var h={style:l?xv({},l,A):A};this.state&&f&&(l&&f[l]!==A||!l&&f!==A)&&this.setState(h);return}if(!(JOe(i.to,A)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||u?d:i.to;if(this.state&&f){var v={style:l?xv({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(v)}this.runAnimation(Lc(Lc({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,A=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=kFe(s,o,xFe(u),l,this.changeStyle),p=function(){a.stopJSAnimation=h()};this.manager.start([f,A,p,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],A=u.style,d=u.duration,f=d===void 0?0:d,h=function(m,v,g){if(g===0)return m;var y=v.duration,x=v.easing,C=x===void 0?"ease":x,E=v.style,j=v.properties,_=v.onAnimationEnd,B=g>0?s[g-1]:v,N=j||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(VB(m),[a.runJSAnimation.bind(a,{from:B.style,to:E,duration:y,easing:C}),y]);var D=RQ(N,y,C),T=Lc(Lc(Lc({},B.style),E),{},{transition:D});return[].concat(VB(m),[T,y,_]).filter(cFe)};return this.manager.start([l].concat(VB(s.reduce(h,[A,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aFe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,A=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=o?xv({},o,l):l,v=RQ(Object.keys(m),s,u);p.start([A,a,Lc(Lc({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=DFe(i,PFe),u=P.Children.count(a),A=this.state.style;if(typeof a=="function")return a(A);if(!o||u===0||s<=0)return a;var d=function(h){var p=h.props,m=p.style,v=m===void 0?{}:m,g=p.className,y=P.cloneElement(h,Lc(Lc({},l),{},{style:Lc(Lc({},v),A),className:g}));return y};return u===1?d(P.Children.only(a)):be.createElement("div",null,P.Children.map(a,function(f){return d(f)}))}}]),n}(P.PureComponent);tu.displayName="Animate";tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tu.propTypes={from:Lr.oneOfType([Lr.object,Lr.string]),to:Lr.oneOfType([Lr.object,Lr.string]),attributeName:Lr.string,duration:Lr.number,begin:Lr.number,easing:Lr.oneOfType([Lr.string,Lr.func]),steps:Lr.arrayOf(Lr.shape({duration:Lr.number.isRequired,style:Lr.object.isRequired,easing:Lr.oneOfType([Lr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lr.func]),properties:Lr.arrayOf("string"),onAnimationEnd:Lr.func})),children:Lr.oneOfType([Lr.node,Lr.func]),isActive:Lr.bool,canBegin:Lr.bool,onAnimationEnd:Lr.func,shouldReAnimate:Lr.bool,onAnimationStart:Lr.func,onAnimationReStart:Lr.func};function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function KC(){return KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KC.apply(this,arguments)}function WFe(t,e){return XFe(t)||YFe(t,e)||qFe(t,e)||GFe()}function GFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qFe(t,e){if(t){if(typeof t=="string")return $Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Q(t,e)}}function $Q(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function XFe(t){if(Array.isArray(t))return t}function KQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KQ(Object(n),!0).forEach(function(r){JFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JFe(t,e,n){return e=ZFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZFe(t){var e=eLe(t,"string");return wb(e)=="symbol"?e:e+""}function eLe(t,e){if(wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GQ=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,A;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];A="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),A+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*d[1])),A+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),A+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*d[3])),A+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);A="M ".concat(e,",").concat(n+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(n,`
            L `).concat(e+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*p,`
            L `).concat(e+r,",").concat(n+i-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r-l*p,",").concat(n+i,`
            L `).concat(e+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*p," Z")}else A="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return A},tLe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),A=Math.max(a,a+o),d=Math.min(s,s+l),f=Math.max(s,s+l);return r>=u&&r<=A&&i>=d&&i<=f}return!1},nLe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dO=function(e){var n=WQ(WQ({},nLe),e),r=P.useRef(),i=P.useState(-1),a=WFe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&o(C)}catch{}},[]);var l=n.x,u=n.y,A=n.width,d=n.height,f=n.radius,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var x=Hn("recharts-rectangle",h);return y?be.createElement(tu,{canBegin:s>0,from:{width:A,height:d,x:l,y:u},to:{width:A,height:d,x:l,y:u},duration:m,animationEasing:p,isActive:y},function(C){var E=C.width,j=C.height,_=C.x,B=C.y;return be.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:g,easing:p},be.createElement("path",KC({},yn(n,!0),{className:x,d:GQ(_,B,E,j,f),ref:r})))}):be.createElement("path",KC({},yn(n,!0),{className:x,d:GQ(l,u,A,d,f)}))},rLe=["points","className","baseLinePoints","connectNulls"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function iLe(t,e){if(t==null)return{};var n=aLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qQ(t){return cLe(t)||lLe(t)||oLe(t)||sLe()}function sLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(t,e){if(t){if(typeof t=="string")return lT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(t,e)}}function lLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cLe(t){if(Array.isArray(t))return lT(t)}function lT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YQ=function(e){return e&&e.x===+e.x&&e.y===+e.y},uLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){YQ(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),YQ(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ey=function(e,n){var r=uLe(e);n&&(r=[r.reduce(function(a,s){return[].concat(qQ(a),qQ(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},ALe=function(e,n,r){var i=ey(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ey(n.reverse(),r).slice(1))},dLe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=iLe(e,rLe);if(!n||!n.length)return null;var o=Hn("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=ALe(n,i,a);return be.createElement("g",{className:o},be.createElement("path",bm({},yn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?be.createElement("path",bm({},yn(s,!0),{fill:"none",d:ey(n,a)})):null,l?be.createElement("path",bm({},yn(s,!0),{fill:"none",d:ey(i,a)})):null)}var A=ey(n,a);return be.createElement("path",bm({},yn(s,!0),{fill:A.slice(-1)==="Z"?s.fill:"none",className:o,d:A}))};function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(this,arguments)}var xx=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Hn("recharts-dot",a);return n===+n&&r===+r&&i===+i?P.createElement("circle",cT({},yn(e,!1),dC(e),{className:s,cx:n,cy:r,r:i})):null};function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}var fLe=["x","y","top","left","width","height","className"];function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(this,arguments)}function XQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hLe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(n),!0).forEach(function(r){pLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pLe(t,e,n){return e=mLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mLe(t){var e=gLe(t,"string");return Cb(e)=="symbol"?e:e+""}function gLe(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vLe(t,e){if(t==null)return{};var n=yLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bLe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},xLe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,A=e.width,d=A===void 0?0:A,f=e.height,h=f===void 0?0:f,p=e.className,m=vLe(e,fLe),v=hLe({x:r,y:a,top:o,left:u,width:d,height:h},m);return!Tt(r)||!Tt(a)||!Tt(d)||!Tt(h)||!Tt(o)||!Tt(u)?null:be.createElement("path",uT({},yn(v,!0),{className:Hn("recharts-cross",p),d:bLe(r,a,d,h,o,u)}))},wLe=vE,CLe=yZ,SLe=Yu;function ELe(t,e){return t&&t.length?wLe(t,SLe(e),CLe):void 0}var _Le=ELe;const BLe=Rr(_Le);var NLe=vE,jLe=Yu,ILe=bZ;function TLe(t,e){return t&&t.length?NLe(t,jLe(e),ILe):void 0}var kLe=TLe;const PLe=Rr(kLe);var DLe=["cx","cy","angle","ticks","axisLine"],OLe=["ticks","tick","angle","tickFormatter","stroke"];function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function JQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(n),!0).forEach(function(r){wE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZQ(t,e){if(t==null)return{};var n=FLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cee(r.key),r)}}function MLe(t,e,n){return e&&e7(t.prototype,e),n&&e7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RLe(t,e,n){return e=WC(e),ULe(t,lee()?Reflect.construct(e,n||[],WC(t).constructor):e.apply(t,n))}function ULe(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QLe(t)}function QLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lee=function(){return!!t})()}function WC(t){return WC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WC(t)}function HLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AT(t,e)}function AT(t,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AT(t,e)}function wE(t,e,n){return e=cee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cee(t){var e=zLe(t,"string");return Ig(e)=="symbol"?e:e+""}function zLe(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CE=function(t){function e(){return LLe(this,e),RLe(this,e,arguments)}return HLe(e,t),MLe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return di(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=BLe(o,function(A){return A.coordinate||0}),u=PLe(o,function(A){return A.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,u=ZQ(r,DLe),A=o.reduce(function(p,m){return[Math.min(p[0],m.coordinate),Math.max(p[1],m.coordinate)]},[1/0,-1/0]),d=di(i,a,A[0],s),f=di(i,a,A[1],s),h=Rf(Rf(Rf({},yn(u,!1)),{},{fill:"none"},yn(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return be.createElement("line",ty({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,A=ZQ(i,OLe),d=this.getTickTextAnchor(),f=yn(A,!1),h=yn(s,!1),p=a.map(function(m,v){var g=r.getTickValueCoord(m),y=Rf(Rf(Rf(Rf({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},h),{},{index:v},g),{},{payload:m});return be.createElement(ir,ty({className:Hn("recharts-polar-radius-axis-tick",GZ(s)),key:"tick-".concat(m.coordinate)},$h(r.props,m,v)),e.renderTickItem(s,y,l?l(m.value,v):m.value))});return be.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:be.createElement(ir,{className:Hn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),os.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return be.isValidElement(r)?s=be.cloneElement(r,i):Nn(r)?s=r(i):s=be.createElement(Kh,ty({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(P.PureComponent);wE(CE,"displayName","PolarRadiusAxis");wE(CE,"axisType","radiusAxis");wE(CE,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(this,arguments)}function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aee(r.key),r)}}function $Le(t,e,n){return e&&n7(t.prototype,e),n&&n7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KLe(t,e,n){return e=GC(e),WLe(t,uee()?Reflect.construct(e,n||[],GC(t).constructor):e.apply(t,n))}function WLe(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GLe(t)}function GLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uee=function(){return!!t})()}function GC(t){return GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GC(t)}function qLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(t,e)}function SE(t,e,n){return e=Aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=YLe(t,"string");return Tg(e)=="symbol"?e:e+""}function YLe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XLe=Math.PI/180,r7=1e-5,EE=function(t){function e(){return VLe(this,e),KLe(this,e,arguments)}return qLe(e,t),$Le(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,A=u||8,d=di(a,s,o,r.coordinate),f=di(a,s,o+(l==="inner"?-1:1)*A,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*XLe),s;return a>r7?s=i==="outer"?"start":"end":a<-r7?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,u=Uf(Uf({},yn(this.props,!1)),{},{fill:"none"},yn(o,!1));if(l==="circle")return be.createElement(xx,rh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var A=this.props.ticks,d=A.map(function(f){return di(i,a,s,f.coordinate)});return be.createElement(dLe,rh({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,A=yn(this.props,!1),d=yn(s,!1),f=Uf(Uf({},A),{},{fill:"none"},yn(o,!1)),h=a.map(function(p,m){var v=r.getTickLineCoord(p),g=r.getTickTextAnchor(p),y=Uf(Uf(Uf({textAnchor:g},A),{},{stroke:"none",fill:u},d),{},{index:m,payload:p,x:v.x2,y:v.y2});return be.createElement(ir,rh({className:Hn("recharts-polar-angle-axis-tick",GZ(s)),key:"tick-".concat(p.coordinate)},$h(r.props,p,m)),o&&be.createElement("line",rh({className:"recharts-polar-angle-axis-tick-line"},f,v)),s&&e.renderTickItem(s,y,l?l(p.value,m):p.value))});return be.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:be.createElement(ir,{className:Hn("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return be.isValidElement(r)?s=be.cloneElement(r,i):Nn(r)?s=r(i):s=be.createElement(Kh,rh({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(P.PureComponent);SE(EE,"displayName","PolarAngleAxis");SE(EE,"axisType","angleAxis");SE(EE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var JLe=pJ,ZLe=JLe(Object.getPrototypeOf,Object),eMe=ZLe,tMe=ZA,nMe=eMe,rMe=ed,iMe="[object Object]",aMe=Function.prototype,sMe=Object.prototype,dee=aMe.toString,oMe=sMe.hasOwnProperty,lMe=dee.call(Object);function cMe(t){if(!rMe(t)||tMe(t)!=iMe)return!1;var e=nMe(t);if(e===null)return!0;var n=oMe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dee.call(n)==lMe}var uMe=cMe;const AMe=Rr(uMe);var dMe=ZA,fMe=ed,hMe="[object Boolean]";function pMe(t){return t===!0||t===!1||fMe(t)&&dMe(t)==hMe}var mMe=pMe;const gMe=Rr(mMe);function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function vMe(t,e){return wMe(t)||xMe(t,e)||bMe(t,e)||yMe()}function yMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bMe(t,e){if(t){if(typeof t=="string")return i7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i7(t,e)}}function i7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function wMe(t){if(Array.isArray(t))return t}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){CMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CMe(t,e,n){return e=SMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SMe(t){var e=EMe(t,"string");return Sb(e)=="symbol"?e:e+""}function EMe(t,e){if(Sb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o7=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},_Me={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BMe=function(e){var n=s7(s7({},_Me),e),r=P.useRef(),i=P.useState(-1),a=vMe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,u=n.y,A=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||A!==+A||d!==+d||f!==+f||A===0&&d===0||f===0)return null;var y=Hn("recharts-trapezoid",h);return g?be.createElement(tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:A,lowerWidth:d,height:f,x:l,y:u},duration:m,animationEasing:p,isActive:g},function(x){var C=x.upperWidth,E=x.lowerWidth,j=x.height,_=x.x,B=x.y;return be.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:p},be.createElement("path",qC({},yn(n,!0),{className:y,d:o7(_,B,C,E,j),ref:r})))}):be.createElement("g",null,be.createElement("path",qC({},yn(n,!0),{className:y,d:o7(l,u,A,d,f)})))},NMe=["option","shapeType","propTransformer","activeClassName","isActive"];function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function jMe(t,e){if(t==null)return{};var n=IMe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(n),!0).forEach(function(r){TMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TMe(t,e,n){return e=kMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kMe(t){var e=PMe(t,"string");return Eb(e)=="symbol"?e:e+""}function PMe(t,e){if(Eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DMe(t,e){return YC(YC({},e),t)}function OMe(t,e){return t==="symbols"}function c7(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return be.createElement(dO,n);case"trapezoid":return be.createElement(BMe,n);case"sector":return be.createElement(XZ,n);case"symbols":if(OMe(e))return be.createElement(T3,n);break;default:return null}}function FMe(t){return P.isValidElement(t)?t.props:t}function fee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?DMe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=jMe(t,NMe),u;if(P.isValidElement(e))u=P.cloneElement(e,YC(YC({},l),FMe(e)));else if(Nn(e))u=e(l);else if(AMe(e)&&!gMe(e)){var A=i(e,l);u=be.createElement(c7,{shapeType:n,elementProps:A})}else{var d=l;u=be.createElement(c7,{shapeType:n,elementProps:d})}return o?be.createElement(ir,{className:s},u):u}function _E(t,e){return e!=null&&"trapezoids"in t.props}function BE(t,e){return e!=null&&"sectors"in t.props}function _b(t,e){return e!=null&&"points"in t.props}function LMe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function MMe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function RMe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function UMe(t,e){var n;return _E(t,e)?n=LMe:BE(t,e)?n=MMe:_b(t,e)&&(n=RMe),n}function QMe(t,e){var n;return _E(t,e)?n="trapezoids":BE(t,e)?n="sectors":_b(t,e)&&(n="points"),n}function HMe(t,e){if(_E(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(BE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _b(t,e)?e.payload:{}}function zMe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=QMe(n,e),a=HMe(n,e),s=r.filter(function(l,u){var A=Wh(a,l),d=n.props[i].filter(function(p){var m=UMe(n,e);return m(p,e)}),f=n.props[i].indexOf(d[d.length-1]),h=u===f;return A&&h}),o=r.indexOf(s[s.length-1]);return o}var Zw;function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function u7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u7(Object(n),!0).forEach(function(r){cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pee(r.key),r)}}function $Me(t,e,n){return e&&A7(t.prototype,e),n&&A7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KMe(t,e,n){return e=XC(e),WMe(t,hee()?Reflect.construct(e,n||[],XC(t).constructor):e.apply(t,n))}function WMe(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GMe(t)}function GMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hee=function(){return!!t})()}function XC(t){return XC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XC(t)}function qMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(t,e)}function cc(t,e,n){return e=pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=YMe(t,"string");return kg(e)=="symbol"?e:e+""}function YMe(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nu=function(t){function e(n){var r;return VMe(this,e),r=KMe(this,e,[n]),cc(r,"pieRef",null),cc(r,"sectorRefs",[]),cc(r,"id",fp("recharts-pie-")),cc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Nn(i)&&i()}),cc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Nn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return qMe(e,t),$Me(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,A=yn(this.props,!1),d=yn(s,!1),f=yn(o,!1),h=s&&s.offsetRadius||20,p=r.map(function(m,v){var g=(m.startAngle+m.endAngle)/2,y=di(m.cx,m.cy,m.outerRadius+h,g),x=li(li(li(li({},A),m),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(y.x,m.cx)},y),C=li(li(li(li({},A),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[di(m.cx,m.cy,m.outerRadius,g),y]}),E=l;return On(l)&&On(u)?E="value":On(l)&&(E=u),be.createElement(ir,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,C,"line"),e.renderLabelItem(s,x,ya(m,E)))});return be.createElement(ir,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(u,A){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(A),f=l&&i.hasActiveIndex()?l:null,h=d?s:f,p=li(li({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return be.createElement(ir,xm({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},$h(i.props,u,A),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(A)}),be.createElement(fee,xm({option:h,isActive:d,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,A=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return be.createElement(tu,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(A,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var m=p.t,v=[],g=a&&a[0],y=g.startAngle;return a.forEach(function(x,C){var E=f&&f[C],j=C>0?jl(x,"paddingAngle",0):0;if(E){var _=Ga(E.endAngle-E.startAngle,x.endAngle-x.startAngle),B=li(li({},x),{},{startAngle:y+j,endAngle:y+_(m)+j});v.push(B),y=B.endAngle}else{var N=x.endAngle,D=x.startAngle,T=Ga(0,N-D),O=T(m),L=li(li({},x),{},{startAngle:y+j,endAngle:y+O+j});v.push(L),y=L.endAngle}}),be.createElement(ir,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Wh(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,A=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!s||!s.length||!Tt(u)||!Tt(A)||!Tt(d)||!Tt(f))return null;var m=Hn("recharts-pie",o);return be.createElement(ir,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){r.pieRef=g}},this.renderSectors(),l&&this.renderLabels(s),os.renderCallByParent(this.props,null,!1),(!h||p)&&$o.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(be.isValidElement(r))return be.cloneElement(r,i);if(Nn(r))return r(i);var s=Hn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return be.createElement(Ih,xm({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(be.isValidElement(r))return be.cloneElement(r,i);var s=a;if(Nn(r)&&(s=r(i),be.isValidElement(s)))return s;var o=Hn("recharts-pie-label-text",typeof r!="boolean"&&!Nn(r)?r.className:"");return be.createElement(Kh,xm({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(P.PureComponent);Zw=nu;cc(nu,"displayName","Pie");cc(nu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cc(nu,"parseDeltaAngle",function(t,e){var n=bo(e-t),r=Math.min(Math.abs(e-t),360);return n*r});cc(nu,"getRealPieData",function(t){var e=t.data,n=t.children,r=yn(t,!1),i=Il(n,gc);return e&&e.length?e.map(function(a,s){return li(li(li({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return li(li({},r),a.props)}):[]});cc(nu,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=WZ(i,a),o=r+xo(t.cx,i,i/2),l=n+xo(t.cy,a,a/2),u=xo(t.innerRadius,s,0),A=xo(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:A,maxRadius:d}});cc(nu,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?li(li({},e.type.defaultProps),e.props):e.props,i=Zw.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,u=r.dataKey,A=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),p=Zw.parseCoordinateOfPie(r,n),m=Zw.parseDeltaAngle(s,o),v=Math.abs(m),g=u;On(u)&&On(d)?(qc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):On(u)&&(qc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=d);var y=i.filter(function(B){return ya(B,g,0)!==0}).length,x=(v>=360?y:y-1)*l,C=v-y*h-x,E=i.reduce(function(B,N){var D=ya(N,g,0);return B+(Tt(D)?D:0)},0),j;if(E>0){var _;j=i.map(function(B,N){var D=ya(B,g,0),T=ya(B,A,N),O=(Tt(D)?D:0)/E,L;N?L=_.endAngle+bo(m)*l*(D!==0?1:0):L=s;var H=L+bo(m)*((D!==0?h:0)+O*C),q=(L+H)/2,Y=(p.innerRadius+p.outerRadius)/2,ee=[{name:T,value:D,payload:B,dataKey:g,type:f}],K=di(p.cx,p.cy,Y,q);return _=li(li(li({percent:O,cornerRadius:a,name:T,tooltipPayload:ee,midAngle:q,middleRadius:Y,tooltipPosition:K},B),p),{},{value:ya(B,g),startAngle:L,endAngle:H,payload:B,paddingAngle:bo(m)*l}),_})}return li(li({},p),{},{sectors:j,data:i})});var XMe=Math.ceil,JMe=Math.max;function ZMe(t,e,n,r){for(var i=-1,a=JMe(XMe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var eRe=ZMe,tRe=DJ,d7=1/0,nRe=17976931348623157e292;function rRe(t){if(!t)return t===0?t:0;if(t=tRe(t),t===d7||t===-d7){var e=t<0?-1:1;return e*nRe}return t===t?t:0}var mee=rRe,iRe=eRe,aRe=AE,$B=mee;function sRe(t){return function(e,n,r){return r&&typeof r!="number"&&aRe(e,n,r)&&(n=r=void 0),e=$B(e),n===void 0?(n=e,e=0):n=$B(n),r=r===void 0?e<n?1:-1:$B(r),iRe(e,n,r,t)}}var oRe=sRe,lRe=oRe,cRe=lRe(),uRe=cRe;const JC=Rr(uRe);function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function f7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(n),!0).forEach(function(r){gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gee(t,e,n){return e=ARe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ARe(t){var e=dRe(t,"string");return Bb(e)=="symbol"?e:e+""}function dRe(t,e){if(Bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fRe=["Webkit","Moz","O","ms"],hRe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=fRe.reduce(function(a,s){return h7(h7({},a),{},gee({},s+r,n))},{});return i[e]=n,i};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZC.apply(this,arguments)}function p7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p7(Object(n),!0).forEach(function(r){vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yee(r.key),r)}}function mRe(t,e,n){return e&&m7(t.prototype,e),n&&m7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gRe(t,e,n){return e=eS(e),vRe(t,vee()?Reflect.construct(e,n||[],eS(t).constructor):e.apply(t,n))}function vRe(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yRe(t)}function yRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vee=function(){return!!t})()}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(t)}function bRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hT(t,e)}function vl(t,e,n){return e=yee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=xRe(t,"string");return Pg(e)=="symbol"?e:e+""}function xRe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wRe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Xv().domain(JC(0,l)).range([a,a+s-o]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:A}},g7=function(e){return e.changedTouches&&!!e.changedTouches.length},Dg=function(t){function e(n){var r;return pRe(this,e),r=gRe(this,e,[n]),vl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),vl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vl(r,"handleSlideDragStart",function(i){var a=g7(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bRe(e,t),mRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,A=u.length-1,d=Math.min(i,a),f=Math.max(i,a),h=e.getIndexInRange(s,d),p=e.getIndexInRange(s,f);return{startIndex:h-h%l,endIndex:p===A?A:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=ya(a[r],o,r);return Nn(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,A=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,p=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,u+A-d-o,u+A-d-s):m<0&&(m=Math.max(m,u-s,u-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==f||v.endIndex!==h)&&p&&p(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=g7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],A=this.props,d=A.x,f=A.width,h=A.travellerWidth,p=A.onChange,m=A.gap,v=A.data,g={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,d+f-h-u):y<0&&(y=Math.max(y,d-u)),g[s]=u+y;var x=this.getIndex(g),C=x.startIndex,E=x.endIndex,j=function(){var B=v.length-1;return s==="startX"&&(o>l?C%m===0:E%m===0)||o<l&&E===B||s==="endX"&&(o>l?E%m===0:C%m===0)||o>l&&E===B};this.setState(vl(vl({},s,u+y),"brushMoveStartX",r.pageX),function(){p&&j()&&p(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,A=this.state[i],d=o.indexOf(A);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var h=o[f];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(vl({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return be.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,A=r.padding,d=P.Children.only(u);return d?be.cloneElement(d,{x:i,y:a,width:s,height:o,margin:A,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,A=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,p=l.data,m=l.startIndex,v=l.endIndex,g=Math.max(r,this.props.x),y=KB(KB({},yn(this.props,!1)),{},{x:g,y:u,width:A,height:d}),x=h||"Min value: ".concat((a=p[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=p[v])===null||s===void 0?void 0:s.name);return be.createElement(ir,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,A=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:A,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,A=this.state,d=A.startX,f=A.endX,h=5,p={pointerEvents:"none",fill:u};return be.createElement(ir,{className:"recharts-brush-texts"},be.createElement(Kh,ZC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:s+o/2},p),this.getTextOfTick(i)),be.createElement(Kh,ZC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:s+o/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,A=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,p=f.endX,m=f.isTextActive,v=f.isSlideMoving,g=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!Tt(o)||!Tt(l)||!Tt(u)||!Tt(A)||u<=0||A<=0)return null;var x=Hn("recharts-brush",a),C=be.Children.count(s)===1,E=hRe("userSelect","none");return be.createElement(ir,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(m||v||g||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return be.createElement(be.Fragment,null,be.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),be.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),be.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return be.isValidElement(r)?a=be.cloneElement(r,i):Nn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,A=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return KB({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?wRe({data:a,width:s,x:o,travellerWidth:l,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(P.PureComponent);vl(Dg,"displayName","Brush");vl(Dg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CRe=M3;function SRe(t,e){var n;return CRe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var ERe=SRe,_Re=oJ,BRe=Yu,NRe=ERe,jRe=qo,IRe=AE;function TRe(t,e,n){var r=jRe(t)?_Re:NRe;return n&&IRe(t,e,n)&&(e=void 0),r(t,BRe(e))}var kRe=TRe;const PRe=Rr(kRe);var Uu=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},v7=jJ;function DRe(t,e,n){e=="__proto__"&&v7?v7(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ORe=DRe,FRe=ORe,LRe=BJ,MRe=Yu;function RRe(t,e){var n={};return e=MRe(e),LRe(t,function(r,i,a){FRe(n,i,e(r,i,a))}),n}var URe=RRe;const QRe=Rr(URe);function HRe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var zRe=HRe,VRe=M3;function $Re(t,e){var n=!0;return VRe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var KRe=$Re,WRe=zRe,GRe=KRe,qRe=Yu,YRe=qo,XRe=AE;function JRe(t,e,n){var r=YRe(t)?WRe:GRe;return n&&XRe(t,e,n)&&(e=void 0),r(t,qRe(e))}var ZRe=JRe;const bee=Rr(ZRe);var e6e=["x","y"];function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pT.apply(this,arguments)}function y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y7(Object(n),!0).forEach(function(r){t6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t6e(t,e,n){return e=n6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n6e(t){var e=r6e(t,"string");return Nb(e)=="symbol"?e:e+""}function r6e(t,e){if(Nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i6e(t,e){if(t==null)return{};var n=a6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s6e(t,e){var n=t.x,r=t.y,i=i6e(t,e6e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),A=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return ev(ev(ev(ev(ev({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:A,width:f,name:e.name,radius:e.radius})}function b7(t){return be.createElement(fee,pT({shapeType:"rectangle",propTransformer:s6e,activeClassName:"recharts-active-bar"},t))}var o6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Tt(r)||kwe(r);return a?e(r,i):(a||qh(),n)}},l6e=["value","background"],xee;function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function c6e(t,e){if(t==null)return{};var n=u6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(r){Dd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cee(r.key),r)}}function d6e(t,e,n){return e&&w7(t.prototype,e),n&&w7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f6e(t,e,n){return e=nS(e),h6e(t,wee()?Reflect.construct(e,n||[],nS(t).constructor):e.apply(t,n))}function h6e(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p6e(t)}function p6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nS(t)}function m6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mT(t,e)}function Dd(t,e,n){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=g6e(t,"string");return Og(e)=="symbol"?e:e+""}function g6e(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ja=function(t){function e(){var n;A6e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=f6e(this,e,[].concat(i)),Dd(n,"state",{isAnimationFinished:!1}),Dd(n,"id",fp("recharts-bar-")),Dd(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Dd(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return m6e(e,t),d6e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,A=yn(this.props,!1);return r&&r.map(function(d,f){var h=f===l,p=h?u:s,m=Ba(Ba(Ba({},A),d),{},{isActive:h,option:p,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return be.createElement(ir,tS({className:"recharts-bar-rectangle"},$h(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),be.createElement(b7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,A=i.animationEasing,d=i.animationId,f=this.state.prevData;return be.createElement(tu,{begin:l,duration:u,isActive:o,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=a.map(function(v,g){var y=f&&f[g];if(y){var x=Ga(y.x,v.x),C=Ga(y.y,v.y),E=Ga(y.width,v.width),j=Ga(y.height,v.height);return Ba(Ba({},v),{},{x:x(p),y:C(p),width:E(p),height:j(p)})}if(s==="horizontal"){var _=Ga(0,v.height),B=_(p);return Ba(Ba({},v),{},{y:v.y+v.height-B,height:B})}var N=Ga(0,v.width),D=N(p);return Ba(Ba({},v),{},{width:D})});return be.createElement(ir,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Wh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=yn(this.props.background,!1);return a.map(function(u,A){u.value;var d=u.background,f=c6e(u,l6e);if(!d)return null;var h=Ba(Ba(Ba(Ba(Ba({},f),{},{fill:"#eee"},d),l),$h(r.props,u,A)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:A,className:"recharts-bar-background-rectangle"});return be.createElement(b7,tS({key:"background-bar-".concat(A),option:r.props.background,isActive:A===o},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,A=a.children,d=Il(A,bx);if(!d)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,h=function(v,g){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ya(v,g)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ir,p,d.map(function(m){return be.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,A=r.top,d=r.width,f=r.height,h=r.isAnimationActive,p=r.background,m=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=Hn("recharts-bar",s),y=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,C=y||x,E=On(m)?this.id:m;return be.createElement(ir,{className:g},y||x?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(E)},be.createElement("rect",{x:y?u:u-d/2,y:x?A:A-f/2,width:y?d:d*2,height:x?f:f*2}))):null,be.createElement(ir,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!h||v)&&$o.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);xee=Ja;Dd(Ja,"displayName","Bar");Dd(Ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Dd(Ja,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,f=t.offset,h=YDe(r,n);if(!h)return null;var p=e.layout,m=n.type.defaultProps,v=m!==void 0?Ba(Ba({},m),n.props):n.props,g=v.dataKey,y=v.children,x=v.minPointSize,C=p==="horizontal"?s:a,E=u?C.scale.domain():null,j=r3e({numericAxis:C}),_=Il(y,gc),B=d.map(function(N,D){var T,O,L,H,q,Y;u?T=XDe(u[A+D],E):(T=ya(N,g),Array.isArray(T)||(T=[j,T]));var ee=o6e(x,xee.defaultProps.minPointSize)(T[1],D);if(p==="horizontal"){var K,te=[s.scale(T[0]),s.scale(T[1])],le=te[0],se=te[1];O=AQ({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:N,index:D}),L=(K=se??le)!==null&&K!==void 0?K:void 0,H=h.size;var M=le-se;if(q=Number.isNaN(M)?0:M,Y={x:O,y:s.y,width:H,height:s.height},Math.abs(ee)>0&&Math.abs(q)<Math.abs(ee)){var $=bo(q||ee)*(Math.abs(ee)-Math.abs(q));L-=$,q+=$}}else{var J=[a.scale(T[0]),a.scale(T[1])],ne=J[0],he=J[1];if(O=ne,L=AQ({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:N,index:D}),H=he-ne,q=h.size,Y={x:a.x,y:L,width:a.width,height:q},Math.abs(ee)>0&&Math.abs(H)<Math.abs(ee)){var we=bo(H||ee)*(Math.abs(ee)-Math.abs(H));H+=we}}return Ba(Ba(Ba({},N),{},{x:O,y:L,width:H,height:q,value:u?T:T[1],payload:N,background:Y},_&&_[D]&&_[D].props),{},{tooltipPayload:[$Z(n,N)],tooltipPosition:{x:O+H/2,y:L+q/2}})});return Ba({data:B,layout:p},f)});function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function v6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,See(r.key),r)}}function y6e(t,e,n){return e&&C7(t.prototype,e),n&&C7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NE(t,e,n){return e=See(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=b6e(t,"string");return jb(e)=="symbol"?e:e+""}function b6e(t,e){if(jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fO=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,A=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!bl(u,Ja);return A.reduce(function(h,p){var m=n[p],v=m.orientation,g=m.domain,y=m.padding,x=y===void 0?{}:y,C=m.mirror,E=m.reversed,j="".concat(v).concat(C?"Mirror":""),_,B,N,D,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=g[1]-g[0],L=1/0,H=m.categoricalDomain.sort(Owe);if(H.forEach(function(J,ne){ne>0&&(L=Math.min((J||0)-(H[ne-1]||0),L))}),Number.isFinite(L)){var q=L/O,Y=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(_=q*Y/2),m.padding==="no-gap"){var ee=xo(e.barCategoryGap,q*Y),K=q*Y/2;_=K-ee-(K-ee)/Y*ee}}}i==="xAxis"?B=[r.left+(x.left||0)+(_||0),r.left+r.width-(x.right||0)-(_||0)]:i==="yAxis"?B=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(_||0),r.top+r.height-(x.bottom||0)-(_||0)]:B=m.range,E&&(B=[B[1],B[0]]);var te=QZ(m,a,f),le=te.scale,se=te.realScaleType;le.domain(g).range(B),HZ(le);var M=zZ(le,zc(zc({},m),{},{realScaleType:se}));i==="xAxis"?(T=v==="top"&&!C||v==="bottom"&&C,N=r.left,D=d[j]-T*m.height):i==="yAxis"&&(T=v==="left"&&!C||v==="right"&&C,N=d[j]-T*m.width,D=r.top);var $=zc(zc(zc({},m),M),{},{realScaleType:se,x:N,y:D,scale:le,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return $.bandSize=UC($,M),!m.hide&&i==="xAxis"?d[j]+=(T?-1:1)*$.height:m.hide||(d[j]+=(T?-1:1)*$.width),zc(zc({},h),{},NE({},p,$))},{})},Eee=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},x6e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Eee({x:n,y:r},{x:i,y:a})},_ee=function(){function t(e){v6e(this,t),this.scale=e}return y6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();NE(_ee,"EPS",1e-4);var hO=function(e){var n=Object.keys(e).reduce(function(r,i){return zc(zc({},r),{},NE({},i,_ee.create(e[i])))},{});return zc(zc({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return QRe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return bee(i,function(a,s){return n[s].isInRange(a)})}})};function w6e(t){return(t%180+180)%180}var C6e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=w6e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},S6e=Yu,E6e=px,_6e=cE;function B6e(t){return function(e,n,r){var i=Object(e);if(!E6e(e)){var a=S6e(n);e=_6e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var N6e=B6e,j6e=mee;function I6e(t){var e=j6e(t),n=e%1;return e===e?n?e-n:e:0}var T6e=I6e,k6e=xJ,P6e=Yu,D6e=T6e,O6e=Math.max;function F6e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:D6e(n);return i<0&&(i=O6e(r+i,0)),k6e(t,P6e(e),i)}var L6e=F6e,M6e=N6e,R6e=L6e,U6e=M6e(R6e),Q6e=U6e;const H6e=Rr(Q6e);var z6e=M1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pO=P.createContext(void 0),mO=P.createContext(void 0),Bee=P.createContext(void 0),Nee=P.createContext({}),jee=P.createContext(void 0),Iee=P.createContext(0),Tee=P.createContext(0),E7=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,A=z6e(a);return be.createElement(pO.Provider,{value:r},be.createElement(mO.Provider,{value:i},be.createElement(Nee.Provider,{value:a},be.createElement(Bee.Provider,{value:A},be.createElement(jee.Provider,{value:s},be.createElement(Iee.Provider,{value:u},be.createElement(Tee.Provider,{value:l},o)))))))},V6e=function(){return P.useContext(jee)},kee=function(e){var n=P.useContext(pO);n==null&&qh();var r=n[e];return r==null&&qh(),r},$6e=function(){var e=P.useContext(pO);return Nd(e)},K6e=function(){var e=P.useContext(mO),n=H6e(e,function(r){return bee(r.domain,Number.isFinite)});return n||Nd(e)},Pee=function(e){var n=P.useContext(mO);n==null&&qh();var r=n[e];return r==null&&qh(),r},W6e=function(){var e=P.useContext(Bee);return e},G6e=function(){return P.useContext(Nee)},gO=function(){return P.useContext(Tee)},vO=function(){return P.useContext(Iee)};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oee(r.key),r)}}function X6e(t,e,n){return e&&Y6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J6e(t,e,n){return e=rS(e),Z6e(t,Dee()?Reflect.construct(e,n||[],rS(t).constructor):e.apply(t,n))}function Z6e(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eUe(t)}function eUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dee=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function tUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gT(t,e)}function _7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_7(Object(n),!0).forEach(function(r){yO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yO(t,e,n){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oee(t){var e=nUe(t,"string");return Fg(e)=="symbol"?e:e+""}function nUe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rUe(t,e){return oUe(t)||sUe(t,e)||aUe(t,e)||iUe()}function iUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aUe(t,e){if(t){if(typeof t=="string")return N7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N7(t,e)}}function N7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function oUe(t){if(Array.isArray(t))return t}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(this,arguments)}var lUe=function(e,n){var r;return be.isValidElement(e)?r=be.cloneElement(e,n):Nn(e)?r=e(n):r=be.createElement("line",vT({},n,{className:"recharts-reference-line-line"})),r},cUe=function(e,n,r,i,a,s,o,l,u){var A=a.x,d=a.y,f=a.width,h=a.height;if(r){var p=u.y,m=e.y.apply(p,{position:s});if(Uu(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:A+f,y:m},{x:A,y:m}];return l==="left"?v.reverse():v}if(n){var g=u.x,y=e.x.apply(g,{position:s});if(Uu(u,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:d+h},{x:y,y:d}];return o==="top"?x.reverse():x}if(i){var C=u.segment,E=C.map(function(j){return e.apply(j,{position:s})});return Uu(u,"discard")&&PRe(E,function(j){return!e.isInRange(j)})?null:E}return null};function uUe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=V6e(),A=kee(i),d=Pee(a),f=W6e();if(!u||!f)return null;qc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=hO({x:A.scale,y:d.scale}),p=Xa(e),m=Xa(n),v=r&&r.length===2,g=cUe(h,p,m,v,f,t.position,A.orientation,d.orientation,t);if(!g)return null;var y=rUe(g,2),x=y[0],C=x.x,E=x.y,j=y[1],_=j.x,B=j.y,N=Uu(t,"hidden")?"url(#".concat(u,")"):void 0,D=B7(B7({clipPath:N},yn(t,!0)),{},{x1:C,y1:E,x2:_,y2:B});return be.createElement(ir,{className:Hn("recharts-reference-line",o)},lUe(s,D),os.renderCallByParent(t,x6e({x1:C,y1:E,x2:_,y2:B})))}var wx=function(t){function e(){return q6e(this,e),J6e(this,e,arguments)}return tUe(e,t),X6e(e,[{key:"render",value:function(){return be.createElement(uUe,this.props)}}])}(be.Component);yO(wx,"displayName","ReferenceLine");yO(wx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(this,arguments)}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function j7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j7(Object(n),!0).forEach(function(r){jE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lee(r.key),r)}}function fUe(t,e,n){return e&&dUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hUe(t,e,n){return e=iS(e),pUe(t,Fee()?Reflect.construct(e,n||[],iS(t).constructor):e.apply(t,n))}function pUe(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mUe(t)}function mUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fee=function(){return!!t})()}function iS(t){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iS(t)}function gUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bT(t,e)}function jE(t,e,n){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=vUe(t,"string");return Lg(e)=="symbol"?e:e+""}function vUe(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yUe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=hO({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Uu(e,"discard")&&!s.isInRange(o)?null:o},IE=function(t){function e(){return AUe(this,e),hUe(this,e,arguments)}return gUe(e,t),fUe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=Xa(i),A=Xa(a);if(qc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=yUe(this.props);if(!d)return null;var f=d.x,h=d.y,p=this.props,m=p.shape,v=p.className,g=Uu(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=I7(I7({clipPath:g},yn(this.props,!0)),{},{cx:f,cy:h});return be.createElement(ir,{className:Hn("recharts-reference-dot",v)},e.renderDot(m,y),os.renderCallByParent(this.props,{x:f-s,y:h-s,width:2*s,height:2*s}))}}])}(be.Component);jE(IE,"displayName","ReferenceDot");jE(IE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jE(IE,"renderDot",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Nn(t)?n=t(e):n=be.createElement(xx,yT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xT.apply(this,arguments)}function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function T7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(n),!0).forEach(function(r){TE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ree(r.key),r)}}function wUe(t,e,n){return e&&xUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CUe(t,e,n){return e=aS(e),SUe(t,Mee()?Reflect.construct(e,n||[],aS(t).constructor):e.apply(t,n))}function SUe(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EUe(t)}function EUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!t})()}function aS(t){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aS(t)}function _Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wT(t,e)}function wT(t,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wT(t,e)}function TE(t,e,n){return e=Ree(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=BUe(t,"string");return Mg(e)=="symbol"?e:e+""}function BUe(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NUe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,A=a.xAxis,d=a.yAxis;if(!A||!d)return null;var f=hO({x:A.scale,y:d.scale}),h={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Uu(a,"discard")&&(!f.isInRange(h)||!f.isInRange(p))?null:Eee(h,p)},kE=function(t){function e(){return bUe(this,e),CUe(this,e,arguments)}return _Ue(e,t),wUe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,A=r.clipPathId;qc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xa(i),f=Xa(a),h=Xa(s),p=Xa(o),m=this.props.shape;if(!d&&!f&&!h&&!p&&!m)return null;var v=NUe(d,f,h,p,this.props);if(!v&&!m)return null;var g=Uu(this.props,"hidden")?"url(#".concat(A,")"):void 0;return be.createElement(ir,{className:Hn("recharts-reference-area",l)},e.renderRect(m,k7(k7({clipPath:g},yn(this.props,!0)),v)),os.renderCallByParent(this.props,v))}}])}(be.Component);TE(kE,"displayName","ReferenceArea");TE(kE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});TE(kE,"renderRect",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Nn(t)?n=t(e):n=be.createElement(dO,xT({},e,{className:"recharts-reference-area-rect"})),n});function Uee(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function jUe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return C6e(r,n)}function IUe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function sS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function TUe(t,e){return Uee(t,e+1)}function kUe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,A=s,d=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:Uee(r,u)};var m=l,v,g=function(){return v===void 0&&(v=n(p,m)),v},y=p.coordinate,x=l===0||sS(t,y,g,A,o);x||(l=0,A=s,u+=1),x&&(A=y+t*(g()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function P7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(n),!0).forEach(function(r){PUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PUe(t,e,n){return e=DUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DUe(t){var e=OUe(t,"string");return Ib(e)=="symbol"?e:e+""}function OUe(t,e){if(Ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FUe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(f){var h=a[f],p,m=function(){return p===void 0&&(p=n(h,f)),p};if(f===s-1){var v=t*(h.coordinate+t*m()/2-l);a[f]=h=Zs(Zs({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[f]=h=Zs(Zs({},h),{},{tickCoord:h.coordinate});var g=sS(t,h.tickCoord,m,o,l);g&&(l=h.tickCoord-t*(m()/2+i),a[f]=Zs(Zs({},h),{},{isShow:!0}))},A=s-1;A>=0;A--)u(A);return a}function LUe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var A=r[o-1],d=n(A,o-1),f=t*(A.coordinate+t*d/2-u);s[o-1]=A=Zs(Zs({},A),{},{tickCoord:f>0?A.coordinate-f*t:A.coordinate});var h=sS(t,A.tickCoord,function(){return d},l,u);h&&(u=A.tickCoord-t*(d/2+i),s[o-1]=Zs(Zs({},A),{},{isShow:!0}))}for(var p=a?o-1:o,m=function(y){var x=s[y],C,E=function(){return C===void 0&&(C=n(x,y)),C};if(y===0){var j=t*(x.coordinate-t*E()/2-l);s[y]=x=Zs(Zs({},x),{},{tickCoord:j<0?x.coordinate-j*t:x.coordinate})}else s[y]=x=Zs(Zs({},x),{},{tickCoord:x.coordinate});var _=sS(t,x.tickCoord,E,l,u);_&&(l=x.tickCoord+t*(E()/2+i),s[y]=Zs(Zs({},x),{},{isShow:!0}))},v=0;v<p;v++)m(v);return s}function bO(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Tt(l)||Cf.isSsr)return TUe(i,typeof l=="number"&&Tt(l)?l:0);var f=[],h=o==="top"||o==="bottom"?"width":"height",p=A&&h==="width"?Yv(A,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(x,C){var E=Nn(u)?u(x.value,C):x.value;return h==="width"?jUe(Yv(E,{fontSize:e,letterSpacing:n}),p,d):Yv(E,{fontSize:e,letterSpacing:n})[h]},v=i.length>=2?bo(i[1].coordinate-i[0].coordinate):1,g=IUe(a,v,h);return l==="equidistantPreserveStart"?kUe(v,g,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=LUe(v,g,m,i,s,l==="preserveStartEnd"):f=FUe(v,g,m,i,s),f.filter(function(y){return y.isShow}))}var MUe=["viewBox"],RUe=["viewBox"],UUe=["ticks"];function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function D7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(n),!0).forEach(function(r){xO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WB(t,e){if(t==null)return{};var n=QUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hee(r.key),r)}}function zUe(t,e,n){return e&&O7(t.prototype,e),n&&O7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VUe(t,e,n){return e=oS(e),$Ue(t,Qee()?Reflect.construct(e,n||[],oS(t).constructor):e.apply(t,n))}function $Ue(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KUe(t)}function KUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qee=function(){return!!t})()}function oS(t){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oS(t)}function WUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CT(t,e)}function CT(t,e){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CT(t,e)}function xO(t,e,n){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hee(t){var e=GUe(t,"string");return Rg(e)=="symbol"?e:e+""}function GUe(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var w0=function(t){function e(n){var r;return HUe(this,e),r=VUe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return WUe(e,t),zUe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=WB(r,MUe),o=this.props,l=o.viewBox,u=WB(o,RUe);return!Lm(a,l)||!Lm(s,u)||!Lm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,A=i.tickSize,d=i.mirror,f=i.tickMargin,h,p,m,v,g,y,x=d?-1:1,C=r.tickSize||A,E=Tt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=p=r.coordinate,v=s+ +!d*l,m=v-x*C,y=m-x*f,g=E;break;case"left":m=v=r.coordinate,p=a+ +!d*o,h=p-x*C,g=h-x*f,y=E;break;case"right":m=v=r.coordinate,p=a+ +d*o,h=p+x*C,g=h+x*f,y=E;break;default:h=p=r.coordinate,v=s+ +d*l,m=v+x*C,y=m+x*f,g=E;break}return{line:{x1:h,y1:m,x2:p,y2:v},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,A=r.axisLine,d=Va(Va(Va({},yn(this.props,!1)),yn(A,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=Va(Va({},d),{},{x1:i,y1:a+f*o,x2:i+s,y2:a+f*o})}else{var h=+(l==="left"&&!u||l==="right"&&u);d=Va(Va({},d),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return be.createElement("line",wm({},d,{className:Hn("recharts-cartesian-axis-line",jl(A,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,A=o.tick,d=o.tickFormatter,f=o.unit,h=bO(Va(Va({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=yn(this.props,!1),g=yn(A,!1),y=Va(Va({},v),{},{fill:"none"},yn(l,!1)),x=h.map(function(C,E){var j=s.getTickLineCoord(C),_=j.line,B=j.tick,N=Va(Va(Va(Va({textAnchor:p,verticalAnchor:m},v),{},{stroke:"none",fill:u},g),B),{},{index:E,payload:C,visibleTicksCount:h.length,tickFormatter:d});return be.createElement(ir,wm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},$h(s.props,C,E)),l&&be.createElement("line",wm({},y,_,{className:Hn("recharts-cartesian-axis-tick-line",jl(l,"className"))})),A&&e.renderTickItem(A,N,"".concat(Nn(d)?d(C.value,E):C.value).concat(f||"")))});return be.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,A=i.hide;if(A)return null;var d=this.props,f=d.ticks,h=WB(d,UUe),p=f;return Nn(l)&&(p=f&&f.length>0?l(this.props):l(h)),s<=0||o<=0||!p||!p.length?null:be.createElement(ir,{className:Hn("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),os.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=Hn(i.className,"recharts-cartesian-axis-tick-value");return be.isValidElement(r)?s=be.cloneElement(r,Va(Va({},i),{},{className:o})):Nn(r)?s=r(Va(Va({},i),{},{className:o})):s=be.createElement(Kh,wm({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(P.Component);xO(w0,"displayName","CartesianAxis");xO(w0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qUe=["x1","y1","x2","y2","key"],YUe=["offset"];function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function F7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F7(Object(n),!0).forEach(function(r){XUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XUe(t,e,n){return e=JUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JUe(t){var e=ZUe(t,"string");return Yh(e)=="symbol"?e:e+""}function ZUe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function L7(t,e){if(t==null)return{};var n=e8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var t8e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return be.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zee(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Nn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=L7(e,qUe),u=yn(l,!1);u.offset;var A=L7(u,YUe);n=be.createElement("line",mh({},A,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function n8e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=io(io({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return zee(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function r8e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=io(io({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return zee(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function i8e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var A=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==A[0]&&A.unshift(0);var d=A.map(function(f,h){var p=!A[h+1],m=p?i+s-f:A[h+1]-f;if(m<=0)return null;var v=h%e.length;return be.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function a8e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var A=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==A[0]&&A.unshift(0);var d=A.map(function(f,h){var p=!A[h+1],m=p?a+o-f:A[h+1]-f;if(m<=0)return null;var v=h%r.length;return be.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var s8e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return UZ(bO(io(io(io({},w0.defaultProps),r),{},{ticks:_A(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},o8e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return UZ(bO(io(io(io({},w0.defaultProps),r),{},{ticks:_A(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Tp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cu(t){var e,n,r,i,a,s,o=gO(),l=vO(),u=G6e(),A=io(io({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Tp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Tp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Tp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Tp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Tp.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Tp.verticalFill,x:Tt(t.x)?t.x:u.left,y:Tt(t.y)?t.y:u.top,width:Tt(t.width)?t.width:u.width,height:Tt(t.height)?t.height:u.height}),d=A.x,f=A.y,h=A.width,p=A.height,m=A.syncWithTicks,v=A.horizontalValues,g=A.verticalValues,y=$6e(),x=K6e();if(!Tt(h)||h<=0||!Tt(p)||p<=0||!Tt(d)||d!==+d||!Tt(f)||f!==+f)return null;var C=A.verticalCoordinatesGenerator||s8e,E=A.horizontalCoordinatesGenerator||o8e,j=A.horizontalPoints,_=A.verticalPoints;if((!j||!j.length)&&Nn(E)){var B=v&&v.length,N=E({yAxis:x?io(io({},x),{},{ticks:B?v:x.ticks}):void 0,width:o,height:l,offset:u},B?!0:m);qc(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yh(N),"]")),Array.isArray(N)&&(j=N)}if((!_||!_.length)&&Nn(C)){var D=g&&g.length,T=C({xAxis:y?io(io({},y),{},{ticks:D?g:y.ticks}):void 0,width:o,height:l,offset:u},D?!0:m);qc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yh(T),"]")),Array.isArray(T)&&(_=T)}return be.createElement("g",{className:"recharts-cartesian-grid"},be.createElement(t8e,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),be.createElement(n8e,mh({},A,{offset:u,horizontalPoints:j,xAxis:y,yAxis:x})),be.createElement(r8e,mh({},A,{offset:u,verticalPoints:_,xAxis:y,yAxis:x})),be.createElement(i8e,mh({},A,{horizontalPoints:j})),be.createElement(a8e,mh({},A,{verticalPoints:_})))}cu.displayName="CartesianGrid";var l8e=["type","layout","connectNulls","ref"],c8e=["key"];function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function M7(t,e){if(t==null)return{};var n=u8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}function R7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(n),!0).forEach(function(r){Vc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kp(t){return h8e(t)||f8e(t)||d8e(t)||A8e()}function A8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function f8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h8e(t){if(Array.isArray(t))return ST(t)}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ee(r.key),r)}}function m8e(t,e,n){return e&&U7(t.prototype,e),n&&U7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g8e(t,e,n){return e=lS(e),v8e(t,Vee()?Reflect.construct(e,n||[],lS(t).constructor):e.apply(t,n))}function v8e(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y8e(t)}function y8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vee=function(){return!!t})()}function lS(t){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lS(t)}function b8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ET(t,e)}function Vc(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=x8e(t,"string");return Ug(e)=="symbol"?e:e+""}function x8e(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=function(t){function e(){var n;p8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=g8e(this,e,[].concat(i)),Vc(n,"state",{isAnimationFinished:!0,totalLength:0}),Vc(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Vc(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(g,y){return g+y});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var A=Math.floor(s/u),d=s%u,f=o-s,h=[],p=0,m=0;p<l.length;m+=l[p],++p)if(m+l[p]>d){h=[].concat(kp(l.slice(0,p)),[d-m]);break}var v=h.length%2===0?[0,f]:[f];return[].concat(kp(e.repeat(l,A)),kp(h),v).map(function(g){return"".concat(g,"px")}).join(", ")}),Vc(n,"id",fp("recharts-line-")),Vc(n,"pathRef",function(s){n.mainCurve=s}),Vc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Vc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return b8e(e,t),m8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,A=a.children,d=Il(A,bx);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:ya(m.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ir,h,d.map(function(p){return be.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,A=o.dataKey,d=yn(this.props,!1),f=yn(l,!0),h=u.map(function(m,v){var g=ml(ml(ml({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:A,payload:m.payload,points:u});return e.renderDotItem(l,g)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return be.createElement(ir,ny({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,A=o.connectNulls;o.ref;var d=M7(o,l8e),f=ml(ml(ml({},yn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:A});return be.createElement(Ih,ny({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,A=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=s.animateNewValues,m=s.width,v=s.height,g=this.state,y=g.prevPoints,x=g.totalLength;return be.createElement(tu,{begin:A,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(y){var j=y.length/o.length,_=o.map(function(O,L){var H=Math.floor(L*j);if(y[H]){var q=y[H],Y=Ga(q.x,O.x),ee=Ga(q.y,O.y);return ml(ml({},O),{},{x:Y(E),y:ee(E)})}if(p){var K=Ga(m*2,O.x),te=Ga(v/2,O.y);return ml(ml({},O),{},{x:K(E),y:te(E)})}return ml(ml({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(_,r,i)}var B=Ga(0,x),N=B(E),D;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});D=a.getStrokeDasharray(N,x,T)}else D=a.generateSimpleStrokeDasharray(x,N);return a.renderCurveStatically(o,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,A=l.totalLength;return o&&s&&s.length&&(!u&&A>0||!Wh(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,A=i.yAxis,d=i.top,f=i.left,h=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=o.length===1,x=Hn("recharts-line",l),C=u&&u.allowDataOverflow,E=A&&A.allowDataOverflow,j=C||E,_=On(v)?this.id:v,B=(r=yn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=B.r,D=N===void 0?3:N,T=B.strokeWidth,O=T===void 0?2:T,L=kX(s)?s:{},H=L.clipDot,q=H===void 0?!0:H,Y=D*2+O;return be.createElement(ir,{className:x},C||E?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:C?f:f-h/2,y:E?d:d-p/2,width:C?h:h*2,height:E?p:p*2})),!q&&be.createElement("clipPath",{id:"clipPath-dots-".concat(_)},be.createElement("rect",{x:f-Y/2,y:d-Y/2,width:h+Y,height:p+Y}))):null,!y&&this.renderCurve(j,_),this.renderErrorBar(j,_),(y||s)&&this.renderDots(j,q,_),(!m||g)&&$o.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(kp(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(kp(s),kp(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(be.isValidElement(r))a=be.cloneElement(r,i);else if(Nn(r))a=r(i);else{var s=i.key,o=M7(i,c8e),l=Hn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=be.createElement(xx,ny({key:s},o,{className:l}))}return a}}])}(P.PureComponent);Vc(ru,"displayName","Line");Vc(ru,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Cf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Vc(ru,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,A=e.layout,d=l.map(function(f,h){var p=ya(f,s);return A==="horizontal"?{x:RC({axis:n,ticks:i,bandSize:o,entry:f,index:h}),y:On(p)?null:r.scale(p),value:p,payload:f}:{x:On(p)?null:n.scale(p),y:RC({axis:r,ticks:a,bandSize:o,entry:f,index:h}),value:p,payload:f}});return ml({points:d,layout:A},u)});var w8e=["layout","type","stroke","connectNulls","isRange","ref"],C8e=["key"],Kee;function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function Wee(t,e){if(t==null)return{};var n=S8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}function Q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(n),!0).forEach(function(r){Iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qee(r.key),r)}}function _8e(t,e,n){return e&&H7(t.prototype,e),n&&H7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B8e(t,e,n){return e=cS(e),N8e(t,Gee()?Reflect.construct(e,n||[],cS(t).constructor):e.apply(t,n))}function N8e(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j8e(t)}function j8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gee=function(){return!!t})()}function cS(t){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cS(t)}function I8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_T(t,e)}function _T(t,e){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_T(t,e)}function Iu(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=T8e(t,"string");return Qg(e)=="symbol"?e:e+""}function T8e(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ll=function(t){function e(){var n;E8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=B8e(this,e,[].concat(i)),Iu(n,"state",{isAnimationFinished:!0}),Iu(n,"id",fp("recharts-area-")),Iu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nn(s)&&s()}),Iu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nn(s)&&s()}),n}return I8e(e,t),_8e(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,A=l.points,d=l.dataKey,f=yn(this.props,!1),h=yn(u,!0),p=A.map(function(v,g){var y=yd(yd(yd({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:A});return e.renderDotItem(u,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return be.createElement(ir,gh({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,A=r*Math.abs(l-u),d=Pd(s.map(function(f){return f.y||0}));return Tt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Pd(a.map(function(f){return f.y||0})),d)),Tt(d)?be.createElement("rect",{x:l<u?l:l-A,y:0,width:A,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,A=r*Math.abs(l-u),d=Pd(s.map(function(f){return f.x||0}));return Tt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Pd(a.map(function(f){return f.x||0})),d)),Tt(d)?be.createElement("rect",{x:0,y:l<u?l:l-A,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(A)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,u=o.type,A=o.stroke,d=o.connectNulls,f=o.isRange;o.ref;var h=Wee(o,w8e);return be.createElement(ir,{clipPath:a?"url(#clipPath-".concat(s,")"):null},be.createElement(Ih,gh({},yn(h,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),A!=="none"&&be.createElement(Ih,gh({},yn(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),A!=="none"&&f&&be.createElement(Ih,gh({},yn(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,A=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=this.state,m=p.prevPoints,v=p.prevBaseLine;return be.createElement(tu,{begin:A,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t;if(m){var x=m.length/o.length,C=o.map(function(B,N){var D=Math.floor(N*x);if(m[D]){var T=m[D],O=Ga(T.x,B.x),L=Ga(T.y,B.y);return yd(yd({},B),{},{x:O(y),y:L(y)})}return B}),E;if(Tt(l)&&typeof l=="number"){var j=Ga(v,l);E=j(y)}else if(On(l)||p0(l)){var _=Ga(v,0);E=_(y)}else E=l.map(function(B,N){var D=Math.floor(N*x);if(v[D]){var T=v[D],O=Ga(T.x,B.x),L=Ga(T.y,B.y);return yd(yd({},B),{},{x:O(y),y:L(y)})}return B});return a.renderAreaStatically(C,E,r,i)}return be.createElement(ir,null,be.createElement("defs",null,be.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),be.createElement(ir,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,A=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return l&&s&&s.length&&(!A&&f>0||!Wh(A,s)||!Wh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,A=i.left,d=i.xAxis,f=i.yAxis,h=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=o.length===1,x=Hn("recharts-area",l),C=d&&d.allowDataOverflow,E=f&&f.allowDataOverflow,j=C||E,_=On(v)?this.id:v,B=(r=yn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=B.r,D=N===void 0?3:N,T=B.strokeWidth,O=T===void 0?2:T,L=kX(s)?s:{},H=L.clipDot,q=H===void 0?!0:H,Y=D*2+O;return be.createElement(ir,{className:x},C||E?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:C?A:A-h/2,y:E?u:u-p/2,width:C?h:h*2,height:E?p:p*2})),!q&&be.createElement("clipPath",{id:"clipPath-dots-".concat(_)},be.createElement("rect",{x:A-Y/2,y:u-Y/2,width:h+Y,height:p+Y}))):null,y?null:this.renderArea(j,_),(s||y)&&this.renderDots(j,q,_),(!m||g)&&$o.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(P.PureComponent);Kee=Ll;Iu(Ll,"displayName","Area");Iu(Ll,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Cf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Iu(Ll,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(Tt(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var A=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||A<0?A:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Iu(Ll,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,f=t.offset,h=e.layout,p=u&&u.length,m=Kee.getBaseValue(e,n,r,i),v=h==="horizontal",g=!1,y=d.map(function(C,E){var j;p?j=u[A+E]:(j=ya(C,l),Array.isArray(j)?g=!0:j=[m,j]);var _=j[1]==null||p&&ya(C,l)==null;return v?{x:RC({axis:r,ticks:a,bandSize:o,entry:C,index:E}),y:_?null:i.scale(j[1]),value:j,payload:C}:{x:_?null:r.scale(j[1]),y:RC({axis:i,ticks:s,bandSize:o,entry:C,index:E}),value:j,payload:C}}),x;return p||g?x=y.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:E!=null&&C.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:C.y}}):x=v?i.scale(m):r.scale(m),yd({points:y,baseLine:x,layout:h,isRange:g},f)});Iu(Ll,"renderDotItem",function(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Nn(t))n=t(e);else{var r=Hn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Wee(e,C8e);n=be.createElement(xx,gh({},a,{key:i,className:r}))}return n});function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function k8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jee(r.key),r)}}function D8e(t,e,n){return e&&P8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O8e(t,e,n){return e=uS(e),F8e(t,Yee()?Reflect.construct(e,n||[],uS(t).constructor):e.apply(t,n))}function F8e(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L8e(t)}function L8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function uS(t){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uS(t)}function M8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BT(t,e)}function Xee(t,e,n){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=R8e(t,"string");return Hg(e)=="symbol"?e:e+""}function R8e(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(this,arguments)}function U8e(t){var e=t.xAxisId,n=gO(),r=vO(),i=kee(e);return i==null?null:P.createElement(w0,NT({},i,{className:Hn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return _A(s,!0)}}))}var hi=function(t){function e(){return k8e(this,e),O8e(this,e,arguments)}return M8e(e,t),D8e(e,[{key:"render",value:function(){return P.createElement(U8e,this.props)}}])}(P.Component);Xee(hi,"displayName","XAxis");Xee(hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function Q8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tte(r.key),r)}}function z8e(t,e,n){return e&&H8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V8e(t,e,n){return e=AS(e),$8e(t,Zee()?Reflect.construct(e,n||[],AS(t).constructor):e.apply(t,n))}function $8e(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K8e(t)}function K8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zee=function(){return!!t})()}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}function W8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jT(t,e)}function jT(t,e){return jT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jT(t,e)}function ete(t,e,n){return e=tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=G8e(t,"string");return zg(e)=="symbol"?e:e+""}function G8e(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IT(){return IT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IT.apply(this,arguments)}var q8e=function(e){var n=e.yAxisId,r=gO(),i=vO(),a=Pee(n);return a==null?null:P.createElement(w0,IT({},a,{className:Hn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return _A(o,!0)}}))},Bi=function(t){function e(){return Q8e(this,e),V8e(this,e,arguments)}return W8e(e,t),z8e(e,[{key:"render",value:function(){return P.createElement(q8e,this.props)}}])}(P.Component);ete(Bi,"displayName","YAxis");ete(Bi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function z7(t){return Z8e(t)||J8e(t)||X8e(t)||Y8e()}function Y8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(t,e){if(t){if(typeof t=="string")return TT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TT(t,e)}}function J8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z8e(t){if(Array.isArray(t))return TT(t)}function TT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kT=function(e,n,r,i,a){var s=Il(e,wx),o=Il(e,IE),l=[].concat(z7(s),z7(o)),u=Il(e,kE),A="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(m,v){if(v.props[A]===r&&Uu(v.props,"extendDomain")&&Tt(v.props[d])){var g=v.props[d];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},f)),u.length){var h="".concat(d,"1"),p="".concat(d,"2");f=u.reduce(function(m,v){if(v.props[A]===r&&Uu(v.props,"extendDomain")&&Tt(v.props[h])&&Tt(v.props[p])){var g=v.props[h],y=v.props[p];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return Tt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},nte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,A){this.fn=l,this.context=u,this.once=A||!1}function a(l,u,A,d,f){if(typeof A!="function")throw new TypeError("The listener must be a function");var h=new i(A,d||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},o.prototype.listeners=function(u){var A=n?n+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(u){var A=n?n+u:u,d=this._events[A];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,A,d,f,h,p){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,A),!0;case 3:return v.fn.call(v.context,A,d),!0;case 4:return v.fn.call(v.context,A,d,f),!0;case 5:return v.fn.call(v.context,A,d,f,h),!0;case 6:return v.fn.call(v.context,A,d,f,h,p),!0}for(x=1,y=new Array(g-1);x<g;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var C=v.length,E;for(x=0;x<C;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,A);break;case 3:v[x].fn.call(v[x].context,A,d);break;case 4:v[x].fn.call(v[x].context,A,d,f);break;default:if(!y)for(E=1,y=new Array(g-1);E<g;E++)y[E-1]=arguments[E];v[x].fn.apply(v[x].context,y)}}return!0},o.prototype.on=function(u,A,d){return a(this,u,A,d,!1)},o.prototype.once=function(u,A,d){return a(this,u,A,d,!0)},o.prototype.removeListener=function(u,A,d,f){var h=n?n+u:u;if(!this._events[h])return this;if(!A)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===A&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==A||f&&!p[m].once||d&&p[m].context!==d)&&v.push(p[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var A;return u?(A=n?n+u:u,this._events[A]&&s(this,A)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(nte);var eQe=nte.exports;const tQe=Rr(eQe);var GB=new tQe,qB="recharts.syncMouseEvents";function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function nQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rte(r.key),r)}}function iQe(t,e,n){return e&&rQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YB(t,e,n){return e=rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=aQe(t,"string");return Tb(e)=="symbol"?e:e+""}function aQe(t,e){if(Tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sQe=function(){function t(){nQe(this,t),YB(this,"activeIndex",0),YB(this,"coordinateList",[]),YB(this,"layout","horizontal")}return iQe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,A=n.offset,d=A===void 0?null:A,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,A=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,f=s+this.offset.top+o/2+A;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function oQe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Tt(r)&&Tt(i))return!0}return!1}function lQe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ite(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=di(e,n,r,i),o=di(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function cQe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,f=di(o,l,u,d),h=di(o,l,A,d);r=f.x,i=f.y,a=h.x,s=h.y}else return ite(e);return[{x:r,y:i},{x:a,y:s}]}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function V7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(n),!0).forEach(function(r){uQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQe(t,e,n){return e=AQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQe(t){var e=dQe(t,"string");return kb(e)=="symbol"?e:e+""}function dQe(t,e){if(kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fQe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!s||f!=="ScatterChart"&&i!=="axis")return null;var p,m=Ih;if(f==="ScatterChart")p=s,m=xLe;else if(f==="BarChart")p=lQe(d,s,l,A),m=dO;else if(d==="radial"){var v=ite(s),g=v.cx,y=v.cy,x=v.radius,C=v.startAngle,E=v.endAngle;p={cx:g,cy:y,startAngle:C,endAngle:E,innerRadius:x,outerRadius:x},m=XZ}else p={points:cQe(d,s,l)},m=Ih;var j=O1(O1(O1(O1({stroke:"#ccc",pointerEvents:"none"},l),p),yn(h,!1)),{},{payload:o,payloadIndex:u,className:Hn("recharts-tooltip-cursor",h.className)});return P.isValidElement(h)?P.cloneElement(h,j):P.createElement(m,j)}var hQe=["item"],pQe=["children","className","width","height","style","compact","title","desc"];function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function $7(t,e){return vQe(t)||gQe(t,e)||ste(t,e)||mQe()}function mQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vQe(t){if(Array.isArray(t))return t}function K7(t,e){if(t==null)return{};var n=yQe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ote(r.key),r)}}function wQe(t,e,n){return e&&xQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CQe(t,e,n){return e=dS(e),SQe(t,ate()?Reflect.construct(e,n||[],dS(t).constructor):e.apply(t,n))}function SQe(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQe(t)}function EQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ate(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ate=function(){return!!t})()}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dS(t)}function _Qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PT(t,e)}function PT(t,e){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PT(t,e)}function $g(t){return jQe(t)||NQe(t)||ste(t)||BQe()}function BQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ste(t,e){if(t){if(typeof t=="string")return DT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DT(t,e)}}function NQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jQe(t){if(Array.isArray(t))return DT(t)}function DT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(n),!0).forEach(function(r){_n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _n(t,e,n){return e=ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=IQe(t,"string");return Vg(e)=="symbol"?e:e+""}function IQe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TQe={xAxis:["bottom","top"],yAxis:["left","right"]},kQe={width:"100%",height:"100%"},lte={x:0,y:0};function F1(t){return t}var PQe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},DQe=function(e,n,r,i){var a=n.find(function(A){return A&&A.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ot(ot(ot({},i),di(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return ot(ot(ot({},i),di(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return lte},PE=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat($g(o),$g(u)):o},[]);return s.length>0?s:e&&e.length&&Tt(i)&&Tt(a)?e.slice(i,a+1):[]};function cte(t){return t==="number"?[0,"auto"]:void 0}var OT=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=PE(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=d===void 0?o:d;f=AC(h,s.dataKey,i)}else f=d&&d[r]||o[r];return f?[].concat($g(l),[$Z(u,f)]):l},[])},G7=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=PQe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,A=VDe(s,o,u,l);if(A>=0&&u){var d=u[A]&&u[A].value,f=OT(e,n,A,d),h=DQe(r,o,A,a);return{activeTooltipIndex:A,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},OQe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.layout,d=e.children,f=e.stackOffset,h=RZ(A,a);return r.reduce(function(p,m){var v,g=m.type.defaultProps!==void 0?ot(ot({},m.type.defaultProps),m.props):m.props,y=g.type,x=g.dataKey,C=g.allowDataOverflow,E=g.allowDuplicatedCategory,j=g.scale,_=g.ticks,B=g.includeHidden,N=g[s];if(p[N])return p;var D=PE(e.data,{graphicalItems:i.filter(function(M){var $,J=s in M.props?M.props[s]:($=M.type.defaultProps)===null||$===void 0?void 0:$[s];return J===N}),dataStartIndex:l,dataEndIndex:u}),T=D.length,O,L,H;oQe(g.domain,C,y)&&(O=GI(g.domain,null,C),h&&(y==="number"||j!=="auto")&&(H=Jv(D,x,"category")));var q=cte(y);if(!O||O.length===0){var Y,ee=(Y=g.domain)!==null&&Y!==void 0?Y:q;if(x){if(O=Jv(D,x,y),y==="category"&&h){var K=Dwe(O);E&&K?(L=O,O=JC(0,T)):E||(O=hQ(ee,O,m).reduce(function(M,$){return M.indexOf($)>=0?M:[].concat($g(M),[$])},[]))}else if(y==="category")E?O=O.filter(function(M){return M!==""&&!On(M)}):O=hQ(ee,O,m).reduce(function(M,$){return M.indexOf($)>=0||$===""||On($)?M:[].concat($g(M),[$])},[]);else if(y==="number"){var te=qDe(D,i.filter(function(M){var $,J,ne=s in M.props?M.props[s]:($=M.type.defaultProps)===null||$===void 0?void 0:$[s],he="hide"in M.props?M.props.hide:(J=M.type.defaultProps)===null||J===void 0?void 0:J.hide;return ne===N&&(B||!he)}),x,a,A);te&&(O=te)}h&&(y==="number"||j!=="auto")&&(H=Jv(D,x,"category"))}else h?O=JC(0,T):o&&o[N]&&o[N].hasStack&&y==="number"?O=f==="expand"?[0,1]:VZ(o[N].stackGroups,l,u):O=MZ(D,i.filter(function(M){var $=s in M.props?M.props[s]:M.type.defaultProps[s],J="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return $===N&&(B||!J)}),y,A,!0);if(y==="number")O=kT(d,O,N,a,_),ee&&(O=GI(ee,O,C));else if(y==="category"&&ee){var le=ee,se=O.every(function(M){return le.indexOf(M)>=0});se&&(O=le)}}return ot(ot({},p),{},_n({},N,ot(ot({},g),{},{axisType:a,domain:O,categoricalDomain:H,duplicateDomain:L,originalDomain:(v=g.domain)!==null&&v!==void 0?v:q,isCategorical:h,layout:A})))},{})},FQe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.layout,d=e.children,f=PE(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=f.length,p=RZ(A,a),m=-1;return r.reduce(function(v,g){var y=g.type.defaultProps!==void 0?ot(ot({},g.type.defaultProps),g.props):g.props,x=y[s],C=cte("number");if(!v[x]){m++;var E;return p?E=JC(0,h):o&&o[x]&&o[x].hasStack?(E=VZ(o[x].stackGroups,l,u),E=kT(d,E,x,a)):(E=GI(C,MZ(f,r.filter(function(j){var _,B,N=s in j.props?j.props[s]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[s],D="hide"in j.props?j.props.hide:(B=j.type.defaultProps)===null||B===void 0?void 0:B.hide;return N===x&&!D}),"number",A),i.defaultProps.allowDataOverflow),E=kT(d,E,x,a)),ot(ot({},v),{},_n({},x,ot(ot({axisType:a},i.defaultProps),{},{hide:!0,orientation:jl(TQe,"".concat(a,".").concat(m%2),null),domain:E,originalDomain:C,isCategorical:p,layout:A})))}return v},{})},LQe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.children,d="".concat(i,"Id"),f=Il(A,a),h={};return f&&f.length?h=OQe(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(h=FQe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),h},MQe=function(e){var n=Nd(e),r=_A(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:R3(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:UC(n,r)}},q7=function(e){var n=e.children,r=e.defaultShowTooltip,i=bl(n,Dg),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},RQe=function(e){return!e||!e.length?!1:e.some(function(n){var r=TA(n&&n.type);return r&&r.indexOf("Bar")>=0})},Y7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UQe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,A=r.height,d=r.children,f=r.margin||{},h=bl(d,Dg),p=bl(d,Tl),m=Object.keys(l).reduce(function(E,j){var _=l[j],B=_.orientation;return!_.mirror&&!_.hide?ot(ot({},E),{},_n({},B,E[B]+_.width)):E},{left:f.left||0,right:f.right||0}),v=Object.keys(s).reduce(function(E,j){var _=s[j],B=_.orientation;return!_.mirror&&!_.hide?ot(ot({},E),{},_n({},B,jl(E,"".concat(B))+_.height)):E},{top:f.top||0,bottom:f.bottom||0}),g=ot(ot({},v),m),y=g.bottom;h&&(g.bottom+=h.props.height||Dg.defaultProps.height),p&&n&&(g=WDe(g,i,r,n));var x=u-g.left-g.right,C=A-g.top-g.bottom;return ot(ot({brushBottom:y},g),{},{width:Math.max(x,0),height:Math.max(C,0)})},QQe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},DE=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,f=function(g,y){var x=y.graphicalItems,C=y.stackGroups,E=y.offset,j=y.updateId,_=y.dataStartIndex,B=y.dataEndIndex,N=g.barSize,D=g.layout,T=g.barGap,O=g.barCategoryGap,L=g.maxBarSize,H=Y7(D),q=H.numericAxisName,Y=H.cateAxisName,ee=RQe(x),K=[];return x.forEach(function(te,le){var se=PE(g.data,{graphicalItems:[te],dataStartIndex:_,dataEndIndex:B}),M=te.type.defaultProps!==void 0?ot(ot({},te.type.defaultProps),te.props):te.props,$=M.dataKey,J=M.maxBarSize,ne=M["".concat(q,"Id")],he=M["".concat(Y,"Id")],we={},Se=l.reduce(function(mt,ct){var jt=y["".concat(ct.axisType,"Map")],Xt=M["".concat(ct.axisType,"Id")];jt&&jt[Xt]||ct.axisType==="zAxis"||qh();var Zt=jt[Xt];return ot(ot({},mt),{},_n(_n({},ct.axisType,Zt),"".concat(ct.axisType,"Ticks"),_A(Zt)))},we),Ae=Se[Y],ge=Se["".concat(Y,"Ticks")],xe=C&&C[ne]&&C[ne].hasStack&&i3e(te,C[ne].stackGroups),ae=TA(te.type).indexOf("Bar")>=0,Ve=UC(Ae,ge),Oe=[],fe=ee&&$De({barSize:N,stackGroups:C,totalSize:QQe(Se,Y)});if(ae){var $e,ht,vt=On(J)?L:J,Ye=($e=(ht=UC(Ae,ge,!0))!==null&&ht!==void 0?ht:vt)!==null&&$e!==void 0?$e:0;Oe=KDe({barGap:T,barCategoryGap:O,bandSize:Ye!==Ve?Ye:Ve,sizeList:fe[he],maxBarSize:vt}),Ye!==Ve&&(Oe=Oe.map(function(mt){return ot(ot({},mt),{},{position:ot(ot({},mt.position),{},{offset:mt.position.offset-Ye/2})})}))}var Dt=te&&te.type&&te.type.getComposedData;Dt&&K.push({props:ot(ot({},Dt(ot(ot({},Se),{},{displayedData:se,props:g,dataKey:$,item:te,bandSize:Ve,barPosition:Oe,offset:E,stackedData:xe,layout:D,dataStartIndex:_,dataEndIndex:B}))),{},_n(_n(_n({key:te.key||"item-".concat(le)},q,Se[q]),Y,Se[Y]),"animationId",j)),childIndex:Kwe(te,g.children),item:te})}),K},h=function(g,y){var x=g.props,C=g.dataStartIndex,E=g.dataEndIndex,j=g.updateId;if(!lU({props:x}))return null;var _=x.children,B=x.layout,N=x.stackOffset,D=x.data,T=x.reverseStackOrder,O=Y7(B),L=O.numericAxisName,H=O.cateAxisName,q=Il(_,r),Y=n3e(D,q,"".concat(L,"Id"),"".concat(H,"Id"),N,T),ee=l.reduce(function(M,$){var J="".concat($.axisType,"Map");return ot(ot({},M),{},_n({},J,LQe(x,ot(ot({},$),{},{graphicalItems:q,stackGroups:$.axisType===L&&Y,dataStartIndex:C,dataEndIndex:E}))))},{}),K=UQe(ot(ot({},ee),{},{props:x,graphicalItems:q}),y==null?void 0:y.legendBBox);Object.keys(ee).forEach(function(M){ee[M]=A(x,ee[M],K,M.replace("Map",""),n)});var te=ee["".concat(H,"Map")],le=MQe(te),se=f(x,ot(ot({},ee),{},{dataStartIndex:C,dataEndIndex:E,updateId:j,graphicalItems:q,stackGroups:Y,offset:K}));return ot(ot({formattedGraphicalItems:se,graphicalItems:q,offset:K,stackGroups:Y},le),ee)},p=function(v){function g(y){var x,C,E;return bQe(this,g),E=CQe(this,g,[y]),_n(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_n(E,"accessibilityManager",new sQe),_n(E,"handleLegendBBoxUpdate",function(j){if(j){var _=E.state,B=_.dataStartIndex,N=_.dataEndIndex,D=_.updateId;E.setState(ot({legendBBox:j},h({props:E.props,dataStartIndex:B,dataEndIndex:N,updateId:D},ot(ot({},E.state),{},{legendBBox:j}))))}}),_n(E,"handleReceiveSyncEvent",function(j,_,B){if(E.props.syncId===j){if(B===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),_n(E,"handleBrushChange",function(j){var _=j.startIndex,B=j.endIndex;if(_!==E.state.dataStartIndex||B!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return ot({dataStartIndex:_,dataEndIndex:B},h({props:E.props,dataStartIndex:_,dataEndIndex:B,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:B})}}),_n(E,"handleMouseEnter",function(j){var _=E.getMouseInfo(j);if(_){var B=ot(ot({},_),{},{isTooltipActive:!0});E.setState(B),E.triggerSyncEvent(B);var N=E.props.onMouseEnter;Nn(N)&&N(B,j)}}),_n(E,"triggeredAfterMouseMove",function(j){var _=E.getMouseInfo(j),B=_?ot(ot({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(B),E.triggerSyncEvent(B);var N=E.props.onMouseMove;Nn(N)&&N(B,j)}),_n(E,"handleItemMouseEnter",function(j){E.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),_n(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),_n(E,"handleMouseMove",function(j){j.persist(),E.throttleTriggeredAfterMouseMove(j)}),_n(E,"handleMouseLeave",function(j){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var B=E.props.onMouseLeave;Nn(B)&&B(_,j)}),_n(E,"handleOuterEvent",function(j){var _=$we(j),B=jl(E.props,"".concat(_));if(_&&Nn(B)){var N,D;/.*touch.*/i.test(_)?D=E.getMouseInfo(j.changedTouches[0]):D=E.getMouseInfo(j),B((N=D)!==null&&N!==void 0?N:{},j)}}),_n(E,"handleClick",function(j){var _=E.getMouseInfo(j);if(_){var B=ot(ot({},_),{},{isTooltipActive:!0});E.setState(B),E.triggerSyncEvent(B);var N=E.props.onClick;Nn(N)&&N(B,j)}}),_n(E,"handleMouseDown",function(j){var _=E.props.onMouseDown;if(Nn(_)){var B=E.getMouseInfo(j);_(B,j)}}),_n(E,"handleMouseUp",function(j){var _=E.props.onMouseUp;if(Nn(_)){var B=E.getMouseInfo(j);_(B,j)}}),_n(E,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),_n(E,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&E.handleMouseDown(j.changedTouches[0])}),_n(E,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&E.handleMouseUp(j.changedTouches[0])}),_n(E,"handleDoubleClick",function(j){var _=E.props.onDoubleClick;if(Nn(_)){var B=E.getMouseInfo(j);_(B,j)}}),_n(E,"handleContextMenu",function(j){var _=E.props.onContextMenu;if(Nn(_)){var B=E.getMouseInfo(j);_(B,j)}}),_n(E,"triggerSyncEvent",function(j){E.props.syncId!==void 0&&GB.emit(qB,E.props.syncId,j,E.eventEmitterSymbol)}),_n(E,"applySyncEvent",function(j){var _=E.props,B=_.layout,N=_.syncMethod,D=E.state.updateId,T=j.dataStartIndex,O=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)E.setState(ot({dataStartIndex:T,dataEndIndex:O},h({props:E.props,dataStartIndex:T,dataEndIndex:O,updateId:D},E.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,H=j.chartY,q=j.activeTooltipIndex,Y=E.state,ee=Y.offset,K=Y.tooltipTicks;if(!ee)return;if(typeof N=="function")q=N(K,j);else if(N==="value"){q=-1;for(var te=0;te<K.length;te++)if(K[te].value===j.activeLabel){q=te;break}}var le=ot(ot({},ee),{},{x:ee.left,y:ee.top}),se=Math.min(L,le.x+le.width),M=Math.min(H,le.y+le.height),$=K[q]&&K[q].value,J=OT(E.state,E.props.data,q),ne=K[q]?{x:B==="horizontal"?K[q].coordinate:se,y:B==="horizontal"?M:K[q].coordinate}:lte;E.setState(ot(ot({},j),{},{activeLabel:$,activeCoordinate:ne,activePayload:J,activeTooltipIndex:q}))}else E.setState(j)}),_n(E,"renderCursor",function(j){var _,B=E.state,N=B.isTooltipActive,D=B.activeCoordinate,T=B.activePayload,O=B.offset,L=B.activeTooltipIndex,H=B.tooltipAxisBandSize,q=E.getTooltipEventType(),Y=(_=j.props.active)!==null&&_!==void 0?_:N,ee=E.props.layout,K=j.key||"_recharts-cursor";return be.createElement(fQe,{key:K,activeCoordinate:D,activePayload:T,activeTooltipIndex:L,chartName:n,element:j,isActive:Y,layout:ee,offset:O,tooltipAxisBandSize:H,tooltipEventType:q})}),_n(E,"renderPolarAxis",function(j,_,B){var N=jl(j,"type.axisType"),D=jl(E.state,"".concat(N,"Map")),T=j.type.defaultProps,O=T!==void 0?ot(ot({},T),j.props):j.props,L=D&&D[O["".concat(N,"Id")]];return P.cloneElement(j,ot(ot({},L),{},{className:Hn(N,L.className),key:j.key||"".concat(_,"-").concat(B),ticks:_A(L,!0)}))}),_n(E,"renderPolarGrid",function(j){var _=j.props,B=_.radialLines,N=_.polarAngles,D=_.polarRadius,T=E.state,O=T.radiusAxisMap,L=T.angleAxisMap,H=Nd(O),q=Nd(L),Y=q.cx,ee=q.cy,K=q.innerRadius,te=q.outerRadius;return P.cloneElement(j,{polarAngles:Array.isArray(N)?N:_A(q,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(D)?D:_A(H,!0).map(function(le){return le.coordinate}),cx:Y,cy:ee,innerRadius:K,outerRadius:te,key:j.key||"polar-grid",radialLines:B})}),_n(E,"renderLegend",function(){var j=E.state.formattedGraphicalItems,_=E.props,B=_.children,N=_.width,D=_.height,T=E.props.margin||{},O=N-(T.left||0)-(T.right||0),L=FZ({children:B,formattedGraphicalItems:j,legendWidth:O,legendContent:u});if(!L)return null;var H=L.item,q=K7(L,hQe);return P.cloneElement(H,ot(ot({},q),{},{chartWidth:N,chartHeight:D,margin:T,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),_n(E,"renderTooltip",function(){var j,_=E.props,B=_.children,N=_.accessibilityLayer,D=bl(B,Sr);if(!D)return null;var T=E.state,O=T.isTooltipActive,L=T.activeCoordinate,H=T.activePayload,q=T.activeLabel,Y=T.offset,ee=(j=D.props.active)!==null&&j!==void 0?j:O;return P.cloneElement(D,{viewBox:ot(ot({},Y),{},{x:Y.left,y:Y.top}),active:ee,label:q,payload:ee?H:[],coordinate:L,accessibilityLayer:N})}),_n(E,"renderBrush",function(j){var _=E.props,B=_.margin,N=_.data,D=E.state,T=D.offset,O=D.dataStartIndex,L=D.dataEndIndex,H=D.updateId;return P.cloneElement(j,{key:j.key||"_recharts-brush",onChange:T1(E.handleBrushChange,j.props.onChange),data:N,x:Tt(j.props.x)?j.props.x:T.left,y:Tt(j.props.y)?j.props.y:T.top+T.height+T.brushBottom-(B.bottom||0),width:Tt(j.props.width)?j.props.width:T.width,startIndex:O,endIndex:L,updateId:"brush-".concat(H)})}),_n(E,"renderReferenceElement",function(j,_,B){if(!j)return null;var N=E,D=N.clipPathId,T=E.state,O=T.xAxisMap,L=T.yAxisMap,H=T.offset,q=j.type.defaultProps||{},Y=j.props,ee=Y.xAxisId,K=ee===void 0?q.xAxisId:ee,te=Y.yAxisId,le=te===void 0?q.yAxisId:te;return P.cloneElement(j,{key:j.key||"".concat(_,"-").concat(B),xAxis:O[K],yAxis:L[le],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:D})}),_n(E,"renderActivePoints",function(j){var _=j.item,B=j.activePoint,N=j.basePoint,D=j.childIndex,T=j.isRange,O=[],L=_.props.key,H=_.item.type.defaultProps!==void 0?ot(ot({},_.item.type.defaultProps),_.item.props):_.item.props,q=H.activeDot,Y=H.dataKey,ee=ot(ot({index:D,dataKey:Y,cx:B.x,cy:B.y,r:4,fill:AO(_.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},yn(q,!1)),dC(q));return O.push(g.renderActiveDot(q,ee,"".concat(L,"-activePoint-").concat(D))),N?O.push(g.renderActiveDot(q,ot(ot({},ee),{},{cx:N.x,cy:N.y}),"".concat(L,"-basePoint-").concat(D))):T&&O.push(null),O}),_n(E,"renderGraphicChild",function(j,_,B){var N=E.filterFormatItem(j,_,B);if(!N)return null;var D=E.getTooltipEventType(),T=E.state,O=T.isTooltipActive,L=T.tooltipAxis,H=T.activeTooltipIndex,q=T.activeLabel,Y=E.props.children,ee=bl(Y,Sr),K=N.props,te=K.points,le=K.isRange,se=K.baseLine,M=N.item.type.defaultProps!==void 0?ot(ot({},N.item.type.defaultProps),N.item.props):N.item.props,$=M.activeDot,J=M.hide,ne=M.activeBar,he=M.activeShape,we=!!(!J&&O&&ee&&($||ne||he)),Se={};D!=="axis"&&ee&&ee.props.trigger==="click"?Se={onClick:T1(E.handleItemMouseEnter,j.props.onClick)}:D!=="axis"&&(Se={onMouseLeave:T1(E.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:T1(E.handleItemMouseEnter,j.props.onMouseEnter)});var Ae=P.cloneElement(j,ot(ot({},N.props),Se));function ge(ct){return typeof L.dataKey=="function"?L.dataKey(ct.payload):null}if(we)if(H>=0){var xe,ae;if(L.dataKey&&!L.allowDuplicatedCategory){var Ve=typeof L.dataKey=="function"?ge:"payload.".concat(L.dataKey.toString());xe=AC(te,Ve,q),ae=le&&se&&AC(se,Ve,q)}else xe=te==null?void 0:te[H],ae=le&&se&&se[H];if(he||ne){var Oe=j.props.activeIndex!==void 0?j.props.activeIndex:H;return[P.cloneElement(j,ot(ot(ot({},N.props),Se),{},{activeIndex:Oe})),null,null]}if(!On(xe))return[Ae].concat($g(E.renderActivePoints({item:N,activePoint:xe,basePoint:ae,childIndex:H,isRange:le})))}else{var fe,$e=(fe=E.getItemByXY(E.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Ae},ht=$e.graphicalItem,vt=ht.item,Ye=vt===void 0?j:vt,Dt=ht.childIndex,mt=ot(ot(ot({},N.props),Se),{},{activeIndex:Dt});return[P.cloneElement(Ye,mt),null,null]}return le?[Ae,null,null]:[Ae,null]}),_n(E,"renderCustomized",function(j,_,B){return P.cloneElement(j,ot(ot({key:"recharts-customized-".concat(B)},E.props),E.state))}),_n(E,"renderMap",{CartesianGrid:{handler:F1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:F1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:F1},YAxis:{handler:F1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:fp("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=OJ(E.triggeredAfterMouseMove,(C=y.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return _Qe(g,v),wQe(g,[{key:"componentDidMount",value:function(){var x,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,C=x.children,E=x.data,j=x.height,_=x.layout,B=bl(C,Sr);if(B){var N=B.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,T=OT(this.state,E,N,D),O=this.state.tooltipTicks[N].coordinate,L=(this.state.offset.top+j)/2,H=_==="horizontal",q=H?{x:O,y:L}:{y:O,x:L},Y=this.state.formattedGraphicalItems.find(function(K){var te=K.item;return te.type.name==="Scatter"});Y&&(q=ot(ot({},q),Y.props.points[N].tooltipPosition),T=Y.props.points[N].tooltipPayload);var ee={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:D,activePayload:T,activeCoordinate:q};this.setState(ee),this.renderCursor(B),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var E,j;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){cI([bl(x.children,Sr)],[bl(this.props.children,Sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=bl(this.props.children,Sr);if(x&&typeof x.props.shared=="boolean"){var C=x.props.shared?"axis":"item";return o.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),j=vIe(E),_={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},B=E.width/C.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,B);if(!N)return null;var D=this.state,T=D.xAxisMap,O=D.yAxisMap,L=this.getTooltipEventType(),H=G7(this.state,this.props.data,this.props.layout,N);if(L!=="axis"&&T&&O){var q=Nd(T).scale,Y=Nd(O).scale,ee=q&&q.invert?q.invert(_.chartX):null,K=Y&&Y.invert?Y.invert(_.chartY):null;return ot(ot({},_),{},{xValue:ee,yValue:K},H)}return H?ot(ot({},_),H):null}},{key:"inRange",value:function(x,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,_=x/E,B=C/E;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,D=_>=N.left&&_<=N.left+N.width&&B>=N.top&&B<=N.top+N.height;return D?{x:_,y:B}:null}var T=this.state,O=T.angleAxisMap,L=T.radiusAxisMap;if(O&&L){var H=Nd(O);return gQ({x:_,y:B},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,C=this.getTooltipEventType(),E=bl(x,Sr),j={};E&&C==="axis"&&(E.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=dC(this.props,this.handleOuterEvent);return ot(ot({},_),j)}},{key:"addListener",value:function(){GB.on(qB,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){GB.removeListener(qB,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,C,E){for(var j=this.state.formattedGraphicalItems,_=0,B=j.length;_<B;_++){var N=j[_];if(N.item===x||N.props.key===x.key||C===TA(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,C=this.state.offset,E=C.left,j=C.top,_=C.height,B=C.width;return be.createElement("defs",null,be.createElement("clipPath",{id:x},be.createElement("rect",{x:E,y:j,height:_,width:B})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(C,E){var j=$7(E,2),_=j[0],B=j[1];return ot(ot({},C),{},_n({},_,B.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(C,E){var j=$7(E,2),_=j[0],B=j[1];return ot(ot({},C),{},_n({},_,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[x])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(x){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[x])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(x){var C=this.state,E=C.formattedGraphicalItems,j=C.activeItem;if(E&&E.length)for(var _=0,B=E.length;_<B;_++){var N=E[_],D=N.props,T=N.item,O=T.type.defaultProps!==void 0?ot(ot({},T.type.defaultProps),T.props):T.props,L=TA(T.type);if(L==="Bar"){var H=(D.data||[]).find(function(K){return tLe(x,K)});if(H)return{graphicalItem:N,payload:H}}else if(L==="RadialBar"){var q=(D.data||[]).find(function(K){return gQ(x,K)});if(q)return{graphicalItem:N,payload:q}}else if(_E(N,j)||BE(N,j)||_b(N,j)){var Y=zMe({graphicalItem:N,activeTooltipItem:j,itemData:O.data}),ee=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:ot(ot({},N),{},{childIndex:ee}),payload:_b(N,j)?O.data[Y]:N.props.data[Y]}}}return null}},{key:"render",value:function(){var x=this;if(!lU(this))return null;var C=this.props,E=C.children,j=C.className,_=C.width,B=C.height,N=C.style,D=C.compact,T=C.title,O=C.desc,L=K7(C,pQe),H=yn(L,!1);if(D)return be.createElement(E7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement(AI,Cm({},H,{width:_,height:B,title:T,desc:O}),this.renderClipPath(),uU(E,this.renderMap)));if(this.props.accessibilityLayer){var q,Y;H.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,H.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",H.onKeyDown=function(K){x.accessibilityManager.keyboardEvent(K)},H.onFocus=function(){x.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return be.createElement(E7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement("div",Cm({className:Hn("recharts-wrapper",j),style:ot({position:"relative",cursor:"default",width:_,height:B},N)},ee,{ref:function(te){x.container=te}}),be.createElement(AI,Cm({},H,{width:_,height:B,title:T,desc:O,style:kQe}),this.renderClipPath(),uU(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);_n(p,"displayName",n),_n(p,"defaultProps",ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),_n(p,"getDerivedStateFromProps",function(v,g){var y=v.dataKey,x=v.data,C=v.children,E=v.width,j=v.height,_=v.layout,B=v.stackOffset,N=v.margin,D=g.dataStartIndex,T=g.dataEndIndex;if(g.updateId===void 0){var O=q7(v);return ot(ot(ot({},O),{},{updateId:0},h(ot(ot({props:v},O),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:x,prevWidth:E,prevHeight:j,prevLayout:_,prevStackOffset:B,prevMargin:N,prevChildren:C})}if(y!==g.prevDataKey||x!==g.prevData||E!==g.prevWidth||j!==g.prevHeight||_!==g.prevLayout||B!==g.prevStackOffset||!Lm(N,g.prevMargin)){var L=q7(v),H={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},q=ot(ot({},G7(g,x,_)),{},{updateId:g.updateId+1}),Y=ot(ot(ot({},L),H),q);return ot(ot(ot({},Y),h(ot({props:v},Y),g)),{},{prevDataKey:y,prevData:x,prevWidth:E,prevHeight:j,prevLayout:_,prevStackOffset:B,prevMargin:N,prevChildren:C})}if(!cI(C,g.prevChildren)){var ee,K,te,le,se=bl(C,Dg),M=se&&(ee=(K=se.props)===null||K===void 0?void 0:K.startIndex)!==null&&ee!==void 0?ee:D,$=se&&(te=(le=se.props)===null||le===void 0?void 0:le.endIndex)!==null&&te!==void 0?te:T,J=M!==D||$!==T,ne=!On(x),he=ne&&!J?g.updateId:g.updateId+1;return ot(ot({updateId:he},h(ot(ot({props:v},g),{},{updateId:he,dataStartIndex:M,dataEndIndex:$}),g)),{},{prevChildren:C,dataStartIndex:M,dataEndIndex:$})}return null}),_n(p,"renderActiveDot",function(v,g,y){var x;return P.isValidElement(v)?x=P.cloneElement(v,g):Nn(v)?x=v(g):x=be.createElement(xx,g),be.createElement(ir,{className:"recharts-active-dot",key:y},x)});var m=P.forwardRef(function(g,y){return be.createElement(p,Cm({},g,{ref:y}))});return m.displayName=p.displayName,m},wO=DE({chartName:"LineChart",GraphicalChild:ru,axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:fO}),Ml=DE({chartName:"BarChart",GraphicalChild:Ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:fO}),FT=DE({chartName:"PieChart",GraphicalChild:nu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:EE},{axisType:"radiusAxis",AxisComp:CE}],formatAxisMap:h3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Cx=DE({chartName:"AreaChart",GraphicalChild:Ll,axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:fO});const Dr={PREGNANT:{key:"PREGNANT",Icon:Dl,color:"text-pink-400",label:"Preada"},IN_SERVICE_CONFIRMED:{key:"IN_SERVICE_CONFIRMED",Icon:jpe,color:"text-pink-500",label:"Servicio Visto"},IN_SERVICE:{key:"IN_SERVICE",Icon:P5,color:"text-red-400",label:"En Monta"},EMPTY:{key:"EMPTY",Icon:ppe,color:"text-zinc-500",label:"Vaca"},SIRE_IN_SERVICE:{key:"SIRE_IN_SERVICE",Icon:Qpe,color:"text-blue-400",label:"Reproductor Activo"},MILKING:{key:"MILKING",Icon:Zpe,color:"text-blue-300",label:"En Ordeo"},DRYING_OFF:{key:"DRYING_OFF",Icon:cp,color:"text-yellow-400",label:"Secando"},DRY:{key:"DRY",Icon:bc,color:"text-zinc-400",label:"Seca"}},Yc=t=>{if(!t||t==="N/A")return-1;const e=new Date(t+"T00:00:00Z"),n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));if(isNaN(e.getTime()))return-1;const i=r.getTime()-e.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},uu=t=>{const e=Yc(t);if(e<0)return"N/A";if(e<=60)return`${e} da${e!==1?"s":""}`;const n=30.4375,r=Math.floor(e/n);if(r<12){const s=Math.round(e%n);return`${r} mes${r!==1?"es":""}${s>0?` y ${s} da${s!==1?"s":""}`:""}`}const i=Math.floor(r/12),a=Math.round(r%12);return`${i} ao${i!==1?"s":""}${a>0?` y ${a} mes${a!==1?"es":""}`:""}`},Bf=(t,e)=>{const n=Yc(t.birthDate);return n<0?"Indefinido":t.sex==="Hembra"?t.weaningDate||n>60?e.some(i=>i.goatId===t.id)?"Cabra":"Cabritona":"Cabrita":n>=365?"Macho Cabro":t.weaningDate||n>60?"Macho de Levante":"Cabrito"},Nf=(t,e)=>{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},HQe=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},CO=(t,e)=>{if(e.length===0)return{overall:null,recent:null};const n=[...e].sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime()),r=n[n.length-1];let i=null;if(t&&t>0){const s=Yc(r.date)-Yc(new Date().toISOString().split("T")[0])+Yc(new Date(r.date).toISOString().split("T")[0]);s>0&&(i=(r.kg-t)/s)}let a=null;if(n.length>=2){const s=r,o=n[n.length-2],l=(new Date(s.date).getTime()-new Date(o.date).getTime())/(1e3*60*60*24);l>0&&(a=(s.kg-o.kg)/l)}return{overall:i,recent:a}},ute=(t,e,n)=>{const r=t.map(A=>({age:(new Date(A.date).getTime()-new Date(e).getTime())/864e5,kg:A.kg})).sort((A,d)=>A.age-d.age);if(r.length<1)return null;const i=r.filter(A=>A.age<=n).pop(),a=r.find(A=>A.age>=n);if(i&&i.age===n)return i.kg;if(a&&a.age===n)return a.kg;if(!i||!a)return null;if(i.age===a.age)return i.kg;const s=a.age-i.age;if(s===0)return i.kg;const o=a.kg-i.kg,l=n-i.age,u=i.kg+l/s*o;return parseFloat(u.toFixed(2))},zQe=(t,e,n)=>{if(e===0)return 100;const r=t/e*100,i=1+(180-Math.min(n,180))/180*.1;return Math.round(r*i)},VQe=t=>{if(!t.weaningWeight||!t.weaningDate||!t.birthWeight||!t.birthDate)return null;const e=(new Date(t.weaningDate).getTime()-new Date(t.birthDate).getTime())/(1e3*60*60*24);if(e<=0)return null;const n=(t.weaningWeight-t.birthWeight)/e,r=t.birthWeight+n*60;return parseFloat(r.toFixed(2))},$Qe=(t,e)=>{const n=e.filter(r=>r.animalId===t.id);return ute(n,t.birthDate,210)},Ate=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Dr.MILKING):o.status==="en-secado"?a.push(Dr.DRYING_OFF):o.status==="seca"&&a.push(Dr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Dr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Dr.IN_SERVICE_CONFIRMED):a.push(Dr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Dr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Dr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Dr[o])},LT={A:"Alpina",S:"Saanen",N:"Anglo Nubian",AGC:"Canaria",C:"Canaria",T:"Toggenburger",CR:"Criolla"},MT=t=>{const e=new Map;if(!t)return e;const n=/(\d+(\.\d+)?)%?([A-Z]+)/g;let r;for(;(r=n.exec(t.toUpperCase()))!==null;){const i=parseFloat(r[1]),a=r[3],s=Object.keys(LT).includes(a);!isNaN(i)&&s&&e.set(a,(e.get(a)||0)+i)}return e},KQe=t=>t.size===0?"":Array.from(t.entries()).filter(([,n])=>n>0).sort((n,r)=>r[1]-n[1]).map(([n,r])=>`${parseFloat(r.toFixed(2))}%${n}`).join(" "),WQe=(t,e)=>{const n=MT(t),r=MT(e),i=new Map;return new Set([...n.keys(),...r.keys()]).forEach(s=>{const o=n.get(s)||0,l=r.get(s)||0;i.set(s,o/2+l/2)}),KQe(i)},SO=t=>{const e=MT(t);if(e.size===0)return"";const n=Array.from(e.entries()).sort((o,l)=>l[1]-o[1]);if(n.length===0)return"";const[r,i]=n[0],a=96.9,s=LT[r];for(const[o,l]of n)if(l>=a)return`${LT[o]} Pura`;return i>0?`Mestiza ${s}`:"Mestiza"},GQe=()=>{const{animals:t,parturitions:e,bodyWeighings:n,sireLots:r,breedingSeasons:i,weighings:a,appConfig:s}=Yt();return P.useMemo(()=>{const l=t.filter(se=>!se.isReference),u={cabras:[],cabritonas:[],cabritas:[],cabritos:[],machosLevante:[],reproductores:[]};l.forEach(se=>{switch(Bf(se,e)){case"Cabra":u.cabras.push(se);break;case"Cabritona":u.cabritonas.push(se);break;case"Cabrita":u.cabritas.push(se);break;case"Cabrito":u.cabritos.push(se);break;case"Macho de Levante":u.machosLevante.push(se);break;case"Macho Cabro":u.reproductores.push(se);break}});const A=u.cabras.length+u.cabritonas.length+u.cabritas.length,d=e.filter(se=>se.status==="activa"&&u.cabras.some(M=>M.id===se.goatId)).length,f=u.cabras.length-d,h=u.cabras.filter(se=>se.reproductiveStatus==="Preada").length,p=u.cabras.filter(se=>se.reproductiveStatus==="Vaca"||se.reproductiveStatus==="Post-Parto"||se.reproductiveStatus==="Destetada").length,m=u.cabras.filter(se=>se.reproductiveStatus==="En Servicio").length,v=[{name:"Preadas",value:h,color:"#34C759"},{name:"Vacas",value:p,color:"#FF9500"},{name:"En Monta",value:m,color:"#007AFF"}].filter(se=>se.value>0),g=new Date().getFullYear(),y=[];for(let se=0;se<2;se++){const M=new Date(g,se*6,1),$=new Date(g,(se+1)*6,0),J=a.filter(Se=>{const Ae=new Date(Se.date+"T00:00:00");return Ae>=M&&Ae<=$}),ne=new Set(J.map(Se=>Se.goatId)),he=u.cabras.filter(Se=>!!e.find(ge=>ge.goatId===Se.id&&new Date(ge.parturitionDate)<=$)).length,we=he>0?ne.size/he*100:0;y.push({name:`Semestre ${se+1}`,"En Ordeo (%)":parseFloat(we.toFixed(1))})}const x=s.pesoPrimerServicioKg,C=x*.95,E=u.cabritonas.filter(se=>se.reproductiveStatus==="En Servicio").length,j=u.cabritonas.filter(se=>{const M=n.filter($=>$.animalId===se.id).sort(($,J)=>new Date(J.date).getTime()-new Date($.date).getTime())[0];return M?M.kg>=C&&M.kg<x||M.kg>=x&&se.reproductiveStatus!=="En Servicio"&&se.reproductiveStatus!=="Preada":!1}).length,_=u.cabritonas.length-E-h,B=u.cabritas.length,N=u.cabritos.length,D=B+N,T=[{name:"Hembras",value:B,color:"#FF2D55"},{name:"Machos",value:N,color:"#007AFF"}].filter(se=>se.value>0),O=[...u.cabritas,...u.cabritos].map(se=>{const M=Yc(se.birthDate),$=n.filter(ge=>ge.animalId===se.id).sort((ge,xe)=>new Date(xe.date).getTime()-new Date(ge.date).getTime())[0],J=($==null?void 0:$.kg)||0,ne=M>=52,he=J>=9.5,we=M>=45&&M<52,Se=M>=40&&M<45||J>=8.5&&J<9.5;let Ae="Amamantando";return ne&&he?Ae="Listo para Destete":we?Ae="En Fase Destete":Se&&(Ae="Prximo a Destete"),{id:se.id,status:Ae}}),L=O.filter(se=>se.status==="En Fase Destete").length,H=O.filter(se=>se.status==="Prximo a Destete").length,q=O.filter(se=>se.status==="Listo para Destete").length,Y=O.filter(se=>se.status==="Amamantando").length,ee=[{name:"Listo",value:q,color:"#34C759"},{name:"En Fase",value:L,color:"#FFD60A"},{name:"Prximo",value:H,color:"#FF9F0A"},{name:"Amamantando",value:Y,color:"#007AFF"}].filter(se=>se.value>0),K=new Set(i.filter(se=>se.status==="Activo").map(se=>se.id)),te=r.filter(se=>K.has(se.seasonId)),le=u.reproductores.filter(se=>te.some(M=>M.sireId===se.id)).map(se=>{const M=te.find(J=>J.sireId===se.id),$=t.filter(J=>J.sireLotId===M.id).length;return{...se,lotId:M.id,assignedFemales:$}});return{totalPoblacion:l.length,totalVientres:A,cabras:{total:u.cabras.length,enProduccion:d,secas:f,preadas:h,vacias:p,enMonta:m,reproductiveStatusData:v,milkingPercentageData:y},cabritonas:{total:u.cabritonas.length,enMonta:E,disponibles:_,proximasAServicio:j},crias:{total:D,hembras:B,machos:N,criasEnMaternidadData:T,enFaseDestete:L,proximasADestete:H,listasParaDestete:q,desteteStatusData:ee},reproductores:{total:u.reproductores.length,activos:le}}},[t,e,n,r,i,a,s.pesoPrimerServicioKg])},Ar=t=>{if(!t)return"N/A";const e=t.id,n=t.name,r=t.isReference,i=e?e.toUpperCase().trim():"ID_DESCONOCIDO",a=n?String(n).toUpperCase().trim():"";return r&&a.length>0&&i.startsWith("REF-")?a:a.length>0?`${i} ${a}`:i},L1=({title:t,value:e,icon:n,onClick:r})=>c.jsxs("button",{onClick:r,className:"bg-dashboard-surface backdrop-blur-xl rounded-2xl p-4 border border-brand-border/50 text-left hover:border-brand-orange/60 hover:bg-dashboard-surface-hover transition-all duration-200 w-full",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-brand-light-gray uppercase tracking-wider",children:t}),c.jsx(n,{className:"w-6 h-6 text-brand-orange"})]}),c.jsx("p",{className:"text-4xl font-semibold text-white mt-4",children:e})]}),fd=({title:t,children:e})=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-brand-light-gray mb-3 px-1",children:t}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-lg rounded-xl p-4 border border-brand-border/50",children:e})]}),hd=({label:t,value:e,unit:n,subLabel:r,icon:i})=>c.jsxs("div",{className:"flex justify-between items-center py-2.5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsx(i,{className:"w-5 h-5 text-zinc-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base text-white",children:t}),r&&c.jsx("p",{className:"text-xs text-brand-medium-gray mt-0.5",children:r})]})]}),c.jsxs("div",{className:"flex items-baseline gap-1.5",children:[c.jsx("p",{className:"text-xl font-semibold text-white",children:e}),c.jsx("p",{className:"text-sm text-brand-medium-gray",children:n})]})]}),XB=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"p-2 bg-zinc-800/80 backdrop-blur-md rounded-lg border border-zinc-700 text-white text-sm",children:[c.jsx("p",{className:"font-semibold mb-1",children:n||e[0].name}),e.map((r,i)=>c.jsxs("p",{style:{color:r.color},children:[r.name,": ",c.jsxs("span",{className:"font-bold",children:[r.value,r.unit]})]},`item-${i}`))]}):null;function X7({navigateTo:t}){const[e,n]=P.useState("physical"),[r,i]=P.useState(!1),[a,s]=P.useState(!1),[o,l]=P.useState(!1),[u,A]=P.useState(!1),[d,f]=P.useState(!1),h=GQe();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-lg mx-auto space-y-6 pb-24 pt-4",children:[c.jsxs("div",{className:"text-center mb-6 px-4",children:[c.jsxs("p",{className:"text-base text-zinc-300 font-light",children:["Poblacin Total del Rebao: ",c.jsx("span",{className:"font-bold text-white",children:h.totalPoblacion})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Total de Vientres: ",c.jsx("span",{className:"font-bold text-zinc-200",children:h.totalVientres})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 px-4",children:[c.jsx(L1,{title:"Cabras",value:h.cabras.total,icon:k5,onClick:()=>s(!0)}),c.jsx(L1,{title:"Cabritonas",value:h.cabritonas.total,icon:ba,onClick:()=>l(!0)}),c.jsx(L1,{title:"Cras",value:h.crias.total,icon:Dl,onClick:()=>A(!0)}),c.jsx(L1,{title:"Reproductores",value:h.reproductores.total,icon:Cpe,onClick:()=>f(!0)})]}),c.jsx("div",{className:"pt-4 px-4",children:c.jsxs("div",{className:"relative bg-brand-glass rounded-xl p-1 border border-brand-border flex items-center",children:[c.jsxs("button",{onClick:()=>n("physical"),className:`w-1/2 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="physical"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(zu,{size:16})," ",c.jsx("span",{className:"text-sm font-semibold",children:"Lotes Fsicos"}),c.jsx("span",{onClick:p=>{p.stopPropagation(),i(!0)},className:"ml-2 p-1 rounded-full hover:bg-brand-orange/50",children:c.jsx(na,{size:18})})]}),c.jsxs("button",{onClick:()=>n("breeding"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="breeding"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(lx,{size:16})," Lotes de Monta"]})]})}),c.jsxs("div",{className:"pt-0",children:[" ",e==="physical"&&c.jsx(Yye,{navigateTo:t}),e==="breeding"&&c.jsx(tbe,{navigateTo:t})]})]}),c.jsx(An,{isOpen:a,onClose:()=>s(!1),title:"Anlisis de Hembras Adultas",children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs(fd,{title:"Estado Productivo y Reproductivo",children:[c.jsx(hd,{icon:Bpe,label:"En Produccin",unit:"cabras",value:h.cabras.enProduccion,subLabel:`${(h.cabras.total>0?h.cabras.enProduccion/h.cabras.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(hd,{icon:bc,label:"Secas",unit:"cabras",value:h.cabras.secas,subLabel:`${(h.cabras.total>0?h.cabras.secas/h.cabras.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(hd,{icon:NR,label:"En Monta Activa",unit:"cabras",value:h.cabras.enMonta})]}),c.jsx(fd,{title:"Estado Reproductivo (Vientres)",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(FT,{children:[c.jsx(nu,{data:h.cabras.reproductiveStatusData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:h.cabras.reproductiveStatusData.map(p=>c.jsx(gc,{fill:p.color,stroke:"none"},`cell-${p.name}`))}),c.jsx(Sr,{content:c.jsx(XB,{})}),c.jsx(Tl,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),c.jsx(fd,{title:"Rendimiento Anual en Ordeo",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(Ml,{data:h.cabras.milkingPercentageData,margin:{top:15,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},axisLine:!1,tickLine:!1}),c.jsx(Bi,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"%",axisLine:!1,tickLine:!1}),c.jsx(Sr,{content:c.jsx(XB,{unit:"%"}),cursor:{fill:"rgba(255, 255, 255, 0.08)"}}),c.jsx(Ja,{dataKey:"En Ordeo (%)",fill:"#FF9500",radius:[8,8,0,0],animationDuration:500})]})})})})]})}),c.jsx(An,{isOpen:o,onClose:()=>l(!1),title:"Anlisis de Cabritonas",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(fd,{title:"Disponibilidad para Monta",children:[c.jsx(hd,{icon:NR,label:"En Monta",unit:"cabritonas",value:h.cabritonas.enMonta,subLabel:`${(h.cabritonas.total>0?h.cabritonas.enMonta/h.cabritonas.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(hd,{icon:zu,label:"Disponibles",unit:"cabritonas",value:h.cabritonas.disponibles})]}),c.jsx(fd,{title:"Prximas a Servicio",children:c.jsx(hd,{icon:ame,label:"Con Peso ptimo",unit:"cabritonas",value:h.cabritonas.proximasAServicio,subLabel:"( 28.5 Kg y sin lote asignado)"})})]})}),c.jsx(An,{isOpen:u,onClose:()=>A(!1),title:"Anlisis de Cras en Maternidad",children:c.jsxs("div",{className:"space-y-5",children:[c.jsx(fd,{title:"Distribucin por Sexo",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(FT,{children:[c.jsx(nu,{data:h.crias.criasEnMaternidadData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:h.crias.criasEnMaternidadData.map(p=>c.jsx(gc,{fill:p.color,stroke:"none"},`cell-${p.name}`))}),c.jsx(Sr,{content:c.jsx(XB,{})}),c.jsx(Tl,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),c.jsxs(fd,{title:"Estado de Destete",children:[c.jsx(hd,{icon:Dl,label:"Listas para Destete",unit:"cras",value:h.crias.listasParaDestete,subLabel:" 52 das y  9.5 Kg"}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(hd,{icon:hpe,label:"En Fase de Destete",unit:"cras",value:h.crias.enFaseDestete,subLabel:"45-52 das"})]})]})}),c.jsx(An,{isOpen:d,onClose:()=>f(!1),title:"Estado de Reproductores",children:c.jsx("div",{className:"space-y-4",children:c.jsx(fd,{title:"Activos en Temporada de Monta",children:h.reproductores.activos.length>0?h.reproductores.activos.map((p,m)=>c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{f(!1),t({name:"sire-lot-detail",lotId:p.lotId})},className:"w-full text-left p-2 rounded-lg flex justify-between items-center hover:bg-brand-glass transition-colors group",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:Ar(p)}),c.jsx("p",{className:"text-xs text-brand-medium-gray",children:"Ver lote de monta asignado"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-base font-semibold text-brand-orange",children:[p.assignedFemales," hembras"]}),c.jsx(ta,{className:"text-zinc-500 group-hover:text-white transition-colors"})]})]}),m<h.reproductores.activos.length-1&&c.jsx("div",{className:"border-b border-brand-border/50 mx-2"})]},p.id)):c.jsx("p",{className:"text-sm text-brand-medium-gray text-center py-4",children:"No hay reproductores activos en una temporada de monta actualmente."})})})}),c.jsx(sme,{isOpen:r,onClose:()=>i(!1)})]})}const qQe=()=>({isRelated:P.useCallback((e,n,r)=>{if(!e||!n)return!1;const i=r.find(a=>a.id===e);if(!i)return!1;if(i.fatherId===n)return!0;if(i.motherId){const a=r.find(s=>s.id===i.motherId);if(a&&a.fatherId===n)return!0}return!1},[])}),YQe=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const s=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,l)=>new Date(l.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];s&&(s.status==="activa"?a.push("MILKING"):s.status==="en-secado"?a.push("DRYING_OFF"):a.push("DRY"))}if(t.reproductiveStatus==="Preada"?a.push("PREGNANT"):t.reproductiveStatus==="En Servicio"?n.some(o=>o.femaleId===t.id&&o.sireLotId===t.sireLotId)?a.push("IN_SERVICE_CONFIRMED"):a.push("IN_SERVICE"):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push("EMPTY"),t.sex==="Macho"){const s=i.filter(u=>u.status==="Activo"),o=new Set(s.map(u=>u.id));r.some(u=>u.sireId===t.id&&o.has(u.seasonId))&&a.push("SIRE_IN_SERVICE")}return Array.from(new Set(a))},XQe=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabro"],J7=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-zinc-400 mb-2",children:t}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:()=>r("ALL"),className:`px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return c.jsxs("button",{type:"button",onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-blue text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&c.jsx(a,{size:14}),i.label]},i.key)})]})]}),JQe=({activeMode:t,setActiveMode:e})=>c.jsxs("div",{className:"flex bg-zinc-900 rounded-xl p-1 w-full flex-shrink-0",children:[c.jsxs("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${t==="Activo"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(zu,{size:16})," Activos"]}),c.jsxs("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${t==="Referencia"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(Cq,{size:16})," Referencia"]})]}),ZQe=({animal:t,isSelected:e,onToggle:n,inbreedingRisk:r})=>{const i=t.name?String(t.name).toUpperCase().trim():"";return c.jsx("div",{onClick:()=>n(t.id),className:`w-full text-left p-3 rounded-xl cursor-pointer transition-colors flex items-center justify-between min-h-[70px]
    	 	 ${r?"bg-yellow-900/50 border border-yellow-500/60 hover:bg-yellow-800/50":"bg-zinc-800/50 hover:bg-zinc-700"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"flex-shrink-0",children:e?c.jsx(D5,{className:"text-brand-green",size:20}):c.jsx(O5,{className:"text-zinc-500",size:20})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]})]})})},OE=({isOpen:t,onClose:e,onSelect:n,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:l,sireIdForInbreedingCheck:u,sessionType:A})=>{const{isRelated:d}=qQe(),[f,h]=P.useState(""),[p,m]=P.useState("Activo"),[v,g]=P.useState(new Set),[y,x]=P.useState(!1),[C,E]=P.useState("ALL"),[j,_]=P.useState("ALL"),[B,N]=P.useState("ALL"),[D,T]=P.useState("ALL"),O=()=>{E("ALL"),_("ALL"),N("ALL"),T("ALL")},L=P.useMemo(()=>r.map(M=>({...M,statuses:YQe(M,i,a,o,s),formattedAge:uu(M.birthDate),zootecnicCategory:Bf(M,i)})),[r,i,a,o,s]);P.useEffect(()=>{t&&A&&(O(),A==="leche"&&_("MILKING"))},[t,A]);const H=P.useMemo(()=>{let M=L;if(M=M.filter($=>p==="Activo"?$.status==="Activo"&&!$.isReference&&!$.sireLotId:$.isReference),C!=="ALL"&&(M=M.filter($=>$.zootecnicCategory===C)),p==="Activo"?(j!=="ALL"&&(M=M.filter($=>$.statuses.includes(j))),B!=="ALL"&&(M=M.filter($=>$.statuses.includes(B)))):D!=="ALL"&&(M=M.filter($=>$.status===D)),A==="leche"&&(M=M.filter($=>$.statuses.includes("MILKING"))),f){const $=f.toLowerCase();M=M.filter(J=>J.id.toLowerCase().includes($)||J.name&&J.name.toLowerCase().includes($))}return M.sort(($,J)=>$.id.localeCompare(J.id))},[L,C,j,B,D,p,f,A]);P.useEffect(()=>{t&&A&&g(new Set(H.map(M=>M.id)))},[H,t,A]);const q=P.useMemo(()=>H.length>0&&H.every(M=>v.has(M.id)),[H,v]),Y=P.useMemo(()=>v.size>0&&!q,[v,q]),ee=()=>{g(q?new Set:new Set(H.map(M=>M.id)))},K=M=>{g($=>{const J=new Set($);return J.has(M)?J.delete(M):J.add(M),J})},te=()=>{n(Array.from(v)),le()},le=()=>{g(new Set),h(""),x(!1),e()},se=l.replace("Aadir animales a:","Lote:");return c.jsxs(c.Fragment,{children:[c.jsx(An,{isOpen:t,onClose:le,title:se,size:"fullscreen",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"flex-shrink-0 space-y-3 px-2 pt-4 pb-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(Hu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),c.jsx("input",{type:"search",placeholder:"Buscar ID o Nombre...",value:f,onChange:M=>h(M.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]})}),c.jsxs("div",{className:"flex-grow overflow-y-auto space-y-2 px-2 min-h-[10rem]",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsxs("div",{onClick:ee,className:"flex items-center gap-3 cursor-pointer p-1",children:[q?c.jsx(D5,{className:"text-brand-green",size:20}):Y?c.jsx(Fpe,{className:"text-zinc-500",size:20}):c.jsx(O5,{className:"text-zinc-500",size:20}),c.jsxs("span",{className:"text-sm font-semibold text-zinc-300",children:[q?"Deseleccionar Todos":"Seleccionar Todos"," (",H.length,")"]})]}),c.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1.5 text-brand-blue font-semibold p-2 rounded-lg hover:bg-zinc-800",children:[c.jsx(Sq,{size:16}),"Filtros"]})]}),H.length>0?H.map(M=>{const $=u?d(M.id,u,r):!1;return c.jsx(ZQe,{animal:M,isSelected:v.has(M.id),onToggle:K,inbreedingRisk:$},M.id)}):c.jsx("p",{className:"text-zinc-500 text-center py-8",children:f?`No se encontraron resultados para "${f}"`:"No hay animales con estos filtros."})]}),c.jsx("div",{className:"flex-shrink-0 px-2 py-4 border-t border-zinc-700/50 bg-ios-modal-bg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:le,className:"text-zinc-400 hover:text-white px-4 py-2",children:c.jsx("span",{className:"font-semibold",children:"Cancelar"})}),c.jsxs("button",{onClick:te,disabled:v.size===0,className:"bg-brand-green hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl disabled:opacity-50 transition-colors",children:["Seleccionar (",v.size,")"]})]})})]})}),c.jsx(An,{isOpen:y,onClose:()=>x(!1),title:"Filtros",size:"default",children:c.jsxs("div",{className:"space-y-4 px-4 pb-4",children:[c.jsx(JQe,{activeMode:p,setActiveMode:m}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Categora Zootcnica"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>E("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${C==="ALL"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Todos"}),XQe.map(M=>c.jsx("button",{onClick:()=>E(M),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${C===M?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:M},M))]})]}),p==="Activo"&&c.jsxs(c.Fragment,{children:[c.jsx(J7,{title:"Filtros Productivos",filters:["MILKING","DRYING_OFF","DRY"].map(M=>Dr[M]).filter(Boolean),activeFilter:j,onFilterChange:_}),c.jsx(J7,{title:"Filtros Reproductivos",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(M=>Dr[M]).filter(Boolean),activeFilter:B,onFilterChange:N})]}),p==="Referencia"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Causa de Baja"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>T("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="ALL"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Todas"}),c.jsx("button",{onClick:()=>T("Venta"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Venta"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Venta"}),c.jsx("button",{onClick:()=>T("Muerte"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Muerte"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Muerte"}),c.jsx("button",{onClick:()=>T("Descarte"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Descarte"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Descarte"})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-zinc-700/50",children:[c.jsxs("button",{onClick:O,className:"flex-shrink-0 p-2 rounded-xl border border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:[c.jsx(_D,{size:16})," ",c.jsx("span",{className:"ml-1 text-sm",children:"Limpiar Filtros"})]}),c.jsx("button",{onClick:()=>x(!1),className:"px-5 py-2 bg-brand-blue text-white font-bold rounded-lg",children:"Ver Resultados"})]})]})})]})},e7e=({isOpen:t,onClose:e,animalsToTransfer:n,fromLot:r})=>{const{lots:i,updateAnimal:a}=Yt(),[s,o]=P.useState(""),l=P.useMemo(()=>i.filter(A=>A.name!==r),[i,r]),u=async()=>{if(!s||n.length===0)return;const A=n.map(d=>a(d,{location:s}));try{await Promise.all(A),e()}catch(d){console.error("Error al transferir animales:",d)}};return c.jsx(An,{isOpen:t,onClose:e,title:`Transferir ${n.length} animales`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:["Transferir desde: ",c.jsx("span",{className:"font-semibold text-white",children:r})]}),c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1 mt-4",children:"Hacia el lote:"}),c.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[c.jsx("option",{value:"",children:"Seleccionar lote de destino..."}),l.map(A=>c.jsx("option",{value:A.name,children:A.name},A.id))]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:u,disabled:!s,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:"Confirmar Transferencia"})]})]})})};function Pp(t,e,n){let r=n.initialDeps??[],i;function a(){var s,o,l,u;let A;n.key&&((s=n.debug)!=null&&s.call(n))&&(A=Date.now());const d=t();if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return i;r=d;let h;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(h=Date.now()),i=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-A)*100)/100,m=Math.round((Date.now()-h)*100)/100,v=m/16,g=(y,x)=>{for(y=String(y);y.length<x;)y=" "+y;return y};console.info(`%c ${g(m,5)} /${g(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,i),i}return a.updateDeps=s=>{r=s},a}function Z7(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const t7e=(t,e)=>Math.abs(t-e)<1.01,n7e=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},eH=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},r7e=t=>t,i7e=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},a7e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=s=>{const{width:o,height:l}=s;e({width:Math.round(o),height:Math.round(l)})};if(i(eH(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(s=>{const o=()=>{const l=s[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(eH(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},tH={passive:!0},nH=typeof window>"u"?!0:"onscrollend"in window,s7e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const a=t.options.useScrollendEvent&&nH?()=>{}:n7e(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=A=>()=>{const{horizontal:d,isRtl:f}=t.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,a(),e(i,A)},o=s(!0),l=s(!1);l(),n.addEventListener("scroll",o,tH);const u=t.options.useScrollendEvent&&nH;return u&&n.addEventListener("scrollend",l,tH),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},o7e=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},l7e=(t,{adjustments:e=0,behavior:n},r)=>{var i,a;const s=t+e;(a=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class c7e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const s=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=r())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=r())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:r7e,rangeExtractor:i7e,onChange:()=>{},measureElement:o7e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Pp(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,a=new Map;for(let s=r-1;s>=0;s--){const o=n[s];if(i.has(o.lane))continue;const l=a.get(o.lane);if(l==null||o.end>l.end?a.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=Pp(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=Pp(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(A=>{this.itemSizeCache.set(A.key,A.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let A=l;A<n;A++){const d=a(A),f=this.options.lanes===1?u[A-1]:this.getFurthestMeasurement(u,A),h=f?f.end+this.options.gap:r+i,p=o.get(d),m=typeof p=="number"?p:this.options.estimateSize(A),v=h+m,g=f?f.lane:A%this.options.lanes;u[A]={index:A,start:h,size:m,end:v,key:d,lane:g}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Pp(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,a)=>this.range=n.length>0&&r>0?u7e({measurements:n,outerSize:r,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Pp(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,a,s)=>a===null||s===null?[]:n({startIndex:a,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=r-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Pp(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let a=0,s=n.length;a<s;a++){const o=n[a],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Z7(r[dte(0,r.length-1,i=>Z7(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const a=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+a?"end":"start"),r==="center"?n+=(i-a)/2:r==="end"&&(n-=a);const o=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const s=10,o=u=>{if(!this.targetWindow)return;const A=this.getOffsetForIndex(n,u);if(!A){console.warn("Failed to get offset for index:",n);return}const[d,f]=A;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const h=this.getScrollOffset(),p=this.getOffsetForIndex(n,f);if(!p){console.warn("Failed to get offset for index:",n);return}t7e(p[0],h)||l(f)})},l=u=>{this.targetWindow&&(a++,a<s?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&a.some(o=>o===null);){const o=r[s];a[o.lane]===null&&(a[o.lane]=o.end),s--}i=Math.max(...a.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const dte=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,a=n(i);if(a<r)t=i+1;else if(a>r)e=i-1;else return i}return t>0?t-1:0};function u7e({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,a=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let s=dte(0,i,a,n),o=s;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(A=>A<n+e);){const A=t[o];l[A.lane]=A.end,o++}const u=Array(r).fill(n+e);for(;s>=0&&u.some(A=>A>=n);){const A=t[s];u[A.lane]=A.start,s--}s=Math.max(0,s-s%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}const rH=typeof document<"u"?P.useLayoutEffect:P.useEffect;function A7e(t){const e=P.useReducer(()=>({}),{})[1],n={...t,onChange:(i,a)=>{var s;a?Py.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,a)}},[r]=P.useState(()=>new c7e(n));return r.setOptions(n),rH(()=>r._didMount(),[]),rH(()=>r._willUpdate()),r}function fte(t){return A7e({observeElementRect:a7e,observeElementOffset:s7e,scrollToFn:l7e,...t})}const hte=({statuses:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((n,r)=>{const i=["MILKING","DRYING_OFF","DRY","PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"];return i.indexOf(n.key)-i.indexOf(r.key)});return c.jsx("div",{className:"flex items-center space-x-1.5",children:e.map(({key:n,Icon:r,color:i,label:a})=>c.jsx("span",{title:a,children:c.jsx(r,{className:i,size:16,strokeWidth:2.5})},n))})},EO=({animal:t,onSelect:e,onOpenActions:n})=>{const r=Ap(),i=P.useRef(!1),a=(l,u)=>{const A=u.offset.x,d=u.velocity.x;(A<-80/2||d<-500)&&n(t),r.start({x:0}),setTimeout(()=>{i.current=!1},50)},s=t.isReference?t.sex==="Macho"?"bg-blue-400":"bg-pink-400":null,o=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border min-h-[80px]",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("div",{className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(na,{size:20}),c.jsx("span",{className:"text-[10px] mt-0.5 font-semibold",children:"Acciones"})]})}),s&&c.jsx("div",{className:`absolute top-2 right-2 w-2 h-2 rounded-full ${s} z-20`,title:t.sex}),c.jsx(Zi.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{i.current=!0},onDragEnd:a,onTap:()=>{i.current||e(t.id)},animate:r,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-3 flex items-center min-h-[80px]",children:c.jsxs("div",{className:"flex justify-between items-center w-full",children:[" ",c.jsxs("div",{className:"min-w-0 pr-3",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),o&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:o}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]}),t.sireName&&c.jsxs("span",{className:"block sm:inline sm:ml-2",children:["(Rep: ",t.sireName,")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[" ",c.jsx(hte,{statuses:t.statusObjects})," ",c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})," "]})]})})]})},_O=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState(""),{fathers:u}=Yt(),A=()=>{l("");const d=r.trim().toUpperCase(),f=a.trim();if(!d||!f){l("Ambos campos son obligatorios.");return}if(u.some(h=>h.id===d)){l("Este ID ya est en uso. Por favor, elige otro.");return}n({id:d,name:f}),i(""),s("")};return c.jsx(An,{isOpen:t,onClose:e,title:"Aadir Nuevo Padre",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID nico y el nombre del nuevo semental."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"}),c.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Nombre del Padre (ej. Sansn)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),o&&c.jsx("p",{className:"text-sm text-brand-red",children:o}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500 font-semibold",children:"Cancelar"}),c.jsx("button",{onClick:A,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Padre"})]})]})})};function _r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Rl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function yo(t,e){const n=_r(t);return isNaN(e)?Rl(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function iu(t,e){const n=_r(t);if(isNaN(e))return Rl(t,NaN);if(!e)return n;const r=n.getDate(),i=Rl(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const BO=6048e5,d7e=864e5;let f7e={};function Sx(){return f7e}function Ku(t,e){var o,l,u,A;const n=Sx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,i=_r(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Xh(t){return Ku(t,{weekStartsOn:1})}function pte(t){const e=_r(t),n=e.getFullYear(),r=Rl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Xh(r),a=Rl(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Xh(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Kg(t){const e=_r(t);return e.setHours(0,0,0,0),e}function fS(t){const e=_r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tu(t,e){const n=Kg(t),r=Kg(e),i=+n-fS(n),a=+r-fS(r);return Math.round((i-a)/d7e)}function h7e(t){const e=pte(t),n=Rl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Xh(n)}function RT(t,e){const n=e*7;return yo(t,n)}function p7e(t,e){return iu(t,e*12)}function m7e(t){let e;return t.forEach(function(n){const r=_r(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function g7e(t){let e;return t.forEach(n=>{const r=_r(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Ro(t,e){const n=Kg(t),r=Kg(e);return+n==+r}function NO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function v7e(t){if(!NO(t)&&typeof t!="number")return!1;const e=_r(t);return!isNaN(Number(e))}function Pb(t,e){const n=_r(t),r=_r(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function y7e(t,e,n){const r=Ku(t,n),i=Ku(e,n),a=+r-fS(r),s=+i-fS(i);return Math.round((a-s)/BO)}function jO(t){const e=_r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ko(t){const e=_r(t);return e.setDate(1),e.setHours(0,0,0,0),e}function mte(t){const e=_r(t),n=Rl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function IO(t,e){var o,l,u,A;const n=Sx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,i=_r(t),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function gte(t){return IO(t,{weekStartsOn:1})}const b7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x7e=(t,e,n)=>{let r;const i=b7e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Um(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const w7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},C7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E7e={date:Um({formats:w7e,defaultWidth:"full"}),time:Um({formats:C7e,defaultWidth:"full"}),dateTime:Um({formats:S7e,defaultWidth:"full"})},_7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B7e=(t,e,n,r)=>_7e[t];function Bu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const N7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},j7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D7e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},O7e={ordinalNumber:D7e,era:Bu({values:N7e,defaultWidth:"wide"}),quarter:Bu({values:j7e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bu({values:I7e,defaultWidth:"wide"}),day:Bu({values:T7e,defaultWidth:"wide"}),dayPeriod:Bu({values:k7e,defaultWidth:"wide",formattingValues:P7e,defaultFormattingWidth:"wide"})};function Nu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?L7e(o,d=>d.test(s)):F7e(o,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const A=e.slice(s.length);return{value:u,rest:A}}}function F7e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function L7e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vte(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const M7e=/^(\d+)(th|st|nd|rd)?/i,R7e=/\d+/i,U7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q7e={any:[/^b/i,/^(a|c)/i]},H7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z7e={any:[/1/i,/2/i,/3/i,/4/i]},V7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y7e={ordinalNumber:vte({matchPattern:M7e,parsePattern:R7e,valueCallback:t=>parseInt(t,10)}),era:Nu({matchPatterns:U7e,defaultMatchWidth:"wide",parsePatterns:Q7e,defaultParseWidth:"any"}),quarter:Nu({matchPatterns:H7e,defaultMatchWidth:"wide",parsePatterns:z7e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nu({matchPatterns:V7e,defaultMatchWidth:"wide",parsePatterns:$7e,defaultParseWidth:"any"}),day:Nu({matchPatterns:K7e,defaultMatchWidth:"wide",parsePatterns:W7e,defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:G7e,defaultMatchWidth:"any",parsePatterns:q7e,defaultParseWidth:"any"})},yte={code:"en-US",formatDistance:x7e,formatLong:E7e,formatRelative:B7e,localize:O7e,match:Y7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X7e(t){const e=_r(t);return Tu(e,mte(e))+1}function bte(t){const e=_r(t),n=+Xh(e)-+h7e(e);return Math.round(n/BO)+1}function xte(t,e){var A,d,f,h;const n=_r(t),r=n.getFullYear(),i=Sx(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=Rl(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Ku(s,e),l=Rl(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=Ku(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function J7e(t,e){var o,l,u,A;const n=Sx(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,i=xte(t,e),a=Rl(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ku(a,e)}function wte(t,e){const n=_r(t),r=+Ku(n,e)-+J7e(n,e);return Math.round(r/BO)+1}function zr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const pd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return zr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):zr(n+1,2)},d(t,e){return zr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return zr(t.getHours()%12||12,e.length)},H(t,e){return zr(t.getHours(),e.length)},m(t,e){return zr(t.getMinutes(),e.length)},s(t,e){return zr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zr(i,e.length)}},Dp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iH={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return pd.y(t,e)},Y:function(t,e,n,r){const i=xte(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return zr(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):zr(a,e.length)},R:function(t,e){const n=pte(t);return zr(n,e.length)},u:function(t,e){const n=t.getFullYear();return zr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return pd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):zr(i,e.length)},I:function(t,e,n){const r=bte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):zr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):pd.d(t,e)},D:function(t,e,n){const r=X7e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return zr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return zr(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return zr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Dp.noon:r===0?i=Dp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Dp.evening:r>=12?i=Dp.afternoon:r>=4?i=Dp.morning:i=Dp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return pd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):pd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):pd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):pd.s(t,e)},S:function(t,e){return pd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return sH(r);case"XXXX":case"XX":return Zf(r);case"XXXXX":case"XXX":default:return Zf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return sH(r);case"xxxx":case"xx":return Zf(r);case"xxxxx":case"xxx":default:return Zf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aH(r,":");case"OOOO":default:return"GMT"+Zf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aH(r,":");case"zzzz":default:return"GMT"+Zf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return zr(r,e.length)},T:function(t,e,n){const r=t.getTime();return zr(r,e.length)}};function aH(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+zr(a,2)}function sH(t,e){return t%60===0?(t>0?"-":"+")+zr(Math.abs(t)/60,2):Zf(t,e)}function Zf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=zr(Math.trunc(r/60),2),a=zr(r%60,2);return n+i+e+a}const oH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Cte=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z7e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return oH(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",oH(r,e)).replace("{{time}}",Cte(i,e))},eHe={p:Cte,P:Z7e},tHe=/^D+$/,nHe=/^Y+$/,rHe=["D","DD","YY","YYYY"];function iHe(t){return tHe.test(t)}function aHe(t){return nHe.test(t)}function sHe(t,e,n){const r=oHe(t,e,n);if(console.warn(r),rHe.includes(t))throw new RangeError(r)}function oHe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lHe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cHe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uHe=/^'([^]*?)'?$/,AHe=/''/g,dHe=/[a-zA-Z]/;function gp(t,e,n){var A,d,f,h,p,m,v,g;const r=Sx(),i=(n==null?void 0:n.locale)??r.locale??yte,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((g=(v=r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,o=_r(t);if(!v7e(o))throw new RangeError("Invalid time value");let l=e.match(cHe).map(y=>{const x=y[0];if(x==="p"||x==="P"){const C=eHe[x];return C(y,i.formatLong)}return y}).join("").match(lHe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:fHe(y)};if(iH[x])return{isToken:!0,value:y};if(x.match(dHe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&aHe(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&iHe(x))&&sHe(x,e,String(t));const C=iH[x[0]];return C(o,x,i.localize,u)}).join("")}function fHe(t){const e=t.match(uHe);return e?e[1].replace(AHe,"'"):t}function hHe(t){const e=_r(t),n=e.getFullYear(),r=e.getMonth(),i=Rl(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function pHe(t){return Math.trunc(+_r(t)/1e3)}function mHe(t){const e=_r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function gHe(t,e){return y7e(mHe(t),Ko(t),e)+1}function UT(t,e){const n=_r(t),r=_r(e);return n.getTime()>r.getTime()}function Ste(t,e){const n=_r(t),r=_r(e);return+n<+r}function TO(t,e){const n=_r(t),r=_r(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function vHe(t,e){const n=_r(t),r=_r(e);return n.getFullYear()===r.getFullYear()}function JB(t,e){return yo(t,-e)}function ZB(t,e){const n=_r(t),r=n.getFullYear(),i=n.getDate(),a=Rl(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const s=hHe(a);return n.setMonth(e,Math.min(i,s)),n}function lH(t,e){const n=_r(t);return isNaN(+n)?Rl(t,NaN):(n.setFullYear(e),n)}const yHe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},bHe=(t,e,n)=>{let r;const i=yHe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},xHe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},wHe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},CHe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SHe={date:Um({formats:xHe,defaultWidth:"full"}),time:Um({formats:wHe,defaultWidth:"full"}),dateTime:Um({formats:CHe,defaultWidth:"full"})},EHe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},_He={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},BHe=(t,e,n,r)=>e.getHours()!==1?_He[t]:EHe[t],NHe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},jHe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},IHe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},THe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},kHe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},PHe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},DHe=(t,e)=>Number(t)+"",OHe={ordinalNumber:DHe,era:Bu({values:NHe,defaultWidth:"wide"}),quarter:Bu({values:jHe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Bu({values:IHe,defaultWidth:"wide"}),day:Bu({values:THe,defaultWidth:"wide"}),dayPeriod:Bu({values:kHe,defaultWidth:"wide",formattingValues:PHe,defaultFormattingWidth:"wide"})},FHe=/^(\d+)()?/i,LHe=/\d+/i,MHe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},RHe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},UHe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},QHe={any:[/1/i,/2/i,/3/i,/4/i]},HHe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},zHe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},VHe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},$He={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},KHe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},WHe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},GHe={ordinalNumber:vte({matchPattern:FHe,parsePattern:LHe,valueCallback:function(t){return parseInt(t,10)}}),era:Nu({matchPatterns:MHe,defaultMatchWidth:"wide",parsePatterns:RHe,defaultParseWidth:"any"}),quarter:Nu({matchPatterns:UHe,defaultMatchWidth:"wide",parsePatterns:QHe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nu({matchPatterns:HHe,defaultMatchWidth:"wide",parsePatterns:zHe,defaultParseWidth:"any"}),day:Nu({matchPatterns:VHe,defaultMatchWidth:"wide",parsePatterns:$He,defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:KHe,defaultMatchWidth:"any",parsePatterns:WHe,defaultParseWidth:"any"})},Ex={code:"es",formatDistance:bHe,formatLong:SHe,formatRelative:BHe,localize:OHe,match:GHe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var In=function(){return In=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},In.apply(this,arguments)};function qHe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ete(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function _x(t){return t.mode==="multiple"}function Bx(t){return t.mode==="range"}function FE(t){return t.mode==="single"}var YHe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function XHe(t,e){return gp(t,"LLLL y",e)}function JHe(t,e){return gp(t,"d",e)}function ZHe(t,e){return gp(t,"LLLL",e)}function eze(t){return"".concat(t)}function tze(t,e){return gp(t,"cccccc",e)}function nze(t,e){return gp(t,"yyyy",e)}var rze=Object.freeze({__proto__:null,formatCaption:XHe,formatDay:JHe,formatMonthCaption:ZHe,formatWeekNumber:eze,formatWeekdayName:tze,formatYearCaption:nze}),ize=function(t,e,n){return gp(t,"do MMMM (EEEE)",n)},aze=function(){return"Month: "},sze=function(){return"Go to next month"},oze=function(){return"Go to previous month"},lze=function(t,e){return gp(t,"cccc",e)},cze=function(t){return"Week n. ".concat(t)},uze=function(){return"Year: "},Aze=Object.freeze({__proto__:null,labelDay:ize,labelMonthDropdown:aze,labelNext:sze,labelPrevious:oze,labelWeekNumber:cze,labelWeekday:lze,labelYearDropdown:uze});function dze(){var t="buttons",e=YHe,n=yte,r={},i={},a=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:rze,labels:Aze,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function fze(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return r?a=Ko(r):e&&(a=new Date(e,0,1)),i?s=jO(i):n&&(s=new Date(n,11,31)),{fromDate:a?Kg(a):void 0,toDate:s?Kg(s):void 0}}var _te=P.createContext(void 0);function hze(t){var e,n=t.initialProps,r=dze(),i=fze(n),a=i.fromDate,s=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var l;(FE(n)||_x(n)||Bx(n))&&(l=n.onSelect);var u=In(In(In({},r),n),{captionLayout:o,classNames:In(In({},r.classNames),n.classNames),components:In({},n.components),formatters:In(In({},r.formatters),n.formatters),fromDate:a,labels:In(In({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:In(In({},r.modifiers),n.modifiers),modifiersClassNames:In(In({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:In(In({},r.styles),n.styles),toDate:s});return c.jsx(_te.Provider,{value:u,children:t.children})}function pi(){var t=P.useContext(_te);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Bte(t){var e=pi(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function pze(t){return c.jsx("svg",In({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Nte(t){var e,n,r=t.onChange,i=t.value,a=t.children,s=t.caption,o=t.className,l=t.style,u=pi(),A=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:pze;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,c.jsx(A,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function mze(t){var e,n=pi(),r=n.fromDate,i=n.toDate,a=n.styles,s=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,A=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var d=[];if(vHe(r,i))for(var f=Ko(r),h=r.getMonth();h<=i.getMonth();h++)d.push(ZB(f,h));else for(var f=Ko(new Date),h=0;h<=11;h++)d.push(ZB(f,h));var p=function(v){var g=Number(v.target.value),y=ZB(Ko(t.displayMonth),g);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Nte;return c.jsx(m,{name:"months","aria-label":A(),className:l.dropdown_month,style:a.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:d.map(function(v){return c.jsx("option",{value:v.getMonth(),children:o(v,{locale:s})},v.getMonth())})})}function gze(t){var e,n=t.displayMonth,r=pi(),i=r.fromDate,a=r.toDate,s=r.locale,o=r.styles,l=r.classNames,u=r.components,A=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,f=[];if(!i)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});for(var h=i.getFullYear(),p=a.getFullYear(),m=h;m<=p;m++)f.push(lH(mte(new Date),m));var v=function(y){var x=lH(Ko(n),Number(y.target.value));t.onChange(x)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Nte;return c.jsx(g,{name:"years","aria-label":d(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:n.getFullYear(),caption:A(n,{locale:s}),children:f.map(function(y){return c.jsx("option",{value:y.getFullYear(),children:A(y,{locale:s})},y.getFullYear())})})}function vze(t,e){var n=P.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function yze(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,s=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(a&&Pb(a,i)<0){var u=-1*(l-1);i=iu(a,u)}return s&&Pb(i,s)<0&&(i=s),Ko(i)}function bze(){var t=pi(),e=yze(t),n=vze(e,t.month),r=n[0],i=n[1],a=function(s){var o;if(!t.disableNavigation){var l=Ko(s);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,a]}function xze(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Ko(t),a=Ko(iu(i,r)),s=Pb(a,i),o=[],l=0;l<s;l++){var u=iu(i,l);o.push(u)}return n&&(o=o.reverse()),o}function wze(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=Ko(t);if(!n)return iu(o,s);var l=Pb(n,t);if(!(l<a))return iu(o,s)}}function Cze(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=Ko(t);if(!n)return iu(o,-s);var l=Pb(o,n);if(!(l<=0))return iu(o,-s)}}var jte=P.createContext(void 0);function Sze(t){var e=pi(),n=bze(),r=n[0],i=n[1],a=xze(r,e),s=wze(r,e),o=Cze(r,e),l=function(d){return a.some(function(f){return TO(d,f)})},u=function(d,f){l(d)||(f&&Ste(d,f)?i(iu(d,1+e.numberOfMonths*-1)):i(d))},A={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:l};return c.jsx(jte.Provider,{value:A,children:t.children})}function Nx(){var t=P.useContext(jte);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function cH(t){var e,n=pi(),r=n.classNames,i=n.styles,a=n.components,s=Nx().goToMonth,o=function(A){s(iu(A,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:Bte,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:u}),c.jsx(mze,{onChange:o,displayMonth:t.displayMonth}),c.jsx(gze,{onChange:o,displayMonth:t.displayMonth})]})}function Eze(t){return c.jsx("svg",In({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _ze(t){return c.jsx("svg",In({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hS=P.forwardRef(function(t,e){var n=pi(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var s=a.join(" "),o=In(In({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",In({},t,{ref:e,type:"button",className:s,style:o}))});function Bze(t){var e,n,r=pi(),i=r.dir,a=r.locale,s=r.classNames,o=r.styles,l=r.labels,u=l.labelPrevious,A=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var f=u(t.previousMonth,{locale:a}),h=[s.nav_button,s.nav_button_previous].join(" "),p=A(t.nextMonth,{locale:a}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:_ze,g=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:Eze;return c.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(hS,{name:"previous-month","aria-label":f,className:h,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(v,{className:s.nav_icon,style:o.nav_icon}):c.jsx(g,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(hS,{name:"next-month","aria-label":p,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(g,{className:s.nav_icon,style:o.nav_icon}):c.jsx(v,{className:s.nav_icon,style:o.nav_icon})})]})}function uH(t){var e=pi().numberOfMonths,n=Nx(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,s=n.displayMonths,o=s.findIndex(function(p){return TO(t.displayMonth,p)}),l=o===0,u=o===s.length-1,A=e>1&&(l||!u),d=e>1&&(u||!l),f=function(){r&&a(r)},h=function(){i&&a(i)};return c.jsx(Bze,{displayMonth:t.displayMonth,hideNext:A,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:h})}function Nze(t){var e,n=pi(),r=n.classNames,i=n.disableNavigation,a=n.styles,s=n.captionLayout,o=n.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:Bte,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=c.jsx(cH,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(cH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(uH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(uH,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:r.caption,style:a.caption,children:u})}function jze(t){var e=pi(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?c.jsx("tfoot",{className:i,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function Ize(t,e,n){for(var r=n?Xh(new Date):Ku(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=yo(r,a);i.push(s)}return i}function Tze(){var t=pi(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=Ize(i,a,s);return c.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(A,d){return c.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(A,{locale:i}),children:o(A,{locale:i})},d)})]})}function kze(){var t,e=pi(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Tze;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(a,{})})}function Pze(t){var e=pi(),n=e.locale,r=e.formatters.formatDay;return c.jsx(c.Fragment,{children:r(t.date,{locale:n})})}var kO=P.createContext(void 0);function Dze(t){if(!_x(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(kO.Provider,{value:e,children:t.children})}return c.jsx(Oze,{initialProps:t.initialProps,children:t.children})}function Oze(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,s=function(u,A,d){var f,h;(f=e.onDayClick)===null||f===void 0||f.call(e,u,A,d);var p=!!(A.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var m=!!(!A.selected&&a&&(r==null?void 0:r.length)===a);if(!m){var v=r?Ete([],r):[];if(A.selected){var g=v.findIndex(function(y){return Ro(u,y)});v.splice(g,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,A,d)}}},o={disabled:[]};r&&o.disabled.push(function(u){var A=a&&r.length>a-1,d=r.some(function(f){return Ro(f,u)});return!!(A&&!d)});var l={selected:r,onDayClick:s,modifiers:o};return c.jsx(kO.Provider,{value:l,children:n})}function PO(){var t=P.useContext(kO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Fze(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Ro(i,t)&&Ro(r,t)?void 0:Ro(i,t)?{from:i,to:void 0}:Ro(r,t)?void 0:UT(r,t)?{from:t,to:i}:{from:r,to:t}:i?UT(t,i)?{from:i,to:t}:{from:t,to:i}:r?Ste(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var DO=P.createContext(void 0);function Lze(t){if(!Bx(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(DO.Provider,{value:e,children:t.children})}return c.jsx(Mze,{initialProps:t.initialProps,children:t.children})}function Mze(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,s=i.to,o=e.min,l=e.max,u=function(h,p,m){var v,g;(v=e.onDayClick)===null||v===void 0||v.call(e,h,p,m);var y=Fze(h,r);(g=e.onSelect)===null||g===void 0||g.call(e,y,h,p,m)},A={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(A.range_start=[a],s?(A.range_end=[s],Ro(a,s)||(A.range_middle=[{after:a,before:s}])):A.range_end=[a]):s&&(A.range_start=[s],A.range_end=[s]),o&&(a&&!s&&A.disabled.push({after:JB(a,o-1),before:yo(a,o-1)}),a&&s&&A.disabled.push({after:a,before:yo(a,o-1)}),!a&&s&&A.disabled.push({after:JB(s,o-1),before:yo(s,o-1)})),l){if(a&&!s&&(A.disabled.push({before:yo(a,-l+1)}),A.disabled.push({after:yo(a,l-1)})),a&&s){var d=Tu(s,a)+1,f=l-d;A.disabled.push({before:JB(a,f)}),A.disabled.push({after:yo(s,f)})}!a&&s&&(A.disabled.push({before:yo(s,-l+1)}),A.disabled.push({after:yo(s,l-1)}))}return c.jsx(DO.Provider,{value:{selected:r,onDayClick:u,modifiers:A},children:n})}function OO(){var t=P.useContext(DO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function e2(t){return Array.isArray(t)?Ete([],t):t!==void 0?[t]:[]}function Rze(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=e2(i)}),e}var au;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(au||(au={}));var Uze=au.Selected,cA=au.Disabled,Qze=au.Hidden,Hze=au.Today,eN=au.RangeEnd,tN=au.RangeMiddle,nN=au.RangeStart,zze=au.Outside;function Vze(t,e,n){var r,i=(r={},r[Uze]=e2(t.selected),r[cA]=e2(t.disabled),r[Qze]=e2(t.hidden),r[Hze]=[t.today],r[eN]=[],r[tN]=[],r[nN]=[],r[zze]=[],r);return t.fromDate&&i[cA].push({before:t.fromDate}),t.toDate&&i[cA].push({after:t.toDate}),_x(t)?i[cA]=i[cA].concat(e.modifiers[cA]):Bx(t)&&(i[cA]=i[cA].concat(n.modifiers[cA]),i[nN]=n.modifiers[nN],i[tN]=n.modifiers[tN],i[eN]=n.modifiers[eN]),i}var Ite=P.createContext(void 0);function $ze(t){var e=pi(),n=PO(),r=OO(),i=Vze(e,n,r),a=Rze(e.modifiers),s=In(In({},i),a);return c.jsx(Ite.Provider,{value:s,children:t.children})}function Tte(){var t=P.useContext(Ite);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Kze(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Wze(t){return!!(t&&typeof t=="object"&&"from"in t)}function Gze(t){return!!(t&&typeof t=="object"&&"after"in t)}function qze(t){return!!(t&&typeof t=="object"&&"before"in t)}function Yze(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Xze(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=Tu(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var s=Tu(t,r)>=0&&Tu(i,t)>=0;return s}return i?Ro(i,t):r?Ro(r,t):!1}function Jze(t){return NO(t)}function Zze(t){return Array.isArray(t)&&t.every(NO)}function e9e(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Jze(n))return Ro(t,n);if(Zze(n))return n.includes(t);if(Wze(n))return Xze(t,n);if(Yze(n))return n.dayOfWeek.includes(t.getDay());if(Kze(n)){var r=Tu(n.before,t),i=Tu(n.after,t),a=r>0,s=i<0,o=UT(n.before,n.after);return o?s&&a:a||s}return Gze(n)?Tu(t,n.after)>0:qze(n)?Tu(n.before,t)>0:typeof n=="function"?n(t):!1})}function FO(t,e,n){var r=Object.keys(e).reduce(function(a,s){var o=e[s];return e9e(t,o)&&a.push(s),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!TO(t,n)&&(i.outside=!0),i}function t9e(t,e){for(var n=Ko(t[0]),r=jO(t[t.length-1]),i,a,s=n;s<=r;){var o=FO(s,e),l=!o.disabled&&!o.hidden;if(!l){s=yo(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=yo(s,1)}return a||i}var n9e=365;function kte(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,u=i.fromDate,A=i.toDate,d=i.locale,f={day:yo,week:RT,month:iu,year:p7e,startOfWeek:function(v){return i.ISOWeek?Xh(v):Ku(v,{locale:d,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?gte(v):IO(v,{locale:d,weekStartsOn:l})}},h=f[n](t,r==="after"?1:-1);r==="before"&&u?h=m7e([u,h]):r==="after"&&A&&(h=g7e([A,h]));var p=!0;if(a){var m=FO(h,a);p=!m.disabled&&!m.hidden}return p?h:o.count>n9e?o.lastFocused:kte(h,{moveBy:n,direction:r,context:i,modifiers:a,retry:In(In({},o),{count:o.count+1})})}var Pte=P.createContext(void 0);function r9e(t){var e=Nx(),n=Tte(),r=P.useState(),i=r[0],a=r[1],s=P.useState(),o=s[0],l=s[1],u=t9e(e.displayMonths,n),A=i??(o&&e.isDateDisplayed(o))?o:u,d=function(){l(i),a(void 0)},f=function(v){a(v)},h=pi(),p=function(v,g){if(i){var y=kte(i,{moveBy:v,direction:g,context:h,modifiers:n});Ro(i,y)||(e.goToDate(y,i),f(y))}},m={focusedDay:i,focusTarget:A,blur:d,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return c.jsx(Pte.Provider,{value:m,children:t.children})}function LO(){var t=P.useContext(Pte);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function i9e(t,e){var n=Tte(),r=FO(t,n,e);return r}var MO=P.createContext(void 0);function a9e(t){if(!FE(t.initialProps)){var e={selected:void 0};return c.jsx(MO.Provider,{value:e,children:t.children})}return c.jsx(s9e,{initialProps:t.initialProps,children:t.children})}function s9e(t){var e=t.initialProps,n=t.children,r=function(a,s,o){var l,u,A;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,s,o);return}(A=e.onSelect)===null||A===void 0||A.call(e,a,a,s,o)},i={selected:e.selected,onDayClick:r};return c.jsx(MO.Provider,{value:i,children:n})}function Dte(){var t=P.useContext(MO);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function o9e(t,e){var n=pi(),r=Dte(),i=PO(),a=OO(),s=LO(),o=s.focusDayAfter,l=s.focusDayBefore,u=s.focusWeekAfter,A=s.focusWeekBefore,d=s.blur,f=s.focus,h=s.focusMonthBefore,p=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,g=s.focusStartOfWeek,y=s.focusEndOfWeek,x=function(ee){var K,te,le,se;FE(n)?(K=r.onDayClick)===null||K===void 0||K.call(r,t,e,ee):_x(n)?(te=i.onDayClick)===null||te===void 0||te.call(i,t,e,ee):Bx(n)?(le=a.onDayClick)===null||le===void 0||le.call(a,t,e,ee):(se=n.onDayClick)===null||se===void 0||se.call(n,t,e,ee)},C=function(ee){var K;f(t),(K=n.onDayFocus)===null||K===void 0||K.call(n,t,e,ee)},E=function(ee){var K;d(),(K=n.onDayBlur)===null||K===void 0||K.call(n,t,e,ee)},j=function(ee){var K;(K=n.onDayMouseEnter)===null||K===void 0||K.call(n,t,e,ee)},_=function(ee){var K;(K=n.onDayMouseLeave)===null||K===void 0||K.call(n,t,e,ee)},B=function(ee){var K;(K=n.onDayPointerEnter)===null||K===void 0||K.call(n,t,e,ee)},N=function(ee){var K;(K=n.onDayPointerLeave)===null||K===void 0||K.call(n,t,e,ee)},D=function(ee){var K;(K=n.onDayTouchCancel)===null||K===void 0||K.call(n,t,e,ee)},T=function(ee){var K;(K=n.onDayTouchEnd)===null||K===void 0||K.call(n,t,e,ee)},O=function(ee){var K;(K=n.onDayTouchMove)===null||K===void 0||K.call(n,t,e,ee)},L=function(ee){var K;(K=n.onDayTouchStart)===null||K===void 0||K.call(n,t,e,ee)},H=function(ee){var K;(K=n.onDayKeyUp)===null||K===void 0||K.call(n,t,e,ee)},q=function(ee){var K;switch(ee.key){case"ArrowLeft":ee.preventDefault(),ee.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":ee.preventDefault(),ee.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":ee.preventDefault(),ee.stopPropagation(),u();break;case"ArrowUp":ee.preventDefault(),ee.stopPropagation(),A();break;case"PageUp":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?m():h();break;case"PageDown":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?v():p();break;case"Home":ee.preventDefault(),ee.stopPropagation(),g();break;case"End":ee.preventDefault(),ee.stopPropagation(),y();break}(K=n.onDayKeyDown)===null||K===void 0||K.call(n,t,e,ee)},Y={onClick:x,onFocus:C,onBlur:E,onKeyDown:q,onKeyUp:H,onMouseEnter:j,onMouseLeave:_,onPointerEnter:B,onPointerLeave:N,onTouchCancel:D,onTouchEnd:T,onTouchMove:O,onTouchStart:L};return Y}function l9e(){var t=pi(),e=Dte(),n=PO(),r=OO(),i=FE(t)?e.selected:_x(t)?n.selected:Bx(t)?r.selected:void 0;return i}function c9e(t){return Object.values(au).includes(t)}function u9e(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(c9e(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function A9e(t,e){var n=In({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=In(In({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function d9e(t,e,n){var r,i,a,s=pi(),o=LO(),l=i9e(t,e),u=o9e(t,l),A=l9e(),d=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var j;l.outside||o.focusedDay&&d&&Ro(o.focusedDay,t)&&((j=n.current)===null||j===void 0||j.focus())},[o.focusedDay,t,n,d,l.outside]);var f=u9e(s,l).join(" "),h=A9e(s,l),p=!!(l.outside&&!s.showOutsideDays||l.hidden),m=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Pze,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),g={style:h,className:f,children:v,role:"gridcell"},y=o.focusTarget&&Ro(o.focusTarget,t)&&!l.outside,x=o.focusedDay&&Ro(o.focusedDay,t),C=In(In(In({},g),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=x||y?0:-1,r)),u),E={isButton:d,isHidden:p,activeModifiers:l,selectedDays:A,buttonProps:C,divProps:g};return E}function f9e(t){var e=P.useRef(null),n=d9e(t.date,t.displayMonth,e);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(hS,In({name:"day",ref:e},n.buttonProps)):c.jsx("div",In({},n.divProps))}function h9e(t){var e=t.number,n=t.dates,r=pi(),i=r.onWeekNumberClick,a=r.styles,s=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,A=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:A});var d=l(Number(e),{locale:o}),f=function(h){i(e,n,h)};return c.jsx(hS,{name:"week-number","aria-label":d,className:s.weeknumber,style:a.weeknumber,onClick:f,children:A})}function p9e(t){var e,n,r=pi(),i=r.styles,a=r.classNames,s=r.showWeekNumber,o=r.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:f9e,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:h9e,A;return s&&(A=c.jsx("td",{className:a.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:a.row,style:i.row,children:[A,t.dates.map(function(d){return c.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:d})},pHe(d))})]})}function AH(t,e,n){for(var r=n!=null&&n.ISOWeek?gte(e):IO(e,n),i=n!=null&&n.ISOWeek?Xh(t):Ku(t,n),a=Tu(r,i),s=[],o=0;o<=a;o++)s.push(yo(i,o));var l=s.reduce(function(u,A){var d=n!=null&&n.ISOWeek?bte(A):wte(A,n),f=u.find(function(h){return h.weekNumber===d});return f?(f.dates.push(A),u):(u.push({weekNumber:d,dates:[A]}),u)},[]);return l}function m9e(t,e){var n=AH(Ko(t),jO(t),e);if(e!=null&&e.useFixedWeeks){var r=gHe(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],s=RT(a,6-r),o=AH(RT(a,1),s,e);n.push.apply(n,o)}}return n}function g9e(t){var e,n,r,i=pi(),a=i.locale,s=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,A=i.components,d=i.weekStartsOn,f=i.firstWeekContainsDate,h=i.ISOWeek,p=m9e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:d,firstWeekContainsDate:f}),m=(e=A==null?void 0:A.Head)!==null&&e!==void 0?e:kze,v=(n=A==null?void 0:A.Row)!==null&&n!==void 0?n:p9e,g=(r=A==null?void 0:A.Footer)!==null&&r!==void 0?r:jze;return c.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:s.tbody,style:o.tbody,children:p.map(function(y){return c.jsx(v,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),c.jsx(g,{displayMonth:t.displayMonth})]})}function v9e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var y9e=v9e()?P.useLayoutEffect:P.useEffect,rN=!1,b9e=0;function dH(){return"react-day-picker-".concat(++b9e)}function x9e(t){var e,n=t??(rN?dH():null),r=P.useState(n),i=r[0],a=r[1];return y9e(function(){i===null&&a(dH())},[]),P.useEffect(function(){rN===!1&&(rN=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function w9e(t){var e,n,r=pi(),i=r.dir,a=r.classNames,s=r.styles,o=r.components,l=Nx().displayMonths,u=x9e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),A=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[a.month],f=s.month,h=t.displayIndex===0,p=t.displayIndex===l.length-1,m=!h&&!p;i==="rtl"&&(e=[h,p],p=e[0],h=e[1]),h&&(d.push(a.caption_start),f=In(In({},f),s.caption_start)),p&&(d.push(a.caption_end),f=In(In({},f),s.caption_end)),m&&(d.push(a.caption_between),f=In(In({},f),s.caption_between));var v=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:Nze;return c.jsxs("div",{className:d.join(" "),style:f,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(g9e,{id:A,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function C9e(t){var e=pi(),n=e.classNames,r=e.styles;return c.jsx("div",{className:n.months,style:r.months,children:t.children})}function S9e(t){var e,n,r=t.initialProps,i=pi(),a=LO(),s=Nx(),o=P.useState(!1),l=o[0],u=o[1];P.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var A=[i.classNames.root,i.className];i.numberOfMonths>1&&A.push(i.classNames.multiple_months),i.showWeekNumber&&A.push(i.classNames.with_weeknumber);var d=In(In({},i.styles.root),i.style),f=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,m){var v;return In(In({},p),(v={},v[m]=r[m],v))},{}),h=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:C9e;return c.jsx("div",In({className:A.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:c.jsx(h,{children:s.displayMonths.map(function(p,m){return c.jsx(w9e,{displayIndex:m,displayMonth:p},m)})})}))}function E9e(t){var e=t.children,n=qHe(t,["children"]);return c.jsx(hze,{initialProps:n,children:c.jsx(Sze,{children:c.jsx(a9e,{initialProps:n,children:c.jsx(Dze,{initialProps:n,children:c.jsx(Lze,{initialProps:n,children:c.jsx($ze,{children:c.jsx(r9e,{children:e})})})})})})})}function vp(t){return c.jsx(E9e,In({},t,{children:c.jsx(S9e,{initialProps:t})}))}const fH=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cudruple"},{count:5,name:"Quntuple"}],hH=140,pH=7,_9e=`
  .rdp {
    --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: transparent;
    --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: transparent;
    --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; margin: 1em auto;
  }
  .rdp-caption_label { color: #FFF; font-weight: bold;}
  .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day { color: #FFF;}
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .rdp-day_today { font-weight: bold; color: #FF9500; }
  .rdp-day_disabled { color: #505054; }
  .rdp-day_outside { color: #505054; }
  .rdp-caption_dropdowns { display: flex; gap: 10px; }
   .rdp-dropdown { background-color: #333; border: 1px solid #555; color: #FFF; padding: 4px 8px; border-radius: 6px; }
`,yp=({isOpen:t,onClose:e,motherId:n})=>{const{animals:r,fathers:i,addFather:a,addParturition:s,parturitions:o}=Yt(),[l,u]=P.useState(1),[A,d]=P.useState(new Date().toISOString().split("T")[0]),[f,h]=P.useState(""),[p,m]=P.useState(1),[v,g]=P.useState([]),[y,x]=P.useState(!1),[C,E]=P.useState(!1),[j,_]=P.useState(!1),[B,N]=P.useState(""),D=P.useMemo(()=>r.find(te=>te.id===n),[r,n]),T=D!=null&&D.name?String(D.name).toUpperCase().trim():"";P.useEffect(()=>{t&&(u(1),d(new Date().toISOString().split("T")[0]),h(""),m(1),g([]),_(!1),N(""))},[t]);const O=()=>u(te=>te<4?te+1:te),L=()=>u(te=>te>1?te-1:te),H=te=>{m(te),g(Array.from({length:te},(le,se)=>({id:`kid_${se}_${Date.now()}`,sex:"Hembra",status:"Viva",correlative:"",birthWeight:""}))),O()},q=(te,le,se)=>{const M=[...v];let $=se;le==="birthWeight"&&parseFloat(se)>pH&&($=pH.toString()),M[te]={...M[te],[le]:$},g(M)},Y=async()=>{var M;_(!0),N("");const te=o.filter($=>$.goatId.toUpperCase()===n.toUpperCase()),le=new Date(A).getTime();if(te.some($=>{const J=new Date($.parturitionDate).getTime();return Math.abs(le-J)/(1e3*60*60*24)<hH})){N(`Ya existe un parto registrado para ${n} en una fecha demasiado cercana (menos de ${hH} das).`),_(!1);return}try{const $=i.find(we=>we.id===f);if(!$)throw new Error("Padre (semental) no encontrado en la base de datos.");const J=v.filter(we=>we.status==="Viva"),ne=v.some(we=>we.status==="Mortinato"),he=J.map(we=>({sex:we.sex,birthWeight:we.birthWeight,id:`${we.sex==="Macho"?"X":Ar($).charAt(0).toUpperCase()||"?"}${we.correlative}`}));await s({motherId:n.toUpperCase(),parturitionDate:A,sireId:f,parturitionType:((M=fH.find(we=>we.count===p))==null?void 0:M.name)||"Simple",offspringCount:v.length,liveOffspring:he,parturitionOutcome:ne?"Con Mortinatos":"Normal",inducedLactation:!0}),O(),setTimeout(e,2e3)}catch($){N($.message||"Error al registrar el parto. Revisa los datos e IDs de las cras."),console.error($),_(!1)}},ee=P.useMemo(()=>i.find(te=>te.id===f),[f,i]),K=async te=>{try{await a(te),h(te.id),x(!1)}catch(le){N(le.message||"No se pudo guardar el nuevo padre."),console.error("Error saving new father:",le)}};return t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex flex-col justify-end z-50 animate-fade-in",onClick:e,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:te=>te.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[l>1&&l<4&&c.jsx("button",{onClick:L,className:"p-2 text-zinc-400 hover:text-white",children:c.jsx(Fi,{size:24})}),c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white mx-auto",children:l===4?"xito":"Registrar Parto"}),l<4?c.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-white",children:c.jsx(Go,{size:24})}):c.jsx("div",{className:"w-10"})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[l===1&&c.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:D==null?void 0:D.id.toUpperCase()}),T&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:T})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha del Parto"}),c.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg text-left flex justify-between items-center text-white",children:[c.jsx("span",{children:A?new Date(A+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Seleccionar Fecha"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Semental)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:f,onChange:te=>h(te.target.value),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg appearance-none text-white",children:[c.jsx("option",{value:"",className:"text-zinc-500",children:"Seleccionar Padre..."}),i.map(te=>c.jsx("option",{value:te.id,className:"text-white",children:Ar(te)},te.id))]}),c.jsx("button",{type:"button",onClick:()=>x(!0),className:"flex-shrink-0 p-4 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(na,{size:24})})]})]}),c.jsx("button",{onClick:O,disabled:!A||!f,className:"w-full bg-brand-orange text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:"Siguiente"})]}),l===2&&c.jsxs("div",{className:"space-y-6 text-center max-w-md mx-auto",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Cuntas cras nacieron?"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:fH.map(te=>c.jsx("button",{onClick:()=>H(te.count),className:"bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-8 rounded-2xl text-2xl transition-colors",children:te.name},te.count))})]}),l===3&&c.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:D==null?void 0:D.id.toUpperCase()}),T&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:T})]}),v.map((te,le)=>{const se=te.status==="Mortinato";return c.jsxs("div",{className:`bg-black/20 rounded-2xl p-4 border transition-colors ${se?"border-red-500/30":"border-zinc-700"} space-y-3`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:"font-semibold text-brand-orange",children:["Cra ",le+1]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"w-32",children:c.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[c.jsx("button",{type:"button",onClick:()=>q(le,"status","Viva"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${se?"text-zinc-400":"bg-green-600 text-white"}`,children:"Viva"}),c.jsx("button",{type:"button",onClick:()=>q(le,"status","Mortinato"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${se?"bg-red-600 text-white":"text-zinc-400"}`,children:"Mortinato"})]})}),c.jsx("div",{className:"w-32",children:c.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[c.jsx("button",{type:"button",onClick:()=>q(le,"sex","Hembra"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${te.sex==="Hembra"?"bg-pink-500 text-white":"text-zinc-400"}`,children:"Hembra"}),c.jsx("button",{type:"button",onClick:()=>q(le,"sex","Macho"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${te.sex==="Macho"?"bg-blue-500 text-white":"text-zinc-400"}`,children:"Macho"})]})})]})]}),c.jsxs("div",{className:`grid grid-cols-2 gap-3 items-center transition-opacity ${se?"opacity-40 pointer-events-none":"opacity-100"}`,children:[c.jsxs("div",{className:"flex items-center bg-zinc-800 p-3 rounded-xl gap-2",children:[c.jsx("span",{className:"font-mono text-zinc-400 text-lg",children:te.sex==="Macho"?"X":Ar(ee).charAt(0).toUpperCase()||"?"}),c.jsx("input",{autoFocus:le===0,value:te.correlative,onChange:M=>q(le,"correlative",M.target.value.toUpperCase()),placeholder:"ID",className:"w-full bg-transparent text-lg text-white focus:outline-none",disabled:se,required:!se})]}),c.jsx("input",{value:te.birthWeight,onChange:M=>q(le,"birthWeight",M.target.value),placeholder:"Peso (Kg)",type:"number",step:"0.1",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",disabled:se,required:!se})]})]},te.id)}),c.jsx("button",{onClick:Y,disabled:j||v.some(te=>te.status==="Viva"&&(!te.correlative||!te.birthWeight)),className:"w-full bg-brand-green text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:j?"Guardando...":`Guardar Parto y ${p} Cra(s)`}),B&&c.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:B})]})]}),l===4&&c.jsxs("div",{className:"text-center flex flex-col justify-center items-center h-full",children:[c.jsx(As,{size:80,className:"text-brand-green mb-4 animate-pulse"}),c.jsx("h2",{className:"text-3xl font-bold text-white",children:"xito!"}),c.jsxs("p",{className:"text-lg text-zinc-400",children:["El parto de ",c.jsx("span",{className:"font-mono font-bold text-white",children:D==null?void 0:D.id.toUpperCase()})," se ha registrado."]})]})]})]})}),c.jsxs(An,{isOpen:C,onClose:()=>E(!1),title:"Seleccionar Fecha del Parto",children:[c.jsx("style",{children:_9e}),c.jsx("div",{className:"flex justify-center",children:c.jsx(vp,{mode:"single",selected:new Date(A+"T00:00:00Z"),onSelect:te=>{te&&d(te.toISOString().split("T")[0]),E(!1)},locale:Ex,disabled:{after:new Date},captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-2,toYear:new Date().getFullYear()})})]}),c.jsx(_O,{isOpen:y,onClose:()=>x(!1),onSave:K})]}):null},RO=({isOpen:t,animal:e,onClose:n,onLogToSession:r,onStartNewSession:i,onStartDrying:a,onSetDry:s})=>{const{parturitions:o,weighings:l}=Yt(),[u,A]=P.useState(!1),d=P.useMemo(()=>o.filter(p=>p.goatId===e.id&&(p.status==="activa"||p.status==="en-secado")).sort((p,m)=>new Date(m.parturitionDate).getTime()-new Date(p.parturitionDate).getTime())[0],[o,e.id]),f=P.useMemo(()=>{const p=l.map(v=>v.date);return[...new Set(p)].sort((v,g)=>new Date(g).getTime()-new Date(v).getTime()).slice(0,3)},[l]),h=e.name?String(e.name).toUpperCase().trim():"";return!d&&!u?c.jsx(An,{isOpen:t,onClose:n,title:"Accin Requerida",children:c.jsxs("div",{className:"text-center space-y-4 text-white",children:[c.jsx(mr,{className:"mx-auto h-12 w-12 text-amber-400"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),h&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:h})]}),c.jsx("h3",{className:"text-lg font-medium",children:"Animal sin Parto Activo"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Para registrar un pesaje o gestionar el secado, el animal debe tener un parto activo."}),c.jsxs("button",{onClick:()=>A(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(Dl,{size:18})," Declarar Parto Ahora"]})]})}):u?c.jsx(yp,{isOpen:!0,onClose:()=>{A(!1)},motherId:e.id}):c.jsx(An,{isOpen:t,onClose:n,title:"Acciones de Leche",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),h&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:h})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(ND,{size:16}),"Aadir a Sesin Reciente"]}),f.length>0?c.jsx("div",{className:"space-y-2",children:f.map(p=>c.jsxs("button",{onClick:()=>r(p),className:"w-full text-left bg-zinc-800/80 p-3 rounded-xl hover:bg-zinc-700 transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(So,{size:18,className:"text-zinc-500"}),c.jsx("span",{className:"text-base font-semibold text-white",children:new Date(p+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})})]}),c.jsx(ta,{size:20,className:"text-zinc-600 group-hover:text-white transition-colors"})]},p))}):c.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay sesiones recientes."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(Bl,{size:16}),"Iniciar Nueva Sesin de Pesaje"]}),c.jsxs("button",{onClick:i,className:"w-full text-left bg-brand-orange/20 border border-brand-orange/80 p-4 rounded-xl hover:bg-brand-orange/30 transition-colors flex justify-between items-center group",children:[c.jsx("span",{className:"text-lg font-bold text-white",children:"Construir Carga Masiva..."}),c.jsx(ta,{size:20,className:"text-brand-orange group-hover:text-orange-300 transition-colors"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:"Esto te permitir seleccionar un grupo de animales y registrar sus pesajes."})]}),d&&c.jsxs("div",{className:"pt-4 border-t border-brand-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Acciones de Lactancia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>a(d.id),disabled:d.status!=="activa",className:"w-full flex items-center justify-center gap-2 bg-blue-600/20 text-blue-300 font-semibold py-3 px-3 rounded-lg hover:bg-blue-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(cp,{size:16})," ",d.status==="en-secado"?"Ya en Secado":"Iniciar Secado"]}),c.jsxs("button",{type:"button",onClick:()=>s(d.id),disabled:d.status==="seca"||d.status==="finalizada",className:"w-full flex items-center justify-center gap-2 bg-gray-600/20 text-gray-300 font-semibold py-3 px-3 rounded-lg hover:bg-gray-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(bc,{size:16})," ",d.status==="seca"?"Ya Seca":"Declarar Seca"]})]}),d.status==="en-secado"&&c.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]})})},UO=({isOpen:t,animal:e,onClose:n,onLogToSession:r,onStartNewSession:i,onSetReadyForMating:a})=>{const{bodyWeighings:s,parturitions:o}=Yt(),l=P.useMemo(()=>{const f=s.map(p=>p.date);return[...new Set(f)].sort((p,m)=>new Date(m).getTime()-new Date(p).getTime()).slice(0,3)},[s]),A=Bf(e,o)==="Cabritona"&&e.reproductiveStatus==="Vaca",d=e.name?String(e.name).toUpperCase().trim():"";return c.jsx(An,{isOpen:t,onClose:n,title:"Pesaje Corporal",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-2",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),d&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:d})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(ND,{size:16}),"Aadir a Sesin Reciente"]}),l.length>0?c.jsx("div",{className:"space-y-2",children:l.map(f=>c.jsxs("button",{onClick:()=>r(f),className:"w-full text-left bg-zinc-800/80 p-3 rounded-xl hover:bg-zinc-700 transition-colors flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(So,{size:18,className:"text-zinc-500"}),c.jsx("span",{className:"text-base font-semibold text-white",children:new Date(f+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})})]}),c.jsx(ta,{size:20,className:"text-zinc-600"})]},f))}):c.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay sesiones recientes."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(Bl,{size:16}),"Iniciar Nueva Sesin de Pesaje"]}),c.jsxs("button",{onClick:i,className:"w-full text-left bg-brand-green/20 border border-brand-green/80 p-4 rounded-xl hover:bg-brand-green/30 transition-colors flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-white",children:"Construir Carga Masiva..."}),c.jsx(ta,{size:20,className:"text-brand-green"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:"Esto te permitir seleccionar un grupo de animales y registrar sus pesos."})]}),A&&c.jsxs("div",{className:"pt-4 border-t border-brand-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Acciones de Desarrollo"}),c.jsx("div",{className:"flex",children:c.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 bg-pink-600/20 text-pink-300 font-semibold py-3 px-3 rounded-lg hover:bg-pink-600/40 transition-colors",children:[c.jsx(Fq,{size:16})," Declarar en Peso de Monta"]})}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:'Si el animal tiene el peso y la edad adecuados, esto lo marcar como "En Servicio".'})]})]})})},LE=({animal:t,onConfirm:e,onCancel:n,reason:r,isOpen:i})=>{const[a,s]=P.useState(new Date().toISOString().split("T")[0]),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState("Cra"),[h,p]=P.useState(""),[m,v]=P.useState(),[g,y]=P.useState(""),x=["Baja produccin","Bajo ndice de crecimiento","Inflamacin articular","Linfadenitis caseosa","Sospecha de otras enfermedades"],C=t.name?String(t.name).toUpperCase().trim():"",E=()=>{const _={reason:r,date:a,salePrice:r==="Venta"&&parseFloat(o)||void 0,saleBuyer:r==="Venta"&&u||void 0,salePurpose:r==="Venta"?d:void 0,deathReason:r==="Muerte"&&h||void 0,cullReason:r==="Descarte"&&m||void 0,cullReasonDetails:r==="Descarte"&&m==="Sospecha de otras enfermedades"?g:void 0};e(_)},j=`Dar de baja por ${r}`;return i?c.jsx(An,{isOpen:i,onClose:n,title:j,children:c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),C&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:C})]}),c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Evento"}),c.jsx("input",{type:"date",value:a,onChange:_=>s(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",max:new Date().toISOString().split("T")[0],required:!0})]}),r==="Venta"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("input",{type:"number",step:"0.01",value:o,onChange:_=>l(_.target.value),placeholder:"Precio de Venta (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"}),c.jsx("input",{type:"text",value:u,onChange:_=>A(_.target.value),placeholder:"Comprador (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"}),c.jsxs("select",{value:d,onChange:_=>f(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",children:[c.jsx("option",{value:"Cra",children:"Para Cra"}),c.jsx("option",{value:"Carne",children:"Para Carne"})]})]}),r==="Muerte"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx("textarea",{value:h,onChange:_=>p(_.target.value),placeholder:"Causa / Descripcin de la muerte...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",rows:3})}),r==="Descarte"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("select",{value:m||"",onChange:_=>v(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",children:[c.jsx("option",{value:"",children:"Seleccione una causa..."}),x.map(_=>c.jsx("option",{value:_,children:_},_))]}),m==="Sospecha de otras enfermedades"&&c.jsx("input",{type:"text",value:g,onChange:_=>y(_.target.value),placeholder:"Especificar sospecha o sntomas...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center pt-2",children:'El animal ser movido a "Referencia".'}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:E,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg",children:"Confirmar Baja"})]})]})}):null},QO=({animal:t,onSaveSuccess:e,onCancel:n})=>{const{fathers:r,addFather:i,addParturition:a}=Yt(),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(""),[A,d]=P.useState(!0),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(!1),y=t.name?String(t.name).toUpperCase().trim():"",x=async E=>{if(E.preventDefault(),!l){m({type:"error",text:"Debe seleccionar el padre (semental)."});return}h(!0),m(null);try{await a({motherId:t.id,parturitionDate:s,sireId:l,parturitionType:"Simple",offspringCount:0,liveOffspring:[],parturitionOutcome:"Aborto",inducedLactation:A}),m({type:"success",text:`Aborto registrado para ${t.id.toUpperCase()}.`}),setTimeout(e,1500)}catch(j){m({type:"error",text:j.message||"No se pudo registrar el aborto."}),h(!1)}},C=async E=>{try{await i(E),u(E.id),g(!1)}catch(j){console.error("Error saving new father:",j),m({type:"error",text:j.message||"No se pudo guardar el nuevo padre."})}};return c.jsxs(c.Fragment,{children:[c.jsx(An,{isOpen:!v,onClose:n,title:"Registrar Aborto",children:c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),y&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:y})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Aborto"}),c.jsx("input",{type:"date",value:s,onChange:E=>o(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",required:!0,max:new Date().toISOString().split("T")[0]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Padre (Semental Involucrado)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:l,onChange:E=>u(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",required:!0,children:[c.jsx("option",{value:"",children:"Seleccionar Padre..."}),r.map(E=>c.jsx("option",{value:E.id,children:Ar(E)},E.id))]}),c.jsx("button",{type:"button",onClick:()=>g(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",title:"Aadir Nuevo Padre de Referencia",children:c.jsx(na,{size:24})})]})]}),c.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[c.jsx("label",{htmlFor:"inducedLactation",className:"text-sm font-medium text-zinc-300",children:"Se iniciar lactancia post-aborto?"}),c.jsx("input",{id:"inducedLactation",type:"checkbox",checked:A,onChange:E=>d(E.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Marcar esta opcin iniciar una lactancia "atpica" para poder registrar los pesajes.'}),p&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${p.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[p.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:p.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50",children:f?"Guardando...":"Confirmar Aborto"})]})]})}),c.jsx(_O,{isOpen:v,onClose:()=>g(!1),onSave:C})]})},Wg=({animalId:t,weightType:e,onSaveSuccess:n,onCancel:r,sessionDate:i})=>{const{addBodyWeighing:a,addWeighing:s,animals:o}=Yt(),[l,u]=P.useState(i||new Date().toISOString().split("T")[0]),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState(null),v=be.useMemo(()=>o.find(x=>x.id===t),[o,t]),g=v!=null&&v.name?String(v.name).toUpperCase().trim():"";P.useEffect(()=>{i&&u(i)},[i]);const y=async x=>{x.preventDefault(),m(null),h(!0);const C=parseFloat(A);if(isNaN(C)||C<=0){m({type:"error",text:"Por favor, introduce un peso vlido."}),h(!1);return}if(e==="corporal"&&C>150){m({type:"error",text:"El peso corporal parece irracionalmente alto."}),h(!1);return}if(e==="leche"&&C>8.5){m({type:"error",text:"La produccin de leche parece irracionalmente alta."}),h(!1);return}try{e==="corporal"?await a({animalId:t,date:l,kg:C}):await s({goatId:t,date:l,kg:C}),m({type:"success",text:`Pesaje de ${t} guardado con xito.`}),setTimeout(()=>{n()},1500)}catch(E){m({type:"error",text:E.message||"No se pudo guardar el pesaje."}),h(!1)}};return c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.toUpperCase()}),g&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:g})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Pesaje"}),c.jsx("input",{id:"weighingDate",type:"date",value:l,onChange:x=>u(x.target.value),disabled:!!i,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg disabled:opacity-70 disabled:bg-zinc-700",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingKg",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso (Kg)"}),c.jsx("input",{id:"weighingKg",type:"number",step:"0.1",value:A,onChange:x=>d(x.target.value),placeholder:"Ej: 3.5",autoFocus:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),p&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${p.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[p.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:p.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:f?c.jsx(eu,{size:18,className:"animate-spin"}):"Guardar Pesaje"})]})]})},HO=({weightType:t,animalsToWeigh:e,onSaveSuccess:n,onCancel:r})=>{const{addWeighing:i,addBodyWeighing:a,parturitions:s,startDryingProcess:o,setLactationAsDry:l}=Yt(),[u,A]=P.useState(new Date().toISOString().split("T")[0]),[d,f]=P.useState({}),[h,p]=P.useState(!1),[m,v]=P.useState(null),[g,y]=P.useState(null),x=P.useMemo(()=>Object.values(d).filter(N=>N.trim()!==""&&!isNaN(parseFloat(N))).length,[d]),C=P.useMemo(()=>{const N=new Map;if(t==="leche"){const D=new Set(e.map(T=>T.id));s.filter(T=>D.has(T.goatId)&&(T.status==="activa"||T.status==="en-secado")).forEach(T=>{const O=N.get(T.goatId);(!O||new Date(T.parturitionDate)>new Date(O.parturitionDate))&&N.set(T.goatId,T)})}return N},[s,e,t]),E=(N,D)=>{f(T=>({...T,[N]:D}))},j=async N=>{const D=C.get(N);if(!(!D||D.status!=="activa")){v(N),y(null);try{await o(D.id),C.set(N,{...D,status:"en-secado"})}catch(T){y({type:"error",text:`Error al secar ${N}: ${T.message}`})}finally{v(null)}}},_=async N=>{const D=C.get(N);if(!(!D||D.status==="seca"||D.status==="finalizada")){v(N),y(null);try{await l(D.id),C.set(N,{...D,status:"seca"})}catch(T){y({type:"error",text:`Error al secar ${N}: ${T.message}`})}finally{v(null)}}},B=async N=>{N.preventDefault(),y(null),p(!0);const D=Object.entries(d).map(([T,O])=>({animalId:T,kg:parseFloat(O)})).filter(T=>!isNaN(T.kg)&&T.kg>0);if(D.length===0){y({type:"error",text:"No se han introducido pesos vlidos."}),p(!1);return}try{const T=D.map(O=>t==="leche"?i({goatId:O.animalId,kg:O.kg,date:u}):a({animalId:O.animalId,kg:O.kg,date:u}));await Promise.all(T),y({type:"success",text:`${D.length} pesajes guardados con xito.`}),setTimeout(()=>{n()},1500)}catch(T){y({type:"error",text:"Ocurri un error al guardar los datos."}),p(!1),console.error("Error en escritura por lote de pesajes:",T)}};return c.jsxs("form",{onSubmit:B,className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 p-4 border-b border-brand-border",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t==="leche"?"Sesin de Ordeo":"Sesin de Pesaje Corporal"}),c.jsx("input",{type:"date",value:u,onChange:N=>A(N.target.value),className:"bg-zinc-800 text-white p-2 rounded-lg text-sm"})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Registrando ",x," / ",e.length," animales."]})]}),c.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-2",children:e.map(N=>{const D=N.name?String(N.name).toUpperCase().trim():"";if(t==="corporal")return c.jsxs("div",{className:"grid grid-cols-2 items-center gap-4 p-2 bg-black/20 rounded-lg",children:[c.jsxs("div",{className:"min-w-0 col-span-1",children:[c.jsx("label",{htmlFor:`weight-${N.id}`,className:"font-mono font-semibold text-base text-white truncate block cursor-pointer",children:N.id.toUpperCase()}),D&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:D})]}),c.jsx("input",{id:`weight-${N.id}`,type:"number",step:"0.1",value:d[N.id]||"",onChange:L=>E(N.id,L.target.value),placeholder:"Kg",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center"})]},N.id);const T=C.get(N.id),O=m===N.id;return c.jsxs("div",{className:"grid grid-cols-3 items-center gap-2 p-2 bg-black/20 rounded-lg",children:[c.jsxs("div",{className:"min-w-0 col-span-1",children:[c.jsx("label",{htmlFor:`weight-${N.id}`,className:"font-mono font-semibold text-base text-white truncate block cursor-pointer",children:N.id.toUpperCase()}),D&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:D})]}),c.jsx("input",{id:`weight-${N.id}`,type:"number",step:"0.1",value:d[N.id]||"",onChange:L=>E(N.id,L.target.value),placeholder:"Kg",disabled:!T||T.status==="seca"||h,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center col-span-1 disabled:opacity-50"}),c.jsx("div",{className:"col-span-1 flex items-center justify-end gap-1",children:O?c.jsx(eu,{className:"animate-spin text-zinc-400",size:20}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>j(N.id),disabled:!T||T.status!=="activa"||h,title:"Iniciar Secado",className:"p-2 bg-blue-600/20 text-blue-300 rounded-lg hover:bg-blue-600/40 disabled:opacity-30 disabled:cursor-not-allowed",children:c.jsx(cp,{size:16})}),c.jsx("button",{type:"button",onClick:()=>_(N.id),disabled:!T||T.status==="seca"||T.status==="finalizada"||h,title:"Declarar Seca",className:"p-2 bg-gray-600/20 text-gray-300 rounded-lg hover:bg-gray-600/40 disabled:opacity-30 disabled:cursor-not-allowed",children:c.jsx(bc,{size:16})})]})})]},N.id)})}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-ios-modal-bg",children:[g&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${g.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[g.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:g.text})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:h||x===0||m!==null,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[h?c.jsx(eu,{size:18,className:"animate-spin"}):c.jsx(o0,{size:18}),"Guardar ",x>0?`(${x})`:""]})]})]})]})},zO=({weightType:t,onBack:e,onAnimalsSelected:n})=>{const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o}=Yt(),[l,u]=P.useState(!0),A=`Nueva Sesin de Peso ${t==="corporal"?"Corporal":"Lechero"}`,d=h=>{const p=r.filter(m=>h.includes(m.id));n(h,p),u(!1)},f=()=>{u(!1),e()};return c.jsx(OE,{isOpen:l,onClose:f,onSelect:d,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:A,sessionType:t})},B9e=`
  .rdp {
    --rdp-cell-size: 40px; /* Size of day cells */
    --rdp-accent-color: #FF9500; /* Orange accent */
    --rdp-background-color: transparent; /* Transparent background */
    --rdp-accent-color-dark: #FF9500;
    --rdp-background-color-dark: transparent;
    --rdp-outline: 2px solid var(--rdp-accent-color); /* Outline for focused day */
    --rdp-border-radius: 12px; /* Rounded corners */
    color: #FFF; /* Default text color */
    margin: 1em auto; /* Centering */
  }
  .rdp-caption_label { color: #FFF; font-weight: bold; } /* Month/Year label */
  .rdp-nav_button { color: #FF9500; } /* Navigation arrows */
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; } /* Weekday names */
  .rdp-day { color: #FFF; } /* Day numbers */
  .rdp-day_today { font-weight: bold; color: #FF9500; } /* Today's date */
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } /* Selected day */
  .rdp-day_disabled { color: #505054; } /* Disabled days */
  .rdp-day_outside { color: #505054; } /* Days outside current month */
  .rdp-caption_dropdowns { display: flex; gap: 10px; } /* Style dropdowns if used */
  .rdp-dropdown {
      background-color: #333; /* Dark background for dropdown */
      border: 1px solid #555;
      color: #FFF;
      padding: 4px 8px;
      border-radius: 6px;
  }
`,VO=({isOpen:t,onClose:e,onSave:n,animal:r})=>{if(!t)return null;const i=r.name?String(r.name).toUpperCase().trim():"",a=s=>{s&&n(s)};return c.jsxs(An,{isOpen:t,onClose:e,title:"Registrar Servicio",children:[c.jsx("style",{children:B9e}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:r.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i})]}),c.jsx("div",{className:"flex justify-center pb-4",children:c.jsx(vp,{mode:"single",onSelect:a,defaultMonth:new Date,locale:Ex,disabled:{after:new Date},captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-1,toYear:new Date().getFullYear()})})]})},N9e=({animal:t,isSelected:e,onSelect:n})=>{const r=t.name?String(t.name).toUpperCase().trim():"";return c.jsx("div",{onClick:()=>n(t.id),className:`w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border flex justify-between items-center transition-all cursor-pointer min-h-[80px] ${e?"border-brand-orange ring-2 ring-brand-orange/50":"border-brand-border"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[e?c.jsx(D5,{className:"text-brand-orange flex-shrink-0",size:20}):c.jsx(O5,{className:"text-zinc-500 flex-shrink-0",size:20}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge]})})]})]})})};function j9e({lotName:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,updateAnimal:l,addServiceRecord:u,startDryingProcess:A,setLactationAsDry:d,fathers:f}=Yt(),[h,p]=P.useState(!1),[m,v]=P.useState(!1),[g,y]=P.useState(new Set),[x,C]=P.useState(!1),[E,j]=P.useState(null),[_,B]=P.useState(!1),[N,D]=P.useState(null),[T,O]=P.useState(null),[L,H]=P.useState(null),[q,Y]=P.useState([]),[ee,K]=P.useState("corporal"),te=P.useMemo(()=>{const $e=new Map(o.map(vt=>[vt.id,vt])),ht=new Map(f.map(vt=>[vt.id,vt]));return r.filter(vt=>(vt.location||"Sin Asignar")===t&&!vt.isReference).sort((vt,Ye)=>vt.id.localeCompare(Ye.id)).map(vt=>{let Ye;if(vt.sireLotId){const Dt=$e.get(vt.sireLotId);if(Dt){const mt=ht.get(Dt.sireId)||r.find(ct=>ct.id===Dt.sireId);Ye=mt?Ar(mt):void 0}}return{...vt,formattedAge:uu(vt.birthDate),statusObjects:Ate(vt,i,a,o,s),sireName:Ye}})},[r,t,i,a,o,s,f]),le=P.useRef(null),se=fte({count:te.length,getScrollElement:()=>le.current,estimateSize:()=>96,overscan:5}),M=$e=>{y(ht=>{const vt=new Set(ht);return vt.has($e)?vt.delete($e):vt.add($e),vt})},$=async()=>{const $e=Array.from(g).map(ht=>l(ht,{location:""}));try{await Promise.all($e),v(!1),y(new Set)}catch(ht){console.error("Error al quitar animales:",ht)}},J=async $e=>{if(!t)return;const ht=$e.map(vt=>l(vt,{location:t}));await Promise.all(ht),p(!1)},ne=$e=>{if(!$e)return[];const ht=[];return $e.sex==="Hembra"&&(ht.push({label:"Declarar Parto",icon:Dl,onClick:()=>{B(!1),D("parturition")}}),ht.push({label:"Declarar Aborto",icon:uf,onClick:()=>{B(!1),D("abortion")},color:"text-yellow-400"}),ht.push({label:"Acciones de Leche",icon:cf,onClick:()=>{B(!1),D("milkWeighingAction")}}),$e.sireLotId&&ht.push({label:"Registrar Servicio",icon:P5,onClick:()=>{B(!1),D("service")},color:"text-pink-400"})),ht.push({label:"Acciones de Peso",icon:XA,onClick:()=>{B(!1),D("bodyWeighingAction")}}),ht.push({label:"Dar de Baja",icon:bc,onClick:()=>{B(!1),D("decommissionSheet")},color:"text-brand-red"}),ht},he=[{label:"Por Venta",icon:Ol,onClick:()=>{O("Venta"),D("decommission")}},{label:"Por Muerte",icon:uf,onClick:()=>{O("Muerte"),D("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:N5,onClick:()=>{O("Descarte"),D("decommission")},color:"text-brand-red"}],we=$e=>{j($e),B(!0)},Se=()=>{D(null),j(null),H(null),Y([]),O(null)},Ae=async $e=>{if(!E)return;const ht={status:$e.reason,isReference:!0,endDate:$e.date};$e.reason==="Venta"&&Object.assign(ht,{salePrice:$e.salePrice,saleBuyer:$e.saleBuyer,salePurpose:$e.salePurpose}),$e.reason==="Muerte"&&(ht.deathReason=$e.deathReason),$e.reason==="Descarte"&&Object.assign(ht,{cullReason:$e.cullReason,cullReasonDetails:$e.cullReasonDetails}),await l(E.id,ht),Se()},ge=($e,ht)=>{H($e),D(ht==="leche"?"logSimpleMilk":"logSimpleBody")},xe=$e=>{K($e),D($e==="leche"?"newMilkSession":"newBodySession")},ae=async()=>{E&&(await l(E.id,{reproductiveStatus:"En Servicio"}),Se())},Ve=($e,ht)=>{Y(ht),D("bulkWeighing")},Oe=()=>{Se()},fe=async $e=>{if(!E||!E.sireLotId){console.error("Missing animal or sireLotId."),Se();return}await u({sireLotId:E.sireLotId,femaleId:E.id,serviceDate:$e.toISOString().split("T")[0]}),Se()};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:le,className:"w-full max-w-2xl mx-auto space-y-4 pb-4 animate-fade-in",style:{height:`calc(100vh - 64px - 65px - ${m&&g.size>0?"80px":"0px"})`,overflowY:"auto"},children:[c.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),c.jsxs("p",{className:"text-lg text-zinc-400",children:[te.length," ",te.length===1?"animal":"animales"]})]}),m?c.jsx("button",{onClick:()=>{v(!1),y(new Set)},className:"text-brand-orange font-semibold px-2 py-1",children:"Listo"}):c.jsx("button",{onClick:()=>v(!0),className:"p-2 -mr-2 text-zinc-400 hover:text-white",children:c.jsx(bf,{size:20})})]}),!m&&c.jsx("div",{className:"px-4 pt-4",children:c.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[c.jsx(na,{size:20})," Aadir Animales"]})}),c.jsx("div",{className:"pt-4",style:{height:"auto",position:"relative"},children:te.length>0?c.jsx("div",{style:{height:`${se.getTotalSize()}px`,width:"100%",position:"relative"},children:se.getVirtualItems().map($e=>{const ht=te[$e.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${$e.size}px`,transform:`translateY(${$e.start}px)`,padding:"0 1rem 1rem 1rem",boxSizing:"border-box"},children:m?c.jsx(N9e,{animal:ht,isSelected:g.has(ht.id),onSelect:M}):c.jsx(EO,{animal:ht,onSelect:vt=>n({name:"rebano-profile",animalId:vt}),onOpenActions:we})},$e.key)})}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-500",children:"Este lote est vaco."})})})]}),m&&g.size>0&&c.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-ios-modal-bg p-4 border-t border-brand-border animate-slide-up z-20",children:c.jsxs("div",{className:"max-w-2xl mx-auto flex gap-4",children:[c.jsxs("button",{onClick:$,className:"flex-1 flex items-center justify-center gap-2 bg-brand-red text-white font-bold py-3 rounded-xl",children:[c.jsx(xc,{size:18})," Quitar del Lote"]}),c.jsxs("button",{onClick:()=>C(!0),className:"flex-1 flex items-center justify-center gap-2 bg-brand-blue text-white font-bold py-3 rounded-xl",children:[c.jsx(Pq,{size:18})," Transferir"]})]})}),c.jsx(OE,{isOpen:h,onClose:()=>p(!1),onSelect:J,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:`Aadir animales a: ${t}`}),c.jsx(e7e,{isOpen:x,onClose:()=>{C(!1),v(!1),y(new Set)},animalsToTransfer:Array.from(g),fromLot:t}),c.jsx(Vu,{isOpen:_,onClose:()=>B(!1),title:`Acciones para ${Ar(E)}`,actions:ne(E)}),c.jsx(Vu,{isOpen:N==="decommissionSheet",onClose:Se,title:"Causa de la Baja",actions:he}),E&&c.jsxs(c.Fragment,{children:[N==="parturition"&&c.jsx(yp,{isOpen:!0,onClose:Se,motherId:E.id}),N==="abortion"&&c.jsx(QO,{animal:E,onCancel:Se,onSaveSuccess:Se}),N==="decommission"&&T&&c.jsx(LE,{isOpen:N==="decommission",animal:E,onCancel:Se,onConfirm:Ae,reason:T}),N==="service"&&c.jsx(VO,{isOpen:!0,onClose:Se,onSave:fe,animal:E}),N==="milkWeighingAction"&&c.jsx(RO,{isOpen:!0,animal:E,onClose:Se,onLogToSession:$e=>ge($e,"leche"),onStartNewSession:()=>xe("leche"),onStartDrying:A,onSetDry:d}),N==="bodyWeighingAction"&&c.jsx(UO,{isOpen:!0,animal:E,onClose:Se,onLogToSession:$e=>ge($e,"corporal"),onStartNewSession:()=>xe("corporal"),onSetReadyForMating:ae}),N==="logSimpleMilk"&&L&&c.jsx(An,{isOpen:!0,onClose:Se,title:`Aadir Pesaje Leche: ${Ar(E)}`,children:c.jsx(Wg,{animalId:E.id,weightType:"leche",onSaveSuccess:Se,onCancel:Se,sessionDate:L})}),N==="logSimpleBody"&&L&&c.jsx(An,{isOpen:!0,onClose:Se,title:`Aadir Peso Corporal: ${Ar(E)}`,children:c.jsx(Wg,{animalId:E.id,weightType:"corporal",onSaveSuccess:Se,onCancel:Se,sessionDate:L})}),(N==="newMilkSession"||N==="newBodySession")&&c.jsx(zO,{weightType:ee,onBack:Se,onAnimalsSelected:Ve}),N==="bulkWeighing"&&c.jsx(An,{isOpen:!0,onClose:Se,title:`Carga Masiva - ${ee==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(HO,{weightType:ee,animalsToWeigh:q,onSaveSuccess:Oe,onCancel:Se})})]})]})}const I9e=({activeFilter:t,setActiveFilter:e})=>c.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[c.jsx("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Activo"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"Activos"}),c.jsx("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"De Referencia"})]}),T9e=({activeFilter:t,setFilter:e})=>{const n=[{key:"all",label:"Todos"},{key:"Venta",label:"Vendidos"},{key:"Muerte",label:"Muertos"},{key:"Descarte",label:"Descartados"}];return c.jsxs("div",{className:"p-3 bg-black/20 rounded-lg",children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Filtrar por estado:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(r=>c.jsx("button",{onClick:()=>e(r.key),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${t===r.key?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:r.label},r.key))})]})},pS=({isOpen:t,onClose:e,onSelect:n,animals:r,title:i,filterSex:a})=>{const[s,o]=P.useState(""),[l,u]=P.useState("Activo"),[A,d]=P.useState("all"),f=m=>{u(m),d("all")},h=P.useMemo(()=>r.filter(m=>{if(a&&m.sex&&m.sex!==a)return!1;const v=m.isReference;return l==="Referencia"?v?A!=="all"?m.status===A:!0:!1:!v}).filter(m=>{if(!s)return!0;const v=s.toLowerCase(),g=m.id.toLowerCase().includes(v),y=m.name&&m.name.toLowerCase().includes(v);return g||y}).sort((m,v)=>m.id.localeCompare(v.id)),[r,s,l,A,a]),p=m=>{n(m),o("")};return c.jsx(An,{isOpen:t,onClose:e,title:i,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Hu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),c.jsx("input",{type:"search",placeholder:"Buscar ID o Nombre...",value:s,onChange:m=>o(m.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),c.jsx(I9e,{activeFilter:l,setActiveFilter:f}),l==="Referencia"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(T9e,{activeFilter:A,setFilter:d})}),c.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:h.length>0?h.map(m=>{const v=m.name?String(m.name).toUpperCase().trim():"";return c.jsx("button",{onClick:()=>p(m.id),className:"w-full text-left p-3 bg-zinc-800/50 hover:bg-zinc-700 rounded-lg transition-colors",children:c.jsxs("div",{className:"min-w-0",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:m.id.toUpperCase()}),v&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:v}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[m.sex?`${m.sex}`:"",m.birthDate&&m.birthDate!=="N/A"?` | ${uu(m.birthDate)}`:"",` | Lote: ${m.location||"N/A"}`]})]})},m.id)}):c.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se encontraron animales con estos filtros."})})]})})},Ote=(t,e)=>{if(!t||!e)return"Indefinido";const n=new Date,r=new Date(t+"T00:00:00");if(isNaN(r.getTime()))return"Indefinido";const i=(n.getTime()-r.getTime())/(1e3*60*60*24);return e==="Hembra"?i<=60?"Cabrita":i<=365?"Cabritona":"Cabra Adulta":i<=60?"Cabrito":i<=365?"Macho de Levante":"Macho Cabro"},Sm=be.forwardRef(({className:t,...e},n)=>c.jsx("input",{ref:n,...e,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange disabled:opacity-50 disabled:bg-brand-dark/50 ${t}`})),iN=be.forwardRef(({children:t,...e},n)=>c.jsxs("div",{className:"relative w-full",children:[c.jsx("select",{ref:n,...e,className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:t}),c.jsx(Ky,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]})),Qm=({title:t,children:e})=>c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border p-4 space-y-4",children:[c.jsx("h2",{className:"text-zinc-400 font-semibold text-sm uppercase tracking-wide",children:t}),e]}),QT=({labelOn:t,labelOff:e,value:n,onChange:r})=>c.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-brand-dark rounded-xl p-1 flex cursor-pointer",children:[c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-700 text-white":"text-zinc-400"}`,children:t}),c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-700 text-white"}`,children:e})]}),k9e=({onSaveSuccess:t,onCancel:e})=>{const{addAnimal:n,animals:r,lots:i,fathers:a}=Yt(),[s,o]=P.useState("Activo"),[l,u]=P.useState("Hembra"),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState("MN"),[y,x]=P.useState(""),[C,E]=P.useState(null),[j,_]=P.useState(null),[B,N]=P.useState(""),[D,T]=P.useState(""),[O,L]=P.useState(!1),[H,q]=P.useState(""),[Y,ee]=P.useState(null),[K,te]=P.useState(null),[le,se]=P.useState("Indefinido"),[M,$]=P.useState(!1),[J,ne]=P.useState(!1),[he,we]=P.useState(!1),[Se,Ae]=P.useState(!1),[ge,xe]=P.useState(!1),[ae,Ve]=P.useState(null),Oe=P.useMemo(()=>p?Ote(p,l):"Indefinido",[p,l]),fe=p?Oe:le;P.useEffect(()=>{T(SO(B))},[B]);const $e=P.useMemo(()=>r.filter(ct=>ct.sex==="Hembra"),[r]),ht=P.useMemo(()=>r.filter(ct=>ct.sex==="Macho"),[r]),vt=P.useMemo(()=>{const ct=ht,jt=a.map(Xt=>({id:Xt.id,name:Xt.name,sex:"Macho",status:"Activo",isReference:!0,birthDate:"N/A",lifecycleStage:"Macho Cabro",location:"Referencia",reproductiveStatus:"No Aplica",createdAt:0,lastWeighing:null}));return[...ct,...jt]},[ht,a]);P.useEffect(()=>{const ct=r.find(Xt=>Xt.id===j),jt=vt.find(Xt=>Xt.id===C);if(ct!=null&&ct.racialComposition&&(jt!=null&&jt.racialComposition)){const Xt=WQe(ct.racialComposition,jt.racialComposition);N(Xt),L(!0)}else(!ct||!jt)&&L(!1)},[j,C,r,vt]),P.useEffect(()=>{if(ee(null),A&&s==="Activo"){const ct=r.some(jt=>jt.id.toLowerCase()===A.toLowerCase());te(ct?`El ID "${A.toUpperCase()}" ya existe en el rebao principal.`:null)}else te(null)},[A,r,s]);const Ye=P.useMemo(()=>i,[i]),Dt=async ct=>{if(ct.preventDefault(),ee(null),te(null),s==="Activo"&&!A){ee({type:"error",text:"El ID del animal es obligatorio para animales Activos."});return}if(A&&s==="Activo"&&r.some(Zt=>Zt.id.toLowerCase()===A.toLowerCase())){te(`El ID "${A.toUpperCase()}" ya existe en el rebao principal.`),ee({type:"error",text:`El ID "${A.toUpperCase()}" ya existe.`});return}const jt={id:A.toUpperCase()||`REF-${Date.now()}`,name:f||void 0,birthDate:p||"N/A",sex:l,isReference:s==="Referencia",status:"Activo",lifecycleStage:fe,conceptionMethod:v||void 0,birthWeight:y?parseFloat(y):void 0,fatherId:C||void 0,motherId:j||void 0,racialComposition:B||void 0,breed:D||void 0,location:H||"",reproductiveStatus:l==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await n(jt),ee({type:"success",text:`Animal ${Ar(jt)} agregado con xito.`}),setTimeout(t,1e3)}catch(Xt){ee({type:"error",text:Xt.message||"No se pudo guardar el animal."}),console.error("Error al guardar animal:",Xt)}},mt=ct=>{ae==="father"?E(ct.id):ae==="mother"&&_(ct.id),Ve(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Dt,className:"w-full space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["ID Animal ",s==="Activo"?"(Obligatorio)":"(Opcional para Referencia)"]}),c.jsx("input",{type:"text",value:A,onClick:()=>Ae(!0),readOnly:!0,placeholder:s==="Activo"?"T047":"Opcional...",className:`w-full bg-brand-glass border rounded-xl p-4 text-white text-center text-3xl font-mono tracking-widest placeholder-zinc-700 focus:outline-none focus:ring-2 cursor-pointer ${K?"border-brand-red ring-brand-red":"border-brand-border focus:ring-brand-orange"}`,required:s==="Activo"}),K&&c.jsxs("p",{className:"mt-2 text-sm text-brand-red flex items-center justify-center gap-1",children:[c.jsx(mr,{size:14})," ",K]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Nombre (Opcional)"}),c.jsx(Sm,{type:"text",value:f,onChange:ct=>h(ct.target.value.toUpperCase()),placeholder:"Ej: PRINCESA"})]}),c.jsxs(Qm,{title:"Categora",children:[c.jsx(QT,{labelOn:"Hembra",labelOff:"Macho",value:l==="Hembra",onChange:ct=>u(ct?"Hembra":"Macho")}),c.jsx(QT,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:ct=>{o(ct?"Activo":"Referencia"),ct||te(null)}})]}),c.jsxs(Qm,{title:"Gentica y Nacimiento",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha de Nacimiento (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>$(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white flex justify-between items-center",children:[c.jsx("span",{className:p?"text-white":"text-zinc-500",children:p?new Date(p+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Seleccionar fecha..."}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Estado (Categora Zootcnica)"}),p?c.jsx(Sm,{type:"text",value:Oe,readOnly:!0,disabled:!0}):c.jsxs(iN,{value:le,onChange:ct=>se(ct.target.value),children:[c.jsx("option",{value:"Indefinido",children:"Seleccionar Categora..."}),c.jsx("option",{value:"Cabrita",children:"Cabrita"}),c.jsx("option",{value:"Cabritona",children:"Cabritona"}),c.jsx("option",{value:"Cabra Adulta",children:"Cabra Adulta"}),c.jsx("option",{value:"Cabrito",children:"Cabrito"}),c.jsx("option",{value:"Macho de Levante",children:"Macho de Levante"}),c.jsx("option",{value:"Macho Cabro",children:"Macho Cabro (Reproductor)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(iN,{value:v,onChange:ct=>g(ct.target.value),children:[c.jsx("option",{value:"MN",children:"Monta Natural (MN)"}),c.jsx("option",{value:"IA",children:"Inseminacin Artificial (IA)"}),c.jsx("option",{value:"TE",children:"Transferencia de Embriones (TE)"}),c.jsx("option",{value:"",children:"Otro/Desconocido"})]}),c.jsx(Sm,{type:"number",step:"0.1",value:y,onChange:ct=>x(ct.target.value),placeholder:"Peso al Nacer (Kg)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Semental)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>we(!0),className:"w-full text-left bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:C?"text-white":"text-zinc-500",children:C?Ar(vt.find(ct=>ct.id===C))||C:"Seleccionar padre..."}),c.jsx(Hu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>Ve("father"),className:"p-3 bg-brand-glass border border-brand-border rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Madre"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>ne(!0),className:"w-full text-left bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:j?"text-white":"text-zinc-500",children:j?Ar($e.find(ct=>ct.id===j))||j:"Seleccionar madre..."}),c.jsx(Hu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>Ve("mother"),className:"p-3 bg-brand-glass border border-brand-border rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Composicin Racial (Ej: 50%A 50%S)"}),c.jsx("input",{type:"text",value:B,onClick:()=>{O||xe(!0)},readOnly:!0,placeholder:"100%A  75%A 25%AGC",disabled:O,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange ${O?"opacity-50 bg-brand-dark/50":"cursor-pointer"}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Raza (Auto-calculada)"}),c.jsx(Sm,{type:"text",value:D,readOnly:!0,disabled:!0,placeholder:"Ej: Mestiza Alpina"})]})]}),c.jsxs(Qm,{title:"Manejo",children:[c.jsxs(iN,{value:H,onChange:ct=>q(ct.target.value),children:[c.jsx("option",{value:"",children:"Ubicacin / Lote (Opcional)..."}),Ye.map(ct=>c.jsx("option",{value:ct.name,children:ct.name},ct.id))]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Si no se asigna un lote, se podr encontrar en el filtro "ltima Carga".'})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[Y&&!K&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${Y.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",Y.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18})," ",c.jsx("span",{children:Y.text})," "]}),c.jsx("button",{type:"submit",disabled:!!K,className:`w-full text-white font-bold py-4 rounded-xl text-lg ${K?"bg-zinc-600 cursor-not-allowed":"bg-brand-green hover:bg-green-600"}`,children:"Guardar Animal"}),c.jsx("button",{type:"button",onClick:e,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-3 rounded-xl text-lg",children:"Cancelar"})]})]}),M&&c.jsx(Fte,{onClose:()=>$(!1),onSelectDate:ct=>{ct&&m(ct.toISOString().split("T")[0]),$(!1)},currentValue:p?new Date(p+"T00:00:00"):new Date}),c.jsx(pS,{isOpen:J,onClose:()=>ne(!1),onSelect:ct=>{_(ct),ne(!1)},animals:$e,title:"Seleccionar Madre",filterSex:"Hembra"}),c.jsx(pS,{isOpen:he,onClose:()=>we(!1),onSelect:ct=>{E(ct),we(!1)},animals:vt,title:"Seleccionar Padre",filterSex:"Macho"}),Se&&c.jsx(Lte,{onClose:()=>Ae(!1),onInput:ct=>d(ct.toUpperCase()),currentValue:A}),ge&&c.jsx(Mte,{onClose:()=>xe(!1),onInput:N,currentValue:B}),ae&&c.jsx(P9e,{type:ae,onClose:()=>Ve(null),onSave:mt})]})},Fte=({onClose:t,onSelectDate:e,currentValue:n})=>c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",onClick:r=>r.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("div",{onClick:t,className:"w-16 h-1.5 bg-zinc-700 rounded-full mx-auto mb-4 cursor-pointer"}),c.jsx("div",{className:"flex justify-center [&_.rdp]:bg-transparent [&_.rdp]:text-white [&_.rdp-caption_select]:bg-brand-glass [&_.rdp-caption_select]:border-brand-border [&_.rdp-caption_select]:text-white [&_.rdp-caption_select]:rounded-lg [&_.rdp-day_selected]:bg-brand-orange [&_.rdp-day_selected]:text-white [&_.rdp-day_today]:text-brand-orange [&_.rdp-nav_button]:text-zinc-400 [&_.rdp-head_cell]:text-zinc-500 [&_.rdp-day]:text-zinc-200 [&_.rdp-day_outside]:text-zinc-600",children:c.jsx(vp,{mode:"single",selected:n,onSelect:e,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),defaultMonth:n,locale:Ex})})]})}),Lte=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","-","0","DEL"],a=o=>{if(o==="DEL"){s();return}o&&n.length<15&&e(n+o)},s=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:o=>o.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(o=>c.jsx("button",{onClick:()=>a(o),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:o},o))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center",children:o==="DEL"?c.jsx(I5,{size:20}):o},o))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},Mte=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","%","0","DEL"],a=4,s=l=>{var m,v,g;if(l==="DEL"){o();return}if(n.length>=30)return;const u=n.split(" ").filter(y=>y!=="");let A=/[%A-Z]$/.test(n),d=n===""||n.endsWith(" ");if(u.length>=a&&d&&/\d/.test(l))return;let f=n;if(A&&/\d/.test(l))if(u.length<a)f+=" ";else return;if(l==="%"&&!/\d$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||l==="%"&&/%$/.test(f)||/[A-Z]/.test(l)&&!d&&!/\d$/.test(f.slice(-1))&&!/%$/.test(f.slice(-1))||/\d/.test(l)&&/[A-Z]$/.test(f))return;const h=((v=(m=f.split(" ").pop())==null?void 0:m.match(/\d+$/))==null?void 0:v[0])||"";if(!(l==="0"&&(d||/[%A-Z ]$/.test(f.slice(-1)))&&h.length===0)){if(l==="0"&&h==="0")return;/\d/.test(l)&&h==="0"&&(f=f.slice(0,-1))}const p=(g=(h+l).match(/\d+/))==null?void 0:g[0];p&&parseInt(p,10)>100||e(f+l)},o=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:l=>l.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(l=>c.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:l},l))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(l=>c.jsx("button",{onClick:()=>s(l),className:`h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center ${l==="%"?"text-brand-orange":""}`,children:l==="DEL"?c.jsx(I5,{size:20}):l},l))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},P9e=({type:t,onClose:e,onSave:n})=>{const{addAnimal:r,animals:i,fathers:a}=Yt(),[s,o]=P.useState("Referencia"),[l,u]=P.useState(""),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState(""),[y,x]=P.useState(null),[C,E]=P.useState(!1),[j,_]=P.useState(!1),[B,N]=P.useState(!1);P.useEffect(()=>{g(SO(p))},[p]);const D=async()=>{if(x(null),s==="Activo"&&!l){x("El ID es obligatorio si el estado es Activo.");return}const T=l.toUpperCase()||`REF-${Date.now()}`,O=new Set([...i.map(q=>q.id.toLowerCase()),...a.map(q=>q.id.toLowerCase())]);if(l&&O.has(T.toLowerCase())){x("Este ID ya existe en la base de datos (rebao o referencias).");return}const L=t==="mother"?"Hembra":"Macho",H={id:T,name:A.toUpperCase()||void 0,birthDate:f||"N/A",sex:L,isReference:s==="Referencia",status:"Activo",lifecycleStage:f?Ote(f,L):L==="Hembra"?"Cabra Adulta":"Macho Cabro",racialComposition:p||void 0,breed:v||void 0,location:"Referencia",reproductiveStatus:L==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await r(H),n(H)}catch(q){x(q.message||"Error al guardar el animal."),console.error("Error saving quick parent:",q)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md bg-ios-modal-bg rounded-2xl shadow-lg animate-slide-up flex flex-col max-h-[85vh]",onClick:T=>T.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"}),c.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Agregar ",t==="mother"?"Madre":"Padre"," Rpido"]}),c.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50",children:c.jsx(Go,{size:20})})]}),c.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[c.jsx(Qm,{title:"Categora",children:c.jsx(QT,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:T=>o(T?"Activo":"Referencia")})}),c.jsxs(Qm,{title:"Identificacin",children:[c.jsx("input",{type:"text",value:l,onClick:()=>E(!0),readOnly:!0,placeholder:s==="Activo"?"ID (Obligatorio)":"ID (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(Sm,{value:A,onChange:T=>d(T.target.value.toUpperCase()),placeholder:"Nombre (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-left flex justify-between items-center",children:[c.jsx("span",{className:f?"text-white":"text-zinc-500",children:f?new Date(f+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Fecha de Nacimiento (Opcional)"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs(Qm,{title:"Raza",children:[c.jsx("input",{type:"text",value:p,onClick:()=>N(!0),readOnly:!0,placeholder:"Composicin Racial (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(Sm,{value:v,disabled:!0,readOnly:!0,placeholder:"Raza (Auto-calculada)"})]}),y&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:y})]}),c.jsx("footer",{className:"p-4 border-t border-brand-border flex-shrink-0",children:c.jsxs("button",{onClick:D,className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:["Guardar ",t==="mother"?"Madre":"Padre"]})})]})}),C&&c.jsx(Lte,{onClose:()=>E(!1),onInput:T=>u(T.toUpperCase()),currentValue:l}),j&&c.jsx(Fte,{onClose:()=>_(!1),onSelectDate:T=>{T&&h(T.toISOString().split("T")[0]),_(!1)},currentValue:f?new Date(f+"T00:00:00"):new Date}),B&&c.jsx(Mte,{onClose:()=>N(!1),onInput:m,currentValue:p})]})};function D9e({onBack:t}){return c.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex flex-col justify-end animate-fade-in",onClick:t,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-4xl mx-auto h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:e=>e.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"})," ",c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Ingresar Nuevo Animal"}),c.jsx("button",{onClick:t,className:"p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50 transition-colors","aria-label":"Cerrar",children:c.jsx(Go,{size:24})})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsx(k9e,{onSaveSuccess:t,onCancel:t})})})]})})}const $O=(t,e)=>{const[n,r]=P.useState(""),i=P.useMemo(()=>n?t.filter(a=>e.some(s=>{const o=a[s];return typeof o=="string"||typeof o=="number"?o.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},O9e=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,a]=P.useState(!1),s=P.useRef(null);P.useEffect(()=>{var l;i&&((l=s.current)==null||l.focus())},[i]);const o=()=>{r(""),a(!1)};return c.jsxs("header",{className:"text-center pt-4 pb-4 relative overflow-hidden",children:[c.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),c.jsx("p",{className:"text-md text-zinc-400",children:e})]}),c.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${i?"translate-y-0":"translate-y-20"}`,children:c.jsx("input",{ref:s,type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),c.jsx("div",{className:"absolute top-4 right-0 pt-1",children:c.jsx("button",{onClick:i?o:()=>a(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?c.jsx(Go,{size:22}):c.jsx(Hu,{size:22})})})]})},C0=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?c.jsx(An,{isOpen:t,onClose:e,title:r,children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("p",{className:"text-zinc-300",children:i}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Confirmar"})]})]})}):null,F9e=(t,e,n,r,i)=>{if(!t||t.status!=="Activo"||t.isReference)return[];const a=[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Dr.MILKING):o.status==="en-secado"?a.push(Dr.DRYING_OFF):o.status==="seca"&&a.push(Dr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Dr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Dr.IN_SERVICE_CONFIRMED):a.push(Dr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Dr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Dr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Dr[o]).filter(Boolean)},L9e=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabro"],aN=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>c.jsxs("div",{children:[t&&c.jsx("label",{className:"block text-sm font-semibold text-zinc-400 mb-2",children:t}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>r("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n==="all"||n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return c.jsxs("button",{onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&c.jsx(a,{size:14}),i.label]},i.key)})]})]});function M9e({navigateTo:t,locationFilter:e}){const{animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,isLoading:o,updateAnimal:l,startDryingProcess:u,setLactationAsDry:A,addServiceRecord:d,fathers:f,deleteAnimalPermanently:h}=Yt(),[p,m]=P.useState(null),[v,g]=P.useState(!1),[y,x]=P.useState(null),[C,E]=P.useState(null),[j,_]=P.useState(null),[B,N]=P.useState([]),[D,T]=P.useState("corporal"),[O,L]=P.useState("Activos"),[H,q]=P.useState("all"),[Y,ee]=P.useState("Todos"),[K,te]=P.useState(!1),[le,se]=P.useState("ALL"),[M,$]=P.useState("ALL"),[J,ne]=P.useState(!1),[he,we]=P.useState(!1),[Se,Ae]=P.useState(!1),ge=P.useMemo(()=>{const ft=new Map(s.map(Ft=>[Ft.id,Ft])),gt=new Map(f.map(Ft=>[Ft.id,Ft]));return n.map(Ft=>{let St;if(Ft.sireLotId){const Vt=ft.get(Ft.sireLotId);if(Vt){const hn=gt.get(Vt.sireId)||n.find(cn=>cn.id===Vt.sireId);St=hn?Ar(hn):void 0}}return{...Ft,statusObjects:F9e(Ft,r,i,s,a),formattedAge:uu(Ft.birthDate),zootecnicCategory:Bf(Ft,r),sireName:St}})},[n,r,i,s,a,f]),xe=P.useMemo(()=>{let ft=O==="Activos"?ge.filter(gt=>!gt.isReference):ge.filter(gt=>gt.isReference);return e&&(ft=ft.filter(gt=>(gt.location||"Sin Asignar")===e)),K?ft.sort((gt,Ft)=>(Ft.endDate?new Date(Ft.endDate).getTime():Ft.createdAt||0)-(gt.endDate?new Date(gt.endDate).getTime():gt.createdAt||0)).slice(0,25):(O==="Activos"?(le!=="ALL"&&(ft=ft.filter(gt=>gt.statusObjects.some(Ft=>Ft.key===le))),M!=="ALL"&&(ft=ft.filter(gt=>gt.statusObjects.some(Ft=>Ft.key===M)))):H!=="all"&&(ft=ft.filter(gt=>gt.status===H)),Y!=="Todos"&&(ft=ft.filter(gt=>gt.zootecnicCategory===Y)),ft)},[ge,O,K,e,Y,le,M,H]),{searchTerm:ae,setSearchTerm:Ve,filteredItems:Oe}=$O(xe,["id","name"]),fe=()=>{ee("Todos"),te(!1),se("ALL"),$("ALL"),q("all"),Ve(""),ne(!1),we(!1)},$e=ft=>{if(!ft)return[];if(ft.isReference)return[{label:"Reintegrar a Activos",icon:Dq,onClick:bt},{label:"Eliminar Permanentemente",icon:xc,onClick:()=>{g(!1),Ae(!0)},color:"text-brand-red"}];const gt=[];return ft.sex==="Hembra"&&(gt.push({label:"Declarar Parto",icon:Dl,onClick:()=>{g(!1),x("parturition")}}),gt.push({label:"Declarar Aborto",icon:uf,onClick:()=>{g(!1),x("abortion")},color:"text-yellow-400"}),gt.push({label:"Acciones de Leche",icon:cf,onClick:()=>{g(!1),x("milkWeighingAction")}}),ft.sireLotId&&gt.push({label:"Registrar Servicio",icon:P5,onClick:()=>{g(!1),x("service")},color:"text-pink-400"})),gt.push({label:"Acciones de Peso",icon:XA,onClick:()=>{g(!1),x("bodyWeighingAction")}}),gt.push({label:"Mover a Lote",icon:ID,onClick:()=>t({name:"rebano-profile",animalId:ft.id,openAction:"move"})}),gt.push({label:"Dar de Baja",icon:bc,onClick:()=>{g(!1),x("decommissionSheet")},color:"text-brand-red"}),gt},ht=[{label:"Por Venta",icon:Ol,onClick:()=>{E("Venta"),x("decommission")}},{label:"Por Muerte",icon:uf,onClick:()=>{E("Muerte"),x("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:N5,onClick:()=>{E("Descarte"),x("decommission")},color:"text-brand-red"}],vt=ft=>{m(ft),g(!0)},Ye=()=>{x(null),m(null),_(null),N([]),E(null)},Dt=async ft=>{if(!p)return;const gt={status:ft.reason,isReference:!0,endDate:ft.date};ft.reason==="Venta"&&Object.assign(gt,{salePrice:ft.salePrice,saleBuyer:ft.saleBuyer,salePurpose:ft.salePurpose}),ft.reason==="Muerte"&&(gt.deathReason=ft.deathReason),ft.reason==="Descarte"&&Object.assign(gt,{cullReason:ft.cullReason,cullReasonDetails:ft.cullReasonDetails}),await l(p.id,gt),Ye()},mt=(ft,gt)=>{_(ft),x(gt==="leche"?"logSimpleMilk":"logSimpleBody")},ct=ft=>{T(ft),x(ft==="leche"?"newMilkSession":"newBodySession")},jt=async()=>{p&&(await l(p.id,{reproductiveStatus:"En Servicio"}),Ye())},Xt=(ft,gt)=>{N(gt),x("bulkWeighing")},Zt=()=>{Ye()},Ut=ft=>{u(ft),Ye()},rn=ft=>{A(ft),Ye()},st=async ft=>{if(!p||!p.sireLotId){console.error("Missing animal or sireLotId."),Ye();return}await d({sireLotId:p.sireLotId,femaleId:p.id,serviceDate:ft.toISOString().split("T")[0]}),Ye()},bt=async()=>{!p||!p.isReference||(await l(p.id,{isReference:!1,status:"Activo",endDate:void 0,reproductiveStatus:"Vaca"}),g(!1),m(null))},yt=async()=>{!p||!p.isReference||(await h(p.id),Ae(!1),g(!1),m(null))},tt=P.useRef(null),Qt=fte({count:Oe.length,getScrollElement:()=>tt.current,estimateSize:()=>96,overscan:5});return o?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando rebao..."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:tt,className:"w-full max-w-2xl mx-auto space-y-4 pb-12",style:{height:"calc(100vh - 64px - 65px)",overflowY:"auto"},children:[c.jsx(O9e,{title:e||"Mi Rebao",subtitle:`${Oe.length} animales en la vista`,searchTerm:ae,setSearchTerm:Ve}),c.jsxs("div",{className:"space-y-4 px-4",children:[c.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>{L("Activos"),fe(),ee("Todos")},className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${O==="Activos"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(zu,{size:16})," Activos"]}),c.jsxs("button",{onClick:()=>{L("Referencia"),fe()},className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${O==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(Cq,{size:16})," Referencia"]})]}),O==="Activos"?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("button",{onClick:()=>t({name:"add-animal"}),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:18})," Ingresar Nuevo Animal"]}),c.jsxs("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>ne(!J),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[c.jsx("span",{children:"Filtros Productivos"}),c.jsx(Ky,{className:`transition-transform ${J?"rotate-180":""}`,size:18})]}),J&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(aN,{title:"",filters:["MILKING","DRYING_OFF","DRY"].map(ft=>Dr[ft]).filter(Boolean),activeFilter:le,onFilterChange:se})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>we(!he),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[c.jsx("span",{children:"Filtros Reproductivos"}),c.jsx(Ky,{className:`transition-transform ${he?"rotate-180":""}`,size:18})]}),he&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(aN,{title:"",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(ft=>Dr[ft]).filter(Boolean),activeFilter:M,onFilterChange:$})})]})]})]}):c.jsx("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:c.jsx(aN,{title:"Filtrar por Causa de Baja",filters:[{key:"Venta",label:"Venta"},{key:"Muerte",label:"Muerte"},{key:"Descarte",label:"Descarte"}],activeFilter:H,onFilterChange:q})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>te(!K),title:K?"Mostrar todos":"Mostrar ltima carga",className:`flex items-center gap-2 py-1 px-3 text-sm font-semibold rounded-lg transition-colors ${K?"text-brand-orange":"text-zinc-400 hover:text-brand-orange"}`,children:[c.jsx(ND,{size:16})," ",K?"Viendo ltima Carga":"ltima Carga"]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>t({name:"manage-lots"}),className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[c.jsx(kD,{size:14})," Gestionar Lotes"]}),c.jsxs("button",{onClick:fe,className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[c.jsx(_D,{size:14})," Limpiar"]})]})]}),c.jsxs("select",{value:Y,onChange:ft=>ee(ft.target.value),className:"w-full bg-brand-glass p-3 rounded-xl text-white border border-brand-border focus:border-brand-orange focus:ring-0 appearance-none",children:[c.jsx("option",{value:"Todos",children:"Todas las Categoras Zootcnicas"}),L9e.map(ft=>c.jsx("option",{value:ft,children:ft},ft))]})]}),c.jsx("div",{className:"pt-4",style:{height:"auto",position:"relative"},children:Oe.length>0?c.jsx("div",{style:{height:`${Qt.getTotalSize()}px`,width:"100%",position:"relative"},children:Qt.getVirtualItems().map(ft=>{const gt=Oe[ft.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${ft.size}px`,transform:`translateY(${ft.start}px)`,padding:"0 1rem 1rem 1rem",boxSizing:"border-box"},children:c.jsx(EO,{animal:gt,onSelect:()=>t({name:"rebano-profile",animalId:gt.id}),onOpenActions:vt})},ft.key)})}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:ae?`No se encontraron resultados para "${ae}"`:"No hay animales que coincidan con los filtros."})})})]}),c.jsx(Vu,{isOpen:v,onClose:()=>g(!1),title:`Acciones para ${Ar(p)}`,actions:$e(p)}),c.jsx(Vu,{isOpen:y==="decommissionSheet",onClose:Ye,title:"Causa de la Baja",actions:ht}),p&&c.jsxs(c.Fragment,{children:[y==="parturition"&&c.jsx(yp,{isOpen:!0,onClose:Ye,motherId:p.id}),y==="abortion"&&c.jsx(QO,{animal:p,onCancel:Ye,onSaveSuccess:Ye}),y==="decommission"&&C&&c.jsx(LE,{isOpen:y==="decommission",animal:p,onCancel:Ye,onConfirm:Dt,reason:C}),y==="service"&&c.jsx(VO,{isOpen:!0,onClose:Ye,onSave:st,animal:p}),y==="milkWeighingAction"&&c.jsx(RO,{isOpen:!0,animal:p,onClose:Ye,onLogToSession:ft=>mt(ft,"leche"),onStartNewSession:()=>ct("leche"),onStartDrying:Ut,onSetDry:rn}),y==="bodyWeighingAction"&&c.jsx(UO,{isOpen:!0,animal:p,onClose:Ye,onLogToSession:ft=>mt(ft,"corporal"),onStartNewSession:()=>ct("corporal"),onSetReadyForMating:jt}),y==="logSimpleMilk"&&j&&c.jsx(An,{isOpen:!0,onClose:Ye,title:`Aadir Pesaje Leche: ${Ar(p)}`,children:c.jsx(Wg,{animalId:p.id,weightType:"leche",onSaveSuccess:Ye,onCancel:Ye,sessionDate:j})}),y==="logSimpleBody"&&j&&c.jsx(An,{isOpen:!0,onClose:Ye,title:`Aadir Peso Corporal: ${Ar(p)}`,children:c.jsx(Wg,{animalId:p.id,weightType:"corporal",onSaveSuccess:Ye,onCancel:Ye,sessionDate:j})}),(y==="newMilkSession"||y==="newBodySession")&&c.jsx(zO,{weightType:D,onBack:Ye,onAnimalsSelected:Xt}),y==="bulkWeighing"&&c.jsx(An,{isOpen:!0,onClose:Ye,title:`Carga Masiva - ${D==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(HO,{weightType:D,animalsToWeigh:B,onSaveSuccess:Zt,onCancel:Ye})}),c.jsx(C0,{isOpen:Se,onClose:()=>Ae(!1),onConfirm:yt,title:`Eliminar ${Ar(p)} Permanentemente`,message:"Esta accin borrar el registro del animal de la base de datos para siempre y no se puede deshacer. Continuar?"})]})]})}const R9e=({isOpen:t,onClose:e,editingLotId:n})=>{const{lots:r,addLot:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState(""),d=async()=>{if(a.trim()===""){A("El nombre del lote no puede estar vaco.");return}try{await i({name:a,parentLotId:o||void 0}),f()}catch(p){A(p.message||"No se pudo guardar el lote."),console.error(p)}},f=()=>{s(""),l(""),A(""),e()},h=r.filter(p=>!p.parentLotId&&p.id!==n);return c.jsx(An,{isOpen:t,onClose:f,title:"Crear Nuevo Lote",children:c.jsxs("form",{onSubmit:p=>{p.preventDefault(),d()},className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lotName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote"}),c.jsx("input",{id:"lotName",type:"text",value:a,onChange:p=>s(p.target.value),placeholder:"Ej: Galpn 1",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"parentLot",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-lote de (Opcional)"}),c.jsxs("select",{id:"parentLot",value:o,onChange:p=>l(p.target.value),className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0",children:[c.jsx("option",{value:"",children:"Ninguno (Es un Lote Principal)"}),h.map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:u}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:f,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},U9e=({isOpen:t,onClose:e})=>{const{addOrigin:n}=Yt(),[r,i]=P.useState(""),[a,s]=P.useState(""),o=async()=>{if(r.trim()===""){s("El nombre del origen no puede estar vaco.");return}try{await n(r),i(""),s(""),e()}catch(u){s("No se pudo guardar el origen."),console.error(u)}},l=()=>{i(""),s(""),e()};return c.jsx(An,{isOpen:t,onClose:l,title:"Crear Nuevo Origen",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la ganadera o finca de origen."}),c.jsx("div",{children:c.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Agropecuaria La Bendicin",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&c.jsx("p",{className:"text-sm text-brand-red",children:a}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{onClick:l,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:o,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Origen"})]})]})})},Q9e=t=>{const{events:e}=Yt();return P.useMemo(()=>t?e.filter(a=>a.animalId===t).sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()):[],[e,t])},H9e=({animalId:t,birthDate:e,onSave:n,onCancel:r})=>{const[i,a]=P.useState(new Date().toISOString().split("T")[0]),[s,o]=P.useState(""),[l,u]=P.useState(null),[A,d]=P.useState(!1),{animals:f}=Yt(),h=P.useMemo(()=>f.find(v=>v.id===t),[f,t]),p=h!=null&&h.name?String(h.name).toUpperCase().trim():"",m=async v=>{v.preventDefault(),u(null),d(!0);const g=parseFloat(s);if(!i||!s||isNaN(g)||g<=0){u("Por favor, introduce una fecha y un peso vlidos."),d(!1);return}if(new Date(i)<new Date(e)){u("La fecha de destete no puede ser anterior a la fecha de nacimiento."),d(!1);return}try{await n({weaningDate:i,weaningWeight:g})}catch(y){u("No se pudo guardar el registro de destete."),console.error(y)}finally{d(!1)}};return c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.toUpperCase()}),p&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:p})]}),c.jsx("p",{className:"text-sm text-zinc-400 text-center -mt-2",children:"Registra la fecha y el peso al momento del destete."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weaningDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Destete"}),c.jsx("input",{id:"weaningDate",type:"date",value:i,onChange:v=>a(v.target.value),className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0,max:new Date().toISOString().split("T")[0]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weaningWeight",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso al Destete (Kg)"}),c.jsx("input",{id:"weaningWeight",type:"number",step:"0.1",value:s,onChange:v=>o(v.target.value),placeholder:"Ej: 15.5",className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),l&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:l})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:A,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[A&&c.jsx(eu,{size:18,className:"animate-spin"}),A?"Guardando...":"Guardar Destete"]})]})]})},z9e=t=>{const{animals:e}=Yt(),n=P.useMemo(()=>{const i=new Map;return e.forEach(a=>i.set(a.id,a)),i},[e]);return P.useMemo(()=>{const i=(s,o)=>{if(!s||o>3)return;const l=n.get(s);if(!l)return;const u=i(l.fatherId,o+1),A=i(l.motherId,o+1);return{animal:l,sire:u,dam:A}};return i(t,0)||null},[t,n])},To=({animal:t,onClick:e})=>{const n="bg-zinc-800/80 p-1.5 rounded-lg border border-zinc-700/80 w-44 text-left shadow-md transition-colors text-xs px-2";if(!t)return c.jsxs("div",{className:`${n} bg-zinc-900/50 border-dashed text-center`,children:[" ",c.jsx("p",{className:"font-semibold text-zinc-500",children:"Desconocido"})]});const r=t.sex==="Hembra"?"text-pink-400":"text-blue-400",i=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:`${n} hover:border-brand-orange`,children:[c.jsx("p",{className:`font-mono font-semibold text-xs truncate ${r}`,children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-[10px] text-zinc-300 truncate",children:i}),c.jsx("p",{className:"text-zinc-400 text-[10px]",children:t.sex})]})},V9e=({rootNode:t,onAncestorClick:e})=>{var l,u,A,d,f,h,p,m,v,g,y,x,C,E,j,_,B,N,D,T,O,L,H,q,Y,ee,K,te,le,se,M,$,J,ne;if(!t)return c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos de genealoga suficientes para mostrar el pedigr."});const n="border-zinc-600",r=c.jsx("div",{className:`w-3 border-t-2 ${n}`}),i=c.jsx("div",{className:`h-20 border-r-2 ${n}`}),a=c.jsx("div",{className:`h-10 border-r-2 ${n}`}),s=c.jsx("div",{className:`h-6 border-r-2 ${n}`}),o=t.animal.name?String(t.animal.name).toUpperCase().trim():"";return c.jsxs("div",{className:"flex items-center justify-center p-4 overflow-x-auto min-w-max",children:[c.jsx("div",{className:"flex flex-col items-center justify-center",children:c.jsxs("div",{className:"bg-zinc-800/80 p-1.5 rounded-lg border border-zinc-700/80 w-44 text-left shadow-md text-xs px-2",children:[" ",c.jsx("p",{className:`font-mono font-semibold text-xs truncate ${t.animal.sex==="Hembra"?"text-pink-400":"text-blue-400"}`,children:t.animal.id.toUpperCase()}),o&&c.jsx("p",{className:"text-[10px] text-zinc-300 truncate",children:o}),c.jsx("p",{className:"text-zinc-400 text-[10px]",children:t.animal.sex})]})}),c.jsxs("div",{className:"flex flex-col items-center",children:[r,i,r]}),c.jsxs("div",{className:"flex flex-col items-center justify-around space-y-4",children:[c.jsx(To,{animal:(l=t.sire)==null?void 0:l.animal,onClick:e}),c.jsx(To,{animal:(u=t.dam)==null?void 0:u.animal,onClick:e})]}),c.jsxs("div",{className:"flex flex-col items-center justify-around space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[" ",r," ",a," ",r," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",a," ",r," "]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[20px]",children:[c.jsx(To,{animal:(d=(A=t.sire)==null?void 0:A.sire)==null?void 0:d.animal,onClick:e}),c.jsx(To,{animal:(h=(f=t.sire)==null?void 0:f.dam)==null?void 0:h.animal,onClick:e}),c.jsx("div",{className:"h-[6px]"}),c.jsx(To,{animal:(m=(p=t.dam)==null?void 0:p.sire)==null?void 0:m.animal,onClick:e}),c.jsx(To,{animal:(g=(v=t.dam)==null?void 0:v.dam)==null?void 0:g.animal,onClick:e})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[20px]",children:[c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]}),c.jsx("div",{className:"h-[6px]"}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[6px]",children:[c.jsx(To,{animal:(C=(x=(y=t.sire)==null?void 0:y.sire)==null?void 0:x.sire)==null?void 0:C.animal,onClick:e}),c.jsx(To,{animal:(_=(j=(E=t.sire)==null?void 0:E.sire)==null?void 0:j.dam)==null?void 0:_.animal,onClick:e}),c.jsx("div",{className:"h-[2px]"}),c.jsx(To,{animal:(D=(N=(B=t.sire)==null?void 0:B.dam)==null?void 0:N.sire)==null?void 0:D.animal,onClick:e}),c.jsx(To,{animal:(L=(O=(T=t.sire)==null?void 0:T.dam)==null?void 0:O.dam)==null?void 0:L.animal,onClick:e}),c.jsx("div",{className:"h-[8px]"}),c.jsx(To,{animal:(Y=(q=(H=t.dam)==null?void 0:H.sire)==null?void 0:q.sire)==null?void 0:Y.animal,onClick:e}),c.jsx(To,{animal:(te=(K=(ee=t.dam)==null?void 0:ee.sire)==null?void 0:K.dam)==null?void 0:te.animal,onClick:e}),c.jsx("div",{className:"h-[2px]"}),c.jsx(To,{animal:(M=(se=(le=t.dam)==null?void 0:le.dam)==null?void 0:se.sire)==null?void 0:M.animal,onClick:e}),c.jsx(To,{animal:(ne=(J=($=t.dam)==null?void 0:$.dam)==null?void 0:J.dam)==null?void 0:ne.animal,onClick:e})]})]})},$9e=({isOpen:t,onClose:e,animalId:n,navigateTo:r})=>{const i=z9e(n),{animals:a}=Yt(),s=a.find(u=>u.id===n),o=()=>{const u=document.querySelector(".pedigree-modal-header"),A=document.querySelector(".pedigree-modal-footer");u&&(u.style.display="none"),A&&(A.style.display="none"),window.print(),u&&(u.style.display=""),A&&(A.style.display="")},l=()=>{const u=document.querySelector(".pedigree-modal-header"),A=document.querySelector(".pedigree-modal-footer");u&&(u.style.display=""),A&&(A.style.display=""),e()};return c.jsxs(An,{isOpen:t,onClose:l,title:`Genealoga de ${Ar(s)}`,size:"large",children:[c.jsxs("div",{className:"pedigree-modal-header mb-4",children:[" "," "]}),c.jsxs("div",{className:"pedigree-chart-container",children:[" ",c.jsx(V9e,{rootNode:i,onAncestorClick:u=>{e(),setTimeout(()=>r({name:"rebano-profile",animalId:u}),100)}})]}),c.jsxs("footer",{className:"pedigree-modal-footer mt-6 pt-4 border-t border-brand-border flex justify-end gap-3",children:[c.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-zinc-600 hover:bg-zinc-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:[c.jsx(Tpe,{size:18})," Imprimir"]}),c.jsx("button",{onClick:l,className:"bg-brand-blue hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg",children:"Cerrar"})]}),c.jsx("style",{children:`
                    @media print {
                        body * {
                            visibility: hidden;
                        }
                        .pedigree-chart-container, .pedigree-chart-container * {
                            visibility: visible;
                        }
                        .pedigree-chart-container {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%; /* Ajusta segn necesidad */
                        }
                        /* Oculta los botones dentro del grfico si los hubiera */
                        .pedigree-chart-container button {
                            display: none;
                        }
                         /* Ajusta el tamao de fuente si es necesario */
                        .pedigree-chart-container p {
                           font-size: 10px; /* Ejemplo */
                        }
                    }
                `})]})},mH=be.forwardRef(({className:t,...e},n)=>c.jsx("input",{ref:n,...e,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange disabled:opacity-50 disabled:bg-brand-dark/50 ${t}`})),Rte=be.forwardRef(({children:t,...e},n)=>c.jsxs("div",{className:"relative w-full",children:[c.jsx("select",{ref:n,...e,className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:t}),c.jsx(Ky,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]})),sN=({title:t,children:e})=>c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border p-4 space-y-4",children:[c.jsx("h2",{className:"text-zinc-400 font-semibold text-sm uppercase tracking-wide",children:t}),e]}),K9e=({labelOn:t,labelOff:e,value:n,onChange:r})=>c.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-brand-dark rounded-xl p-1 flex cursor-pointer",children:[c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-700 text-white":"text-zinc-400"}`,children:t}),c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-700 text-white"}`,children:e})]}),W9e=({onClose:t,onSelectDate:e,currentValue:n})=>c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",onClick:r=>r.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("div",{onClick:t,className:"w-16 h-1.5 bg-zinc-700 rounded-full mx-auto mb-4 cursor-pointer"}),c.jsx("div",{className:"flex justify-center [&_.rdp]:bg-transparent [&_.rdp]:text-white [&_.rdp-caption_select]:bg-brand-glass [&_.rdp-caption_select]:border-brand-border [&_.rdp-caption_select]:text-white [&_.rdp-caption_select]:rounded-lg [&_.rdp-day_selected]:bg-brand-orange [&_.rdp-day_selected]:text-white [&_.rdp-day_today]:text-brand-orange [&_.rdp-nav_button]:text-zinc-400 [&_.rdp-head_cell]:text-zinc-500 [&_.rdp-day]:text-zinc-200 [&_.rdp-day_outside]:text-zinc-600",children:c.jsx(vp,{mode:"single",selected:n,onSelect:e,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),defaultMonth:n,locale:Ex})})]})}),G9e=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","-","0","DEL"],a=o=>{if(o==="DEL"){s();return}o&&n.length<15&&e(n+o)},s=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:o=>o.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(o=>c.jsx("button",{onClick:()=>a(o),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:o},o))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center",children:o==="DEL"?c.jsx(I5,{size:20}):o},o))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},q9e=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","%","0","DEL"],a=4,s=l=>{var m,v,g;if(l==="DEL"){o();return}if(n.length>=30)return;const u=n.split(" ").filter(y=>y!=="");let A=/[%A-Z]$/.test(n),d=n===""||n.endsWith(" ");if(u.length>=a&&d&&/\d/.test(l))return;let f=n;if(A&&/\d/.test(l))if(u.length<a)f+=" ";else return;if(l==="%"&&!/\d$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||l==="%"&&/%$/.test(f)||/[A-Z]/.test(l)&&!d&&!/\d$/.test(f.slice(-1))&&!/%$/.test(f.slice(-1))||/\d/.test(l)&&/[A-Z]$/.test(f))return;const h=((v=(m=f.split(" ").pop())==null?void 0:m.match(/\d+$/))==null?void 0:v[0])||"";if(!(l==="0"&&(d||/[%A-Z ]$/.test(f.slice(-1)))&&h.length===0)){if(l==="0"&&h==="0")return;/\d/.test(l)&&h==="0"&&(f=f.slice(0,-1))}const p=(g=(h+l).match(/\d+/))==null?void 0:g[0];p&&parseInt(p,10)>100||e(f+l)},o=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:l=>l.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(l=>c.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:l},l))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(l=>c.jsx("button",{onClick:()=>s(l),className:`h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center ${l==="%"?"text-brand-orange":""}`,children:l==="DEL"?c.jsx(I5,{size:20}):l},l))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},Y9e=({type:t,onClose:e,onSave:n})=>{const{animals:r,fathers:i}=Yt(),[a,s]=P.useState("Referencia"),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(""),[m,v]=P.useState(""),[g,y]=P.useState(null),[x,C]=P.useState(!1),[E,j]=P.useState(!1),[_,B]=P.useState(!1),N=(O,L)=>{if(!O||!L)return"Indefinido";const H=new Date,q=new Date(O+"T00:00:00");if(isNaN(q.getTime()))return"Indefinido";const Y=(H.getTime()-q.getTime())/(1e3*60*60*24);return L==="Hembra"?Y<=60?"Cabrita":Y<=365?"Cabritona":"Cabra Adulta":Y<=60?"Cabrito":Y<=365?"Macho de Levante":"Macho Cabro"};P.useEffect(()=>{v(SO(h))},[h]);const D=async()=>{if(y(null),a==="Activo"&&!o){y("El ID es obligatorio si el estado es Activo.");return}const O=o.toUpperCase()||`REF-${Date.now()}`,L=new Set([...r.map(Y=>Y.id.toLowerCase()),...i.map(Y=>Y.id.toLowerCase())]);if(o&&L.has(O.toLowerCase())){y("Este ID ya existe en la base de datos (rebao o referencias).");return}const H=t==="mother"?"Hembra":"Macho",q={id:O,name:u.toUpperCase()||void 0,birthDate:d||"N/A",sex:H,isReference:a==="Referencia",status:"Activo",lifecycleStage:d?N(d,H):H==="Hembra"?"Cabra Adulta":"Macho Cabro",racialComposition:h||void 0,breed:m||void 0,location:"Referencia",reproductiveStatus:H==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{n(q)}catch(Y){y(Y.message||"Error al preparar datos del animal."),console.error("Error creating quick parent object:",Y)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[110] bg-black/60 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md bg-ios-modal-bg rounded-2xl shadow-lg animate-slide-up flex flex-col max-h-[90vh]",onClick:O=>O.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"}),c.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Agregar ",t==="mother"?"Madre":"Padre"," Rpido"]}),c.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50",children:c.jsx(Go,{size:20})})]}),c.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[c.jsx(sN,{title:"Categora",children:c.jsx(K9e,{labelOn:"Activo",labelOff:"Referencia",value:a==="Activo",onChange:O=>s(O?"Activo":"Referencia")})}),c.jsxs(sN,{title:"Identificacin",children:[c.jsx("input",{type:"text",value:o,onClick:()=>C(!0),readOnly:!0,placeholder:a==="Activo"?"ID (Obligatorio)":"ID (Opcional)",className:`w-full bg-brand-glass border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 cursor-pointer font-mono ${g&&g.includes("ID ya existe")?"border-brand-red ring-brand-red":"border-brand-border focus:ring-brand-orange"}`}),c.jsx(mH,{value:u,onChange:O=>A(O.target.value.toUpperCase()),placeholder:"Nombre (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>j(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-left flex justify-between items-center",children:[c.jsx("span",{className:d?"text-white":"text-zinc-500",children:d?new Date(d+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Fecha Nacimiento (Opcional)"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs(sN,{title:"Raza",children:[c.jsx("input",{type:"text",value:h,onClick:()=>B(!0),readOnly:!0,placeholder:"Composicin Racial (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(mH,{value:m,disabled:!0,readOnly:!0,placeholder:"Raza (Auto-calculada)"})]}),g&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:g})]}),c.jsx("footer",{className:"p-4 border-t border-brand-border flex-shrink-0",children:c.jsx("button",{onClick:D,className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar"})})]})}),x&&c.jsx(G9e,{onClose:()=>C(!1),onInput:O=>l(O.toUpperCase()),currentValue:o}),E&&c.jsx(W9e,{onClose:()=>j(!1),onSelectDate:O=>{O&&f(O.toISOString().split("T")[0]),j(!1)},currentValue:d?new Date(d+"T00:00:00Z"):new Date}),_&&c.jsx(q9e,{onClose:()=>B(!1),onInput:p,currentValue:h}),c.jsx("style",{children:" .rdp { --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: transparent; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: transparent; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; margin: 1em auto; } .rdp-caption_label { color: #FFF; font-weight: bold;} .rdp-nav_button { color: #FF9500; } .rdp-head_cell { color: #8e8e93; font-size: 0.8em; } .rdp-day { color: #FFF;} .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } .rdp-day_today { font-weight: bold; color: #FF9500; } .rdp-day_disabled { color: #505054; } .rdp-day_outside { color: #505054; } .rdp-caption_dropdowns { display: flex; gap: 10px; } .rdp-dropdown { background-color: #333; border: 1px solid #555; color: #FFF; padding: 4px 8px; border-radius: 6px; } "})]})},uA=({label:t,value:e,isEditing:n,children:r})=>c.jsxs("div",{children:[c.jsx("dt",{className:"text-sm font-medium text-zinc-400",children:t}),n&&r?r:c.jsx("dd",{className:`mt-1 text-lg font-semibold text-white truncate ${t==="ID"?"font-mono":""}`,children:e||"N/A"})]}),X9e=({onOpenModal:t})=>c.jsx("div",{className:"text-center p-4 min-h-[150px] flex flex-col justify-center items-center",children:c.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 bg-brand-blue hover:bg-blue-700 text-white font-bold py-3 px-5 rounded-lg transition-colors",children:[c.jsx(wq,{size:20})," Ver Genealoga Completa"]})}),J9e={Nacimiento:{icon:Spe,color:"bg-green-500/20 text-brand-green"},Registro:{icon:T5,color:"bg-blue-500/20 text-brand-blue"},Parto:{icon:Dl,color:"bg-pink-500/20 text-pink-400"},Aborto:{icon:uf,color:"bg-yellow-500/20 text-yellow-400"},Movimiento:{icon:ID,color:"bg-blue-500/20 text-brand-blue"},"Cambio de Estado":{icon:Rpe,color:"bg-purple-500/20 text-purple-400"},"Pesaje Lechero":{icon:kq,color:"bg-gray-500/20 text-gray-300"},"Pesaje Corporal":{icon:XA,color:"bg-green-500/20 text-brand-green"},Servicio:{icon:k5,color:"bg-pink-500/20 text-pink-400"},Tratamiento:{icon:lp,color:"bg-red-500/20 text-brand-red"},Diagnstico:{icon:As,color:"bg-teal-500/20 text-teal-300"}},Z9e=({animal:t})=>{const e=Q9e(t==null?void 0:t.id);return t?!e||e.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene eventos registrados."}):c.jsx("div",{className:"space-y-3",children:e.map(n=>{const r=J9e[n.type]||{icon:T5,color:"bg-gray-500/20 text-gray-300"},i=r.icon;let a="Fecha desconocida",s="";if(n.type==="Registro"&&t.createdAt)a=new Date(t.createdAt).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}),s="Registrado el: ";else if(n.date&&n.date!=="N/A")try{a=new Date(n.date+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(o){console.error("Error formatting event date:",n.date,o),a=n.date}return c.jsxs("div",{className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r.color}`,children:c.jsx(i,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:n.type}),c.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[s,a,n.lotName&&` | Lote: ${n.lotName}`]})]})]},n.id)})}):c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Cargando datos del animal..."})},eVe=({offspring:t,navigateTo:e})=>t.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene descendencia registrada."}):c.jsx("div",{className:"space-y-2",children:t.map(n=>{const r=n.name?String(n.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e({name:"rebano-profile",animalId:n.id}),className:"w-full text-left p-3 bg-black/20 hover:bg-zinc-800/60 rounded-lg transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:n.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[n.sex," | ",uu(n.birthDate)," | Lote: ",n.location||"N/A"]})})]}),c.jsx(ta,{className:"text-zinc-600 group-hover:text-white transition-colors flex-shrink-0"})]},n.id)})}),tVe=({animal:t,isEditing:e,editedData:n,setEditedData:r,origins:i,onAddOriginClick:a,onLocationClick:s})=>{const o=(u,A)=>{r(d=>({...d,[u]:A}))},l=uu(t.birthDate);return c.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:[c.jsx(uA,{label:"ID",value:t.id}),c.jsx(uA,{label:"Sexo",value:t.sex}),c.jsx(uA,{label:"Fecha Nacimiento",value:t.birthDate!=="N/A"?new Date(t.birthDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"}):"N/A",isEditing:e,children:c.jsx("input",{type:"date",value:n.birthDate==="N/A"?"":n.birthDate||"",onChange:u=>o("birthDate",u.target.value||"N/A"),className:"w-full bg-zinc-700 p-2 rounded-md mt-1 text-white"})}),c.jsx(uA,{label:"Edad",value:l}),c.jsx(uA,{label:"Ubicacin / Lote",children:!e&&c.jsx("dd",{className:"mt-1 text-lg",children:c.jsx("button",{onClick:s,className:"font-semibold text-brand-orange hover:underline text-left",children:t.location||"Sin Asignar"})})}),c.jsx(uA,{label:"Categora",value:t.lifecycleStage}),c.jsx(uA,{label:"Origen",value:t.origin,isEditing:e,children:c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Rte,{value:n.origin||"",onChange:u=>o("origin",u.target.value),children:[c.jsx("option",{value:"",children:"Seleccionar Origen..."}),c.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),i.map(u=>c.jsx("option",{value:u.name,children:u.name},u.id))]}),c.jsx("button",{type:"button",onClick:a,className:"p-2 bg-brand-orange hover:bg-orange-600 text-white rounded-md",children:c.jsx(Bl,{size:20})})]})}),t.weaningDate&&c.jsx(uA,{label:"Fecha de Destete",value:new Date(t.weaningDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"})}),t.weaningWeight&&c.jsx(uA,{label:"Peso al Destete",value:`${t.weaningWeight} Kg`})]})};function nVe({animalId:t,onBack:e,navigateTo:n}){const{animals:r,lots:i,origins:a,parturitions:s,updateAnimal:o,deleteAnimalPermanently:l,fathers:u,addAnimal:A,appConfig:d}=Yt(),[f,h]=P.useState("main"),[p,m]=P.useState(!1),[v,g]=P.useState({}),[y,x]=P.useState("idle"),[C,E]=P.useState(!1),[j,_]=P.useState(!1),[B,N]=P.useState(!1),[D,T]=P.useState(!1),[O,L]=P.useState(""),[H,q]=P.useState(!1),[Y,ee]=P.useState(null),[K,te]=P.useState(!1),[le,se]=P.useState(!1),[M,$]=P.useState(!1),[J,ne]=P.useState(!1),[he,we]=P.useState(!1),[Se,Ae]=P.useState(!1),[ge,xe]=P.useState(null),ae=P.useMemo(()=>r.find(tt=>tt.id===t),[r,t]),Ve=P.useMemo(()=>ae?ae.sex==="Hembra"?r.filter(tt=>tt.motherId===ae.id).sort((tt,Qt)=>new Date(Qt.birthDate).getTime()-new Date(tt.birthDate).getTime()):ae.sex==="Macho"?r.filter(tt=>tt.fatherId===ae.id).sort((tt,Qt)=>new Date(Qt.birthDate).getTime()-new Date(tt.birthDate).getTime()):[]:[],[r,ae]),Oe=P.useMemo(()=>r.filter(tt=>tt.sex==="Hembra"),[r]),fe=P.useMemo(()=>{const tt=r.filter(ft=>ft.sex==="Macho"),Qt=u.map(ft=>({id:ft.id,name:ft.name,sex:"Macho",status:"Activo",isReference:!0,birthDate:"N/A",lifecycleStage:"Macho Cabro",location:"Referencia",reproductiveStatus:"No Aplica",createdAt:0,lastWeighing:null}));return[...tt,...Qt]},[r,u]),$e=P.useMemo(()=>ae?Bf(ae,s):"",[ae,s]),ht=P.useMemo(()=>{if(!ae||ae.weaningDate||ae.isReference||ae.status!=="Activo")return!1;const tt=$e;return tt!=="Cabrita"&&tt!=="Cabrito"?!1:Yc(ae.birthDate)>d.edadDesteteDias},[ae,$e,d.edadDesteteDias]),vt=(ae==null?void 0:ae.breedingFailures)||0,Ye=vt>=2||ht?"border-brand-red ring-2 ring-brand-red/80":"border-brand-border";P.useEffect(()=>{ae&&(p&&g({birthDate:ae.birthDate,origin:ae.origin,fatherId:ae.fatherId,motherId:ae.motherId}),L(ae.location||""))},[ae,p]);const Dt=async()=>{if(ae){x("saving");try{await o(ae.id,v),x("success"),setTimeout(()=>{m(!1),x("idle")},1500)}catch(tt){console.error("Error al actualizar:",tt),x("idle")}}},mt=()=>{m(!1),g({})},ct=async()=>{if(ae)try{await o(ae.id,{location:O}),T(!1)}catch(tt){console.error("Error al actualizar ubicacin:",tt)}},jt=async tt=>{if(!ae||!Y)return;const Qt={status:Y,isReference:!0,endDate:tt.date};Y==="Venta"&&Object.assign(Qt,{salePrice:tt.salePrice,saleBuyer:tt.saleBuyer,salePurpose:tt.salePurpose}),Y==="Muerte"&&(Qt.deathReason=tt.deathReason),Y==="Descarte"&&Object.assign(Qt,{cullReason:tt.cullReason,cullReasonDetails:tt.cullReasonDetails}),await o(ae.id,Qt),ee(null)},Xt=async()=>{ae&&await o(ae.id,{isReference:!1,status:"Activo",endDate:void 0})},Zt=async()=>{ae&&(await l(ae.id),e())},Ut=async tt=>{ae&&(await o(ae.id,{weaningDate:tt.weaningDate,weaningWeight:tt.weaningWeight}),$(!1))},rn=async tt=>{try{await A(tt),ge==="father"?g(Qt=>({...Qt,fatherId:tt.id})):ge==="mother"&&g(Qt=>({...Qt,motherId:tt.id}))}catch(Qt){console.error("Error saving quick parent:",Qt)}finally{xe(null)}},st=[{label:"Por Venta",icon:Ol,onClick:()=>ee("Venta")},{label:"Por Muerte",icon:uf,onClick:()=>ee("Muerte"),color:"text-brand-red"},{label:"Por Descarte",icon:N5,onClick:()=>ee("Descarte"),color:"text-brand-red"}],bt=[{label:"Reintegrar a Activos",icon:Dq,onClick:Xt},{label:"Eliminar Permanentemente",icon:xc,onClick:()=>se(!0),color:"text-brand-red"}];if(!ae)return c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]});const yt=ae.name?ae.name.toUpperCase().trim():"";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[c.jsxs("header",{className:`bg-brand-glass backdrop-blur-xl rounded-b-2xl p-4 border-b border-x sticky top-0 z-10 transition-all ${Ye}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center min-w-0",children:[c.jsx("h1",{className:"text-2xl font-mono font-bold tracking-tight text-white truncate",children:ae.id.toUpperCase()}),yt&&c.jsx("p",{className:"text-sm text-zinc-300 truncate",children:yt})]}),c.jsxs("div",{className:"w-8 flex items-center justify-end gap-1",children:[ht&&c.jsx("span",{title:`Destete atrasado (Meta: ${d.edadDesteteDias} das)`,children:c.jsx(mr,{className:"text-brand-red",size:20})}),vt===1&&!ht&&c.jsx("span",{title:"1 fallo reproductivo reportado",children:c.jsx(mr,{className:"text-yellow-400",size:20})}),vt>=2&&!ht&&c.jsx("span",{title:`${vt} fallos reproductivos reportados`,children:c.jsx(mr,{className:"text-brand-red",size:20})})]})]}),c.jsx("p",{className:"text-center text-brand-orange font-semibold text-sm -mt-1 mb-3 uppercase tracking-wider",children:ae.isReference?"REFERENCIA":ae.status!=="Activo"?ae.status:ae.location||"Sin Asignar"}),ht&&c.jsxs("div",{className:"mb-3 p-3 bg-brand-red/20 border border-brand-red rounded-lg text-center",children:[c.jsx("p",{className:"text-red-300 text-sm font-semibold",children:"Destete Atrasado"}),c.jsxs("p",{className:"text-red-400 text-xs",children:["Este animal tiene ",Yc(ae.birthDate)," das (Meta: ",d.edadDesteteDias," das) y no ha sido destetado."]})]}),c.jsxs("div",{className:"flex justify-around bg-black/20 rounded-xl p-1",children:[ae.sex==="Hembra"&&c.jsxs(c.Fragment,{children:[" ",c.jsxs("button",{onClick:()=>n({name:"lactation-profile",animalId:ae.id}),className:"flex flex-col items-center p-2 text-blue-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(cf,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Leche"})]})," ",c.jsxs("button",{onClick:()=>N(!0),disabled:ae.isReference||ae.status!=="Activo",className:"flex flex-col items-center p-2 text-pink-400 hover:bg-zinc-700/50 w-full rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[c.jsx(Dl,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Parto"})]})," "]}),($e==="Cabrita"||$e==="Cabrito")&&!ae.weaningDate&&!ae.isReference&&ae.status==="Activo"&&c.jsxs("button",{onClick:()=>$(!0),className:"flex flex-col items-center p-2 text-yellow-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(spe,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Destetar"})]}),c.jsxs("button",{onClick:()=>n({name:"growth-profile",animalId:ae.id}),className:"flex flex-col items-center p-2 text-brand-green hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(XA,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Peso"})]}),c.jsxs("button",{onClick:()=>alert("Funcin en desarrollo"),disabled:ae.isReference||ae.status!=="Activo",className:"flex flex-col items-center p-2 text-teal-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[c.jsx(lp,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Sanidad"})]}),c.jsxs("button",{onClick:()=>ae.isReference?te(!0):T(!0),className:"flex flex-col items-center p-2 text-brand-blue hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(Ppe,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Mover"})]}),ae.status==="Activo"&&!ae.isReference&&c.jsxs("button",{onClick:()=>q(!0),className:"flex flex-col items-center p-2 text-amber-400 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(bc,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Dar de baja"})]}),c.jsxs("button",{onClick:()=>m(!p),className:`flex flex-col items-center p-2 w-full rounded-lg transition-colors ${p?"text-green-400":"text-brand-orange"} hover:bg-zinc-700/50`,children:[c.jsx(bf,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Editar"})]})]})]}),c.jsxs("main",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex bg-brand-glass rounded-xl p-1 border border-brand-border",children:[c.jsx("button",{onClick:()=>h("main"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="main"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Ficha"}),c.jsx("button",{onClick:()=>h("genetics"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="genetics"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Genealoga"}),c.jsx("button",{onClick:()=>h("progeny"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="progeny"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Progenie"}),c.jsx("button",{onClick:()=>h("events"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="events"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Eventos"})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border min-h-[200px]",children:[f==="main"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(tVe,{animal:ae,isEditing:p,editedData:v,setEditedData:g,origins:a,onAddOriginClick:()=>_(!0),onLocationClick:()=>T(!0)}),p&&c.jsxs("div",{className:"space-y-4 pt-4 border-t border-zinc-700",children:[c.jsx("h3",{className:"text-sm font-medium text-zinc-400",children:"Padres (Opcional)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>Ae(!0),className:"w-full text-left bg-zinc-700 border border-zinc-600 rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsxs("span",{className:v.fatherId?"text-white":"text-zinc-500",children:["Padre: ",v.fatherId?Ar(fe.find(tt=>tt.id===v.fatherId))||v.fatherId:"Seleccionar..."]}),c.jsx(Hu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>xe("father"),className:"p-3 bg-zinc-700 border border-zinc-600 rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>we(!0),className:"w-full text-left bg-zinc-700 border border-zinc-600 rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsxs("span",{className:v.motherId?"text-white":"text-zinc-500",children:["Madre: ",v.motherId?Ar(Oe.find(tt=>tt.id===v.motherId))||v.motherId:"Seleccionar..."]}),c.jsx(Hu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>xe("mother"),className:"p-3 bg-zinc-700 border border-zinc-600 rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]})]}),p&&c.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-zinc-700",children:[c.jsxs("button",{onClick:mt,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2",children:[c.jsx(Go,{size:18})," Cancelar"]}),c.jsxs("button",{onClick:Dt,disabled:y!=="idle",className:"bg-brand-green hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 disabled:opacity-50 min-w-[130px] justify-center",children:[y==="saving"&&c.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"}),y==="success"&&c.jsx(As,{size:18}),y==="idle"&&c.jsx(o0,{size:18}),c.jsx("span",{className:"ml-2",children:y==="success"?"Guardado":"Guardar"})]})]})]}),f==="genetics"&&c.jsx(X9e,{onOpenModal:()=>ne(!0)}),f==="progeny"&&c.jsx(eVe,{offspring:Ve,navigateTo:n}),f==="events"&&c.jsx(Z9e,{animal:ae})]})]})]}),c.jsx(An,{isOpen:D,onClose:()=>T(!1),title:`Cambiar Lote para ${Ar(ae)}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar nuevo lote"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Rte,{value:O,onChange:tt=>L(tt.target.value),children:[c.jsx("option",{value:"",children:"Sin Asignar"}),i.map(tt=>c.jsx("option",{value:tt.name,children:tt.name},tt.id))]}),c.jsx("button",{type:"button",onClick:()=>{T(!1),E(!0)},className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(Bl,{size:24})})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:()=>T(!1),className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:ct,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Cambio"})]})]})}),c.jsx(Vu,{isOpen:H,onClose:()=>q(!1),title:"Causa de la Baja",actions:st}),Y&&ae&&c.jsx(LE,{isOpen:!!Y,animal:ae,onCancel:()=>ee(null),onConfirm:jt,reason:Y}),c.jsx(Vu,{isOpen:K,onClose:()=>te(!1),title:"Acciones de Referencia",actions:bt}),c.jsx(C0,{isOpen:le,onClose:()=>se(!1),onConfirm:Zt,title:`Eliminar ${Ar(ae)} Permanentemente?`,message:"Esta accin borrar el registro del animal de la base de datos para siempre y no se puede deshacer."}),c.jsx(R9e,{isOpen:C,onClose:()=>E(!1)}),c.jsx(U9e,{isOpen:j,onClose:()=>_(!1)}),c.jsx(yp,{isOpen:B,onClose:()=>N(!1),motherId:ae.id}),c.jsxs(An,{isOpen:M,onClose:()=>$(!1),title:`Registrar Destete de ${Ar(ae)}`,children:[" ",c.jsx(H9e,{animalId:ae.id,birthDate:ae.birthDate,onSave:Ut,onCancel:()=>$(!1)})," "]}),c.jsx($9e,{isOpen:J,onClose:()=>ne(!1),animalId:ae.id,navigateTo:n}),c.jsx(pS,{isOpen:he,onClose:()=>we(!1),onSelect:tt=>{g(Qt=>({...Qt,motherId:tt})),we(!1)},animals:Oe,title:"Seleccionar Madre",filterSex:"Hembra"}),c.jsx(pS,{isOpen:Se,onClose:()=>Ae(!1),onSelect:tt=>{g(Qt=>({...Qt,fatherId:tt})),Ae(!1)},animals:fe,title:"Seleccionar Padre",filterSex:"Macho"}),ge&&c.jsx(Y9e,{type:ge,onClose:()=>xe(null),onSave:rn})]})}const rVe=({animal:t,parturition:e,onSelectAnimal:n})=>c.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),c.jsx(ta,{className:"text-zinc-600"})]});function iVe({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=Yt(),[a,s]=P.useState(e);P.useEffect(()=>{s(e)},[e]);const o=P.useMemo(()=>{const u=f=>n.find(h=>h.id===f),A=r.filter(f=>f.status==="en-secado").map(f=>({animal:u(f.goatId),parturition:f})).filter(f=>f.animal),d=r.filter(f=>f.status==="seca").map(f=>({animal:u(f.goatId),parturition:f})).filter(f=>f.animal);return{drying:A,dry:d}},[n,r]),l=o[a]||[];return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-8 pb-4",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestin de Rebao"}),c.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>s("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",o.drying.length,")"]}),c.jsxs("button",{onClick:()=>s("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",o.dry.length,")"]})]})}),c.jsx("div",{className:"space-y-2",children:l.length>0?l.map(({animal:u,parturition:A})=>c.jsx(rVe,{animal:u,parturition:A,onSelectAnimal:t},A.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function aVe({onBack:t}){const{lots:e,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,addLot:o,deleteLot:l,updateAnimal:u}=Yt(),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(""),y=P.useMemo(()=>{const _=new Map;return n.forEach(B=>{const N=B.location||"Sin Asignar";_.set(N,(_.get(N)||0)+1)}),e.map(B=>({...B,animalCount:_.get(B.name)||0})).sort((B,N)=>B.name.localeCompare(N.name))},[e,n]),x=async()=>{if(A.trim()!==""){g("");try{await o({name:A,parentLotId:void 0}),d("")}catch(_){g(_.message||"No se pudo crear el lote.")}}},C=async(_,B)=>{var N;if(B>0){g(`No se puede eliminar "${(N=e.find(D=>D.id===_))==null?void 0:N.name}". Reasigne los ${B} animales primero.`);return}if(g(""),window.confirm("Ests seguro de que quieres eliminar este lote? Esta accin no se puede deshacer."))try{await l(_)}catch(D){g(D.message||"No se pudo eliminar el lote.")}},E=_=>{m(_),h(!0)},j=async _=>{if(!p)return;const B=_.map(N=>u(N,{location:p}));await Promise.all(B),h(!1),m(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestionar Lotes Fsicos"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Crea ubicaciones y asigna animales"})]}),c.jsx("div",{className:"w-8"})]}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Aadir Nuevo Lote"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:A,onChange:_=>d(_.target.value),placeholder:"Nombre del lote...",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),c.jsx("button",{onClick:x,className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(na,{size:24})})]}),v&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:v})]})}),c.jsxs("div",{className:"space-y-2 pt-4 px-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Lotes Existentes"}),y.length>0?y.map(_=>c.jsxs("div",{className:"w-full text-left bg-brand-glass rounded-2xl p-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:_.name}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[_.animalCount," ",_.animalCount===1?"animal":"animales"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>E(_.name),className:"flex items-center gap-2 bg-zinc-700/80 text-white font-semibold py-2 px-3 rounded-lg hover:bg-zinc-600/80 transition-colors",children:[c.jsx(zu,{size:16})," Asignar"]}),c.jsx("button",{onClick:()=>C(_.id,_.animalCount),className:"p-2 text-zinc-500 hover:text-brand-red transition-colors",children:c.jsx(xc,{size:18})})]})]},_.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"An no has creado ningn lote."})})]})]}),c.jsx(OE,{isOpen:f,onClose:()=>h(!1),onSelect:j,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,title:`Asignar animales a: ${p}`})]})}const sVe=({onSave:t,onCancel:e,editingLot:n})=>{const{fathers:r,addFather:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(!1),[u,A]=P.useState(null),[d,f]=P.useState(!1);P.useEffect(()=>{n&&n.sireId?s(n.sireId):s("")},[n]);const h=async v=>{await i(v),s(v.id),l(!1)},p=async v=>{if(v.preventDefault(),A(null),!a){A("Debes seleccionar un semental.");return}f(!0);try{await t(a)}catch(g){A("No se pudo guardar el lote."),console.error(g),f(!1)}},m=n?d?"Actualizando...":"Guardar Cambios":d?"Creando...":"Crear Lote";return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"sire",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar Semental"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{id:"sire",value:a,onChange:v=>s(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl font-mono text-white",required:!0,disabled:!!n,children:[c.jsx("option",{value:"",children:"Elegir reproductor..."}),r.map(v=>c.jsx("option",{value:v.id,children:Ar(v)},v.id))]}),c.jsx("button",{type:"button",onClick:()=>l(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(na,{size:24})})]})]}),u&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:u})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d||!a,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:m})]})]}),c.jsx(_O,{isOpen:o,onClose:()=>l(!1),onSave:h})]})},oVe=({isOpen:t,onClose:e,femalesToTransfer:n,originSeasonId:r,onConfirmTransfer:i})=>{const{animals:a,breedingSeasons:s,sireLots:o}=Yt(),[l,u]=P.useState(new Set),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState("");P.useEffect(()=>{t&&(u(new Set(n)),d(""),m(""))},[t,n]);const v=P.useMemo(()=>s.find(E=>E.id===r),[s,r]),g=P.useMemo(()=>s.filter(E=>E.id!==r&&E.status==="Activo"),[s,r]),y=P.useMemo(()=>{const E=new Map(a.map(j=>[j.id,j]));return n.map(j=>E.get(j)).filter(j=>!!j).sort((j,_)=>j.id.localeCompare(_.id))},[n,a]),x=E=>{u(j=>{const _=new Set(j);return _.has(E)?_.delete(E):_.add(E),_})},C=async()=>{if(!A){m("Debes seleccionar una temporada de destino.");return}if(!o.some(j=>j.seasonId===A)){m("La temporada de destino no tiene lotes de reproductor. Crea uno primero.");return}if(l.size===0){m("Debes seleccionar al menos una hembra para transferir.");return}h(!0),m("");try{await i(A,Array.from(l)),h(!1),e()}catch(j){m(j.message||"Error al transferir los animales."),console.error("Error transferring animals:",j),h(!1)}};return t?c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in p-4",onClick:e,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-lg rounded-2xl flex flex-col animate-slide-up max-h-[90vh]",onClick:E=>E.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 p-4 border-b border-brand-border",children:[c.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Transferir Animales"}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Desde la Temporada: ",(v==null?void 0:v.name)||"Cargando..."]})]}),c.jsxs("main",{className:"p-6 space-y-4 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["Animales a transferir (",l.size,"/",y.length,")"]}),c.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 p-2 bg-black/20 rounded-lg border border-zinc-700",children:y.length>0?y.map(E=>{const j=E.name?String(E.name).toUpperCase().trim():"";return c.jsxs("div",{onClick:()=>x(E.id),className:"flex items-center gap-3 p-2 rounded-md hover:bg-zinc-700 cursor-pointer transition-colors",children:[l.has(E.id)?c.jsx(D5,{className:"text-brand-orange flex-shrink-0"}):c.jsx(O5,{className:"text-zinc-500 flex-shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:E.id.toUpperCase()}),j&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:j})]})]},E.id)}):c.jsx("p",{className:"text-sm text-zinc-500 text-center py-2",children:"No hay animales para transferir."})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Transferir a la Temporada:"}),c.jsxs("select",{id:"destination",value:A,onChange:E=>d(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-white appearance-none",children:[c.jsx("option",{value:"",children:"Seleccionar temporada de destino..."}),g.map(E=>c.jsxs("option",{value:E.id,children:[E.name," (Activa)"]},E.id))]})]}),p&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:p})]})]}),c.jsxs("footer",{className:"flex-shrink-0 flex justify-end gap-4 p-4 border-t border-brand-border",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:C,disabled:f||l.size===0||!A,className:"px-5 py-2 bg-brand-blue hover:bg-blue-700 text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Transfiriendo...":`Transferir ${l.size} Animal(es)`})]})]})}):null},lVe=({sireName:t,animalCount:e,dragControls:n})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:r=>n.start(r),children:c.jsx(BD,{className:"text-zinc-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[c.jsx(cx,{})," Lote: ",t]}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1 flex items-center gap-2",children:[c.jsx(zu,{size:14})," ",e," ",e===1?"hembra asignada":"hembras asignadas"]})]}),c.jsx(ta,{className:"text-zinc-600"})]}),cVe=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=Ap(),s=P.useRef(!1),o=(l,u)=>{const A=u.offset.x,d=u.velocity.x;Math.abs(A)<2&&Math.abs(d)<100||(A<-160/2||d<-500?a.start({x:-160}):a.start({x:0})),setTimeout(()=>{s.current=!1},100)};return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[c.jsxs("button",{onClick:e,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(bf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c.jsxs("button",{onClick:n,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(xc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),c.jsx(Zi.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{s.current=!0},onDragEnd:o,onTap:()=>{s.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(lVe,{sireName:t.sireName,animalCount:t.animalCount,dragControls:i})})]})},uVe=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=f3();return c.jsx(p3,{value:t,dragListener:!1,dragControls:i,children:c.jsx(cVe,{lot:t,dragControls:i,onClick:()=>e({name:"sire-lot-detail",lotId:t.id}),onEdit:()=>n(t),onDelete:()=>r(t)})},t.id)};function AVe({seasonId:t,onBack:e,navigateTo:n}){const{breedingSeasons:r,sireLots:i,fathers:a,animals:s,serviceRecords:o,addSireLot:l,updateSireLot:u,deleteSireLot:A,updateAnimal:d}=Yt(),[f,h]=P.useState(!1),[p,m]=P.useState(void 0),[v,g]=P.useState(null),[y,x]=P.useState(null),[C,E]=P.useState(!1),[j,_]=P.useState(null),B=P.useMemo(()=>r.find(K=>K.id===t),[r,t]),N=P.useMemo(()=>i.filter(K=>K.seasonId===t).map(K=>{const te=a.find(M=>M.id===K.sireId),le=te?Ar(te):"Desconocido",se=s.filter(M=>M.sireLotId===K.id).length;return{...K,sireName:le,animalCount:se,sireId:K.sireId}}),[i,t,a,s]),[D,T]=P.useState(N);P.useEffect(()=>{T(N)},[N]);const O=P.useMemo(()=>{if(!B||B.status!=="Cerrado")return[];const K=new Set(N.map(se=>se.id)),te=s.filter(se=>se.sireLotId&&K.has(se.sireLotId)),le=new Set(o.filter(se=>se.sireLotId&&K.has(se.sireLotId)).map(se=>se.femaleId));return te.filter(se=>!le.has(se.id))},[B,N,s,o]),L=K=>{m(K),h(!0)},H=async K=>{p?await u(p.id,{sireId:K}):await l({seasonId:t,sireId:K}),h(!1),m(void 0)},q=K=>{K.animalCount>0?x(`No se puede eliminar. Reasigna las ${K.animalCount} hembra(s) a otro lote primero.`):g(K)},Y=()=>{v&&(A(v.id),g(null))},ee=async(K,te)=>{_(null);const le=i.find(M=>M.seasonId===K);if(!le){_("La temporada de destino no tiene lotes de reproductor. Por favor, crea uno primero."),E(!1);return}const se=te.map(M=>d(M,{sireLotId:le.id,reproductiveStatus:"En Servicio"}));await Promise.all(se),E(!1)};return B?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:B.name}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de la Temporada"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Lotes de Reproductor"}),c.jsxs("button",{onClick:()=>L(),className:"flex items-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[c.jsx(na,{size:16})," Aadir Lote"]})]}),D.length>0?c.jsx(h3,{as:"div",axis:"y",values:D,onReorder:T,className:"space-y-3",children:D.map(K=>c.jsx(uVe,{lot:K,navigateTo:n,onEdit:L,onDelete:q},K.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"Esta temporada an no tiene lotes de reproductor."})})]}),B.status==="Cerrado"&&c.jsxs("div",{className:"space-y-4 px-4 pt-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Resultados: Hembras sin Servicio"}),O.length>0&&c.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-bold py-2 px-3 rounded-lg text-sm",children:[c.jsx(Pq,{size:16})," Transferir"]})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-2",children:O.length>0?O.map(K=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-md",children:[c.jsx("span",{className:"font-semibold text-white",children:Ar(K)}),c.jsxs("span",{className:"text-xs text-zinc-400",children:["Lote Fsico: ",K.location||"N/A"]})]},K.id)):c.jsxs("div",{className:"text-center py-6 flex flex-col items-center gap-2",children:[c.jsx(Ipe,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold",children:"Todas las hembras tuvieron servicio en esta temporada."})]})})]})]}),c.jsx(An,{isOpen:f,onClose:()=>{h(!1),m(void 0)},title:p?`Editar Lote de ${p.sireName}`:"Aadir Lote de Reproductor",children:c.jsx(sVe,{onSave:H,onCancel:()=>{h(!1),m(void 0)},editingLot:p,seasonId:B.id})}),c.jsx(C0,{isOpen:!!v,onClose:()=>g(null),onConfirm:Y,title:`Eliminar Lote de ${v==null?void 0:v.sireName}`,message:"Ests seguro de que quieres eliminar este lote? Esta accin es irreversible."}),c.jsx(An,{isOpen:!!y,onClose:()=>x(null),title:"Accin no permitida",children:c.jsxs("div",{className:"space-y-4 text-center",children:[" ",c.jsx(mr,{size:40,className:"mx-auto text-amber-400"})," ",c.jsx("p",{className:"text-zinc-300",children:y})," ",c.jsx("button",{onClick:()=>x(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),c.jsx(An,{isOpen:!!j,onClose:()=>_(null),title:"Error de Transferencia",children:c.jsxs("div",{className:"space-y-4 text-center",children:[" ",c.jsx(mr,{size:40,className:"mx-auto text-amber-400"})," ",c.jsx("p",{className:"text-zinc-300",children:j})," ",c.jsx("button",{onClick:()=>_(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),c.jsx(oVe,{isOpen:C,onClose:()=>E(!1),femalesToTransfer:O.map(K=>K.id),originSeasonId:B.id,onConfirmTransfer:ee})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada no encontrada."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const dVe=(t,e,n,r,i)=>{if(!t||t.status!=="Activo"||t.isReference)return[];const a=[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Dr.MILKING):o.status==="en-secado"?a.push(Dr.DRYING_OFF):o.status==="seca"&&a.push(Dr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Dr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Dr.IN_SERVICE_CONFIRMED):a.push(Dr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Dr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Dr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Dr[o]).filter(Boolean)};function fVe({lotId:t,navigateTo:e,onBack:n}){const{sireLots:r,fathers:i,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:l,updateAnimal:u,addServiceRecord:A,startDryingProcess:d,setLactationAsDry:f}=Yt(),[h,p]=P.useState(!1),[m,v]=P.useState(""),[g,y]=P.useState(null),[x,C]=P.useState(!1),[E,j]=P.useState(null),[_,B]=P.useState(null),[N,D]=P.useState(null),[T,O]=P.useState([]),[L,H]=P.useState("corporal"),q=P.useMemo(()=>r.find(ae=>ae.id===t),[r,t]),Y=P.useMemo(()=>{if(!q)return;const ae=i.find(Ve=>Ve.id===q.sireId);return ae?{...ae,isReference:!0}:a.find(Ve=>Ve.id===q.sireId)},[i,a,q]),ee=P.useMemo(()=>Y?Ar(Y):"Desconocido",[Y]),K=P.useMemo(()=>q?a.filter(ae=>ae.sireLotId===q.id&&!ae.isReference).sort((ae,Ve)=>ae.id.localeCompare(Ve.id)).map(ae=>({...ae,formattedAge:uu(ae.birthDate),statusObjects:dVe(ae,s,o,r,l)})):[],[a,q,s,o,r,l]),te=P.useMemo(()=>{if(!m)return K;const ae=m.toLowerCase();return K.filter(Ve=>Ar(Ve).toLowerCase().includes(ae))},[K,m]),le=async ae=>{if(!q)return;const Ve=ae.map(Oe=>u(Oe,{sireLotId:q.id,reproductiveStatus:"En Servicio"}));await Promise.all(Ve),p(!1)},se=async ae=>{!q||!g||(await A({sireLotId:q.id,femaleId:g.id,serviceDate:ae.toISOString().split("T")[0]}),ne())},M=ae=>{if(!ae)return[];const Ve=[];return Ve.push({label:"Registrar Servicio",icon:P5,onClick:()=>{C(!1),j("service")},color:"text-pink-400"}),Ve.push({label:"Declarar Parto",icon:Dl,onClick:()=>{C(!1),j("parturition")}}),Ve.push({label:"Declarar Aborto",icon:uf,onClick:()=>{C(!1),j("abortion")},color:"text-yellow-400"}),Ve.push({label:"Acciones de Leche",icon:cf,onClick:()=>{C(!1),j("milkWeighingAction")}}),Ve.push({label:"Acciones de Peso",icon:XA,onClick:()=>{C(!1),j("bodyWeighingAction")}}),Ve.push({label:"Dar de Baja",icon:bc,onClick:()=>{C(!1),j("decommissionSheet")},color:"text-brand-red"}),Ve},$=[{label:"Por Venta",icon:Ol,onClick:()=>{B("Venta"),j("decommission")}},{label:"Por Muerte",icon:uf,onClick:()=>{B("Muerte"),j("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:N5,onClick:()=>{B("Descarte"),j("decommission")},color:"text-brand-red"}],J=ae=>{y(ae),C(!0)},ne=()=>{j(null),y(null),D(null),O([]),B(null)},he=async ae=>{if(!g)return;const Ve={status:ae.reason,isReference:!0,endDate:ae.date};ae.reason==="Venta"&&Object.assign(Ve,{salePrice:ae.salePrice,saleBuyer:ae.saleBuyer,salePurpose:ae.salePurpose}),ae.reason==="Muerte"&&(Ve.deathReason=ae.deathReason),ae.reason==="Descarte"&&Object.assign(Ve,{cullReason:ae.cullReason,cullReasonDetails:ae.cullReasonDetails}),await u(g.id,Ve),ne()},we=(ae,Ve)=>{D(ae),j(Ve==="leche"?"logSimpleMilk":"logSimpleBody")},Se=ae=>{H(ae),j(ae==="leche"?"newMilkSession":"newBodySession")},Ae=async()=>{g&&(await u(g.id,{reproductiveStatus:"En Servicio"}),ne())},ge=(ae,Ve)=>{O(Ve),j("bulkWeighing")},xe=()=>{ne()};return q?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow min-w-0",children:[c.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white truncate",children:["Lote: ",c.jsx("span",{className:"font-mono",children:ee})]}),c.jsxs("p",{className:"text-xs text-zinc-400 truncate",children:["Reproductor: ",Y?Ar(Y):"Desconocido"]})]}),c.jsx("button",{onClick:()=>p(!0),className:"p-2 -mr-2 bg-brand-orange hover:bg-orange-600 text-white rounded-full transition-colors",children:c.jsx(na,{size:24})})]}),c.jsxs("div",{className:"space-y-4 pt-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300",children:["Hembras Asignadas (",te.length,")"]}),c.jsxs("div",{className:"relative w-40",children:[c.jsx(Hu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),c.jsx("input",{type:"search",value:m,onChange:ae=>v(ae.target.value),placeholder:"Buscar ID o Nombre...",className:"w-full bg-zinc-800/80 rounded-lg pl-8 pr-2 py-1 text-white border-transparent focus:border-brand-amber focus:ring-0 text-sm"})]})]}),c.jsx("div",{className:"space-y-4",children:te.length>0?te.map(ae=>c.jsx(EO,{animal:ae,onSelect:Ve=>e({name:"rebano-profile",animalId:Ve}),onOpenActions:J},ae.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:m?"No se encontraron coincidencias.":"An no has asignado hembras a este lote."})})})]})]}),c.jsx(OE,{isOpen:h,onClose:()=>p(!1),onSelect:le,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:l,sireLots:r,title:`Asignar Hembras al Lote de ${ee}`,sireIdForInbreedingCheck:q.sireId}),c.jsx(Vu,{isOpen:x,onClose:()=>C(!1),title:`Acciones para ${Ar(g)}`,actions:M(g)}),c.jsx(Vu,{isOpen:E==="decommissionSheet",onClose:ne,title:"Causa de la Baja",actions:$}),g&&c.jsxs(c.Fragment,{children:[E==="service"&&c.jsx(VO,{isOpen:!0,onClose:ne,onSave:se,animal:g}),E==="parturition"&&c.jsx(yp,{isOpen:!0,onClose:ne,motherId:g.id}),E==="abortion"&&c.jsx(QO,{animal:g,onCancel:ne,onSaveSuccess:ne}),E==="decommission"&&_&&c.jsx(LE,{isOpen:E==="decommission",animal:g,onCancel:ne,onConfirm:he,reason:_}),E==="milkWeighingAction"&&c.jsx(RO,{isOpen:!0,animal:g,onClose:ne,onLogToSession:ae=>we(ae,"leche"),onStartNewSession:()=>Se("leche"),onStartDrying:d,onSetDry:f}),E==="bodyWeighingAction"&&c.jsx(UO,{isOpen:!0,animal:g,onClose:ne,onLogToSession:ae=>we(ae,"corporal"),onStartNewSession:()=>Se("corporal"),onSetReadyForMating:Ae}),E==="logSimpleMilk"&&N&&c.jsx(An,{isOpen:!0,onClose:ne,title:`Aadir Pesaje Leche: ${Ar(g)}`,children:c.jsx(Wg,{animalId:g.id,weightType:"leche",onSaveSuccess:ne,onCancel:ne,sessionDate:N})}),E==="logSimpleBody"&&N&&c.jsx(An,{isOpen:!0,onClose:ne,title:`Aadir Peso Corporal: ${Ar(g)}`,children:c.jsx(Wg,{animalId:g.id,weightType:"corporal",onSaveSuccess:ne,onCancel:ne,sessionDate:N})}),(E==="newMilkSession"||E==="newBodySession")&&c.jsx(zO,{weightType:L,onBack:ne,onAnimalsSelected:ge}),E==="bulkWeighing"&&c.jsx(An,{isOpen:!0,onClose:ne,title:`Carga Masiva - ${L==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(HO,{weightType:L,animalsToWeigh:T,onSaveSuccess:xe,onCancel:ne})})]})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Lote de Reproductor no encontrado."}),c.jsx("button",{onClick:n,className:"mt-4 text-brand-orange",children:"Volver"})]})}const hVe=t=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,s]=P.useState(!0);return P.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const u=Jn(),[A,d]=await Promise.all([u.weighings.where("goatId").equals(t).toArray(),u.parturitions.where("goatId").equals(t).toArray()]);n(A),i(d.sort((f,h)=>new Date(f.parturitionDate).getTime()-new Date(h.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{s(!1)}})()},[t]),{...P.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((d,f)=>{const h=new Date(d.parturitionDate),p=f<r.length-1?new Date(r[f+1].parturitionDate):new Date(9999,11,31),m=e.filter(j=>{const _=new Date(j.date);return _>=h&&_<p}),v=m.map(j=>({del:Nf(d.parturitionDate,j.date),kg:j.kg})).sort((j,_)=>j.del-_.del),g=m.reduce((j,_)=>j+_.kg,0),y=m.length>0?g/m.length:0,x=v.reduce((j,_)=>_.kg>j.kg?_:j,{kg:0,del:0}),C=v[v.length-1],E=C?C.del:0;return{parturitionDate:d.parturitionDate,weighings:m,lactationCurve:v,averageProduction:y,peakProduction:x,totalDays:E}}),u=r.slice(1).map((d,f)=>{const h=r[f],p=new Date(d.parturitionDate).getTime()-new Date(h.parturitionDate).getTime();return{period:`${h.parturitionDate.substring(0,4)} - ${d.parturitionDate.substring(0,4)}`,days:Math.round(p/(1e3*60*60*24))}}),A=e.sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime())[0];return{allLactations:l,parturitionIntervals:u,lastWeighingDate:(A==null?void 0:A.date)||null}},[e,r]),isLoading:a}},M1=(t,e,n)=>{const r={};return t.forEach(i=>{const a=e.filter(o=>o.goatId===i.goatId&&new Date(i.date)>=new Date(o.parturitionDate)).sort((o,l)=>new Date(l.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];if(!a)return;const s=Nf(a.parturitionDate,i.date);n!==void 0&&s>n||(r[s]||(r[s]={totalKg:0,count:0}),r[s].totalKg+=i.kg,r[s].count++)}),Object.entries(r).map(([i,a])=>({del:parseInt(i),kg:a.totalKg/a.count})).sort((i,a)=>i.del-a.del)},R1=(t,e)=>{let n=0,r=0;return t.forEach(i=>{const a=e.filter(s=>s.goatId===i).sort((s,o)=>new Date(s.parturitionDate).getTime()-new Date(o.parturitionDate).getTime());for(let s=1;s<a.length;s++){const o=a[s],l=a[s-1];if(l.dryingStartDate){const u=new Date(l.dryingStartDate),d=new Date(o.parturitionDate).getTime()-u.getTime(),f=Math.round(d/(1e3*60*60*24));f>=0&&(n+=f,r++)}}}),r===0?null:n/r},pVe=(t,e,n,r)=>{const[i,a]=P.useState(null),[s,o]=P.useState(!1);return P.useEffect(()=>{if(!t.type||!t.animal){a(null),o(!1);return}const{type:l,animal:u,highlightedLactationDEL:A}=t;(async()=>{o(!0),a(null);let f=null;try{if(l==="PRIMIPARAS_AVG"||l==="MULTIPARAS_AVG"||l==="HERD_AVG"){const h=n.reduce((C,E)=>(C[E.goatId]=(C[E.goatId]||0)+1,C),{}),p=n.filter(C=>{const E=h[C.goatId]||0;return l==="PRIMIPARAS_AVG"?E===1:l==="MULTIPARAS_AVG"?E>1:!0}),m=new Set(p.map(C=>C.goatId)),v=r.filter(C=>m.has(C.goatId)),g=M1(v,p,A),y=R1(m,n);f={name:l==="PRIMIPARAS_AVG"?"Prom. Primparas":l==="MULTIPARAS_AVG"?"Prom. Multparas":"Prom. Rebao",curve:g,averageRestInterval:y}}else if(l==="PEERS_AVG"){const h=new Date(u.birthDate),p=h.getFullYear(),m=Math.floor(h.getMonth()/6),v=new Set(e.filter(j=>{const _=new Date(j.birthDate);return _.getFullYear()===p&&Math.floor(_.getMonth()/6)===m&&j.id!==u.id}).map(j=>j.id)),g=new Set(n.filter(j=>v.has(j.goatId)).map(j=>j.goatId)),y=n.filter(j=>g.has(j.goatId)),x=r.filter(j=>g.has(j.goatId)),C=M1(x,y,A),E=R1(g,n);f={name:`Prom. Pares (${p}-S${m+1})`,curve:C,averageRestInterval:E}}else if(l==="DAM")if(u.motherId){const h=n.filter(g=>g.goatId===u.motherId),p=r.filter(g=>g.goatId===u.motherId),m=M1(p,h,A),v=R1(new Set([u.motherId]),n);f={name:`Prom. Madre (${u.motherId})`,curve:m,averageRestInterval:v}}else f={name:"Madre (Desconocida)",curve:[],averageRestInterval:null};else if(l==="PROGENY_AVG"){const h=new Set(e.filter(y=>y.motherId===u.id&&y.sex==="Hembra").map(y=>y.id)),p=n.filter(y=>h.has(y.goatId)),m=r.filter(y=>h.has(y.goatId)),v=M1(m,p,A),g=R1(h,n);f={name:"Prom. Hijas",curve:v,averageRestInterval:g}}else if(l==="SPECIFIC_LACTATION"&&t.specificLactationIndex!==void 0){const h=n.filter(m=>m.goatId===u.id).sort((m,v)=>new Date(m.parturitionDate).getTime()-new Date(v.parturitionDate).getTime());let p=null;if(t.specificLactationIndex>0&&t.specificLactationIndex<h.length){const m=h[t.specificLactationIndex-1];if(m.dryingStartDate){const v=new Date(m.dryingStartDate),y=new Date(h[t.specificLactationIndex].parturitionDate).getTime()-v.getTime();p=Math.round(y/(1e3*60*60*24))}}if(t.specificLactationIndex<h.length){const m=h[t.specificLactationIndex],v=t.specificLactationIndex+1<h.length?new Date(h[t.specificLactationIndex+1].parturitionDate):new Date(9999,11,31),y=r.filter(C=>{const E=new Date(C.date);return C.goatId===u.id&&E>=new Date(m.parturitionDate)&&E<v}).map(C=>({del:Nf(m.parturitionDate,C.date),kg:C.kg})).sort((C,E)=>C.del-E.del);f={name:`Lact. ${new Date(m.parturitionDate).getFullYear()} (#${t.specificLactationIndex+1})`,curve:y,averageRestInterval:p}}else f={name:"Lactancia no encontrada",curve:[],averageRestInterval:null}}}catch(h){console.error("Error calculating comparison data:",h),f={name:"Error",curve:[],averageRestInterval:null}}finally{a(f),o(!1)}})()},[t,e,n,r]),{comparativeData:i,isLoading:s}},U1=[{stroke:"#FF9500",fill:"url(#gradient0)"},{stroke:"#34C759",fill:"url(#gradient1)"},{stroke:"#007AFF",fill:"url(#gradient2)"},{stroke:"#AF52DE",fill:"url(#gradient3)"},{stroke:"#FF3B30",fill:"url(#gradient4)"},{stroke:"#5AC8FA",fill:"url(#gradient5)"},{stroke:"#FFCC00",fill:"url(#gradient6)"}],oN="#007AFF",gH="comparisonGradient",mVe=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-black/70 backdrop-blur-md p-3 rounded-lg border border-zinc-700 text-white shadow-xl",children:[c.jsxs("p",{className:"label text-zinc-400 text-sm font-medium mb-1",children:["DEL: ",n]}),e.map(r=>{var i;return c.jsxs("p",{style:{color:r.stroke||((i=r.payload)==null?void 0:i.stroke)},className:"font-semibold text-base flex justify-between items-center gap-4",children:[c.jsxs("span",{children:[r.name,":"]}),c.jsx("span",{children:typeof r.value=="number"?`${r.value.toFixed(2)} Kg`:"N/A"})]},r.name)})]}):null,gVe=({lactationsData:t,comparisonData:e,highlightedLactationDate:n,onLactationClick:r})=>{const[i,a]=P.useState(null),s=P.useMemo(()=>t?t.slice(-U1.length).reverse():[],[t]),o=P.useMemo(()=>new Map(s.map(m=>[`Lact. ${new Date(m.parturitionDate).getFullYear()}`,m.parturitionDate])),[s]),l=(m,v)=>{const g=o.get(m),y=f&&n===g,x=i===m,C=v.dataKey==="kg"&&e&&m===e.name;let E=1;return C?E=1:f?E=y?1:.7:i&&(E=x?1:.7),c.jsx("span",{style:{color:v.color,opacity:E,transition:"opacity 0.2s ease"},children:m})},u=P.useMemo(()=>{if(!s)return[];let m=s.flatMap(v=>v.lactationCurve);return e!=null&&e.curve&&(m=m.concat(e.curve)),m},[s,e]),A=P.useMemo(()=>!u||u.length===0?305:Math.max(...u.map(m=>m.del),0),[u]),d=P.useMemo(()=>!u||u.length===0?5:Math.max(...u.map(m=>m.kg),0),[u]),f=n!==null,h=oN,p=`url(#${gH})`;return s?s.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos histricos de lactancia para mostrar."}):c.jsx("div",{className:"w-full h-72",children:c.jsx(Oi,{children:c.jsxs(Cx,{margin:{top:5,right:15,left:-25,bottom:5},onClick:m=>{(!m||!m.activePayload||m.activePayload.length===0)&&r(null)},children:[c.jsxs("defs",{children:[U1.map((m,v)=>c.jsxs("linearGradient",{id:`gradient${v}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:m.stroke,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:m.stroke,stopOpacity:.15})]},`grad-${v}`)),c.jsxs("linearGradient",{id:gH,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:oN,stopOpacity:.6})," ",c.jsx("stop",{offset:"95%",stopColor:oN,stopOpacity:.1})," "]})]}),c.jsx(cu,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)",vertical:!1}),c.jsx(hi,{dataKey:"del",type:"number",domain:[0,A>0?A:305],tick:{fill:"rgba(255, 255, 255, 0.5)",fontSize:10},stroke:"rgba(255, 255, 255, 0.2)",axisLine:!1,tickLine:!1,name:"DEL"}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255, 255, 255, 0.5)",fontSize:10},stroke:"rgba(255, 255, 255, 0.2)",axisLine:!1,tickLine:!1,domain:[0,d>0?Math.ceil(d+.5):5],unit:"Kg",width:35}),c.jsx(Sr,{content:c.jsx(mVe,{}),cursor:{stroke:"rgba(255,255,255,0.4)",strokeWidth:1.5}}),c.jsx(Tl,{verticalAlign:"top",height:36,iconType:"plainline",wrapperStyle:{fontSize:"12px",paddingBottom:"10px"},formatter:l,onMouseEnter:m=>a(m.value),onMouseLeave:()=>a(null)}),s.map((m,v)=>{const g=U1[v%U1.length],x=`Lact. ${new Date(m.parturitionDate).getFullYear()}`,C=n===m.parturitionDate,E=i===x,j=C||E,_=f?C?1:.7:E?1:.9,B=j?3.5:2.5,N=f?C?.7:.3:E?.8:.7;return c.jsxs(be.Fragment,{children:[c.jsx(Ll,{type:"monotone",data:m.lactationCurve,dataKey:"kg",name:x,stroke:"none",fill:g.fill,fillOpacity:N,activeDot:!1,style:{transition:"opacity 0.2s ease, fill-opacity 0.2s ease"}}),c.jsx(ru,{type:"monotone",data:m.lactationCurve,dataKey:"kg",name:x,stroke:g.stroke,strokeWidth:B,dot:!1,activeDot:{r:5,strokeWidth:0},strokeOpacity:_,style:{transition:"opacity 0.2s ease, stroke-width 0.2s ease"},onClick:()=>{r(m.parturitionDate)},cursor:"pointer"})]},m.parturitionDate)}),e&&e.curve.length>0&&c.jsxs(be.Fragment,{children:[c.jsx(Ll,{type:"monotone",data:e.curve,dataKey:"kg",name:e.name,stroke:"none",fill:p,fillOpacity:f?.4:.6,style:{transition:"opacity 0.2s ease"}}),c.jsx(ru,{type:"monotone",data:e.curve,dataKey:"kg",name:e.name,stroke:h,strokeWidth:2.5,strokeDasharray:"4 4",dot:!1,activeDot:{r:5,strokeWidth:0},strokeOpacity:1,style:{transition:"opacity 0.2s ease"}})]})]})})}):c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Cargando datos..."})},vVe=({lactationNumber:t,lactationData:e,onClick:n})=>{const r=new Date(e.parturitionDate+"T00:00:00Z").getUTCFullYear();return c.jsxs("button",{onClick:n,className:"w-full text-left bg-black/20 rounded-2xl p-4 border border-zinc-700/80 hover:border-brand-blue/50 transition-colors group",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-bold text-lg text-white",children:["Lactancia #",t," ",c.jsxs("span",{className:"text-zinc-400 font-normal",children:["(",r,")"]})]}),c.jsx(ta,{className:"text-zinc-500 group-hover:text-brand-blue transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(s0,{size:12}),"Promedio"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.averageProduction.toFixed(2),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" Kg"})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(ba,{size:12}),"Pico"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.peakProduction.kg.toFixed(2),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" Kg"})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(CD,{size:12}),"Duracin"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.totalDays,c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" das"})]})]})]})]})},lN=(t,e=2,n="Kg")=>t==null||isNaN(t)?"N/A":`${t.toFixed(e)} ${n}`,yVe=(t,e,n)=>{const r=n.find(s=>s.goatId===e&&s.parturitionDate===t.parturitionDate);if(!r)return null;const i=n.filter(s=>s.goatId===e&&new Date(s.parturitionDate)<new Date(r.parturitionDate)).sort((s,o)=>new Date(o.parturitionDate).getTime()-new Date(s.parturitionDate).getTime())[0];if(!i||!i.dryingStartDate)return null;const a=new Date(r.parturitionDate).getTime()-new Date(i.dryingStartDate).getTime();return Math.round(a/(1e3*60*60*24))},Q1=({label:t,valueA:e,valueB:n,unit:r,decimals:i=2,invertColors:a=!1})=>{const s=e!=null,o=n!=null,l=s&&o;let u=null,A="N/A",d="text-zinc-400",f=jD;return l&&(u=e-n,Math.abs(u)<.01&&(u=0),A=`${u>0?"+":""}${u.toFixed(i)} ${r}`,u>0?(d=a?"text-brand-red":"text-brand-green",f=pg):u<0&&(d=a?"text-brand-green":"text-brand-red",f=hg)),c.jsxs("div",{className:"py-3 border-b border-zinc-700/50 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-zinc-400",children:t}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-lg font-semibold text-white",children:lN(e,i,r)}),l?c.jsxs("span",{className:`text-sm font-medium flex items-center ${d}`,children:[c.jsx(f,{size:16,className:"mr-0.5"}),A,c.jsxs("span",{className:"text-zinc-500 ml-2 text-xs font-normal",children:["(vs ",lN(n,i,r),")"]})]}):c.jsxs("span",{className:"text-sm font-medium text-zinc-500",children:["vs ",lN(n,i,r)]})]})]})},bVe=({lactationA:t,comparisonB:e,allParturitions:n,animalId:r})=>{const i=e!=null&&e.curve.length?e.curve.reduce((A,d)=>A+d.kg,0)/e.curve.length:null,a=e!=null&&e.curve.length?e.curve.reduce((A,d)=>d.kg>A.kg?d:A,{kg:0,del:0}):null,s=e!=null&&e.curve.length?e.curve[e.curve.length-1].del:null,o=P.useMemo(()=>yVe(t,r,n),[t,r,n]),l=e==null?void 0:e.averageRestInterval,u=`Lact. ${new Date(t.parturitionDate).getFullYear()}`;return c.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-border/50 text-white animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[c.jsx("span",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide",children:"Mtrica"}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs font-semibold text-white uppercase tracking-wide",children:u}),c.jsxs("span",{className:"text-xs font-light text-zinc-400",children:["vs ",(e==null?void 0:e.name)||"..."]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Q1,{label:"Promedio",valueA:t.averageProduction,valueB:i,unit:"Kg",decimals:2}),c.jsx(Q1,{label:"Pico",valueA:t.peakProduction.kg,valueB:a==null?void 0:a.kg,unit:"Kg",decimals:2}),c.jsx(Q1,{label:"Duracin (DEL)",valueA:t.totalDays,valueB:s,unit:"das",decimals:0}),c.jsx(Q1,{label:"Descanso Previo",valueA:o,valueB:l,unit:"das",decimals:0,invertColors:!0})]})]})},xVe=({active:t,payload:e,label:n})=>{var r;return t&&e&&e.length?c.jsxs("div",{className:"bg-zinc-800/80 backdrop-blur-md p-3 rounded-lg border border-zinc-700 text-white shadow-xl",children:[c.jsxs("p",{className:"label text-zinc-400 text-sm font-medium mb-1",children:["DEL: ",n]}),c.jsxs("p",{className:"font-semibold text-base",style:{color:e[0].stroke||((r=e[0].payload)==null?void 0:r.stroke)||e[0].fill},children:[e[0].name,": ",e[0].value.toFixed(2)," Kg"]})]}):null};function Ute({animalId:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,weighings:a,startDryingProcess:s,setLactationAsDry:o}=Yt(),{allLactations:l,parturitionIntervals:u,lastWeighingDate:A,isLoading:d}=hVe(t),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(!1),[y,x]=P.useState(null),C=P.useMemo(()=>r.find(J=>J.id===t)||null,[r,t]),[E,j]=P.useState({type:null,animal:C,highlightedLactationDEL:void 0}),{comparativeData:_,isLoading:B}=pVe(E,r,i,a),N=P.useMemo(()=>{if(l.length===0)return null;const J=l[l.length-1],ne=i.find(he=>he.parturitionDate===J.parturitionDate&&he.goatId===t);return{...J,id:ne==null?void 0:ne.id,status:ne==null?void 0:ne.status}},[l,i,t]),D=P.useMemo(()=>{if(!N||N.status==="seca"||N.status==="finalizada")return"N/A";const J=N.status!=="activa"&&A?A:new Date().toISOString().split("T")[0];return Nf(N.parturitionDate,J)},[N,A]),T=P.useMemo(()=>!N||N.weighings.length===0?null:[...N.weighings].sort((ne,he)=>new Date(he.date).getTime()-new Date(ne.date).getTime())[0].kg,[N]),O=P.useMemo(()=>!v||!_||B||_.curve.length===0?null:{name:_.name,curve:_.curve},[v,_,B]),L=P.useMemo(()=>l.length>0?l[l.length-1]:null,[l]),H=P.useMemo(()=>u.length>0?u[u.length-1].days:0,[u]),q=P.useMemo(()=>l.length<=1?[]:l.slice(0,-1).reverse(),[l]);if(d)return c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando perfil..."})});const Y=l.length===1,ee=J=>{if(!J)return;const ne=l.find(he=>he.parturitionDate===J);return!ne||ne.lactationCurve.length===0?0:Math.max(...ne.lactationCurve.map(he=>he.del),0)},K=J=>{x(J);const ne=ee(J);J?(g(!0),j(he=>({...he,animal:C,highlightedLactationDEL:ne}))):(g(!1),j({type:null,animal:null,highlightedLactationDEL:void 0}))},te=()=>{const J=!v;if(g(J),J){let ne=y;!ne&&L&&(ne=L.parturitionDate,x(ne));const he=ee(ne);j(we=>({...we,animal:C,highlightedLactationDEL:he}))}else x(null),j({type:null,animal:null,highlightedLactationDEL:void 0})},le=(J,ne)=>{j(he=>{const we=he.type===J&&he.specificLactationIndex===ne?null:J;let Se=y;we&&(g(!0),!Se&&L&&(Se=L.parturitionDate,x(Se)));const Ae=ee(Se);return{...he,type:we,animal:C,specificLactationIndex:J==="SPECIFIC_LACTATION"?ne:void 0,highlightedLactationDEL:Ae}})},se=J=>{J&&J.lactationCurve.length>0&&(m(J),h(!0))},M=(J,ne)=>{const he=E.type===J&&(J!=="SPECIFIC_LACTATION"||E.specificLactationIndex===ne);let we="";return Y&&J==="PRIMIPARAS_AVG"&&(we="ring-2 ring-amber-400"),!Y&&J==="MULTIPARAS_AVG"&&(we="ring-2 ring-amber-400"),`px-2 py-1 text-xs rounded-md transition-colors ${he?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${we}`},$=y!==null;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 sticky top-0 z-10 bg-brand-dark/80 backdrop-blur-md -mx-4 px-4 border-b border-brand-border/50 mb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Perfil de Lactancia"})]}),c.jsx("button",{onClick:()=>n({name:"rebano-profile",animalId:t}),className:"p-2 -mr-2 text-zinc-400 hover:text-white transition-colors",title:"Ir a la ficha general del animal",children:c.jsx(T5,{size:24})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(s0,{size:14}),c.jsx("span",{children:"Promedio Actual"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(L==null?void 0:L.averageProduction.toFixed(2))||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(ba,{size:14}),c.jsx("span",{children:"Pico Prod. Actual"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(L==null?void 0:L.peakProduction.kg.toFixed(2))||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(CD,{size:14}),c.jsx("span",{children:"DEL Actual"})]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:D})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(kpe,{size:14}),c.jsx("span",{children:"lt. Int. Partos"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[H||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"das"})]})]}),c.jsxs("button",{onClick:()=>se(L),disabled:!L||L.weighings.length===0,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors col-span-2 md:col-span-1 disabled:opacity-50 disabled:cursor-not-allowed relative group",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(lpe,{size:14}),c.jsx("span",{children:"lt. Pesaje"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(T==null?void 0:T.toFixed(2))??"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]}),c.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:A?new Date(A+"T00:00:00").toLocaleDateString():""}),c.jsx("div",{className:"absolute top-3 right-3 text-zinc-500 group-hover:text-brand-amber transition-colors",children:c.jsx(ox,{size:18})})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[c.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:"Historial de Lactancias"}),c.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[$&&c.jsxs("button",{onClick:()=>K(null),className:"text-xs font-semibold text-zinc-400 hover:text-white animate-fade-in flex items-center gap-1 bg-zinc-700/50 px-2 py-1 rounded-md",title:"Quitar zoom",children:[c.jsx(mpe,{size:14}),"Ver Todo"]}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),c.jsx("button",{onClick:te,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})})]})]}),v&&c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 animate-fade-in p-2 bg-black/20 rounded-lg",children:[c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto",children:"Grupos:"}),c.jsx("button",{onClick:()=>le("PRIMIPARAS_AVG"),className:M("PRIMIPARAS_AVG"),children:"vs Primparas"}),c.jsx("button",{onClick:()=>le("MULTIPARAS_AVG"),className:M("MULTIPARAS_AVG"),children:"vs Multparas"}),c.jsx("button",{onClick:()=>le("HERD_AVG"),className:M("HERD_AVG"),children:"vs Rebao"}),c.jsx("button",{onClick:()=>le("PEERS_AVG"),className:M("PEERS_AVG"),children:"vs Pares"}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto pt-2 sm:pt-0",children:"Familia:"}),c.jsx("button",{onClick:()=>le("DAM"),className:M("DAM"),disabled:!(C!=null&&C.motherId),children:"Madre"}),c.jsx("button",{onClick:()=>le("PROGENY_AVG"),className:M("PROGENY_AVG"),children:"Prom. Hijas"}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto pt-2 sm:pt-0",children:"Propias:"}),q.map((J,ne)=>c.jsxs("button",{onClick:()=>le("SPECIFIC_LACTATION",l.length-2-ne),className:M("SPECIFIC_LACTATION",l.length-2-ne),children:["vs Lact. #",l.length-1-ne," (",new Date(J.parturitionDate).getFullYear(),")"]},J.parturitionDate))]}),c.jsx(gVe,{lactationsData:l,comparisonData:O,highlightedLactationDate:y,onLactationClick:K}),B&&c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:[c.jsx(eu,{className:"animate-spin mr-2"})," Calculando comparacin..."]}),v&&_&&L&&!B&&c.jsx(bVe,{lactationA:l.find(J=>J.parturitionDate===y)||L,comparisonB:_,allParturitions:i,animalId:t})]}),q.length>0&&c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-1",children:"Lactancias Anteriores"}),q.map((J,ne)=>c.jsx(vVe,{lactationNumber:l.length-1-ne,lactationData:J,onClick:()=>se(J)},J.parturitionDate))]}),(N==null?void 0:N.id)&&N.status!=="finalizada"&&c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestin de Lactancia Actual"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[N.status==="activa"&&c.jsxs("button",{onClick:()=>s(N.id),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[c.jsx(cp,{size:20}),c.jsx("span",{children:"Iniciar Proceso de Secado"})]}),(N.status==="activa"||N.status==="en-secado")&&c.jsxs("button",{onClick:()=>o(N.id),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[c.jsx(bc,{size:20}),c.jsx("span",{children:"Declarar Lactancia como Seca"})]}),N.status==="seca"&&c.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:c.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),N.status==="en-secado"&&c.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]}),c.jsx(An,{isOpen:f,onClose:()=>h(!1),title:`Curva Lactancia (${p?new Date(p.parturitionDate).getFullYear():"Actual"}) - ${t}`,children:p?c.jsx("div",{className:"w-full h-[320px] -ml-2 -mr-2",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(Cx,{data:p.lactationCurve,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorLactation",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#FBBF24",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#FBBF24",stopOpacity:0})]})}),c.jsx(cu,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),c.jsx(hi,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.2)"}}),c.jsx(Bi,{orientation:"right",tickFormatter:J=>`${J.toFixed(1)} Kg`,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.2)"}}),c.jsx(Sr,{content:c.jsx(xVe,{})}),c.jsx(Ll,{type:"monotone",dataKey:"kg",name:`${t} (${new Date(p.parturitionDate).getFullYear()})`,stroke:"#FBBF24",fill:"url(#colorLactation)",strokeWidth:2.5,dot:{r:3,fill:"#FBBF24",stroke:"#FBBF24",strokeWidth:1},activeDot:{r:5,fill:"#FFFFFF",stroke:"#FBBF24",strokeWidth:2}})]})})}):c.jsx("p",{className:"text-center text-zinc-400 py-8",children:"No hay datos para mostrar la curva seleccionada."})})]})}const wVe=({plan:t})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("p",{className:"font-semibold text-white",children:t.details}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Iniciado el: ",new Date(t.startDate+"T00:00:00").toLocaleDateString("es-VE")]})]});function CVe({lotName:t,onBack:e}){const{feedingPlans:n,addFeedingPlan:r}=Yt(),[i,a]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(null),A=P.useMemo(()=>n.filter(f=>f.lotName===t).sort((f,h)=>new Date(h.startDate).getTime()-new Date(f.startDate).getTime()),[n,t]),d=async f=>{if(f.preventDefault(),!i.trim()){u({type:"error",text:"Los detalles del plan no pueden estar vacos."});return}try{await r({lotName:t,details:i,startDate:s}),u({type:"success",text:"Plan de alimentacin guardado con xito."}),a("")}catch(h){u({type:"error",text:"No se pudo guardar el plan."}),console.error(h)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Alimentacin: ",t]}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Planes de Nutricin del Lote"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(na,{size:20})," Asignar Nuevo Plan"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"planDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Plan (Ej: 2kg de concentrado/da)"}),c.jsx("textarea",{id:"planDetails",rows:3,value:i,onChange:f=>a(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"planStartDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),c.jsx("input",{id:"planStartDate",type:"date",value:s,onChange:f=>o(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Plan"}),l&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:l.text})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[c.jsx(SD,{size:20})," Historial de Planes"]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(f=>c.jsx(wVe,{plan:f},f.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay planes de alimentacin registrados para este lote."})})]})]})}const SVe=({event:t})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("p",{className:"font-semibold text-white",children:t.details}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Aplicado el: ",new Date(t.date+"T00:00:00").toLocaleDateString("es-VE")]})]});function EVe({lotName:t,onBack:e}){const{events:n,addBatchEvent:r}=Yt(),[i,a]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(null),A=P.useMemo(()=>{const f=n.filter(h=>h.lotName===t&&h.type==="Tratamiento").reduce((h,p)=>{const m=`${p.date}-${p.details}`;return h[m]||(h[m]=p),h},{});return Object.values(f).sort((h,p)=>new Date(p.date).getTime()-new Date(h.date).getTime())},[n,t]),d=async f=>{if(f.preventDefault(),u(null),!i.trim()){u({type:"error",text:"Los detalles del tratamiento no pueden estar vacos."});return}try{await r({lotName:t,details:i,date:s,type:"Tratamiento"}),u({type:"success",text:"Tratamiento registrado con xito para todo el lote."}),a("")}catch(h){u({type:"error",text:"No se pudo registrar el tratamiento."}),console.error(h)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Tratamientos: ",t]}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Sanidad Colectiva del Lote"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(na,{size:20})," Registrar Tratamiento al Lote"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"treatmentDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Tratamiento (Ej: Vacuna Triple)"}),c.jsx("textarea",{id:"treatmentDetails",rows:3,value:i,onChange:f=>a(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"treatmentDate",type:"date",value:s,onChange:f=>o(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Tratamiento"}),l&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:l.text})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[c.jsx(Upe,{size:20})," Historial de Tratamientos del Lote"]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(f=>c.jsx(SVe,{event:f},f.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay tratamientos registrados para este lote."})})]})]})}const Wu=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebao";return"range"in e[0].payload?c.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[c.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),c.jsxs("p",{className:"font-bold text-base",children:["N de Cabras: ",e[0].value]})]}):c.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[c.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Das en Leche (DEL): ${n}`:`DEL: ${n}`}),c.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Produccin: ${e[0].value.toFixed(2)} Kg`})]})}return null},Qf=({icon:t,label:e,value:n,unit:r,colorClass:i})=>c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border ${i||""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(t,{size:14}),c.jsx("span",{children:e})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[n," ",c.jsx("span",{className:"text-lg text-zinc-400",children:r})]})]});function _Ve({animalId:t,onBack:e}){const{animals:n,bodyWeighings:r,appConfig:i}=Yt(),a=P.useMemo(()=>{const m=n.find(N=>N.id===t);if(!m)return null;const v=r.filter(N=>N.animalId===m.id).sort((N,D)=>new Date(N.date).getTime()-new Date(D.date).getTime()),g=CO(m.birthWeight,v),y=uu(m.birthDate),x=v.length>0?v[v.length-1].kg:m.birthWeight||0,C=VQe(m),E=$Qe(m,v),j=v.map(N=>({age:(new Date(N.date).getTime()-new Date(m.birthDate+"T00:00:00Z").getTime())/(1e3*60*60*24),[m.id]:N.kg}));m.birthWeight&&j.unshift({age:0,[m.id]:m.birthWeight});const B=[60,90,180,270].map(N=>({days:N,weight:ute(v,m.birthDate,N)}));return{animal:m,gdp:g,formattedAge:y,latestWeight:x,chartData:j,interpolatedWeights:B,weaningIndex:C,precocityIndex:E}},[t,n,r]);if(!a)return c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."})});const{animal:s,gdp:o,formattedAge:l,latestWeight:u,chartData:A,interpolatedWeights:d,weaningIndex:f,precocityIndex:h}=a,p=s.name?String(s.name).toUpperCase().trim():"";return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-md z-10 border-b border-brand-border -mx-4 mb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow min-w-0",children:[c.jsx("h1",{className:"text-3xl font-mono font-bold tracking-tight text-white truncate",children:s.id.toUpperCase()}),p&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:p}),c.jsx("p",{className:"text-lg text-zinc-400 mt-1",children:"Perfil de Crecimiento"})," "]}),c.jsx("div",{className:"w-8"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-4",children:[c.jsx(Qf,{icon:XA,label:"Peso Actual",value:u.toFixed(2),unit:"Kg"}),c.jsx(Qf,{icon:ba,label:"GDP General",value:o.overall?(o.overall*1e3).toFixed(0):"N/A",unit:"g/da"}),c.jsx(Qf,{icon:So,label:"Edad Actual",value:l}),c.jsx(Qf,{icon:Npe,label:"N Pesajes",value:A.length>0?A.length-(s.birthWeight?1:0):0})]}),(f||h)&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 px-4",children:[f&&c.jsx(Qf,{icon:Jpe,label:"ndice Destete (60d)",value:f.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"}),c.jsx(Qf,{icon:j5,label:"Meta Destete (Config)",value:i.pesoDesteteMetaKg.toFixed(2),unit:"Kg",colorClass:"border-blue-400/50"}),h&&c.jsx(Qf,{icon:Ype,label:"ndice Precocidad (7m)",value:h.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"})]}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Curva de Crecimiento"}),A.length>1?c.jsx("div",{className:"w-full h-64",children:c.jsx(Oi,{children:c.jsxs(wO,{data:A,margin:{top:5,right:20,left:-10,bottom:5},children:[c.jsx(cu,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(hi,{dataKey:"age",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Edad (das)",position:"insideBottom",offset:-5,fill:"rgba(255,255,255,0.5)"}}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Peso (Kg)",angle:-90,position:"insideRight",fill:"rgba(255,255,255,0.5)"},domain:["dataMin - 2","dataMax + 2"]}),c.jsx(Sr,{content:c.jsx(Wu,{})}),c.jsx(Tl,{verticalAlign:"top",height:36}),c.jsx(ru,{type:"monotone",dataKey:s.id,name:Ar(s),stroke:"#34C759",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})}):c.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No hay suficientes pesajes para mostrar la curva."})]})}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hitos de Crecimiento (Pesos Estimados)"}),A.length>1?c.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(({days:m,weight:v})=>c.jsxs("div",{className:"bg-black/20 p-3 rounded-lg text-center",children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["Peso a los ",m," das"]}),c.jsx("p",{className:"text-xl font-bold text-white",children:v?`${v.toFixed(2)} Kg`:"---"})]},m))}):c.jsx("p",{className:"text-center text-zinc-500 py-4",children:"Se necesitan ms pesajes para estimar los hitos."})]})})]})}const BVe=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result.split(",")[1]),r.onerror=i=>n(i)}),NVe=({onImageSelect:t})=>{const e=P.useRef(null),n=r=>{var i;(i=r.target.files)!=null&&i[0]&&t(r.target.files[0])};return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("input",{type:"file",ref:e,accept:"image/*",onChange:n,className:"hidden"}),c.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.setAttribute("capture","environment"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(upe,{className:"w-12 h-12 mb-2 text-blue-400"}),c.jsx("span",{className:"text-lg font-semibold",children:"Tomar Foto"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Usa la cmara para escanear"})]}),c.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.removeAttribute("capture"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Epe,{className:"w-12 h-12 mb-2 text-green-400"}),c.jsx("span",{className:"text-lg font-semibold",children:"Seleccionar Archivo"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Elige una foto de tu galera"})]})]})};function jVe({onBack:t}){const[e,n]=P.useState("capture"),[r,i]=P.useState(""),[a,s]=P.useState(""),o=async l=>{var u,A;n("loading"),i(""),s("");try{const d=await BVe(l),m=await fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyAsHrxI8e8prsvYNvx992YyC26n592GfWk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:d},features:[{type:"TEXT_DETECTION"}]}]})});if(!m.ok){const y=await m.json();throw new Error(y.error.message||"Error en la API de Google Vision.")}const g=(A=(u=(await m.json()).responses[0])==null?void 0:u.fullTextAnnotation)==null?void 0:A.text;if(g)s(g),n("verification");else throw new Error("No se pudo detectar texto en la imagen. Intenta con una foto ms clara.")}catch(d){i(d.message||"Ocurri un error inesperado."),n("error")}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Escanear Cuaderno"}),c.jsx("p",{className:"text-xl text-zinc-400",children:"Digitalizacin Asistida"})]}),c.jsx("div",{className:"w-8"})]}),e==="capture"&&c.jsx(NVe,{onImageSelect:o}),e==="loading"&&c.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[c.jsx(jq,{className:"w-12 h-12 text-amber-400 mx-auto animate-spin"}),c.jsx("p",{className:"mt-4 text-zinc-400",children:"Analizando imagen con IA..."})]}),e==="verification"&&c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider border-b border-brand-border pb-2",children:[c.jsx(T5,{}),c.jsx("span",{children:"Texto Reconocido"})]}),c.jsx("textarea",{readOnly:!0,value:a,className:"w-full h-48 bg-black/20 text-white p-3 rounded-lg border border-zinc-700"}),c.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Funcionalidad de autocompletado de pesajes prximamente."}),c.jsx("button",{onClick:()=>n("capture"),className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Escanear Otra Imagen"})]}),e==="error"&&c.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-6 text-center animate-fade-in",children:[c.jsx(mr,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),c.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Ocurri un Error"}),c.jsx("p",{className:"text-red-300",children:r}),c.jsx("button",{onClick:()=>n("capture"),className:"mt-6 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Intentar de Nuevo"})]})]})}const vH=152,KO=()=>{const{animals:t,breedingSeasons:e,sireLots:n,serviceRecords:r,fathers:i}=Yt();return{forecastBySeason:P.useMemo(()=>{var A;const s=[],o=e.filter(d=>d.status==="Activo");for(const d of o){const f=n.filter(m=>m.seasonId===d.id);if(f.length===0)continue;const h=new Set(f.map(m=>m.id)),p=t.filter(m=>m.sireLotId&&h.has(m.sireLotId));for(const m of p){const v=r.filter(x=>x.femaleId===m.id&&x.sireLotId===m.sireLotId&&new Date(x.serviceDate)>=new Date(d.startDate)&&new Date(x.serviceDate)<=new Date(d.endDate)).sort((x,C)=>new Date(C.serviceDate).getTime()-new Date(x.serviceDate).getTime())[0],g=n.find(x=>x.id===m.sireLotId);if(!g)continue;const y=((A=i.find(x=>x.id===g.sireId))==null?void 0:A.name)||"Desconocido";if(v){const x=new Date(v.serviceDate);x.setDate(x.getDate()+vH),s.push({animal:m,dueDate:x,type:"Confirmada",sireId:g.sireId,sireName:y,seasonId:d.id})}else{const C=new Date(d.startDate);C.setDate(C.getDate()+10+vH),s.push({animal:m,dueDate:C,type:"Probable",sireId:g.sireId,sireName:y,seasonId:d.id})}}}const l=s.reduce((d,f)=>{const{seasonId:h}=f;return d[h]||(d[h]=[]),d[h].push(f),d},{});let u=Object.entries(l).map(([d,f])=>{const h=e.find(g=>g.id===d),p=f.map(g=>g.dueDate.getTime()),m=new Date(Math.min(...p)),v=new Date(Math.max(...p));return{seasonId:d,seasonName:h.name,projectedStartDate:f.length>0?m:null,projectedEndDate:f.length>0?v:null,events:f.sort((g,y)=>g.dueDate.getTime()-y.dueDate.getTime()),totalEvents:f.length,confirmedEvents:f.filter(g=>g.type==="Confirmada").length,probableEvents:f.filter(g=>g.type==="Probable").length,daysSinceLastSeason:null}}).sort((d,f)=>d.projectedStartDate&&f.projectedStartDate?d.projectedStartDate.getTime()-f.projectedStartDate.getTime():d.projectedStartDate?-1:f.projectedStartDate?1:0);if(u.length>1){for(let d=1;d<u.length;d++)if(u[d].projectedStartDate&&u[d-1].projectedEndDate){const f=u[d].projectedStartDate,h=u[d-1].projectedEndDate,p=f.getTime()-h.getTime(),m=Math.ceil(p/(1e3*60*60*24));u[d].daysSinceLastSeason=m}}return u},[t,e,n,r,i])}},IVe=`
  .rdp { --rdp-cell-size: 45px; --rdp-accent-color: #FF9500; --rdp-background-color: #2C2C2E; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: #2C2C2E; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; width: 100%; }
  .rdp-caption_label, .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .day-confirmed { position: relative; }
  .day-confirmed::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #34C759; }
  .day-probable { position: relative; }
  .day-probable::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #FF9500; opacity: 0.7; }
`,TVe=({seasonForecast:t,onClick:e})=>{var n,r;return c.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border hover:border-brand-blue transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.seasonName}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[(n=t.projectedStartDate)==null?void 0:n.toLocaleDateString("es-VE",{month:"long",day:"numeric"})," - ",(r=t.projectedEndDate)==null?void 0:r.toLocaleDateString("es-VE",{month:"long",day:"numeric",year:"numeric"})]})]}),t.daysSinceLastSeason!==null&&t.daysSinceLastSeason>0&&c.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[c.jsx("p",{className:"text-xs text-zinc-500",children:"Separacin"}),c.jsxs("p",{className:"font-semibold text-white",children:[t.daysSinceLastSeason," das"]})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold text-2xl text-white",children:t.totalEvents}),c.jsx("p",{className:"text-xs text-zinc-400",children:"Partos"})]}),c.jsxs("div",{className:"text-left text-xs",children:[c.jsxs("p",{className:"flex items-center gap-1 text-brand-green",children:[c.jsx(As,{size:12})," Confirmados: ",t.confirmedEvents]}),c.jsxs("p",{className:"flex items-center gap-1 text-brand-orange",children:[c.jsx(ED,{size:12})," Probables: ",t.probableEvents]})]})]}),c.jsx(ta,{className:"text-zinc-600"})]})]})},kVe=({forecastItem:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:t.animal.id}),c.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?c.jsx(As,{size:16}):c.jsx(ED,{size:16}),c.jsx("span",{children:t.type})]})]});function PVe({navigateTo:t}){const{forecastBySeason:e}=KO(),[n,r]=P.useState("cards"),[i,a]=P.useState(void 0),[s,o]=P.useState(new Date),l=P.useMemo(()=>e.flatMap(d=>d.events),[e]),u=P.useMemo(()=>({confirmed:l.filter(d=>d.type==="Confirmada").map(d=>d.dueDate),probable:l.filter(d=>d.type==="Probable").map(d=>d.dueDate)}),[l]),A=P.useMemo(()=>i?l.filter(d=>d.dueDate.getFullYear()===i.getFullYear()&&d.dueDate.getMonth()===i.getMonth()&&d.dueDate.getDate()===i.getDate()):[],[l,i]);return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[c.jsx("style",{children:IVe}),c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Calendario de Partos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Proyecciones del Rebao"})]}),c.jsxs("div",{className:"flex justify-center p-1 bg-zinc-800 rounded-xl",children:[c.jsxs("button",{onClick:()=>r("cards"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="cards"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(Nq,{size:16})," Temporadas"]}),c.jsxs("button",{onClick:()=>r("calendar"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="calendar"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(So,{size:16})," Calendario"]})]}),n==="cards"&&c.jsx("div",{className:"space-y-3",children:e.length>0?e.map(d=>c.jsx(TVe,{seasonForecast:d,onClick:()=>t({name:"birthing-season-detail",seasonId:d.seasonId})},d.seasonId)):c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(Dl,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400",children:"No hay temporadas de parto activas o proyectadas."})]})}),n==="calendar"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:c.jsx(vp,{mode:"single",selected:i,onSelect:a,month:s,onMonthChange:o,locale:Ex,modifiers:{confirmed:u.confirmed,probable:u.probable},modifiersClassNames:{confirmed:"day-confirmed",probable:"day-probable"},showOutsideDays:!0})}),i&&c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Proyecciones para el ",i.toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(d=>c.jsx(kVe,{forecastItem:d,onClick:()=>t({name:"rebano-profile",animalId:d.animal.id})},d.animal.id))}):c.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay partos proyectados para este da."})})]})]})]})}const DVe=({forecastItem:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:t.animal.id}),c.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?c.jsx(As,{size:16}):c.jsx(ED,{size:16}),c.jsx("span",{children:t.type})]}),c.jsx(ta,{className:"text-zinc-600"})]})]}),OVe=t=>{const e=new Date(t.getUTCFullYear(),t.getUTCMonth(),1),n=e.getUTCDay()===0?6:e.getUTCDay()-1,r=t.getUTCDate(),i=Math.ceil((r+n)/7),a=t.toLocaleString("es-VE",{month:"short",timeZone:"UTC"});return`${a.charAt(0).toUpperCase()+a.slice(1)} - Sem ${i}`};function FVe({seasonId:t,onBack:e,navigateTo:n}){const{forecastBySeason:r}=KO(),i=P.useMemo(()=>r.find(s=>s.seasonId===t),[r,t]),a=P.useMemo(()=>{if(!i)return[];const s={};return i.events.forEach(o=>{const l=o.dueDate,u=OVe(l);if(!s[u]){const A=l.getUTCDate(),d=l.getUTCDay()===0?6:l.getUTCDay()-1,f=new Date(l);f.setUTCDate(A-d),s[u]={count:0,startDate:f}}s[u].count++}),Object.entries(s).map(([o,l])=>({name:o,partos:l.count,startDate:l.startDate})).sort((o,l)=>o.startDate.getTime()-l.startDate.getTime())},[i]);return i?c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:i.seasonName}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de Proyeccin de Partos"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ox,{size:20})," Proyeccin Semanal de Partos"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:a,margin:{top:5,right:10,left:-20,bottom:5},children:[c.jsx(cu,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{allowDecimals:!1,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Sr,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"}}),c.jsx(Ja,{dataKey:"partos",name:"N de Partos",fill:"#007AFF",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Lista de Animales (",i.totalEvents,")"]}),c.jsxs("div",{className:"space-y-2",children:["M          ",i.events.map(s=>c.jsx(DVe,{forecastItem:s,onClick:()=>n({name:"rebano-profile",animalId:s.animal.id})},s.animal.id))]})]})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada de Partos no encontrada."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const Hf=({title:t,icon:e,children:n})=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wide flex items-center gap-2 mb-2 px-4",children:[c.jsx(e,{size:16}),t]}),c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden",children:n})]}),yi=be.forwardRef(({label:t,unit:e,...n},r)=>c.jsxs("div",{className:"p-3 bg-ios-modal-bg flex justify-between items-center",children:[c.jsx("label",{htmlFor:n.id||n.name,className:"text-white text-base",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{ref:r,...n,className:`w-24 bg-zinc-700/80 rounded-lg p-2 text-white text-right font-mono text-base focus:outline-none focus:ring-2 focus:ring-brand-orange ${n.type==="text"?"font-sans":""}`}),e&&c.jsx("span",{className:"text-zinc-400 w-6 text-left",children:e})]})]})),LVe=({label:t,value:e,onChange:n})=>c.jsxs("div",{className:"p-3 bg-ios-modal-bg flex justify-between items-center",children:[c.jsx("label",{className:"text-white text-base",children:t}),c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n(!e),className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out ${e?"bg-brand-green":"bg-zinc-700"}`,children:c.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-7 w-7 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e?"translate-x-6":"translate-x-0"}`})})]});function MVe({onBack:t}){const{appConfig:e,updateAppConfig:n,isLoadingConfig:r}=Yt(),[i,a]=P.useState(e||Gp),[s,o]=P.useState("idle");P.useEffect(()=>{e&&a(e)},[e]);const l=d=>{const{name:f,value:h,type:p}=d.target;let m=h;p==="number"&&(m=h===""?0:parseFloat(h)),p==="checkbox"&&(m=d.target.checked),a(v=>({...v,[f]:m}))},u=d=>{a(f=>({...f,theme:d?"dark":"light"}))},A=async()=>{o("saving");try{await n(i),o("success"),setTimeout(()=>{o("idle"),t()},1500)}catch(d){console.error("Error al guardar configuracin:",d),o("idle")}};return r?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando configuracin..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col",style:{height:"calc(100vh - 64px)"},children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Configuracin"}),c.jsxs("button",{onClick:A,disabled:s!=="idle",className:`px-5 py-2 rounded-xl font-bold transition-colors text-lg flex items-center gap-2 ${s==="idle"?"bg-brand-orange text-black":s==="saving"?"bg-zinc-600 text-white":"bg-brand-green text-white"}`,children:[s==="idle"&&c.jsx(o0,{size:18}),s==="saving"&&c.jsx(eu,{size:18,className:"animate-spin"}),s==="success"&&c.jsx(As,{size:18}),s==="saving"?"Guardando...":s==="success"?"Guardado":"Guardar"]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-24 pt-4",children:[c.jsxs(Hf,{title:"General",icon:bpe,children:[c.jsx(yi,{label:"Nombre de la Finca",type:"text",name:"nombreFinca",value:i.nombreFinca,onChange:l}),c.jsx(LVe,{label:"Modo Oscuro",value:i.theme==="dark",onChange:d=>u(d)})]}),c.jsxs(Hf,{title:"ndices Biolgicos",icon:tC,children:[c.jsx(yi,{label:"% de Preez",type:"number",name:"porcentajePrenez",value:i.porcentajePrenez,onChange:l,unit:"%"}),c.jsx(yi,{label:"% Prolificidad",type:"number",name:"porcentajeProlificidad",value:i.porcentajeProlificidad,onChange:l,unit:"%"}),c.jsx(yi,{label:"% Mortalidad Cras (0-3m)",type:"number",name:"mortalidadCrias",value:i.mortalidadCrias,onChange:l,unit:"%"}),c.jsx(yi,{label:"% Mortalidad Levante (3-12m)",type:"number",name:"mortalidadLevante",value:i.mortalidadLevante,onChange:l,unit:"%"}),c.jsx(yi,{label:"% Mortalidad Cabras (Adultas)",type:"number",name:"mortalidadCabras",value:i.mortalidadCabras,onChange:l,unit:"%"}),c.jsx(yi,{label:"% Reemplazo (Anual)",type:"number",name:"tasaReemplazo",value:i.tasaReemplazo,onChange:l,unit:"%"}),c.jsx(yi,{label:"% Eliminacin Cabritos",type:"number",name:"eliminacionCabritos",value:i.eliminacionCabritos,onChange:l,unit:"%"})]}),c.jsxs(Hf,{title:"Manejo Reproductivo",icon:Dl,children:[c.jsx(yi,{label:"Peso 1er Servicio",type:"number",name:"pesoPrimerServicioKg",value:i.pesoPrimerServicioKg,onChange:l,unit:"Kg"}),c.jsx(yi,{label:"Das de Gestacin",type:"number",name:"diasGestacion",value:i.diasGestacion,onChange:l,unit:"das"}),c.jsx(yi,{label:"Das Confirmar Preez",type:"number",name:"diasConfirmarPrenez",value:i.diasConfirmarPrenez,onChange:l,unit:"das"}),c.jsx(yi,{label:"Das de Pre-parto",type:"number",name:"diasPreParto",value:i.diasPreParto,onChange:l,unit:"das"})]}),c.jsxs(Hf,{title:"Manejo Productivo (Leche)",icon:kq,children:[c.jsx(yi,{label:"Das de Lactancia (Meta)",type:"number",name:"diasLactanciaObjetivo",value:i.diasLactanciaObjetivo,onChange:l,unit:"das"}),c.jsx(yi,{label:"Das Secado (Meta)",type:"number",name:"diasSecadoObjetivo",value:i.diasSecadoObjetivo,onChange:l,unit:"das"})]}),c.jsxs(Hf,{title:"Manejo Crecimiento (Kilos)",icon:ba,children:[c.jsx(yi,{label:"Edad Destete (Meta)",type:"number",name:"edadDesteteDias",value:i.edadDesteteDias,onChange:l,unit:"das"}),c.jsx(yi,{label:"Peso Destete (Meta)",type:"number",name:"pesoDesteteMetaKg",value:i.pesoDesteteMetaKg,onChange:l,unit:"Kg"})]}),c.jsxs(Hf,{title:"Manejo Sanitario (StockCare)",icon:lp,children:[c.jsx(yi,{label:"Das Alerta (Atraso)",type:"number",name:"diasAlertaAtraso",value:i.diasAlertaAtraso,onChange:l,unit:"das"}),c.jsx(yi,{label:"Das Retiro Leche",type:"number",name:"diasRetiroLecheDefault",value:i.diasRetiroLecheDefault,onChange:l,unit:"das"}),c.jsx(yi,{label:"Das Retiro Carne",type:"number",name:"diasRetiroCarneDefault",value:i.diasRetiroCarneDefault,onChange:l,unit:"das"})]}),c.jsxs(Hf,{title:"Economa (Cents)",icon:Ol,children:[c.jsx(yi,{label:"Smbolo Moneda",type:"text",name:"monedaSimbolo",value:i.monedaSimbolo,onChange:l}),c.jsx(yi,{label:"Costo Saco Alimento",type:"number",name:"costoSacoAlimento",value:i.costoSacoAlimento,onChange:l,unit:i.monedaSimbolo}),c.jsx(yi,{label:"Peso Saco Alimento",type:"number",name:"pesoSacoAlimentoKg",value:i.pesoSacoAlimentoKg,onChange:l,unit:"Kg"}),c.jsx(yi,{label:"Precio Venta Leche",type:"number",name:"precioLecheLitro",value:i.precioLecheLitro,onChange:l,unit:`${i.monedaSimbolo}/L`}),c.jsx(yi,{label:"Precio Venta Cabrito",type:"number",name:"precioVentaCabritoKg",value:i.precioVentaCabritoKg,onChange:l,unit:`${i.monedaSimbolo}/Kg`}),c.jsx(yi,{label:"Precio Venta Descarte",type:"number",name:"precioVentaDescarteAdulto",value:i.precioVentaDescarteAdulto,onChange:l,unit:i.monedaSimbolo})]})]})]})}const RVe=[{id:"rebano",name:"Rebao",icon:cx,color:"bg-amber-600"},{id:"lactokeeper",name:"LactoKeeper",icon:cf,color:"bg-brand-blue"},{id:"kilos",name:"Kilos",icon:XA,color:"bg-brand-green"},{id:"salud",name:"StockCare",icon:k5,color:"bg-teal-500"},{id:"cents",name:"Cents",icon:Ol,color:"bg-yellow-500"},{id:"evolucion",name:"Evolucin",icon:ba,color:"bg-indigo-500"}],jx=({onSwitchModule:t})=>{const[e,n]=P.useState(!1),r=i=>{n(!1),t(i)};return c.jsxs("div",{className:"fixed bottom-24 right-4 z-40 flex flex-col items-end gap-4",children:[c.jsx("div",{className:`flex flex-col items-end gap-4 transition-all duration-300 ease-in-out overflow-hidden ${e?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:RVe.map(i=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg",children:i.name}),c.jsx("button",{onClick:()=>r(i.id),className:`w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg ${i.color} transform transition-transform hover:scale-110`,"aria-label":`Cambiar al mdulo ${i.name}`,children:c.jsx(i.icon,{size:28})})]},i.id))}),c.jsx("button",{onClick:()=>n(!e),className:"w-16 h-16 rounded-full flex items-center justify-center text-black bg-brand-amber shadow-2xl shadow-black/50 transform transition-transform duration-200 hover:scale-110 pointer-events-auto","aria-label":"Seleccionar mdulo",children:c.jsx("div",{className:`transform transition-transform duration-300 ${e?"rotate-180 scale-75":"rotate-0"}`,children:e?c.jsx(Go,{size:32}):c.jsx(Eq,{size:32})})})]})};function UVe(t){return Hl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224l0 32 0 160c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-88.2c9.9 6.6 20.6 12 32 16.1l0 24.2c0 8.8 7.2 16 16 16s16-7.2 16-16l0-16.9c5.3 .6 10.6 .9 16 .9s10.7-.3 16-.9l0 16.9c0 8.8 7.2 16 16 16s16-7.2 16-16l0-24.2c11.4-4 22.1-9.4 32-16.1l0 88.2c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-160 32 32 0 49.5c0 9.5 2.8 18.7 8.1 26.6L530 427c8.8 13.1 23.5 21 39.3 21c22.5 0 41.9-15.9 46.3-38l20.3-101.6c2.6-13-.3-26.5-8-37.3l-3.9-5.5 0-81.6c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 14.4-52.9-74.1C496 86.5 452.4 64 405.9 64L272 64l-16 0-64 0-48 0C77.7 64 24 117.7 24 184l0 54C9.4 249.8 0 267.8 0 288l0 17.6c0 8 6.4 14.4 14.4 14.4C46.2 320 72 294.2 72 262.4l0-6.4 0-32 0-40c0-24.3 12.1-45.8 30.5-58.9C98.3 135.9 96 147.7 96 160l0 64zM560 336a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM166.6 166.6c-4.2-4.2-6.6-10-6.6-16c0-12.5 10.1-22.6 22.6-22.6l178.7 0c12.5 0 22.6 10.1 22.6 22.6c0 6-2.4 11.8-6.6 16l-23.4 23.4C332.2 211.8 302.7 224 272 224s-60.2-12.2-81.9-33.9l-23.4-23.4z"},child:[]}]})(t)}const QVe={idle:{Icon:ype,color:"text-green-500",label:"Datos sincronizados"},syncing:{Icon:gpe,color:"text-amber-500 animate-spin-slow",label:"Sincronizando datos..."},offline:{Icon:vpe,color:"text-red-500",label:"Sin conexin"}},S0=({status:t})=>{const{Icon:e,color:n,label:r}=QVe[t];return c.jsx("div",{className:"flex items-center gap-2",title:r,children:c.jsx(e,{className:`w-5 h-5 ${n}`})})};function HVe({initialState:t,onSwitchModule:e}){const{syncStatus:n}=Yt(),[r,i]=P.useState({name:"lots-dashboard"}),[a,s]=P.useState([]);P.useEffect(()=>{t&&t.page?(i(t.page),s([])):(i({name:"lots-dashboard"}),s([]))},[t]);const o=[{page:{name:"lots-dashboard"},label:"Lotes",icon:Rq,mapsTo:["lots-dashboard","lot-detail","breeding-season-detail","sire-lot-detail","feeding-plan","batch-treatment"]},{page:{name:"herd"},label:"Rebao",icon:UVe,mapsTo:["herd","rebano-profile","manage-lots","lactation-profile","growth-profile","configuracion"]},{page:{name:"farm-calendar"},label:"Calendario",icon:CD,mapsTo:["farm-calendar","birthing-season-detail"]},{page:{name:"add-animal"},label:"Aadir",icon:Bl,mapsTo:["add-animal","ocr"]}],l=f=>{s(h=>[...h,r]),i(f)},u=()=>{const f=a.pop();f?(s([...a]),i(f)):t&&t.sourceModule?e(t.sourceModule):i({name:"lots-dashboard"})},A=f=>{s([]),i(f)},d=()=>{switch(r.name){case"lots-dashboard":return c.jsx(X7,{navigateTo:l});case"lot-detail":return c.jsx(j9e,{lotName:r.lotName,onBack:u,navigateTo:l});case"breeding-season-detail":return c.jsx(AVe,{seasonId:r.seasonId,onBack:u,navigateTo:l});case"sire-lot-detail":return c.jsx(fVe,{lotId:r.lotId,onBack:u,navigateTo:l});case"herd":return c.jsx(M9e,{navigateTo:l,locationFilter:r.locationFilter});case"manage-lots":return c.jsx(aVe,{onBack:()=>A({name:"herd"})});case"management":return c.jsx(iVe,{onSelectAnimal:f=>l({name:"rebano-profile",animalId:f})});case"add-animal":return c.jsx(D9e,{onBack:()=>A({name:"herd"})});case"rebano-profile":return c.jsx(nVe,{animalId:r.animalId,onBack:u,navigateTo:l});case"lactation-profile":return c.jsx(Ute,{animalId:r.animalId,onBack:u,navigateTo:l});case"growth-profile":return c.jsx(_Ve,{animalId:r.animalId,onBack:u});case"ocr":return c.jsx(jVe,{onBack:u});case"feeding-plan":return c.jsx(CVe,{lotName:r.lotName,onBack:u});case"batch-treatment":return c.jsx(EVe,{lotName:r.lotName,onBack:u});case"farm-calendar":return c.jsx(PVe,{navigateTo:l});case"birthing-season-detail":return c.jsx(FVe,{seasonId:r.seasonId,onBack:u,navigateTo:l});case"configuracion":return c.jsx(MVe,{navigateTo:l,onBack:u});default:return c.jsx(X7,{navigateTo:l})}};return c.jsxs("div",{className:"font-sans text-gray-200 min-h-screen animate-fade-in",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cx,{className:"text-brand-orange",size:28}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Rebao"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(S0,{status:n}),c.jsx("button",{onClick:()=>l({name:"configuracion"}),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Configuracin",children:c.jsx(kD,{size:20})})]})]})}),c.jsx("main",{className:"pt-16 pb-16",children:d()})," ",c.jsx(jx,{onSwitchModule:e}),c.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-20 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:[o.map(f=>{const h=f.mapsTo.includes(r.name);return c.jsxs("button",{onClick:()=>A(f.page),className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${h?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[c.jsx(f.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-semibold mt-1",children:f.label})]},f.label)}),c.jsxs("button",{onClick:()=>dg.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[c.jsx(Tq,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})}function yH({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=Yt(),[a,s]=P.useState("current"),[o,l]=P.useState(!1),[u,A]=P.useState(!1),d=P.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let f=0;if(n.length>0){const j=n.reduce((_,B)=>B.date>_?B.date:_,n[0].date);f=new Set(n.filter(_=>_.date===j).map(_=>_.goatId)).size}let h=n;if(a==="current"){const j=new Set(r.filter(_=>_.status==="activa").map(_=>_.goatId));h=n.filter(_=>j.has(_.goatId))}const p={};h.forEach(j=>{const _=r.filter(N=>N.goatId===j.goatId&&new Date(j.date)>=new Date(N.parturitionDate)).sort((N,D)=>new Date(D.parturitionDate).getTime()-new Date(N.parturitionDate).getTime())[0];if(!_)return;const B=Nf(_.parturitionDate,j.date);p[B]||(p[B]={totalKg:0,count:0}),p[B].totalKg+=j.kg,p[B].count++});const m=Object.entries(p).map(([j,_])=>({del:parseInt(j),kg:_.totalKg/_.count,name:"Promedio Rebao"})).sort((j,_)=>j.del-_.del),v=e.map(j=>{const _=n.filter(N=>N.goatId===j.id);return _.length===0?null:{avg:_.reduce((N,D)=>N+D.kg,0)/_.length}}).filter(Boolean),g=v.length>0?v.reduce((j,_)=>j+_.avg,0)/v.length:0,y=v.length>0?Math.sqrt(v.reduce((j,_)=>j+Math.pow(_.avg-g,2),0)/v.length):0,x=[];if(v.length>0){const j=Math.floor(Math.min(...v.map(B=>B.avg))*4)/4,_=Math.ceil(Math.max(...v.map(B=>B.avg))*4)/4;for(let B=j;B<=_;B+=.25){const N=B,D=B+.25,T=v.filter(O=>O.avg>=N&&O.avg<D).length;T>0&&x.push({range:`${N.toFixed(2)}`,count:T})}}const C={distribution:x,mean:g,stdDev:y};return{herdAverage:n.length>0?n.reduce((j,_)=>j+_.kg,0)/n.length:0,activeGoats:f,herdLactationCurve:m,gaussData:C}},[e,n,r,i,a]);return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebao..."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 px-4",children:[c.jsxs("header",{className:"text-center pt-4 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Dashboard de Produccin"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Anlisis General de LactoKeeper"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[c.jsx(s0,{size:14}),c.jsx("span",{children:"Promedio Global"})]}),c.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[d.herdAverage.toFixed(2)," ",c.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),c.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[c.jsx(Ope,{}),c.jsx("span",{children:"Animales en Ordeo"})]}),c.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:d.activeGoats})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[c.jsx(eC,{size:16}),c.jsx("span",{children:"Curva de Lactancia"}),c.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:c.jsx(Wy,{size:14})})]}),c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[c.jsx("button",{onClick:()=>s("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="current"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),c.jsx("button",{onClick:()=>s("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="historical"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histrico"})]})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Cx,{data:d.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"lactationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#FF9500",stopOpacity:.7}),c.jsx("stop",{offset:"80%",stopColor:"#34C759",stopOpacity:.1})]})}),c.jsx(hi,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),c.jsx(Sr,{content:c.jsx(Wu,{})}),c.jsx(Ll,{type:"monotone",dataKey:"kg",stroke:"#FF9500",strokeWidth:2.5,fill:"url(#lactationGradient)"})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[c.jsx(eC,{size:16}),c.jsx("span",{children:"Distribucin del Rebao"}),c.jsx("button",{onClick:()=>A(!0),className:"text-zinc-500 hover:text-white transition-colors",children:c.jsx(Wy,{size:14})})]})}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:d.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx(cu,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),c.jsx(hi,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),c.jsx(Bi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"N de Cabras"}),c.jsx(wx,{x:d.gaussData.mean.toFixed(2),stroke:"#34C759",strokeWidth:2,label:{value:"",fill:"#34C759",position:"insideTopLeft"}})]})})})]})]}),c.jsx(An,{isOpen:o,onClose:()=>l(!1),title:"Qu es la Curva de Lactancia del Rebao?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:'Este grfico revela la **"personalidad productiva"** de tu rebao. No es un promedio simple, sino una lnea de tiempo del rendimiento promedio.'}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Cmo se Calcula?"}),c.jsx("p",{className:"text-sm",children:'Para cada "Da en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese da de su ciclo y calcula el promedio.'}),c.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[c.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su da 50 de lactancia.']})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: Cundo ocurre el pico de produccin del rebao? y Qu tan persistente es la lactancia despus del pico?"})]})}),c.jsx(An,{isOpen:u,onClose:()=>A(!1),title:"Qu es la Distribucin del Rebao?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Este grfico, conocido como Campana de Gauss o distribucin normal, clasifica el rendimiento promedio de cada animal en el rebao."}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media ()"}),c.jsx("p",{className:"text-sm",children:"La lnea verde marcada como **** representa el **promedio de produccin de todo el rebao**. Es el punto de referencia central."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),c.jsx("p",{className:"text-sm",children:"Cada barra muestra cuntos animales caen dentro de un rango especfico de produccin. Una barra alta en el centro (cerca de ) indica que la mayora de tu rebao tiene un rendimiento promedio y consistente."})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rpidamente a los animales de lite (extremo derecho) y a los que podran necesitar atencin (extremo izquierdo)."})]})})]})}const mS=(t,e,n,r,i)=>P.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=t.reduce((m,v)=>{const g=e.find(B=>B.id===v.goatId);if(!g)return m;const y=r.filter(B=>B.goatId===g.id&&new Date(B.parturitionDate)<=new Date(v.date)).sort((B,N)=>new Date(N.parturitionDate).getTime()-new Date(B.parturitionDate).getTime())[0];if(!y)return m;const x=Nf(y.parturitionDate,v.date),C=i?HQe(v.kg,x):v.kg,E=n.filter(B=>B.goatId===g.id).sort((B,N)=>new Date(N.date).getTime()-new Date(B.date).getTime());let j="single";const _=E.findIndex(B=>B.date===v.date);if(_!==-1&&_+1<E.length){const B=E[_+1],N=v.kg-B.kg,D=.15;N>D?j="up":N<-D?j="down":j="stable"}return m.push({...g,latestWeighing:v.kg,weighingId:v.id,del:x,score:C,trend:j,date:v.date}),m},[]);if(!a.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const s=i?"score":"latestWeighing",o=a.reduce((m,v)=>m+v[s],0)/a.length,l=Math.sqrt(a.reduce((m,v)=>m+Math.pow(v[s]-o,2),0)/a.length),u=o-.4*l,A=o+.4*l,d=a.map(m=>{const v=m[s];let g="Promedio";return l>.1&&(v<u?g="Pobre":v>A&&(g="Sobresaliente")),{...m,classification:g}}),f=[{name:"Pobre",count:d.filter(m=>m.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(m=>m.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(m=>m.classification==="Sobresaliente").length,fill:"#34C759"}],h=a.length>0?a.reduce((m,v)=>m+v.latestWeighing,0)/a.length:0,p=a.length>0?a.reduce((m,v)=>m+v.score,0)/a.length:0;return{classifiedAnimals:d,distribution:f,mean:h,stdDev:l,weightedMean:p}},[t,e,n,r,i]),zVe=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:{Icon:pg,color:"text-brand-green"},down:{Icon:hg,color:"text-brand-red"},stable:{Icon:jD,color:"text-zinc-400"}},{Icon:r,color:i}=n[t];return c.jsxs("div",{className:`flex items-center font-semibold text-sm ${i}`,children:[c.jsx(r,{size:18,strokeWidth:3}),e&&c.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},WO=(t,e)=>P.useMemo(()=>{if(!t||!e)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};const r=e.filter(A=>A.goatId===t).sort((A,d)=>new Date(d.date).getTime()-new Date(A.date).getTime());if(r.length<1)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};if(r.length===1)return{trend:"single",difference:0,isLongTrend:!1,lastTwoWeighings:[r[0]]};const i=r[0],a=r[1],s=i.kg-a.kg,o=.15;let l;s>o?l="up":s<-o?l="down":l="stable";let u=!1;if(r.length>=3){const A=r[2],d=a.kg-A.kg,f=s>o&&d>o,h=s<-o&&d<-o;(f||h)&&(u=!0)}return{trend:l,difference:s,isLongTrend:u,lastTwoWeighings:[i,a]}},[t,e]),VVe=({animal:t,onSaveSuccess:e,onCancel:n})=>{const{parturitions:r,addWeighing:i,startDryingProcess:a,setLactationAsDry:s}=Yt(),[o,l]=P.useState(new Date().toISOString().split("T")[0]),[u,A]=P.useState(""),[d,f]=P.useState(!1),[h,p]=P.useState(null),[m,v]=P.useState(!1),g=P.useMemo(()=>r.filter(_=>_.goatId===t.id&&(_.status==="activa"||_.status==="en-secado")).sort((_,B)=>new Date(B.parturitionDate).getTime()-new Date(_.parturitionDate).getTime())[0],[r,t.id]),y=g?Nf(g.parturitionDate,o):null,x=t.name?String(t.name).toUpperCase().trim():"",C=async _=>{if(_.preventDefault(),!g||g.status==="seca"||g.status==="finalizada"){p({type:"error",text:"No se puede guardar pesaje. El animal no tiene una lactancia activa o en secado."});return}p(null),f(!0);const B=parseFloat(u);if(isNaN(B)||B<=0){p({type:"error",text:"Por favor, introduce un peso vlido."}),f(!1);return}if(B>8.5){p({type:"error",text:"La produccin parece irracionalmente alta (> 8.5 Kg)."}),f(!1);return}try{await i({goatId:t.id,date:o,kg:B}),p({type:"success",text:`Pesaje de ${t.id.toUpperCase()} guardado.`}),setTimeout(e,1500)}catch(N){p({type:"error",text:N.message||"No se pudo guardar el pesaje."}),f(!1)}},E=async()=>{if(!(!g||g.status!=="activa")){f(!0),p(null);try{await a(g.id),p({type:"success",text:"Proceso de secado iniciado con xito."}),setTimeout(e,1500)}catch(_){p({type:"error",text:_.message||"No se pudo iniciar el secado."}),f(!1)}}},j=async()=>{if(!(!g||g.status==="seca"||g.status==="finalizada")){f(!0),p(null);try{await s(g.id),p({type:"success",text:"Lactancia declarada como seca con xito."}),setTimeout(e,1500)}catch(_){p({type:"error",text:_.message||"No se pudo finalizar la lactancia."}),f(!1)}}};return c.jsxs(c.Fragment,{children:[c.jsx(An,{isOpen:!m,onClose:n,title:"Pesaje Lechero",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),x&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:x})]}),g?c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingDateMilk",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha"}),c.jsx("input",{id:"weighingDateMilk",type:"date",value:o,onChange:_=>l(_.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Das en Leche (DEL)"}),c.jsx("div",{className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center font-bold text-white",children:y??"N/A"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingKgMilk",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Produccin (Kg)"}),c.jsx("input",{id:"weighingKgMilk",type:"number",step:"0.1",value:u,onChange:_=>A(_.target.value),placeholder:"Ej: 3.5",autoFocus:!0,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-white",required:!0})]}),h&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${h.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[h.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:h.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:d,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[c.jsx(o0,{size:18})," Guardar Pesaje"]})]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-brand-border",children:[c.jsx("h4",{className:"text-sm font-semibold text-zinc-400",children:"Otras Acciones de Lactancia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("button",{type:"button",onClick:E,disabled:d||g.status!=="activa",className:"w-full flex items-center justify-center gap-2 bg-blue-600/20 text-blue-300 font-semibold py-3 px-3 rounded-lg hover:bg-blue-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(cp,{size:16})," ",g.status==="en-secado"?"Ya en Secado":"Iniciar Secado"]}),c.jsxs("button",{type:"button",onClick:j,disabled:d||g.status==="seca"||g.status==="finalizada",className:"w-full flex items-center justify-center gap-2 bg-gray-600/20 text-gray-300 font-semibold py-3 px-3 rounded-lg hover:bg-gray-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(bc,{size:16})," ",g.status==="seca"?"Ya Seca":"Declarar Seca"]})]})]})]}):c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx(mr,{className:"mx-auto h-12 w-12 text-amber-400"}),c.jsx("h3",{className:"text-lg font-medium text-white",children:"Animal sin Parto Activo"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Para registrar un pesaje o gestionar el secado, debe tener un parto activo."}),c.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(Dl,{size:18})," Declarar Parto"]})]})]})}),m&&c.jsx(yp,{isOpen:m,onClose:()=>{v(!1)},motherId:t.id})]})},$Ve=()=>{const{animals:t,parturitions:e,weighings:n,appConfig:r}=Yt();return P.useMemo(()=>{const a=new Date().toISOString().split("T")[0],s=new Set,o=r.diasLactanciaObjetivo-35,l=r.diasLactanciaObjetivo-5;return e.forEach(A=>{if(A.status==="activa"){const d=Nf(A.parturitionDate,a);d>=o&&d<=l&&s.add(A.goatId)}}),t.filter(A=>A.reproductiveStatus==="Preada"&&!A.isReference).forEach(A=>{const d=n.filter(f=>f.goatId===A.id).sort((f,h)=>new Date(h.date).getTime()-new Date(f.date).getTime());if(d.length>=4){const f=d[0].kg,h=d[1].kg,p=d[2].kg,m=d[3].kg;f<h&&h<p&&p<m&&s.add(A.id)}}),e.forEach(A=>{A.status==="en-secado"&&s.add(A.goatId)}),Array.from(s)},[t,e,n,r.diasLactanciaObjetivo])},KVe=({isOpen:t,onClose:e,animalIds:n,onSelectAnimal:r})=>{const{animals:i,fathers:a}=Yt(),s=P.useMemo(()=>{const o=new Map(i.map(u=>[u.id,u])),l=new Map(a.map(u=>[u.id,u]));return n.map(u=>{const A=o.get(u);if(A)return A;const d=l.get(u);return d?{id:d.id,name:d.name,sex:"Macho",isReference:!0}:{id:u,name:void 0}}).sort((u,A)=>u.id.localeCompare(A.id))},[n,i,a]);return c.jsxs(An,{isOpen:t,onClose:e,title:"Animales que Salieron del Ordeo",children:[c.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2",children:s.length>0?s.map(o=>{const l=o.name?String(o.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>{r(o.id),e()},className:"w-full text-left p-3 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:o.id.toUpperCase()}),l&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:l})]}),c.jsx(ta,{className:"text-zinc-500 group-hover:text-white transition-colors flex-shrink-0"})]},o.id)}):c.jsx("p",{className:"text-center text-zinc-500 py-4",children:"No hay animales que hayan salido en este perodo."})}),c.jsx("div",{className:"flex justify-end mt-4 pt-4 border-t border-brand-border",children:c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cerrar"})})]})},WVe=({isOpen:t,onClose:e,onConfirm:n,dateToDelete:r})=>{const[i,a]=P.useState(""),s=r?new Date(r+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"",o=i===r;return P.useEffect(()=>{t&&a("")},[t]),c.jsx(An,{isOpen:t,onClose:e,title:"Confirmar Eliminacin",children:c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(mr,{className:"mx-auto h-12 w-12 text-brand-red"}),c.jsxs("p",{className:"text-lg font-semibold",children:["Eliminar todos los pesajes del ",c.jsx("span",{className:"font-bold",children:s}),"?"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Esta accin es irreversible y eliminar ",r?"permanentemente":""," todos los registros de esta fecha."]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"confirmDateInput",className:"block text-sm font-medium text-zinc-400 mb-1",children:["Para confirmar, escribe la fecha: ",c.jsx("strong",{className:"text-zinc-200",children:r})]}),c.jsx("input",{id:"confirmDateInput",type:"text",value:i,onChange:l=>a(l.target.value),placeholder:"YYYY-MM-DD",className:`w-full bg-zinc-800 p-3 rounded-xl text-lg text-center font-mono border-2 ${i&&!o?"border-red-500":"border-zinc-700"} focus:border-brand-red focus:ring-0`})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:n,disabled:!o,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Eliminar Permanentemente"})]})]})})},H1=({title:t,value:e,unit:n,icon:r,onClick:i})=>c.jsxs("button",{onClick:i,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors w-full",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(r,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[e," ",c.jsx("span",{className:"text-lg text-zinc-400",children:n})]})]}),cN=({animal:t,onSelectAnimal:e,onOpenActions:n,isNewEntry:r})=>{const{weighings:i}=Yt(),{trend:a,isLongTrend:s}=WO(t.id,i),o=Ap(),l=P.useRef(!1),u={Sobresaliente:"bg-brand-green",Promedio:"bg-gray-500",Pobre:"bg-brand-red"},A=t.name?String(t.name).toUpperCase().trim():"",d=(f,h)=>{const p=h.offset.x,m=h.velocity.x;(p<-80/2||m<-500)&&n(t),o.start({x:0}),setTimeout(()=>{l.current=!1},100)};return c.jsxs("div",{className:"relative w-full overflow-hidden bg-brand-glass border-b border-brand-border/50 last:border-b-0",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("div",{className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(na,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Acciones"})]})}),c.jsxs(Zi.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{l.current=!0},onDragEnd:d,onTap:()=>{l.current||e(t.id)},animate:o,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-3",children:[c.jsx("div",{className:`absolute top-3 right-3 w-2.5 h-2.5 rounded-full ${t.latestWeighing>0?u[t.classification]:"bg-transparent"}`,title:`Rendimiento: ${t.classification}`}),c.jsxs("div",{className:"flex justify-between items-center w-full",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),A&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:A}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-base text-brand-orange",children:t.latestWeighing>0?`${t.latestWeighing.toFixed(2)} Kg`:"Sin Pesar"}),t.del>0&&c.jsxs("p",{className:"text-xs text-zinc-400",children:["DEL: ",t.del]})]}),c.jsx(hte,{statuses:t.statusObjects}),r?c.jsx("span",{title:"Primer Ingreso al Control Lechero",className:"w-6 h-6 flex items-center justify-center rounded-full bg-green-500/20 text-brand-green",children:c.jsx(Iq,{size:16,strokeWidth:2.5})}):c.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:c.jsx(zVe,{trend:a,isLongTrend:s})}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})]})]})]})]})},GVe=({animalId:t})=>{var i,a;const{weighings:e}=Yt(),{lastTwoWeighings:n,difference:r}=WO(t,e);return n.length<2?c.jsx("p",{children:"No hay suficientes datos para comparar."}):c.jsxs("div",{className:"text-center text-white space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",new Date(n[1].date+"T00:00:00").toLocaleDateString(),")"]}),c.jsxs("p",{className:"text-2xl font-semibold",children:[((i=n[1])==null?void 0:i.kg.toFixed(2))||"N/A"," Kg"]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["ltimo Pesaje (",new Date(n[0].date+"T00:00:00").toLocaleDateString(),")"]}),c.jsxs("p",{className:"text-2xl font-semibold",children:[((a=n[0])==null?void 0:a.kg.toFixed(2))||"N/A"," Kg"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),c.jsxs("p",{className:`text-3xl font-bold ${r>.15?"text-brand-green":r<-.15?"text-brand-red":"text-zinc-400"}`,children:[r>0?"+":"",r.toFixed(2)," Kg"]})]})]})},qVe=t=>{const{x:e,y:n,width:r,height:i,value:a,total:s}=t;if(s===0||a===0)return null;const o=(a/s*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${o}%`})};function YVe({onSelectAnimal:t}){const{animals:e,parturitions:n,weighings:r,isLoading:i,serviceRecords:a,sireLots:s,breedingSeasons:o,startDryingProcess:l,setLactationAsDry:u,deleteWeighingSession:A}=Yt(),[d,f]=P.useState(!1),[h,p]=P.useState("all"),[m,v]=P.useState("all"),[g,y]=P.useState("all"),[x,C]=P.useState("all"),[E,j]=P.useState(null),[_,B]=P.useState(null),[N,D]=P.useState(!1),[T,O]=P.useState(!1),[L,H]=P.useState(!1),[q,Y]=P.useState(!1),[ee,K]=P.useState(null),[te,le]=P.useState(!1),[se,M]=P.useState(0),$=$Ve(),{weighingsByDate:J,availableDates:ne}=P.useMemo(()=>{const st={};r.forEach(yt=>{st[yt.date]||(st[yt.date]=[]),st[yt.date].push(yt)});const bt=Object.keys(st).sort((yt,tt)=>new Date(tt).getTime()-new Date(yt).getTime());return{weighingsByDate:st,availableDates:bt}},[r]),he=ne[se],we=P.useMemo(()=>{if(!he)return[];const st=J[he]||[],bt=new Map;return st.forEach(yt=>bt.set(yt.goatId,yt)),Array.from(bt.values())},[he,J]),{classifiedAnimals:Se,distribution:Ae,mean:ge,stdDev:xe,weightedMean:ae}=mS(we,e,r,n,d),Ve=P.useMemo(()=>{const st=new Map(e.map(bt=>[bt.id,bt]));return Se.map(bt=>{const yt=st.get(bt.id);return{...yt,...bt,formattedAge:yt?uu(yt.birthDate):"N/A",statusObjects:yt?Ate(yt,n,a,s,o):[]}})},[Se,e,n,a,s,o]),Oe=P.useMemo(()=>{if(se+1<ne.length){const st=ne[se+1];return J[st]||[]}return[]},[se,ne,J]),fe=mS(Oe,e,r,n,!1),$e=P.useMemo(()=>{const st=new Set(Se.map(gn=>gn.id)),bt=new Set(fe.classifiedAnimals.map(gn=>gn.id));let yt=new Set,tt=new Set;se===ne.length-1&&ne.length>0?yt=st:ne.length>0&&(yt=new Set([...st].filter(gn=>!bt.has(gn))),tt=new Set([...bt].filter(gn=>!st.has(gn))));const Qt=ne.slice(Math.max(0,se-2),se+1).map(gn=>{const Kt=J[gn]||[];if(Kt.length===0)return{date:gn,avg:0};const En=Kt.reduce((Vi,Ir)=>Vi+Ir.kg,0);return{date:new Date(gn+"T00:00:00").toLocaleDateString("es-VE",{month:"short",day:"numeric"}),avg:En/Kt.length}}).reverse();let ft=null,gt=null,Ft=0,St=0,Vt=1/0;if(Ve.length>0){Ft=Ve.reduce((Kt,En)=>Kt+En.latestWeighing,0);const gn=Ve.map(Kt=>Kt.latestWeighing);St=Math.max(...gn),Vt=Math.min(...gn.filter(Kt=>Kt>0)),Vt===1/0&&(Vt=0),ft=Ve.find(Kt=>Kt.latestWeighing===St)||null,gt=Ve.find(Kt=>Kt.latestWeighing===Vt)||null}const hn=ge-xe,cn=ge+xe,wt=Se.filter(gn=>gn.latestWeighing>=hn&&gn.latestWeighing<=cn).length,Zn=Se.length>0?wt/Se.length*100:0;return{trendData:Qt,kpi:{total:Ft,max:St,min:Vt},topPerformer:ft,bottomPerformer:gt,consistency:{percentage:Zn},newAnimalIds:yt,exitingAnimalIds:tt}},[Se,Ve,fe.classifiedAnimals,ne,se,J,ge,xe]),{searchTerm:ht,setSearchTerm:vt,filteredItems:Ye}=$O(Ve,["id","name"]),Dt=P.useMemo(()=>{let st=ht?Ye:Ve;return h!=="all"&&(st=st.filter(bt=>bt.classification===h)),g==="new"&&(st=st.filter(bt=>$e.newAnimalIds.has(bt.id))),m!=="all"&&(st=st.filter(bt=>{const{trend:yt}=WO(bt.id,r);return yt===m})),x!=="all"&&(st=st.filter(bt=>{const yt=bt.del;return x==="drying"?$.includes(bt.id):yt===0||yt===void 0?!1:x==="first"?yt>0&&yt<=100:x==="second"?yt>100&&yt<=200:x==="third"?yt>200&&yt<270:!1})),st.sort((bt,yt)=>yt.latestWeighing-bt.latestWeighing)},[ht,Ye,Ve,h,m,x,g,$e.newAnimalIds,$,r]),mt=P.useMemo(()=>{const st=Se.filter(Qt=>!$e.newAnimalIds.has(Qt.id)).length;if(Se.length===0)return{up:0,down:0,stable:0,new:0};if(st===0&&$e.newAnimalIds.size>0)return{up:0,down:0,stable:0,new:100};if(st===0)return{up:0,down:0,stable:0,new:0};const bt=Se.filter(Qt=>Qt.trend==="up").length,yt=Se.filter(Qt=>Qt.trend==="down").length,tt=Se.filter(Qt=>Qt.trend==="stable").length;return{up:bt/st*100,down:yt/st*100,stable:tt/st*100,new:$e.newAnimalIds.size/Se.length*100||0}},[Se,$e.newAnimalIds]),ct=()=>{p("all"),v("all"),C("all"),y("all"),vt("")},jt=st=>{var bt;if((bt=st==null?void 0:st.payload)!=null&&bt.name){const yt=st.payload.name;p(tt=>tt===yt?"all":yt)}},Xt=st=>{K(st),Y(!0)},Zt=st=>{if(!st)return[];const bt=[],yt=n.find(tt=>tt.goatId===st.id&&(tt.status==="activa"||tt.status==="en-secado"));return bt.push({label:"Registrar/Editar Pesaje",icon:cf,onClick:()=>{Y(!1),j("milkWeighing")}}),yt&&(yt.status==="activa"&&bt.push({label:"Iniciar Secado",icon:cp,onClick:()=>{l(yt.id),Y(!1)},color:"text-blue-400"}),(yt.status==="activa"||yt.status==="en-secado")&&bt.push({label:"Declarar Seca",icon:bc,onClick:()=>{u(yt.id),Y(!1)},color:"text-zinc-400"})),bt},Ut=()=>{j(null),K(null)},rn=async()=>{if(he)try{await A(he),M(0),le(!1)}catch(st){console.error("Error deleting session:",st)}};return i&&ne.length===0?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Calculando anlisis..."})}):ne.length===0?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"No hay pesajes registrados."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"bg-brand-glass rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[c.jsx("button",{onClick:()=>M(st=>Math.min(st+1,ne.length-1)),disabled:se>=ne.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:c.jsx(Ape,{})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-lg font-semibold text-white",children:he?new Date(he+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[we.length," animales pesados"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{onClick:()=>le(!0),className:"p-2 rounded-full text-zinc-500 hover:text-brand-red hover:bg-red-500/10 transition-colors mr-2",title:"Eliminar pesajes de este da",children:[" ",c.jsx(xc,{size:18})," "]}),c.jsx("button",{onClick:()=>M(st=>Math.max(st-1,0)),disabled:se===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:c.jsx(ta,{})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(H1,{icon:cf,title:d?"Media Ponderada":"Media Prod.",value:(d?ae:ge).toFixed(2),unit:"Kg",onClick:()=>j("media")}),c.jsx(H1,{icon:PD,title:"Prod. Total",value:$e.kpi.total.toFixed(2),unit:"Kg",onClick:()=>j("total")}),c.jsx(H1,{icon:Fq,title:"Consistencia",value:xe.toFixed(2),unit:"",onClick:()=>j("stdDev")}),c.jsx(H1,{icon:ba,title:"Rango Prod.",value:`${$e.kpi.min.toFixed(2)} - ${$e.kpi.max.toFixed(2)}`,unit:"Kg",onClick:()=>j("rango")})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(eC,{className:"text-brand-orange w-[18px] h-[18px]"}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Anlisis del Da"}),c.jsx("button",{onClick:()=>D(!0),className:"text-zinc-500 hover:text-white",children:c.jsx(Wy,{size:14})})]}),c.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[c.jsx(Vv,{size:14,className:d?"text-brand-orange":"text-zinc-500"}),c.jsx("span",{children:"Ponderado a DEL"}),c.jsx("button",{type:"button",onClick:st=>{st.preventDefault(),st.stopPropagation(),O(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:c.jsx(Wy,{size:14})}),c.jsx("input",{type:"checkbox",checked:d,onChange:st=>f(st.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:Ae,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:jt,cursor:"pointer",children:[Ae.map(st=>c.jsx(gc,{fill:st.fill,className:`${h!=="all"&&h!==st.name?"opacity-30":"opacity-100"} transition-opacity`},st.name)),c.jsx($o,{dataKey:"count",content:c.jsx(qVe,{total:Se.length})})]})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",ge.toFixed(2)]})," | ",c.jsxs("span",{children:[" = ",xe.toFixed(2)]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("button",{onClick:()=>{v("all"),y("all")},className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${m==="all"&&g==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),c.jsxs("button",{onClick:()=>{v("up"),y("all")},disabled:mt.up===0&&Se.length-$e.newAnimalIds.size>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="up"?"bg-brand-green/80 text-white":"bg-zinc-800/50 text-brand-green"} disabled:opacity-40`,children:[c.jsx(pg,{size:14})," ",c.jsxs("span",{children:[mt.up.toFixed(0),"%"]})]}),c.jsxs("button",{onClick:()=>{v("down"),y("all")},disabled:mt.down===0&&Se.length-$e.newAnimalIds.size>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="down"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"} disabled:opacity-40`,children:[c.jsx(hg,{size:14})," ",c.jsxs("span",{children:[mt.down.toFixed(0),"%"]})]}),c.jsxs("button",{onClick:()=>{v("single"),y("all")},disabled:mt.new===0&&Se.length>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="single"?"bg-brand-blue/80 text-white":"bg-zinc-800/50 text-brand-blue"} disabled:opacity-40`,children:[c.jsx(Vv,{size:14})," ",c.jsxs("span",{children:[mt.new.toFixed(0),"%"]})]})]}),c.jsx("button",{onClick:ct,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:c.jsx(_D,{size:16})})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("button",{onClick:()=>C("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),c.jsx("button",{onClick:()=>C("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="first"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),c.jsx("button",{onClick:()=>C("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="second"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),c.jsx("button",{onClick:()=>C("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="third"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),c.jsx("button",{onClick:()=>C("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="drying"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"}`,children:"A Secado"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:()=>y(st=>st==="new"?"all":"new"),disabled:$e.newAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${g==="new"?"bg-brand-green text-white shadow-lg shadow-green-500/20":"bg-zinc-800/50 text-zinc-300"} ${$e.newAnimalIds.size>0&&g!=="new"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(Iq,{size:14})," ",c.jsxs("span",{children:["Ingresos (",$e.newAnimalIds.size,")"]})]}),c.jsxs("button",{onClick:()=>H(!0),disabled:$e.exitingAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all bg-zinc-800/50 text-zinc-300 ${$e.exitingAnimalIds.size>0&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(Tq,{size:14})," ",c.jsxs("span",{children:["Salidas (",$e.exitingAnimalIds.size,")"]})]})]})]})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx(Hu,{className:"absolute left-7 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),c.jsx("input",{type:"search",placeholder:`Buscar ID o Nombre en ${Dt.length} animales...`,value:ht,onChange:st=>vt(st.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]})]}),c.jsx("div",{className:"pt-2 space-y-0 pb-4",children:Dt.length>0?c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border overflow-hidden mx-4",children:Dt.map(st=>c.jsx(cN,{animal:st,onSelectAnimal:t,onOpenActions:Xt,isNewEntry:$e.newAnimalIds.has(st.id)},st.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:ht?"No se encontraron resultados":"No hay animales con los filtros."})})})]}),c.jsx(An,{isOpen:E==="media",onClose:()=>j(null),title:"Anlisis de Produccin Media",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsxs("p",{children:["La **Media de Produccin** del da es **",ge.toFixed(2)," Kg**. Representa el promedio simple."]}),c.jsxs("p",{children:["La **Media Ponderada** (",ae.toFixed(2)," Kg) premia la **persistencia lechera** (ms valor a produccin tarda)."]})]})}),c.jsx(An,{isOpen:E==="total",onClose:()=>j(null),title:"Produccin Total del Da",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-zinc-400",children:["La produccin total registrada el ",he?new Date(he+"T00:00:00").toLocaleDateString("es-VE"):"-"," fue:"]}),c.jsxs("h2",{className:"text-5xl font-bold text-brand-orange my-2",children:[$e.kpi.total.toFixed(2)," Kg"]})]})}),c.jsx(An,{isOpen:E==="stdDev",onClose:()=>j(null),title:"Anlisis de Consistencia ()",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsxs("p",{children:["La Desviacin Estndar () de **",xe.toFixed(2),"** mide la dispersin. Un valor **bajo** es ideal (rebao consistente)."]}),c.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[c.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebao dentro de 1"}),c.jsxs("p",{className:"text-4xl font-bold text-brand-orange my-1",children:[$e.consistency.percentage.toFixed(0),"%"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Cercana al promedio de ",c.jsxs("span",{className:"font-bold text-white",children:[ge.toFixed(2)," Kg"]}),"."]})]})]})}),c.jsx(An,{isOpen:E==="rango",onClose:()=>j(null),title:"Extremos de Produccin del Da",children:c.jsxs("div",{className:"space-y-4",children:[$e.topPerformer&&c.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold text-brand-green mb-2",children:"Produccin Mxima"}),c.jsx(cN,{animal:$e.topPerformer,onSelectAnimal:()=>{j(null),t($e.topPerformer.id)},onOpenActions:Xt,isNewEntry:$e.newAnimalIds.has($e.topPerformer.id)})]}),$e.bottomPerformer&&c.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold text-brand-red mb-2",children:"Produccin Mnima"}),c.jsx(cN,{animal:$e.bottomPerformer,onSelectAnimal:()=>{j(null),t($e.bottomPerformer.id)},onOpenActions:Xt,isNewEntry:$e.newAnimalIds.has($e.bottomPerformer.id)})]})]})}),c.jsx(An,{isOpen:N,onClose:()=>D(!1),title:"Qu es el Anlisis del Ordeo?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Clasifica animales (Pobre, Promedio, Sobresaliente) usando la media () y desviacin estndar ()."}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-white mb-1",children:["Ponderado a DEL (",c.jsx(Vv,{size:12,className:"inline-block mb-0.5"}),")"]}),c.jsx("p",{className:"text-sm",children:"Activa este clculo para dar ms valor a la produccin temprana (persistencia)."})]})]})}),c.jsx(An,{isOpen:T,onClose:()=>O(!1),title:"Qu es el Score Ponderado?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Ajusta la produccin para premiar la **persistencia lechera**."}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Frmula"}),c.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center text-orange-300",children:"Score = Kg  (1 + ((DEL - 50) / (DEL + 50)))"})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"2 Kg en da **200** valen ms que 2 Kg en da 40."})]})}),_&&c.jsx(An,{isOpen:!!_,onClose:()=>B(null),title:`Tendencia de ${Ar(_)}`,children:c.jsx(GVe,{animalId:_.id})}),c.jsx(KVe,{isOpen:L,onClose:()=>H(!1),animalIds:Array.from($e.exitingAnimalIds),onSelectAnimal:t}),c.jsx(Vu,{isOpen:q,onClose:()=>Y(!1),title:`Acciones para ${Ar(ee)}`,actions:Zt(ee)}),E==="milkWeighing"&&ee&&c.jsx(VVe,{animal:ee,onCancel:Ut,onSaveSuccess:Ut}),he&&c.jsx(WVe,{isOpen:te,onClose:()=>le(!1),onConfirm:rn,dateToDelete:he})]})}const XVe=t=>P.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,a)=>{const s=a.date.substring(0,7);return i[s]||(i[s]=[]),i[s].push(a),i},{});let r=Object.entries(n).map(([i,a])=>{const s=new Date(`${i}-02T12:00:00Z`),o=s.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=s.getUTCFullYear(),u=a.length,A=a.reduce((d,f)=>d+f.kg,0);return{periodLabel:`${o.charAt(0).toUpperCase()+o.slice(1)} ${l}`,periodId:i,totalKg:A,averageKg:u>0?A/u:0,weighingCount:u,animalCount:new Set(a.map(d=>d.goatId)).size,weighingEvents:new Set(a.map(d=>d.date)).size,weighings:a,newAnimalsWeighings:[]}}).sort((i,a)=>a.periodId.localeCompare(i.periodId));return r=r.map((i,a,s)=>{const o=s[a+1];if(o){const l=o.averageKg?(i.averageKg-o.averageKg)/o.averageKg*100:void 0,u=o.animalCount?(i.animalCount-o.animalCount)/o.animalCount*100:void 0,A=new Set(o.weighings.map(m=>m.goatId)),d=new Set(i.weighings.map(m=>m.goatId)),f=new Set([...d].filter(m=>!A.has(m))),h=i.weighings.filter(m=>f.has(m.goatId)),p=[...A].filter(m=>!d.has(m)).length;return{...i,avgKgChange:l,animalCountChange:u,newAnimalsWeighings:h,previousAnimalCount:o.animalCount,exitingAnimalCount:p}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),t2=({value:t})=>{if(t===void 0||isNaN(t)||t===0)return c.jsx("div",{className:"w-16 h-5"});const e=t>0,n=e?"text-brand-green":"text-brand-red",r=e?pg:hg;return c.jsxs("span",{className:`flex items-center text-sm font-bold ${n} whitespace-nowrap`,children:[c.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},JVe=({stats:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[c.jsxs("div",{className:"min-w-0 mr-2",children:[c.jsx("p",{className:"font-bold text-lg text-white truncate",children:t.periodLabel}),c.jsxs("p",{className:"text-sm text-zinc-400 truncate",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),c.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[c.jsx(t2,{value:t.avgKgChange}),c.jsx(ta,{className:"text-zinc-600 flex-shrink-0"})]})]}),Qte=({weighing:t,onSelectAnimal:e})=>{const n=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-orange-400/50",children:[c.jsxs("div",{className:"min-w-0 pr-3 flex items-center gap-3",children:[" ",c.jsxs("div",{children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),n&&c.jsx("p",{className:"text-xs font-normal text-zinc-400 truncate",children:n})]}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white whitespace-nowrap ${t.classification==="Pobre"?"bg-brand-red/80":t.classification==="Sobresaliente"?"bg-brand-green/80":"bg-gray-500/80"}`,children:t.classification})]}),c.jsxs("p",{className:"font-semibold text-lg text-white flex-shrink-0",children:[" ",t.latestWeighing.toFixed(2),c.jsx("span",{className:"text-base font-medium text-zinc-400 ml-1",children:"Kg"})," "]})]})},Hte=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})},ZVe=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:a,weighings:s,parturitions:o}=Yt(),[l,u]=P.useState("all"),A=mS((n==null?void 0:n.newAnimalsWeighings)||[],a,s,o,!1),d=P.useMemo(()=>l==="all"?A.classifiedAnimals:A.classifiedAnimals.filter(h=>h.classification===l),[A.classifiedAnimals,l]),f=h=>{var p;if((p=h==null?void 0:h.payload)!=null&&p.name){const m=h.payload.name;u(v=>v===m?"all":m)}};return!t||!n?null:c.jsx(An,{isOpen:t,onClose:e,title:`Anlisis Nuevos Ingresos - ${r}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(s0,{size:14}),"Promedio"]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[A.mean.toFixed(2),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(zu,{size:14}),"Animales"]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:A.classifiedAnimals.length})]})]}),c.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:A.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:f,cursor:"pointer",children:[A.distribution.map(h=>c.jsx(gc,{fill:h.fill,className:`${l!=="all"&&l!==h.name?"opacity-30":"opacity-100"}`},h.name)),c.jsx($o,{dataKey:"count",content:c.jsx(Hte,{total:A.classifiedAnimals.length})})]})]})})})}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:d.sort((h,p)=>p.latestWeighing-h.latestWeighing).map(h=>c.jsx(Qte,{weighing:h,onSelectAnimal:i},h.weighingId||h.id))})]})})};function e$e({navigateToRebano:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=Yt(),[a,s]=P.useState(null),[o,l]=P.useState("all"),[u,A]=P.useState(!1),[d,f]=P.useState(null),{monthlyData:h}=XVe(n),p=mS((a==null?void 0:a.weighings)||[],e,n,r,!1),m=P.useMemo(()=>o==="all"?p.classifiedAnimals:p.classifiedAnimals.filter(g=>g.classification===o),[p.classifiedAnimals,o]),v=g=>{var y;if((y=g==null?void 0:g.payload)!=null&&y.name){const x=g.payload.name;l(C=>C===x?"all":x)}};return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in px-4",children:[c.jsxs("header",{className:"flex items-center pt-4 pb-4",children:[c.jsx("button",{onClick:()=>{s(null),l("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsx("div",{className:"text-center flex-grow",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:a.periodLabel})}),c.jsx("div",{className:"w-8"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(s0,{size:14}),"Promedio / Animal"]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.averageKg.toFixed(2),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),c.jsx(t2,{value:a.avgKgChange})]})]}),c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(So,{size:14}),"Eventos de Pesaje"]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:a.weighingEvents})]}),c.jsxs("button",{onClick:()=>A(!0),className:"bg-brand-glass p-3 rounded-2xl text-left hover:border-brand-orange transition-colors border border-brand-border",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(zu,{size:14}),"Animales Ordeados"]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("p",{className:"text-2xl font-bold text-white",children:a.animalCount}),c.jsx(t2,{value:a.animalCountChange})]})]}),c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(ba,{size:14}),"Total Registrado"]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.totalKg.toFixed(0),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[c.jsx(ox,{className:"text-brand-orange",size:18}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribucin del Perodo"})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:p.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:v,cursor:"pointer",children:[p.distribution.map(g=>c.jsx(gc,{fill:g.fill,className:`${o!=="all"&&o!==g.name?"opacity-30":"opacity-100"} transition-opacity`},g.name)),c.jsx($o,{dataKey:"count",content:c.jsx(Hte,{total:p.classifiedAnimals.length})})]})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",p.mean.toFixed(2)," Kg"]})," | ",c.jsxs("span",{children:[" = ",p.stdDev.toFixed(2)]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Perodo (",m.length,")"]}),m.length>0?m.sort((g,y)=>y.latestWeighing-g.latestWeighing).map(g=>c.jsx(Qte,{weighing:g,onSelectAnimal:y=>t({name:"lactation-profile",animalId:y})},g.weighingId||g.id)):c.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-lg",children:c.jsx("p",{className:"text-zinc-500",children:"No hay pesajes que coincidan con el filtro."})})]})]}),c.jsx(An,{isOpen:u,onClose:()=>A(!1),title:"Variacin de Animales en Ordeo",children:c.jsxs("div",{className:"text-zinc-300 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-white mb-1",children:[a.periodLabel," vs Mes Anterior"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenas ",c.jsx("span",{className:"font-bold text-white",children:a.previousAnimalCount})," animales en ordeo. Este mes tienes ",c.jsx("span",{className:"font-bold text-white",children:a.animalCount}),"."]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("p",{children:["El cambio neto es de ",c.jsx("span",{className:"font-bold text-white",children:a.animalCount-(a.previousAnimalCount||0)})," animales"]}),c.jsx(t2,{value:a.animalCountChange})]})]}),c.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[a.exitingAnimalCount>0&&c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeo: ",c.jsx("span",{className:"font-bold text-brand-red",children:a.exitingAnimalCount})," animales."]}),a.newAnimalsWeighings.length>0&&c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",c.jsx("span",{className:"font-bold text-brand-green",children:new Set(a.newAnimalsWeighings.map(g=>g.goatId)).size})," animales."]}),a.newAnimalsWeighings.length>0&&c.jsxs("button",{onClick:()=>{f(a),A(!1)},className:"w-full mt-4 bg-brand-orange text-white font-semibold py-2 rounded-lg hover:bg-orange-600 transition-colors",children:["Analizar los ",new Set(a.newAnimalsWeighings.map(g=>g.goatId)).size," Nuevos Ingresos"]})]})]})}),c.jsx(ZVe,{isOpen:!!d,onClose:()=>f(null),data:d,periodLabel:a.periodLabel,onSelectAnimal:g=>t({name:"lactation-profile",animalId:g})})]}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4 pt-4",children:[c.jsx("header",{className:"text-center pb-4",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Historial de Produccin"})}),h.length>0?c.jsx("div",{className:"space-y-2",children:h.map(g=>c.jsx(JVe,{stats:g,onClick:()=>s(g)},g.periodId))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:"No hay datos histricos de pesajes registrados."})})]})}const t$e=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=P.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const l=new Date(a);return l.setDate(a.getDate()-o),l})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return c.jsxs("div",{className:"px-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(So,{size:16}),"Fecha del Pesaje"]}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[c.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[c.jsx(So,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return c.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-orange text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[c.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),c.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),c.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},n$e=({entry:t,onDelete:e,onRegister:n})=>{const r=!t.isRecognized;return c.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0 pr-2",children:[r&&c.jsx(mr,{className:"text-amber-400 flex-shrink-0",size:18}),c.jsx("div",{className:"min-w-0",children:c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.animalId.toUpperCase()})})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[r?c.jsx("button",{onClick:()=>n(t.animalId),className:"text-xs font-semibold bg-brand-orange text-white px-2 py-1 rounded-md hover:bg-orange-600",children:"Registrar Parto"}):c.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),c.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Go,{size:16})})]})]})},r$e=({onSaveSuccess:t})=>{const{animals:e,weighings:n,fetchData:r,addWeighing:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState([]),[d,f]=P.useState(null),[h,p]=P.useState(()=>{const H=new Date;return H.setHours(0,0,0,0),H}),[m,v]=P.useState(!1),[g,y]=P.useState({isOpen:!1,motherId:""}),[x,C]=P.useState(!1),E=P.useRef(null),j=P.useRef(null),_=()=>{var te;if(f(null),!a||!o)return;const H=a.toUpperCase().trim(),q=parseFloat(o),Y=h.toISOString().split("T")[0];if(q>100){f({type:"error",text:`El valor de ${q} Kg es irracional. Verifique el dato.`});return}if(q>8.5){f({type:"error",text:`Produccin de ${q} Kg es muy alta. Lmite: 8.5 Kg.`});return}if(u.some(le=>le.animalId===H)){f({type:"error",text:`${H} ya tiene un pesaje en esta sesin.`});return}if(n.some(le=>le.goatId===H&&le.date===Y)){f({type:"error",text:`${H} ya tiene un pesaje guardado para esta fecha.`});return}const ee=e.find(le=>le.id===H);if(ee&&ee.isReference){f({type:"error",text:`${H} es un animal de Referencia. No se pueden aadir pesajes.`});return}const K={tempId:Date.now(),animalId:H,name:ee==null?void 0:ee.name,kg:q,date:Y,isRecognized:!!ee};A(le=>[K,...le]),s(""),l(""),(te=E.current)==null||te.focus()},B=async()=>{f(null),C(!0);const{currentUser:H}=dg;if(!H){f({type:"error",text:"Error de autenticacin."}),C(!1);return}const q=u.filter(Y=>!Y.isRecognized).length;if(q>0){f({type:"error",text:`No se puede guardar. Tienes ${q} animal(es) sin registrar.`}),C(!1);return}if(u.length===0){f({type:"error",text:"No hay pesajes para guardar."}),C(!1);return}try{const Y=u.map(ee=>{const K={goatId:ee.animalId,kg:ee.kg,date:ee.date};return i(K)});await Promise.all(Y),f({type:"success",text:`${u.length} pesajes guardados con xito.`}),A([]),setTimeout(()=>{t(h.toISOString().split("T")[0])},1500)}catch(Y){f({type:"error",text:"Ocurri un error al guardar localmente."}),console.error("Error en escritura local de pesajes:",Y),C(!1)}},N=H=>{var q;H.key==="Enter"&&a&&(H.preventDefault(),(q=j.current)==null||q.focus())},D=H=>{H.key==="Enter"&&o&&(H.preventDefault(),_())},T=H=>{A(q=>q.filter(Y=>Y.tempId!==H))},O=H=>{H&&(H.setHours(0,0,0,0),p(H)),v(!1)},L=()=>{r(),A(H=>H.map(q=>q.animalId===g.motherId?{...q,isRecognized:!0}:q)),y({isOpen:!1,motherId:""})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[c.jsxs("div",{className:"text-center px-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rpida de Leche"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Sesin de Ordeo"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(t$e,{selectedDate:h,onDateChange:p,onOpenCalendar:()=>v(!0)}),c.jsxs("div",{className:"flex items-center gap-2 px-4",children:[c.jsx("input",{ref:E,type:"text",value:a,onChange:H=>s(H.target.value),onKeyDown:N,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),c.jsx("input",{ref:j,type:"number",step:"0.01",value:o,onChange:H=>l(H.target.value),onKeyDown:D,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),c.jsx("button",{onClick:_,disabled:!a||!o||x,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:c.jsx(Bl,{size:24})})]})]})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[u.length===0&&c.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes aadidos aparecern aqu."}),u.map(H=>c.jsx(n$e,{entry:H,onDelete:T,onRegister:q=>y({isOpen:!0,motherId:q})},H.tempId))]}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[d&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${d.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",d.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18})," ",c.jsx("span",{children:d.text})," "]}),c.jsxs("button",{onClick:B,disabled:x||u.length===0||u.some(H=>!H.isRecognized),className:"w-full flex items-center justify-center gap-2 bg-brand-orange/20 border border-brand-orange text-brand-orange hover:bg-brand-orange/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[x?c.jsx(eu,{size:24,className:"animate-spin"}):c.jsx(o0,{size:20}),x?"Guardando...":`Guardar ${u.length>0?`(${u.length})`:""} Pesajes`]})]})]}),c.jsx(An,{isOpen:m,onClose:()=>v(!1),title:"Seleccionar Fecha",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(vp,{mode:"single",selected:h,onSelect:O})})}),c.jsx(yp,{isOpen:g.isOpen,onClose:L,motherId:g.motherId})]})};function i$e({onNavigate:t,onSaveSuccess:e}){const[n,r]=P.useState("options");return n==="rapid"?c.jsx(r$e,{onSaveSuccess:e}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white text-center",children:"Aadir Datos de Leche"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(lx,{className:"w-12 h-12 mb-2 text-brand-orange"}),c.jsx("span",{className:"text-lg font-semibold",children:"Carga Rpida"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),c.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Oq,{className:"w-12 h-12 mb-2 text-brand-blue"}),c.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]})]})]})}const a$e=({animal:t,parturition:e,onSelectAnimal:n})=>c.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),t.name&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:t.name.toUpperCase().trim()}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"})}`,e.status==="seca"&&"Lactancia finalizada"]})]}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5 flex-shrink-0"})]});function s$e({navigateToRebano:t}){const{animals:e,parturitions:n,isLoading:r}=Yt(),[i,a]=P.useState("drying"),s=P.useMemo(()=>{const l=d=>e.find(f=>f.id===d),u=n.filter(d=>d.status==="en-secado").sort((d,f)=>new Date(f.dryingStartDate).getTime()-new Date(d.dryingStartDate).getTime()).map(d=>({animal:l(d.goatId),parturition:d})).filter(d=>d.animal&&!d.animal.isReference),A=n.filter(d=>d.status==="seca").sort((d,f)=>new Date(f.dryingStartDate).getTime()-new Date(d.dryingStartDate).getTime()).map(d=>({animal:l(d.goatId),parturition:d})).filter(d=>d.animal&&!d.animal.isReference);return{drying:u,dry:A}},[e,n]),o=s[i]||[];return r?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4",children:[c.jsxs("header",{className:"text-center pt-4 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestin de Secado"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Animales por Estado de Lactancia"})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>a("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),c.jsxs("button",{onClick:()=>a("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),c.jsx("div",{className:"space-y-4",children:o.length>0?o.map(({animal:l,parturition:u})=>c.jsx(a$e,{animal:l,parturition:u,onSelectAnimal:A=>t({name:"lactation-profile",animalId:A})},u.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function o$e({initialPage:t,onPageStateChange:e,navigateToRebano:n,onSwitchModule:r}){const{syncStatus:i}=Yt(),[a,s]=P.useState(t||{name:"dashboard"}),[o,l]=P.useState([]);P.useEffect(()=>{e(a)},[a,e]),P.useEffect(()=>{s(t&&typeof t=="object"&&"name"in t?t:{name:"dashboard"})},[t]);const u=[{id:"dashboard",label:"Dashboard",icon:mq},{id:"analysis",label:"Anlisis",icon:Nq},{id:"history",label:"Historial",icon:vq},{id:"add-data",label:"Aadir",icon:Bl},{id:"drying",label:"Secado",icon:cp}],A=m=>{l(v=>[...v,a]),s(m)},d=()=>{const m=o.pop();m?(s(m),l([...o])):a.name!=="dashboard"?s({name:"dashboard"}):r("rebano")},f=m=>{l([]),s({name:m})},h=m=>{n(m,"lactokeeper")},p=()=>{switch(a.name){case"dashboard":return c.jsx(yH,{onNavigateToAnalysis:()=>A({name:"analysis"})});case"analysis":return c.jsx(YVe,{onSelectAnimal:m=>A({name:"lactation-profile",animalId:m})});case"history":return c.jsx(e$e,{navigateToRebano:h});case"add-data":return c.jsx(i$e,{onNavigate:(m,v)=>h({name:m,...v}),onSaveSuccess:()=>A({name:"analysis"})});case"drying":return c.jsx(s$e,{navigateToRebano:h});case"lactation-profile":return c.jsx(Ute,{animalId:a.animalId,onBack:d,navigateTo:h});default:return c.jsx(yH,{onNavigateToAnalysis:()=>A({name:"analysis"})})}};return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col bg-brand-dark",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-brand-dark/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:d,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xpe,{className:"text-brand-orange",size:28}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"LactoKeeper"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:i})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:p()}),c.jsx(jx,{onSwitchModule:r}),c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around z-20 h-16",children:u.map(m=>c.jsxs("button",{onClick:()=>f(m.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${a.name===m.id?"text-brand-orange":"text-gray-400 hover:text-brand-orange"}`,children:[c.jsx(m.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:m.label})]},m.id))})]})}const l$e=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=P.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const l=new Date(a);return l.setDate(a.getDate()-o),l})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return c.jsxs("div",{className:"px-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(So,{size:16}),"Fecha del Pesaje"]}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[c.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[c.jsx(So,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return c.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[c.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),c.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),c.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},c$e=({entry:t,onDelete:e})=>{const n=!t.isRecognized,r=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${n?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0 pr-2",children:[n&&c.jsx(mr,{className:"text-amber-400 flex-shrink-0",size:18}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.animalId.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:r})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[c.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),c.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Go,{size:16})})]})]})},u$e=({onBack:t,onSaveSuccess:e})=>{const{animals:n,addBodyWeighing:r}=Yt(),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState([]),[A,d]=P.useState(null),[f,h]=P.useState(()=>{const D=new Date;return D.setHours(0,0,0,0),D}),[p,m]=P.useState(!1),[v,g]=P.useState(!1),y=P.useRef(null),x=P.useRef(null),C=()=>{var H,q,Y,ee,K;if(d(null),!i||!s)return;const D=i.toUpperCase().trim(),T=parseFloat(s);if(isNaN(T)||T<=0){d({type:"error",text:"Peso invlido."}),(H=x.current)==null||H.focus();return}if(T>150){d({type:"error",text:`El peso de ${T} Kg parece irracional. Verifique.`}),(q=x.current)==null||q.focus();return}if(l.some(te=>te.animalId===D)){d({type:"error",text:`${D} ya tiene un pesaje en esta sesin.`}),a(""),(Y=y.current)==null||Y.focus();return}const O=n.find(te=>te.id===D);if(O&&O.isReference){d({type:"error",text:`${D} es Referencia. No se pueden aadir pesajes.`}),a(""),(ee=y.current)==null||ee.focus();return}const L={tempId:Date.now(),animalId:D,name:O==null?void 0:O.name,kg:T,date:f.toISOString().split("T")[0],isRecognized:!!O};u(te=>[L,...te]),a(""),o(""),(K=y.current)==null||K.focus()},E=async()=>{d(null),g(!0);const{currentUser:D}=dg;if(!D){d({type:"error",text:"Error de autenticacin."}),g(!1);return}const T=l.filter(O=>!O.isRecognized).length;if(T>0){d({type:"error",text:`No se puede guardar. Tienes ${T} animal(es) sin registrar en el rebao.`}),g(!1);return}if(l.length===0){d({type:"error",text:"No hay pesajes para guardar."}),g(!1);return}try{const O=l.map(L=>r({animalId:L.animalId,kg:L.kg,date:L.date}));await Promise.all(O),d({type:"success",text:`${l.length} pesajes guardados con xito.`}),u([]),setTimeout(()=>e(f.toISOString().split("T")[0]),1500)}catch(O){d({type:"error",text:"Ocurri un error al guardar los datos."}),console.error("Error en escritura de pesajes corporales:",O),g(!1)}},j=D=>{var T;D.key==="Enter"&&i&&(D.preventDefault(),(T=x.current)==null||T.focus())},_=D=>{D.key==="Enter"&&s&&(D.preventDefault(),C())},B=D=>{u(T=>T.filter(O=>O.tempId!==D))},N=D=>{D&&(D.setHours(0,0,0,0),h(D)),m(!1)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[c.jsxs("header",{className:"text-center px-4 flex items-center",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rpida de Peso"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Sesin de Pesaje Corporal"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(l$e,{selectedDate:f,onDateChange:h,onOpenCalendar:()=>m(!0)}),c.jsxs("div",{className:"flex items-center gap-2 px-4",children:[c.jsx("input",{ref:y,type:"text",value:i,onChange:D=>a(D.target.value),onKeyDown:j,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),c.jsx("input",{ref:x,type:"number",step:"0.1",value:s,onChange:D=>o(D.target.value),onKeyDown:_,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),c.jsx("button",{onClick:C,disabled:!i||!s||v,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:c.jsx(Bl,{size:24})})]})]})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[l.length===0&&c.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes aadidos aparecern aqu."}),l.map(D=>c.jsx(c$e,{entry:D,onDelete:B},D.tempId))]}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[A&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${A.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",A.type==="success"?c.jsx(As,{size:18}):c.jsx(mr,{size:18})," ",c.jsx("span",{children:A.text})," "]}),c.jsxs("button",{onClick:E,disabled:v||l.length===0||l.some(D=>!D.isRecognized),className:"w-full flex items-center justify-center gap-2 bg-brand-green/20 border border-brand-green text-brand-green hover:bg-brand-green/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[v?c.jsx(eu,{size:20,className:"animate-spin"}):c.jsx(o0,{size:20}),v?"Guardando...":`Guardar ${l.length>0?`(${l.length})`:""} Pesajes`]})]})]}),c.jsx(An,{isOpen:p,onClose:()=>m(!1),title:"Seleccionar Fecha",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(vp,{mode:"single",selected:f,onSelect:N})})})]})};function A$e({onNavigate:t,onSaveSuccess:e}){const[n,r]=P.useState("options");return n==="rapid"?c.jsx(u$e,{onBack:()=>r("options"),onSaveSuccess:e}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Aadir Pesaje Corporal"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Carga de Datos de Crecimiento"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-green text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(lx,{className:"w-12 h-12 mb-2 text-brand-green"}),c.jsx("span",{className:"text-lg font-semibold",children:"Carga Rpida"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),c.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Oq,{className:"w-12 h-12 mb-2 text-brand-blue"}),c.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]})]})]})}const d$e=({gdp:t,averageGdp:e})=>{if(t===null||!e||e===0)return null;const n=t/e;return n>1.1?c.jsx(ba,{size:18,className:"text-brand-green"}):n<.9?c.jsx(ba,{size:18,className:"text-brand-red rotate-180"}):c.jsx(jD,{size:18,className:"text-zinc-500"})},f$e=({animal:t,onSelect:e,averageGdp:n})=>{const r={Sobresaliente:"text-brand-green",Promedio:"text-zinc-400",Pobre:"text-brand-red"},i=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-white text-base",children:[t.gdp?`${t.gdp.toFixed(0)}`:"--",c.jsx("span",{className:"text-sm text-zinc-400",children:" g/da"})]}),c.jsx("p",{className:`font-bold text-xs ${r[t.classification]}`,children:t.classification})]}),c.jsx(d$e,{gdp:t.gdp?t.gdp/1e3:null,averageGdp:n}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})]})]})};function bH({onSelectAnimal:t}){const{animals:e,bodyWeighings:n,parturitions:r}=Yt(),[i,a]=P.useState("all"),s=P.useMemo(()=>{const u=e.filter(D=>{if(D.status!=="Activo"||D.isReference||D.sireLotId)return!1;const T=Bf(D,r);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(T)});if(u.length===0)return{analyzedAnimals:[],distribution:[],averageGdp:0,gaussChartData:[],meanGdp:0,stdDev:0};let A=0,d=0;const f=u.map(D=>{const T=n.filter(ee=>ee.animalId===D.id),L=CO(D.birthWeight,T).overall??0,H=Yc(D.birthDate);L>0&&(A+=L,d++);const q=d>0?A/d:0,Y=L>0?zQe(L,q,H):0;return{...D,formattedAge:uu(D.birthDate),ageInDays:H,gdpKgDay:L,score:Y}}),h=d>0?A/d:0,p=h,m=f.filter(D=>D.score>0).map(D=>D.score),v=m.length>0?m.reduce((D,T)=>D+T,0)/m.length:0,g=m.length>0?Math.sqrt(m.reduce((D,T)=>D+Math.pow(T-v,2),0)/m.length):0,y=v-.4*g,x=v+.4*g,E=f.sort((D,T)=>T.score-D.score).map(D=>{let T="Promedio";return D.score>0&&g>1&&(D.score<y?T="Pobre":D.score>x&&(T="Sobresaliente")),{...D,gdp:D.gdpKgDay*1e3,ageInDays:D.ageInDays,classification:T,formattedAge:D.formattedAge}}),j=[{name:"Pobre",count:E.filter(D=>D.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:E.filter(D=>D.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:E.filter(D=>D.classification==="Sobresaliente").length,fill:"#34C759"}],_=E.map(D=>D.gdp).filter(D=>D>0),B=[];let N=0;if(_.length>0){const D=Math.min(..._),T=Math.max(..._),O=Math.max(10,Math.ceil((T-D)/15));for(let H=Math.floor(D/O)*O;H<T;H+=O){const q=H,Y=H+O,ee=E.filter(K=>K.gdp>=q&&K.gdp<Y).length;ee>0&&B.push({name:`${q}-${Y}`,count:ee})}const L=p*1e3;N=_.length>0?Math.sqrt(_.reduce((H,q)=>H+Math.pow(q-L,2),0)/_.length):0}return{analyzedAnimals:E,distribution:j,averageGdp:h,gaussChartData:B,meanGdp:p*1e3,stdDev:N}},[e,n,r]),o=be.useMemo(()=>i==="all"?s.analyzedAnimals:s.analyzedAnimals.filter(u=>u.classification===i),[s.analyzedAnimals,i]),l=u=>{var A;if((A=u==null?void 0:u.payload)!=null&&A.name){const d=u.payload.name;a(f=>f===d?"all":d)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-4",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de GDP"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(ba,{size:14}),c.jsx("span",{children:"GDP Media"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.meanGdp.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(PD,{size:14}),c.jsx("span",{children:"Desv. Estndar"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.stdDev.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribucin del Crecimiento"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:s.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",onClick:l,cursor:"pointer",children:s.distribution.map(u=>c.jsx(gc,{fill:u.fill,className:`${i!=="all"&&i!==u.name?"opacity-30":"opacity-100"} transition-opacity`},u.name))})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/da)"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:s.gaussChartData,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},interval:0,angle:-30,textAnchor:"end",height:40}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)",name:"N Animales"})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",s.meanGdp.toFixed(0)," g/da"]})," | ",c.jsxs("span",{children:[" = ",s.stdDev.toFixed(0)," g/da"]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[i==="all"?"Animales en Crecimiento":`Animales (${i})`," (",o.length,")"]}),o.length>0?o.map(u=>c.jsx(f$e,{animal:u,onSelect:t,averageGdp:s.averageGdp},u.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}const h$e=()=>{const{animals:t,bodyWeighings:e,parturitions:n}=Yt();return P.useMemo(()=>{const a=t.filter(x=>{if(x.status!=="Activo"||x.isReference||x.sireLotId)return!1;const C=Bf(x,n);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(C)}).map(x=>{const C=e.filter(j=>j.animalId===x.id),E=CO(x.birthWeight,C);return{...x,gdp:E.overall,ageInDays:Yc(x.birthDate)}}).filter(x=>x.gdp!==null&&x.gdp>0);if(a.length<2)return{classifiedAnimals:[],distribution:[],gaussChartData:[],meanGdp:0,stdDev:0};const o=a.reduce((x,C)=>x+C.gdp,0)/a.length,l=Math.sqrt(a.reduce((x,C)=>x+Math.pow(C.gdp-o,2),0)/a.length),u=o-.4*l,A=o+.4*l,d=a.map(x=>{let C="Promedio";return l>.005&&(x.gdp<u?C="Pobre":x.gdp>A&&(C="Sobresaliente")),{...x,classification:C,gdp:x.gdp*1e3}}),f=[{name:"Pobre",count:d.filter(x=>x.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(x=>x.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(x=>x.classification==="Sobresaliente").length,fill:"#34C759"}],h=d.map(x=>x.gdp),p=Math.min(...h),m=Math.max(...h),v=10,g=(m-p)/v,y=Array.from({length:v},(x,C)=>{const E=p+C*g,j=E+g,_=d.filter(B=>B.gdp>=E&&B.gdp<j).length;return{name:`${E.toFixed(0)}`,count:_}});return{classifiedAnimals:d.sort((x,C)=>C.gdp-x.gdp),distribution:f,gaussChartData:y,meanGdp:o,stdDev:l}},[t,e,n])},p$e=({animal:t,onSelect:e})=>{const n={Sobresaliente:"bg-brand-green/80",Promedio:"bg-gray-500/80",Pobre:"bg-brand-red/80"},r=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-white text-base",children:[t.gdp?`${t.gdp.toFixed(0)}`:"--",c.jsx("span",{className:"text-sm text-zinc-400",children:" g/da"})]}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${n[t.classification]}`,children:t.classification})]}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})]})]})},m$e=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})};function g$e({onSelectAnimal:t}){const{classifiedAnimals:e,distribution:n,gaussChartData:r,meanGdp:i,stdDev:a}=h$e(),s=P.useMemo(()=>e.map(p=>({...p,formattedAge:uu(p.birthDate)})),[e]),{searchTerm:o,setSearchTerm:l,filteredItems:u}=$O(s,["id","name"]),[A,d]=P.useState("all"),f=be.useMemo(()=>{let p=o?u:s;return A==="all"?p:p.filter(m=>m.classification===A)},[s,A,o,u]),h=p=>{var m;if((m=p==null?void 0:p.payload)!=null&&m.name){const v=p.payload.name;d(g=>g===v?"all":v)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-4",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de GDP"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx(Hu,{className:"absolute left-7 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),c.jsx("input",{type:"search",placeholder:`Buscar ID o Nombre en ${f.length} animales...`,value:o,onChange:p=>l(p.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(ba,{size:14}),c.jsx("span",{children:"GDP Media"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[i.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(PD,{size:14}),c.jsx("span",{children:"Desv. Estndar"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribucin del Crecimiento"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:n,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:h,cursor:"pointer",children:[n.map(p=>c.jsx(gc,{fill:p.fill,className:`${A!=="all"&&A!==p.name?"opacity-30":"opacity-100"} transition-opacity`},p.name)),c.jsx($o,{dataKey:"count",content:m$e})]})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/da)"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:r,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(hi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},interval:0,angle:-30,textAnchor:"end",height:40}),c.jsx(Bi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Sr,{content:c.jsx(Wu,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)",name:"N Animales"})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",i.toFixed(0)," g/da"]})," | ",c.jsxs("span",{children:[" = ",a.toFixed(0)," g/da"]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[A==="all"?"Animales en Crecimiento":`Animales (${A})`," (",f.length,")"]}),f.length>0?f.map(p=>c.jsx(p$e,{animal:p,onSelect:t},p.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}function v$e({navigateToRebano:t,onSwitchModule:e}){const{syncStatus:n}=Yt(),[r,i]=P.useState("dashboard"),a=[{id:"dashboard",label:"Dashboard",icon:ox},{id:"analysis",label:"Anlisis",icon:qpe},{id:"add-data",label:"Aadir",icon:Bl}],s=()=>{r!=="dashboard"?i("dashboard"):e("rebano")},o=()=>{switch(r){case"dashboard":return c.jsx(bH,{onSelectAnimal:l=>t({name:"growth-profile",animalId:l})});case"analysis":return c.jsx(g$e,{onSelectAnimal:l=>t({name:"growth-profile",animalId:l})});case"add-data":return c.jsx(A$e,{onNavigate:t,onSaveSuccess:()=>i("analysis")});default:return c.jsx(bH,{onSelectAnimal:l=>t({name:"growth-profile",animalId:l})})}};return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:s,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(XA,{className:"text-brand-green"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Kilos"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:n})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:o()}),c.jsx(jx,{onSwitchModule:e}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:a.map(l=>c.jsxs("button",{onClick:()=>i(l.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r===l.id?"text-brand-green":"text-gray-400 hover:text-brand-green"}`,children:[c.jsx(l.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:l.label})]},l.id))})]})}const y$e=["Desparasitantes","Antibiticos","Vacunas","Vitaminas","Modificadores Orgnicos","Pomadas Tpicas","Analgsicos","Hormonas","Antiinflamatorios","Otro"],GO=({onSave:t,onCancel:e,existingProduct:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState("Otro"),[u,A]=P.useState(""),[d,f]=P.useState("ml"),[h,p]=P.useState(""),[m,v]=P.useState("Inyectable"),[g,y]=P.useState("Intramuscular"),[x,C]=P.useState("per_kg"),[E,j]=P.useState(""),[_,B]=P.useState(""),[N,D]=P.useState(""),[T,O]=P.useState(null);P.useEffect(()=>{n&&(i(n.name),s(n.laboratory||""),l(n.category||"Otro"),A(String(n.presentationValue||"")),f(n.presentationUnit||"ml"),p(String(n.price||"")),v(n.applicationType),n.applicationRoute&&y(n.applicationRoute),C(n.dosageType||"per_kg"),j(String(n.dosageFixed||"")),B(String(n.dosagePerKg_ml||"")),D(String(n.dosagePerKg_kg||"")))},[n]);const L=async H=>{if(H.preventDefault(),O(null),!r.trim()){O("El nombre es obligatorio.");return}if(x==="fixed"&&!E){O("La dosis fija es obligatoria.");return}if(x==="per_kg"&&(!_||!N)){O("Ambos campos de dosificacin por Kg son obligatorios.");return}const q={name:r,applicationType:m,dosageType:x,category:o};a&&(q.laboratory=a),u&&(q.presentationValue=parseFloat(u)),q.presentationUnit=d,h&&(q.price=parseFloat(h)),m==="Inyectable"&&(q.applicationRoute=g),x==="fixed"&&(q.dosageFixed=parseFloat(E)),x==="per_kg"&&(q.dosagePerKg_ml=parseFloat(_),q.dosagePerKg_kg=parseFloat(N));try{await t(q)}catch(Y){O("No se pudo guardar el producto."),console.error(Y)}};return c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsx("input",{type:"text",value:r,onChange:H=>i(H.target.value),placeholder:"Nombre o Marca Comercial",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsxs("select",{value:o,onChange:H=>l(H.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccionar Categora..."}),y$e.map(H=>c.jsx("option",{value:H,children:H},H))]}),c.jsx("input",{type:"text",value:a,onChange:H=>s(H.target.value),placeholder:"Laboratorio (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:u,onChange:H=>A(H.target.value),placeholder:"Presentacin",className:"w-full bg-zinc-800 p-3 rounded-xl"}),c.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"ml",children:"ml"}),c.jsx("option",{value:"L",children:"L"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"$"}),c.jsx("input",{type:"number",step:"0.01",value:h,onChange:H=>p(H.target.value),placeholder:"Precio",className:"w-full bg-zinc-800 p-3 pl-7 rounded-xl"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Va de Administracin"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>v("Inyectable"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Inyectable"}),c.jsx("button",{type:"button",onClick:()=>v("Oral"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Oral"}),c.jsx(Zi.div,{layoutId:"app-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${m==="Oral"?"left-1/2":"left-1"}`})]})]}),m==="Inyectable"&&c.jsxs(Zi.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Ruta (Inyectable)"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>y("Intramuscular"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Intramuscular"}),c.jsx("button",{type:"button",onClick:()=>y("Subcutneo"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Subcutneo"}),c.jsx(Zi.div,{layoutId:"app-route-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${g==="Subcutneo"?"left-1/2":"left-1"}`})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Dosificacin"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>C("per_kg"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Por Kg PV"}),c.jsx("button",{type:"button",onClick:()=>C("fixed"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Dosis nica"}),c.jsx(Zi.div,{layoutId:"dosage-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${x==="fixed"?"left-1/2":"left-1"}`})]}),x==="per_kg"?c.jsxs("div",{className:"flex items-center justify-between gap-2 animate-fade-in",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",step:"0.1",value:_,onChange:H=>B(H.target.value),placeholder:"1",className:"w-full bg-zinc-800 p-3 pr-10 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"ml"})]}),c.jsx("span",{className:"text-zinc-500 text-sm",children:"por cada"}),c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",step:"1",value:N,onChange:H=>D(H.target.value),placeholder:"50",className:"w-full bg-zinc-800 p-3 pr-10 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"Kg"})]})]}):c.jsxs("div",{className:"relative animate-fade-in",children:[c.jsx("input",{type:"number",step:"0.1",value:E,onChange:H=>j(H.target.value),placeholder:"Ej: 2",className:"w-full bg-zinc-800 p-3 pr-24 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"ml (dosis total)"})]})]}),T&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:T})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-brand-green text-white font-bold rounded-lg",children:n?"Actualizar Producto":"Guardar Producto"})]})]})};function b$e(){const{products:t,addProduct:e,updateProduct:n,deleteProduct:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(void 0),[l,u]=P.useState(null),[A,d]=P.useState("Todos"),f=C=>{o(C),a(!0)},h=()=>{a(!1),o(void 0)},p=async C=>{s!=null&&s.id?await n(s.id,C):await e(C),h()},m=async()=>{l!=null&&l.id&&await r(l.id),u(null)},v=P.useMemo(()=>{const C=new Set(t.map(E=>E.category).filter(Boolean));return["Todos",...Array.from(C).sort()]},[t]),g=P.useMemo(()=>A==="Todos"?t:t.filter(C=>C.category===A),[t,A]),y=C=>{if(!C.price||!C.presentationValue||C.presentationValue===0)return"N/A";const E=C.presentationUnit==="L"?C.presentationValue*1e3:C.presentationValue;return E===0?"N/A":`$${(C.price/E).toFixed(3)} / ml`},x=C=>C.dosageType==="fixed"?`${C.dosageFixed} ml (fija)`:C.dosageType==="per_kg"?`${C.dosagePerKg_ml} ml / ${C.dosagePerKg_kg} Kg`:"No especificada";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Inventario de Productos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Gestin de Insumos Sanitarios"})]}),c.jsxs("button",{onClick:()=>f(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:opacity-90 text-black font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:18})," Aadir Nuevo Producto"]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-zinc-300",children:[c.jsx(Sq,{size:18})," Filtrar por Categora"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(C=>c.jsx("button",{onClick:()=>d(C),className:`px-3 py-1.5 text-sm font-semibold rounded-full transition-colors ${A===C?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:C},C))})]}),c.jsx("div",{className:"space-y-3 pt-4",children:g.length>0?g.map(C=>c.jsx("div",{className:"bg-dashboard-surface rounded-2xl p-4 border border-brand-border",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:C.name}),c.jsx("p",{className:"text-sm text-zinc-400",children:C.presentationValue?`${C.presentationValue} ${C.presentationUnit}`:"Sin presentacin"}),c.jsxs("div",{className:"mt-2 flex items-center flex-wrap gap-x-4 gap-y-1 text-xs",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(lp,{size:14})," ",x(C)]}),c.jsxs("span",{className:"flex items-center gap-1 font-semibold text-amber-400",children:[c.jsx(Ol,{size:14})," ",y(C)]})]})]}),c.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>f(C),className:"p-2 text-zinc-400 hover:text-brand-orange transition-colors",children:c.jsx(bf,{size:18})}),c.jsx("button",{onClick:()=>u(C),className:"p-2 text-zinc-400 hover:text-brand-red transition-colors",children:c.jsx(xc,{size:18})})]})]})},C.id)):c.jsxs("div",{className:"text-center py-10 bg-dashboard-surface rounded-2xl",children:[c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No se encontraron productos."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:A==="Todos"?"Aade tu primer producto para empezar.":`No hay productos en la categora "${A}".`})]})})]}),c.jsx(An,{isOpen:i,onClose:h,title:s?"Editar Producto":"Aadir Producto",children:c.jsx(GO,{onSave:p,onCancel:h,existingProduct:s})}),c.jsx(C0,{isOpen:!!l,onClose:()=>u(null),onConfirm:m,title:"Eliminar Producto",message:`Ests seguro de que quieres eliminar "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})}var ME,Sn,zte,Vte,Gg,ih,xH,$te,Kte,gS={},Wte=[],x$e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Od(t,e){for(var n in e)t[n]=e[n];return t}function Gte(t){var e=t.parentNode;e&&e.removeChild(t)}function Ze(t,e,n){var r,i,a,s={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?ME.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return n2(t,s,r,i,null)}function n2(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++zte};return i==null&&Sn.vnode!=null&&Sn.vnode(a),a}function KA(){return{current:null}}function ea(t){return t.children}function w$e(t,e,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in e||vS(t,a,null,n[a],r);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||vS(t,a,e[a],n[a],r)}function wH(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||x$e.test(e)?n:n+"px"}function vS(t,e,n,r,i){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||wH(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||wH(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r||t.addEventListener(e,a?SH:CH,a):t.removeEventListener(e,a?SH:CH,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function CH(t){Gg=!0;try{return this.l[t.type+!1](Sn.event?Sn.event(t):t)}finally{Gg=!1}}function SH(t){Gg=!0;try{return this.l[t.type+!0](Sn.event?Sn.event(t):t)}finally{Gg=!1}}function kl(t,e){this.props=t,this.context=e}function Db(t,e){if(e==null)return t.__?Db(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Db(t):null}function qte(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return qte(t)}}function C$e(t){Gg?setTimeout(t):$te(t)}function HT(t){(!t.__d&&(t.__d=!0)&&ih.push(t)&&!yS.__r++||xH!==Sn.debounceRendering)&&((xH=Sn.debounceRendering)||C$e)(yS)}function yS(){var t,e,n,r,i,a,s,o;for(ih.sort(function(l,u){return l.__v.__b-u.__v.__b});t=ih.shift();)t.__d&&(e=ih.length,r=void 0,i=void 0,s=(a=(n=t).__v).__e,(o=n.__P)&&(r=[],(i=Od({},a)).__v=a.__v+1,qO(o,a,i,n.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,r,s??Db(a),a.__h),ene(r,a),a.__e!=s&&qte(a)),ih.length>e&&ih.sort(function(l,u){return l.__v.__b-u.__v.__b}));yS.__r=0}function Yte(t,e,n,r,i,a,s,o,l,u){var A,d,f,h,p,m,v,g=r&&r.__k||Wte,y=g.length;for(n.__k=[],A=0;A<e.length;A++)if((h=n.__k[A]=(h=e[A])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?n2(null,h,null,null,h):Array.isArray(h)?n2(ea,{children:h},null,null,null):h.__b>0?n2(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=g[A])===null||f&&h.key==f.key&&h.type===f.type)g[A]=void 0;else for(d=0;d<y;d++){if((f=g[d])&&h.key==f.key&&h.type===f.type){g[d]=void 0;break}f=null}qO(t,h,f=f||gS,i,a,s,o,l,u),p=h.__e,(d=h.ref)&&f.ref!=d&&(v||(v=[]),f.ref&&v.push(f.ref,null,h),v.push(d,h.__c||p,h)),p!=null?(m==null&&(m=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=Xte(h,l,t):l=Jte(t,h,f,g,p,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=Db(f))}for(n.__e=m,A=y;A--;)g[A]!=null&&(typeof n.type=="function"&&g[A].__e!=null&&g[A].__e==n.__d&&(n.__d=Zte(r).nextSibling),nne(g[A],g[A]));if(v)for(A=0;A<v.length;A++)tne(v[A],v[++A],v[++A])}function Xte(t,e,n){for(var r,i=t.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=t,e=typeof r.type=="function"?Xte(r,e,n):Jte(n,r,r,i,r.__e,e));return e}function bS(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){bS(n,e)}):e.push(t)),e}function Jte(t,e,n,r,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function Zte(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=Zte(n)))return r}return null}function qO(t,e,n,r,i,a,s,o,l){var u,A,d,f,h,p,m,v,g,y,x,C,E,j,_,B=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,o=e.__e=n.__e,e.__h=null,a=[o]),(u=Sn.__b)&&u(e);try{e:if(typeof B=="function"){if(v=e.props,g=(u=B.contextType)&&r[u.__c],y=u?g?g.props.value:u.__:r,n.__c?m=(A=e.__c=n.__c).__=A.__E:("prototype"in B&&B.prototype.render?e.__c=A=new B(v,y):(e.__c=A=new kl(v,y),A.constructor=B,A.render=E$e),g&&g.sub(A),A.props=v,A.state||(A.state={}),A.context=y,A.__n=r,d=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),B.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Od({},A.__s)),Od(A.__s,B.getDerivedStateFromProps(v,A.__s))),f=A.props,h=A.state,A.__v=e,d)B.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(B.getDerivedStateFromProps==null&&v!==f&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(v,y),!A.__e&&A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(v,A.__s,y)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(A.props=v,A.state=A.__s,A.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(N){N&&(N.__=e)}),x=0;x<A._sb.length;x++)A.__h.push(A._sb[x]);A._sb=[],A.__h.length&&s.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(v,A.__s,y),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(f,h,p)})}if(A.context=y,A.props=v,A.__P=t,C=Sn.__r,E=0,"prototype"in B&&B.prototype.render){for(A.state=A.__s,A.__d=!1,C&&C(e),u=A.render(A.props,A.state,A.context),j=0;j<A._sb.length;j++)A.__h.push(A._sb[j]);A._sb=[]}else do A.__d=!1,C&&C(e),u=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++E<25);A.state=A.__s,A.getChildContext!=null&&(r=Od(Od({},r),A.getChildContext())),d||A.getSnapshotBeforeUpdate==null||(p=A.getSnapshotBeforeUpdate(f,h)),_=u!=null&&u.type===ea&&u.key==null?u.props.children:u,Yte(t,Array.isArray(_)?_:[_],e,n,r,i,a,s,o,l),A.base=e.__e,e.__h=null,A.__h.length&&s.push(A),m&&(A.__E=A.__=null),A.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=S$e(n.__e,e,n,r,i,a,s,l);(u=Sn.diffed)&&u(e)}catch(N){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),Sn.__e(N,e,n)}}function ene(t,e){Sn.__c&&Sn.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Sn.__e(r,n.__v)}})}function S$e(t,e,n,r,i,a,s,o){var l,u,A,d=n.props,f=e.props,h=e.type,p=0;if(h==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,a[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,o=!1}if(h===null)d===f||o&&t.data===f||(t.data=f);else{if(a=a&&ME.call(t.childNodes),u=(d=n.props||gS).dangerouslySetInnerHTML,A=f.dangerouslySetInnerHTML,!o){if(a!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(A||u)&&(A&&(u&&A.__html==u.__html||A.__html===t.innerHTML)||(t.innerHTML=A&&A.__html||""))}if(w$e(t,f,d,i,o),A)e.__k=[];else if(p=e.props.children,Yte(t,Array.isArray(p)?p:[p],e,n,r,i&&h!=="foreignObject",a,s,a?a[0]:n.__k&&Db(n,0),o),a!=null)for(p=a.length;p--;)a[p]!=null&&Gte(a[p]);o||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==d.value)&&vS(t,"value",p,d.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&vS(t,"checked",p,d.checked,!1))}return t}function tne(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Sn.__e(r,n)}}function nne(t,e,n){var r,i;if(Sn.unmount&&Sn.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||tne(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Sn.__e(a,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&nne(r[i],e,n||typeof t.type!="function");n||t.__e==null||Gte(t.__e),t.__=t.__e=t.__d=void 0}function E$e(t,e,n){return this.constructor(t,n)}function Ob(t,e,n){var r,i,a;Sn.__&&Sn.__(t,e),i=(r=!1)?null:e.__k,a=[],qO(e,t=e.__k=Ze(ea,null,[t]),i||gS,gS,e.ownerSVGElement!==void 0,i?null:e.firstChild?ME.call(e.childNodes):null,a,i?i.__e:e.firstChild,r),ene(a,t)}function _$e(t,e){var n={__c:e="__cC"+Kte++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,HT(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ME=Wte.slice,Sn={__e:function(t,e,n,r){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},zte=0,Vte=function(t){return t!=null&&t.constructor===void 0},Gg=!1,kl.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Od({},this.state),typeof t=="function"&&(t=t(Od({},n),this.props)),t&&Od(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),HT(this))},kl.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),HT(this))},kl.prototype.render=ea,ih=[],$te=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yS.__r=0,Kte=0;var Eu,uN,EH,rne=[],AN=[],_H=Sn.__b,BH=Sn.__r,NH=Sn.diffed,jH=Sn.__c,IH=Sn.unmount;function B$e(){for(var t;t=rne.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(r2),t.__H.__h.forEach(zT),t.__H.__h=[]}catch(e){t.__H.__h=[],Sn.__e(e,t.__v)}}Sn.__b=function(t){Eu=null,_H&&_H(t)},Sn.__r=function(t){BH&&BH(t);var e=(Eu=t.__c).__H;e&&(uN===Eu?(e.__h=[],Eu.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=AN,n.__N=n.i=void 0})):(e.__h.forEach(r2),e.__h.forEach(zT),e.__h=[])),uN=Eu},Sn.diffed=function(t){NH&&NH(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(rne.push(e)!==1&&EH===Sn.requestAnimationFrame||((EH=Sn.requestAnimationFrame)||N$e)(B$e)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==AN&&(n.__=n.__V),n.i=void 0,n.__V=AN})),uN=Eu=null},Sn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(r2),n.__h=n.__h.filter(function(r){return!r.__||zT(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Sn.__e(r,n.__v)}}),jH&&jH(t,e)},Sn.unmount=function(t){IH&&IH(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{r2(r)}catch(i){e=i}}),n.__H=void 0,e&&Sn.__e(e,n.__v))};var TH=typeof requestAnimationFrame=="function";function N$e(t){var e,n=function(){clearTimeout(r),TH&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);TH&&(e=requestAnimationFrame(n))}function r2(t){var e=Eu,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Eu=e}function zT(t){var e=Eu;t.__c=t.__(),Eu=e}function j$e(t,e){for(var n in e)t[n]=e[n];return t}function kH(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function PH(t){this.props=t}(PH.prototype=new kl).isPureReactComponent=!0,PH.prototype.shouldComponentUpdate=function(t,e){return kH(this.props,t)||kH(this.state,e)};var DH=Sn.__b;Sn.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),DH&&DH(t)};var I$e=Sn.__e;Sn.__e=function(t,e,n,r){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}I$e(t,e,n,r)};var OH=Sn.unmount;function ine(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=j$e({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ine(r,e,n)})),t}function ane(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return ane(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function dN(){this.__u=0,this.t=null,this.__b=null}function sne(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function z1(){this.u=null,this.o=null}Sn.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),OH&&OH(t)},(dN.prototype=new kl).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=sne(r.__v),a=!1,s=function(){a||(a=!0,n.__R=null,i?i(o):o())};n.__R=s;var o=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=ane(u,u.__c.__P,u.__c.__O)}var A;for(r.setState({__a:r.__b=null});A=r.t.pop();)A.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},dN.prototype.componentWillUnmount=function(){this.t=[]},dN.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ine(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&Ze(ea,null,t.fallback);return i&&(i.__h=null),[Ze(ea,null,e.__a?null:t.children),i]};var FH=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function T$e(t){return this.getChildContext=function(){return t.context},t.children}function k$e(t){var e=this,n=t.i;e.componentWillUnmount=function(){Ob(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ob(Ze(T$e,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function P$e(t,e){var n=Ze(k$e,{__v:t,i:e});return n.containerInfo=e,n}(z1.prototype=new kl).__a=function(t){var e=this,n=sne(e.__v),r=e.o.get(t);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),FH(e,t,r)):i()};n?n(a):a()}},z1.prototype.render=function(t){this.u=null,this.o=new Map;var e=bS(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},z1.prototype.componentDidUpdate=z1.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){FH(t,n,e)})};var D$e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,O$e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,F$e=typeof document<"u",L$e=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};kl.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(kl.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var LH=Sn.event;function M$e(){}function R$e(){return this.cancelBubble}function U$e(){return this.defaultPrevented}Sn.event=function(t){return LH&&(t=LH(t)),t.persist=M$e,t.isPropagationStopped=R$e,t.isDefaultPrevented=U$e,t.nativeEvent=t};var MH={configurable:!0,get:function(){return this.class}},RH=Sn.vnode;Sn.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in r={},n){var s=n[a];F$e&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in n&&s==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!L$e(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&O$e.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=bS(n.children).forEach(function(o){o.props.selected=r.value.indexOf(o.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=bS(n.children).forEach(function(o){o.props.selected=r.multiple?r.defaultValue.indexOf(o.props.value)!=-1:r.defaultValue==o.props.value})),t.props=r,n.class!=n.className&&(MH.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",MH))}t.$$typeof=D$e,RH&&RH(t)};var UH=Sn.__r;Sn.__r=function(t){UH&&UH(t),t.__c};const one=[],VT=new Map;function lne(t){one.push(t),VT.forEach(e=>{une(e,t)})}function Q$e(t){t.isConnected&&t.getRootNode&&cne(t.getRootNode())}function cne(t){let e=VT.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=z$e();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}VT.set(t,e),H$e(e)}}function H$e(t){for(const e of one)une(t,e)}function une(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&n.insertRule(i+"}",r+a)})}let fN;function z$e(){return fN===void 0&&(fN=V$e()),fN}function V$e(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&cne(document);var $$e=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';lne($$e);class YO{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function XO(t){t.parentNode&&t.parentNode.removeChild(t)}function ao(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(K$e(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function K$e(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function W$e(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let a=n[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)r.push(a[s])}return r}const G$e=/(top|left|right|bottom|width|height)$/i;function ry(t,e){for(let n in e)Ane(t,n,e[n])}function Ane(t,e,n){n==null?t.style[e]="":typeof n=="number"&&G$e.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function dne(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let QH=0;function RE(){return QH+=1,"fc-dom-"+QH}function UE(t){t.preventDefault()}function q$e(t,e){return n=>{let r=ao(n.target,t);r&&e.call(r,n,r)}}function fne(t,e,n,r){let i=q$e(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function Y$e(t,e,n,r){let i;return fne(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,n(a,s);let o=l=>{i=null,r(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const HH=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function X$e(t,e){let n=r=>{e(r),HH.forEach(i=>{t.removeEventListener(i,n)})};HH.forEach(r=>{t.addEventListener(r,n)})}function hne(t){return Object.assign({onClick:t},pne(t))}function pne(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let zH=0;function bp(){return zH+=1,String(zH)}function JO(){document.body.classList.add("fc-not-allowed")}function ZO(){document.body.classList.remove("fc-not-allowed")}function J$e(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",UE)}function Z$e(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",UE)}function eKe(t){t.addEventListener("contextmenu",UE)}function tKe(t){t.removeEventListener("contextmenu",UE)}function nKe(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function rKe(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=iKe(t,e,n[r]),i)return i;return 0}function iKe(t,e,n){return n.func?n.func(t,e):aKe(t[n.field],e[n.field])*(n.order||1)}function aKe(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function hN(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function iy(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,a)=>r.replace("$"+a,i||""),t):n}function sKe(t,e){return t-e}function pN(t){return t%1===0}function oKe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const lKe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Pr(t,e){return typeof t=="string"?cKe(t):typeof t=="object"&&t?VH(t):typeof t=="number"?VH({[e||"milliseconds"]:t}):null}function cKe(t){let e=lKe.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function VH(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function uKe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function AKe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function dKe(t){return Hm(t)/365}function fKe(t){return Hm(t)/30}function Hm(t){return Fb(t)/864e5}function Fb(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function $T(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function df(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const hKe=["sun","mon","tue","wed","thu","fri","sat"];function $H(t,e){let n=Fd(t);return n[2]+=e*7,Uo(n)}function us(t,e){let n=Fd(t);return n[2]+=e,Uo(n)}function ff(t,e){let n=Fd(t);return n[6]+=e,Uo(n)}function pKe(t,e){return E0(t,e)/7}function E0(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function mKe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function gKe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function vKe(t,e){return(e.valueOf()-t.valueOf())/1e3}function yKe(t,e){let n=Pi(t),r=Pi(e);return{years:0,months:0,days:Math.round(E0(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function bKe(t,e){let n=xS(t,e);return n!==null&&n%7===0?n/7:null}function xS(t,e){return Ld(t)===Ld(e)?Math.round(E0(t,e)):null}function Pi(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function xKe(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function wKe(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function CKe(t){return Uo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function SKe(t,e,n){let r=t.getUTCFullYear(),i=mN(t,r,e,n);if(i<1)return mN(t,r-1,e,n);let a=mN(t,r+1,e,n);return a>=1?Math.min(i,a):i}function mN(t,e,n,r){let i=Uo([e,0,1+EKe(e,n,r)]),a=Pi(t),s=Math.round(E0(i,a));return Math.floor(s/7)+1}function EKe(t,e,n){let r=7+e-n;return-((7+Uo([t,0,r]).getUTCDay()-e)%7)+r-1}function KH(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function WH(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Fd(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Uo(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function mne(t){return!isNaN(t.valueOf())}function Ld(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function _Ke(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",tF(e,!0)))),r}function eF(t){return t.toISOString().replace(/T.*$/,"")}function BKe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function tF(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=Math.round(r%60);return e?`${n+hN(i,2)}:${hN(a,2)}`:`GMT${n}${i}${a?`:${hN(a,2)}`:""}`}function Br(t,e,n){let r,i;return function(...a){if(!r)i=t.apply(this,a);else if(!df(r,a)){let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return r=a,i}}function i2(t,e,n){let r,i;return a=>(r?su(r,a)||(i=t.call(this,a)):i=t.call(this,a),r=a,i)}const gN={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},wS={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},V1=/\s*([ap])\.?m\.?/i,NKe=/,/g,jKe=/\s+/g,IKe=/\u200e/g,TKe=/UTC|GMT/;class kKe{constructor(e){let n={},r={},i=9;for(let a in e)a in gN?(r[a]=e[a],gN[a]<9&&(i=Math.min(gN[a],i))):(n[a]=e[a],a in wS&&(i=Math.min(wS[a],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=Br(GH)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:a,extendedSettings:s}=this,o=MKe(e.marker,n.marker,r.calendarSystem);if(!o)return this.format(e,r);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,r),A=this.format(n,r);if(u===A)return u;let d=RKe(a,l),f=GH(d,s,r),h=f(e),p=f(n),m=UKe(u,h,A,p),v=s.separator||i||r.defaultSeparator||"";return m?m.before+h+v+p+m.after:u+v+A}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function GH(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>tF(i.timeZoneOffset):r===0&&e.week?i=>LKe(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):PKe(t,e,n)}function PKe(t,e,n){t=Object.assign({},t),e=Object.assign({},e),DKe(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=r;let l=o.format(s);return OKe(l,a,t,e,n)}}function DKe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function OKe(t,e,n,r,i){return t=t.replace(IKe,""),n.timeZoneName==="short"&&(t=FKe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":tF(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(NKe,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(V1,"").trim():r.meridiem==="narrow"?t=t.replace(V1,(a,s)=>s.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(V1,(a,s)=>`${s.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(V1,a=>a.toLocaleLowerCase())),t=t.replace(jKe," "),t=t.trim(),t}function FKe(t,e){let n=!1;return t=t.replace(TKe,()=>(n=!0,e)),n||(t+=` ${e}`),t}function LKe(t,e,n,r,i){let a=[];return i==="long"?a.push(n):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&a.reverse(),a.join("")}function MKe(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ld(t)!==Ld(e)?1:0}function RKe(t,e){let n={};for(let r in t)(!(r in wS)||wS[r]<=e)&&(n[r]=t[r]);return n}function UKe(t,e,n,r){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<n.length;){let u=n.indexOf(r,l);if(u===-1)break;let A=n.substr(0,u);l=u+r.length;let d=n.substr(l);if(s===A&&o===d)return{before:s,after:o}}}return null}function qH(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function CS(t,e,n,r){let i=qH(t,n.calendarSystem),a=e?qH(e,n.calendarSystem):null;return{date:i,start:i,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class QKe{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,CS(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,CS(e,n,r,i))}}class HKe{constructor(e){this.func=e}format(e,n,r){return this.func(CS(e,null,n,r))}formatRange(e,n,r,i){return this.func(CS(e,n,r,i))}}function ls(t){return typeof t=="object"&&t?new kKe(t):typeof t=="string"?new QKe(t):typeof t=="function"?new HKe(t):null}const YH={navLinkDayClick:Je,navLinkWeekClick:Je,duration:Pr,bootstrapFontAwesome:Je,buttonIcons:Je,customButtons:Je,defaultAllDayEventDuration:Pr,defaultTimedEventDuration:Pr,nextDayThreshold:Pr,scrollTime:Pr,scrollTimeReset:Boolean,slotMinTime:Pr,slotMaxTime:Pr,dayPopoverFormat:ls,slotDuration:Pr,snapDuration:Pr,headerToolbar:Je,footerToolbar:Je,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ls,dayHeaderClassNames:Je,dayHeaderContent:Je,dayHeaderDidMount:Je,dayHeaderWillUnmount:Je,dayCellClassNames:Je,dayCellContent:Je,dayCellDidMount:Je,dayCellWillUnmount:Je,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Je,weekNumbers:Boolean,weekNumberClassNames:Je,weekNumberContent:Je,weekNumberDidMount:Je,weekNumberWillUnmount:Je,editable:Boolean,viewClassNames:Je,viewDidMount:Je,viewWillUnmount:Je,nowIndicator:Boolean,nowIndicatorSnap:Je,nowIndicatorClassNames:Je,nowIndicatorContent:Je,nowIndicatorDidMount:Je,nowIndicatorWillUnmount:Je,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Je,locale:Je,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Je,eventOrder:nKe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Je,contentHeight:Je,direction:String,weekNumberFormat:ls,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Je,initialDate:Je,now:Je,eventDataTransform:Je,stickyHeaderDates:Je,stickyFooterScrollbar:Je,viewHeight:Je,defaultAllDay:Boolean,eventSourceFailure:Je,eventSourceSuccess:Je,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Je,eventConstraint:Je,eventAllow:Je,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Je,eventContent:Je,eventDidMount:Je,eventWillUnmount:Je,selectConstraint:Je,selectOverlap:Je,selectAllow:Je,droppable:Boolean,unselectCancel:String,slotLabelFormat:Je,slotLaneClassNames:Je,slotLaneContent:Je,slotLaneDidMount:Je,slotLaneWillUnmount:Je,slotLabelClassNames:Je,slotLabelContent:Je,slotLabelDidMount:Je,slotLabelWillUnmount:Je,dayMaxEvents:Je,dayMaxEventRows:Je,dayMinWidth:Number,slotLabelInterval:Pr,allDayText:String,allDayClassNames:Je,allDayContent:Je,allDayDidMount:Je,allDayWillUnmount:Je,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ls,rerenderDelay:Number,moreLinkText:Je,moreLinkHint:Je,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Je,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Pr,hiddenDays:Je,fixedWeekCount:Boolean,validRange:Je,visibleRange:Je,titleFormat:Je,eventInteractive:Boolean,noEventsText:String,viewHint:Je,navLinkHint:Je,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Je,moreLinkClassNames:Je,moreLinkContent:Je,moreLinkDidMount:Je,moreLinkWillUnmount:Je,monthStartFormat:ls,handleCustomRendering:Je,customRenderingMetaMap:Je,customRenderingReplaces:Boolean},ay={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},XH={datesSet:Je,eventsSet:Je,eventAdd:Je,eventChange:Je,eventRemove:Je,windowResize:Je,eventClick:Je,eventMouseEnter:Je,eventMouseLeave:Je,select:Je,unselect:Je,loading:Je,_unmount:Je,_beforeprint:Je,_afterprint:Je,_noEventDrop:Je,_noEventResize:Je,_resize:Je,_scrollRequest:Je},JH={buttonText:Je,buttonHints:Je,views:Je,plugins:Je,initialEvents:Je,events:Je,eventSources:Je},eh={headerToolbar:th,footerToolbar:th,buttonText:th,buttonHints:th,buttonIcons:th,dateIncrement:th,plugins:$1,events:$1,eventSources:$1,resources:$1};function th(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?su(t,e):t===e}function $1(t,e){return Array.isArray(t)&&Array.isArray(e)?df(t,e):t===e}const zKe={type:String,component:Je,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Je,usesMinMaxTime:Boolean,classNames:Je,content:Je,didMount:Je,willUnmount:Je};function vN(t){return rF(t,eh)}function nF(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function Je(t){return t}const{hasOwnProperty:SS}=Object.prototype;function rF(t,e){let n={};if(e){for(let r in e)if(e[r]===th){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][r];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){n[r]=s;break}}i.length&&(n[r]=rF(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let a in i)a in n||(n[a]=i[a])}return n}function Jh(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function xp(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function gne(t){let e={};for(let n of t)e[n]=!0;return e}function iF(t){let e=[];for(let n in t)e.push(t[n]);return e}function su(t,e){if(t===e)return!0;for(let n in t)if(SS.call(t,n)&&!(n in e))return!1;for(let n in e)if(SS.call(e,n)&&t[n]!==e[n])return!1;return!0}const VKe=/^on[A-Z]/;function $Ke(t,e){const n=KKe(t,e);for(let r of n)if(!VKe.test(r))return!1;return!0}function KKe(t,e){let n=[];for(let r in t)SS.call(t,r)&&(r in e||n.push(r));for(let r in e)SS.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function yN(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&WKe(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function WKe(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function GKe(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let a=e;a<n;a+=r){let s=t[a];s!==void 0&&i.push(s)}return i}let vne={};function qKe(t,e){vne[t]=e}function YKe(t){return new vne[t]}class XKe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Uo(e)}markerToArray(e){return Fd(e)}}qKe("gregory",XKe);const JKe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function ZKe(t){let e=JKe.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(mne(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class eWe{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=YKe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Uo(KH(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Uo(e)),n===null||!mne(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=ZKe(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Ld(e)===Ld(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Ld(e)===Ld(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=bKe(e,n),r!==null?{unit:"week",value:r}:(r=xS(e,n),r!==null?{unit:"day",value:r}:(r=mKe(e,n),pN(r)?{unit:"hour",value:r}:(r=gKe(e,n),pN(r)?{unit:"minute",value:r}:(r=vKe(e,n),pN(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/dKe(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/fKe(r):r.days&&(i=xS(e,n),i!==null)?i/Hm(r):(n.valueOf()-e.valueOf())/Fb(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Pi(e):n==="hour"?xKe(e):n==="minute"?wKe(e):n==="second"?CKe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):SKe(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=ff(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),_Ke(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Uo(KH(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Uo(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-WH(Fd(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Fd(e)):null}toDate(e,n){return this.timeZone==="local"?WH(Fd(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Fd(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Ix{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Ix.prototype.classes={};Ix.prototype.iconClasses={};Ix.prototype.baseIconClass="";Ix.prototype.iconOverridePrefix="";function ES(t){t();let e=Sn.debounceRendering,n=[];function r(i){n.push(i)}for(Sn.debounceRendering=r,Ob(Ze(tWe,{}),document.createElement("div"));n.length;)n.shift()();Sn.debounceRendering=e}class tWe extends kl{render(){return Ze("div",{})}componentDidMount(){this.setState({})}}function yne(t){let e=_$e(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class nWe{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const wp=yne({});function rWe(t,e,n,r,i,a,s,o,l,u,A,d,f,h){return{dateEnv:i,nowManager:a,options:n,pluginHooks:o,emitter:A,dispatch:l,getCurrentData:u,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(p){A.on("_resize",p)},removeResizeHandler(p){A.off("_resize",p)},createScrollResponder(p){return new nWe(p,A,Pr(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}class Cp extends kl{shouldComponentUpdate(e,n){return!yN(this.props,e,this.propEquality)||!yN(this.state,n,this.stateEquality)}safeSetState(e){yN(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Cp.addPropsEquality=iWe;Cp.addStateEquality=aWe;Cp.contextType=wp;Cp.prototype.propEquality={};Cp.prototype.stateEquality={};class zi extends Cp{}zi.contextType=wp;function iWe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function aWe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Gu(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class aF extends zi{constructor(){super(...arguments),this.id=bp(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!KT(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Gu(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=bne(e,[],this.handleEl);let l=!1,u,A=[],d;if(i!=null){const f=typeof i=="function"?i(s,Ze):i;if(f===!0)l=!0;else{const h=f&&typeof f=="object";h&&"html"in f?o.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?A=Array.prototype.slice.call(f.domNodes):(h?Vte(f):typeof f!="function")?u=f:d=f}}else l=!KT(e.generatorName,r);return l&&a&&(u=a(s)),this.queuedDomNodes=A,this.currentGeneratorMeta=d,Ze(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:s==null?void 0:s[r.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},r),{elClasses:(r.elClasses||[]).filter(sWe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!df(e,n)){n.forEach(XO);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}aF.addPropsEquality({elClasses:df,elStyle:su,elAttrs:$Ke,renderProps:su});function KT(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function bne(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function sWe(t){return!!t}const xne=yne(0);class nd extends kl{constructor(){super(...arguments),this.InnerContent=oWe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Gu(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=lWe(e.classNameGenerator,e.renderProps);if(e.children){const r=bne(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?Ze(e.elTag,r,i):i}else return Ze(aF,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}nd.contextType=xne;function oWe(t,e){const n=t.props;return Ze(aF,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function lWe(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class ZH extends zi{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return Ze(nd,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...wne(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function wne(t){return[`fc-${t.type}-view`,"fc-view"]}function cWe(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function ez(t,e){let n=[],{start:r}=e,i,a;for(t.sort(uWe),i=0;i<t.length;i+=1)a=t[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<e.end&&n.push({start:r,end:e.end}),n}function uWe(t,e){return t.start.valueOf()-e.start.valueOf()}function qg(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function AWe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function sF(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function QE(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ef(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function dWe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Cne(t){let e=Math.floor(E0(t.start,t.end))||1,n=Pi(t.start),r=us(n,e);return{start:n,end:r}}function Sne(t,e=Pr(0)){let n=null,r=null;if(t.end){r=Pi(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Fb(e)&&(r=us(r,1))}return t.start&&(n=Pi(t.start),r&&r<=n&&(r=us(n,1))),{start:n,end:r}}function Em(t,e,n,r){return r==="year"?Pr(n.diffWholeYears(t,e),"year"):r==="month"?Pr(n.diffWholeMonths(t,e),"month"):yKe(t,e)}class Ene{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,a=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,r)}build(e,n,r=!0){let{props:i}=this,a,s,o,l,u,A;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(e=dWe(e,a)),s=this.buildCurrentRangeInfo(e,n),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=qg(u,s.range)),u=this.adjustActiveRange(u),u=qg(u,a),A=sF(s.range,a),ef(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:A,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,a=null,s=null,o;return r.duration?(i=r.duration,a=r.durationUnit,s=this.buildRangeFromDuration(e,n,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,n,o)):(s=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=$T(i).unit,s=this.buildRangeFromDuration(e,n,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Pr({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return r&&(Hm(i)<0&&(s=Pi(s),s=n.add(s,i)),Hm(a)>1&&(o=Pi(o),o=us(o,-1),o=n.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,n,r,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:d}=this.props;d&&Fb(d)<Fb(r)?s=$T(d).unit:s=i}Hm(r)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,n),o=Pi(o));function A(){o=a.startOf(e,s),l=a.add(o,r),u={start:o,end:l}}return A(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),A()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=Pi(o),o=this.skipHiddenDays(o,n),l=o;do l=us(l,1),this.isHiddenDay(l)||(s+=1);while(s<r);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Pr(1,r):e||Pr({days:1}))}refineRange(e){if(e){let n=cWe(e,this.props.dateEnv);return n&&(n=Sne(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=us(e,n);return e}}function oF(t,e,n,r){return{instanceId:bp(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function fWe(t,e,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(t,n);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function Zh(t,e,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:s,instances:o}=t;o=Jh(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:A}=u.recurringDef;A||(A=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let d=hWe(u,A,e,r,i.recurringTypes);for(let f of d){let h=oF(l,{start:f,end:r.add(f,A)});o[h.instanceId]=h}}}return{defs:s,instances:o}}function hWe(t,e,n,r,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(s=s.map(Pi)),s}const a2={id:String,groupId:String,title:String,url:String,interactive:Boolean},_ne={start:Je,end:Je,date:Je,allDay:Boolean},pWe=Object.assign(Object.assign(Object.assign({},a2),_ne),{extendedProps:Je});function Bne(t,e,n,r,i=lF(n),a,s){let{refined:o,extra:l}=Nne(t,n,i),u=gWe(e,n),A=fWe(o,u,n.dateEnv,n.pluginHooks.recurringTypes);if(A){let f=WT(o,l,e?e.sourceId:"",A.allDay,!!A.duration,n,a);return f.recurringDef={typeId:A.typeId,typeData:A.typeData,duration:A.duration},{def:f,instance:null}}let d=mWe(o,u,n,r);if(d){let f=WT(o,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,a),h=oF(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&f.publicId&&s[f.publicId]&&(h.instanceId=s[f.publicId]),{def:f,instance:h}}return null}function Nne(t,e,n=lF(e)){return nF(t,n)}function lF(t){return Object.assign(Object.assign(Object.assign({},_S),pWe),t.pluginHooks.eventRefiners)}function WT(t,e,n,r,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||bp(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:BS(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function mWe(t,e,n,r){let{allDay:i}=t,a,s=null,o=!1,l,u=null,A=t.start!=null?t.start:t.date;if(a=n.dateEnv.createMarkerMeta(A),a)s=a.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=Pi(s)),l&&(u=l.marker,i&&(u=Pi(u)),s&&u<=s&&(u=null)),u?o=!0:r||(o=n.options.forceEventDuration||!1,u=n.dateEnv.add(s,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function gWe(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Lb(t,e,n,r,i,a){let s=Xc(),o=lF(n);for(let l of t){let u=Bne(l,e,n,r,o,i,a);u&&GT(u,s)}return s}function GT(t,e=Xc()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function cF(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=HE(t,a=>vWe(r,a));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Xc()}function vWe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Xc(){return{defs:{},instances:{}}}function uF(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function HE(t,e){let n=Jh(t.defs,e),r=Jh(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function yWe(t,e){let{defs:n,instances:r}=t,i={},a={};for(let s in n)e.defs[s]||(i[s]=n[s]);for(let s in r)!e.instances[s]&&i[r[s].defId]&&(a[s]=r[s]);return{defs:i,instances:a}}function bWe(t,e){return Array.isArray(t)?Lb(t,null,e,!0):typeof t=="object"&&t?Lb([t],null,e,!0):t!=null?String(t):null}function tz(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const _S={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Je,overlap:Je,allow:Je,className:tz,classNames:tz,color:String,backgroundColor:String,borderColor:String,textColor:String},xWe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function BS(t,e){let n=bWe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function wWe(t){return t.reduce(CWe,xWe)}function CWe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const SWe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Je,eventDataTransform:Je,success:Je,failure:Je};function jne(t,e,n=Ine(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:a}=nF(r,n),s=EWe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:bp(),sourceDefId:s.sourceDefId,meta:s.meta,ui:BS(i,e),extendedProps:a}}return null}function Ine(t){return Object.assign(Object.assign(Object.assign({},_S),SWe),t.pluginHooks.eventSourceRefiners)}function EWe(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let a=n[r].parseMeta(t);if(a)return{sourceDefId:r,meta:a}}return null}function _We(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return BWe(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return NWe(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return jWe(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return uF(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Zh(t,r.activeRange,i):t;case"REMOVE_EVENTS":return yWe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return kne(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return HE(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Xc();default:return t}}function BWe(t,e,n,r,i,a){if(e&&n===e.latestFetchId){let s=Lb(Tne(i,e,a),e,a);return r&&(s=Zh(s,r,a)),uF(kne(t,e.sourceId),s)}return t}function NWe(t,e,n,r,i){const{defIdMap:a,instanceIdMap:s}=TWe(t);let o=Lb(Tne(n,e,i),e,i,!1,a,s);return Zh(o,r,i)}function Tne(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=nz(t,i)),r&&(t=nz(t,r)),t}function nz(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function jWe(t,e,n,r){return n&&(e=Zh(e,n,r)),uF(t,e)}function rz(t,e,n){let{defs:r}=t,i=xp(t.instances,a=>r[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:r,instances:i}}function kne(t,e){return HE(t,n=>n.sourceId!==e)}function IWe(t,e){return{defs:t.defs,instances:Jh(t.instances,n=>!e[n.instanceId])}}function TWe(t){const{defs:e,instances:n}=t,r={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(r[o]=a)}for(let a in n){const s=n[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:r,instanceIdMap:i}}class zE{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){kWe(this.handlers,e,n)}off(e,n){PWe(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],r);for(let s of a)s.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function kWe(t,e,n){(t[e]||(t[e]=[])).push(n)}function PWe(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const DWe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function OWe(t,e){return Lb(FWe(t),null,e)}function FWe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},DWe),n)),e}function Pne(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},AF(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function LWe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function AF(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,JWe(t,e.dateEnv)),n}function iz(t,e,n){let{dateEnv:r,options:i}=n,a=e;return t?(a=Pi(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function dF(t,e,n,r){let i=NS(t.defs,e),a=Xc();for(let s in t.defs){let o=t.defs[s];a.defs[s]=MWe(o,i[s],n,r)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=RWe(o,l,i[o.defId],n,r)}return a}function MWe(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function RWe(t,e,n,r,i){let{dateEnv:a}=i,s=r.standardProps&&r.standardProps.allDay===!0,o=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=Cne(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:a.add(l.range.start,r.datesDelta),end:a.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:a.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:iz(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Pi(l.range.start),end:Pi(l.range.end)}),l.range.end<l.range.start&&(l.range.end=iz(e.allDay,l.range.start,i)),l}class qp{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Di{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in _ne)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=a2[e](n),this.mutate({standardProps:{publicId:n}});else if(e in a2)n=a2[e](n),this.mutate({standardProps:{[e]:n}});else if(e in _S){let r=_S[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=Em(a.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let a=Em(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,a={allDay:r.allDay},s=i.createMarker(e),o;if(s&&!(n!=null&&(o=i.createMarker(n),!o))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=Cne(l));let u=Em(l.start,s,i,r.granularity);if(o){let A=Em(l.end,o,i,r.granularity);uKe(u,A)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:A,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let n=Pr(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Pr(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Pr(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=ls(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=cF(a,n.instanceId);s=dF(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Di(i,r,n);this._def=s.defs[r.defId],this._instance=s.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Th(s,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,n=Dne(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new qp(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:a}=this,s={allDay:n.allDay};return n.title&&(s.title=n.title),i&&(s.start=i),a&&(s.end=a),n.publicId&&(s.id=n.publicId),n.groupId&&(s.groupId=n.groupId),n.url&&(s.url=n.url),r.display&&r.display!=="auto"&&(s.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.color=r.backgroundColor:(r.backgroundColor&&(s.backgroundColor=r.backgroundColor),r.borderColor&&(s.borderColor=r.borderColor)),r.textColor&&(s.textColor=r.textColor),r.classNames.length&&(s.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,n.extendedProps):s.extendedProps=n.extendedProps),s}toJSON(){return this.toPlainObject()}}function Dne(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Th(t,e,n){let{defs:r,instances:i}=t,a=[],s=n?n.instanceId:"";for(let o in i){let l=i[o],u=r[l.defId];l.instanceId!==s&&a.push(new Di(e,u,l))}return a}function az(t,e,n,r){let i={},a={},s={},o=[],l=[],u=NS(t.defs,e);for(let A in t.defs){let d=t.defs[A];u[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],s[d.groupId]||(s[d.groupId]=d)):a[A]=[])}for(let A in t.instances){let d=t.instances[A],f=t.defs[d.defId],h=u[f.defId],p=d.range,m=!f.allDay&&r?Sne(p,r):p,v=qg(m,n);v&&(h.display==="inverse-background"?f.groupId?i[f.groupId].push(v):a[d.defId].push(v):h.display!=="none"&&(h.display==="background"?o:l).push({def:f,ui:h,instance:d,range:v,isStart:m.start&&m.start.valueOf()===v.start.valueOf(),isEnd:m.end&&m.end.valueOf()===v.end.valueOf()}))}for(let A in i){let d=i[A],f=ez(d,n);for(let h of f){let p=s[A],m=u[p.defId];o.push({def:p,ui:m,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let A in a){let d=a[A],f=ez(d,n);for(let h of f)o.push({def:t.defs[A],ui:u[A],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function sz(t,e){t.fcSeg=e}function Yg(t){return t.fcSeg||t.parentNode.fcSeg||null}function NS(t,e){return xp(t,n=>One(n,e))}function One(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),wWe(n)}function UWe(t,e){let n=t.map(QWe);return n.sort((r,i)=>rKe(r,i,e)),n.map(r=>r._seg)}function QWe(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:t})}function HWe(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of r)s=o(s,i,a,e);return s}function zWe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function VWe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Fne(t,e,n,r,i,a,s){let{dateEnv:o,options:l}=n,{displayEventTime:u,displayEventEnd:A}=l,d=t.eventRange.def,f=t.eventRange.instance;u==null&&(u=r!==!1),A==null&&(A=i!==!1);let h=f.range.start,p=f.range.end,m=t.start||t.eventRange.range.start,v=t.end||t.eventRange.range.end,g=Pi(h).valueOf()===Pi(m).valueOf(),y=Pi(ff(p,-1)).valueOf()===Pi(ff(v,-1)).valueOf();return u&&!d.allDay&&(g||y)?(m=g?h:m,v=y?p:v,A&&d.hasEnd?o.formatRange(m,v,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):o.format(m,e,{forcedTzo:f.forcedStartTzo})):""}function sy(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&ef(e,r.start)}}function $We(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function KWe(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function Lne(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=n.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?pne(l=>{a.trigger("eventClick",{el:l.target,event:new Di(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const WWe={start:Je,end:Je,allDay:Boolean};function GWe(t,e,n){let r=qWe(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function qWe(t,e){let{refined:n,extra:r}=nF(t,WWe),i=n.start?e.createMarkerMeta(n.start):null,a=n.end?e.createMarkerMeta(n.end):null,{allDay:s}=n;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},r)}function YWe(t,e){return AWe(t.range,e.range)&&t.allDay===e.allDay&&XWe(t,e)}function XWe(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function JWe(t,e){return Object.assign(Object.assign({},Rne(t.range,e,t.allDay)),{allDay:t.allDay})}function Mne(t,e,n){return Object.assign(Object.assign({},Rne(t,e,n)),{timeZone:e.timeZone})}function Rne(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function ZWe(t,e,n){let r=Nne({editable:!1},n),i=WT(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:One(i,e),instance:oF(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function eGe(t,e,n){let r=!1,i=function(o){r||(r=!0,e(o))},a=function(o){r||(r=!0,n(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class oz extends Error{constructor(e,n){super(e),this.response=n}}function tGe(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new oz("Failure parsing JSON",i)});throw new oz("Request failed",i)})}let bN;function Une(){return bN==null&&(bN=nGe()),bN}function nGe(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class rGe extends zi{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{ES(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{ES(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",a=!i&&n.height!=null?n.height:"",s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Une()||s.push("fc-liquid-hack"),e.children(s,a,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class _0{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function iGe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function fF(t){return{[t.component.uid]:t}}const qT={};class VE extends kl{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let a,s;return i?(a=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(a,Pr(1,e.unit)).valueOf()-r.valueOf()):(a=r,s=1e3*60),s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:aGe(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}VE.contextType=wp;function aGe(t){let e=Pi(t),n=us(e,1);return{start:e,end:n}}class sGe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),a,s;for(let o in n)i.push(o);for(a=0;a<i.length;a+=1)if(s=n[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Pr(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),ls(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),ls(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),a=GWe(r,i.dateEnv,Pr({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),Pne(a,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),LWe(e,n))}addEvent(e,n){if(e instanceof Di){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:GT({def:s,instance:o})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof qp)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=iF(r.eventSources));else if(n!=null){let s=this.getEventSourceById(n);if(!s)return console.warn(`Could not find an event source with ID "${n}"`),null;i=s.internalEventSource}let a=Bne(e,i,r,!1);if(a){let s=new Di(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:GT(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Dne(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let a in r){let s=r[a];if(s.publicId===e){if(s.recurringDef)return new Di(n,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new Di(n,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Th(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new qp(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new qp(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof qp)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=jne(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new qp(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Pr(e);n&&this.trigger("_scrollRequest",{time:n})}}function oGe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Qne(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function lGe(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function cGe(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function uGe(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Hne(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!ef(r.activeRange,t))),isOther:!!(r&&!ef(r.currentRange,t)),isToday:!!(e&&ef(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function hF(t,e){let n=["fc-day",`fc-day-${hKe[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const AGe=ls({year:"numeric",month:"long",day:"numeric"}),dGe=ls({week:"long"});function YT(t,e,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,n==="week"?dGe:AGe);if(a.navLinks){let l=i.toDate(e);const u=A=>{let d=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof d=="function"?d.call(s,i.toDate(e),A):(typeof d=="string"&&(n=d),s.zoomTo(e,n))};return Object.assign({title:iy(a.navLinkHint,[o,l],o),"data-navlink":""},r?hne(u):{onClick:u})}return{"aria-label":o}}let xN=null;function fGe(){return xN===null&&(xN=hGe()),xN}function hGe(){let t=document.createElement("div");ry(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return XO(t),n}let wN;function pGe(){return wN||(wN=mGe()),wN}function mGe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=zne(t);return document.body.removeChild(t),e}function zne(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function gGe(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,o=zne(t),l=o.y-r-i,u=o.x-a-s,A={borderLeft:r,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return fGe()&&n.direction==="rtl"?A.scrollbarLeft=l:A.scrollbarRight=l,e&&(A.paddingLeft=parseInt(n.paddingLeft,10)||0,A.paddingRight=parseInt(n.paddingRight,10)||0,A.paddingTop=parseInt(n.paddingTop,10)||0,A.paddingBottom=parseInt(n.paddingBottom,10)||0),A}function vGe(t,e=!1,n){let r=pF(t),i=gGe(t,e),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function pF(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function yGe(t){let e=Vne(t),n=t.getBoundingClientRect();for(let r of e){let i=Qne(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function Vne(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class jS{constructor(e,n,r,i){this.els=n;let a=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.left-e),r.push(a.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.top-e),r.push(a.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return K1(this.tops||[],e.tops||[])&&K1(this.bottoms||[],e.bottoms||[])&&K1(this.lefts||[],e.lefts||[])&&K1(this.rights||[],e.rights||[])}}function K1(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class mF{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class bGe extends mF{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class xGe extends mF{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Sp extends zi{constructor(){super(...arguments),this.uid=bp()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ao(e,".fc-event-mirror")}isValidDateDownEl(e){return!ao(e,".fc-event:not(.fc-bg-event)")&&!ao(e,".fc-more-link")&&!ao(e,"a[data-navlink]")&&!ao(e,".fc-popover")}}class wGe{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:$ne(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,a=n.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},r),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(CN(i,n.level,n.levelCoord),CN(r,n.level,[e])):CN(r[n.level],n.lateral,e),this.stackCnts[oy(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:a}=this,s=n.length,o=0,l=-1,u=-1,A=null,d=0;for(let p=0;p<s;p+=1){const m=n[p];if(!i&&m>=o+this.getEntryThickness(e))break;let v=r[p],g,y=cz(v,e.span.start,lz),x=y[0]+y[1];for(;(g=v[x])&&g.span.start<e.span.end;){let C=m+this.getEntryThickness(g);C>o&&(o=C,A=g,l=p,u=x),C===o&&(d=Math.max(d,a[oy(g)]+1)),x+=1}}let f=0;if(A)for(f=l+1;f<s&&n[f]<o;)f+=1;let h=-1;return f<s&&n[f]===o&&(h=cz(r[f],e.span.end,lz)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:A,stackCnt:d,levelCoord:o,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let a=0;a<r;a+=1){let s=e[a],o=n[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function lz(t){return t.span.end}function oy(t){return t.index+":"+t.span.start}function $ne(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function CN(t,e,n){t.splice(e,0,n)}function cz(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),s=n(t[a]);if(e<s)i=a;else if(e>s)r=a+1;else return[a,1]}return[r,0]}class CGe{constructor(e,n){this.emitter=new zE}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const gF={};function SGe(t,e){return!t||e>10?ls({weekday:"short"}):e>1?ls({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ls({weekday:"long"})}const Kne="fc-col-header-cell";function Wne(t){return t.text}class EGe extends zi{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=Hne(s,a.todayRange,null,o),u=[Kne].concat(hF(l,r)),A=e.format(s,a.dayHeaderFormat),d=!l.isDisabled&&a.colCnt>1?YT(this.context,s):{},f=e.toDate(s);e.namedTimeZoneImpl&&(f=ff(f,36e5));let h=Object.assign(Object.assign(Object.assign({date:f,view:i},a.extraRenderProps),{text:A}),l);return Ze(nd,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:eF(s)},a.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Wne,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>Ze("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&Ze(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const _Ge=ls({weekday:"long"});class BGe extends zi{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:a}=this.context,s=us(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return Ze(nd,{elTag:"th",elClasses:[Kne,...hF(o,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:Wne,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},A=>Ze("div",{className:"fc-scrollgrid-sync-inner"},Ze(A,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(s,_Ge)}})))}}class NGe extends zi{constructor(){super(...arguments),this.createDayHeaderFormatter=Br(jGe)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return Ze(VE,{unit:"day"},(o,l)=>Ze("tr",{role:"row"},a&&a("day"),n.map(u=>i?Ze(EGe,{key:u.toISOString(),date:u,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:s}):Ze(BGe,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function jGe(t,e,n){return t||SGe(e,n)}class IGe{constructor(e,n){let r=e.start,{end:i}=e,a=[],s=[],o=-1;for(;r<i;)n.isHiddenDay(r)?a.push(o+.5):(o+=1,a.push(o),s.push(r)),r=us(r,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(us(e.end,-1)),i=Math.max(0,n),a=Math.min(this.cnt-1,r);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:n===i,isEnd:r===a}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(E0(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class TGe{constructor(e,n){let{dates:r}=e,i,a,s;if(n){for(a=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==a;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:a,lastIndex:s}=r,o=a;for(;o<=s;){let l=Math.floor(o/n),u=Math.min((l+1)*n,s+1);i.push({row:l,firstCol:o%n,lastCol:(u-1)%n,isStart:r.isStart&&o===a,isEnd:r.isEnd&&u-1===s}),o=u}}return i}}class kGe{constructor(){this.sliceBusinessHours=Br(this._sliceBusinessHours),this.sliceDateSelection=Br(this._sliceDateSpan),this.sliceEventStore=Br(this._sliceEventStore),this.sliceEventDrag=Br(this._sliceInteraction),this.sliceEventResize=Br(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,n,r,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,n,r,...a),eventResize:this.sliceEventResize(e.eventResize,s,n,r,...a),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...a){return this._sliceDateSpan({range:{start:e,end:ff(e,1)},allDay:!1},n,r,{},i,...a)}_sliceBusinessHours(e,n,r,i,...a){return e?this._sliceEventStore(Zh(e,W1(n,!!r),i),{},n,r,...a).bg:[]}_sliceEventStore(e,n,r,i,...a){if(e){let s=az(e,n,W1(r,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...a){if(!e)return null;let s=az(e.mutatedEvents,n,W1(r,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,a,...s){if(!e)return[];let o=W1(n,!!r),l=qg(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=ZWe(e,i,a),A=this.sliceRange(e.range,...s);for(let d of A)d.eventRange=u;return A}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:us(r.start,1)});let i=this.sliceRange(r,...n);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function W1(t,e){let n=t.activeRange;return e?n:{start:ff(n.start,t.slotMinTime.milliseconds),end:ff(n.end,t.slotMaxTime.milliseconds-864e5)}}function Gne(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!QE(e.validRange,r[i].range))return!1;return qne({eventDrag:t},n)}function PGe(t,e,n){return QE(e.validRange,t.range)?qne({dateSelection:t},n):!1}function qne(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||DGe)(r,e)}function DGe(t,e,n={},r){return!(t.eventDrag&&!OGe(t,e,n,r)||t.dateSelection&&!FGe(t,e,n,r))}function OGe(t,e,n,r){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=NS(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=xp(u,r));let A=IWe(t.eventStore,a.affectedEvents.instances),d=A.defs,f=A.instances,h=NS(d,t.eventUiBases);for(let p in l){let m=l[p],v=m.range,g=u[m.defId],y=o[m.defId];if(!Yne(g.constraints,v,A,t.businessHours,e))return!1;let{eventOverlap:x}=e.options,C=typeof x=="function"?x:null;for(let j in f){let _=f[j];if(sF(v,_.range)&&(h[_.defId].overlap===!1&&a.isEvent||g.overlap===!1||C&&!C(new Di(e,d[_.defId],_),new Di(e,y,m))))return!1}let E=i.eventStore;for(let j of g.allows){let _=Object.assign(Object.assign({},n),{range:m.range,allDay:y.allDay}),B=E.defs[y.defId],N=E.instances[p],D;if(B?D=new Di(e,B,N):D=new Di(e,y),!j(AF(_,e),D))return!1}}return!0}function FGe(t,e,n,r){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!Yne(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:A}=e.options,d=typeof A=="function"?A:null;for(let f in s){let h=s[f];if(sF(l,h.range)&&(u.overlap===!1||d&&!d(new Di(e,a[h.defId],h),null)))return!1}for(let f of u.allows){let h=Object.assign(Object.assign({},n),o);if(!f(AF(h,e),null))return!1}return!0}function Yne(t,e,n,r,i){for(let a of t)if(!MGe(LGe(a,e,n,r,i),e))return!1;return!0}function LGe(t,e,n,r,i){return t==="businessHours"?SN(Zh(r,e,i)):typeof t=="string"?SN(HE(n,a=>a.groupId===t)):typeof t=="object"&&t?SN(Zh(t,e,i)):[]}function SN(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function MGe(t,e){for(let n of t)if(QE(n,e))return!0;return!1}const G1=/^(visible|hidden)$/;class RGe extends zi{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Gu(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,a=["fc-scroller"];return n&&(r?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Ze("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(G1.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(G1.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return G1.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return G1.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class vh{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;n!==null?(s=r in a,a[r]=n,i[r]=(i[r]||0)+1,o=!0):(i[r]-=1,i[r]||(delete a[r],delete this.callbackMap[r],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(r)),o&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return GKe(this.currentMap,e,n,r)}getAll(){return iF(this.currentMap)}}function UGe(t){let e=W$e(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,oKe(r));return Math.ceil(n)}function Xne(t,e){return t.liquid&&e.liquid}function QGe(t,e){return e.maxHeight!=null||Xne(t,e)}function HGe(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):Ze("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,Ze(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function zGe(t,e){return df(t,e,su)}function VGe(t,e){let n=[];for(let r of t){let i=r.span||1;for(let a=0;a<i;a+=1)n.push(Ze("col",{style:{width:r.width==="shrink"?$Ge(e):r.width||"",minWidth:r.minWidth||""}}))}return Ze("colgroup",{},...n)}function $Ge(t){return t??4}function KGe(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function WGe(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function GGe(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function qGe(t){return Ze("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function uz(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function YGe(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Jne extends zi{constructor(){super(...arguments),this.processCols=Br(e=>e,zGe),this.renderMicroColGroup=Br(VGe),this.scrollerRefs=new vh,this.scrollerElRefs=new vh(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,n.shrinkWidth),o=WGe(e.liquid,r);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,A,d=[],f=[],h=[];for(;u<l&&(A=i[u]).type==="header";)d.push(this.renderSection(A,s,!0)),u+=1;for(;u<l&&(A=i[u]).type==="body";)f.push(this.renderSection(A,s,!1)),u+=1;for(;u<l&&(A=i[u]).type==="footer";)h.push(this.renderSection(A,s,!0)),u+=1;let p=!Une();const m={role:"rowgroup"};return Ze("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!p&&d.length)&&Ze("thead",m,...d),!!(!p&&f.length)&&Ze("tbody",m,...f),!!(!p&&h.length)&&Ze("tfoot",m,...h),p&&Ze("tbody",m,...d,...f,...h))}renderSection(e,n,r){return"outerContent"in e?Ze(ea,{key:e.key},e.outerContent):Ze("tr",{key:e.key,role:"presentation",className:GGe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=QGe(a,e),A=Xne(a,e),d=a.liquid?s?"scroll":u?"auto":"hidden":"visible",f=e.key,h=HGe(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[f]!==void 0?o[f]:null,clientHeight:l[f]!==void 0?l[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return Ze(i?"th":"td",{ref:r.elRef,role:"presentation"},Ze("div",{className:`fc-scroller-harness${A?" fc-scroller-harness-liquid":""}`},Ze(RGe,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:A,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let r=XGe(this.props.sections,n);r&&Gu(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return KGe(this.props.cols)?UGe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=pGe(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,a={},s={};for(let o in n.currentMap){let l=n.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=r.currentMap[l];if(u){let A=u.parentNode;a[l]=Math.floor(A.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(A.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}Jne.addStateEquality({scrollerClientWidths:su,scrollerClientHeights:su});function XGe(t,e){for(let n of t)if(n.key===e)return n;return null}class vF extends zi{constructor(){super(...arguments),this.buildPublicEvent=Br((e,n,r)=>new Di(e,n,r)),this.handleEl=e=>{this.el=e,Gu(this.props.elRef,e),e&&sz(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&HWe(i,n),isStartResizable:!e.disableResizing&&zWe(i,n),isEndResizable:!e.disableResizing&&VWe(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Ze(nd,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...$We(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&sz(this.el,this.props.seg)}}class Zne extends zi{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:a}=i.eventRange,s=r.eventTimeFormat||e.defaultTimeFormat,o=Fne(i,s,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Ze(vF,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:Lne(i,n),defaultGenerator:JGe,timeText:o}),(l,u)=>Ze(ea,null,Ze(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&Ze("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&Ze("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Zne.addPropsEquality({seg:su});function JGe(t){return Ze("div",{className:"fc-event-main-frame"},t.timeText&&Ze("div",{className:"fc-event-time"},t.timeText),Ze("div",{className:"fc-event-title-container"},Ze("div",{className:"fc-event-title fc-sticky"},t.event.title||Ze(ea,null,""))))}const ZGe=ls({day:"numeric"});class ere extends zi{constructor(){super(...arguments),this.refineRenderProps=i2(eqe)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return Ze(nd,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":eF(e.date)}),elClasses:[...hF(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function tre(t){return!!(t.dayCellContent||KT("dayCellContent",t))}function eqe(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,a=Hne(e,t.todayRange,null,r),s=t.showDayNumber?n.format(e,i?t.monthStartFormat:ZGe):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class tqe extends zi{render(){let{props:e}=this,{seg:n}=e;return Ze(vF,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:nqe,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function nqe(t){let{title:e}=t.event;return e&&Ze("div",{className:"fc-event-title"},t.event.title)}function rqe(t){return Ze("div",{className:`fc-${t}`})}const iqe=t=>Ze(wp.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,a=r.weekNumberFormat||t.defaultFormat,s=n.computeWeekNumber(i),o=n.format(i,a),l={num:s,text:o,date:i};return Ze(nd,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:aqe,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function aqe(t){return t.text}const EN=10;class sqe extends zi{constructor(){super(...arguments),this.state={titleId:RE()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Gu(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=dne(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return P$e(Ze("div",Object.assign({},r.extraAttrs,{id:r.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),Ze("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Ze("span",{className:"fc-popover-title",id:i.titleId},r.title),Ze("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),Ze("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,a=yGe(n);if(a){let s=i.getBoundingClientRect(),o=r?ao(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,EN),l=Math.min(l,document.documentElement.clientWidth-EN-s.width),l=Math.max(l,EN);let u=i.offsetParent.getBoundingClientRect();ry(i,{top:o-u.top,left:l-u.left})}}}class oqe extends Sp{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:a,dateProfile:s}=r,o=n.format(i,e.dayPopoverFormat);return Ze(ere,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,A)=>Ze(sqe,{elRef:A.ref,id:r.id,title:o,extraClassNames:["fc-more-popover"].concat(A.className||[]),extraAttrs:A,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},tre(e)&&Ze(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:a,props:s}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class lqe extends zi{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:RE()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Gu(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,a=Az(n).start;function s(o){let{def:l,instance:u,range:A}=o.eventRange;return{event:new Di(r,l,u),start:r.dateEnv.toDate(A.start),end:r.dateEnv.toDate(A.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(s),hiddenSegs:n.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return Ze(wp.Consumer,null,r=>{let{viewApi:i,options:a,calendarApi:s}=r,{moreLinkText:o}=a,{moreCnt:l}=e,u=Az(e),A=typeof o=="function"?o.call(s,l):`+${l} ${o}`,d=iy(a.moreLinkHint,[l],A),f={num:l,shortText:`+${l}`,text:A,view:i};return Ze(ea,null,!!e.moreCnt&&Ze(nd,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),hne(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||cqe,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),n.isPopoverOpen&&Ze(oqe,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ao(this.linkEl,".fc-view-harness"))}}function cqe(t){return t.text}function Az(t){if(t.allDayDate)return{start:t.allDayDate,end:us(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:uqe(e),end:dqe(e)}}function uqe(t){return t.reduce(Aqe).eventRange.range.start}function Aqe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function dqe(t){return t.reduce(fqe).eventRange.range.end}function fqe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class hqe{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class pqe extends hqe{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const mqe=[],nre={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},rre=Object.assign(Object.assign({},nre),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function gqe(t){let e=t.length>0?t[0].code:"en",n=mqe.concat(t),r={en:rre};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function ire(t,e){return typeof t=="object"&&!Array.isArray(t)?are(t.code,[t.code],t):vqe(t,e)}function vqe(t,e){let n=[].concat(t||[]),r=yqe(n,e)||rre;return are(t,n,r)}function yqe(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let a=r.slice(0,i).join("-");if(e[a])return e[a]}}return null}function are(t,e,n){let r=rF([nre,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function jf(t){return{id:bp(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function bqe(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=n[o];l===void 0?(n[o]=s.id,i(s.deps),r=wqe(r,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),r}function xqe(){let t=[],e=[],n;return(r,i)=>((!n||!df(r,t)||!df(i,e))&&(n=bqe(r,i)),t=r,e=i,n)}function wqe(t,e){return{premiumReleaseDate:Cqe(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Cqe(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class If extends Ix{}If.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};If.prototype.baseIconClass="fc-icon";If.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};If.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};If.prototype.iconOverrideOption="buttonIcons";If.prototype.iconOverrideCustomButtonOption="icon";If.prototype.iconOverridePrefix="fc-icon-";function Sqe(t,e){let n={},r;for(r in t)XT(r,n,t,e);for(r in e)XT(r,n,t,e);return n}function XT(t,e,n,r){if(e[t])return e[t];let i=Eqe(t,e,n,r);return i&&(e[t]=i),i}function Eqe(t,e,n,r){let i=n[t],a=r[t],s=A=>i&&i[A]!==null?i[A]:a&&a[A]!==null?a[A]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=XT(l,e,n,r)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function dz(t){return xp(t,_qe)}function _qe(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=fz(e):n&&!(n.prototype instanceof zi)&&(n=fz(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function fz(t){return e=>Ze(wp.Consumer,null,n=>Ze(nd,{elTag:"div",elClasses:wne(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Bqe(t,e,n,r){let i=dz(t),a=dz(e.views),s=Sqe(i,a);return xp(s,o=>Nqe(o,a,e,n,r))}function Nqe(t,e,n,r,i){let a=t.overrides.duration||t.defaults.duration||r.duration||n.duration,s=null,o="",l="",u={};if(a&&(s=jqe(a),s)){let f=$T(s);o=f.unit,f.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let A=f=>{let h=f.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null},d=f=>{let h=f.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:A(r)||A(n)||t.overrides.buttonText,buttonTextDefault:A(i)||t.defaults.buttonText||A(ay)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(ay)}}let hz={};function jqe(t){let e=JSON.stringify(t),n=hz[e];return n===void 0&&(n=Pr(t),hz[e]=n),n}function Iqe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Tqe(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function kqe(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function Pqe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Dqe(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Oqe(t,e,n){let r=e?e.activeRange:null;return ore({},Hqe(t,n),r,n)}function Fqe(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return ore(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Mqe(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?lre(t,i,r):t;case"FETCH_EVENT_SOURCES":return yF(t,e.sourceIds?gne(e.sourceIds):cre(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Qqe(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Lqe(t,e,n){let r=e?e.activeRange:null;return yF(t,cre(t,n),r,!0,n)}function sre(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function ore(t,e,n,r){let i={};for(let a of e)i[a.sourceId]=a;return n&&(i=lre(i,n,r)),Object.assign(Object.assign({},t),i)}function Mqe(t,e){return Jh(t,n=>n.sourceId!==e)}function lre(t,e,n){return yF(t,Jh(t,r=>Rqe(r,e,n)),e,!1,n)}function Rqe(t,e,n){return ure(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function yF(t,e,n,r,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=Uqe(o,n,r,i):a[s]=o}return a}function Uqe(t,e,n,r){let{options:i,calendarApi:a}=r,s=r.pluginHooks.eventSourceDefs[t.sourceDefId],o=bp();return s.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function Qqe(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function cre(t,e){return Jh(t,n=>ure(n,e))}function Hqe(t,e){let n=Ine(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let a of r){let s=jne(a,e,n);s&&i.push(s)}return i}function ure(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function zqe(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Vqe(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function $qe(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Kqe(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Wqe(t,e,n,r,i){let a=t.headerToolbar?pz(t.headerToolbar,t,e,n,r,i):null,s=t.footerToolbar?pz(t.footerToolbar,t,e,n,r,i):null;return{header:a,footer:s}}function pz(t,e,n,r,i,a){let s={},o=[],l=!1;for(let u in t){let A=t[u],d=Gqe(A,e,n,r,i,a);s[u]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Gqe(t,e,n,r,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=n.buttonText||{},u=e.buttonText||{},A=n.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],p=!1;return{widgets:f.map(v=>v.split(",").map(g=>{if(g==="title")return p=!0,{buttonName:g};let y,x,C,E,j,_;if(y=o[g])C=B=>{y.click&&y.click.call(B.target,B,B.target)},(E=r.getCustomButtonIconClass(y))||(E=r.getIconClass(g,s))||(j=y.text),_=y.hint||y.text;else if(x=i[g]){h.push(g),C=()=>{a.changeView(g)},(j=x.buttonTextOverride)||(E=r.getIconClass(g,s))||(j=x.buttonTextDefault);let B=x.buttonTextOverride||x.buttonTextDefault;_=iy(x.buttonTitleOverride||x.buttonTitleDefault||e.viewHint,[B,g],B)}else if(a[g])if(C=()=>{a[g]()},(j=l[g])||(E=r.getIconClass(g,s))||(j=u[g]),g==="prevYear"||g==="nextYear"){let B=g==="prevYear"?"prev":"next";_=iy(A[B]||d[B],[u.year||"year","year"],u[g])}else _=B=>iy(A[g]||d[g],[u[B]||B,B],u[g]);return{buttonName:g,buttonClick:C,buttonIcon:E,buttonText:j,buttonHint:_}})),viewsWithButtons:h,hasTitle:p}}class qqe{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Yqe={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Xqe=jf({name:"array-event-source",eventSourceDefs:[Yqe]});let Jqe={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;eGe(i.bind(null,Mne(t.range,r)),a=>e({rawEvents:a}),n)}};const Zqe=jf({name:"func-event-source",eventSourceDefs:[Jqe]}),eYe={method:String,extraParams:Je,startParam:String,endParam:String,timeZoneParam:String};let tYe={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=rYe(r,t.range,t.context);tGe(r.method,r.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},n)}};const nYe=jf({name:"json-event-source",eventSourceRefiners:eYe,eventSourceDefs:[tYe]});function rYe(t,e,n){let{dateEnv:r,options:i}=n,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=r.formatIso(e.start),u[s]=r.formatIso(e.end),r.timeZone!=="local"&&(u[o]=r.timeZone),u}const iYe={daysOfWeek:Je,startTime:Pr,endTime:Pr,duration:Pr,startRecur:Je,endRecur:Je};let aYe={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=AKe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=qg(e,{start:t.startRecur,end:t.endRecur});return r?oYe(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const sYe=jf({name:"simple-recurring-event",recurringTypes:[aYe],eventRefiners:iYe});function oYe(t,e,n,r,i){let a=t?gne(t):null,s=Pi(i.start),o=i.end,l=[];for(e&&(e.milliseconds<0?o=us(o,1):e.milliseconds>=1e3*60*60*24&&(s=us(s,-1)));s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=r.add(s,e):u=s,l.push(r.createMarker(n.toDate(u)))),s=us(s,1)}return l}const lYe=jf({name:"change-handler",optionChangeHandlers:{events(t,e){mz([t],e)},eventSources:mz}});function mz(t,e){let n=iF(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let a=!1;for(let s=0;s<n.length;s+=1)if(n[s]._raw===i){n.splice(s,1),a=!0;break}a||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function cYe(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Mne(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function uYe(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Th(t,e))}const AYe=[Xqe,Zqe,nYe,sYe,lYe,jf({name:"misc",isLoadingFuncs:[t=>sre(t.eventSources)],propSetHandlers:{dateProfile:cYe,eventStore:uYe}})];class dYe{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new YO(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function fYe(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,ls(e.titleFormat||hYe(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function hYe(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=xS(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class gz{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class pYe{constructor(e){this.computeCurrentViewData=Br(this._computeCurrentViewData),this.organizeRawLocales=Br(gqe),this.buildLocale=Br(ire),this.buildPluginHooks=xqe(),this.buildDateEnv=Br(mYe),this.buildTheme=Br(gYe),this.parseToolbars=Br(Wqe),this.buildViewSpecs=Br(Bqe),this.buildDateProfileGenerator=i2(vYe),this.buildViewApi=Br(yYe),this.buildViewUiProps=i2(wYe),this.buildEventUiBySource=Br(bYe,su),this.buildEventUiBases=Br(xYe),this.parseContextBusinessHours=i2(CYe),this.buildTitle=Br(fYe),this.nowManager=new gz,this.emitter=new zE,this.actionRunner=new dYe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause(),this.nowManager=new gz;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=kqe(r.calendarOptions,r.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);ef(l.activeRange,o)||(o=l.currentRange.start);for(let f of r.pluginHooks.contextInit)f(s);let u=Oqe(r.calendarOptions,l,s),A={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Xc(),renderableEventStore:Xc(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},d=Object.assign(Object.assign({},s),A);for(let f of r.pluginHooks.reducers)Object.assign(A,f(null,null,d));_N(A,s)&&this.emitter.trigger("loading",!0),this.state=A,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,a=Pqe(r.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),o=Iqe(r.currentViewType,e),l=this.computeCurrentViewData(o,s,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:A,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(A)),A=Tqe(A,e),d=Dqe(d,e,A,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ef(d.currentRange,A))&&(A=d.currentRange.start);let f=Fqe(r.eventSources,e,d,u),h=_We(r.eventStore,e,f,d,u),m=sre(f)&&!l.options.progressiveEventRendering&&r.renderableEventStore||h,{eventUiSingleBase:v,selectionConfig:g}=this.buildViewUiProps(u),y=this.buildEventUiBySource(f),x=this.buildEventUiBases(m.defs,v,y),C={dynamicOptionOverrides:a,currentViewType:o,currentDate:A,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:m,selectionConfig:g,eventUiBases:x,businessHours:this.parseContextBusinessHours(u),dateSelection:zqe(r.dateSelection,e),eventSelection:Vqe(r.eventSelection,e),eventDrag:$qe(r.eventDrag,e),eventResize:Kqe(r.eventResize,e)},E=Object.assign(Object.assign({},u),C);for(let B of s.pluginHooks.reducers)Object.assign(C,B(r,e,E));let j=_N(r,u),_=_N(C,u);!j&&_?i.trigger("loading",!0):j&&!_&&i.trigger("loading",!1),this.state=C,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),n),o=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(n.eventSources=s.eventSources=Lqe(s.eventSources,n.dateProfile,s),n.eventStore=s.eventStore=rz(s.eventStore,r.dateEnv,s.dateEnv),n.renderableEventStore=s.renderableEventStore=rz(s.renderableEventStore,r.dateEnv,s.dateEnv));for(let A in o)(this.optionsForHandling.indexOf(A)!==-1||l[A]!==u[A])&&o[A](u[A],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,n);vz(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),A=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(i,a),f=this.parseToolbars(i,this.stableOptionOverrides,d,A,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:A,theme:d,toolbarConfig:f,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=vN([ay,e,n]),a=this.organizeRawLocales(r),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],AYe),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},YH),XH),JH),l.listenerRefiners),l.optionRefiners),A={},d=vN([ay,o,e,n]),f={},h=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===h[v]||eh[v]&&v in h&&eh[v](h[v],d[v]))?f[v]=p[v]:u[v]?(f[v]=u[v](d[v]),m=!0):A[v]=h[v];return m&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:A}}_computeCurrentViewData(e,n,r,i){let a=n.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,r,i);vz(o),this.nowManager.handleInput(n.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,n,r,i,a){let s=vN([ay,e.optionDefaults,r,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},YH),XH),JH),zKe),n.listenerRefiners),n.optionRefiners),l={},u=this.currentViewOptionsInput,A=this.currentViewOptionsRefined,d=!1,f={};for(let h in s)s[h]===u[h]||eh[h]&&eh[h](s[h],u[h])?l[h]=A[h]:(s[h]===this.currentCalendarOptionsInput[h]||eh[h]&&eh[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(l[h]=this.currentCalendarOptionsRefined[h]):o[h]?l[h]=o[h](s[h]):f[h]=s[h],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function mYe(t,e,n,r,i,a,s,o){let l=ire(e||s.defaultCode,s.map);return new eWe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function gYe(t,e){let n=e.themeClasses[t.themeSystem]||If;return new n(t)}function vYe(t){let e=t.dateProfileGeneratorClass||Ene;return new e(t)}function yYe(t,e,n){return new qqe(t,e,n)}function bYe(t){return xp(t,e=>e.ui)}function xYe(t,e,n){let r={"":e};for(let i in t){let a=t[i];a.sourceId&&n[a.sourceId]&&(r[i]=n[a.sourceId])}return r}function wYe(t){let{options:e}=t;return{eventUiSingleBase:BS({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:BS({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function _N(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function CYe(t){return OWe(t.options.businessHours,t)}function vz(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class SYe extends zi{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return Ze("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:A,buttonHint:d}=s;if(o==="title")a=!1,i.push(Ze("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=o===n.activeButton,h=!n.isTodayEnabled&&o==="today"||!n.isPrevEnabled&&o==="prev"||!n.isNextEnabled&&o==="next",p=[`fc-${o}-button`,r.getClass("button")];f&&p.push(r.getClass("buttonActive")),i.push(Ze("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:h,"aria-pressed":f,className:p.join(" "),onClick:l},u||(A?Ze("span",{className:A,role:"img"}):"")))}}if(i.length>1){let s=a&&r.getClass("buttonGroup")||"";return Ze("div",{className:s},...i)}return i[0]}}class yz extends zi{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(r=!0,i=s.left):i=s.start,s.right?(r=!0,a=s.right):a=s.end,Ze("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,n){let{props:r}=this;return Ze(SYe,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class EYe extends zi{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Gu(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return r?n.availableWidth!==null?a=n.availableWidth/r:s=`${1/r*100}%`:a=e.height||"",Ze("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class _Ye extends _0{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:a}=i,s=Yg(r);if(s&&i.isValidSegDownEl(n.target)){let o=ao(n.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:r,event:new Di(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:a.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=fne(e.el,"click",".fc-event",this.handleSegClick)}}class BYe extends _0{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Yg(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=Y$e(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:a}=i,s=Yg(r);(!n||i.isValidSegDownEl(n.target))&&a.emitter.trigger(e,{el:r,event:new Di(a,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:a.viewApi})}}class NYe extends Cp{constructor(){super(...arguments),this.buildViewContext=Br(rWe),this.buildViewPropTransformers=Br(IYe),this.buildToolbarProps=Br(jYe),this.headerRef=KA(),this.footerRef=KA(),this.interactionsStore={},this.state={viewLabelId:RE()},this.registerInteractiveComponent=(e,n)=>{let r=iGe(e,n),s=[_Ye,BYe].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(r));this.interactionsStore[e.uid]=s,qT[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete qT[e.uid]},this.resizeRunner=new YO(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":r.height!=null?i=!0:r.contentHeight!=null?a=r.contentHeight:s=Math.max(r.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return Ze(wp.Provider,{value:o},Ze(VE,{unit:"day"},u=>{let A=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return Ze(ea,null,n.header&&Ze(yz,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},A)),Ze(EYe,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&Ze(yz,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},A)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return Ze(ea,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=r.component;return Ze(s,Object.assign({},i))}}function jYe(t,e,n,r,i,a){let s=n.build(i,void 0,!1),o=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!ef(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function IYe(t){return t.map(e=>new e)}class TYe extends sGe{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;ES(()=>{Ob(Ze(rGe,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),Ze(xne.Provider,{value:this.customContentRenderId},Ze(NYe,Object.assign({isHeightAuto:s,forPrint:o},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ob(null,this.el),this.setClassNames([]),this.setHeight(""))},Q$e(e),this.el=e,this.renderRunner=new YO(this.handleRenderRequest),new pYe({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){ES(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!df(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Ane(this.el,"height",e)}}const kYe=parseInt(String(be.version).split(".")[0]),PYe=kYe<18;class bF extends P.Component{constructor(){super(...arguments),this.elRef=P.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(be.createElement(DYe,{key:n.id,customRendering:n}));return be.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new pqe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new TYe(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Py.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),a=!n;(PYe||a||this.isUpdating||this.isUnmounting||i-n<100?Are:Py.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}bF.act=Are;class DYe extends P.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Py.createPortal(r,e.containerEl)}}function Are(t){t()}class OYe extends Sp{constructor(){super(...arguments),this.headerElRef=KA()}renderSimpleLayout(e,n){let{props:r,context:i}=this,a=[],s=uz(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),Ze(ZH,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},Ze(Jne,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,n,r,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&uz(o.options),u=!s.forPrint&&YGe(o.options),A=[];return e&&A.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),A.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&A.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:qGe}]}),Ze(ZH,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},Ze(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:A}))}}function s2(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function q1(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function bz(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const dre=ls({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function fre(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class hre extends zi{render(){let{props:e}=this;return Ze(Zne,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:dre,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class pre extends zi{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,a=r.eventTimeFormat||dre,s=Fne(i,a,n,!0,e.defaultDisplayEventEnd);return Ze(vF,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Lne(e.seg,n),defaultGenerator:FYe,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function FYe(t){return Ze(ea,null,Ze("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&Ze("div",{className:"fc-event-time"},t.timeText),Ze("div",{className:"fc-event-title"},t.event.title||Ze(ea,null,"")))}class LYe extends zi{constructor(){super(...arguments),this.compileSegs=Br(MYe)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return Ze(lqe,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Ze(ea,null,n.map(a=>{let s=a.eventRange.instance.instanceId;return Ze("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},fre(a)?Ze(pre,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},sy(a,e.todayRange))):Ze(hre,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},sy(a,e.todayRange))))}))}})}}function MYe(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const RYe=ls({week:"narrow"});class UYe extends Sp{constructor(){super(...arguments),this.rootElRef=KA(),this.state={dayNumberId:RE()},this.handleRootEl=e=>{Gu(this.rootElRef,e),Gu(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=n;const u=n.showDayNumber&&HYe(o,l.currentRange,s);return Ze(ere,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:QYe,date:o,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(A,d)=>Ze("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&Ze(iqe,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:YT(e,o,"week"),date:o,defaultFormat:RYe}),!d.isDisabled&&(n.showDayNumber||tre(a)||n.forceDayTop)?Ze("div",{className:"fc-daygrid-day-top"},Ze(A,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},YT(e,o)),{id:r.dayNumberId})})):n.showDayNumber?Ze("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Ze("a",{className:"fc-daygrid-day-number"},"")):void 0,Ze("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,Ze("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},Ze(LYe,{allDayDate:o,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),Ze("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function QYe(t){return t.dayNumberText||Ze(ea,null,"")}function HYe(t,e,n){const{start:r,end:i}=e,a=ff(i,-1),s=n.getYear(r),o=n.getMonth(r),l=n.getYear(a),u=n.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function mre(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function gre(t){return mre(t)+":"+t.lastCol}function zYe(t,e,n,r,i,a,s){let o=new KYe(g=>{let y=t[g.index].eventRange.instance.instanceId+":"+g.span.start+":"+(g.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=r,e===!0||n===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof n=="number"&&(o.maxStackCnt=n,o.hiddenConsumes=!0);let l=[],u=[];for(let g=0;g<t.length;g+=1){let y=t[g],x=gre(y);i[x]!=null?l.push({index:g,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let A=o.addSegs(l),d=o.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:p}=VYe(d,t,s),m=[],v=[];for(let g of u){h[g.firstCol].push({seg:g,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=g.firstCol;y<=g.lastCol;y+=1)f[y].push({seg:zm(g,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<s.length;g+=1)m.push(0);for(let g of A){let y=t[g.index],x=g.span;h[x.start].push({seg:zm(y,x.start,x.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=x.start;C<x.end;C+=1)m[C]+=1,f[C].push({seg:zm(y,C,C+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<s.length;g+=1)v.push(p[g]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:m,moreMarginTops:v}}function VYe(t,e,n){let r=$Ye(t,n.length),i=[],a=[],s=[];for(let o=0;o<n.length;o+=1){let l=r[o],u=[],A=0,d=0;for(let h of l){let p=e[h.index];u.push({seg:zm(p,o,o+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-A}),A=h.levelCoord+h.thickness}let f=[];A=0,d=0;for(let h of l){let p=e[h.index],m=h.span.end-h.span.start>1,v=h.span.start===o;d+=h.levelCoord-A,A=h.levelCoord+h.thickness,m?(d+=h.thickness,v&&f.push({seg:zm(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):v&&(f.push({seg:zm(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}i.push(u),a.push(f),s.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function $Ye(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function zm(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,a=i.range,s=qg(a,{start:r[e].date,end:us(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class KYe extends wGe{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=a=>!this.forceHidden[oy(a)];for(let a=0;a<r.length;a+=1)r[a]=r[a].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=oy(s);if(!a[u])if(this.allowReslicing){const A=Object.assign(Object.assign({},s),{span:$ne(s.span,n.span)}),d=oy(A);a[d]=!0,i[o][l]=A,r.push(A),this.splitEntry(s,n,r)}else a[u]=!0,r.push(s)}super.handleInvalidInsertion(e,n,r)}}class vre extends Sp{constructor(){super(...arguments),this.cellElRefs=new vh,this.frameElRefs=new vh,this.fgElRefs=new vh,this.segHarnessRefs=new vh,this.rootElRef=KA(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,a=e.cells.length,s=q1(e.businessHourSegs,a),o=q1(e.bgEventSegs,a),l=q1(this.getHighlightSegs(),a),u=q1(this.getMirrorSegs(),a),{singleColPlacements:A,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=zYe(UWe(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Ze("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,v)=>{let g=this.renderFgSegs(v,e.forPrint?A[v]:d[v],e.todayRange,p),y=this.renderFgSegs(v,WYe(u[v],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Ze(UYe,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:f[v],moreMarginTop:h[v],singlePlacements:A[v],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:Ze(ea,null,Ze(ea,null,g),Ze(ea,null,y)),bgContent:Ze(ea,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!su(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:A}=this.state,d=this.props.cells.length===1,f=a||s||o,h=[];if(A)for(let p of n){let{seg:m}=p,{instanceId:v}=m.eventRange.instance,g=p.isVisible&&!i[v],y=p.isAbsolute,x="",C="";y&&(l.isRtl?(C=0,x=A.lefts[m.lastCol]-A.lefts[m.firstCol]):(x=0,C=A.rights[m.firstCol]-A.rights[m.lastCol])),h.push(Ze("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:mre(m),ref:f?null:this.segHarnessRefs.createRef(gre(m)),style:{visibility:g?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:x,right:C}},fre(m)?Ze(pre,Object.assign({seg:m,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:d},sy(m,r))):Ze(hre,Object.assign({seg:m,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:d},sy(m,r)))))}return h}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=r?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(Ze("div",{key:KWe(o.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?Ze(tqe,Object.assign({seg:o},sy(o,i))):rqe(n)))}return Ze(ea,{},...s)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,A=new jS(u,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(A))&&this.setState({framePositions:new jS(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}vre.addStateEquality({segHeights:su});function WYe(t,e){if(!t.length)return[];let n=GYe(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function GYe(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class qYe extends Sp{constructor(){super(...arguments),this.splitBusinessHourSegs=Br(s2),this.splitBgEventSegs=Br(YYe),this.splitFgEventSegs=Br(s2),this.splitDateSelectionSegs=Br(s2),this.splitEventDrag=Br(bz),this.splitEventResize=Br(bz),this.rowRefs=new vh}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitFgEventSegs(e.fgEventSegs,r),o=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),A=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return Ze(VE,{unit:"day"},(d,f)=>Ze(ea,null,e.cells.map((h,p)=>Ze(vre,{ref:this.rowRefs.createRef(p),key:h.length?h[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:a[p],fgEventSegs:s[p],dateSelectionSegs:o[p],eventDrag:l[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:A,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new jS(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new jS(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,a=r.leftToIndex(e),s=i.topToIndex(n);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:r.lefts[a],right:r.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=us(r,1);return{start:r,end:i}}}function YYe(t,e){return s2(t.filter(XYe),e)}function XYe(t){return t.eventRange.def.allDay}let JYe=class extends Sp{constructor(){super(...arguments),this.elRef=KA(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,a=r===!0||n===!0;a&&!i&&(a=!1,n=null,r=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return Ze("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Ze("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,Ze("tbody",{role:"presentation"},Ze(qYe,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=ZYe(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};function ZYe(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${BKe(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${eF(e.currentDate)}"]`)),n}class eXe extends kGe{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class tXe extends Sp{constructor(){super(...arguments),this.slicer=new eXe,this.tableRef=KA()}render(){let{props:e,context:n}=this;return Ze(JYe,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class nXe extends OYe{constructor(){super(...arguments),this.buildDayTableModel=Br(rXe),this.headerRef=KA(),this.tableRef=KA()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),a=e.dayHeaders&&Ze(NGe,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>Ze(tXe,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function rXe(t,e){let n=new IGe(t.renderRange,e);return new TGe(n,/year|month|week/.test(t.currentRangeUnit))}class iXe extends Ene{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:a}=this;return aXe({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function aXe(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,a;if(t.snapToWeek&&(r=e.startOfWeek(r),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=$H(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(us(n.end,-1))),o=Math.ceil(pKe(s,i));i=$H(i,6-o)}return{start:r,end:i}}var sXe=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';lne(sXe);var yre=jf({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:nXe,dateProfileGeneratorClass:iXe},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),bre={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Ao",month:"Mes",week:"Semana",day:"Da",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today(t){return t==="Da"?"Hoy":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Vista "+(t==="Semana"?"de la":"del")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el da",moreLinkText:"ms",moreLinkHint(t){return`Mostrar ${t} eventos ms`},noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"};const oXe=(t,e)=>{const n=[],r=new Date,i=r.getFullYear();return t.forEach(a=>{const s=a.category==="Tratamiento"?"#007AFF":"#AF52DE";if(e==="Maternidad"&&a.trigger.type==="age"&&a.trigger.days)a.trigger.days.forEach(o=>{const l=new Date;l.setDate(r.getDate()+o),n.push({title:a.name,start:l,backgroundColor:s,borderColor:s})});else if(e==="Adultos"&&a.trigger.type==="fixed_date_period"&&a.trigger.month&&a.trigger.week){const o=(a.trigger.week-1)*7+1,l=new Date(i,a.trigger.month-1,o);n.push({title:a.name,start:l,backgroundColor:s,borderColor:s})}}),n},lXe=({isOpen:t,onClose:e,activities:n,targetGroup:r})=>{const i=be.useMemo(()=>oXe(n,r),[n,r]);return c.jsx(An,{isOpen:t,onClose:e,title:"",children:c.jsxs(Zi.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-2xl mx-auto p-4 sm:p-0",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white leading-none",children:"Previsualizacin del Plan"}),c.jsx("p",{className:"text-zinc-400 mt-2",children:r==="Maternidad"?"Este calendario simula las fechas de las actividades asumiendo un nacimiento el da de hoy.":"Este calendario muestra la distribucin de las actividades a lo largo del ao actual."})]}),c.jsx("div",{className:"h-[55vh] sm:h-[60vh] text-white",children:c.jsx(bF,{plugins:[yre],initialView:"dayGridMonth",locale:bre,events:i,height:"100%",headerToolbar:{left:"prev,next",center:"title",right:"today"}})}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx("button",{onClick:e,className:"px-6 py-3 bg-brand-blue text-white font-bold rounded-xl w-full sm:w-auto",children:"Cerrar"})})]})})},cXe=({targetGroup:t,activityType:e,onSaveActivity:n,existingActivity:r,clearEditing:i})=>{const{products:a,addProduct:s}=Yt(),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(!1),[m,v]=P.useState(null),[g,y]=P.useState(new Set),[x,C]=P.useState(""),[E,j]=P.useState(null),_=["0","8","15","21","30","45","60","75","90","105","120"],O=e==="Control"?t==="Maternidad"?["Cura de Ombligo","Descorne","Castracin","Hematologa","Coprologa","FAMACHA"]:["Hematologa","Coprologa","Arreglo Podal","FAMACHA"]:t==="Maternidad"?["Coxidioesttico","Desparasitacin","Vacuna Clostridial"]:["Desparasitacin","Vacuna Leptospirosis","Vacuna Clostridial","Vacuna Rabia"],L=P.useMemo(()=>a.reduce((le,se)=>{const M=se.category||"Otro";return le[M]||(le[M]=[]),le[M].push(se),le},{}),[a]);P.useEffect(()=>{r?(l(r.name),e==="Tratamiento"&&(A(r.productId||""),f(r.complementaryProductId||"")),t==="Maternidad"&&r.trigger.days&&y(new Set(r.trigger.days.map(String))),t==="Adultos"&&r.trigger.month&&r.trigger.week&&y(new Set([`${r.trigger.month}-${r.trigger.week}`]))):H()},[r,e,t]);const H=()=>{l(""),A(""),f(""),y(new Set),C(""),v(null),i()},q=le=>{le.trim()&&y(se=>{const M=new Set(se);return M.has(le)?M.delete(le):M.add(le),M})},Y=()=>{x&&!isNaN(Number(x))&&(q(x),C(""))},ee=async le=>{await s(le),p(!1)},K=()=>{if(v(null),!o.trim()){v("El nombre es obligatorio.");return}if(e==="Tratamiento"&&!u){v("Debe seleccionar un producto principal.");return}if(g.size===0){v("Debe seleccionar al menos un tiempo de aplicacin.");return}const le=[],se={category:e,name:o};if(e==="Tratamiento"&&(u&&(se.productId=u),d&&(se.complementaryProductId=d)),t==="Maternidad"){const M={type:"age",days:Array.from(g).map(Number).sort(($,J)=>$-J)};le.push({...se,trigger:M})}else Array.from(g).forEach(M=>{const[$,J]=M.split("-").map(Number),ne={type:"fixed_date_period",month:$,week:J};le.push({...se,trigger:ne})});le.forEach(M=>n(M,!!r)),H()},te=Array.from(g).filter(le=>!_.includes(le));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Aadir ",e]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{list:"activity-names-list",value:o,onChange:le=>l(le.target.value),placeholder:`Nombre del ${e}...`,className:"w-full bg-zinc-800 p-3 rounded-lg text-base"}),c.jsx("datalist",{id:"activity-names-list",children:O.map(le=>c.jsx("option",{value:le},le))}),e==="Control"&&c.jsx("button",{type:"button",onClick:()=>alert("Funcionalidad para crear nuevos tipos de control en desarrollo."),className:"flex-shrink-0 p-3 bg-brand-orange/80 text-white rounded-lg",children:c.jsx(Bl,{size:20})})]}),e==="Tratamiento"&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:u,onChange:le=>A(le.target.value),className:"w-full bg-zinc-800 p-3 rounded-lg text-base appearance-none",children:[c.jsx("option",{value:"",disabled:!0,children:"Producto Principal..."}),Object.entries(L).map(([le,se])=>c.jsx("optgroup",{label:le,children:se.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))},le))]}),c.jsx("button",{type:"button",onClick:()=>p(!0),className:"flex-shrink-0 p-3 bg-brand-orange text-white rounded-lg",children:c.jsx(Bl,{size:20})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d,onChange:le=>f(le.target.value),className:"w-full bg-zinc-800 p-3 rounded-lg text-base appearance-none",children:[c.jsx("option",{value:"",children:"Producto Complementario (Opcional)..."}),Object.entries(L).map(([le,se])=>c.jsx("optgroup",{label:le,children:se.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))},le))]}),c.jsx("button",{type:"button",onClick:()=>p(!0),className:"flex-shrink-0 p-3 bg-brand-orange/50 text-white rounded-lg",children:c.jsx(Bl,{size:20})})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-base font-medium text-zinc-400",children:"Tiempos de Aplicacin (Selecciona uno o varios)"}),t==="Maternidad"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.map(le=>c.jsx("button",{type:"button",onClick:()=>q(le),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${g.has(le)?"bg-zinc-200 text-black":"bg-zinc-700 text-zinc-300"}`,children:le==="0"?"Nacimiento":`${le} das`},le)),te.map(le=>c.jsxs("button",{type:"button",onClick:()=>q(le),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-semibold rounded-lg bg-zinc-200 text-black",children:[le," das ",c.jsx(Go,{size:16})]},`manual-${le}`))]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("input",{type:"number",value:x,onChange:le=>C(le.target.value),placeholder:"Da manual...",className:"w-full bg-zinc-800 p-3 rounded-lg text-base"}),c.jsx("button",{type:"button",onClick:Y,className:"px-5 py-3 bg-zinc-700 text-white font-semibold rounded-lg text-sm hover:bg-zinc-600",children:"Agregar"})]})]}):c.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg",children:c.jsx(qw,{mode:"wait",children:E?c.jsxs(Zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>j(null),className:"p-2 text-zinc-400 hover:bg-zinc-700 rounded-md",children:c.jsx(Fi,{size:16})}),c.jsx("h4",{className:"font-bold text-white",children:new Date(0,E-1).toLocaleString("es-VE",{month:"long"})})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(le=>{const se=`${E}-${le}`,M=g.has(se);return c.jsxs("button",{type:"button",onClick:()=>q(se),className:`py-3 px-2 text-sm font-semibold rounded-md transition-colors ${M?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:["Semana ",le]},le)})})]},"weeks-view"):c.jsx(Zi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-4 gap-2",children:[...Array(12)].map((le,se)=>{const M=se+1,$=new Date(0,se).toLocaleString("es-VE",{month:"short"}),J=Array.from(g).some(ne=>ne.startsWith(`${M}-`));return c.jsxs("button",{type:"button",onClick:()=>j(M),className:"relative text-center py-3 px-2 text-sm font-semibold rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-300 transition-colors",children:[J&&c.jsx("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-brand-green rounded-full"}),$.charAt(0).toUpperCase()+$.slice(1)]},M)})},"months-view")})})]}),m&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2",children:[c.jsx(mr,{size:16})," ",m]}),c.jsx("button",{type:"button",onClick:K,className:"w-full py-3 bg-brand-orange text-black font-bold rounded-lg text-base mt-4",children:r?"Actualizar Actividad":"Aadir a la Lista"}),c.jsx(An,{isOpen:h,onClose:()=>p(!1),title:"Crear Producto",children:c.jsx(GO,{onSave:ee,onCancel:()=>p(!1)})})]})},uXe=({onSave:t,onCancel:e})=>{const[n,r]=P.useState(1),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState("Maternidad"),[A,d]=P.useState(new Set),[f,h]=P.useState([]),[p,m]=P.useState(null),[v,g]=P.useState(null),[y,x]=P.useState(!1),[C,E]=P.useState("Tratamiento"),[j,_]=P.useState(!1),B=["Cabritonas","Cabras","Reproductores","Machos de Levante"],N=H=>{d(q=>{const Y=new Set(q);return Y.has(H)?Y.delete(H):Y.add(H),Y})},D=(H,q)=>{h(q&&p?Y=>Y.map(ee=>ee.tempId===p.tempId?{...H,tempId:ee.tempId}:ee):Y=>[...Y,{...H,tempId:Date.now()}])},T=H=>{h(q=>q.filter(Y=>Y.tempId!==H))},O=async()=>{if(!i.trim()){g("El nombre del plan es obligatorio.");return}if(l==="Adultos"&&A.size===0){g("Debe seleccionar al menos una categora de adulto.");return}if(f.length===0){g("Debe aadir al menos una actividad al plan.");return}g(null),x(!0);try{const H=f.map(({tempId:Y,...ee})=>ee),q={name:i,description:s,targetGroup:l,adultsSubgroup:l==="Adultos"?Array.from(A):void 0};await t(q,H)}catch{g("No se pudo guardar el plan."),x(!1)}},L=()=>n===1?c.jsxs(Zi.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Crear Plan Sanitario"}),c.jsx("p",{className:"text-zinc-400",children:"Paso 1: Define tu plan"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:"Nombre del Plan",className:"w-full bg-zinc-800 p-3 rounded-xl text-base"}),c.jsx("input",{type:"text",value:s,onChange:H=>o(H.target.value),placeholder:"Descripcin (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-base"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-base font-medium text-zinc-400 mb-2 block",children:"Grupo Objetivo"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>u("Maternidad"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${l==="Maternidad"?"bg-teal-500/20 border-teal-500 scale-105":"bg-zinc-800/50 border-zinc-700"}`,children:[c.jsx(tme,{className:"w-8 h-8 text-teal-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Maternidad"})]}),c.jsxs("button",{type:"button",onClick:()=>u("Adultos"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${l==="Adultos"?"bg-pink-500/20 border-pink-500 scale-105":"bg-zinc-800/50 border-zinc-700"}`,children:[c.jsx(ime,{className:"w-8 h-8 text-pink-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Rebao Adulto"})]})]})]})]}),v&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2 mt-4",children:[c.jsx(mr,{size:16})," ",v]}),c.jsxs("div",{className:"flex flex-col sm:flex-row-reverse sm:justify-start gap-3 pt-4",children:[c.jsx("button",{onClick:()=>{i.trim()?(r(2),g(null)):g("El nombre del plan es obligatorio.")},className:"w-full sm:w-auto px-5 py-3 bg-brand-orange text-black font-bold rounded-xl flex items-center justify-center gap-2",children:"Siguiente"}),c.jsx("button",{onClick:e,className:"w-full sm:w-auto px-5 py-3 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-xl",children:"Cancelar"})]})]},"step1"):n===2?c.jsxs(Zi.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:i||"Nuevo Plan"}),c.jsxs("p",{className:"text-zinc-400",children:["Paso 2: Aade las actividades para el grupo: ",c.jsx("span",{className:"font-semibold text-white",children:l})]})]}),c.jsx(qw,{children:l==="Adultos"&&c.jsxs(Zi.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[c.jsx("label",{className:"text-base font-medium text-zinc-400 mb-2 block",children:"Categoras (Selecciona una o varias)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(H=>c.jsx("button",{type:"button",onClick:()=>N(H),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${A.has(H)?"bg-pink-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:H},H))})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-xl font-semibold text-zinc-300",children:["Actividades del Plan (",f.length,")"]}),c.jsx("div",{className:"min-h-[100px] max-h-60 overflow-y-auto pr-2 border border-brand-border rounded-xl p-2 space-y-2",children:c.jsx(qw,{children:f.length>0?f.map(H=>{var q;return c.jsxs(Zi.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`flex justify-between items-center bg-zinc-800 p-3 rounded-lg border-l-4 ${H.category==="Tratamiento"?"border-blue-500":"border-purple-500"}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:H.name}),c.jsxs("p",{className:"text-xs text-zinc-400",children:[((q=H.trigger.days)==null?void 0:q.map(Y=>Y===0?"Nacer":Y).join(", "))||"Tiempos no definidos"," das"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>m({activity:H,tempId:H.tempId}),className:"p-1 text-zinc-400 hover:text-brand-orange",children:c.jsx(bf,{size:16})}),c.jsx("button",{onClick:()=>T(H.tempId),className:"p-1 text-zinc-400 hover:text-brand-red",children:c.jsx(xc,{size:16})})]})]},H.tempId)}):c.jsx("div",{className:"text-center py-6 text-zinc-500",children:c.jsx("p",{children:"Aade actividades para empezar a construir tu plan."})})})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"relative flex w-full max-w-sm mx-auto justify-between rounded-lg bg-zinc-800 p-1 mb-6",children:[c.jsxs("button",{type:"button",onClick:()=>E("Tratamiento"),className:"relative z-10 w-1/2 py-2 text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(rme,{})," Tratamiento"]}),c.jsxs("button",{type:"button",onClick:()=>E("Control"),className:"relative z-10 w-1/2 py-2 text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(nme,{})," Control"]}),c.jsx(Zi.div,{layoutId:"add-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${C==="Control"?"left-1/2":"left-1"}`})]}),c.jsx(cXe,{targetGroup:l,activityType:C,onSaveActivity:D,existingActivity:p?p.activity:null,clearEditing:()=>m(null)})]}),v&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2 mt-4",children:[c.jsx(mr,{size:16})," ",v]}),c.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between items-center pt-6 gap-4",children:[c.jsxs("button",{onClick:()=>r(1),className:"w-full sm:w-auto px-5 py-3 text-zinc-300 font-semibold rounded-xl flex items-center justify-center gap-2 hover:bg-zinc-700",children:[c.jsx(Fi,{size:16})," Atrs"]}),c.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>_(!0),className:"flex-1 px-5 py-3 bg-brand-blue text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[c.jsx(wq,{size:16})," Previsualizar"]}),c.jsx("button",{onClick:O,disabled:y,className:"flex-1 px-5 py-3 bg-brand-green text-white font-bold rounded-xl flex items-center justify-center gap-2 disabled:opacity-50",children:y?"Guardando...":c.jsxs(c.Fragment,{children:[c.jsx(As,{size:16})," Guardar"]})})]})]})]},"step2"):null;return c.jsxs("div",{className:"w-full p-4",children:[c.jsx(qw,{mode:"wait",children:L()}),c.jsx(lXe,{isOpen:j,onClose:()=>_(!1),activities:f,targetGroup:l})]})},AXe=({plan:t,onClick:e,onDelete:n,isDeleting:r})=>{const i=Ap(),a=P.useRef(!1),s=(o,l)=>{const u=l.offset.x,A=l.velocity.x;if(Math.abs(u)<5&&!a.current){e();return}u<-80/2||A<-500?i.start({x:-80}):i.start({x:0}),setTimeout(()=>{a.current=!1},100)};return c.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl bg-dashboard-surface border border-brand-border transition-opacity ${r?"opacity-50":"opacity-100"}`,children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("button",{onClick:n,onPointerDown:o=>o.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white transition-colors hover:bg-red-600",children:[c.jsx(xc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})}),c.jsx(Zi.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{a.current=!0},onDragEnd:s,onTap:()=>{!a.current&&!r&&e()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),c.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:t.description||`Plan para ${t.targetGroup}`})]}),r?c.jsx(eu,{className:"animate-spin text-zinc-400"}):c.jsx(ta,{className:"text-zinc-600"})]})})]})};function dXe({navigateTo:t}){const{healthPlans:e,deleteHealthPlan:n,addHealthPlanWithActivities:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(null),[l,u]=P.useState(null),A=async(f,h)=>{await r(f,h),a(!1)},d=async()=>{if(s!=null&&s.id){u(s.id),o(null);try{await n(s.id)}catch(f){console.error("Error al eliminar el plan:",f)}finally{u(null)}}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Planificador Sanitario"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus Protocolos y Planes"})]}),c.jsxs("button",{onClick:()=>a(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:opacity-90 text-black font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:18})," Crear Nuevo Plan Sanitario"]}),c.jsx("div",{className:"space-y-3 pt-4",children:e.length>0?e.map(f=>c.jsx(AXe,{plan:f,onClick:()=>t({name:"plan-detail",planId:f.id}),onDelete:()=>o(f),isDeleting:l===f.id},f.id)):c.jsxs("div",{className:"text-center py-10 bg-dashboard-surface rounded-2xl flex flex-col items-center gap-4",children:[c.jsx(SD,{size:48,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold",children:"An no has creado ningn plan."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:"Usa el botn de arriba para empezar."})]})})]}),c.jsx(An,{isOpen:i,onClose:()=>a(!1),title:"",children:c.jsx(uXe,{onSave:A,onCancel:()=>a(!1)})}),c.jsx(C0,{isOpen:!!s,onClose:()=>o(null),onConfirm:d,title:`Eliminar Plan "${s==null?void 0:s.name}"`,message:"Ests seguro? Al eliminar el plan, tambin se eliminarn todas sus actividades asociadas. Esta accin no se puede deshacer."})]})}gF.touchMouseIgnoreWait=500;let JT=0,IS=0,ZT=!1;class xre{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&fXe(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,hXe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new zE,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),pXe()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),mXe()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||ao(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ZT=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ao(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return JT||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ZT=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,a,s=0,o=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),n?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function fXe(t){return t.button===0&&!t.ctrlKey}function hXe(){JT+=1,setTimeout(()=>{JT-=1},gF.touchMouseIgnoreWait)}function pXe(){IS+=1,IS===1&&window.addEventListener("touchmove",wre,{passive:!1})}function mXe(){IS-=1,IS||window.removeEventListener("touchmove",wre,{passive:!1})}function wre(t){ZT&&t.preventDefault()}class gXe{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",ry(r,{left:i.left,top:i.top}),X$e(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(XO(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ry(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),ry(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class Cre extends mF{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Sre extends Cre{constructor(e,n){super(new bGe(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return vGe(this.scrollController.el)}}class vXe extends Cre{constructor(e){super(new xGe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const xz=typeof performance=="function"?performance.now:Date.now;class yXe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=xz();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(xz()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*n,o=1;switch(e.name){case"left":o=-1;case"right":r.setScrollLeft(r.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":r.setScrollTop(r.getScrollTop()+s*o);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,A=n-o.top,d=o.bottom-n;l>=0&&u>=0&&A>=0&&d>=0&&(A<=r&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>A)&&(i={scrollCache:s,name:"top",distance:A}),d<=r&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=r&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new vXe(!1):new Sre(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Tx extends CGe{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,J$e(document.body),eKe(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Z$e(document.body),tKe(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new xre(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new gXe,this.autoScroller=new yXe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class bXe{constructor(e){this.el=e,this.origRect=pF(e),this.scrollCaches=Vne(e).map(n=>new Sre(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!xXe(i.getEventTarget())&&!oGe(r,i.clientRect))return!1;return!0}}function xXe(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class $E{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new zE}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,a;i instanceof HTMLElement&&(a=pF(i),r=lGe(r,a));let s=this.initialHit=this.queryHitForOffset(r.left,r.top);if(s){if(this.useSubjectCenter&&a){let o=Qne(a,s.rect);o&&(r=cGe(o))}this.coordAdjust=uGe(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!KE(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=xp(this.droppableStore,e=>(e.component.prepareHits(),new bXe(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,a=null;for(let s in r){let o=r[s].component,l=i[s];if(l&&l.isWithinClipping(e,n)){let u=l.computeLeft(),A=l.computeTop(),d=e-u,f=n-A,{origRect:h}=l,p=h.right-h.left,m=h.bottom-h.top;if(d>=0&&d<p&&f>=0&&f<m){let v=o.queryHit(d,f,p,m);v&&QE(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+u-window.scrollX,f+A-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=A,v.rect.bottom+=A,a=v)}}}return a}}function KE(t,e){return!t&&!e?!0:!!t!=!!e?!1:YWe(t.dateSpan,e.dateSpan)}function Ere(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,wXe(t,e.dateEnv)),n}function wXe(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class CXe extends _0{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,a=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&KE(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},Ere(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Tx(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new $E(this.dragging,fF(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class SXe extends _0{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,A=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!A),l.delay=s.isTouch?EXe(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,A=!1;if(s){let d=this.hitDragging.initialHit;s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(u=_Xe(d,s,l.pluginHooks.dateSelectionTransformers)),(!u||!PGe(u,s.dateProfile,l))&&(A=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),A?JO():ZO(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(Pne(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Tx(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new $E(this.dragging,fF(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function EXe(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function _Xe(t,e,n){let r=t.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(sKe);let s={};for(let o of n){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}class kx extends _0{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:A}=u,{options:d}=l.context,f=l.context;this.subjectEl=s.subjectEl;let h=this.subjectSeg=Yg(s.subjectEl),m=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=cF(f.getCurrentData().eventStore,m),u.minDistance=s.isTouch?0:d.eventDragMinDistance,u.delay=s.isTouch&&m!==l.props.eventSelection?NXe(l):null,d.fixedMirrorParent?A.parentNode=d.fixedMirrorParent:A.parentNode=ao(o,".fc"),A.revertDuration=d.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!ao(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Di(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,A=this.component.context,d=null,f=null,h=null,p=!1,m={affectedEvents:l,mutatedEvents:Xc(),isEvent:!0};if(s){d=s.context;let v=d.options;A===d||v.editable&&v.droppable?(f=BXe(u,s,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=dF(l,d.getCurrentData().eventUiBases,f,d),m.mutatedEvents=h,Gne(m,s.dateProfile,d)||(p=!0,f=null,h=null,m.mutatedEvents=Xc()))):d=null}this.displayDrag(d,m),p?JO():ZO(),o||(A===d&&KE(u,s)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:A}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new Di(o,d,f),p=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:s.origEvent,view:l}),A){if(u===o){let g=new Di(o,m.defs[d.defId],f?m.instances[f.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:h,event:g,relatedEvents:Th(m,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}},x={};for(let C of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(x,C(A,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),x),{el:s.subjectEl,delta:A.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let g={event:h,relatedEvents:Th(p,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},g),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:p}),o.emitter.trigger("eventRemove",g);let y=m.defs[d.defId],x=m.instances[f.instanceId],C=new Di(u,y,x);u.dispatch({type:"MERGE_EVENTS",eventStore:m});let E={event:C,relatedEvents:Th(m,u,x),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};u.emitter.trigger("eventAdd",E),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},Ere(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},E),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Tx(e.el);i.pointer.selector=kx.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new $E(this.dragging,qT);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Xc(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}kx.SELECTOR=".fc-event-draggable, .fc-event-resizable";function BXe(t,e,n,r){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=Pi(n):s=n);let u=Em(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let A={datesDelta:u,standardProps:l};for(let d of r)d(A,t,e);return A}function NXe(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class jXe extends _0{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=Yg(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=cF(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Yg(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new Di(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,A=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,p=!1,m={affectedEvents:u,mutatedEvents:Xc(),isEvent:!0};a&&(a.componentId===A.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(A,a)||(f=IXe(A,a,o.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=dF(u,l.getCurrentData().eventUiBases,f,l),m.mutatedEvents=h,Gne(m,a.dateProfile,l)||(p=!0,f=null,h=null,m.mutatedEvents=null)),h?l.dispatch({type:"SET_EVENT_RESIZE",state:m}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?JO():ZO(),s||(f&&KE(A,a)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new Di(s,o,l),A=this.relevantEvents,d=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let f=new Di(s,d.defs[o.defId],l?d.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:u,event:f,relatedEvents:Th(d,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:A})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Pr(0),endDelta:this.validMutation.endDelta||Pr(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",h)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Tx(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new $E(this.dragging,fF(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ao(e.subjectEl,".fc-event")}}function IXe(t,e,n,r){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Em(a,s,i,t.largeUnit);if(n){if(i.add(r.start,o)<r.end)return{startDelta:o}}else if(i.add(r.end,o)>r.start)return{endDelta:o};return null}class TXe{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,a=dne(r.origEvent);this.matchesCancel=!!ao(a,i),this.matchesEvent=!!ao(a,kx.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(r)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new xre(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const kXe={fixedMirrorParent:Je},PXe={dateClick:Je,eventDragStart:Je,eventDragStop:Je,eventDrop:Je,eventResizeStart:Je,eventResizeStop:Je,eventResize:Je,drop:Je,eventReceive:Je,eventLeave:Je};gF.dataAttrPrefix="";var DXe=jf({name:"@fullcalendar/interaction",componentInteractions:[CXe,SXe,kx,jXe],calendarInteractions:[TXe],elementDraggingImpl:Tx,optionRefiners:kXe,listenerRefiners:PXe});const OXe=(t,e,n)=>{const r=(n-1)*7+1;return new Date(Date.UTC(t,e-1,r))},FXe=()=>{const{animals:t,healthPlans:e,planActivities:n,healthEvents:r,parturitions:i,appConfig:a}=Yt(),{forecastBySeason:s}=KO(),o=P.useMemo(()=>{const u=new Date;u.setUTCHours(0,0,0,0);const A=u.getUTCFullYear(),d=new Date(u.getTime()+90*24*60*60*1e3),f=[],h=t.filter(p=>p.status==="Activo"&&!p.isReference);for(const p of e){const m=h.filter(g=>{var x,C;const y=Yc(g.birthDate);if(y<0)return!1;if(p.targetGroup==="Maternidad")return y<=120;if(p.targetGroup==="Adultos"){if(y<=120)return!1;const E=p.adultsSubgroup&&p.adultsSubgroup.length>0,j=p.targetLots&&p.targetLots.length>0;if(!E&&!j)return!0;const _=Bf(g,i),B=E&&((x=p.adultsSubgroup)==null?void 0:x.includes(_)),N=j&&((C=p.targetLots)==null?void 0:C.includes(g.location));if(E&&j)return B||N;if(E)return B;if(j)return N}return!1}),v=n.filter(g=>g.healthPlanId===p.id);for(const g of m)for(const y of v){const x=(C,E)=>{if(!C||!E)return;if(C.setUTCHours(0,0,0,0),!r.some(_=>_.animalId!==g.id||_.activityId!==y.id?!1:y.trigger.type==="age"?new Date(_.date+"T00:00:00Z").getTime()===C.getTime():new Date(_.date+"T00:00:00Z").getUTCFullYear()===C.getUTCFullYear())&&C<=d){let _="Prxima";const B=Math.ceil((C.getTime()-u.getTime())/864e5);B<0&&Math.abs(B)>a.diasAlertaAtraso?_="Atrasada":B===0&&(_="Para Hoy"),f.push({key:E,animal:g,plan:p,activity:y,dueDate:C,status:_})}};if(y.trigger.type==="age"&&y.trigger.days)for(const C of y.trigger.days){const E=new Date(g.birthDate+"T00:00:00Z");E.setUTCDate(E.getUTCDate()+C),x(E,`${g.id}-${y.id}-${C}`)}else if(y.trigger.type==="fixed_date_period"&&y.trigger.month&&y.trigger.week){const C=OXe(A,y.trigger.month,y.trigger.week),E=`${g.id}-${y.id}-${A}`;x(C,E)}else if(y.trigger.type==="birthing_season_event"&&y.trigger.offsetDays!==void 0){const C=s.find(E=>E.events.some(j=>j.animal.id===g.id));if(C&&C.projectedStartDate){const E=new Date(C.projectedStartDate);E.setUTCDate(E.getUTCDate()+y.trigger.offsetDays);const j=E,_=`${g.id}-${y.id}-${C.seasonId}`;x(j,_)}}}}return f.sort((p,m)=>p.dueDate.getTime()-m.dueDate.getTime())},[t,e,n,r,i,s,a.diasAlertaAtraso]);return{...P.useMemo(()=>({overdue:o.filter(u=>u.status==="Atrasada"),today:o.filter(u=>u.status==="Para Hoy"),upcoming:o.filter(u=>u.status==="Prxima")}),[o]),allTasks:o}},LXe=({task:t,onSave:e,onCancel:n})=>{const{addHealthEvent:r,products:i,bodyWeighings:a,appConfig:s}=Yt(),[o,l]=P.useState(new Date().toISOString().split("T")[0]),[u,A]=P.useState(""),[d,f]=P.useState(null),[h,p]=P.useState(!1),{animal:m,activity:v}=t,g=m.name?String(m.name).toUpperCase().trim():"",y=P.useMemo(()=>i.find(_=>_.id===v.productId),[i,v.productId]),x=P.useMemo(()=>a.filter(_=>_.animalId===m.id).sort((_,B)=>new Date(B.date).getTime()-new Date(_.date).getTime())[0],[a,m.id]),{doseApplied:C,calculatedCost:E}=P.useMemo(()=>{if(!y||!x)return{doseApplied:void 0,calculatedCost:void 0};let _=0;if(y.dosageType==="fixed"&&y.dosageFixed?_=y.dosageFixed:y.dosageType==="per_kg"&&y.dosagePerKg_ml&&y.dosagePerKg_kg&&(_=x.kg/y.dosagePerKg_kg*y.dosagePerKg_ml),_===0)return{doseApplied:void 0,calculatedCost:void 0};let B=0;const N=y.presentationUnit==="L"?(y.presentationValue||0)*1e3:y.presentationValue||0;if(y.price&&N>0){const D=y.price/N;B=_*D}return{doseApplied:parseFloat(_.toFixed(2)),calculatedCost:parseFloat(B.toFixed(2))}},[y,x]),j=async _=>{_.preventDefault(),p(!0),f(null);const B=(y==null?void 0:y.withdrawalDaysMilk)??s.diasRetiroLecheDefault,N=(y==null?void 0:y.withdrawalDaysMeat)??s.diasRetiroCarneDefault;try{await r({animalId:m.id,lotName:m.location,date:o,activityId:v.id,type:v.name,productUsed:y==null?void 0:y.id,doseApplied:C,unit:"ml",calculatedCost:E,notes:u,executedBy:"self",diasRetiroLeche:B,diasRetiroCarne:N}),e()}catch(D){console.error(D),f("No se pudo registrar el evento. Intntelo de nuevo.")}finally{p(!1)}};return c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-zinc-400 text-sm",children:"Animal:"}),c.jsx("p",{className:"font-mono font-semibold text-lg text-white truncate",children:m.id.toUpperCase()}),g&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:g})]}),c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold text-zinc-400 text-sm",children:"Actividad:"})," ",c.jsx("span",{className:"font-bold text-base text-white",children:v.name})]}),y&&c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold text-zinc-400 text-sm",children:"Producto:"})," ",c.jsx("span",{className:"font-bold text-base text-white",children:y.name})]})]}),c.jsxs("div",{className:"p-4 bg-black/20 rounded-xl space-y-2",children:[c.jsx("h3",{className:"font-semibold text-white",children:"Detalles del Registro"}),x?c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-300",children:["Basado en el ltimo peso registrado de ",c.jsxs("span",{className:"font-bold text-white",children:[x.kg," kg"]}),"."]}),C!==void 0&&c.jsxs("p",{className:"text-sm text-zinc-300",children:["Dosis Calculada: ",c.jsxs("span",{className:"font-bold text-teal-400",children:[C," ml"]})]}),E!==void 0&&c.jsxs("p",{className:"text-sm text-zinc-300",children:["Costo Estimado: ",c.jsxs("span",{className:"font-bold text-amber-400",children:["$",E.toFixed(2)]})]})]}):c.jsx("p",{className:"text-sm text-amber-400",children:"Advertencia: No se encontr un peso reciente para este animal. La dosis y el costo no se pueden calcular automticamente."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"date",type:"date",value:o,onChange:_=>l(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas (Opcional)"}),c.jsx("textarea",{id:"notes",value:u,onChange:_=>A(_.target.value),placeholder:"Anotaciones sobre la aplicacin, etc.",rows:3,className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),d&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:h,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[h&&c.jsx(eu,{size:18,className:"animate-spin"}),h?"Guardando...":"Confirmar Registro"]})]})]})},MXe=({animals:t,selectedAnimalIds:e,onChange:n})=>{const r=i=>{const a=Array.from(i.target.selectedOptions,s=>s.value);n(a)};return c.jsx("select",{multiple:!0,value:e,onChange:r,className:"w-full h-40 bg-zinc-800 p-3 rounded-xl font-mono text-white",children:t.map(i=>{const a=i.name?String(i.name).toUpperCase().trim():"";return c.jsxs("option",{value:i.id,className:"py-1",children:[i.id.toUpperCase()," ",a&&` - ${a}`]},i.id)})})},RXe=({onSaveSuccess:t,onCancel:e})=>{const{addHealthEvent:n,products:r,animals:i,bodyWeighings:a}=Yt(),[s,o]=P.useState([]),[l,u]=P.useState(new Date().toISOString().split("T")[0]),[A,d]=P.useState(""),[f,h]=P.useState(void 0),[p,m]=P.useState(""),[v,g]=P.useState(null),[y,x]=P.useState(!1),C=P.useMemo(()=>r.find(_=>_.id===f),[r,f]),E=P.useMemo(()=>i.filter(_=>_.status==="Activo"&&!_.isReference).sort((_,B)=>_.id.localeCompare(B.id)),[i]),j=async _=>{if(_.preventDefault(),s.length===0||!A.trim()){g("Debe seleccionar al menos un animal y especificar el tipo de actividad.");return}x(!0),g(null);try{const B=s.map(N=>{const D=i.find(H=>H.id===N);if(!D)return null;const T=a.filter(H=>H.animalId===N).sort((H,q)=>new Date(q.date).getTime()-new Date(H.date).getTime())[0];let O,L;if(C&&T){let H=0;if(C.dosageType==="fixed"&&C.dosageFixed?H=C.dosageFixed:C.dosageType==="per_kg"&&C.dosagePerKg_ml&&C.dosagePerKg_kg&&(H=T.kg/C.dosagePerKg_kg*C.dosagePerKg_ml),H>0){O=parseFloat(H.toFixed(2));const q=C.presentationUnit==="L"?(C.presentationValue||0)*1e3:C.presentationValue||0;if(C.price&&q>0){const Y=C.price/q;L=parseFloat((H*Y).toFixed(2))}}}return{animalId:N,lotName:D.location,date:l,type:A,productUsed:f,doseApplied:O,unit:"ml",calculatedCost:L,notes:p,executedBy:"self"}});for(const N of B)N&&await n(N);t()}catch(B){console.error(B),g("No se pudo registrar el evento. Intntelo de nuevo.")}finally{x(!1)}};return c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Animal(es) (mantn Ctrl/Cmd para seleccionar varios)"}),c.jsx(MXe,{animals:E,selectedAnimalIds:s,onChange:o}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[s.length," animal(es) seleccionado(s)."]})]}),c.jsx("input",{type:"text",value:A,onChange:_=>d(_.target.value),placeholder:"Tipo de Actividad (Ej: Tratamiento por Neumona)",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsxs("select",{value:f||"",onChange:_=>h(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",children:"Seleccionar Producto (Opcional)..."}),r.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"unplanned-date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"unplanned-date",type:"date",value:l,onChange:_=>u(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),c.jsx("textarea",{value:p,onChange:_=>m(_.target.value),placeholder:"Notas (Opcional)",rows:3,className:"w-full bg-zinc-800 p-3 rounded-xl"}),v&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:v})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:y,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[y&&c.jsx(eu,{size:18,className:"animate-spin"}),y?"Guardando...":"Registrar Evento"]})]})]})},UXe=t=>{const{task:e}=t.event.extendedProps;if(!e)return c.jsx("div",{children:"Evento invlido"});const{animal:n,activity:r}=e,i=n.name?String(n.name).toUpperCase().trim():"";return c.jsxs("div",{className:"p-1 overflow-hidden w-full",style:{whiteSpace:"normal"},children:[c.jsx("p",{className:"font-mono font-semibold text-xs text-white truncate",children:n.id.toUpperCase()}),i&&c.jsx("p",{className:"text-[10px] font-normal text-zinc-300 truncate",children:i}),c.jsx("p",{className:"text-[10px] text-zinc-400 truncate",children:r.name})]})};function wz(){const{allTasks:t}=FXe(),[e,n]=P.useState(null),[r,i]=P.useState(!1),a=P.useRef(null),[s,o]=P.useState("dayGridMonth"),[l,u]=P.useState(""),A=P.useMemo(()=>t.map(m=>({id:m.key,title:`${m.animal.id} - ${m.activity.name}`,start:m.dueDate,allDay:!0,extendedProps:{task:m},backgroundColor:m.status==="Atrasada"?"#FF3B30":m.status==="Para Hoy"?"#34C759":"#007AFF",borderColor:m.status==="Atrasada"?"#FF3B30":m.status==="Para Hoy"?"#34C759":"#007AFF"})),[t]),d=m=>{n(m.event.extendedProps.task)},f=()=>{n(null),i(!1)},h=m=>{var v;(v=a.current)==null||v.getApi().changeView(m),o(m)},p=m=>{u(m.view.title)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full h-full max-w-4xl mx-auto p-4 flex flex-col",children:[c.jsxs("header",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-white leading-tight",children:"Calendario Sanitario"}),c.jsx("p",{className:"text-base sm:text-lg text-zinc-400",children:"Vista completa de actividades"})]}),c.jsxs("button",{onClick:()=>i(!0),className:"flex-shrink-0 flex items-center justify-center gap-2 bg-brand-blue text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm w-full sm:w-auto",children:[c.jsx(na,{size:16})," Registrar Actividad"]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().prev()},className:"p-2 bg-zinc-700 rounded-md hover:bg-zinc-600",children:c.jsx(Fi,{size:16})}),c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().next()},className:"p-2 bg-zinc-700 rounded-md hover:bg-zinc-600",children:c.jsx(ta,{size:16})}),c.jsx("h2",{className:"text-xl font-semibold text-white capitalize w-40 text-center",children:l})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().today()},className:"px-4 py-1.5 bg-zinc-700 rounded-md hover:bg-zinc-600 text-sm font-semibold",children:"Hoy"}),c.jsxs("div",{className:"relative flex justify-between rounded-lg bg-zinc-700 p-1 text-sm font-semibold",children:[c.jsx("button",{onClick:()=>h("dayGridMonth"),className:"relative z-10 w-20 py-1 rounded-md",children:"Mes"}),c.jsx("button",{onClick:()=>h("dayGridWeek"),className:"relative z-10 w-20 py-1 rounded-md",children:"Semana"}),c.jsx(Zi.div,{layoutId:"calendar-view-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-20 rounded-md bg-zinc-500 ${s==="dayGridWeek"?"left-[calc(50%_-_2px)]":"left-1"}`})]})]})]}),c.jsx("div",{className:"flex-grow",children:c.jsx(bF,{ref:a,plugins:[yre,DXe],initialView:s,locale:bre,events:A,eventClick:d,height:"100%",headerToolbar:!1,datesSet:p,eventContent:UXe})})]}),e&&c.jsx(An,{isOpen:!!e,onClose:()=>n(null),title:`Registrar: ${e.activity.name}`,children:c.jsx(LXe,{task:e,onSave:f,onCancel:()=>n(null)})}),c.jsx(An,{isOpen:r,onClose:()=>i(!1),title:"Registrar Actividad No Planificada",children:c.jsx(RXe,{onSaveSuccess:f,onCancel:()=>i(!1)})})]})}const BN=({legend:t,children:e})=>c.jsxs("fieldset",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-700 space-y-4",children:[c.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-400",children:t}),e]}),QXe=["Coxidioesttico","Desparasitacin","Vacuna Clostridial"],HXe=["Desparasitacin","Vacuna Leptospirosis","Vacuna Clostridial","Vacuna Rabia"],zXe=["Cura de ombligo","Revisin de Mucosas (FAMACHA)","Descorne","Castracin"],VXe=["Revisin de Mucosas (FAMACHA)","Recorte de Pezuas","Toma de muestra de Hematologa y Coprologa"],$Xe=[1,8,15,21,30,45,60,90,120],KXe=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],WXe=[{value:1,label:"1ra Semana"},{value:2,label:"2da Semana"},{value:3,label:"3ra Semana"},{value:4,label:"4ta Semana"}],GXe=({healthPlanId:t,targetGroup:e,onSave:n,onCancel:r,existingActivity:i})=>{const{products:a,addProduct:s}=Yt(),[o,l]=P.useState("Tratamiento"),[u,A]=P.useState(""),[d,f]=P.useState(void 0),[h,p]=P.useState(void 0),[m,v]=P.useState(e==="Maternidad"?"age":"fixed_date_period"),[g,y]=P.useState(""),[x,C]=P.useState("1"),[E,j]=P.useState("1"),[_,B]=P.useState(""),[N,D]=P.useState(!1),[T,O]=P.useState(null),L=e==="Maternidad"?o==="Tratamiento"?QXe:zXe:o==="Tratamiento"?HXe:VXe;P.useEffect(()=>{var Y;i&&(l(i.category),A(i.name),f(i.productId),p(i.complementaryProductId),v(i.trigger.type),i.trigger.type==="age"&&y(String(((Y=i.trigger.days)==null?void 0:Y[0])||"")),i.trigger.type==="fixed_date_period"&&(C(String(i.trigger.month||"1")),j(String(i.trigger.week||"1"))),i.trigger.type==="birthing_season_event"&&B(String(i.trigger.offsetDays||"")))},[i]);const H=async Y=>{await s(Y),D(!1)},q=async Y=>{if(Y.preventDefault(),O(null),!u.trim()){O("El nombre es obligatorio.");return}if(o==="Tratamiento"&&!d){O("Debe seleccionar un producto principal.");return}let ee;if(e==="Maternidad"){const te=parseInt(g,10);if(isNaN(te)||te<0){O("Los das de nacido deben ser un nmero vlido.");return}ee={type:"age",days:[te]}}else if(m==="fixed_date_period")ee={type:"fixed_date_period",month:parseInt(x,10),week:parseInt(E,10)};else{const te=parseInt(_,10);if(isNaN(te)){O("Debe introducir un nmero vlido de das.");return}ee={type:"birthing_season_event",offsetDays:te}}await n({healthPlanId:t,category:o,name:u,productId:d,complementaryProductId:h,trigger:ee})};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:q,className:"space-y-6",children:[c.jsxs(BN,{legend:"Paso 1: Define la Actividad",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>l("Tratamiento"),className:`p-4 rounded-2xl border-2 transition-colors flex flex-col items-center gap-2 ${o==="Tratamiento"?"bg-blue-500/20 border-blue-500":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-500"}`,children:[c.jsx(lp,{className:"w-8 h-8 text-blue-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Tratamiento"})]}),c.jsxs("button",{type:"button",onClick:()=>l("Control"),className:`p-4 rounded-2xl border-2 transition-colors flex flex-col items-center gap-2 ${o==="Control"?"bg-purple-500/20 border-purple-500":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-500"}`,children:[c.jsx(yq,{className:"w-8 h-8 text-purple-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Control"})]})]}),c.jsx("input",{list:"activity-names",value:u,onChange:Y=>A(Y.target.value),placeholder:`Nombre del ${o}...`,className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsx("datalist",{id:"activity-names",children:L.map(Y=>c.jsx("option",{value:Y},Y))})]}),o==="Tratamiento"&&c.jsxs(BN,{legend:"Paso 2: Selecciona los Productos",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d||"",onChange:Y=>f(Y.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:[c.jsx("option",{value:"",children:"Producto Principal..."}),a.map(Y=>c.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),c.jsx("button",{type:"button",onClick:()=>D(!0),className:"flex-shrink-0 p-3 bg-brand-orange text-white rounded-xl",children:c.jsx(Bl,{size:20})})]}),c.jsxs("select",{value:h||"",onChange:Y=>p(Y.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",children:"Producto Complementario (Opcional)..."}),a.map(Y=>c.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),c.jsx(BN,{legend:`Paso ${o==="Tratamiento"?"3":"2"}: Cundo se ejecuta?`,children:e==="Maternidad"?c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"A los Das de Nacido"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:$Xe.map(Y=>c.jsxs("button",{type:"button",onClick:()=>y(String(Y)),className:`px-3 py-1 text-sm font-semibold rounded-full transition-colors ${g===String(Y)?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:[Y," das"]},Y))}),c.jsx("div",{className:"flex items-center gap-2 mt-4",children:c.jsx("input",{type:"number",value:g,onChange:Y=>y(Y.target.value),placeholder:"O escribe los das...",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("select",{value:m,onChange:Y=>v(Y.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:[c.jsx("option",{value:"fixed_date_period",children:"Por Fecha Fija Anual"}),c.jsx("option",{value:"birthing_season_event",children:"Relativo a Temporada de Partos"})]}),m==="fixed_date_period"&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"triggerMonth",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Mes"}),c.jsx("select",{id:"triggerMonth",value:x,onChange:Y=>C(Y.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:KXe.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"triggerWeek",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Semana"}),c.jsx("select",{id:"triggerWeek",value:E,onChange:Y=>j(Y.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:WXe.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]}),m==="birthing_season_event"&&c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{htmlFor:"triggerOffsetDays",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Das antes (-) / despus (+) del inicio de la temporada"}),c.jsx("input",{id:"triggerOffsetDays",type:"number",value:_,onChange:Y=>B(Y.target.value),placeholder:"Ej: -30 (para 30 das antes)",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})]})]})}),T&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18})," ",c.jsx("span",{children:T})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:i?"Actualizar Actividad":"Aadir al Plan"})]})]}),c.jsx(An,{isOpen:N,onClose:()=>D(!1),title:"Crear Nuevo Producto",children:c.jsx(GO,{onSave:H,onCancel:()=>D(!1)})})]})},qXe=({activity:t,onEdit:e,onDelete:n})=>{const{products:r}=Yt(),i=r.find(A=>A.id===t.productId),a=r.find(A=>A.id===t.complementaryProductId),s=Ap(),o=P.useRef(!1),l=(A,d)=>{const f=d.offset.x,h=d.velocity.x;f<-160/2||h<-500?s.start({x:-160}):s.start({x:0}),setTimeout(()=>{o.current=!1},100)},u=()=>{var d;const{trigger:A}=t;switch(A.type){case"age":return`Das: ${((d=A.days)==null?void 0:d.join(", "))||"N/A"}`;case"fixed_date_period":const f=new Date(2024,A.month-1,1).toLocaleString("es-VE",{month:"long"});return`${A.week}a semana de ${f}`;case"birthing_season_event":const h=A.offsetDays>=0?"das despus":"das antes";return`${Math.abs(A.offsetDays)} ${h} del inicio de la temporada de partos`;default:return"Tiempo no especificado"}};return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-black/20 border border-zinc-700",children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[c.jsxs("button",{onClick:e,onPointerDown:A=>A.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(bf,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c.jsxs("button",{onClick:n,onPointerDown:A=>A.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(xc,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),c.jsxs(Zi.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:l,animate:s,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-grab bg-ios-modal-bg/50 p-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),c.jsx("p",{className:`text-sm font-semibold ${t.category==="Tratamiento"?"text-blue-400":"text-purple-400"}`,children:t.category}),i&&c.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Ppal: ",i.name]}),a&&c.jsxs("p",{className:"text-xs text-zinc-400",children:["Comp: ",a.name]})]}),t.category==="Tratamiento"?c.jsx(lp,{className:"text-blue-400"}):c.jsx(yq,{className:"text-purple-400"})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700 flex items-center text-zinc-300",children:[c.jsx(So,{size:16,className:"mr-2"}),c.jsx("span",{className:"text-sm font-semibold",children:u()})]})]})]})};function YXe({planId:t,onBack:e}){const{healthPlans:n,planActivities:r,addPlanActivity:i,updatePlanActivity:a,deletePlanActivity:s}=Yt(),[o,l]=P.useState(!1),[u,A]=P.useState(void 0),[d,f]=P.useState(null),h=P.useMemo(()=>n.find(x=>x.id===t),[n,t]),p=P.useMemo(()=>h?r.filter(x=>x.healthPlanId===t).sort((x,C)=>{var E,j;return(((E=x.trigger.days)==null?void 0:E[0])||0)-(((j=C.trigger.days)==null?void 0:j[0])||0)}):[],[r,t,h]),m=x=>{A(x),l(!0)},v=()=>{l(!1),A(void 0)},g=async x=>{u!=null&&u.id?await a(u.id,x):await i({...x,healthPlanId:t}),v()},y=async()=>{d!=null&&d.id&&await s(d.id),f(null)};return h?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in px-4",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:h.name}),c.jsx("p",{className:"text-lg text-zinc-400",children:h.targetGroup})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Actividades del Plan"}),c.jsxs("button",{onClick:()=>m(),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[c.jsx(na,{size:16})," Aadir Actividad"]})]}),p.length>0?c.jsx("div",{className:"space-y-3",children:p.map(x=>c.jsx(qXe,{activity:x,onEdit:()=>m(x),onDelete:()=>f(x)},x.id))}):c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:[c.jsx("p",{className:"text-zinc-500 font-semibold",children:"Este plan an no tiene actividades."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:"Aade tratamientos o controles para empezar."})]})]})]}),c.jsx(An,{isOpen:o,onClose:v,title:u?"Editar Actividad":"Aadir Actividad al Plan",children:c.jsx(GXe,{healthPlanId:h.id,targetGroup:h.targetGroup,onSave:g,onCancel:v,existingActivity:u})}),c.jsx(C0,{isOpen:!!d,onClose:()=>f(null),onConfirm:y,title:`Eliminar Actividad "${d==null?void 0:d.name}"`,message:"Ests seguro de que quieres eliminar esta actividad del plan? Esta accin no se puede deshacer."})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Plan no encontrado."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-amber",children:"Volver al Planificador"})]})}const XXe=()=>{const{healthEvents:t,products:e,animals:n}=Yt();return P.useMemo(()=>{const i=new Date;i.setDate(i.getDate()-30),i.setHours(0,0,0,0);const s=t.filter(v=>new Date(v.date)>=i).reduce((v,g)=>v+(g.calculatedCost||0),0),o=n.filter(v=>v.status==="Activo").length,l=o>0?s/o:0,u=[],A={},d=new Date;d.setMonth(d.getMonth()-6),t.filter(v=>new Date(v.date)>=d).forEach(v=>{const g=v.date.substring(0,7);A[g]||(A[g]=0),A[g]+=v.calculatedCost||0}),Object.keys(A).sort().forEach(v=>{u.push({name:v,total:parseFloat(A[v].toFixed(2))})});const f={};t.forEach(v=>{const g=v.type||"Sin Categora";f[g]||(f[g]=0),f[g]+=v.calculatedCost||0});const h=Object.keys(f).map(v=>({name:v,total:parseFloat(f[v].toFixed(2))})).sort((v,g)=>g.total-v.total),p={};t.forEach(v=>{p[v.animalId]||(p[v.animalId]=0),p[v.animalId]+=v.calculatedCost||0});const m=Object.keys(p).map(v=>({animalId:v,total:p[v]})).sort((v,g)=>g.total-v.total).slice(0,5);return{totalCostLast30Days:s,avgCostPerAnimal:l,monthlyCosts:u,costsByCategory:h,topCostAnimals:m}},[t,e,n])},Cz=({title:t,value:e,unit:n,icon:r})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(r,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[e," ",c.jsx("span",{className:"text-xl text-zinc-400",children:n})]})]}),Sz=["#34C759","#FF9500","#007AFF","#AF52DE","#FF3B30","#5E5CE6","#5AC8FA","#FFCC00"];function JXe(){const{totalCostLast30Days:t,avgCostPerAnimal:e,monthlyCosts:n,costsByCategory:r,topCostAnimals:i}=XXe(),a=s=>new Date(s+"-02T00:00:00Z").toLocaleString("es-VE",{month:"short",year:"2-digit"});return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[" ",c.jsxs("header",{className:"text-center pt-4",children:[" ",c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de Costos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Mdulo StockCare"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Cz,{title:"Costo (ltimos 30 das)",value:`$${t.toFixed(2)}`,icon:Ol}),c.jsx(Cz,{title:"Costo Prom./Animal (30d)",value:`$${e.toFixed(2)}`,icon:ba})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ox,{size:20})," Costo Mensual (ltimos 6m)"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:n,margin:{top:5,right:10,left:-20,bottom:5},children:[c.jsx(hi,{dataKey:"name",tickFormatter:a,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Bi,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"$"}),c.jsx(Sr,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"},formatter:s=>`$${s.toFixed(2)}`}),c.jsx(Ja,{dataKey:"total",name:"Costo Total",fill:"#2dd4bf",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(TD,{size:20})," Costos por Categora"]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(Oi,{children:c.jsxs(FT,{children:[c.jsx(nu,{data:r,dataKey:"total",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",children:r.map((s,o)=>c.jsx(gc,{fill:Sz[o%Sz.length]},`cell-${o}`))}),c.jsx(Sr,{contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"},formatter:s=>`$${s.toFixed(2)}`}),c.jsx(Tl,{iconSize:10,wrapperStyle:{fontSize:"12px",color:"#a1a1aa"}})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top 5 Animales (Costo Total)"}),c.jsx("div",{className:"space-y-2",children:i.length>0?i.map((s,o)=>c.jsxs("div",{className:"flex justify-between items-center text-sm bg-black/20 p-2 rounded-md",children:[c.jsxs("span",{className:"font-mono font-semibold text-base text-white",children:[o+1,". ",s.animalId]}),c.jsxs("span",{className:"font-bold text-teal-300",children:["$",s.total.toFixed(2)]})]},s.animalId)):c.jsx("p",{className:"text-sm text-zinc-500 text-center pt-8",children:"No hay datos suficientes."})})]})]})]})}function ZXe({onSwitchModule:t}){const{syncStatus:e}=Yt(),[n,r]=P.useState({name:"calendario"}),[i,a]=P.useState([]),s=[{id:"calendario",label:"Calendario",icon:cpe},{id:"planes",label:"Planes",icon:SD},{id:"inventario",label:"Inventario",icon:lp},{id:"costos",label:"Costos",icon:Ol}],o=d=>{a(f=>[...f,n]),r(d)},l=()=>{const d=i.pop();d?(a([...i]),r(d)):t("rebano")},u=d=>{a([]),r({name:d})},A=()=>{switch(n.name){case"calendario":return c.jsx(wz,{});case"planes":return c.jsx(dXe,{navigateTo:o});case"inventario":return c.jsx(b$e,{});case"costos":return c.jsx(JXe,{});case"plan-detail":return c.jsx(YXe,{planId:n.planId,onBack:l});default:return c.jsx(wz,{})}};return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col bg-brand-dark",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-brand-dark/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:l,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(k5,{className:"text-teal-400"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"StockCare"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:e})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:A()}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around z-20",children:s.map(d=>c.jsxs("button",{onClick:()=>u(d.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n.name===d.id?"text-teal-400":"text-gray-400 hover:text-teal-400"}`,children:[c.jsx(d.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:d.label})]},d.id))})]})}const Ez=.5,eJe=()=>{const{animals:t,healthEvents:e,weighings:n,parturitions:r}=Yt();return P.useMemo(()=>{const o=[...t.filter(h=>h.status==="Activo"&&h.sex==="Hembra").map(h=>{const p=e.filter(j=>j.animalId===h.id).reduce((j,_)=>j+(_.calculatedCost||0),0),m=n.filter(j=>j.goatId===h.id),v=m.reduce((j,_)=>j+_.kg,0),g=v*Ez;let y=null,x=0;const C=r.filter(j=>j.goatId===h.id);v>0&&C.length>0&&(x=C.reduce((_,B)=>{const N=m.filter(L=>new Date(L.date)>=new Date(B.parturitionDate));if(N.length===0)return _;const D=new Date(B.parturitionDate),O=(new Date(N.sort((L,H)=>new Date(H.date).getTime()-new Date(L.date).getTime())[0].date).getTime()-D.getTime())/(1e3*60*60*24);return _+O},0),y=p/v);const E=g-p;return{animalId:h.id,totalRevenue:g,totalCosts:p,netProfit:E,costPerLiter:y,totalKgProduced:v,lactationDays:x}})].sort((h,p)=>p.netProfit-h.netProfit),l=o.reduce((h,p)=>h+p.totalRevenue,0),u=o.reduce((h,p)=>h+p.totalCosts,0),A=l-u,d=o.filter(h=>h.costPerLiter!==null&&h.costPerLiter>0).map(h=>h.costPerLiter),f=d.length>0?d.reduce((h,p)=>h+p,0)/d.length:0;return{animalsByProfitability:o,totalFarmRevenue:l,totalFarmCosts:u,totalFarmNetProfit:A,averageCostPerLiter:f,assumedMilkPrice:Ez}},[t,e,n,r])},Y1=({title:t,value:e,unit:n,preValue:r,icon:i,colorClass:a})=>c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border ${a||""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(i,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[r&&c.jsx("span",{className:"text-3xl font-bold text-white",children:r}),e,n&&c.jsxs("span",{className:"text-xl text-zinc-400",children:[" ",n]})]})]}),_z=({animalData:t,monedaSimbolo:e})=>{const n=t.netProfit>=0;return c.jsxs("div",{className:"w-full text-left bg-black/20 rounded-xl p-4 border border-zinc-700/80 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-xl text-white",children:t.animalId}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-400 mt-1",children:[c.jsxs("span",{children:["Ingresos: ",e,t.totalRevenue.toFixed(2)]}),c.jsxs("span",{children:["Costos: ",e,t.totalCosts.toFixed(2)]})]})]}),c.jsxs("div",{className:`text-right font-bold text-2xl ${n?"text-brand-green":"text-brand-red"}`,children:[n?"+":"",e,t.netProfit.toFixed(2)]})]})},tJe=({active:t,payload:e,monedaSimbolo:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-2 rounded-lg border border-zinc-700 text-white text-sm",children:[c.jsx("p",{className:"font-bold",children:e[0].payload.animalId}),c.jsxs("p",{style:{color:e[0].fill},children:["Rentabilidad: ",n,e[0].value.toFixed(2)]})]}):null;function nJe(){const{appConfig:t}=Yt(),{monedaSimbolo:e,precioLecheLitro:n}=t,{animalsByProfitability:r,totalFarmRevenue:i,totalFarmCosts:a,totalFarmNetProfit:s,averageCostPerLiter:o}=eJe(),l=r.slice(0,5),u=r.slice(-5).reverse();return r.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4 flex flex-col items-center gap-4",children:[c.jsx(Ol,{size:48,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold text-lg",children:"No hay datos suficientes"}),c.jsx("p",{className:"text-zinc-500 text-sm max-w-xs",children:"Registra pesajes lecheros y eventos de salud con costos para empezar a ver el anlisis econmico."})]}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis Econmico"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Rentabilidad de la Finca"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Y1,{title:"Ingresos Totales (Leche)",preValue:e,value:i.toFixed(2),icon:pg,colorClass:"border-green-500/30"}),c.jsx(Y1,{title:"Costos Totales (Sanidad)",preValue:e,value:a.toFixed(2),icon:hg,colorClass:"border-red-500/30"})]}),c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border ${s>=0?"border-green-500/50":"border-red-500/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(Ol,{size:14}),c.jsx("span",{children:"Rentabilidad Neta (Ingresos - Costos)"})]}),c.jsxs("p",{className:`text-5xl font-bold mt-1 ${s>=0?"text-brand-green":"text-brand-red"}`,children:[s>=0?"+":"",e,s.toFixed(2)]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(Y1,{title:"Costo / Litro de Leche",preValue:e,value:o.toFixed(3),icon:cf}),c.jsx(Y1,{title:"Precio Leche (Config)",preValue:e,value:n.toFixed(2),unit:"/Kg",icon:ba})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ope,{size:20})," Distribucin de Rentabilidad"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(Oi,{children:c.jsxs(Ml,{data:r,margin:{top:5,right:0,left:0,bottom:5},children:[c.jsx(hi,{dataKey:"animalId",tick:!1,axisLine:!1}),c.jsx(Sr,{content:c.jsx(tJe,{monedaSimbolo:e}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),c.jsx(Ja,{dataKey:"netProfit",children:r.map(A=>c.jsx(gc,{fill:A.netProfit>=0?"#34C759":"#FF3B30"},A.animalId))})]})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-zinc-300",children:"Ranking de Rentabilidad"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h4",{className:"font-semibold text-brand-green flex items-center gap-2",children:[c.jsx(pg,{size:18})," Top 5 Animales Ms Rentables"]}),l.map(A=>c.jsx(_z,{animalData:A,monedaSimbolo:e},A.animalId))]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs("h4",{className:"font-semibold text-brand-red flex items-center gap-2",children:[c.jsx(hg,{size:18})," Top 5 Animales Menos Rentables"]}),u.map(A=>c.jsx(_z,{animalData:A,monedaSimbolo:e},A.animalId))]})]})]})}function rJe({onSwitchModule:t}){const{syncStatus:e}=Yt();return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:()=>t("rebano"),className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Salir del mdulo",children:c.jsx(Fi,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ol,{className:"text-yellow-400"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Cents"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:e})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:c.jsx(nJe,{})}),c.jsx(jx,{onSwitchModule:t})]})}const iJe=(t,e)=>{const n={initialCabras:t.initialCabras??0,initialLevanteTardio:t.initialLevanteTardio??0,initialLevanteMedio:t.initialLevanteMedio??0,initialLevanteTemprano:t.initialLevanteTemprano??0,initialCriaH:t.initialCriaH??0,initialCriaM:t.initialCriaM??0,initialPadres:t.initialPadres??1,comprasVientresAnual:t.comprasVientresAnual??0,mesInicioMonta1:t.mesInicioMonta1,mesInicioMonta2:t.mesInicioMonta2,mesInicioMonta3:t.mesInicioMonta3,mesInicioMonta4:t.mesInicioMonta4,duracionMontaDias:t.duracionMontaDias??45,diasGestacion:t.diasGestacion??150,litrosPromedioPorAnimal:t.litrosPromedioPorAnimal??1.8,diasLactanciaObjetivo:t.diasLactanciaObjetivo??305,litrosPicoPorAnimal:t.litrosPicoPorAnimal??((t.diasLactanciaObjetivo??305)>=305?(t.litrosPromedioPorAnimal??1.8)*1.4:(t.litrosPromedioPorAnimal??1.8)*1.5),porcentajePrenez:t.porcentajePrenez??85,porcentajeProlificidad:t.porcentajeProlificidad??120,mortalidadCrias:t.mortalidadCrias??5,mortalidadLevante:t.mortalidadLevante??3,mortalidadCabras:t.mortalidadCabras??3,tasaReemplazo:t.tasaReemplazo??20,eliminacionCabritos:t.eliminacionCabritos??100,precioLecheLitro:t.precioLecheLitro??.5,precioVentaCabritoKg:t.precioVentaCabritoKg??3,precioVentaDescarteAdulto:t.precioVentaDescarteAdulto??50,monedaSimbolo:t.monedaSimbolo??"$",matingDistribution:t.matingDistribution},r=[],i=e*12,a=30.44;let s=[],o=[],l=[],u=0;const A=Math.round(n.diasGestacion/a),d=6,f=n.mortalidadCrias/100/12,h=n.mortalidadLevante/100/12,p=n.mortalidadCabras/100/12,m=n.tasaReemplazo/100/12,v=n.comprasVientresAnual/12,g=new Set,y=[t.mesInicioMonta1,t.mesInicioMonta2,t.mesInicioMonta3,t.mesInicioMonta4].filter(H=>typeof H=="number"&&H>0);y.forEach(H=>g.add(H));const x=[.8,1.4,1.4,1.3,1.2,1,.9,.8,.7,.5],C=[.7,1.5,1.5,1.3,1,.6,.4],E=n.diasLactanciaObjetivo>=305,j=E?x:C,_=E?1.4:1.5,B=j.length,N=n.litrosPromedioPorAnimal,D=n.litrosPicoPorAnimal,T=D>N&&N>0?D/N:_,O=_>1?(T-1)/(_-1):1,L=j.map(H=>(H-1)*O+1);for(let H=0;H<i;H++){const q=r[H-1],Y=Math.floor(H/12)+1,ee=H%12+1,K=`Ao ${Y} - Mes ${ee}`,te=q?q.endCriaH:n.initialCriaH,le=q?q.endCriaM:n.initialCriaM,se=q?q.endLevanteTemprano:n.initialLevanteTemprano,M=q?q.endLevanteMedio:n.initialLevanteMedio,$=q?q.endLevanteTardio:n.initialLevanteTardio,J=q?q.endCabras:n.initialCabras,ne=q?q.endPadres:n.initialPadres,he=te+le+se+M+$+J+ne;let we=0;const Se=[];s=s.filter(pn=>pn.monthEnd===H?(we+=pn.size,Se.push({id:pn.id,size:pn.size,monthEnd:H+d}),l.push({id:pn.id,deliveries:pn.size,startMonth:H}),!1):!0),o.push(...Se),o=o.filter(pn=>pn.monthEnd>H);const Ae=we*(n.porcentajeProlificidad/100),ge=Ae*.5,xe=Ae*.5;let ae=0,Ve=0;if(g.has(ee)){const pn=s.reduce((xa,Li)=>xa+Li.size,0),Xr=o.reduce((xa,Li)=>xa+Li.size,0),gr=Math.max(0,J-pn-Xr),Or=Math.max(0,$*(1-h)),vr=y.indexOf(ee),Xn=vr!==-1&&n.matingDistribution&&n.matingDistribution[vr]!==void 0?n.matingDistribution[vr]:1/0,yr=Math.min(gr,Xn),Jr=Or;ae=yr*(n.porcentajePrenez/100),Ve=Jr*(n.porcentajePrenez/100),ae>0&&s.push({id:++u,size:ae,monthEnd:H+A}),Ve>0&&s.push({id:++u,size:Ve,monthEnd:H+A})}const Oe=(te+ge)*f,fe=(le+xe)*f,$e=se*h,ht=M*h,vt=$*h,Ye=ne*p,Dt=J*p,ct=(J-Dt)*m,jt=Dt+ct,Xt=J>0?jt/J:0;s.forEach(pn=>pn.size*=1-Xt),o.forEach(pn=>pn.size*=1-Xt);const Zt=Oe+fe+$e+ht+vt+Dt+Ye,Ut=Math.max(0,le+xe-fe),rn=Ut*(n.eliminacionCabritos/100),st=rn+ct,bt=v,yt=0,tt=bt+yt,Qt=Math.max(0,te+ge-Oe),ft=Math.max(0,se-$e),gt=Math.max(0,M-ht),Ft=Math.max(0,$-vt),St=Math.max(0,Ft-Ve),Vt=Qt/3,hn=ft/3,cn=gt/6,wt=St/6,Zn=Math.max(0,Qt-Vt),gn=Math.max(0,Ut-rn),Kt=Math.max(0,ft-hn+Vt),En=Math.max(0,gt-cn+hn),Vi=Math.max(0,Ft-Ve-wt+bt+cn),Ir=Math.max(0,J-jt+wt+Ve),Pa=Math.max(0,ne-Ye+yt),Fe=Zn+gn+Kt+En+Vi+Ir+Pa;let Pe=0,We=0;l.forEach(pn=>pn.deliveries*=1-Xt),l=l.filter(pn=>{const Xr=H-pn.startMonth;if(Xr<B){const gr=L[Xr]||0;return Pe+=pn.deliveries*n.litrosPromedioPorAnimal*a*gr,We+=pn.deliveries,!0}return!1});const Et=Pe,ut=We,qt=Et*n.precioLecheLitro,bn=rn*10*n.precioVentaCabritoKg,Gn=ct*n.precioVentaDescarteAdulto,Rt=qt+bn+Gn;r.push({monthIndex:H,year:Y,month:ee,periodLabel:K,startCriaH:te,startCriaM:le,startLevanteTemprano:se,startLevanteMedio:M,startLevanteTardio:$,startCabras:J,startPadres:ne,startTotal:he,partos:we,nacimientosH:ge,nacimientosM:xe,muertesCriaH:Oe,muertesCriaM:fe,muertesLevanteTemprano:$e,muertesLevanteMedio:ht,muertesLevanteTardio:vt,muertesCabras:Dt,muertesPadres:Ye,muertesTotales:Zt,ventasCabritos:rn,ventasDescartes:ct,ventasTotales:st,comprasVientres:bt,comprasPadres:yt,comprasTotales:tt,promocionCriaH:Vt,promocionLevanteTemprano:hn,promocionLevanteMedio:cn,promocionLevanteTardio:wt,endCriaH:Zn,endCriaM:gn,endLevanteTemprano:Kt,endLevanteMedio:En,endLevanteTardio:Vi,endCabras:Ir,endPadres:Pa,endTotal:Fe,litrosLeche:Et,ingresosTotales:Rt,hembrasProduccion:ut,ingresosLeche:qt})}return r};function Bz(t,e,n){const r=[];if(!t||t.length===0)return r;for(let i=0;i<t.length;i+=e){const a=t.slice(i,i+e);if(a.length===0)continue;const s=a[0],o=a[a.length-1];if(!s||!o)continue;const l=s.startTotal,u=o.endTotal,A=u-l,d=r[r.length-1],f=d?d.endTotal:l,h=f>0?A/f*100:0,p=C=>a.reduce((E,j)=>j&&typeof j[C]=="number"?E+j[C]:E,0),m=o.endCabras+o.endLevanteTardio,v=u>0?m/u*100:0,g=o.endCriaH+o.endLevanteTemprano+o.endLevanteMedio,y=u>0?g/u*100:0,x={startTotal:l,endTotal:u,netChange:A,growthRate:h,startCriaH:s.startCriaH,startCriaM:s.startCriaM,startLevanteTemprano:s.startLevanteTemprano,startLevanteMedio:s.startLevanteMedio,startLevanteTardio:s.startLevanteTardio,startCabras:s.startCabras,startPadres:s.startPadres,endCriaH:o.endCriaH,endCriaM:o.endCriaM,endLevanteTemprano:o.endLevanteTemprano,endLevanteMedio:o.endLevanteMedio,endLevanteTardio:o.endLevanteTardio,endCabras:o.endCabras,endPadres:o.endPadres,nacimientosH:p("nacimientosH"),nacimientosM:p("nacimientosM"),muertesCriaH:p("muertesCriaH"),muertesCriaM:p("muertesCriaM"),muertesLevanteTemprano:p("muertesLevanteTemprano"),muertesLevanteMedio:p("muertesLevanteMedio"),muertesLevanteTardio:p("muertesLevanteTardio"),muertesCabras:p("muertesCabras"),muertesPadres:p("muertesPadres"),muertesTotales:p("muertesTotales"),ventasCabritos:p("ventasCabritos"),ventasDescartes:p("ventasDescartes"),ventasTotales:p("ventasTotales"),comprasVientres:p("comprasVientres"),comprasPadres:p("comprasPadres"),comprasTotales:p("comprasTotales"),promocionCriaH:p("promocionCriaH"),promocionLevanteTemprano:p("promocionLevanteTemprano"),promocionLevanteMedio:p("promocionLevanteMedio"),promocionLevanteTardio:p("promocionLevanteTardio"),kpiProductivasCount:m,kpiProductivasPercent:v,kpiCrecimientoCount:g,kpiCrecimientoPercent:y,litrosLeche:p("litrosLeche"),ingresosTotales:p("ingresosTotales")};n==="Semestral"?r.push({...x,semestreIndex:i/6,year:s.year,periodLabel:`S${i/6%2+1} (Ao ${s.year})`}):r.push({...x,year:s.year,periodLabel:`Ao ${s.year}`})}return r}const aJe=(t,e)=>P.useMemo(()=>{const r=iJe(t,e),i=Bz(r,6,"Semestral"),a=Bz(r,12,"Anual");return{monthlyData:r,semestralData:i,annualData:a}},[t,e]);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ek=function(t,e){return ek=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ek(t,e)};function Au(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ek(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var tk=function(){return tk=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tk.apply(this,arguments)};function go(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(A){try{u(r.next(A))}catch(d){s(d)}}function l(A){try{u(r.throw(A))}catch(d){s(d)}}function u(A){A.done?a(A.value):i(A.value).then(o,l)}u((r=r.apply(t,[])).next())})}function Xs(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(A){return l([u,A])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(A){u=[6,A],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function X1(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var WA=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),WE=function(t,e){return WA.fromClientRect(t,e.getBoundingClientRect())},sJe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new WA(0,0,r,i)},GE=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},fa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var s=t[i];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Nz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oJe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var J1=0;J1<Nz.length;J1++)oJe[Nz.charCodeAt(J1)]=J1;var jz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Z1=0;Z1<jz.length;Z1++)wv[jz.charCodeAt(Z1)]=Z1;var lJe=function(t){var e=t.length*.75,n=t.length,r,i=0,a,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=wv[t.charCodeAt(r)],s=wv[t.charCodeAt(r+1)],o=wv[t.charCodeAt(r+2)],l=wv[t.charCodeAt(r+3)],A[i++]=a<<2|s>>4,A[i++]=(s&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return u},cJe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},uJe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},kh=5,xF=11,NN=2,AJe=xF-kh,_re=65536>>kh,dJe=1<<kh,jN=dJe-1,fJe=1024>>kh,hJe=_re+fJe,pJe=hJe,mJe=32,gJe=pJe+mJe,vJe=65536>>xF,yJe=1<<AJe,bJe=yJe-1,Iz=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},xJe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},wJe=function(t,e){var n=lJe(t),r=Array.isArray(n)?uJe(n):new Uint32Array(n),i=Array.isArray(n)?cJe(n):new Uint16Array(n),a=24,s=Iz(i,a/2,r[4]/2),o=r[5]===2?Iz(i,(a+r[4])/2):xJe(r,Math.ceil((a+r[4])/4));return new CJe(r[0],r[1],r[2],r[3],s,o)},CJe=function(){function t(e,n,r,i,a,s){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>kh],n=(n<<NN)+(e&jN),this.data[n];if(e<=65535)return n=this.index[_re+(e-55296>>kh)],n=(n<<NN)+(e&jN),this.data[n];if(e<this.highStart)return n=gJe-vJe+(e>>xF),n=this.index[n],n+=e>>kh&bJe,n=this.index[n],n=(n<<NN)+(e&jN),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Tz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SJe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ew=0;ew<Tz.length;ew++)SJe[Tz.charCodeAt(ew)]=ew;var EJe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kz=50,_Je=1,Bre=2,Nre=3,BJe=4,NJe=5,Pz=7,jre=8,Dz=9,Md=10,nk=11,Oz=12,rk=13,jJe=14,Cv=15,ik=16,tw=17,tv=18,IJe=19,Fz=20,ak=21,nv=22,IN=23,Op=24,gl=25,Sv=26,Ev=27,Fp=28,TJe=29,ah=30,kJe=31,nw=32,rw=33,sk=34,ok=35,lk=36,Mb=37,ck=38,o2=39,l2=40,TN=41,Ire=42,PJe=43,DJe=[9001,65288],Tre="!",sr="",iw="",uk=wJe(EJe),AA=[ah,lk],Ak=[_Je,Bre,Nre,NJe],kre=[Md,jre],Lz=[Ev,Sv],OJe=Ak.concat(kre),Mz=[ck,o2,l2,sk,ok],FJe=[Cv,rk],LJe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(a,s){var o=uk.get(a);if(o>kz?(i.push(!0),o-=kz):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(s),n.push(ik);if(o===BJe||o===nk){if(s===0)return r.push(s),n.push(ah);var l=n[s-1];return OJe.indexOf(l)===-1?(r.push(r[s-1]),n.push(l)):(r.push(s),n.push(ah))}if(r.push(s),o===kJe)return n.push(e==="strict"?ak:Mb);if(o===Ire||o===TJe)return n.push(ah);if(o===PJe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Mb):n.push(ah);n.push(o)}),[r,n,i]},kN=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=n;a<=r.length;){a++;var s=r[a];if(s===e)return!0;if(s!==Md)break}if(i===Md)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var s=r[l];if(s===e)return!0;if(s!==Md)break}if(o!==Md)break}return!1},Rz=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Md)n--;else return r}return 0},MJe=function(t,e,n,r,i){if(n[r]===0)return sr;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return sr;var s=a-1,o=a+1,l=e[a],u=s>=0?e[s]:0,A=e[o];if(l===Bre&&A===Nre)return sr;if(Ak.indexOf(l)!==-1)return Tre;if(Ak.indexOf(A)!==-1||kre.indexOf(A)!==-1)return sr;if(Rz(a,e)===jre)return iw;if(uk.get(t[a])===nk||(l===nw||l===rw)&&uk.get(t[o])===nk||l===Pz||A===Pz||l===Dz||[Md,rk,Cv].indexOf(l)===-1&&A===Dz||[tw,tv,IJe,Op,Fp].indexOf(A)!==-1||Rz(a,e)===nv||kN(IN,nv,a,e)||kN([tw,tv],ak,a,e)||kN(Oz,Oz,a,e))return sr;if(l===Md)return iw;if(l===IN||A===IN)return sr;if(A===ik||l===ik)return iw;if([rk,Cv,ak].indexOf(A)!==-1||l===jJe||u===lk&&FJe.indexOf(l)!==-1||l===Fp&&A===lk||A===Fz||AA.indexOf(A)!==-1&&l===gl||AA.indexOf(l)!==-1&&A===gl||l===Ev&&[Mb,nw,rw].indexOf(A)!==-1||[Mb,nw,rw].indexOf(l)!==-1&&A===Sv||AA.indexOf(l)!==-1&&Lz.indexOf(A)!==-1||Lz.indexOf(l)!==-1&&AA.indexOf(A)!==-1||[Ev,Sv].indexOf(l)!==-1&&(A===gl||[nv,Cv].indexOf(A)!==-1&&e[o+1]===gl)||[nv,Cv].indexOf(l)!==-1&&A===gl||l===gl&&[gl,Fp,Op].indexOf(A)!==-1)return sr;if([gl,Fp,Op,tw,tv].indexOf(A)!==-1)for(var d=a;d>=0;){var f=e[d];if(f===gl)return sr;if([Fp,Op].indexOf(f)!==-1)d--;else break}if([Ev,Sv].indexOf(A)!==-1)for(var d=[tw,tv].indexOf(l)!==-1?s:a;d>=0;){var f=e[d];if(f===gl)return sr;if([Fp,Op].indexOf(f)!==-1)d--;else break}if(ck===l&&[ck,o2,sk,ok].indexOf(A)!==-1||[o2,sk].indexOf(l)!==-1&&[o2,l2].indexOf(A)!==-1||[l2,ok].indexOf(l)!==-1&&A===l2||Mz.indexOf(l)!==-1&&[Fz,Sv].indexOf(A)!==-1||Mz.indexOf(A)!==-1&&l===Ev||AA.indexOf(l)!==-1&&AA.indexOf(A)!==-1||l===Op&&AA.indexOf(A)!==-1||AA.concat(gl).indexOf(l)!==-1&&A===nv&&DJe.indexOf(t[o])===-1||AA.concat(gl).indexOf(A)!==-1&&l===tv)return sr;if(l===TN&&A===TN){for(var h=n[a],p=1;h>0&&(h--,e[h]===TN);)p++;if(p%2!==0)return sr}return l===nw&&A===rw?sr:iw},RJe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=LJe(t,e.lineBreak),r=n[0],i=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[gl,ah,Ire].indexOf(o)!==-1?Mb:o}));var s=e.wordBreak==="keep-all"?a.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,s]},UJe=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===Tre,this.start=r,this.end=i}return t.prototype.slice=function(){return fa.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),QJe=function(t,e){var n=GE(t),r=RJe(n,e),i=r[0],a=r[1],s=r[2],o=n.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var A=sr;u<o&&(A=MJe(n,a,i,++u,s))===sr;);if(A!==sr||u===o){var d=new UJe(n,A,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},HJe=1,zJe=2,Px=4,Uz=8,TS=10,Qz=47,ly=92,VJe=9,$Je=32,aw=34,rv=61,KJe=35,WJe=36,GJe=37,sw=39,ow=40,iv=41,qJe=95,Po=45,YJe=33,XJe=60,JJe=62,ZJe=64,eZe=91,tZe=93,nZe=61,rZe=123,lw=63,iZe=125,Hz=124,aZe=126,sZe=128,zz=65533,PN=42,yh=43,oZe=44,lZe=58,cZe=59,Rb=46,uZe=0,AZe=8,dZe=11,fZe=14,hZe=31,pZe=127,xu=-1,Pre=48,Dre=97,Ore=101,mZe=102,gZe=117,vZe=122,Fre=65,Lre=69,Mre=70,yZe=85,bZe=90,to=function(t){return t>=Pre&&t<=57},xZe=function(t){return t>=55296&&t<=57343},Lp=function(t){return to(t)||t>=Fre&&t<=Mre||t>=Dre&&t<=mZe},wZe=function(t){return t>=Dre&&t<=vZe},CZe=function(t){return t>=Fre&&t<=bZe},SZe=function(t){return wZe(t)||CZe(t)},EZe=function(t){return t>=sZe},cw=function(t){return t===TS||t===VJe||t===$Je},kS=function(t){return SZe(t)||EZe(t)||t===qJe},Vz=function(t){return kS(t)||to(t)||t===Po},_Ze=function(t){return t>=uZe&&t<=AZe||t===dZe||t>=fZe&&t<=hZe||t===pZe},Ed=function(t,e){return t!==ly?!1:e!==TS},uw=function(t,e,n){return t===Po?kS(e)||Ed(e,n):kS(t)?!0:!!(t===ly&&Ed(t,e))},DN=function(t,e,n){return t===yh||t===Po?to(e)?!0:e===Rb&&to(n):to(t===Rb?e:t)},BZe=function(t){var e=0,n=1;(t[e]===yh||t[e]===Po)&&(t[e]===Po&&(n=-1),e++);for(var r=[];to(t[e]);)r.push(t[e++]);var i=r.length?parseInt(fa.apply(void 0,r),10):0;t[e]===Rb&&e++;for(var a=[];to(t[e]);)a.push(t[e++]);var s=a.length,o=s?parseInt(fa.apply(void 0,a),10):0;(t[e]===Lre||t[e]===Ore)&&e++;var l=1;(t[e]===yh||t[e]===Po)&&(t[e]===Po&&(l=-1),e++);for(var u=[];to(t[e]);)u.push(t[e++]);var A=u.length?parseInt(fa.apply(void 0,u),10):0;return n*(i+o*Math.pow(10,-s))*Math.pow(10,l*A)},NZe={type:2},jZe={type:3},IZe={type:4},TZe={type:13},kZe={type:8},PZe={type:21},DZe={type:9},OZe={type:10},FZe={type:11},LZe={type:12},MZe={type:14},Aw={type:23},RZe={type:1},UZe={type:25},QZe={type:24},HZe={type:26},zZe={type:27},VZe={type:28},$Ze={type:29},KZe={type:31},dk={type:32},Rre=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(GE(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==dk;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case aw:return this.consumeStringToken(aw);case KJe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Vz(n)||Ed(r,i)){var a=uw(n,r,i)?zJe:HJe,s=this.consumeName();return{type:5,value:s,flags:a}}break;case WJe:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),TZe;break;case sw:return this.consumeStringToken(sw);case ow:return NZe;case iv:return jZe;case PN:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),MZe;break;case yh:if(DN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case oZe:return IZe;case Po:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(DN(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(uw(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Po&&u===JJe)return this.consumeCodePoint(),this.consumeCodePoint(),QZe;break;case Rb:if(DN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Qz:if(this.peekCodePoint(0)===PN)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===PN&&(A=this.consumeCodePoint(),A===Qz))return this.consumeToken();if(A===xu)return this.consumeToken()}break;case lZe:return HZe;case cZe:return zZe;case XJe:if(this.peekCodePoint(0)===YJe&&this.peekCodePoint(1)===Po&&this.peekCodePoint(2)===Po)return this.consumeCodePoint(),this.consumeCodePoint(),UZe;break;case ZJe:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(uw(d,f,h)){var s=this.consumeName();return{type:7,value:s}}break;case eZe:return VZe;case ly:if(Ed(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case tZe:return $Ze;case nZe:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),kZe;break;case rZe:return FZe;case iZe:return LZe;case gZe:case yZe:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===yh&&(Lp(m)||m===lw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Hz:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),DZe;if(this.peekCodePoint(0)===Hz)return this.consumeCodePoint(),PZe;break;case aZe:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),OZe;break;case xu:return dk}return cw(e)?(this.consumeWhiteSpace(),KZe):to(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):kS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:fa(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Lp(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===lw&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(fa.apply(void 0,e.map(function(l){return l===lw?Pre:l})),16),a=parseInt(fa.apply(void 0,e.map(function(l){return l===lw?Mre:l})),16);return{type:30,start:i,end:a}}var s=parseInt(fa.apply(void 0,e),16);if(this.peekCodePoint(0)===Po&&Lp(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];Lp(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(fa.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ow?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ow?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xu)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===sw||n===aw){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xu||this.peekCodePoint(0)===iv)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Aw)}for(;;){var i=this.consumeCodePoint();if(i===xu||i===iv)return{type:22,value:fa.apply(void 0,e)};if(cw(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xu||this.peekCodePoint(0)===iv?(this.consumeCodePoint(),{type:22,value:fa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Aw);if(i===aw||i===sw||i===ow||_Ze(i))return this.consumeBadUrlRemnants(),Aw;if(i===ly)if(Ed(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Aw;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;cw(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===iv||e===xu)return;Ed(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=fa.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===xu||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===TS)return this._value.splice(0,r),RZe;if(i===ly){var a=this._value[r+1];a!==xu&&a!==void 0&&(a===TS?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Ed(i,a)&&(n+=this.consumeStringSlice(r),n+=fa(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Px,r=this.peekCodePoint(0);for((r===yh||r===Po)&&e.push(this.consumeCodePoint());to(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Rb&&to(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Uz;to(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===Lre||r===Ore)&&((i===yh||i===Po)&&to(a)||to(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Uz;to(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[BZe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(uw(i,a,s)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===GJe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Lp(e)){for(var n=fa(e);Lp(this.peekCodePoint(0))&&n.length<6;)n+=fa(this.consumeCodePoint());cw(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||xZe(r)||r>1114111?zz:r}return e===xu?zz:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(Vz(n))e+=fa(n);else if(Ed(n,this.peekCodePoint(0)))e+=fa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),Ure=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new Rre;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||GZe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?dk:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Dx=function(t){return t.type===15},B0=function(t){return t.type===17},Yr=function(t){return t.type===20},WZe=function(t){return t.type===0},fk=function(t,e){return Yr(t)&&t.value===e},Qre=function(t){return t.type!==31},Xg=function(t){return t.type!==31&&t.type!==4},Xu=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},GZe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},hf=function(t){return t.type===17||t.type===15},Na=function(t){return t.type===16||hf(t)},Hre=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ns={type:17,number:0,flags:Px},wF={type:16,number:50,flags:Px},Rd={type:16,number:100,flags:Px},_v=function(t,e,n){var r=t[0],i=t[1];return[ui(r,e),ui(typeof i<"u"?i:r,n)]},ui=function(t,e){if(t.type===16)return t.number/100*e;if(Dx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},zre="deg",Vre="grad",$re="rad",Kre="turn",qE={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case zre:return Math.PI*e.number/180;case Vre:return Math.PI/200*e.number;case $re:return e.number;case Kre:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Wre=function(t){return t.type===15&&(t.unit===zre||t.unit===Vre||t.unit===$re||t.unit===Kre)},Gre=function(t){var e=t.filter(Yr).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ns,Ns];case"to top":case"bottom":return dc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ns,Rd];case"to right":case"left":return dc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rd,Rd];case"to bottom":case"top":return dc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rd,Ns];case"to left":case"right":return dc(270)}return 0},dc=function(t){return Math.PI*t/180},tf={name:"color",parse:function(t,e){if(e.type===18){var n=qZe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Ud(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return Ud(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Ud(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return Ud(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var o=PA[e.value.toUpperCase()];if(typeof o<"u")return o}return PA.TRANSPARENT}},nf=function(t){return(255&t)===0},ns=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Ud=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},$z=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},Kz=function(t,e){var n=e.filter(Xg);if(n.length===3){var r=n.map($z),i=r[0],a=r[1],s=r[2];return Ud(i,a,s,1)}if(n.length===4){var o=n.map($z),i=o[0],a=o[1],s=o[2],l=o[3];return Ud(i,a,s,l)}return 0};function ON(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var Wz=function(t,e){var n=e.filter(Xg),r=n[0],i=n[1],a=n[2],s=n[3],o=(r.type===17?dc(r.number):qE.parse(t,r))/(Math.PI*2),l=Na(i)?i.number/100:0,u=Na(a)?a.number/100:0,A=typeof s<"u"&&Na(s)?ui(s,1):1;if(l===0)return Ud(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,f=u*2-d,h=ON(f,d,o+1/3),p=ON(f,d,o),m=ON(f,d,o-1/3);return Ud(h*255,p*255,m*255,A)},qZe={hsl:Wz,hsla:Wz,rgb:Kz,rgba:Kz},cy=function(t,e){return tf.parse(t,Ure.create(e).parseComponentValue())},PA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},YZe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},XZe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},YE=function(t,e){var n=tf.parse(t,e[0]),r=e[1];return r&&Na(r)?{color:n,stop:r}:{color:n,stop:null}},Gz=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Ns),r.stop===null&&(r.stop=Rd);for(var i=[],a=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var l=ui(o,e);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,s=0;s<i.length;s++){var A=i[s];if(A===null)u===null&&(u=s);else if(u!==null){for(var d=s-u,f=i[u-1],h=(A-f)/(d+1),p=1;p<=d;p++)i[u+p-1]=h*p;u=null}}return t.map(function(m,v){var g=m.color;return{color:g,stop:Math.max(Math.min(1,i[v]/e),0)}})},JZe=function(t,e,n){var r=e/2,i=n/2,a=ui(t[0],e)-r,s=i-ui(t[1],n);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},ZZe=function(t,e,n){var r=typeof t=="number"?t:JZe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,s=n/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,a-u,a+u,s-l,s+l]},Rc=function(t,e){return Math.sqrt(t*t+e*e)},qz=function(t,e,n,r,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,o){var l=o[0],u=o[1],A=Rc(n-l,r-u);return(i?A<s.optimumDistance:A>s.optimumDistance)?{optimumCorner:o,optimumDistance:A}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},eet=function(t,e,n,r,i){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),s=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)a=s=Math.min(Rc(e,n),Rc(e,n-i),Rc(e-r,n),Rc(e-r,n-i));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=qz(r,i,e,n,!0),u=l[0],A=l[1];a=Rc(u-e,(A-n)/o),s=o*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),s=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)a=s=Math.max(Rc(e,n),Rc(e,n-i),Rc(e-r,n),Rc(e-r,n-i));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),d=qz(r,i,e,n,!1),u=d[0],A=d[1];a=Rc(u-e,(A-n)/o),s=o*a}break}return Array.isArray(t.size)&&(a=ui(t.size[0],r),s=t.size.length===2?ui(t.size[1],i):a),[a,s]},tet=function(t,e){var n=dc(180),r=[];return Xu(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){n=Gre(i);return}else if(Wre(s)){n=qE.parse(t,s);return}}var o=YE(t,i);r.push(o)}),{angle:n,stops:r,type:1}},dw=function(t,e){var n=dc(180),r=[];return Xu(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){n=Gre(i);return}else if(Wre(s)){n=(qE.parse(t,s)+dc(270))%dc(360);return}}var o=YE(t,i);r.push(o)}),{angle:n,stops:r,type:1}},net=function(t,e){var n=dc(180),r=[],i=1,a=0,s=3,o=[];return Xu(e).forEach(function(l,u){var A=l[0];if(u===0){if(Yr(A)&&A.value==="linear"){i=1;return}else if(Yr(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var d=tf.parse(t,A.values[0]);r.push({stop:Ns,color:d})}else if(A.name==="to"){var d=tf.parse(t,A.values[0]);r.push({stop:Rd,color:d})}else if(A.name==="color-stop"){var f=A.values.filter(Xg);if(f.length===2){var d=tf.parse(t,f[1]),h=f[0];B0(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),i===1?{angle:(n+dc(180))%dc(360),stops:r,type:i}:{size:s,shape:a,stops:r,position:o,type:i}},qre="closest-side",Yre="farthest-side",Xre="closest-corner",Jre="farthest-corner",Zre="circle",eie="ellipse",tie="cover",nie="contain",ret=function(t,e){var n=0,r=3,i=[],a=[];return Xu(e).forEach(function(s,o){var l=!0;if(o===0){var u=!1;l=s.reduce(function(d,f){if(u)if(Yr(f))switch(f.value){case"center":return a.push(wF),d;case"top":case"left":return a.push(Ns),d;case"right":case"bottom":return a.push(Rd),d}else(Na(f)||hf(f))&&a.push(f);else if(Yr(f))switch(f.value){case Zre:return n=0,!1;case eie:return n=1,!1;case"at":return u=!0,!1;case qre:return r=0,!1;case tie:case Yre:return r=1,!1;case nie:case Xre:return r=2,!1;case Jre:return r=3,!1}else if(hf(f)||Na(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},l)}if(l){var A=YE(t,s);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},fw=function(t,e){var n=0,r=3,i=[],a=[];return Xu(e).forEach(function(s,o){var l=!0;if(o===0?l=s.reduce(function(A,d){if(Yr(d))switch(d.value){case"center":return a.push(wF),!1;case"top":case"left":return a.push(Ns),!1;case"right":case"bottom":return a.push(Rd),!1}else if(Na(d)||hf(d))return a.push(d),!1;return A},l):o===1&&(l=s.reduce(function(A,d){if(Yr(d))switch(d.value){case Zre:return n=0,!1;case eie:return n=1,!1;case nie:case qre:return r=0,!1;case Yre:return r=1,!1;case Xre:return r=2,!1;case tie:case Jre:return r=3,!1}else if(hf(d)||Na(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return A},l)),l){var u=YE(t,s);i.push(u)}}),{size:r,shape:n,stops:i,position:a,type:2}},iet=function(t){return t.type===1},aet=function(t){return t.type===2},CF={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=rie[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function set(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!rie[t.name])}var rie={"linear-gradient":tet,"-moz-linear-gradient":dw,"-ms-linear-gradient":dw,"-o-linear-gradient":dw,"-webkit-linear-gradient":dw,"radial-gradient":ret,"-moz-radial-gradient":fw,"-ms-radial-gradient":fw,"-o-radial-gradient":fw,"-webkit-radial-gradient":fw,"-webkit-gradient":net},oet={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Xg(r)&&set(r)}).map(function(r){return CF.parse(t,r)})}},cet={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uet={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Xu(e).map(function(n){return n.filter(Na)}).map(Hre)}},Aet={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Xu(e).map(function(n){return n.filter(Yr).map(function(r){return r.value}).join(" ")}).map(det)}},det=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vm;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Vm||(Vm={}));var fet={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Xu(e).map(function(n){return n.filter(het)})}},het=function(t){return Yr(t)||Na(t)},XE=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pet=XE("top"),met=XE("right"),get=XE("bottom"),vet=XE("left"),JE=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return Hre(n.filter(Na))}}},yet=JE("top-left"),bet=JE("top-right"),xet=JE("bottom-right"),wet=JE("bottom-left"),ZE=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Cet=ZE("top"),Eet=ZE("right"),_et=ZE("bottom"),Bet=ZE("left"),e_=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Dx(n)?n.number:0}}},Net=e_("top"),jet=e_("right"),Iet=e_("bottom"),Tet=e_("left"),ket={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pet={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Det={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).reduce(function(n,r){return n|Oet(r.value)},0)}},Oet=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Fet={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Let={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},PS;(function(t){t.NORMAL="normal",t.STRICT="strict"})(PS||(PS={}));var Met={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return PS.STRICT;case"normal":default:return PS.NORMAL}}},Ret={name:"line-height",initialValue:"normal",prefix:!1,type:4},Yz=function(t,e){return Yr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Na(t)?ui(t,e):e},Uet={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:CF.parse(t,e)}},Qet={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},hk={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},t_=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Het=t_("top"),zet=t_("right"),Vet=t_("bottom"),$et=t_("left"),Ket={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Wet={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},n_=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Get=n_("top"),qet=n_("right"),Yet=n_("bottom"),Xet=n_("left"),Jet={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Zet={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ett={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&fk(e[0],"none")?[]:Xu(e).map(function(n){for(var r={color:PA.TRANSPARENT,offsetX:Ns,offsetY:Ns,blur:Ns},i=0,a=0;a<n.length;a++){var s=n[a];hf(s)?(i===0?r.offsetX=s:i===1?r.offsetY=s:r.blur=s,i++):r.color=tf.parse(t,s)}return r})}},ttt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ntt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=att[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},rtt=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},itt=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,i,a,s,o]:null},att={matrix:rtt,matrix3d:itt},Xz={type:16,number:50,flags:Px},stt=[Xz,Xz],ott={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Na);return n.length!==2?stt:[n[0],n[1]]}},ltt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},uy;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(uy||(uy={}));var ctt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return uy.BREAK_ALL;case"keep-all":return uy.KEEP_ALL;case"normal":default:return uy.NORMAL}}},utt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(B0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},iie={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Att={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return B0(e)?e.number:1}},dtt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ftt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},htt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},ptt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},mtt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(B0(e))return e.number;if(Yr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},gtt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Yr).map(function(n){return n.value})}},vtt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},qa=function(t,e){return(t&e)!==0},ytt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},btt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(Qre),a=0;a<i.length;a++){var s=i[a],o=i[a+1];if(s.type===20){var l=o&&B0(o)?o.number:1;r.push({counter:s.value,increment:l})}}return r}},xtt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(Qre),i=0;i<r.length;i++){var a=r[i],s=r[i+1];if(Yr(a)&&a.value!=="none"){var o=s&&B0(s)?s.number:0;n.push({counter:a.value,reset:o})}}return n}},wtt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Dx).map(function(n){return iie.parse(t,n)})}},Ctt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(WZe);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,o=i[a+1].value;r.push({open:s,close:o})}return r}},Jz=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Stt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&fk(e[0],"none")?[]:Xu(e).map(function(n){for(var r={color:255,offsetX:Ns,offsetY:Ns,blur:Ns,spread:Ns,inset:!1},i=0,a=0;a<n.length;a++){var s=n[a];fk(s,"inset")?r.inset=!0:hf(s)?(i===0?r.offsetX=s:i===1?r.offsetY=s:i===2?r.blur=s:r.spread=s,i++):r.color=tf.parse(t,s)}return r})}},Ett={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Yr).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},_tt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Btt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Dx(e)?e.number:0}},Ntt=function(){function t(e,n){var r,i;this.animationDuration=Jt(e,wtt,n.animationDuration),this.backgroundClip=Jt(e,YZe,n.backgroundClip),this.backgroundColor=Jt(e,XZe,n.backgroundColor),this.backgroundImage=Jt(e,oet,n.backgroundImage),this.backgroundOrigin=Jt(e,cet,n.backgroundOrigin),this.backgroundPosition=Jt(e,uet,n.backgroundPosition),this.backgroundRepeat=Jt(e,Aet,n.backgroundRepeat),this.backgroundSize=Jt(e,fet,n.backgroundSize),this.borderTopColor=Jt(e,pet,n.borderTopColor),this.borderRightColor=Jt(e,met,n.borderRightColor),this.borderBottomColor=Jt(e,get,n.borderBottomColor),this.borderLeftColor=Jt(e,vet,n.borderLeftColor),this.borderTopLeftRadius=Jt(e,yet,n.borderTopLeftRadius),this.borderTopRightRadius=Jt(e,bet,n.borderTopRightRadius),this.borderBottomRightRadius=Jt(e,xet,n.borderBottomRightRadius),this.borderBottomLeftRadius=Jt(e,wet,n.borderBottomLeftRadius),this.borderTopStyle=Jt(e,Cet,n.borderTopStyle),this.borderRightStyle=Jt(e,Eet,n.borderRightStyle),this.borderBottomStyle=Jt(e,_et,n.borderBottomStyle),this.borderLeftStyle=Jt(e,Bet,n.borderLeftStyle),this.borderTopWidth=Jt(e,Net,n.borderTopWidth),this.borderRightWidth=Jt(e,jet,n.borderRightWidth),this.borderBottomWidth=Jt(e,Iet,n.borderBottomWidth),this.borderLeftWidth=Jt(e,Tet,n.borderLeftWidth),this.boxShadow=Jt(e,Stt,n.boxShadow),this.color=Jt(e,ket,n.color),this.direction=Jt(e,Pet,n.direction),this.display=Jt(e,Det,n.display),this.float=Jt(e,Fet,n.cssFloat),this.fontFamily=Jt(e,htt,n.fontFamily),this.fontSize=Jt(e,ptt,n.fontSize),this.fontStyle=Jt(e,vtt,n.fontStyle),this.fontVariant=Jt(e,gtt,n.fontVariant),this.fontWeight=Jt(e,mtt,n.fontWeight),this.letterSpacing=Jt(e,Let,n.letterSpacing),this.lineBreak=Jt(e,Met,n.lineBreak),this.lineHeight=Jt(e,Ret,n.lineHeight),this.listStyleImage=Jt(e,Uet,n.listStyleImage),this.listStylePosition=Jt(e,Qet,n.listStylePosition),this.listStyleType=Jt(e,hk,n.listStyleType),this.marginTop=Jt(e,Het,n.marginTop),this.marginRight=Jt(e,zet,n.marginRight),this.marginBottom=Jt(e,Vet,n.marginBottom),this.marginLeft=Jt(e,$et,n.marginLeft),this.opacity=Jt(e,Att,n.opacity);var a=Jt(e,Ket,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Jt(e,Wet,n.overflowWrap),this.paddingTop=Jt(e,Get,n.paddingTop),this.paddingRight=Jt(e,qet,n.paddingRight),this.paddingBottom=Jt(e,Yet,n.paddingBottom),this.paddingLeft=Jt(e,Xet,n.paddingLeft),this.paintOrder=Jt(e,Ett,n.paintOrder),this.position=Jt(e,Zet,n.position),this.textAlign=Jt(e,Jet,n.textAlign),this.textDecorationColor=Jt(e,dtt,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Jt(e,ftt,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Jt(e,ett,n.textShadow),this.textTransform=Jt(e,ttt,n.textTransform),this.transform=Jt(e,ntt,n.transform),this.transformOrigin=Jt(e,ott,n.transformOrigin),this.visibility=Jt(e,ltt,n.visibility),this.webkitTextStrokeColor=Jt(e,_tt,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Jt(e,Btt,n.webkitTextStrokeWidth),this.wordBreak=Jt(e,ctt,n.wordBreak),this.zIndex=Jt(e,utt,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return nf(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return qa(this.display,4)||qa(this.display,33554432)||qa(this.display,268435456)||qa(this.display,536870912)||qa(this.display,67108864)||qa(this.display,134217728)},t}(),jtt=function(){function t(e,n){this.content=Jt(e,ytt,n.content),this.quotes=Jt(e,Ctt,n.quotes)}return t}(),Zz=function(){function t(e,n){this.counterIncrement=Jt(e,btt,n.counterIncrement),this.counterReset=Jt(e,xtt,n.counterReset)}return t}(),Jt=function(t,e,n){var r=new Rre,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var a=new Ure(r.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,Yr(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return qE.parse(t,a.parseComponentValue());case"color":return tf.parse(t,a.parseComponentValue());case"image":return CF.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return hf(o)?o:Ns;case"length-percentage":var l=a.parseComponentValue();return Na(l)?l:Ns;case"time":return iie.parse(t,a.parseComponentValue())}break}},Itt="data-html2canvas-debug",Ttt=function(t){var e=t.getAttribute(Itt);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},pk=function(t,e){var n=Ttt(t);return n===1||e===n},Ju=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,pk(n,3))debugger;this.styles=new Ntt(e,window.getComputedStyle(n,null)),vk(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=WE(this.context,n),pk(n,4)&&(this.flags|=16)}return t}(),ktt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",e9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hw=0;hw<e9.length;hw++)Bv[e9.charCodeAt(hw)]=hw;var Ptt=function(t){var e=t.length*.75,n=t.length,r,i=0,a,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=Bv[t.charCodeAt(r)],s=Bv[t.charCodeAt(r+1)],o=Bv[t.charCodeAt(r+2)],l=Bv[t.charCodeAt(r+3)],A[i++]=a<<2|s>>4,A[i++]=(s&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return u},Dtt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Ott=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Ph=5,SF=11,FN=2,Ftt=SF-Ph,aie=65536>>Ph,Ltt=1<<Ph,LN=Ltt-1,Mtt=1024>>Ph,Rtt=aie+Mtt,Utt=Rtt,Qtt=32,Htt=Utt+Qtt,ztt=65536>>SF,Vtt=1<<Ftt,$tt=Vtt-1,t9=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Ktt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Wtt=function(t,e){var n=Ptt(t),r=Array.isArray(n)?Ott(n):new Uint32Array(n),i=Array.isArray(n)?Dtt(n):new Uint16Array(n),a=24,s=t9(i,a/2,r[4]/2),o=r[5]===2?t9(i,(a+r[4])/2):Ktt(r,Math.ceil((a+r[4])/4));return new Gtt(r[0],r[1],r[2],r[3],s,o)},Gtt=function(){function t(e,n,r,i,a,s){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Ph],n=(n<<FN)+(e&LN),this.data[n];if(e<=65535)return n=this.index[aie+(e-55296>>Ph)],n=(n<<FN)+(e&LN),this.data[n];if(e<this.highStart)return n=Htt-ztt+(e>>SF),n=this.index[n],n+=e>>Ph&$tt,n=this.index[n],n=(n<<FN)+(e&LN),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),n9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qtt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pw=0;pw<n9.length;pw++)qtt[n9.charCodeAt(pw)]=pw;var Ytt=1,MN=2,RN=3,r9=4,i9=5,Xtt=7,a9=8,UN=9,QN=10,s9=11,o9=12,l9=13,c9=14,HN=15,Jtt=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Ztt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var s=t[i];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},ent=Wtt(ktt),ac="",zN="",tnt=function(t){return ent.get(t)},nnt=function(t,e,n){var r=n-2,i=e[r],a=e[n-1],s=e[n];if(a===MN&&s===RN)return ac;if(a===MN||a===RN||a===r9||s===MN||s===RN||s===r9)return zN;if(a===a9&&[a9,UN,s9,o9].indexOf(s)!==-1||(a===s9||a===UN)&&(s===UN||s===QN)||(a===o9||a===QN)&&s===QN||s===l9||s===i9||s===Xtt||a===Ytt)return ac;if(a===l9&&s===c9){for(;i===i9;)i=e[--r];if(i===c9)return ac}if(a===HN&&s===HN){for(var o=0;i===HN;)o++,i=e[--r];if(o%2===0)return ac}return zN},rnt=function(t){var e=Jtt(t),n=e.length,r=0,i=0,a=e.map(tnt);return{next:function(){if(r>=n)return{done:!0,value:null};for(var s=ac;r<n&&(s=nnt(e,a,++r))===ac;);if(s!==ac||r===n){var o=Ztt.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},int=function(t){for(var e=rnt(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},ant=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(r),a===e)return!0}}return!1},snt=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=GE(r.data).map(function(l){return fa(l)}),a=0,s={},o=i.every(function(l,u){n.setStart(r,a),n.setEnd(r,a+l.length);var A=n.getBoundingClientRect();a+=l.length;var d=A.x>s.x||A.y>s.y;return s=A,u===0?!0:d});return t.body.removeChild(e),o},ont=function(){return typeof new Image().crossOrigin<"u"},lnt=function(){return typeof new XMLHttpRequest().responseType=="string"},cnt=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},u9=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},unt=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=e.toDataURL();i.src=a;var s=mk(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),A9(s).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",u9(l)?A9(mk(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),u9(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},mk=function(t,e,n,r,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},A9=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ss={get SUPPORT_RANGE_BOUNDS(){var t=ant(document);return Object.defineProperty(Ss,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ss.SUPPORT_RANGE_BOUNDS&&snt(document);return Object.defineProperty(Ss,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=cnt(document);return Object.defineProperty(Ss,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?unt(document):Promise.resolve(!1);return Object.defineProperty(Ss,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=ont();return Object.defineProperty(Ss,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=lnt();return Object.defineProperty(Ss,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ss,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ss,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ay=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),Ant=function(t,e,n,r){var i=hnt(e,n),a=[],s=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Ss.SUPPORT_RANGE_BOUNDS){var l=d9(r,s,o.length).getClientRects();if(l.length>1){var u=EF(o),A=0;u.forEach(function(f){a.push(new Ay(f,WA.fromDOMRectList(t,d9(r,A+s,f.length).getClientRects()))),A+=f.length})}else a.push(new Ay(o,WA.fromDOMRectList(t,l)))}else{var d=r.splitText(o.length);a.push(new Ay(o,dnt(t,r))),r=d}else Ss.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),a},dnt=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var a=WE(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return WA.EMPTY},d9=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},EF=function(t){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return int(t)},fnt=function(t,e){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return mnt(t,e)},hnt=function(t,e){return e.letterSpacing!==0?EF(t):fnt(t,e)},pnt=[32,160,4961,65792,65793,4153,4241],mnt=function(t,e){for(var n=QJe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,a=function(){if(i.value){var s=i.value.slice(),o=GE(s),l="";o.forEach(function(u){pnt.indexOf(u)===-1?l+=fa(u):(l.length&&r.push(l),r.push(fa(u)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)a();return r},gnt=function(){function t(e,n,r){this.text=vnt(n.data,r.textTransform),this.textBounds=Ant(e,this.text,r,n)}return t}(),vnt=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ynt,bnt);case 2:return t.toUpperCase();default:return t}},ynt=/(^|\s|:|-|\(|\))([a-z])/g,bnt=function(t,e,n){return t.length>0?e+n.toUpperCase():t},sie=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Ju),oie=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Ju),lie=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=new XMLSerializer,s=WE(n,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Ju),cie=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Ju),gk=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Ju),xnt=[{type:15,flags:0,unit:"px",number:3}],wnt=[{type:16,flags:0,number:50}],Cnt=function(t){return t.width>t.height?new WA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new WA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Snt=function(t){var e=t.type===Ent?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},DS="checkbox",OS="radio",Ent="password",f9=707406591,_F=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Snt(r),(i.type===DS||i.type===OS)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Cnt(i.bounds)),i.type){case DS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=xnt;break;case OS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=wnt;break}return i}return e}(Ju),uie=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(Ju),Aie=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Ju),die=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=hie(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?cy(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):PA.TRANSPARENT,s=r.contentWindow.document.body?cy(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):PA.TRANSPARENT;i.backgroundColor=nf(a)?nf(s)?i.styles.backgroundColor:s:a}}catch{}return i}return e}(Ju),_nt=["OL","UL","MENU"],c2=function(t,e,n,r){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,pie(i)&&i.data.trim().length>0)n.textNodes.push(new gnt(t,i,n.styles));else if(_m(i))if(yie(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return c2(t,o,n,r)});else{var s=fie(t,i);s.styles.isVisible()&&(Bnt(i,s,r)?s.flags|=4:Nnt(s.styles)&&(s.flags|=2),_nt.indexOf(i.tagName)!==-1&&(s.flags|=8),n.elements.push(s),i.slot,i.shadowRoot?c2(t,i.shadowRoot,s,r):!FS(i)&&!mie(i)&&!LS(i)&&c2(t,i,s,r))}},fie=function(t,e){return yk(e)?new sie(t,e):gie(e)?new oie(t,e):mie(e)?new lie(t,e):jnt(e)?new cie(t,e):Int(e)?new gk(t,e):Tnt(e)?new _F(t,e):LS(e)?new uie(t,e):FS(e)?new Aie(t,e):vie(e)?new die(t,e):new Ju(t,e)},hie=function(t,e){var n=fie(t,e);return n.flags|=4,c2(t,e,n,n),n},Bnt=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||BF(t)&&n.styles.isTransparent()},Nnt=function(t){return t.isPositioned()||t.isFloating()},pie=function(t){return t.nodeType===Node.TEXT_NODE},_m=function(t){return t.nodeType===Node.ELEMENT_NODE},vk=function(t){return _m(t)&&typeof t.style<"u"&&!u2(t)},u2=function(t){return typeof t.className=="object"},jnt=function(t){return t.tagName==="LI"},Int=function(t){return t.tagName==="OL"},Tnt=function(t){return t.tagName==="INPUT"},knt=function(t){return t.tagName==="HTML"},mie=function(t){return t.tagName==="svg"},BF=function(t){return t.tagName==="BODY"},gie=function(t){return t.tagName==="CANVAS"},h9=function(t){return t.tagName==="VIDEO"},yk=function(t){return t.tagName==="IMG"},vie=function(t){return t.tagName==="IFRAME"},p9=function(t){return t.tagName==="STYLE"},Pnt=function(t){return t.tagName==="SCRIPT"},FS=function(t){return t.tagName==="TEXTAREA"},LS=function(t){return t.tagName==="SELECT"},yie=function(t){return t.tagName==="SLOT"},m9=function(t){return t.tagName.indexOf("-")>0},Dnt=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,a=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var s=[];return a&&i.forEach(function(o){var l=n.counters[o.counter];s.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),s},t}(),g9={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},v9={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ont={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fnt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Mp=function(t,e,n,r,i,a){return t<e||t>n?Ub(t,i,a.length>0):r.integers.reduce(function(s,o,l){for(;t>=o;)t-=o,s+=r.values[l];return s},"")+a},bie=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Aa=function(t,e,n,r,i){var a=n-e+1;return(t<0?"-":"")+(bie(Math.abs(t),a,r,function(s){return fa(Math.floor(s%a)+e)})+i)},zf=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return bie(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},Yp=1,bd=2,xd=4,Nv=8,dA=function(t,e,n,r,i,a){if(t<-9999||t>9999)return Ub(t,4,i.length>0);var s=Math.abs(t),o=i;if(s===0)return e[0]+o;for(var l=0;s>0&&l<=4;l++){var u=s%10;u===0&&qa(a,Yp)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&qa(a,bd)||u===1&&l===1&&qa(a,xd)&&t>100||u===1&&l>1&&qa(a,Nv)?o=e[u]+(l>0?n[l-1]:"")+o:u===1&&l>0&&(o=n[l-1]+o),s=Math.floor(s/10)}return(t<0?r:"")+o},y9="",b9="",x9="",VN="",Ub=function(t,e,n){var r=n?". ":"",i=n?"":"",a=n?", ":"",s=n?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=Aa(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return zf(t,"",i);case 6:return Mp(t,1,3999,g9,3,r).toLowerCase();case 7:return Mp(t,1,3999,g9,3,r);case 8:return Aa(t,945,969,!1,r);case 9:return Aa(t,97,122,!1,r);case 10:return Aa(t,65,90,!1,r);case 11:return Aa(t,1632,1641,!0,r);case 12:case 49:return Mp(t,1,9999,v9,3,r);case 35:return Mp(t,1,9999,v9,3,r).toLowerCase();case 13:return Aa(t,2534,2543,!0,r);case 14:case 30:return Aa(t,6112,6121,!0,r);case 15:return zf(t,"",i);case 16:return zf(t,"",i);case 17:case 48:return dA(t,"",y9,"",i,bd|xd|Nv);case 47:return dA(t,"",b9,"",i,Yp|bd|xd|Nv);case 42:return dA(t,"",y9,"",i,bd|xd|Nv);case 41:return dA(t,"",b9,"",i,Yp|bd|xd|Nv);case 26:return dA(t,"","",x9,i,0);case 25:return dA(t,"","",x9,i,Yp|bd|xd);case 31:return dA(t,"","",VN,a,Yp|bd|xd);case 33:return dA(t,"","",VN,a,0);case 32:return dA(t,"","",VN,a,Yp|bd|xd);case 18:return Aa(t,2406,2415,!0,r);case 20:return Mp(t,1,19999,Fnt,3,r);case 21:return Aa(t,2790,2799,!0,r);case 22:return Aa(t,2662,2671,!0,r);case 22:return Mp(t,1,10999,Ont,3,r);case 23:return zf(t,"");case 24:return zf(t,"");case 27:return Aa(t,3302,3311,!0,r);case 28:return zf(t,"",i);case 29:return zf(t,"",i);case 34:return Aa(t,3792,3801,!0,r);case 37:return Aa(t,6160,6169,!0,r);case 38:return Aa(t,4160,4169,!0,r);case 39:return Aa(t,2918,2927,!0,r);case 40:return Aa(t,1776,1785,!0,r);case 43:return Aa(t,3046,3055,!0,r);case 44:return Aa(t,3174,3183,!0,r);case 45:return Aa(t,3664,3673,!0,r);case 46:return Aa(t,3872,3881,!0,r);case 3:default:return Aa(t,48,57,!0,r)}},xie="data-html2canvas-ignore",w9=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Dnt,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=Lnt(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=Unt(i).then(function(){return go(r,void 0,void 0,function(){var A,d;return Xs(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(Vnt),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Rnt(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Hnt(document.doctype)+"<html></html>"),znt(this.referenceElement.ownerDocument,a,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(pk(e,2))debugger;if(gie(e))return this.createCanvasClone(e);if(h9(e))return this.createVideoClone(e);if(p9(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return yk(n)&&(yk(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),m9(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return $N(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!_m(n)||!Pnt(n)&&!n.hasAttribute(xie)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!_m(n)||!p9(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(_m(a)&&yie(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(pie(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&_m(e)&&(vk(e)||u2(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=r.getComputedStyle(e),s=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&vk(i)&&(this.clonedReferenceElement=i),BF(i)&&Wnt(i);var l=this.counters.parse(new Zz(this.context,a)),u=this.resolvePseudoContent(e,i,s,dy.BEFORE);m9(e)&&(n=!0),h9(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var A=this.resolvePseudoContent(e,i,o,dy.AFTER);return A&&i.appendChild(A),this.counters.pop(l),(a&&(this.options.copyStyles||u2(e))&&!vie(e)||n)&&$N(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(FS(e)||LS(e))&&(FS(i)||LS(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var a=this;if(r){var s=r.content,o=n.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Zz(this.context,r));var l=new jtt(this.context,r),u=o.createElement("html2canvaspseudoelement");$N(r,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",u.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Yr);h.length&&u.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(Xg),m=p[0],v=p[1];if(m&&Yr(m)){var g=a.counters.getCounterValue(m.value),y=v&&Yr(v)?hk.parse(a.context,v.value):3;u.appendChild(o.createTextNode(Ub(g,y,!1)))}}else if(d.name==="counters"){var x=d.values.filter(Xg),m=x[0],C=x[1],v=x[2];if(m&&Yr(m)){var E=a.counters.getCounterValues(m.value),j=v&&Yr(v)?hk.parse(a.context,v.value):3,_=C&&C.type===0?C.value:"",B=E.map(function(T){return Ub(T,j,!1)}).join(_);u.appendChild(o.createTextNode(B))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(o.createTextNode(Jz(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(Jz(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(d.value))}}),u.className=bk+" "+xk;var A=i===dy.BEFORE?" "+bk:" "+xk;return u2(n)?n.className.baseValue+=A:n.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),dy;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(dy||(dy={}));var Lnt=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(xie,"true"),t.body.appendChild(n),n},Mnt=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Rnt=function(t){return Promise.all([].slice.call(t.images,0).map(Mnt))},Unt=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},Qnt=["all","d","content"],$N=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Qnt.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Hnt=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},znt=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Vnt=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},$nt=":before",Knt=":after",bk="___html2canvas___pseudoelement_before",xk="___html2canvas___pseudoelement_after",C9=`{
    content: "" !important;
    display: none !important;
}`,Wnt=function(t){Gnt(t,"."+bk+$nt+C9+`
         .`+xk+Knt+C9)},Gnt=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},wie=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),qnt=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(WN(e)||Znt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return go(this,void 0,void 0,function(){var n,r,i,a,s=this;return Xs(this,function(o){switch(o.label){case 0:return n=wie.isSameOrigin(e),r=!KN(e)&&this._options.useCORS===!0&&Ss.SUPPORT_CORS_IMAGES&&!n,i=!KN(e)&&!n&&!WN(e)&&typeof this._options.proxy=="string"&&Ss.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!KN(e)&&!WN(e)&&!i&&!r?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var A=new Image;A.onload=function(){return l(A)},A.onerror=u,(ert(a)||r)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return l(A)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,s){var o=Ss.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(f){return s(f)},!1),d.readAsDataURL(l.response)}else s("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=s;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var A=n._options.imageTimeout;l.timeout=A,l.ontimeout=function(){return s("Timed out ("+A+"ms) proxying "+i)}}l.send()})},t}(),Ynt=/^data:image\/svg\+xml/i,Xnt=/^data:image\/.*;base64,/i,Jnt=/^data:image\/.*/i,Znt=function(t){return Ss.SUPPORT_SVG_DRAWING||!trt(t)},KN=function(t){return Jnt.test(t)},ert=function(t){return Xnt.test(t)},WN=function(t){return t.substr(0,4)==="blob"},trt=function(t){return t.substr(-3).toLowerCase()==="svg"||Ynt.test(t)},Gt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Rp=function(t,e,n){return new Gt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},mw=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=Rp(this.start,this.startControl,e),i=Rp(this.startControl,this.endControl,e),a=Rp(this.endControl,this.end,e),s=Rp(r,i,e),o=Rp(i,a,e),l=Rp(s,o,e);return n?new t(this.start,r,s,l):new t(l,o,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),lc=function(t){return t.type===1},nrt=function(){function t(e){var n=e.styles,r=e.bounds,i=_v(n.borderTopLeftRadius,r.width,r.height),a=i[0],s=i[1],o=_v(n.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],A=_v(n.borderBottomRightRadius,r.width,r.height),d=A[0],f=A[1],h=_v(n.borderBottomLeftRadius,r.width,r.height),p=h[0],m=h[1],v=[];v.push((a+l)/r.width),v.push((p+d)/r.width),v.push((s+m)/r.height),v.push((u+f)/r.height);var g=Math.max.apply(Math,v);g>1&&(a/=g,s/=g,l/=g,u/=g,d/=g,f/=g,p/=g,m/=g);var y=r.width-l,x=r.height-f,C=r.width-d,E=r.height-m,j=n.borderTopWidth,_=n.borderRightWidth,B=n.borderBottomWidth,N=n.borderLeftWidth,D=ui(n.paddingTop,e.bounds.width),T=ui(n.paddingRight,e.bounds.width),O=ui(n.paddingBottom,e.bounds.width),L=ui(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?Ni(r.left+N/3,r.top+j/3,a-N/3,s-j/3,Mr.TOP_LEFT):new Gt(r.left+N/3,r.top+j/3),this.topRightBorderDoubleOuterBox=a>0||s>0?Ni(r.left+y,r.top+j/3,l-_/3,u-j/3,Mr.TOP_RIGHT):new Gt(r.left+r.width-_/3,r.top+j/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?Ni(r.left+C,r.top+x,d-_/3,f-B/3,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?Ni(r.left+N/3,r.top+E,p-N/3,m-B/3,Mr.BOTTOM_LEFT):new Gt(r.left+N/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?Ni(r.left+N*2/3,r.top+j*2/3,a-N*2/3,s-j*2/3,Mr.TOP_LEFT):new Gt(r.left+N*2/3,r.top+j*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?Ni(r.left+y,r.top+j*2/3,l-_*2/3,u-j*2/3,Mr.TOP_RIGHT):new Gt(r.left+r.width-_*2/3,r.top+j*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?Ni(r.left+C,r.top+x,d-_*2/3,f-B*2/3,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_*2/3,r.top+r.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?Ni(r.left+N*2/3,r.top+E,p-N*2/3,m-B*2/3,Mr.BOTTOM_LEFT):new Gt(r.left+N*2/3,r.top+r.height-B*2/3),this.topLeftBorderStroke=a>0||s>0?Ni(r.left+N/2,r.top+j/2,a-N/2,s-j/2,Mr.TOP_LEFT):new Gt(r.left+N/2,r.top+j/2),this.topRightBorderStroke=a>0||s>0?Ni(r.left+y,r.top+j/2,l-_/2,u-j/2,Mr.TOP_RIGHT):new Gt(r.left+r.width-_/2,r.top+j/2),this.bottomRightBorderStroke=d>0||f>0?Ni(r.left+C,r.top+x,d-_/2,f-B/2,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=p>0||m>0?Ni(r.left+N/2,r.top+E,p-N/2,m-B/2,Mr.BOTTOM_LEFT):new Gt(r.left+N/2,r.top+r.height-B/2),this.topLeftBorderBox=a>0||s>0?Ni(r.left,r.top,a,s,Mr.TOP_LEFT):new Gt(r.left,r.top),this.topRightBorderBox=l>0||u>0?Ni(r.left+y,r.top,l,u,Mr.TOP_RIGHT):new Gt(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||f>0?Ni(r.left+C,r.top+x,d,f,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||m>0?Ni(r.left,r.top+E,p,m,Mr.BOTTOM_LEFT):new Gt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||s>0?Ni(r.left+N,r.top+j,Math.max(0,a-N),Math.max(0,s-j),Mr.TOP_LEFT):new Gt(r.left+N,r.top+j),this.topRightPaddingBox=l>0||u>0?Ni(r.left+Math.min(y,r.width-_),r.top+j,y>r.width+_?0:Math.max(0,l-_),Math.max(0,u-j),Mr.TOP_RIGHT):new Gt(r.left+r.width-_,r.top+j),this.bottomRightPaddingBox=d>0||f>0?Ni(r.left+Math.min(C,r.width-N),r.top+Math.min(x,r.height-B),Math.max(0,d-_),Math.max(0,f-B),Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_,r.top+r.height-B),this.bottomLeftPaddingBox=p>0||m>0?Ni(r.left+N,r.top+Math.min(E,r.height-B),Math.max(0,p-N),Math.max(0,m-B),Mr.BOTTOM_LEFT):new Gt(r.left+N,r.top+r.height-B),this.topLeftContentBox=a>0||s>0?Ni(r.left+N+L,r.top+j+D,Math.max(0,a-(N+L)),Math.max(0,s-(j+D)),Mr.TOP_LEFT):new Gt(r.left+N+L,r.top+j+D),this.topRightContentBox=l>0||u>0?Ni(r.left+Math.min(y,r.width+N+L),r.top+j+D,y>r.width+N+L?0:l-N+L,u-(j+D),Mr.TOP_RIGHT):new Gt(r.left+r.width-(_+T),r.top+j+D),this.bottomRightContentBox=d>0||f>0?Ni(r.left+Math.min(C,r.width-(N+L)),r.top+Math.min(x,r.height+j+D),Math.max(0,d-(_+T)),f-(B+O),Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-(_+T),r.top+r.height-(B+O)),this.bottomLeftContentBox=p>0||m>0?Ni(r.left+N+L,r.top+E,Math.max(0,p-(N+L)),m-(B+O),Mr.BOTTOM_LEFT):new Gt(r.left+N+L,r.top+r.height-(B+O))}return t}(),Mr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Mr||(Mr={}));var Ni=function(t,e,n,r,i){var a=4*((Math.sqrt(2)-1)/3),s=n*a,o=r*a,l=t+n,u=e+r;switch(i){case Mr.TOP_LEFT:return new mw(new Gt(t,u),new Gt(t,u-o),new Gt(l-s,e),new Gt(l,e));case Mr.TOP_RIGHT:return new mw(new Gt(t,e),new Gt(t+s,e),new Gt(l,u-o),new Gt(l,u));case Mr.BOTTOM_RIGHT:return new mw(new Gt(l,e),new Gt(l,e+o),new Gt(t+s,u),new Gt(t,u));case Mr.BOTTOM_LEFT:default:return new mw(new Gt(l,u),new Gt(l-s,u),new Gt(t,e+o),new Gt(t,e))}},MS=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},rrt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},RS=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},irt=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),gw=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),art=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),srt=function(t){return t.type===0},Cie=function(t){return t.type===1},ort=function(t){return t.type===2},S9=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},lrt=function(t,e,n,r,i){return t.map(function(a,s){switch(s){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+i);case 3:return a.add(e,n+i)}return a})},Sie=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Eie=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new nrt(this.container),this.container.styles.opacity<1&&this.effects.push(new art(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new irt(r,i,a))}if(this.container.styles.overflowX!==0){var s=MS(this.curves),o=RS(this.curves);S9(s,o)?this.effects.push(new gw(s,6)):(this.effects.push(new gw(s,2)),this.effects.push(new gw(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(l){return!Cie(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=MS(r.curves),o=RS(r.curves);S9(s,o)||i.unshift(new gw(o,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(l){return qa(l.target,e)})},t}(),wk=function(t,e,n,r){t.container.elements.forEach(function(i){var a=qa(i.flags,4),s=qa(i.flags,2),o=new Eie(i,t);qa(i.styles.display,2048)&&r.push(o);var l=qa(i.flags,8)?[]:r;if(a||s){var u=a||i.styles.isPositioned()?n:e,A=new Sie(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;u.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(f=m,!1):f>0}),u.negativeZIndex.splice(f,0,A)}else if(d>0){var h=0;u.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),u.positiveZIndex.splice(h,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);wk(o,A,a?A:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),wk(o,e,n,l);qa(i.flags,8)&&_ie(i,l)})},_ie=function(t,e){for(var n=t instanceof gk?t.start:1,r=t instanceof gk?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof cie&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Ub(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},crt=function(t){var e=new Eie(t,null),n=new Sie(e),r=[];return wk(e,n,n,r),_ie(e.container,r),n},E9=function(t,e){switch(e){case 0:return fc(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return fc(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return fc(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return fc(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},urt=function(t,e){switch(e){case 0:return fc(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return fc(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return fc(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return fc(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Art=function(t,e){switch(e){case 0:return fc(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return fc(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return fc(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return fc(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},drt=function(t,e){switch(e){case 0:return vw(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return vw(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return vw(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return vw(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},vw=function(t,e){var n=[];return lc(t)?n.push(t.subdivide(.5,!1)):n.push(t),lc(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},fc=function(t,e,n,r){var i=[];return lc(t)?i.push(t.subdivide(.5,!1)):i.push(t),lc(n)?i.push(n.subdivide(.5,!0)):i.push(n),lc(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),lc(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Bie=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},US=function(t){var e=t.styles,n=t.bounds,r=ui(e.paddingLeft,n.width),i=ui(e.paddingRight,n.width),a=ui(e.paddingTop,n.width),s=ui(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+a+s))},frt=function(t,e){return t===0?e.bounds:t===2?US(e):Bie(e)},hrt=function(t,e){return t===0?e.bounds:t===2?US(e):Bie(e)},GN=function(t,e,n){var r=frt(Xp(t.styles.backgroundOrigin,e),t),i=hrt(Xp(t.styles.backgroundClip,e),t),a=prt(Xp(t.styles.backgroundSize,e),n,r),s=a[0],o=a[1],l=_v(Xp(t.styles.backgroundPosition,e),r.width-s,r.height-o),u=mrt(Xp(t.styles.backgroundRepeat,e),l,a,r,i),A=Math.round(r.left+l[0]),d=Math.round(r.top+l[1]);return[u,A,d,s,o]},Up=function(t){return Yr(t)&&t.value===Vm.AUTO},yw=function(t){return typeof t=="number"},prt=function(t,e,n){var r=e[0],i=e[1],a=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(Na(s)&&o&&Na(o))return[ui(s,n.width),ui(o,n.height)];var l=yw(a);if(Yr(s)&&(s.value===Vm.CONTAIN||s.value===Vm.COVER)){if(yw(a)){var u=n.width/n.height;return u<a!=(s.value===Vm.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var A=yw(r),d=yw(i),f=A||d;if(Up(s)&&(!o||Up(o))){if(A&&d)return[r,i];if(!l&&!f)return[n.width,n.height];if(f&&l){var h=A?r:i*a,p=d?i:r/a;return[h,p]}var m=A?r:n.width,v=d?i:n.height;return[m,v]}if(l){var g=0,y=0;return Na(s)?g=ui(s,n.width):Na(o)&&(y=ui(o,n.height)),Up(s)?g=y*a:(!o||Up(o))&&(y=g/a),[g,y]}var x=null,C=null;if(Na(s)?x=ui(s,n.width):o&&Na(o)&&(C=ui(o,n.height)),x!==null&&(!o||Up(o))&&(C=A&&d?x/r*i:n.height),C!==null&&Up(s)&&(x=A&&d?C/i*r:n.width),x!==null&&C!==null)return[x,C];throw new Error("Unable to calculate background-size for element")},Xp=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},mrt=function(t,e,n,r,i){var a=e[0],s=e[1],o=n[0],l=n[1];switch(t){case 2:return[new Gt(Math.round(r.left),Math.round(r.top+s)),new Gt(Math.round(r.left+r.width),Math.round(r.top+s)),new Gt(Math.round(r.left+r.width),Math.round(l+r.top+s)),new Gt(Math.round(r.left),Math.round(l+r.top+s))];case 3:return[new Gt(Math.round(r.left+a),Math.round(r.top)),new Gt(Math.round(r.left+a+o),Math.round(r.top)),new Gt(Math.round(r.left+a+o),Math.round(r.height+r.top)),new Gt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Gt(Math.round(r.left+a),Math.round(r.top+s)),new Gt(Math.round(r.left+a+o),Math.round(r.top+s)),new Gt(Math.round(r.left+a+o),Math.round(r.top+s+l)),new Gt(Math.round(r.left+a),Math.round(r.top+s+l))];default:return[new Gt(Math.round(i.left),Math.round(i.top)),new Gt(Math.round(i.left+i.width),Math.round(i.top)),new Gt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Gt(Math.round(i.left),Math.round(i.height+i.top))]}},grt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_9="Hidden Text",vrt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),i.src=grt,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(_9)),r.appendChild(a),r.appendChild(i);var o=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(_9)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Nie=function(){function t(e,n){this.context=e,this.options=n}return t}(),yrt=1e4,brt=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new vrt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),ort(n)&&(this.ctx.globalAlpha=n.opacity),srt(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Cie(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return go(this,void 0,void 0,function(){var r;return Xs(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return go(this,void 0,void 0,function(){return Xs(this,function(r){switch(r.label){case 0:if(qa(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var s=EF(n.text);s.reduce(function(o,l){return a.ctx.fillText(l,o,n.bounds.top+i),o+a.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=Ert(n.fontFamily).join(", "),a=Dx(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(n,r){return go(this,void 0,void 0,function(){var i,a,s,o,l,u,A,d,f=this;return Xs(this,function(h){return i=this.createFontStyle(r),a=i[0],s=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,o),u=l.baseline,A=l.middle,d=r.paintOrder,n.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=ns(r.color),f.renderTextWithLetterSpacing(p,r.letterSpacing,u);var v=r.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(g){f.ctx.shadowColor=ns(g.color),f.ctx.shadowOffsetX=g.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=g.offsetY.number*f.options.scale,f.ctx.shadowBlur=g.blur.number,f.renderTextWithLetterSpacing(p,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=ns(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+A),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=ns(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=US(n),s=RS(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return go(this,void 0,void 0,function(){var r,i,a,s,o,l,y,y,u,A,d,f,C,h,p,E,m,v,g,y,x,C,E;return Xs(this,function(j){switch(j.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,s=0,o=r.textNodes,j.label=1;case 1:return s<o.length?(l=o[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:j.sent(),j.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof sie))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=j.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof oie&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof lie))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=j.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof die&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:A=j.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),j.label=14;case 14:if(r instanceof _F&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===DS?r.checked&&(this.ctx.save(),this.path([new Gt(r.bounds.left+d*.39363,r.bounds.top+d*.79),new Gt(r.bounds.left+d*.16,r.bounds.top+d*.5549),new Gt(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new Gt(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new Gt(r.bounds.left+d*.72983,r.bounds.top+d*.23),new Gt(r.bounds.left+d*.84,r.bounds.top+d*.34085),new Gt(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=ns(f9),this.ctx.fill(),this.ctx.restore()):r.type===OS&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=ns(f9),this.ctx.fill(),this.ctx.restore())),xrt(r)&&r.value.length){switch(f=this.createFontStyle(a),C=f[0],h=f[1],p=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=ns(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Crt(r.styles.textAlign),E=US(r),m=0,r.styles.textAlign){case 1:m+=E.width/2;break;case 2:m+=E.width;break}v=E.add(m,0,0,-E.height/2+1),this.ctx.save(),this.path([new Gt(E.left,E.top),new Gt(E.left+E.width,E.top),new Gt(E.left+E.width,E.top+E.height),new Gt(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ay(r.value,v),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qa(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,x=g.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return y=j.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(a)[0],this.ctx.font=C,this.ctx.fillStyle=ns(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new WA(r.bounds.left,r.bounds.top+ui(r.styles.paddingTop,r.bounds.width),r.bounds.width,Yz(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ay(n.listValue,E),a.letterSpacing,Yz(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return go(this,void 0,void 0,function(){var r,i,g,a,s,g,o,l,g,u,A,g,d,f,g,h,p,g,m,v,g;return Xs(this,function(y){switch(y.label){case 0:if(qa(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,i=n.negativeZIndex,y.label=2;case 2:return r<i.length?(g=i[r],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),a=0,s=n.nonInlineLevel,y.label=7;case 7:return a<s.length?(g=s[a],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:o=0,l=n.nonPositionedFloats,y.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:u=0,A=n.nonPositionedInlineLevel,y.label=15;case 15:return u<A.length?(g=A[u],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:d=0,f=n.inlineLevel,y.label=19;case 19:return d<f.length?(g=f[d],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:m=0,v=n.positiveZIndex,y.label=27;case 27:return m<v.length?(g=v[m],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var s=lc(i)?i.start:i;a===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),lc(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(n){return go(this,void 0,void 0,function(){var r,i,a,s,o,l;return Xs(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var d,f,h,D,Y,ee,L,H,B,p,D,Y,ee,L,H,m,v,g,y,x,C,E,j,_,B,N,D,T,O,L,H,q,Y,ee,K,te,le,se,M,$,J,ne;return Xs(this,function(he){switch(he.label){case 0:if(A.type!==0)return[3,5];d=void 0,f=A.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return d=he.sent(),[3,4];case 3:return he.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(h=GN(n,r,[d.width,d.height,d.width/d.height]),D=h[0],Y=h[1],ee=h[2],L=h[3],H=h[4],B=a.ctx.createPattern(a.resizeImage(d,L,H),"repeat"),a.renderRepeat(D,B,Y,ee)),[3,6];case 5:iet(A)?(p=GN(n,r,[null,null,null]),D=p[0],Y=p[1],ee=p[2],L=p[3],H=p[4],m=ZZe(A.angle,L,H),v=m[0],g=m[1],y=m[2],x=m[3],C=m[4],E=document.createElement("canvas"),E.width=L,E.height=H,j=E.getContext("2d"),_=j.createLinearGradient(g,x,y,C),Gz(A.stops,v).forEach(function(we){return _.addColorStop(we.stop,ns(we.color))}),j.fillStyle=_,j.fillRect(0,0,L,H),L>0&&H>0&&(B=a.ctx.createPattern(E,"repeat"),a.renderRepeat(D,B,Y,ee))):aet(A)&&(N=GN(n,r,[null,null,null]),D=N[0],T=N[1],O=N[2],L=N[3],H=N[4],q=A.position.length===0?[wF]:A.position,Y=ui(q[0],L),ee=ui(q[q.length-1],H),K=eet(A,Y,ee,L,H),te=K[0],le=K[1],te>0&&le>0&&(se=a.ctx.createRadialGradient(T+Y,O+ee,0,T+Y,O+ee,te),Gz(A.stops,te*2).forEach(function(we){return se.addColorStop(we.stop,ns(we.color))}),a.path(D),a.ctx.fillStyle=se,te!==le?(M=n.bounds.left+.5*n.bounds.width,$=n.bounds.top+.5*n.bounds.height,J=le/te,ne=1/J,a.ctx.save(),a.ctx.translate(M,$),a.ctx.transform(1,0,0,J,0,0),a.ctx.translate(-M,-$),a.ctx.fillRect(T,ne*(O-$)+$,L,H*ne),a.ctx.restore()):a.ctx.fill())),he.label=6;case 6:return r--,[2]}})},a=this,s=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<o.length?(l=o[s],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return go(this,void 0,void 0,function(){return Xs(this,function(a){return this.path(E9(i,r)),this.ctx.fillStyle=ns(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,a){return go(this,void 0,void 0,function(){var s,o;return Xs(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return s=urt(a,i),this.path(s),this.ctx.fillStyle=ns(n),this.ctx.fill(),o=Art(a,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return go(this,void 0,void 0,function(){var r,i,a,s,o,l,u,A,d=this;return Xs(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!nf(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=wrt(Xp(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),nf(r.backgroundColor)||(this.ctx.fillStyle=ns(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var p=MS(n.curves),m=h.inset?0:yrt,v=lrt(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(p),d.ctx.clip(),d.mask(v)):(d.mask(p),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=h.offsetX.number+m,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=ns(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?ns(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,l=0,u=a,f.label=3;case 3:return l<u.length?(A=u[l],A.style!==0&&!nf(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,n.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,a,s){return go(this,void 0,void 0,function(){var o,l,u,A,d,f,h,p,m,v,g,y,x,C,E,j,E,j;return Xs(this,function(_){return this.ctx.save(),o=drt(a,i),l=E9(a,i),s===2&&(this.path(l),this.ctx.clip()),lc(l[0])?(u=l[0].start.x,A=l[0].start.y):(u=l[0].x,A=l[0].y),lc(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),i===0||i===2?h=Math.abs(u-d):h=Math.abs(A-f),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,m=r<3?r*2:r,s===3&&(p=r,m=r),v=!0,h<=p*2?v=!1:h<=p*2+m?(g=h/(2*p+m),p*=g,m*=g):(y=Math.floor((h+m)/(p+m)),x=(h-y*p)/(y-1),C=(h-(y+1)*p)/y,m=C<=0||Math.abs(m-x)<Math.abs(m-C)?x:C),v&&(s===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ns(n),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(lc(l[0])&&(E=l[3],j=l[0],this.ctx.beginPath(),this.formatPath([new Gt(E.end.x,E.end.y),new Gt(j.start.x,j.start.y)]),this.ctx.stroke()),lc(l[1])&&(E=l[1],j=l[2],this.ctx.beginPath(),this.formatPath([new Gt(E.end.x,E.end.y),new Gt(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return go(this,void 0,void 0,function(){var r;return Xs(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ns(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=crt(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Nie),xrt=function(t){return t instanceof Aie||t instanceof uie?!0:t instanceof _F&&t.type!==OS&&t.type!==DS},wrt=function(t,e){switch(t){case 0:return MS(e);case 2:return rrt(e);case 1:default:return RS(e)}},Crt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Srt=["-apple-system","system-ui"],Ert=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Srt.indexOf(e)===-1}):t},_rt=function(t){Au(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return go(this,void 0,void 0,function(){var r,i;return Xs(this,function(a){switch(a.label){case 0:return r=mk(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Brt(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ns(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Nie),Brt=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Nrt=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,X1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,X1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,X1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,X1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),jrt=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Nrt({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new qnt(this,e)}return t.instanceCount=1,t}(),jie=function(t,e){return e===void 0&&(e={}),Irt(t,e)};typeof window<"u"&&wie.setContext(window);var Irt=function(t,e){return go(void 0,void 0,void 0,function(){var n,r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x,C,E,_,j,_,B,N,D,T,O,L,H,q,Y,ee,K,te,le,se,M,$,J;return Xs(this,function(ne){switch(ne.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},a=tk({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},i),s={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:r.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:r.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:r.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:r.pageYOffset},o=new WA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new jrt(a,o),u=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,A={allowTaint:(ee=e.allowTaint)!==null&&ee!==void 0?ee:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new w9(l,t,A),f=d.clonedReferenceElement,f?[4,d.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ne.sent(),p=BF(f)||knt(f)?sJe(f.ownerDocument):WE(l,f),m=p.width,v=p.height,g=p.left,y=p.top,x=Trt(l,f,e.backgroundColor),C={canvas:e.canvas,backgroundColor:x,scale:(te=(K=e.scale)!==null&&K!==void 0?K:r.devicePixelRatio)!==null&&te!==void 0?te:1,x:((le=e.x)!==null&&le!==void 0?le:0)+g,y:((se=e.y)!==null&&se!==void 0?se:0)+y,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(m),height:($=e.height)!==null&&$!==void 0?$:Math.ceil(v)},u?(l.logger.debug("Document cloned, using foreign object rendering"),_=new _rt(l,C),[4,_.render(f)]):[3,3];case 2:return E=ne.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+y+" with size "+m+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),j=hie(l,f),x===j.styles.backgroundColor&&(j.styles.backgroundColor=PA.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),_=new brt(l,C),[4,_.render(j)];case 4:E=ne.sent(),ne.label=5;case 5:return(!((J=e.removeContainer)!==null&&J!==void 0)||J)&&(w9.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,E]}})})},Trt=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?cy(t,getComputedStyle(r.documentElement).backgroundColor):PA.TRANSPARENT,a=r.body?cy(t,getComputedStyle(r.body).backgroundColor):PA.TRANSPARENT,s=typeof n=="string"?cy(t,n):n===null?PA.TRANSPARENT:4294967295;return e===r.documentElement?nf(i)?nf(a)?s:a:i:s};const krt=Object.freeze(Object.defineProperty({__proto__:null,default:jie},Symbol.toStringTag,{value:"Module"})),B9=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],Jp=t=>!t||t.length===0?0:t.reduce((n,r)=>n+r,0)/t.length,Prt=t=>{if(!t||t.length<2)return 0;const e=Jp(t),n=t.reduce((r,i)=>r+Math.pow(i-e,2),0)/(t.length-1);return Math.sqrt(n)},Drt=(t,e)=>P.useMemo(()=>{var le,se;if(!t||t.length===0||!e||e.length===0)return{isLoading:!0,milkLinearityKpis:[],herdEfficiencyKpis:null,herdDynamicsKpis:null,horizonInYears:0};const r=e.length,i=e.map(M=>{const $=M.year,ne=t.filter($e=>$e.year===$).map($e=>$e.litrosLeche),he=ne.reduce(($e,ht)=>$e+ht,0),we=Jp(ne),Se=Prt(ne),Ae=we>0?Se/we*100:0,ge=Math.max(...ne),xe=ne.indexOf(ge),ae=B9[xe%12],Ve=Math.min(...ne),Oe=ne.indexOf(Ve),fe=B9[Oe%12];return{year:$,monthlyProduction:ne,totalProduction:he,avgMonthly:we,peakMonthValue:ge,peakMonthLabel:ae,valleyMonthValue:Ve,valleyMonthLabel:fe,stdDev:Se,cv:Ae}}),a=e.reduce((M,$)=>M+$.litrosLeche,0),s=30.44,o=t.reduce((M,$)=>M+$.hembrasProduccion*s,0),l=a/(o||1),u=Jp(e.map(M=>M.kpiProductivasCount)),A=a/r/(u||1),d={totalLitrosHorizonte:a,totalDiasLactancia:o,litrosPorDiaLactancia:l,avgVientresProductivosHorizonte:u,litrosPorVientrePorAnio:A},f=Jp(t.map(M=>M.startCabras+M.startLevanteTardio)),h=Jp(t.map(M=>M.startLevanteTemprano+M.startLevanteMedio+M.startLevanteTardio)),p=Jp(t.map(M=>M.startCabras)),m=e.reduce((M,$)=>M+$.nacimientosH+$.nacimientosM,0),v=e.reduce((M,$)=>M+$.muertesCriaH+$.muertesCriaM,0),g=e.reduce((M,$)=>M+$.muertesLevanteTemprano+$.muertesLevanteMedio+$.muertesLevanteTardio,0),y=e.reduce((M,$)=>M+$.muertesCabras,0),x=e.reduce((M,$)=>M+$.promocionLevanteTardio,0),C=e.reduce((M,$)=>M+$.ventasDescartes,0),E=e.reduce((M,$)=>M+$.ventasCabritos,0),j=e.reduce((M,$)=>M+$.nacimientosM,0),_=e.reduce((M,$)=>M+$.muertesCriaM,0),B=t.reduce((M,$)=>M+$.partos,0),N=m/(f*r||1)*100,D=m/(B||1)*100,T=(((le=t[0])==null?void 0:le.startCriaH)??0)+(((se=t[0])==null?void 0:se.startCriaM)??0),O=v/(m+T||1)*100,L=g/(h*r||1)*100,H=y/(p*r||1)*100,q=x/(p*r||1)*100,Y=C/(p*r||1)*100,ee=j-_,K=E/(ee||1)*100;return{isLoading:!1,milkLinearityKpis:i,herdEfficiencyKpis:d,herdDynamicsKpis:{tasaNatalidadReal:N,tasaProlificidadReal:D,mortalidadCriasReal:O,mortalidadLevanteReal:L,mortalidadCabrasReal:H,tasaReemplazoReal:q,tasaDescarteReal:Y,tasaEliminacionCriasMReal:K},horizonInYears:r}},[t,e]),dt=(t,e=0)=>t==null||isNaN(t)?"0":t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}),Qb=(t,e="$",n=2)=>t==null||isNaN(t)?`${e}0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n,maximumFractionDigits:n}).format(t).replace("$",e),Ort="modulepreload",Frt=function(t,e){return new URL(t,e).href},N9={},qN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=Frt(u,r),u in N9)return;N9[u]=!0;const A=u.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===u&&(!A||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":Ort,A||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),A)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Vr(t){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(t)}var ou=Uint8Array,Sl=Uint16Array,NF=Int32Array,jF=new ou([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),IF=new ou([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j9=new ou([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Iie=function(t,e){for(var n=new Sl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new NF(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},Tie=Iie(jF,2),Lrt=Tie.b,Ck=Tie.r;Lrt[28]=258,Ck[258]=28;var Mrt=Iie(IF,0),I9=Mrt.r,Sk=new Sl(32768);for(var Ei=0;Ei<32768;++Ei){var md=(Ei&43690)>>1|(Ei&21845)<<1;md=(md&52428)>>2|(md&13107)<<2,md=(md&61680)>>4|(md&3855)<<4,Sk[Ei]=((md&65280)>>8|(md&255)<<8)>>1}var fy=function(t,e,n){for(var r=t.length,i=0,a=new Sl(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Sl(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Sl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],A=e-t[i],d=s[t[i]-1]++<<A,f=d|(1<<A)-1;d<=f;++d)o[Sk[d]>>l]=u}else for(o=new Sl(r),i=0;i<r;++i)t[i]&&(o[i]=Sk[s[t[i]-1]++]>>15-t[i]);return o},ep=new ou(288);for(var Ei=0;Ei<144;++Ei)ep[Ei]=8;for(var Ei=144;Ei<256;++Ei)ep[Ei]=9;for(var Ei=256;Ei<280;++Ei)ep[Ei]=7;for(var Ei=280;Ei<288;++Ei)ep[Ei]=8;var QS=new ou(32);for(var Ei=0;Ei<32;++Ei)QS[Ei]=5;var Rrt=fy(ep,9,0),Urt=fy(QS,5,0),kie=function(t){return(t+7)/8|0},Qrt=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ou(t.subarray(e,n))},fA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},av=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},YN=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:Die,l:0};if(i==1){var s=new ou(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(E,j){return E.f-j.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,A=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};A!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=A&&n[u].f<n[d].f?u++:d++],n[A++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var h=new Sl(f+1),p=Ek(n[A-1],h,0);if(p>e){var r=0,m=0,v=p-e,g=1<<v;for(a.sort(function(j,_){return h[_.s]-h[j.s]||j.f-_.f});r<i;++r){var y=a[r].s;if(h[y]>e)m+=g-(1<<p-h[y]),h[y]=e;else break}for(m>>=v;m>0;){var x=a[r].s;h[x]<e?m-=1<<e-h[x]++-1:++r}for(;r>=0&&m;--r){var C=a[r].s;h[C]==e&&(--h[C],++m)}p=e}return{t:new ou(h),l:p}},Ek=function(t,e,n){return t.s==-1?Math.max(Ek(t.l,e,n+1),Ek(t.r,e,n+1)):e[t.s]=n},T9=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Sl(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},sv=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Pie=function(t,e,n){var r=n.length,i=kie(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},k9=function(t,e,n,r,i,a,s,o,l,u,A){fA(e,A++,n),++i[256];for(var d=YN(i,15),f=d.t,h=d.l,p=YN(a,15),m=p.t,v=p.l,g=T9(f),y=g.c,x=g.n,C=T9(m),E=C.c,j=C.n,_=new Sl(19),B=0;B<y.length;++B)++_[y[B]&31];for(var B=0;B<E.length;++B)++_[E[B]&31];for(var N=YN(_,7),D=N.t,T=N.l,O=19;O>4&&!D[j9[O-1]];--O);var L=u+5<<3,H=sv(i,ep)+sv(a,QS)+s,q=sv(i,f)+sv(a,m)+s+14+3*O+sv(_,D)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&L<=H&&L<=q)return Pie(e,A,t.subarray(l,l+u));var Y,ee,K,te;if(fA(e,A,1+(q<H)),A+=2,q<H){Y=fy(f,h,0),ee=f,K=fy(m,v,0),te=m;var le=fy(D,T,0);fA(e,A,x-257),fA(e,A+5,j-1),fA(e,A+10,O-4),A+=14;for(var B=0;B<O;++B)fA(e,A+3*B,D[j9[B]]);A+=3*O;for(var se=[y,E],M=0;M<2;++M)for(var $=se[M],B=0;B<$.length;++B){var J=$[B]&31;fA(e,A,le[J]),A+=D[J],J>15&&(fA(e,A,$[B]>>5&127),A+=$[B]>>12)}}else Y=Rrt,ee=ep,K=Urt,te=QS;for(var B=0;B<o;++B){var ne=r[B];if(ne>255){var J=ne>>18&31;av(e,A,Y[J+257]),A+=ee[J+257],J>7&&(fA(e,A,ne>>23&31),A+=jF[J]);var he=ne&31;av(e,A,K[he]),A+=te[he],he>3&&(av(e,A,ne>>5&8191),A+=IF[he])}else av(e,A,Y[ne]),A+=ee[ne]}return av(e,A,Y[256]),A+ee[256]},Hrt=new NF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Die=new ou(0),zrt=function(t,e,n,r,i,a){var s=a.z||t.length,o=new ou(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),u=a.l,A=(a.r||0)&7;if(e){A&&(l[0]=a.r>>3);for(var d=Hrt[e-1],f=d>>13,h=d&8191,p=(1<<n)-1,m=a.p||new Sl(32768),v=a.h||new Sl(p+1),g=Math.ceil(n/3),y=2*g,x=function(Oe){return(t[Oe]^t[Oe+1]<<g^t[Oe+2]<<y)&p},C=new NF(25e3),E=new Sl(288),j=new Sl(32),_=0,B=0,N=a.i||0,D=0,T=a.w||0,O=0;N+2<s;++N){var L=x(N),H=N&32767,q=v[L];if(m[H]=q,v[L]=H,T<=N){var Y=s-N;if((_>7e3||D>24576)&&(Y>423||!u)){A=k9(t,l,0,C,E,j,B,D,O,N-O,A),D=_=B=0,O=N;for(var ee=0;ee<286;++ee)E[ee]=0;for(var ee=0;ee<30;++ee)j[ee]=0}var K=2,te=0,le=h,se=H-q&32767;if(Y>2&&L==x(N-se))for(var M=Math.min(f,Y)-1,$=Math.min(32767,N),J=Math.min(258,Y);se<=$&&--le&&H!=q;){if(t[N+K]==t[N+K-se]){for(var ne=0;ne<J&&t[N+ne]==t[N+ne-se];++ne);if(ne>K){if(K=ne,te=se,ne>M)break;for(var he=Math.min(se,ne-2),we=0,ee=0;ee<he;++ee){var Se=N-se+ee&32767,Ae=m[Se],ge=Se-Ae&32767;ge>we&&(we=ge,q=Se)}}}H=q,q=m[H],se+=H-q&32767}if(te){C[D++]=268435456|Ck[K]<<18|I9[te];var xe=Ck[K]&31,ae=I9[te]&31;B+=jF[xe]+IF[ae],++E[257+xe],++j[ae],T=N+K,++_}else C[D++]=t[N],++E[t[N]]}}for(N=Math.max(N,T);N<s;++N)C[D++]=t[N],++E[t[N]];A=k9(t,l,u,C,E,j,B,D,O,N-O,A),u||(a.r=A&7|l[A/8|0]<<3,A-=7,a.h=v,a.p=m,a.i=N,a.w=T)}else{for(var N=a.w||0;N<s+u;N+=65535){var Ve=N+65535;Ve>=s&&(l[A/8|0]=u,Ve=s),A=Pie(l,A+1,t.subarray(N,Ve))}a.i=s}return Qrt(o,0,r+kie(A)+i)},Oie=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Vrt=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new ou(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return zrt(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Fie=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},$rt=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Oie();i.p(e.dictionary),Fie(t,2,i.d())}};function _k(t,e){e||(e={});var n=Oie();n.p(t);var r=Vrt(t,e,e.dictionary?6:2,4);return $rt(r,e),Fie(r,r.length-4,n.d()),r}var Krt=typeof TextDecoder<"u"&&new TextDecoder,Wrt=0;try{Krt.decode(Die,{stream:!0}),Wrt=1}catch{}function Grt(t){if(Array.isArray(t))return t}function qrt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function P9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yrt(t,e){if(t){if(typeof t=="string")return P9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P9(t,e):void 0}}function Xrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9(t,e){return Grt(t)||qrt(t,e)||Yrt(t,e)||Xrt()}function O9(t,e="utf8"){return new TextDecoder(e).decode(t)}const Jrt=new TextEncoder;function Zrt(t){return Jrt.encode(t)}const eit=1024*8,tit=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),XN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class TF{constructor(e=eit,n={}){Ln(this,"buffer");Ln(this,"byteLength");Ln(this,"byteOffset");Ln(this,"length");Ln(this,"offset");Ln(this,"lastWrittenByte");Ln(this,"littleEndian");Ln(this,"_data");Ln(this,"_mark");Ln(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof TF)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=XN[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===tit&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new XN[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new XN[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return O9(this.readBytes(e))}decodeText(e=1,n="utf8"){return O9(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Zrt(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function N0(t){let e=t.length;for(;--e>=0;)t[e]=0}const nit=3,rit=258,Lie=29,iit=256,ait=iit+1+Lie,Mie=30,sit=512,oit=new Array((ait+2)*2);N0(oit);const lit=new Array(Mie*2);N0(lit);const cit=new Array(sit);N0(cit);const uit=new Array(rit-nit+1);N0(uit);const Ait=new Array(Lie);N0(Ait);const dit=new Array(Mie);N0(dit);const fit=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Bk=fit;const hit=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},pit=new Uint32Array(hit()),mit=(t,e,n,r)=>{const i=pit,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var wu=mit,Nk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Rie={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const git=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var vit=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)git(n,r)&&(t[r]=n[r])}}return t},yit=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Uie={assign:vit,flattenChunks:yit};let Qie=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qie=!1}const Hb=new Uint8Array(256);for(let t=0;t<256;t++)Hb[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hb[254]=Hb[254]=1;var bit=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const xit=(t,e)=>{if(e<65534&&t.subarray&&Qie)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var wit=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=Hb[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return xit(a,i)},Cit=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Hb[t[n]]>e?n:e},jk={string2buf:bit,buf2string:wit,utf8border:Cit};function Sit(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Eit=Sit;const bw=16209,_it=16191;var Bit=function(e,n){let r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x,C,E,j,_,B,N,D;const T=e.state;r=e.next_in,N=e.input,i=r+(e.avail_in-5),a=e.next_out,D=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=T.dmax,u=T.wsize,A=T.whave,d=T.wnext,f=T.window,h=T.hold,p=T.bits,m=T.lencode,v=T.distcode,g=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{p<15&&(h+=N[r++]<<p,p+=8,h+=N[r++]<<p,p+=8),x=m[h&g];t:for(;;){if(C=x>>>24,h>>>=C,p-=C,C=x>>>16&255,C===0)D[a++]=x&65535;else if(C&16){E=x&65535,C&=15,C&&(p<C&&(h+=N[r++]<<p,p+=8),E+=h&(1<<C)-1,h>>>=C,p-=C),p<15&&(h+=N[r++]<<p,p+=8,h+=N[r++]<<p,p+=8),x=v[h&y];n:for(;;){if(C=x>>>24,h>>>=C,p-=C,C=x>>>16&255,C&16){if(j=x&65535,C&=15,p<C&&(h+=N[r++]<<p,p+=8,p<C&&(h+=N[r++]<<p,p+=8)),j+=h&(1<<C)-1,j>l){e.msg="invalid distance too far back",T.mode=bw;break e}if(h>>>=C,p-=C,C=a-s,j>C){if(C=j-C,C>A&&T.sane){e.msg="invalid distance too far back",T.mode=bw;break e}if(_=0,B=f,d===0){if(_+=u-C,C<E){E-=C;do D[a++]=f[_++];while(--C);_=a-j,B=D}}else if(d<C){if(_+=u+d-C,C-=d,C<E){E-=C;do D[a++]=f[_++];while(--C);if(_=0,d<E){C=d,E-=C;do D[a++]=f[_++];while(--C);_=a-j,B=D}}}else if(_+=d-C,C<E){E-=C;do D[a++]=f[_++];while(--C);_=a-j,B=D}for(;E>2;)D[a++]=B[_++],D[a++]=B[_++],D[a++]=B[_++],E-=3;E&&(D[a++]=B[_++],E>1&&(D[a++]=B[_++]))}else{_=a-j;do D[a++]=D[_++],D[a++]=D[_++],D[a++]=D[_++],E-=3;while(E>2);E&&(D[a++]=D[_++],E>1&&(D[a++]=D[_++]))}}else if(C&64){e.msg="invalid distance code",T.mode=bw;break e}else{x=v[(x&65535)+(h&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){T.mode=_it;break e}else{e.msg="invalid literal/length code",T.mode=bw;break e}else{x=m[(x&65535)+(h&(1<<C)-1)];continue t}break}}while(r<i&&a<o);E=p>>3,r-=E,p-=E<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),T.hold=h,T.bits=p};const Qp=15,F9=852,L9=592,M9=0,JN=1,R9=2,Nit=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jit=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Iit=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tit=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kit=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let u=0,A=0,d=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,x,C,E,j,_,B=null,N;const D=new Uint16Array(Qp+1),T=new Uint16Array(Qp+1);let O=null,L,H,q;for(u=0;u<=Qp;u++)D[u]=0;for(A=0;A<r;A++)D[e[n+A]]++;for(h=l,f=Qp;f>=1&&D[f]===0;f--);if(h>f&&(h=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<f&&D[d]===0;d++);for(h<d&&(h=d),v=1,u=1;u<=Qp;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(t===M9||f!==1))return-1;for(T[1]=0,u=1;u<Qp;u++)T[u+1]=T[u]+D[u];for(A=0;A<r;A++)e[n+A]!==0&&(s[T[e[n+A]]++]=A);if(t===M9?(B=O=s,N=20):t===JN?(B=Nit,O=jit,N=257):(B=Iit,O=Tit,N=0),y=0,A=0,u=d,_=a,p=h,m=0,E=-1,g=1<<h,j=g-1,t===JN&&g>F9||t===R9&&g>L9)return 1;for(;;){L=u-m,s[A]+1<N?(H=0,q=s[A]):s[A]>=N?(H=O[s[A]-N],q=B[s[A]-N]):(H=96,q=0),x=1<<u-m,C=1<<p,d=C;do C-=x,i[_+(y>>m)+C]=L<<24|H<<16|q|0;while(C!==0);for(x=1<<u-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,A++,--D[u]===0){if(u===f)break;u=e[n+s[A]]}if(u>h&&(y&j)!==E){for(m===0&&(m=h),_+=d,p=u-m,v=1<<p;p+m<f&&(v-=D[p+m],!(v<=0));)p++,v<<=1;if(g+=1<<p,t===JN&&g>F9||t===R9&&g>L9)return 1;E=y&j,i[E]=h<<24|p<<16|_-a|0}}return y!==0&&(i[_+y]=u-m<<24|64<<16|0),o.bits=h,0};var hy=kit;const Pit=0,Hie=1,zie=2,{Z_FINISH:U9,Z_BLOCK:Dit,Z_TREES:xw,Z_OK:tp,Z_STREAM_END:Oit,Z_NEED_DICT:Fit,Z_STREAM_ERROR:yc,Z_DATA_ERROR:Vie,Z_MEM_ERROR:$ie,Z_BUF_ERROR:Lit,Z_DEFLATED:Q9}=Rie,r_=16180,H9=16181,z9=16182,V9=16183,$9=16184,K9=16185,W9=16186,G9=16187,q9=16188,Y9=16189,HS=16190,hA=16191,ZN=16192,X9=16193,e4=16194,J9=16195,Z9=16196,eV=16197,tV=16198,ww=16199,Cw=16200,nV=16201,rV=16202,iV=16203,aV=16204,sV=16205,t4=16206,oV=16207,lV=16208,ji=16209,Kie=16210,Wie=16211,Mit=852,Rit=592,Uit=15,Qit=Uit,cV=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Hit(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ep=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<r_||e.mode>Wie?1:0},Gie=t=>{if(Ep(t))return yc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=r_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Mit),e.distcode=e.distdyn=new Int32Array(Rit),e.sane=1,e.back=-1,tp},qie=t=>{if(Ep(t))return yc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Gie(t)},Yie=(t,e)=>{let n;if(Ep(t))return yc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?yc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,qie(t))},Xie=(t,e)=>{if(!t)return yc;const n=new Hit;t.state=n,n.strm=t,n.window=null,n.mode=r_;const r=Yie(t,e);return r!==tp&&(t.state=null),r},zit=t=>Xie(t,Qit);let uV=!0,n4,r4;const Vit=t=>{if(uV){n4=new Int32Array(512),r4=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hy(Hie,t.lens,0,288,n4,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hy(zie,t.lens,0,32,r4,0,t.work,{bits:5}),uV=!1}t.lencode=n4,t.lenbits=9,t.distcode=r4,t.distbits=5},Jie=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},$it=(t,e)=>{let n,r,i,a,s,o,l,u,A,d,f,h,p,m,v=0,g,y,x,C,E,j,_,B;const N=new Uint8Array(4);let D,T;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ep(t)||!t.output||!t.input&&t.avail_in!==0)return yc;n=t.state,n.mode===hA&&(n.mode=ZN),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,u=n.hold,A=n.bits,d=o,f=l,B=tp;e:for(;;)switch(n.mode){case r_:if(n.wrap===0){n.mode=ZN;break}for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=u&255,N[1]=u>>>8&255,n.check=wu(n.check,N,2,0),u=0,A=0,n.mode=H9;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=ji;break}if((u&15)!==Q9){t.msg="unknown compression method",n.mode=ji;break}if(u>>>=4,A-=4,_=(u&15)+8,n.wbits===0&&(n.wbits=_),_>15||_>n.wbits){t.msg="invalid window size",n.mode=ji;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Y9:hA,u=0,A=0;break;case H9:for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.flags=u,(n.flags&255)!==Q9){t.msg="unknown compression method",n.mode=ji;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ji;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=wu(n.check,N,2,0)),u=0,A=0,n.mode=z9;case z9:for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,n.check=wu(n.check,N,4,0)),u=0,A=0,n.mode=V9;case V9:for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=wu(n.check,N,2,0)),u=0,A=0,n.mode=$9;case $9:if(n.flags&1024){for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=wu(n.check,N,2,0)),u=0,A=0}else n.head&&(n.head.extra=null);n.mode=K9;case K9:if(n.flags&1024&&(h=n.length,h>o&&(h=o),h&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),_)),n.flags&512&&n.wrap&4&&(n.check=wu(n.check,r,h,a)),o-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=W9;case W9:if(n.flags&2048){if(o===0)break e;h=0;do _=r[a+h++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_));while(_&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=wu(n.check,r,h,a)),o-=h,a+=h,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=G9;case G9:if(n.flags&4096){if(o===0)break e;h=0;do _=r[a+h++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_));while(_&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=wu(n.check,r,h,a)),o-=h,a+=h,_)break e}else n.head&&(n.head.comment=null);n.mode=q9;case q9:if(n.flags&512){for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ji;break}u=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=hA;break;case Y9:for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}t.adler=n.check=cV(u),u=0,A=0,n.mode=HS;case HS:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,Fit;t.adler=n.check=1,n.mode=hA;case hA:if(e===Dit||e===xw)break e;case ZN:if(n.last){u>>>=A&7,A-=A&7,n.mode=t4;break}for(;A<3;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}switch(n.last=u&1,u>>>=1,A-=1,u&3){case 0:n.mode=X9;break;case 1:if(Vit(n),n.mode=ww,e===xw){u>>>=2,A-=2;break e}break;case 2:n.mode=Z9;break;case 3:t.msg="invalid block type",n.mode=ji}u>>>=2,A-=2;break;case X9:for(u>>>=A&7,A-=A&7;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ji;break}if(n.length=u&65535,u=0,A=0,n.mode=e4,e===xw)break e;case e4:n.mode=J9;case J9:if(h=n.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(r.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,n.length-=h;break}n.mode=hA;break;case Z9:for(;A<14;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.nlen=(u&31)+257,u>>>=5,A-=5,n.ndist=(u&31)+1,u>>>=5,A-=5,n.ncode=(u&15)+4,u>>>=4,A-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ji;break}n.have=0,n.mode=eV;case eV:for(;n.have<n.ncode;){for(;A<3;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.lens[O[n.have++]]=u&7,u>>>=3,A-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},B=hy(Pit,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,B){t.msg="invalid code lengths set",n.mode=ji;break}n.have=0,n.mode=tV;case tV:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[u&(1<<n.lenbits)-1],g=v>>>24,y=v>>>16&255,x=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(x<16)u>>>=g,A-=g,n.lens[n.have++]=x;else{if(x===16){for(T=g+2;A<T;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(u>>>=g,A-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=ji;break}_=n.lens[n.have-1],h=3+(u&3),u>>>=2,A-=2}else if(x===17){for(T=g+3;A<T;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=g,A-=g,_=0,h=3+(u&7),u>>>=3,A-=3}else{for(T=g+7;A<T;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=g,A-=g,_=0,h=11+(u&127),u>>>=7,A-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ji;break}for(;h--;)n.lens[n.have++]=_}}if(n.mode===ji)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ji;break}if(n.lenbits=9,D={bits:n.lenbits},B=hy(Hie,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,B){t.msg="invalid literal/lengths set",n.mode=ji;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},B=hy(zie,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,B){t.msg="invalid distances set",n.mode=ji;break}if(n.mode=ww,e===xw)break e;case ww:n.mode=Cw;case Cw:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,Bit(t,f),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,u=n.hold,A=n.bits,n.mode===hA&&(n.back=-1);break}for(n.back=0;v=n.lencode[u&(1<<n.lenbits)-1],g=v>>>24,y=v>>>16&255,x=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(y&&!(y&240)){for(C=g,E=y,j=x;v=n.lencode[j+((u&(1<<C+E)-1)>>C)],g=v>>>24,y=v>>>16&255,x=v&65535,!(C+g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=C,A-=C,n.back+=C}if(u>>>=g,A-=g,n.back+=g,n.length=x,y===0){n.mode=sV;break}if(y&32){n.back=-1,n.mode=hA;break}if(y&64){t.msg="invalid literal/length code",n.mode=ji;break}n.extra=y&15,n.mode=nV;case nV:if(n.extra){for(T=n.extra;A<T;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rV;case rV:for(;v=n.distcode[u&(1<<n.distbits)-1],g=v>>>24,y=v>>>16&255,x=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(!(y&240)){for(C=g,E=y,j=x;v=n.distcode[j+((u&(1<<C+E)-1)>>C)],g=v>>>24,y=v>>>16&255,x=v&65535,!(C+g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=C,A-=C,n.back+=C}if(u>>>=g,A-=g,n.back+=g,y&64){t.msg="invalid distance code",n.mode=ji;break}n.offset=x,n.extra=y&15,n.mode=iV;case iV:if(n.extra){for(T=n.extra;A<T;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ji;break}n.mode=aV;case aV:if(l===0)break e;if(h=f-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ji;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=i,p=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=m[p++];while(--h);n.length===0&&(n.mode=Cw);break;case sV:if(l===0)break e;i[s++]=n.length,l--,n.mode=Cw;break;case t4:if(n.wrap){for(;A<32;){if(o===0)break e;o--,u|=r[a++]<<A,A+=8}if(f-=l,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?wu(n.check,i,f,s-f):Bk(n.check,i,f,s-f)),f=l,n.wrap&4&&(n.flags?u:cV(u))!==n.check){t.msg="incorrect data check",n.mode=ji;break}u=0,A=0}n.mode=oV;case oV:if(n.wrap&&n.flags){for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ji;break}u=0,A=0}n.mode=lV;case lV:B=Oit;break e;case ji:B=Vie;break e;case Kie:return $ie;case Wie:default:return yc}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,(n.wsize||f!==t.avail_out&&n.mode<ji&&(n.mode<t4||e!==U9))&&Jie(t,t.output,t.next_out,f-t.avail_out),d-=t.avail_in,f-=t.avail_out,t.total_in+=d,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?wu(n.check,i,f,t.next_out-f):Bk(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===hA?128:0)+(n.mode===ww||n.mode===e4?256:0),(d===0&&f===0||e===U9)&&B===tp&&(B=Lit),B},Kit=t=>{if(Ep(t))return yc;let e=t.state;return e.window&&(e.window=null),t.state=null,tp},Wit=(t,e)=>{if(Ep(t))return yc;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,tp):yc},Git=(t,e)=>{const n=e.length;let r,i,a;return Ep(t)||(r=t.state,r.wrap!==0&&r.mode!==HS)?yc:r.mode===HS&&(i=1,i=Bk(i,e,n,0),i!==r.check)?Vie:(a=Jie(t,e,n,n),a?(r.mode=Kie,$ie):(r.havedict=1,tp))};var qit=qie,Yit=Yie,Xit=Gie,Jit=zit,Zit=Xie,eat=$it,tat=Kit,nat=Wit,rat=Git,iat="pako inflate (from Nodeca project)",yA={inflateReset:qit,inflateReset2:Yit,inflateResetKeep:Xit,inflateInit:Jit,inflateInit2:Zit,inflate:eat,inflateEnd:tat,inflateGetHeader:nat,inflateSetDictionary:rat,inflateInfo:iat};function aat(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sat=aat;const Zie=Object.prototype.toString,{Z_NO_FLUSH:oat,Z_FINISH:lat,Z_OK:zb,Z_STREAM_END:i4,Z_NEED_DICT:a4,Z_STREAM_ERROR:cat,Z_DATA_ERROR:AV,Z_MEM_ERROR:uat}=Rie;function Ox(t){this.options=Uie.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Eit,this.strm.avail_out=0;let n=yA.inflateInit2(this.strm,e.windowBits);if(n!==zb)throw new Error(Nk[n]);if(this.header=new sat,yA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=jk.string2buf(e.dictionary):Zie.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=yA.inflateSetDictionary(this.strm,e.dictionary),n!==zb)))throw new Error(Nk[n])}Ox.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?lat:oat,Zie.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=yA.inflate(n,s),a===a4&&i&&(a=yA.inflateSetDictionary(n,i),a===zb?a=yA.inflate(n,s):a===AV&&(a=a4));n.avail_in>0&&a===i4&&n.state.wrap>0&&t[n.next_in]!==0;)yA.inflateReset(n),a=yA.inflate(n,s);switch(a){case cat:case AV:case a4:case uat:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===i4))if(this.options.to==="string"){let l=jk.utf8border(n.output,n.next_out),u=n.next_out-l,A=jk.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(A)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===zb&&o===0)){if(a===i4)return a=yA.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ox.prototype.onData=function(t){this.chunks.push(t)};Ox.prototype.onEnd=function(t){t===zb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Uie.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Aat(t,e){const n=new Ox(e);if(n.push(t),n.err)throw n.msg||Nk[n.err];return n.result}var dat=Ox,fat=Aat,hat={Inflate:dat,inflate:fat};const{Inflate:pat,inflate:mat}=hat;var dV=pat,gat=mat;const eae=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;eae[t]=e}const fV=4294967295;function vat(t,e,n){let r=t;for(let i=0;i<n;i++)r=eae[(r^e[i])&255]^r>>>8;return r}function yat(t,e){return(vat(fV,t,e)^fV)>>>0}function hV(t,e,n){const r=t.readUint32(),i=yat(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function tae(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function nae(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function rae(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function iae(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function aae(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+bat(e[a-i],n[a],n[a-i])&255}}function bat(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function xat(t,e,n,r,i,a){switch(t){case 0:tae(e,n,i);break;case 1:nae(e,n,i,a);break;case 2:rae(e,n,r,i);break;case 3:iae(e,n,r,i,a);break;case 4:aae(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wat=new Uint16Array([255]),Cat=new Uint8Array(wat.buffer),Sat=Cat[0]===255;function Eat(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let A=0;A<7;A++){const d=s[A],f=Math.ceil((n-d.x)/d.xStep),h=Math.ceil((r-d.y)/d.yStep);if(f<=0||h<=0)continue;const p=f*o,m=new Uint8Array(p);for(let v=0;v<h;v++){const g=e[u++],y=e.subarray(u,u+p);u+=p;const x=new Uint8Array(p);xat(g,y,x,m,p,o),m.set(x);for(let C=0;C<f;C++){const E=d.x+C*d.xStep,j=d.y+v*d.yStep;if(!(E>=n||j>=r))for(let _=0;_<o;_++)l[(j*n+E)*o+_]=x[C*o+_]}}}if(a===16){const A=new Uint16Array(l.buffer);if(Sat)for(let d=0;d<A.length;d++)A[d]=_at(A[d]);return A}else return l}function _at(t){return(t&255)<<8|t>>8&255}const Bat=new Uint16Array([255]),Nat=new Uint8Array(Bat.buffer),jat=Nat[0]===255,Iat=new Uint8Array(0);function pV(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let u=Iat,A=0,d,f;for(let h=0;h<r;h++){switch(d=e.subarray(A+1,A+1+o),f=l.subarray(h*o,(h+1)*o),e[A]){case 0:tae(d,f,o);break;case 1:nae(d,f,o,s);break;case 2:rae(d,f,u,o);break;case 3:iae(d,f,u,o,s);break;case 4:aae(d,f,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}u=f,A+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(jat)for(let p=0;p<h.length;p++)h[p]=Tat(h[p]);return h}else return l}function Tat(t){return(t&255)<<8|t>>8&255}const A2=Uint8Array.of(137,80,78,71,13,10,26,10);function mV(t){if(!kat(t.readBytes(A2.length)))throw new Error("wrong PNG signature")}function kat(t){if(t.length<A2.length)return!1;for(let e=0;e<A2.length;e++)if(t[e]!==A2[e])return!1;return!0}const Pat="tEXt",Dat=0,sae=new TextDecoder("latin1");function Oat(t){if(Lat(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Fat=/^[\u0000-\u00FF]*$/;function Lat(t){if(!Fat.test(t))throw new Error("invalid latin1 text")}function Mat(t,e,n){const r=oae(e);t[r]=Rat(e,n-r.length-1)}function oae(t){for(t.mark();t.readByte()!==Dat;);const e=t.offset;t.reset();const n=sae.decode(t.readBytes(e-t.offset-1));return t.skip(1),Oat(n),n}function Rat(t,e){return sae.decode(t.readBytes(e))}const pl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},s4={UNKNOWN:-1,DEFLATE:0},gV={UNKNOWN:-1,ADAPTIVE:0},o4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Sw={NONE:0,BACKGROUND:1,PREVIOUS:2},l4={SOURCE:0,OVER:1};class Uat extends TF{constructor(n,r={}){super(n);Ln(this,"_checkCrc");Ln(this,"_inflator");Ln(this,"_png");Ln(this,"_apng");Ln(this,"_end");Ln(this,"_hasPalette");Ln(this,"_palette");Ln(this,"_hasTransparency");Ln(this,"_transparency");Ln(this,"_compressionMethod");Ln(this,"_filterMethod");Ln(this,"_interlaceMethod");Ln(this,"_colorType");Ln(this,"_isAnimated");Ln(this,"_numberOfFrames");Ln(this,"_numberOfPlays");Ln(this,"_frames");Ln(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new dV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=s4.UNKNOWN,this._filterMethod=gV.UNKNOWN,this._interlaceMethod=o4.UNKNOWN,this._colorType=pl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(mV(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(mV(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Pat:Mat(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?hV(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?hV(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Qat(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case pl.GREYSCALE:i=1;break;case pl.TRUECOLOUR:i=3;break;case pl.INDEXED_COLOUR:i=1;break;case pl.GREYSCALE_ALPHA:i=2;break;case pl.TRUECOLOUR_ALPHA:i=4;break;case pl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==s4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case pl.GREYSCALE:case pl.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case pl.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case pl.UNKNOWN:case pl.GREYSCALE_ALPHA:case pl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=oae(this),i=this.readUint8();if(i!==s4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:gat(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=pV({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Sw.NONE:break;case Sw.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Sw.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case l4.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let A=0;A<this._png.channels;A++)n.data[l+A]=r.data[u+A]}break;case l4.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let A=0;A<this._png.channels;A++){const d=r.data[u+this._png.channels-1]/i,f=A%(this._png.channels-1)===0?1:r.data[u+A],h=Math.floor(d*f+(1-d)*n.data[l+A]);n.data[l+A]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==gV.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===o4.NO_INTERLACE)this._png.data=pV({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===o4.ADAM7)this._png.data=Eat({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Sw.NONE,blendOp:l4.SOURCE,data:n}),this._inflator=new dV,this._writingDataChunks=!1}}function Qat(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var vV;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(vV||(vV={}));function Hat(t,e){return new Uat(t,e).decode()}var kn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c4(){kn.console&&typeof kn.console.log=="function"&&kn.console.log.apply(kn.console,arguments)}var ni={log:c4,warn:function(t){kn.console&&(typeof kn.console.warn=="function"?kn.console.warn.apply(kn.console,arguments):c4.call(null,arguments))},error:function(t){kn.console&&(typeof kn.console.error=="function"?kn.console.error.apply(kn.console,arguments):c4(t))}};function u4(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){nh(r.response,e,n)},r.onerror=function(){ni.error("could not download file")},r.send()}function yV(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ew(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nh=kn.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==kn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=kn.URL||kn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?yV(i.href)?u4(t,e,n):Ew(i,i.target="_blank"):Ew(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ew(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(yV(t))u4(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ew(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Vr(a)!=="object"&&(ni.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return u4(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(kn.HTMLElement)||kn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var A=o.result;A=s?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=A:location=A,r=null},o.readAsDataURL(t)}else{var l=kn.URL||kn.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lae(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var d2=kn.atob.bind(kn),bV=kn.btoa.bind(kn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A4(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ws(n,r,i,a,e[0],7,-680876936),a=Ws(a,n,r,i,e[1],12,-389564586),i=Ws(i,a,n,r,e[2],17,606105819),r=Ws(r,i,a,n,e[3],22,-1044525330),n=Ws(n,r,i,a,e[4],7,-176418897),a=Ws(a,n,r,i,e[5],12,1200080426),i=Ws(i,a,n,r,e[6],17,-1473231341),r=Ws(r,i,a,n,e[7],22,-45705983),n=Ws(n,r,i,a,e[8],7,1770035416),a=Ws(a,n,r,i,e[9],12,-1958414417),i=Ws(i,a,n,r,e[10],17,-42063),r=Ws(r,i,a,n,e[11],22,-1990404162),n=Ws(n,r,i,a,e[12],7,1804603682),a=Ws(a,n,r,i,e[13],12,-40341101),i=Ws(i,a,n,r,e[14],17,-1502002290),n=Gs(n,r=Ws(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Gs(a,n,r,i,e[6],9,-1069501632),i=Gs(i,a,n,r,e[11],14,643717713),r=Gs(r,i,a,n,e[0],20,-373897302),n=Gs(n,r,i,a,e[5],5,-701558691),a=Gs(a,n,r,i,e[10],9,38016083),i=Gs(i,a,n,r,e[15],14,-660478335),r=Gs(r,i,a,n,e[4],20,-405537848),n=Gs(n,r,i,a,e[9],5,568446438),a=Gs(a,n,r,i,e[14],9,-1019803690),i=Gs(i,a,n,r,e[3],14,-187363961),r=Gs(r,i,a,n,e[8],20,1163531501),n=Gs(n,r,i,a,e[13],5,-1444681467),a=Gs(a,n,r,i,e[2],9,-51403784),i=Gs(i,a,n,r,e[7],14,1735328473),n=qs(n,r=Gs(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=qs(a,n,r,i,e[8],11,-2022574463),i=qs(i,a,n,r,e[11],16,1839030562),r=qs(r,i,a,n,e[14],23,-35309556),n=qs(n,r,i,a,e[1],4,-1530992060),a=qs(a,n,r,i,e[4],11,1272893353),i=qs(i,a,n,r,e[7],16,-155497632),r=qs(r,i,a,n,e[10],23,-1094730640),n=qs(n,r,i,a,e[13],4,681279174),a=qs(a,n,r,i,e[0],11,-358537222),i=qs(i,a,n,r,e[3],16,-722521979),r=qs(r,i,a,n,e[6],23,76029189),n=qs(n,r,i,a,e[9],4,-640364487),a=qs(a,n,r,i,e[12],11,-421815835),i=qs(i,a,n,r,e[15],16,530742520),n=Ys(n,r=qs(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ys(a,n,r,i,e[7],10,1126891415),i=Ys(i,a,n,r,e[14],15,-1416354905),r=Ys(r,i,a,n,e[5],21,-57434055),n=Ys(n,r,i,a,e[12],6,1700485571),a=Ys(a,n,r,i,e[3],10,-1894986606),i=Ys(i,a,n,r,e[10],15,-1051523),r=Ys(r,i,a,n,e[1],21,-2054922799),n=Ys(n,r,i,a,e[8],6,1873313359),a=Ys(a,n,r,i,e[15],10,-30611744),i=Ys(i,a,n,r,e[6],15,-1560198380),r=Ys(r,i,a,n,e[13],21,1309151649),n=Ys(n,r,i,a,e[4],6,-145523070),a=Ys(a,n,r,i,e[11],10,-1120210379),i=Ys(i,a,n,r,e[2],15,718787259),r=Ys(r,i,a,n,e[9],21,-343485551),t[0]=Qd(n,t[0]),t[1]=Qd(r,t[1]),t[2]=Qd(i,t[2]),t[3]=Qd(a,t[3])}function i_(t,e,n,r,i,a){return e=Qd(Qd(e,t),Qd(r,a)),Qd(e<<i|e>>>32-i,n)}function Ws(t,e,n,r,i,a,s){return i_(e&n|~e&r,t,e,i,a,s)}function Gs(t,e,n,r,i,a,s){return i_(e&r|n&~r,t,e,i,a,s)}function qs(t,e,n,r,i,a,s){return i_(e^n^r,t,e,i,a,s)}function Ys(t,e,n,r,i,a,s){return i_(n^(e|~r),t,e,i,a,s)}function cae(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)A4(r,zat(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(A4(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,A4(r,i),r}function zat(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var xV="0123456789abcdef".split("");function Vat(t){for(var e="",n=0;n<4;n++)e+=xV[t>>8*n+4&15]+xV[t>>8*n&15];return e}function $at(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ik(t){return cae(t).map($at).join("")}var Kat=function(t){for(var e=0;e<t.length;e++)t[e]=Vat(t[e]);return t.join("")}(cae("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qd(t,e){if(Kat){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Tk(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var A=o[l];u=(u+A+s.charCodeAt(l))%256,o[l]=o[u],o[u]=A}n=t,r=o}else o=r;var d=e.length,f=0,h=0,p="";for(l=0;l<d;l++)h=(h+(A=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=A,s=o[(o[f]+o[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wV={print:4,modify:8,copy:16,"annot-forms":32};function Zp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(wV.perm!==void 0)throw new Error("Invalid permission: "+o);i+=wV[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=Ik(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Tk(this.encryptionKey,this.padding)}function em(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function CV(t){if(Vr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){kn.console&&ni.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function zS(t){if(!(this instanceof zS))return new zS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uae(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function sh(t,e,n,r,i){if(!(this instanceof sh))return new sh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uae.call(this,r,i)}function Bm(t,e,n,r,i){if(!(this instanceof Bm))return new Bm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uae.call(this,r,i)}function mn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",A=null;Vr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(A=t.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=CV;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(F){p=F};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var g=h.__private__.getPageFormat=function(F){return v[F]};i=i||"a4";var y="compat",x="advanced",C=y;function E(){this.saveGraphicsState(),fe(new Pe(yt,0,0,-yt,0,hs()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),u="n",C=x}function j(){this.restoreGraphicsState(),u="S",C=y}var _=h.__private__.combineFontStyleAndFontWeight=function(F,X){if(F=="bold"&&X=="normal"||F=="bold"&&X==400||F=="normal"&&X=="italic"||F=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(F=X==400||X==="normal"?F==="italic"?"italic":"normal":X!=700&&X!=="bold"||F!=="normal"?(X==700?"bold":X)+""+F:"bold"),F};h.advancedAPI=function(F){var X=C===y;return X&&E.call(this),typeof F!="function"||(F(this),X&&j.call(this)),this},h.compatAPI=function(F){var X=C===x;return X&&j.call(this),typeof F!="function"||(F(this),X&&E.call(this)),this},h.isAdvancedAPI=function(){return C===x};var B,N=function(F){if(C!==x)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(F,X){var me=e||X;if(isNaN(F)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(me).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf=typeof l=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return D(F,l)}:l==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return D(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return D(F,16)};var T=h.f2=h.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return D(F,2)},O=h.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return D(F,3)},L=h.scale=h.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return C===y?F*yt:C===x?F:void 0},H=function(F){return L(function(X){return C===y?hs()-X:C===x?X:void 0}(F))};h.__private__.setPrecision=h.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var q,Y="00000000000000000000000000000000",ee=h.__private__.getFileId=function(){return Y},K=h.__private__.setFileId=function(F){return Y=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(br=new Zp(A.userPermissions,A.userPassword,A.ownerPassword,Y)),Y};h.setFileId=function(F){return K(F),this},h.getFileId=function(){return ee()};var te=h.__private__.convertDateToPDFDate=function(F){var X=F.getTimezoneOffset(),me=X<0?"+":"-",Be=Math.floor(Math.abs(X/60)),Ue=Math.abs(X%60),rt=[me,J(Be),"'",J(Ue),"'"].join("");return["D:",F.getFullYear(),J(F.getMonth()+1),J(F.getDate()),J(F.getHours()),J(F.getMinutes()),J(F.getSeconds()),rt].join("")},le=h.__private__.convertPDFDateToDate=function(F){var X=parseInt(F.substr(2,4),10),me=parseInt(F.substr(6,2),10)-1,Be=parseInt(F.substr(8,2),10),Ue=parseInt(F.substr(10,2),10),rt=parseInt(F.substr(12,2),10),at=parseInt(F.substr(14,2),10);return new Date(X,me,Be,Ue,rt,at,0)},se=h.__private__.setCreationDate=function(F){var X;if(F===void 0&&(F=new Date),F instanceof Date)X=te(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=F}return q=X},M=h.__private__.getCreationDate=function(F){var X=q;return F==="jsDate"&&(X=le(q)),X};h.setCreationDate=function(F){return se(F),this},h.getCreationDate=function(F){return M(F)};var $,J=h.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},ne=h.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},he=0,we=[],Se=[],Ae=0,ge=[],xe=[],ae=!1,Ve=Se;h.__private__.setCustomOutputDestination=function(F){ae=!0,Ve=F};var Oe=function(F){ae||(Ve=F)};h.__private__.resetCustomOutputDestination=function(){ae=!1,Ve=Se};var fe=h.__private__.out=function(F){return F=F.toString(),Ae+=F.length+1,Ve.push(F),Ve},$e=h.__private__.write=function(F){return fe(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},ht=h.__private__.getArrayBuffer=function(F){for(var X=F.length,me=new ArrayBuffer(X),Be=new Uint8Array(me);X--;)Be[X]=F.charCodeAt(X);return me},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return vt};var Ye=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(F){return Ye=C===x?F/yt:F,this};var Dt,mt=h.__private__.getFontSize=h.getFontSize=function(){return C===y?Ye:Ye*yt},ct=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(F){return ct=F,this},h.__private__.getR2L=h.getR2L=function(){return ct};var jt,Xt=h.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Dt=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Dt=F}else Dt=parseInt(F,10)};h.__private__.getZoomMode=function(){return Dt};var Zt,Ut=h.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');jt=F};h.__private__.getPageMode=function(){return jt};var rn=h.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Zt=F};h.__private__.getLayoutMode=function(){return Zt},h.__private__.setDisplayMode=h.setDisplayMode=function(F,X,me){return Xt(F),rn(X),Ut(me),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(F){if(Object.keys(st).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[F]},h.__private__.getDocumentProperties=function(){return st},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(F){for(var X in st)st.hasOwnProperty(X)&&F[X]&&(st[X]=F[X]);return this},h.__private__.setDocumentProperty=function(F,X){if(Object.keys(st).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[F]=X};var bt,yt,tt,Qt,ft,gt={},Ft={},St=[],Vt={},hn={},cn={},wt={},Zn=null,gn=0,Kt=[],En=new CV(h),Vi=t.hotfixes||[],Ir={},Pa={},Fe=[],Pe=function F(X,me,Be,Ue,rt,at){if(!(this instanceof F))return new F(X,me,Be,Ue,rt,at);isNaN(X)&&(X=1),isNaN(me)&&(me=0),isNaN(Be)&&(Be=0),isNaN(Ue)&&(Ue=1),isNaN(rt)&&(rt=0),isNaN(at)&&(at=0),this._matrix=[X,me,Be,Ue,rt,at]};Object.defineProperty(Pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pe.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(F)},Pe.prototype.multiply=function(F){var X=F.sx*this.sx+F.shy*this.shx,me=F.sx*this.shy+F.shy*this.sy,Be=F.shx*this.sx+F.sy*this.shx,Ue=F.shx*this.shy+F.sy*this.sy,rt=F.tx*this.sx+F.ty*this.shx+this.tx,at=F.tx*this.shy+F.ty*this.sy+this.ty;return new Pe(X,me,Be,Ue,rt,at)},Pe.prototype.decompose=function(){var F=this.sx,X=this.shy,me=this.shx,Be=this.sy,Ue=this.tx,rt=this.ty,at=Math.sqrt(F*F+X*X),Wt=(F/=at)*me+(X/=at)*Be;me-=F*Wt,Be-=X*Wt;var en=Math.sqrt(me*me+Be*Be);return Wt/=en,F*(Be/=en)<X*(me/=en)&&(F=-F,X=-X,Wt=-Wt,at=-at),{scale:new Pe(at,0,0,en,0,0),translate:new Pe(1,0,0,1,Ue,rt),rotate:new Pe(F,X,-X,F,0,0),skew:new Pe(1,0,Wt,1,0,0)}},Pe.prototype.toString=function(F){return this.join(" ")},Pe.prototype.inversed=function(){var F=this.sx,X=this.shy,me=this.shx,Be=this.sy,Ue=this.tx,rt=this.ty,at=1/(F*Be-X*me),Wt=Be*at,en=-X*at,xn=-me*at,Cn=F*at;return new Pe(Wt,en,xn,Cn,-Wt*Ue-xn*rt,-en*Ue-Cn*rt)},Pe.prototype.applyToPoint=function(F){var X=F.x*this.sx+F.y*this.shx+this.tx,me=F.x*this.shy+F.y*this.sy+this.ty;return new uo(X,me)},Pe.prototype.applyToRectangle=function(F){var X=this.applyToPoint(F),me=this.applyToPoint(new uo(F.x+F.w,F.y+F.h));return new il(X.x,X.y,me.x-X.x,me.y-X.y)},Pe.prototype.clone=function(){var F=this.sx,X=this.shy,me=this.shx,Be=this.sy,Ue=this.tx,rt=this.ty;return new Pe(F,X,me,Be,Ue,rt)},h.Matrix=Pe;var We=h.matrixMult=function(F,X){return X.multiply(F)},Et=new Pe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Et;var ut=function(F,X){if(!hn[F]){var me=(X instanceof sh?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);X.id=me,hn[F]=me,Vt[me]=X,En.publish("addPattern",X)}};h.ShadingPattern=sh,h.TilingPattern=Bm,h.addShadingPattern=function(F,X){return N("addShadingPattern()"),ut(F,X),this},h.beginTilingPattern=function(F){N("beginTilingPattern()"),ql(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},h.endTilingPattern=function(F,X){N("endTilingPattern()"),X.stream=xe[$].join(`
`),ut(F,X),En.publish("endTilingPattern",X),Fe.pop().restore()};var qt,bn=h.__private__.newObject=function(){var F=Gn();return Rt(F,!0),F},Gn=h.__private__.newObjectDeferred=function(){return he++,we[he]=function(){return Ae},he},Rt=function(F,X){return X=typeof X=="boolean"&&X,we[F]=Ae,X&&fe(F+" 0 obj"),F},pn=h.__private__.newAdditionalObject=function(){var F={objId:Gn(),content:""};return ge.push(F),F},Xr=Gn(),gr=Gn(),Or=h.__private__.decodeColorString=function(F){var X=F.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var me=parseFloat(X[0]);X=[me,me,me,"r"]}for(var Be="#",Ue=0;Ue<3;Ue++)Be+=("0"+Math.floor(255*parseFloat(X[Ue])).toString(16)).slice(-2);return Be},vr=h.__private__.encodeColorString=function(F){var X;typeof F=="string"&&(F={ch1:F});var me=F.ch1,Be=F.ch2,Ue=F.ch3,rt=F.ch4,at=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Wt=new lae(me);if(Wt.ok)me=Wt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var en=parseInt(me.substr(1),16);me=en>>16&255,Be=en>>8&255,Ue=255&en}if(Be===void 0||rt===void 0&&me===Be&&Be===Ue)X=typeof me=="string"?me+" "+at[0]:F.precision===2?T(me/255)+" "+at[0]:O(me/255)+" "+at[0];else if(rt===void 0||Vr(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",at[1]].join(" ");X=typeof me=="string"?[me,Be,Ue,at[1]].join(" "):F.precision===2?[T(me/255),T(Be/255),T(Ue/255),at[1]].join(" "):[O(me/255),O(Be/255),O(Ue/255),at[1]].join(" ")}else X=typeof me=="string"?[me,Be,Ue,rt,at[2]].join(" "):F.precision===2?[T(me),T(Be),T(Ue),T(rt),at[2]].join(" "):[O(me),O(Be),O(Ue),O(rt),at[2]].join(" ");return X},Xn=h.__private__.getFilters=function(){return s},yr=h.__private__.putStream=function(F){var X=(F=F||{}).data||"",me=F.filters||Xn(),Be=F.alreadyAppliedFilters||[],Ue=F.addLength1||!1,rt=X.length,at=F.objectId,Wt=function(Fr){return Fr};if(A!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Wt=br.encryptor(at,0));var en={};me===!0&&(me=["FlateEncode"]);var xn=F.additionalKeyValues||[],Cn=(en=mn.API.processDataByFilters!==void 0?mn.API.processDataByFilters(X,me):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(en.data.length!==0&&(xn.push({key:"Length",value:en.data.length}),Ue===!0&&xn.push({key:"Length1",value:rt})),Cn.length!=0)if(Cn.split("/").length-1==1)xn.push({key:"Filter",value:Cn});else{xn.push({key:"Filter",value:"["+Cn+"]"});for(var tr=0;tr<xn.length;tr+=1)if(xn[tr].key==="DecodeParms"){for(var fr=[],Gr=0;Gr<en.reverseChain.split("/").length-1;Gr+=1)fr.push("null");fr.push(xn[tr].value),xn[tr].value="["+fr.join(" ")+"]"}}fe("<<");for(var xr=0;xr<xn.length;xr++)fe("/"+xn[xr].key+" "+xn[xr].value);fe(">>"),en.data.length!==0&&(fe("stream"),fe(Wt(en.data)),fe("endstream"))},Jr=h.__private__.putPage=function(F){var X=F.number,me=F.data,Be=F.objId,Ue=F.contentsObjId;Rt(Be,!0),fe("<</Type /Page"),fe("/Parent "+F.rootDictionaryObjId+" 0 R"),fe("/Resources "+F.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(B(F.mediaBox.bottomLeftX))+" "+parseFloat(B(F.mediaBox.bottomLeftY))+" "+B(F.mediaBox.topRightX)+" "+B(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&fe("/CropBox ["+B(F.cropBox.bottomLeftX)+" "+B(F.cropBox.bottomLeftY)+" "+B(F.cropBox.topRightX)+" "+B(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&fe("/BleedBox ["+B(F.bleedBox.bottomLeftX)+" "+B(F.bleedBox.bottomLeftY)+" "+B(F.bleedBox.topRightX)+" "+B(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&fe("/TrimBox ["+B(F.trimBox.bottomLeftX)+" "+B(F.trimBox.bottomLeftY)+" "+B(F.trimBox.topRightX)+" "+B(F.trimBox.topRightY)+"]"),F.artBox!==null&&fe("/ArtBox ["+B(F.artBox.bottomLeftX)+" "+B(F.artBox.bottomLeftY)+" "+B(F.artBox.topRightX)+" "+B(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&fe("/UserUnit "+F.userUnit),En.publish("putPage",{objId:Be,pageContext:Kt[X],pageNumber:X,page:me}),fe("/Contents "+Ue+" 0 R"),fe(">>"),fe("endobj");var rt=me.join(`
`);return C===x&&(rt+=`
Q`),Rt(Ue,!0),yr({data:rt,filters:Xn(),objectId:Ue}),fe("endobj"),Be},xa=h.__private__.putPages=function(){var F,X,me=[];for(F=1;F<=gn;F++)Kt[F].objId=Gn(),Kt[F].contentsObjId=Gn();for(F=1;F<=gn;F++)me.push(Jr({number:F,data:xe[F],objId:Kt[F].objId,contentsObjId:Kt[F].contentsObjId,mediaBox:Kt[F].mediaBox,cropBox:Kt[F].cropBox,bleedBox:Kt[F].bleedBox,trimBox:Kt[F].trimBox,artBox:Kt[F].artBox,userUnit:Kt[F].userUnit,rootDictionaryObjId:Xr,resourceDictionaryObjId:gr}));Rt(Xr,!0),fe("<</Type /Pages");var Be="/Kids [";for(X=0;X<gn;X++)Be+=me[X]+" 0 R ";fe(Be+"]"),fe("/Count "+gn),fe(">>"),fe("endobj"),En.publish("postPutPages")},Li=function(F){En.publish("putFont",{font:F,out:fe,newObject:bn,putStream:yr}),F.isAlreadyPutted!==!0&&(F.objectNumber=bn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+em(F.postScriptName)),fe("/Subtype /Type1"),typeof F.encoding=="string"&&fe("/Encoding /"+F.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Xo=function(F){F.objectNumber=bn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[B(F.x),B(F.y),B(F.x+F.width),B(F.y+F.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var me=F.pages[1].join(`
`);yr({data:me,additionalKeyValues:X,objectId:F.objectNumber}),fe("endobj")},Jo=function(F,X){X||(X=21);var me=bn(),Be=function(at,Wt){var en,xn=[],Cn=1/(Wt-1);for(en=0;en<1;en+=Cn)xn.push(en);if(xn.push(1),at[0].offset!=0){var tr={offset:0,color:at[0].color};at.unshift(tr)}if(at[at.length-1].offset!=1){var fr={offset:1,color:at[at.length-1].color};at.push(fr)}for(var Gr="",xr=0,Fr=0;Fr<xn.length;Fr++){for(en=xn[Fr];en>at[xr+1].offset;)xr++;var ei=at[xr].offset,ai=(en-ei)/(at[xr+1].offset-ei),kr=at[xr].color,sa=at[xr+1].color;Gr+=ne(Math.round((1-ai)*kr[0]+ai*sa[0]).toString(16))+ne(Math.round((1-ai)*kr[1]+ai*sa[1]).toString(16))+ne(Math.round((1-ai)*kr[2]+ai*sa[2]).toString(16))}return Gr.trim()}(F.colors,X),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+X+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yr({data:Be,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),fe("endobj"),F.objectNumber=bn(),fe("<< /ShadingType "+F.type),fe("/ColorSpace /DeviceRGB");var rt="/Coords ["+B(parseFloat(F.coords[0]))+" "+B(parseFloat(F.coords[1]))+" ";F.type===2?rt+=B(parseFloat(F.coords[2]))+" "+B(parseFloat(F.coords[3])):rt+=B(parseFloat(F.coords[2]))+" "+B(parseFloat(F.coords[3]))+" "+B(parseFloat(F.coords[4]))+" "+B(parseFloat(F.coords[5])),fe(rt+="]"),F.matrix&&fe("/Matrix ["+F.matrix.toString()+"]"),fe("/Function "+me+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Tr=function(F,X){var me=Gn(),Be=bn();X.push({resourcesOid:me,objectOid:Be}),F.objectNumber=Be;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+F.boundingBox.map(B).join(" ")+"]"}),Ue.push({key:"XStep",value:B(F.xStep)}),Ue.push({key:"YStep",value:B(F.yStep)}),Ue.push({key:"Resources",value:me+" 0 R"}),F.matrix&&Ue.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),yr({data:F.stream,additionalKeyValues:Ue,objectId:F.objectNumber}),fe("endobj")},Zo=function(F){for(var X in F.objectNumber=bn(),fe("<<"),F)switch(X){case"opacity":fe("/ca "+T(F[X]));break;case"stroke-opacity":fe("/CA "+T(F[X]))}fe(">>"),fe("endobj")},wa=function(F){Rt(F.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in fe("/Font <<"),gt)gt.hasOwnProperty(X)&&(d===!1||d===!0&&f.hasOwnProperty(X))&&fe("/"+X+" "+gt[X].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(Vt).length>0){for(var X in fe("/Shading <<"),Vt)Vt.hasOwnProperty(X)&&Vt[X]instanceof sh&&Vt[X].objectNumber>=0&&fe("/"+X+" "+Vt[X].objectNumber+" 0 R");En.publish("putShadingPatternDict"),fe(">>")}}(),function(X){if(Object.keys(Vt).length>0){for(var me in fe("/Pattern <<"),Vt)Vt.hasOwnProperty(me)&&Vt[me]instanceof h.TilingPattern&&Vt[me].objectNumber>=0&&Vt[me].objectNumber<X&&fe("/"+me+" "+Vt[me].objectNumber+" 0 R");En.publish("putTilingPatternDict"),fe(">>")}}(F.objectOid),function(){if(Object.keys(cn).length>0){var X;for(X in fe("/ExtGState <<"),cn)cn.hasOwnProperty(X)&&cn[X].objectNumber>=0&&fe("/"+X+" "+cn[X].objectNumber+" 0 R");En.publish("putGStateDict"),fe(">>")}}(),function(){for(var X in fe("/XObject <<"),Ir)Ir.hasOwnProperty(X)&&Ir[X].objectNumber>=0&&fe("/"+X+" "+Ir[X].objectNumber+" 0 R");En.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},hu=function(F){Ft[F.fontName]=Ft[F.fontName]||{},Ft[F.fontName][F.fontStyle]=F.id},oo=function(F,X,me,Be,Ue){var rt={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:F,fontName:X,fontStyle:me,encoding:Be,isStandardFont:Ue||!1,metadata:{}};return En.publish("addFont",{font:rt,instance:this}),gt[rt.id]=rt,hu(rt),rt.id},Mi=h.__private__.pdfEscape=h.pdfEscape=function(F,X){return function(me,Be){var Ue,rt,at,Wt,en,xn,Cn,tr,fr;if(at=(Be=Be||{}).sourceEncoding||"Unicode",en=Be.outputEncoding,(Be.autoencode||en)&&gt[bt].metadata&&gt[bt].metadata[at]&&gt[bt].metadata[at].encoding&&(Wt=gt[bt].metadata[at].encoding,!en&&gt[bt].encoding&&(en=gt[bt].encoding),!en&&Wt.codePages&&(en=Wt.codePages[0]),typeof en=="string"&&(en=Wt[en]),en)){for(Cn=!1,xn=[],Ue=0,rt=me.length;Ue<rt;Ue++)(tr=en[me.charCodeAt(Ue)])?xn.push(String.fromCharCode(tr)):xn.push(me[Ue]),xn[Ue].charCodeAt(0)>>8&&(Cn=!0);me=xn.join("")}for(Ue=me.length;Cn===void 0&&Ue!==0;)me.charCodeAt(Ue-1)>>8&&(Cn=!0),Ue--;if(!Cn)return me;for(xn=Be.noBOM?[]:[254,255],Ue=0,rt=me.length;Ue<rt;Ue++){if((fr=(tr=me.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xn.push(fr),xn.push(tr-(fr<<8))}return String.fromCharCode.apply(void 0,xn)}(F,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fs=h.__private__.beginPage=function(F){xe[++gn]=[],Kt[gn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},pu(gn),Oe(xe[$])},zl=function(F,X){var me,Be,Ue;switch(n=X||n,typeof F=="string"&&(me=g(F.toLowerCase()),Array.isArray(me)&&(Be=me[0],Ue=me[1])),Array.isArray(F)&&(Be=F[0]*yt,Ue=F[1]*yt),isNaN(Be)&&(Be=i[0],Ue=i[1]),(Be>14400||Ue>14400)&&(ni.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Ue=Math.min(14400,Ue)),i=[Be,Ue],n.substr(0,1)){case"l":Ue>Be&&(i=[Ue,Be]);break;case"p":Be>Ue&&(i=[Ue,Be])}fs(i),aa(_c),fe(Bo),dr!==0&&fe(dr+" J"),iA!==0&&fe(iA+" j"),En.publish("addPage",{pageNumber:gn})},lo=function(F){F>0&&F<=gn&&(xe.splice(F,1),Kt.splice(F,1),gn--,$>gn&&($=gn),this.setPage($))},pu=function(F){F>0&&F<=gn&&($=F)},Vl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return xe.length-1},mu=function(F,X,me){var Be,Ue=void 0;return me=me||{},F=F!==void 0?F:gt[bt].fontName,X=X!==void 0?X:gt[bt].fontStyle,Be=F.toLowerCase(),Ft[Be]!==void 0&&Ft[Be][X]!==void 0?Ue=Ft[Be][X]:Ft[F]!==void 0&&Ft[F][X]!==void 0?Ue=Ft[F][X]:me.disableWarning===!1&&ni.warn("Unable to look up font label for font '"+F+"', '"+X+"'. Refer to getFontList() for available fonts."),Ue||me.noFallback||(Ue=Ft.times[X])==null&&(Ue=Ft.times.normal),Ue},Pn=h.__private__.putInfo=function(){var F=bn(),X=function(Be){return Be};for(var me in A!==null&&(X=br.encryptor(F,0)),fe("<<"),fe("/Producer ("+Mi(X("jsPDF "+mn.version))+")"),st)st.hasOwnProperty(me)&&st[me]&&fe("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Mi(X(st[me]))+")");fe("/CreationDate ("+Mi(X(q))+")"),fe(">>"),fe("endobj")},gu=h.__private__.putCatalog=function(F){var X=(F=F||{}).rootDictionaryObjId||Xr;switch(bn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+X+" 0 R"),Dt||(Dt="fullwidth"),Dt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Dt;me.substr(me.length-1)==="%"&&(Dt=parseInt(Dt)/100),typeof Dt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+T(Dt)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}jt&&fe("/PageMode /"+jt),En.publish("putCatalog"),fe(">>"),fe("endobj")},ii=h.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(he+1)),fe("/Root "+he+" 0 R"),fe("/Info "+(he-1)+" 0 R"),A!==null&&fe("/Encrypt "+br.oid+" 0 R"),fe("/ID [ <"+Y+"> <"+Y+"> ]"),fe(">>")},$l=h.__private__.putHeader=function(){fe("%PDF-"+p),fe("%")},eA=h.__private__.putXRef=function(){var F="0000000000";fe("xref"),fe("0 "+(he+1)),fe("0000000000 65535 f ");for(var X=1;X<=he;X++)typeof we[X]=="function"?fe((F+we[X]()).slice(-10)+" 00000 n "):we[X]!==void 0?fe((F+we[X]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},er=h.__private__.buildDocument=function(){var F;he=0,Ae=0,Se=[],we=[],ge=[],Xr=Gn(),gr=Gn(),Oe(Se),En.publish("buildDocument"),$l(),xa(),function(){En.publish("putAdditionalObjects");for(var me=0;me<ge.length;me++){var Be=ge[me];Rt(Be.objId,!0),fe(Be.content),fe("endobj")}En.publish("postPutAdditionalObjects")}(),F=[],function(){for(var me in gt)gt.hasOwnProperty(me)&&(d===!1||d===!0&&f.hasOwnProperty(me))&&Li(gt[me])}(),function(){var me;for(me in cn)cn.hasOwnProperty(me)&&Zo(cn[me])}(),function(){for(var me in Ir)Ir.hasOwnProperty(me)&&Xo(Ir[me])}(),function(me){var Be;for(Be in Vt)Vt.hasOwnProperty(Be)&&(Vt[Be]instanceof sh?Jo(Vt[Be]):Vt[Be]instanceof Bm&&Tr(Vt[Be],me))}(F),En.publish("putResources"),F.forEach(wa),wa({resourcesOid:gr,objectOid:Number.MAX_SAFE_INTEGER}),En.publish("postPutResources"),A!==null&&(br.oid=bn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+br.v),fe("/R "+br.r),fe("/U <"+br.toHexString(br.U)+">"),fe("/O <"+br.toHexString(br.O)+">"),fe("/P "+br.P),fe(">>"),fe("endobj")),Pn(),gu();var X=Ae;return eA(),ii(),fe("startxref"),fe(""+X),fe("%%EOF"),Oe(xe[$]),Se.join(`
`)},Ds=h.__private__.getBlob=function(F){return new Blob([ht(F)],{type:"application/pdf"})},Ca=h.output=h.__private__.output=(qt=function(F,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",F){case void 0:return er();case"save":h.save(X.filename);break;case"arraybuffer":return ht(er());case"blob":return Ds(er());case"bloburi":case"bloburl":if(kn.URL!==void 0&&typeof kn.URL.createObjectURL=="function")return kn.URL&&kn.URL.createObjectURL(Ds(er()))||void 0;ni.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Be=er();try{me=bV(Be)}catch{me=bV(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+X.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kn)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ue=X.pdfObjectUrl,rt="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Wt=kn.open();return Wt!==null&&Wt.document.write(at),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',xn=kn.open();if(xn!==null){xn.document.write(en);var Cn=this;xn.document.documentElement.querySelector("#pdfViewer").onload=function(){xn.document.title=X.filename,xn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Cn.output("bloburl"))}}return xn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',fr=kn.open();if(fr!==null&&(fr.document.write(tr),fr.document.title=X.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return kn.document.location.href=this.output("datauristring",X);default:return null}},qt.foo=function(){try{return qt.apply(this,arguments)}catch(me){var F=me.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var X="Error in function "+F.split(`
`)[0].split("<")[0]+": "+me.message;if(!kn.console)throw new Error(X);kn.console.error(X,me),kn.alert&&alert(X)}},qt.foo.bar=qt,qt.foo),Os=function(F){return Array.isArray(Vi)===!0&&Vi.indexOf(F)>-1};switch(r){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=Os("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);yt=r}var br=null;se(),K();var Da=h.__private__.getPageInfo=h.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[F].objId,pageNumber:F,pageContext:Kt[F]}},el=h.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Kt)if(Kt[X].objId===F)break;return Da(X)},Sc=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Kt[$].objId,pageNumber:$,pageContext:Kt[$]}};h.addPage=function(){return zl.apply(this,arguments),this},h.setPage=function(){return pu.apply(this,arguments),Oe.call(this,xe[$]),this},h.insertPage=function(F){return this.addPage(),this.movePage($,F),this},h.movePage=function(F,X){var me,Be;if(F>X){me=xe[F],Be=Kt[F];for(var Ue=F;Ue>X;Ue--)xe[Ue]=xe[Ue-1],Kt[Ue]=Kt[Ue-1];xe[X]=me,Kt[X]=Be,this.setPage(X)}else if(F<X){me=xe[F],Be=Kt[F];for(var rt=F;rt<X;rt++)xe[rt]=xe[rt+1],Kt[rt]=Kt[rt+1];xe[X]=me,Kt[X]=Be,this.setPage(X)}return this},h.deletePage=function(){return lo.apply(this,arguments),this},h.__private__.text=h.text=function(F,X,me,Be,Ue){var rt,at,Wt,en,xn,Cn,tr,fr,Gr,xr=(Be=Be||{}).scope||this;if(typeof F=="number"&&typeof X=="number"&&(typeof me=="string"||Array.isArray(me))){var Fr=me;me=X,X=F,F=Fr}if(arguments[3]instanceof Pe==0?(Wt=arguments[4],en=arguments[5],Vr(tr=arguments[3])==="object"&&tr!==null||(typeof Wt=="string"&&(en=Wt,Wt=null),typeof tr=="string"&&(en=tr,tr=null),typeof tr=="number"&&(Wt=tr,tr=null),Be={flags:tr,angle:Wt,align:en})):(N("The transform parameter of text() with a Matrix value"),Gr=Ue),isNaN(X)||isNaN(me)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return xr;var ei,ai="",kr=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:nl,sa=xr.internal.scaleFactor;function yu(Ie){return Ie=Ie.split("	").join(Array(Be.TabLen||9).join(" ")),Mi(Ie,tr)}function fo(Ie){for(var _e,je=Ie.concat(),De=[],Re=je.length;Re--;)typeof(_e=je.shift())=="string"?De.push(_e):Array.isArray(Ie)&&(_e.length===1||_e[1]===void 0&&_e[2]===void 0)?De.push(_e[0]):De.push([_e[0],_e[1],_e[2]]);return De}function w(Ie,_e){var je;if(typeof Ie=="string")je=_e(Ie)[0];else if(Array.isArray(Ie)){for(var De,Re,He=Ie.concat(),Xe=[],et=He.length;et--;)typeof(De=He.shift())=="string"?Xe.push(_e(De)[0]):Array.isArray(De)&&typeof De[0]=="string"&&(Re=_e(De[0],De[1],De[2]),Xe.push([Re[0],Re[1],Re[2]]));je=Xe}return je}var Q=!1,W=!0;if(typeof F=="string")Q=!0;else if(Array.isArray(F)){var ue=F.concat();at=[];for(var Qe,qe=ue.length;qe--;)(typeof(Qe=ue.shift())!="string"||Array.isArray(Qe)&&typeof Qe[0]!="string")&&(W=!1);Q=W}if(Q===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Pt=Ye/xr.internal.scaleFactor,nr=Pt*(kr-1);switch(Be.baseline){case"bottom":me-=nr;break;case"top":me+=Pt-nr;break;case"hanging":me+=Pt-2*nr;break;case"middle":me+=Pt/2-nr}if((Cn=Be.maxWidth||0)>0&&(typeof F=="string"?F=xr.splitTextToSize(F,Cn):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(Ie,_e){return Ie.concat(xr.splitTextToSize(_e,Cn))},[]))),rt={text:F,x:X,y:me,options:Be,mutex:{pdfEscape:Mi,activeFontKey:bt,fonts:gt,activeFontSize:Ye}},En.publish("preProcessText",rt),F=rt.text,Wt=(Be=rt.options).angle,Gr instanceof Pe==0&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,Be.rotationDirection===0&&(Wt=-Wt),C===x&&(Wt=-Wt);var si=Math.cos(Wt),zn=Math.sin(Wt);Gr=new Pe(si,zn,-zn,si,0,0)}else Wt&&Wt instanceof Pe&&(Gr=Wt);C!==x||Gr||(Gr=Et),(xn=Be.charSpace||Gl)!==void 0&&(ai+=B(L(xn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=Be.horizontalScale)!==void 0&&(ai+=B(100*fr)+` Tz
`),Be.lang;var Vn=-1,Ur=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,ps=xr.internal.getCurrentPageInfo().pageContext;switch(Ur){case 0:case!1:case"fill":Vn=0;break;case 1:case!0:case"stroke":Vn=1;break;case 2:case"fillThenStroke":Vn=2;break;case 3:case"invisible":Vn=3;break;case 4:case"fillAndAddForClipping":Vn=4;break;case 5:case"strokeAndAddPathForClipping":Vn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vn=6;break;case 7:case"addToPathForClipping":Vn=7}var La=ps.usedRenderingMode!==void 0?ps.usedRenderingMode:-1;Vn!==-1?ai+=Vn+` Tr
`:La!==-1&&(ai+=`0 Tr
`),Vn!==-1&&(ps.usedRenderingMode=Vn),en=Be.align||"left";var Sa,ol=Ye*kr,Pf=xr.internal.pageSize.getWidth(),Df=gt[bt];xn=Be.charSpace||Gl,Cn=Be.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var ll=[],ms=function(Ie){return xr.getStringUnitWidth(Ie,{font:Df,charSpace:xn,fontSize:Ye,doKerning:!1})*Ye/sa};if(Object.prototype.toString.call(F)==="[object Array]"){var lr;at=fo(F),en!=="left"&&(Sa=at.map(ms));var ts,oa=0;if(en==="right"){X-=Sa[0],F=[],qe=at.length;for(var Tc=0;Tc<qe;Tc++)Tc===0?(ts=Zr(X),lr=rl(me)):(ts=L(oa-Sa[Tc]),lr=-ol),F.push([at[Tc],ts,lr]),oa=Sa[Tc]}else if(en==="center"){X-=Sa[0]/2,F=[],qe=at.length;for(var Jl=0;Jl<qe;Jl++)Jl===0?(ts=Zr(X),lr=rl(me)):(ts=L((oa-Sa[Jl])/2),lr=-ol),F.push([at[Jl],ts,lr]),oa=Sa[Jl]}else if(en==="left"){F=[],qe=at.length;for(var rd=0;rd<qe;rd++)F.push(at[rd])}else if(en==="justify"&&Df.encoding==="Identity-H"){F=[],qe=at.length,Cn=Cn!==0?Cn:Pf;for(var No=0,mi=0;mi<qe;mi++)if(lr=mi===0?rl(me):-ol,ts=mi===0?Zr(X):No,mi<qe-1){var kc=L((Cn-Sa[mi])/(at[mi].split(" ").length-1)),Ma=at[mi].split(" ");F.push([Ma[0]+" ",ts,lr]),No=0;for(var cl=1;cl<Ma.length;cl++){var S=(ms(Ma[cl-1]+" "+Ma[cl])-ms(Ma[cl]))*sa+kc;cl==Ma.length-1?F.push([Ma[cl],S,0]):F.push([Ma[cl]+" ",S,0]),No-=S}}else F.push([at[mi],ts,lr]);F.push(["",No,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],qe=at.length,Cn=Cn!==0?Cn:Pf,mi=0;mi<qe;mi++){lr=mi===0?rl(me):-ol,ts=mi===0?Zr(X):0;var k=at[mi].split(" ").length-1,U=k>0?(Cn-Sa[mi])/k:0;mi<qe-1?ll.push(B(L(U))):ll.push(0),F.push([at[mi],ts,lr])}}}(typeof Be.R2L=="boolean"?Be.R2L:ct)===!0&&(F=w(F,function(Ie,_e,je){return[Ie.split("").reverse().join(""),_e,je]})),rt={text:F,x:X,y:me,options:Be,mutex:{pdfEscape:Mi,activeFontKey:bt,fonts:gt,activeFontSize:Ye}},En.publish("postProcessText",rt),F=rt.text,ei=rt.mutex.isHex||!1;var V=gt[bt].encoding;V!=="WinAnsiEncoding"&&V!=="StandardEncoding"||(F=w(F,function(Ie,_e,je){return[yu(Ie),_e,je]})),at=fo(F),F=[];for(var G,re,pe,Ce=Array.isArray(at[0])?1:0,Ne="",Te=function(Ie,_e,je){var De="";return je instanceof Pe?(je=typeof Be.angle=="number"?We(je,new Pe(1,0,0,1,Ie,_e)):We(new Pe(1,0,0,1,Ie,_e),je),C===x&&(je=We(new Pe(1,0,0,-1,0,0),je)),De=je.join(" ")+` Tm
`):De=B(Ie)+" "+B(_e)+` Td
`,De},Le=0;Le<at.length;Le++){switch(Ne="",Ce){case 1:pe=(ei?"<":"(")+at[Le][0]+(ei?">":")"),G=parseFloat(at[Le][1]),re=parseFloat(at[Le][2]);break;case 0:pe=(ei?"<":"(")+at[Le]+(ei?">":")"),G=Zr(X),re=rl(me)}ll!==void 0&&ll[Le]!==void 0&&(Ne=ll[Le]+` Tw
`),Le===0?F.push(Ne+Te(G,re,Gr)+pe):Ce===0?F.push(Ne+pe):Ce===1&&F.push(Ne+Te(G,re,Gr)+pe)}F=Ce===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Ee=`BT
/`;return Ee+=bt+" "+Ye+` Tf
`,Ee+=B(Ye*kr)+` TL
`,Ee+=Fa+`
`,Ee+=ai,Ee+=F,fe(Ee+="ET"),f[bt]=!0,xr};var Ec=h.__private__.clip=h.clip=function(F){return fe(F==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ec("evenodd")},h.__private__.discardPath=h.discardPath=function(){return fe("n"),this};var qn=h.__private__.isValidStyle=function(F){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(F){return qn(F)&&(u=F),this};var co=h.__private__.getStyle=h.getStyle=function(F){var X=u;switch(F){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=F}return X},tl=h.close=function(){return fe("h"),this};h.stroke=function(){return fe("S"),this},h.fill=function(F){return Fs("f",F),this},h.fillEvenOdd=function(F){return Fs("f*",F),this},h.fillStroke=function(F){return Fs("B",F),this},h.fillStrokeEvenOdd=function(F){return Fs("B*",F),this};var Fs=function(F,X){Vr(X)==="object"?Tf(X,F):fe(F)},Wn=function(F){F===null||C===x&&F===void 0||(F=co(F),fe(F))};function tA(F,X,me,Be,Ue){var rt=new Bm(X||this.boundingBox,me||this.xStep,Be||this.yStep,this.gState,Ue||this.matrix);rt.stream=this.stream;var at=F+"$$"+this.cloneIndex+++"$$";return ut(at,rt),rt}var Tf=function(F,X){var me=hn[F.key],Be=Vt[me];if(Be instanceof sh)fe("q"),fe(kf(X)),Be.gState&&h.setGState(Be.gState),fe(F.matrix.toString()+" cm"),fe("/"+me+" sh"),fe("Q");else if(Be instanceof Bm){var Ue=new Pe(1,0,0,-1,0,hs());F.matrix&&(Ue=Ue.multiply(F.matrix||Et),me=tA.call(Be,F.key,F.boundingBox,F.xStep,F.yStep,Ue).id),fe("q"),fe("/Pattern cs"),fe("/"+me+" scn"),Be.gState&&h.setGState(Be.gState),fe(X),fe("Q")}},kf=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ra=h.moveTo=function(F,X){return fe(B(L(F))+" "+B(H(X))+" m"),this},Ls=h.lineTo=function(F,X){return fe(B(L(F))+" "+B(H(X))+" l"),this},Oa=h.curveTo=function(F,X,me,Be,Ue,rt){return fe([B(L(F)),B(H(X)),B(L(me)),B(H(Be)),B(L(Ue)),B(H(rt)),"c"].join(" ")),this};h.__private__.line=h.line=function(F,X,me,Be,Ue){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||!qn(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return C===y?this.lines([[me-F,Be-X]],F,X,[1,1],Ue||"S"):this.lines([[me-F,Be-X]],F,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(F,X,me,Be,Ue,rt){var at,Wt,en,xn,Cn,tr,fr,Gr,xr,Fr,ei,ai;if(typeof F=="number"&&(ai=me,me=X,X=F,F=ai),Be=Be||[1,1],rt=rt||!1,isNaN(X)||isNaN(me)||!Array.isArray(F)||!Array.isArray(Be)||!qn(Ue)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ra(X,me),at=Be[0],Wt=Be[1],xn=F.length,Fr=X,ei=me,en=0;en<xn;en++)(Cn=F[en]).length===2?(Fr=Cn[0]*at+Fr,ei=Cn[1]*Wt+ei,Ls(Fr,ei)):(tr=Cn[0]*at+Fr,fr=Cn[1]*Wt+ei,Gr=Cn[2]*at+Fr,xr=Cn[3]*Wt+ei,Fr=Cn[4]*at+Fr,ei=Cn[5]*Wt+ei,Oa(tr,fr,Gr,xr,Fr,ei));return rt&&tl(),Wn(Ue),this},h.path=function(F){for(var X=0;X<F.length;X++){var me=F[X],Be=me.c;switch(me.op){case"m":ra(Be[0],Be[1]);break;case"l":Ls(Be[0],Be[1]);break;case"c":Oa.apply(this,Be);break;case"h":tl()}}return this},h.__private__.rect=h.rect=function(F,X,me,Be,Ue){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||!qn(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return C===y&&(Be=-Be),fe([B(L(F)),B(H(X)),B(L(me)),B(L(Be)),"re"].join(" ")),Wn(Ue),this},h.__private__.triangle=h.triangle=function(F,X,me,Be,Ue,rt,at){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||isNaN(Ue)||isNaN(rt)||!qn(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-F,Be-X],[Ue-me,rt-Be],[F-Ue,X-rt]],F,X,[1,1],at,!0),this},h.__private__.roundedRect=h.roundedRect=function(F,X,me,Be,Ue,rt,at){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||isNaN(Ue)||isNaN(rt)||!qn(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*me),rt=Math.min(rt,.5*Be),this.lines([[me-2*Ue,0],[Ue*Wt,0,Ue,rt-rt*Wt,Ue,rt],[0,Be-2*rt],[0,rt*Wt,-Ue*Wt,rt,-Ue,rt],[2*Ue-me,0],[-Ue*Wt,0,-Ue,-rt*Wt,-Ue,-rt],[0,2*rt-Be],[0,-rt*Wt,Ue*Wt,-rt,Ue,-rt]],F+Ue,X,[1,1],at,!0),this},h.__private__.ellipse=h.ellipse=function(F,X,me,Be,Ue){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||!qn(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*me,at=4/3*(Math.SQRT2-1)*Be;return ra(F+me,X),Oa(F+me,X-at,F+rt,X-Be,F,X-Be),Oa(F-rt,X-Be,F-me,X-at,F-me,X),Oa(F-me,X+at,F-rt,X+Be,F,X+Be),Oa(F+rt,X+Be,F+me,X+at,F+me,X),Wn(Ue),this},h.__private__.circle=h.circle=function(F,X,me,Be){if(isNaN(F)||isNaN(X)||isNaN(me)||!qn(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,X,me,me,Be)},h.setFont=function(F,X,me){return me&&(X=_(X,me)),bt=mu(F,X,{disableWarning:!1}),this};var ia=h.__private__.getFont=h.getFont=function(){return gt[mu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var F,X,me={};for(F in Ft)if(Ft.hasOwnProperty(F))for(X in me[F]=[],Ft[F])Ft[F].hasOwnProperty(X)&&me[F].push(X);return me},h.addFont=function(F,X,me,Be,Ue){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(me=_(me,Be)),oo.call(this,F,X,me,Ue=Ue||"Identity-H")};var nl,_c=t.lineWidth||.200025,tn=h.__private__.getLineWidth=h.getLineWidth=function(){return _c},aa=h.__private__.setLineWidth=h.setLineWidth=function(F){return _c=F,fe(B(L(F))+" w"),this};h.__private__.setLineDash=mn.API.setLineDash=mn.API.setLineDashPattern=function(F,X){if(F=F||[],X=X||0,isNaN(X)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(me){return B(L(me))}).join(" "),X=B(L(X)),fe("["+F+"] "+X+" d"),this};var Bc=h.__private__.getLineHeight=h.getLineHeight=function(){return Ye*nl};h.__private__.getLineHeight=h.getLineHeight=function(){return Ye*nl};var Nc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(nl=F),this},nA=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return nl};Nc(t.lineHeight);var Zr=h.__private__.getHorizontalCoordinate=function(F){return L(F)},rl=h.__private__.getVerticalCoordinate=function(F){return C===x?F:Kt[$].mediaBox.topRightY-Kt[$].mediaBox.bottomLeftY-L(F)},Ms=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(F){return B(Zr(F))},Kl=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(F){return B(rl(F))},Bo=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Or(Bo)},h.__private__.setStrokeColor=h.setDrawColor=function(F,X,me,Be){return Bo=vr({ch1:F,ch2:X,ch3:me,ch4:Be,pdfColorType:"draw",precision:2}),fe(Bo),this};var Wl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Or(Wl)},h.__private__.setFillColor=h.setFillColor=function(F,X,me,Be){return Wl=vr({ch1:F,ch2:X,ch3:me,ch4:Be,pdfColorType:"fill",precision:2}),fe(Wl),this};var Fa=t.textColor||"0 g",Rs=h.__private__.getTextColor=h.getTextColor=function(){return Or(Fa)};h.__private__.setTextColor=h.setTextColor=function(F,X,me,Be){return Fa=vr({ch1:F,ch2:X,ch3:me,ch4:Be,pdfColorType:"text",precision:3}),this};var Gl=t.charSpace,rA=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Gl||0)};h.__private__.setCharSpace=h.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gl=F,this};var dr=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(F){var X=h.CapJoinStyles[F];if(X===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dr=X,fe(X+" J"),this};var iA=0;h.__private__.setLineJoin=h.setLineJoin=function(F){var X=h.CapJoinStyles[F];if(X===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iA=X,fe(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(B(L(F))+" M"),this},h.GState=zS,h.setGState=function(F){(F=typeof F=="string"?cn[wt[F]]:jc(null,F)).equals(Zn)||(fe("/"+F.id+" gs"),Zn=F)};var jc=function(F,X){if(!F||!wt[F]){var me=!1;for(var Be in cn)if(cn.hasOwnProperty(Be)&&cn[Be].equals(X)){me=!0;break}if(me)X=cn[Be];else{var Ue="GS"+(Object.keys(cn).length+1).toString(10);cn[Ue]=X,X.id=Ue}return F&&(wt[F]=X.id),En.publish("addGState",X),X}};h.addGState=function(F,X){return jc(F,X),this},h.saveGraphicsState=function(){return fe("q"),St.push({key:bt,size:Ye,color:Fa}),this},h.restoreGraphicsState=function(){fe("Q");var F=St.pop();return bt=F.key,Ye=F.size,Fa=F.color,Zn=null,this},h.setCurrentTransformationMatrix=function(F){return fe(F.toString()+" cm"),this},h.comment=function(F){return fe("#"+F),this};var uo=function(F,X){var me=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(rt){isNaN(rt)||(me=parseFloat(rt))}});var Be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(rt){isNaN(rt)||(Be=parseFloat(rt))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(rt){Ue=rt.toString()}}),this},il=function(F,X,me,Be){uo.call(this,F,X),this.type="rect";var Ue=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(at){isNaN(at)||(Ue=parseFloat(at))}});var rt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(at){isNaN(at)||(rt=parseFloat(at))}}),this},al=function(){this.page=gn,this.currentPage=$,this.pages=xe.slice(0),this.pagesContext=Kt.slice(0),this.x=tt,this.y=Qt,this.matrix=ft,this.width=Us($),this.height=Ao($),this.outputDestination=Ve,this.id="",this.objectNumber=-1};al.prototype.restore=function(){gn=this.page,$=this.currentPage,Kt=this.pagesContext,xe=this.pages,tt=this.x,Qt=this.y,ft=this.matrix,Ic($,this.width),es($,this.height),Ve=this.outputDestination};var ql=function(F,X,me,Be,Ue){Fe.push(new al),gn=$=0,xe=[],tt=F,Qt=X,ft=Ue,fs([me,Be])};for(var Yl in h.beginFormObject=function(F,X,me,Be,Ue){return ql(F,X,me,Be,Ue),this},h.endFormObject=function(F){return function(X){if(Pa[X])Fe.pop().restore();else{var me=new al,Be="Xo"+(Object.keys(Ir).length+1).toString(10);me.id=Be,Pa[X]=Be,Ir[Be]=me,En.publish("addFormObject",me),Fe.pop().restore()}}(F),this},h.doFormObject=function(F,X){var me=Ir[Pa[F]];return fe("q"),fe(X.toString()+" cm"),fe("/"+me.id+" Do"),fe("Q"),this},h.getFormObject=function(F){var X=Ir[Pa[F]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(F,X){return F=F||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(nh(Ds(er()),F),typeof nh.unload=="function"&&kn.setTimeout&&setTimeout(nh.unload,911),this):new Promise(function(me,Be){try{var Ue=nh(Ds(er()),F);typeof nh.unload=="function"&&kn.setTimeout&&setTimeout(nh.unload,911),me(Ue)}catch(rt){Be(rt.message)}})},mn.API)mn.API.hasOwnProperty(Yl)&&(Yl==="events"&&mn.API.events.length?function(F,X){var me,Be,Ue;for(Ue=X.length-1;Ue!==-1;Ue--)me=X[Ue][0],Be=X[Ue][1],F.subscribe.apply(F,[me].concat(typeof Be=="function"?[Be]:Be))}(En,mn.API.events):h[Yl]=mn.API[Yl]);function Us(F){return Kt[F].mediaBox.topRightX-Kt[F].mediaBox.bottomLeftX}function Ic(F,X){Kt[F].mediaBox.topRightX=X+Kt[F].mediaBox.bottomLeftX}function Ao(F){return Kt[F].mediaBox.topRightY-Kt[F].mediaBox.bottomLeftY}function es(F,X){Kt[F].mediaBox.topRightY=X+Kt[F].mediaBox.bottomLeftY}var Xl=h.getPageWidth=function(F){return Us(F=F||$)/yt},sl=h.setPageWidth=function(F,X){Ic(F,X*yt)},hs=h.getPageHeight=function(F){return Ao(F=F||$)/yt},vu=h.setPageHeight=function(F,X){es(F,X*yt)};return h.internal={pdfEscape:Mi,getStyle:co,getFont:ia,getFontSize:mt,getCharSpace:rA,getTextColor:Rs,getLineHeight:Bc,getLineHeightFactor:nA,getLineWidth:tn,write:$e,getHorizontalCoordinate:Zr,getVerticalCoordinate:rl,getCoordinateString:Ms,getVerticalCoordinateString:Kl,collections:{},newObject:bn,newAdditionalObject:pn,newObjectDeferred:Gn,newObjectDeferredBegin:Rt,getFilters:Xn,putStream:yr,events:En,scaleFactor:yt,pageSize:{getWidth:function(){return Xl($)},setWidth:function(F){sl($,F)},getHeight:function(){return hs($)},setHeight:function(F){vu($,F)}},encryptionOptions:A,encryption:br,getEncryptor:function(F){return A!==null?br.encryptor(F,0):function(X){return X}},output:Ca,getNumberOfPages:Vl,pages:xe,out:fe,f2:T,f3:O,getPageInfo:Da,getPageInfoByObjId:el,getCurrentPageInfo:Sc,getPDFVersion:m,Point:uo,Rectangle:il,Matrix:Pe,hasHotfix:Os},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Xl($)},set:function(F){sl($,F)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return hs($)},set:function(F){vu($,F)},enumerable:!0,configurable:!0}),(function(F){for(var X=0,me=vt.length;X<me;X++){var Be=oo.call(this,F[X][0],F[X][1],F[X][2],vt[X][3],!0);d===!1&&(f[Be]=!0);var Ue=F[X][0].split("-");hu({id:Be,fontName:Ue[0],fontStyle:Ue[1]||""})}En.publish("addFonts",{fonts:gt,dictionary:Ft})}).call(h,vt),bt="F1",zl(i,n),En.publish("initialized"),h}Zp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Zp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zp.prototype.processOwnerPassword=function(t,e){return Tk(Ik(e).substr(0,5),t)},Zp.prototype.encryptor=function(t,e){var n=Ik(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Tk(n,r)}},zS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Vr(t)!==Vr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},mn.API={events:[]},mn.version="3.0.3";var qi=mn.API,kF=1,_p=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mn=function(t){return t.toFixed(2)},gd=function(t){return t.toFixed(5)};qi.__acroform__={};var Yo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},SV=function(t){return t*kF},Cu=function(t){var e=new dae,n=ln.internal.getHeight(t)||0,r=ln.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mn(r)),Number(Mn(n))],e},Wat=qi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Gat=qi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},qat=qi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ma=qi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qat(t,e-1)},ga=qi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wat(t,e-1)},va=qi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gat(t,e-1)},Yat=qi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(Mn(l.lowerLeft_X)),Number(Mn(l.lowerLeft_Y)),Number(Mn(l.upperRight_X)),Number(Mn(l.upperRight_Y))]},Xat=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=kk(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Mn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Cu(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},kk=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=n,s=ln.internal.getHeight(t)||0;s=s<0?-s:s;var o=ln.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,O,L){if(T+1<i.length){var H=O+" "+i[T+1][0];return _w(H,t,L).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,A,d=_w("3",t,a).height,f=t.multiline?s-a:(s-d)/2,h=f+=2,p=0,m=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+_w(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",y=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var C=!1;if(i[x].length!==1&&v!==i[x].length-1){if((d+2)*(y+2)+2>s)continue e;g+=i[x][v],C=!0,m=x,x--}else{g=(g+=i[x][v]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(x),j=l(E,g,a),_=x>=i.length-1;if(j&&!_){g+=" ",v=0;continue}if(j||_){if(_)m=E;else if(t.multiline&&(d+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(y+2)+2>s)continue e;m=E}}for(var B="",N=p;N<=m;N++){var D=i[N];if(t.multiline){if(N===m){B+=D[v]+" ",v=(v+1)%D.length;continue}if(N===p){B+=D[D.length-1]+" ";continue}}B+=D[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,A=_w(B,t,a).width,t.textAlign){case"right":u=o-A-2;break;case"center":u=(o-A)/2;break;default:u=2}e+=Mn(u)+" "+Mn(h)+` Td
`,e+="("+_p(B)+`) Tj
`,e+=-Mn(u)+` 0 Td
`,h=-(a+2),A=0,p=C?m:m+1,y++,g=""}break}return r.text=e,r.fontSize=a,r},_w=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Jat={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Zat=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},est=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(du.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Jat)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kF=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new fae,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Zat(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=Yat(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ln.createDefaultAppearanceStream(o),Vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=Xat(o);l.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var p=h[s];typeof p=="function"&&(p=p.call(i,o)),d+="/"+s+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,o)),d+="/"+s+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,v){for(var g in m)if(m.hasOwnProperty(g)){var y=g,x=m[g];v.internal.newObjectDeferredBegin(x.objId,!0),Vr(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete m[y]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Aae=qi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Vr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+_p(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d4=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+_p(r(t))+")"},ku=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ku.prototype.toString=function(){return this.objId+" 0 R"},ku.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ku.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Aae(i,this.objId,this.scope)}):i instanceof ku?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var dae=function(){ku.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Yo(dae,ku);var fae=function(){ku.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_p(n(t))+")"}},set:function(n){t=n}})};Yo(fae,ku);var du=function t(){ku.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ma(e,3)},set:function(g){g?this.F=ga(e,3):this.F=va(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof VS)return;a="FieldObject"+t.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+_p(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/kF:u},set:function(g){u=g}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(g){A=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof VS||this instanceof Dh))return d4(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ss==0?d4(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof ss==0?g.substr(0,1)==="("?Hp(g.substr(1,g.length-2)):Hp(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Hp(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof ss==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ss==0?d4(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof ss==0?g.substr(0,1)==="("?Hp(g.substr(1,g.length-2)):Hp(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Hp(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof ss==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,1)},set:function(g){g?this.Ff=ga(this.Ff,1):this.Ff=va(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,2)},set:function(g){g?this.Ff=ga(this.Ff,2):this.Ff=va(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,3)},set:function(g){g?this.Ff=ga(this.Ff,3):this.Ff=va(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');v=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(v){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Yo(du,ku);var $m=function(){du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Aae(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,18)},set:function(n){n?this.Ff=ga(this.Ff,18):this.Ff=va(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ga(this.Ff,19):this.Ff=va(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,20)},set:function(n){n?(this.Ff=ga(this.Ff,20),e.sort()):this.Ff=va(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,22)},set:function(n){n?this.Ff=ga(this.Ff,22):this.Ff=va(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(n){n?this.Ff=ga(this.Ff,23):this.Ff=va(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,27)},set:function(n){n?this.Ff=ga(this.Ff,27):this.Ff=va(this.Ff,27)}}),this.hasAppearanceStream=!1};Yo($m,du);var Km=function(){$m.call(this),this.fontName="helvetica",this.combo=!1};Yo(Km,$m);var Wm=function(){Km.call(this),this.combo=!0};Yo(Wm,Km);var f2=function(){Wm.call(this),this.edit=!0};Yo(f2,Wm);var ss=function(){du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,15)},set:function(n){n?this.Ff=ga(this.Ff,15):this.Ff=va(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,16)},set:function(n){n?this.Ff=ga(this.Ff,16):this.Ff=va(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,17)},set:function(n){n?this.Ff=ga(this.Ff,17):this.Ff=va(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(n){n?this.Ff=ga(this.Ff,26):this.Ff=va(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+_p(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Vr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Yo(ss,du);var h2=function(){ss.call(this),this.pushButton=!0};Yo(h2,ss);var Gm=function(){ss.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Yo(Gm,ss);var VS=function(){var t,e;du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+_p(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Vr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ln.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yo(VS,du),Gm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Gm.prototype.createOption=function(t){var e=new VS;return e.Parent=this,e.optionName=t,this.Kids.push(e),tst.call(this.scope,e),e};var p2=function(){ss.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ln.CheckBox.createAppearanceStream()};Yo(p2,ss);var Dh=function(){du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,13)},set:function(e){e?this.Ff=ga(this.Ff,13):this.Ff=va(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,21)},set:function(e){e?this.Ff=ga(this.Ff,21):this.Ff=va(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(e){e?this.Ff=ga(this.Ff,23):this.Ff=va(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,24)},set:function(e){e?this.Ff=ga(this.Ff,24):this.Ff=va(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,25)},set:function(e){e?this.Ff=ga(this.Ff,25):this.Ff=va(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(e){e?this.Ff=ga(this.Ff,26):this.Ff=va(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yo(Dh,du);var m2=function(){Dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,14)},set:function(t){t?this.Ff=ga(this.Ff,14):this.Ff=va(this.Ff,14)}}),this.password=!0};Yo(m2,Dh);var ln={CheckBox:{createAppearanceStream:function(){return{N:{On:ln.CheckBox.YesNormal},D:{On:ln.CheckBox.YesPushDown,Off:ln.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Cu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=kk(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Mn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Cu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=ln.internal.getHeight(t),s=ln.internal.getWidth(t),o=kk(t,t.caption);return i.push("1 g"),i.push("0 0 "+Mn(s)+" "+Mn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mn(s-1)+" "+Mn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Mn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Cu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ln.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ln.RadioButton.Circle.YesNormal,e.D[t]=ln.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Cu(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ln.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+gd(ln.internal.getWidth(t)/2)+" "+gd(ln.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Cu(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ln.internal.Bezier_C).toFixed(5)),s=Number((r*ln.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gd(ln.internal.getWidth(t)/2)+" "+gd(ln.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+gd(ln.internal.getWidth(t)/2)+" "+gd(ln.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Cu(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ln.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gd(ln.internal.getWidth(t)/2)+" "+gd(ln.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ln.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ln.RadioButton.Cross.YesNormal,e.D[t]=ln.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Cu(t);e.scope=t.scope;var n=[],r=ln.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Mn(ln.internal.getWidth(t)-2)+" "+Mn(ln.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mn(r.x1.x)+" "+Mn(r.x1.y)+" m"),n.push(Mn(r.x2.x)+" "+Mn(r.x2.y)+" l"),n.push(Mn(r.x4.x)+" "+Mn(r.x4.y)+" m"),n.push(Mn(r.x3.x)+" "+Mn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Cu(t);e.scope=t.scope;var n=ln.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Mn(ln.internal.getWidth(t)-2)+" "+Mn(ln.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mn(n.x1.x)+" "+Mn(n.x1.y)+" m"),r.push(Mn(n.x2.x)+" "+Mn(n.x2.y)+" l"),r.push(Mn(n.x4.x)+" "+Mn(n.x4.y)+" m"),r.push(Mn(n.x3.x)+" "+Mn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Cu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ln.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ln.internal.getWidth(t),n=ln.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ln.internal.getWidth=function(t){var e=0;return Vr(t)==="object"&&(e=SV(t.Rect[2])),e},ln.internal.getHeight=function(t){var e=0;return Vr(t)==="object"&&(e=SV(t.Rect[3])),e};var tst=qi.addField=function(t){if(est(this,t),!(t instanceof du))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};qi.AcroFormChoiceField=$m,qi.AcroFormListBox=Km,qi.AcroFormComboBox=Wm,qi.AcroFormEditBox=f2,qi.AcroFormButton=ss,qi.AcroFormPushButton=h2,qi.AcroFormRadioButton=Gm,qi.AcroFormCheckBox=p2,qi.AcroFormTextField=Dh,qi.AcroFormPasswordField=m2,qi.AcroFormAppearance=ln,qi.AcroForm={ChoiceField:$m,ListBox:Km,ComboBox:Wm,EditBox:f2,Button:ss,PushButton:h2,RadioButton:Gm,CheckBox:p2,TextField:Dh,PasswordField:m2,Appearance:ln},mn.AcroForm={ChoiceField:$m,ListBox:Km,ComboBox:Wm,EditBox:f2,Button:ss,PushButton:h2,RadioButton:Gm,CheckBox:p2,TextField:Dh,PasswordField:m2,Appearance:ln};mn.AcroForm;function hae(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,O){var L,H,q,Y,ee,K=n;if((O=O||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(j(T))for(ee in r)for(q=r[ee],L=0;L<q.length;L+=1){for(Y=!0,H=0;H<q[L].length;H+=1)if(q[L][H]!==void 0&&q[L][H]!==T[H]){Y=!1;break}if(Y===!0){K=ee;break}}else for(ee in r)for(q=r[ee],L=0;L<q.length;L+=1){for(Y=!0,H=0;H<q[L].length;H+=1)if(q[L][H]!==void 0&&q[L][H]!==T.charCodeAt(H)){Y=!1;break}if(Y===!0){K=ee;break}}return K===n&&O!==n&&(K=O),K},a=function T(O){for(var L=this.internal.write,H=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===g.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===g.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var ee="",K=0,te=O.transparency.length;K<te;K++)ee+=O.transparency[K]+" "+O.transparency[K]+" ";Y.push({key:"Mask",value:"["+ee+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var le=O.filter!==void 0?["/"+O.filter]:void 0;if(H({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:le,objectId:O.objectId}),L("endobj"),"sMask"in O&&O.sMask!==void 0){var se,M=(se=O.sMaskBitsPerComponent)!==null&&se!==void 0?se:O.bitsPerComponent,$={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:O.sMask};"filter"in O&&($.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(O.width),$.filter=O.filter),T.call(this,$)}if(O.colorSpace===g.INDEXED){var J=this.internal.newObject();H({data:B(new Uint8Array(O.palette)),objectId:J}),L("endobj")}},s=function(){var T=this.internal.collections[e+"images"];for(var O in T)a.call(this,T[O])},o=function(){var T,O=this.internal.collections[e+"images"],L=this.internal.write;for(var H in O)L("/I"+(T=O[H]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(T){return typeof t["process"+T.toUpperCase()]=="function"},f=function(T){return Vr(T)==="object"&&T.nodeType===1},h=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return d2(unescape(L).split("base64,").pop());var H=t.loadFile(L,!0);if(H!==void 0)return H}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var q;switch(O){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return d2(T.toDataURL(q,1).split("base64,").pop())}},p=function(T){var O=this.internal.collections[e+"images"];if(O){for(var L in O)if(T===O[L].alias)return O[L]}},m=function(T,O,L){return T||O||(T=-96,O=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*L.height*72/O/this.internal.scaleFactor),T===0&&(T=O*L.width/L.height),O===0&&(O=T*L.height/L.width),[T,O]},v=function(T,O,L,H,q,Y){var ee=m.call(this,L,H,q),K=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,le=u.call(this);if(L=ee[0],H=ee[1],le[q.index]=q,Y){Y*=Math.PI/180;var se=Math.cos(Y),M=Math.sin(Y),$=function(ne){return ne.toFixed(4)},J=[$(se),$(M),$(-1*M),$(se),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,K(T),te(O+H),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([K(L),"0","0",K(H),"0","0","cm"].join(" "))):this.internal.write([K(L),"0","0",K(H),K(T),te(O+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(T){var O,L,H=0;if(typeof T=="string")for(L=T.length,O=0;O<L;O++)H=(H<<5)-H+T.charCodeAt(O),H|=0;else if(j(T))for(L=T.byteLength/2,O=0;O<L;O++)H=(H<<5)-H+T[O],H|=0;return H},C=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},E=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var O=T.indexOf(",");return O<0?null:T.substring(0,O).trim().endsWith("base64")?T.substring(O+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var j=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},_=t.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,L=new Uint8Array(O),H=0;H<O;H++)L[H]=T.charCodeAt(H);return L},B=t.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",L=j(T)?T:new Uint8Array(T),H=0;H<L.length;H+=8192)O+=String.fromCharCode.apply(null,L.subarray(H,H+8192));return O};t.addImage=function(){var T,O,L,H,q,Y,ee,K,te;if(typeof arguments[1]=="number"?(O=n,L=arguments[1],H=arguments[2],q=arguments[3],Y=arguments[4],ee=arguments[5],K=arguments[6],te=arguments[7]):(O=arguments[1],L=arguments[2],H=arguments[3],q=arguments[4],Y=arguments[5],ee=arguments[6],K=arguments[7],te=arguments[8]),Vr(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var le=T;T=le.imageData,O=le.format||O||n,L=le.x||L||0,H=le.y||H||0,q=le.w||le.width||q,Y=le.h||le.height||Y,ee=le.alias||ee,K=le.compression||K,te=le.rotation||le.angle||te}var se=this.internal.getFilters();if(K===void 0&&se.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(L)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=N.call(this,T,O,ee,K);return v.call(this,L,H,q,Y,M,te),this};var N=function(T,O,L,H){var q,Y,ee;if(typeof T=="string"&&i(T)===n){T=unescape(T);var K=D(T,!1);(K!==""||(K=t.loadFile(T,!0))!==void 0)&&(T=K)}if(f(T)&&(T=h(T,O)),O=i(T,O),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ee=L)==null||ee.length===0)&&(L=function(te){return typeof te=="string"||j(te)?x(te):j(te.data)?x(te.data):null}(T)),(q=p.call(this,L))||(T instanceof Uint8Array||O==="RGBA"||(Y=T,T=_(T)),q=this["process"+O.toUpperCase()](T,A.call(this),L,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:y.NONE}(H),Y)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},D=t.__addimage__.convertBase64ToBinaryString=function(T,O){O=typeof O!="boolean"||O;var L,H="";if(typeof T=="string"){var q;L=(q=E(T))!==null&&q!==void 0?q:T;try{H=d2(L)}catch(Y){if(O)throw C(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(T){var O,L,H="";if(f(T)&&(T=h(T)),typeof T=="string"&&i(T)===n&&((H=D(T,!1))===""&&(H=t.loadFile(T)||""),T=H),L=i(T),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(T instanceof Uint8Array||(T=_(T)),!(O=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=L,O}})(mn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};mn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,A=!1,d=0;d<u.length&&!A;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(g(y))+") >>",m.content=a;var x=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var j=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+j+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var A=this.splitTextToSize(n,o).length;s=Math.ceil(u*A)}else o=l,s=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(mn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var A=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var v=0,g=n,y="",x=0;for(v=0;v<m.length;v+=1)g[m.charCodeAt(v)]!==void 0?(x++,typeof(g=g[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(g),g=n,x=0),v===m.length-1&&(g=n,y+=m.charAt(v-(x-1)),v-=x-1,x=0)):(g=n,y+=m.charAt(v-x),v-=x,x=0);return y};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(m,v,g){return s(m)?a(m)===!1?-1:!u(m)||!s(v)&&!s(g)||!s(g)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:A(m)&&s(v)&&!o(v)&&s(g)&&u(g)?3:o(m)||!s(g)?1:2:-1},h=function(m){var v=0,g=0,y=0,x="",C="",E="",j=(m=m||"").split("\\s+"),_=[];for(v=0;v<j.length;v+=1){for(_.push(""),g=0;g<j[v].length;g+=1)x=j[v][g],C=j[v][g-1],E=j[v][g+1],s(x)?(y=f(x,C,E),_[v]+=y!==-1?String.fromCharCode(e[x.charCodeAt(0)][y]):x):_[v]+=x;_[v]=d(_[v])}return _.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(v)){var y=0;for(g=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?g.push([h(v[y][0]),v[y][1],v[y][2]]):g.push([h(v[y])]);m=g}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(mn.API),mn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,C){return x.concat(v.splitTextToSize(C,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(m=this.getStringUnitWidth(l[y],{font:d})*A)&&(h=m);return h!==0&&(p=l.length),{w:h/=f,h:Math.max((p*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-A,l.y+A,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+A,{align:"center",baseline:"top",maxWidth:l.width-A-A}):this.text(l.text,l.x+A,l.y+A,{align:"left",baseline:"top",maxWidth:l.width-A-A})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,A,d,f){if(r.call(this),!A)throw new Error("No data for PDF table.");var h,p,m,v,g=[],y=[],x=[],C={},E={},j=[],_=[],B=(f=f||{}).autoSize||!1,N=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,T=f.margins||Object.assign({width:this.getPageWidth()},e),O=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",H=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=H,this.setFontSize(D),d==null)y=g=Object.keys(A[0]),x=g.map(function(){return"left"});else if(Array.isArray(d)&&Vr(d[0])==="object")for(g=d.map(function(le){return le.name}),y=d.map(function(le){return le.prompt||le.name||""}),x=d.map(function(le){return le.align||"left"}),h=0;h<d.length;h+=1)E[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(y=g=d,x=g.map(function(){return"left"}));if(B||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<g.length;h+=1){for(C[v=g[h]]=A.map(function(le){return le[v]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=C[v],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)j.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,j)+O+O,j=[]}if(N){var q={};for(h=0;h<g.length;h+=1)q[g[h]]={},q[g[h]].text=y[h],q[g[h]].align=x[h];var Y=o.call(this,q,E);_=g.map(function(le){return new a(l,u,E[le],Y,q[le].text,void 0,q[le].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var ee=d.reduce(function(le,se){return le[se.name]=se.align,le},{});for(h=0;h<A.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:A[h]},this);var K=o.call(this,A[h],E);for(m=0;m<g.length;m+=1){var te=A[h][g[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:te},this),s.call(this,new a(l,u,E[g[m]],K,te,h+2,ee[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var A=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-A-A)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+A+A},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){A=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,f.push(A)),A.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,A),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(mn.API);var pae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Pk=hae(mae),gae=[100,200,300,400,500,600,700,800,900],nst=hae(gae);function f4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return pae[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof Pk[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function EV(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var rst={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_V={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BV(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function NV(t){return t.trimLeft()}function ist(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function ast(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Bw,jV,IV,zp,Nw,TV,kV,PV,h4=["times"];function DV(t,e,n,r,i){var a=4,s=FV;switch(i){case mn.API.image_compression.FAST:a=1,s=OV;break;case mn.API.image_compression.MEDIUM:a=6,s=LV;break;case mn.API.image_compression.SLOW:a=9,s=MV}t=function(l,u,A,d){for(var f,h=l.length/u,p=new Uint8Array(l.length+h),m=[sst,OV,FV,LV,MV],v=0;v<h;v+=1){var g=v*u,y=l.subarray(g,g+u);if(d)p.set(d(y,A,f),g+v);else{for(var x=m.length,C=[],E=0;E<x;E+=1)C[E]=m[E](y,A,f);var j=lst(C.concat());p.set(C[j],g+v)}f=y}return p}(t,e,Math.ceil(n*r/8),s);var o=_k(t,{level:a});return mn.API.__addimage__.arrayBufferToBinaryString(o)}function sst(t){var e=Array.apply([],t);return e.unshift(0),e}function OV(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function FV(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function LV(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function MV(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=ost(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function ost(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function lst(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function p4(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return vae(t,i)>>a&s}function RV(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(u,A,d){if(A+1<u.byteLength)u.setUint16(A,d,!1);else{var f=d>>8&255;u.setUint8(A,f)}})(t,a,vae(t,a)&~(o<<s)&65535|l)}function vae(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function cst(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var u=!0,A=[],d=0,f=null,h=0,p=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],1&m||(f=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,C=t[e++],E=C>>6&1,j=1<<1+(7&C),_=o,B=l,N=!1;C>>7&&(N=!0,_=e,B=j,e+=3*j);var D=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}A.push({x:v,y:g,width:y,height:x,has_local_palette:N,palette_offset:_,palette_size:B,data_offset:D,data_length:e-D,transparent_index:f,interlaced:!!E,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return p},this.frameInfo=function(O){if(O<0||O>=A.length)throw new Error("Frame index out of range.");return A[O]},this.decodeAndBlitFrameBGRA=function(O,L){var H=this.frameInfo(O),q=H.width*H.height,Y=new Uint8Array(q);UV(t,H.data_offset,Y,q);var ee=H.palette_offset,K=H.transparent_index;K===null&&(K=256);var te=H.width,le=n-te,se=te,M=4*(H.y*n+H.x),$=4*((H.y+H.height)*n+H.x),J=M,ne=4*le;H.interlaced===!0&&(ne+=4*n*7);for(var he=8,we=0,Se=Y.length;we<Se;++we){var Ae=Y[we];if(se===0&&(se=te,(J+=ne)>=$&&(ne=4*le+4*n*(he-1),J=M+(te+le)*(he<<1),he>>=1)),Ae===K)J+=4;else{var ge=t[ee+3*Ae],xe=t[ee+3*Ae+1],ae=t[ee+3*Ae+2];L[J++]=ae,L[J++]=xe,L[J++]=ge,L[J++]=255}--se}},this.decodeAndBlitFrameRGBA=function(O,L){var H=this.frameInfo(O),q=H.width*H.height,Y=new Uint8Array(q);UV(t,H.data_offset,Y,q);var ee=H.palette_offset,K=H.transparent_index;K===null&&(K=256);var te=H.width,le=n-te,se=te,M=4*(H.y*n+H.x),$=4*((H.y+H.height)*n+H.x),J=M,ne=4*le;H.interlaced===!0&&(ne+=4*n*7);for(var he=8,we=0,Se=Y.length;we<Se;++we){var Ae=Y[we];if(se===0&&(se=te,(J+=ne)>=$&&(ne=4*le+4*n*(he-1),J=M+(te+le)*(he<<1),he>>=1)),Ae===K)J+=4;else{var ge=t[ee+3*Ae],xe=t[ee+3*Ae+1],ae=t[ee+3*Ae+2];L[J++]=ge,L[J++]=xe,L[J++]=ae,L[J++]=255}--se}}}function UV(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,A=0,d=0,f=0,h=t[e++],p=new Int32Array(4096),m=null;;){for(;A<16&&h!==0;)d|=t[e++]<<A,A+=8,h===1?h=t[e++]:--h;if(A<l)break;var v=d&u;if(d>>=l,A-=l,v!==a){if(v===s)break;for(var g=v<o?v:m,y=0,x=g;x>a;)x=p[x]>>8,++y;var C=x;if(f+y+(g!==v?1:0)>r)return void ni.log("Warning, gif stream longer than expected.");n[f++]=C;var E=f+=y;for(g!==v&&(n[f++]=C),x=g;y--;)x=p[x],n[--E]=255&x,x>>=8;m!==null&&o<4096&&(p[o++]=m<<8|C,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=v}else o=s+1,u=(1<<(l=i+1))-1,m=null}return f!==r&&ni.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function m4(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),A=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),m=[],v=0,g=7,y=new Array(64),x=new Array(64),C=new Array(64),E=new Array(256),j=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(M,$){for(var J=0,ne=0,he=new Array,we=1;we<=16;we++){for(var Se=1;Se<=M[we];Se++)he[$[ne]]=[],he[$[ne]][0]=J,he[$[ne]][1]=we,ne++,J++;J*=2}return he}function ee(M){for(var $=M[0],J=M[1]-1;J>=0;)$&1<<J&&(v|=1<<g),J--,--g<0&&(v==255?(K(255),K(0)):K(v),g=7,v=0)}function K(M){m.push(M)}function te(M){K(M>>8&255),K(255&M)}function le(M,$,J,ne,he){for(var we,Se=he[0],Ae=he[240],ge=function(Ye,Dt){var mt,ct,jt,Xt,Zt,Ut,rn,st,bt,yt,tt=0;for(bt=0;bt<8;++bt){mt=Ye[tt],ct=Ye[tt+1],jt=Ye[tt+2],Xt=Ye[tt+3],Zt=Ye[tt+4],Ut=Ye[tt+5],rn=Ye[tt+6];var Qt=mt+(st=Ye[tt+7]),ft=mt-st,gt=ct+rn,Ft=ct-rn,St=jt+Ut,Vt=jt-Ut,hn=Xt+Zt,cn=Xt-Zt,wt=Qt+hn,Zn=Qt-hn,gn=gt+St,Kt=gt-St;Ye[tt]=wt+gn,Ye[tt+4]=wt-gn;var En=.707106781*(Kt+Zn);Ye[tt+2]=Zn+En,Ye[tt+6]=Zn-En;var Vi=.382683433*((wt=cn+Vt)-(Kt=Ft+ft)),Ir=.5411961*wt+Vi,Pa=1.306562965*Kt+Vi,Fe=.707106781*(gn=Vt+Ft),Pe=ft+Fe,We=ft-Fe;Ye[tt+5]=We+Ir,Ye[tt+3]=We-Ir,Ye[tt+1]=Pe+Pa,Ye[tt+7]=Pe-Pa,tt+=8}for(tt=0,bt=0;bt<8;++bt){mt=Ye[tt],ct=Ye[tt+8],jt=Ye[tt+16],Xt=Ye[tt+24],Zt=Ye[tt+32],Ut=Ye[tt+40],rn=Ye[tt+48];var Et=mt+(st=Ye[tt+56]),ut=mt-st,qt=ct+rn,bn=ct-rn,Gn=jt+Ut,Rt=jt-Ut,pn=Xt+Zt,Xr=Xt-Zt,gr=Et+pn,Or=Et-pn,vr=qt+Gn,Xn=qt-Gn;Ye[tt]=gr+vr,Ye[tt+32]=gr-vr;var yr=.707106781*(Xn+Or);Ye[tt+16]=Or+yr,Ye[tt+48]=Or-yr;var Jr=.382683433*((gr=Xr+Rt)-(Xn=bn+ut)),xa=.5411961*gr+Jr,Li=1.306562965*Xn+Jr,Xo=.707106781*(vr=Rt+bn),Jo=ut+Xo,Tr=ut-Xo;Ye[tt+40]=Tr+xa,Ye[tt+24]=Tr-xa,Ye[tt+8]=Jo+Li,Ye[tt+56]=Jo-Li,tt++}for(bt=0;bt<64;++bt)yt=Ye[bt]*Dt[bt],h[bt]=yt>0?yt+.5|0:yt-.5|0;return h}(M,$),xe=0;xe<64;++xe)p[_[xe]]=ge[xe];var ae=p[0]-J;J=p[0],ae==0?ee(ne[0]):(ee(ne[f[we=32767+ae]]),ee(d[we]));for(var Ve=63;Ve>0&&p[Ve]==0;)Ve--;if(Ve==0)return ee(Se),J;for(var Oe,fe=1;fe<=Ve;){for(var $e=fe;p[fe]==0&&fe<=Ve;)++fe;var ht=fe-$e;if(ht>=16){Oe=ht>>4;for(var vt=1;vt<=Oe;++vt)ee(Ae);ht&=15}we=32767+p[fe],ee(he[(ht<<4)+f[we]]),ee(d[we]),fe++}return Ve!=63&&ee(Se),J}function se(M){M=Math.min(Math.max(M,1),100),a!=M&&(function($){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var he=s((J[ne]*$+50)/100);he=Math.min(Math.max(he,1),255),o[_[ne]]=he}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ae=s((we[Se]*$+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[_[Se]]=Ae}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ae=0;ae<8;ae++)for(var Ve=0;Ve<8;Ve++)u[xe]=1/(o[_[xe]]*ge[ae]*ge[Ve]*8),A[xe]=1/(l[_[xe]]*ge[ae]*ge[Ve]*8),xe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,$){$&&se($),m=new Array,v=0,g=7,te(65496),te(65504),te(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),te(1),te(1),K(0),K(0),function(){te(65499),te(132),K(0);for(var ct=0;ct<64;ct++)K(o[ct]);K(1);for(var jt=0;jt<64;jt++)K(l[jt])}(),function(ct,jt){te(65472),te(17),K(8),te(jt),te(ct),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){te(65476),te(418),K(0);for(var ct=0;ct<16;ct++)K(B[ct+1]);for(var jt=0;jt<=11;jt++)K(N[jt]);K(16);for(var Xt=0;Xt<16;Xt++)K(D[Xt+1]);for(var Zt=0;Zt<=161;Zt++)K(T[Zt]);K(1);for(var Ut=0;Ut<16;Ut++)K(O[Ut+1]);for(var rn=0;rn<=11;rn++)K(L[rn]);K(17);for(var st=0;st<16;st++)K(H[st+1]);for(var bt=0;bt<=161;bt++)K(q[bt])}(),te(65498),te(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var J=0,ne=0,he=0;v=0,g=7,this.encode.displayName="_encode_";for(var we,Se,Ae,ge,xe,ae,Ve,Oe,fe,$e=M.data,ht=M.width,vt=M.height,Ye=4*ht,Dt=0;Dt<vt;){for(we=0;we<Ye;){for(xe=Ye*Dt+we,Ve=-1,Oe=0,fe=0;fe<64;fe++)ae=xe+(Oe=fe>>3)*Ye+(Ve=4*(7&fe)),Dt+Oe>=vt&&(ae-=Ye*(Dt+1+Oe-vt)),we+Ve>=Ye&&(ae-=we+Ve-Ye+4),Se=$e[ae++],Ae=$e[ae++],ge=$e[ae++],y[fe]=(j[Se]+j[Ae+256|0]+j[ge+512|0]>>16)-128,x[fe]=(j[Se+768|0]+j[Ae+1024|0]+j[ge+1280|0]>>16)-128,C[fe]=(j[Se+1280|0]+j[Ae+1536|0]+j[ge+1792|0]>>16)-128;J=le(y,u,J,e,r),ne=le(x,A,ne,n,i),he=le(C,A,he,n,i),we+=32}Dt+=8}if(g>=0){var mt=[];mt[1]=g+1,mt[0]=(1<<g+1)-1,ee(mt)}return te(65497),new Uint8Array(m)},t=t||50,function(){for(var M=String.fromCharCode,$=0;$<256;$++)E[$]=M($)}(),e=Y(B,N),n=Y(O,L),r=Y(D,T),i=Y(H,q),function(){for(var M=1,$=2,J=1;J<=15;J++){for(var ne=M;ne<$;ne++)f[32767+ne]=J,d[32767+ne]=[],d[32767+ne][1]=J,d[32767+ne][0]=ne;for(var he=-($-1);he<=-M;he++)f[32767+he]=J,d[32767+he]=[],d[32767+he][1]=J,d[32767+he][0]=$-1+he;M<<=1,$<<=1}}(),function(){for(var M=0;M<256;M++)j[M]=19595*M,j[M+256|0]=38470*M,j[M+512|0]=7471*M+32768,j[M+768|0]=-11059*M,j[M+1024|0]=-21709*M,j[M+1280|0]=32768*M+8421375,j[M+1536|0]=-27439*M,j[M+1792|0]=-5329*M}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QV(t){function e(N){if(!N)throw Error("assert :P")}function n(N,D,T){for(var O=0;4>O;O++)if(N[D+O]!=T.charCodeAt(O))return!0;return!1}function r(N,D,T,O,L){for(var H=0;H<L;H++)N[D+H]=T[O+H]}function i(N,D,T,O){for(var L=0;L<O;L++)N[D+L]=T}function a(N){return new Int32Array(N)}function s(N,D){for(var T=[],O=0;O<N;O++)T.push(new D);return T}function o(N,D){var T=[];return function O(L,H,q){for(var Y=q[H],ee=0;ee<Y&&(L.push(q.length>H+1?[]:new D),!(q.length<H+1));ee++)O(L[ee],H+1,q)}(T,0,N),T}var l=function(){var N=this;function D(b,I){for(var R=1<<I-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function T(b,I,R,z,Z){e(!(z%R));do b[I+(z-=R)]=Z;while(0<z)}function O(b,I,R,z,Z){if(e(2328>=Z),512>=Z)var ie=a(512);else if((ie=a(Z))==null)return 0;return function(oe,ce,de,ve,ke,Ge){var ye,Me,ze=ce,it=1<<de,Ke=a(16),lt=a(16);for(e(ke!=0),e(ve!=null),e(oe!=null),e(0<de),Me=0;Me<ke;++Me){if(15<ve[Me])return 0;++Ke[ve[Me]]}if(Ke[0]==ke)return 0;for(lt[1]=0,ye=1;15>ye;++ye){if(Ke[ye]>1<<ye)return 0;lt[ye+1]=lt[ye]+Ke[ye]}for(Me=0;Me<ke;++Me)ye=ve[Me],0<ve[Me]&&(Ge[lt[ye]++]=Me);if(lt[15]==1)return(ve=new L).g=0,ve.value=Ge[0],T(oe,ze,1,it,ve),it;var At,Nt=-1,Ct=it-1,vn=0,on=1,$n=1,dn=1<<de;for(Me=0,ye=1,ke=2;ye<=de;++ye,ke<<=1){if(on+=$n<<=1,0>($n-=Ke[ye]))return 0;for(;0<Ke[ye];--Ke[ye])(ve=new L).g=ye,ve.value=Ge[Me++],T(oe,ze+vn,ke,dn,ve),vn=D(vn,ye)}for(ye=de+1,ke=2;15>=ye;++ye,ke<<=1){if(on+=$n<<=1,0>($n-=Ke[ye]))return 0;for(;0<Ke[ye];--Ke[ye]){if(ve=new L,(vn&Ct)!=Nt){for(ze+=dn,At=1<<(Nt=ye)-de;15>Nt&&!(0>=(At-=Ke[Nt]));)++Nt,At<<=1;it+=dn=1<<(At=Nt-de),oe[ce+(Nt=vn&Ct)].g=At+de,oe[ce+Nt].value=ze-ce-Nt}ve.g=ye-de,ve.value=Ge[Me++],T(oe,ze+(vn>>de),ke,dn,ve),vn=D(vn,ye)}}return on!=2*lt[15]-1?0:it}(b,I,R,z,Z,ie)}function L(){this.value=this.g=0}function H(){this.value=this.g=0}function q(){this.G=s(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ms,H)}function Y(b,I,R,z){e(b!=null),e(I!=null),e(2147483648>z),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=I,b.pa=R,b.Jd=I,b.Yc=R+z,b.Zc=4<=z?R+z-4+1:R,Se(b)}function ee(b,I){for(var R=0;0<I--;)R|=ge(b,128)<<I;return R}function K(b,I){var R=ee(b,I);return Ae(b)?-R:R}function te(b,I,R,z){var Z,ie=0;for(e(b!=null),e(I!=null),e(4294967288>z),b.Sb=z,b.Ra=0,b.u=0,b.h=0,4<z&&(z=4),Z=0;Z<z;++Z)ie+=I[R+Z]<<8*Z;b.Ra=ie,b.bb=z,b.oa=I,b.pa=R}function le(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<oa-8>>>0,++b.bb,b.u-=8;ne(b)&&(b.h=1,b.u=0)}function se(b,I){if(e(0<=I),!b.h&&I<=ts){var R=J(b)&lr[I];return b.u+=I,le(b),R}return b.h=1,b.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(b){return b.Ra>>>(b.u&oa-1)>>>0}function ne(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>oa}function he(b,I){b.u=I,b.h=ne(b)}function we(b){b.u>=Tc&&(e(b.u>=Tc),le(b))}function Se(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Ae(b){return ee(b,1)}function ge(b,I){var R=b.Ca;0>b.b&&Se(b);var z=b.b,Z=R*I>>>8,ie=(b.I>>>z>Z)+0;for(ie?(R-=Z,b.I-=Z+1<<z>>>0):R=Z+1,z=R,Z=0;256<=z;)Z+=8,z>>=8;return z=7^Z+Jl[z],b.b-=z,b.Ca=(R<<z)-1,ie}function xe(b,I,R){b[I+0]=R>>24&255,b[I+1]=R>>16&255,b[I+2]=R>>8&255,b[I+3]=255&R}function ae(b,I){return b[I+0]|b[I+1]<<8}function Ve(b,I){return ae(b,I)|b[I+2]<<16}function Oe(b,I){return ae(b,I)|ae(b,I+2)<<16}function fe(b,I){var R=1<<I;return e(b!=null),e(0<I),b.X=a(R),b.X==null?0:(b.Mb=32-I,b.Xa=I,1)}function $e(b,I){e(b!=null),e(I!=null),e(b.Xa==I.Xa),r(I.X,0,b.X,0,1<<I.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function vt(b,I,R,z){e(R!=null),e(z!=null);var Z=R[0],ie=z[0];return Z==0&&(Z=(b*ie+I/2)/I),ie==0&&(ie=(I*Z+b/2)/b),0>=Z||0>=ie?0:(R[0]=Z,z[0]=ie,1)}function Ye(b,I){return b+(1<<I)-1>>>I}function Dt(b,I){return((4278255360&b)+(4278255360&I)>>>0&4278255360)+((16711935&b)+(16711935&I)>>>0&16711935)>>>0}function mt(b,I){N[I]=function(R,z,Z,ie,oe,ce,de){var ve;for(ve=0;ve<oe;++ve){var ke=N[b](ce[de+ve-1],Z,ie+ve);ce[de+ve]=Dt(R[z+ve],ke)}}}function ct(){this.ud=this.hd=this.jd=0}function jt(b,I){return((4278124286&(b^I))>>>1)+(b&I)>>>0}function Xt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Zt(b,I){return Xt(b+(b-I+.5>>1))}function Ut(b,I,R){return Math.abs(I-R)-Math.abs(b-R)}function rn(b,I,R,z,Z,ie,oe){for(z=ie[oe-1],R=0;R<Z;++R)ie[oe+R]=z=Dt(b[I+R],z)}function st(b,I,R,z,Z){var ie;for(ie=0;ie<R;++ie){var oe=b[I+ie],ce=oe>>8&255,de=16711935&(de=(de=16711935&oe)+((ce<<16)+ce));z[Z+ie]=(4278255360&oe)+de>>>0}}function bt(b,I){I.jd=255&b,I.hd=b>>8&255,I.ud=b>>16&255}function yt(b,I,R,z,Z,ie){var oe;for(oe=0;oe<z;++oe){var ce=I[R+oe],de=ce>>>8,ve=ce,ke=255&(ke=(ke=ce>>>16)+((b.jd<<24>>24)*(de<<24>>24)>>>5));ve=255&(ve=(ve+=(b.hd<<24>>24)*(de<<24>>24)>>>5)+((b.ud<<24>>24)*(ke<<24>>24)>>>5)),Z[ie+oe]=(4278255360&ce)+(ke<<16)+ve}}function tt(b,I,R,z,Z){N[I]=function(ie,oe,ce,de,ve,ke,Ge,ye,Me){for(de=Ge;de<ye;++de)for(Ge=0;Ge<Me;++Ge)ve[ke++]=Z(ce[z(ie[oe++])])},N[b]=function(ie,oe,ce,de,ve,ke,Ge){var ye=8>>ie.b,Me=ie.Ea,ze=ie.K[0],it=ie.w;if(8>ye)for(ie=(1<<ie.b)-1,it=(1<<ye)-1;oe<ce;++oe){var Ke,lt=0;for(Ke=0;Ke<Me;++Ke)Ke&ie||(lt=z(de[ve++])),ke[Ge++]=Z(ze[lt&it]),lt>>=ye}else N["VP8LMapColor"+R](de,ve,ze,it,ke,Ge,oe,ce,Me)}}function Qt(b,I,R,z,Z){for(R=I+R;I<R;){var ie=b[I++];z[Z++]=ie>>16&255,z[Z++]=ie>>8&255,z[Z++]=255&ie}}function ft(b,I,R,z,Z){for(R=I+R;I<R;){var ie=b[I++];z[Z++]=ie>>16&255,z[Z++]=ie>>8&255,z[Z++]=255&ie,z[Z++]=ie>>24&255}}function gt(b,I,R,z,Z){for(R=I+R;I<R;){var ie=(oe=b[I++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;z[Z++]=ie,z[Z++]=oe}}function Ft(b,I,R,z,Z){for(R=I+R;I<R;){var ie=(oe=b[I++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;z[Z++]=ie,z[Z++]=oe}}function St(b,I,R,z,Z){for(R=I+R;I<R;){var ie=b[I++];z[Z++]=255&ie,z[Z++]=ie>>8&255,z[Z++]=ie>>16&255}}function Vt(b,I,R,z,Z,ie){if(ie==0)for(R=I+R;I<R;)xe(z,((ie=b[I++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Z+=32;else r(z,Z,b,I,R)}function hn(b,I){N[I][0]=N[b+"0"],N[I][1]=N[b+"1"],N[I][2]=N[b+"2"],N[I][3]=N[b+"3"],N[I][4]=N[b+"4"],N[I][5]=N[b+"5"],N[I][6]=N[b+"6"],N[I][7]=N[b+"7"],N[I][8]=N[b+"8"],N[I][9]=N[b+"9"],N[I][10]=N[b+"10"],N[I][11]=N[b+"11"],N[I][12]=N[b+"12"],N[I][13]=N[b+"13"],N[I][14]=N[b+"0"],N[I][15]=N[b+"0"]}function cn(b){return b==u_||b==A_||b==Ux||b==d_}function wt(){this.eb=[],this.size=this.A=this.fb=0}function Zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wt,this.f.kb=new Zn,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function En(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vi(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Ir(b,I){var R=b.T,z=I.ba.f.RGBA,Z=z.eb,ie=z.fb+b.ka*z.A,oe=Zl[I.ba.S],ce=b.y,de=b.O,ve=b.f,ke=b.N,Ge=b.ea,ye=b.W,Me=I.cc,ze=I.dc,it=I.Mc,Ke=I.Nc,lt=b.ka,At=b.ka+b.T,Nt=b.U,Ct=Nt+1>>1;for(lt==0?oe(ce,de,null,null,ve,ke,Ge,ye,ve,ke,Ge,ye,Z,ie,null,null,Nt):(oe(I.ec,I.fc,ce,de,Me,ze,it,Ke,ve,ke,Ge,ye,Z,ie-z.A,Z,ie,Nt),++R);lt+2<At;lt+=2)Me=ve,ze=ke,it=Ge,Ke=ye,ke+=b.Rc,ye+=b.Rc,ie+=2*z.A,oe(ce,(de+=2*b.fa)-b.fa,ce,de,Me,ze,it,Ke,ve,ke,Ge,ye,Z,ie-z.A,Z,ie,Nt);return de+=b.fa,b.j+At<b.o?(r(I.ec,I.fc,ce,de,Nt),r(I.cc,I.dc,ve,ke,Ct),r(I.Mc,I.Nc,Ge,ye,Ct),R--):1&At||oe(ce,de,null,null,ve,ke,Ge,ye,ve,ke,Ge,ye,Z,ie+z.A,null,null,Nt),R}function Pa(b,I,R){var z=b.F,Z=[b.J];if(z!=null){var ie=b.U,oe=I.ba.S,ce=oe==Rx||oe==Ux;I=I.ba.f.RGBA;var de=[0],ve=b.ka;de[0]=b.T,b.Kb&&(ve==0?--de[0]:(--ve,Z[0]-=b.width),b.j+b.ka+b.T==b.o&&(de[0]=b.o-b.j-ve));var ke=I.eb;ve=I.fb+ve*I.A,b=Fn(z,Z[0],b.width,ie,de,ke,ve+(ce?0:3),I.A),e(R==de),b&&cn(oe)&&Mt(ke,ve,ce,ie,de,I.A)}return 0}function Fe(b){var I=b.ma,R=I.ba.S,z=11>R,Z=R==Lx||R==Mx||R==Rx||R==c_||R==12||cn(R);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!Pf(I.Oa,b,Z?11:12))return 0;if(Z&&cn(R)&&yu(),b.da)alert("todo:use_scaling");else{if(z){if(I.Ib=Vi,b.Kb){if(R=b.U+1>>1,I.memory=a(b.U+2*R),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+b.U,I.Mc=I.cc,I.Nc=I.dc+R,I.Ib=Ir,yu()}}else alert("todo:EmitYUV");Z&&(I.Jb=Pa,z&&kr())}if(z&&!VF){for(b=0;256>b;++b)nse[b]=89858*(b-128)+Hx>>Qx,ase[b]=-22014*(b-128)+Hx,ise[b]=-45773*(b-128),rse[b]=113618*(b-128)+Hx>>Qx;for(b=I0;b<p_;++b)I=76283*(b-16)+Hx>>Qx,sse[b-I0]=Vn(I,255),ose[b-I0]=Vn(I+8>>4,15);VF=1}return 1}function Pe(b){var I=b.ma,R=b.U,z=b.T;return e(!(1&b.ka)),0>=R||0>=z?0:(R=I.Ib(b,I),I.Jb!=null&&I.Jb(b,I,R),I.Dc+=R,1)}function We(b){b.ma.memory=null}function Et(b,I,R,z){return se(b,8)!=47?0:(I[0]=se(b,14)+1,R[0]=se(b,14)+1,z[0]=se(b,1),se(b,3)!=0?0:!b.h)}function ut(b,I){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+se(I,R)+1}function qt(b,I){return 120<I?I-120:1<=(R=((R=Hae[I-1])>>4)*b+(8-(15&R)))?R:1;var R}function bn(b,I,R){var z=J(R),Z=b[I+=255&z].g-8;return 0<Z&&(he(R,R.u+8),z=J(R),I+=b[I].value,I+=z&(1<<Z)-1),he(R,R.u+b[I].g),b[I].value}function Gn(b,I,R){return R.g+=b.g,R.value+=b.value<<I>>>0,e(8>=R.g),b.g}function Rt(b,I,R){var z=b.xc;return e((I=z==0?0:b.vc[b.md*(R>>z)+(I>>z)])<b.Wb),b.Ya[I]}function pn(b,I,R,z){var Z=b.ab,ie=b.c*I,oe=b.C;I=oe+I;var ce=R,de=z;for(z=b.Ta,R=b.Ua;0<Z--;){var ve=b.gc[Z],ke=oe,Ge=I,ye=ce,Me=de,ze=(de=z,ce=R,ve.Ea);switch(e(ke<Ge),e(Ge<=ve.nc),ve.hc){case 2:mi(ye,Me,(Ge-ke)*ze,de,ce);break;case 0:var it=ke,Ke=Ge,lt=de,At=ce,Nt=(dn=ve).Ea;it==0&&(rd(ye,Me,null,null,1,lt,At),rn(ye,Me+1,0,0,Nt-1,lt,At+1),Me+=Nt,At+=Nt,++it);for(var Ct=1<<dn.b,vn=Ct-1,on=Ye(Nt,dn.b),$n=dn.K,dn=dn.w+(it>>dn.b)*on;it<Ke;){var cr=$n,Qa=dn,Kn=1;for(No(ye,Me,lt,At-Nt,1,lt,At);Kn<Nt;){var fn=(Kn&~vn)+Ct;fn>Nt&&(fn=Nt),(0,k[cr[Qa++]>>8&15])(ye,Me+ +Kn,lt,At+Kn-Nt,fn-Kn,lt,At+Kn),Kn=fn}Me+=Nt,At+=Nt,++it&vn||(dn+=on)}Ge!=ve.nc&&r(de,ce-ze,de,ce+(Ge-ke-1)*ze,ze);break;case 1:for(ze=ye,Ke=Me,Nt=(ye=ve.Ea)-(At=ye&~(lt=(Me=1<<ve.b)-1)),it=Ye(ye,ve.b),Ct=ve.K,ve=ve.w+(ke>>ve.b)*it;ke<Ge;){for(vn=Ct,on=ve,$n=new ct,dn=Ke+At,cr=Ke+ye;Ke<dn;)bt(vn[on++],$n),U($n,ze,Ke,Me,de,ce),Ke+=Me,ce+=Me;Ke<cr&&(bt(vn[on++],$n),U($n,ze,Ke,Nt,de,ce),Ke+=Nt,ce+=Nt),++ke&lt||(ve+=it)}break;case 3:if(ye==de&&Me==ce&&0<ve.b){for(Ke=de,ye=ze=ce+(Ge-ke)*ze-(At=(Ge-ke)*Ye(ve.Ea,ve.b)),Me=de,lt=ce,it=[],At=(Nt=At)-1;0<=At;--At)it[At]=Me[lt+At];for(At=Nt-1;0<=At;--At)Ke[ye+At]=it[At];kc(ve,ke,Ge,de,ze,de,ce)}else kc(ve,ke,Ge,ye,Me,de,ce)}ce=z,de=R}de!=R&&r(z,R,ce,de,ie)}function Xr(b,I){var R=b.V,z=b.Ba+b.c*b.C,Z=I-b.C;if(e(I<=b.l.o),e(16>=Z),0<Z){var ie=b.l,oe=b.Ta,ce=b.Ua,de=ie.width;if(pn(b,Z,R,z),Z=ce=[ce],e((R=b.C)<(z=I)),e(ie.v<ie.va),z>ie.o&&(z=ie.o),R<ie.j){var ve=ie.j-R;R=ie.j,Z[0]+=ve*de}if(R>=z?R=0:(Z[0]+=4*ie.v,ie.ka=R-ie.j,ie.U=ie.va-ie.v,ie.T=z-R,R=1),R){if(ce=ce[0],11>(R=b.ca).S){var ke=R.f.RGBA,Ge=(z=R.S,Z=ie.U,ie=ie.T,ve=ke.eb,ke.A),ye=ie;for(ke=ke.fb+b.Ma*ke.A;0<ye--;){var Me=oe,ze=ce,it=Z,Ke=ve,lt=ke;switch(z){case Fx:V(Me,ze,it,Ke,lt);break;case Lx:G(Me,ze,it,Ke,lt);break;case u_:G(Me,ze,it,Ke,lt),Mt(Ke,lt,0,it,1,0);break;case OF:Ce(Me,ze,it,Ke,lt);break;case Mx:Vt(Me,ze,it,Ke,lt,1);break;case A_:Vt(Me,ze,it,Ke,lt,1),Mt(Ke,lt,0,it,1,0);break;case Rx:Vt(Me,ze,it,Ke,lt,0);break;case Ux:Vt(Me,ze,it,Ke,lt,0),Mt(Ke,lt,1,it,1,0);break;case c_:re(Me,ze,it,Ke,lt);break;case d_:re(Me,ze,it,Ke,lt),$t(Ke,lt,it,1,0);break;case FF:pe(Me,ze,it,Ke,lt);break;default:e(0)}ce+=de,ke+=Ge}b.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=R.height)}}b.C=I,e(b.C<=b.i)}function gr(b){var I;if(0<b.ua)return 0;for(I=0;I<b.Wb;++I){var R=b.Ya[I].G,z=b.Ya[I].H;if(0<R[1][z[1]+0].g||0<R[2][z[2]+0].g||0<R[3][z[3]+0].g)return 0}return 1}function Or(b,I,R,z,Z,ie){if(b.Z!=0){var oe=b.qd,ce=b.rd;for(e(sd[b.Z]!=null);I<R;++I)sd[b.Z](oe,ce,z,Z,z,Z,ie),oe=z,ce=Z,Z+=ie;b.qd=oe,b.rd=ce}}function vr(b,I){var R=b.l.ma,z=R.Z==0||R.Z==1?b.l.j:b.C;if(z=b.C<z?z:b.C,e(I<=b.l.o),I>z){var Z=b.l.width,ie=R.ca,oe=R.tb+Z*z,ce=b.V,de=b.Ba+b.c*z,ve=b.gc;e(b.ab==1),e(ve[0].hc==3),cl(ve[0],z,I,ce,de,ie,oe),Or(R,z,I,ie,oe,Z)}b.C=b.Ma=I}function Xn(b,I,R,z,Z,ie,oe){var ce=b.$/z,de=b.$%z,ve=b.m,ke=b.s,Ge=R+b.$,ye=Ge;Z=R+z*Z;var Me=R+z*ie,ze=280+ke.ua,it=b.Pb?ce:16777216,Ke=0<ke.ua?ke.Wa:null,lt=ke.wc,At=Ge<Me?Rt(ke,de,ce):null;e(b.C<ie),e(Me<=Z);var Nt=!1;e:for(;;){for(;Nt||Ge<Me;){var Ct=0;if(ce>=it){var vn=Ge-R;e((it=b).Pb),it.wd=it.m,it.xd=vn,0<it.s.ua&&$e(it.s.Wa,it.s.vb),it=ce+Vae}if(de&lt||(At=Rt(ke,de,ce)),e(At!=null),At.Qb&&(I[Ge]=At.qb,Nt=!0),!Nt)if(we(ve),At.jc){Ct=ve,vn=I;var on=Ge,$n=At.pd[J(Ct)&ms-1];e(At.jc),256>$n.g?(he(Ct,Ct.u+$n.g),vn[on]=$n.value,Ct=0):(he(Ct,Ct.u+$n.g-256),e(256<=$n.value),Ct=$n.value),Ct==0&&(Nt=!0)}else Ct=bn(At.G[0],At.H[0],ve);if(ve.h)break;if(Nt||256>Ct){if(!Nt)if(At.nd)I[Ge]=(At.qb|Ct<<8)>>>0;else{if(we(ve),Nt=bn(At.G[1],At.H[1],ve),we(ve),vn=bn(At.G[2],At.H[2],ve),on=bn(At.G[3],At.H[3],ve),ve.h)break;I[Ge]=(on<<24|Nt<<16|Ct<<8|vn)>>>0}if(Nt=!1,++Ge,++de>=z&&(de=0,++ce,oe!=null&&ce<=ie&&!(ce%16)&&oe(b,ce),Ke!=null))for(;ye<Ge;)Ct=I[ye++],Ke.X[(506832829*Ct&4294967295)>>>Ke.Mb]=Ct}else if(280>Ct){if(Ct=ut(Ct-256,ve),vn=bn(At.G[4],At.H[4],ve),we(ve),vn=qt(z,vn=ut(vn,ve)),ve.h)break;if(Ge-R<vn||Z-Ge<Ct)break e;for(on=0;on<Ct;++on)I[Ge+on]=I[Ge+on-vn];for(Ge+=Ct,de+=Ct;de>=z;)de-=z,++ce,oe!=null&&ce<=ie&&!(ce%16)&&oe(b,ce);if(e(Ge<=Z),de&lt&&(At=Rt(ke,de,ce)),Ke!=null)for(;ye<Ge;)Ct=I[ye++],Ke.X[(506832829*Ct&4294967295)>>>Ke.Mb]=Ct}else{if(!(Ct<ze))break e;for(Nt=Ct-280,e(Ke!=null);ye<Ge;)Ct=I[ye++],Ke.X[(506832829*Ct&4294967295)>>>Ke.Mb]=Ct;Ct=Ge,e(!(Nt>>>(vn=Ke).Xa)),I[Ct]=vn.X[Nt],Nt=!0}Nt||e(ve.h==ne(ve))}if(b.Pb&&ve.h&&Ge<Z)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&$e(b.s.vb,b.s.Wa);else{if(ve.h)break e;oe!=null&&oe(b,ce>ie?ie:ce),b.a=0,b.$=Ge-R}return 1}return b.a=3,0}function yr(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var I=b.Wa;I!=null&&(I.X=null),b.vb=null,e(b!=null)}function Jr(){var b=new en;return b==null?null:(b.a=0,b.xb=RF,hn("Predictor","VP8LPredictors"),hn("Predictor","VP8LPredictors_C"),hn("PredictorAdd","VP8LPredictorsAdd"),hn("PredictorAdd","VP8LPredictorsAdd_C"),mi=st,U=yt,V=Qt,G=ft,re=gt,pe=Ft,Ce=St,N.VP8LMapColor32b=Ma,N.VP8LMapColor8b=S,b)}function xa(b,I,R,z,Z){var ie=1,oe=[b],ce=[I],de=z.m,ve=z.s,ke=null,Ge=0;e:for(;;){if(R)for(;ie&&se(de,1);){var ye=oe,Me=ce,ze=z,it=1,Ke=ze.m,lt=ze.gc[ze.ab],At=se(Ke,2);if(ze.Oc&1<<At)ie=0;else{switch(ze.Oc|=1<<At,lt.hc=At,lt.Ea=ye[0],lt.nc=Me[0],lt.K=[null],++ze.ab,e(4>=ze.ab),At){case 0:case 1:lt.b=se(Ke,3)+2,it=xa(Ye(lt.Ea,lt.b),Ye(lt.nc,lt.b),0,ze,lt.K),lt.K=lt.K[0];break;case 3:var Nt,Ct=se(Ke,8)+1,vn=16<Ct?0:4<Ct?1:2<Ct?2:3;if(ye[0]=Ye(lt.Ea,vn),lt.b=vn,Nt=it=xa(Ct,1,0,ze,lt.K)){var on,$n=Ct,dn=lt,cr=1<<(8>>dn.b),Qa=a(cr);if(Qa==null)Nt=0;else{var Kn=dn.K[0],fn=dn.w;for(Qa[0]=dn.K[0][0],on=1;on<1*$n;++on)Qa[on]=Dt(Kn[fn+on],Qa[on-1]);for(;on<4*cr;++on)Qa[on]=0;dn.K[0]=null,dn.K[0]=Qa,Nt=1}}it=Nt;break;case 2:break;default:e(0)}ie=it}}if(oe=oe[0],ce=ce[0],ie&&se(de,1)&&!(ie=1<=(Ge=se(de,4))&&11>=Ge)){z.a=3;break e}var Ht;if(Ht=ie)t:{var ca,Qn,hr,vi=z,gs=oe,ho=ce,$i=Ge,Hs=R,po=vi.m,Ha=vi.s,wr=[null],Qr=1,Ki=0,Hr=zae[$i];n:for(;;){if(Hs&&se(po,1)){var vs=se(po,3)+2,Dc=Ye(gs,vs),ua=Ye(ho,vs),jo=Dc*ua;if(!xa(Dc,ua,0,vi,wr))break n;for(wr=wr[0],Ha.xc=vs,ca=0;ca<jo;++ca){var ti=wr[ca]>>8&65535;wr[ca]=ti,ti>=Qr&&(Qr=ti+1)}}if(po.h)break n;for(Qn=0;5>Qn;++Qn){var za=LF[Qn];!Qn&&0<$i&&(za+=1<<$i),Ki<za&&(Ki=za)}var ul=s(Qr*Hr,L),mo=Qr,Al=s(mo,q);if(Al==null)var dl=null;else e(65536>=mo),dl=Al;var Io=a(Ki);if(dl==null||Io==null||ul==null){vi.a=1;break n}var fl=ul;for(ca=hr=0;ca<Qr;++ca){var oi=dl[ca],hl=oi.G,Oc=oi.H,Of=0,sA=1,ys=0;for(Qn=0;5>Qn;++Qn){za=LF[Qn],hl[Qn]=fl,Oc[Qn]=hr,!Qn&&0<$i&&(za+=1<<$i);i:{var Vx,m_=za,$x=vi,T0=Io,use=fl,Ase=hr,g_=0,od=$x.m,dse=se(od,1);if(i(T0,0,0,m_),dse){var fse=se(od,1)+1,hse=se(od,1),WF=se(od,hse==0?1:8);T0[WF]=1,fse==2&&(T0[WF=se(od,8)]=1);var Kx=1}else{var GF=a(19),qF=se(od,4)+4;if(19<qF){$x.a=3;var Wx=0;break i}for(Vx=0;Vx<qF;++Vx)GF[Qae[Vx]]=se(od,3);var v_=void 0,k0=void 0,YF=$x,pse=GF,Gx=m_,XF=T0,y_=0,ld=YF.m,JF=8,ZF=s(128,L);r:for(;O(ZF,0,7,pse,19);){if(se(ld,1)){var mse=2+2*se(ld,3);if((v_=2+se(ld,mse))>Gx)break r}else v_=Gx;for(k0=0;k0<Gx&&v_--;){we(ld);var eL=ZF[0+(127&J(ld))];he(ld,ld.u+eL.g);var Bp=eL.value;if(16>Bp)XF[k0++]=Bp,Bp!=0&&(JF=Bp);else{var gse=Bp==16,tL=Bp-16,vse=Rae[tL],nL=se(ld,Mae[tL])+vse;if(k0+nL>Gx)break r;for(var yse=gse?JF:0;0<nL--;)XF[k0++]=yse}}y_=1;break r}y_||(YF.a=3),Kx=y_}(Kx=Kx&&!od.h)&&(g_=O(use,Ase,8,T0,m_)),Kx&&g_!=0?Wx=g_:($x.a=3,Wx=0)}if(Wx==0)break n;if(sA&&Uae[Qn]==1&&(sA=fl[hr].g==0),Of+=fl[hr].g,hr+=Wx,3>=Qn){var P0,b_=Io[0];for(P0=1;P0<za;++P0)Io[P0]>b_&&(b_=Io[P0]);ys+=b_}}if(oi.nd=sA,oi.Qb=0,sA&&(oi.qb=(hl[3][Oc[3]+0].value<<24|hl[1][Oc[1]+0].value<<16|hl[2][Oc[2]+0].value)>>>0,Of==0&&256>hl[0][Oc[0]+0].value&&(oi.Qb=1,oi.qb+=hl[0][Oc[0]+0].value<<8)),oi.jc=!oi.Qb&&6>ys,oi.jc){var qx,oA=oi;for(qx=0;qx<ms;++qx){var cd=qx,ud=oA.pd[cd],Yx=oA.G[0][oA.H[0]+cd];256<=Yx.value?(ud.g=Yx.g+256,ud.value=Yx.value):(ud.g=0,ud.value=0,cd>>=Gn(Yx,8,ud),cd>>=Gn(oA.G[1][oA.H[1]+cd],16,ud),cd>>=Gn(oA.G[2][oA.H[2]+cd],0,ud),Gn(oA.G[3][oA.H[3]+cd],24,ud))}}}Ha.vc=wr,Ha.Wb=Qr,Ha.Ya=dl,Ha.yc=ul,Ht=1;break t}Ht=0}if(!(ie=Ht)){z.a=3;break e}if(0<Ge){if(ve.ua=1<<Ge,!fe(ve.Wa,Ge)){z.a=1,ie=0;break e}}else ve.ua=0;var x_=z,rL=oe,bse=ce,w_=x_.s,C_=w_.xc;if(x_.c=rL,x_.i=bse,w_.md=Ye(rL,C_),w_.wc=C_==0?-1:(1<<C_)-1,R){z.xb=Xae;break e}if((ke=a(oe*ce))==null){z.a=1,ie=0;break e}ie=(ie=Xn(z,ke,0,oe,ce,ce,null))&&!de.h;break e}return ie?(Z!=null?Z[0]=ke:(e(ke==null),e(R)),z.$=0,R||yr(ve)):yr(ve),ie}function Li(b,I){var R=b.c*b.i,z=R+I+16*I;return e(b.c<=I),b.V=a(z),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+I,1)}function Xo(b,I){var R=b.C,z=I-R,Z=b.V,ie=b.Ba+b.c*R;for(e(I<=b.l.o);0<z;){var oe=16<z?16:z,ce=b.l.ma,de=b.l.width,ve=de*oe,ke=ce.ca,Ge=ce.tb+de*R,ye=b.Ta,Me=b.Ua;pn(b,oe,Z,ie),rr(ye,Me,ke,Ge,ve),Or(ce,R,R+oe,ke,Ge,de),z-=oe,Z+=oe*b.c,R+=oe}e(R==I),b.C=b.Ma=I}function Jo(){this.ub=this.yd=this.td=this.Rb=0}function Tr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zo(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function wa(){this.Yb=function(){var b=[];return function I(R,z,Z){for(var ie=Z[z],oe=0;oe<ie&&(R.push(Z.length>z+1?[]:0),!(Z.length<z+1));oe++)I(R[oe],z+1,Z)}(b,0,[3,11]),b}()}function hu(){this.jb=a(3),this.Wc=o([4,8],wa),this.Xc=o([4,17],wa)}function oo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Mi(){this.ld=this.La=this.dd=this.tc=0}function fs(){this.Na=this.la=0}function zl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mi),this.Y=0,this.ya=Array(new lo),this.aa=0,this.l=new Pn}function Vl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function mu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Jo,this.Kc=new Tr,this.ed=new oo,this.Qa=new Zo,this.Ic=this.$c=this.Aa=0,this.D=new pu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,zl),this.Pa=new hu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vl),this.Hd=0,this.rb=Array(new fs),this.sb=0,this.wa=Array(new Mi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lo),this.L=this.aa=0,this.gd=o([4,2],Mi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gu(){var b=new mu;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,j0||(j0=er)),b}function ii(b,I,R){return b.a==0&&(b.a=I,b.sc=R,b.cb=0),0}function $l(b,I,R){return 3<=R&&b[I+0]==157&&b[I+1]==1&&b[I+2]==42}function eA(b,I){if(b==null)return 0;if(b.a=0,b.sc="OK",I==null)return ii(b,2,"null VP8Io passed to VP8GetHeaders()");var R=I.data,z=I.w,Z=I.ha;if(4>Z)return ii(b,7,"Truncated header.");var ie=R[z+0]|R[z+1]<<8|R[z+2]<<16,oe=b.Od;if(oe.Rb=!(1&ie),oe.td=ie>>1&7,oe.yd=ie>>4&1,oe.ub=ie>>5,3<oe.td)return ii(b,3,"Incorrect keyframe parameters.");if(!oe.yd)return ii(b,4,"Frame not displayable.");z+=3,Z-=3;var ce=b.Kc;if(oe.Rb){if(7>Z)return ii(b,7,"cannot parse picture header");if(!$l(R,z,Z))return ii(b,3,"Bad code word");ce.c=16383&(R[z+4]<<8|R[z+3]),ce.Td=R[z+4]>>6,ce.i=16383&(R[z+6]<<8|R[z+5]),ce.Ud=R[z+6]>>6,z+=7,Z-=7,b.za=ce.c+15>>4,b.Ub=ce.i+15>>4,I.width=ce.c,I.height=ce.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,i((ie=b.Pa).jb,0,255,ie.jb.length),e((ie=b.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(oe.ub>Z)return ii(b,7,"bad partition length");Y(ie=b.m,R,z,oe.ub),z+=oe.ub,Z-=oe.ub,oe.Rb&&(ce.Ld=Ae(ie),ce.Kd=Ae(ie)),ce=b.Qa;var de,ve=b.Pa;if(e(ie!=null),e(ce!=null),ce.Cb=Ae(ie),ce.Cb){if(ce.Bb=Ae(ie),Ae(ie)){for(ce.Fb=Ae(ie),de=0;4>de;++de)ce.Zb[de]=Ae(ie)?K(ie,7):0;for(de=0;4>de;++de)ce.Lb[de]=Ae(ie)?K(ie,6):0}if(ce.Bb)for(de=0;3>de;++de)ve.jb[de]=Ae(ie)?ee(ie,8):255}else ce.Bb=0;if(ie.Ka)return ii(b,3,"cannot parse segment header");if((ce=b.ed).zd=Ae(ie),ce.Tb=ee(ie,6),ce.wb=ee(ie,3),ce.Pc=Ae(ie),ce.Pc&&Ae(ie)){for(ve=0;4>ve;++ve)Ae(ie)&&(ce.vd[ve]=K(ie,6));for(ve=0;4>ve;++ve)Ae(ie)&&(ce.od[ve]=K(ie,6))}if(b.L=ce.Tb==0?0:ce.zd?1:2,ie.Ka)return ii(b,3,"cannot parse filter header");var ke=Z;if(Z=de=z,z=de+ke,ce=ke,b.Xb=(1<<ee(b.m,2))-1,ke<3*(ve=b.Xb))R=7;else{for(de+=3*ve,ce-=3*ve,ke=0;ke<ve;++ke){var Ge=R[Z+0]|R[Z+1]<<8|R[Z+2]<<16;Ge>ce&&(Ge=ce),Y(b.Jc[+ke],R,de,Ge),de+=Ge,ce-=Ge,Z+=3}Y(b.Jc[+ve],R,de,ce),R=de<z?0:5}if(R!=0)return ii(b,R,"cannot parse partitions");for(R=ee(de=b.m,7),Z=Ae(de)?K(de,4):0,z=Ae(de)?K(de,4):0,ce=Ae(de)?K(de,4):0,ve=Ae(de)?K(de,4):0,de=Ae(de)?K(de,4):0,ke=b.Qa,Ge=0;4>Ge;++Ge){if(ke.Cb){var ye=ke.Zb[Ge];ke.Fb||(ye+=R)}else{if(0<Ge){b.pb[Ge]=b.pb[0];continue}ye=R}var Me=b.pb[Ge];Me.Sc[0]=f_[Vn(ye+Z,127)],Me.Sc[1]=h_[Vn(ye+0,127)],Me.Eb[0]=2*f_[Vn(ye+z,127)],Me.Eb[1]=101581*h_[Vn(ye+ce,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=f_[Vn(ye+ve,117)],Me.Qc[1]=h_[Vn(ye+de,127)],Me.lc=ye+de}if(!oe.Rb)return ii(b,4,"Not a key frame.");for(Ae(ie),oe=b.Pa,R=0;4>R;++R){for(Z=0;8>Z;++Z)for(z=0;3>z;++z)for(ce=0;11>ce;++ce)ve=ge(ie,qae[R][Z][z][ce])?ee(ie,8):Wae[R][Z][z][ce],oe.Wc[R][Z].Yb[z][ce]=ve;for(Z=0;17>Z;++Z)oe.Xc[R][Z]=oe.Wc[R][Yae[Z]]}return b.kc=Ae(ie),b.kc&&(b.Bd=ee(ie,8)),b.cb=1}function er(b,I,R,z,Z,ie,oe){var ce=I[Z].Yb[R];for(R=0;16>Z;++Z){if(!ge(b,ce[R+0]))return Z;for(;!ge(b,ce[R+1]);)if(ce=I[++Z].Yb[0],R=0,Z==16)return 16;var de=I[Z+1].Yb;if(ge(b,ce[R+2])){var ve=b,ke=0;if(ge(ve,(ye=ce)[(Ge=R)+3]))if(ge(ve,ye[Ge+6])){for(ce=0,Ge=2*(ke=ge(ve,ye[Ge+8]))+(ye=ge(ve,ye[Ge+9+ke])),ke=0,ye=$ae[Ge];ye[ce];++ce)ke+=ke+ge(ve,ye[ce]);ke+=3+(8<<Ge)}else ge(ve,ye[Ge+7])?(ke=7+2*ge(ve,165),ke+=ge(ve,145)):ke=5+ge(ve,159);else ke=ge(ve,ye[Ge+4])?3+ge(ve,ye[Ge+5]):2;ce=de[2]}else ke=1,ce=de[1];de=oe+Kae[Z],0>(ve=b).b&&Se(ve);var Ge,ye=ve.b,Me=(Ge=ve.Ca>>1)-(ve.I>>ye)>>31;--ve.b,ve.Ca+=Me,ve.Ca|=1,ve.I-=(Ge+1&Me)<<ye,ie[de]=((ke^Me)-Me)*z[(0<Z)+0]}return 16}function Ds(b){var I=b.rb[b.sb-1];I.la=0,I.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Ca(b,I,R,z,Z){Z=b[I+R+32*z]+(Z>>3),b[I+R+32*z]=-256&Z?0>Z?0:255:Z}function Os(b,I,R,z,Z,ie){Ca(b,I,0,R,z+Z),Ca(b,I,1,R,z+ie),Ca(b,I,2,R,z-ie),Ca(b,I,3,R,z-Z)}function br(b){return(20091*b>>16)+b}function Da(b,I,R,z){var Z,ie=0,oe=a(16);for(Z=0;4>Z;++Z){var ce=b[I+0]+b[I+8],de=b[I+0]-b[I+8],ve=(35468*b[I+4]>>16)-br(b[I+12]),ke=br(b[I+4])+(35468*b[I+12]>>16);oe[ie+0]=ce+ke,oe[ie+1]=de+ve,oe[ie+2]=de-ve,oe[ie+3]=ce-ke,ie+=4,I++}for(Z=ie=0;4>Z;++Z)ce=(b=oe[ie+0]+4)+oe[ie+8],de=b-oe[ie+8],ve=(35468*oe[ie+4]>>16)-br(oe[ie+12]),Ca(R,z,0,0,ce+(ke=br(oe[ie+4])+(35468*oe[ie+12]>>16))),Ca(R,z,1,0,de+ve),Ca(R,z,2,0,de-ve),Ca(R,z,3,0,ce-ke),ie++,z+=32}function el(b,I,R,z){var Z=b[I+0]+4,ie=35468*b[I+4]>>16,oe=br(b[I+4]),ce=35468*b[I+1]>>16;Os(R,z,0,Z+oe,b=br(b[I+1]),ce),Os(R,z,1,Z+ie,b,ce),Os(R,z,2,Z-ie,b,ce),Os(R,z,3,Z-oe,b,ce)}function Sc(b,I,R,z,Z){Da(b,I,R,z),Z&&Da(b,I+16,R,z+4)}function Ec(b,I,R,z){Te(b,I+0,R,z,1),Te(b,I+32,R,z+128,1)}function qn(b,I,R,z){var Z;for(b=b[I+0]+4,Z=0;4>Z;++Z)for(I=0;4>I;++I)Ca(R,z,I,Z,b)}function co(b,I,R,z){b[I+0]&&Ie(b,I+0,R,z),b[I+16]&&Ie(b,I+16,R,z+4),b[I+32]&&Ie(b,I+32,R,z+128),b[I+48]&&Ie(b,I+48,R,z+128+4)}function tl(b,I,R,z){var Z,ie=a(16);for(Z=0;4>Z;++Z){var oe=b[I+0+Z]+b[I+12+Z],ce=b[I+4+Z]+b[I+8+Z],de=b[I+4+Z]-b[I+8+Z],ve=b[I+0+Z]-b[I+12+Z];ie[0+Z]=oe+ce,ie[8+Z]=oe-ce,ie[4+Z]=ve+de,ie[12+Z]=ve-de}for(Z=0;4>Z;++Z)oe=(b=ie[0+4*Z]+3)+ie[3+4*Z],ce=ie[1+4*Z]+ie[2+4*Z],de=ie[1+4*Z]-ie[2+4*Z],ve=b-ie[3+4*Z],R[z+0]=oe+ce>>3,R[z+16]=ve+de>>3,R[z+32]=oe-ce>>3,R[z+48]=ve-de>>3,z+=64}function Fs(b,I,R){var z,Z=I-32,ie=la,oe=255-b[Z-1];for(z=0;z<R;++z){var ce,de=ie,ve=oe+b[I-1];for(ce=0;ce<R;++ce)b[I+ce]=de[ve+b[Z+ce]];I+=32}}function Wn(b,I){Fs(b,I,4)}function tA(b,I){Fs(b,I,8)}function Tf(b,I){Fs(b,I,16)}function kf(b,I){var R;for(R=0;16>R;++R)r(b,I+32*R,b,I-32,16)}function ra(b,I){var R;for(R=16;0<R;--R)i(b,I,b[I-1],16),I+=32}function Ls(b,I,R){var z;for(z=0;16>z;++z)i(I,R+32*z,b,16)}function Oa(b,I){var R,z=16;for(R=0;16>R;++R)z+=b[I-1+32*R]+b[I+R-32];Ls(z>>5,b,I)}function ia(b,I){var R,z=8;for(R=0;16>R;++R)z+=b[I-1+32*R];Ls(z>>4,b,I)}function nl(b,I){var R,z=8;for(R=0;16>R;++R)z+=b[I+R-32];Ls(z>>4,b,I)}function _c(b,I){Ls(128,b,I)}function tn(b,I,R){return b+2*I+R+2>>2}function aa(b,I){var R,z=I-32;for(z=new Uint8Array([tn(b[z-1],b[z+0],b[z+1]),tn(b[z+0],b[z+1],b[z+2]),tn(b[z+1],b[z+2],b[z+3]),tn(b[z+2],b[z+3],b[z+4])]),R=0;4>R;++R)r(b,I+32*R,z,0,z.length)}function Bc(b,I){var R=b[I-1],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1+96];xe(b,I+0,16843009*tn(b[I-1-32],R,z)),xe(b,I+32,16843009*tn(R,z,Z)),xe(b,I+64,16843009*tn(z,Z,ie)),xe(b,I+96,16843009*tn(Z,ie,ie))}function Nc(b,I){var R,z=4;for(R=0;4>R;++R)z+=b[I+R-32]+b[I-1+32*R];for(z>>=3,R=0;4>R;++R)i(b,I+32*R,z,4)}function nA(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1-32],oe=b[I+0-32],ce=b[I+1-32],de=b[I+2-32],ve=b[I+3-32];b[I+0+96]=tn(z,Z,b[I-1+96]),b[I+1+96]=b[I+0+64]=tn(R,z,Z),b[I+2+96]=b[I+1+64]=b[I+0+32]=tn(ie,R,z),b[I+3+96]=b[I+2+64]=b[I+1+32]=b[I+0+0]=tn(oe,ie,R),b[I+3+64]=b[I+2+32]=b[I+1+0]=tn(ce,oe,ie),b[I+3+32]=b[I+2+0]=tn(de,ce,oe),b[I+3+0]=tn(ve,de,ce)}function Zr(b,I){var R=b[I+1-32],z=b[I+2-32],Z=b[I+3-32],ie=b[I+4-32],oe=b[I+5-32],ce=b[I+6-32],de=b[I+7-32];b[I+0+0]=tn(b[I+0-32],R,z),b[I+1+0]=b[I+0+32]=tn(R,z,Z),b[I+2+0]=b[I+1+32]=b[I+0+64]=tn(z,Z,ie),b[I+3+0]=b[I+2+32]=b[I+1+64]=b[I+0+96]=tn(Z,ie,oe),b[I+3+32]=b[I+2+64]=b[I+1+96]=tn(ie,oe,ce),b[I+3+64]=b[I+2+96]=tn(oe,ce,de),b[I+3+96]=tn(ce,de,de)}function rl(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1-32],oe=b[I+0-32],ce=b[I+1-32],de=b[I+2-32],ve=b[I+3-32];b[I+0+0]=b[I+1+64]=ie+oe+1>>1,b[I+1+0]=b[I+2+64]=oe+ce+1>>1,b[I+2+0]=b[I+3+64]=ce+de+1>>1,b[I+3+0]=de+ve+1>>1,b[I+0+96]=tn(Z,z,R),b[I+0+64]=tn(z,R,ie),b[I+0+32]=b[I+1+96]=tn(R,ie,oe),b[I+1+32]=b[I+2+96]=tn(ie,oe,ce),b[I+2+32]=b[I+3+96]=tn(oe,ce,de),b[I+3+32]=tn(ce,de,ve)}function Ms(b,I){var R=b[I+0-32],z=b[I+1-32],Z=b[I+2-32],ie=b[I+3-32],oe=b[I+4-32],ce=b[I+5-32],de=b[I+6-32],ve=b[I+7-32];b[I+0+0]=R+z+1>>1,b[I+1+0]=b[I+0+64]=z+Z+1>>1,b[I+2+0]=b[I+1+64]=Z+ie+1>>1,b[I+3+0]=b[I+2+64]=ie+oe+1>>1,b[I+0+32]=tn(R,z,Z),b[I+1+32]=b[I+0+96]=tn(z,Z,ie),b[I+2+32]=b[I+1+96]=tn(Z,ie,oe),b[I+3+32]=b[I+2+96]=tn(ie,oe,ce),b[I+3+64]=tn(oe,ce,de),b[I+3+96]=tn(ce,de,ve)}function Kl(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1+96];b[I+0+0]=R+z+1>>1,b[I+2+0]=b[I+0+32]=z+Z+1>>1,b[I+2+32]=b[I+0+64]=Z+ie+1>>1,b[I+1+0]=tn(R,z,Z),b[I+3+0]=b[I+1+32]=tn(z,Z,ie),b[I+3+32]=b[I+1+64]=tn(Z,ie,ie),b[I+3+64]=b[I+2+64]=b[I+0+96]=b[I+1+96]=b[I+2+96]=b[I+3+96]=ie}function Bo(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1+96],oe=b[I-1-32],ce=b[I+0-32],de=b[I+1-32],ve=b[I+2-32];b[I+0+0]=b[I+2+32]=R+oe+1>>1,b[I+0+32]=b[I+2+64]=z+R+1>>1,b[I+0+64]=b[I+2+96]=Z+z+1>>1,b[I+0+96]=ie+Z+1>>1,b[I+3+0]=tn(ce,de,ve),b[I+2+0]=tn(oe,ce,de),b[I+1+0]=b[I+3+32]=tn(R,oe,ce),b[I+1+32]=b[I+3+64]=tn(z,R,oe),b[I+1+64]=b[I+3+96]=tn(Z,z,R),b[I+1+96]=tn(ie,Z,z)}function Wl(b,I){var R;for(R=0;8>R;++R)r(b,I+32*R,b,I-32,8)}function Fa(b,I){var R;for(R=0;8>R;++R)i(b,I,b[I-1],8),I+=32}function Rs(b,I,R){var z;for(z=0;8>z;++z)i(I,R+32*z,b,8)}function Gl(b,I){var R,z=8;for(R=0;8>R;++R)z+=b[I+R-32]+b[I-1+32*R];Rs(z>>4,b,I)}function rA(b,I){var R,z=4;for(R=0;8>R;++R)z+=b[I+R-32];Rs(z>>3,b,I)}function dr(b,I){var R,z=4;for(R=0;8>R;++R)z+=b[I-1+32*R];Rs(z>>3,b,I)}function iA(b,I){Rs(128,b,I)}function jc(b,I,R){var z=b[I-R],Z=b[I+0],ie=3*(Z-z)+id[1020+b[I-2*R]-b[I+R]],oe=Ea[112+(ie+4>>3)];b[I-R]=la[255+z+Ea[112+(ie+3>>3)]],b[I+0]=la[255+Z-oe]}function uo(b,I,R,z){var Z=b[I+0],ie=b[I+R];return Qs[255+b[I-2*R]-b[I-R]]>z||Qs[255+ie-Z]>z}function il(b,I,R,z){return 4*Qs[255+b[I-R]-b[I+0]]+Qs[255+b[I-2*R]-b[I+R]]<=z}function al(b,I,R,z,Z){var ie=b[I-3*R],oe=b[I-2*R],ce=b[I-R],de=b[I+0],ve=b[I+R],ke=b[I+2*R],Ge=b[I+3*R];return 4*Qs[255+ce-de]+Qs[255+oe-ve]>z?0:Qs[255+b[I-4*R]-ie]<=Z&&Qs[255+ie-oe]<=Z&&Qs[255+oe-ce]<=Z&&Qs[255+Ge-ke]<=Z&&Qs[255+ke-ve]<=Z&&Qs[255+ve-de]<=Z}function ql(b,I,R,z){var Z=2*z+1;for(z=0;16>z;++z)il(b,I+z,R,Z)&&jc(b,I+z,R)}function Yl(b,I,R,z){var Z=2*z+1;for(z=0;16>z;++z)il(b,I+z*R,1,Z)&&jc(b,I+z*R,1)}function Us(b,I,R,z){var Z;for(Z=3;0<Z;--Z)ql(b,I+=4*R,R,z)}function Ic(b,I,R,z){var Z;for(Z=3;0<Z;--Z)Yl(b,I+=4,R,z)}function Ao(b,I,R,z,Z,ie,oe,ce){for(ie=2*ie+1;0<Z--;){if(al(b,I,R,ie,oe))if(uo(b,I,R,ce))jc(b,I,R);else{var de=b,ve=I,ke=R,Ge=de[ve-2*ke],ye=de[ve-ke],Me=de[ve+0],ze=de[ve+ke],it=de[ve+2*ke],Ke=27*(At=id[1020+3*(Me-ye)+id[1020+Ge-ze]])+63>>7,lt=18*At+63>>7,At=9*At+63>>7;de[ve-3*ke]=la[255+de[ve-3*ke]+At],de[ve-2*ke]=la[255+Ge+lt],de[ve-ke]=la[255+ye+Ke],de[ve+0]=la[255+Me-Ke],de[ve+ke]=la[255+ze-lt],de[ve+2*ke]=la[255+it-At]}I+=z}}function es(b,I,R,z,Z,ie,oe,ce){for(ie=2*ie+1;0<Z--;){if(al(b,I,R,ie,oe))if(uo(b,I,R,ce))jc(b,I,R);else{var de=b,ve=I,ke=R,Ge=de[ve-ke],ye=de[ve+0],Me=de[ve+ke],ze=Ea[112+(4+(it=3*(ye-Ge))>>3)],it=Ea[112+(it+3>>3)],Ke=ze+1>>1;de[ve-2*ke]=la[255+de[ve-2*ke]+Ke],de[ve-ke]=la[255+Ge+it],de[ve+0]=la[255+ye-ze],de[ve+ke]=la[255+Me-Ke]}I+=z}}function Xl(b,I,R,z,Z,ie){Ao(b,I,R,1,16,z,Z,ie)}function sl(b,I,R,z,Z,ie){Ao(b,I,1,R,16,z,Z,ie)}function hs(b,I,R,z,Z,ie){var oe;for(oe=3;0<oe;--oe)es(b,I+=4*R,R,1,16,z,Z,ie)}function vu(b,I,R,z,Z,ie){var oe;for(oe=3;0<oe;--oe)es(b,I+=4,1,R,16,z,Z,ie)}function F(b,I,R,z,Z,ie,oe,ce){Ao(b,I,Z,1,8,ie,oe,ce),Ao(R,z,Z,1,8,ie,oe,ce)}function X(b,I,R,z,Z,ie,oe,ce){Ao(b,I,1,Z,8,ie,oe,ce),Ao(R,z,1,Z,8,ie,oe,ce)}function me(b,I,R,z,Z,ie,oe,ce){es(b,I+4*Z,Z,1,8,ie,oe,ce),es(R,z+4*Z,Z,1,8,ie,oe,ce)}function Be(b,I,R,z,Z,ie,oe,ce){es(b,I+4,1,Z,8,ie,oe,ce),es(R,z+4,1,Z,8,ie,oe,ce)}function Ue(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new En,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function at(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wt(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new L}function en(){this.xb=this.a=0,this.l=new Pn,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wt,this.ab=0,this.gc=s(4,at),this.Oc=0}function xn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cn(b,I,R,z,Z,ie,oe){for(b=b==null?0:b[I+0],I=0;I<oe;++I)Z[ie+I]=b+R[z+I]&255,b=Z[ie+I]}function tr(b,I,R,z,Z,ie,oe){var ce;if(b==null)Cn(null,null,R,z,Z,ie,oe);else for(ce=0;ce<oe;++ce)Z[ie+ce]=b[I+ce]+R[z+ce]&255}function fr(b,I,R,z,Z,ie,oe){if(b==null)Cn(null,null,R,z,Z,ie,oe);else{var ce,de=b[I+0],ve=de,ke=de;for(ce=0;ce<oe;++ce)ve=ke+(de=b[I+ce])-ve,ke=R[z+ce]+(-256&ve?0>ve?0:255:ve)&255,ve=de,Z[ie+ce]=ke}}function Gr(b,I,R,z){var Z=I.width,ie=I.o;if(e(b!=null&&I!=null),0>R||0>=z||R+z>ie)return null;if(!b.Cc){if(b.ga==null){var oe;if(b.ga=new xn,(oe=b.ga==null)||(oe=I.width*I.o,e(b.Gb.length==0),b.Gb=a(oe),b.Uc=0,b.Gb==null?oe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,oe=1),oe=!oe),!oe){oe=b.ga;var ce=b.Fa,de=b.P,ve=b.qc,ke=b.mb,Ge=b.nb,ye=de+1,Me=ve-1,ze=oe.l;if(e(ce!=null&&ke!=null&&I!=null),sd[0]=null,sd[1]=Cn,sd[2]=tr,sd[3]=fr,oe.ca=ke,oe.tb=Ge,oe.c=I.width,oe.i=I.height,e(0<oe.c&&0<oe.i),1>=ve)I=0;else if(oe.$a=3&ce[de+0],oe.Z=ce[de+0]>>2&3,oe.Lc=ce[de+0]>>4&3,de=ce[de+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||de)I=0;else if(ze.put=Pe,ze.ac=Fe,ze.bc=We,ze.ma=oe,ze.width=I.width,ze.height=I.height,ze.Da=I.Da,ze.v=I.v,ze.va=I.va,ze.j=I.j,ze.o=I.o,oe.$a)e:{e(oe.$a==1),I=Jr();t:for(;;){if(I==null){I=0;break e}if(e(oe!=null),oe.mc=I,I.c=oe.c,I.i=oe.i,I.l=oe.l,I.l.ma=oe,I.l.width=oe.c,I.l.height=oe.i,I.a=0,te(I.m,ce,ye,Me),!xa(oe.c,oe.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&gr(I.s)?(oe.ic=1,ce=I.c*I.i,I.Ta=null,I.Ua=0,I.V=a(ce),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(oe.ic=0,I=Li(I,oe.c)),!I))break t;I=1;break e}oe.mc=null,I=0}else I=Me>=oe.c*oe.i;oe=!I}if(oe)return null;b.ga.Lc!=1?b.Ga=0:z=ie-R}e(b.ga!=null),e(R+z<=ie);e:{if(I=(ce=b.ga).c,ie=ce.l.o,ce.$a==0){if(ye=b.rc,Me=b.Vc,ze=b.Fa,de=b.P+1+R*I,ve=b.mb,ke=b.nb+R*I,e(de<=b.P+b.qc),ce.Z!=0)for(e(sd[ce.Z]!=null),oe=0;oe<z;++oe)sd[ce.Z](ye,Me,ze,de,ve,ke,I),ye=ve,Me=ke,ke+=I,de+=I;else for(oe=0;oe<z;++oe)r(ve,ke,ze,de,I),ye=ve,Me=ke,ke+=I,de+=I;b.rc=ye,b.Vc=Me}else{if(e(ce.mc!=null),I=R+z,e((oe=ce.mc)!=null),e(I<=oe.i),oe.C>=I)I=1;else if(ce.ic||kr(),ce.ic){ce=oe.V,ye=oe.Ba,Me=oe.c;var it=oe.i,Ke=(ze=1,de=oe.$/Me,ve=oe.$%Me,ke=oe.m,Ge=oe.s,oe.$),lt=Me*it,At=Me*I,Nt=Ge.wc,Ct=Ke<At?Rt(Ge,ve,de):null;e(Ke<=lt),e(I<=it),e(gr(Ge));t:for(;;){for(;!ke.h&&Ke<At;){if(ve&Nt||(Ct=Rt(Ge,ve,de)),e(Ct!=null),we(ke),256>(it=bn(Ct.G[0],Ct.H[0],ke)))ce[ye+Ke]=it,++Ke,++ve>=Me&&(ve=0,++de<=I&&!(de%16)&&vr(oe,de));else{if(!(280>it)){ze=0;break t}it=ut(it-256,ke);var vn,on=bn(Ct.G[4],Ct.H[4],ke);if(we(ke),!(Ke>=(on=qt(Me,on=ut(on,ke)))&&lt-Ke>=it)){ze=0;break t}for(vn=0;vn<it;++vn)ce[ye+Ke+vn]=ce[ye+Ke+vn-on];for(Ke+=it,ve+=it;ve>=Me;)ve-=Me,++de<=I&&!(de%16)&&vr(oe,de);Ke<At&&ve&Nt&&(Ct=Rt(Ge,ve,de))}e(ke.h==ne(ke))}vr(oe,de>I?I:de);break t}!ze||ke.h&&Ke<lt?(ze=0,oe.a=ke.h?5:3):oe.$=Ke,I=ze}else I=Xn(oe,oe.V,oe.Ba,oe.c,oe.i,I,Xo);if(!I){z=0;break e}}R+z>=ie&&(b.Cc=1),z=1}if(!z)return null;if(b.Cc&&((z=b.ga)!=null&&(z.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*Z}function xr(b,I,R,z,Z,ie){for(;0<Z--;){var oe,ce=b,de=I+(R?1:0),ve=b,ke=I+(R?0:3);for(oe=0;oe<z;++oe){var Ge=ve[ke+4*oe];Ge!=255&&(Ge*=32897,ce[de+4*oe+0]=ce[de+4*oe+0]*Ge>>23,ce[de+4*oe+1]=ce[de+4*oe+1]*Ge>>23,ce[de+4*oe+2]=ce[de+4*oe+2]*Ge>>23)}I+=ie}}function Fr(b,I,R,z,Z){for(;0<z--;){var ie;for(ie=0;ie<R;++ie){var oe=b[I+2*ie+0],ce=15&(ve=b[I+2*ie+1]),de=4369*ce,ve=(240&ve|ve>>4)*de>>16;b[I+2*ie+0]=(240&oe|oe>>4)*de>>16&240|(15&oe|oe<<4)*de>>16>>4&15,b[I+2*ie+1]=240&ve|ce}I+=Z}}function ei(b,I,R,z,Z,ie,oe,ce){var de,ve,ke=255;for(ve=0;ve<Z;++ve){for(de=0;de<z;++de){var Ge=b[I+de];ie[oe+4*de]=Ge,ke&=Ge}I+=R,oe+=ce}return ke!=255}function ai(b,I,R,z,Z){var ie;for(ie=0;ie<Z;++ie)R[z+ie]=b[I+ie]>>8}function kr(){Mt=xr,$t=Fr,Fn=ei,rr=ai}function sa(b,I,R){N[b]=function(z,Z,ie,oe,ce,de,ve,ke,Ge,ye,Me,ze,it,Ke,lt,At,Nt){var Ct,vn=Nt-1>>1,on=ce[de+0]|ve[ke+0]<<16,$n=Ge[ye+0]|Me[ze+0]<<16;e(z!=null);var dn=3*on+$n+131074>>2;for(I(z[Z+0],255&dn,dn>>16,it,Ke),ie!=null&&(dn=3*$n+on+131074>>2,I(ie[oe+0],255&dn,dn>>16,lt,At)),Ct=1;Ct<=vn;++Ct){var cr=ce[de+Ct]|ve[ke+Ct]<<16,Qa=Ge[ye+Ct]|Me[ze+Ct]<<16,Kn=on+cr+$n+Qa+524296,fn=Kn+2*(cr+$n)>>3;dn=fn+on>>1,on=(Kn=Kn+2*(on+Qa)>>3)+cr>>1,I(z[Z+2*Ct-1],255&dn,dn>>16,it,Ke+(2*Ct-1)*R),I(z[Z+2*Ct-0],255&on,on>>16,it,Ke+(2*Ct-0)*R),ie!=null&&(dn=Kn+$n>>1,on=fn+Qa>>1,I(ie[oe+2*Ct-1],255&dn,dn>>16,lt,At+(2*Ct-1)*R),I(ie[oe+2*Ct+0],255&on,on>>16,lt,At+(2*Ct+0)*R)),on=cr,$n=Qa}1&Nt||(dn=3*on+$n+131074>>2,I(z[Z+Nt-1],255&dn,dn>>16,it,Ke+(Nt-1)*R),ie!=null&&(dn=3*$n+on+131074>>2,I(ie[oe+Nt-1],255&dn,dn>>16,lt,At+(Nt-1)*R)))}}function yu(){Zl[Fx]=Jae,Zl[Lx]=UF,Zl[OF]=Zae,Zl[Mx]=QF,Zl[Rx]=HF,Zl[c_]=zF,Zl[FF]=ese,Zl[u_]=UF,Zl[A_]=QF,Zl[Ux]=HF,Zl[d_]=zF}function fo(b){return b&-16384?0>b?0:255:b>>tse}function w(b,I){return fo((19077*b>>8)+(26149*I>>8)-14234)}function Q(b,I,R){return fo((19077*b>>8)-(6419*I>>8)-(13320*R>>8)+8708)}function W(b,I){return fo((19077*b>>8)+(33050*I>>8)-17685)}function ue(b,I,R,z,Z){z[Z+0]=w(b,R),z[Z+1]=Q(b,I,R),z[Z+2]=W(b,I)}function Qe(b,I,R,z,Z){z[Z+0]=W(b,I),z[Z+1]=Q(b,I,R),z[Z+2]=w(b,R)}function qe(b,I,R,z,Z){var ie=Q(b,I,R);I=ie<<3&224|W(b,I)>>3,z[Z+0]=248&w(b,R)|ie>>5,z[Z+1]=I}function Pt(b,I,R,z,Z){var ie=240&W(b,I)|15;z[Z+0]=240&w(b,R)|Q(b,I,R)>>4,z[Z+1]=ie}function nr(b,I,R,z,Z){z[Z+0]=255,ue(b,I,R,z,Z+1)}function si(b,I,R,z,Z){Qe(b,I,R,z,Z),z[Z+3]=255}function zn(b,I,R,z,Z){ue(b,I,R,z,Z),z[Z+3]=255}function Vn(b,I){return 0>b?0:b>I?I:b}function Ur(b,I,R){N[b]=function(z,Z,ie,oe,ce,de,ve,ke,Ge){for(var ye=ke+(-2&Ge)*R;ke!=ye;)I(z[Z+0],ie[oe+0],ce[de+0],ve,ke),I(z[Z+1],ie[oe+0],ce[de+0],ve,ke+R),Z+=2,++oe,++de,ke+=2*R;1&Ge&&I(z[Z+0],ie[oe+0],ce[de+0],ve,ke)}}function ps(b,I,R){return R==0?b==0?I==0?6:5:I==0?4:0:R}function La(b,I,R,z,Z){switch(b>>>30){case 3:Te(I,R,z,Z,0);break;case 2:Le(I,R,z,Z);break;case 1:Ie(I,R,z,Z)}}function Sa(b,I){var R,z,Z=I.M,ie=I.Nb,oe=b.oc,ce=b.pc+40,de=b.oc,ve=b.pc+584,ke=b.oc,Ge=b.pc+600;for(R=0;16>R;++R)oe[ce+32*R-1]=129;for(R=0;8>R;++R)de[ve+32*R-1]=129,ke[Ge+32*R-1]=129;for(0<Z?oe[ce-1-32]=de[ve-1-32]=ke[Ge-1-32]=129:(i(oe,ce-32-1,127,21),i(de,ve-32-1,127,9),i(ke,Ge-32-1,127,9)),z=0;z<b.za;++z){var ye=I.ya[I.aa+z];if(0<z){for(R=-1;16>R;++R)r(oe,ce+32*R-4,oe,ce+32*R+12,4);for(R=-1;8>R;++R)r(de,ve+32*R-4,de,ve+32*R+4,4),r(ke,Ge+32*R-4,ke,Ge+32*R+4,4)}var Me=b.Gd,ze=b.Hd+z,it=ye.ad,Ke=ye.Hc;if(0<Z&&(r(oe,ce-32,Me[ze].y,0,16),r(de,ve-32,Me[ze].f,0,8),r(ke,Ge-32,Me[ze].ea,0,8)),ye.Za){var lt=oe,At=ce-32+16;for(0<Z&&(z>=b.za-1?i(lt,At,Me[ze].y[15],4):r(lt,At,Me[ze+1].y,0,4)),R=0;4>R;R++)lt[At+128+R]=lt[At+256+R]=lt[At+384+R]=lt[At+0+R];for(R=0;16>R;++R,Ke<<=2)lt=oe,At=ce+$F[R],Pc[ye.Ob[R]](lt,At),La(Ke,it,16*+R,lt,At)}else if(lt=ps(z,Z,ye.Ob[0]),ad[lt](oe,ce),Ke!=0)for(R=0;16>R;++R,Ke<<=2)La(Ke,it,16*+R,oe,ce+$F[R]);for(R=ye.Gc,lt=ps(z,Z,ye.Dd),aA[lt](de,ve),aA[lt](ke,Ge),Ke=it,lt=de,At=ve,255&(ye=0|R)&&(170&ye?Ee(Ke,256,lt,At):_e(Ke,256,lt,At)),ye=ke,Ke=Ge,255&(R>>=8)&&(170&R?Ee(it,320,ye,Ke):_e(it,320,ye,Ke)),Z<b.Ub-1&&(r(Me[ze].y,0,oe,ce+480,16),r(Me[ze].f,0,de,ve+224,8),r(Me[ze].ea,0,ke,Ge+224,8)),R=8*ie*b.B,Me=b.sa,ze=b.ta+16*z+16*ie*b.R,it=b.qa,ye=b.ra+8*z+R,Ke=b.Ha,lt=b.Ia+8*z+R,R=0;16>R;++R)r(Me,ze+R*b.R,oe,ce+32*R,16);for(R=0;8>R;++R)r(it,ye+R*b.B,de,ve+32*R,8),r(Ke,lt+R*b.B,ke,Ge+32*R,8)}}function ol(b,I,R,z,Z,ie,oe,ce,de){var ve=[0],ke=[0],Ge=0,ye=de!=null?de.kd:0,Me=de??new rt;if(b==null||12>R)return 7;Me.data=b,Me.w=I,Me.ha=R,I=[I],R=[R],Me.gb=[Me.gb];e:{var ze=I,it=R,Ke=Me.gb;if(e(b!=null),e(it!=null),e(Ke!=null),Ke[0]=0,12<=it[0]&&!n(b,ze[0],"RIFF")){if(n(b,ze[0]+8,"WEBP")){Ke=3;break e}var lt=Oe(b,ze[0]+4);if(12>lt||4294967286<lt){Ke=3;break e}if(ye&&lt>it[0]-8){Ke=7;break e}Ke[0]=lt,ze[0]+=12,it[0]-=12}Ke=0}if(Ke!=0)return Ke;for(lt=0<Me.gb[0],R=R[0];;){e:{var At=b;it=I,Ke=R;var Nt=ve,Ct=ke,vn=ze=[0];if((dn=Ge=[Ge])[0]=0,8>Ke[0])Ke=7;else{if(!n(At,it[0],"VP8X")){if(Oe(At,it[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var on=Oe(At,it[0]+8),$n=1+Ve(At,it[0]+12);if(2147483648<=$n*(At=1+Ve(At,it[0]+15))){Ke=3;break e}vn!=null&&(vn[0]=on),Nt!=null&&(Nt[0]=$n),Ct!=null&&(Ct[0]=At),it[0]+=18,Ke[0]-=18,dn[0]=1}Ke=0}}if(Ge=Ge[0],ze=ze[0],Ke!=0)return Ke;if(it=!!(2&ze),!lt&&Ge)return 3;if(ie!=null&&(ie[0]=!!(16&ze)),oe!=null&&(oe[0]=it),ce!=null&&(ce[0]=0),oe=ve[0],ze=ke[0],Ge&&it&&de==null){Ke=0;break}if(4>R){Ke=7;break}if(lt&&Ge||!lt&&!Ge&&!n(b,I[0],"ALPH")){R=[R],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{on=b,Ke=I,lt=R;var dn=Me.gb;Nt=Me.na,Ct=Me.P,vn=Me.Sa,$n=22,e(on!=null),e(lt!=null),At=Ke[0];var cr=lt[0];for(e(Nt!=null),e(vn!=null),Nt[0]=null,Ct[0]=null,vn[0]=0;;){if(Ke[0]=At,lt[0]=cr,8>cr){Ke=7;break e}var Qa=Oe(on,At+4);if(4294967286<Qa){Ke=3;break e}var Kn=8+Qa+1&-2;if($n+=Kn,0<dn&&$n>dn){Ke=3;break e}if(!n(on,At,"VP8 ")||!n(on,At,"VP8L")){Ke=0;break e}if(cr[0]<Kn){Ke=7;break e}n(on,At,"ALPH")||(Nt[0]=on,Ct[0]=At+8,vn[0]=Qa),At+=Kn,cr-=Kn}}if(R=R[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ke!=0)break}R=[R],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(dn=b,Ke=I,lt=R,Nt=Me.gb[0],Ct=Me.Ja,vn=Me.xa,on=Ke[0],At=!n(dn,on,"VP8 "),$n=!n(dn,on,"VP8L"),e(dn!=null),e(lt!=null),e(Ct!=null),e(vn!=null),8>lt[0])Ke=7;else{if(At||$n){if(dn=Oe(dn,on+4),12<=Nt&&dn>Nt-12){Ke=3;break e}if(ye&&dn>lt[0]-8){Ke=7;break e}Ct[0]=dn,Ke[0]+=8,lt[0]-=8,vn[0]=$n}else vn[0]=5<=lt[0]&&dn[on+0]==47&&!(dn[on+4]>>5),Ct[0]=lt[0];Ke=0}if(R=R[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],I=I[0],Ke!=0)break;if(4294967286<Me.Ja)return 3;if(ce==null||it||(ce[0]=Me.xa?2:1),oe=[oe],ze=[ze],Me.xa){if(5>R){Ke=7;break}ce=oe,ye=ze,it=ie,b==null||5>R?b=0:5<=R&&b[I+0]==47&&!(b[I+4]>>5)?(lt=[0],dn=[0],Nt=[0],te(Ct=new $,b,I,R),Et(Ct,lt,dn,Nt)?(ce!=null&&(ce[0]=lt[0]),ye!=null&&(ye[0]=dn[0]),it!=null&&(it[0]=Nt[0]),b=1):b=0):b=0}else{if(10>R){Ke=7;break}ce=ze,b==null||10>R||!$l(b,I+3,R-3)?b=0:(ye=b[I+0]|b[I+1]<<8|b[I+2]<<16,it=16383&(b[I+7]<<8|b[I+6]),b=16383&(b[I+9]<<8|b[I+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Me.Ja||!it||!b?b=0:(oe&&(oe[0]=it),ce&&(ce[0]=b),b=1))}if(!b||(oe=oe[0],ze=ze[0],Ge&&(ve[0]!=oe||ke[0]!=ze)))return 3;de!=null&&(de[0]=Me,de.offset=I-de.w,e(4294967286>I-de.w),e(de.offset==de.ha-R));break}return Ke==0||Ke==7&&Ge&&de==null?(ie!=null&&(ie[0]|=Me.na!=null&&0<Me.na.length),z!=null&&(z[0]=oe),Z!=null&&(Z[0]=ze),0):Ke}function Pf(b,I,R){var z=I.width,Z=I.height,ie=0,oe=0,ce=z,de=Z;if(I.Da=b!=null&&0<b.Da,I.Da&&(ce=b.cd,de=b.bd,ie=b.v,oe=b.j,11>R||(ie&=-2,oe&=-2),0>ie||0>oe||0>=ce||0>=de||ie+ce>z||oe+de>Z))return 0;if(I.v=ie,I.j=oe,I.va=ie+ce,I.o=oe+de,I.U=ce,I.T=de,I.da=b!=null&&0<b.da,I.da){if(!vt(ce,de,R=[b.ib],ie=[b.hb]))return 0;I.ib=R[0],I.hb=ie[0]}return I.ob=b!=null&&b.ob,I.Kb=b==null||!b.Sd,I.da&&(I.ob=I.ib<3*z/4&&I.hb<3*Z/4,I.Kb=0),1}function Df(b){if(b==null)return 2;if(11>b.S){var I=b.f.RGBA;I.fb+=(b.height-1)*I.A,I.A=-I.A}else I=b.f.kb,b=b.height,I.O+=(b-1)*I.fa,I.fa=-I.fa,I.N+=(b-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(b-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(b-1)*I.lb,I.lb=-I.lb);return 0}function ll(b,I,R,z){if(z==null||0>=b||0>=I)return 2;if(R!=null){if(R.Da){var Z=R.cd,ie=R.bd,oe=-2&R.v,ce=-2&R.j;if(0>oe||0>ce||0>=Z||0>=ie||oe+Z>b||ce+ie>I)return 2;b=Z,I=ie}if(R.da){if(!vt(b,I,Z=[R.ib],ie=[R.hb]))return 2;b=Z[0],I=ie[0]}}z.width=b,z.height=I;e:{var de=z.width,ve=z.height;if(b=z.S,0>=de||0>=ve||!(b>=Fx&&13>b))b=2;else{if(0>=z.Rd&&z.sd==null){oe=ie=Z=I=0;var ke=(ce=de*KF[b])*ve;if(11>b||(ie=(ve+1)/2*(I=(de+1)/2),b==12&&(oe=(Z=de)*ve)),(ve=a(ke+2*ie+oe))==null){b=1;break e}z.sd=ve,11>b?((de=z.f.RGBA).eb=ve,de.fb=0,de.A=ce,de.size=ke):((de=z.f.kb).y=ve,de.O=0,de.fa=ce,de.Fd=ke,de.f=ve,de.N=0+ke,de.Ab=I,de.Cd=ie,de.ea=ve,de.W=0+ke+ie,de.Db=I,de.Ed=ie,b==12&&(de.F=ve,de.J=0+ke+2*ie),de.Tc=oe,de.lb=Z)}if(I=1,Z=z.S,ie=z.width,oe=z.height,Z>=Fx&&13>Z)if(11>Z)b=z.f.RGBA,I&=(ce=Math.abs(b.A))*(oe-1)+ie<=b.size,I&=ce>=ie*KF[Z],I&=b.eb!=null;else{b=z.f.kb,ce=(ie+1)/2,ke=(oe+1)/2,de=Math.abs(b.fa),ve=Math.abs(b.Ab);var Ge=Math.abs(b.Db),ye=Math.abs(b.lb),Me=ye*(oe-1)+ie;I&=de*(oe-1)+ie<=b.Fd,I&=ve*(ke-1)+ce<=b.Cd,I=(I&=Ge*(ke-1)+ce<=b.Ed)&de>=ie&ve>=ce&Ge>=ce,I&=b.y!=null,I&=b.f!=null,I&=b.ea!=null,Z==12&&(I&=ye>=ie,I&=Me<=b.Tc,I&=b.F!=null)}else I=0;b=I?0:2}}return b!=0||R!=null&&R.fd&&(b=Df(z)),b}var ms=64,lr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ts=24,oa=32,Tc=8,Jl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];mt("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(b){return b},N.Predictor2=function(b,I,R){return I[R+0]},N.Predictor3=function(b,I,R){return I[R+1]},N.Predictor4=function(b,I,R){return I[R-1]},N.Predictor5=function(b,I,R){return jt(jt(b,I[R+1]),I[R+0])},N.Predictor6=function(b,I,R){return jt(b,I[R-1])},N.Predictor7=function(b,I,R){return jt(b,I[R+0])},N.Predictor8=function(b,I,R){return jt(I[R-1],I[R+0])},N.Predictor9=function(b,I,R){return jt(I[R+0],I[R+1])},N.Predictor10=function(b,I,R){return jt(jt(b,I[R-1]),jt(I[R+0],I[R+1]))},N.Predictor11=function(b,I,R){var z=I[R+0];return 0>=Ut(z>>24&255,b>>24&255,(I=I[R-1])>>24&255)+Ut(z>>16&255,b>>16&255,I>>16&255)+Ut(z>>8&255,b>>8&255,I>>8&255)+Ut(255&z,255&b,255&I)?z:b},N.Predictor12=function(b,I,R){var z=I[R+0];return(Xt((b>>24&255)+(z>>24&255)-((I=I[R-1])>>24&255))<<24|Xt((b>>16&255)+(z>>16&255)-(I>>16&255))<<16|Xt((b>>8&255)+(z>>8&255)-(I>>8&255))<<8|Xt((255&b)+(255&z)-(255&I)))>>>0},N.Predictor13=function(b,I,R){var z=I[R-1];return(Zt((b=jt(b,I[R+0]))>>24&255,z>>24&255)<<24|Zt(b>>16&255,z>>16&255)<<16|Zt(b>>8&255,z>>8&255)<<8|Zt(255&b,255&z))>>>0};var rd=N.PredictorAdd0;N.PredictorAdd1=rn,mt("Predictor2","PredictorAdd2"),mt("Predictor3","PredictorAdd3"),mt("Predictor4","PredictorAdd4"),mt("Predictor5","PredictorAdd5"),mt("Predictor6","PredictorAdd6"),mt("Predictor7","PredictorAdd7"),mt("Predictor8","PredictorAdd8"),mt("Predictor9","PredictorAdd9"),mt("Predictor10","PredictorAdd10"),mt("Predictor11","PredictorAdd11"),mt("Predictor12","PredictorAdd12"),mt("Predictor13","PredictorAdd13");var No=N.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var mi,kc=N.ColorIndexInverseTransform,Ma=N.MapARGB,cl=N.VP8LColorIndexInverseTransformAlpha,S=N.MapAlpha,k=N.VP8LPredictorsAdd=[];k.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var U,V,G,re,pe,Ce,Ne,Te,Le,Ee,Ie,_e,je,De,Re,He,Xe,et,nt,_t,Lt,It,Ot,zt,Mt,$t,Fn,rr,Tn=a(511),gi=a(2041),jn=a(225),Ra=a(767),Ua=0,id=gi,Ea=jn,la=Ra,Qs=Tn,Fx=0,Lx=1,OF=2,Mx=3,Rx=4,c_=5,FF=6,u_=7,A_=8,Ux=9,d_=10,Mae=[2,3,7],Rae=[3,3,11],LF=[280,256,256,256,40],Uae=[0,1,1,1,0],Qae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hae=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zae=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vae=8,f_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],h_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],j0=null,$ae=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kae=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],MF=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wae=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Gae=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qae=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yae=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ad=[],Pc=[],aA=[],Xae=1,RF=2,sd=[],Zl=[];sa("UpsampleRgbLinePair",ue,3),sa("UpsampleBgrLinePair",Qe,3),sa("UpsampleRgbaLinePair",zn,4),sa("UpsampleBgraLinePair",si,4),sa("UpsampleArgbLinePair",nr,4),sa("UpsampleRgba4444LinePair",Pt,2),sa("UpsampleRgb565LinePair",qe,2);var Jae=N.UpsampleRgbLinePair,Zae=N.UpsampleBgrLinePair,UF=N.UpsampleRgbaLinePair,QF=N.UpsampleBgraLinePair,HF=N.UpsampleArgbLinePair,zF=N.UpsampleRgba4444LinePair,ese=N.UpsampleRgb565LinePair,Qx=16,Hx=1<<Qx-1,I0=-227,p_=482,tse=6,VF=0,nse=a(256),rse=a(256),ise=a(256),ase=a(256),sse=a(p_-I0),ose=a(p_-I0);Ur("YuvToRgbRow",ue,3),Ur("YuvToBgrRow",Qe,3),Ur("YuvToRgbaRow",zn,4),Ur("YuvToBgraRow",si,4),Ur("YuvToArgbRow",nr,4),Ur("YuvToRgba4444Row",Pt,2),Ur("YuvToRgb565Row",qe,2);var $F=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zx=[0,2,8],lse=[8,7,6,4,4,2,2,2,1,1,1,1],cse=1;this.WebPDecodeRGBA=function(b,I,R,z,Z){var ie=Lx,oe=new Ue,ce=new gn;oe.ba=ce,ce.S=ie,ce.width=[ce.width],ce.height=[ce.height];var de=ce.width,ve=ce.height,ke=new Kt;if(ke==null||b==null)var Ge=2;else e(ke!=null),Ge=ol(b,I,R,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ge!=0?de=0:(de!=null&&(de[0]=ke.width[0]),ve!=null&&(ve[0]=ke.height[0]),de=1),de){ce.width=ce.width[0],ce.height=ce.height[0],z!=null&&(z[0]=ce.width),Z!=null&&(Z[0]=ce.height);e:{if(z=new Pn,(Z=new rt).data=b,Z.w=I,Z.ha=R,Z.kd=1,I=[0],e(Z!=null),((b=ol(Z.data,Z.w,Z.ha,null,null,null,I,null,Z))==0||b==7)&&I[0]&&(b=4),(I=b)==0){if(e(oe!=null),z.data=Z.data,z.w=Z.w+Z.offset,z.ha=Z.ha-Z.offset,z.put=Pe,z.ac=Fe,z.bc=We,z.ma=oe,Z.xa){if((b=Jr())==null){oe=1;break e}if(function(ye,Me){var ze=[0],it=[0],Ke=[0];t:for(;;){if(ye==null)return 0;if(Me==null)return ye.a=2,0;if(ye.l=Me,ye.a=0,te(ye.m,Me.data,Me.w,Me.ha),!Et(ye.m,ze,it,Ke)){ye.a=3;break t}if(ye.xb=RF,Me.width=ze[0],Me.height=it[0],!xa(ze[0],it[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(b,z)){if(z=(I=ll(z.width,z.height,oe.Oa,oe.ba))==0){t:{z=b;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((R=z.l)!=null),e((Z=R.ma)!=null),z.xb!=0){if(z.ca=Z.ba,z.tb=Z.tb,e(z.ca!=null),!Pf(Z.Oa,R,Mx)){z.a=2;break n}if(!Li(z,R.width)||R.da)break n;if((R.da||cn(z.ca.S))&&kr(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&kr()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!fe(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Xn(z,z.V,z.Ba,z.c,z.i,R.o,Xr))break n;Z.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(I=b.a)}else I=b.a}else{if((b=new gu)==null){oe=1;break e}if(b.Fa=Z.na,b.P=Z.P,b.qc=Z.Sa,eA(b,z)){if((I=ll(z.width,z.height,oe.Oa,oe.ba))==0){if(b.Aa=0,R=oe.Oa,e((Z=b)!=null),R!=null){if(0<(de=0>(de=R.Md)?0:100<de?255:255*de/100)){for(ve=ke=0;4>ve;++ve)12>(Ge=Z.pb[ve]).lc&&(Ge.ia=de*lse[0>Ge.lc?0:Ge.lc]>>3),ke|=Ge.ia;ke&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=R.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(ye,Me){if(ye==null)return 0;if(Me==null)return ii(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!eA(ye,Me))return 0;if(e(ye.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(ye.L=0);var ze=zx[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Me.v-ze>>4,ye.zb=Me.j-ze>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Me.o+15+ze>>4,ye.Hb=Me.va+15+ze>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var it=ye.ed;for(ze=0;4>ze;++ze){var Ke;if(ye.Qa.Cb){var lt=ye.Qa.Lb[ze];ye.Qa.Fb||(lt+=it.Tb)}else lt=it.Tb;for(Ke=0;1>=Ke;++Ke){var At=ye.gd[ze][Ke],Nt=lt;if(it.Pc&&(Nt+=it.vd[0],Ke&&(Nt+=it.od[0])),0<(Nt=0>Nt?0:63<Nt?63:Nt)){var Ct=Nt;0<it.wb&&(Ct=4<it.wb?Ct>>2:Ct>>1)>9-it.wb&&(Ct=9-it.wb),1>Ct&&(Ct=1),At.dd=Ct,At.tc=2*Nt+Ct,At.ld=40<=Nt?2:15<=Nt?1:0}else At.tc=0;At.La=Ke}}}ze=0}else ii(ye,6,"Frame setup failed"),ze=ye.a;if(ze=ze==0){if(ze){ye.$c=0,0<ye.Aa||(ye.Ic=cse);t:{ze=ye.Ic,it=4*(Ct=ye.za);var vn=32*Ct,on=Ct+1,$n=0<ye.L?Ct*(0<ye.Aa?2:1):0,dn=(ye.Aa==2?2:1)*Ct;if((At=it+832+(Ke=3*(16*ze+zx[ye.L])/2*vn)+(lt=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=At)ze=0;else{if(At>ye.Vb){if(ye.Vb=0,ye.Ec=a(At),ye.Fc=0,ye.Ec==null){ze=ii(ye,1,"no memory during frame initialization.");break t}ye.Vb=At}At=ye.Ec,Nt=ye.Fc,ye.Ac=At,ye.Bc=Nt,Nt+=it,ye.Gd=s(vn,Vl),ye.Hd=0,ye.rb=s(on+1,fs),ye.sb=1,ye.wa=$n?s($n,Mi):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=Ct),e(!0),ye.oc=At,ye.pc=Nt,Nt+=832,ye.ya=s(dn,lo),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=Ct),ye.R=16*Ct,ye.B=8*Ct,Ct=(vn=zx[ye.L])*ye.R,vn=vn/2*ye.B,ye.sa=At,ye.ta=Nt+Ct,ye.qa=ye.sa,ye.ra=ye.ta+16*ze*ye.R+vn,ye.Ha=ye.qa,ye.Ia=ye.ra+8*ze*ye.B+vn,ye.$c=0,Nt+=Ke,ye.mb=lt?At:null,ye.nb=lt?Nt:null,e(Nt+lt<=ye.Fc+ye.Vb),Ds(ye),i(ye.Ac,ye.Bc,0,it),ze=1}}if(ze){if(Me.ka=0,Me.y=ye.sa,Me.O=ye.ta,Me.f=ye.qa,Me.N=ye.ra,Me.ea=ye.Ha,Me.Vd=ye.Ia,Me.fa=ye.R,Me.Rc=ye.B,Me.F=null,Me.J=0,!Ua){for(ze=-255;255>=ze;++ze)Tn[255+ze]=0>ze?-ze:ze;for(ze=-1020;1020>=ze;++ze)gi[1020+ze]=-128>ze?-128:127<ze?127:ze;for(ze=-112;112>=ze;++ze)jn[112+ze]=-16>ze?-16:15<ze?15:ze;for(ze=-255;510>=ze;++ze)Ra[255+ze]=0>ze?0:255<ze?255:ze;Ua=1}Ne=tl,Te=Sc,Ee=Ec,Ie=qn,_e=co,Le=el,je=Xl,De=sl,Re=F,He=X,Xe=hs,et=vu,nt=me,_t=Be,Lt=ql,It=Yl,Ot=Us,zt=Ic,Pc[0]=Nc,Pc[1]=Wn,Pc[2]=aa,Pc[3]=Bc,Pc[4]=nA,Pc[5]=rl,Pc[6]=Zr,Pc[7]=Ms,Pc[8]=Bo,Pc[9]=Kl,ad[0]=Oa,ad[1]=Tf,ad[2]=kf,ad[3]=ra,ad[4]=ia,ad[5]=nl,ad[6]=_c,aA[0]=Gl,aA[1]=tA,aA[2]=Wl,aA[3]=Fa,aA[4]=dr,aA[5]=rA,aA[6]=iA,ze=1}else ze=0}ze&&(ze=function(cr,Qa){for(cr.M=0;cr.M<cr.Va;++cr.M){var Kn,fn=cr.Jc[cr.M&cr.Xb],Ht=cr.m,ca=cr;for(Kn=0;Kn<ca.za;++Kn){var Qn=Ht,hr=ca,vi=hr.Ac,gs=hr.Bc+4*Kn,ho=hr.zc,$i=hr.ya[hr.aa+Kn];if(hr.Qa.Bb?$i.$b=ge(Qn,hr.Pa.jb[0])?2+ge(Qn,hr.Pa.jb[2]):ge(Qn,hr.Pa.jb[1]):$i.$b=0,hr.kc&&($i.Ad=ge(Qn,hr.Bd)),$i.Za=!ge(Qn,145)+0,$i.Za){var Hs=$i.Ob,po=0;for(hr=0;4>hr;++hr){var Ha,wr=ho[0+hr];for(Ha=0;4>Ha;++Ha){wr=Gae[vi[gs+Ha]][wr];for(var Qr=MF[ge(Qn,wr[0])];0<Qr;)Qr=MF[2*Qr+ge(Qn,wr[Qr])];wr=-Qr,vi[gs+Ha]=wr}r(Hs,po,vi,gs,4),po+=4,ho[0+hr]=wr}}else wr=ge(Qn,156)?ge(Qn,128)?1:3:ge(Qn,163)?2:0,$i.Ob[0]=wr,i(vi,gs,wr,4),i(ho,0,wr,4);$i.Dd=ge(Qn,142)?ge(Qn,114)?ge(Qn,183)?1:3:2:0}if(ca.m.Ka)return ii(cr,7,"Premature end-of-partition0 encountered.");for(;cr.ja<cr.za;++cr.ja){if(ca=fn,Qn=(Ht=cr).rb[Ht.sb-1],vi=Ht.rb[Ht.sb+Ht.ja],Kn=Ht.ya[Ht.aa+Ht.ja],gs=Ht.kc?Kn.Ad:0)Qn.la=vi.la=0,Kn.Za||(Qn.Na=vi.Na=0),Kn.Hc=0,Kn.Gc=0,Kn.ia=0;else{var Ki,Hr;if(Qn=vi,vi=ca,gs=Ht.Pa.Xc,ho=Ht.ya[Ht.aa+Ht.ja],$i=Ht.pb[ho.$b],hr=ho.ad,Hs=0,po=Ht.rb[Ht.sb-1],wr=Ha=0,i(hr,Hs,0,384),ho.Za)var vs=0,Dc=gs[3];else{Qr=a(16);var ua=Qn.Na+po.Na;if(ua=j0(vi,gs[1],ua,$i.Eb,0,Qr,0),Qn.Na=po.Na=(0<ua)+0,1<ua)Ne(Qr,0,hr,Hs);else{var jo=Qr[0]+3>>3;for(Qr=0;256>Qr;Qr+=16)hr[Hs+Qr]=jo}vs=1,Dc=gs[0]}var ti=15&Qn.la,za=15&po.la;for(Qr=0;4>Qr;++Qr){var ul=1&za;for(jo=Hr=0;4>jo;++jo)ti=ti>>1|(ul=(ua=j0(vi,Dc,ua=ul+(1&ti),$i.Sc,vs,hr,Hs))>vs)<<7,Hr=Hr<<2|(3<ua?3:1<ua?2:hr[Hs+0]!=0),Hs+=16;ti>>=4,za=za>>1|ul<<7,Ha=(Ha<<8|Hr)>>>0}for(Dc=ti,vs=za>>4,Ki=0;4>Ki;Ki+=2){for(Hr=0,ti=Qn.la>>4+Ki,za=po.la>>4+Ki,Qr=0;2>Qr;++Qr){for(ul=1&za,jo=0;2>jo;++jo)ua=ul+(1&ti),ti=ti>>1|(ul=0<(ua=j0(vi,gs[2],ua,$i.Qc,0,hr,Hs)))<<3,Hr=Hr<<2|(3<ua?3:1<ua?2:hr[Hs+0]!=0),Hs+=16;ti>>=2,za=za>>1|ul<<5}wr|=Hr<<4*Ki,Dc|=ti<<4<<Ki,vs|=(240&za)<<Ki}Qn.la=Dc,po.la=vs,ho.Hc=Ha,ho.Gc=wr,ho.ia=43690&wr?0:$i.ia,gs=!(Ha|wr)}if(0<Ht.L&&(Ht.wa[Ht.Y+Ht.ja]=Ht.gd[Kn.$b][Kn.Za],Ht.wa[Ht.Y+Ht.ja].La|=!gs),ca.Ka)return ii(cr,7,"Premature end-of-file encountered.")}if(Ds(cr),Ht=Qa,ca=1,Kn=(fn=cr).D,Qn=0<fn.L&&fn.M>=fn.zb&&fn.M<=fn.Va,fn.Aa==0)t:{if(Kn.M=fn.M,Kn.uc=Qn,Sa(fn,Kn),ca=1,Kn=(Hr=fn.D).Nb,Qn=(wr=zx[fn.L])*fn.R,vi=wr/2*fn.B,Qr=16*Kn*fn.R,jo=8*Kn*fn.B,gs=fn.sa,ho=fn.ta-Qn+Qr,$i=fn.qa,hr=fn.ra-vi+jo,Hs=fn.Ha,po=fn.Ia-vi+jo,za=(ti=Hr.M)==0,Ha=ti>=fn.Va-1,fn.Aa==2&&Sa(fn,Hr),Hr.uc)for(ul=(ua=fn).D.M,e(ua.D.uc),Hr=ua.yb;Hr<ua.Hb;++Hr){vs=Hr,Dc=ul;var mo=(Al=(ys=ua).D).Nb;Ki=ys.R;var Al=Al.wa[Al.Y+vs],dl=ys.sa,Io=ys.ta+16*mo*Ki+16*vs,fl=Al.dd,oi=Al.tc;if(oi!=0)if(e(3<=oi),ys.L==1)0<vs&&It(dl,Io,Ki,oi+4),Al.La&&zt(dl,Io,Ki,oi),0<Dc&&Lt(dl,Io,Ki,oi+4),Al.La&&Ot(dl,Io,Ki,oi);else{var hl=ys.B,Oc=ys.qa,Of=ys.ra+8*mo*hl+8*vs,sA=ys.Ha,ys=ys.Ia+8*mo*hl+8*vs;mo=Al.ld,0<vs&&(De(dl,Io,Ki,oi+4,fl,mo),He(Oc,Of,sA,ys,hl,oi+4,fl,mo)),Al.La&&(et(dl,Io,Ki,oi,fl,mo),_t(Oc,Of,sA,ys,hl,oi,fl,mo)),0<Dc&&(je(dl,Io,Ki,oi+4,fl,mo),Re(Oc,Of,sA,ys,hl,oi+4,fl,mo)),Al.La&&(Xe(dl,Io,Ki,oi,fl,mo),nt(Oc,Of,sA,ys,hl,oi,fl,mo))}}if(fn.ia&&alert("todo:DitherRow"),Ht.put!=null){if(Hr=16*ti,ti=16*(ti+1),za?(Ht.y=fn.sa,Ht.O=fn.ta+Qr,Ht.f=fn.qa,Ht.N=fn.ra+jo,Ht.ea=fn.Ha,Ht.W=fn.Ia+jo):(Hr-=wr,Ht.y=gs,Ht.O=ho,Ht.f=$i,Ht.N=hr,Ht.ea=Hs,Ht.W=po),Ha||(ti-=wr),ti>Ht.o&&(ti=Ht.o),Ht.F=null,Ht.J=null,fn.Fa!=null&&0<fn.Fa.length&&Hr<ti&&(Ht.J=Gr(fn,Ht,Hr,ti-Hr),Ht.F=fn.mb,Ht.F==null&&Ht.F.length==0)){ca=ii(fn,3,"Could not decode alpha data.");break t}Hr<Ht.j&&(wr=Ht.j-Hr,Hr=Ht.j,e(!(1&wr)),Ht.O+=fn.R*wr,Ht.N+=fn.B*(wr>>1),Ht.W+=fn.B*(wr>>1),Ht.F!=null&&(Ht.J+=Ht.width*wr)),Hr<ti&&(Ht.O+=Ht.v,Ht.N+=Ht.v>>1,Ht.W+=Ht.v>>1,Ht.F!=null&&(Ht.J+=Ht.v),Ht.ka=Hr-Ht.j,Ht.U=Ht.va-Ht.v,Ht.T=ti-Hr,ca=Ht.put(Ht))}Kn+1!=fn.Ic||Ha||(r(fn.sa,fn.ta-Qn,gs,ho+16*fn.R,Qn),r(fn.qa,fn.ra-vi,$i,hr+8*fn.B,vi),r(fn.Ha,fn.Ia-vi,Hs,po+8*fn.B,vi))}if(!ca)return ii(cr,6,"Output aborted.")}return 1}(ye,Me)),Me.bc!=null&&Me.bc(Me),ze&=1}return ze?(ye.cb=0,ze):0})(b,z)||(I=b.a)}}else I=b.a}I==0&&oe.Oa!=null&&oe.Oa.fd&&(I=Df(oe.ba))}oe=I}ie=oe!=0?null:11>ie?ce.f.RGBA.eb:ce.f.kb.y}else ie=null;return ie};var KF=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,D){for(var T="",O=0;O<4;O++)T+=String.fromCharCode(N[D++]);return T}function A(N,D){return N[D+0]|N[D+1]<<8}function d(N,D){return(N[D+0]|N[D+1]<<8|N[D+2]<<16)>>>0}function f(N,D){return(N[D+0]|N[D+1]<<8|N[D+2]<<16|N[D+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],v=new l,g=t,y=function(N,D){var T={},O=0,L=!1,H=0,q=0;if(T.frames=[],!function(M,$){for(var J=0;J<4;J++)if(M[$+J]!="RIFF".charCodeAt(J))return!0;return!1}(N,D)){for(f(N,D+=4),D+=8;D<N.length;){var Y=u(N,D),ee=f(N,D+=4);D+=4;var K=ee+(1&ee);switch(Y){case"VP8 ":case"VP8L":T.frames[O]===void 0&&(T.frames[O]={}),(se=T.frames[O]).src_off=L?q:D-8,se.src_size=H+ee+8,O++,L&&(L=!1,H=0,q=0);break;case"VP8X":(se=T.header={}).feature_flags=N[D];var te=D+4;se.canvas_width=1+d(N,te),te+=3,se.canvas_height=1+d(N,te),te+=3;break;case"ALPH":L=!0,H=K+8,q=D-8;break;case"ANIM":(se=T.header).bgcolor=f(N,D),te=D+4,se.loop_count=A(N,te),te+=2;break;case"ANMF":var le,se;(se=T.frames[O]={}).offset_x=2*d(N,D),D+=3,se.offset_y=2*d(N,D),D+=3,se.width=1+d(N,D),D+=3,se.height=1+d(N,D),D+=3,se.duration=d(N,D),D+=3,le=N[D++],se.dispose=1&le,se.blend=le>>1&1}Y!="ANMF"&&(D+=K)}return T}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,C=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],p=[x.canvas_width];for(var E=0;E<C.length&&C[E].blend!=0;E++);}var j=C[0],_=v.WebPDecodeRGBA(g,j.src_off,j.src_size,p,h);j.rgba=_,j.imgwidth=p[0],j.imgheight=h[0];for(var B=0;B<p[0]*h[0]*4;B++)m[B]=_[B];return this.width=p,this.height=h,this.data=m,this}(function(t){var e,n,r,i,a,s,o,l,u,A=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new A}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=M;Object.defineProperty(this,"pdf",{get:function(){return $}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Oe){J=!!Oe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Oe){ne=!!Oe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Oe){isNaN(Oe)||(he=Oe)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Oe){isNaN(Oe)||(we=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Oe){var fe;typeof Oe=="number"?fe=[Oe,Oe,Oe,Oe]:((fe=new Array(4))[0]=Oe[0],fe[1]=Oe.length>=2?Oe[1]:fe[0],fe[2]=Oe.length>=3?Oe[2]:fe[0],fe[3]=Oe.length>=4?Oe[3]:fe[1]),u.margin=fe}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Oe){Se=Oe}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(Oe){Ae=Oe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Oe){ge=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Oe){Oe instanceof A&&(u=Oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Oe){u.path=Oe}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Oe){xe=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var fe;fe=f(Oe),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var fe=f(Oe);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var ae=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Oe){ae=null,Ve=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var fe;if(this.ctx.font=Oe,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var $e=fe[1];fe[2];var ht=fe[3],vt=fe[4];fe[5];var Ye=fe[6],Dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vt)[2];vt=Math.floor(Dt==="px"?parseFloat(vt)*this.pdf.internal.scaleFactor:Dt==="em"?parseFloat(vt)*this.pdf.getFontSize():parseFloat(vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vt);var mt=function(yt){var tt,Qt,ft=[],gt=yt.trim();if(gt==="")return h4;if(gt in _V)return[_V[gt]];for(;gt!=="";){switch(Qt=null,tt=(gt=NV(gt)).charAt(0)){case'"':case"'":Qt=ist(gt.substring(1),tt);break;default:Qt=ast(gt)}if(Qt===null||(ft.push(Qt[0]),(gt=NV(Qt[1]))!==""&&gt.charAt(0)!==","))return h4;gt=gt.replace(/^,/,"")}return ft}(Ye);if(this.fontFaces){var ct=function(yt,tt){if(ae===null){var Qt=function(ft){var gt=[];return Object.keys(ft).forEach(function(Ft){ft[Ft].forEach(function(St){var Vt=null;switch(St){case"bold":Vt={family:Ft,weight:"bold"};break;case"italic":Vt={family:Ft,style:"italic"};break;case"bolditalic":Vt={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:Ft}}Vt!==null&&(Vt.ref={name:Ft,style:St},gt.push(Vt))})}),gt}(yt.getFontList());ae=function(ft){for(var gt={},Ft=0;Ft<ft.length;++Ft){var St=f4(ft[Ft]),Vt=St.family,hn=St.stretch,cn=St.style,wt=St.weight;gt[Vt]=gt[Vt]||{},gt[Vt][hn]=gt[Vt][hn]||{},gt[Vt][hn][cn]=gt[Vt][hn][cn]||{},gt[Vt][hn][cn][wt]=St}return gt}(Qt.concat(tt))}return ae}(this.pdf,this.fontFaces),jt=mt.map(function(yt){return{family:yt,stretch:"normal",weight:ht,style:$e}}),Xt=function(yt,tt,Qt){for(var ft=(Qt=Qt||{}).defaultFontFamily||"times",gt=Object.assign({},rst,Qt.genericFontFamilies||{}),Ft=null,St=null,Vt=0;Vt<tt.length;++Vt)if(gt[(Ft=f4(tt[Vt])).family]&&(Ft.family=gt[Ft.family]),yt.hasOwnProperty(Ft.family)){St=yt[Ft.family];break}if(!(St=St||yt[ft]))throw new Error("Could not find a font-family for the rule '"+BV(Ft)+"' and default family '"+ft+"'.");if(St=function(hn,cn){if(cn[hn])return cn[hn];var wt=Pk[hn],Zn=wt<=Pk.normal?-1:1,gn=EV(cn,mae,wt,Zn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+hn);return gn}(Ft.stretch,St),St=function(hn,cn){if(cn[hn])return cn[hn];for(var wt=pae[hn],Zn=0;Zn<wt.length;++Zn)if(cn[wt[Zn]])return cn[wt[Zn]];throw new Error("Could not find a matching font-style for "+hn)}(Ft.style,St),!(St=function(hn,cn){if(cn[hn])return cn[hn];if(hn===400&&cn[500])return cn[500];if(hn===500&&cn[400])return cn[400];var wt=nst[hn],Zn=EV(cn,gae,wt,hn<400?-1:1);if(!Zn)throw new Error("Could not find a matching font-weight for value "+hn);return Zn}(Ft.weight,St)))throw new Error("Failed to resolve a font for the rule '"+BV(Ft)+"'.");return St}(ct,jt);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var Zt="";(ht==="bold"||parseInt(ht,10)>=700||$e==="bold")&&(Zt="bold"),$e==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var Ut="",rn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<mt.length;st++){if(this.pdf.internal.getFont(mt[st],Zt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=mt[st];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(mt[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=mt[st],Zt="bold";else if(this.pdf.internal.getFont(mt[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=mt[st],Zt="normal";break}}if(Ut===""){for(var bt=0;bt<mt.length;bt++)if(rn[mt[bt]]){Ut=rn[mt[bt]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(M,$)},d.prototype.closePath=function(){var M=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Vr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){M=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},d.prototype.lineTo=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,$,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new s(J,ne)),we=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"qct",x1:we.x,y1:we.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},d.prototype.bezierCurveTo=function(M,$,J,ne,he,we){if(isNaN(he)||isNaN(we)||isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new s(he,we)),Ae=this.ctx.transform.applyToPoint(new s(M,$)),ge=this.ctx.transform.applyToPoint(new s(J,ne));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:ge.x,y2:ge.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new s(Se.x,Se.y)},d.prototype.arc=function(M,$,J,ne,he,we){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(he))throw ni.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new s(M,$));M=Se.x,$=Se.y;var Ae=this.ctx.transform.applyToPoint(new s(0,J)),ge=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(Ae.x-ge.x,2)+Math.pow(Ae.y-ge.y,2))}Math.abs(he-ne)>=2*Math.PI&&(ne=0,he=2*Math.PI),this.path.push({type:"arc",x:M,y:$,radius:J,startAngle:ne,endAngle:he,counterclockwise:we})},d.prototype.arcTo=function(M,$,J,ne,he){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,$),this.lineTo(M+J,$),this.lineTo(M+J,$+ne),this.lineTo(M,$+ne),this.lineTo(M,$),this.lineTo(M+J,$),this.lineTo(M,$)},d.prototype.fillRect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,$,J,ne),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},d.prototype.strokeRect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(M,$,J,ne),this.stroke())},d.prototype.clearRect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,$,J,ne))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage($),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage($),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(M){var $,J,ne,he;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))$=0,J=0,ne=0,he=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(we!==null)$=parseInt(we[1]),J=parseInt(we[2]),ne=parseInt(we[3]),he=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)$=parseInt(we[1]),J=parseInt(we[2]),ne=parseInt(we[3]),he=parseFloat(we[4]);else{if(he=1,typeof M=="string"&&M.charAt(0)!=="#"){var Se=new lae(M);M=Se.ok?Se.toHex():"#000000"}M.length===4?($=M.substring(1,2),$+=$,J=M.substring(2,3),J+=J,ne=M.substring(3,4),ne+=ne):($=M.substring(1,3),J=M.substring(3,5),ne=M.substring(5,7)),$=parseInt($,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:$,g:J,b:ne,a:he,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,$,J,ne){if(isNaN($)||isNaN(J)||typeof M!="string")throw ni.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var he=K(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:M,x:$,y:J,scale:we,angle:he,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(M,$,J,ne){if(isNaN($)||isNaN(J)||typeof M!="string")throw ni.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ne=isNaN(ne)?void 0:ne;var he=K(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:M,x:$,y:J,scale:we,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(M){if(typeof M!="string")throw ni.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,J=this.pdf.internal.scaleFactor,ne=$.internal.getFontSize(),he=$.getStringUnitWidth(M)*ne/$.internal.scaleFactor;return new function(we){var Se=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:he*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(M,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(M){if(isNaN(M))throw ni.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.translate=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,M,$);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(M,$,J,ne,he,we){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(he)||isNaN(we))throw ni.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new l(M,$,J,ne,he,we);this.ctx.transform=this.ctx.transform.multiply(Se)},d.prototype.setTransform=function(M,$,J,ne,he,we){M=isNaN(M)?1:M,$=isNaN($)?0:$,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,he=isNaN(he)?0:he,we=isNaN(we)?0:we,this.ctx.transform=new l(M,$,J,ne,he,we)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,$,J,ne,he,we,Se,Ae,ge){var xe=this.pdf.getImageProperties(M),ae=1,Ve=1,Oe=1,fe=1;ne!==void 0&&Ae!==void 0&&(Oe=Ae/ne,fe=ge/he,ae=xe.width/ne*Ae/ne,Ve=xe.height/he*ge/he),we===void 0&&(we=$,Se=J,$=0,J=0),ne!==void 0&&Ae===void 0&&(Ae=ne,ge=he),ne===void 0&&Ae===void 0&&(Ae=xe.width,ge=xe.height);for(var $e,ht=this.ctx.transform.decompose(),vt=K(ht.rotate.shx),Ye=new l,Dt=(Ye=(Ye=(Ye=Ye.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new o(we-$*Oe,Se-J*fe,ne*ae,he*Ve)),mt=v.call(this,Dt),ct=[],jt=0;jt<mt.length;jt+=1)ct.indexOf(mt[jt])===-1&&ct.push(mt[jt]);if(x(ct),this.autoPaging)for(var Xt=ct[0],Zt=ct[ct.length-1],Ut=Xt;Ut<Zt+1;Ut++){this.pdf.setPage(Ut);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Ut===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ut===1?0:bt+(Ut-2)*yt;if(this.ctx.clip_path.length!==0){var Qt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($e,this.posX+this.margin[3],-tt+st+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Qt}var ft=JSON.parse(JSON.stringify(Dt));ft=y([ft],this.posX+this.margin[3],-tt+st+this.ctx.prevPageLastElemOffset)[0];var gt=(Ut>Xt||Ut<Zt)&&m.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,yt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,vt),gt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,vt)};var v=function(M,$,J){var ne=[];$=$||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+he)/J)+1);break;case"arc":ne.push(Math.floor((M.y+he-M.radius)/J)+1),ne.push(Math.floor((M.y+he+M.radius)/J)+1);break;case"qct":var we=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((we.y+he)/J)+1),ne.push(Math.floor((we.y+we.h+he)/J)+1);break;case"bct":var Se=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((Se.y+he)/J)+1),ne.push(Math.floor((Se.y+Se.h+he)/J)+1);break;case"rect":ne.push(Math.floor((M.y+he)/J)+1),ne.push(Math.floor((M.y+M.h+he)/J)+1)}for(var Ae=0;Ae<ne.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ae];)g.call(this);return ne},g=function(){var M=this.fillStyle,$=this.strokeStyle,J=this.font,ne=this.lineCap,he=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=$,this.font=J,this.lineCap=ne,this.lineWidth=he,this.lineJoin=we},y=function(M,$,J){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=$,M[ne].y2+=J;case"qct":M[ne].x1+=$,M[ne].y1+=J;default:M[ne].x+=$,M[ne].y+=J}return M},x=function(M){return M.sort(function($,J){return $-J})},C=function(M,$){for(var J,ne,he=this.fillStyle,we=this.strokeStyle,Se=this.lineCap,Ae=this.lineWidth,ge=Math.abs(Ae*this.ctx.transform.scaleX),xe=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Oe=[],fe=0;fe<Ve.length;fe++)if(Ve[fe].x!==void 0)for(var $e=v.call(this,Ve[fe]),ht=0;ht<$e.length;ht+=1)Oe.indexOf($e[ht])===-1&&Oe.push($e[ht]);for(var vt=0;vt<Oe.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Oe[vt];)g.call(this);if(x(Oe),this.autoPaging)for(var Ye=Oe[0],Dt=Oe[Oe.length-1],mt=Ye;mt<Dt+1;mt++){this.pdf.setPage(mt),this.fillStyle=he,this.strokeStyle=we,this.lineCap=Se,this.lineWidth=ge,this.lineJoin=xe;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=mt===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=mt===1?0:Xt+(mt-2)*Zt;if(this.ctx.clip_path.length!==0){var rn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(J,this.posX+this.margin[3],-Ut+jt+this.ctx.prevPageLastElemOffset),E.call(this,M,!0),this.path=rn}if(ne=JSON.parse(JSON.stringify(ae)),this.path=y(ne,this.posX+this.margin[3],-Ut+jt+this.ctx.prevPageLastElemOffset),$===!1||mt===0){var st=(mt>Ye||mt<Dt)&&m.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Zt,null).clip().discardPath()),E.call(this,M,$),st&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=ge,E.call(this,M,$),this.lineWidth=Ae;this.path=ae},E=function(M,$){if((M!=="stroke"||$||!p.call(this))&&(M==="stroke"||$||!h.call(this))){for(var J,ne,he=[],we=this.path,Se=0;Se<we.length;Se++){var Ae=we[Se];switch(Ae.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ae,deltas:[],abs:[]});break;case"lt":var ge=he.length;if(we[Se-1]&&!isNaN(we[Se-1].x)&&(J=[Ae.x-we[Se-1].x,Ae.y-we[Se-1].y],ge>0)){for(;ge>=0;ge--)if(he[ge-1].close!==!0&&he[ge-1].begin!==!0){he[ge-1].deltas.push(J),he[ge-1].abs.push(Ae);break}}break;case"bct":J=[Ae.x1-we[Se-1].x,Ae.y1-we[Se-1].y,Ae.x2-we[Se-1].x,Ae.y2-we[Se-1].y,Ae.x-we[Se-1].x,Ae.y-we[Se-1].y],he[he.length-1].deltas.push(J);break;case"qct":var xe=we[Se-1].x+2/3*(Ae.x1-we[Se-1].x),ae=we[Se-1].y+2/3*(Ae.y1-we[Se-1].y),Ve=Ae.x+2/3*(Ae.x1-Ae.x),Oe=Ae.y+2/3*(Ae.y1-Ae.y),fe=Ae.x,$e=Ae.y;J=[xe-we[Se-1].x,ae-we[Se-1].y,Ve-we[Se-1].x,Oe-we[Se-1].y,fe-we[Se-1].x,$e-we[Se-1].y],he[he.length-1].deltas.push(J);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ae)}}ne=$?null:M==="stroke"?"stroke":"fill";for(var ht=!1,vt=0;vt<he.length;vt++)if(he[vt].arc)for(var Ye=he[vt].abs,Dt=0;Dt<Ye.length;Dt++){var mt=Ye[Dt];mt.type==="arc"?B.call(this,mt.x,mt.y,mt.radius,mt.startAngle,mt.endAngle,mt.counterclockwise,void 0,$,!ht):L.call(this,mt.x,mt.y),ht=!0}else if(he[vt].close===!0)this.pdf.internal.out("h"),ht=!1;else if(he[vt].begin!==!0){var ct=he[vt].start.x,jt=he[vt].start.y;H.call(this,he[vt].deltas,ct,jt),ht=!0}ne&&N.call(this,ne),$&&D.call(this)}},j=function(M){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-J;case"top":return M+$-J;case"hanging":return M+$-2*J;case"middle":return M+$/2-J;default:return M}},_=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function($,J){this.colorStops.push([$,J])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(M,$,J,ne,he,we,Se,Ae,ge){for(var xe=Y.call(this,J,ne,he,we),ae=0;ae<xe.length;ae++){var Ve=xe[ae];ae===0&&(ge?T.call(this,Ve.x1+M,Ve.y1+$):L.call(this,Ve.x1+M,Ve.y1+$)),q.call(this,M,$,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}Ae?D.call(this):N.call(this,Se)},N=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(M,$){this.pdf.internal.out(n(M)+" "+r($)+" m")},O=function(M){var $;switch(M.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var J=this.pdf.getTextDimensions(M.text),ne=j.call(this,M.y),he=_.call(this,ne)-J.h,we=this.ctx.transform.applyToPoint(new s(M.x,ne)),Se=this.ctx.transform.decompose(),Ae=new l;Ae=(Ae=(Ae=Ae.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var ge,xe,ae,Ve=this.ctx.transform.applyToRectangle(new o(M.x,ne,J.w,J.h)),Oe=Ae.applyToRectangle(new o(M.x,he,J.w,J.h)),fe=v.call(this,Oe),$e=[],ht=0;ht<fe.length;ht+=1)$e.indexOf(fe[ht])===-1&&$e.push(fe[ht]);if(x($e),this.autoPaging)for(var vt=$e[0],Ye=$e[$e.length-1],Dt=vt;Dt<Ye+1;Dt++){this.pdf.setPage(Dt);var mt=Dt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],Xt=jt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Ut=Zt-this.margin[3],rn=Dt===1?0:ct+(Dt-2)*Xt;if(this.ctx.clip_path.length!==0){var st=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ge,this.posX+this.margin[3],-1*rn+mt),E.call(this,"fill",!0),this.path=st}var bt=y([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-rn+mt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),ae=this.lineWidth,this.lineWidth=ae*M.scale);var yt=this.autoPaging!=="text";if(yt||bt.y+bt.h<=jt){if(yt||bt.y>=mt&&bt.x<=Zt){var tt=yt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Zt-bt.x)[0],Qt=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-rn+mt+this.ctx.prevPageLastElemOffset)[0],ft=yt&&(Dt>vt||Dt<Ye)&&m.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Xt,null).clip().discardPath()),this.pdf.text(tt,Qt.x,Qt.y,{angle:M.angle,align:$,renderingMode:M.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else bt.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-bt.y);M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ae)}else M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),ae=this.lineWidth,this.lineWidth=ae*M.scale),this.pdf.text(M.text,we.x+this.posX,we.y+this.posY,{angle:M.angle,align:$,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ae)},L=function(M,$,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(M+J)+" "+r($+ne)+" l")},H=function(M,$,J){return this.pdf.lines(M,$,J,null,null)},q=function(M,$,J,ne,he,we,Se,Ae){this.pdf.internal.out([e(i(J+M)),e(a(ne+$)),e(i(he+M)),e(a(we+$)),e(i(Se+M)),e(a(Ae+$)),"c"].join(" "))},Y=function(M,$,J,ne){for(var he=2*Math.PI,we=Math.PI/2;$>J;)$-=he;var Se=Math.abs(J-$);Se<he&&ne&&(Se=he-Se);for(var Ae=[],ge=ne?-1:1,xe=$;Se>1e-5;){var ae=xe+ge*Math.min(Se,we);Ae.push(ee.call(this,M,xe,ae)),Se-=Math.abs(ae-xe),xe=ae}return Ae},ee=function(M,$,J){var ne=(J-$)/2,he=M*Math.cos(ne),we=M*Math.sin(ne),Se=he,Ae=-we,ge=Se*Se+Ae*Ae,xe=ge+Se*he+Ae*we,ae=4/3*(Math.sqrt(2*ge*xe)-xe)/(Se*we-Ae*he),Ve=Se-ae*Ae,Oe=Ae+ae*Se,fe=Ve,$e=-Oe,ht=ne+$,vt=Math.cos(ht),Ye=Math.sin(ht);return{x1:M*Math.cos($),y1:M*Math.sin($),x2:Ve*vt-Oe*Ye,y2:Ve*Ye+Oe*vt,x3:fe*vt-$e*Ye,y3:fe*Ye+$e*vt,x4:M*Math.cos(J),y4:M*Math.sin(J)}},K=function(M){return 180*M/Math.PI},te=function(M,$,J,ne,he,we){var Se=M+.5*(J-M),Ae=$+.5*(ne-$),ge=he+.5*(J-he),xe=we+.5*(ne-we),ae=Math.min(M,he,Se,ge),Ve=Math.max(M,he,Se,ge),Oe=Math.min($,we,Ae,xe),fe=Math.max($,we,Ae,xe);return new o(ae,Oe,Ve-ae,fe-Oe)},le=function(M,$,J,ne,he,we,Se,Ae){var ge,xe,ae,Ve,Oe,fe,$e,ht,vt,Ye,Dt,mt,ct,jt,Xt=J-M,Zt=ne-$,Ut=he-J,rn=we-ne,st=Se-he,bt=Ae-we;for(xe=0;xe<41;xe++)vt=($e=(ae=M+(ge=xe/40)*Xt)+ge*((Oe=J+ge*Ut)-ae))+ge*(Oe+ge*(he+ge*st-Oe)-$e),Ye=(ht=(Ve=$+ge*Zt)+ge*((fe=ne+ge*rn)-Ve))+ge*(fe+ge*(we+ge*bt-fe)-ht),xe==0?(Dt=vt,mt=Ye,ct=vt,jt=Ye):(Dt=Math.min(Dt,vt),mt=Math.min(mt,Ye),ct=Math.max(ct,vt),jt=Math.max(jt,Ye));return new o(Math.round(Dt),Math.round(mt),Math.round(ct-Dt),Math.round(jt-mt))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,$,J=(M=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:$}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(mn.API),function(t){var e=function(s){var o,l,u,A,d,f,h,p,m,v;for(l=[],u=0,A=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;A>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(f=(d=((d=((d=((d=(d-(v=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,v+33)):l.push(122);return function(g,y){for(var x=y;x>0;x--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,u,A,d,f=String,h="length",p=255,m="charCodeAt",v="slice",g="replace";for(s[v](-2),s=s[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],A=0,d=(s+=o="uuuuu"[v](s[h]%5||5))[h];d>A;A+=5)l=52200625*(s[m](A)-33)+614125*(s[m](A+1)-33)+7225*(s[m](A+2)-33)+85*(s[m](A+3)-33)+(s[m](A+4)-33),u.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,x){for(var C=x;C>0;C--)y.pop()}(u,o[h]),f.fromCharCode.apply(f,u)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=_k(o)).reduce(function(u,A){return u+String.fromCharCode(A)},"")};t.processDataByFilters=function(s,o){var l=0,u=s||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:A.reverse().join(" ")}}}(mn.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,A){var d=new XMLHttpRequest,f=0,h=function(p){var m=p.length,v=[],g=String.fromCharCode;for(f=0;f<m;f+=1)v.push(g(255&p.charCodeAt(f)));return v.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?A(h(this.responseText)):A(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(mn.API),function(t){function e(){return(kn.html2canvas?Promise.resolve(kn.html2canvas):qN(()=>Promise.resolve().then(()=>krt),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(kn.DOMPurify?Promise.resolve(kn.DOMPurify):qN(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Vr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var A in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[A]=l.style[A];return u},a=function o(l,u){for(var A=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||A.appendChild(o(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(A.width=l.width,A.height=l.height,A.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(A.value=l.value),A.addEventListener("load",function(){A.scrollTop=l.scrollTop,A.scrollLeft=l.scrollLeft},!0)),A},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),u);return(A=A.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,A=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=A,A)for(var h=0;h<A.length;++h){var p=A[h],m=p.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,A){return Math.floor(u*A/72*96)}return this.then(function(){(o=o||mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,A){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,A?this.progress.stack.concat(A):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(A,d){return u.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,A),f}).then(A,d).then(function(f){return u.updateProgress(1),f})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var A=this;o&&(o=o.bind(A)),l&&(l=l.bind(A));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:s.convert(Object.assign({},A),Promise.prototype),f=u.call(d,o,l);return s.convert(f,A.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,mn.getPageSize=function(o,l,u){if(Vr(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,u=A.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,v=0;if(h.hasOwnProperty(f))m=h[f][1]/d,v=h[f][0]/d;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",v>m&&(p=v,v=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(p=v,v=m,m=p)}return{width:v,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(f4):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(mn.API),mn.API.addJS=function(t){return IV=t,this.internal.events.subscribe("postPutResources",function(){Bw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jV=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+IV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bw!==void 0&&jV!==void 0&&this.internal.out("/Names <</JavaScript "+Bw+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(a=0;a<u;a++){var d=n.internal.newObject();A.push(d);var f=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<A.length;a++)n.internal.write("(page_"+(a+1)+")"+A[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(mn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,u=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,e.indexOf(d.charCodeAt(v+1))!==-1){f=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:f,numcomponents:d.charCodeAt(v+9)};break}h=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return A}}(mn.API),mn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=Hat(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,A=a.depth;i=u&&l===1?function(B){for(var N=B.width,D=B.height,T=B.data,O=B.palette,L=B.depth,H=!1,q=[],Y=[],ee=void 0,K=!1,te=0,le=0;le<O.length;le++){var se=D9(O[le],4),M=se[0],$=se[1],J=se[2],ne=se[3];q.push(M,$,J),ne!=null&&(ne===0?(te++,Y.length<1&&Y.push(le)):ne<255&&(K=!0))}if(K||te>1){H=!0,Y=void 0;var he=N*D;ee=new Uint8Array(he);for(var we=new DataView(T.buffer),Se=0;Se<he;Se++){var Ae=p4(we,Se,L),ge=D9(O[Ae],4)[3];ee[Se]=ge}}else te===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:T,alphaBytes:ee,needSMask:H,palette:q,mask:Y}}(a):l===2||l===4?function(B){for(var N=B.data,D=B.width,T=B.height,O=B.channels,L=B.depth,H=O===2?"DeviceGray":"DeviceRGB",q=O-1,Y=D*T,ee=q,K=Y*ee,te=1*Y,le=Math.ceil(K*L/8),se=Math.ceil(te*L/8),M=new Uint8Array(le),$=new Uint8Array(se),J=new DataView(N.buffer),ne=new DataView(M.buffer),he=new DataView($.buffer),we=!1,Se=0;Se<Y;Se++){for(var Ae=Se*O,ge=0;ge<ee;ge++)RV(ne,p4(J,Ae+ge,L),Se*ee+ge,L);var xe=p4(J,Ae+ee,L);xe<(1<<L)-1&&(we=!0),RV(he,xe,1*Se,L)}return{colorSpace:H,colorsPerPixel:q,sMaskBitsPerComponent:we?L:void 0,colorBytes:M,alphaBytes:$,needSMask:we}}(a):function(B){var N=B.data,D=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(T){for(var O=T.length,L=new Uint8Array(2*O),H=new DataView(L.buffer,L.byteOffset,L.byteLength),q=0;q<O;q++)H.setUint16(2*q,T[q],!1);return L}(N):N,needSMask:!1}}(a);var d,f,h,p=i,m=p.colorSpace,v=p.colorsPerPixel,g=p.sMaskBitsPerComponent,y=p.colorBytes,x=p.alphaBytes,C=p.needSMask,E=p.palette,j=p.mask,_=null;return r!==mn.API.image_compression.NONE&&typeof _k=="function"?(_=function(B){var N;switch(B){case mn.API.image_compression.FAST:N=11;break;case mn.API.image_compression.MEDIUM:N=13;break;case mn.API.image_compression.SLOW:N=14;break;default:N=12}return N}(r),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(_," /Colors ").concat(v," /BitsPerComponent ").concat(A," /Columns ").concat(s),t=DV(y,Math.ceil(s*v*A/8),v,A,r),C&&(h=DV(x,Math.ceil(s*g/8),1,g,r))):(d=void 0,f=void 0,t=y,C&&(h=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:d,decodeParameters:f,transparency:j,palette:E,sMask:h,predictor:_,width:s,height:o,bitsPerComponent:A,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new cst(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},A=new m4(100).encode(u,100);return t.processJPEG.call(this,A,n,r,i)},t.processGIF87A=t.processGIF89A}(mn.API),Mc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ni.log("bit decode error:"+n)}},Mc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Mc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Mc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Mc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,A=r*this.width*4+4*i;this.data[A]=l,this.data[A+1]=o,this.data[A+2]=s,this.data[A+3]=u}this.pos+=t}},Mc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,A=i*this.width*4+4*a;this.data[A]=u,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=255}this.pos+=t}},Mc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Mc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Mc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Mc(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new m4(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(mn.API),QV.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new QV(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new m4(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(mn.API),mn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var A=r[u],d=r[u+1],f=r[u+2],h=r[u+3];a[o++]=A,a[o++]=d,a[o++]=f,s[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zp=mn.API,Nw=zp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,A=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,h=t.length,p=0,m=o[0]||l,v=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(f=d&&Vr(u[r])==="object"&&!isNaN(parseInt(u[r][p],10))?u[r][p]/A:0,v.push((o[r]||m)/l+f)),p=r;return v},TV=zp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zp.processArabic&&(t=zp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Nw.apply(this,arguments).reduce(function(a,s){return a+s},0)},kV=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},PV=function(t,e,n){n||(n={});var r,i,a,s,o,l,u,A=[],d=[A],f=n.textIndent||0,h=0,p=0,m=t.split(" "),v=Nw.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),y=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?y=y.concat(C.map(function(E,j){return(j&&E.length?`
`:"")+E})):y.push(C[0])}),m=y,l=TV.apply(this,[g,n])}for(a=0,s=m.length;a<s;a++){var x=0;if(r=m[a],l&&r[0]==`
`&&(r=r.substr(1),x=1),f+h+(p=(i=Nw.apply(this,[r,n])).reduce(function(C,E){return C+E},0))>e||x){if(p>e){for(o=kV.apply(this,[r,i,e-(f+h),e]),A.push(o.shift()),A=[o.pop()];o.length;)d.push([o.shift()]);p=i.slice(r.length-(A[0]?A[0].length:0)).reduce(function(C,E){return C+E},0)}else A=[r];d.push(A),f=p+l,h=v}else A.push(r),f+=h+p,h=v}return u=l?function(C,E){return(E?g:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(u)},zp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var d=this.internal.getFont(A.fontName,A.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(PV.apply(this,[r[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,m,v,g=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(Vr(h)!=="object")throw new Error("Don't know what to do with value type "+Vr(h)+".");m=o(h)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,v,g={},y=1,x=g,C=[],E="",j="",_=f.length-1,B=1;B<_;B+=1)(v=f[B])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(C.push([x,m]),x={},m=void 0):v=="}"?((p=C.pop())[0][p[1]]=x,m=void 0,x=p[0]):v=="-"?y=-1:m===void 0?r.hasOwnProperty(v)?(E+=r[v],m=parseInt(E,16)*y,y=1,E=""):E+=v:r.hasOwnProperty(v)?(j+=r[v],x[m]=parseInt(j,16)*y,y=1,m=void 0,j=""):j+=v;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=A.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(mn.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(d2(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(mn),mn.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw ni.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ni.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(kn.canvg?Promise.resolve(kn.canvg):qN(()=>import("./index.es-D70Ipgig.js"),[],import.meta.url)).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(u,t,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(A)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},mn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},mn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,A=0,d=0;function f(p,m){var v,g=!1;for(v=0;v<p.length;v+=1)p[v]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(d=0;d<h;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Vr(t)==="object"){for(i in t)if(a=t[i],f(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&f(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(A=0;A<a[u].length;A+=1)typeof a[u][A]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(mn.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],d=0,f=a.length;d<f;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return A.join("");o=o.toString(16),A.push(u[4-o.length],o)}return A.join("")},r=function(a){var s,o,l,u,A,d,f;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(a).sort(function(h,p){return h-p})).length;d<f;d++)s=o[d],l.length>=100&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,A=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();A({data:h,addLength1:!0,objectId:m}),l("endobj");var v=u();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+em(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+em(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+em(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,A=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=u();A({data:f,addLength1:!0,objectId:p}),l("endobj");var m=u();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+em(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+em(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,A=a.options||{},d=a.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,m=h,v="",g=0,y="",x=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:o,x:l,y:u,options:A,mutex:d};for(y=o,m=h,Array.isArray(o)&&(y=o[0]),g=0;g<y.length;g+=1)p[m].metadata.hasOwnProperty("cmap")&&(s=p[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),s||y[g].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?v+=y[g]:v+="";var C="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?C=f(v,m).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(C=n(v,p[m])),d.isHex=!0,{text:C,x:l,y:u,options:A,mutex:d}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(mn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(mn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,u,A,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,x=0;this.__bidiEngine__={};var C=function(T){var O=T.charCodeAt(),L=O>>8,H=m[L];return H!==void 0?d[256*H+(255&O)]:L===252||L===253?"AL":g.test(L)?"L":L===8?"R":"N"},E=function(T){for(var O,L=0;L<T.length;L++){if((O=C(T.charAt(L)))==="L")return!1;if(O==="R")return!0}return!1},j=function(T,O,L,H){var q,Y,ee,K,te=O[H];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(te="AN");break;case"AL":y=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":H<1||H+1>=O.length||(q=L[H-1])!=="EN"&&q!=="AN"||(Y=O[H+1])!=="EN"&&Y!=="AN"?te="N":y&&(Y="AN"),te=Y===q?Y:"N";break;case"ES":te=(q=H>0?L[H-1]:"B")==="EN"&&H+1<O.length&&O[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&L[H-1]==="EN"){te="EN";break}if(y){te="N";break}for(ee=H+1,K=O.length;ee<K&&O[ee]==="ET";)ee++;te=ee<K&&O[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(K=O.length,ee=H+1;ee<K&&O[ee]==="NSM";)ee++;if(ee<K){var le=T[H],se=le>=1425&&le<=2303||le===64286;if(q=O[ee],se&&(q==="R"||q==="AL")){te="R";break}}}te=H<1||(q=O[H-1])==="B"?"N":L[H-1];break;case"B":y=!1,i=!0,te=x;break;case"S":a=!0,te="N"}return te},_=function(T,O,L){var H=T.split("");return L&&B(H,L,{hiLevel:x}),H.reverse(),O&&O.reverse(),H.join("")},B=function(T,O,L){var H,q,Y,ee,K,te=-1,le=T.length,se=0,M=[],$=x?h:f,J=[];for(y=!1,i=!1,a=!1,q=0;q<le;q++)J[q]=C(T[q]);for(Y=0;Y<le;Y++){if(K=se,M[Y]=j(T,J,M,Y),H=240&(se=$[K][p[M[Y]]]),se&=15,O[Y]=ee=$[se][5],H>0)if(H===16){for(q=te;q<Y;q++)O[q]=1;te=-1}else te=-1;if($[se][6])te===-1&&(te=Y);else if(te>-1){for(q=te;q<Y;q++)O[q]=ee;te=-1}J[Y]==="B"&&(O[Y]=0),L.hiLevel|=ee}a&&function(ne,he,we){for(var Se=0;Se<we;Se++)if(ne[Se]==="S"){he[Se]=x;for(var Ae=Se-1;Ae>=0&&ne[Ae]==="WS";Ae--)he[Ae]=x}}(J,O,le)},N=function(T,O,L,H,q){if(!(q.hiLevel<T)){if(T===1&&x===1&&!i)return O.reverse(),void(L&&L.reverse());for(var Y,ee,K,te,le=O.length,se=0;se<le;){if(H[se]>=T){for(K=se+1;K<le&&H[K]>=T;)K++;for(te=se,ee=K-1;te<ee;te++,ee--)Y=O[te],O[te]=O[ee],O[ee]=Y,L&&(Y=L[te],L[te]=L[ee],L[ee]=Y);se=K}se++}}},D=function(T,O,L){var H=T.split(""),q={hiLevel:x};return L||(L=[]),B(H,L,q),function(Y,ee,K){if(K.hiLevel!==0&&A)for(var te,le=0;le<Y.length;le++)ee[le]===1&&(te=v.indexOf(Y[le]))>=0&&(Y[le]=v[te+1])}(H,L,q),N(2,H,O,L,q),N(1,H,O,L,q),H.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,L){if(function(q,Y){if(Y)for(var ee=0;ee<q.length;ee++)Y[ee]=ee;o===void 0&&(o=E(q)),u===void 0&&(u=E(q))}(T,O),s||!l||u)if(s&&l&&o^u)x=o?1:0,T=_(T,O,L);else if(!s&&l&&u)x=o?1:0,T=D(T,O,L),T=_(T,O);else if(!s||o||l||u){if(s&&!l&&o^u)T=_(T,O),o?(x=0,T=D(T,O,L)):(x=1,T=D(T,O,L),T=_(T,O));else if(s&&o&&!l&&u)x=1,T=D(T,O,L),T=_(T,O);else if(!s&&!l&&o^u){var H=A;o?(x=1,T=D(T,O,L),x=0,A=!1,T=D(T,O,L),A=H):(x=0,T=D(T,O,L),T=_(T,O),x=1,A=!1,T=D(T,O,L),A=H,T=_(T,O))}}else x=0,T=D(T,O,L);else x=o?1:0,T=D(T,O,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,A=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(mn),mn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new pf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Sst(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ust(this.contents),this.head=new dst(this),this.name=new gst(this),this.cmap=new yae(this),this.toUnicode={},this.hhea=new fst(this),this.maxp=new vst(this),this.hmtx=new yst(this),this.post=new pst(this),this.os2=new hst(this),this.loca=new Cst(this),this.glyf=new bst(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var fu,pf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),ust=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,u,A,d,f,h,p,m;for(m in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),s=Math.floor(d/l),A=16*h-d,(i=new pf).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(s),i.writeShort(A),a=16*h,u=i.pos+a,o=null,p=[],n)for(f=n[m],i.writeString(m),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),p=p.concat(f),m==="head"&&(o=u),u+=f.length;u%4;)p.push(0),u++;return i.write(p),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=bae.call(n);n.length%4;)n.push(0);for(a=new pf(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),Ast={}.hasOwnProperty,Zu=function(t,e){for(var n in e)Ast.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var dst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new pf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),HV=function(){function t(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,a=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),e.pos+=2,m=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),u=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),A=function(){var C,E;for(E=[],l=C=0;0<=f?C<f:C>f;l=0<=f?++C:--C)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var C,E;for(E=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)E.push(e.readUInt16());return E}(),l=g=0,x=a.length;g<x;l=++g)for(v=a[l],r=y=p=m[l];p<=v?y<=v:y>=v;r=p<=v?++y:--y)A[l]===0?s=r+u[l]:(s=o[A[l]/2+(r-p)-(f-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=d}return t.encode=function(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x,C,E,j,_,B,N,D,T,O,L,H,q,Y,ee,K,te,le,se,M,$,J,ne,he,we,Se,Ae,ge,xe,ae;switch(H=new pf,s=Object.keys(e).sort(function(Ve,Oe){return Ve-Oe}),n){case"macroman":for(m=0,v=function(){var Ve=[];for(p=0;p<256;++p)Ve.push(0);return Ve}(),y={0:0},a={},q=0,te=s.length;q<te;q++)y[Ae=e[i=s[q]]]==null&&(y[Ae]=++m),a[i]={old:e[i],new:y[e[i]]},v[i]=y[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(v),{charMap:a,subtable:H.data,maxGlyphID:m+1};case"unicode":for(O=[],d=[],x=0,y={},r={},g=u=null,Y=0,le=s.length;Y<le;Y++)y[E=e[i=s[Y]]]==null&&(y[E]=++x),r[i]={old:E,new:y[E]},o=y[E]-i,g!=null&&o===u||(g&&d.push(g),O.push(i),u=o),g=i;for(g&&d.push(g),d.push(65535),O.push(65535),D=2*(N=O.length),B=2*Math.pow(Math.log(N)/Math.LN2,2),f=Math.log(B/2)/Math.LN2,_=2*N-B,l=[],j=[],h=[],p=ee=0,se=O.length;ee<se;p=++ee){if(T=O[p],A=d[p],T===65535){l.push(0),j.push(0);break}if(T-(L=r[T].new)>=32768)for(l.push(0),j.push(2*(h.length+N-p)),i=K=T;T<=A?K<=A:K>=A;i=T<=A?++K:--K)h.push(r[i].new);else l.push(L-T),j.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*N+2*h.length),H.writeUInt16(0),H.writeUInt16(D),H.writeUInt16(B),H.writeUInt16(f),H.writeUInt16(_),we=0,M=d.length;we<M;we++)i=d[we],H.writeUInt16(i);for(H.writeUInt16(0),Se=0,$=O.length;Se<$;Se++)i=O[Se],H.writeUInt16(i);for(ge=0,J=l.length;ge<J;ge++)o=l[ge],H.writeUInt16(o);for(xe=0,ne=j.length;xe<ne;xe++)C=j[xe],H.writeUInt16(C);for(ae=0,he=h.length;ae<he;ae++)m=h[ae],H.writeUInt16(m);return{charMap:r,subtable:H.data,maxGlyphID:x+1}}},t}(),yae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new HV(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=HV.encode(e,n),(i=new pf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),fst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),hst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),pst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),mst=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},gst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,u,A,d,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=A=0,d=r.length;A<d;a=++A)i=r[a],e.pos=i.offset,u=e.readString(i.length),s=new mst(u,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),vst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),yst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)A.push(e.readInt16());return A}(),this.widths=(function(){var u,A,d,f;for(f=[],u=0,A=(d=this.metrics).length;u<A;u++)a=d[u],f.push(a.advance);return f}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),bae=[].slice,bst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,u,A,d;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new pf(n.read(i))).readShort(),u=o.readShort(),d=o.readShort(),l=o.readShort(),A=o.readShort(),this.cache[e]=s===-1?new wst(o,u,d,l,A):new xst(o,s,u,d,l,A),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),xst=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),wst=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new pf(bae.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Cst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,fu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),A=0;A<r.length;++A)u[4*A+3]=255&r[A],u[4*A+2]=(65280&r[A])>>8,u[4*A+1]=(16711680&r[A])>>16,u[4*A]=(4278190080&r[A])>>24;return u},t}(),Sst=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g;for(i in r=yae.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=r.charMap)h[(l=g[i]).old]=l.new;for(p in f=r.maxGlyphID,s)p in h||(h[p]=f++);return A=function(y){var x,C;for(x in C={},y)C[y[x]]=x;return C}(h),d=Object.keys(A).sort(function(y,x){return y-x}),m=function(){var y,x,C;for(C=[],y=0,x=d.length;y<x;y++)o=d[y],C.push(A[o]);return C}(),a=this.font.glyf.encode(s,m,h),u=this.font.loca.encode(a.offsets,m),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();mn.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function xae(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*l,A=/\r\n|\r|\n/g,d="",f=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(A):t,f=d.length||1),n+=o*(2-a),r.valign==="middle"?n-=f/2*u:r.valign==="bottom"&&(n-=f*u),r.halign==="center"||r.halign==="right"){var h=o;if(r.halign==="center"&&(h*=.5),d&&f>=1){for(var p=0;p<d.length;p++)i.text(d[p],e-i.getStringUnitWidth(d[p])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var zV={},qm=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:zV=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var A=t.unifyColor(e.fillColor);A&&(r=this.jsPDFDocument).setFillColor.apply(r,A),A=t.unifyColor(e.textColor),A&&(i=this.jsPDFDocument).setTextColor.apply(i,A),A=t.unifyColor(e.lineColor),A&&(a=this.jsPDFDocument).setDrawColor.apply(a,A),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return zV||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Dk=function(t,e){return Dk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Dk(t,e)};function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dk(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Cae=function(t){wae(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Est(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function _st(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function $S(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function Sae(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=Eae(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function Eae(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function a_(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function _ae(t,e){var n=a_(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Bst(t,e,n,r,i){var a={},s=1.3333333333333333,o=g4(e,function(x){return i.getComputedStyle(x).backgroundColor});o!=null&&(a.fillColor=o);var l=g4(e,function(x){return i.getComputedStyle(x).color});l!=null&&(a.textColor=l);var u=jst(r,n);u&&(a.cellPadding=u);var A="borderTopColor",d=s*n,f=r.borderTopWidth;if(r.borderBottomWidth===f&&r.borderRightWidth===f&&r.borderLeftWidth===f){var h=(parseFloat(f)||0)/d;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?A="borderRightColor":a.lineWidth.bottom?A="borderBottomColor":a.lineWidth.left&&(A="borderLeftColor"));var p=g4(e,function(x){return i.getComputedStyle(x)[A]});p!=null&&(a.lineColor=p);var m=["left","right","center","justify"];m.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),m=["middle","bottom","top"],m.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var v=parseInt(r.fontSize||"");isNaN(v)||(a.fontSize=v/s);var g=Nst(r);g&&(a.fontStyle=g);var y=(r.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(a.font=y),a}function Nst(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function g4(t,e){var n=Bae(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Bae(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Bae(t.parentElement,e):n}function jst(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),s=a_(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function Nae(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),A=[],d=[],f=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:A,body:d,foot:f};for(var h=0;h<o.rows.length;h++){var p=o.rows[h],m=(s=(a=p==null?void 0:p.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Ist(l,u,n,p,r,i);v&&(m==="thead"?A.push(v):m==="tfoot"?f.push(v):d.push(v))}return{head:A,body:d,foot:f}}function Ist(t,e,n,r,i,a){for(var s=new Cae(r),o=0;o<r.cells.length;o++){var l=r.cells[o],u=n.getComputedStyle(l);if(i||u.display!=="none"){var A=void 0;a&&(A=Bst(t,l,e,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:A,_element:l,content:Tst(l)})}}var d=n.getComputedStyle(r);if(s.length>0&&(i||d.display!=="none"))return s}function Tst(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function kst(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function BA(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function jae(t,e){var n=new qm(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();kst(i,r,e);var a=BA({},i,r,e),s;typeof window<"u"&&(s=window);var o=Pst(i,r,e),l=Dst(i,r,e),u=Ost(n,a),A=Lst(n,a,s);return{id:e.tableId,content:A,hooks:l,styles:o,settings:u}}function Pst(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],A=e[l],d=n[l];r.columnStyles=BA({},u,A,d)}else{var f=[t,e,n],h=f.map(function(p){return p[l]||{}});r[l]=BA({},h[0],h[1],h[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function Dst(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Ost(t,e){var n,r,i,a,s,o,l,u,A,d,f,h,p=a_(e.margin,40/t.scaleFactor()),m=(n=Fst(t,e.startY))!==null&&n!==void 0?n:p.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var g;e.showHead===!0?g="everyPage":e.showHead===!1?g="never":g=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var y=(a=e.useCss)!==null&&a!==void 0?a:!1,x=e.theme||(y?"plain":"striped"),C=!!e.horizontalPageBreak,E=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:x,startY:m,margin:p,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(A=e.tableWidth)!==null&&A!==void 0?A:"auto",showHead:g,showFoot:v,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function Fst(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Lst(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var o=Nae(t,e.html,n,s,e.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Mst(r,i,a);return{columns:l,head:r,body:i,foot:a}}function Mst(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=a+(l>0?"_".concat(l):"");var A={dataKey:u};i.push(A)}}),i}var Ok=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Rst=function(t){wae(e,t);function e(n,r,i,a,s,o){var l=t.call(this,n,r,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return e}(Ok),Ust=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var o=0,l=n;o<l.length;o++){var u=l[o],A=new Rst(e,this,r,i,a,s),d=u(A)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Ok(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Ok(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),Iae=function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof Cae&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),Tae=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=a_(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Qst=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function Hst(t,e){zst(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=Fk(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Fk(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),$st(e),Kst(e,t),Vst(e)}function zst(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=_ae(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){var A=e.hooks.didParseCell;e.callCellHooks(t,A,u,a,l,null);var d=u.padding("horizontal");u.contentWidth=$S(u.text,u.styles,t)+d;var f=$S(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var A=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=A.cellWidth||A.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Fk(t,e,n){for(var r=e,i=t.reduce(function(h,p){return h+p.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/i,l=r*o,u=s.width+l,A=n(s),d=u<A?A:u;e-=d-s.width,s.width=d}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(h){return e<0?h.width>n(h):!0});f.length&&(e=Fk(f,e,n))}return e}function Vst(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=t.columns;s<o.length;s++){var l=o[s],u=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,n=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var A=a.cells[l.index];if(!A)continue;if(A.height=a.height,A.rowSpan>1){var d=r.length-i,f=A.rowSpan>d?d:A.rowSpan;e[l.index]={cell:A,left:f,row:a}}}}}function $st(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+a}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function Kst(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){e.applyStyles(u.styles,!0);var A=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,A+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=VV(u.text,A,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=VV(u.text,A,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,A);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<f*u.rowSpan?n={height:f,count:u.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>a.height&&(a.height=f)}}n.count--}}function VV(t,e,n,r,i){return t.map(function(a){return Wst(a,e,n,r,i)})}function Wst(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=$S(t,n,r))return t;for(;e<$S(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function kae(t,e){var n=new qm(t),r=Gst(e,n.scaleFactor()),i=new Ust(e,r);return Hst(n,i),n.applyStyles(n.userStyles),i}function Gst(t,e){var n=t.content,r=Yst(n.columns);if(n.head.length===0){var i=$V(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=$V(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:v4("head",n.head,r,s,a,e),body:v4("body",n.body,r,s,a,e),foot:v4("foot",n.foot,r,s,a,e)}}function v4(t,e,n,r,i,a){var s={},o=e.map(function(l,u){for(var A=0,d={},f=0,h=0,p=0,m=n;p<m.length;p++){var v=m[p];if(s[v.index]==null||s[v.index].left===0)if(h===0){var g=void 0;Array.isArray(l)?g=l[v.index-f-A]:g=l[v.dataKey];var y={};typeof g=="object"&&!Array.isArray(g)&&(y=(g==null?void 0:g.styles)||{});var x=Xst(t,v,u,i,r,a,y),C=new Tae(g,x,t);d[v.dataKey]=C,d[v.index]=C,h=C.colSpan-1,s[v.index]={left:C.rowSpan-1,times:h}}else h--,f++;else s[v.index].left--,h=s[v.index].times,A++}return new Iae(l,u,t,d)});return o}function $V(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=qst(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function qst(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Yst(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Qst(i,e,n)})}function Xst(t,e,n,r,i,a,s){var o=_st(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=BA({},o.table,o[t],i.styles,l),A=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?A:{},f=t==="body"&&n%2===0?BA({},o.alternateRow,i.alternateRowStyles):{},h=Est(a),p=BA({},h,u,f,d);return BA(p,s)}function Jst(t,e,n){var r;n===void 0&&(n={});var i=_ae(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var h=e.columns.find(function(p){return p.dataKey===f||p.index===f});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),o.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,A=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;A<e.columns.length;){if(a.has(A)){A++;continue}var d=e.columns[A].wrappedWidth;if(u||i>=d)u=!1,s.push(A),o.push(e.columns[A]),i-=d;else break;A++}return{colIndexes:s,columns:o,lastIndex:A-1}}function Zst(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=Jst(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function Pae(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(f,h){return f+h.height},0);o+=u}var A=new qm(t);(n.pageBreak==="always"||n.startY!=null&&o>A.pageSize().height)&&(Oae(A),a.y=i.top),e.callWillDrawPageHooks(A,a);var d=BA({},a);e.startPageNumber=A.pageNumber(),n.horizontalPageBreak?eot(A,e,d,a):(A.applyStyles(A.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(f){return GA(A,e,f,a,e.columns)}),A.applyStyles(A.userStyles),e.body.forEach(function(f,h){var p=h===e.body.length-1;KS(A,e,f,p,d,a,e.columns)}),A.applyStyles(A.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(f){return GA(A,e,f,a,e.columns)})),Sae(A,e,d,a),e.callEndPageHooks(A,a),e.finalY=a.y,t.lastAutoTable=e,A.applyStyles(A.userStyles)}function eot(t,e,n,r){var i=Zst(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,A){t.applyStyles(t.userStyles),A>0?py(t,e,n,r,u.columns,!0):KV(t,e,r,u.columns),tot(t,e,n,r,u.columns),y4(t,e,r,u.columns)});else for(var s=-1,o=i[0],l=function(){var u=s;if(o){t.applyStyles(t.userStyles);var A=o.columns;s>=0?py(t,e,n,r,A,!0):KV(t,e,r,A),u=WV(t,e,s+1,r,A),y4(t,e,r,A)}var d=u-s;i.slice(1).forEach(function(f){t.applyStyles(t.userStyles),py(t,e,n,r,f.columns,!0),WV(t,e,s+1,r,f.columns,d),y4(t,e,r,f.columns)}),s=u};s<e.body.length-1;)l()}function KV(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return GA(t,e,a,n,r)})}function tot(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;KS(t,e,a,o,n,r,i)})}function WV(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,s).forEach(function(l,u){var A=n+u===e.body.length-1,d=Dae(t,e,A,r);l.canEntireRowFit(d,i)&&(GA(t,e,l,r,i),o=n+u)}),o}function y4(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return GA(t,e,a,n,r)})}function not(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function rot(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var A=new Tae(u.raw,u.styles,u.section);A=BA(A,u),A.text=[];var d=not(u,e,r);u.text.length>d&&(A.text=u.text.splice(d,u.text.length));var f=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,h),u.contentHeight>=e&&(u.contentHeight=e,A.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),A.contentHeight=A.getContentHeight(f,h),A.contentHeight>a&&(a=A.contentHeight),i[l.index]=A}}var p=new Iae(t.raw,-1,t.section,i,!0);p.height=a;for(var m=0,v=n.columns;m<v.length;m++){var l=v[m],A=p.cells[l.index];A&&(A.height=p.height);var u=t.cells[l.index];u&&(u.height=t.height)}return p}function iot(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var A=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>o;return d?(A&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||r.settings.rowPageBreak==="avoid")}function KS(t,e,n,r,i,a,s){var o=Dae(t,e,r,a);if(n.canEntireRowFit(o,s))GA(t,e,n,a,s);else if(iot(t,n,o,e)){var l=rot(n,o,e,t);GA(t,e,n,a,s),py(t,e,i,a,s),KS(t,e,l,r,i,a,s)}else py(t,e,i,a,s),KS(t,e,n,r,i,a,s)}function GA(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(u===!1){r.x+=o.width;continue}aot(t,l,r);var A=l.getTextPos();xae(l.text,A.x,A.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function aot(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Eae(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),sot(t,e,n,r.lineWidth))}function sot(t,e,n,r){var i,a,s,o;r.top&&(i=n.x,a=n.y,s=n.x+e.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,o=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o));function l(u,A,d,f,h){t.getDocument().setLineWidth(u),t.getDocument().line(A,d,f,h,"S")}}function Dae(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function py(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return GA(t,e,o,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;Sae(t,e,n,r),Oae(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return GA(t,e,o,r,i)}),t.applyStyles(t.userStyles))}function Oae(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function oot(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=jae(this,r),a=kae(this,i);return Pae(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){xae(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return qm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){qm.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new qm(this),a=Nae(i,e,window,n,!1),s=a.head,o=a.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var b4;function s_(t,e){var n=jae(t,e),r=kae(t,n);Pae(t,r)}try{if(typeof window<"u"&&window){var GV=window,qV=GV.jsPDF||((b4=GV.jspdf)===null||b4===void 0?void 0:b4.jsPDF);qV&&oot(qV)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Oo=14,Vb=210,Lk=297,lot=Vb-Oo*2,Mk="#3b82f6",PF="#1f2937",DF="#f3f4f6",o_="#374151",YV=(t,e,n)=>{t.setFont("helvetica","bold"),t.setFontSize(22),t.setTextColor(Mk),t.text("GanaderoOS - Reporte de Simulacin",Oo,20),t.setFontSize(16),t.setTextColor(o_),t.text(e,Oo,30),t.setDrawColor(Mk),t.setLineWidth(.5),t.line(Oo,33,Vb-Oo,33),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor("#9ca3af");const r=`Pgina ${n}`;t.text(r,Vb-Oo,Lk-10,{align:"right"}),t.text(`Generado: ${new Date().toLocaleString("es-VE")}`,Oo,Lk-10)},XV=(t,e,n,r)=>(t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(o_),t.text(e,Oo,r),s_(t,{startY:r+6,head:[["Indicador (KPI)","Valor (Real)"]],body:n,theme:"grid",headStyles:{fillColor:PF,textColor:DF,fontStyle:"bold"},styles:{fontSize:10,cellPadding:2.5},alternateRowStyles:{fillColor:"#f9fafb"}}),t.lastAutoTable.finalY+12),cot=(t,e,n)=>{t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(o_),t.text("KPIs de Linealidad por Ao",Oo,n);const r=[["Ao","CV (%)","Prom. Mensual (L)","Mes Pico (L)","Mes Valle (L)"]],i=e.map(a=>[a.year,dt(a.cv,1),dt(a.avgMonthly,0),`${dt(a.peakMonthValue,0)} (${a.peakMonthLabel})`,`${dt(a.valleyMonthValue,0)} (${a.valleyMonthLabel})`]);return s_(t,{startY:n+6,head:r,body:i,theme:"grid",headStyles:{fillColor:PF,textColor:DF,fontStyle:"bold",halign:"center"},styles:{fontSize:10,cellPadding:2.5,halign:"center"},alternateRowStyles:{fillColor:"#f9fafb"},columnStyles:{3:{halign:"left"},4:{halign:"left"}}}),t.lastAutoTable.finalY+12},uot=(t,e,n,r,i,a)=>{const s=new mn({orientation:"portrait",unit:"mm",format:"a4"});let o=1;YV(s,"Resumen de Desempeo del Rebao",o);let l=45;const u=[["Tasa Natalidad (Anual.)",`${dt(n.tasaNatalidadReal,1)} %`],["Tasa Prolificidad",`${dt(n.tasaProlificidadReal,1)} %`],["Tasa Reemplazo (Anual.)",`${dt(n.tasaReemplazoReal,1)} %`],["Tasa Descarte (Anual.)",`${dt(n.tasaDescarteReal,1)} %`],["% Mort. Cras (0-3m)",`${dt(n.mortalidadCriasReal,1)} %`],["% Mort. Levante (Anual.)",`${dt(n.mortalidadLevanteReal,1)} %`],["% Mort. Cabras (Anual.)",`${dt(n.mortalidadCabrasReal,1)} %`],["% Elim. Cras M (0-3m)",`${dt(n.tasaEliminacionCriasMReal,1)} %`]];l=XV(s," KPIs de Dinmica del Rebao",u,l);const A=[["Total Litros (Horizonte)",`${dt(r.totalLitrosHorizonte)} L`],["Litros / Vientre / Ao",`${dt(r.litrosPorVientrePorAnio)} L/Vientre`],["Total Das-Lactancia",`${dt(r.totalDiasLactancia)} Das`],["Litros / Da-Lactancia",`${dt(r.litrosPorDiaLactancia,2)} L/Da`]];XV(s," KPIs de Eficiencia Lechera",A,l),s.addPage(),o++,YV(s,"Anlisis de Produccin y Linealidad",o),l=45;try{const p=s.getImageProperties(a),m=lot,v=p.height*m/p.width;s.addImage(a,"PNG",Oo,l,m,v),l+=v+12}catch(p){console.error("Error al aadir imagen al PDF:",p),s.text("Error al renderizar el grfico.",Oo,l),l+=10}cot(s,i,l),s.addPage("a4","landscape"),o++;const d=p=>{s.setFont("helvetica","bold"),s.setFontSize(18),s.setTextColor(Mk),s.text(" Tabla Detallada de Flujos y Stock",Oo,20),s.setFont("helvetica","normal"),s.setFontSize(9),s.setTextColor("#9ca3af"),s.text(`Pgina ${p}`,Lk-Oo,Vb-10,{align:"right"}),s.text(`Generado: ${new Date().toLocaleString("es-VE")}`,Oo,Vb-10)};d(o);const f=[[{content:"Periodo",rowSpan:2,styles:{halign:"center",valign:"middle",minCellWidth:25}},{content:"Poblacin",colSpan:3,styles:{halign:"center"}},{content:"Produccin",colSpan:3,styles:{halign:"center"}},{content:"Flujos: Entradas",colSpan:3,styles:{halign:"center"}},{content:"Flujos: Salidas (Muertes)",colSpan:4,styles:{halign:"center"}},{content:"Flujos: Salidas (Ventas)",colSpan:2,styles:{halign:"center"}},{content:"Flujos: Internos (Promociones H)",colSpan:4,styles:{halign:"center"}},{content:"Desglose Stock Final",colSpan:7,styles:{halign:"center"}}],["Inicio","Final","Cambio","Litros","Vientres (Fin)","Ingresos Leche","Nacim. H","Nacim. M","Compras","Muertes C.H","Muertes C.M","Muertes Lev.","Muertes Adu.","Ventas C.M","Ventas Desc.","CLT","LTLM","LMLTD","LTDC","Fin C.H","Fin C.M","Fin LT","Fin LM","Fin LTD","Fin Cabras","Fin Padres"]],h=[];for(const p of t){const m=p.muertesLevanteTemprano+p.muertesLevanteMedio+p.muertesLevanteTardio,v=p.muertesCabras+p.muertesPadres;h.push([{content:p.periodLabel,styles:{fontStyle:"bold",fillColor:"#e5e7eb",textColor:o_}},dt(p.startTotal),dt(p.endTotal),dt(p.netChange),dt(p.litrosLeche,0),dt(p.kpiProductivasCount,0),Qb(p.ingresosTotales,"$",0),dt(p.nacimientosH),dt(p.nacimientosM),dt(p.comprasVientres),dt(p.muertesCriaH),dt(p.muertesCriaM),dt(m),dt(v),dt(p.ventasCabritos),dt(p.ventasDescartes),dt(p.promocionCriaH),dt(p.promocionLevanteTemprano),dt(p.promocionLevanteMedio),dt(p.promocionLevanteTardio),dt(p.endCriaH),dt(p.endCriaM),dt(p.endLevanteTemprano),dt(p.endLevanteMedio),dt(p.endLevanteTardio),dt(p.endCabras),dt(p.endPadres)]);const g=e.filter(y=>y.year===p.year);for(const y of g){const x=y.muertesLevanteTemprano+y.muertesLevanteMedio+y.muertesLevanteTardio,C=y.muertesCabras+y.muertesPadres;h.push([{content:`  ${y.periodLabel}`,styles:{fontStyle:"normal"}},dt(y.startTotal),dt(y.endTotal),dt(y.netChange),dt(y.litrosLeche,0),dt(y.kpiProductivasCount,0),Qb(y.ingresosTotales,"$",0),dt(y.nacimientosH),dt(y.nacimientosM),dt(y.comprasVientres),dt(y.muertesCriaH),dt(y.muertesCriaM),dt(x),dt(C),dt(y.ventasCabritos),dt(y.ventasDescartes),dt(y.promocionCriaH),dt(y.promocionLevanteTemprano),dt(y.promocionLevanteMedio),dt(y.promocionLevanteTardio),dt(y.endCriaH),dt(y.endCriaM),dt(y.endLevanteTemprano),dt(y.endLevanteMedio),dt(y.endLevanteTardio),dt(y.endCabras),dt(y.endPadres)])}}s_(s,{startY:30,head:f,body:h,theme:"grid",headStyles:{fillColor:PF,textColor:DF,fontSize:8,fontStyle:"bold",halign:"center",valign:"middle"},styles:{fontSize:8,cellPadding:1.5,overflow:"linebreak",halign:"right"},columnStyles:{0:{halign:"left"},5:{halign:"left"}},didDrawPage:p=>{p.pageNumber>1&&d(o+p.pageNumber-1)}}),s.save(`Reporte_Simulacion_GanaderoOS_${new Date().toISOString().split("T")[0]}.pdf`)},JV=[{key:"year",label:"Ao"},{key:"month",label:"Mes"},{key:"periodLabel",label:"Periodo"},{key:"startTotal",label:"Stock Total (Inicio)"},{key:"endTotal",label:"Stock Total (Final)"},{key:"partos",label:"N Partos"},{key:"nacimientosH",label:"Nacidos H"},{key:"nacimientosM",label:"Nacidos M"},{key:"muertesTotales",label:"Muertes Totales"},{key:"ventasTotales",label:"Ventas Totales"},{key:"comprasTotales",label:"Compras Totales"},{key:"litrosLeche",label:"Litros Leche (Mes)"},{key:"hembrasProduccion",label:"Hembras en Produccin"},{key:"ingresosLeche",label:"Ingresos Leche"},{key:"ingresosTotales",label:"Ingresos Totales (Mes)"},{key:"endCriaH",label:"Final Cra H (0-3m)"},{key:"endLevanteTemprano",label:"Final L. Temprano (3-6m)"},{key:"endLevanteMedio",label:"Final L. Medio (6-12m)"},{key:"endLevanteTardio",label:"Final L. Tardo (12-18m)"},{key:"endCabras",label:"Final Cabras (>18m)"},{key:"endPadres",label:"Final Padres"}],ZV=t=>{if(t==null)return'""';let e=String(t);return e.match(/("|,|\n)/)&&(e=e.replace(/"/g,'""'),e=`"${e}"`),e},Aot=(t,e="simulacion_mensual_detallada.csv")=>{if(!t||t.length===0){console.warn("No hay datos para exportar a CSV."),alert("No hay datos mensuales para exportar.");return}try{const n=JV.map(u=>ZV(u.label)).join(","),r=t.map(u=>JV.map(A=>{const d=u[A.key];return typeof d=="number"?["litrosLeche","ingresosLeche","ingresosTotales"].includes(A.key)?d.toFixed(2):String(Math.round(d)):ZV(d)}).join(",")),i=[n,...r].join(`
`),a="\uFEFF",s=new Blob([a+i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(s);o.setAttribute("href",l),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)}catch(n){console.error("Error al exportar a CSV:",n),alert("Ocurri un error al intentar generar el archivo CSV.")}},eo=({label:t,value:e,unit:n,icon:r,color:i="text-sky-500",tooltip:a,onShowInfo:s})=>{const o=l=>{l.stopPropagation(),s&&a&&s(a)};return c.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/10 flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg bg-gray-700 ${i}`,children:c.jsx(r,{size:20})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:t}),a&&s&&c.jsx("button",{onClick:o,className:"text-gray-500 hover:text-white -mr-2 -mt-2 p-1 rounded-full",title:"Ver ms informacin",children:c.jsx(Wy,{size:14})})]}),c.jsxs("p",{className:"text-xl font-bold text-white",children:[e," ",c.jsx("span",{className:"text-sm font-normal text-gray-300",children:n})]})]})]})},dot=({options:t,value:e,onChange:n})=>c.jsx("div",{className:"flex rounded-lg bg-gray-900 border border-brand-border p-0.5",children:t.map(r=>c.jsx("button",{onClick:()=>n(r.value),className:`rounded-md px-3 py-1.5 text-sm font-medium transition-colors ${e===r.value?"bg-gray-700 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:r.label},String(r.value)))}),fot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=n.litrosLeche,i=n.hembrasProduccion,a=i>0?r/i/30.44:0;return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-sky-400",children:"Litros (Mes):"}),c.jsxs("span",{className:"text-xs font-mono text-white",children:[dt(r,0)," L"]})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-gray-300",children:"Animales:"}),c.jsx("span",{className:"text-xs font-mono text-white",children:dt(i,0)})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-gray-300",children:"Prom. (L/da):"}),c.jsxs("span",{className:"text-xs font-mono text-white",children:[a.toFixed(2)," L/da"]})]})]})]})}return null},Fae=P.forwardRef(({data:t,monthlyData:e},n)=>{const r=P.useMemo(()=>{if(!t||!e)return[];const i=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return e.filter(a=>a.year===t.year).map((a,s)=>({...a,name:i[s%12],Litros:Math.round(a.litrosLeche)}))},[t,e]);return t?c.jsx("div",{ref:n,className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(Ml,{data:r,margin:{top:5,right:0,left:0,bottom:5},children:[c.jsx(cu,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,allowDecimals:!1,tickFormatter:i=>dt(i,0)}),c.jsx(Sr,{cursor:{fill:"rgba(56, 189, 248, 0.1)"},content:c.jsx(fot,{})}),c.jsx(Ja,{dataKey:"Litros",fill:"#0ea5e9",radius:[4,4,0,0]}),c.jsx(wx,{y:t.avgMonthly,label:{value:`Prom: ${dt(t.avgMonthly,0)} L`,position:"insideTopRight",fill:"#f3f4f6",fontSize:12},stroke:"#f3f4f6",strokeDasharray:"4 4",strokeOpacity:.8})]})})}):c.jsx("div",{className:"text-gray-500",children:"Selecciona un ao."})});Fae.displayName="MilkLinearityChart";const hot=({data:t,onShowInfo:e})=>{if(!t)return null;const n=t.cv;let r="text-green-500";return n>15&&(r="text-yellow-500"),n>40&&(r="text-red-500"),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"Coef. de Variacin (CV)",value:n.toFixed(1),unit:"%",icon:lx,color:r,tooltip:`Coeficiente de Variacin (CV):
Mide la estabilidad de la produccin.
< 15% = Muy Lineal
> 40% = Muy Estacional`,onShowInfo:e}),c.jsx(eo,{label:"Promedio Mensual",value:dt(t.avgMonthly,0),unit:"Litros",icon:XA,tooltip:"El promedio simple de litros de leche producidos por mes durante este ao.",onShowInfo:e}),c.jsx(eo,{label:"Mes Pico",value:dt(t.peakMonthValue,0),unit:`(${t.peakMonthLabel})`,icon:ba,color:"text-green-500",tooltip:"El mes con la mayor produccin de leche del ao.",onShowInfo:e}),c.jsx(eo,{label:"Mes Valle",value:dt(t.valleyMonthValue,0),unit:`(${t.valleyMonthLabel})`,icon:Hj,color:"text-red-500",tooltip:"El mes con la menor produccin de leche del ao.",onShowInfo:e})]})},pot=({data:t,onShowInfo:e})=>t?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-base font-semibold text-white mt-6 mb-3",children:"Eficiencia Lechera (Horizonte Total)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"Total Litros (Horizonte)",value:dt(t.totalLitrosHorizonte,0),unit:"Litros",icon:s0,color:"text-sky-500",tooltip:"Suma total de todos los litros de leche producidos durante todo el horizonte de la simulacin.",onShowInfo:e}),c.jsx(eo,{label:"Litros / Vientre / Ao",value:dt(t.litrosPorVientrePorAnio,0),unit:"L/Vientre",icon:bc,color:"text-sky-500",tooltip:"Un KPI clave de eficiencia: (Total Litros / Aos) / (Promedio de Vientres Productivos).",onShowInfo:e}),c.jsx(eo,{label:"Total Das-Lactancia",value:dt(t.totalDiasLactancia,0),unit:"Das",icon:vq,tooltip:"El nmero total de 'das-animal' que las hembras pasaron en estado de lactancia activa.",onShowInfo:e}),c.jsx(eo,{label:"Litros / Da-Lactancia",value:t.litrosPorDiaLactancia.toFixed(2),unit:"L/Da",icon:fpe,tooltip:"La produccin promedio real por animal por da de lactancia (Total Litros / Total Das-Lactancia).",onShowInfo:e})]})]}):null,mot=({data:t,onShowInfo:e})=>t?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-white mb-3",children:"Tasas de Dinmica (Promedio Anualizado)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"Tasa Natalidad",value:t.tasaNatalidadReal.toFixed(1),unit:"%",icon:zu,color:"text-green-500",tooltip:"Nacimientos / (Vientres Prom. * Aos) * 100",onShowInfo:e}),c.jsx(eo,{label:"Tasa Prolificidad",value:t.tasaProlificidadReal.toFixed(1),unit:"%",icon:xpe,color:"text-green-500",tooltip:"Nacimientos Totales / Partos Totales * 100",onShowInfo:e}),c.jsx(eo,{label:"Tasa Reemplazo",value:t.tasaReemplazoReal.toFixed(1),unit:"%",icon:ape,color:"text-green-500",tooltip:"Promociones (LTD -> Cabras) / (Cabras Prom. * Aos) * 100",onShowInfo:e}),c.jsx(eo,{label:"Tasa Descarte",value:t.tasaDescarteReal.toFixed(1),unit:"%",icon:zj,color:"text-red-500",tooltip:"Ventas Descarte / (Cabras Prom. * Aos) * 100",onShowInfo:e})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-white mb-3",children:"Tasas de Bajas (Reales)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"% Mort. Cras (0-3m)",value:t.mortalidadCriasReal.toFixed(1),unit:"%",icon:Gw,color:"text-red-500",tooltip:"Muertes Cras / (Nacidos + Stock Inicial) * 100",onShowInfo:e}),c.jsx(eo,{label:"% Mort. Levante (Anual.)",value:t.mortalidadLevanteReal.toFixed(1),unit:"%",icon:Gw,color:"text-red-500",tooltip:"Muertes Levante / (Levante Prom. * Aos) * 100",onShowInfo:e}),c.jsx(eo,{label:"% Mort. Cabras (Anual.)",value:t.mortalidadCabrasReal.toFixed(1),unit:"%",icon:Gw,color:"text-red-500",tooltip:"Muertes Cabras / (Cabras Prom. * Aos) * 100",onShowInfo:e}),c.jsx(eo,{label:"% Elim. Cras M (0-3m)",value:t.tasaEliminacionCriasMReal.toFixed(1),unit:"%",icon:zj,color:"text-yellow-500",tooltip:"Ventas Cras M / (Nacidos M - Muertes M) * 100",onShowInfo:e})]})]})]}):null,got=({annualData:t,semestralData:e})=>{const n=[{name:"Poblacin",span:3},{name:"Produccin",span:3},{name:"Flujos: Entradas",span:3},{name:"Flujos: Salidas (Muertes)",span:4},{name:"Flujos: Salidas (Ventas)",span:2},{name:"Flujos: Internos (Promociones H)",span:4},{name:"Desglose Stock Final",span:7}],r=[{key:"startTotal",label:"Inicio"},{key:"endTotal",label:"Final"},{key:"netChange",label:"Cambio"},{key:"litrosLeche",label:"Litros Totales",format:a=>dt(a,0)},{key:"kpiProductivasCount",label:"Vientres (Final)",tooltip:"Vientres Productivos (>12m) al final del perodo."},{key:"ingresosLeche",label:"Ingresos Leche",format:a=>Qb(a,"$",0)},{key:"nacimientosH",label:"Nacim. H"},{key:"nacimientosM",label:"Nacim. M"},{key:"comprasVientres",label:"Compras Vientres"},{key:"muertesCriaH",label:"Muertes Cras H"},{key:"muertesCriaM",label:"Muertes Cras M"},{key:"muertesLevante",label:"Muertes Levante (Total)"},{key:"muertesAdultas",label:"Muertes Adultas (Total)"},{key:"ventasCabritos",label:"Ventas Cras M"},{key:"ventasDescartes",label:"Ventas Descartes"},{key:"promocionCriaH",label:"Cra  LT"},{key:"promocionLevanteTemprano",label:"LT  LM"},{key:"promocionLevanteMedio",label:"LM  LTD"},{key:"promocionLevanteTardio",label:"LTD  Cabras"},{key:"endCriaH",label:"Final Cra H"},{key:"endCriaM",label:"Final Cra M"},{key:"endLevanteTemprano",label:"Final LT"},{key:"endLevanteMedio",label:"Final LM"},{key:"endLevanteTardio",label:"Final LTD"},{key:"endCabras",label:"Final Cabras"},{key:"endPadres",label:"Final Padres"}],i=(a,s=!1)=>{const o=a.muertesLevanteTemprano+a.muertesLevanteMedio+a.muertesLevanteTardio,l=a.muertesCabras+a.muertesPadres;return c.jsxs("tr",{className:s?"bg-gray-800/60":"bg-gray-700/50",children:[c.jsx("td",{className:`sticky left-0 z-10 p-2 text-sm whitespace-nowrap ${s?"bg-gray-800/60 pl-6":"bg-gray-700/50 font-semibold text-white"}`,children:a.periodLabel}),r.map(u=>{let A;u.key==="muertesLevante"?A=o:u.key==="muertesAdultas"?A=l:A=a[u.key]??0;const d=u.format||(f=>dt(f,0));return c.jsx("td",{className:"p-2 text-sm text-right whitespace-nowrap text-gray-200 font-mono",title:u.tooltip,children:d(A)},u.key)})]},a.periodLabel)};return c.jsx("div",{className:"overflow-x-auto h-full",children:c.jsxs("table",{className:"min-w-full border-separate border-spacing-0",children:[c.jsxs("thead",{className:"sticky top-0 z-20",children:[c.jsxs("tr",{className:"bg-gray-900/80 backdrop-blur-lg",children:[c.jsx("th",{className:"sticky left-0 z-30 p-2 text-xs font-semibold text-left uppercase text-white bg-gray-900/80 backdrop-blur-lg",children:"Periodo"}),n.map((a,s)=>c.jsx("th",{colSpan:a.span,className:"p-2 text-xs font-semibold text-center uppercase text-white border-b border-l border-white/10",children:a.name},s))]}),c.jsxs("tr",{className:"bg-gray-900/80 backdrop-blur-lg",children:[c.jsx("th",{className:"sticky left-0 z-30 p-2 text-xs font-semibold text-left uppercase text-white bg-gray-900/80 backdrop-blur-lg"}),r.map(a=>c.jsx("th",{className:"p-2 text-xs font-semibold text-right uppercase text-gray-300 border-b border-l border-white/10 whitespace-nowrap",title:a.tooltip,children:a.label},a.key))]})]}),c.jsx("tbody",{className:"bg-gray-800",children:t.map(a=>{const s=e.filter(o=>o.year===a.year);return c.jsxs(be.Fragment,{children:[i(a,!1),s.map(o=>i(o,!0))]},a.year)})})]})})},vot=({text:t,onClose:e})=>{if(!t)return null;const n=t.split(`
`).map((r,i)=>c.jsxs(be.Fragment,{children:[r,c.jsx("br",{})]},i));return c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative w-full max-w-sm p-6 m-4 bg-gray-800 border border-brand-border rounded-2xl shadow-2xl",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-sky-600/20 text-sky-400 flex-shrink-0",children:c.jsx(_q,{size:20})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informacin del Indicador"}),c.jsx("p",{className:"text-sm text-gray-300 mt-2",children:n})]})]}),c.jsx("button",{onClick:e,className:"mt-6 w-full rounded-md bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-500",children:"Entendido"})]})})},x4=({label:t,icon:e,isActive:n,onClick:r})=>c.jsxs("button",{onClick:r,className:`flex-1 flex flex-col items-center justify-center p-3 text-xs font-medium transition-colors border-b-2 ${n?"text-sky-500 border-sky-500":"text-gray-500 border-transparent hover:text-gray-300"}`,children:[c.jsx(e,{size:18,className:"mb-1"}),t]}),yot=({isOpen:t,onClose:e,monthlyData:n,semestralData:r,annualData:i})=>{const[a,s]=P.useState("produccion"),[o,l]=P.useState(!1),u=P.useRef(null),[A,d]=P.useState(null),f=B=>d(B),{isLoading:h,milkLinearityKpis:p,herdEfficiencyKpis:m,herdDynamicsKpis:v}=Drt(n,i),[g,y]=P.useState(()=>{var B;return((B=i[0])==null?void 0:B.year)??new Date().getFullYear()}),x=P.useMemo(()=>i.map(B=>({label:`Ao ${B.year}`,value:B.year})),[i]);be.useEffect(()=>{i.length>0&&!i.find(B=>B.year===g)&&y(i[0].year)},[i,g]);const C=P.useMemo(()=>p.find(B=>B.year===g),[p,g]),E=async()=>{if(h||!v||!m||!C){alert("Los datos de analtica an no estn listos.");return}if(a!=="produccion"&&(await s("produccion"),await new Promise(B=>setTimeout(B,50))),!u.current){alert("Error: No se pudo encontrar el grfico para exportar.");return}l(!0);try{const N=(await jie(u.current,{backgroundColor:"#1f2937",scale:2})).toDataURL("image/png",.9);uot(i,r,v,m,p,N)}catch(B){console.error("Error al generar la imagen del grfico:",B),alert("Ocurri un error al exportar el grfico.")}finally{l(!1)}},j=()=>{if(h||!n||n.length===0){alert("Los datos mensuales an no estn listos para exportar.");return}Aot(n,"simulacion_detallada_mensual.csv")};if(!t)return null;const _=()=>{if(h)return c.jsx("div",{className:"p-10 text-center text-gray-400",children:"Calculando analticas..."});switch(a){case"produccion":return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" Anlisis de Linealidad de Leche"}),c.jsx(dot,{options:x,value:g,onChange:B=>y(B)})]}),c.jsx(Fae,{ref:u,data:C,monthlyData:n}),c.jsx(hot,{data:C,onShowInfo:f}),c.jsx(pot,{data:m,onShowInfo:f})]});case"dinamica":return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" KPIs de Dinmica del Rebao"}),c.jsx(mot,{data:v,onShowInfo:f})]});case"tabla":return c.jsx("div",{className:"w-full h-full overflow-hidden",children:c.jsx(got,{annualData:i,semestralData:r})});default:return null}};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:[c.jsx(vot,{text:A,onClose:()=>d(null)}),c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-4xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:B=>B.stopPropagation(),children:[o&&c.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-gray-900/80 backdrop-blur-sm",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-white text-lg font-semibold mt-4",children:"Generando PDF de Alto Nivel..."})]}),c.jsxs("header",{className:"relative flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0 pr-36",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"p-2 rounded-lg bg-sky-600/20 text-sky-400",children:c.jsx(TD,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-base font-bold text-white",children:"Reporte Detallado de Simulacin"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Anlisis de eficiencia y produccin del rebao"})]})]}),c.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[c.jsx("button",{onClick:j,disabled:h||o,title:"Exportar datos mensuales a CSV (para Google Sheets/Excel)",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(_pe,{size:20})}),c.jsx("button",{onClick:E,disabled:h||o,title:"Exportar Resumen a PDF de Alto Nivel",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(bq,{size:20})}),c.jsx("button",{onClick:e,disabled:o,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50",children:c.jsx(Go,{size:20})})]})]}),c.jsxs("nav",{className:"flex items-stretch border-b border-brand-border flex-shrink-0",children:[c.jsx(x4,{label:"Produccin de Leche",icon:mq,isActive:a==="produccion",onClick:()=>s("produccion")}),c.jsx(x4,{label:"Dinmica del Rebao",icon:pq,isActive:a==="dinamica",onClick:()=>s("dinamica")}),c.jsx(x4,{label:"Tabla Detallada",icon:Mpe,isActive:a==="tabla",onClick:()=>s("tabla")})]}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-900/50",children:_()})]})]})},WS=[{key:"endCabras",name:"Cabras (>18m)",color:"#5856D6",gradientId:"colorCabrasModal"},{key:"endLevanteTardio",name:"L. Tardo (12-18m)",color:"#007AFF",gradientId:"colorLTardioModal"},{key:"endLevanteMedio",name:"L. Medio (6-12m)",color:"#34C759",gradientId:"colorLMedioModal"},{key:"endLevanteTemprano",name:"L. Temprano (3-6m)",color:"#FF9500",gradientId:"colorLTempranoModal"},{key:"endCriaH",name:"Cras H (0-3m)",color:"#FFCC00",gradientId:"colorCriaHModal"}],bot=WS.map(t=>t.key),xot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=e.reduce((i,a)=>i+a.value,0);return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsxs("p",{className:"text-lg font-mono text-white",children:["Total Hembras: ",dt(r,0)]}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.slice().reverse().map((i,a)=>c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{style:{backgroundColor:i.color},className:"w-2.5 h-2.5 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-300",children:i.name})]}),c.jsx("span",{className:"text-xs font-mono text-white",children:dt(i.value,0)})]},a))})]})}return null},wot=t=>t>=1e3?`${(t/1e3).toFixed(0)}k`:t.toString(),Cot=({data:t,visibleCategories:e})=>{const n=r=>{const i=t[r];return i&&(i.month===1||r===0)?`Ao ${i.year}`:i&&i.month===7?"S2":""};return c.jsxs("div",{className:"h-[calc(90vh-160px)] w-full p-4",children:[" ",c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(Cx,{data:t,margin:{top:5,right:0,left:0,bottom:5},stackOffset:"none",children:[c.jsx("defs",{children:WS.map(r=>c.jsxs("linearGradient",{id:r.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:r.color,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:r.color,stopOpacity:.1})]},r.gradientId))}),c.jsx(cu,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(hi,{dataKey:"monthIndex",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:n,padding:{left:10,right:10}}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:wot,width:40}),c.jsx(Sr,{content:c.jsx(xot,{})}),WS.map(r=>e.includes(r.key)?c.jsx(Ll,{type:"monotone",dataKey:r.key,name:r.name,stackId:"1",stroke:r.color,strokeWidth:2,fill:`url(#${r.gradientId})`,activeDot:{r:6,stroke:"white",strokeWidth:2,fill:r.color}},r.key):null)]})})]})},Sot=({visibleCategories:t,onToggleCategory:e})=>c.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 px-4 py-2 border-b border-brand-border",children:WS.map(n=>{const r=t.includes(n.key);return c.jsxs("button",{onClick:()=>e(n.key),className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium transition-all ${r?"bg-gray-700 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-gray-400"}`,children:[c.jsx("span",{style:{backgroundColor:n.color},className:"w-2.5 h-2.5 rounded-full"}),n.name,r?c.jsx(j5,{size:14}):c.jsx(xq,{size:14})]},n.key)})}),Eot=({isOpen:t,onClose:e,monthlyData:n,title:r})=>{const[i,a]=P.useState(bot),s=o=>{a(l=>l.includes(o)?l.length===1?l:l.filter(A=>A!==o):[...l,o])};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-6xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:o=>o.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:r}),c.jsx("button",{onClick:e,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(Go,{size:20})})]}),c.jsx(Sot,{visibleCategories:i,onToggleCategory:s}),c.jsx("main",{className:"flex-1 overflow-hidden bg-gray-900/50 flex items-center justify-center",children:n&&n.length>0?c.jsx(Cot,{data:n,visibleCategories:i}):c.jsx("p",{className:"text-gray-400",children:"No hay datos para mostrar el grfico."})})]})}):null},GS=[{key:"endCabras",name:"Cabras (>18m)",color:"#5856D6",gradientId:"colorCabrasPeriod"},{key:"endLevanteTardio",name:"L. Tardo (12-18m)",color:"#007AFF",gradientId:"colorLTardioPeriod"},{key:"endLevanteMedio",name:"L. Medio (6-12m)",color:"#34C759",gradientId:"colorLMedioPeriod"},{key:"endLevanteTemprano",name:"L. Temprano (3-6m)",color:"#FF9500",gradientId:"colorLTempranoPeriod"},{key:"endCriaH",name:"Cras H (0-3m)",color:"#FFCC00",gradientId:"colorCriaHPeriod"}],_ot=GS.map(t=>t.key),Bot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=e.reduce((i,a)=>i+a.value,0);return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsxs("p",{className:"text-lg font-mono text-white",children:["Total Hembras: ",dt(r,0)]}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.slice().reverse().map((i,a)=>c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{style:{backgroundColor:i.color},className:"w-2.5 h-2.5 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-300",children:i.name})]}),c.jsx("span",{className:"text-xs font-mono text-white",children:dt(i.value,0)})]},a))})]})}return null},Not=t=>t>=1e3?`${(t/1e3).toFixed(0)}k`:t.toString(),jot=({visibleCategories:t,onToggleCategory:e})=>c.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 px-4 py-2 border-b border-brand-border",children:GS.map(n=>{const r=t.includes(n.key);return c.jsxs("button",{onClick:()=>e(n.key),className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium transition-all ${r?"bg-gray-700 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-gray-400"}`,children:[c.jsx("span",{style:{backgroundColor:n.color},className:"w-2.5 h-2.5 rounded-full"}),n.name,r?c.jsx(j5,{size:14}):c.jsx(xq,{size:14})]},n.key)})}),Iot=({data:t,visibleCategories:e})=>c.jsxs("div",{className:"h-[calc(90vh-200px)] w-full p-4",children:[" ",c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(Cx,{data:t,margin:{top:5,right:0,left:0,bottom:5},stackOffset:"none",children:[c.jsx("defs",{children:GS.map(n=>c.jsxs("linearGradient",{id:n.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:n.color,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:n.color,stopOpacity:.1})]},n.gradientId))}),c.jsx(cu,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,padding:{left:10,right:10}}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:Not,width:40}),c.jsx(Sr,{content:c.jsx(Bot,{})}),GS.map(n=>e.includes(n.key)?c.jsx(Ll,{type:"monotone",dataKey:n.key,name:n.name,stackId:"1",stroke:n.color,strokeWidth:2,fill:`url(#${n.gradientId})`,activeDot:{r:6,stroke:"white",strokeWidth:2,fill:n.color}},n.key):null)]})})]}),Tot=({isOpen:t,onClose:e,monthlyData:n,periodData:r})=>{const[i,a]=P.useState(_ot),s=l=>{a(u=>u.includes(l)?u.length===1?u:u.filter(d=>d!==l):[...u,l])},o=P.useMemo(()=>{if(!r||!n)return[];let l=0,u=0;const A=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return"semestreIndex"in r?(l=(r.semestreIndex||0)*6,u=6):(l=(r.year-1)*12,u=12),n.slice(l,l+u).map(f=>({...f,name:A[f.month-1]}))},[r,n]);return!t||!r?null:c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-6xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:l=>l.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0",children:[c.jsxs("h1",{className:"text-xl font-bold text-white",children:["Evolucin de Hembras: ",r.periodLabel]}),c.jsx("button",{onClick:e,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(Go,{size:20})})]}),c.jsx(jot,{visibleCategories:i,onToggleCategory:s}),c.jsx("main",{className:"flex-1 overflow-hidden bg-gray-900/50 flex items-center justify-center",children:o.length>0?c.jsx(Iot,{data:o,visibleCategories:i}):c.jsx("p",{className:"text-gray-400",children:"No hay datos para mostrar el grfico."})})]})})},kot=t=>{const e=g=>Math.round(g),n=e(t.startCabras)+e(t.startLevanteTardio),r=e(t.endCabras)+e(t.endLevanteTardio),i=r-n,a=n>0?i/n*100:0,s=e(t.startCriaH)+e(t.startLevanteTemprano)+e(t.startLevanteMedio),o=e(t.endCriaH)+e(t.endLevanteTemprano)+e(t.endLevanteMedio),l=n+s,A=r+o-l,d=e(t.nacimientosH)+e(t.nacimientosM),f=e(t.muertesTotales),h=e(t.ventasTotales),p=f+h;let m="";i>0?m+=`El perodo fue POSITIVO, con un crecimiento de +${i} vientres (+${a.toFixed(1)}%). `:m+=`Perodo de DECRECIMIENTO, con una prdida de ${i} vientres (${a.toFixed(1)}%). `,m+=`El rebao de vientres pas de ${n} a ${r} animales.

`,m+=`Este cambio fue el resultado de ${d} nacimientos, contrarrestados por ${p} bajas totales (${f} muertes y ${h} ventas). `,d>p?m+=`Los nacimientos superaron exitosamente a las bajas, impulsando el crecimiento.
`:m+=`Las bajas superaron a los nacimientos, causando la reduccin del rebao.
`;const v=o-s;return v>0?m+=`RECOMENDACIN: El "pool" de hembras en crecimiento aument (+${v}), lo que augura un buen potencial de reemplazo y crecimiento futuro. (Total Hembras: ${A>0?"+":""}${A})`:m+=`ALERTA: El "pool" de hembras en crecimiento se redujo (${v}), lo que podra comprometer el reemplazo y crecimiento en los prximos perodos. (Total Hembras: ${A})`,m},ov=(t,e,n,r)=>(s_(t,{startY:r,head:[[e,"Valor"]],body:n,theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:10}}),t.lastAutoTable.finalY+8),Pot=t=>{const e=new mn({orientation:"portrait",unit:"mm",format:"a4"});e.setFontSize(22),e.setFont("helvetica","bold"),e.setTextColor(44,62,80),e.text(`Reporte de Perodo: ${t.periodLabel}`,105,20,{align:"center"}),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(120,120,120),e.text(`Generado: ${new Date().toLocaleString()}`,105,27,{align:"center"}),e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(88,86,214),e.text("Anlisis IA GanaGenius",14,45),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(50,50,50);const n=kot(t);e.splitTextToSize(n,182).forEach((u,A)=>{e.text(u,14,52+A*5)});let r=80;const i=[["Vientres Iniciales",dt(t.startCabras+t.startLevanteTardio)],["Vientres Finales",dt(t.endCabras+t.endLevanteTardio)],["Crecimiento Vientres (Neto)",`${dt(t.endCabras+t.endLevanteTardio-(t.startCabras+t.startLevanteTardio))}`],["Crecimiento Vientres (%)",dt(t.growthRate,1)+" %"]];r=ov(e,"Resumen de Vientres Productivos",i,r);const a=[["H. en Crecimiento (Inicio)",dt(t.startCriaH+t.startLevanteTemprano+t.startLevanteMedio)],["H. en Crecimiento (Final)",dt(t.endCriaH+t.endLevanteTemprano+t.endLevanteMedio)],["Total Hembras (Inicio)",dt(t.startCabras+t.startLevanteTardio+t.startCriaH+t.startLevanteTemprano+t.startLevanteMedio)],["Total Hembras (Final)",dt(t.endCabras+t.endLevanteTardio+t.endCriaH+t.endLevanteTemprano+t.endLevanteMedio)]];r=ov(e,"Resumen de Hembras en Crecimiento",a,r),e.addPage(),r=20;const s=[["Nacimientos (Hembras)",dt(t.nacimientosH)],["Nacimientos (Machos)",dt(t.nacimientosM)],["Total Nacimientos",dt(t.nacimientosH+t.nacimientosM)],["Muertes Totales",dt(t.muertesTotales)],["Ventas Totales",dt(t.ventasTotales)],["Compras Totales",dt(t.comprasTotales)]];r=ov(e,"Flujos del Perodo",s,r);const o=[["Muertes Cras H",dt(t.muertesCriaH)],["Muertes Cras M",dt(t.muertesCriaM)],["Muertes Levante",dt(t.muertesLevanteTemprano+t.muertesLevanteMedio+t.muertesLevanteTardio)],["Muertes Cabras",dt(t.muertesCabras)],["Muertes Padres",dt(t.muertesPadres)],["Ventas Cras M (Elim.)",dt(t.ventasCabritos)],["Ventas Cabras (Descarte)",dt(t.ventasDescartes)]];r=ov(e,"Desglose de Bajas",o,r);const l=[["Cabras (>18m)",dt(t.endCabras)],["L. Tardo (12-18m)",dt(t.endLevanteTardio)],["L. Medio (6-12m)",dt(t.endLevanteMedio)],["L. Temprano (3-6m)",dt(t.endLevanteTemprano)],["Cras H (0-3m)",dt(t.endCriaH)],["Cras M (0-3m)",dt(t.endCriaM)],["Padres (>12m)",dt(t.endPadres)]];r=ov(e,"Desglose de Stock (Final)",l,r),e.save(`Reporte_${t.periodLabel.replace(/ /g,"_")}.pdf`)},Yn=t=>Math.round(t||0),Dot=({data:t,onViewYearChart:e,onExportPeriodPdf:n})=>{const[r,i]=P.useState(!1),a=j=>(j||0).toFixed(1),s=Yn(t.startCabras)+Yn(t.startLevanteTardio),o=Yn(t.endCabras)+Yn(t.endLevanteTardio),l=Yn(t.startLevanteTemprano)+Yn(t.startLevanteMedio)+Yn(t.startCriaH),u=Yn(t.endLevanteTemprano)+Yn(t.endLevanteMedio)+Yn(t.endCriaH),A=s+l,d=o+u,f=o-s,h=s>0?f/s*100:0,p=f>=0,m=p?ba:Hj,v=p?"text-green-500":"text-red-500",g=d-A,y=A>0?g/A*100:0,x=g>=0,C=x?ba:Hj,E=x?"text-green-500":"text-red-500";return c.jsxs("div",{className:"w-full overflow-hidden rounded-xl border border-white/10 bg-gray-800/50 shadow-md backdrop-blur-lg",children:[c.jsx("button",{onClick:()=>i(!r),className:"w-full p-5 text-left focus:outline-none focus:ring-2 focus:ring-sky-500 rounded-t-xl",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("p",{className:"text-lg font-bold text-white",children:t.periodLabel}),c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsx("p",{className:"text-4xl font-bold leading-none text-white",children:o}),c.jsxs("p",{className:"text-2xl font-medium text-gray-400",children:["(Inicio: ",s,")"]})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Vientres Productivos (Final vs. Inicial)"}),c.jsxs("p",{className:"text-sm text-gray-400 pt-1",children:["Hembras Totales: ",c.jsx("span",{className:"font-semibold text-white",children:d})," (Inicio: ",A,")"]})]}),c.jsxs("div",{className:"flex-1 text-right space-y-2",children:[c.jsxs("div",{className:`text-right ${v}`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(m,{size:"1.2em"}),c.jsxs("p",{className:"text-xl font-bold",children:[a(h),"%"]})]}),c.jsxs("p",{className:"text-lg font-medium",children:[p?"+":"",f," Vientres"]})]}),c.jsxs("div",{className:`text-right text-xs ${E} opacity-70`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(C,{size:"1em"}),c.jsxs("p",{className:"font-semibold",children:[a(y),"%"]})]}),c.jsxs("p",{className:"font-medium",children:[x?"+":"",g," Hembras Totales"]})]})]}),c.jsxs("div",{className:"ml-4 text-gray-500 pt-2",children:[" ",r?c.jsx(dpe,{size:20}):c.jsx(Ky,{size:20})," "]})]})}),r&&c.jsxs("div",{className:"relative border-t border-white/10 px-5 pb-14 pt-4 animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-0.5 md:pr-4 md:border-r md:border-white/10",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Desglose Final (Periodo)"}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endCabras)})," Cabras (",">","18m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endLevanteTardio)})," L. Tardo (12-18m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endLevanteMedio)})," L. Medio (6-12m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endLevanteTemprano)})," L. Temprano (3-6m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endCriaH)})," Cras H (0-3m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endCriaM)})," Cras M (0-3m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endPadres)})," Padres (",">","12m)"]}),c.jsx("hr",{className:"my-1 border-white/10"}),c.jsxs("p",{className:"text-sm text-gray-100",children:[c.jsx("span",{className:"font-bold text-white",children:Yn(t.endTotal)})," Animales Totales (Final)"]})]}),c.jsxs("div",{className:"space-y-3 md:pr-4 md:border-r md:border-white/10",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Movimientos del Periodo"}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[c.jsx(Dl,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Yn(t.nacimientosH+t.nacimientosM)," Nacimientos Totales"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[c.jsxs("div",{children:[Yn(t.nacimientosH)," Hembras (0-3m)"]})," ",c.jsxs("div",{children:[Yn(t.nacimientosM)," Machos (0-3m)"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[c.jsx(pq,{size:14})," ",c.jsx("span",{className:"font-semibold",children:"Promociones (Hembras)"})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[c.jsxs("div",{children:[Yn(t.promocionCriaH)," Cra H  L. Temprano"]}),c.jsxs("div",{children:[Yn(t.promocionLevanteTemprano)," L. Temprano  L. Medio"]}),c.jsxs("div",{children:[Yn(t.promocionLevanteMedio)," L. Medio  L. Tardo"]}),c.jsxs("div",{children:[Yn(t.promocionLevanteTardio)," L. Tardo  Cabras"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(Gw,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Yn(t.muertesTotales)," Muertes"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.muertesCriaH>0&&c.jsxs("div",{children:[Yn(t.muertesCriaH)," Cras H (0-3m)"]}),t.muertesCriaM>0&&c.jsxs("div",{children:[Yn(t.muertesCriaM)," Cras M (0-3m)"]}),t.muertesLevanteTemprano>0&&c.jsxs("div",{children:[Yn(t.muertesLevanteTemprano)," L. Temprano (3-6m)"]}),t.muertesLevanteMedio>0&&c.jsxs("div",{children:[Yn(t.muertesLevanteMedio)," L. Medio (6-12m)"]}),t.muertesLevanteTardio>0&&c.jsxs("div",{children:[Yn(t.muertesLevanteTardio)," L. Tardo (12-18m)"]}),t.muertesCabras>0&&c.jsxs("div",{children:[Yn(t.muertesCabras)," Cabras (",">","18m)"]}),t.muertesPadres>0&&c.jsxs("div",{children:[Yn(t.muertesPadres)," Padres"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(zj,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Yn(t.ventasTotales)," Ventas (Elim./Descarte)"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.ventasCabritos>0&&c.jsxs("div",{children:[Yn(t.ventasCabritos)," Cras M (Eliminacin)"]}),t.ventasDescartes>0&&c.jsxs("div",{children:[Yn(t.ventasDescartes)," Cabras (Descarte)"]})]})]}),t.comprasTotales>0&&c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[c.jsx(Dpe,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Yn(t.comprasTotales)," Compras"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.comprasVientres>0&&c.jsxs("div",{children:[Yn(t.comprasVientres)," Vientres (12-18m)"]}),t.comprasPadres>0&&c.jsxs("div",{children:[Yn(t.comprasPadres)," Padres"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Capacidad Productiva (Inicio  Fin)"}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(gq,{size:12})," Vientres Productivos (",">","12m)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[s,"  ",o]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(tC,{size:12})," % Vientres Productivos (Final)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[a(t.kpiProductivasPercent),"%"]})]}),c.jsx("hr",{className:"my-2 border-white/10"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(ba,{size:12})," Hembras en Crecimiento (","<","12m)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[l,"  ",u]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(tC,{size:12})," % Hembras en Crecimiento (Final)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[a(t.kpiCrecimientoPercent),"%"]})]})]})]})]}),c.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[c.jsx("button",{onClick:j=>{j.stopPropagation(),e(t)},className:"p-2 rounded-full text-gray-300 bg-gray-700/80 hover:text-white hover:bg-gray-600 transition-colors backdrop-blur-sm",title:`Ver evolucin detallada de ${t.periodLabel}`,children:c.jsx(Bq,{size:18})}),c.jsx("button",{onClick:j=>{j.stopPropagation(),n(t)},className:"p-2 rounded-full text-gray-300 bg-gray-700/80 hover:text-white hover:bg-gray-600 transition-colors backdrop-blur-sm ml-2",title:`Exportar ${t.periodLabel} a PDF`,children:c.jsx(bq,{size:18})})]})]})]})},e$=({options:t,value:e,onChange:n})=>c.jsxs("div",{className:"flex rounded-lg bg-gray-700 p-0.5",children:[" ",t.map(r=>c.jsxs("button",{onClick:()=>n(r.value),className:`rounded-md px-3 py-1 text-sm font-medium transition-colors ${e===r.value?"bg-sky-600 text-white shadow-sm":"text-gray-300 hover:text-white"}`,children:[" ",r.label," "]},String(r.value)))," "]}),t$=({simulationConfig:t,mode:e})=>{const[n,r]=P.useState(!1),[i,a]=P.useState(!1),[s,o]=P.useState(!1),[l,u]=P.useState(null),[A,d]=P.useState(3),[f,h]=P.useState("Anual"),{annualData:p,semestralData:m,monthlyData:v}=aJe(t,A),g=f==="Anual"?p:m,y=[{label:"1 Ao",value:1},{label:"3 Aos",value:3},{label:"5 Aos",value:5},{label:"10 Aos",value:10}],x=[{label:"Anual",value:"Anual"},{label:"Semestral",value:"Semestral"}],C=j=>{u(j),o(!0)},E=j=>{Pot(j)};return c.jsxs("div",{className:"py-8",children:[c.jsxs("div",{className:"flex flex-col items-stretch gap-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white max-w-4xl mx-auto px-4 text-center md:text-left",children:[" Evolucin del Rebao ",c.jsxs("span",{className:"ml-3 font-normal text-gray-400 hidden md:inline",children:["(",e==="simulacion"?"Simulacin":"Proyeccin Real",")"]})," "]}),c.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-4xl mx-auto px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 w-full justify-center",children:[c.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"Horizonte:"}),c.jsx(e$,{options:y,value:A,onChange:j=>d(j)})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"Vista:"}),c.jsx(e$,{options:x,value:f,onChange:j=>h(j)})]}),c.jsxs("div",{className:"flex gap-2 mt-4 md:mt-0",children:[c.jsxs("button",{onClick:()=>a(!0),disabled:!v||v.length===0,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 px-3 py-1.5 text-sm font-medium text-sky-300 transition-colors hover:bg-gray-600 disabled:opacity-50",title:"Ver grfico de evolucin de poblacin",children:[c.jsx(Bq,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Grfico Total"})]}),c.jsxs("button",{onClick:()=>r(!0),disabled:!p||p.length===0,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 px-3 py-1.5 text-sm font-medium text-sky-300 transition-colors hover:bg-gray-600 disabled:opacity-50",title:"Ver reporte detallado de simulacin",children:[c.jsx(TD,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Reporte Detallado"})]})]})]})]}),c.jsx("div",{className:"flex flex-col items-stretch gap-4 max-w-4xl mx-auto px-4",children:g.map(j=>{const _=f==="Anual"?`anno-${j.year}`:`sem-${j.semestreIndex}`;return c.jsx(Dot,{data:j,onViewYearChart:C,onExportPeriodPdf:E},_)})})]}),c.jsx(yot,{isOpen:n,onClose:()=>r(!1),monthlyData:v,semestralData:m,annualData:p}),c.jsx(Eot,{isOpen:i,onClose:()=>a(!1),monthlyData:v,title:`Evolucin Total del Rebao (${A} Aos)`}),l&&c.jsx(Tot,{isOpen:s,onClose:()=>{o(!1),u(null)},periodData:l,monthlyData:v})]})},Vf=({title:t,icon:e,children:n,defaultOpen:r=!1})=>{const[i,a]=P.useState(r);return c.jsxs("div",{className:"mb-4",children:[c.jsxs("button",{type:"button",onClick:()=>a(!i),className:"text-sm font-semibold text-zinc-400 uppercase tracking-wide flex items-center justify-between gap-2 mb-2 px-4 w-full",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[" ",c.jsx(e,{size:16})," ",t]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-4 h-4 transition-transform ${i?"rotate-180":"rotate-0"}`,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),i&&c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden animate-fade-in",children:n})]})},Gi=be.forwardRef(({label:t,unit:e,disabled:n,...r},i)=>c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${n?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:r.id||r.name,className:"text-white text-base",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{ref:i,...r,disabled:n,className:`w-24 bg-zinc-700/80 rounded-lg p-2 text-white text-right font-mono text-base focus:outline-none focus:ring-2 focus:ring-brand-orange ${n?"text-zinc-400":"text-white"}`}),e&&c.jsx("span",{className:"text-zinc-400 w-8 text-left",children:e})]})]})),jw=({label:t,name:e,value:n,onChange:r,disabled:i})=>{const a=["No Usar","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],s=o=>{const l=parseInt(o.target.value,10);r(e,l===0?void 0:l)};return c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${i?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:e,className:"text-white text-base",children:t}),c.jsx("select",{id:e,name:e,value:n??0,onChange:s,disabled:i,className:`w-28 bg-zinc-700/80 rounded-lg p-2 text-base focus:outline-none focus:ring-2 focus:ring-brand-orange appearance-none text-center ${i?"text-zinc-400":"text-white"}`,children:a.map((o,l)=>c.jsx("option",{value:l,children:o},l))})]})},Oot=({label:t,name:e,value:n,onChange:r,options:i,disabled:a})=>{const s=o=>{r(e,parseInt(o.target.value,10))};return c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${a?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:e,className:"text-white text-base",children:t}),c.jsx("select",{id:e,name:e,value:n??"",onChange:s,disabled:a,className:`w-40 bg-zinc-700/80 rounded-lg p-2 text-base focus:outline-none focus:ring-2 focus:ring-brand-orange appearance-none text-center ${a?"text-zinc-400":"text-white"}`,children:i.map(o=>c.jsx("option",{value:o.value,children:o.label},o.value))})]})},Fot=({label:t,description:e,icon:n,isChecked:r,onToggle:i,disabled:a=!1})=>c.jsxs("div",{className:`p-4 bg-brand-glass rounded-2xl border border-brand-border flex items-center justify-between ${a?"opacity-50 cursor-not-allowed":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-gray-700 text-sky-400",children:c.jsx(n,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base font-semibold text-white",children:t}),c.jsx("p",{className:"text-sm text-gray-400",children:e})]})]}),c.jsx("button",{type:"button",role:"switch","aria-checked":r,onClick:()=>!a&&i(!r),disabled:a,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-gray-900 ${r?"bg-sky-500":"bg-gray-600"} ${a?"cursor-not-allowed":""}`,children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${r?"translate-x-5":"translate-x-0"}`})})]}),w4={initialCabras:0,initialLevanteTardio:0,initialLevanteMedio:0,initialLevanteTemprano:0,initialCriaH:0,initialCriaM:0,initialPadres:1,diasLactanciaObjetivo:305},Lot=({initialConfig:t,realConfig:e,onSimulate:n})=>{const[r,i]=P.useState(()=>({...w4,...t||{}})),[a,s]=P.useState(!1);P.useEffect(()=>{!a&&t&&JSON.stringify(t)!==JSON.stringify(r)&&i({...w4,...t})},[t,a]),P.useEffect(()=>{if(a)return;const h=r.initialCabras??0,p=r.initialLevanteTemprano??0,m=r.initialLevanteMedio??0,v=r.initialLevanteTardio??0,g=r.initialPadres,y=h+v+m+p,x=Math.max(1,Math.ceil(y/30));(g===void 0||g!==x)&&i(C=>({...C,initialPadres:x}))},[r.initialCabras,r.initialLevanteTemprano,r.initialLevanteMedio,r.initialLevanteTardio,r.initialPadres,a]);const o=h=>{const{name:p,value:m,type:v}=h.target;let g=m;v==="number"&&(m===""?g=void 0:(g=parseFloat(m),isNaN(g)&&(g=void 0))),i(y=>({...y,[p]:g}))},l=(h,p)=>{i(m=>({...m,[h]:p}))},u=(h,p)=>{i(m=>({...m,[h]:p}))},A=h=>{s(h),i(h&&e?e:{...w4,...t||{}})},d=h=>{if(h.preventDefault(),a&&!e){alert("Error: No se pudieron cargar los datos reales. Desactiva el modo 'Usar Datos Reales' para continuar.");return}if(!a&&!r.mesInicioMonta1&&!r.mesInicioMonta2&&!r.mesInicioMonta3&&!r.mesInicioMonta4){alert("Debes seleccionar al menos un mes de inicio para la Temporada de Monta 1.");return}if(!a){const p=r.litrosPromedioPorAnimal??0,m=r.litrosPicoPorAnimal??0;if(m>0&&m<=p){alert("Error: La Produccin (Pico) debe ser mayor que la Produccin (Promedio).");return}}console.log(`Ejecutando simulacin con (Modo Real: ${a}):`,r),n(r)},f=!!e;return c.jsxs("form",{onSubmit:d,className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in p-4 pb-32",children:[c.jsxs("header",{className:"text-center mb-6",children:[" ",c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Modo Simulacin"})," ",c.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus parmetros de partida"})," "]}),c.jsx(Fot,{label:"Usar Datos Reales de mi Finca",description:f?"Poblar el setup con KPIs reales":"Calculando KPIs reales...",icon:wpe,isChecked:a,onToggle:A,disabled:!f}),c.jsxs(Vf,{title:"Poblacin Inicial",icon:zu,defaultOpen:!0,children:[c.jsx(Gi,{label:"Cabras (>18m)",type:"number",name:"initialCabras",value:r.initialCabras??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Gi,{label:"L. Tardo (12-18m)",type:"number",name:"initialLevanteTardio",value:r.initialLevanteTardio??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Gi,{label:"L. Medio (6-12m)",type:"number",name:"initialLevanteMedio",value:r.initialLevanteMedio??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Gi,{label:"L. Temprano (3-6m)",type:"number",name:"initialLevanteTemprano",value:r.initialLevanteTemprano??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Gi,{label:"Cras H (0-3m)",type:"number",name:"initialCriaH",value:r.initialCriaH??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Gi,{label:"Cras M (0-3m)",type:"number",name:"initialCriaM",value:r.initialCriaM??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Gi,{label:"Reproductores (>12m)",type:"number",name:"initialPadres",value:r.initialPadres??"",onChange:o,min:"1",step:"1",unit:"N",disabled:a}),!a&&c.jsx("p",{className:"text-xs text-zinc-500 px-3 py-2 text-center",children:"Nota: Reproductores calculados (1/30 hembras)."}),c.jsx(Gi,{label:"Compras Vientres/Ao",type:"number",name:"comprasVientresAnual",value:r.comprasVientresAnual??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a})]}),c.jsxs(Vf,{title:"Temporadas de Monta",icon:So,defaultOpen:!0,children:[c.jsx(jw,{label:"Inicio Temporada 1",name:"mesInicioMonta1",value:r.mesInicioMonta1,onChange:l,disabled:a}),c.jsx(jw,{label:"Inicio Temporada 2",name:"mesInicioMonta2",value:r.mesInicioMonta2,onChange:l,disabled:a}),c.jsx(jw,{label:"Inicio Temporada 3",name:"mesInicioMonta3",value:r.mesInicioMonta3,onChange:l,disabled:a}),c.jsx(jw,{label:"Inicio Temporada 4",name:"mesInicioMonta4",value:r.mesInicioMonta4,onChange:l,disabled:a}),c.jsx(Gi,{label:"Duracin Monta",type:"number",name:"duracionMontaDias",value:r.duracionMontaDias??"",onChange:o,min:"1",step:"1",unit:"das",disabled:a})]}),c.jsx(Vf,{title:"Parmetros de Gestacin",icon:cB,defaultOpen:!1,children:c.jsx(Gi,{label:"Das Gestacin",type:"number",name:"diasGestacion",value:r.diasGestacion??"",onChange:o,min:"140",max:"160",step:"1",unit:"das",disabled:a})}),c.jsxs(Vf,{title:"Manejo Productivo",icon:cB,defaultOpen:!1,children:[c.jsx(Gi,{label:"Produccin Leche (Prom.)",type:"number",name:"litrosPromedioPorAnimal",value:r.litrosPromedioPorAnimal??"",onChange:o,min:"0",step:"0.1",unit:"L/da",disabled:a}),c.jsx(Gi,{label:"Produccin Leche (Pico)",type:"number",name:"litrosPicoPorAnimal",value:r.litrosPicoPorAnimal??"",onChange:o,min:"0",step:"0.1",unit:"L/da",disabled:a}),c.jsx(Oot,{label:"Das de Lactancia",name:"diasLactanciaObjetivo",value:r.diasLactanciaObjetivo,onChange:u,options:[{label:"305 Das (10 Meses)",value:305},{label:"210 Das (7 Meses)",value:210}],disabled:a})]}),c.jsxs(Vf,{title:"ndices Biolgicos",icon:tC,defaultOpen:!0,children:[c.jsx(Gi,{label:"% de Preez",type:"number",name:"porcentajePrenez",value:r.porcentajePrenez??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Gi,{label:"% Prolificidad",type:"number",name:"porcentajeProlificidad",value:r.porcentajeProlificidad??"",onChange:o,min:"0",step:"1",unit:"%",disabled:a}),c.jsx(Gi,{label:"% Mortalidad Cras (0-3m)",type:"number",name:"mortalidadCrias",value:r.mortalidadCrias??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Gi,{label:"% Mortalidad Levante (3-18m)",type:"number",name:"mortalidadLevante",value:r.mortalidadLevante??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Gi,{label:"% Mortalidad Cabras (>18m)",type:"number",name:"mortalidadCabras",value:r.mortalidadCabras??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a})]}),c.jsxs(Vf,{title:"Parmetros de Manejo",icon:cB,defaultOpen:!1,children:[c.jsx(Gi,{label:"% Reemplazo (Anual)",type:"number",name:"tasaReemplazo",value:r.tasaReemplazo??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Gi,{label:"% Eliminacin Cras M (0-3m)",type:"number",name:"eliminacionCabritos",value:r.eliminacionCabritos??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a})]}),c.jsxs(Vf,{title:"Parmetros Econmicos",icon:Ol,defaultOpen:!1,children:[c.jsx(Gi,{label:"Precio Venta Leche",type:"number",name:"precioLecheLitro",value:r.precioLecheLitro??"",onChange:o,min:"0",step:"0.01",unit:`${r.monedaSimbolo??"$"}/L`,disabled:a}),c.jsx(Gi,{label:"Precio Venta Cabrito",type:"number",name:"precioVentaCabritoKg",value:r.precioVentaCabritoKg??"",onChange:o,min:"0",step:"0.01",unit:`${r.monedaSimbolo??"$"}/Kg`,disabled:a}),c.jsx(Gi,{label:"Precio Venta Descarte",type:"number",name:"precioVentaDescarteAdulto",value:r.precioVentaDescarteAdulto??"",onChange:o,min:"0",step:"1",unit:r.monedaSimbolo??"$",disabled:a})]}),c.jsx("div",{className:"fixed bottom-16 left-0 right-0 p-4 bg-brand-dark/80 backdrop-blur-lg border-t border-brand-border z-10",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:c.jsxs("button",{type:"submit",className:"w-full max-w-2xl mx-auto bg-brand-orange text-black font-bold py-4 rounded-xl text-lg flex items-center justify-center gap-2 hover:bg-orange-400 transition-colors",children:[c.jsx(ba,{size:20}),a?"Correr Simulacin (con Datos Reales)":"Correr Simulacin (Manual)"]})})]})};function Mot(t){return new Worker(""+new URL("optimizationWorker-BqR3qtmQ.js",import.meta.url).href,{name:t==null?void 0:t.name})}const Rot=({baseConfig:t,horizonInYears:e,enabled:n,totalSimulations:r=200})=>{const[i,a]=P.useState(!1),[s,o]=P.useState(0),[l,u]=P.useState(null),[A,d]=P.useState(null),[f,h]=P.useState(null),[p,m]=P.useState(null),[v,g]=P.useState(null),[y,x]=P.useState(null),C=P.useRef(null);return P.useEffect(()=>{if(!(!n||!t)&&!C.current){a(!0),o(0),u(null),d(null),h(null),m(null),g(null),x(null),console.log("[GanaGenius V8.5] Iniciando optimizador de linealidad...");try{const E=new Mot;C.current=E,E.onmessage=_=>{const{type:B,progress:N,baseCV:D,bestCV:T,bestDistribution:O,error:L,baseMonthlyData:H,bestMonthlyData:q}=_.data;B==="progress"?(o(N??0),D&&u(D),T&&d(T)):B==="result"?(console.log("[GanaGenius V8.5] Optimizacin completada!",_.data),a(!1),o(N??1),u(D??null),d(T??null),h(O??null),g(H??null),x(q??null),E.terminate(),C.current=null):B==="error"&&(console.error("[GanaGenius V8.5] Error en Worker:",L),a(!1),m(L??"Error desconocido en el worker"),E.terminate(),C.current=null)},E.onerror=_=>{console.error("[GanaGenius V8.5] Error fatal del Worker:",_),a(!1),m(`Error en el Worker: ${_.message||"Fall la instanciacin"}`),E.terminate(),C.current=null};const j={baseConfig:t,horizonInYears:e,totalSimulations:r};E.postMessage(j)}catch(E){console.error("[GanaGenius V8.5] No se pudo crear el Worker:",E),a(!1),m(`No se pudo iniciar el optimizador: ${E.message}`)}return()=>{C.current&&(console.log("[GanaGenius V8.5] Terminando optimizacin prematuramente..."),C.current.terminate(),C.current=null,a(!1))}}},[t,e,n,r]),{isLoading:i,progress:s,baseCV:l,bestCV:A,bestDistribution:f,error:p,baseMonthlyData:v,bestMonthlyData:y}};function Uot(t){return new Worker(""+new URL("sensitivityWorker-BUbenlRC.js",import.meta.url).href,{name:t==null?void 0:t.name})}const Qot=({baseConfig:t,horizonInYears:e,enabled:n})=>{const[r,i]=P.useState(!1),[a,s]=P.useState(null),[o,l]=P.useState(null),u=P.useRef(null);return P.useEffect(()=>{if(!(!n||!t)&&!u.current){i(!0),s(null),l(null),console.log("[GanaGenius V8.5] Iniciando Anlisis de Sensibilidad...");try{const A=new Uot;u.current=A,A.onmessage=f=>{const{type:h,report:p,error:m}=f.data;h==="result"&&p?(console.log("[GanaGenius V8.5] Anlisis de Sensibilidad completado.",p),s(p),i(!1),A.terminate(),u.current=null):h==="error"&&(console.error("[GanaGenius V8.5] Error en Sensitivity Worker:",m),l(m??"Error desconocido en el worker"),i(!1),A.terminate(),u.current=null)},A.onerror=f=>{console.error("[GanaGenius V8.5] Error fatal del Sensitivity Worker:",f),l(`Error en el Worker: ${f.message||"Fall la instanciacin"}`),i(!1),A.terminate(),u.current=null};const d={baseConfig:t,horizonInYears:e};A.postMessage(d)}catch(A){console.error("[GanaGenius V8.5] No se pudo crear el Sensitivity Worker:",A),l(`No se pudo iniciar el anlisis: ${A.message}`),i(!1)}return()=>{u.current&&(console.log("[GanaGenius V8.5] Terminando anlisis de sensibilidad..."),u.current.terminate(),u.current=null,i(!1))}}},[t,e,n]),{isLoading:r,report:a,error:o}},Lae=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload.periodLabel;return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.map(r=>c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsxs("span",{className:"text-xs",style:{color:r.color},children:[r.name,":"]}),c.jsx("span",{className:"text-xs font-mono text-white",children:r.dataKey.includes("Ingreso")?Qb(r.value,"$",0):dt(r.value,0)+" L"})]},r.name))})]})}return null},Hot=({baseData:t,optimizedData:e})=>{const n=P.useMemo(()=>!t||!e?[]:t.slice(0,12).map((r,i)=>{var a;return{name:r.periodLabel.split(" ")[2],"CV Actual (L)":r.litrosLeche,"CV Optimizado (L)":((a=e[i])==null?void 0:a.litrosLeche)??0,periodLabel:r.periodLabel}}),[t,e]);return c.jsx("div",{className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(wO,{data:n,margin:{top:5,right:0,left:-20,bottom:5},children:[c.jsx(cu,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickFormatter:r=>dt(r,0)}),c.jsx(Sr,{content:c.jsx(Lae,{})}),c.jsx(Tl,{wrapperStyle:{fontSize:"12px"}}),c.jsx(ru,{type:"monotone",name:"CV Actual (L)",dataKey:"CV Actual (L)",stroke:"#f87171",strokeWidth:2,dot:!1}),c.jsx(ru,{type:"monotone",name:"CV Optimizado (L)",dataKey:"CV Optimizado (L)",stroke:"#4ade80",strokeWidth:2,dot:!1})]})})})},zot=({baseData:t,optimizedData:e,kpiName:n})=>{const r=P.useMemo(()=>!t||!e?[]:t.map((a,s)=>{var o;return{name:`A${a.year} M${a.month}`,periodLabel:a.periodLabel,"Ingreso Actual":a.ingresosTotales,[`Ingreso (+${n})`]:((o=e[s])==null?void 0:o.ingresosTotales)??0}}),[t,e,n]),i=a=>a.endsWith("M1")?a.split(" ")[0]:"";return c.jsx("div",{className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(Oi,{width:"100%",height:"100%",children:c.jsxs(wO,{data:r,margin:{top:5,right:0,left:-20,bottom:5},children:[c.jsx(cu,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(hi,{dataKey:"name",stroke:"#9ca3af",fontSize:12,tickFormatter:i}),c.jsx(Bi,{stroke:"#9ca3af",fontSize:12,tickFormatter:a=>`${dt(a/1e3,0)}k`}),c.jsx(Sr,{content:c.jsx(Lae,{})}),c.jsx(Tl,{wrapperStyle:{fontSize:"12px"}}),c.jsx(ru,{type:"monotone",name:"Ingreso Actual",dataKey:"Ingreso Actual",stroke:"#9ca3af",strokeWidth:2,dot:!1}),c.jsx(ru,{type:"monotone",name:`Ingreso (+${n})`,dataKey:`Ingreso (+${n})`,stroke:"#4ade80",strokeWidth:2,dot:!1})]})})})},Vot=({baseConfig:t,horizonInYears:e,onSaveOptimizedPlan:n})=>{const[r,i]=P.useState("idle"),{isLoading:a,report:s,error:o}=Qot({baseConfig:t,horizonInYears:e,enabled:r==="diagnosing"}),{isLoading:l,progress:u,baseCV:A,bestCV:d,bestDistribution:f,error:h,baseMonthlyData:p,bestMonthlyData:m}=Rot({baseConfig:t,horizonInYears:e,enabled:r==="optimizing"}),v=o||h,g=()=>{i("diagnosing")},y=()=>{i("optimizing")},x=N=>{if(!t)return;const D={...t,matingDistribution:N};n(D)},C=[t==null?void 0:t.mesInicioMonta1,t==null?void 0:t.mesInicioMonta2,t==null?void 0:t.mesInicioMonta3,t==null?void 0:t.mesInicioMonta4].filter(N=>typeof N=="number"&&N>0),E=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],j=N=>{if(!N)return null;const D=N.impacts[0],T=(t==null?void 0:t.monedaSimbolo)??"$",O=N.impacts.find(L=>L.kpi===D.kpi);return c.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Diagnstico Zootcnico Completo"}),c.jsxs("p",{className:"text-sm text-gray-300",children:["Tu **",D.kpi,"** es tu eslabn ms dbil (y tu mayor oportunidad). Mejorar este KPI tiene el mayor impacto en tus ingresos."]}),c.jsx(zot,{baseData:N.baseMonthlyData,optimizedData:(O==null?void 0:O.monthlyData)??null,kpiName:D.kpi}),c.jsx("div",{className:"my-4 space-y-2 text-left",children:N.impacts.map(L=>c.jsxs("div",{className:`p-3 rounded-lg border ${L.kpi===D.kpi?"bg-green-900/50 border-green-700":"bg-gray-800 border-gray-700"}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-semibold text-white",children:L.kpi}),c.jsxs("span",{className:`font-bold ${L.kpi===D.kpi?"text-green-400":"text-gray-300"}`,children:["+ ",Qb(L.impact,T,0)]})]}),c.jsx("p",{className:"text-xs text-gray-400",children:L.kpi==="Mortalidad"?"Reduciendo mortalidad":`Mejorando a ${dt(L.newValue,0)}%`})]},L.kpi))}),c.jsx("hr",{className:"border-gray-700 my-4"}),c.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"**Paso 2 (Opcional):** Ahora que conoces tu prioridad zootcnica, podemos optimizar tu flujo de caja."}),c.jsxs("button",{type:"button",onClick:y,className:"w-full rounded-md bg-sky-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-sky-500",children:[c.jsx(eC,{size:18,className:"inline-block -mt-1 mr-2"}),"Optimizar Linealidad (Flujo de Caja)"]})]})},_=()=>{const N=typeof f<"u"&&f!==null;let D="";return N&&f&&(D=f.map((T,O)=>{const L=C[O];if(typeof L!="number")return"?";const H=L-1;return`${E[H]||"Mes?"}: ${dt(T,0)} cabras`}).join(" / ")),c.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Optimizacin de Linealidad Completa"}),N?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-gray-300",children:'Mejora de flujo de caja encontrada! GanaGenius ha aplanado tu "montaa rusa" de produccin.'}),c.jsx(Hot,{baseData:p,optimizedData:m}),c.jsxs("div",{className:"flex justify-center gap-4 my-4",children:[c.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg text-center",children:[c.jsx("p",{className:"text-xs text-red-400",children:"CV Actual"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[dt(A,1),"%"]})]}),c.jsxs("div",{className:"p-3 bg-green-900/50 border border-green-700 rounded-lg text-center",children:[c.jsx("p",{className:"text-xs text-green-400",children:"CV ptimo"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[dt(d,1),"%"]})]})]}),c.jsx("h3",{className:"font-semibold text-white",children:"Plan de Accin (Cupos de Monta):"}),c.jsx("p",{className:"text-base font-semibold text-green-400 bg-gray-800 p-3 rounded-md mt-2",children:D}),c.jsxs("button",{type:"button",onClick:()=>x(f),className:"mt-6 w-full rounded-md bg-green-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-green-500",children:[c.jsx(j5,{size:18,className:"inline-block -mt-1 mr-2"}),"Guardar y Usar este Plan Optimizado"]}),c.jsx("button",{type:"button",onClick:()=>i("diagnosis_result"),className:"w-full text-center text-sm text-gray-400 hover:text-white mt-4",children:"Volver al Diagnstico"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"mt-2 text-sm text-gray-300",children:["Buen trabajo! Tu escenario actual (CV: ",dt(A,1),"%) ya es el ms lineal encontrado. No se requiere optimizacin."]}),c.jsx("button",{type:"button",onClick:()=>i("diagnosis_result"),className:"mt-6 w-full rounded-md bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-500",children:"Volver al Diagnstico"})]})]})},B=()=>v?c.jsxs("div",{className:"p-4 max-w-2xl mx-auto text-center",children:[c.jsx("h3",{className:"text-lg font-medium text-red-400",children:"Error en GanaGenius"}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:v}),c.jsx("button",{type:"button",onClick:()=>i("idle"),className:"mt-6 w-full rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white",children:"Volver"})]}):a?c.jsxs("div",{className:"p-6 text-center max-w-2xl mx-auto",children:[c.jsx(BR,{size:48,className:"mx-auto text-sky-400 animate-pulse"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"GanaGenius est diagnosticando..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Analizando el impacto de tus KPIs... (Corriendo 4 simulaciones)"})]}):l?c.jsxs("div",{className:"p-6 text-center max-w-2xl mx-auto",children:[c.jsx(BR,{size:48,className:"mx-auto text-sky-400 animate-pulse"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"GanaGenius est optimizando..."}),c.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Analizando ",Math.round(u*200)," / 200 escenarios de montas."]}),c.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-4",children:c.jsx("div",{className:"bg-sky-500 h-2.5 rounded-full transition-all",style:{width:`${u*100}%`}})}),c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["CV Actual: ",dt(A,1),"%",d&&A&&d<A?` | Mejor: ${dt(d,1)}%`:""]})]}):r==="optimizing"&&d!==null?_():r==="diagnosing"&&s?j(s):c.jsxs("div",{className:"p-4 max-w-2xl mx-auto text-center",children:[c.jsx(_q,{size:48,className:"mx-auto text-yellow-400"}),c.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:"Asistente Zootcnico GanaGenius"}),c.jsx("p",{className:"mt-2 text-lg text-gray-300",children:'Bienvenido a tu "Cuarto de Guerra".'}),c.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"GanaGenius usar la proyeccin de tus **Datos Reales** para ayudarte a tomar dos decisiones crticas:"}),c.jsxs("ul",{className:"text-left text-sm text-gray-300 space-y-2 my-4 list-decimal list-inside",children:[c.jsx("li",{children:"**Diagnosticar** tu principal cuello de botella zootcnico (el eslabn ms dbil)."}),c.jsx("li",{children:"**Optimizar** tu flujo de caja (linealidad) sugiriendo un plan de montas."})]}),c.jsxs("button",{type:"button",onClick:g,className:"mt-4 w-full rounded-md bg-sky-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-sky-500",children:[c.jsx(ba,{size:18,className:"inline-block -mt-1 mr-2"}),"Iniciar Diagnstico Zootcnico"]})]});return c.jsx("div",{className:"py-8",children:B()})},Rk=()=>c.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#1C1C1E] animate-fade-in",children:[c.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[c.jsx(cx,{className:"text-brand-orange w-12 h-12"}),c.jsx("div",{className:"absolute inset-0",children:c.jsx(jq,{className:"w-24 h-24 text-zinc-700 animate-spin-slow"})})]}),c.jsx("p",{className:"mt-4 text-lg font-medium text-zinc-400 tracking-wider",children:"Cargando datos..."})]}),l_=30.44,$ot=3*l_,Kot=6*l_,Wot=12*l_,Got=18*l_,g2=(t,e)=>{try{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());return Math.floor((a-i)/(1e3*60*60*24))}catch(n){return console.error("Error en getDaysBetweenDates:",n),0}},Vp=(t,e)=>{if(t.status!=="Activo")return"Otros";if(!t.birthDate||t.birthDate==="N/A")return t.sex==="Hembra"?"Cabras":"Machos";const n=g2(t.birthDate,e);return t.sex==="Macho"?"Machos":n<=$ot?"CriaH":n<=Kot?"L.Temprano":n<=Wot?"L.Medio":n<=Got?"L.Tardo":"Cabras"},qot=(t,e)=>{if(!e||e.length===0)return null;const n=new Date(t+"T00:00:00Z");return isNaN(n.getTime())?null:e.filter(i=>{const a=new Date(i.parturitionDate+"T00:00:00Z");return isNaN(a.getTime())?!1:a<=n&&i.status!=="finalizada"}).sort((i,a)=>{const s=new Date(i.parturitionDate+"T00:00:00Z").getTime();return new Date(a.parturitionDate+"T00:00:00Z").getTime()-s})[0]||null},pA={comprasVientresAnual:0,duracionMontaDias:45,diasGestacion:150,litrosPromedioPorAnimal:1.8,litrosPicoPorAnimal:2.6,diasLactanciaObjetivo:305,porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:5,mortalidadLevante:3,mortalidadCabras:3,tasaReemplazo:20,eliminacionCabritos:100,precioLecheLitro:.5,precioVentaCabritoKg:3,precioVentaDescarteAdulto:50,monedaSimbolo:"$"},Yot=()=>{const{animals:t,events:e,parturitions:n,serviceRecords:r,weighings:i,appConfig:a,isLoading:s,isLoadingConfig:o}=Yt(),l=s||o;return{realConfig:P.useMemo(()=>{if(l||!t||t.length===0)return null;const A=new Date().toISOString().split("T")[0],d=new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().split("T")[0];let f=0,h=0,p=0,m=0,v=0,g=0,y=0;t.filter($=>$.status==="Activo"&&!$.isReference).forEach($=>{switch(Vp($,A)){case"CriaH":$.sex==="Hembra"?v++:$.sex==="Macho"?g++:(v+=.5,g+=.5);break;case"L.Temprano":m++;break;case"L.Medio":p++;break;case"L.Tardo":h++;break;case"Cabras":f++;break;case"Machos":y++;break}}),v=Math.round(v),g=Math.round(g),y=Math.max(1,y);const C=r.filter($=>$.serviceDate>=d),E=n.filter($=>$.parturitionDate>=d);let j=pA.porcentajePrenez;C.length>5&&(j=C.filter(J=>E.some(ne=>ne.goatId===J.femaleId&&g2(J.serviceDate,ne.parturitionDate)>140&&g2(J.serviceDate,ne.parturitionDate)<160)).length/C.length*100);let _=pA.porcentajeProlificidad;const B=E.filter($=>$.parturitionOutcome==="Normal"||$.parturitionOutcome==="Con Mortinatos");B.length>3&&(_=B.reduce((J,ne)=>J+(ne.offspringCount||0),0)/B.length*100);const N=e.filter($=>$.type==="Cambio de Estado"&&$.details.includes("Muerte")&&$.date>=d),D=t.filter($=>($.createdAt||0)<=new Date(d).getTime()),T=e.filter($=>$.type==="Nacimiento"&&$.date>=d).length,O=N.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&Vp(J,$.date)==="CriaH"}).length;let L=pA.mortalidadCrias;T>5&&(L=O/T*100);const H=N.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&["L.Temprano","L.Medio","L.Tardo"].includes(Vp(J,$.date))}).length,q=D.filter($=>["L.Temprano","L.Medio","L.Tardo"].includes(Vp($,d))).length;let Y=pA.mortalidadLevante;q>0&&(Y=H/q*100);const ee=N.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&Vp(J,$.date)==="Cabras"}).length,K=D.filter($=>Vp($,d)==="Cabras").length;let te=pA.mortalidadCabras;K>0&&(te=ee/K*100);let le=pA.litrosPromedioPorAnimal,se=pA.litrosPicoPorAnimal;if(i.length>20){const $=new Map;n.forEach(ne=>{const he=$.get(ne.goatId)||[];he.push(ne),$.set(ne.goatId,he)});const J=[];if(i.forEach(ne=>{const he=$.get(ne.goatId);if(!he)return;const we=qot(ne.date,he);if(!we)return;const Se=g2(we.parturitionDate,ne.date);Se>=0&&Se<=305&&J.push({daysInMilk:Se,kg:ne.kg})}),J.length>10){le=J.reduce((Se,Ae)=>Se+Ae.kg,0)/J.length;const he={};J.forEach(Se=>{const Ae=Math.floor(Se.daysInMilk/30.44)+1;he[Ae]||(he[Ae]=[]),he[Ae].push(Se.kg)});const we=Object.values(he).map(Se=>Se.reduce((ge,xe)=>ge+xe,0)/Se.length);se=Math.max(...we,le*1.01)}}const M={...pA,...a||{},initialCabras:Math.round(f),initialLevanteTardio:Math.round(h),initialLevanteMedio:Math.round(p),initialLevanteTemprano:Math.round(m),initialCriaH:Math.round(v),initialCriaM:Math.round(g),initialPadres:Math.round(y),porcentajePrenez:parseFloat(j.toFixed(1)),porcentajeProlificidad:parseFloat(_.toFixed(1)),mortalidadCrias:parseFloat(L.toFixed(1)),mortalidadLevante:parseFloat(Y.toFixed(1)),mortalidadCabras:parseFloat(te.toFixed(1)),litrosPromedioPorAnimal:parseFloat(le.toFixed(2)),litrosPicoPorAnimal:parseFloat(se.toFixed(2)),monedaSimbolo:(a==null?void 0:a.monedaSimbolo)??pA.monedaSimbolo,comprasVientresAnual:0};return(M.litrosPicoPorAnimal??0)<=(M.litrosPromedioPorAnimal??0)&&(M.litrosPicoPorAnimal=(M.litrosPromedioPorAnimal??1.8)*1.4),M},[l,t,e,n,r,i,a]),isLoading:l}},n$={comprasVientresAnual:0,duracionMontaDias:45,diasGestacion:150,litrosPromedioPorAnimal:1.8,litrosPicoPorAnimal:2.6,diasLactanciaObjetivo:305,porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:5,mortalidadLevante:3,mortalidadCabras:3,tasaReemplazo:20,eliminacionCabritos:100,precioLecheLitro:.5,precioVentaCabritoKg:3,precioVentaDescarteAdulto:50,monedaSimbolo:"$"};function Xot({onSwitchModule:t}){const{syncStatus:e,appConfig:n,isLoading:r}=Yt(),[i,a]=P.useState("setup"),{realConfig:s,isLoading:o}=Yot(),[l,u]=P.useState(()=>{try{const y=localStorage.getItem("ganaderoOS_simConfig");if(y)return JSON.parse(y)}catch(y){console.error("Error al cargar simulacin guardada de localStorage:",y),localStorage.removeItem("ganaderoOS_simConfig")}return null}),[A,d]=P.useState(l),f=r||o,h=y=>{console.log("[EvolucionShell] Corriendo nueva simulacin...",y),d(y),y.initialCabras!==(s==null?void 0:s.initialCabras)?(console.log("[EvolucionShell] Guardando simulacin manual en localStorage."),u(y)):console.log("[EvolucionShell] Corriendo simulacin 'Real' (no se guarda)."),a("sim-results")},p=y=>{console.log("[EvolucionShell] GanaGenius guard un nuevo plan optimizado."),u(y),d(y),a("sim-results")},m=y=>{a(y)},v=[{view:"setup",label:"Setup",icon:kD},{view:"sim-results",label:"Simulacin",icon:gq},{view:"real-results",label:"Real",icon:As},{view:"genius-analysis",label:"GanaGenius",icon:Vv}],g={...n$,initialCabras:0,initialLevanteTardio:0,initialLevanteMedio:0,initialLevanteTemprano:0,initialCriaH:0,initialCriaM:0,initialPadres:1,...n||{}};return g.monedaSimbolo=(n==null?void 0:n.monedaSimbolo)??n$.monedaSimbolo,P.useEffect(()=>{try{l?localStorage.setItem("ganaderoOS_simConfig",JSON.stringify(l)):localStorage.removeItem("ganaderoOS_simConfig")}catch(y){console.error("Error al guardar simulacin en localStorage:",y)}},[l]),c.jsxs("div",{className:"font-sans text-gray-200 min-h-screen animate-fade-in",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i!=="setup"&&c.jsx("button",{onClick:()=>m("setup"),className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors flex-shrink-0","aria-label":"Volver a Configuracin",children:c.jsx(Fi,{size:24})}),c.jsx(ba,{className:`text-indigo-400 ${i==="setup"?"":"hidden sm:block"} flex-shrink-0`,size:28}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none truncate",children:"GanaderoOS"}),c.jsxs("p",{className:"text-xs text-zinc-400 leading-none truncate",children:["Evolucin - ",i==="setup"?"Configurar Simulacin":i==="sim-results"?"Resultados Simulacin":i==="real-results"?"Proyeccin Real":"Asistente GanaGenius"]})]})]}),c.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:c.jsx(S0,{status:e})})]})}),c.jsxs("main",{className:"pt-16 pb-16",children:[i==="setup"&&c.jsx(Lot,{initialConfig:l||g,realConfig:s,onSimulate:h}),i==="sim-results"&&A&&c.jsx(t$,{simulationConfig:A,mode:"simulacion"},"sim-results"),i==="sim-results"&&!A&&c.jsx("div",{className:"text-center p-10 text-zinc-400",children:"Primero configura y corre una simulacin."}),i==="real-results"&&s&&c.jsx(t$,{simulationConfig:s,mode:"real"},"real-results"),i==="real-results"&&!s&&f&&c.jsx(Rk,{}),i==="real-results"&&!s&&!f&&c.jsx("div",{className:"text-center p-10 text-zinc-400",children:"No hay suficientes datos reales para una proyeccin."}),i==="genius-analysis"&&s&&c.jsx(Vot,{baseConfig:s,horizonInYears:3,onSaveOptimizedPlan:p}),i==="genius-analysis"&&!s&&f&&c.jsx(Rk,{}),i==="genius-analysis"&&!s&&!f&&c.jsxs("div",{className:"text-center p-10 text-zinc-400 max-w-sm mx-auto",children:[c.jsx(Vv,{className:"mx-auto text-sky-500",size:48}),c.jsx("h2",{className:"text-lg font-semibold text-white mt-4",children:"Asistente GanaGenius"}),c.jsx("p",{children:'GanaGenius requiere datos reales para funcionar. Registra partos, servicios y pesajes de leche para activar el "Switch de Realidad" en el Setup.'})]})]}),c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-20 bg-black/50 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:v.map(y=>{const x=y.view==="sim-results"&&!l||y.view==="real-results"&&!s||y.view==="genius-analysis"&&!s,C=i===y.view;return c.jsxs("button",{onClick:()=>m(y.view),disabled:x,className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${C?"text-indigo-400 font-semibold":"text-gray-500 hover:text-white"} ${x?"opacity-40 cursor-not-allowed":""}`,"aria-current":C?"page":void 0,children:[" ",c.jsx(y.icon,{className:"w-6 h-6"})," ",c.jsx("span",{className:"text-xs font-semibold mt-1",children:y.label})," "]},y.view)})}),c.jsx("div",{style:{position:"fixed",bottom:"calc(4rem + 1rem)",right:"1rem",zIndex:40},children:c.jsx(jx,{onSwitchModule:t})})]})}function Jot(){const{currentUser:t,isLoading:e}=cq(),{isLoading:n}=Yt(),[r,i]=P.useState("rebano"),[a,s]=P.useState({page:null,sourceModule:void 0}),[o,l]=P.useState({lactokeeper:{name:"dashboard"}});P.useEffect(()=>{r!=="rebano"&&s({page:null,sourceModule:void 0})},[r]);const u=P.useCallback(f=>{i(f)},[]),A=P.useCallback((f,h)=>{s({page:f,sourceModule:h}),i("rebano")},[]),d=P.useCallback(f=>{l(h=>({...h,lactokeeper:f}))},[]);if(e||t&&n)return c.jsx(Rk,{});if(!t)return c.jsx(eme,{});switch(r){case"lactokeeper":return c.jsx(o$e,{initialPage:o.lactokeeper,onPageStateChange:d,navigateToRebano:A,onSwitchModule:u});case"kilos":return c.jsx(v$e,{navigateToRebano:A,onSwitchModule:u});case"salud":return c.jsx(ZXe,{onSwitchModule:u});case"cents":return c.jsx(rJe,{onSwitchModule:u});case"evolucion":return c.jsx(Xot,{onSwitchModule:u});case"rebano":default:return c.jsx(HVe,{initialState:a,onSwitchModule:u})}}C4.createRoot(document.getElementById("root")).render(c.jsx(be.StrictMode,{children:c.jsx($he,{children:c.jsx(epe,{children:c.jsx(Jot,{})})})}));export{Vr as _,tm as c,Rr as g};
