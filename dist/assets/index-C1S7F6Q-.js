var wL=Object.defineProperty;var EL=(t,e,n)=>e in t?wL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vf=(t,e,n)=>EL(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q2={exports:{}},gy={},K2={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed=Symbol.for("react.element"),SL=Symbol.for("react.portal"),AL=Symbol.for("react.fragment"),TL=Symbol.for("react.strict_mode"),PL=Symbol.for("react.profiler"),IL=Symbol.for("react.provider"),OL=Symbol.for("react.context"),CL=Symbol.for("react.forward_ref"),kL=Symbol.for("react.suspense"),NL=Symbol.for("react.memo"),jL=Symbol.for("react.lazy"),uS=Symbol.iterator;function RL(t){return t===null||typeof t!="object"?null:(t=uS&&t[uS]||t["@@iterator"],typeof t=="function"?t:null)}var W2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,G2={};function kc(t,e,n){this.props=t,this.context=e,this.refs=G2,this.updater=n||W2}kc.prototype.isReactComponent={};kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X2(){}X2.prototype=kc.prototype;function ow(t,e,n){this.props=t,this.context=e,this.refs=G2,this.updater=n||W2}var aw=ow.prototype=new X2;aw.constructor=ow;H2(aw,kc.prototype);aw.isPureReactComponent=!0;var cS=Array.isArray,Y2=Object.prototype.hasOwnProperty,sw={current:null},Q2={key:!0,ref:!0,__self:!0,__source:!0};function J2(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Y2.call(e,r)&&!Q2.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ed,type:t,key:o,ref:a,props:i,_owner:sw.current}}function DL(t,e){return{$$typeof:Ed,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ed}function ML(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fS=/\/+/g;function Qv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ML(""+t.key):e.toString(36)}function Zp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ed:case SL:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Qv(a,0):r,cS(i)?(n="",t!=null&&(n=t.replace(fS,"$&/")+"/"),Zp(i,e,n,"",function(u){return u})):i!=null&&(lw(i)&&(i=DL(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(fS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",cS(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Qv(o,s);a+=Zp(o,e,n,l,i)}else if(l=RL(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Qv(o,s++),a+=Zp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function pp(t,e,n){if(t==null)return t;var r=[],i=0;return Zp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $L(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},em={transition:null},LL={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:em,ReactCurrentOwner:sw};function Z2(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:pp,forEach:function(t,e,n){pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pp(t,function(){e++}),e},toArray:function(t){return pp(t,function(e){return e})||[]},only:function(t){if(!lw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=kc;ot.Fragment=AL;ot.Profiler=PL;ot.PureComponent=ow;ot.StrictMode=TL;ot.Suspense=kL;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LL;ot.act=Z2;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H2({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=sw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Y2.call(e,l)&&!Q2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ed,type:t.type,key:i,ref:o,props:r,_owner:a}};ot.createContext=function(t){return t={$$typeof:OL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IL,_context:t},t.Consumer=t};ot.createElement=J2;ot.createFactory=function(t){var e=J2.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:CL,render:t}};ot.isValidElement=lw;ot.lazy=function(t){return{$$typeof:jL,_payload:{_status:-1,_result:t},_init:$L}};ot.memo=function(t,e){return{$$typeof:NL,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=em.transition;em.transition={};try{t()}finally{em.transition=e}};ot.unstable_act=Z2;ot.useCallback=function(t,e){return mr.current.useCallback(t,e)};ot.useContext=function(t){return mr.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};ot.useEffect=function(t,e){return mr.current.useEffect(t,e)};ot.useId=function(){return mr.current.useId()};ot.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return mr.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};ot.useRef=function(t){return mr.current.useRef(t)};ot.useState=function(t){return mr.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return mr.current.useTransition()};ot.version="18.3.1";K2.exports=ot;var q=K2.exports;const K=It(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VL=q,FL=Symbol.for("react.element"),zL=Symbol.for("react.fragment"),BL=Object.prototype.hasOwnProperty,UL=VL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qL={key:!0,ref:!0,__self:!0,__source:!0};function eC(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)BL.call(e,r)&&!qL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FL,type:t,key:o,ref:a,props:i,_owner:UL.current}}gy.Fragment=zL;gy.jsx=eC;gy.jsxs=eC;q2.exports=gy;var g=q2.exports,fb={},tC={exports:{}},Gr={},nC={exports:{}},rC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,ae){var ye=ne.length;ne.push(ae);e:for(;0<ye;){var Te=ye-1>>>1,be=ne[Te];if(0<i(be,ae))ne[Te]=ae,ne[ye]=be,ye=Te;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ae=ne[0],ye=ne.pop();if(ye!==ae){ne[0]=ye;e:for(var Te=0,be=ne.length,Re=be>>>1;Te<Re;){var Ke=2*(Te+1)-1,ut=ne[Ke],dt=Ke+1,Pe=ne[dt];if(0>i(ut,ye))dt<be&&0>i(Pe,ut)?(ne[Te]=Pe,ne[dt]=ye,Te=dt):(ne[Te]=ut,ne[Ke]=ye,Te=Ke);else if(dt<be&&0>i(Pe,ye))ne[Te]=Pe,ne[dt]=ye,Te=dt;else break e}}return ae}function i(ne,ae){var ye=ne.sortIndex-ae.sortIndex;return ye!==0?ye:ne.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,c=null,p=3,y=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var ae=n(u);ae!==null;){if(ae.callback===null)r(u);else if(ae.startTime<=ne)r(u),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(u)}}function D(ne){if(v=!1,P(ne),!b)if(n(l)!==null)b=!0,ce(I);else{var ae=n(u);ae!==null&&pe(D,ae.startTime-ne)}}function I(ne,ae){b=!1,v&&(v=!1,S(T),T=-1),y=!0;var ye=p;try{for(P(ae),c=n(l);c!==null&&(!(c.expirationTime>ae)||ne&&!R());){var Te=c.callback;if(typeof Te=="function"){c.callback=null,p=c.priorityLevel;var be=Te(c.expirationTime<=ae);ae=t.unstable_now(),typeof be=="function"?c.callback=be:c===n(l)&&r(l),P(ae)}else r(l);c=n(l)}if(c!==null)var Re=!0;else{var Ke=n(u);Ke!==null&&pe(D,Ke.startTime-ae),Re=!1}return Re}finally{c=null,p=ye,y=!1}}var O=!1,x=null,T=-1,k=5,M=-1;function R(){return!(t.unstable_now()-M<k)}function $(){if(x!==null){var ne=t.unstable_now();M=ne;var ae=!0;try{ae=x(!0,ne)}finally{ae?L():(O=!1,x=null)}}else O=!1}var L;if(typeof A=="function")L=function(){A($)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=$,L=function(){ie.postMessage(null)}}else L=function(){w($,0)};function ce(ne){x=ne,O||(O=!0,L())}function pe(ne,ae){T=w(function(){ne(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ce(I))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var ye=p;p=ae;try{return ne()}finally{p=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ye=p;p=ne;try{return ae()}finally{p=ye}},t.unstable_scheduleCallback=function(ne,ae,ye){var Te=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Te+ye:Te):ye=Te,ne){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ye+be,ne={id:f++,callback:ae,priorityLevel:ne,startTime:ye,expirationTime:be,sortIndex:-1},ye>Te?(ne.sortIndex=ye,e(u,ne),n(l)===null&&ne===n(u)&&(v?(S(T),T=-1):v=!0,pe(D,ye-Te))):(ne.sortIndex=be,e(l,ne),b||y||(b=!0,ce(I))),ne},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(ne){var ae=p;return function(){var ye=p;p=ae;try{return ne.apply(this,arguments)}finally{p=ye}}}})(rC);nC.exports=rC;var KL=nC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WL=q,Hr=KL;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iC=new Set,mh={};function Cl(t,e){Wu(t,e),Wu(t+"Capture",e)}function Wu(t,e){for(mh[t]=e,t=0;t<e.length;t++)iC.add(e[t])}var Jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hb=Object.prototype.hasOwnProperty,HL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hS={},dS={};function GL(t){return hb.call(dS,t)?!0:hb.call(hS,t)?!1:HL.test(t)?dS[t]=!0:(hS[t]=!0,!1)}function XL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YL(t,e,n,r){if(e===null||typeof e>"u"||XL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var uw=/[\-:]([a-z])/g;function cw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uw,cw);Fn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uw,cw);Fn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uw,cw);Fn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fw(t,e,n,r){var i=Fn.hasOwnProperty(e)?Fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YL(e,n,i,r)&&(n=null),r||i===null?GL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ua=WL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),pu=Symbol.for("react.portal"),mu=Symbol.for("react.fragment"),hw=Symbol.for("react.strict_mode"),db=Symbol.for("react.profiler"),oC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),pb=Symbol.for("react.suspense"),mb=Symbol.for("react.suspense_list"),pw=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),sC=Symbol.for("react.offscreen"),pS=Symbol.iterator;function bf(t){return t===null||typeof t!="object"?null:(t=pS&&t[pS]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,Jv;function $f(t){if(Jv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jv=e&&e[1]||""}return`
`+Jv+t}var Zv=!1;function e0(t,e){if(!t||Zv)return"";Zv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Zv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$f(t):""}function QL(t){switch(t.tag){case 5:return $f(t.type);case 16:return $f("Lazy");case 13:return $f("Suspense");case 19:return $f("SuspenseList");case 0:case 2:case 15:return t=e0(t.type,!1),t;case 11:return t=e0(t.type.render,!1),t;case 1:return t=e0(t.type,!0),t;default:return""}}function gb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mu:return"Fragment";case pu:return"Portal";case db:return"Profiler";case hw:return"StrictMode";case pb:return"Suspense";case mb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aC:return(t.displayName||"Context")+".Consumer";case oC:return(t._context.displayName||"Context")+".Provider";case dw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pw:return e=t.displayName||null,e!==null?e:gb(t.type)||"Memo";case Oa:e=t._payload,t=t._init;try{return gb(t(e))}catch{}}return null}function JL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gb(e);case 8:return e===hw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZL(t){var e=lC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gp(t){t._valueTracker||(t._valueTracker=ZL(t))}function uC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yb(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cC(t,e){e=e.checked,e!=null&&fw(t,"checked",e,!1)}function vb(t,e){cC(t,e);var n=is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bb(t,e.type,n):e.hasOwnProperty("defaultValue")&&bb(t,e.type,is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bb(t,e,n){(e!=="number"||wm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lf=Array.isArray;function ku(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+is(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _b(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(Lf(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:is(n)}}function fC(t,e){var n=is(e.value),r=is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yp,dC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yp=yp||document.createElement("div"),yp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e4=["Webkit","ms","Moz","O"];Object.keys(Xf).forEach(function(t){e4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xf[e]=Xf[t]})});function pC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xf.hasOwnProperty(t)&&Xf[t]?(""+e).trim():e+"px"}function mC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t4=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wb(t,e){if(e){if(t4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Eb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sb=null;function mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ab=null,Nu=null,ju=null;function bS(t){if(t=Td(t)){if(typeof Ab!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=xy(e),Ab(t.stateNode,t.type,e))}}function gC(t){Nu?ju?ju.push(t):ju=[t]:Nu=t}function yC(){if(Nu){var t=Nu,e=ju;if(ju=Nu=null,bS(t),e)for(t=0;t<e.length;t++)bS(e[t])}}function vC(t,e){return t(e)}function bC(){}var t0=!1;function _C(t,e,n){if(t0)return t(e,n);t0=!0;try{return vC(t,e,n)}finally{t0=!1,(Nu!==null||ju!==null)&&(bC(),yC())}}function yh(t,e){var n=t.stateNode;if(n===null)return null;var r=xy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Tb=!1;if(Jo)try{var _f={};Object.defineProperty(_f,"passive",{get:function(){Tb=!0}}),window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{Tb=!1}function n4(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Yf=!1,Em=null,Sm=!1,Pb=null,r4={onError:function(t){Yf=!0,Em=t}};function i4(t,e,n,r,i,o,a,s,l){Yf=!1,Em=null,n4.apply(r4,arguments)}function o4(t,e,n,r,i,o,a,s,l){if(i4.apply(this,arguments),Yf){if(Yf){var u=Em;Yf=!1,Em=null}else throw Error(_e(198));Sm||(Sm=!0,Pb=u)}}function kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _S(t){if(kl(t)!==t)throw Error(_e(188))}function a4(t){var e=t.alternate;if(!e){if(e=kl(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _S(i),t;if(o===r)return _S(i),e;o=o.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function wC(t){return t=a4(t),t!==null?EC(t):null}function EC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EC(t);if(e!==null)return e;t=t.sibling}return null}var SC=Hr.unstable_scheduleCallback,xS=Hr.unstable_cancelCallback,s4=Hr.unstable_shouldYield,l4=Hr.unstable_requestPaint,an=Hr.unstable_now,u4=Hr.unstable_getCurrentPriorityLevel,gw=Hr.unstable_ImmediatePriority,AC=Hr.unstable_UserBlockingPriority,Am=Hr.unstable_NormalPriority,c4=Hr.unstable_LowPriority,TC=Hr.unstable_IdlePriority,yy=null,fo=null;function f4(t){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(yy,t,void 0,(t.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:p4,h4=Math.log,d4=Math.LN2;function p4(t){return t>>>=0,t===0?32:31-(h4(t)/d4|0)|0}var vp=64,bp=4194304;function Vf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Vf(s):(o&=a,o!==0&&(r=Vf(o)))}else a=n&~i,a!==0?r=Vf(a):o!==0&&(r=Vf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zi(e),i=1<<n,r|=t[n],e&=~i;return r}function m4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-zi(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=m4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Ib(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PC(){var t=vp;return vp<<=1,!(vp&4194240)&&(vp=64),t}function n0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zi(e),t[e]=n}function y4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var At=0;function IC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OC,vw,CC,kC,NC,Ob=!1,_p=[],qa=null,Ka=null,Wa=null,vh=new Map,bh=new Map,Na=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wS(t,e){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(e.pointerId)}}function xf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Td(e),e!==null&&vw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b4(t,e,n,r,i){switch(e){case"focusin":return qa=xf(qa,t,e,n,r,i),!0;case"dragenter":return Ka=xf(Ka,t,e,n,r,i),!0;case"mouseover":return Wa=xf(Wa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return vh.set(o,xf(vh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bh.set(o,xf(bh.get(o)||null,t,e,n,r,i)),!0}return!1}function jC(t){var e=Qs(t.target);if(e!==null){var n=kl(e);if(n!==null){if(e=n.tag,e===13){if(e=xC(n),e!==null){t.blockedOn=e,NC(t.priority,function(){CC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sb=r,n.target.dispatchEvent(r),Sb=null}else return e=Td(n),e!==null&&vw(e),t.blockedOn=n,!1;e.shift()}return!0}function ES(t,e,n){tm(t)&&n.delete(e)}function _4(){Ob=!1,qa!==null&&tm(qa)&&(qa=null),Ka!==null&&tm(Ka)&&(Ka=null),Wa!==null&&tm(Wa)&&(Wa=null),vh.forEach(ES),bh.forEach(ES)}function wf(t,e){t.blockedOn===e&&(t.blockedOn=null,Ob||(Ob=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,_4)))}function _h(t){function e(i){return wf(i,t)}if(0<_p.length){wf(_p[0],t);for(var n=1;n<_p.length;n++){var r=_p[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qa!==null&&wf(qa,t),Ka!==null&&wf(Ka,t),Wa!==null&&wf(Wa,t),vh.forEach(e),bh.forEach(e),n=0;n<Na.length;n++)r=Na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)jC(n),n.blockedOn===null&&Na.shift()}var Ru=ua.ReactCurrentBatchConfig,Pm=!0;function x4(t,e,n,r){var i=At,o=Ru.transition;Ru.transition=null;try{At=1,bw(t,e,n,r)}finally{At=i,Ru.transition=o}}function w4(t,e,n,r){var i=At,o=Ru.transition;Ru.transition=null;try{At=4,bw(t,e,n,r)}finally{At=i,Ru.transition=o}}function bw(t,e,n,r){if(Pm){var i=Cb(t,e,n,r);if(i===null)h0(t,e,r,Im,n),wS(t,r);else if(b4(i,t,e,n,r))r.stopPropagation();else if(wS(t,r),e&4&&-1<v4.indexOf(t)){for(;i!==null;){var o=Td(i);if(o!==null&&OC(o),o=Cb(t,e,n,r),o===null&&h0(t,e,r,Im,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else h0(t,e,r,null,n)}}var Im=null;function Cb(t,e,n,r){if(Im=null,t=mw(r),t=Qs(t),t!==null)if(e=kl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Im=t,null}function RC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u4()){case gw:return 1;case AC:return 4;case Am:case c4:return 16;case TC:return 536870912;default:return 16}default:return 16}}var Va=null,_w=null,nm=null;function DC(){if(nm)return nm;var t,e=_w,n=e.length,r,i="value"in Va?Va.value:Va.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return nm=i.slice(t,1<r?1-r:void 0)}function rm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xp(){return!0}function SS(){return!1}function Xr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xp:SS,this.isPropagationStopped=SS,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xp)},persist:function(){},isPersistent:xp}),e}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xw=Xr(Nc),Ad=Yt({},Nc,{view:0,detail:0}),E4=Xr(Ad),r0,i0,Ef,vy=Yt({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ef&&(Ef&&t.type==="mousemove"?(r0=t.screenX-Ef.screenX,i0=t.screenY-Ef.screenY):i0=r0=0,Ef=t),r0)},movementY:function(t){return"movementY"in t?t.movementY:i0}}),AS=Xr(vy),S4=Yt({},vy,{dataTransfer:0}),A4=Xr(S4),T4=Yt({},Ad,{relatedTarget:0}),o0=Xr(T4),P4=Yt({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),I4=Xr(P4),O4=Yt({},Nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C4=Xr(O4),k4=Yt({},Nc,{data:0}),TS=Xr(k4),N4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R4[t])?!!e[t]:!1}function ww(){return D4}var M4=Yt({},Ad,{key:function(t){if(t.key){var e=N4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ww,charCode:function(t){return t.type==="keypress"?rm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$4=Xr(M4),L4=Yt({},vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PS=Xr(L4),V4=Yt({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ww}),F4=Xr(V4),z4=Yt({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),B4=Xr(z4),U4=Yt({},vy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q4=Xr(U4),K4=[9,13,27,32],Ew=Jo&&"CompositionEvent"in window,Qf=null;Jo&&"documentMode"in document&&(Qf=document.documentMode);var W4=Jo&&"TextEvent"in window&&!Qf,MC=Jo&&(!Ew||Qf&&8<Qf&&11>=Qf),IS=" ",OS=!1;function $C(t,e){switch(t){case"keyup":return K4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gu=!1;function H4(t,e){switch(t){case"compositionend":return LC(e);case"keypress":return e.which!==32?null:(OS=!0,IS);case"textInput":return t=e.data,t===IS&&OS?null:t;default:return null}}function G4(t,e){if(gu)return t==="compositionend"||!Ew&&$C(t,e)?(t=DC(),nm=_w=Va=null,gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MC&&e.locale!=="ko"?null:e.data;default:return null}}var X4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X4[t.type]:e==="textarea"}function VC(t,e,n,r){gC(r),e=Om(e,"onChange"),0<e.length&&(n=new xw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jf=null,xh=null;function Y4(t){YC(t,0)}function by(t){var e=bu(t);if(uC(e))return t}function Q4(t,e){if(t==="change")return e}var FC=!1;if(Jo){var a0;if(Jo){var s0="oninput"in document;if(!s0){var kS=document.createElement("div");kS.setAttribute("oninput","return;"),s0=typeof kS.oninput=="function"}a0=s0}else a0=!1;FC=a0&&(!document.documentMode||9<document.documentMode)}function NS(){Jf&&(Jf.detachEvent("onpropertychange",zC),xh=Jf=null)}function zC(t){if(t.propertyName==="value"&&by(xh)){var e=[];VC(e,xh,t,mw(t)),_C(Y4,e)}}function J4(t,e,n){t==="focusin"?(NS(),Jf=e,xh=n,Jf.attachEvent("onpropertychange",zC)):t==="focusout"&&NS()}function Z4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return by(xh)}function e5(t,e){if(t==="click")return by(e)}function t5(t,e){if(t==="input"||t==="change")return by(e)}function n5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ui=typeof Object.is=="function"?Object.is:n5;function wh(t,e){if(Ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hb.call(e,i)||!Ui(t[i],e[i]))return!1}return!0}function jS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RS(t,e){var n=jS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jS(n)}}function BC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UC(){for(var t=window,e=wm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wm(t.document)}return e}function Sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r5(t){var e=UC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BC(n.ownerDocument.documentElement,n)){if(r!==null&&Sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=RS(n,o);var a=RS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i5=Jo&&"documentMode"in document&&11>=document.documentMode,yu=null,kb=null,Zf=null,Nb=!1;function DS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nb||yu==null||yu!==wm(r)||(r=yu,"selectionStart"in r&&Sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zf&&wh(Zf,r)||(Zf=r,r=Om(kb,"onSelect"),0<r.length&&(e=new xw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yu)))}function wp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vu={animationend:wp("Animation","AnimationEnd"),animationiteration:wp("Animation","AnimationIteration"),animationstart:wp("Animation","AnimationStart"),transitionend:wp("Transition","TransitionEnd")},l0={},qC={};Jo&&(qC=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function _y(t){if(l0[t])return l0[t];if(!vu[t])return t;var e=vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qC)return l0[t]=e[n];return t}var KC=_y("animationend"),WC=_y("animationiteration"),HC=_y("animationstart"),GC=_y("transitionend"),XC=new Map,MS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){XC.set(t,e),Cl(e,[t])}for(var u0=0;u0<MS.length;u0++){var c0=MS[u0],o5=c0.toLowerCase(),a5=c0[0].toUpperCase()+c0.slice(1);hs(o5,"on"+a5)}hs(KC,"onAnimationEnd");hs(WC,"onAnimationIteration");hs(HC,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(GC,"onTransitionEnd");Wu("onMouseEnter",["mouseout","mouseover"]);Wu("onMouseLeave",["mouseout","mouseover"]);Wu("onPointerEnter",["pointerout","pointerover"]);Wu("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ff));function $S(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o4(r,e,void 0,t),t.currentTarget=null}function YC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;$S(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;$S(i,s,u),o=l}}}if(Sm)throw t=Pb,Sm=!1,Pb=null,t}function Vt(t,e){var n=e[$b];n===void 0&&(n=e[$b]=new Set);var r=t+"__bubble";n.has(r)||(QC(e,t,2,!1),n.add(r))}function f0(t,e,n){var r=0;e&&(r|=4),QC(n,t,r,e)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[Ep]){t[Ep]=!0,iC.forEach(function(n){n!=="selectionchange"&&(s5.has(n)||f0(n,!1,t),f0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ep]||(e[Ep]=!0,f0("selectionchange",!1,e))}}function QC(t,e,n,r){switch(RC(e)){case 1:var i=x4;break;case 4:i=w4;break;default:i=bw}n=i.bind(null,e,n,t),i=void 0,!Tb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function h0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Qs(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}_C(function(){var u=o,f=mw(n),c=[];e:{var p=XC.get(t);if(p!==void 0){var y=xw,b=t;switch(t){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":y=$4;break;case"focusin":b="focus",y=o0;break;case"focusout":b="blur",y=o0;break;case"beforeblur":case"afterblur":y=o0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=AS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=A4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=F4;break;case KC:case WC:case HC:y=I4;break;case GC:y=B4;break;case"scroll":y=E4;break;case"wheel":y=q4;break;case"copy":case"cut":case"paste":y=C4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=PS}var v=(e&4)!==0,w=!v&&t==="scroll",S=v?p!==null?p+"Capture":null:p;v=[];for(var A=u,P;A!==null;){P=A;var D=P.stateNode;if(P.tag===5&&D!==null&&(P=D,S!==null&&(D=yh(A,S),D!=null&&v.push(Sh(A,D,P)))),w)break;A=A.return}0<v.length&&(p=new y(p,b,null,n,f),c.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Sb&&(b=n.relatedTarget||n.fromElement)&&(Qs(b)||b[Zo]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Qs(b):null,b!==null&&(w=kl(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(v=AS,D="onMouseLeave",S="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(v=PS,D="onPointerLeave",S="onPointerEnter",A="pointer"),w=y==null?p:bu(y),P=b==null?p:bu(b),p=new v(D,A+"leave",y,n,f),p.target=w,p.relatedTarget=P,D=null,Qs(f)===u&&(v=new v(S,A+"enter",b,n,f),v.target=P,v.relatedTarget=w,D=v),w=D,y&&b)t:{for(v=y,S=b,A=0,P=v;P;P=iu(P))A++;for(P=0,D=S;D;D=iu(D))P++;for(;0<A-P;)v=iu(v),A--;for(;0<P-A;)S=iu(S),P--;for(;A--;){if(v===S||S!==null&&v===S.alternate)break t;v=iu(v),S=iu(S)}v=null}else v=null;y!==null&&LS(c,p,y,v,!1),b!==null&&w!==null&&LS(c,w,b,v,!0)}}e:{if(p=u?bu(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var I=Q4;else if(CS(p))if(FC)I=t5;else{I=Z4;var O=J4}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=e5);if(I&&(I=I(t,u))){VC(c,I,n,f);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&bb(p,"number",p.value)}switch(O=u?bu(u):window,t){case"focusin":(CS(O)||O.contentEditable==="true")&&(yu=O,kb=u,Zf=null);break;case"focusout":Zf=kb=yu=null;break;case"mousedown":Nb=!0;break;case"contextmenu":case"mouseup":case"dragend":Nb=!1,DS(c,n,f);break;case"selectionchange":if(i5)break;case"keydown":case"keyup":DS(c,n,f)}var x;if(Ew)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else gu?$C(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(MC&&n.locale!=="ko"&&(gu||T!=="onCompositionStart"?T==="onCompositionEnd"&&gu&&(x=DC()):(Va=f,_w="value"in Va?Va.value:Va.textContent,gu=!0)),O=Om(u,T),0<O.length&&(T=new TS(T,t,null,n,f),c.push({event:T,listeners:O}),x?T.data=x:(x=LC(n),x!==null&&(T.data=x)))),(x=W4?H4(t,n):G4(t,n))&&(u=Om(u,"onBeforeInput"),0<u.length&&(f=new TS("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=x))}YC(c,e)})}function Sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Om(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=yh(t,n),o!=null&&r.unshift(Sh(t,o,i)),o=yh(t,e),o!=null&&r.push(Sh(t,o,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=yh(n,o),l!=null&&a.unshift(Sh(n,l,s))):i||(l=yh(n,o),l!=null&&a.push(Sh(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var l5=/\r\n?/g,u5=/\u0000|\uFFFD/g;function VS(t){return(typeof t=="string"?t:""+t).replace(l5,`
`).replace(u5,"")}function Sp(t,e,n){if(e=VS(e),VS(t)!==e&&n)throw Error(_e(425))}function Cm(){}var jb=null,Rb=null;function Db(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mb=typeof setTimeout=="function"?setTimeout:void 0,c5=typeof clearTimeout=="function"?clearTimeout:void 0,FS=typeof Promise=="function"?Promise:void 0,f5=typeof queueMicrotask=="function"?queueMicrotask:typeof FS<"u"?function(t){return FS.resolve(null).then(t).catch(h5)}:Mb;function h5(t){setTimeout(function(){throw t})}function d0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_h(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_h(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jc=Math.random().toString(36).slice(2),lo="__reactFiber$"+jc,Ah="__reactProps$"+jc,Zo="__reactContainer$"+jc,$b="__reactEvents$"+jc,d5="__reactListeners$"+jc,p5="__reactHandles$"+jc;function Qs(t){var e=t[lo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zo]||n[lo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zS(t);t!==null;){if(n=t[lo])return n;t=zS(t)}return e}t=n,n=t.parentNode}return null}function Td(t){return t=t[lo]||t[Zo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function xy(t){return t[Ah]||null}var Lb=[],_u=-1;function ds(t){return{current:t}}function Ut(t){0>_u||(t.current=Lb[_u],Lb[_u]=null,_u--)}function $t(t,e){_u++,Lb[_u]=t.current,t.current=e}var os={},or=ds(os),Ir=ds(!1),dl=os;function Hu(t,e){var n=t.type.contextTypes;if(!n)return os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function km(){Ut(Ir),Ut(or)}function BS(t,e,n){if(or.current!==os)throw Error(_e(168));$t(or,e),$t(Ir,n)}function JC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,JL(t)||"Unknown",i));return Yt({},n,r)}function Nm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,dl=or.current,$t(or,t),$t(Ir,Ir.current),!0}function US(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=JC(t,e,dl),r.__reactInternalMemoizedMergedChildContext=t,Ut(Ir),Ut(or),$t(or,t)):Ut(Ir),$t(Ir,n)}var $o=null,wy=!1,p0=!1;function ZC(t){$o===null?$o=[t]:$o.push(t)}function m5(t){wy=!0,ZC(t)}function ps(){if(!p0&&$o!==null){p0=!0;var t=0,e=At;try{var n=$o;for(At=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$o=null,wy=!1}catch(i){throw $o!==null&&($o=$o.slice(t+1)),SC(gw,ps),i}finally{At=e,p0=!1}}return null}var xu=[],wu=0,jm=null,Rm=0,oi=[],ai=0,pl=null,Lo=1,Vo="";function Ks(t,e){xu[wu++]=Rm,xu[wu++]=jm,jm=t,Rm=e}function ek(t,e,n){oi[ai++]=Lo,oi[ai++]=Vo,oi[ai++]=pl,pl=t;var r=Lo;t=Vo;var i=32-zi(r)-1;r&=~(1<<i),n+=1;var o=32-zi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Lo=1<<32-zi(e)+i|n<<i|r,Vo=o+t}else Lo=1<<o|n<<i|r,Vo=t}function Aw(t){t.return!==null&&(Ks(t,1),ek(t,1,0))}function Tw(t){for(;t===jm;)jm=xu[--wu],xu[wu]=null,Rm=xu[--wu],xu[wu]=null;for(;t===pl;)pl=oi[--ai],oi[ai]=null,Vo=oi[--ai],oi[ai]=null,Lo=oi[--ai],oi[ai]=null}var Kr=null,Ur=null,Kt=!1,Mi=null;function tk(t,e){var n=ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kr=t,Ur=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kr=t,Ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pl!==null?{id:Lo,overflow:Vo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kr=t,Ur=null,!0):!1;default:return!1}}function Vb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fb(t){if(Kt){var e=Ur;if(e){var n=e;if(!qS(t,e)){if(Vb(t))throw Error(_e(418));e=Ha(n.nextSibling);var r=Kr;e&&qS(t,e)?tk(r,n):(t.flags=t.flags&-4097|2,Kt=!1,Kr=t)}}else{if(Vb(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Kt=!1,Kr=t}}}function KS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kr=t}function Ap(t){if(t!==Kr)return!1;if(!Kt)return KS(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Db(t.type,t.memoizedProps)),e&&(e=Ur)){if(Vb(t))throw nk(),Error(_e(418));for(;e;)tk(t,e),e=Ha(e.nextSibling)}if(KS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ur=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ur=null}}else Ur=Kr?Ha(t.stateNode.nextSibling):null;return!0}function nk(){for(var t=Ur;t;)t=Ha(t.nextSibling)}function Gu(){Ur=Kr=null,Kt=!1}function Pw(t){Mi===null?Mi=[t]:Mi.push(t)}var g5=ua.ReactCurrentBatchConfig;function Sf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function Tp(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WS(t){var e=t._init;return e(t._payload)}function rk(t){function e(S,A){if(t){var P=S.deletions;P===null?(S.deletions=[A],S.flags|=16):P.push(A)}}function n(S,A){if(!t)return null;for(;A!==null;)e(S,A),A=A.sibling;return null}function r(S,A){for(S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function i(S,A){return S=Qa(S,A),S.index=0,S.sibling=null,S}function o(S,A,P){return S.index=P,t?(P=S.alternate,P!==null?(P=P.index,P<A?(S.flags|=2,A):P):(S.flags|=2,A)):(S.flags|=1048576,A)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function s(S,A,P,D){return A===null||A.tag!==6?(A=x0(P,S.mode,D),A.return=S,A):(A=i(A,P),A.return=S,A)}function l(S,A,P,D){var I=P.type;return I===mu?f(S,A,P.props.children,D,P.key):A!==null&&(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Oa&&WS(I)===A.type)?(D=i(A,P.props),D.ref=Sf(S,A,P),D.return=S,D):(D=cm(P.type,P.key,P.props,null,S.mode,D),D.ref=Sf(S,A,P),D.return=S,D)}function u(S,A,P,D){return A===null||A.tag!==4||A.stateNode.containerInfo!==P.containerInfo||A.stateNode.implementation!==P.implementation?(A=w0(P,S.mode,D),A.return=S,A):(A=i(A,P.children||[]),A.return=S,A)}function f(S,A,P,D,I){return A===null||A.tag!==7?(A=sl(P,S.mode,D,I),A.return=S,A):(A=i(A,P),A.return=S,A)}function c(S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return A=x0(""+A,S.mode,P),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mp:return P=cm(A.type,A.key,A.props,null,S.mode,P),P.ref=Sf(S,null,A),P.return=S,P;case pu:return A=w0(A,S.mode,P),A.return=S,A;case Oa:var D=A._init;return c(S,D(A._payload),P)}if(Lf(A)||bf(A))return A=sl(A,S.mode,P,null),A.return=S,A;Tp(S,A)}return null}function p(S,A,P,D){var I=A!==null?A.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return I!==null?null:s(S,A,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case mp:return P.key===I?l(S,A,P,D):null;case pu:return P.key===I?u(S,A,P,D):null;case Oa:return I=P._init,p(S,A,I(P._payload),D)}if(Lf(P)||bf(P))return I!==null?null:f(S,A,P,D,null);Tp(S,P)}return null}function y(S,A,P,D,I){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(P)||null,s(A,S,""+D,I);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case mp:return S=S.get(D.key===null?P:D.key)||null,l(A,S,D,I);case pu:return S=S.get(D.key===null?P:D.key)||null,u(A,S,D,I);case Oa:var O=D._init;return y(S,A,P,O(D._payload),I)}if(Lf(D)||bf(D))return S=S.get(P)||null,f(A,S,D,I,null);Tp(A,D)}return null}function b(S,A,P,D){for(var I=null,O=null,x=A,T=A=0,k=null;x!==null&&T<P.length;T++){x.index>T?(k=x,x=null):k=x.sibling;var M=p(S,x,P[T],D);if(M===null){x===null&&(x=k);break}t&&x&&M.alternate===null&&e(S,x),A=o(M,A,T),O===null?I=M:O.sibling=M,O=M,x=k}if(T===P.length)return n(S,x),Kt&&Ks(S,T),I;if(x===null){for(;T<P.length;T++)x=c(S,P[T],D),x!==null&&(A=o(x,A,T),O===null?I=x:O.sibling=x,O=x);return Kt&&Ks(S,T),I}for(x=r(S,x);T<P.length;T++)k=y(x,S,T,P[T],D),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?T:k.key),A=o(k,A,T),O===null?I=k:O.sibling=k,O=k);return t&&x.forEach(function(R){return e(S,R)}),Kt&&Ks(S,T),I}function v(S,A,P,D){var I=bf(P);if(typeof I!="function")throw Error(_e(150));if(P=I.call(P),P==null)throw Error(_e(151));for(var O=I=null,x=A,T=A=0,k=null,M=P.next();x!==null&&!M.done;T++,M=P.next()){x.index>T?(k=x,x=null):k=x.sibling;var R=p(S,x,M.value,D);if(R===null){x===null&&(x=k);break}t&&x&&R.alternate===null&&e(S,x),A=o(R,A,T),O===null?I=R:O.sibling=R,O=R,x=k}if(M.done)return n(S,x),Kt&&Ks(S,T),I;if(x===null){for(;!M.done;T++,M=P.next())M=c(S,M.value,D),M!==null&&(A=o(M,A,T),O===null?I=M:O.sibling=M,O=M);return Kt&&Ks(S,T),I}for(x=r(S,x);!M.done;T++,M=P.next())M=y(x,S,T,M.value,D),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?T:M.key),A=o(M,A,T),O===null?I=M:O.sibling=M,O=M);return t&&x.forEach(function($){return e(S,$)}),Kt&&Ks(S,T),I}function w(S,A,P,D){if(typeof P=="object"&&P!==null&&P.type===mu&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case mp:e:{for(var I=P.key,O=A;O!==null;){if(O.key===I){if(I=P.type,I===mu){if(O.tag===7){n(S,O.sibling),A=i(O,P.props.children),A.return=S,S=A;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Oa&&WS(I)===O.type){n(S,O.sibling),A=i(O,P.props),A.ref=Sf(S,O,P),A.return=S,S=A;break e}n(S,O);break}else e(S,O);O=O.sibling}P.type===mu?(A=sl(P.props.children,S.mode,D,P.key),A.return=S,S=A):(D=cm(P.type,P.key,P.props,null,S.mode,D),D.ref=Sf(S,A,P),D.return=S,S=D)}return a(S);case pu:e:{for(O=P.key;A!==null;){if(A.key===O)if(A.tag===4&&A.stateNode.containerInfo===P.containerInfo&&A.stateNode.implementation===P.implementation){n(S,A.sibling),A=i(A,P.children||[]),A.return=S,S=A;break e}else{n(S,A);break}else e(S,A);A=A.sibling}A=w0(P,S.mode,D),A.return=S,S=A}return a(S);case Oa:return O=P._init,w(S,A,O(P._payload),D)}if(Lf(P))return b(S,A,P,D);if(bf(P))return v(S,A,P,D);Tp(S,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,A!==null&&A.tag===6?(n(S,A.sibling),A=i(A,P),A.return=S,S=A):(n(S,A),A=x0(P,S.mode,D),A.return=S,S=A),a(S)):n(S,A)}return w}var Xu=rk(!0),ik=rk(!1),Dm=ds(null),Mm=null,Eu=null,Iw=null;function Ow(){Iw=Eu=Mm=null}function Cw(t){var e=Dm.current;Ut(Dm),t._currentValue=e}function zb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Du(t,e){Mm=t,Iw=Eu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function pi(t){var e=t._currentValue;if(Iw!==t)if(t={context:t,memoizedValue:e,next:null},Eu===null){if(Mm===null)throw Error(_e(308));Eu=t,Mm.dependencies={lanes:0,firstContext:t}}else Eu=Eu.next=t;return e}var Js=null;function kw(t){Js===null?Js=[t]:Js.push(t)}function ok(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ea(t,r)}function ea(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ca=!1;function Nw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ak(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ea(t,n)}return i=r.interleaved,i===null?(e.next=e,kw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ea(t,n)}function im(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yw(t,n)}}function HS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $m(t,e,n,r){var i=t.updateQueue;Ca=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,f=u=l=null,s=o;do{var p=s.lane,y=s.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,v=s;switch(p=e,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){c=b.call(y,c,p);break e}c=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,p=typeof b=="function"?b.call(y,c,p):b,p==null)break e;c=Yt({},c,p);break e;case 2:Ca=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else y={eventTime:y,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=y,l=c):f=f.next=y,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gl|=a,t.lanes=a,t.memoizedState=c}}function GS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var Pd={},ho=ds(Pd),Th=ds(Pd),Ph=ds(Pd);function Zs(t){if(t===Pd)throw Error(_e(174));return t}function jw(t,e){switch($t(Ph,e),$t(Th,t),$t(ho,Pd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xb(e,t)}Ut(ho),$t(ho,e)}function Yu(){Ut(ho),Ut(Th),Ut(Ph)}function sk(t){Zs(Ph.current);var e=Zs(ho.current),n=xb(e,t.type);e!==n&&($t(Th,t),$t(ho,n))}function Rw(t){Th.current===t&&(Ut(ho),Ut(Th))}var Gt=ds(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var m0=[];function Dw(){for(var t=0;t<m0.length;t++)m0[t]._workInProgressVersionPrimary=null;m0.length=0}var om=ua.ReactCurrentDispatcher,g0=ua.ReactCurrentBatchConfig,ml=0,Xt=null,xn=null,Cn=null,Vm=!1,eh=!1,Ih=0,y5=0;function Hn(){throw Error(_e(321))}function Mw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ui(t[n],e[n]))return!1;return!0}function $w(t,e,n,r,i,o){if(ml=o,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,om.current=t===null||t.memoizedState===null?x5:w5,t=n(r,i),eh){o=0;do{if(eh=!1,Ih=0,25<=o)throw Error(_e(301));o+=1,Cn=xn=null,e.updateQueue=null,om.current=E5,t=n(r,i)}while(eh)}if(om.current=Fm,e=xn!==null&&xn.next!==null,ml=0,Cn=xn=Xt=null,Vm=!1,e)throw Error(_e(300));return t}function Lw(){var t=Ih!==0;return Ih=0,t}function ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Xt.memoizedState=Cn=t:Cn=Cn.next=t,Cn}function mi(){if(xn===null){var t=Xt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Cn===null?Xt.memoizedState:Cn.next;if(e!==null)Cn=e,xn=t;else{if(t===null)throw Error(_e(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Cn===null?Xt.memoizedState=Cn=t:Cn=Cn.next=t}return Cn}function Oh(t,e){return typeof e=="function"?e(t):e}function y0(t){var e=mi(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=xn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((ml&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=r):l=l.next=c,Xt.lanes|=f,gl|=f}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ui(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Xt.lanes|=o,gl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function v0(t){var e=mi(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ui(o,e.memoizedState)||(Tr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function lk(){}function uk(t,e){var n=Xt,r=mi(),i=e(),o=!Ui(r.memoizedState,i);if(o&&(r.memoizedState=i,Tr=!0),r=r.queue,Vw(hk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Cn!==null&&Cn.memoizedState.tag&1){if(n.flags|=2048,Ch(9,fk.bind(null,n,r,i,e),void 0,null),kn===null)throw Error(_e(349));ml&30||ck(n,e,i)}return i}function ck(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fk(t,e,n,r){e.value=n,e.getSnapshot=r,dk(e)&&pk(t)}function hk(t,e,n){return n(function(){dk(e)&&pk(t)})}function dk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ui(t,n)}catch{return!0}}function pk(t){var e=ea(t,1);e!==null&&Bi(e,t,1,-1)}function XS(t){var e=ao();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:t},e.queue=t,t=t.dispatch=_5.bind(null,Xt,t),[e.memoizedState,t]}function Ch(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mk(){return mi().memoizedState}function am(t,e,n,r){var i=ao();Xt.flags|=t,i.memoizedState=Ch(1|e,n,void 0,r===void 0?null:r)}function Ey(t,e,n,r){var i=mi();r=r===void 0?null:r;var o=void 0;if(xn!==null){var a=xn.memoizedState;if(o=a.destroy,r!==null&&Mw(r,a.deps)){i.memoizedState=Ch(e,n,o,r);return}}Xt.flags|=t,i.memoizedState=Ch(1|e,n,o,r)}function YS(t,e){return am(8390656,8,t,e)}function Vw(t,e){return Ey(2048,8,t,e)}function gk(t,e){return Ey(4,2,t,e)}function yk(t,e){return Ey(4,4,t,e)}function vk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bk(t,e,n){return n=n!=null?n.concat([t]):null,Ey(4,4,vk.bind(null,e,t),n)}function Fw(){}function _k(t,e){var n=mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xk(t,e){var n=mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wk(t,e,n){return ml&21?(Ui(n,e)||(n=PC(),Xt.lanes|=n,gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function v5(t,e){var n=At;At=n!==0&&4>n?n:4,t(!0);var r=g0.transition;g0.transition={};try{t(!1),e()}finally{At=n,g0.transition=r}}function Ek(){return mi().memoizedState}function b5(t,e,n){var r=Ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sk(t))Ak(e,n);else if(n=ok(t,e,n,r),n!==null){var i=dr();Bi(n,t,r,i),Tk(n,e,r)}}function _5(t,e,n){var r=Ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sk(t))Ak(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ui(s,a)){var l=e.interleaved;l===null?(i.next=i,kw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ok(t,e,i,r),n!==null&&(i=dr(),Bi(n,t,r,i),Tk(n,e,r))}}function Sk(t){var e=t.alternate;return t===Xt||e!==null&&e===Xt}function Ak(t,e){eh=Vm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yw(t,n)}}var Fm={readContext:pi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},x5={readContext:pi,useCallback:function(t,e){return ao().memoizedState=[t,e===void 0?null:e],t},useContext:pi,useEffect:YS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,am(4194308,4,vk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return am(4194308,4,t,e)},useInsertionEffect:function(t,e){return am(4,2,t,e)},useMemo:function(t,e){var n=ao();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ao();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b5.bind(null,Xt,t),[r.memoizedState,t]},useRef:function(t){var e=ao();return t={current:t},e.memoizedState=t},useState:XS,useDebugValue:Fw,useDeferredValue:function(t){return ao().memoizedState=t},useTransition:function(){var t=XS(!1),e=t[0];return t=v5.bind(null,t[1]),ao().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xt,i=ao();if(Kt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),kn===null)throw Error(_e(349));ml&30||ck(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,YS(hk.bind(null,r,o,t),[t]),r.flags|=2048,Ch(9,fk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ao(),e=kn.identifierPrefix;if(Kt){var n=Vo,r=Lo;n=(r&~(1<<32-zi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ih++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w5={readContext:pi,useCallback:_k,useContext:pi,useEffect:Vw,useImperativeHandle:bk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:xk,useReducer:y0,useRef:mk,useState:function(){return y0(Oh)},useDebugValue:Fw,useDeferredValue:function(t){var e=mi();return wk(e,xn.memoizedState,t)},useTransition:function(){var t=y0(Oh)[0],e=mi().memoizedState;return[t,e]},useMutableSource:lk,useSyncExternalStore:uk,useId:Ek,unstable_isNewReconciler:!1},E5={readContext:pi,useCallback:_k,useContext:pi,useEffect:Vw,useImperativeHandle:bk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:xk,useReducer:v0,useRef:mk,useState:function(){return v0(Oh)},useDebugValue:Fw,useDeferredValue:function(t){var e=mi();return xn===null?e.memoizedState=t:wk(e,xn.memoizedState,t)},useTransition:function(){var t=v0(Oh)[0],e=mi().memoizedState;return[t,e]},useMutableSource:lk,useSyncExternalStore:uk,useId:Ek,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sy={isMounted:function(t){return(t=t._reactInternals)?kl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),i=Ya(t),o=Wo(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Bi(e,t,i,r),im(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),i=Ya(t),o=Wo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Bi(e,t,i,r),im(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=Ya(t),i=Wo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Bi(e,t,r,n),im(e,t,r))}};function QS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(i,o):!0}function Pk(t,e,n){var r=!1,i=os,o=e.contextType;return typeof o=="object"&&o!==null?o=pi(o):(i=Or(e)?dl:or.current,r=e.contextTypes,o=(r=r!=null)?Hu(t,i):os),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function JS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sy.enqueueReplaceState(e,e.state,null)}function Ub(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=pi(o):(o=Or(e)?dl:or.current,i.context=Hu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sy.enqueueReplaceState(i,i.state,null),$m(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qu(t,e){try{var n="",r=e;do n+=QL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function b0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var S5=typeof WeakMap=="function"?WeakMap:Map;function Ik(t,e,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bm||(Bm=!0,e_=r),qb(t,e)},n}function Ok(t,e,n){n=Wo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qb(t,e),typeof r!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ZS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new S5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=L5.bind(null,t,e,n),e.then(t,t))}function eA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wo(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var A5=ua.ReactCurrentOwner,Tr=!1;function cr(t,e,n,r){e.child=t===null?ik(e,null,n,r):Xu(e,t.child,n,r)}function nA(t,e,n,r,i){n=n.render;var o=e.ref;return Du(e,i),r=$w(t,e,n,r,o,i),n=Lw(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ta(t,e,i)):(Kt&&n&&Aw(e),e.flags|=1,cr(t,e,r,i),e.child)}function rA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Gw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ck(t,e,o,r,i)):(t=cm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(a,r)&&t.ref===e.ref)return ta(t,e,i)}return e.flags|=1,t=Qa(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ck(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wh(o,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,ta(t,e,i)}return Kb(t,e,n,r,i)}function kk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Au,Fr),Fr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(Au,Fr),Fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$t(Au,Fr),Fr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,$t(Au,Fr),Fr|=r;return cr(t,e,i,n),e.child}function Nk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kb(t,e,n,r,i){var o=Or(n)?dl:or.current;return o=Hu(e,o),Du(e,i),n=$w(t,e,n,r,o,i),r=Lw(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ta(t,e,i)):(Kt&&r&&Aw(e),e.flags|=1,cr(t,e,n,i),e.child)}function iA(t,e,n,r,i){if(Or(n)){var o=!0;Nm(e)}else o=!1;if(Du(e,i),e.stateNode===null)sm(t,e),Pk(e,n,r),Ub(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=pi(u):(u=Or(n)?dl:or.current,u=Hu(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&JS(e,a,r,u),Ca=!1;var p=e.memoizedState;a.state=p,$m(e,r,a,i),l=e.memoizedState,s!==r||p!==l||Ir.current||Ca?(typeof f=="function"&&(Bb(e,n,f,r),l=e.memoizedState),(s=Ca||QS(e,n,s,r,p,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ak(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Ni(e.type,s),a.props=u,c=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=pi(l):(l=Or(n)?dl:or.current,l=Hu(e,l));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||p!==l)&&JS(e,a,r,l),Ca=!1,p=e.memoizedState,a.state=p,$m(e,r,a,i);var b=e.memoizedState;s!==c||p!==b||Ir.current||Ca?(typeof y=="function"&&(Bb(e,n,y,r),b=e.memoizedState),(u=Ca||QS(e,n,u,r,p,b,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Wb(t,e,n,r,o,i)}function Wb(t,e,n,r,i,o){Nk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&US(e,n,!1),ta(t,e,o);r=e.stateNode,A5.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Xu(e,t.child,null,o),e.child=Xu(e,null,s,o)):cr(t,e,s,o),e.memoizedState=r.state,i&&US(e,n,!0),e.child}function jk(t){var e=t.stateNode;e.pendingContext?BS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BS(t,e.context,!1),jw(t,e.containerInfo)}function oA(t,e,n,r,i){return Gu(),Pw(i),e.flags|=256,cr(t,e,n,r),e.child}var Hb={dehydrated:null,treeContext:null,retryLane:0};function Gb(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rk(t,e,n){var r=e.pendingProps,i=Gt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(Gt,i&1),t===null)return Fb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Py(a,r,0,null),t=sl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gb(n),e.memoizedState=Hb,t):zw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return T5(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Qa(s,o):(o=sl(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Gb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Hb,r}return o=t.child,t=o.sibling,r=Qa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zw(t,e){return e=Py({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pp(t,e,n,r){return r!==null&&Pw(r),Xu(e,t.child,null,n),t=zw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T5(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=b0(Error(_e(422))),Pp(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Py({mode:"visible",children:r.children},i,0,null),o=sl(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Xu(e,t.child,null,a),e.child.memoizedState=Gb(a),e.memoizedState=Hb,o);if(!(e.mode&1))return Pp(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(_e(419)),r=b0(o,r,void 0),Pp(t,e,a,r)}if(s=(a&t.childLanes)!==0,Tr||s){if(r=kn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ea(t,i),Bi(r,t,i,-1))}return Hw(),r=b0(Error(_e(421))),Pp(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ur=Ha(i.nextSibling),Kr=e,Kt=!0,Mi=null,t!==null&&(oi[ai++]=Lo,oi[ai++]=Vo,oi[ai++]=pl,Lo=t.id,Vo=t.overflow,pl=e),e=zw(e,r.children),e.flags|=4096,e)}function aA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zb(t.return,e,n)}function _0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Dk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(cr(t,e,r.children,n),r=Gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aA(t,n,e);else if(t.tag===19)aA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($t(Gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_0(e,!0,n,null,o);break;case"together":_0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ta(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P5(t,e,n){switch(e.tag){case 3:jk(e),Gu();break;case 5:sk(e);break;case 1:Or(e.type)&&Nm(e);break;case 4:jw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$t(Dm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($t(Gt,Gt.current&1),e.flags|=128,null):n&e.child.childLanes?Rk(t,e,n):($t(Gt,Gt.current&1),t=ta(t,e,n),t!==null?t.sibling:null);$t(Gt,Gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(Gt,Gt.current),r)break;return null;case 22:case 23:return e.lanes=0,kk(t,e,n)}return ta(t,e,n)}var Mk,Xb,$k,Lk;Mk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xb=function(){};$k=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zs(ho.current);var o=null;switch(n){case"input":i=yb(t,i),r=yb(t,r),o=[];break;case"select":i=Yt({},i,{value:void 0}),r=Yt({},r,{value:void 0}),o=[];break;case"textarea":i=_b(t,i),r=_b(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cm)}wb(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mh.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Lk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Af(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I5(t,e,n){var r=e.pendingProps;switch(Tw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return Or(e.type)&&km(),Gn(e),null;case 3:return r=e.stateNode,Yu(),Ut(Ir),Ut(or),Dw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ap(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(r_(Mi),Mi=null))),Xb(t,e),Gn(e),null;case 5:Rw(e);var i=Zs(Ph.current);if(n=e.type,t!==null&&e.stateNode!=null)$k(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Gn(e),null}if(t=Zs(ho.current),Ap(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[lo]=e,r[Ah]=o,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(i=0;i<Ff.length;i++)Vt(Ff[i],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":mS(r,o),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",r);break;case"textarea":yS(r,o),Vt("invalid",r)}wb(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Sp(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Sp(r.textContent,s,t),i=["children",""+s]):mh.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Vt("scroll",r)}switch(n){case"input":gp(r),gS(r,o,!0);break;case"textarea":gp(r),vS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[lo]=e,t[Ah]=r,Mk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Eb(n,r),n){case"dialog":Vt("cancel",t),Vt("close",t),i=r;break;case"iframe":case"object":case"embed":Vt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ff.length;i++)Vt(Ff[i],t);i=r;break;case"source":Vt("error",t),i=r;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),i=r;break;case"details":Vt("toggle",t),i=r;break;case"input":mS(t,r),i=yb(t,r),Vt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yt({},r,{value:void 0}),Vt("invalid",t);break;case"textarea":yS(t,r),i=_b(t,r),Vt("invalid",t);break;default:i=r}wb(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?mC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gh(t,l):typeof l=="number"&&gh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Vt("scroll",t):l!=null&&fw(t,o,l,a))}switch(n){case"input":gp(t),gS(t,r,!1);break;case"textarea":gp(t),vS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+is(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ku(t,!!r.multiple,o,!1):r.defaultValue!=null&&ku(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(t&&e.stateNode!=null)Lk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Zs(Ph.current),Zs(ho.current),Ap(e)){if(r=e.stateNode,n=e.memoizedProps,r[lo]=e,(o=r.nodeValue!==n)&&(t=Kr,t!==null))switch(t.tag){case 3:Sp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lo]=e,e.stateNode=r}return Gn(e),null;case 13:if(Ut(Gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&Ur!==null&&e.mode&1&&!(e.flags&128))nk(),Gu(),e.flags|=98560,o=!1;else if(o=Ap(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(_e(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[lo]=e}else Gu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gn(e),o=!1}else Mi!==null&&(r_(Mi),Mi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?wn===0&&(wn=3):Hw())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return Yu(),Xb(t,e),t===null&&Eh(e.stateNode.containerInfo),Gn(e),null;case 10:return Cw(e.type._context),Gn(e),null;case 17:return Or(e.type)&&km(),Gn(e),null;case 19:if(Ut(Gt),o=e.memoizedState,o===null)return Gn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Af(o,!1);else{if(wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lm(t),a!==null){for(e.flags|=128,Af(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $t(Gt,Gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&an()>Ju&&(e.flags|=128,r=!0,Af(o,!1),e.lanes=4194304)}else{if(!r)if(t=Lm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Af(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Kt)return Gn(e),null}else 2*an()-o.renderingStartTime>Ju&&n!==1073741824&&(e.flags|=128,r=!0,Af(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=an(),e.sibling=null,n=Gt.current,$t(Gt,r?n&1|2:n&1),e):(Gn(e),null);case 22:case 23:return Ww(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fr&1073741824&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function O5(t,e){switch(Tw(e),e.tag){case 1:return Or(e.type)&&km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),Ut(Ir),Ut(or),Dw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rw(e),null;case 13:if(Ut(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Gu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ut(Gt),null;case 4:return Yu(),null;case 10:return Cw(e.type._context),null;case 22:case 23:return Ww(),null;case 24:return null;default:return null}}var Ip=!1,Jn=!1,C5=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(t,e,r)}else n.current=null}function Yb(t,e,n){try{n()}catch(r){en(t,e,r)}}var sA=!1;function k5(t,e){if(jb=Pm,t=UC(),Sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,f=0,c=t,p=null;t:for(;;){for(var y;c!==n||i!==0&&c.nodeType!==3||(s=a+i),c!==o||r!==0&&c.nodeType!==3||(l=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(y=c.firstChild)!==null;)p=c,c=y;for(;;){if(c===t)break t;if(p===n&&++u===i&&(s=a),p===o&&++f===r&&(l=a),(y=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=y}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rb={focusedElem:t,selectionRange:n},Pm=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,w=b.memoizedState,S=e.stateNode,A=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ni(e.type,v),w);S.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(D){en(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return b=sA,sA=!1,b}function th(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Yb(e,n,o)}i=i.next}while(i!==r)}}function Ay(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vk(t){var e=t.alternate;e!==null&&(t.alternate=null,Vk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lo],delete e[Ah],delete e[$b],delete e[d5],delete e[p5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fk(t){return t.tag===5||t.tag===3||t.tag===4}function lA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cm));else if(r!==4&&(t=t.child,t!==null))for(Jb(t,e,n),t=t.sibling;t!==null;)Jb(t,e,n),t=t.sibling}function Zb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zb(t,e,n),t=t.sibling;t!==null;)Zb(t,e,n),t=t.sibling}var Rn=null,ji=!1;function Ta(t,e,n){for(n=n.child;n!==null;)zk(t,e,n),n=n.sibling}function zk(t,e,n){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(yy,n)}catch{}switch(n.tag){case 5:Jn||Su(n,e);case 6:var r=Rn,i=ji;Rn=null,Ta(t,e,n),Rn=r,ji=i,Rn!==null&&(ji?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(ji?(t=Rn,n=n.stateNode,t.nodeType===8?d0(t.parentNode,n):t.nodeType===1&&d0(t,n),_h(t)):d0(Rn,n.stateNode));break;case 4:r=Rn,i=ji,Rn=n.stateNode.containerInfo,ji=!0,Ta(t,e,n),Rn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Yb(n,e,a),i=i.next}while(i!==r)}Ta(t,e,n);break;case 1:if(!Jn&&(Su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){en(n,e,s)}Ta(t,e,n);break;case 21:Ta(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Ta(t,e,n),Jn=r):Ta(t,e,n);break;default:Ta(t,e,n)}}function uA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C5),e.forEach(function(r){var i=F5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ci(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Rn=s.stateNode,ji=!1;break e;case 3:Rn=s.stateNode.containerInfo,ji=!0;break e;case 4:Rn=s.stateNode.containerInfo,ji=!0;break e}s=s.return}if(Rn===null)throw Error(_e(160));zk(o,a,i),Rn=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){en(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bk(e,t),e=e.sibling}function Bk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ci(e,t),oo(t),r&4){try{th(3,t,t.return),Ay(3,t)}catch(v){en(t,t.return,v)}try{th(5,t,t.return)}catch(v){en(t,t.return,v)}}break;case 1:Ci(e,t),oo(t),r&512&&n!==null&&Su(n,n.return);break;case 5:if(Ci(e,t),oo(t),r&512&&n!==null&&Su(n,n.return),t.flags&32){var i=t.stateNode;try{gh(i,"")}catch(v){en(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&cC(i,o),Eb(s,a);var u=Eb(s,o);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?mC(i,c):f==="dangerouslySetInnerHTML"?dC(i,c):f==="children"?gh(i,c):fw(i,f,c,u)}switch(s){case"input":vb(i,o);break;case"textarea":fC(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ku(i,!!o.multiple,y,!1):p!==!!o.multiple&&(o.defaultValue!=null?ku(i,!!o.multiple,o.defaultValue,!0):ku(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ah]=o}catch(v){en(t,t.return,v)}}break;case 6:if(Ci(e,t),oo(t),r&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){en(t,t.return,v)}}break;case 3:if(Ci(e,t),oo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_h(e.containerInfo)}catch(v){en(t,t.return,v)}break;case 4:Ci(e,t),oo(t);break;case 13:Ci(e,t),oo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qw=an())),r&4&&uA(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(u=Jn)||f,Ci(e,t),Jn=u):Ci(e,t),oo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Me=t,f=t.child;f!==null;){for(c=Me=f;Me!==null;){switch(p=Me,y=p.child,p.tag){case 0:case 11:case 14:case 15:th(4,p,p.return);break;case 1:Su(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){en(r,n,v)}}break;case 5:Su(p,p.return);break;case 22:if(p.memoizedState!==null){fA(c);continue}}y!==null?(y.return=p,Me=y):fA(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=pC("display",a))}catch(v){en(t,t.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){en(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ci(e,t),oo(t),r&4&&uA(t);break;case 21:break;default:Ci(e,t),oo(t)}}function oo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fk(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gh(i,""),r.flags&=-33);var o=lA(t);Zb(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=lA(t);Jb(t,s,a);break;default:throw Error(_e(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N5(t,e,n){Me=t,Uk(t)}function Uk(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var i=Me,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ip;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Jn;s=Ip;var u=Jn;if(Ip=a,(Jn=l)&&!u)for(Me=i;Me!==null;)a=Me,l=a.child,a.tag===22&&a.memoizedState!==null?hA(i):l!==null?(l.return=a,Me=l):hA(i);for(;o!==null;)Me=o,Uk(o),o=o.sibling;Me=i,Ip=s,Jn=u}cA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Me=o):cA(t)}}function cA(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||Ay(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&GS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}GS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&_h(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Jn||e.flags&512&&Qb(e)}catch(p){en(e,e.return,p)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function fA(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function hA(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ay(4,e)}catch(l){en(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var o=e.return;try{Qb(e)}catch(l){en(e,o,l)}break;case 5:var a=e.return;try{Qb(e)}catch(l){en(e,a,l)}}}catch(l){en(e,e.return,l)}if(e===t){Me=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Me=s;break}Me=e.return}}var j5=Math.ceil,zm=ua.ReactCurrentDispatcher,Bw=ua.ReactCurrentOwner,fi=ua.ReactCurrentBatchConfig,yt=0,kn=null,hn=null,Vn=0,Fr=0,Au=ds(0),wn=0,kh=null,gl=0,Ty=0,Uw=0,nh=null,Sr=null,qw=0,Ju=1/0,Do=null,Bm=!1,e_=null,Xa=null,Op=!1,Fa=null,Um=0,rh=0,t_=null,lm=-1,um=0;function dr(){return yt&6?an():lm!==-1?lm:lm=an()}function Ya(t){return t.mode&1?yt&2&&Vn!==0?Vn&-Vn:g5.transition!==null?(um===0&&(um=PC()),um):(t=At,t!==0||(t=window.event,t=t===void 0?16:RC(t.type)),t):1}function Bi(t,e,n,r){if(50<rh)throw rh=0,t_=null,Error(_e(185));Sd(t,n,r),(!(yt&2)||t!==kn)&&(t===kn&&(!(yt&2)&&(Ty|=n),wn===4&&ja(t,Vn)),Cr(t,r),n===1&&yt===0&&!(e.mode&1)&&(Ju=an()+500,wy&&ps()))}function Cr(t,e){var n=t.callbackNode;g4(t,e);var r=Tm(t,t===kn?Vn:0);if(r===0)n!==null&&xS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xS(n),e===1)t.tag===0?m5(dA.bind(null,t)):ZC(dA.bind(null,t)),f5(function(){!(yt&6)&&ps()}),n=null;else{switch(IC(r)){case 1:n=gw;break;case 4:n=AC;break;case 16:n=Am;break;case 536870912:n=TC;break;default:n=Am}n=Qk(n,qk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qk(t,e){if(lm=-1,um=0,yt&6)throw Error(_e(327));var n=t.callbackNode;if(Mu()&&t.callbackNode!==n)return null;var r=Tm(t,t===kn?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qm(t,r);else{e=r;var i=yt;yt|=2;var o=Wk();(kn!==t||Vn!==e)&&(Do=null,Ju=an()+500,al(t,e));do try{M5();break}catch(s){Kk(t,s)}while(!0);Ow(),zm.current=o,yt=i,hn!==null?e=0:(kn=null,Vn=0,e=wn)}if(e!==0){if(e===2&&(i=Ib(t),i!==0&&(r=i,e=n_(t,i))),e===1)throw n=kh,al(t,0),ja(t,r),Cr(t,an()),n;if(e===6)ja(t,r);else{if(i=t.current.alternate,!(r&30)&&!R5(i)&&(e=qm(t,r),e===2&&(o=Ib(t),o!==0&&(r=o,e=n_(t,o))),e===1))throw n=kh,al(t,0),ja(t,r),Cr(t,an()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:Ws(t,Sr,Do);break;case 3:if(ja(t,r),(r&130023424)===r&&(e=qw+500-an(),10<e)){if(Tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mb(Ws.bind(null,t,Sr,Do),e);break}Ws(t,Sr,Do);break;case 4:if(ja(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-zi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j5(r/1960))-r,10<r){t.timeoutHandle=Mb(Ws.bind(null,t,Sr,Do),r);break}Ws(t,Sr,Do);break;case 5:Ws(t,Sr,Do);break;default:throw Error(_e(329))}}}return Cr(t,an()),t.callbackNode===n?qk.bind(null,t):null}function n_(t,e){var n=nh;return t.current.memoizedState.isDehydrated&&(al(t,e).flags|=256),t=qm(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&r_(e)),t}function r_(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function R5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ui(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e){for(e&=~Uw,e&=~Ty,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zi(e),r=1<<n;t[n]=-1,e&=~r}}function dA(t){if(yt&6)throw Error(_e(327));Mu();var e=Tm(t,0);if(!(e&1))return Cr(t,an()),null;var n=qm(t,e);if(t.tag!==0&&n===2){var r=Ib(t);r!==0&&(e=r,n=n_(t,r))}if(n===1)throw n=kh,al(t,0),ja(t,e),Cr(t,an()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,Sr,Do),Cr(t,an()),null}function Kw(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(Ju=an()+500,wy&&ps())}}function yl(t){Fa!==null&&Fa.tag===0&&!(yt&6)&&Mu();var e=yt;yt|=1;var n=fi.transition,r=At;try{if(fi.transition=null,At=1,t)return t()}finally{At=r,fi.transition=n,yt=e,!(yt&6)&&ps()}}function Ww(){Fr=Au.current,Ut(Au)}function al(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c5(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(Tw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&km();break;case 3:Yu(),Ut(Ir),Ut(or),Dw();break;case 5:Rw(r);break;case 4:Yu();break;case 13:Ut(Gt);break;case 19:Ut(Gt);break;case 10:Cw(r.type._context);break;case 22:case 23:Ww()}n=n.return}if(kn=t,hn=t=Qa(t.current,null),Vn=Fr=e,wn=0,kh=null,Uw=Ty=gl=0,Sr=nh=null,Js!==null){for(e=0;e<Js.length;e++)if(n=Js[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Js=null}return t}function Kk(t,e){do{var n=hn;try{if(Ow(),om.current=Fm,Vm){for(var r=Xt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vm=!1}if(ml=0,Cn=xn=Xt=null,eh=!1,Ih=0,Bw.current=null,n===null||n.return===null){wn=1,kh=e,hn=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Vn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=eA(a);if(y!==null){y.flags&=-257,tA(y,a,s,o,e),y.mode&1&&ZS(o,u,e),e=y,l=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){ZS(o,u,e),Hw();break e}l=Error(_e(426))}}else if(Kt&&s.mode&1){var w=eA(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tA(w,a,s,o,e),Pw(Qu(l,s));break e}}o=l=Qu(l,s),wn!==4&&(wn=2),nh===null?nh=[o]:nh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=Ik(o,l,e);HS(o,S);break e;case 1:s=l;var A=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Xa===null||!Xa.has(P)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=Ok(o,s,e);HS(o,D);break e}}o=o.return}while(o!==null)}Gk(n)}catch(I){e=I,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function Wk(){var t=zm.current;return zm.current=Fm,t===null?Fm:t}function Hw(){(wn===0||wn===3||wn===2)&&(wn=4),kn===null||!(gl&268435455)&&!(Ty&268435455)||ja(kn,Vn)}function qm(t,e){var n=yt;yt|=2;var r=Wk();(kn!==t||Vn!==e)&&(Do=null,al(t,e));do try{D5();break}catch(i){Kk(t,i)}while(!0);if(Ow(),yt=n,zm.current=r,hn!==null)throw Error(_e(261));return kn=null,Vn=0,wn}function D5(){for(;hn!==null;)Hk(hn)}function M5(){for(;hn!==null&&!s4();)Hk(hn)}function Hk(t){var e=Yk(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,e===null?Gk(t):hn=e,Bw.current=null}function Gk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O5(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wn=6,hn=null;return}}else if(n=I5(n,e,Fr),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);wn===0&&(wn=5)}function Ws(t,e,n){var r=At,i=fi.transition;try{fi.transition=null,At=1,$5(t,e,n,r)}finally{fi.transition=i,At=r}return null}function $5(t,e,n,r){do Mu();while(Fa!==null);if(yt&6)throw Error(_e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(y4(t,o),t===kn&&(hn=kn=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Op||(Op=!0,Qk(Am,function(){return Mu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fi.transition,fi.transition=null;var a=At;At=1;var s=yt;yt|=4,Bw.current=null,k5(t,n),Bk(n,t),r5(Rb),Pm=!!jb,Rb=jb=null,t.current=n,N5(n),l4(),yt=s,At=a,fi.transition=o}else t.current=n;if(Op&&(Op=!1,Fa=t,Um=i),o=t.pendingLanes,o===0&&(Xa=null),f4(n.stateNode),Cr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bm)throw Bm=!1,t=e_,e_=null,t;return Um&1&&t.tag!==0&&Mu(),o=t.pendingLanes,o&1?t===t_?rh++:(rh=0,t_=t):rh=0,ps(),null}function Mu(){if(Fa!==null){var t=IC(Um),e=fi.transition,n=At;try{if(fi.transition=null,At=16>t?16:t,Fa===null)var r=!1;else{if(t=Fa,Fa=null,Um=0,yt&6)throw Error(_e(331));var i=yt;for(yt|=4,Me=t.current;Me!==null;){var o=Me,a=o.child;if(Me.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Me=u;Me!==null;){var f=Me;switch(f.tag){case 0:case 11:case 15:th(8,f,o)}var c=f.child;if(c!==null)c.return=f,Me=c;else for(;Me!==null;){f=Me;var p=f.sibling,y=f.return;if(Vk(f),f===u){Me=null;break}if(p!==null){p.return=y,Me=p;break}Me=y}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Me=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Me=a;else e:for(;Me!==null;){if(o=Me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:th(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Me=S;break e}Me=o.return}}var A=t.current;for(Me=A;Me!==null;){a=Me;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,Me=P;else e:for(a=A;Me!==null;){if(s=Me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ay(9,s)}}catch(I){en(s,s.return,I)}if(s===a){Me=null;break e}var D=s.sibling;if(D!==null){D.return=s.return,Me=D;break e}Me=s.return}}if(yt=i,ps(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(yy,t)}catch{}r=!0}return r}finally{At=n,fi.transition=e}}return!1}function pA(t,e,n){e=Qu(n,e),e=Ik(t,e,1),t=Ga(t,e,1),e=dr(),t!==null&&(Sd(t,1,e),Cr(t,e))}function en(t,e,n){if(t.tag===3)pA(t,t,n);else for(;e!==null;){if(e.tag===3){pA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){t=Qu(n,t),t=Ok(e,t,1),e=Ga(e,t,1),t=dr(),e!==null&&(Sd(e,1,t),Cr(e,t));break}}e=e.return}}function L5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&(Vn&n)===n&&(wn===4||wn===3&&(Vn&130023424)===Vn&&500>an()-qw?al(t,0):Uw|=n),Cr(t,e)}function Xk(t,e){e===0&&(t.mode&1?(e=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):e=1);var n=dr();t=ea(t,e),t!==null&&(Sd(t,e,n),Cr(t,n))}function V5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xk(t,n)}function F5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),Xk(t,n)}var Yk;Yk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,P5(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,Kt&&e.flags&1048576&&ek(e,Rm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sm(t,e),t=e.pendingProps;var i=Hu(e,or.current);Du(e,n),i=$w(null,e,r,t,i,n);var o=Lw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(r)?(o=!0,Nm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nw(e),i.updater=Sy,e.stateNode=i,i._reactInternals=e,Ub(e,r,t,n),e=Wb(null,e,r,!0,o,n)):(e.tag=0,Kt&&o&&Aw(e),cr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=B5(r),t=Ni(r,t),i){case 0:e=Kb(null,e,r,t,n);break e;case 1:e=iA(null,e,r,t,n);break e;case 11:e=nA(null,e,r,t,n);break e;case 14:e=rA(null,e,r,Ni(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Kb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),iA(t,e,r,i,n);case 3:e:{if(jk(e),t===null)throw Error(_e(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ak(t,e),$m(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qu(Error(_e(423)),e),e=oA(t,e,r,n,i);break e}else if(r!==i){i=Qu(Error(_e(424)),e),e=oA(t,e,r,n,i);break e}else for(Ur=Ha(e.stateNode.containerInfo.firstChild),Kr=e,Kt=!0,Mi=null,n=ik(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gu(),r===i){e=ta(t,e,n);break e}cr(t,e,r,n)}e=e.child}return e;case 5:return sk(e),t===null&&Fb(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Db(r,i)?a=null:o!==null&&Db(r,o)&&(e.flags|=32),Nk(t,e),cr(t,e,a,n),e.child;case 6:return t===null&&Fb(e),null;case 13:return Rk(t,e,n);case 4:return jw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):cr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),nA(t,e,r,i,n);case 7:return cr(t,e,e.pendingProps,n),e.child;case 8:return cr(t,e,e.pendingProps.children,n),e.child;case 12:return cr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,$t(Dm,r._currentValue),r._currentValue=a,o!==null)if(Ui(o.value,a)){if(o.children===i.children&&!Ir.current){e=ta(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zb(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(_e(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),zb(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}cr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Du(e,n),i=pi(i),r=r(i),e.flags|=1,cr(t,e,r,n),e.child;case 14:return r=e.type,i=Ni(r,e.pendingProps),i=Ni(r.type,i),rA(t,e,r,i,n);case 15:return Ck(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),sm(t,e),e.tag=1,Or(r)?(t=!0,Nm(e)):t=!1,Du(e,n),Pk(e,r,i),Ub(e,r,i,n),Wb(null,e,r,!0,t,n);case 19:return Dk(t,e,n);case 22:return kk(t,e,n)}throw Error(_e(156,e.tag))};function Qk(t,e){return SC(t,e)}function z5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,n,r){return new z5(t,e,n,r)}function Gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function B5(t){if(typeof t=="function")return Gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dw)return 11;if(t===pw)return 14}return 2}function Qa(t,e){var n=t.alternate;return n===null?(n=ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cm(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Gw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case mu:return sl(n.children,i,o,e);case hw:a=8,i|=8;break;case db:return t=ui(12,n,e,i|2),t.elementType=db,t.lanes=o,t;case pb:return t=ui(13,n,e,i),t.elementType=pb,t.lanes=o,t;case mb:return t=ui(19,n,e,i),t.elementType=mb,t.lanes=o,t;case sC:return Py(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oC:a=10;break e;case aC:a=9;break e;case dw:a=11;break e;case pw:a=14;break e;case Oa:a=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=ui(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function sl(t,e,n,r){return t=ui(7,t,r,e),t.lanes=n,t}function Py(t,e,n,r){return t=ui(22,t,r,e),t.elementType=sC,t.lanes=n,t.stateNode={isHidden:!1},t}function x0(t,e,n){return t=ui(6,t,null,e),t.lanes=n,t}function w0(t,e,n){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n0(0),this.expirationTimes=n0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xw(t,e,n,r,i,o,a,s,l){return t=new U5(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ui(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nw(o),t}function q5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jk(t){if(!t)return os;t=t._reactInternals;e:{if(kl(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Or(n))return JC(t,n,e)}return e}function Zk(t,e,n,r,i,o,a,s,l){return t=Xw(n,r,!0,t,i,o,a,s,l),t.context=Jk(null),n=t.current,r=dr(),i=Ya(n),o=Wo(r,i),o.callback=e??null,Ga(n,o,i),t.current.lanes=i,Sd(t,i,r),Cr(t,r),t}function Iy(t,e,n,r){var i=e.current,o=dr(),a=Ya(i);return n=Jk(n),e.context===null?e.context=n:e.pendingContext=n,e=Wo(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,a),t!==null&&(Bi(t,i,a,o),im(t,i,a)),a}function Km(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yw(t,e){mA(t,e),(t=t.alternate)&&mA(t,e)}function K5(){return null}var eN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qw(t){this._internalRoot=t}Oy.prototype.render=Qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Iy(t,e,null,null)};Oy.prototype.unmount=Qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yl(function(){Iy(null,t,null,null)}),e[Zo]=null}};function Oy(t){this._internalRoot=t}Oy.prototype.unstable_scheduleHydration=function(t){if(t){var e=kC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Na.length&&e!==0&&e<Na[n].priority;n++);Na.splice(n,0,t),n===0&&jC(t)}};function Jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gA(){}function W5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Km(a);o.call(u)}}var a=Zk(e,r,t,0,null,!1,!1,"",gA);return t._reactRootContainer=a,t[Zo]=a.current,Eh(t.nodeType===8?t.parentNode:t),yl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Km(l);s.call(u)}}var l=Xw(t,0,!1,null,null,!1,!1,"",gA);return t._reactRootContainer=l,t[Zo]=l.current,Eh(t.nodeType===8?t.parentNode:t),yl(function(){Iy(e,l,n,r)}),l}function ky(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Km(a);s.call(l)}}Iy(e,a,t,i)}else a=W5(n,e,t,i,r);return Km(a)}OC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vf(e.pendingLanes);n!==0&&(yw(e,n|1),Cr(e,an()),!(yt&6)&&(Ju=an()+500,ps()))}break;case 13:yl(function(){var r=ea(t,1);if(r!==null){var i=dr();Bi(r,t,1,i)}}),Yw(t,1)}};vw=function(t){if(t.tag===13){var e=ea(t,134217728);if(e!==null){var n=dr();Bi(e,t,134217728,n)}Yw(t,134217728)}};CC=function(t){if(t.tag===13){var e=Ya(t),n=ea(t,e);if(n!==null){var r=dr();Bi(n,t,e,r)}Yw(t,e)}};kC=function(){return At};NC=function(t,e){var n=At;try{return At=t,e()}finally{At=n}};Ab=function(t,e,n){switch(e){case"input":if(vb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xy(r);if(!i)throw Error(_e(90));uC(r),vb(r,i)}}}break;case"textarea":fC(t,n);break;case"select":e=n.value,e!=null&&ku(t,!!n.multiple,e,!1)}};vC=Kw;bC=yl;var H5={usingClientEntryPoint:!1,Events:[Td,bu,xy,gC,yC,Kw]},Tf={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G5={bundleType:Tf.bundleType,version:Tf.version,rendererPackageName:Tf.rendererPackageName,rendererConfig:Tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wC(t),t===null?null:t.stateNode},findFiberByHostInstance:Tf.findFiberByHostInstance||K5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{yy=Cp.inject(G5),fo=Cp}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H5;Gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(e))throw Error(_e(200));return q5(t,e,null,n)};Gr.createRoot=function(t,e){if(!Jw(t))throw Error(_e(299));var n=!1,r="",i=eN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xw(t,1,!1,null,null,n,!1,r,i),t[Zo]=e.current,Eh(t.nodeType===8?t.parentNode:t),new Qw(e)};Gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=wC(e),t=t===null?null:t.stateNode,t};Gr.flushSync=function(t){return yl(t)};Gr.hydrate=function(t,e,n){if(!Cy(e))throw Error(_e(200));return ky(null,t,e,!0,n)};Gr.hydrateRoot=function(t,e,n){if(!Jw(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=eN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Zk(e,null,t,1,n??null,i,!1,o,a),t[Zo]=e.current,Eh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oy(e)};Gr.render=function(t,e,n){if(!Cy(e))throw Error(_e(200));return ky(null,t,e,!1,n)};Gr.unmountComponentAtNode=function(t){if(!Cy(t))throw Error(_e(40));return t._reactRootContainer?(yl(function(){ky(null,null,t,!1,function(){t._reactRootContainer=null,t[Zo]=null})}),!0):!1};Gr.unstable_batchedUpdates=Kw;Gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cy(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return ky(t,e,n,!1,r)};Gr.version="18.3.1-next-f1338f8080-20240426";function tN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tN)}catch(t){console.error(t)}}tN(),tC.exports=Gr;var X5=tC.exports,yA=X5;fb.createRoot=yA.createRoot,fb.hydrateRoot=yA.hydrateRoot;const Y5=()=>{};var vA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Q5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},rN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,c=(o&3)<<4|s>>4;let p=(s&15)<<2|u>>6,y=u&63;l||(y=64,a||(p=64)),r.push(n[f],n[c],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||c==null)throw new J5;const p=o<<2|s>>4;if(r.push(p),u!==64){const y=s<<4&240|u>>2;if(r.push(y),c!==64){const b=u<<6&192|c;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z5=function(t){const e=nN(t);return rN.encodeByteArray(e,!0)},Wm=function(t){return Z5(t).replace(/\./g,"")},iN=function(t){try{return rN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=()=>e3().__FIREBASE_DEFAULTS__,n3=()=>{if(typeof process>"u"||typeof vA>"u")return;const t=vA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iN(t[1]);return e&&JSON.parse(e)},Ny=()=>{try{return Y5()||t3()||n3()||r3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oN=t=>{var e,n;return(n=(e=Ny())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},i3=t=>{const e=oN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aN=()=>{var t;return(t=Ny())==null?void 0:t.config},sN=t=>{var e;return(e=Ny())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wm(JSON.stringify(n)),Wm(JSON.stringify(a)),""].join(".")}const ih={};function s3(){const t={prod:[],emulator:[]};for(const e of Object.keys(ih))ih[e]?t.emulator.push(e):t.prod.push(e);return t}function l3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bA=!1;function uN(t,e){if(typeof window>"u"||typeof document>"u"||!Rc(window.location.host)||ih[t]===e||ih[t]||bA)return;ih[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=s3().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{bA=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function c(){const p=l3(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),S=n("preprendIcon"),A=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const P=p.element;s(P),f(w,v);const D=u();l(A,S),P.append(A,b,w,D),document.body.appendChild(P)}o?(b.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function c3(){var e;const t=(e=Ny())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p3(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m3(){return!c3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function y3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v3,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Id.prototype.create)}}class Id{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?b3(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ca(i,s,r)}}function b3(t,e){return t.replace(_3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _3=/\{\$([^}]+)}/g;function x3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(_A(o)&&_A(a)){if(!vl(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _A(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Bf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function w3(t,e){const n=new E3(t,e);return n.subscribe.bind(n)}class E3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=E0),i.error===void 0&&(i.error=E0),i.complete===void 0&&(i.complete=E0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function E0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class bl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P3(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T3(t){return t===Hs?void 0:t}function P3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const O3={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},C3=at.INFO,k3={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},N3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zw{constructor(e){this.name=e,this._logLevel=C3,this._logHandler=N3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const j3=(t,e)=>e.some(n=>t instanceof n);let xA,wA;function R3(){return xA||(xA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D3(){return wA||(wA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cN=new WeakMap,i_=new WeakMap,fN=new WeakMap,S0=new WeakMap,e1=new WeakMap;function M3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ja(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cN.set(n,t)}).catch(()=>{}),e1.set(e,t),e}function $3(t){if(i_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});i_.set(t,e)}let o_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L3(t){o_=t(o_)}function V3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A0(this),e,...n);return fN.set(r,e.sort?e.sort():[e]),Ja(r)}:D3().includes(t)?function(...e){return t.apply(A0(this),e),Ja(cN.get(this))}:function(...e){return Ja(t.apply(A0(this),e))}}function F3(t){return typeof t=="function"?V3(t):(t instanceof IDBTransaction&&$3(t),j3(t,R3())?new Proxy(t,o_):t)}function Ja(t){if(t instanceof IDBRequest)return M3(t);if(S0.has(t))return S0.get(t);const e=F3(t);return e!==t&&(S0.set(t,e),e1.set(e,t)),e}const A0=t=>e1.get(t);function z3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Ja(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ja(a.result),l.oldVersion,l.newVersion,Ja(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const B3=["get","getKey","getAll","getAllKeys","count"],U3=["put","add","delete","clear"],T0=new Map;function EA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(T0.get(e))return T0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||B3.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return T0.set(e,o),o}L3(t=>({...t,get:(e,n,r)=>EA(e,n)||t.get(e,n,r),has:(e,n)=>!!EA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const a_="@firebase/app",SA="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Zw("@firebase/app"),W3="@firebase/app-compat",H3="@firebase/analytics-compat",G3="@firebase/analytics",X3="@firebase/app-check-compat",Y3="@firebase/app-check",Q3="@firebase/auth",J3="@firebase/auth-compat",Z3="@firebase/database",eV="@firebase/data-connect",tV="@firebase/database-compat",nV="@firebase/functions",rV="@firebase/functions-compat",iV="@firebase/installations",oV="@firebase/installations-compat",aV="@firebase/messaging",sV="@firebase/messaging-compat",lV="@firebase/performance",uV="@firebase/performance-compat",cV="@firebase/remote-config",fV="@firebase/remote-config-compat",hV="@firebase/storage",dV="@firebase/storage-compat",pV="@firebase/firestore",mV="@firebase/ai",gV="@firebase/firestore-compat",yV="firebase",vV="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="[DEFAULT]",bV={[a_]:"fire-core",[W3]:"fire-core-compat",[G3]:"fire-analytics",[H3]:"fire-analytics-compat",[Y3]:"fire-app-check",[X3]:"fire-app-check-compat",[Q3]:"fire-auth",[J3]:"fire-auth-compat",[Z3]:"fire-rtdb",[eV]:"fire-data-connect",[tV]:"fire-rtdb-compat",[nV]:"fire-fn",[rV]:"fire-fn-compat",[iV]:"fire-iid",[oV]:"fire-iid-compat",[aV]:"fire-fcm",[sV]:"fire-fcm-compat",[lV]:"fire-perf",[uV]:"fire-perf-compat",[cV]:"fire-rc",[fV]:"fire-rc-compat",[hV]:"fire-gcs",[dV]:"fire-gcs-compat",[pV]:"fire-fst",[gV]:"fire-fst-compat",[mV]:"fire-vertex","fire-js":"fire-js",[yV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new Map,_V=new Map,l_=new Map;function AA(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zu(t){const e=t.name;if(l_.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;l_.set(e,t);for(const n of Hm.values())AA(n,t);for(const n of _V.values())AA(n,t);return!0}function t1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Id("app","Firebase",xV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=vV;function hN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:s_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Za.create("bad-app-name",{appName:String(i)});if(n||(n=aN()),!n)throw Za.create("no-options");const o=Hm.get(i);if(o){if(vl(n,o.options)&&vl(r,o.config))return o;throw Za.create("duplicate-app",{appName:i})}const a=new I3(i);for(const l of l_.values())a.addComponent(l);const s=new wV(n,r,a);return Hm.set(i,s),s}function dN(t=s_){const e=Hm.get(t);if(!e&&t===s_&&aN())return hN();if(!e)throw Za.create("no-app",{appName:t});return e}function es(t,e,n){let r=bV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(a.join(" "));return}Zu(new bl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-heartbeat-database",SV=1,Nh="firebase-heartbeat-store";let P0=null;function pN(){return P0||(P0=z3(EV,SV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Za.create("idb-open",{originalErrorMessage:t.message})})),P0}async function AV(t){try{const n=(await pN()).transaction(Nh),r=await n.objectStore(Nh).get(mN(t));return await n.done,r}catch(e){if(e instanceof ca)na.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(n.message)}}}async function TA(t,e){try{const r=(await pN()).transaction(Nh,"readwrite");await r.objectStore(Nh).put(e,mN(t)),await r.done}catch(n){if(n instanceof ca)na.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(r.message)}}}function mN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=1024,PV=30;class IV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>PV){const a=kV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PA(),{heartbeatsToSend:r,unsentEntries:i}=OV(this._heartbeatsCache.heartbeats),o=Wm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return na.warn(n),""}}}function PA(){return new Date().toISOString().substring(0,10)}function OV(t,e=TV){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),IA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?y3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return TA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return TA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IA(t){return Wm(JSON.stringify({version:2,heartbeats:t})).length}function kV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){Zu(new bl("platform-logger",e=>new q3(e),"PRIVATE")),Zu(new bl("heartbeat",e=>new IV(e),"PRIVATE")),es(a_,SA,t),es(a_,SA,"esm2020"),es("fire-js","")}NV("");function gN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jV=gN,yN=new Id("auth","Firebase",gN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Zw("@firebase/auth");function RV(t,...e){Gm.logLevel<=at.WARN&&Gm.warn(`Auth (${Dc}): ${t}`,...e)}function fm(t,...e){Gm.logLevel<=at.ERROR&&Gm.error(`Auth (${Dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,...e){throw n1(t,...e)}function po(t,...e){return n1(t,...e)}function vN(t,e,n){const r={...jV(),[e]:n};return new Id("auth","Firebase",r).create(e,{appName:t.name})}function Ho(t){return vN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yN.create(t,...e)}function Be(t,e,...n){if(!t)throw n1(e,...n)}function Fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fm(e),new Error(e)}function ra(t,e){t||Fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function DV(){return OA()==="http:"||OA()==="https:"}function OA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DV()||h3()||"connection"in navigator)?navigator.onLine:!0}function $V(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ra(n>e,"Short delay should be less than long delay!"),this.isMobile=u3()||d3()}get(){return MV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){ra(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FV=new Cd(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gs(t,e,n,r,i={}){return _N(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Od({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return f3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rc(t.emulatorConfig.host)&&(u.credentials="include"),bN.fetch()(await xN(t,t.config.apiHost,n,s),u)})}async function _N(t,e,n){t._canInitEmulator=!1;const r={...LV,...e};try{const i=new BV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw kp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw kp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw kp(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vN(t,f,u);qi(t,f)}}catch(i){if(i instanceof ca)throw i;qi(t,"network-request-failed",{message:String(i)})}}async function kd(t,e,n,r,i={}){const o=await gs(t,e,n,r,i);return"mfaPendingCredential"in o&&qi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function xN(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?r1(t.config,i):`${t.config.apiScheme}://${i}`;return VV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function zV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),FV.get())})}}function kp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=po(t,e,r);return i.customData._tokenResponse=n,i}function CA(t){return t!==void 0&&t.enterprise!==void 0}class UV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qV(t,e){return gs(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function Xm(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WV(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=i1(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:oh(I0(i.auth_time)),issuedAtTime:oh(I0(i.iat)),expirationTime:oh(I0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function I0(t){return Number(t)*1e3}function i1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fm("JWT malformed, contained fewer than 3 sections"),null;try{const i=iN(n);return i?JSON.parse(i):(fm("Failed to decode base64 JWT payload"),null)}catch(i){return fm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kA(t){const e=i1(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ca&&HV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t){var c;const e=t.auth,n=await t.getIdToken(),r=await jh(t,Xm(e,{idToken:n}));Be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(c=i.providerUserInfo)!=null&&c.length?wN(i.providerUserInfo):[],a=YV(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new c_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function XV(t){const e=yn(t);await Ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e){const n=await _N(t,{},async()=>{const r=Od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await xN(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Rc(t.emulatorConfig.host)&&(l.credentials="include"),bN.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JV(t,e){return gs(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=kA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await QV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new $u;return r&&(Be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new GV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new c_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jh(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WV(this,e)}reload(){return XV(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ym(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ho(this.auth));const e=await this.getIdToken();return await jh(this,KV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:c,emailVerified:p,isAnonymous:y,providerData:b,stsTokenManager:v}=n;Be(c&&v,e,"internal-error");const w=$u.fromJSON(this.name,v);Be(typeof c=="string",e,"internal-error"),Pa(r,e.name),Pa(i,e.name),Be(typeof p=="boolean",e,"internal-error"),Be(typeof y=="boolean",e,"internal-error"),Pa(o,e.name),Pa(a,e.name),Pa(s,e.name),Pa(l,e.name),Pa(u,e.name),Pa(f,e.name);const S=new Vi({uid:c,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:w,createdAt:u,lastLoginAt:f});return b&&Array.isArray(b)&&(S.providerData=b.map(A=>({...A}))),l&&(S._redirectEventId=l),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new $u;i.updateFromServerResponse(n);const o=new Vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ym(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?wN(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new $u;s.updateFromIdToken(r);const l=new Vi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new c_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new Map;function zo(t){ra(t instanceof Function,"Expected a class definition");let e=NA.get(t);return e?(ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EN.type="NONE";const jA=EN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e,n){return`firebase:${t}:${e}:${n}`}class Lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hm(this.userKey,i.apiKey,o),this.fullPersistenceKey=hm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xm(this.auth,{idToken:e}).catch(()=>{});return n?Vi._fromGetAccountInfoResponse(this.auth,n,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lu(zo(jA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||zo(jA);const a=hm(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const f=await u._get(a);if(f){let c;if(typeof f=="string"){const p=await Xm(e,{idToken:f}).catch(()=>{});if(!p)break;c=await Vi._fromGetAccountInfoResponse(e,p,f)}else c=Vi._fromJSON(e,f);u!==o&&(s=c),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Lu(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Lu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ON(e))return"Blackberry";if(CN(e))return"Webos";if(AN(e))return"Safari";if((e.includes("chrome/")||TN(e))&&!e.includes("edge/"))return"Chrome";if(IN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SN(t=ar()){return/firefox\//i.test(t)}function AN(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TN(t=ar()){return/crios\//i.test(t)}function PN(t=ar()){return/iemobile/i.test(t)}function IN(t=ar()){return/android/i.test(t)}function ON(t=ar()){return/blackberry/i.test(t)}function CN(t=ar()){return/webos/i.test(t)}function o1(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZV(t=ar()){var e;return o1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function eF(){return p3()&&document.documentMode===10}function kN(t=ar()){return o1(t)||IN(t)||CN(t)||ON(t)||/windows phone/i.test(t)||PN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e=[]){let n;switch(t){case"Browser":n=RA(ar());break;case"Worker":n=`${RA(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e={}){return gs(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=6;class iF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DA(this),this.idTokenSubscription=new DA(this),this.beforeStateQueue=new tF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Lu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xm(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(si(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ym(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$V()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ho(this));const n=e?yn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nF(this),n=new iF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Id("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zo(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Lu.create(this,[zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&RV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nl(t){return yn(t)}class DA{constructor(e){this.auth=e,this.observer=null,this.addObserver=w3(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aF(t){jy=t}function jN(t){return jy.loadJS(t)}function sF(){return jy.recaptchaEnterpriseScript}function lF(){return jy.gapiScript}function uF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cF{constructor(){this.enterprise=new fF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hF="recaptcha-enterprise",RN="NO_RECAPTCHA";class dF{constructor(e){this.type=hF,this.auth=Nl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{qV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new UV(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;CA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(RN)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cF().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&CA(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sF();l.length!==0&&(l+=s),jN(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function MA(t,e,n,r=!1,i=!1){const o=new dF(t);let a;if(i)a=RN;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function f_(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await MA(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await MA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e){const n=t1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(vl(o,e??{}))return i;qi(i,"already-initialized")}return n.initialize({options:e})}function mF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gF(t,e,n){const r=Nl(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=DN(e),{host:a,port:s}=yF(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},f=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(vl(u,r.config.emulator)&&vl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rc(a)?(lN(`${o}//${a}${l}`),uN("Auth",!0)):vF()}function DN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yF(t){const e=DN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:$A(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:$A(a)}}}function $A(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fo("not implemented")}_getIdTokenResponse(e){return Fo("not implemented")}_linkToIdToken(e,n){return Fo("not implemented")}_getReauthenticationResolver(e){return Fo("not implemented")}}async function bF(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return kd(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,e){return kd(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function wF(t,e){return kd(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends a1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,n,"signInWithPassword",_F);case"emailLink":return xF(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f_(e,r,"signUpPassword",bF);case"emailLink":return wF(e,{idToken:n,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e){return kd(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="http://localhost";class _l extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new _l(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Vu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vu(e,n)}buildRequest(){const e={requestUri:EF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Od(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AF(t){const e=zf(Bf(t)).link,n=e?zf(Bf(e)).deep_link_id:null,r=zf(Bf(t)).deep_link_id;return(r?zf(Bf(r)).link:null)||r||n||e||t}class s1{constructor(e){const n=zf(Bf(e)),r=n.apiKey??null,i=n.oobCode??null,o=SF(n.mode??null);Be(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AF(e);try{return new s1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(e,n){return Rh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=s1.parseLink(n);return Be(r,"argument-error"),Rh._fromEmailAndCode(e,r.code,r.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends MN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Nd{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Da.credential(n,r)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Nd{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Nd{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $a.credential(n,r)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e){return kd(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Vi._fromIdTokenResponse(e,r,i),a=LA(r);return new xl({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LA(r);return new xl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends ca{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qm(e,n,r,i)}}function $N(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qm._fromErrorAndOperation(t,o,e,r):o})}async function PF(t,e,n=!1){const r=await jh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IF(t,e,n=!1){const{auth:r}=t;if(si(r.app))return Promise.reject(Ho(r));const i="reauthenticate";try{const o=await jh(t,$N(r,i,e,t),n);Be(o.idToken,r,"internal-error");const a=i1(o.idToken);Be(a,r,"internal-error");const{sub:s}=a;return Be(t.uid===s,r,"user-mismatch"),xl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e,n=!1){if(si(t.app))return Promise.reject(Ho(t));const r="signIn",i=await $N(t,r,e),o=await xl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function OF(t,e){return LN(Nl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t){const e=Nl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CF(t,e,n){if(si(t.app))return Promise.reject(Ho(t));const r=Nl(t),a=await f_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VN(t),l}),s=await xl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function kF(t,e,n){return si(t.app)?Promise.reject(Ho(t)):OF(yn(t),Mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VN(t),r})}function NF(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function jF(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function RF(t,e,n,r){return yn(t).onAuthStateChanged(e,n,r)}const Jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jm,"1"),this.storage.removeItem(Jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=1e3,MF=10;class zN extends FN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);eF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zN.type="LOCAL";const $F=zN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends FN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BN.type="SESSION";const UN=BN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await LF(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ry.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=l1("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(c){const p=c;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(p.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return window}function FF(t){mo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof mo().WorkerGlobalScope<"u"&&typeof mo().importScripts=="function"}async function zF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function UF(){return qN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firebaseLocalStorageDb",qF=1,Zm="firebaseLocalStorage",WN="fbase_key";class jd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dy(t,e){return t.transaction([Zm],e?"readwrite":"readonly").objectStore(Zm)}function KF(){const t=indexedDB.deleteDatabase(KN);return new jd(t).toPromise()}function h_(){const t=indexedDB.open(KN,qF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zm,{keyPath:WN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zm)?e(r):(r.close(),await KF(),e(await h_()))})})}async function VA(t,e,n){const r=Dy(t,!0).put({[WN]:e,value:n});return new jd(r).toPromise()}async function WF(t,e){const n=Dy(t,!1).get(e),r=await new jd(n).toPromise();return r===void 0?null:r.value}function FA(t,e){const n=Dy(t,!0).delete(e);return new jd(n).toPromise()}const HF=800,GF=3;class HN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ry._getInstance(UF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await zF(),!this.activeServiceWorker)return;this.sender=new VF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await VA(e,Jm,"1"),await FA(e,Jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Dy(i,!1).getAll();return new jd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HN.type="LOCAL";const XF=HN;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e){return e?zo(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QF(t){return LN(t.auth,new u1(t),t.bypassAuthState)}function JF(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),IF(n,new u1(t),t.bypassAuthState)}async function ZF(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),PF(n,new u1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QF;case"linkViaPopup":case"linkViaRedirect":return ZF;case"reauthViaPopup":case"reauthViaRedirect":return JF;default:qi(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Cd(2e3,1e4);class Tu extends GN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=l1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e6.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="pendingRedirect",dm=new Map;class n6 extends GN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const r=await r6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r6(t,e){const n=a6(e),r=o6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function i6(t,e){dm.set(t._key(),e)}function o6(t){return zo(t._redirectPersistence)}function a6(t){return hm(t6,t.config.apiKey,t.name)}async function s6(t,e,n=!1){if(si(t.app))return Promise.reject(Ho(t));const r=Nl(t),i=YF(r,e),a=await new n6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=10*60*1e3;class u6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XN(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(po(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l6&&this.cachedEventUids.clear(),this.cachedEventUids.has(zA(e))}saveEventToCache(e){this.cachedEventUids.add(zA(e)),this.lastProcessedEventTime=Date.now()}}function zA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d6=/^https?/;async function p6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f6(t);for(const n of e)try{if(m6(n))return}catch{}qi(t,"unauthorized-domain")}function m6(t){const e=u_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!d6.test(n))return!1;if(h6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Cd(3e4,6e4);function BA(){const t=mo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y6(t){return new Promise((e,n)=>{var i,o,a;function r(){BA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BA(),n(po(t,"network-request-failed"))},timeout:g6.get()})}if((o=(i=mo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=mo().gapi)!=null&&a.load)r();else{const s=uF("iframefcb");return mo()[s]=()=>{gapi.load?r():n(po(t,"network-request-failed"))},jN(`${lF()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw pm=null,e})}let pm=null;function v6(t){return pm=pm||y6(t),pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new Cd(5e3,15e3),_6="__/auth/iframe",x6="emulator/auth/iframe",w6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S6(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r1(e,x6):`https://${t.config.authDomain}/${_6}`,r={apiKey:e.apiKey,appName:t.name,v:Dc},i=E6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Od(r).slice(1)}`}async function A6(t){const e=await v6(t),n=mo().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:S6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=po(t,"network-request-failed"),s=mo().setTimeout(()=>{o(a)},b6.get());function l(){mo().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P6=500,I6=600,O6="_blank",C6="http://localhost";class UA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(t,e,n,r=P6,i=I6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...T6,width:r.toString(),height:i.toString(),top:o,left:a},u=ar().toLowerCase();n&&(s=TN(u)?O6:n),SN(u)&&(e=e||C6,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(ZV(u)&&s!=="_self")return N6(e||"",s),new UA(null);const c=window.open(e||"",s,f);Be(c,t,"popup-blocked");try{c.focus()}catch{}return new UA(c)}function N6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="__/auth/handler",R6="emulator/auth/handler",D6=encodeURIComponent("fac");async function qA(t,e,n,r,i,o){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dc,eventId:i};if(e instanceof MN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",x3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,c]of Object.entries({}))a[f]=c}if(e instanceof Nd){const f=e.getScopes().filter(c=>c!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${D6}=${encodeURIComponent(l)}`:"";return`${M6(t)}?${Od(s).slice(1)}${u}`}function M6({config:t}){return t.emulator?r1(t,R6):`https://${t.authDomain}/${j6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="webStorageSupport";class $6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UN,this._completeRedirectFn=s6,this._overrideRedirectResult=i6}async _openPopup(e,n,r,i){var a;ra((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await qA(e,n,r,u_(),i);return k6(e,o,l1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await qA(e,n,r,u_(),i);return FF(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ra(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await A6(e),r=new u6(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O0,{type:O0},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[O0];o!==void 0&&n(!!o),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kN()||AN()||o1()}}const L6=$6;var KA="@firebase/auth",WA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z6(t){Zu(new bl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NN(t)},u=new oF(r,i,o,l);return mF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zu(new bl("auth-internal",e=>{const n=Nl(e.getProvider("auth").getImmediate());return(r=>new V6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(KA,WA,F6(t)),es(KA,WA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=5*60,U6=sN("authIdTokenMaxAge")||B6;let HA=null;const q6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U6)return;const i=n==null?void 0:n.token;HA!==i&&(HA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function K6(t=dN()){const e=t1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pF(t,{popupRedirectResolver:L6,persistence:[XF,$F,UN]}),r=sN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=q6(o.toString());jF(n,a,()=>a(n.currentUser)),NF(n,s=>a(s))}}const i=oN("auth");return i&&gF(n,`http://${i}`),n}function W6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}aF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",W6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z6("Browser");var H6="firebase",G6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(H6,G6,"app");var GA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,YN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function k(){}k.prototype=T.prototype,x.F=T.prototype,x.prototype=new k,x.prototype.constructor=x,x.D=function(M,R,$){for(var L=Array(arguments.length-2),re=2;re<arguments.length;re++)L[re-2]=arguments[re];return T.prototype[R].apply(M,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,T,k){k||(k=0);const M=Array(16);if(typeof T=="string")for(var R=0;R<16;++R)M[R]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(R=0;R<16;++R)M[R]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=x.g[0],k=x.g[1],R=x.g[2];let $=x.g[3],L;L=T+($^k&(R^$))+M[0]+3614090360&4294967295,T=k+(L<<7&4294967295|L>>>25),L=$+(R^T&(k^R))+M[1]+3905402710&4294967295,$=T+(L<<12&4294967295|L>>>20),L=R+(k^$&(T^k))+M[2]+606105819&4294967295,R=$+(L<<17&4294967295|L>>>15),L=k+(T^R&($^T))+M[3]+3250441966&4294967295,k=R+(L<<22&4294967295|L>>>10),L=T+($^k&(R^$))+M[4]+4118548399&4294967295,T=k+(L<<7&4294967295|L>>>25),L=$+(R^T&(k^R))+M[5]+1200080426&4294967295,$=T+(L<<12&4294967295|L>>>20),L=R+(k^$&(T^k))+M[6]+2821735955&4294967295,R=$+(L<<17&4294967295|L>>>15),L=k+(T^R&($^T))+M[7]+4249261313&4294967295,k=R+(L<<22&4294967295|L>>>10),L=T+($^k&(R^$))+M[8]+1770035416&4294967295,T=k+(L<<7&4294967295|L>>>25),L=$+(R^T&(k^R))+M[9]+2336552879&4294967295,$=T+(L<<12&4294967295|L>>>20),L=R+(k^$&(T^k))+M[10]+4294925233&4294967295,R=$+(L<<17&4294967295|L>>>15),L=k+(T^R&($^T))+M[11]+2304563134&4294967295,k=R+(L<<22&4294967295|L>>>10),L=T+($^k&(R^$))+M[12]+1804603682&4294967295,T=k+(L<<7&4294967295|L>>>25),L=$+(R^T&(k^R))+M[13]+4254626195&4294967295,$=T+(L<<12&4294967295|L>>>20),L=R+(k^$&(T^k))+M[14]+2792965006&4294967295,R=$+(L<<17&4294967295|L>>>15),L=k+(T^R&($^T))+M[15]+1236535329&4294967295,k=R+(L<<22&4294967295|L>>>10),L=T+(R^$&(k^R))+M[1]+4129170786&4294967295,T=k+(L<<5&4294967295|L>>>27),L=$+(k^R&(T^k))+M[6]+3225465664&4294967295,$=T+(L<<9&4294967295|L>>>23),L=R+(T^k&($^T))+M[11]+643717713&4294967295,R=$+(L<<14&4294967295|L>>>18),L=k+($^T&(R^$))+M[0]+3921069994&4294967295,k=R+(L<<20&4294967295|L>>>12),L=T+(R^$&(k^R))+M[5]+3593408605&4294967295,T=k+(L<<5&4294967295|L>>>27),L=$+(k^R&(T^k))+M[10]+38016083&4294967295,$=T+(L<<9&4294967295|L>>>23),L=R+(T^k&($^T))+M[15]+3634488961&4294967295,R=$+(L<<14&4294967295|L>>>18),L=k+($^T&(R^$))+M[4]+3889429448&4294967295,k=R+(L<<20&4294967295|L>>>12),L=T+(R^$&(k^R))+M[9]+568446438&4294967295,T=k+(L<<5&4294967295|L>>>27),L=$+(k^R&(T^k))+M[14]+3275163606&4294967295,$=T+(L<<9&4294967295|L>>>23),L=R+(T^k&($^T))+M[3]+4107603335&4294967295,R=$+(L<<14&4294967295|L>>>18),L=k+($^T&(R^$))+M[8]+1163531501&4294967295,k=R+(L<<20&4294967295|L>>>12),L=T+(R^$&(k^R))+M[13]+2850285829&4294967295,T=k+(L<<5&4294967295|L>>>27),L=$+(k^R&(T^k))+M[2]+4243563512&4294967295,$=T+(L<<9&4294967295|L>>>23),L=R+(T^k&($^T))+M[7]+1735328473&4294967295,R=$+(L<<14&4294967295|L>>>18),L=k+($^T&(R^$))+M[12]+2368359562&4294967295,k=R+(L<<20&4294967295|L>>>12),L=T+(k^R^$)+M[5]+4294588738&4294967295,T=k+(L<<4&4294967295|L>>>28),L=$+(T^k^R)+M[8]+2272392833&4294967295,$=T+(L<<11&4294967295|L>>>21),L=R+($^T^k)+M[11]+1839030562&4294967295,R=$+(L<<16&4294967295|L>>>16),L=k+(R^$^T)+M[14]+4259657740&4294967295,k=R+(L<<23&4294967295|L>>>9),L=T+(k^R^$)+M[1]+2763975236&4294967295,T=k+(L<<4&4294967295|L>>>28),L=$+(T^k^R)+M[4]+1272893353&4294967295,$=T+(L<<11&4294967295|L>>>21),L=R+($^T^k)+M[7]+4139469664&4294967295,R=$+(L<<16&4294967295|L>>>16),L=k+(R^$^T)+M[10]+3200236656&4294967295,k=R+(L<<23&4294967295|L>>>9),L=T+(k^R^$)+M[13]+681279174&4294967295,T=k+(L<<4&4294967295|L>>>28),L=$+(T^k^R)+M[0]+3936430074&4294967295,$=T+(L<<11&4294967295|L>>>21),L=R+($^T^k)+M[3]+3572445317&4294967295,R=$+(L<<16&4294967295|L>>>16),L=k+(R^$^T)+M[6]+76029189&4294967295,k=R+(L<<23&4294967295|L>>>9),L=T+(k^R^$)+M[9]+3654602809&4294967295,T=k+(L<<4&4294967295|L>>>28),L=$+(T^k^R)+M[12]+3873151461&4294967295,$=T+(L<<11&4294967295|L>>>21),L=R+($^T^k)+M[15]+530742520&4294967295,R=$+(L<<16&4294967295|L>>>16),L=k+(R^$^T)+M[2]+3299628645&4294967295,k=R+(L<<23&4294967295|L>>>9),L=T+(R^(k|~$))+M[0]+4096336452&4294967295,T=k+(L<<6&4294967295|L>>>26),L=$+(k^(T|~R))+M[7]+1126891415&4294967295,$=T+(L<<10&4294967295|L>>>22),L=R+(T^($|~k))+M[14]+2878612391&4294967295,R=$+(L<<15&4294967295|L>>>17),L=k+($^(R|~T))+M[5]+4237533241&4294967295,k=R+(L<<21&4294967295|L>>>11),L=T+(R^(k|~$))+M[12]+1700485571&4294967295,T=k+(L<<6&4294967295|L>>>26),L=$+(k^(T|~R))+M[3]+2399980690&4294967295,$=T+(L<<10&4294967295|L>>>22),L=R+(T^($|~k))+M[10]+4293915773&4294967295,R=$+(L<<15&4294967295|L>>>17),L=k+($^(R|~T))+M[1]+2240044497&4294967295,k=R+(L<<21&4294967295|L>>>11),L=T+(R^(k|~$))+M[8]+1873313359&4294967295,T=k+(L<<6&4294967295|L>>>26),L=$+(k^(T|~R))+M[15]+4264355552&4294967295,$=T+(L<<10&4294967295|L>>>22),L=R+(T^($|~k))+M[6]+2734768916&4294967295,R=$+(L<<15&4294967295|L>>>17),L=k+($^(R|~T))+M[13]+1309151649&4294967295,k=R+(L<<21&4294967295|L>>>11),L=T+(R^(k|~$))+M[4]+4149444226&4294967295,T=k+(L<<6&4294967295|L>>>26),L=$+(k^(T|~R))+M[11]+3174756917&4294967295,$=T+(L<<10&4294967295|L>>>22),L=R+(T^($|~k))+M[2]+718787259&4294967295,R=$+(L<<15&4294967295|L>>>17),L=k+($^(R|~T))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(R+(L<<21&4294967295|L>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+$&4294967295}r.prototype.v=function(x,T){T===void 0&&(T=x.length);const k=T-this.blockSize,M=this.C;let R=this.h,$=0;for(;$<T;){if(R==0)for(;$<=k;)i(this,x,$),$+=this.blockSize;if(typeof x=="string"){for(;$<T;)if(M[R++]=x.charCodeAt($++),R==this.blockSize){i(this,M),R=0;break}}else for(;$<T;)if(M[R++]=x[$++],R==this.blockSize){i(this,M),R=0;break}}this.h=R,this.o+=T},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;T=this.o*8;for(var k=x.length-8;k<x.length;++k)x[k]=T&255,T/=256;for(this.v(x),x=Array(16),T=0,k=0;k<4;++k)for(let M=0;M<32;M+=8)x[T++]=this.g[k]>>>M&255;return x};function o(x,T){var k=s;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=T(x)}function a(x,T){this.h=T;const k=[];let M=!0;for(let R=x.length-1;R>=0;R--){const $=x[R]|0;M&&$==T||(k[R]=$,M=!1)}this.g=k}var s={};function l(x){return-128<=x&&x<128?o(x,function(T){return new a([T|0],T<0?-1:0)}):new a([x|0],x<0?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return c;if(x<0)return w(u(-x));const T=[];let k=1;for(let M=0;x>=k;M++)T[M]=x/k|0,k*=4294967296;return new a(T,0)}function f(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return w(f(x.substring(1),T));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(T,8));let M=c;for(let $=0;$<x.length;$+=8){var R=Math.min(8,x.length-$);const L=parseInt(x.substring($,$+R),T);R<8?(R=u(Math.pow(T,R)),M=M.j(R).add(u(L))):(M=M.j(k),M=M.add(u(L)))}return M}var c=l(0),p=l(1),y=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-w(this).m();let x=0,T=1;for(let k=0;k<this.g.length;k++){const M=this.i(k);x+=(M>=0?M:4294967296+M)*T,T*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(v(this))return"-"+w(this).toString(x);const T=u(Math.pow(x,6));var k=this;let M="";for(;;){const R=D(k,T).g;k=S(k,R.j(T));let $=((k.g.length>0?k.g[0]:k.h)>>>0).toString(x);if(k=R,b(k))return $+M;for(;$.length<6;)$="0"+$;M=$+M}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(let T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function v(x){return x.h==-1}t.l=function(x){return x=S(this,x),v(x)?-1:b(x)?0:1};function w(x){const T=x.g.length,k=[];for(let M=0;M<T;M++)k[M]=~x.g[M];return new a(k,~x.h).add(p)}t.abs=function(){return v(this)?w(this):this},t.add=function(x){const T=Math.max(this.g.length,x.g.length),k=[];let M=0;for(let R=0;R<=T;R++){let $=M+(this.i(R)&65535)+(x.i(R)&65535),L=($>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);M=L>>>16,$&=65535,L&=65535,k[R]=L<<16|$}return new a(k,k[k.length-1]&-2147483648?-1:0)};function S(x,T){return x.add(w(T))}t.j=function(x){if(b(this)||b(x))return c;if(v(this))return v(x)?w(this).j(w(x)):w(w(this).j(x));if(v(x))return w(this.j(w(x)));if(this.l(y)<0&&x.l(y)<0)return u(this.m()*x.m());const T=this.g.length+x.g.length,k=[];for(var M=0;M<2*T;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(let R=0;R<x.g.length;R++){const $=this.i(M)>>>16,L=this.i(M)&65535,re=x.i(R)>>>16,ie=x.i(R)&65535;k[2*M+2*R]+=L*ie,A(k,2*M+2*R),k[2*M+2*R+1]+=$*ie,A(k,2*M+2*R+1),k[2*M+2*R+1]+=L*re,A(k,2*M+2*R+1),k[2*M+2*R+2]+=$*re,A(k,2*M+2*R+2)}for(x=0;x<T;x++)k[x]=k[2*x+1]<<16|k[2*x];for(x=T;x<2*T;x++)k[x]=0;return new a(k,0)};function A(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function P(x,T){this.g=x,this.h=T}function D(x,T){if(b(T))throw Error("division by zero");if(b(x))return new P(c,c);if(v(x))return T=D(w(x),T),new P(w(T.g),w(T.h));if(v(T))return T=D(x,w(T)),new P(w(T.g),T.h);if(x.g.length>30){if(v(x)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var k=p,M=T;M.l(x)<=0;)k=I(k),M=I(M);var R=O(k,1),$=O(M,1);for(M=O(M,2),k=O(k,2);!b(M);){var L=$.add(M);L.l(x)<=0&&(R=R.add(k),$=L),M=O(M,1),k=O(k,1)}return T=S(x,R.j(T)),new P(R,T)}for(R=c;x.l(T)>=0;){for(k=Math.max(1,Math.floor(x.m()/T.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),$=u(k),L=$.j(T);v(L)||L.l(x)>0;)k-=M,$=u(k),L=$.j(T);b($)&&($=p),R=R.add($),x=S(x,L)}return new P(R,x)}t.B=function(x){return D(this,x).h},t.and=function(x){const T=Math.max(this.g.length,x.g.length),k=[];for(let M=0;M<T;M++)k[M]=this.i(M)&x.i(M);return new a(k,this.h&x.h)},t.or=function(x){const T=Math.max(this.g.length,x.g.length),k=[];for(let M=0;M<T;M++)k[M]=this.i(M)|x.i(M);return new a(k,this.h|x.h)},t.xor=function(x){const T=Math.max(this.g.length,x.g.length),k=[];for(let M=0;M<T;M++)k[M]=this.i(M)^x.i(M);return new a(k,this.h^x.h)};function I(x){const T=x.g.length+1,k=[];for(let M=0;M<T;M++)k[M]=x.i(M)<<1|x.i(M-1)>>>31;return new a(k,x.h)}function O(x,T){const k=T>>5;T%=32;const M=x.g.length-k,R=[];for(let $=0;$<M;$++)R[$]=T>0?x.i($+k)>>>T|x.i($+k+1)<<32-T:x.i($+k);return new a(R,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,ts=a}).apply(typeof GA<"u"?GA:typeof self<"u"?self:typeof window<"u"?window:{});var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QN,Uf,JN,mm,d_,ZN,ej,tj;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Np=="object"&&Np];for(var E=0;E<h.length;++E){var N=h[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(h,E){if(E)e:{var N=r;h=h.split(".");for(var F=0;F<h.length-1;F++){var te=h[F];if(!(te in N))break e;N=N[te]}h=h[h.length-1],F=N[h],E=E(F),E!=F&&E!=null&&e(N,h,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(E){var N=[],F;for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&N.push([F,E[F]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function l(h,E,N){return h.call.apply(h.bind,arguments)}function u(h,E,N){return u=l,u.apply(null,arguments)}function f(h,E){var N=Array.prototype.slice.call(arguments,1);return function(){var F=N.slice();return F.push.apply(F,arguments),h.apply(this,F)}}function c(h,E){function N(){}N.prototype=E.prototype,h.Z=E.prototype,h.prototype=new N,h.prototype.constructor=h,h.Ob=function(F,te,se){for(var Se=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Se[Je-2]=arguments[Je];return E.prototype[te].apply(F,Se)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function y(h){const E=h.length;if(E>0){const N=Array(E);for(let F=0;F<E;F++)N[F]=h[F];return N}return[]}function b(h,E){for(let F=1;F<arguments.length;F++){const te=arguments[F];var N=typeof te;if(N=N!="object"?N:te?Array.isArray(te)?"array":N:"null",N=="array"||N=="object"&&typeof te.length=="number"){N=h.length||0;const se=te.length||0;h.length=N+se;for(let Se=0;Se<se;Se++)h[N+Se]=te[Se]}else h.push(te)}}class v{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(h){a.setTimeout(()=>{throw h},0)}function S(){var h=x;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class A{constructor(){this.h=this.g=null}add(E,N){const F=P.get();F.set(E,N),this.h?this.h.next=F:this.g=F,this.h=F}}var P=new v(()=>new D,h=>h.reset());class D{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let I,O=!1,x=new A,T=()=>{const h=Promise.resolve(void 0);I=()=>{h.then(k)}};function k(){for(var h;h=S();){try{h.h.call(h.g)}catch(N){w(N)}var E=P;E.j(h),E.h<100&&(E.h++,h.next=E.g,E.g=h)}O=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};a.addEventListener("test",N,E),a.removeEventListener("test",N,E)}catch{}return h}();function L(h){return/^[\s\xa0]*$/.test(h)}function re(h,E){R.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,E)}c(re,R),re.prototype.init=function(h,E){const N=this.type=h.type,F=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget,E||(N=="mouseover"?E=h.fromElement:N=="mouseout"&&(E=h.toElement)),this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),ce=0;function pe(h,E,N,F,te){this.listener=h,this.proxy=null,this.src=E,this.type=N,this.capture=!!F,this.ha=te,this.key=++ce,this.da=this.fa=!1}function ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ae(h,E,N){for(const F in h)E.call(N,h[F],F,h)}function ye(h,E){for(const N in h)E.call(void 0,h[N],N,h)}function Te(h){const E={};for(const N in h)E[N]=h[N];return E}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(h,E){let N,F;for(let te=1;te<arguments.length;te++){F=arguments[te];for(N in F)h[N]=F[N];for(let se=0;se<be.length;se++)N=be[se],Object.prototype.hasOwnProperty.call(F,N)&&(h[N]=F[N])}}function Ke(h){this.src=h,this.g={},this.h=0}Ke.prototype.add=function(h,E,N,F,te){const se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);const Se=dt(h,E,F,te);return Se>-1?(E=h[Se],N||(E.fa=!1)):(E=new pe(E,this.src,se,!!F,te),E.fa=N,h.push(E)),E};function ut(h,E){const N=E.type;if(N in h.g){var F=h.g[N],te=Array.prototype.indexOf.call(F,E,void 0),se;(se=te>=0)&&Array.prototype.splice.call(F,te,1),se&&(ne(E),h.g[N].length==0&&(delete h.g[N],h.h--))}}function dt(h,E,N,F){for(let te=0;te<h.length;++te){const se=h[te];if(!se.da&&se.listener==E&&se.capture==!!N&&se.ha==F)return te}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ge={};function oe(h,E,N,F,te){if(Array.isArray(E)){for(let se=0;se<E.length;se++)oe(h,E[se],N,F,te);return null}return N=sr(N),h&&h[ie]?h.J(E,N,s(F)?!!F.capture:!1,te):Ve(h,E,N,!1,F,te)}function Ve(h,E,N,F,te,se){if(!E)throw Error("Invalid event type");const Se=s(te)?!!te.capture:!!te;let Je=Et(h);if(Je||(h[Pe]=Je=new Ke(h)),N=Je.add(E,N,F,Se,se),N.proxy)return N;if(F=Fe(),N.proxy=F,F.src=h,F.listener=N,h.addEventListener)$||(te=Se),te===void 0&&(te=!1),h.addEventListener(E.toString(),F,te);else if(h.attachEvent)h.attachEvent(tt(E.toString()),F);else if(h.addListener&&h.removeListener)h.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Fe(){function h(N){return E.call(h.src,h.listener,N)}const E=gt;return h}function ue(h,E,N,F,te){if(Array.isArray(E))for(var se=0;se<E.length;se++)ue(h,E[se],N,F,te);else F=s(F)?!!F.capture:!!F,N=sr(N),h&&h[ie]?(h=h.i,se=String(E).toString(),se in h.g&&(E=h.g[se],N=dt(E,N,F,te),N>-1&&(ne(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete h.g[se],h.h--)))):h&&(h=Et(h))&&(E=h.g[E.toString()],h=-1,E&&(h=dt(E,N,F,te)),(N=h>-1?E[h]:null)&&ct(N))}function ct(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[ie])ut(E.i,h);else{var N=h.type,F=h.proxy;E.removeEventListener?E.removeEventListener(N,F,h.capture):E.detachEvent?E.detachEvent(tt(N),F):E.addListener&&E.removeListener&&E.removeListener(F),(N=Et(E))?(ut(N,h),N.h==0&&(N.src=null,E[Pe]=null)):ne(h)}}}function tt(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function gt(h,E){if(h.da)h=!0;else{E=new re(E,this);const N=h.listener,F=h.ha||h.src;h.fa&&ct(h),h=N.call(F,E)}return h}function Et(h){return h=h[Pe],h instanceof Ke?h:null}var Jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function sr(h){return typeof h=="function"?h:(h[Jt]||(h[Jt]=function(E){return h.handleEvent(E)}),h[Jt])}function Ot(){M.call(this),this.i=new Ke(this),this.M=this,this.G=null}c(Ot,M),Ot.prototype[ie]=!0,Ot.prototype.removeEventListener=function(h,E,N,F){ue(this,h,E,N,F)};function jt(h,E){var N,F=h.G;if(F)for(N=[];F;F=F.G)N.push(F);if(h=h.M,F=E.type||E,typeof E=="string")E=new R(E,h);else if(E instanceof R)E.target=E.target||h;else{var te=E;E=new R(F,h),Re(E,te)}te=!0;let se,Se;if(N)for(Se=N.length-1;Se>=0;Se--)se=E.g=N[Se],te=Qe(se,F,!0,E)&&te;if(se=E.g=h,te=Qe(se,F,!0,E)&&te,te=Qe(se,F,!1,E)&&te,N)for(Se=0;Se<N.length;Se++)se=E.g=N[Se],te=Qe(se,F,!1,E)&&te}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var h=this.i;for(const E in h.g){const N=h.g[E];for(let F=0;F<N.length;F++)ne(N[F]);delete h.g[E],h.h--}}this.G=null},Ot.prototype.J=function(h,E,N,F){return this.i.add(String(h),E,!1,N,F)},Ot.prototype.K=function(h,E,N,F){return this.i.add(String(h),E,!0,N,F)};function Qe(h,E,N,F){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();let te=!0;for(let se=0;se<E.length;++se){const Se=E[se];if(Se&&!Se.da&&Se.capture==N){const Je=Se.listener,Ht=Se.ha||Se.src;Se.fa&&ut(h.i,Se),te=Je.call(Ht,F)!==!1&&te}}return te&&!F.defaultPrevented}function qt(h,E){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:a.setTimeout(h,E||0)}function Bn(h){h.g=qt(()=>{h.g=null,h.i&&(h.i=!1,Bn(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class To extends M{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(h){M.call(this),this.h=h,this.g={}}c(Un,M);var Hi=[];function Gi(h){ae(h.g,function(E,N){this.g.hasOwnProperty(N)&&ct(E)},h),h.g={}}Un.prototype.N=function(){Un.Z.N.call(this),Gi(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var As=a.JSON.stringify,Ts=a.JSON.parse,of=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ps(){}function Xi(){}var Yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Is(){R.call(this,"d")}c(Is,R);function Yr(){R.call(this,"c")}c(Yr,R);var De={},pa=null;function Qr(){return pa=pa||new Ot}De.Ia="serverreachability";function Os(h){R.call(this,De.Ia,h)}c(Os,R);function Ie(h){const E=Qr();jt(E,new Os(E))}De.STAT_EVENT="statevent";function Fl(h,E){R.call(this,De.STAT_EVENT,h),this.stat=E}c(Fl,R);function Tn(h){const E=Qr();jt(E,new Fl(E,h))}De.Ja="timingevent";function zl(h,E){R.call(this,De.Ja,h),this.size=E}c(zl,R);function ma(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function Po(){this.g=!0}Po.prototype.ua=function(){this.g=!1};function Uv(h,E,N,F,te,se){h.info(function(){if(h.g)if(se){var Se="",Je=se.split("&");for(let vt=0;vt<Je.length;vt++){var Ht=Je[vt].split("=");if(Ht.length>1){const ln=Ht[0];Ht=Ht[1];const xr=ln.split("_");Se=xr.length>=2&&xr[1]=="type"?Se+(ln+"="+Ht+"&"):Se+(ln+"=redacted&")}}}else Se=null;else Se=se;return"XMLHTTP REQ ("+F+") [attempt "+te+"]: "+E+`
`+N+`
`+Se})}function qv(h,E,N,F,te,se,Se){h.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+te+"]: "+E+`
`+N+`
`+se+" "+Se})}function jr(h,E,N,F){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+af(h,N)+(F?" "+F:"")})}function ga(h,E){h.info(function(){return"TIMEOUT: "+E})}Po.prototype.info=function(){};function af(h,E){if(!h.g)return E;if(!E)return null;try{const se=JSON.parse(E);if(se){for(h=0;h<se.length;h++)if(Array.isArray(se[h])){var N=se[h];if(!(N.length<2)){var F=N[1];if(Array.isArray(F)&&!(F.length<1)){var te=F[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Se=1;Se<F.length;Se++)F[Se]=""}}}}return As(se)}catch{return E}}var Io={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ct={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nn;function sf(){}c(sf,Ps),sf.prototype.g=function(){return new XMLHttpRequest},nn=new sf;function Qi(h){return encodeURIComponent(String(h))}function Bl(h){var E=1;h=h.split(":");const N=[];for(;E>0&&h.length;)N.push(h.shift()),E--;return h.length&&N.push(h.join(":")),N}function Rr(h,E,N,F){this.j=h,this.i=E,this.l=N,this.S=F||1,this.V=new Un(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jd}function Jd(){this.i=null,this.g="",this.h=!1}var _i={},Ji={};function Jr(h,E,N){h.M=1,h.A=eo(Mr(E)),h.u=N,h.R=!0,Cs(h,null)}function Cs(h,E){h.F=Date.now(),Zr(h),h.B=Mr(h.A);var N=h.B,F=h.S;Array.isArray(F)||(F=[String(F)]),ip(N.i,"t",F),h.C=0,N=h.j.L,h.h=new Jd,h.g=Ea(h.j,N?E:null,!h.u),h.P>0&&(h.O=new To(u(h.Y,h,h.g),h.P)),E=h.V,N=h.g,F=h.ba;var te="readystatechange";Array.isArray(te)||(te&&(Hi[0]=te.toString()),te=Hi);for(let se=0;se<te.length;se++){const Se=oe(N,te[se],F||E.handleEvent,!1,E.h||E);if(!Se)break;E.g[Se.key]=Se}E=h.J?Te(h.J):{},h.u?(h.v||(h.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,E)):(h.v="GET",h.g.ea(h.B,h.v,null,E)),Ie(),Uv(h.i,h.v,h.B,h.l,h.S,h.u)}Rr.prototype.ba=function(h){h=h.target;const E=this.O;E&&_r(h)==3?E.j():this.Y(h)},Rr.prototype.Y=function(h){try{if(h==this.g)e:{const Je=_r(this.g),Ht=this.g.ya(),vt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||lp(this.g)))){this.K||Je!=4||Ht==7||(Ht==8||vt<=0?Ie(3):Ie(2)),ks(this);var E=this.g.ca();this.X=E;var N=Kv(this);if(this.o=E==200,qv(this.i,this.v,this.B,this.l,this.S,Je,E),this.o){if(this.U&&!this.L){t:{if(this.g){var F,te=this.g;if((F=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(F)){var se=F;break t}}se=null}if(h=se)jr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dr(this,h);else{this.o=!1,this.m=3,Tn(12),lr(this),kt(this);break e}}if(this.R){h=!0;let ln;for(;!this.K&&this.C<N.length;)if(ln=Zd(this,N),ln==Ji){Je==4&&(this.m=4,Tn(14),h=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==_i){this.m=4,Tn(15),jr(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else jr(this.i,this.l,ln,null),Dr(this,ln);if(xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||N.length!=0||this.h.h||(this.m=1,Tn(16),h=!1),this.o=this.o&&h,!h)jr(this.i,this.l,N,"[Invalid Chunked Response]"),lr(this),kt(this);else if(N.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Ql(Se),Se.P=!0,Tn(11))}}else jr(this.i,this.l,N,null),Dr(this,N);Je==4&&lr(this),this.o&&!this.K&&(Je==4?Jl(this.j,this):(this.o=!1,Zr(this)))}else Wv(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Tn(12)):(this.m=0,Tn(13)),lr(this),kt(this)}}}catch{}finally{}};function Kv(h){if(!xi(h))return h.g.la();const E=lp(h.g);if(E==="")return"";let N="";const F=E.length,te=_r(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return lr(h),kt(h),"";h.h.i=new a.TextDecoder}for(let se=0;se<F;se++)h.h.h=!0,N+=h.h.i.decode(E[se],{stream:!(te&&se==F-1)});return E.length=0,h.h.g+=N,h.C=0,h.h.g}function xi(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zd(h,E){var N=h.C,F=E.indexOf(`
`,N);return F==-1?Ji:(N=Number(E.substring(N,F)),isNaN(N)?_i:(F+=1,F+N>E.length?Ji:(E=E.slice(F,F+N),h.C=F+N,E)))}Rr.prototype.cancel=function(){this.K=!0,lr(this)};function Zr(h){h.T=Date.now()+h.H,lf(h,h.H)}function lf(h,E){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ma(u(h.aa,h),E)}function ks(h){h.D&&(a.clearTimeout(h.D),h.D=null)}Rr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ga(this.i,this.B),this.M!=2&&(Ie(),Tn(17)),lr(this),this.m=2,kt(this)):lf(this,this.T-h)};function kt(h){h.j.I==0||h.K||Jl(h.j,h)}function lr(h){ks(h);var E=h.O;E&&typeof E.dispose=="function"&&E.dispose(),h.O=null,Gi(h.V),h.g&&(E=h.g,h.g=null,E.abort(),E.dispose())}function Dr(h,E){try{var N=h.j;if(N.I!=0&&(N.g==h||js(N.h,h))){if(!h.L&&js(N.h,h)&&N.I==3){try{var F=N.Ba.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var te=F;if(te[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<h.F)Ai(N),Gl(N);else break e;wa(N),Tn(18)}}else N.xa=te[1],0<N.xa-N.K&&te[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=ma(u(N.Va,N),6e3));Ul(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ti(N,11)}else if((h.L||N.g==h)&&Ai(N),!L(E))for(te=N.Ba.g.parse(E),E=0;E<te.length;E++){let vt=te[E];const ln=vt[0];if(!(ln<=N.K))if(N.K=ln,vt=vt[1],N.I==2)if(vt[0]=="c"){N.M=vt[1],N.ba=vt[2];const xr=vt[3];xr!=null&&(N.ka=xr,N.j.info("VER="+N.ka));const Ii=vt[4];Ii!=null&&(N.za=Ii,N.j.info("SVER="+N.za));const io=vt[5];io!=null&&typeof io=="number"&&io>0&&(F=1.5*io,N.O=F,N.j.info("backChannelRequestTimeoutMs_="+F)),F=N;const Oi=h.g;if(Oi){const tu=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var se=F.h;se.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(wi(se,se.h),se.h=null))}if(F.G){const nu=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;nu&&(F.wa=nu,_t(F.J,F.G,nu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-h.F,N.j.info("Handshake RTT: "+N.T+"ms")),F=N;var Se=h;if(F.na=vn(F,F.L?F.ba:null,F.W),Se.L){uf(F.h,Se);var Je=Se,Ht=F.O;Ht&&(Je.H=Ht),Je.D&&(ks(Je),Zr(Je)),F.g=Se}else Fs(F);N.i.length>0&&Xl(N)}else vt[0]!="stop"&&vt[0]!="close"||Ti(N,7);else N.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ti(N,7):Ls(N):vt[0]!="noop"&&N.l&&N.l.qa(vt),N.A=0)}}Ie(4)}catch{}}var ep=class{constructor(h,E){this.g=h,this.map=E}};function Oo(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ns(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ul(h){return h.h?1:h.g?h.g.size:0}function js(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function wi(h,E){h.g?h.g.add(E):h.h=E}function uf(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}Oo.prototype.cancel=function(){if(this.i=Rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rs(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const N of h.g.values())E=E.concat(N.G);return E}return y(h.i)}var cf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(h,E){if(h){h=h.split("&");for(let N=0;N<h.length;N++){const F=h[N].indexOf("=");let te,se=null;F>=0?(te=h[N].substring(0,F),se=h[N].substring(F+1)):te=h[N],E(te,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Ei(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;h instanceof Ei?(this.l=h.l,Zi(this,h.j),this.o=h.o,this.g=h.g,ya(this,h.u),this.h=h.h,St(this,qn(h.i)),this.m=h.m):h&&(E=String(h).match(cf))?(this.l=!1,Zi(this,E[1]||"",!0),this.o=ei(E[2]||""),this.g=ei(E[3]||"",!0),ya(this,E[4]),this.h=ei(E[5]||"",!0),St(this,E[6]||"",!0),this.m=ei(E[7]||"")):(this.l=!1,this.i=new va(null,this.l))}Ei.prototype.toString=function(){const h=[];var E=this.j;E&&h.push(Co(E,Ds,!0),":");var N=this.g;return(N||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Co(E,Ds,!0),"@"),h.push(Qi(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&h.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Co(N,N.charAt(0)=="/"?ql:tp,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Co(N,Ms)),h.join("")},Ei.prototype.resolve=function(h){const E=Mr(this);let N=!!h.j;N?Zi(E,h.j):N=!!h.o,N?E.o=h.o:N=!!h.g,N?E.g=h.g:N=h.u!=null;var F=h.h;if(N)ya(E,h.u);else if(N=!!h.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var te=E.h.lastIndexOf("/");te!=-1&&(F=E.h.slice(0,te+1)+F)}if(te=F,te==".."||te==".")F="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){F=te.lastIndexOf("/",0)==0,te=te.split("/");const se=[];for(let Se=0;Se<te.length;){const Je=te[Se++];Je=="."?F&&Se==te.length&&se.push(""):Je==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),F&&Se==te.length&&se.push("")):(se.push(Je),F=!0)}F=se.join("/")}else F=te}return N?E.h=F:N=h.i.toString()!=="",N?St(E,qn(h.i)):N=!!h.m,N&&(E.m=h.m),E};function Mr(h){return new Ei(h)}function Zi(h,E,N){h.j=N?ei(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function ya(h,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);h.u=E}else h.u=null}function St(h,E,N){E instanceof va?(h.i=E,Kl(h.i,h.l)):(N||(E=Co(E,np)),h.i=new va(E,h.l))}function _t(h,E,N){h.i.set(E,N)}function eo(h){return _t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ei(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Co(h,E,N){return typeof h=="string"?(h=encodeURI(h).replace(E,ff),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ff(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ds=/[#\/\?@]/g,tp=/[#\?:]/g,ql=/[#\?]/g,np=/[#\?@]/g,Ms=/#/g;function va(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function ko(h){h.g||(h.g=new Map,h.h=0,h.i&&it(h.i,function(E,N){h.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=va.prototype,t.add=function(h,E){ko(this),this.i=null,h=$r(this,h);let N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(E),this.h+=1,this};function ft(h,E){ko(h),E=$r(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function hf(h,E){return ko(h),E=$r(h,E),h.g.has(E)}t.forEach=function(h,E){ko(this),this.g.forEach(function(N,F){N.forEach(function(te){h.call(E,te,F,this)},this)},this)};function rp(h,E){ko(h);let N=[];if(typeof E=="string")hf(h,E)&&(N=N.concat(h.g.get($r(h,E))));else for(h=Array.from(h.g.values()),E=0;E<h.length;E++)N=N.concat(h[E]);return N}t.set=function(h,E){return ko(this),this.i=null,h=$r(this,h),hf(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=rp(this,h),h.length>0?String(h[0]):E):E};function ip(h,E,N){ft(h,E),N.length>0&&(h.i=null,h.g.set($r(h,E),y(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(let F=0;F<E.length;F++){var N=E[F];const te=Qi(N);N=rp(this,N);for(let se=0;se<N.length;se++){let Se=te;N[se]!==""&&(Se+="="+Qi(N[se])),h.push(Se)}}return this.i=h.join("&")};function qn(h){const E=new va;return E.i=h.i,h.g&&(E.g=new Map(h.g),E.h=h.h),E}function $r(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function Kl(h,E){E&&!h.j&&(ko(h),h.i=null,h.g.forEach(function(N,F){const te=F.toLowerCase();F!=te&&(ft(this,F),ip(this,te,N))},h)),h.j=E}function to(h,E){const N=new Po;if(a.Image){const F=new Image;F.onload=f(Si,N,"TestLoadImage: loaded",!0,E,F),F.onerror=f(Si,N,"TestLoadImage: error",!1,E,F),F.onabort=f(Si,N,"TestLoadImage: abort",!1,E,F),F.ontimeout=f(Si,N,"TestLoadImage: timeout",!1,E,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=h}else E(!1)}function op(h,E){const N=new Po,F=new AbortController,te=setTimeout(()=>{F.abort(),Si(N,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:F.signal}).then(se=>{clearTimeout(te),se.ok?Si(N,"TestPingServer: ok",!0,E):Si(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(te),Si(N,"TestPingServer: error",!1,E)})}function Si(h,E,N,F,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),F(N)}catch{}}function sn(){this.g=new of}function yr(h){this.i=h.Sb||null,this.h=h.ab||!1}c(yr,Ps),yr.prototype.g=function(){return new no(this.i,this.h)};function no(h,E){Ot.call(this),this.H=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}c(no,Ot),t=no.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=E,this.readyState=1,vr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(E.body=h),(this.H||a).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?No(this):vr(this),this.readyState==3&&ba(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,No(this))},t.Na=function(h){this.g&&(this.response=h,No(this))},t.ga=function(){this.g&&No(this)};function No(h){h.readyState=4,h.l=null,h.j=null,h.B=null,vr(h)}t.setRequestHeader=function(h,E){this.A.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=E.next();return h.join(`\r
`)};function vr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ap(h){let E="";return ae(h,function(N,F){E+=F,E+=":",E+=N,E+=`\r
`}),E}function br(h,E,N){e:{for(F in N){var F=!1;break e}F=!0}F||(N=ap(N),typeof h=="string"?N!=null&&Qi(N):_t(h,E,N))}function Rt(h){Ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}c(Rt,Ot);var sp=/^https?$/i,df=["POST","PUT"];t=Rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,E,N,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(se){_a(this,se);return}if(h=N||"",N=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var te in F)N.set(te,F[te]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const se of F.keys())N.set(se,F.get(se));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(N.keys()).find(se=>se.toLowerCase()=="content-type"),te=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(df,E,void 0)>=0)||F||te||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Se]of N)this.g.setRequestHeader(se,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(se){_a(this,se)}};function _a(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.o=5,Wl(h),Hl(h)}function Wl(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),Hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hl(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pf(this):this.Xa())},t.Xa=function(){pf(this)};function pf(h){if(h.h&&typeof o<"u"){if(h.v&&_r(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),_r(h)==4){h.h=!1;try{const se=h.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var F;if(F=se===0){let Se=String(h.D).match(cf)[1]||null;!Se&&a.self&&a.self.location&&(Se=a.self.location.protocol.slice(0,-1)),F=!sp.test(Se?Se.toLowerCase():"")}N=F}if(N)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var te=_r(h)>2?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.ca()+"]",Wl(h)}}finally{Hl(h)}}}}function Hl(h,E){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const N=h.g;h.g=null,E||jt(h,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _r(h){return h.g?h.g.readyState:0}t.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Ts(E)}};function lp(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wv(h){const E={};h=(h.g&&_r(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<h.length;F++){if(L(h[F]))continue;var N=Bl(h[F]);const te=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const se=E[te]||[];E[te]=se,se.push(N)}ye(E,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(h,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||E}function $s(h){this.za=0,this.i=[],this.j=new Po,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ro("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ro("baseRetryDelayMs",5e3,h),this.Za=ro("retryDelaySeedMs",1e4,h),this.Ta=ro("forwardChannelMaxRetries",2,h),this.va=ro("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(h&&h.concurrentRequestLimit),this.Ba=new sn,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$s.prototype,t.ka=8,t.I=1,t.connect=function(h,E,N,F){Tn(0),this.W=h,this.H=E||{},N&&F!==void 0&&(this.H.OSID=N,this.H.OAID=F),this.F=this.X,this.J=vn(this,null,this.W),Xl(this)};function Ls(h){if(up(h),h.I==3){var E=h.V++,N=Mr(h.J);if(_t(N,"SID",h.M),_t(N,"RID",E),_t(N,"TYPE","terminate"),xa(h,N),E=new Rr(h,h.j,E),E.M=2,E.A=eo(Mr(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&a.Image&&(new Image().src=E.A,N=!0),N||(E.g=Ea(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Zr(E)}eu(h)}function Gl(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function up(h){Gl(h),h.v&&(a.clearTimeout(h.v),h.v=null),Ai(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function Xl(h){if(!Ns(h.h)&&!h.m){h.m=!0;var E=h.Ea;I||T(),O||(I(),O=!0),x.add(E,h),h.D=0}}function mf(h,E){return Ul(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=E.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ma(u(h.Ea,h,E),Zl(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const te=new Rr(this,this.j,h);let se=this.o;if(this.U&&(se?(se=Te(se),Re(se,this.U)):se=this.U),this.u!==null||this.R||(te.J=se,se=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var F=this.i[N];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=Vs(this,te,E),N=Mr(this.J),_t(N,"RID",h),_t(N,"CVER",22),this.G&&_t(N,"X-HTTP-Session-Id",this.G),xa(this,N),se&&(this.R?E="headers="+Qi(ap(se))+"&"+E:this.u&&br(N,this.u,se)),wi(this.h,te),this.Ra&&_t(N,"TYPE","init"),this.S?(_t(N,"$req",E),_t(N,"SID","null"),te.U=!0,Jr(te,N,null)):Jr(te,N,E),this.I=2}}else this.I==3&&(h?Yl(this,h):this.i.length==0||Ns(this.h)||Yl(this))};function Yl(h,E){var N;E?N=E.l:N=h.V++;const F=Mr(h.J);_t(F,"SID",h.M),_t(F,"RID",N),_t(F,"AID",h.K),xa(h,F),h.u&&h.o&&br(F,h.u,h.o),N=new Rr(h,h.j,N,h.D+1),h.u===null&&(N.J=h.o),E&&(h.i=E.G.concat(h.i)),E=Vs(h,N,1e3),N.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wi(h.h,N),Jr(N,F,E)}function xa(h,E){h.H&&ae(h.H,function(N,F){_t(E,F,N)}),h.l&&ae({},function(N,F){_t(E,F,N)})}function Vs(h,E,N){N=Math.min(h.i.length,N);const F=h.l?u(h.l.Ka,h.l,h):null;e:{var te=h.i;let Je=-1;for(;;){const Ht=["count="+N];Je==-1?N>0?(Je=te[0].g,Ht.push("ofs="+Je)):Je=0:Ht.push("ofs="+Je);let vt=!0;for(let ln=0;ln<N;ln++){var se=te[ln].g;const xr=te[ln].map;if(se-=Je,se<0)Je=Math.max(0,te[ln].g-100),vt=!1;else try{se="req"+se+"_"||"";try{var Se=xr instanceof Map?xr:Object.entries(xr);for(const[Ii,io]of Se){let Oi=io;s(io)&&(Oi=As(io)),Ht.push(se+Ii+"="+encodeURIComponent(Oi))}}catch(Ii){throw Ht.push(se+"type="+encodeURIComponent("_badmap")),Ii}}catch{F&&F(xr)}}if(vt){Se=Ht.join("&");break e}}Se=void 0}return h=h.i.splice(0,N),E.G=h,Se}function Fs(h){if(!h.g&&!h.v){h.Y=1;var E=h.Da;I||T(),O||(I(),O=!0),x.add(E,h),h.A=0}}function wa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ma(u(h.Da,h),Zl(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,cp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ma(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tn(10),Gl(this),cp(this))};function Ql(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function cp(h){h.g=new Rr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var E=Mr(h.na);_t(E,"RID","rpc"),_t(E,"SID",h.M),_t(E,"AID",h.K),_t(E,"CI",h.F?"0":"1"),!h.F&&h.ia&&_t(E,"TO",h.ia),_t(E,"TYPE","xmlhttp"),xa(h,E),h.u&&h.o&&br(E,h.u,h.o),h.O&&(h.g.H=h.O);var N=h.g;h=h.ba,N.M=1,N.A=eo(Mr(E)),N.u=null,N.R=!0,Cs(N,h)}t.Va=function(){this.C!=null&&(this.C=null,Gl(this),wa(this),Tn(19))};function Ai(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Jl(h,E){var N=null;if(h.g==E){Ai(h),Ql(h),h.g=null;var F=2}else if(js(h.h,E))N=E.G,uf(h.h,E),F=1;else return;if(h.I!=0){if(E.o)if(F==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var te=h.D;F=Qr(),jt(F,new zl(F,N)),Xl(h)}else Fs(h);else if(te=E.m,te==3||te==0&&E.X>0||!(F==1&&mf(h,E)||F==2&&wa(h)))switch(N&&N.length>0&&(E=h.h,E.i=E.i.concat(N)),te){case 1:Ti(h,5);break;case 4:Ti(h,10);break;case 3:Ti(h,6);break;default:Ti(h,2)}}}function Zl(h,E){let N=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(N*=2),N*E}function Ti(h,E){if(h.j.info("Error code "+E),E==2){var N=u(h.bb,h),F=h.Ua;const te=!F;F=new Ei(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zi(F,"https"),eo(F),te?to(F.toString(),N):op(F.toString(),N)}else Tn(2);h.I=0,h.l&&h.l.pa(E),eu(h),up(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function eu(h){if(h.I=0,h.ja=[],h.l){const E=Rs(h.h);(E.length!=0||h.i.length!=0)&&(b(h.ja,E),b(h.ja,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.oa()}}function vn(h,E,N){var F=N instanceof Ei?Mr(N):new Ei(N);if(F.g!="")E&&(F.g=E+"."+F.g),ya(F,F.u);else{var te=a.location;F=te.protocol,E=E?E+"."+te.hostname:te.hostname,te=+te.port;const se=new Ei(null);F&&Zi(se,F),E&&(se.g=E),te&&ya(se,te),N&&(se.h=N),F=se}return N=h.G,E=h.wa,N&&E&&_t(F,N,E),_t(F,"VER",h.ka),xa(h,F),F}function Ea(h,E,N){if(E&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Aa&&!h.ma?new Rt(new yr({ab:N})):new Rt(h.ma),E.Fa(h.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}t=Sa.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zs(){}zs.prototype.g=function(h,E){return new Pn(h,E)};function Pn(h,E){Ot.call(this),this.g=new $s(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(h?h["X-WebChannel-Client-Profile"]=E.sa:h={"X-WebChannel-Client-Profile":E.sa}),this.g.U=h,(h=E&&E.Qb)&&!L(h)&&(this.g.u=h),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.G=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Pi(this)}c(Pn,Ot),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Ls(this.g)},Pn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.v&&(N={},N.__data__=As(h),h=N);E.i.push(new ep(E.Ya++,h)),E.I==3&&Xl(E)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Ls(this.g),delete this.g,Pn.Z.N.call(this)};function gf(h){Is.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const N in E){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}c(gf,Is);function yf(){Yr.call(this),this.status=1}c(yf,Yr);function Pi(h){this.g=h}c(Pi,Sa),Pi.prototype.ra=function(){jt(this.g,"a")},Pi.prototype.qa=function(h){jt(this.g,new gf(h))},Pi.prototype.pa=function(h){jt(this.g,new yf)},Pi.prototype.oa=function(){jt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,tj=function(){return new zs},ej=function(){return Qr()},ZN=De,d_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,mm=Io,Ct.COMPLETE="complete",JN=Ct,Xi.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Uf=Xi,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,QN=Rt}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});const XA="@firebase/firestore",YA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Zw("@firebase/firestore");function uu(){return wl.logLevel}function je(t,...e){if(wl.logLevel<=at.DEBUG){const n=e.map(c1);wl.debug(`Firestore (${$c}): ${t}`,...n)}}function ia(t,...e){if(wl.logLevel<=at.ERROR){const n=e.map(c1);wl.error(`Firestore (${$c}): ${t}`,...n)}}function ec(t,...e){if(wl.logLevel<=at.WARN){const n=e.map(c1);wl.warn(`Firestore (${$c}): ${t}`,...n)}}function c1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nj(t,r,n)}function nj(t,e,n){let r=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ia(r),new Error(r)}function wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nj(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class Y6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q6{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ll;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ll,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ll)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new rj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class J6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new J6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ez{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,je("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function p_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return C0(i)===C0(o)?st(i,o):C0(i)?1:-1}return st(t.length,e.length)}const nz=55296,rz=57343;function C0(t){const e=t.charCodeAt(0);return e>=nz&&e<=rz}function tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__name__";class so{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return so.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof so?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=so.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return st(e.length,n.length)}static compareSegments(e,n){const r=so.isNumericId(e),i=so.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?so.extractNumericId(e).compare(so.extractNumericId(n)):p_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class Mt extends so{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const iz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends so{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return iz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JA}static keyField(){return new $n([JA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Mt.fromString(e))}static fromName(e){return new Le(Mt.fromString(e).popFirst(5))}static empty(){return new Le(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e,n){if(!n)throw new Ne(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oz(t,e,n,r){if(e===!0&&r===!0)throw new Ne(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZA(t){if(!Le.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eT(t){if(Le.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function My(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Go(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=My(t);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rd(t,e){if(!oj(t))throw new Ne(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ne(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=-62135596800,nT=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nT);return new Bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tT)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nT}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rd(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:pn("string",Bt._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Bt(0,0))}static max(){return new He(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=-1;function az(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new as(i,Le.empty(),e)}function sz(t){return new as(t.readTime,t.key,Dh)}class as{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new as(He.min(),Le.empty(),Dh)}static max(){return new as(He.max(),Le.empty(),Dh)}}function lz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==uz)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{a[u]=f,++s,s===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new ge((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function fz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$y.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=-1;function Ly(t){return t==null}function eg(t){return t===0&&1/t==-1/0}function hz(t){return typeof t=="number"&&Number.isInteger(t)&&!eg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="";function dz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rT(e)),e=pz(t.get(n),e);return rT(e)}function pz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case aj:n+="";break;default:n+=o}}return n}function rT(t){return t+aj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jp(this.root,e,this.comparator,!0)}}class jp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new qr([])}unionWith(e){let n=new Sn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lj("Invalid base64 string: "+o):o}}(e);return new zn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const mz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=mz.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="server_timestamp",cj="__type__",fj="__previous_value__",hj="__local_write_time__";function d1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cj])==null?void 0:r.stringValue)===uj}function Vy(t){const e=t.mapValue.fields[fj];return d1(e)?Vy(e):e}function Mh(t){const e=ss(t.mapValue.fields[hj].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n,r,i,o,a,s,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const tg="(default)";class $h{constructor(e,n){this.projectId=e,this.database=n||tg}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database===tg}isEqual(e){return e instanceof $h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="__type__",yz="__max__",Rp={mapValue:{}},pj="__vector__",ng="value";function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d1(t)?4:bz(t)?9007199254740991:vz(t)?10:11:Ue(28295,{value:t})}function wo(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mh(t).isEqual(Mh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=ss(i.timestampValue),s=ss(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ls(i.bytesValue).isEqual(ls(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return on(i.geoPointValue.latitude)===on(o.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return on(i.integerValue)===on(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=on(i.doubleValue),s=on(o.doubleValue);return a===s?eg(a)===eg(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(iT(a)!==iT(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!wo(a[l],s[l])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Lh(t,e){return(t.values||[]).find(n=>wo(n,e))!==void 0}function nc(t,e){if(t===e)return 0;const n=us(t),r=us(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=on(o.integerValue||o.doubleValue),l=on(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(Mh(t),Mh(e));case 5:return p_(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ls(o),l=ls(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=st(s[u],l[u]);if(f!==0)return f}return st(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=st(on(o.latitude),on(a.latitude));return s!==0?s:st(on(o.longitude),on(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sT(t.arrayValue,e.arrayValue);case 10:return function(o,a){var p,y,b,v;const s=o.fields||{},l=a.fields||{},u=(p=s[ng])==null?void 0:p.arrayValue,f=(y=l[ng])==null?void 0:y.arrayValue,c=st(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((v=f==null?void 0:f.values)==null?void 0:v.length)||0);return c!==0?c:sT(u,f)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Rp.mapValue&&a===Rp.mapValue)return 0;if(o===Rp.mapValue)return 1;if(a===Rp.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let c=0;c<l.length&&c<f.length;++c){const p=p_(l[c],f[c]);if(p!==0)return p;const y=nc(s[l[c]],u[f[c]]);if(y!==0)return y}return st(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=ss(t),r=ss(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function sT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=nc(n[i],r[i]);if(o)return o}return st(n.length,r.length)}function rc(t){return m_(t)}function m_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=m_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${m_(n.fields[a])}`;return i+"}"}(t.mapValue):Ue(61005,{value:t})}function gm(t){switch(us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vy(t);return e?16+gm(e):16;case 5:return 2*t.stringValue.length;case 6:return ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+gm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ys(r.fields,(o,a)=>{i+=o.length+gm(a)}),i}(t.mapValue);default:throw Ue(13486,{value:t})}}function lT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function g_(t){return!!t&&"integerValue"in t}function p1(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function cT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ym(t){return!!t&&"mapValue"in t}function vz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dj])==null?void 0:r.stringValue)===pj}function ah(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ah(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ah(t.arrayValue.values[n]);return e}return{...t}}function bz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(n)}setAll(e){let n=$n.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=ah(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ar(ah(this.value))}}function mj(t){const e=[];return ys(t.fields,(n,r)=>{const i=new $n([n]);if(ym(r)){const o=mj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Zn(e,0,He.min(),He.min(),He.min(),Ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Zn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Zn(e,2,n,He.min(),He.min(),Ar.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,He.min(),He.min(),Ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.position=e,this.inclusive=n}}function fT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(a.referenceValue),n.key):r=nc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n="asc"){this.field=e,this.dir=n}}function _z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{}class dn extends gj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wz(e,n,r):n==="array-contains"?new Az(e,r):n==="in"?new Tz(e,r):n==="not-in"?new Pz(e,r):n==="array-contains-any"?new Iz(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ez(e,r):new Sz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nc(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends gj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ki(e,n)}matches(e){return yj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yj(t){return t.op==="and"}function vj(t){return xz(t)&&yj(t)}function xz(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function y_(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(vj(t))return t.filters.map(e=>y_(e)).join(",");{const e=t.filters.map(n=>y_(n)).join(",");return`${t.op}(${e})`}}function bj(t,e){return t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&wo(r.value,i.value)}(t,e):t instanceof Ki?function(r,i){return i instanceof Ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&bj(a,i.filters[s]),!0):!1}(t,e):void Ue(19439)}function _j(t){return t instanceof dn?function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`}(t):t instanceof Ki?function(n){return n.op.toString()+" {"+n.getFilters().map(_j).join(" ,")+"}"}(t):"Filter"}class wz extends dn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ez extends dn{constructor(e,n){super(e,"in",n),this.keys=xj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sz extends dn{constructor(e,n){super(e,"not-in",n),this.keys=xj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class Az extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return p1(n)&&Lh(n.arrayValue,this.value)}}class Tz extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class Pz extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class Iz extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!p1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function dT(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Oz(t,e,n,r,i,o,a)}function m1(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ly(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),e.Te=n}return e.Te}function g1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hT(t.startAt,e.startAt)&&hT(t.endAt,e.endAt)}function v_(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cz(t,e,n,r,i,o,a,s){return new Dd(t,e,n,r,i,o,a,s)}function y1(t){return new Dd(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wj(t){return t.collectionGroup!==null}function sh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Sn($n.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ig(o,r))}),n.has($n.keyField().canonicalString())||e.Ie.push(new ig($n.keyField(),r))}return e.Ie}function go(t){const e=Ye(t);return e.Ee||(e.Ee=kz(e,sh(t))),e.Ee}function kz(t,e){if(t.limitType==="F")return dT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ig(i.field,o)});const n=t.endAt?new rg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rg(t.startAt.position,t.startAt.inclusive):null;return dT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b_(t,e){const n=t.filters.concat([e]);return new Dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function __(t,e,n){return new Dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fy(t,e){return g1(go(t),go(e))&&t.limitType===e.limitType}function Ej(t){return`${m1(go(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_j(i)).join(", ")}]`),Ly(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rc(i)).join(",")),`Target(${r})`}(go(t))}; limitType=${t.limitType})`}function zy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of sh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=fT(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,sh(r),i)||r.endAt&&!function(a,s,l){const u=fT(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,sh(r),i))}(t,e)}function Nz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sj(t){return(e,n)=>{let r=!1;for(const i of sh(t)){const o=jz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jz(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?nc(l,u):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=new Qt(Le.comparator);function oa(){return Rz}const Aj=new Qt(Le.comparator);function qf(...t){let e=Aj;for(const n of t)e=e.insert(n.key,n);return e}function Tj(t){let e=Aj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return lh()}function Pj(){return lh()}function lh(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Dz=new Qt(Le.comparator),Mz=new Sn(Le.comparator);function lt(...t){let e=Mz;for(const n of t)e=e.add(n);return e}const $z=new Sn(st);function Lz(){return $z}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(e)?"-0":e}}function Ij(t){return{integerValue:""+t}}function Vz(t,e){return hz(e)?Ij(e):v1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this._=void 0}}function Fz(t,e,n){return t instanceof og?function(i,o){const a={fields:{[cj]:{stringValue:uj},[hj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&d1(o)&&(o=Vy(o)),o&&(a.fields[fj]=o),{mapValue:a}}(n,e):t instanceof Vh?Cj(t,e):t instanceof Fh?kj(t,e):function(i,o){const a=Oj(i,o),s=mT(a)+mT(i.Ae);return g_(a)&&g_(i.Ae)?Ij(s):v1(i.serializer,s)}(t,e)}function zz(t,e,n){return t instanceof Vh?Cj(t,e):t instanceof Fh?kj(t,e):n}function Oj(t,e){return t instanceof ag?function(r){return g_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class og extends By{}class Vh extends By{constructor(e){super(),this.elements=e}}function Cj(t,e){const n=Nj(e);for(const r of t.elements)n.some(i=>wo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fh extends By{constructor(e){super(),this.elements=e}}function kj(t,e){let n=Nj(e);for(const r of t.elements)n=n.filter(i=>!wo(i,r));return{arrayValue:{values:n}}}class ag extends By{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mT(t){return on(t.integerValue||t.doubleValue)}function Nj(t){return p1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Bz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vh&&i instanceof Vh||r instanceof Fh&&i instanceof Fh?tc(r.elements,i.elements,wo):r instanceof ag&&i instanceof ag?wo(r.Ae,i.Ae):r instanceof og&&i instanceof og}(t.transform,e.transform)}class Uz{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uy{}function jj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qy(t.key,kr.none()):new Md(t.key,t.data,kr.none());{const n=t.data,r=Ar.empty();let i=new Sn($n.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new vs(t.key,r,new qr(i.toArray()),kr.none())}}function qz(t,e,n){t instanceof Md?function(i,o,a){const s=i.value.clone(),l=yT(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof vs?function(i,o,a){if(!vm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=yT(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(Rj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function uh(t,e,n,r){return t instanceof Md?function(o,a,s,l){if(!vm(o.precondition,a))return s;const u=o.value.clone(),f=vT(o.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vs?function(o,a,s,l){if(!vm(o.precondition,a))return s;const u=vT(o.fieldTransforms,l,a),f=a.data;return f.setAll(Rj(o)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,a,s){return vm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function Kz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Oj(r.transform,i||null);o!=null&&(n===null&&(n=Ar.empty()),n.set(r.field,o))}return n||null}function gT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(o,a)=>Bz(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Md extends Uy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends Uy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Rj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yT(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,zz(a,s,n[i]))}return r}function vT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Fz(o,a,e))}return r}class qy extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wz extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Pj();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=jj(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>gT(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>gT(n,r))}}class b1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Dz}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new b1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,mt;function Yz(t){switch(t){case me.OK:return Ue(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function Dj(t){if(t===void 0)return ia("GRPC error has no .code"),me.UNKNOWN;switch(t){case un.OK:return me.OK;case un.CANCELLED:return me.CANCELLED;case un.UNKNOWN:return me.UNKNOWN;case un.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case un.INTERNAL:return me.INTERNAL;case un.UNAVAILABLE:return me.UNAVAILABLE;case un.UNAUTHENTICATED:return me.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case un.NOT_FOUND:return me.NOT_FOUND;case un.ALREADY_EXISTS:return me.ALREADY_EXISTS;case un.PERMISSION_DENIED:return me.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case un.ABORTED:return me.ABORTED;case un.OUT_OF_RANGE:return me.OUT_OF_RANGE;case un.UNIMPLEMENTED:return me.UNIMPLEMENTED;case un.DATA_LOSS:return me.DATA_LOSS;default:return Ue(39323,{code:t})}}(mt=un||(un={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=new ts([4294967295,4294967295],0);function bT(t){const e=Qz().encode(t),n=new YN;return n.update(e),new Uint8Array(n.digest())}function _T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ts([n,r],0),new ts([i,o],0)]}class _1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kf(`Invalid padding: ${n}`);if(r<0)throw new Kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ts.fromNumber(r)));return i.compare(Jz)===1&&(i=new ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bT(e),[r,i]=_T(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new _1(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=bT(e),[r,i]=_T(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ky(He.min(),i,new Qt(st),oa(),lt())}}class $d{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Mj{constructor(e,n){this.targetId=e,this.Ce=n}}class $j{constructor(e,n,r=zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xT{constructor(){this.ve=0,this.Fe=wT(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:o})}}),new $d(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=wT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zz{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.Je=Dp(),this.He=Dp(),this.Ye=new Qt(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(v_(o))if(r===0){const a=new Le(o.path);this.et(n,a,Zn.newNoDocument(a,He.min()))}else wt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ls(r).toUint8Array()}catch(l){if(l instanceof lj)return ec("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new _1(a,i,o)}catch(l){return ec(l instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&v_(s.target)){const l=new Le(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Zn.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=lt();this.He.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new Ky(e,n,this.Ye,this.je,r);return this.je=oa(),this.Je=Dp(),this.He=Dp(),this.Ye=new Qt(st),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new xT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Sn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Sn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dp(){return new Qt(Le.comparator)}function wT(){return new Qt(Le.comparator)}const eB={asc:"ASCENDING",desc:"DESCENDING"},tB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nB={and:"AND",or:"OR"};class rB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x_(t,e){return t.useProto3Json||Ly(e)?e:{value:e}}function sg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iB(t,e){return sg(t,e.toTimestamp())}function yo(t){return wt(!!t,49232),He.fromTimestamp(function(n){const r=ss(n);return new Bt(r.seconds,r.nanos)}(t))}function x1(t,e){return w_(t,e).canonicalString()}function w_(t,e){const n=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vj(t){const e=Mt.fromString(t);return wt(qj(e),10190,{key:e.toString()}),e}function E_(t,e){return x1(t.databaseId,e.path)}function k0(t,e){const n=Vj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(zj(n))}function Fj(t,e){return x1(t.databaseId,e)}function oB(t){const e=Vj(t);return e.length===4?Mt.emptyPath():zj(e)}function S_(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zj(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ET(t,e,n){return{name:E_(t,e),fields:n.value.mapValue.fields}}function aB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(wt(f===void 0||typeof f=="string",58123),zn.fromBase64String(f||"")):(wt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),zn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const f=u.code===void 0?me.UNKNOWN:Dj(u.code);return new Ne(f,u.message||"")}(a);n=new $j(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=k0(t,r.document.name),o=yo(r.document.updateTime),a=r.document.createTime?yo(r.document.createTime):He.min(),s=new Ar({mapValue:{fields:r.document.fields}}),l=Zn.newFoundDocument(i,o,a,s),u=r.targetIds||[],f=r.removedTargetIds||[];n=new bm(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=k0(t,r.document),o=r.readTime?yo(r.readTime):He.min(),a=Zn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new bm([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=k0(t,r.document),o=r.removedTargetIds||[];n=new bm([],o,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new Xz(i,o),s=r.targetId;n=new Mj(s,a)}}return n}function sB(t,e){let n;if(e instanceof Md)n={update:ET(t,e.key,e.value)};else if(e instanceof qy)n={delete:E_(t,e.key)};else if(e instanceof vs)n={update:ET(t,e.key,e.data),updateMask:gB(e.fieldMask)};else{if(!(e instanceof Wz))return Ue(16599,{Vt:e.type});n={verify:E_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof og)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Vh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ag)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw Ue(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:iB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)}(t,e.precondition)),n}function lB(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?yo(i.updateTime):yo(o);return a.isEqual(He.min())&&(a=yo(o)),new Uz(a,i.transformResults||[])}(n,e))):[]}function uB(t,e){return{documents:[Fj(t,e.path)]}}function cB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fj(t,i);const o=function(u){if(u.length!==0)return Uj(Ki.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:fu(p.field),direction:dB(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=x_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function fB(t){let e=oB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(c){const p=Bj(c);return p instanceof Ki&&vj(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(c){return c.map(p=>function(b){return new ig(hu(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let s=null;n.limit&&(s=function(c){let p;return p=typeof c=="object"?c.value:c,Ly(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(c){const p=!!c.before,y=c.values||[];return new rg(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const p=!c.before,y=c.values||[];return new rg(y,p)}(n.endAt)),Cz(e,i,a,o,s,"F",l,u)}function hB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Bj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hu(n.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hu(n.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return dn.create(hu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ki.create(n.compositeFilter.filters.map(r=>Bj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function dB(t){return eB[t]}function pB(t){return tB[t]}function mB(t){return nB[t]}function fu(t){return{fieldPath:t.canonicalString()}}function hu(t){return $n.fromServerFormat(t.fieldPath)}function Uj(t){return t instanceof dn?function(n){if(n.op==="=="){if(cT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:pB(n.op),value:n.value}}}(t):t instanceof Ki?function(n){const r=n.getFilters().map(i=>Uj(i));return r.length===1?r[0]:{compositeFilter:{op:mB(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function gB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,i,o=He.min(),a=He.min(),s=zn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.yt=e}}function vB(t){const e=fB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?__(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.Cn=new _B}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(as.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class _B{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Sn(Mt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Sn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kj=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(Kj,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ic(0)}static cr(){return new ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",xB=1048576;function TT([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class wB{constructor(e){this.Ir=e,this.buffer=new Sn(TT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){je(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vc(n)?je(AT,"Ignoring IndexedDB error during garbage collection: ",n):await Lc(n)}await this.Vr(3e5)})}}class SB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ge.resolve($y.ce);const r=new wB(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(ST)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,s,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,a=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(r=c,s=Date.now(),this.removeTargets(e,r,n))).next(c=>(o=c,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(c=>(u=Date.now(),uu()<=at.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:c})))}}function AB(t,e){return new SB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uh(r.mutation,i,qr.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const i=el();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=qf();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=oa();const a=lh(),s=function(){return lh()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof vs)?o=o.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),uh(f.mutation,u,f.mutation.getFieldMask(),Bt.now())):a.set(u.key,qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>s.set(u,new PB(f,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=lh();let i=new Qt((a,s)=>a-s),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||qr.empty();f=s.applyToLocalView(u,f),r.set(l,f);const c=(i.get(s.batchId)||lt()).add(l);i=i.insert(s.batchId,c)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,c=Pj();f.forEach(p=>{if(!o.has(p)){const y=jj(n.get(p),r.get(p));y!==null&&c.set(p,y),o=o.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,c))}return ge.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ge.resolve(el());let s=Dh,l=o;return a.next(u=>ge.forEach(u,(f,c)=>(s<c.largestBatchId&&(s=c.largestBatchId),o.get(f)?ge.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,lt())).next(f=>({batchId:s,changes:Tj(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let i=qf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=qf();return this.indexManager.getCollectionParents(e,o).next(s=>ge.forEach(s,l=>{const u=function(c,p){return new Dd(p,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((c,p)=>{a=a.insert(c,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,Zn.newInvalidDocument(f)))});let s=qf();return a.forEach((l,u)=>{const f=o.get(l);f!==void 0&&uh(f.mutation,u,qr.empty(),Bt.now()),zy(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:vB(i.bundledQuery),readTime:yo(i.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.overlays=new Qt(Le.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return ge.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=el(),o=n.length+1,a=new Le(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qt((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=el(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=el(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>s.set(u,f)),!(s.size()>=i)););return ge.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Gz(n,r));let o=this.qr.get(n);o===void 0&&(o=lt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.Qr=new Sn(In.$r),this.Ur=new Sn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Le(new Mt([])),r=new In(n,e),i=new In(n,e+1),o=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new Mt([])),r=new In(n,e),i=new In(n,e+1);let o=lt();return this.Ur.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Sn(In.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Hz(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new In(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ge.resolve(a)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?h1:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),i=new In(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],a=>{const s=this.Xr(a.Yr);o.push(s)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(st);return n.forEach(i=>{const o=new In(i,0),a=new In(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],s=>{r=r.add(s.Yr)})}),ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const a=new In(new Le(o),0);let s=new Sn(st);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},a),ge.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ge.forEach(n.mutations,i=>{const o=new In(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new In(n,0),i=this.Zr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.ri=e,this.docs=function(){return new Qt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zn.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oa();const a=n.path,s=new Le(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||lz(sz(f),r)<=0||(i.has(f.key)||zy(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RB(this)}getSize(e){return ge.resolve(this.size)}}class RB extends TB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.persistence=e,this.si=new jl(n=>m1(n),g1),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new w1,this.targetCount=0,this.ai=ic.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ge.waitFor(o).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.ui={},this.overlays={},this.ci=new $y(0),this.li=!1,this.li=!0,this.hi=new kB,this.referenceDelegate=e(this),this.Pi=new DB(this),this.indexManager=new bB,this.remoteDocumentCache=function(i){return new jB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new yB(n),this.Ii=new OB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new NB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new MB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return ge.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class MB extends cz{constructor(e){super(),this.currentSequenceNumber=e}}class E1{constructor(e){this.persistence=e,this.Ri=new w1,this.Vi=null}static mi(e){return new E1(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,r=>{const i=Le.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,He.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lg{constructor(e,n){this.persistence=e,this.pi=new jl(r=>dz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=AB(this,n)}static mi(e,n){return new lg(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ge.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?ge.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(s=>{s||(r++,o.removeEntry(a,He.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gm(e.data.value)),n}br(e,n,r){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new S1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return m3()?8:fz(ar())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new $B;return this.Ss(e,n,a).next(s=>{if(o.result=s,this.Vs)return this.bs(e,n,a,s.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(uu()<=at.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(uu()<=at.DEBUG&&je("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uu()<=at.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,go(n))):ge.resolve())}ys(e,n){if(pT(n))return ge.resolve(null);let r=go(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=__(n,null,"F"),r=go(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=lt(...o);return this.ps.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,a,l.readTime)?this.ys(e,__(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return pT(n)||i.isEqual(He.min())?ge.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?ge.resolve(null):(uu()<=at.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.vs(e,a,n,az(i,Dh)).next(s=>s))})}Ds(e,n){let r=new Sn(Sj(e));return n.forEach((i,o)=>{zy(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return uu()<=at.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",cu(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="LocalStore",VB=3e8;class FB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Qt(st),this.xs=new jl(o=>m1(o),g1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zB(t,e,n,r){return new FB(t,e,n,r)}async function Hj(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=lt();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:s}))})})}function BB(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,f){const c=u.batch,p=c.keys();let y=ge.resolve();return p.forEach(b=>{y=y.next(()=>f.getEntry(l,b)).next(v=>{const w=u.docVersions.get(b);wt(w!==null,48541),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),f.addEntry(v)))})}),y.next(()=>s.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=lt();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gj(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function UB(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((f,c)=>{const p=i.get(c);if(!p)return;s.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,c).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,c)));let y=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?y=y.withResumeToken(zn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(c,y),function(v,w,S){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=VB?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,y,f)&&s.push(n.Pi.updateTargetData(o,y))});let l=oa(),u=lt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),s.push(qB(o,a,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!r.isEqual(He.min())){const f=n.Pi.getLastRemoteSnapshotVersion(o).next(c=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(f)}return ge.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function qB(t,e,n){let r=lt(),i=lt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=oa();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(He.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):je(A1,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function KB(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=h1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WB(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,ge.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new za(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function A_(t,e,n){const r=Ye(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Vc(a))throw a;je(A1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function PT(t,e,n){const r=Ye(t);let i=He.min(),o=lt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,f){const c=Ye(l),p=c.xs.get(f);return p!==void 0?ge.resolve(c.Ms.get(p)):c.Pi.getTargetData(u,f)}(r,a,go(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:He.min(),n?o:lt())).next(s=>(HB(r,Nz(e),s),{documents:s,Qs:o})))}function HB(t,e,n){let r=t.Os.get(e)||He.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class IT{constructor(){this.activeTargetIds=Lz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GB{constructor(){this.Mo=new IT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class CT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(OT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){je(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp=null;function T_(){return Mp===null?Mp=function(){return 268435456+Math.round(2147483648*Math.random())}():Mp++,"0x"+Mp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="RestConnection",YB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===tg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=T_(),s=this.zo(e,n.toUriEncodedString());je(N0,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(s),f=Rc(u);return this.Jo(e,s,l,r,f).then(c=>(je(N0,`Received RPC '${e}' ${a}: `,c),c),c=>{throw ec(N0,`RPC '${e}' ${a} failed with error: `,c,"url: ",s,"request:",r),c})}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$c}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=YB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class ZB extends QB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=T_();return new Promise((s,l)=>{const u=new QN;u.setWithCredentials(!0),u.listenOnce(JN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mm.NO_ERROR:const c=u.getResponseJson();je(Xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),s(c);break;case mm.TIMEOUT:je(Xn,`RPC '${e}' ${a} timed out`),l(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const p=u.getStatus();if(je(Xn,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const v=function(S){const A=S.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(A)>=0?A:me.UNKNOWN}(b.status);l(new Ne(v,b.message))}else l(new Ne(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{je(Xn,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);je(Xn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=T_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tj(),s=ej(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");je(Xn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const c=a.createWebChannel(f,l);this.I_(c);let p=!1,y=!1;const b=new JB({Yo:w=>{y?je(Xn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(je(Xn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),p=!0),je(Xn,`RPC '${e}' stream ${i} sending:`,w),c.send(w))},Zo:()=>c.close()}),v=(w,S,A)=>{w.listen(S,P=>{try{A(P)}catch(D){setTimeout(()=>{throw D},0)}})};return v(c,Uf.EventType.OPEN,()=>{y||(je(Xn,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),v(c,Uf.EventType.CLOSE,()=>{y||(y=!0,je(Xn,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(c))}),v(c,Uf.EventType.ERROR,w=>{y||(y=!0,ec(Xn,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),b.a_(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),v(c,Uf.EventType.MESSAGE,w=>{var S;if(!y){const A=w.data[0];wt(!!A,16349);const P=A,D=(P==null?void 0:P.error)||((S=P[0])==null?void 0:S.error);if(D){je(Xn,`RPC '${e}' stream ${i} received error:`,D);const I=D.status;let O=function(k){const M=un[k];if(M!==void 0)return Dj(M)}(I),x=D.message;O===void 0&&(O=me.INTERNAL,x="Unknown error status: "+I+" with message "+D.message),y=!0,b.a_(new Ne(O,x)),c.close()}else je(Xn,`RPC '${e}' stream ${i} received:`,A),b.u_(A)}}),v(s,ZN.STAT_EVENT,w=>{w.stat===d_.PROXY?je(Xn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===d_.NOPROXY&&je(Xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function j0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t){return new rB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class Yj{constructor(e,n,r,i,o,a,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ne(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return je(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(je(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eU extends Yj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aB(this.serializer,e),r=function(o){if(!("targetChange"in o))return He.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?yo(a.readTime):He.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=S_(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=v_(l)?{documents:uB(o,l)}:{query:cB(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=Lj(o,a.resumeToken);const u=x_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(He.min())>0){s.readTime=sg(o,a.snapshotVersion.toTimestamp());const u=x_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=hB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=S_(this.serializer),n.removeTarget=e,this.q_(n)}}class tU extends Yj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lB(e.writeResults,e.commitTime),r=yo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=S_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{}class rU extends nU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,w_(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(me.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Ho(e,w_(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(me.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class iU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class oU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Rl(this)&&(je(El,"Restarting streams for network reachability change."),await async function(l){const u=Ye(l);u.Ea.add(4),await Ld(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Hy(u)}(this))})}),this.Ra=new iU(r,i)}}async function Hy(t){if(Rl(t))for(const e of t.da)await e(!0)}async function Ld(t){for(const e of t.da)await e(!1)}function Qj(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),O1(n)?I1(n):Fc(n).O_()&&P1(n,e))}function T1(t,e){const n=Ye(t),r=Fc(n);n.Ia.delete(e),r.O_()&&Jj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Ra.set("Unknown"))}function P1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).Y_(e)}function Jj(t,e){t.Va.Ue(e),Fc(t).Z_(e)}function I1(t){t.Va=new Zz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.Ra.ua()}function O1(t){return Rl(t)&&!Fc(t).x_()&&t.Ia.size>0}function Rl(t){return Ye(t).Ea.size===0}function Zj(t){t.Va=void 0}async function aU(t){t.Ra.set("Online")}async function sU(t){t.Ia.forEach((e,n)=>{P1(t,e)})}async function lU(t,e){Zj(t),O1(t)?(t.Ra.ha(e),I1(t)):t.Ra.set("Unknown")}async function uU(t,e,n){if(t.Ra.set("Online"),e instanceof $j&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){je(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ug(t,r)}else if(e instanceof bm?t.Va.Ze(e):e instanceof Mj?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await Gj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.Ia.get(u);f&&o.Ia.set(u,f.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const f=o.Ia.get(l);if(!f)return;o.Ia.set(l,f.withResumeToken(zn.EMPTY_BYTE_STRING,f.snapshotVersion)),Jj(o,l);const c=new za(f.target,l,u,f.sequenceNumber);P1(o,c)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){je(El,"Failed to raise snapshot:",r),await ug(t,r)}}async function ug(t,e,n){if(!Vc(e))throw e;t.Ea.add(1),await Ld(t),t.Ra.set("Offline"),n||(n=()=>Gj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je(El,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hy(t)})}function eR(t,e){return e().catch(n=>ug(t,n,e))}async function Gy(t){const e=Ye(t),n=cs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:h1;for(;cU(e);)try{const i=await KB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fU(e,i)}catch(i){await ug(e,i)}tR(e)&&nR(e)}function cU(t){return Rl(t)&&t.Ta.length<10}function fU(t,e){t.Ta.push(e);const n=cs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tR(t){return Rl(t)&&!cs(t).x_()&&t.Ta.length>0}function nR(t){cs(t).start()}async function hU(t){cs(t).ra()}async function dU(t){const e=cs(t);for(const n of t.Ta)e.ea(n.mutations)}async function pU(t,e,n){const r=t.Ta.shift(),i=b1.from(r,e,n);await eR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gy(t)}async function mU(t,e){e&&cs(t).X_&&await async function(r,i){if(function(a){return Yz(a)&&a!==me.ABORTED}(i.code)){const o=r.Ta.shift();cs(r).B_(),await eR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gy(r)}}(t,e),tR(t)&&nR(t)}async function NT(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),je(El,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await Ld(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hy(n)}async function gU(t,e){const n=Ye(t);e?(n.Ea.delete(2),await Hy(n)):e||(n.Ea.add(2),await Ld(n),n.Ra.set("Unknown"))}function Fc(t){return t.ma||(t.ma=function(n,r,i){const o=Ye(n);return o.sa(),new eU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:aU.bind(null,t),t_:sU.bind(null,t),r_:lU.bind(null,t),H_:uU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),O1(t)?I1(t):t.Ra.set("Unknown")):(await t.ma.stop(),Zj(t))})),t.ma}function cs(t){return t.fa||(t.fa=function(n,r,i){const o=Ye(n);return o.sa(),new tU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hU.bind(null,t),r_:mU.bind(null,t),ta:dU.bind(null,t),na:pU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gy(t)):(await t.fa.stop(),t.Ta.length>0&&(je(El,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new C1(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k1(t,e){if(ia("AsyncQueue",`${e}: ${t}`),Vc(t))return new Ne(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=qf(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.ga=new Qt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class oc{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new oc(e,n,Fu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class vU{constructor(){this.queries=RT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),o=i.queries;i.queries=RT(),o.forEach((a,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new Ne(me.ABORTED,"Firestore shutting down"))}}function RT(){return new jl(t=>Ej(t),Fy)}async function bU(t,e){const n=Ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new yU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=k1(a,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&N1(n)}async function _U(t,e){const n=Ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xU(t,e){const n=Ye(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(r=!0);a.wa=i}}r&&N1(n)}function wU(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function N1(t){t.Ca.forEach(e=>{e.next()})}var P_,DT;(DT=P_||(P_={})).Ma="default",DT.Cache="cache";class EU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.key=e}}class iR{constructor(e){this.key=e}}class SU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=Sj(e),this.tu=new Fu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jT,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const p=i.get(f),y=zy(this.query,c)?c:null,b=!!p&&this.mutatedKeys.has(p.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;p&&y?p.data.isEqual(y.data)?b!==v&&(r.track({type:3,doc:y}),w=!0):this.su(p,y)||(r.track({type:2,doc:y}),w=!0,(l&&this.eu(y,l)>0||u&&this.eu(y,u)<0)&&(s=!0)):!p&&y?(r.track({type:0,doc:y}),w=!0):p&&!y&&(r.track({type:1,doc:p}),w=!0,(l||u)&&(s=!0)),w&&(y?(a=a.add(y),o=v?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,c)=>function(y,b){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:w})}};return v(y)-v(b)}(f.type,c.type)||this.eu(f.doc,c.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new oc(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new iR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new rR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const j1="SyncEngine";class AU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TU{constructor(e){this.key=e,this.hu=!1}}class PU{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new jl(s=>Ej(s),Fy),this.Iu=new Map,this.Eu=new Set,this.du=new Qt(Le.comparator),this.Au=new Map,this.Ru=new w1,this.Vu={},this.mu=new Map,this.fu=ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IU(t,e,n=!0){const r=cR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await oR(r,e,n,!0),i}async function OU(t,e){const n=cR(t);await oR(n,e,!0,!1)}async function oR(t,e,n,r){const i=await WB(t.localStore,go(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await CU(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Qj(t.remoteStore,i),s}async function CU(t,e,n,r,i){t.pu=(c,p,y)=>async function(v,w,S,A){let P=w.view.ru(S);P.Cs&&(P=await PT(v.localStore,w.query,!1).then(({documents:x})=>w.view.ru(x,P)));const D=A&&A.targetChanges.get(w.targetId),I=A&&A.targetMismatches.get(w.targetId)!=null,O=w.view.applyChanges(P,v.isPrimaryClient,D,I);return $T(v,w.targetId,O.au),O.snapshot}(t,c,p,y);const o=await PT(t.localStore,e,!0),a=new SU(e,o.Qs),s=a.ru(o.documents),l=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);$T(t,n,u.au);const f=new AU(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function kU(t,e,n){const r=Ye(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!Fy(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await A_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T1(r.remoteStore,i.targetId),I_(r,i.targetId)}).catch(Lc)):(I_(r,i.targetId),await A_(r.localStore,i.targetId,!0))}async function NU(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T1(n.remoteStore,r.targetId))}async function jU(t,e,n){const r=FU(t);try{const i=await function(a,s){const l=Ye(a),u=Bt.now(),f=s.reduce((y,b)=>y.add(b.key),lt());let c,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=oa(),v=lt();return l.Ns.getEntries(y,f).next(w=>{b=w,b.forEach((S,A)=>{A.isValidDocument()||(v=v.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(w=>{c=w;const S=[];for(const A of s){const P=Kz(A,c.get(A.key).overlayedDocument);P!=null&&S.push(new vs(A.key,P,mj(P.value.mapValue),kr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,S,s)}).next(w=>{p=w;const S=w.applyToLocalDocumentSet(c,v);return l.documentOverlayCache.saveOverlays(y,w.batchId,S)})}).then(()=>({batchId:p.batchId,changes:Tj(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new Qt(st)),u=u.insert(s,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await Vd(r,i.changes),await Gy(r.remoteStore)}catch(i){const o=k1(i,"Failed to persist write");n.reject(o)}}async function aR(t,e){const n=Ye(t);try{const r=await UB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?wt(a.hu,14607):i.removedDocuments.size>0&&(wt(a.hu,42227),a.hu=!1))}),await Vd(n,r,e)}catch(r){await Lc(r)}}function MT(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Ye(a);l.onlineState=s;let u=!1;l.queries.forEach((f,c)=>{for(const p of c.Sa)p.va(s)&&(u=!0)}),u&&N1(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RU(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Qt(Le.comparator);a=a.insert(o,Zn.newNoDocument(o,He.min()));const s=lt().add(o),l=new Ky(He.min(),new Map,new Qt(st),a,s);await aR(r,l),r.du=r.du.remove(o),r.Au.delete(e),R1(r)}else await A_(r.localStore,e,!1).then(()=>I_(r,e,n)).catch(Lc)}async function DU(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await BB(n.localStore,e);lR(n,r,null),sR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vd(n,i)}catch(i){await Lc(i)}}async function MU(t,e,n){const r=Ye(t);try{const i=await function(a,s){const l=Ye(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next(c=>(wt(c!==null,37113),f=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);lR(r,e,n),sR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vd(r,i)}catch(i){await Lc(i)}}function sR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function lR(t,e,n){const r=Ye(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function I_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||uR(t,r)})}function uR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(T1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),R1(t))}function $T(t,e,n){for(const r of n)r instanceof rR?(t.Ru.addReference(r.key,e),$U(t,r)):r instanceof iR?(je(j1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||uR(t,r.key)):Ue(19791,{wu:r})}function $U(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(je(j1,"New document in limbo: "+n),t.Eu.add(r),R1(t))}function R1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le(Mt.fromString(e)),r=t.fu.next();t.Au.set(r,new TU(n)),t.du=t.du.insert(n,r),Qj(t.remoteStore,new za(go(y1(n.path)),r,"TargetPurposeLimboResolution",$y.ce))}}async function Vd(t,e,n){const r=Ye(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const c=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=S1.As(l.targetId,u);o.push(c)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const f=Ye(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>ge.forEach(u,p=>ge.forEach(p.Es,y=>f.persistence.referenceDelegate.addReference(c,p.targetId,y)).next(()=>ge.forEach(p.ds,y=>f.persistence.referenceDelegate.removeReference(c,p.targetId,y)))))}catch(c){if(!Vc(c))throw c;je(A1,"Failed to update sequence numbers: "+c)}for(const c of u){const p=c.targetId;if(!c.fromCache){const y=f.Ms.get(p),b=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(p,v)}}}(r.localStore,o))}async function LU(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){je(j1,"User change. New user:",e.toKey());const r=await Hj(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new Ne(me.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vd(n,r.Ls)}}function VU(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function cR(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RU.bind(null,e),e.Pu.H_=xU.bind(null,e.eventManager),e.Pu.yu=wU.bind(null,e.eventManager),e}function FU(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MU.bind(null,e),e}class cg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zB(this.persistence,new LB,e.initialUser,this.serializer)}Cu(e){return new Wj(E1.mi,this.serializer)}Du(e){return new GB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cg.provider={build:()=>new cg};class zU extends cg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof lg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new Wj(r=>lg.mi(r,n),this.serializer)}}class O_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LU.bind(null,this.syncEngine),await gU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vU}()}createDatastore(e){const n=Wy(e.databaseInfo.databaseId),r=function(o){return new ZB(o)}(e.databaseInfo);return function(o,a,s,l){return new rU(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new oU(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>MT(this.syncEngine,n,0),function(){return CT.v()?new CT:new XB}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,f){const c=new PU(i,o,a,s,l,u);return f&&(c.gu=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ye(i);je(El,"RemoteStore shutting down."),o.Ea.add(5),await Ld(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class UU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=f1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{je(fs,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(je(fs,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=k1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function R0(t,e){t.asyncQueue.verifyOperationInProgress(),je(fs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Hj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qU(t);je(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NT(e.remoteStore,i)),t._onlineComponents=e}async function qU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(fs,"Using user provided OfflineComponentProvider");try{await R0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await R0(t,new cg)}}else je(fs,"Using default OfflineComponentProvider"),await R0(t,new zU(void 0));return t._offlineComponents}async function fR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(fs,"Using user provided OnlineComponentProvider"),await LT(t,t._uninitializedComponentsProvider._online)):(je(fs,"Using default OnlineComponentProvider"),await LT(t,new O_))),t._onlineComponents}function KU(t){return fR(t).then(e=>e.syncEngine)}async function VT(t){const e=await fR(t),n=e.eventManager;return n.onListen=IU.bind(null,e.syncEngine),n.onUnlisten=kU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NU.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firestore.googleapis.com",zT=!0;class BT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dR,this.ssl=zT}else this.host=e.host,this.ssl=e.ssl??zT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xB)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X6;switch(r.type){case"firstParty":return new Z6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FT.get(n);r&&(je("ComponentProvider","Removing Datastore"),FT.delete(n),r.terminate())}(this),Promise.resolve()}}function WU(t,e,n,r={}){var u;t=Go(t,Xy);const i=Rc(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(lN(`https://${s}`),uN("Firestore",!0)),o.host!==dR&&o.host!==s&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!vl(l,a)&&(t._setSettings(l),r.mockUserToken)){let f,c;if(typeof r.mockUserToken=="string")f=r.mockUserToken,c=Qn.MOCK_USER;else{f=a3(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qn(p)}t._authCredentials=new Y6(new rj(f,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zc(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rd(n,mn._jsonSchema))return new mn(e,r||null,new Le(Mt.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:pn("string",mn._jsonSchemaVersion),referencePath:pn("string")};class ns extends zc{constructor(e,n,r){super(e,n,y1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Le(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Wf(t,e,...n){if(t=yn(t),ij("collection","path",e),t instanceof Xy){const r=Mt.fromString(e,...n);return eT(r),new ns(t,null,r)}{if(!(t instanceof mn||t instanceof ns))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return eT(r),new ns(t.firestore,null,r)}}function Pu(t,e,...n){if(t=yn(t),arguments.length===1&&(e=f1.newId()),ij("doc","path",e),t instanceof Xy){const r=Mt.fromString(e,...n);return ZA(r),new mn(t,null,new Le(r))}{if(!(t instanceof mn||t instanceof ns))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return ZA(r),new mn(t.firestore,t instanceof ns?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xj(this,"async_queue_retry"),this._c=()=>{const r=j0();r&&je(UT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=j0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=j0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ll;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vc(e))throw e;je(UT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",KT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=C1.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:KT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Sl extends Xy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function HU(t,e){const n=typeof t=="object"?t:dN(),r=typeof t=="string"?t:tg,i=t1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=i3("firestore");o&&WU(i,...o)}return i}function D1(t){if(t._terminated)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GU(t),t._firestoreClient}function GU(t){var r,i,o;const e=t._freezeSettings(),n=function(s,l,u,f){return new gz(s,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(zn.fromBase64String(e))}catch(n){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rd(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:pn("string",li._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vo._jsonSchemaVersion}}static fromJSON(e){if(Rd(e,vo._jsonSchema))return new vo(e.latitude,e.longitude)}}vo._jsonSchemaVersion="firestore/geoPoint/1.0",vo._jsonSchema={type:pn("string",vo._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rd(e,bo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bo(e.vectorValues);throw new Ne(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bo._jsonSchemaVersion="firestore/vectorValue/1.0",bo._jsonSchema={type:pn("string",bo._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=/^__.*__$/;class YU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Md(e,this.data,n,this.fieldTransforms)}}class pR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class $1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mR(this.Ac)&&XU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wy(e)}Cc(e,n,r,i=!1){return new $1({Ac:e,methodName:n,Dc:r,path:$n.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yy(t){const e=t._freezeSettings(),n=Wy(t._databaseId);return new QU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gR(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);L1("Data must be an object, but it was:",a,r);const s=bR(r,a);let l,u;if(o.merge)l=new qr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const c of o.mergeFields){const p=C_(e,c,n);if(!a.contains(p))throw new Ne(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);xR(f,p)||f.push(p)}l=new qr(f),u=a.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=a.fieldTransforms;return new YU(new Ar(s),l,u)}class Qy extends M1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qy}}function yR(t,e,n,r){const i=t.Cc(1,e,n);L1("Data must be an object, but it was:",i,r);const o=[],a=Ar.empty();ys(r,(l,u)=>{const f=V1(e,l,n);u=yn(u);const c=i.yc(f);if(u instanceof Qy)o.push(f);else{const p=zd(u,c);p!=null&&(o.push(f),a.set(f,p))}});const s=new qr(o);return new pR(a,s,i.fieldTransforms)}function vR(t,e,n,r,i,o){const a=t.Cc(1,e,n),s=[C_(e,r,n)],l=[i];if(o.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)s.push(C_(e,o[p])),l.push(o[p+1]);const u=[],f=Ar.empty();for(let p=s.length-1;p>=0;--p)if(!xR(u,s[p])){const y=s[p];let b=l[p];b=yn(b);const v=a.yc(y);if(b instanceof Qy)u.push(y);else{const w=zd(b,v);w!=null&&(u.push(y),f.set(y,w))}}const c=new qr(u);return new pR(f,c,a.fieldTransforms)}function JU(t,e,n,r=!1){return zd(n,t.Cc(r?4:3,e))}function zd(t,e){if(_R(t=yn(t)))return L1("Unsupported field value:",e,t),bR(t,e);if(t instanceof M1)return function(r,i){if(!mR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=zd(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:sg(i.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sg(i.serializer,o)}}if(r instanceof vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof li)return{bytesValue:Lj(i.serializer,r._byteString)};if(r instanceof mn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bo)return function(a,s){return{mapValue:{fields:{[dj]:{stringValue:pj},[ng]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return v1(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${My(r)}`)}(t,e)}function bR(t,e){const n={};return sj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,i)=>{const o=zd(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _R(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof vo||t instanceof li||t instanceof mn||t instanceof M1||t instanceof bo)}function L1(t,e,n){if(!_R(n)||!oj(n)){const r=My(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function C_(t,e,n){if((e=yn(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return V1(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZU=new RegExp("[~\\*/\\[\\]]");function V1(t,e,n){if(e.search(ZU)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fd(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ne(me.INVALID_ARGUMENT,s+t+l)}function xR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e9 extends wR{data(){return super.data()}}function F1(t,e){return typeof e=="string"?V1(t,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z1{}class n9 extends z1{}function r9(t,e,...n){let r=[];e instanceof z1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof B1).length,s=o.filter(l=>l instanceof Jy).length;if(a>1||a>0&&s>0)throw new Ne(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jy extends n9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jy(e,n,r)}_apply(e){const n=this._parse(e);return ER(e._query,n),new zc(e.firestore,e.converter,b_(e._query,n))}_parse(e){const n=Yy(e.firestore);return function(o,a,s,l,u,f,c){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){GT(c,f);const b=[];for(const v of c)b.push(HT(l,o,v));p={arrayValue:{values:b}}}else p=HT(l,o,c)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||GT(c,f),p=JU(s,a,c,f==="in"||f==="not-in");return dn.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function i9(t,e,n){const r=e,i=F1("where",t);return Jy._create(i,r,n)}class B1 extends z1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new B1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)ER(a,l),a=b_(a,l)}(e._query,n),new zc(e.firestore,e.converter,b_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function HT(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wj(e)&&n.indexOf("/")!==-1)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Le.isDocumentKey(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lT(t,new Le(r))}if(n instanceof mn)return lT(t,n._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${My(n)}.`)}function GT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ER(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o9{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[ng].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>on(a.doubleValue));return new bo(n)}convertGeoPoint(e){return new vo(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);wt(qj(r),9688,{name:e});const i=new $h(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return i.isEqual(n)||ia(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends wR{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:pn("string",ul._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class _m extends ul{data(e={}){return super.data(e)}}class zu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _m(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new _m(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Hf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new _m(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Hf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),f=a.indexOf(s.doc.key)),{type:a9(s.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=f1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}zu._jsonSchemaVersion="firestore/querySnapshot/1.0",zu._jsonSchema={type:pn("string",zu._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};class AR extends o9{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function s9(t,e,n,...r){t=Go(t,mn);const i=Go(t.firestore,Sl),o=Yy(i);let a;return a=typeof(e=yn(e))=="string"||e instanceof Fd?vR(o,"updateDoc",t._key,e,n,r):yR(o,"updateDoc",t._key,e),Zy(i,[a.toMutation(t._key,kr.exists(!0))])}function l9(t){return Zy(Go(t.firestore,Sl),[new qy(t._key,kr.none())])}function u9(t,e){const n=Go(t.firestore,Sl),r=Pu(t),i=SR(t.converter,e);return Zy(n,[gR(Yy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function c9(t,...e){var l,u,f;t=yn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WT(e[r])){const c=e[r];e[r]=(l=c.next)==null?void 0:l.bind(c),e[r+1]=(u=c.error)==null?void 0:u.bind(c),e[r+2]=(f=c.complete)==null?void 0:f.bind(c)}let o,a,s;if(t instanceof mn)a=Go(t.firestore,Sl),s=y1(t._key.path),o={next:c=>{e[r]&&e[r](f9(a,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Go(t,zc);a=Go(c.firestore,Sl),s=c._query;const p=new AR(a);o={next:y=>{e[r]&&e[r](new zu(a,p,c,y))},error:e[r+1],complete:e[r+2]},t9(t._query)}return function(p,y,b,v){const w=new BU(v),S=new EU(y,w,b);return p.asyncQueue.enqueueAndForget(async()=>bU(await VT(p),S)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>_U(await VT(p),S))}}(D1(a),s,i,o)}function Zy(t,e){return function(r,i){const o=new ll;return r.asyncQueue.enqueueAndForget(async()=>jU(await KU(r),i,o)),o.promise}(D1(t),e)}function f9(t,e,n){const r=n.docs.get(e._key),i=new AR(t);return new ul(t,i,e._key,r,new Hf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yy(e)}set(e,n,r){this._verifyNotCommitted();const i=D0(e,this._firestore),o=SR(i.converter,n,r),a=gR(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,kr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=D0(e,this._firestore);let a;return a=typeof(n=yn(n))=="string"||n instanceof Fd?vR(this._dataReader,"WriteBatch.update",o._key,n,r,i):yR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=D0(e,this._firestore);return this._mutations=this._mutations.concat(new qy(n._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function D0(t,e){if((t=yn(t)).firestore!==e)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){return D1(t=Go(t,Sl)),new h9(t,e=>Zy(t,e))}(function(e,n=!0){(function(i){$c=i})(Dc),Zu(new bl("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Sl(new Q6(r.getProvider("auth-internal")),new ez(a,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(u.options.projectId,f)}(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),es(XA,YA,e),es(XA,YA,"esm2020")})();const d9={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},PR=hN(d9),zh=K6(PR),Mo=HU(PR),IR=q.createContext({currentUser:null,isLoading:!0}),OR=()=>q.useContext(IR),p9=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0);q.useEffect(()=>RF(zh,s=>{n(s),i(!1)}),[]);const o={currentUser:e,isLoading:r};return r?g.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-white text-xl",children:"Cargando LactoKeeper..."})}):g.jsx(IR.Provider,{value:o,children:t})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>q.createElement("svg",{ref:l,...g9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CR("lucide",i),...s},[...a.map(([u,f])=>q.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=q.forwardRef(({className:r,...i},o)=>q.createElement(y9,{ref:o,iconNode:e,className:CR(`lucide-${m9(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=qe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=qe("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=qe("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=qe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=qe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=qe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=qe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=qe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=qe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=qe("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=qe("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=qe("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=qe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=qe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=qe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=qe("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=qe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=qe("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=qe("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=qe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),H9=()=>{const[t,e]=q.useState(!0),[n,r]=q.useState(""),[i,o]=q.useState(""),[a,s]=q.useState(null),[l,u]=q.useState(!1),f=p=>{switch(p.code){case"auth/invalid-email":return"El formato del correo electrnico no es vlido.";case"auth/user-not-found":case"auth/wrong-password":return"Correo electrnico o contrasea incorrectos.";case"auth/email-already-in-use":return"Este correo electrnico ya est registrado.";case"auth/weak-password":return"La contrasea debe tener al menos 6 caracteres.";default:return"Ocurri un error. Por favor, intenta de nuevo."}},c=async p=>{p.preventDefault(),s(null),u(!0);try{t?await kF(zh,n,i):await CF(zh,n,i)}catch(y){s(f(y))}finally{u(!1)}};return g.jsx("div",{className:"bg-gray-900 min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:g.jsxs("div",{className:"w-full max-w-sm",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[g.jsx(Bd,{className:"w-10 h-10 text-indigo-400"}),g.jsx("h1",{className:"text-4xl font-bold text-white",children:"LactoKeeper"})]}),g.jsx("p",{className:"text-zinc-400",children:"Tu gestin de rebao, en la nube."})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[g.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[g.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesin"}),g.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),placeholder:"Correo electrnico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),g.jsx("input",{type:"password",value:i,onChange:p=>o(p.target.value),placeholder:"Contrasea",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),a&&g.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-red-300",children:[g.jsx(Ud,{size:18}),g.jsx("span",{children:a})]}),g.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-amber text-black font-bold py-3 rounded-xl transition-colors hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesin":"Crear Cuenta"})]})]})]})})};function DR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DR(t))&&(r&&(r+=" "),r+=e);return r}var G9=Array.isArray,Nr=G9,X9=typeof du=="object"&&du&&du.Object===Object&&du,MR=X9,Y9=MR,Q9=typeof self=="object"&&self&&self.Object===Object&&self,J9=Y9||Q9||Function("return this")(),Ao=J9,Z9=Ao,e8=Z9.Symbol,qd=e8,XT=qd,$R=Object.prototype,t8=$R.hasOwnProperty,n8=$R.toString,Pf=XT?XT.toStringTag:void 0;function r8(t){var e=t8.call(t,Pf),n=t[Pf];try{t[Pf]=void 0;var r=!0}catch{}var i=n8.call(t);return r&&(e?t[Pf]=n:delete t[Pf]),i}var i8=r8,o8=Object.prototype,a8=o8.toString;function s8(t){return a8.call(t)}var l8=s8,YT=qd,u8=i8,c8=l8,f8="[object Null]",h8="[object Undefined]",QT=YT?YT.toStringTag:void 0;function d8(t){return t==null?t===void 0?h8:f8:QT&&QT in Object(t)?u8(t):c8(t)}var fa=d8;function p8(t){return t!=null&&typeof t=="object"}var ha=p8,m8=fa,g8=ha,y8="[object Symbol]";function v8(t){return typeof t=="symbol"||g8(t)&&m8(t)==y8}var Uc=v8,b8=Nr,_8=Uc,x8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w8=/^\w*$/;function E8(t,e){if(b8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_8(t)?!0:w8.test(t)||!x8.test(t)||e!=null&&t in Object(e)}var Y1=E8;function S8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bs=S8;const qc=It(bs);var A8=fa,T8=bs,P8="[object AsyncFunction]",I8="[object Function]",O8="[object GeneratorFunction]",C8="[object Proxy]";function k8(t){if(!T8(t))return!1;var e=A8(t);return e==I8||e==O8||e==P8||e==C8}var Q1=k8;const et=It(Q1);var N8=Ao,j8=N8["__core-js_shared__"],R8=j8,M0=R8,JT=function(){var t=/[^.]+$/.exec(M0&&M0.keys&&M0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function D8(t){return!!JT&&JT in t}var M8=D8,$8=Function.prototype,L8=$8.toString;function V8(t){if(t!=null){try{return L8.call(t)}catch{}try{return t+""}catch{}}return""}var LR=V8,F8=Q1,z8=M8,B8=bs,U8=LR,q8=/[\\^$.*+?()[\]{}|]/g,K8=/^\[object .+?Constructor\]$/,W8=Function.prototype,H8=Object.prototype,G8=W8.toString,X8=H8.hasOwnProperty,Y8=RegExp("^"+G8.call(X8).replace(q8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q8(t){if(!B8(t)||z8(t))return!1;var e=F8(t)?Y8:K8;return e.test(U8(t))}var J8=Q8;function Z8(t,e){return t==null?void 0:t[e]}var e7=Z8,t7=J8,n7=e7;function r7(t,e){var n=n7(t,e);return t7(n)?n:void 0}var Dl=r7,i7=Dl,o7=i7(Object,"create"),tv=o7,ZT=tv;function a7(){this.__data__=ZT?ZT(null):{},this.size=0}var s7=a7;function l7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var u7=l7,c7=tv,f7="__lodash_hash_undefined__",h7=Object.prototype,d7=h7.hasOwnProperty;function p7(t){var e=this.__data__;if(c7){var n=e[t];return n===f7?void 0:n}return d7.call(e,t)?e[t]:void 0}var m7=p7,g7=tv,y7=Object.prototype,v7=y7.hasOwnProperty;function b7(t){var e=this.__data__;return g7?e[t]!==void 0:v7.call(e,t)}var _7=b7,x7=tv,w7="__lodash_hash_undefined__";function E7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=x7&&e===void 0?w7:e,this}var S7=E7,A7=s7,T7=u7,P7=m7,I7=_7,O7=S7;function Kc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kc.prototype.clear=A7;Kc.prototype.delete=T7;Kc.prototype.get=P7;Kc.prototype.has=I7;Kc.prototype.set=O7;var C7=Kc;function k7(){this.__data__=[],this.size=0}var N7=k7;function j7(t,e){return t===e||t!==t&&e!==e}var J1=j7,R7=J1;function D7(t,e){for(var n=t.length;n--;)if(R7(t[n][0],e))return n;return-1}var nv=D7,M7=nv,$7=Array.prototype,L7=$7.splice;function V7(t){var e=this.__data__,n=M7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():L7.call(e,n,1),--this.size,!0}var F7=V7,z7=nv;function B7(t){var e=this.__data__,n=z7(e,t);return n<0?void 0:e[n][1]}var U7=B7,q7=nv;function K7(t){return q7(this.__data__,t)>-1}var W7=K7,H7=nv;function G7(t,e){var n=this.__data__,r=H7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var X7=G7,Y7=N7,Q7=F7,J7=U7,Z7=W7,eq=X7;function Wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wc.prototype.clear=Y7;Wc.prototype.delete=Q7;Wc.prototype.get=J7;Wc.prototype.has=Z7;Wc.prototype.set=eq;var rv=Wc,tq=Dl,nq=Ao,rq=tq(nq,"Map"),Z1=rq,eP=C7,iq=rv,oq=Z1;function aq(){this.size=0,this.__data__={hash:new eP,map:new(oq||iq),string:new eP}}var sq=aq;function lq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var uq=lq,cq=uq;function fq(t,e){var n=t.__data__;return cq(e)?n[typeof e=="string"?"string":"hash"]:n.map}var iv=fq,hq=iv;function dq(t){var e=hq(this,t).delete(t);return this.size-=e?1:0,e}var pq=dq,mq=iv;function gq(t){return mq(this,t).get(t)}var yq=gq,vq=iv;function bq(t){return vq(this,t).has(t)}var _q=bq,xq=iv;function wq(t,e){var n=xq(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Eq=wq,Sq=sq,Aq=pq,Tq=yq,Pq=_q,Iq=Eq;function Hc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hc.prototype.clear=Sq;Hc.prototype.delete=Aq;Hc.prototype.get=Tq;Hc.prototype.has=Pq;Hc.prototype.set=Iq;var eE=Hc,VR=eE,Oq="Expected a function";function tE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Oq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(tE.Cache||VR),n}tE.Cache=VR;var FR=tE;const Cq=It(FR);var kq=FR,Nq=500;function jq(t){var e=kq(t,function(r){return n.size===Nq&&n.clear(),r}),n=e.cache;return e}var Rq=jq,Dq=Rq,Mq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$q=/\\(\\)?/g,Lq=Dq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mq,function(n,r,i,o){e.push(i?o.replace($q,"$1"):r||n)}),e}),Vq=Lq;function Fq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nE=Fq,tP=qd,zq=nE,Bq=Nr,Uq=Uc,nP=tP?tP.prototype:void 0,rP=nP?nP.toString:void 0;function zR(t){if(typeof t=="string")return t;if(Bq(t))return zq(t,zR)+"";if(Uq(t))return rP?rP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var qq=zR,Kq=qq;function Wq(t){return t==null?"":Kq(t)}var BR=Wq,Hq=Nr,Gq=Y1,Xq=Vq,Yq=BR;function Qq(t,e){return Hq(t)?t:Gq(t,e)?[t]:Xq(Yq(t))}var UR=Qq,Jq=Uc;function Zq(t){if(typeof t=="string"||Jq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ov=Zq,eK=UR,tK=ov;function nK(t,e){e=eK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tK(e[n++])];return n&&n==r?t:void 0}var rE=nK,rK=rE;function iK(t,e,n){var r=t==null?void 0:rK(t,e);return r===void 0?n:r}var qR=iK;const hi=It(qR);function oK(t){return t==null}var aK=oK;const rt=It(aK);var sK=fa,lK=Nr,uK=ha,cK="[object String]";function fK(t){return typeof t=="string"||!lK(t)&&uK(t)&&sK(t)==cK}var hK=fK;const Al=It(hK);var KR={exports:{}},Tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=Symbol.for("react.element"),oE=Symbol.for("react.portal"),av=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),lv=Symbol.for("react.profiler"),uv=Symbol.for("react.provider"),cv=Symbol.for("react.context"),dK=Symbol.for("react.server_context"),fv=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),dv=Symbol.for("react.suspense_list"),pv=Symbol.for("react.memo"),mv=Symbol.for("react.lazy"),pK=Symbol.for("react.offscreen"),WR;WR=Symbol.for("react.module.reference");function yi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iE:switch(t=t.type,t){case av:case lv:case sv:case hv:case dv:return t;default:switch(t=t&&t.$$typeof,t){case dK:case cv:case fv:case mv:case pv:case uv:return t;default:return e}}case oE:return e}}}Tt.ContextConsumer=cv;Tt.ContextProvider=uv;Tt.Element=iE;Tt.ForwardRef=fv;Tt.Fragment=av;Tt.Lazy=mv;Tt.Memo=pv;Tt.Portal=oE;Tt.Profiler=lv;Tt.StrictMode=sv;Tt.Suspense=hv;Tt.SuspenseList=dv;Tt.isAsyncMode=function(){return!1};Tt.isConcurrentMode=function(){return!1};Tt.isContextConsumer=function(t){return yi(t)===cv};Tt.isContextProvider=function(t){return yi(t)===uv};Tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iE};Tt.isForwardRef=function(t){return yi(t)===fv};Tt.isFragment=function(t){return yi(t)===av};Tt.isLazy=function(t){return yi(t)===mv};Tt.isMemo=function(t){return yi(t)===pv};Tt.isPortal=function(t){return yi(t)===oE};Tt.isProfiler=function(t){return yi(t)===lv};Tt.isStrictMode=function(t){return yi(t)===sv};Tt.isSuspense=function(t){return yi(t)===hv};Tt.isSuspenseList=function(t){return yi(t)===dv};Tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===av||t===lv||t===sv||t===hv||t===dv||t===pK||typeof t=="object"&&t!==null&&(t.$$typeof===mv||t.$$typeof===pv||t.$$typeof===uv||t.$$typeof===cv||t.$$typeof===fv||t.$$typeof===WR||t.getModuleId!==void 0)};Tt.typeOf=yi;KR.exports=Tt;var mK=KR.exports,gK=fa,yK=ha,vK="[object Number]";function bK(t){return typeof t=="number"||yK(t)&&gK(t)==vK}var HR=bK;const _K=It(HR);var xK=HR;function wK(t){return xK(t)&&t!=+t}var EK=wK;const Gc=It(EK);var Fi=function(e){return e===0?0:e>0?1:-1},tl=function(e){return Al(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return _K(e)&&!Gc(e)},SK=function(e){return rt(e)},En=function(e){return Ee(e)||Al(e)},AK=0,Xc=function(e){var n=++AK;return"".concat(e||"").concat(n)},Tl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!Al(e))return r;var o;if(tl(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Gc(o)&&(o=r),i&&o>n&&(o=n),o},La=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},TK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Mn=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function dg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):hi(r,e))===n})}var PK=function(e,n){return Ee(e)&&Ee(n)?e-n:Al(e)&&Al(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Bu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function N_(t){"@babel/helpers - typeof";return N_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N_(t)}var IK=["viewBox","children"],OK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iP=["points","pathLength"],$0={svg:IK,polygon:iP,polyline:iP},aE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!qc(r))return null;var i={};return Object.keys(r).forEach(function(o){aE.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},CK=function(e,n,r){return function(i){return e(n,r,i),null}},mg=function(e,n,r){if(!qc(e)||N_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];aE.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=CK(a,n,r))}),i},kK=["children"],NK=["children"];function oP(t,e){if(t==null)return{};var n=jK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j_(t){"@babel/helpers - typeof";return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j_(t)}var aP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sP=null,L0=null,sE=function t(e){if(e===sP&&Array.isArray(L0))return L0;var n=[];return q.Children.forEach(e,function(r){rt(r)||(mK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),L0=n,sP=e,n};function di(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Xo(i)}):r=[Xo(e)],sE(t).forEach(function(i){var o=hi(i,"type.displayName")||hi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function zr(t,e){var n=di(t,e);return n&&n[0]}var lP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},RK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DK=function(e){return e&&e.type&&Al(e.type)&&RK.indexOf(e.type)>=0},GR=function(e){return e&&j_(e)==="object"&&"clipDot"in e},MK=function(e,n,r,i){var o,a=(o=$0==null?void 0:$0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!et(e)&&(i&&a.includes(n)||OK.includes(n))||r&&aE.includes(n)},nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!qc(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;MK((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},R_=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return uP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!uP(o,a))return!1}return!0},uP=function(e,n){if(rt(e)&&rt(n))return!0;if(!rt(e)&&!rt(n)){var r=e.props||{},i=r.children,o=oP(r,kK),a=n.props||{},s=a.children,l=oP(a,NK);return i&&s?Bu(o,l)&&R_(i,s):!i&&!s?Bu(o,l):!1}return!1},cP=function(e,n){var r=[],i={};return sE(e).forEach(function(o,a){if(DK(o))r.push(o);else if(o){var s=Xo(o.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(o,s,a);r.push(c),i[s]=!0}}}),r},$K=function(e){var n=e&&e.type;return n&&aP[n]?aP[n]:null},LK=function(e,n){return sE(n).indexOf(e)},VK=["children","width","height","viewBox","className","style","title","desc"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function FK(t,e){if(t==null)return{};var n=zK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=FK(t,VK),f=i||{width:n,height:r,x:0,y:0},c=ht("recharts-surface",o);return K.createElement("svg",D_({},nt(u,!0,"svg"),{className:c,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),K.createElement("title",null,s),K.createElement("desc",null,l),e)}var BK=["children","className"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function UK(t,e){if(t==null)return{};var n=qK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Lt=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=UK(t,BK),o=ht("recharts-layer",r);return K.createElement("g",$_({className:o},nt(i,!0),{ref:e}),n)}),Yo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function KK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var WK=KK,HK=WK;function GK(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:HK(t,e,n)}var XK=GK,YK="\\ud800-\\udfff",QK="\\u0300-\\u036f",JK="\\ufe20-\\ufe2f",ZK="\\u20d0-\\u20ff",eW=QK+JK+ZK,tW="\\ufe0e\\ufe0f",nW="\\u200d",rW=RegExp("["+nW+YK+eW+tW+"]");function iW(t){return rW.test(t)}var XR=iW;function oW(t){return t.split("")}var aW=oW,YR="\\ud800-\\udfff",sW="\\u0300-\\u036f",lW="\\ufe20-\\ufe2f",uW="\\u20d0-\\u20ff",cW=sW+lW+uW,fW="\\ufe0e\\ufe0f",hW="["+YR+"]",L_="["+cW+"]",V_="\\ud83c[\\udffb-\\udfff]",dW="(?:"+L_+"|"+V_+")",QR="[^"+YR+"]",JR="(?:\\ud83c[\\udde6-\\uddff]){2}",ZR="[\\ud800-\\udbff][\\udc00-\\udfff]",pW="\\u200d",eD=dW+"?",tD="["+fW+"]?",mW="(?:"+pW+"(?:"+[QR,JR,ZR].join("|")+")"+tD+eD+")*",gW=tD+eD+mW,yW="(?:"+[QR+L_+"?",L_,JR,ZR,hW].join("|")+")",vW=RegExp(V_+"(?="+V_+")|"+yW+gW,"g");function bW(t){return t.match(vW)||[]}var _W=bW,xW=aW,wW=XR,EW=_W;function SW(t){return wW(t)?EW(t):xW(t)}var AW=SW,TW=XK,PW=XR,IW=AW,OW=BR;function CW(t){return function(e){e=OW(e);var n=PW(e)?IW(e):void 0,r=n?n[0]:e.charAt(0),i=n?TW(n,1).join(""):e.slice(1);return r[t]()+i}}var kW=CW,NW=kW,jW=NW("toUpperCase"),RW=jW;const gv=It(RW);function Dt(t){return function(){return t}}const nD=Math.cos,gg=Math.sin,Wi=Math.sqrt,yg=Math.PI,yv=2*yg,F_=Math.PI,z_=2*F_,Gs=1e-6,DW=z_-Gs;function rD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function MW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $W{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rD:MW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,f=a-e,c=s-n,p=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Gs)if(!(Math.abs(c*l-u*f)>Gs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,b=i-s,v=l*l+u*u,w=y*y+b*b,S=Math.sqrt(v),A=Math.sqrt(p),P=o*Math.tan((F_-Math.acos((v+p-w)/(2*S*A)))/2),D=P/A,I=P/S;Math.abs(D-1)>Gs&&this._append`L${e+D*f},${n+D*c}`,this._append`A${o},${o},0,0,${+(c*y>f*b)},${this._x1=e+I*l},${this._y1=n+I*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,c=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Gs||Math.abs(this._y1-f)>Gs)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%z_+z_),p>DW?this._append`A${r},${r},0,1,${c},${e-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:p>Gs&&this._append`A${r},${r},0,${+(p>=F_)},${c},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $W(e)}function uE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iD(t){this._context=t}iD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vv(t){return new iD(t)}function oD(t){return t[0]}function aD(t){return t[1]}function sD(t,e){var n=Dt(!0),r=null,i=vv,o=null,a=lE(s);t=typeof t=="function"?t:t===void 0?oD:Dt(t),e=typeof e=="function"?e:e===void 0?aD:Dt(e);function s(l){var u,f=(l=uE(l)).length,c,p=!1,y;for(r==null&&(o=i(y=a())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(c,u,l),+e(c,u,l));if(y)return o=null,y+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Dt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Dt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Dt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function $p(t,e,n){var r=null,i=Dt(!0),o=null,a=vv,s=null,l=lE(u);t=typeof t=="function"?t:t===void 0?oD:Dt(+t),e=typeof e=="function"?e:Dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?aD:Dt(+n);function u(c){var p,y,b,v=(c=uE(c)).length,w,S=!1,A,P=new Array(v),D=new Array(v);for(o==null&&(s=a(A=l())),p=0;p<=v;++p){if(!(p<v&&i(w=c[p],p,c))===S)if(S=!S)y=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=p-1;b>=y;--b)s.point(P[b],D[b]);s.lineEnd(),s.areaEnd()}S&&(P[p]=+t(w,p,c),D[p]=+e(w,p,c),s.point(r?+r(w,p,c):P[p],n?+n(w,p,c):D[p]))}if(A)return s=null,A+""||null}function f(){return sD().defined(i).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Dt(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Dt(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Dt(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Dt(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Dt(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Dt(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Dt(!!c),u):i},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}class lD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function LW(t){return new lD(t,!0)}function VW(t){return new lD(t,!1)}const cE={draw(t,e){const n=Wi(e/yg);t.moveTo(n,0),t.arc(0,0,n,0,yv)}},FW={draw(t,e){const n=Wi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uD=Wi(1/3),zW=uD*2,BW={draw(t,e){const n=Wi(e/zW),r=n*uD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},UW={draw(t,e){const n=Wi(e),r=-n/2;t.rect(r,r,n,n)}},qW=.8908130915292852,cD=gg(yg/10)/gg(7*yg/10),KW=gg(yv/10)*cD,WW=-nD(yv/10)*cD,HW={draw(t,e){const n=Wi(e*qW),r=KW*n,i=WW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=yv*o/5,s=nD(a),l=gg(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},V0=Wi(3),GW={draw(t,e){const n=-Wi(e/(V0*3));t.moveTo(0,n*2),t.lineTo(-V0*n,-n),t.lineTo(V0*n,-n),t.closePath()}},ni=-.5,ri=Wi(3)/2,B_=1/Wi(12),XW=(B_/2+1)*3,YW={draw(t,e){const n=Wi(e/XW),r=n/2,i=n*B_,o=r,a=n*B_+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ni*r-ri*i,ri*r+ni*i),t.lineTo(ni*o-ri*a,ri*o+ni*a),t.lineTo(ni*s-ri*l,ri*s+ni*l),t.lineTo(ni*r+ri*i,ni*i-ri*r),t.lineTo(ni*o+ri*a,ni*a-ri*o),t.lineTo(ni*s+ri*l,ni*l-ri*s),t.closePath()}};function QW(t,e){let n=null,r=lE(i);t=typeof t=="function"?t:Dt(t||cE),e=typeof e=="function"?e:Dt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Dt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Dt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function vg(){}function bg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fD(t){this._context=t}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JW(t){return new fD(t)}function hD(t){this._context=t}hD.prototype={areaStart:vg,areaEnd:vg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZW(t){return new hD(t)}function dD(t){this._context=t}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eH(t){return new dD(t)}function pD(t){this._context=t}pD.prototype={areaStart:vg,areaEnd:vg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tH(t){return new pD(t)}function fP(t){return t<0?-1:1}function hP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(fP(o)+fP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function dP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function F0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F0(this,this._t0,dP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F0(this,dP(this,n=hP(this,t,e)),n);break;default:F0(this,this._t0,n=hP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mD(t){this._context=new gD(t)}(mD.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function gD(t){this._context=t}gD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function nH(t){return new _g(t)}function rH(t){return new mD(t)}function yD(t){this._context=t}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pP(t),i=pP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function iH(t){return new yD(t)}function bv(t,e){this._context=t,this._t=e}bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function oH(t){return new bv(t,.5)}function aH(t){return new bv(t,0)}function sH(t){return new bv(t,1)}function ac(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function U_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lH(t,e){return t[e]}function uH(t){const e=[];return e.key=t,e}function cH(){var t=Dt([]),e=U_,n=ac,r=lH;function i(o){var a=Array.from(t.apply(this,arguments),uH),s,l=a.length,u=-1,f;for(const c of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(c,a[s].key,u,o)]).data=c;for(s=0,f=uE(e(a));s<l;++s)a[f[s]].index=s;return n(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Dt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Dt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?U_:typeof o=="function"?o:Dt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ac,i):n},i}function fH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ac(t,e)}}function hH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ac(t,e)}}function dH(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var f=t[e[s]],c=f[r][1]||0,p=f[r-1][1]||0,y=(c-p)/2,b=0;b<s;++b){var v=t[e[b]],w=v[r][1]||0,S=v[r-1][1]||0;y+=w-S}l+=c,u+=y*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ac(t,e)}}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}var pH=["type","size","sizeType"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){mH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mH(t,e,n){return e=gH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=yH(t,"string");return Bh(e)=="symbol"?e:e+""}function yH(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vH(t,e){if(t==null)return{};var n=bH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vD={symbolCircle:cE,symbolCross:FW,symbolDiamond:BW,symbolSquare:UW,symbolStar:HW,symbolTriangle:GW,symbolWye:YW},_H=Math.PI/180,xH=function(e){var n="symbol".concat(gv(e));return vD[n]||cE},wH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_H;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EH=function(e,n){vD["symbol".concat(gv(e))]=n},fE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=vH(e,pH),u=gP(gP({},l),{},{type:r,size:o,sizeType:s}),f=function(){var w=xH(r),S=QW().type(w).size(wH(o,s,r));return S()},c=u.className,p=u.cx,y=u.cy,b=nt(u,!0);return p===+p&&y===+y&&o===+o?K.createElement("path",q_({},b,{className:ht("recharts-symbols",c),transform:"translate(".concat(p,", ").concat(y,")"),d:f()})):null};fE.registerSymbol=EH;function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_D(r.key),r)}}function PH(t,e,n){return e&&TH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IH(t,e,n){return e=xg(e),OH(t,bD()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function OH(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CH(t)}function CH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function kH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function Uh(t,e,n){return e=_D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _D(t){var e=NH(t,"string");return sc(e)=="symbol"?e:e+""}function NH(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ii=32,hE=function(t){function e(){return AH(this,e),IH(this,e,arguments)}return kH(e,t),PH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ii/2,a=ii/6,s=ii/3,l=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ii,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ii,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var u=SH({},r);return delete u.legendIcon,K.cloneElement(r.legendIcon,u)}return K.createElement(fE,{fill:l,cx:o,cy:o,size:ii,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ii,height:ii},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,b){var v=y.formatter||l,w=ht(Uh(Uh({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",y.inactive));if(y.type==="none")return null;var S=et(y.value)?null:y.value;Yo(!et(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?u:y.color;return K.createElement("li",K_({className:w,style:c,key:"legend-item-".concat(b)},mg(r.props,y,b)),K.createElement(M_,{width:a,height:a,viewBox:f,style:p},r.renderIcon(y)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},v?v(S,y,b):S))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(q.PureComponent);Uh(hE,"displayName","Legend");Uh(hE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jH=rv;function RH(){this.__data__=new jH,this.size=0}var DH=RH;function MH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $H=MH;function LH(t){return this.__data__.get(t)}var VH=LH;function FH(t){return this.__data__.has(t)}var zH=FH,BH=rv,UH=Z1,qH=eE,KH=200;function WH(t,e){var n=this.__data__;if(n instanceof BH){var r=n.__data__;if(!UH||r.length<KH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qH(r)}return n.set(t,e),this.size=n.size,this}var HH=WH,GH=rv,XH=DH,YH=$H,QH=VH,JH=zH,ZH=HH;function Yc(t){var e=this.__data__=new GH(t);this.size=e.size}Yc.prototype.clear=XH;Yc.prototype.delete=YH;Yc.prototype.get=QH;Yc.prototype.has=JH;Yc.prototype.set=ZH;var xD=Yc,eG="__lodash_hash_undefined__";function tG(t){return this.__data__.set(t,eG),this}var nG=tG;function rG(t){return this.__data__.has(t)}var iG=rG,oG=eE,aG=nG,sG=iG;function wg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new oG;++e<n;)this.add(t[e])}wg.prototype.add=wg.prototype.push=aG;wg.prototype.has=sG;var wD=wg;function lG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ED=lG;function uG(t,e){return t.has(e)}var SD=uG,cG=wD,fG=ED,hG=SD,dG=1,pG=2;function mG(t,e,n,r,i,o){var a=n&dG,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var c=-1,p=!0,y=n&pG?new cG:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var b=t[c],v=e[c];if(r)var w=a?r(v,b,c,e,t,o):r(b,v,c,t,e,o);if(w!==void 0){if(w)continue;p=!1;break}if(y){if(!fG(e,function(S,A){if(!hG(y,A)&&(b===S||i(b,S,n,r,o)))return y.push(A)})){p=!1;break}}else if(!(b===v||i(b,v,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}var AD=mG,gG=Ao,yG=gG.Uint8Array,vG=yG;function bG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _G=bG;function xG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var dE=xG,vP=qd,bP=vG,wG=J1,EG=AD,SG=_G,AG=dE,TG=1,PG=2,IG="[object Boolean]",OG="[object Date]",CG="[object Error]",kG="[object Map]",NG="[object Number]",jG="[object RegExp]",RG="[object Set]",DG="[object String]",MG="[object Symbol]",$G="[object ArrayBuffer]",LG="[object DataView]",_P=vP?vP.prototype:void 0,z0=_P?_P.valueOf:void 0;function VG(t,e,n,r,i,o,a){switch(n){case LG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $G:return!(t.byteLength!=e.byteLength||!o(new bP(t),new bP(e)));case IG:case OG:case NG:return wG(+t,+e);case CG:return t.name==e.name&&t.message==e.message;case jG:case DG:return t==e+"";case kG:var s=SG;case RG:var l=r&TG;if(s||(s=AG),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=PG,a.set(t,e);var f=EG(s(t),s(e),r,i,o,a);return a.delete(t),f;case MG:if(z0)return z0.call(t)==z0.call(e)}return!1}var FG=VG;function zG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var TD=zG,BG=TD,UG=Nr;function qG(t,e,n){var r=e(t);return UG(t)?r:BG(r,n(t))}var KG=qG;function WG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var HG=WG;function GG(){return[]}var XG=GG,YG=HG,QG=XG,JG=Object.prototype,ZG=JG.propertyIsEnumerable,xP=Object.getOwnPropertySymbols,eX=xP?function(t){return t==null?[]:(t=Object(t),YG(xP(t),function(e){return ZG.call(t,e)}))}:QG,tX=eX;function nX(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var rX=nX,iX=fa,oX=ha,aX="[object Arguments]";function sX(t){return oX(t)&&iX(t)==aX}var lX=sX,wP=lX,uX=ha,PD=Object.prototype,cX=PD.hasOwnProperty,fX=PD.propertyIsEnumerable,hX=wP(function(){return arguments}())?wP:function(t){return uX(t)&&cX.call(t,"callee")&&!fX.call(t,"callee")},pE=hX,Eg={exports:{}};function dX(){return!1}var pX=dX;Eg.exports;(function(t,e){var n=Ao,r=pX,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Eg,Eg.exports);var ID=Eg.exports,mX=9007199254740991,gX=/^(?:0|[1-9]\d*)$/;function yX(t,e){var n=typeof t;return e=e??mX,!!e&&(n=="number"||n!="symbol"&&gX.test(t))&&t>-1&&t%1==0&&t<e}var mE=yX,vX=9007199254740991;function bX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vX}var gE=bX,_X=fa,xX=gE,wX=ha,EX="[object Arguments]",SX="[object Array]",AX="[object Boolean]",TX="[object Date]",PX="[object Error]",IX="[object Function]",OX="[object Map]",CX="[object Number]",kX="[object Object]",NX="[object RegExp]",jX="[object Set]",RX="[object String]",DX="[object WeakMap]",MX="[object ArrayBuffer]",$X="[object DataView]",LX="[object Float32Array]",VX="[object Float64Array]",FX="[object Int8Array]",zX="[object Int16Array]",BX="[object Int32Array]",UX="[object Uint8Array]",qX="[object Uint8ClampedArray]",KX="[object Uint16Array]",WX="[object Uint32Array]",Ft={};Ft[LX]=Ft[VX]=Ft[FX]=Ft[zX]=Ft[BX]=Ft[UX]=Ft[qX]=Ft[KX]=Ft[WX]=!0;Ft[EX]=Ft[SX]=Ft[MX]=Ft[AX]=Ft[$X]=Ft[TX]=Ft[PX]=Ft[IX]=Ft[OX]=Ft[CX]=Ft[kX]=Ft[NX]=Ft[jX]=Ft[RX]=Ft[DX]=!1;function HX(t){return wX(t)&&xX(t.length)&&!!Ft[_X(t)]}var GX=HX;function XX(t){return function(e){return t(e)}}var OD=XX,Sg={exports:{}};Sg.exports;(function(t,e){var n=MR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Sg,Sg.exports);var YX=Sg.exports,QX=GX,JX=OD,EP=YX,SP=EP&&EP.isTypedArray,ZX=SP?JX(SP):QX,CD=ZX,eY=rX,tY=pE,nY=Nr,rY=ID,iY=mE,oY=CD,aY=Object.prototype,sY=aY.hasOwnProperty;function lY(t,e){var n=nY(t),r=!n&&tY(t),i=!n&&!r&&rY(t),o=!n&&!r&&!i&&oY(t),a=n||r||i||o,s=a?eY(t.length,String):[],l=s.length;for(var u in t)(e||sY.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||iY(u,l)))&&s.push(u);return s}var uY=lY,cY=Object.prototype;function fY(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cY;return t===n}var hY=fY;function dY(t,e){return function(n){return t(e(n))}}var kD=dY,pY=kD,mY=pY(Object.keys,Object),gY=mY,yY=hY,vY=gY,bY=Object.prototype,_Y=bY.hasOwnProperty;function xY(t){if(!yY(t))return vY(t);var e=[];for(var n in Object(t))_Y.call(t,n)&&n!="constructor"&&e.push(n);return e}var wY=xY,EY=Q1,SY=gE;function AY(t){return t!=null&&SY(t.length)&&!EY(t)}var Kd=AY,TY=uY,PY=wY,IY=Kd;function OY(t){return IY(t)?TY(t):PY(t)}var _v=OY,CY=KG,kY=tX,NY=_v;function jY(t){return CY(t,NY,kY)}var RY=jY,AP=RY,DY=1,MY=Object.prototype,$Y=MY.hasOwnProperty;function LY(t,e,n,r,i,o){var a=n&DY,s=AP(t),l=s.length,u=AP(e),f=u.length;if(l!=f&&!a)return!1;for(var c=l;c--;){var p=s[c];if(!(a?p in e:$Y.call(e,p)))return!1}var y=o.get(t),b=o.get(e);if(y&&b)return y==e&&b==t;var v=!0;o.set(t,e),o.set(e,t);for(var w=a;++c<l;){p=s[c];var S=t[p],A=e[p];if(r)var P=a?r(A,S,p,e,t,o):r(S,A,p,t,e,o);if(!(P===void 0?S===A||i(S,A,n,r,o):P)){v=!1;break}w||(w=p=="constructor")}if(v&&!w){var D=t.constructor,I=e.constructor;D!=I&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(v=!1)}return o.delete(t),o.delete(e),v}var VY=LY,FY=Dl,zY=Ao,BY=FY(zY,"DataView"),UY=BY,qY=Dl,KY=Ao,WY=qY(KY,"Promise"),HY=WY,GY=Dl,XY=Ao,YY=GY(XY,"Set"),ND=YY,QY=Dl,JY=Ao,ZY=QY(JY,"WeakMap"),eQ=ZY,H_=UY,G_=Z1,X_=HY,Y_=ND,Q_=eQ,jD=fa,Qc=LR,TP="[object Map]",tQ="[object Object]",PP="[object Promise]",IP="[object Set]",OP="[object WeakMap]",CP="[object DataView]",nQ=Qc(H_),rQ=Qc(G_),iQ=Qc(X_),oQ=Qc(Y_),aQ=Qc(Q_),Xs=jD;(H_&&Xs(new H_(new ArrayBuffer(1)))!=CP||G_&&Xs(new G_)!=TP||X_&&Xs(X_.resolve())!=PP||Y_&&Xs(new Y_)!=IP||Q_&&Xs(new Q_)!=OP)&&(Xs=function(t){var e=jD(t),n=e==tQ?t.constructor:void 0,r=n?Qc(n):"";if(r)switch(r){case nQ:return CP;case rQ:return TP;case iQ:return PP;case oQ:return IP;case aQ:return OP}return e});var sQ=Xs,B0=xD,lQ=AD,uQ=FG,cQ=VY,kP=sQ,NP=Nr,jP=ID,fQ=CD,hQ=1,RP="[object Arguments]",DP="[object Array]",Lp="[object Object]",dQ=Object.prototype,MP=dQ.hasOwnProperty;function pQ(t,e,n,r,i,o){var a=NP(t),s=NP(e),l=a?DP:kP(t),u=s?DP:kP(e);l=l==RP?Lp:l,u=u==RP?Lp:u;var f=l==Lp,c=u==Lp,p=l==u;if(p&&jP(t)){if(!jP(e))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new B0),a||fQ(t)?lQ(t,e,n,r,i,o):uQ(t,e,l,n,r,i,o);if(!(n&hQ)){var y=f&&MP.call(t,"__wrapped__"),b=c&&MP.call(e,"__wrapped__");if(y||b){var v=y?t.value():t,w=b?e.value():e;return o||(o=new B0),i(v,w,n,r,o)}}return p?(o||(o=new B0),cQ(t,e,n,r,i,o)):!1}var mQ=pQ,gQ=mQ,$P=ha;function RD(t,e,n,r,i){return t===e?!0:t==null||e==null||!$P(t)&&!$P(e)?t!==t&&e!==e:gQ(t,e,n,r,RD,i)}var yE=RD,yQ=xD,vQ=yE,bQ=1,_Q=2;function xQ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],f=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var c=new yQ;if(r)var p=r(u,f,l,t,e,c);if(!(p===void 0?vQ(f,u,bQ|_Q,r,c):p))return!1}}return!0}var wQ=xQ,EQ=bs;function SQ(t){return t===t&&!EQ(t)}var DD=SQ,AQ=DD,TQ=_v;function PQ(t){for(var e=TQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,AQ(i)]}return e}var IQ=PQ;function OQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var MD=OQ,CQ=wQ,kQ=IQ,NQ=MD;function jQ(t){var e=kQ(t);return e.length==1&&e[0][2]?NQ(e[0][0],e[0][1]):function(n){return n===t||CQ(n,t,e)}}var RQ=jQ;function DQ(t,e){return t!=null&&e in Object(t)}var MQ=DQ,$Q=UR,LQ=pE,VQ=Nr,FQ=mE,zQ=gE,BQ=ov;function UQ(t,e,n){e=$Q(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=BQ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&zQ(i)&&FQ(a,i)&&(VQ(t)||LQ(t)))}var qQ=UQ,KQ=MQ,WQ=qQ;function HQ(t,e){return t!=null&&WQ(t,e,KQ)}var GQ=HQ,XQ=yE,YQ=qR,QQ=GQ,JQ=Y1,ZQ=DD,eJ=MD,tJ=ov,nJ=1,rJ=2;function iJ(t,e){return JQ(t)&&ZQ(e)?eJ(tJ(t),e):function(n){var r=YQ(n,t);return r===void 0&&r===e?QQ(n,t):XQ(e,r,nJ|rJ)}}var oJ=iJ;function aJ(t){return t}var Jc=aJ;function sJ(t){return function(e){return e==null?void 0:e[t]}}var lJ=sJ,uJ=rE;function cJ(t){return function(e){return uJ(e,t)}}var fJ=cJ,hJ=lJ,dJ=fJ,pJ=Y1,mJ=ov;function gJ(t){return pJ(t)?hJ(mJ(t)):dJ(t)}var yJ=gJ,vJ=RQ,bJ=oJ,_J=Jc,xJ=Nr,wJ=yJ;function EJ(t){return typeof t=="function"?t:t==null?_J:typeof t=="object"?xJ(t)?bJ(t[0],t[1]):vJ(t):wJ(t)}var _s=EJ;function SJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $D=SJ;function AJ(t){return t!==t}var TJ=AJ;function PJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var IJ=PJ,OJ=$D,CJ=TJ,kJ=IJ;function NJ(t,e,n){return e===e?kJ(t,e,n):OJ(t,CJ,n)}var jJ=NJ,RJ=jJ;function DJ(t,e){var n=t==null?0:t.length;return!!n&&RJ(t,e,0)>-1}var MJ=DJ;function $J(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var LJ=$J;function VJ(){}var FJ=VJ,U0=ND,zJ=FJ,BJ=dE,UJ=1/0,qJ=U0&&1/BJ(new U0([,-0]))[1]==UJ?function(t){return new U0(t)}:zJ,KJ=qJ,WJ=wD,HJ=MJ,GJ=LJ,XJ=SD,YJ=KJ,QJ=dE,JJ=200;function ZJ(t,e,n){var r=-1,i=HJ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=GJ;else if(o>=JJ){var u=e?null:YJ(t);if(u)return QJ(u);a=!1,i=XJ,l=new WJ}else l=e?[]:s;e:for(;++r<o;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,a&&c===c){for(var p=l.length;p--;)if(l[p]===c)continue e;e&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var eZ=ZJ,tZ=_s,nZ=eZ;function rZ(t,e){return t&&t.length?nZ(t,tZ(e)):[]}var iZ=rZ;const LP=It(iZ);function LD(t,e,n){return e===!0?LP(t,n):et(e)?LP(t,e):t}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}var oZ=["ref"];function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function sZ(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lZ(t,e,n){return e=Ag(e),uZ(t,VD()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function uZ(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cZ(t)}function cZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function fZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function xv(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=hZ(t,"string");return lc(e)=="symbol"?e:e+""}function hZ(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dZ(t,e){if(t==null)return{};var n=pZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mZ(t){return t.value}function gZ(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=dZ(e,oZ);return K.createElement(hE,n)}var zP=1,cl=function(t){function e(){var n;aZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lZ(this,e,[].concat(i)),xv(n,"lastBoundingBox",{width:-1,height:-1}),n}return fZ(e,t),sZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zP||Math.abs(i.height-this.lastBoundingBox.height)>zP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ro({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();c={left:((u||0)-y.width)/2}}else c=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();p={top:((f||0)-b.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ro(Ro({},c),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=Ro(Ro({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return K.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(y){r.wrapperNode=y}},gZ(o,Ro(Ro({},this.props),{},{payload:LD(f,u,mZ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ro(Ro({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(q.PureComponent);xv(cl,"displayName","Legend");xv(cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BP=qd,yZ=pE,vZ=Nr,UP=BP?BP.isConcatSpreadable:void 0;function bZ(t){return vZ(t)||yZ(t)||!!(UP&&t&&t[UP])}var _Z=bZ,xZ=TD,wZ=_Z;function zD(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=wZ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?zD(s,e-1,n,r,i):xZ(i,s):r||(i[i.length]=s)}return i}var BD=zD;function EZ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var SZ=EZ,AZ=SZ,TZ=AZ(),PZ=TZ,IZ=PZ,OZ=_v;function CZ(t,e){return t&&IZ(t,e,OZ)}var UD=CZ,kZ=Kd;function NZ(t,e){return function(n,r){if(n==null)return n;if(!kZ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var jZ=NZ,RZ=UD,DZ=jZ,MZ=DZ(RZ),vE=MZ,$Z=vE,LZ=Kd;function VZ(t,e){var n=-1,r=LZ(t)?Array(t.length):[];return $Z(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var qD=VZ;function FZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var zZ=FZ,qP=Uc;function BZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=qP(t),a=e!==void 0,s=e===null,l=e===e,u=qP(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var UZ=BZ,qZ=UZ;function KZ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=qZ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var WZ=KZ,q0=nE,HZ=rE,GZ=_s,XZ=qD,YZ=zZ,QZ=OD,JZ=WZ,ZZ=Jc,eee=Nr;function tee(t,e,n){e.length?e=q0(e,function(o){return eee(o)?function(a){return HZ(a,o.length===1?o[0]:o)}:o}):e=[ZZ];var r=-1;e=q0(e,QZ(GZ));var i=XZ(t,function(o,a,s){var l=q0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return YZ(i,function(o,a){return JZ(o,a,n)})}var nee=tee;function ree(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var iee=ree,oee=iee,KP=Math.max;function aee(t,e,n){return e=KP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=KP(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),oee(t,this,s)}}var see=aee;function lee(t){return function(){return t}}var uee=lee,cee=Dl,fee=function(){try{var t=cee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),KD=fee,hee=uee,WP=KD,dee=Jc,pee=WP?function(t,e){return WP(t,"toString",{configurable:!0,enumerable:!1,value:hee(e),writable:!0})}:dee,mee=pee,gee=800,yee=16,vee=Date.now;function bee(t){var e=0,n=0;return function(){var r=vee(),i=yee-(r-n);if(n=r,i>0){if(++e>=gee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _ee=bee,xee=mee,wee=_ee,Eee=wee(xee),See=Eee,Aee=Jc,Tee=see,Pee=See;function Iee(t,e){return Pee(Tee(t,e,Aee),t+"")}var Oee=Iee,Cee=J1,kee=Kd,Nee=mE,jee=bs;function Ree(t,e,n){if(!jee(n))return!1;var r=typeof e;return(r=="number"?kee(n)&&Nee(e,n.length):r=="string"&&e in n)?Cee(n[e],t):!1}var wv=Ree,Dee=BD,Mee=nee,$ee=Oee,HP=wv,Lee=$ee(function(t,e){if(t==null)return[];var n=e.length;return n>1&&HP(t,e[0],e[1])?e=[]:n>2&&HP(e[0],e[1],e[2])&&(e=[e[0]]),Mee(t,Dee(e,1),[])}),Vee=Lee;const bE=It(Vee);function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function Fee(t,e){return qee(t)||Uee(t,e)||Bee(t,e)||zee()}function zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qee(t){if(Array.isArray(t))return t}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return e=Wee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=Hee(t,"string");return qh(e)=="symbol"?e:e+""}function Hee(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gee(t){return Array.isArray(t)&&En(t[0])&&En(t[1])?t.join(" ~ "):t}var Xee=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,c=e.formatter,p=e.itemSorter,y=e.wrapperClassName,b=e.labelClassName,v=e.label,w=e.labelFormatter,S=e.accessibilityLayer,A=S===void 0?!1:S,P=function(){if(f&&f.length){var $={padding:0,margin:0},L=(p?bE(f,p):f).map(function(re,ie){if(re.type==="none")return null;var ce=K0({display:"block",paddingTop:4,paddingBottom:4,color:re.color||"#000"},s),pe=re.formatter||c||Gee,ne=re.value,ae=re.name,ye=ne,Te=ae;if(pe&&ye!=null&&Te!=null){var be=pe(ne,ae,re,ie,f);if(Array.isArray(be)){var Re=Fee(be,2);ye=Re[0],Te=Re[1]}else ye=be}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:ce},En(Te)?K.createElement("span",{className:"recharts-tooltip-item-name"},Te):null,En(Te)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ye),K.createElement("span",{className:"recharts-tooltip-item-unit"},re.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},D=K0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=K0({margin:0},u),O=!rt(v),x=O?v:"",T=ht("recharts-default-tooltip",y),k=ht("recharts-tooltip-label",b);O&&w&&f!==void 0&&f!==null&&(x=w(v,f));var M=A?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",Z_({className:T,style:D},M),K.createElement("p",{className:k,style:I},K.isValidElement(x)?x:"".concat(x)),P())};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function Vp(t,e,n){return e=Yee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Qee(t,"string");return Kh(e)=="symbol"?e:e+""}function Qee(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var If="recharts-tooltip-wrapper",Jee={visibility:"hidden"};function Zee(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ht(If,Vp(Vp(Vp(Vp({},"".concat(If,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(If,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(If,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(If,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function YP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Ee(o[r]))return o[r];var f=n[r]-s-i,c=n[r]+i;if(e[r])return a[r]?f:c;if(a[r]){var p=f,y=l[r];return p<y?Math.max(c,l[r]):Math.max(f,l[r])}var b=c+s,v=l[r]+u;return b>v?Math.max(f,l[r]):Math.max(c,l[r])}function ete(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function tte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,c;return a.height>0&&a.width>0&&n?(f=YP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),c=YP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=ete({translateX:f,translateY:c,useTranslate3d:s})):u=Jee,{cssProperties:u,cssClasses:Zee({translateX:f,translateY:c,coordinate:n})}}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HD(r.key),r)}}function ite(t,e,n){return e&&rte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ote(t,e,n){return e=Tg(e),ate(t,WD()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function ate(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ste(t)}function ste(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function lte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function tx(t,e,n){return e=HD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HD(t){var e=ute(t,"string");return uc(e)=="symbol"?e:e+""}function ute(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZP=1,cte=function(t){function e(){var n;nte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ote(this,e,[].concat(i)),tx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tx(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return lte(e,t),ite(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ZP||Math.abs(r.height-this.state.lastBoundingBox.height)>ZP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,p=i.isAnimationActive,y=i.offset,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,P=tte({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:y,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:S}),D=P.cssClasses,I=P.cssProperties,O=JP(JP({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&c?"visible":"hidden",position:"absolute",top:0,left:0},A);return K.createElement("div",{tabIndex:-1,className:D,style:O,ref:function(T){r.wrapperNode=T}},u)}}])}(q.PureComponent),fte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ml={isSsr:fte()};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XD(r.key),r)}}function pte(t,e,n){return e&&dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mte(t,e,n){return e=Pg(e),gte(t,GD()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function gte(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yte(t)}function yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function _E(t,e,n){return e=XD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XD(t){var e=bte(t,"string");return cc(e)=="symbol"?e:e+""}function bte(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _te(t){return t.dataKey}function xte(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(Xee,e)}var fn=function(t){function e(){return hte(this,e),mte(this,e,arguments)}return vte(e,t),pte(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,p=i.isAnimationActive,y=i.offset,b=i.payload,v=i.payloadUniqBy,w=i.position,S=i.reverseDirection,A=i.useTranslate3d,P=i.viewBox,D=i.wrapperStyle,I=b??[];c&&I.length&&(I=LD(b.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),v,_te));var O=I.length>0;return K.createElement(cte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:f,hasPayload:O,offset:y,position:w,reverseDirection:S,useTranslate3d:A,viewBox:P,wrapperStyle:D},xte(u,tI(tI({},this.props),{},{payload:I})))}}])}(q.PureComponent);_E(fn,"displayName","Tooltip");_E(fn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wte=Ao,Ete=function(){return wte.Date.now()},Ste=Ete,Ate=/\s/;function Tte(t){for(var e=t.length;e--&&Ate.test(t.charAt(e)););return e}var Pte=Tte,Ite=Pte,Ote=/^\s+/;function Cte(t){return t&&t.slice(0,Ite(t)+1).replace(Ote,"")}var kte=Cte,Nte=kte,nI=bs,jte=Uc,rI=NaN,Rte=/^[-+]0x[0-9a-f]+$/i,Dte=/^0b[01]+$/i,Mte=/^0o[0-7]+$/i,$te=parseInt;function Lte(t){if(typeof t=="number")return t;if(jte(t))return rI;if(nI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=nI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nte(t);var n=Dte.test(t);return n||Mte.test(t)?$te(t.slice(2),n?2:8):Rte.test(t)?rI:+t}var YD=Lte,Vte=bs,W0=Ste,iI=YD,Fte="Expected a function",zte=Math.max,Bte=Math.min;function Ute(t,e,n){var r,i,o,a,s,l,u=0,f=!1,c=!1,p=!0;if(typeof t!="function")throw new TypeError(Fte);e=iI(e)||0,Vte(n)&&(f=!!n.leading,c="maxWait"in n,o=c?zte(iI(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function y(O){var x=r,T=i;return r=i=void 0,u=O,a=t.apply(T,x),a}function b(O){return u=O,s=setTimeout(S,e),f?y(O):a}function v(O){var x=O-l,T=O-u,k=e-x;return c?Bte(k,o-T):k}function w(O){var x=O-l,T=O-u;return l===void 0||x>=e||x<0||c&&T>=o}function S(){var O=W0();if(w(O))return A(O);s=setTimeout(S,v(O))}function A(O){return s=void 0,p&&r?y(O):(r=i=void 0,a)}function P(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function D(){return s===void 0?a:A(W0())}function I(){var O=W0(),x=w(O);if(r=arguments,i=this,l=O,x){if(s===void 0)return b(l);if(c)return clearTimeout(s),s=setTimeout(S,e),y(l)}return s===void 0&&(s=setTimeout(S,e)),a}return I.cancel=P,I.flush=D,I}var qte=Ute,Kte=qte,Wte=bs,Hte="Expected a function";function Gte(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Hte);return Wte(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Kte(t,e,{leading:r,maxWait:e,trailing:i})}var Xte=Gte;const QD=It(Xte);function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yte(t,e,n){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Jte(t,"string");return Wh(e)=="symbol"?e:e+""}function Jte(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zte(t,e){return rne(t)||nne(t,e)||tne(t,e)||ene()}function ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(t,e){if(t){if(typeof t=="string")return aI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(t,e)}}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rne(t){if(Array.isArray(t))return t}var $i=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,c=t.minHeight,p=t.maxHeight,y=t.children,b=t.debounce,v=b===void 0?0:b,w=t.id,S=t.className,A=t.onResize,P=t.style,D=P===void 0?{}:P,I=q.useRef(null),O=q.useRef();O.current=A,q.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var x=q.useState({containerWidth:i.width,containerHeight:i.height}),T=Zte(x,2),k=T[0],M=T[1],R=q.useCallback(function(L,re){M(function(ie){var ce=Math.round(L),pe=Math.round(re);return ie.containerWidth===ce&&ie.containerHeight===pe?ie:{containerWidth:ce,containerHeight:pe}})},[]);q.useEffect(function(){var L=function(ae){var ye,Te=ae[0].contentRect,be=Te.width,Re=Te.height;R(be,Re),(ye=O.current)===null||ye===void 0||ye.call(O,be,Re)};v>0&&(L=QD(L,v,{trailing:!0,leading:!1}));var re=new ResizeObserver(L),ie=I.current.getBoundingClientRect(),ce=ie.width,pe=ie.height;return R(ce,pe),re.observe(I.current),function(){re.disconnect()}},[R,v]);var $=q.useMemo(function(){var L=k.containerWidth,re=k.containerHeight;if(L<0||re<0)return null;Yo(tl(a)||tl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Yo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ie=tl(a)?L:a,ce=tl(l)?re:l;n&&n>0&&(ie?ce=ie/n:ce&&(ie=ce*n),p&&ce>p&&(ce=p)),Yo(ie>0||ce>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,ce,a,l,f,c,n);var pe=!Array.isArray(y)&&Xo(y.type).endsWith("Chart");return K.Children.map(y,function(ne){return K.isValidElement(ne)?q.cloneElement(ne,Fp({width:ie,height:ce},pe?{style:Fp({height:"100%",width:"100%",maxHeight:ce,maxWidth:ie},ne.props.style)}:{})):ne})},[n,y,l,p,c,f,k,a]);return K.createElement("div",{id:w?"".concat(w):void 0,className:ht("recharts-responsive-container",S),style:Fp(Fp({},D),{},{width:a,height:l,minWidth:f,minHeight:c,maxHeight:p}),ref:I},$)}),Wd=function(e){return null};Wd.displayName="Cell";function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return e=one(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=ane(t,"string");return Hh(e)=="symbol"?e:e+""}function ane(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou={widthCache:{},cacheCount:0},sne=2e3,lne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lI="recharts_measurement_span";function une(t){var e=rx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ch=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ml.isSsr)return{width:0,height:0};var r=une(n),i=JSON.stringify({text:e,copyStyle:r});if(ou.widthCache[i])return ou.widthCache[i];try{var o=document.getElementById(lI);o||(o=document.createElement("span"),o.setAttribute("id",lI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=rx(rx({},lne),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ou.widthCache[i]=l,++ou.cacheCount>sne&&(ou.cacheCount=0,ou.widthCache={}),l}catch{return{width:0,height:0}}},cne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Ig(t,e){return pne(t)||dne(t,e)||hne(t,e)||fne()}function fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(t,e)}}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pne(t){if(Array.isArray(t))return t}function mne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yne(r.key),r)}}function gne(t,e,n){return e&&cI(t.prototype,e),n&&cI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yne(t){var e=vne(t,"string");return Gh(e)=="symbol"?e:e+""}function vne(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_ne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xne=Object.keys(JD),Iu="NaN";function wne(t,e){return t*JD[e]}var zp=function(){function t(e,n){mne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bne.test(n)&&(this.num=NaN,this.unit=""),xne.includes(n)&&(this.num=wne(e,n),this.unit="px")}return gne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_ne.exec(n))!==null&&r!==void 0?r:[],o=Ig(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function ZD(t){if(t.includes(Iu))return Iu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=fI.exec(e))!==null&&n!==void 0?n:[],i=Ig(r,4),o=i[1],a=i[2],s=i[3],l=zp.parse(o??""),u=zp.parse(s??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Iu;e=e.replace(fI,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,p=(c=hI.exec(e))!==null&&c!==void 0?c:[],y=Ig(p,4),b=y[1],v=y[2],w=y[3],S=zp.parse(b??""),A=zp.parse(w??""),P=v==="+"?S.add(A):S.subtract(A);if(P.isNaN())return Iu;e=e.replace(hI,P.toString())}return e}var dI=/\(([^()]*)\)/;function Ene(t){for(var e=t;e.includes("(");){var n=dI.exec(e),r=Ig(n,2),i=r[1];e=e.replace(dI,ZD(i))}return e}function Sne(t){var e=t.replace(/\s+/g,"");return e=Ene(e),e=ZD(e),e}function Ane(t){try{return Sne(t)}catch{return Iu}}function H0(t){var e=Ane(t.slice(5,-1));return e===Iu?"":e}var Tne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pne=["dx","dy","angle","className","breakAll"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function pI(t,e){if(t==null)return{};var n=Ine(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ine(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mI(t,e){return Nne(t)||kne(t,e)||Cne(t,e)||One()}function One(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t,e){if(t){if(typeof t=="string")return gI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(t,e)}}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nne(t){if(Array.isArray(t))return t}var eM=/[ \f\n\r\t\v\u2028\u2029]+/,tM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];rt(n)||(r?o=n.toString().split(""):o=n.toString().split(eM));var a=o.map(function(l){return{word:l,width:ch(l,i).width}}),s=r?0:ch("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},jne=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=Ee(a),c=s,p=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(ce,pe){var ne=pe.word,ae=pe.width,ye=ce[ce.length-1];if(ye&&(i==null||o||ye.width+ae+r<Number(i)))ye.words.push(ne),ye.width+=ae+r;else{var Te={words:[ne],width:ae};ce.push(Te)}return ce},[])},y=p(n),b=function(ie){return ie.reduce(function(ce,pe){return ce.width>pe.width?ce:pe})};if(!f)return y;for(var v="",w=function(ie){var ce=c.slice(0,ie),pe=tM({breakAll:u,style:l,children:ce+v}).wordsWithComputedWidth,ne=p(pe),ae=ne.length>a||b(ne).width>Number(i);return[ae,ne]},S=0,A=c.length-1,P=0,D;S<=A&&P<=c.length-1;){var I=Math.floor((S+A)/2),O=I-1,x=w(O),T=mI(x,2),k=T[0],M=T[1],R=w(I),$=mI(R,1),L=$[0];if(!k&&!L&&(S=I+1),k&&L&&(A=I-1),!k&&L){D=M;break}P++}return D||y},yI=function(e){var n=rt(e)?[]:e.toString().split(eM);return[{words:n}]},Rne=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ml.isSsr){var l,u,f=tM({breakAll:a,children:i,style:o});if(f){var c=f.wordsWithComputedWidth,p=f.spaceWidth;l=c,u=p}else return yI(i);return jne({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return yI(i)},vI="#808080",Og=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,c=f===void 0?!1:f,p=e.textAnchor,y=p===void 0?"start":p,b=e.verticalAnchor,v=b===void 0?"end":b,w=e.fill,S=w===void 0?vI:w,A=pI(e,Tne),P=q.useMemo(function(){return Rne({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:c,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,c,A.style,A.width]),D=A.dx,I=A.dy,O=A.angle,x=A.className,T=A.breakAll,k=pI(A,Pne);if(!En(r)||!En(o))return null;var M=r+(Ee(D)?D:0),R=o+(Ee(I)?I:0),$;switch(v){case"start":$=H0("calc(".concat(u,")"));break;case"middle":$=H0("calc(".concat((P.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:$=H0("calc(".concat(P.length-1," * -").concat(s,")"));break}var L=[];if(c){var re=P[0].width,ie=A.width;L.push("scale(".concat((Ee(ie)?ie/re:1)/re,")"))}return O&&L.push("rotate(".concat(O,", ").concat(M,", ").concat(R,")")),L.length&&(k.transform=L.join(" ")),K.createElement("text",ix({},nt(k,!0),{x:M,y:R,className:ht("recharts-text",x),textAnchor:y,fill:S.includes("url")?vI:S}),P.map(function(ce,pe){var ne=ce.words.join(T?"":" ");return K.createElement("tspan",{x:M,dy:pe===0?$:s,key:"".concat(ne,"-").concat(pe)},ne)}))};function rs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xE(t){let e,n,r;t.length!==2?(e=rs,n=(s,l)=>rs(t(s),l),r=(s,l)=>t(s)-l):(e=t===rs||t===Dne?t:Mne,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:a,right:o}}function Mne(){return 0}function nM(t){return t===null?NaN:+t}function*$ne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Lne=xE(rs),Hd=Lne.right;xE(nM).center;class bI extends Map{constructor(e,n=zne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_I(this,e))}has(e){return super.has(_I(this,e))}set(e,n){return super.set(Vne(this,e),n)}delete(e){return super.delete(Fne(this,e))}}function _I({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Fne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bne(t=rs){if(t===rs)return rM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Une=Math.sqrt(50),qne=Math.sqrt(10),Kne=Math.sqrt(2);function Cg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Une?10:o>=qne?5:o>=Kne?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Cg(t,e,n*2):[s,l,u]}function ox(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Cg(e,t,n):Cg(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function ax(t,e,n){return e=+e,t=+t,n=+n,Cg(t,e,n)[2]}function sx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ax(e,t,n):ax(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rM:Bne(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*c/l+p)),b=Math.min(r,Math.floor(e+(l-u)*c/l+p));iM(t,e,y,b,i)}const o=t[e];let a=n,s=r;for(Of(t,n,e),i(t[r],o)>0&&Of(t,n,r);a<s;){for(Of(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Of(t,n,s):(++s,Of(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Of(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Wne(t,e,n){if(t=Float64Array.from($ne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wI(t);if(e>=1)return xI(t);var r,i=(r-1)*e,o=Math.floor(i),a=xI(iM(t,o).subarray(0,o+1)),s=wI(t.subarray(o+1));return a+(s-a)*(i-o)}}function Hne(t,e,n=nM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Gne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function da(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lx=Symbol("implicit");function wE(){var t=new bI,e=[],n=[],r=lx;function i(o){let a=t.get(o);if(a===void 0){if(r!==lx)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new bI;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wE(e,n).unknown(r)},vi.apply(i,arguments),i}function Xh(){var t=wE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var p=e().length,y=i<r,b=y?i:r,v=y?r:i;o=(v-b)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),b+=(v-b-o*(p-l))*f,a=o*(1-l),s&&(b=Math.round(b),a=Math.round(a));var w=Gne(p).map(function(S){return b+o*S});return n(y?w.reverse():w)}return t.domain=function(p){return arguments.length?(e(p),c()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,c()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),c()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),c()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,c()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),c()):f},t.copy=function(){return Xh(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},vi.apply(c(),arguments)}function oM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oM(e())},t}function fh(){return oM(Xh.apply(null,arguments).paddingInner(1))}function EE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function aM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gd(){}var Yh=.7,kg=1/Yh,Uu="\\s*([+-]?\\d+)\\s*",Qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xne=/^#([0-9a-f]{3,8})$/,Yne=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Qne=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Jne=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${Qh}\\)$`),Zne=new RegExp(`^rgba\\(${_o},${_o},${_o},${Qh}\\)$`),ere=new RegExp(`^hsl\\(${Qh},${_o},${_o}\\)$`),tre=new RegExp(`^hsla\\(${Qh},${_o},${_o},${Qh}\\)$`),EI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EE(Gd,Jh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SI,formatHex:SI,formatHex8:nre,formatHsl:rre,formatRgb:AI,toString:AI});function SI(){return this.rgb().formatHex()}function nre(){return this.rgb().formatHex8()}function rre(){return sM(this).formatHsl()}function AI(){return this.rgb().formatRgb()}function Jh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TI(e):n===3?new Pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yne.exec(t))?new Pr(e[1],e[2],e[3],1):(e=Qne.exec(t))?new Pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jne.exec(t))?Bp(e[1],e[2],e[3],e[4]):(e=Zne.exec(t))?Bp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ere.exec(t))?OI(e[1],e[2]/100,e[3]/100,1):(e=tre.exec(t))?OI(e[1],e[2]/100,e[3]/100,e[4]):EI.hasOwnProperty(t)?TI(EI[t]):t==="transparent"?new Pr(NaN,NaN,NaN,0):null}function TI(t){return new Pr(t>>16&255,t>>8&255,t&255,1)}function Bp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pr(t,e,n,r)}function ire(t){return t instanceof Gd||(t=Jh(t)),t?(t=t.rgb(),new Pr(t.r,t.g,t.b,t.opacity)):new Pr}function ux(t,e,n,r){return arguments.length===1?ire(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}EE(Pr,ux,aM(Gd,{brighter(t){return t=t==null?kg:Math.pow(kg,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pr(fl(this.r),fl(this.g),fl(this.b),Ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PI,formatHex:PI,formatHex8:ore,formatRgb:II,toString:II}));function PI(){return`#${nl(this.r)}${nl(this.g)}${nl(this.b)}`}function ore(){return`#${nl(this.r)}${nl(this.g)}${nl(this.b)}${nl((isNaN(this.opacity)?1:this.opacity)*255)}`}function II(){const t=Ng(this.opacity);return`${t===1?"rgb(":"rgba("}${fl(this.r)}, ${fl(this.g)}, ${fl(this.b)}${t===1?")":`, ${t})`}`}function Ng(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nl(t){return t=fl(t),(t<16?"0":"")+t.toString(16)}function OI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Li(t,e,n,r)}function sM(t){if(t instanceof Li)return new Li(t.h,t.s,t.l,t.opacity);if(t instanceof Gd||(t=Jh(t)),!t)return new Li;if(t instanceof Li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Li(a,s,l,t.opacity)}function are(t,e,n,r){return arguments.length===1?sM(t):new Li(t,e,n,r??1)}function Li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}EE(Li,are,aM(Gd,{brighter(t){return t=t==null?kg:Math.pow(kg,t),new Li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new Li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pr(G0(t>=240?t-240:t+120,i,r),G0(t,i,r),G0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Li(CI(this.h),Up(this.s),Up(this.l),Ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ng(this.opacity);return`${t===1?"hsl(":"hsla("}${CI(this.h)}, ${Up(this.s)*100}%, ${Up(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CI(t){return t=(t||0)%360,t<0?t+360:t}function Up(t){return Math.max(0,Math.min(1,t||0))}function G0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const SE=t=>()=>t;function sre(t,e){return function(n){return t+n*e}}function lre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ure(t){return(t=+t)==1?lM:function(e,n){return n-e?lre(e,n,t):SE(isNaN(e)?n:e)}}function lM(t,e){var n=e-t;return n?sre(t,n):SE(isNaN(t)?e:t)}const kI=function t(e){var n=ure(e);function r(i,o){var a=n((i=ux(i)).r,(o=ux(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=lM(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function cre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function fre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Zc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function dre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var cx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X0=new RegExp(cx.source,"g");function mre(t){return function(){return t}}function gre(t){return function(e){return t(e)+""}}function yre(t,e){var n=cx.lastIndex=X0.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=cx.exec(t))&&(i=X0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:jg(r,i)})),n=X0.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?gre(l[0].x):mre(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function Zc(t,e){var n=typeof e,r;return e==null||n==="boolean"?SE(e):(n==="number"?jg:n==="string"?(r=Jh(e))?(e=r,kI):yre:e instanceof Jh?kI:e instanceof Date?dre:fre(e)?cre:Array.isArray(e)?hre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pre:jg)(t,e)}function AE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vre(t,e){e===void 0&&(e=t,t=Zc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function bre(t){return function(){return t}}function Rg(t){return+t}var NI=[0,1];function fr(t){return t}function fx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bre(isNaN(e)?NaN:.5)}function _re(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xre(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=fx(i,r),o=n(a,o)):(r=fx(r,i),o=n(o,a)),function(s){return o(r(s))}}function wre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=fx(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Hd(t,s,1,r)-1;return o[l](i[l](s))}}function Xd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ev(){var t=NI,e=NI,n=Zc,r,i,o,a=fr,s,l,u;function f(){var p=Math.min(t.length,e.length);return a!==fr&&(a=_re(t[0],t[p-1])),s=p>2?wre:xre,l=u=null,c}function c(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(r),e,n)))(r(a(p)))}return c.invert=function(p){return a(i((u||(u=s(e,t.map(r),jg)))(p)))},c.domain=function(p){return arguments.length?(t=Array.from(p,Rg),f()):t.slice()},c.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},c.rangeRound=function(p){return e=Array.from(p),n=AE,f()},c.clamp=function(p){return arguments.length?(a=p?!0:fr,f()):a!==fr},c.interpolate=function(p){return arguments.length?(n=p,f()):n},c.unknown=function(p){return arguments.length?(o=p,c):o},function(p,y){return r=p,i=y,f()}}function TE(){return Ev()(fr,fr)}function Ere(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fc(t){return t=Dg(Math.abs(t)),t?t[1]:NaN}function Sre(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Are(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zh(t){if(!(e=Tre.exec(t)))throw new Error("invalid format: "+t);var e;return new PE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zh.prototype=PE.prototype;function PE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uM;function Ire(t,e){var n=Dg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(uM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Dg(t,Math.max(0,e+o-1))[0]}function jI(t,e){var n=Dg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const RI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ere,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jI(t*100,e),r:jI,s:Ire,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function DI(t){return t}var MI=Array.prototype.map,$I=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ore(t){var e=t.grouping===void 0||t.thousands===void 0?DI:Sre(MI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?DI:Are(MI.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Zh(c);var p=c.fill,y=c.align,b=c.sign,v=c.symbol,w=c.zero,S=c.width,A=c.comma,P=c.precision,D=c.trim,I=c.type;I==="n"?(A=!0,I="g"):RI[I]||(P===void 0&&(P=12),D=!0,I="g"),(w||p==="0"&&y==="=")&&(w=!0,p="0",y="=");var O=v==="$"?n:v==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",x=v==="$"?r:/[%p]/.test(I)?a:"",T=RI[I],k=/[defgprs%]/.test(I);P=P===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function M(R){var $=O,L=x,re,ie,ce;if(I==="c")L=T(R)+L,R="";else{R=+R;var pe=R<0||1/R<0;if(R=isNaN(R)?l:T(Math.abs(R),P),D&&(R=Pre(R)),pe&&+R==0&&b!=="+"&&(pe=!1),$=(pe?b==="("?b:s:b==="-"||b==="("?"":b)+$,L=(I==="s"?$I[8+uM/3]:"")+L+(pe&&b==="("?")":""),k){for(re=-1,ie=R.length;++re<ie;)if(ce=R.charCodeAt(re),48>ce||ce>57){L=(ce===46?i+R.slice(re+1):R.slice(re))+L,R=R.slice(0,re);break}}}A&&!w&&(R=e(R,1/0));var ne=$.length+R.length+L.length,ae=ne<S?new Array(S-ne+1).join(p):"";switch(A&&w&&(R=e(ae+R,ae.length?S-L.length:1/0),ae=""),y){case"<":R=$+R+L+ae;break;case"=":R=$+ae+R+L;break;case"^":R=ae.slice(0,ne=ae.length>>1)+$+R+L+ae.slice(ne);break;default:R=ae+$+R+L;break}return o(R)}return M.toString=function(){return c+""},M}function f(c,p){var y=u((c=Zh(c),c.type="f",c)),b=Math.max(-8,Math.min(8,Math.floor(fc(p)/3)))*3,v=Math.pow(10,-b),w=$I[8+b/3];return function(S){return y(v*S)+w}}return{format:u,formatPrefix:f}}var qp,IE,cM;Cre({thousands:",",grouping:[3],currency:["$",""]});function Cre(t){return qp=Ore(t),IE=qp.format,cM=qp.formatPrefix,qp}function kre(t){return Math.max(0,-fc(Math.abs(t)))}function Nre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(e)/3)))*3-fc(Math.abs(t)))}function jre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fc(e)-fc(t))+1}function fM(t,e,n,r){var i=sx(t,e,n),o;switch(r=Zh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Nre(i,a))&&(r.precision=o),cM(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kre(i))&&(r.precision=o-(r.type==="%")*2);break}}return IE(r)}function xs(t){var e=t.domain;return t.ticks=function(n){var r=e();return ox(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,f=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=ax(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Mg(){var t=TE();return t.copy=function(){return Xd(t,Mg())},vi.apply(t,arguments),xs(t)}function hM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Rg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hM(t).unknown(e)},t=arguments.length?Array.from(t,Rg):[0,1],xs(n)}function dM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function LI(t){return Math.log(t)}function VI(t){return Math.exp(t)}function Rre(t){return-Math.log(-t)}function Dre(t){return-Math.exp(-t)}function Mre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $re(t){return t===10?Mre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FI(t){return(e,n)=>-t(-e,n)}function OE(t){const e=t(LI,VI),n=e.domain;let r=10,i,o;function a(){return i=Lre(r),o=$re(r),n()[0]<0?(i=FI(i),o=FI(o),t(Rre,Dre)):t(LI,VI),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let p=i(u),y=i(f),b,v;const w=s==null?10:+s;let S=[];if(!(r%1)&&y-p<w){if(p=Math.floor(p),y=Math.ceil(y),u>0){for(;p<=y;++p)for(b=1;b<r;++b)if(v=p<0?b/o(-p):b*o(p),!(v<u)){if(v>f)break;S.push(v)}}else for(;p<=y;++p)for(b=r-1;b>=1;--b)if(v=p>0?b/o(-p):b*o(p),!(v<u)){if(v>f)break;S.push(v)}S.length*2<w&&(S=ox(u,f,w))}else S=ox(p,y,Math.min(y-p,w)).map(o);return c?S.reverse():S},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Zh(l)).precision==null&&(l.trim=!0),l=IE(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let c=f/o(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(dM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function pM(){const t=OE(Ev()).domain([1,10]);return t.copy=()=>Xd(t,pM()).base(t.base()),vi.apply(t,arguments),t}function zI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function BI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CE(t){var e=1,n=t(zI(e),BI(e));return n.constant=function(r){return arguments.length?t(zI(e=+r),BI(e)):e},xs(n)}function mM(){var t=CE(Ev());return t.copy=function(){return Xd(t,mM()).constant(t.constant())},vi.apply(t,arguments)}function UI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fre(t){return t<0?-t*t:t*t}function kE(t){var e=t(fr,fr),n=1;function r(){return n===1?t(fr,fr):n===.5?t(Vre,Fre):t(UI(n),UI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xs(e)}function NE(){var t=kE(Ev());return t.copy=function(){return Xd(t,NE()).exponent(t.exponent())},vi.apply(t,arguments),t}function zre(){return NE.apply(null,arguments).exponent(.5)}function qI(t){return Math.sign(t)*t*t}function Bre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gM(){var t=TE(),e=[0,1],n=!1,r;function i(o){var a=Bre(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(qI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Rg)).map(qI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return gM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vi.apply(i,arguments),xs(i)}function yM(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Hne(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Hd(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(rs),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return yM().domain(t).range(e).unknown(r)},vi.apply(o,arguments)}function vM(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Hd(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return vM().domain([t,e]).range(i).unknown(o)},vi.apply(xs(a),arguments)}function bM(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return bM().domain(t).range(e).unknown(n)},vi.apply(i,arguments)}const Y0=new Date,Q0=new Date;function An(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>An(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Y0.setTime(+o),Q0.setTime(+a),t(Y0),t(Q0),Math.floor(n(Y0,Q0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const $g=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$g.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$g);$g.range;const Bo=1e3,ci=Bo*60,Uo=ci*60,aa=Uo*24,jE=aa*7,KI=aa*30,J0=aa*365,rl=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCSeconds());rl.range;const RE=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getMinutes());RE.range;const DE=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCMinutes());DE.range;const ME=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo-t.getMinutes()*ci)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getHours());ME.range;const $E=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCHours());$E.range;const Yd=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ci)/aa,t=>t.getDate()-1);Yd.range;const Sv=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/aa,t=>t.getUTCDate()-1);Sv.range;const _M=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/aa,t=>Math.floor(t/aa));_M.range;function $l(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ci)/jE)}const Av=$l(0),Lg=$l(1),Ure=$l(2),qre=$l(3),hc=$l(4),Kre=$l(5),Wre=$l(6);Av.range;Lg.range;Ure.range;qre.range;hc.range;Kre.range;Wre.range;function Ll(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jE)}const Tv=Ll(0),Vg=Ll(1),Hre=Ll(2),Gre=Ll(3),dc=Ll(4),Xre=Ll(5),Yre=Ll(6);Tv.range;Vg.range;Hre.range;Gre.range;dc.range;Xre.range;Yre.range;const LE=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LE.range;const VE=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VE.range;const sa=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});sa.range;const la=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());la.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});la.range;function xM(t,e,n,r,i,o){const a=[[rl,1,Bo],[rl,5,5*Bo],[rl,15,15*Bo],[rl,30,30*Bo],[o,1,ci],[o,5,5*ci],[o,15,15*ci],[o,30,30*ci],[i,1,Uo],[i,3,3*Uo],[i,6,6*Uo],[i,12,12*Uo],[r,1,aa],[r,2,2*aa],[n,1,jE],[e,1,KI],[e,3,3*KI],[t,1,J0]];function s(u,f,c){const p=f<u;p&&([u,f]=[f,u]);const y=c&&typeof c.range=="function"?c:l(u,f,c),b=y?y.range(u,+f+1):[];return p?b.reverse():b}function l(u,f,c){const p=Math.abs(f-u)/c,y=xE(([,,w])=>w).right(a,p);if(y===a.length)return t.every(sx(u/J0,f/J0,c));if(y===0)return $g.every(Math.max(sx(u,f,c),1));const[b,v]=a[p/a[y-1][2]<a[y][2]/p?y-1:y];return b.every(v)}return[s,l]}const[Qre,Jre]=xM(la,VE,Tv,_M,$E,DE),[Zre,eie]=xM(sa,LE,Av,Yd,ME,RE);function Z0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=kf(i),f=Nf(i),c=kf(o),p=Nf(o),y=kf(a),b=Nf(a),v=kf(s),w=Nf(s),S=kf(l),A=Nf(l),P={a:pe,A:ne,b:ae,B:ye,c:null,d:QI,e:QI,f:Sie,g:Rie,G:Mie,H:xie,I:wie,j:Eie,L:wM,m:Aie,M:Tie,p:Te,q:be,Q:eO,s:tO,S:Pie,u:Iie,U:Oie,V:Cie,w:kie,W:Nie,x:null,X:null,y:jie,Y:Die,Z:$ie,"%":ZI},D={a:Re,A:Ke,b:ut,B:dt,c:null,d:JI,e:JI,f:zie,g:Qie,G:Zie,H:Lie,I:Vie,j:Fie,L:SM,m:Bie,M:Uie,p:Pe,q:Ge,Q:eO,s:tO,S:qie,u:Kie,U:Wie,V:Hie,w:Gie,W:Xie,x:null,X:null,y:Yie,Y:Jie,Z:eoe,"%":ZI},I={a:M,A:R,b:$,B:L,c:re,d:XI,e:XI,f:yie,g:GI,G:HI,H:YI,I:YI,j:die,L:gie,m:hie,M:pie,p:k,q:fie,Q:bie,s:_ie,S:mie,u:aie,U:sie,V:lie,w:oie,W:uie,x:ie,X:ce,y:GI,Y:HI,Z:cie,"%":vie};P.x=O(n,P),P.X=O(r,P),P.c=O(e,P),D.x=O(n,D),D.X=O(r,D),D.c=O(e,D);function O(oe,Ve){return function(Fe){var ue=[],ct=-1,tt=0,gt=oe.length,Et,Jt,sr;for(Fe instanceof Date||(Fe=new Date(+Fe));++ct<gt;)oe.charCodeAt(ct)===37&&(ue.push(oe.slice(tt,ct)),(Jt=WI[Et=oe.charAt(++ct)])!=null?Et=oe.charAt(++ct):Jt=Et==="e"?" ":"0",(sr=Ve[Et])&&(Et=sr(Fe,Jt)),ue.push(Et),tt=ct+1);return ue.push(oe.slice(tt,ct)),ue.join("")}}function x(oe,Ve){return function(Fe){var ue=Cf(1900,void 0,1),ct=T(ue,oe,Fe+="",0),tt,gt;if(ct!=Fe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ve&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(tt=eb(Cf(ue.y,0,1)),gt=tt.getUTCDay(),tt=gt>4||gt===0?Vg.ceil(tt):Vg(tt),tt=Sv.offset(tt,(ue.V-1)*7),ue.y=tt.getUTCFullYear(),ue.m=tt.getUTCMonth(),ue.d=tt.getUTCDate()+(ue.w+6)%7):(tt=Z0(Cf(ue.y,0,1)),gt=tt.getDay(),tt=gt>4||gt===0?Lg.ceil(tt):Lg(tt),tt=Yd.offset(tt,(ue.V-1)*7),ue.y=tt.getFullYear(),ue.m=tt.getMonth(),ue.d=tt.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),gt="Z"in ue?eb(Cf(ue.y,0,1)).getUTCDay():Z0(Cf(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(gt+5)%7:ue.w+ue.U*7-(gt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,eb(ue)):Z0(ue)}}function T(oe,Ve,Fe,ue){for(var ct=0,tt=Ve.length,gt=Fe.length,Et,Jt;ct<tt;){if(ue>=gt)return-1;if(Et=Ve.charCodeAt(ct++),Et===37){if(Et=Ve.charAt(ct++),Jt=I[Et in WI?Ve.charAt(ct++):Et],!Jt||(ue=Jt(oe,Fe,ue))<0)return-1}else if(Et!=Fe.charCodeAt(ue++))return-1}return ue}function k(oe,Ve,Fe){var ue=u.exec(Ve.slice(Fe));return ue?(oe.p=f.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function M(oe,Ve,Fe){var ue=y.exec(Ve.slice(Fe));return ue?(oe.w=b.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function R(oe,Ve,Fe){var ue=c.exec(Ve.slice(Fe));return ue?(oe.w=p.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function $(oe,Ve,Fe){var ue=S.exec(Ve.slice(Fe));return ue?(oe.m=A.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function L(oe,Ve,Fe){var ue=v.exec(Ve.slice(Fe));return ue?(oe.m=w.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function re(oe,Ve,Fe){return T(oe,e,Ve,Fe)}function ie(oe,Ve,Fe){return T(oe,n,Ve,Fe)}function ce(oe,Ve,Fe){return T(oe,r,Ve,Fe)}function pe(oe){return a[oe.getDay()]}function ne(oe){return o[oe.getDay()]}function ae(oe){return l[oe.getMonth()]}function ye(oe){return s[oe.getMonth()]}function Te(oe){return i[+(oe.getHours()>=12)]}function be(oe){return 1+~~(oe.getMonth()/3)}function Re(oe){return a[oe.getUTCDay()]}function Ke(oe){return o[oe.getUTCDay()]}function ut(oe){return l[oe.getUTCMonth()]}function dt(oe){return s[oe.getUTCMonth()]}function Pe(oe){return i[+(oe.getUTCHours()>=12)]}function Ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ve=O(oe+="",P);return Ve.toString=function(){return oe},Ve},parse:function(oe){var Ve=x(oe+="",!1);return Ve.toString=function(){return oe},Ve},utcFormat:function(oe){var Ve=O(oe+="",D);return Ve.toString=function(){return oe},Ve},utcParse:function(oe){var Ve=x(oe+="",!0);return Ve.toString=function(){return oe},Ve}}}var WI={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,nie=/^%/,rie=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iie(t){return t.replace(rie,"\\$&")}function kf(t){return new RegExp("^(?:"+t.map(iie).join("|")+")","i")}function Nf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oie(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sie(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function HI(t,e,n){var r=Nn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function GI(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fie(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hie(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function XI(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function die(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YI(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mie(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yie(t,e,n){var r=Nn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vie(t,e,n){var r=nie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bie(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _ie(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QI(t,e){return bt(t.getDate(),e,2)}function xie(t,e){return bt(t.getHours(),e,2)}function wie(t,e){return bt(t.getHours()%12||12,e,2)}function Eie(t,e){return bt(1+Yd.count(sa(t),t),e,3)}function wM(t,e){return bt(t.getMilliseconds(),e,3)}function Sie(t,e){return wM(t,e)+"000"}function Aie(t,e){return bt(t.getMonth()+1,e,2)}function Tie(t,e){return bt(t.getMinutes(),e,2)}function Pie(t,e){return bt(t.getSeconds(),e,2)}function Iie(t){var e=t.getDay();return e===0?7:e}function Oie(t,e){return bt(Av.count(sa(t)-1,t),e,2)}function EM(t){var e=t.getDay();return e>=4||e===0?hc(t):hc.ceil(t)}function Cie(t,e){return t=EM(t),bt(hc.count(sa(t),t)+(sa(t).getDay()===4),e,2)}function kie(t){return t.getDay()}function Nie(t,e){return bt(Lg.count(sa(t)-1,t),e,2)}function jie(t,e){return bt(t.getFullYear()%100,e,2)}function Rie(t,e){return t=EM(t),bt(t.getFullYear()%100,e,2)}function Die(t,e){return bt(t.getFullYear()%1e4,e,4)}function Mie(t,e){var n=t.getDay();return t=n>=4||n===0?hc(t):hc.ceil(t),bt(t.getFullYear()%1e4,e,4)}function $ie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function JI(t,e){return bt(t.getUTCDate(),e,2)}function Lie(t,e){return bt(t.getUTCHours(),e,2)}function Vie(t,e){return bt(t.getUTCHours()%12||12,e,2)}function Fie(t,e){return bt(1+Sv.count(la(t),t),e,3)}function SM(t,e){return bt(t.getUTCMilliseconds(),e,3)}function zie(t,e){return SM(t,e)+"000"}function Bie(t,e){return bt(t.getUTCMonth()+1,e,2)}function Uie(t,e){return bt(t.getUTCMinutes(),e,2)}function qie(t,e){return bt(t.getUTCSeconds(),e,2)}function Kie(t){var e=t.getUTCDay();return e===0?7:e}function Wie(t,e){return bt(Tv.count(la(t)-1,t),e,2)}function AM(t){var e=t.getUTCDay();return e>=4||e===0?dc(t):dc.ceil(t)}function Hie(t,e){return t=AM(t),bt(dc.count(la(t),t)+(la(t).getUTCDay()===4),e,2)}function Gie(t){return t.getUTCDay()}function Xie(t,e){return bt(Vg.count(la(t)-1,t),e,2)}function Yie(t,e){return bt(t.getUTCFullYear()%100,e,2)}function Qie(t,e){return t=AM(t),bt(t.getUTCFullYear()%100,e,2)}function Jie(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function Zie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dc(t):dc.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function eoe(){return"+0000"}function ZI(){return"%"}function eO(t){return+t}function tO(t){return Math.floor(+t/1e3)}var au,TM,PM;toe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function toe(t){return au=tie(t),TM=au.format,au.parse,PM=au.utcFormat,au.utcParse,au}function noe(t){return new Date(t)}function roe(t){return t instanceof Date?+t:+new Date(+t)}function FE(t,e,n,r,i,o,a,s,l,u){var f=TE(),c=f.invert,p=f.domain,y=u(".%L"),b=u(":%S"),v=u("%I:%M"),w=u("%I %p"),S=u("%a %d"),A=u("%b %d"),P=u("%B"),D=u("%Y");function I(O){return(l(O)<O?y:s(O)<O?b:a(O)<O?v:o(O)<O?w:r(O)<O?i(O)<O?S:A:n(O)<O?P:D)(O)}return f.invert=function(O){return new Date(c(O))},f.domain=function(O){return arguments.length?p(Array.from(O,roe)):p().map(noe)},f.ticks=function(O){var x=p();return t(x[0],x[x.length-1],O??10)},f.tickFormat=function(O,x){return x==null?I:u(x)},f.nice=function(O){var x=p();return(!O||typeof O.range!="function")&&(O=e(x[0],x[x.length-1],O??10)),O?p(dM(x,O)):f},f.copy=function(){return Xd(f,FE(t,e,n,r,i,o,a,s,l,u))},f}function ioe(){return vi.apply(FE(Zre,eie,sa,LE,Av,Yd,ME,RE,rl,TM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ooe(){return vi.apply(FE(Qre,Jre,la,VE,Tv,Sv,$E,DE,rl,PM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pv(){var t=0,e=1,n,r,i,o,a=fr,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:a(i===0?.5:(c=(o(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(a=c,u):a};function f(c){return function(p){var y,b;return arguments.length?([y,b]=p,a=c(y,b),u):[a(0),a(1)]}}return u.range=f(Zc),u.rangeRound=f(AE),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return o=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IM(){var t=xs(Pv()(fr));return t.copy=function(){return ws(t,IM())},da.apply(t,arguments)}function OM(){var t=OE(Pv()).domain([1,10]);return t.copy=function(){return ws(t,OM()).base(t.base())},da.apply(t,arguments)}function CM(){var t=CE(Pv());return t.copy=function(){return ws(t,CM()).constant(t.constant())},da.apply(t,arguments)}function zE(){var t=kE(Pv());return t.copy=function(){return ws(t,zE()).exponent(t.exponent())},da.apply(t,arguments)}function aoe(){return zE.apply(null,arguments).exponent(.5)}function kM(){var t=[],e=fr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Wne(t,o/r))},n.copy=function(){return kM(e).domain(t)},da.apply(n,arguments)}function Iv(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=fr,f,c=!1,p;function y(v){return isNaN(v=+v)?p:(v=.5+((v=+f(v))-o)*(r*v<r*o?s:l),u(c?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([t,e,n]=v,i=f(t=+t),o=f(e=+e),a=f(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(v){return arguments.length?(c=!!v,y):c},y.interpolator=function(v){return arguments.length?(u=v,y):u};function b(v){return function(w){var S,A,P;return arguments.length?([S,A,P]=w,u=vre(v,[S,A,P]),y):[u(0),u(.5),u(1)]}}return y.range=b(Zc),y.rangeRound=b(AE),y.unknown=function(v){return arguments.length?(p=v,y):p},function(v){return f=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,y}}function NM(){var t=xs(Iv()(fr));return t.copy=function(){return ws(t,NM())},da.apply(t,arguments)}function jM(){var t=OE(Iv()).domain([.1,1,10]);return t.copy=function(){return ws(t,jM()).base(t.base())},da.apply(t,arguments)}function RM(){var t=CE(Iv());return t.copy=function(){return ws(t,RM()).constant(t.constant())},da.apply(t,arguments)}function BE(){var t=kE(Iv());return t.copy=function(){return ws(t,BE()).exponent(t.exponent())},da.apply(t,arguments)}function soe(){return BE.apply(null,arguments).exponent(.5)}const nO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xh,scaleDiverging:NM,scaleDivergingLog:jM,scaleDivergingPow:BE,scaleDivergingSqrt:soe,scaleDivergingSymlog:RM,scaleIdentity:hM,scaleImplicit:lx,scaleLinear:Mg,scaleLog:pM,scaleOrdinal:wE,scalePoint:fh,scalePow:NE,scaleQuantile:yM,scaleQuantize:vM,scaleRadial:gM,scaleSequential:IM,scaleSequentialLog:OM,scaleSequentialPow:zE,scaleSequentialQuantile:kM,scaleSequentialSqrt:aoe,scaleSequentialSymlog:CM,scaleSqrt:zre,scaleSymlog:mM,scaleThreshold:bM,scaleTime:ioe,scaleUtc:ooe,tickFormat:fM},Symbol.toStringTag,{value:"Module"}));var loe=Uc;function uoe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!loe(a):n(a,s)))var s=a,l=o}return l}var DM=uoe;function coe(t,e){return t>e}var foe=coe,hoe=DM,doe=foe,poe=Jc;function moe(t){return t&&t.length?hoe(t,poe,doe):void 0}var goe=moe;const Ba=It(goe);function yoe(t,e){return t<e}var voe=yoe,boe=DM,_oe=voe,xoe=Jc;function woe(t){return t&&t.length?boe(t,xoe,_oe):void 0}var Eoe=woe;const Ov=It(Eoe);var Soe=nE,Aoe=_s,Toe=qD,Poe=Nr;function Ioe(t,e){var n=Poe(t)?Soe:Toe;return n(t,Aoe(e))}var Ooe=Ioe,Coe=BD,koe=Ooe;function Noe(t,e){return Coe(koe(t,e),1)}var joe=Noe;const Roe=It(joe);var Doe=yE;function Moe(t,e){return Doe(t,e)}var $oe=Moe;const pc=It($oe);var ef=1e9,Loe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qE,Wt=!0,gi="[DecimalError] ",hl=gi+"Invalid argument: ",UE=gi+"Exponent out of range: ",tf=Math.floor,Ys=Math.pow,Voe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Br,On=1e7,zt=7,MM=9007199254740991,Fg=tf(MM/zt),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(t){return Qo(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,n=e.constructor;return Nt(Qo(e,new n(t),0,1),n.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return gn(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Br))throw Error(gi+"NaN");if(n.s<1)throw Error(gi+(n.s?"NaN":"-Infinity"));return n.eq(Br)?new r(0):(Wt=!1,e=Qo(ed(n,o),ed(t,o),o),Wt=!0,Nt(e,i))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VM(e,t):$M(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gi+"NaN");return n.s?(Wt=!1,e=Qo(n,t,0,1).times(t),Wt=!0,n.minus(e)):Nt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return LM(this)};$e.naturalLogarithm=$e.ln=function(){return ed(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$M(e,t):VM(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hl+t);if(e=gn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};$e.squareRoot=$e.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(gi+"NaN")}for(t=gn(s),Wt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=uo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Qo(s,o,a+2)).times(.5),uo(o.d).slice(0,a)===(e=uo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Nt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Wt=!0,Nt(r,n)};$e.times=$e.mul=function(t){var e,n,r,i,o,a,s,l,u,f=this,c=f.constructor,p=f.d,y=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,u=y.length,l<u&&(o=p,p=y,y=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+y[r]*p[i-r-1]+e,o[i--]=s%On|0,e=s/On|0;o[i]=(o[i]+e)%On|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Wt?Nt(t,c.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Eo(t,0,ef),e===void 0?e=r.rounding:Eo(e,0,8),Nt(n,t+gn(n)+1,e))};$e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Pl(r,!0):(Eo(t,0,ef),e===void 0?e=i.rounding:Eo(e,0,8),r=Nt(new i(r),t+1,e),n=Pl(r,!0,t+1)),n};$e.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Pl(i):(Eo(t,0,ef),e===void 0?e=o.rounding:Eo(e,0,8),r=Nt(new o(i),t+gn(i)+1,e),n=Pl(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),gn(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Br);if(s=new l(s),!s.s){if(t.s<1)throw Error(gi+"Infinity");return s}if(s.eq(Br))return s;if(r=l.precision,t.eq(Br))return Nt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=f<0?-f:f)<=MM){for(i=new l(Br),e=Math.ceil(r/zt+4),Wt=!1;n%2&&(i=i.times(s),iO(i.d,e)),n=tf(n/2),n!==0;)s=s.times(s),iO(s.d,e);return Wt=!0,t.s<0?new l(Br).div(i):Nt(i,r)}}else if(o<0)throw Error(gi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Wt=!1,i=t.times(ed(s,r+u)),Wt=!0,i=LM(i),i.s=o,i};$e.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=gn(i),r=Pl(i,n<=o.toExpNeg||n>=o.toExpPos)):(Eo(t,1,ef),e===void 0?e=o.rounding:Eo(e,0,8),i=Nt(new o(i),t,e),n=gn(i),r=Pl(i,t<=n||n<=o.toExpNeg,t)),r};$e.toSignificantDigits=$e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Eo(t,1,ef),e===void 0?e=r.rounding:Eo(e,0,8)),Nt(new r(n),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return Pl(t,e<=n.toExpNeg||e>=n.toExpPos)};function $M(t,e){var n,r,i,o,a,s,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Wt?Nt(e,c):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(c/zt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/On|0,l[o]%=On;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Wt?Nt(e,c):e}function Eo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hl+t)}function uo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(o+=ka(n)),o+=r;a=t[e],r=a+"",n=zt-r.length,n&&(o+=ka(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Qo=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%On|0,a=o/On|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*On+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,f,c,p,y,b,v,w,S,A,P,D,I,O,x,T,k=r.constructor,M=r.s==i.s?1:-1,R=r.d,$=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(gi+"Division by zero");for(l=r.e-i.e,x=$.length,I=R.length,y=new k(M),b=y.d=[],u=0;$[u]==(R[u]||0);)++u;if($[u]>(R[u]||0)&&--l,o==null?A=o=k.precision:a?A=o+(gn(r)-gn(i))+1:A=o,A<0)return new k(0);if(A=A/zt+2|0,u=0,x==1)for(f=0,$=$[0],A++;(u<I||f)&&A--;u++)P=f*On+(R[u]||0),b[u]=P/$|0,f=P%$|0;else{for(f=On/($[0]+1)|0,f>1&&($=t($,f),R=t(R,f),x=$.length,I=R.length),D=x,v=R.slice(0,x),w=v.length;w<x;)v[w++]=0;T=$.slice(),T.unshift(0),O=$[0],$[1]>=On/2&&++O;do f=0,s=e($,v,x,w),s<0?(S=v[0],x!=w&&(S=S*On+(v[1]||0)),f=S/O|0,f>1?(f>=On&&(f=On-1),c=t($,f),p=c.length,w=v.length,s=e(c,v,p,w),s==1&&(f--,n(c,x<p?T:$,p))):(f==0&&(s=f=1),c=$.slice()),p=c.length,p<w&&c.unshift(0),n(v,c,w),s==-1&&(w=v.length,s=e($,v,x,w),s<1&&(f++,n(v,x<w?T:$,w))),w=v.length):s===0&&(f++,v=[0]),b[u++]=f,s&&v[0]?v[w++]=R[D]||0:(v=[R[D]],w=1);while((D++<I||v[0]!==void 0)&&A--)}return b[0]||b.shift(),y.e=l,Nt(y,a?o+gn(y)+1:o)}}();function LM(t,e){var n,r,i,o,a,s,l=0,u=0,f=t.constructor,c=f.precision;if(gn(t)>16)throw Error(UE+gn(t));if(!t.s)return new f(Br);for(Wt=!1,s=c,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ys(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new f(Br),f.precision=s;;){if(i=Nt(i.times(t),s),n=n.times(++l),a=o.plus(Qo(i,n,s)),uo(a.d).slice(0,s)===uo(o.d).slice(0,s)){for(;u--;)o=Nt(o.times(o),s);return f.precision=c,e==null?(Wt=!0,Nt(o,c)):o}o=a}}function gn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function tb(t,e,n){if(e>t.LN10.sd())throw Wt=!0,n&&(t.precision=n),Error(gi+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function ka(t){for(var e="";t--;)e+="0";return e}function ed(t,e){var n,r,i,o,a,s,l,u,f,c=1,p=10,y=t,b=y.d,v=y.constructor,w=v.precision;if(y.s<1)throw Error(gi+(y.s?"NaN":"-Infinity"));if(y.eq(Br))return new v(0);if(e==null?(Wt=!1,u=w):u=e,y.eq(10))return e==null&&(Wt=!0),tb(v,u);if(u+=p,v.precision=u,n=uo(b),r=n.charAt(0),o=gn(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=uo(y.d),r=n.charAt(0),c++;o=gn(y),r>1?(y=new v("0."+n),o++):y=new v(r+"."+n.slice(1))}else return l=tb(v,u+2,w).times(o+""),y=ed(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=w,e==null?(Wt=!0,Nt(y,w)):y;for(s=a=y=Qo(y.minus(Br),y.plus(Br),u),f=Nt(y.times(y),u),i=3;;){if(a=Nt(a.times(f),u),l=s.plus(Qo(a,new v(i),u)),uo(l.d).slice(0,u)===uo(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(tb(v,u+2,w).times(o+""))),s=Qo(s,new v(c),u),v.precision=w,e==null?(Wt=!0,Nt(s,w)):s;s=l,i+=2}}function rO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tf(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Wt&&(t.e>Fg||t.e<-Fg))throw Error(UE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,n){var r,i,o,a,s,l,u,f,c=t.d;for(a=1,o=c[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=zt,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/zt),o=c.length,f>=o)return t;for(u=o=c[f],a=1;o>=10;o/=10)a++;r%=zt,i=r-zt+a}if(n!==void 0&&(o=Ys(10,a-i-1),s=u/o%10|0,l=e<0||c[f+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ys(10,a-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(o=gn(t),c.length=1,e=e-o-1,c[0]=Ys(10,(zt-e%zt)%zt),t.e=tf(-e/zt)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,o=1,f--):(c.length=f+1,o=Ys(10,zt-r),c[f]=i>0?(u/Ys(10,a-i)%Ys(10,i)|0)*o:0),l)for(;;)if(f==0){(c[0]+=o)==On&&(c[0]=1,++t.e);break}else{if(c[f]+=o,c[f]!=On)break;c[f--]=0,o=1}for(r=c.length;c[--r]===0;)c.pop();if(Wt&&(t.e>Fg||t.e<-Fg))throw Error(UE+gn(t));return t}function VM(t,e){var n,r,i,o,a,s,l,u,f,c,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Wt?Nt(e,y):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(f=a<0,f?(n=l,a=-a,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(y/zt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}a=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>a;){if(l[--i]<c[i]){for(o=i;o&&l[--o]===0;)l[o]=On-1;--l[o],l[i]+=On}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Wt?Nt(e,y):e):new p(0)}function Pl(t,e,n){var r,i=gn(t),o=uo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ka(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ka(-i-1)+o,n&&(r=n-a)>0&&(o+=ka(r))):i>=a?(o+=ka(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ka(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ka(r))),t.s<0?"-"+o:o}function iO(t,e){if(t.length>e)return t.length=e,!0}function FM(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(hl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return rO(a,o.toString())}else if(typeof o!="string")throw Error(hl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Voe.test(o))rO(a,o);else throw Error(hl+o)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FM,i.config=i.set=Foe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Foe(t){if(!t||typeof t!="object")throw Error(gi+"Object expected");var e,n,r,i=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hl+n+": "+r);return this}var qE=FM(Loe);Br=new qE(1);const Pt=qE;function zoe(t){return Koe(t)||qoe(t)||Uoe(t)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uoe(t,e){if(t){if(typeof t=="string")return hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(t,e)}}function qoe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Koe(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Woe=function(e){return e},zM={},BM=function(e){return e===zM},oO=function(e){return function n(){return arguments.length===0||arguments.length===1&&BM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Hoe=function t(e,n){return e===1?n:oO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==zM}).length;return a>=e?n.apply(void 0,i):t(e-a,oO(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return BM(c)?l.shift():c});return n.apply(void 0,zoe(f).concat(l))}))})},Cv=function(e){return Hoe(e.length,e)},dx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Goe=Cv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Xoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Woe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},px=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},UM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Yoe(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function Qoe(t,e,n){for(var r=new Pt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Joe=Cv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Zoe=Cv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),eae=Cv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const kv={rangeStep:Qoe,getDigitCount:Yoe,interpolateNumber:Joe,uninterpolateNumber:Zoe,uninterpolateTruncation:eae};function mx(t){return rae(t)||nae(t)||qM(t)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rae(t){if(Array.isArray(t))return gx(t)}function td(t,e){return aae(t)||oae(t,e)||qM(t,e)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qM(t,e){if(t){if(typeof t=="string")return gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(t,e)}}function gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function aae(t){if(Array.isArray(t))return t}function KM(t){var e=td(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function WM(t,e,n){if(t.lte(0))return new Pt(0);var r=kv.getDigitCount(t.toNumber()),i=new Pt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Pt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Pt(Math.ceil(l))}function sae(t,e,n){var r=1,i=new Pt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Pt(10).pow(kv.getDigitCount(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));var a=Math.floor((e-1)/2),s=Xoe(Goe(function(l){return i.add(new Pt(l-a).mul(r)).toNumber()}),dx);return s(0,e)}function HM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var o=WM(new Pt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Pt(0):(a=new Pt(t).add(e).div(2),a=a.sub(new Pt(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Pt(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?HM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Pt(s).mul(o)),tickMax:a.add(new Pt(l).mul(o))})}function lae(t){var e=td(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=KM([n,r]),l=td(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(mx(dx(0,i-1).map(function(){return 1/0}))):[].concat(mx(dx(0,i-1).map(function(){return-1/0})),[f]);return n>r?px(c):c}if(u===f)return sae(u,i,o);var p=HM(u,f,a,o),y=p.step,b=p.tickMin,v=p.tickMax,w=kv.rangeStep(b,v.add(new Pt(.1).mul(y)),y);return n>r?px(w):w}function uae(t,e){var n=td(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=KM([r,i]),s=td(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=WM(new Pt(u).sub(l).div(f-1),o,0),p=[].concat(mx(kv.rangeStep(new Pt(l),new Pt(u).sub(new Pt(.99).mul(c)),c)),[u]);return r>i?px(p):p}var cae=UM(lae),fae=UM(uae),hae="Invariant failed";function Il(t,e){throw new Error(hae)}var dae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function pae(t,e){return vae(t)||yae(t,e)||gae(t,e)||mae()}function mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t,e){if(t){if(typeof t=="string")return aO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vae(t){if(Array.isArray(t))return t}function bae(t,e){if(t==null)return{};var n=_ae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YM(r.key),r)}}function Eae(t,e,n){return e&&wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sae(t,e,n){return e=Bg(e),Aae(t,GM()?Reflect.construct(e,n||[],Bg(t).constructor):e.apply(t,n))}function Aae(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tae(t)}function Tae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(t)}function Pae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yx(t,e)}function XM(t,e,n){return e=YM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YM(t){var e=Iae(t,"string");return mc(e)=="symbol"?e:e+""}function Iae(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qd=function(t){function e(){return xae(this,e),Sae(this,e,arguments)}return Pae(e,t),Eae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,p=bae(r,dae),y=nt(p,!1);this.props.direction==="x"&&f.type!=="number"&&Il();var b=l.map(function(v){var w=u(v,s),S=w.x,A=w.y,P=w.value,D=w.errorVal;if(!D)return null;var I=[],O,x;if(Array.isArray(D)){var T=pae(D,2);O=T[0],x=T[1]}else O=x=D;if(o==="vertical"){var k=f.scale,M=A+i,R=M+a,$=M-a,L=k(P-O),re=k(P+x);I.push({x1:re,y1:R,x2:re,y2:$}),I.push({x1:L,y1:M,x2:re,y2:M}),I.push({x1:L,y1:R,x2:L,y2:$})}else if(o==="horizontal"){var ie=c.scale,ce=S+i,pe=ce-a,ne=ce+a,ae=ie(P-O),ye=ie(P+x);I.push({x1:pe,y1:ye,x2:ne,y2:ye}),I.push({x1:ce,y1:ae,x2:ce,y2:ye}),I.push({x1:pe,y1:ae,x2:ne,y2:ae})}return K.createElement(Lt,zg({className:"recharts-errorBar",key:"bar-".concat(I.map(function(Te){return"".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))},y),I.map(function(Te){return K.createElement("line",zg({},Te,{key:"line-".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))}))});return K.createElement(Lt,{className:"recharts-errorBars"},b)}}])}(K.Component);XM(Qd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XM(Qd,"displayName","ErrorBar");function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=kae(t,"string");return nd(e)=="symbol"?e:e+""}function kae(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=zr(n,cl);if(!a)return null;var s=cl.defaultProps,l=s!==void 0?qs(qs({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(f,c){var p=c.item,y=c.props,b=y.sectors||y.data||[];return f.concat(b.map(function(v){return{type:a.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var c=f.item,p=c.type.defaultProps,y=p!==void 0?qs(qs({},p),c.props):{},b=y.dataKey,v=y.name,w=y.legendType,S=y.hide;return{inactive:S,dataKey:b,type:l.iconType||w||"square",color:KE(c),value:v||b,payload:y}}),qs(qs(qs({},l),cl.getWithHeight(a,i)),{},{payload:u,item:a})};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function lO(t){return Dae(t)||Rae(t)||jae(t)||Nae()}function Nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vx(t,e)}}function Rae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dae(t){if(Array.isArray(t))return vx(t)}function vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t,e,n){return e=Mae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=$ae(t,"string");return rd(e)=="symbol"?e:e+""}function $ae(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pr(t,e,n){return rt(t)||rt(e)?n:En(e)?hi(t,e,n):et(e)?e(t):n}function hh(t,e,n,r){var i=Roe(t,function(s){return pr(s,e)});if(n==="number"){var o=i.filter(function(s){return Ee(s)||parseFloat(s)});return o.length?[Ov(o),Ba(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!rt(s)}):i;return a.map(function(s){return En(s)||s instanceof Date?s:""})}var Lae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Fi(c-f)!==Fi(p-c)){var b=[];if(Fi(p-c)===Fi(l[1]-l[0])){y=p;var v=c+l[1]-l[0];b[0]=Math.min(v,(v+f)/2),b[1]=Math.max(v,(v+f)/2)}else{y=f;var w=p+l[1]-l[0];b[0]=Math.min(c,(w+c)/2),b[1]=Math.max(c,(w+c)/2)}var S=[Math.min(c,(y+c)/2),Math.max(c,(y+c)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){a=i[u].index;break}}else{var A=Math.min(f,p),P=Math.max(f,p);if(e>(A+c)/2&&e<=(P+c)/2){a=i[u].index;break}}}else for(var D=0;D<s;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<s-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===s-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){a=r[D].index;break}return a},KE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Vae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var f=o[s[l]].stackGroups,c=Object.keys(f),p=0,y=c.length;p<y;p++){var b=f[c[p]],v=b.items,w=b.cateAxisId,S=v.filter(function(x){return Xo(x.type).indexOf("Bar")>=0});if(S&&S.length){var A=S[0].type.defaultProps,P=A!==void 0?tn(tn({},A),S[0].props):S[0].props,D=P.barSize,I=P[w];a[I]||(a[I]=[]);var O=rt(D)?n:D;a[I].push({item:S[0],stackList:S.slice(1),barSize:rt(O)?void 0:Tl(O,r,0)})}}return a},Fae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Tl(n,i,0,!0),f,c=[];if(a[0].barSize===+a[0].barSize){var p=!1,y=i/l,b=a.reduce(function(D,I){return D+I.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&y>0&&(p=!0,y*=.9,b=l*y);var v=(i-b)/2>>0,w={offset:v-u,size:0};f=a.reduce(function(D,I){var O={item:I.item,position:{offset:w.offset+w.size+u,size:p?y:I.barSize}},x=[].concat(lO(D),[O]);return w=x[x.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(T){x.push({item:T,position:w})}),x},c)}else{var S=Tl(r,i,0,!0);i-2*S-(l-1)*u<=0&&(u=0);var A=(i-2*S-(l-1)*u)/l;A>1&&(A>>=0);var P=s===+s?Math.min(A,s):A;f=a.reduce(function(D,I,O){var x=[].concat(lO(D),[{item:I.item,position:{offset:S+(A+u)*O+(A-P)/2,size:P}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(T){x.push({item:T,position:x[x.length-1].position})}),x},c)}return f},zae=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=QM({children:o,legendWidth:l});if(u){var f=i||{},c=f.width,p=f.height,y=u.align,b=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&y!=="center"&&Ee(e[y]))return tn(tn({},e),{},qu({},y,e[y]+(c||0)));if((v==="horizontal"||v==="vertical"&&y==="center")&&b!=="middle"&&Ee(e[b]))return tn(tn({},e),{},qu({},b,e[b]+(p||0)))}return e},Bae=function(e,n,r){return rt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},JM=function(e,n,r,i,o){var a=n.props.children,s=di(a,Qd).filter(function(u){return Bae(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=pr(f,r);if(rt(c))return u;var p=Array.isArray(c)?[Ov(c),Ba(c)]:[c,c],y=l.reduce(function(b,v){var w=pr(f,v,0),S=p[0]-Math.abs(Array.isArray(w)?w[0]:w),A=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(S,b[0]),Math.max(A,b[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},Uae=function(e,n,r,i,o){var a=n.map(function(s){return JM(e,s,r,o,i)}).filter(function(s){return!rt(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},ZM=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&JM(e,l,u,i)||hh(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},e$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},t$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},qo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Fi(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(c){var p=o?o.indexOf(c):c;return{coordinate:i(p)+u,value:c,offset:u}});return f.filter(function(c){return!Gc(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,p){return{coordinate:i(c)+u,value:c,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,p){return{coordinate:i(c)+u,value:o?o[c]:c,index:p,offset:u}})},nb=new WeakMap,Kp=function(e,n){if(typeof n!="function")return e;nb.has(e)||nb.set(e,new WeakMap);var r=nb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},qae=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Xh(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Mg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fh(),realScaleType:"point"}:o==="category"?{scale:Xh(),realScaleType:"band"}:{scale:Mg(),realScaleType:"linear"};if(Al(i)){var l="scale".concat(gv(i));return{scale:(nO[l]||fh)(),realScaleType:nO[l]?l:"point"}}return et(i)?{scale:i}:{scale:fh(),realScaleType:"point"}},cO=1e-4,Kae=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-cO,a=Math.max(i[0],i[1])+cO,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Wae=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Hae=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(o[0]=r),(!Ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Gae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Gc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Xae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Gc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Yae={sign:Gae,expand:fH,none:ac,silhouette:hH,wiggle:dH,positive:Xae},Qae=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Yae[r],a=cH().keys(i).value(function(s,l){return+pr(s,l,0)}).order(U_).offset(o);return a(e)},Jae=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(c,p){var y,b=(y=p.type)!==null&&y!==void 0&&y.defaultProps?tn(tn({},p.type.defaultProps),p.props):p.props,v=b.stackId,w=b.hide;if(w)return c;var S=b[r],A=c[S]||{hasStack:!1,stackGroups:{}};if(En(v)){var P=A.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};P.items.push(p),A.hasStack=!0,A.stackGroups[v]=P}else A.stackGroups[Xc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return tn(tn({},c),{},qu({},S,A))},l),f={};return Object.keys(u).reduce(function(c,p){var y=u[p];if(y.hasStack){var b={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(v,w){var S=y.stackGroups[w];return tn(tn({},v),{},qu({},w,{numericAxisId:r,cateAxisId:i,items:S.items,stackedData:Qae(e,S.items,o)}))},b)}return tn(tn({},c),{},qu({},p,y))},f)},Zae=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=cae(u,o,s);return e.domain([Ov(f),Ba(f)]),{niceTicks:f}}if(o&&i==="number"){var c=e.domain(),p=fae(c,o,s);return{niceTicks:p}}return null};function Ug(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rt(i[e.dataKey])){var s=dg(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=pr(i,rt(a)?e.dataKey:a);return rt(l)?null:e.scale(l)}var fO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=pr(a,n.dataKey,n.domain[s]);return rt(l)?null:n.scale(l)-o/2+i},ese=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},tse=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(En(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},nse=function(e){return e.reduce(function(n,r){return[Ov(r.concat([n[0]]).filter(Ee)),Ba(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},n$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,f){var c=nse(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bx=function(e,n,r){if(et(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(hO.test(e[0])){var o=+hO.exec(e[0])[1];i[0]=n[0]-o}else et(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(dO.test(e[1])){var a=+dO.exec(e[1])[1];i[1]=n[1]+a}else et(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=bE(n,function(c){return c.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],f=o[s-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},pO=function(e,n,r){return!e||!e.length||pc(e,hi(r,"type.defaultProps.domain"))?n:e},r$=function(e,n){var r=e.type.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return tn(tn({},nt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:KE(e),value:pr(n,i),type:l,payload:n,chartType:u,hide:f})};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e,n){return e=ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=ose(t,"string");return id(e)=="symbol"?e:e+""}function ose(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kg=Math.PI/180,ase=function(e){return e*180/Math.PI},Ln=function(e,n,r,i){return{x:e+Math.cos(-Kg*i)*r,y:n+Math.sin(-Kg*i)*r}},sse=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},lse=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=sse({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:ase(u),angleInRadian:u}},use=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},cse=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},yO=function(e,n){var r=e.x,i=e.y,o=lse({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var f=use(n),c=f.startAngle,p=f.endAngle,y=s,b;if(c<=p){for(;y>p;)y-=360;for(;y<c;)y+=360;b=y>=c&&y<=p}else{for(;y>c;)y-=360;for(;y<p;)y+=360;b=y>=p&&y<=c}return b?gO(gO({},n),{},{radius:a,angle:cse(y,n)}):null};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var fse=["offset"];function hse(t){return gse(t)||mse(t)||pse(t)||dse()}function dse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return _x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _x(t,e)}}function mse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gse(t){if(Array.isArray(t))return _x(t)}function _x(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yse(t,e){if(t==null)return{};var n=vse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return e=_se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=xse(t,"string");return od(e)=="symbol"?e:e+""}function xse(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}var wse=function(e){var n=e.value,r=e.formatter,i=rt(e.children)?n:e.children;return et(r)?r(i):i},Ese=function(e,n){var r=Fi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Sse=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,f=l.cy,c=l.innerRadius,p=l.outerRadius,y=l.startAngle,b=l.endAngle,v=l.clockWise,w=(c+p)/2,S=Ese(y,b),A=S>=0?1:-1,P,D;i==="insideStart"?(P=y+A*a,D=v):i==="insideEnd"?(P=b-A*a,D=!v):i==="end"&&(P=b+A*a,D=v),D=S<=0?D:!D;var I=Ln(u,f,w,P),O=Ln(u,f,w,P+(D?1:-1)*359),x="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(D?0:1,`,
    `).concat(O.x,",").concat(O.y),T=rt(e.id)?Xc("recharts-radial-line-"):e.id;return K.createElement("text",ad({},r,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",s)}),K.createElement("defs",null,K.createElement("path",{id:T,d:x})),K.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Ase=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,f=o.startAngle,c=o.endAngle,p=(f+c)/2;if(i==="outside"){var y=Ln(a,s,u+r,p),b=y.x,v=y.y;return{x:b,y:v,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,S=Ln(a,s,w,p),A=S.x,P=S.y;return{x:A,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Tse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,f=a.height,c=f>=0?1:-1,p=c*i,y=c>0?"end":"start",b=c>0?"start":"end",v=u>=0?1:-1,w=v*i,S=v>0?"end":"start",A=v>0?"start":"end";if(o==="top"){var P={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:y};return _n(_n({},P),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var D={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:b};return _n(_n({},D),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(o==="left"){var I={x:s-w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return _n(_n({},I),r?{width:Math.max(I.x-r.x,0),height:f}:{})}if(o==="right"){var O={x:s+u+w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return _n(_n({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:f}:{})}var x=r?{width:u,height:f}:{};return o==="insideLeft"?_n({x:s+w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},x):o==="insideRight"?_n({x:s+u-w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},x):o==="insideTop"?_n({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:b},x):o==="insideBottom"?_n({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:y},x):o==="insideTopLeft"?_n({x:s+w,y:l+p,textAnchor:A,verticalAnchor:b},x):o==="insideTopRight"?_n({x:s+u-w,y:l+p,textAnchor:S,verticalAnchor:b},x):o==="insideBottomLeft"?_n({x:s+w,y:l+f-p,textAnchor:A,verticalAnchor:y},x):o==="insideBottomRight"?_n({x:s+u-w,y:l+f-p,textAnchor:S,verticalAnchor:y},x):qc(o)&&(Ee(o.x)||tl(o.x))&&(Ee(o.y)||tl(o.y))?_n({x:s+Tl(o.x,u),y:l+Tl(o.y,f),textAnchor:"end",verticalAnchor:"end"},x):_n({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},x)},Pse=function(e){return"cx"in e&&Ee(e.cx)};function er(t){var e=t.offset,n=e===void 0?5:e,r=yse(t,fse),i=_n({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,p=i.textBreakAll;if(!o||rt(s)&&rt(l)&&!q.isValidElement(u)&&!et(u))return null;if(q.isValidElement(u))return q.cloneElement(u,i);var y;if(et(u)){if(y=q.createElement(u,i),q.isValidElement(y))return y}else y=wse(i);var b=Pse(o),v=nt(i,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Sse(i,y,v);var w=b?Ase(i):Tse(i);return K.createElement(Og,ad({className:ht("recharts-label",c)},v,w,{breakAll:p}),y)}er.displayName="Label";var i$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,p=e.y,y=e.top,b=e.left,v=e.width,w=e.height,S=e.clockWise,A=e.labelViewBox;if(A)return A;if(Ee(v)&&Ee(w)){if(Ee(c)&&Ee(p))return{x:c,y:p,width:v,height:w};if(Ee(y)&&Ee(b))return{x:y,y:b,width:v,height:w}}return Ee(c)&&Ee(p)?{x:c,y:p,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:S}:e.viewBox?e.viewBox:{}},Ise=function(e,n){return e?e===!0?K.createElement(er,{key:"label-implicit",viewBox:n}):En(e)?K.createElement(er,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===er?q.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(er,{key:"label-implicit",content:e,viewBox:n}):et(e)?K.createElement(er,{key:"label-implicit",content:e,viewBox:n}):qc(e)?K.createElement(er,ad({viewBox:n},e,{key:"label-implicit"})):null:null},Ose=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=i$(e),a=di(i,er).map(function(l,u){return q.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Ise(e.label,n||o);return[s].concat(hse(a))};er.parseViewBox=i$;er.renderCallByParent=Ose;function Cse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kse=Cse;const Nse=It(kse);function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var jse=["valueAccessor"],Rse=["data","dataKey","clockWise","id","textBreakAll"];function Dse(t){return Vse(t)||Lse(t)||$se(t)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(t,e)}}function Lse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vse(t){if(Array.isArray(t))return xx(t)}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return e=zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Bse(t,"string");return sd(e)=="symbol"?e:e+""}function Bse(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xO(t,e){if(t==null)return{};var n=Use(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Use(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qse=function(e){return Array.isArray(e.value)?Nse(e.value):e.value};function Wr(t){var e=t.valueAccessor,n=e===void 0?qse:e,r=xO(t,jse),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=xO(r,Rse);return!i||!i.length?null:K.createElement(Lt,{className:"recharts-label-list"},i.map(function(f,c){var p=rt(o)?n(f,c):pr(f&&f.payload,o),y=rt(s)?{}:{id:"".concat(s,"-").concat(c)};return K.createElement(er,Wg({},nt(f,!0),u,y,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:er.parseViewBox(rt(a)?f:_O(_O({},f),{},{clockWise:a})),key:"label-".concat(c),index:c}))}))}Wr.displayName="LabelList";function Kse(t,e){return t?t===!0?K.createElement(Wr,{key:"labelList-implicit",data:e}):K.isValidElement(t)||et(t)?K.createElement(Wr,{key:"labelList-implicit",data:e,content:t}):qc(t)?K.createElement(Wr,Wg({data:e},t,{key:"labelList-implicit"})):null:null}function Wse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=di(r,Wr).map(function(a,s){return q.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Kse(t.label,e);return[o].concat(Dse(i))}Wr.renderCallByParent=Wse;function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hse(t,e,n){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Xse(t,"string");return ld(e)=="symbol"?e:e+""}function Xse(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yse=function(e,n){var r=Fi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/Kg,p=u?o:o+a*c,y=Ln(n,r,f,p),b=Ln(n,r,i,p),v=u?o-a*c:o,w=Ln(n,r,f*Math.cos(c*Kg),v);return{center:y,circleTangency:b,lineTangency:w,theta:c}},o$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Yse(a,s),u=a+l,f=Ln(n,r,o,a),c=Ln(n,r,o,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var y=Ln(n,r,i,a),b=Ln(n,r,i,u);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Qse=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=Fi(f-u),p=Wp({cx:n,cy:r,radius:o,angle:u,sign:c,cornerRadius:a,cornerIsExternal:l}),y=p.circleTangency,b=p.lineTangency,v=p.theta,w=Wp({cx:n,cy:r,radius:o,angle:f,sign:-c,cornerRadius:a,cornerIsExternal:l}),S=w.circleTangency,A=w.lineTangency,P=w.theta,D=l?Math.abs(u-f):Math.abs(u-f)-v-P;if(D<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):o$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f});var I="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(D>180),",").concat(+(c<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var O=Wp({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),x=O.circleTangency,T=O.lineTangency,k=O.theta,M=Wp({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=M.circleTangency,$=M.lineTangency,L=M.theta,re=l?Math.abs(u-f):Math.abs(u-f)-k-L;if(re<0&&a===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(re>180),",").concat(+(c>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(T.x,",").concat(T.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},Jse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a$=function(e){var n=EO(EO({},Jse),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,p=n.className;if(a<o||f===c)return null;var y=ht("recharts-sector",p),b=a-o,v=Tl(s,b,0,!0),w;return v>0&&Math.abs(f-c)<360?w=Qse({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):w=o$({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:f,endAngle:c}),K.createElement("path",wx({},nt(n,!0),{className:y,d:w,role:"img"}))};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return e=ele(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ele(t){var e=tle(t,"string");return ud(e)=="symbol"?e:e+""}function tle(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TO={curveBasisClosed:ZW,curveBasisOpen:eH,curveBasis:JW,curveBumpX:LW,curveBumpY:VW,curveLinearClosed:tH,curveLinear:vv,curveMonotoneX:nH,curveMonotoneY:rH,curveNatural:iH,curveStep:oH,curveStepAfter:sH,curveStepBefore:aH},Hp=function(e){return e.x===+e.x&&e.y===+e.y},jf=function(e){return e.x},Rf=function(e){return e.y},nle=function(e,n){if(et(e))return e;var r="curve".concat(gv(e));return(r==="curveMonotone"||r==="curveBump")&&n?TO["".concat(r).concat(n==="vertical"?"Y":"X")]:TO[r]||vv},rle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=nle(r,s),c=u?o.filter(function(v){return Hp(v)}):o,p;if(Array.isArray(a)){var y=u?a.filter(function(v){return Hp(v)}):a,b=c.map(function(v,w){return AO(AO({},v),{},{base:y[w]})});return s==="vertical"?p=$p().y(Rf).x1(jf).x0(function(v){return v.base.x}):p=$p().x(jf).y1(Rf).y0(function(v){return v.base.y}),p.defined(Hp).curve(f),p(b)}return s==="vertical"&&Ee(a)?p=$p().y(Rf).x1(jf).x0(a):Ee(a)?p=$p().x(jf).y1(Rf).y0(a):p=sD().x(jf).y(Rf),p.defined(Hp).curve(f),p(c)},Ku=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?rle(e):i;return q.createElement("path",Ex({},nt(e,!1),pg(e),{className:ht("recharts-curve",n),d:a,ref:o}))},s$={exports:{}},ile="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ole=ile,ale=ole;function l$(){}function u$(){}u$.resetWarningCache=l$;var sle=function(){function t(r,i,o,a,s,l){if(l!==ale){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:u$,resetWarningCache:l$};return n.PropTypes=n,n};s$.exports=sle();var lle=s$.exports;const xt=It(lle);var ule=Object.getOwnPropertyNames,cle=Object.getOwnPropertySymbols,fle=Object.prototype.hasOwnProperty;function PO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Gp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function hle(t){return t!=null?t[Symbol.toStringTag]:void 0}function IO(t){return ule(t).concat(cle(t))}var dle=Object.hasOwn||function(t,e){return fle.call(t,e)};function Vl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ple="__v",mle="__o",gle="_owner",OO=Object.getOwnPropertyDescriptor,CO=Object.keys;function yle(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function vle(t,e){return Vl(t.getTime(),e.getTime())}function ble(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _le(t,e){return t===e}function kO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),f=!1,c=0;(s=u.next())&&!s.done;){if(i[c]){c++;continue}var p=a.value,y=s.value;if(n.equals(p[0],y[0],l,c,t,e,n)&&n.equals(p[1],y[1],p[0],y[0],t,e,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var xle=Vl;function wle(t,e,n){var r=CO(t),i=r.length;if(CO(e).length!==i)return!1;for(;i-- >0;)if(!c$(t,e,n,r[i]))return!1;return!0}function Df(t,e,n){var r=IO(t),i=r.length;if(IO(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!c$(t,e,n,o)||(a=OO(t,o),s=OO(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Ele(t,e){return Vl(t.valueOf(),e.valueOf())}function Sle(t,e){return t.source===e.source&&t.flags===e.flags}function NO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Ale(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Tle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function c$(t,e,n,r){return(r===gle||r===mle||r===ple)&&(t.$$typeof||e.$$typeof)?!0:dle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Ple="[object Arguments]",Ile="[object Boolean]",Ole="[object Date]",Cle="[object Error]",kle="[object Map]",Nle="[object Number]",jle="[object Object]",Rle="[object RegExp]",Dle="[object Set]",Mle="[object String]",$le="[object URL]",Lle=Array.isArray,jO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RO=Object.assign,Vle=Object.prototype.toString.call.bind(Object.prototype.toString);function Fle(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,c=t.areTypedArraysEqual,p=t.areUrlsEqual,y=t.unknownTagComparators;return function(v,w,S){if(v===w)return!0;if(v==null||w==null)return!1;var A=typeof v;if(A!==typeof w)return!1;if(A!=="object")return A==="number"?a(v,w,S):A==="function"?i(v,w,S):!1;var P=v.constructor;if(P!==w.constructor)return!1;if(P===Object)return s(v,w,S);if(Lle(v))return e(v,w,S);if(jO!=null&&jO(v))return c(v,w,S);if(P===Date)return n(v,w,S);if(P===RegExp)return u(v,w,S);if(P===Map)return o(v,w,S);if(P===Set)return f(v,w,S);var D=Vle(v);if(D===Ole)return n(v,w,S);if(D===Rle)return u(v,w,S);if(D===kle)return o(v,w,S);if(D===Dle)return f(v,w,S);if(D===jle)return typeof v.then!="function"&&typeof w.then!="function"&&s(v,w,S);if(D===$le)return p(v,w,S);if(D===Cle)return r(v,w,S);if(D===Ple)return s(v,w,S);if(D===Ile||D===Nle||D===Mle)return l(v,w,S);if(y){var I=y[D];if(!I){var O=hle(v);O&&(I=y[O])}if(I)return I(v,w,S)}return!1}}function zle(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Df:yle,areDatesEqual:vle,areErrorsEqual:ble,areFunctionsEqual:_le,areMapsEqual:r?PO(kO,Df):kO,areNumbersEqual:xle,areObjectsEqual:r?Df:wle,arePrimitiveWrappersEqual:Ele,areRegExpsEqual:Sle,areSetsEqual:r?PO(NO,Df):NO,areTypedArraysEqual:r?Df:Ale,areUrlsEqual:Tle,unknownTagComparators:void 0};if(n&&(i=RO({},i,n(i))),e){var o=Gp(i.areArraysEqual),a=Gp(i.areMapsEqual),s=Gp(i.areObjectsEqual),l=Gp(i.areSetsEqual);i=RO({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Ble(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Ule(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var f=r(),c=f.cache,p=c===void 0?e?new WeakMap:void 0:c,y=f.meta;return n(l,u,{cache:p,equals:i,meta:y,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var qle=Es();Es({strict:!0});Es({circular:!0});Es({circular:!0,strict:!0});Es({createInternalComparator:function(){return Vl}});Es({strict:!0,createInternalComparator:function(){return Vl}});Es({circular:!0,createInternalComparator:function(){return Vl}});Es({circular:!0,createInternalComparator:function(){return Vl},strict:!0});function Es(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=zle(t),l=Fle(s),u=r?r(l):Ble(l);return Ule({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Kle(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Kle(i)};requestAnimationFrame(r)}function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function Wle(t){return Yle(t)||Xle(t)||Gle(t)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gle(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yle(t){if(Array.isArray(t))return t}function Qle(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Wle(a),l=s[0],u=s.slice(1);if(typeof l=="number"){DO(i.bind(null,u),l);return}i(l),DO(i.bind(null,u));return}Sx(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){f$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f$(t,e,n){return e=Jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jle(t){var e=Zle(t,"string");return cd(e)==="symbol"?e:String(e)}function Zle(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},tue=function(e){return e},nue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dh=function(e,n){return Object.keys(n).reduce(function(r,i){return LO(LO({},r),{},f$({},i,e(i,n[i])))},{})},VO=function(e,n,r){return e.map(function(i){return"".concat(nue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function rue(t,e){return aue(t)||oue(t,e)||h$(t,e)||iue()}function iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function aue(t){if(Array.isArray(t))return t}function sue(t){return cue(t)||uue(t)||h$(t)||lue()}function lue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$(t,e){if(t){if(typeof t=="string")return Ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ax(t,e)}}function uue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cue(t){if(Array.isArray(t))return Ax(t)}function Ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hg=1e-4,d$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},p$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},FO=function(e,n){return function(r){var i=d$(e,n);return p$(i,r)}},fue=function(e,n){return function(r){var i=d$(e,n),o=[].concat(sue(i.map(function(a,s){return a*s}).slice(1)),[0]);return p$(o,r)}},zO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=rue(u,4);i=f[0],o=f[1],a=f[2],s=f[3]}}}var c=FO(i,a),p=FO(o,s),y=fue(i,a),b=function(S){return S>1?1:S<0?0:S},v=function(S){for(var A=S>1?1:S,P=A,D=0;D<8;++D){var I=c(P)-A,O=y(P);if(Math.abs(I-A)<Hg||O<Hg)return p(P);P=b(P-I/O)}return p(P)};return v.isStepper=!1,v},hue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(f,c,p){var y=-(f-c)*r,b=p*o,v=p+(y-b)*s/1e3,w=p*s/1e3+f;return Math.abs(w-c)<Hg&&Math.abs(v)<Hg?[c,0]:[w,v]};return l.isStepper=!0,l.dt=s,l},due=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zO(i);case"spring":return hue();default:if(i.split("(")[0]==="cubic-bezier")return zO(i)}return typeof i=="function"?i:null};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function BO(t){return gue(t)||mue(t)||m$(t)||pue()}function pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gue(t){if(Array.isArray(t))return Px(t)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tx(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return fd(e)==="symbol"?e:String(e)}function vue(t,e){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bue(t,e){return wue(t)||xue(t,e)||m$(t,e)||_ue()}function _ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$(t,e){if(t){if(typeof t=="string")return Px(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(t,e)}}function Px(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wue(t){if(Array.isArray(t))return t}var Gg=function(e,n,r){return e+(n-e)*r},Ix=function(e){var n=e.from,r=e.to;return n!==r},Eue=function t(e,n,r){var i=dh(function(o,a){if(Ix(a)){var s=e(a.from,a.to,a.velocity),l=bue(s,2),u=l[0],f=l[1];return jn(jn({},a),{},{from:u,velocity:f})}return a},n);return r<1?dh(function(o,a){return Ix(a)?jn(jn({},a),{},{velocity:Gg(a.velocity,i[o].velocity,r),from:Gg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Sue=function(t,e,n,r,i){var o=eue(t,e),a=o.reduce(function(w,S){return jn(jn({},w),{},Tx({},S,[t[S],e[S]]))},{}),s=o.reduce(function(w,S){return jn(jn({},w),{},Tx({},S,{from:t[S],velocity:0,to:e[S]}))},{}),l=-1,u,f,c=function(){return null},p=function(){return dh(function(S,A){return A.from},s)},y=function(){return!Object.values(s).filter(Ix).length},b=function(S){u||(u=S);var A=S-u,P=A/n.dt;s=Eue(n,s,P),i(jn(jn(jn({},t),e),p())),u=S,y()||(l=requestAnimationFrame(c))},v=function(S){f||(f=S);var A=(S-f)/r,P=dh(function(I,O){return Gg.apply(void 0,BO(O).concat([n(A)]))},a);if(i(jn(jn(jn({},t),e),P)),A<1)l=requestAnimationFrame(c);else{var D=dh(function(I,O){return Gg.apply(void 0,BO(O).concat([n(1)]))},a);i(jn(jn(jn({},t),e),D))}};return c=n.isStepper?b:v,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}var Aue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tue(t,e){if(t==null)return{};var n=Pue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rb(t){return kue(t)||Cue(t)||Oue(t)||Iue()}function Iue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(t,e){if(t){if(typeof t=="string")return Ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ox(t,e)}}function Cue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kue(t){if(Array.isArray(t))return Ox(t)}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){Gf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gf(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function Rue(t,e,n){return e&&jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g$(t){var e=Due(t,"string");return gc(e)==="symbol"?e:String(e)}function Due(t,e){if(gc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cx(t,e)}function Cx(t,e){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cx(t,e)}function $ue(t){var e=Lue();return function(){var r=Xg(t),i;if(e){var o=Xg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kx(this,i)}}function kx(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nx(t)}function Nx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}var So=function(t){Mue(n,t);var e=$ue(n);function n(r,i){var o;Nue(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,f=a.to,c=a.steps,p=a.children,y=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Nx(o)),o.changeStyle=o.changeStyle.bind(Nx(o)),!s||y<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:f}),kx(o);if(c&&c.length)o.state={style:c[0].style};else if(u){if(typeof p=="function")return o.state={style:u},kx(o);o.state={style:l?Gf({},l,u):u}}else o.state={style:{}};return o}return Rue(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,f=o.to,c=o.from,p=this.state.style;if(s){if(!a){var y={style:l?Gf({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(y);return}if(!(qle(i.to,f)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||u?c:i.to;if(this.state&&p){var w={style:l?Gf({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(w)}this.runAnimation(ki(ki({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,p=i.onAnimationStart,y=Sue(a,s,due(u),l,this.changeStyle),b=function(){o.stopJSAnimation=y()};this.manager.start([p,f,b,l,c])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],f=u.style,c=u.duration,p=c===void 0?0:c,y=function(v,w,S){if(S===0)return v;var A=w.duration,P=w.easing,D=P===void 0?"ease":P,I=w.style,O=w.properties,x=w.onAnimationEnd,T=S>0?a[S-1]:w,k=O||Object.keys(I);if(typeof D=="function"||D==="spring")return[].concat(rb(v),[o.runJSAnimation.bind(o,{from:T.style,to:I,duration:A,easing:D}),A]);var M=VO(k,A,D),R=ki(ki(ki({},T.style),I),{},{transition:M});return[].concat(rb(v),[R,A,x]).filter(tue)};return this.manager.start([l].concat(rb(a.reduce(y,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Qle());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,p=i.steps,y=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=s?Gf({},s,l):l,w=VO(Object.keys(v),a,u);b.start([f,o,ki(ki({},v),{},{transition:w}),a,c])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Tue(i,Aue),u=q.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||u===0||a<=0)return o;var c=function(y){var b=y.props,v=b.style,w=v===void 0?{}:v,S=b.className,A=q.cloneElement(y,ki(ki({},l),{},{style:ki(ki({},w),f),className:S}));return A};return u===1?c(q.Children.only(o)):K.createElement("div",null,q.Children.map(o,function(p){return c(p)}))}}]),n}(q.PureComponent);So.displayName="Animate";So.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};So.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function Vue(t,e){return Uue(t)||Bue(t,e)||zue(t,e)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(t,e){if(t){if(typeof t=="string")return KO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Uue(t){if(Array.isArray(t))return t}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kue(t){var e=Wue(t,"string");return hd(e)=="symbol"?e:e+""}function Wue(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&o instanceof Array){for(var c=[0,0,0,0],p=0,y=4;p<y;p++)c[p]=o[p]>a?a:o[p];f="M".concat(e,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*c[1])),f+="L ".concat(e+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*c[3])),f+="Z"}else if(a>0&&o===+o&&o>0){var b=Math.min(a,o);f="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*b," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Hue=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),f=Math.max(o,o+s),c=Math.min(a,a+l),p=Math.max(a,a+l);return r>=u&&r<=f&&i>=c&&i<=p}return!1},Gue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WE=function(e){var n=HO(HO({},Gue),e),r=q.useRef(),i=q.useState(-1),o=Vue(i,2),a=o[0],s=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&s(D)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,p=n.radius,y=n.className,b=n.animationEasing,v=n.animationDuration,w=n.animationBegin,S=n.isAnimationActive,A=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var P=ht("recharts-rectangle",y);return A?K.createElement(So,{canBegin:a>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:v,animationEasing:b,isActive:A},function(D){var I=D.width,O=D.height,x=D.x,T=D.y;return K.createElement(So,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:S,easing:b},K.createElement("path",Yg({},nt(n,!0),{className:P,d:GO(x,T,I,O,p),ref:r})))}):K.createElement("path",Yg({},nt(n,!0),{className:P,d:GO(l,u,f,c,p)}))};function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}var Nv=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ht("recharts-dot",o);return n===+n&&r===+r&&i===+i?q.createElement("circle",jx({},nt(e,!1),pg(e),{className:a,cx:n,cy:r,r:i})):null};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var Xue=["x","y","top","left","width","height","className"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Que(t,e,n){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Zue(t,"string");return dd(e)=="symbol"?e:e+""}function Zue(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ece(t,e){if(t==null)return{};var n=tce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nce=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},rce=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,f=e.width,c=f===void 0?0:f,p=e.height,y=p===void 0?0:p,b=e.className,v=ece(e,Xue),w=Yue({x:r,y:o,top:s,left:u,width:c,height:y},v);return!Ee(r)||!Ee(o)||!Ee(c)||!Ee(y)||!Ee(s)||!Ee(u)?null:K.createElement("path",Rx({},nt(w,!0),{className:ht("recharts-cross",b),d:nce(r,o,c,y,s,u)}))},ice=kD,oce=ice(Object.getPrototypeOf,Object),ace=oce,sce=fa,lce=ace,uce=ha,cce="[object Object]",fce=Function.prototype,hce=Object.prototype,y$=fce.toString,dce=hce.hasOwnProperty,pce=y$.call(Object);function mce(t){if(!uce(t)||sce(t)!=cce)return!1;var e=lce(t);if(e===null)return!0;var n=dce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&y$.call(n)==pce}var gce=mce;const yce=It(gce);var vce=fa,bce=ha,_ce="[object Boolean]";function xce(t){return t===!0||t===!1||bce(t)&&vce(t)==_ce}var wce=xce;const Ece=It(wce);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function Sce(t,e){return Ice(t)||Pce(t,e)||Tce(t,e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tce(t,e){if(t){if(typeof t=="string")return YO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YO(t,e)}}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ice(t){if(Array.isArray(t))return t}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oce(t,e,n){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=kce(t,"string");return pd(e)=="symbol"?e:e+""}function kce(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Nce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jce=function(e){var n=JO(JO({},Nce),e),r=q.useRef(),i=q.useState(-1),o=Sce(i,2),a=o[0],s=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,p=n.height,y=n.className,b=n.animationEasing,v=n.animationDuration,w=n.animationBegin,S=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||p!==+p||f===0&&c===0||p===0)return null;var A=ht("recharts-trapezoid",y);return S?K.createElement(So,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:p,x:l,y:u},duration:v,animationEasing:b,isActive:S},function(P){var D=P.upperWidth,I=P.lowerWidth,O=P.height,x=P.x,T=P.y;return K.createElement(So,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:b},K.createElement("path",Qg({},nt(n,!0),{className:A,d:ZO(x,T,D,I,O),ref:r})))}):K.createElement("g",null,K.createElement("path",Qg({},nt(n,!0),{className:A,d:ZO(l,u,f,c,p)})))},Rce=["option","shapeType","propTransformer","activeClassName","isActive"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Dce(t,e){if(t==null)return{};var n=Mce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){$ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=Vce(t,"string");return md(e)=="symbol"?e:e+""}function Vce(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fce(t,e){return Jg(Jg({},e),t)}function zce(t,e){return t==="symbols"}function t2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(WE,n);case"trapezoid":return K.createElement(jce,n);case"sector":return K.createElement(a$,n);case"symbols":if(zce(e))return K.createElement(fE,n);break;default:return null}}function Bce(t){return q.isValidElement(t)?t.props:t}function Uce(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Fce:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Dce(t,Rce),u;if(q.isValidElement(e))u=q.cloneElement(e,Jg(Jg({},l),Bce(e)));else if(et(e))u=e(l);else if(yce(e)&&!Ece(e)){var f=i(e,l);u=K.createElement(t2,{shapeType:n,elementProps:f})}else{var c=l;u=K.createElement(t2,{shapeType:n,elementProps:c})}return s?K.createElement(Lt,{className:a},u):u}function jv(t,e){return e!=null&&"trapezoids"in t.props}function Rv(t,e){return e!=null&&"sectors"in t.props}function gd(t,e){return e!=null&&"points"in t.props}function qce(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Kce(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Wce(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Hce(t,e){var n;return jv(t,e)?n=qce:Rv(t,e)?n=Kce:gd(t,e)&&(n=Wce),n}function Gce(t,e){var n;return jv(t,e)?n="trapezoids":Rv(t,e)?n="sectors":gd(t,e)&&(n="points"),n}function Xce(t,e){if(jv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Rv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gd(t,e)?e.payload:{}}function Yce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Gce(n,e),o=Xce(n,e),a=r.filter(function(l,u){var f=pc(o,l),c=n.props[i].filter(function(b){var v=Hce(n,e);return v(b,e)}),p=n.props[i].indexOf(c[c.length-1]),y=u===p;return f&&y}),s=r.indexOf(a[a.length-1]);return s}var Qce=Math.ceil,Jce=Math.max;function Zce(t,e,n,r){for(var i=-1,o=Jce(Qce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var efe=Zce,tfe=YD,n2=1/0,nfe=17976931348623157e292;function rfe(t){if(!t)return t===0?t:0;if(t=tfe(t),t===n2||t===-n2){var e=t<0?-1:1;return e*nfe}return t===t?t:0}var v$=rfe,ife=efe,ofe=wv,ib=v$;function afe(t){return function(e,n,r){return r&&typeof r!="number"&&ofe(e,n,r)&&(n=r=void 0),e=ib(e),n===void 0?(n=e,e=0):n=ib(n),r=r===void 0?e<n?1:-1:ib(r),ife(e,n,r,t)}}var sfe=afe,lfe=sfe,ufe=lfe(),cfe=ufe;const Zg=It(cfe);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){b$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b$(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return yd(e)=="symbol"?e:e+""}function hfe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dfe=["Webkit","Moz","O","ms"],pfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=dfe.reduce(function(o,a){return i2(i2({},o),{},b$({},a+r,n))},{});return i[e]=n,i};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function gfe(t,e,n){return e&&a2(t.prototype,e),n&&a2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yfe(t,e,n){return e=ty(e),vfe(t,_$()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function vfe(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bfe(t)}function bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function _fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dx(t,e)}function Vr(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=xfe(t,"string");return yc(e)=="symbol"?e:e+""}function xfe(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=fh().domain(Zg(0,l)).range([o,o+a-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},s2=function(e){return e.changedTouches&&!!e.changedTouches.length},vc=function(t){function e(n){var r;return mfe(this,e),r=yfe(this,e,[n]),Vr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vr(r,"handleSlideDragStart",function(i){var o=s2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return _fe(e,t),gfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,c=Math.min(i,o),p=Math.max(i,o),y=e.getIndexInRange(a,c),b=e.getIndexInRange(a,p);return{startIndex:y-y%l,endIndex:b===f?f:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=pr(o[r],s,r);return et(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,p=l.startIndex,y=l.endIndex,b=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+f-c-s,u+f-c-a):v<0&&(v=Math.max(v,u-a,u-s));var w=this.getIndex({startX:a+v,endX:s+v});(w.startIndex!==p||w.endIndex!==y)&&b&&b(w),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=s2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],f=this.props,c=f.x,p=f.width,y=f.travellerWidth,b=f.onChange,v=f.gap,w=f.data,S={startX:this.state.startX,endX:this.state.endX},A=r.pageX-o;A>0?A=Math.min(A,c+p-y-u):A<0&&(A=Math.max(A,c-u)),S[a]=u+A;var P=this.getIndex(S),D=P.startIndex,I=P.endIndex,O=function(){var T=w.length-1;return a==="startX"&&(s>l?D%v===0:I%v===0)||s<l&&I===T||a==="endX"&&(s>l?I%v===0:D%v===0)||s>l&&I===T};this.setState(Vr(Vr({},a,u+A),"brushMoveStartX",r.pageX),function(){b&&O()&&b(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,f=this.state[i],c=s.indexOf(f);if(c!==-1){var p=c+r;if(!(p===-1||p>=s.length)){var y=s[p];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Vr({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return K.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,c=q.Children.only(u);return c?K.cloneElement(c,{x:i,y:o,width:a,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,p=l.traveller,y=l.ariaLabel,b=l.data,v=l.startIndex,w=l.endIndex,S=Math.max(r,this.props.x),A=ob(ob({},nt(this.props,!1)),{},{x:S,y:u,width:f,height:c}),P=y||"Min value: ".concat((o=b[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=b[w])===null||a===void 0?void 0:a.name);return K.createElement(Lt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),s.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,A))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:c,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,p=f.endX,y=5,b={pointerEvents:"none",fill:u};return K.createElement(Lt,{className:"recharts-brush-texts"},K.createElement(Og,ey({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,p)-y,y:a+s/2},b),this.getTextOfTick(i)),K.createElement(Og,ey({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,p)+l+y,y:a+s/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,p=this.state,y=p.startX,b=p.endX,v=p.isTextActive,w=p.isSlideMoving,S=p.isTravellerMoving,A=p.isTravellerFocused;if(!i||!i.length||!Ee(s)||!Ee(l)||!Ee(u)||!Ee(f)||u<=0||f<=0)return null;var P=ht("recharts-brush",o),D=K.Children.count(a)===1,I=pfe("userSelect","none");return K.createElement(Lt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(y,b),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(b,"endX"),(v||w||S||A||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),K.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):et(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return ob({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?wfe({data:o,width:a,x:s,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(q.PureComponent);Vr(vc,"displayName","Brush");Vr(vc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Efe=vE;function Sfe(t,e){var n;return Efe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Afe=Sfe,Tfe=ED,Pfe=_s,Ife=Afe,Ofe=Nr,Cfe=wv;function kfe(t,e,n){var r=Ofe(t)?Tfe:Ife;return n&&Cfe(t,e,n)&&(e=void 0),r(t,Pfe(e))}var Nfe=kfe;const jfe=It(Nfe);var xo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},l2=KD;function Rfe(t,e,n){e=="__proto__"&&l2?l2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Dfe=Rfe,Mfe=Dfe,$fe=UD,Lfe=_s;function Vfe(t,e){var n={};return e=Lfe(e),$fe(t,function(r,i,o){Mfe(n,i,e(r,i,o))}),n}var Ffe=Vfe;const zfe=It(Ffe);function Bfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Ufe=Bfe,qfe=vE;function Kfe(t,e){var n=!0;return qfe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Wfe=Kfe,Hfe=Ufe,Gfe=Wfe,Xfe=_s,Yfe=Nr,Qfe=wv;function Jfe(t,e,n){var r=Yfe(t)?Hfe:Gfe;return n&&Qfe(t,e,n)&&(e=void 0),r(t,Xfe(e))}var Zfe=Jfe;const w$=It(Zfe);var ehe=["x","y"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(this,arguments)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return e=nhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return vd(e)=="symbol"?e:e+""}function rhe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ihe(t,e){if(t==null)return{};var n=ohe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ohe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ahe(t,e){var n=t.x,r=t.y,i=ihe(t,ehe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),c="".concat(e.width||i.width),p=parseInt(c,10);return Mf(Mf(Mf(Mf(Mf({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function c2(t){return K.createElement(Uce,Mx({shapeType:"rectangle",propTransformer:ahe,activeClassName:"recharts-active-bar"},t))}var she=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ee(r)||SK(r);return o?e(r,i):(o||Il(),n)}},lhe=["value","background"],E$;function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function uhe(t,e){if(t==null)return{};var n=che(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function che(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A$(r.key),r)}}function hhe(t,e,n){return e&&h2(t.prototype,e),n&&h2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dhe(t,e,n){return e=ry(e),phe(t,S$()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function phe(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(t)}function mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$x(t,e)}function $x(t,e){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$x(t,e)}function Ua(t,e,n){return e=A$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=yhe(t,"string");return bc(e)=="symbol"?e:e+""}function yhe(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hr=function(t){function e(){var n;fhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dhe(this,e,[].concat(i)),Ua(n,"state",{isAnimationFinished:!1}),Ua(n,"id",Xc("recharts-bar-")),Ua(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ua(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ghe(e,t),hhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,f=nt(this.props,!1);return r&&r.map(function(c,p){var y=p===l,b=y?u:a,v=cn(cn(cn({},f),c),{},{isActive:y,option:b,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Lt,ny({className:"recharts-bar-rectangle"},mg(i.props,c,p),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(p)}),K.createElement(c2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,p=this.state.prevData;return K.createElement(So,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,v=o.map(function(w,S){var A=p&&p[S];if(A){var P=Mn(A.x,w.x),D=Mn(A.y,w.y),I=Mn(A.width,w.width),O=Mn(A.height,w.height);return cn(cn({},w),{},{x:P(b),y:D(b),width:I(b),height:O(b)})}if(a==="horizontal"){var x=Mn(0,w.height),T=x(b);return cn(cn({},w),{},{y:w.y+w.height-T,height:T})}var k=Mn(0,w.width),M=k(b);return cn(cn({},w),{},{width:M})});return K.createElement(Lt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!pc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=nt(this.props.background,!1);return o.map(function(u,f){u.value;var c=u.background,p=uhe(u,lhe);if(!c)return null;var y=cn(cn(cn(cn(cn({},p),{},{fill:"#eee"},c),l),mg(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return K.createElement(c2,ny({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,c=di(f,Qd);if(!c)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,y=function(w,S){var A=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:A,errorVal:pr(w,S)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(Lt,b,c.map(function(v){return K.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,p=r.height,y=r.isAnimationActive,b=r.background,v=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,S=ht("recharts-bar",a),A=s&&s.allowDataOverflow,P=l&&l.allowDataOverflow,D=A||P,I=rt(v)?this.id:v;return K.createElement(Lt,{className:S},A||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(I)},K.createElement("rect",{x:A?u:u-c/2,y:P?f:f-p/2,width:A?c:c*2,height:P?p:p*2}))):null,K.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(I,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,I),(!y||w)&&Wr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(q.PureComponent);E$=hr;Ua(hr,"displayName","Bar");Ua(hr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ua(hr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,p=t.offset,y=Wae(r,n);if(!y)return null;var b=e.layout,v=n.type.defaultProps,w=v!==void 0?cn(cn({},v),n.props):n.props,S=w.dataKey,A=w.children,P=w.minPointSize,D=b==="horizontal"?a:o,I=u?D.scale.domain():null,O=ese({numericAxis:D}),x=di(A,Wd),T=c.map(function(k,M){var R,$,L,re,ie,ce;u?R=Hae(u[f+M],I):(R=pr(k,S),Array.isArray(R)||(R=[O,R]));var pe=she(P,E$.defaultProps.minPointSize)(R[1],M);if(b==="horizontal"){var ne,ae=[a.scale(R[0]),a.scale(R[1])],ye=ae[0],Te=ae[1];$=fO({axis:o,ticks:s,bandSize:i,offset:y.offset,entry:k,index:M}),L=(ne=Te??ye)!==null&&ne!==void 0?ne:void 0,re=y.size;var be=ye-Te;if(ie=Number.isNaN(be)?0:be,ce={x:$,y:a.y,width:re,height:a.height},Math.abs(pe)>0&&Math.abs(ie)<Math.abs(pe)){var Re=Fi(ie||pe)*(Math.abs(pe)-Math.abs(ie));L-=Re,ie+=Re}}else{var Ke=[o.scale(R[0]),o.scale(R[1])],ut=Ke[0],dt=Ke[1];if($=ut,L=fO({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:k,index:M}),re=dt-ut,ie=y.size,ce={x:o.x,y:L,width:o.width,height:ie},Math.abs(pe)>0&&Math.abs(re)<Math.abs(pe)){var Pe=Fi(re||pe)*(Math.abs(pe)-Math.abs(re));re+=Pe}}return cn(cn(cn({},k),{},{x:$,y:L,width:re,height:ie,value:u?R:R[1],payload:k,background:ce},x&&x[M]&&x[M].props),{},{tooltipPayload:[r$(n,k)],tooltipPosition:{x:$+re/2,y:L+ie/2}})});return cn({data:T,layout:b},p)});function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function vhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T$(r.key),r)}}function bhe(t,e,n){return e&&d2(t.prototype,e),n&&d2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){Dv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dv(t,e,n){return e=T$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$(t){var e=_he(t,"string");return bd(e)=="symbol"?e:e+""}function _he(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HE=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!zr(u,hr);return f.reduce(function(y,b){var v=n[b],w=v.orientation,S=v.domain,A=v.padding,P=A===void 0?{}:A,D=v.mirror,I=v.reversed,O="".concat(w).concat(D?"Mirror":""),x,T,k,M,R;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=S[1]-S[0],L=1/0,re=v.categoricalDomain.sort(PK);if(re.forEach(function(Ke,ut){ut>0&&(L=Math.min((Ke||0)-(re[ut-1]||0),L))}),Number.isFinite(L)){var ie=L/$,ce=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(x=ie*ce/2),v.padding==="no-gap"){var pe=Tl(e.barCategoryGap,ie*ce),ne=ie*ce/2;x=ne-pe-(ne-pe)/ce*pe}}}i==="xAxis"?T=[r.left+(P.left||0)+(x||0),r.left+r.width-(P.right||0)-(x||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(x||0),r.top+r.height-(P.bottom||0)-(x||0)]:T=v.range,I&&(T=[T[1],T[0]]);var ae=qae(v,o,p),ye=ae.scale,Te=ae.realScaleType;ye.domain(S).range(T),Kae(ye);var be=Zae(ye,Ri(Ri({},v),{},{realScaleType:Te}));i==="xAxis"?(R=w==="top"&&!D||w==="bottom"&&D,k=r.left,M=c[O]-R*v.height):i==="yAxis"&&(R=w==="left"&&!D||w==="right"&&D,k=c[O]-R*v.width,M=r.top);var Re=Ri(Ri(Ri({},v),be),{},{realScaleType:Te,x:k,y:M,scale:ye,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Re.bandSize=qg(Re,be),!v.hide&&i==="xAxis"?c[O]+=(R?-1:1)*Re.height:v.hide||(c[O]+=(R?-1:1)*Re.width),Ri(Ri({},y),{},Dv({},b,Re))},{})},P$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},xhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return P$({x:n,y:r},{x:i,y:o})},I$=function(){function t(e){vhe(this,t),this.scale=e}return bhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Dv(I$,"EPS",1e-4);var GE=function(e){var n=Object.keys(e).reduce(function(r,i){return Ri(Ri({},r),{},Dv({},i,I$.create(e[i])))},{});return Ri(Ri({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return zfe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return w$(i,function(o,a){return n[a].isInRange(o)})}})};function whe(t){return(t%180+180)%180}var Ehe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=whe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},She=_s,Ahe=Kd,The=_v;function Phe(t){return function(e,n,r){var i=Object(e);if(!Ahe(e)){var o=She(n);e=The(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Ihe=Phe,Ohe=v$;function Che(t){var e=Ohe(t),n=e%1;return e===e?n?e-n:e:0}var khe=Che,Nhe=$D,jhe=_s,Rhe=khe,Dhe=Math.max;function Mhe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Rhe(n);return i<0&&(i=Dhe(r+i,0)),Nhe(t,jhe(e),i)}var $he=Mhe,Lhe=Ihe,Vhe=$he,Fhe=Lhe(Vhe),zhe=Fhe;const Bhe=It(zhe);var Uhe=Cq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XE=q.createContext(void 0),YE=q.createContext(void 0),O$=q.createContext(void 0),C$=q.createContext({}),k$=q.createContext(void 0),N$=q.createContext(0),j$=q.createContext(0),m2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,f=Uhe(o);return K.createElement(XE.Provider,{value:r},K.createElement(YE.Provider,{value:i},K.createElement(C$.Provider,{value:o},K.createElement(O$.Provider,{value:f},K.createElement(k$.Provider,{value:a},K.createElement(N$.Provider,{value:u},K.createElement(j$.Provider,{value:l},s)))))))},qhe=function(){return q.useContext(k$)},R$=function(e){var n=q.useContext(XE);n==null&&Il();var r=n[e];return r==null&&Il(),r},Khe=function(){var e=q.useContext(XE);return La(e)},Whe=function(){var e=q.useContext(YE),n=Bhe(e,function(r){return w$(r.domain,Number.isFinite)});return n||La(e)},D$=function(e){var n=q.useContext(YE);n==null&&Il();var r=n[e];return r==null&&Il(),r},Hhe=function(){var e=q.useContext(O$);return e},Ghe=function(){return q.useContext(C$)},QE=function(){return q.useContext(j$)},JE=function(){return q.useContext(N$)};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function Qhe(t,e,n){return e&&Yhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,n){return e=iy(e),Zhe(t,M$()?Reflect.construct(e,n||[],iy(t).constructor):e.apply(t,n))}function Zhe(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ede(t)}function ede(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}function tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZE(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=nde(t,"string");return _c(e)=="symbol"?e:e+""}function nde(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rde(t,e){return sde(t)||ade(t,e)||ode(t,e)||ide()}function ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ode(t,e){if(t){if(typeof t=="string")return v2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(t,e)}}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ade(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sde(t){if(Array.isArray(t))return t}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}var lde=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):et(e)?r=e(n):r=K.createElement("line",Vx({},n,{className:"recharts-reference-line-line"})),r},ude=function(e,n,r,i,o,a,s,l,u){var f=o.x,c=o.y,p=o.width,y=o.height;if(r){var b=u.y,v=e.y.apply(b,{position:a});if(xo(u,"discard")&&!e.y.isInRange(v))return null;var w=[{x:f+p,y:v},{x:f,y:v}];return l==="left"?w.reverse():w}if(n){var S=u.x,A=e.x.apply(S,{position:a});if(xo(u,"discard")&&!e.x.isInRange(A))return null;var P=[{x:A,y:c+y},{x:A,y:c}];return s==="top"?P.reverse():P}if(i){var D=u.segment,I=D.map(function(O){return e.apply(O,{position:a})});return xo(u,"discard")&&jfe(I,function(O){return!e.isInRange(O)})?null:I}return null};function cde(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=qhe(),f=R$(i),c=D$(o),p=Hhe();if(!u||!p)return null;Yo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=GE({x:f.scale,y:c.scale}),b=En(e),v=En(n),w=r&&r.length===2,S=ude(y,b,v,w,p,t.position,f.orientation,c.orientation,t);if(!S)return null;var A=rde(S,2),P=A[0],D=P.x,I=P.y,O=A[1],x=O.x,T=O.y,k=xo(t,"hidden")?"url(#".concat(u,")"):void 0,M=y2(y2({clipPath:k},nt(t,!0)),{},{x1:D,y1:I,x2:x,y2:T});return K.createElement(Lt,{className:ht("recharts-reference-line",s)},lde(a,M),er.renderCallByParent(t,xhe({x1:D,y1:I,x2:x,y2:T})))}var Mv=function(t){function e(){return Xhe(this,e),Jhe(this,e,arguments)}return tde(e,t),Qhe(e,[{key:"render",value:function(){return K.createElement(cde,this.props)}}])}(K.Component);ZE(Mv,"displayName","ReferenceLine");ZE(Mv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){$v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V$(r.key),r)}}function dde(t,e,n){return e&&hde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pde(t,e,n){return e=oy(e),mde(t,L$()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function mde(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(t)}function gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L$=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zx(t,e)}function zx(t,e){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zx(t,e)}function $v(t,e,n){return e=V$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V$(t){var e=vde(t,"string");return xc(e)=="symbol"?e:e+""}function vde(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bde=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=GE({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return xo(e,"discard")&&!a.isInRange(s)?null:s},Lv=function(t){function e(){return fde(this,e),pde(this,e,arguments)}return yde(e,t),dde(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=En(i),f=En(o);if(Yo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=bde(this.props);if(!c)return null;var p=c.x,y=c.y,b=this.props,v=b.shape,w=b.className,S=xo(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=_2(_2({clipPath:S},nt(this.props,!0)),{},{cx:p,cy:y});return K.createElement(Lt,{className:ht("recharts-reference-dot",w)},e.renderDot(v,A),er.renderCallByParent(this.props,{x:p-a,y:y-a,width:2*a,height:2*a}))}}])}(K.Component);$v(Lv,"displayName","ReferenceDot");$v(Lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$v(Lv,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):et(t)?n=t(e):n=K.createElement(Nv,Fx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){Vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function wde(t,e,n){return e&&xde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ede(t,e,n){return e=ay(e),Sde(t,F$()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function Sde(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ade(t)}function Ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F$=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function Tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ux(t,e)}function Ux(t,e){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ux(t,e)}function Vv(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=Pde(t,"string");return wc(e)=="symbol"?e:e+""}function Pde(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ide=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,f=o.xAxis,c=o.yAxis;if(!f||!c)return null;var p=GE({x:f.scale,y:c.scale}),y={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},b={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return xo(o,"discard")&&(!p.isInRange(y)||!p.isInRange(b))?null:P$(y,b)},Fv=function(t){function e(){return _de(this,e),Ede(this,e,arguments)}return Tde(e,t),wde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;Yo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=En(i),p=En(o),y=En(a),b=En(s),v=this.props.shape;if(!c&&!p&&!y&&!b&&!v)return null;var w=Ide(c,p,y,b,this.props);if(!w&&!v)return null;var S=xo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return K.createElement(Lt,{className:ht("recharts-reference-area",l)},e.renderRect(v,w2(w2({clipPath:S},nt(this.props,!0)),w)),er.renderCallByParent(this.props,w))}}])}(K.Component);Vv(Fv,"displayName","ReferenceArea");Vv(Fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vv(Fv,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):et(t)?n=t(e):n=K.createElement(WE,Bx({},e,{className:"recharts-reference-area-rect"})),n});function B$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ode(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ehe(r,n)}function Cde(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function sy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function kde(t,e){return B$(t,e+1)}function Nde(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,f=a,c=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:B$(r,u)};var v=l,w,S=function(){return w===void 0&&(w=n(b,v)),w},A=b.coordinate,P=l===0||sy(t,A,S,f,s);P||(l=0,f=a,u+=1),P&&(f=A+t*(S()/2+i),l+=u)},p;u<=o.length;)if(p=c(),p)return p.v;return[]}function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return e=Rde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rde(t){var e=Dde(t,"string");return _d(e)=="symbol"?e:e+""}function Dde(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mde(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(p){var y=o[p],b,v=function(){return b===void 0&&(b=n(y,p)),b};if(p===a-1){var w=t*(y.coordinate+t*v()/2-l);o[p]=y=Yn(Yn({},y),{},{tickCoord:w>0?y.coordinate-w*t:y.coordinate})}else o[p]=y=Yn(Yn({},y),{},{tickCoord:y.coordinate});var S=sy(t,y.tickCoord,v,s,l);S&&(l=y.tickCoord-t*(v()/2+i),o[p]=Yn(Yn({},y),{},{isShow:!0}))},f=a-1;f>=0;f--)u(f);return o}function $de(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var f=r[s-1],c=n(f,s-1),p=t*(f.coordinate+t*c/2-u);a[s-1]=f=Yn(Yn({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var y=sy(t,f.tickCoord,function(){return c},l,u);y&&(u=f.tickCoord-t*(c/2+i),a[s-1]=Yn(Yn({},f),{},{isShow:!0}))}for(var b=o?s-1:s,v=function(A){var P=a[A],D,I=function(){return D===void 0&&(D=n(P,A)),D};if(A===0){var O=t*(P.coordinate-t*I()/2-l);a[A]=P=Yn(Yn({},P),{},{tickCoord:O<0?P.coordinate-O*t:P.coordinate})}else a[A]=P=Yn(Yn({},P),{},{tickCoord:P.coordinate});var x=sy(t,P.tickCoord,I,l,u);x&&(l=P.tickCoord+t*(I()/2+i),a[A]=Yn(Yn({},P),{},{isShow:!0}))},w=0;w<b;w++)v(w);return a}function eS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(Ee(l)||Ml.isSsr)return kde(i,typeof l=="number"&&Ee(l)?l:0);var p=[],y=s==="top"||s==="bottom"?"width":"height",b=f&&y==="width"?ch(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(P,D){var I=et(u)?u(P.value,D):P.value;return y==="width"?Ode(ch(I,{fontSize:e,letterSpacing:n}),b,c):ch(I,{fontSize:e,letterSpacing:n})[y]},w=i.length>=2?Fi(i[1].coordinate-i[0].coordinate):1,S=Cde(o,w,y);return l==="equidistantPreserveStart"?Nde(w,S,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=$de(w,S,v,i,a,l==="preserveStartEnd"):p=Mde(w,S,v,i,a),p.filter(function(A){return A.isShow}))}var Lde=["viewBox"],Vde=["viewBox"],Fde=["ticks"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){tS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ab(t,e){if(t==null)return{};var n=zde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q$(r.key),r)}}function Ude(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qde(t,e,n){return e=ly(e),Kde(t,U$()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function Kde(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wde(t)}function Wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U$=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function Hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qx(t,e)}function tS(t,e,n){return e=q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=Gde(t,"string");return Ec(e)=="symbol"?e:e+""}function Gde(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nf=function(t){function e(n){var r;return Bde(this,e),r=qde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Hde(e,t),Ude(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=ab(r,Lde),s=this.props,l=s.viewBox,u=ab(s,Vde);return!Bu(o,l)||!Bu(a,u)||!Bu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,p=i.tickMargin,y,b,v,w,S,A,P=c?-1:1,D=r.tickSize||f,I=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=b=r.coordinate,w=a+ +!c*l,v=w-P*D,A=v-P*p,S=I;break;case"left":v=w=r.coordinate,b=o+ +!c*s,y=b-P*D,S=y-P*p,A=I;break;case"right":v=w=r.coordinate,b=o+ +c*s,y=b+P*D,S=y+P*p,A=I;break;default:y=b=r.coordinate,w=a+ +c*l,v=w+P*D,A=v+P*p,S=I;break}return{line:{x1:y,y1:v,x2:b,y2:w},tick:{x:S,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=bn(bn(bn({},nt(this.props,!1)),nt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);c=bn(bn({},c),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var y=+(l==="left"&&!u||l==="right"&&u);c=bn(bn({},c),{},{x1:i+y*a,y1:o,x2:i+y*a,y2:o+s})}return K.createElement("line",Ou({},c,{className:ht("recharts-cartesian-axis-line",hi(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,c=s.tickFormatter,p=s.unit,y=eS(bn(bn({},this.props),{},{ticks:r}),i,o),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=nt(this.props,!1),S=nt(f,!1),A=bn(bn({},w),{},{fill:"none"},nt(l,!1)),P=y.map(function(D,I){var O=a.getTickLineCoord(D),x=O.line,T=O.tick,k=bn(bn(bn(bn({textAnchor:b,verticalAnchor:v},w),{},{stroke:"none",fill:u},S),T),{},{index:I,payload:D,visibleTicksCount:y.length,tickFormatter:c});return K.createElement(Lt,Ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},mg(a.props,D,I)),l&&K.createElement("line",Ou({},A,x,{className:ht("recharts-cartesian-axis-tick-line",hi(l,"className"))})),f&&e.renderTickItem(f,k,"".concat(et(c)?c(D.value,I):D.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,p=c.ticks,y=ab(c,Fde),b=p;return et(l)&&(b=p&&p.length>0?l(this.props):l(y)),a<=0||s<=0||!b||!b.length?null:K.createElement(Lt,{className:ht("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ht(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?a=K.cloneElement(r,bn(bn({},i),{},{className:s})):et(r)?a=r(bn(bn({},i),{},{className:s})):a=K.createElement(Og,Ou({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(q.Component);tS(nf,"displayName","CartesianAxis");tS(nf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xde=["x1","y1","x2","y2","key"],Yde=["offset"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return e=Jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=Zde(t,"string");return Ol(e)=="symbol"?e:e+""}function Zde(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function P2(t,e){if(t==null)return{};var n=epe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tpe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return K.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function K$(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(et(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=P2(e,Xde),u=nt(l,!1);u.offset;var f=P2(u,Yde);n=K.createElement("line",il({},f,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function npe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=tr(tr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return K$(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function rpe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=tr(tr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return K$(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function ipe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,y){return p-y});i!==f[0]&&f.unshift(0);var c=f.map(function(p,y){var b=!f[y+1],v=b?i+a-p:f[y+1]-p;if(v<=0)return null;var w=y%e.length;return K.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:v,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function ope(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+o-o)}).sort(function(p,y){return p-y});o!==f[0]&&f.unshift(0);var c=f.map(function(p,y){var b=!f[y+1],v=b?o+s-p:f[y+1]-p;if(v<=0)return null;var w=y%r.length;return K.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:v,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var ape=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return t$(eS(tr(tr(tr({},nf.defaultProps),r),{},{ticks:qo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},spe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return t$(eS(tr(tr(tr({},nf.defaultProps),r),{},{ticks:qo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},su={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zv(t){var e,n,r,i,o,a,s=QE(),l=JE(),u=Ghe(),f=tr(tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:su.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:su.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:su.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:su.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:su.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:su.verticalFill,x:Ee(t.x)?t.x:u.left,y:Ee(t.y)?t.y:u.top,width:Ee(t.width)?t.width:u.width,height:Ee(t.height)?t.height:u.height}),c=f.x,p=f.y,y=f.width,b=f.height,v=f.syncWithTicks,w=f.horizontalValues,S=f.verticalValues,A=Khe(),P=Whe();if(!Ee(y)||y<=0||!Ee(b)||b<=0||!Ee(c)||c!==+c||!Ee(p)||p!==+p)return null;var D=f.verticalCoordinatesGenerator||ape,I=f.horizontalCoordinatesGenerator||spe,O=f.horizontalPoints,x=f.verticalPoints;if((!O||!O.length)&&et(I)){var T=w&&w.length,k=I({yAxis:P?tr(tr({},P),{},{ticks:T?w:P.ticks}):void 0,width:s,height:l,offset:u},T?!0:v);Yo(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(k),"]")),Array.isArray(k)&&(O=k)}if((!x||!x.length)&&et(D)){var M=S&&S.length,R=D({xAxis:A?tr(tr({},A),{},{ticks:M?S:A.ticks}):void 0,width:s,height:l,offset:u},M?!0:v);Yo(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(R),"]")),Array.isArray(R)&&(x=R)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(tpe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),K.createElement(npe,il({},f,{offset:u,horizontalPoints:O,xAxis:A,yAxis:P})),K.createElement(rpe,il({},f,{offset:u,verticalPoints:x,xAxis:A,yAxis:P})),K.createElement(ipe,il({},f,{horizontalPoints:O})),K.createElement(ope,il({},f,{verticalPoints:x})))}zv.displayName="CartesianGrid";var lpe=["type","layout","connectNulls","ref"],upe=["key"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function I2(t,e){if(t==null)return{};var n=cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){Di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lu(t){return ppe(t)||dpe(t)||hpe(t)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(t,e){if(t){if(typeof t=="string")return Kx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kx(t,e)}}function dpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ppe(t){if(Array.isArray(t))return Kx(t)}function Kx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H$(r.key),r)}}function gpe(t,e,n){return e&&C2(t.prototype,e),n&&C2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ype(t,e,n){return e=uy(e),vpe(t,W$()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function vpe(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(t)}function bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W$=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function _pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wx(t,e)}function Wx(t,e){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wx(t,e)}function Di(t,e,n){return e=H$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t){var e=xpe(t,"string");return Sc(e)=="symbol"?e:e+""}function xpe(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ac=function(t){function e(){var n;mpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ype(this,e,[].concat(i)),Di(n,"state",{isAnimationFinished:!0,totalLength:0}),Di(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Di(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(S,A){return S+A});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var f=Math.floor(a/u),c=a%u,p=s-a,y=[],b=0,v=0;b<l.length;v+=l[b],++b)if(v+l[b]>c){y=[].concat(lu(l.slice(0,b)),[c-v]);break}var w=y.length%2===0?[0,p]:[p];return[].concat(lu(e.repeat(l,f)),lu(y),w).map(function(S){return"".concat(S,"px")}).join(", ")}),Di(n,"id",Xc("recharts-line-")),Di(n,"pathRef",function(a){n.mainCurve=a}),Di(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Di(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return _pe(e,t),gpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,c=di(f,Qd);if(!c)return null;var p=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:pr(v.payload,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(Lt,y,c.map(function(b){return K.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=nt(this.props,!1),p=nt(l,!0),y=u.map(function(v,w){var S=Lr(Lr(Lr({key:"dot-".concat(w),r:3},c),p),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:u});return e.renderDotItem(l,S)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Lt,ph({className:"recharts-line-dots",key:"dots"},b),y)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var c=I2(s,lpe),p=Lr(Lr(Lr({},nt(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:f});return K.createElement(Ku,ph({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,f=a.animationBegin,c=a.animationDuration,p=a.animationEasing,y=a.animationId,b=a.animateNewValues,v=a.width,w=a.height,S=this.state,A=S.prevPoints,P=S.totalLength;return K.createElement(So,{begin:f,duration:c,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var I=D.t;if(A){var O=A.length/s.length,x=s.map(function($,L){var re=Math.floor(L*O);if(A[re]){var ie=A[re],ce=Mn(ie.x,$.x),pe=Mn(ie.y,$.y);return Lr(Lr({},$),{},{x:ce(I),y:pe(I)})}if(b){var ne=Mn(v*2,$.x),ae=Mn(w/2,$.y);return Lr(Lr({},$),{},{x:ne(I),y:ae(I)})}return Lr(Lr({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(x,r,i)}var T=Mn(0,P),k=T(I),M;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});M=o.getStrokeDasharray(k,P,R)}else M=o.generateSimpleStrokeDasharray(P,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&a&&a.length&&(!u&&f>0||!pc(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,p=i.left,y=i.width,b=i.height,v=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var S=this.state.isAnimationFinished,A=s.length===1,P=ht("recharts-line",l),D=u&&u.allowDataOverflow,I=f&&f.allowDataOverflow,O=D||I,x=rt(w)?this.id:w,T=(r=nt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,M=k===void 0?3:k,R=T.strokeWidth,$=R===void 0?2:R,L=GR(a)?a:{},re=L.clipDot,ie=re===void 0?!0:re,ce=M*2+$;return K.createElement(Lt,{className:P},D||I?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(x)},K.createElement("rect",{x:D?p:p-y/2,y:I?c:c-b/2,width:D?y:y*2,height:I?b:b*2})),!ie&&K.createElement("clipPath",{id:"clipPath-dots-".concat(x)},K.createElement("rect",{x:p-ce/2,y:c-ce/2,width:y+ce,height:b+ce}))):null,!A&&this.renderCurve(O,x),this.renderErrorBar(O,x),(A||a)&&this.renderDots(O,ie,x),(!v||S)&&Wr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(lu(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(lu(a),lu(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(K.isValidElement(r))o=K.cloneElement(r,i);else if(et(r))o=r(i);else{var a=i.key,s=I2(i,upe),l=ht("recharts-line-dot",typeof r!="boolean"?r.className:"");o=K.createElement(Nv,ph({key:a},s,{className:l}))}return o}}])}(q.PureComponent);Di(Ac,"displayName","Line");Di(Ac,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Di(Ac,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(p,y){var b=pr(p,a);return f==="horizontal"?{x:Ug({axis:n,ticks:i,bandSize:s,entry:p,index:y}),y:rt(b)?null:r.scale(b),value:b,payload:p}:{x:rt(b)?null:n.scale(b),y:Ug({axis:r,ticks:o,bandSize:s,entry:p,index:y}),value:b,payload:p}});return Lr({points:c,layout:f},u)});var wpe=["layout","type","stroke","connectNulls","isRange","ref"],Epe=["key"],G$;function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function X$(t,e){if(t==null)return{};var n=Spe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Spe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){co(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q$(r.key),r)}}function Tpe(t,e,n){return e&&N2(t.prototype,e),n&&N2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ppe(t,e,n){return e=cy(e),Ipe(t,Y$()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function Ipe(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y$=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function Cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hx(t,e)}function Hx(t,e){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hx(t,e)}function co(t,e,n){return e=Q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t){var e=kpe(t,"string");return Tc(e)=="symbol"?e:e+""}function kpe(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ss=function(t){function e(){var n;Ape(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ppe(this,e,[].concat(i)),co(n,"state",{isAnimationFinished:!0}),co(n,"id",Xc("recharts-area-")),co(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),et(a)&&a()}),co(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),et(a)&&a()}),n}return Cpe(e,t),Tpe(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,f=l.points,c=l.dataKey,p=nt(this.props,!1),y=nt(u,!0),b=f.map(function(w,S){var A=Ia(Ia(Ia({key:"dot-".concat(S),r:3},p),y),{},{index:S,cx:w.x,cy:w.y,dataKey:c,value:w.value,payload:w.payload,points:f});return e.renderDotItem(u,A)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Lt,ol({className:"recharts-area-dots"},v),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,f=r*Math.abs(l-u),c=Ba(a.map(function(p){return p.y||0}));return Ee(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(Ba(o.map(function(p){return p.y||0})),c)),Ee(c)?K.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,f=r*Math.abs(l-u),c=Ba(a.map(function(p){return p.x||0}));return Ee(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(Ba(o.map(function(p){return p.x||0})),c)),Ee(c)?K.createElement("rect",{x:0,y:l<u?l:l-f,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,f=s.stroke,c=s.connectNulls,p=s.isRange;s.ref;var y=X$(s,wpe);return K.createElement(Lt,{clipPath:o?"url(#clipPath-".concat(a,")"):null},K.createElement(Ku,ol({},nt(y,!0),{points:r,connectNulls:c,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&K.createElement(Ku,ol({},nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:r})),f!=="none"&&p&&K.createElement(Ku,ol({},nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,f=a.animationBegin,c=a.animationDuration,p=a.animationEasing,y=a.animationId,b=this.state,v=b.prevPoints,w=b.prevBaseLine;return K.createElement(So,{begin:f,duration:c,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(v){var P=v.length/s.length,D=s.map(function(T,k){var M=Math.floor(k*P);if(v[M]){var R=v[M],$=Mn(R.x,T.x),L=Mn(R.y,T.y);return Ia(Ia({},T),{},{x:$(A),y:L(A)})}return T}),I;if(Ee(l)&&typeof l=="number"){var O=Mn(w,l);I=O(A)}else if(rt(l)||Gc(l)){var x=Mn(w,0);I=x(A)}else I=l.map(function(T,k){var M=Math.floor(k*P);if(w[M]){var R=w[M],$=Mn(R.x,T.x),L=Mn(R.y,T.y);return Ia(Ia({},T),{},{x:$(A),y:L(A)})}return T});return o.renderAreaStatically(D,I,r,i)}return K.createElement(Lt,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),K.createElement(Lt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,f=u.prevPoints,c=u.prevBaseLine,p=u.totalLength;return l&&a&&a.length&&(!f&&p>0||!pc(f,a)||!pc(c,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,f=i.left,c=i.xAxis,p=i.yAxis,y=i.width,b=i.height,v=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var S=this.state.isAnimationFinished,A=s.length===1,P=ht("recharts-area",l),D=c&&c.allowDataOverflow,I=p&&p.allowDataOverflow,O=D||I,x=rt(w)?this.id:w,T=(r=nt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,M=k===void 0?3:k,R=T.strokeWidth,$=R===void 0?2:R,L=GR(a)?a:{},re=L.clipDot,ie=re===void 0?!0:re,ce=M*2+$;return K.createElement(Lt,{className:P},D||I?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(x)},K.createElement("rect",{x:D?f:f-y/2,y:I?u:u-b/2,width:D?y:y*2,height:I?b:b*2})),!ie&&K.createElement("clipPath",{id:"clipPath-dots-".concat(x)},K.createElement("rect",{x:f-ce/2,y:u-ce/2,width:y+ce,height:b+ce}))):null,A?null:this.renderArea(O,x),(a||A)&&this.renderDots(O,ie,x),(!v||S)&&Wr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(q.PureComponent);G$=Ss;co(Ss,"displayName","Area");co(Ss,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ml.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});co(Ss,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return s==="dataMin"?c:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});co(Ss,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,p=t.offset,y=e.layout,b=u&&u.length,v=G$.getBaseValue(e,n,r,i),w=y==="horizontal",S=!1,A=c.map(function(D,I){var O;b?O=u[f+I]:(O=pr(D,l),Array.isArray(O)?S=!0:O=[v,O]);var x=O[1]==null||b&&pr(D,l)==null;return w?{x:Ug({axis:r,ticks:o,bandSize:s,entry:D,index:I}),y:x?null:i.scale(O[1]),value:O,payload:D}:{x:x?null:r.scale(O[1]),y:Ug({axis:i,ticks:a,bandSize:s,entry:D,index:I}),value:O,payload:D}}),P;return b||S?P=A.map(function(D){var I=Array.isArray(D.value)?D.value[0]:null;return w?{x:D.x,y:I!=null&&D.y!=null?i.scale(I):null}:{x:I!=null?r.scale(I):null,y:D.y}}):P=w?i.scale(v):r.scale(v),Ia({points:A,baseLine:P,layout:y,isRange:S},p)});co(Ss,"renderDotItem",function(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(et(t))n=t(e);else{var r=ht("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=X$(e,Epe);n=K.createElement(Nv,ol({},o,{key:i,className:r}))}return n});function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eL(r.key),r)}}function Rpe(t,e,n){return e&&jpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,n){return e=fy(e),Mpe(t,J$()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function Mpe(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(t)}function $pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gx(t,e)}function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gx(t,e)}function Z$(t,e,n){return e=eL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eL(t){var e=Vpe(t,"string");return Pc(e)=="symbol"?e:e+""}function Vpe(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(this,arguments)}function Fpe(t){var e=t.xAxisId,n=QE(),r=JE(),i=R$(e);return i==null?null:q.createElement(nf,Xx({},i,{className:ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return qo(a,!0)}}))}var nr=function(t){function e(){return Npe(this,e),Dpe(this,e,arguments)}return Lpe(e,t),Rpe(e,[{key:"render",value:function(){return q.createElement(Fpe,this.props)}}])}(q.Component);Z$(nr,"displayName","XAxis");Z$(nr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rL(r.key),r)}}function Upe(t,e,n){return e&&Bpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qpe(t,e,n){return e=hy(e),Kpe(t,tL()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function Kpe(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wpe(t)}function Wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function Hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}function Yx(t,e){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yx(t,e)}function nL(t,e,n){return e=rL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rL(t){var e=Gpe(t,"string");return Ic(e)=="symbol"?e:e+""}function Gpe(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}var Xpe=function(e){var n=e.yAxisId,r=QE(),i=JE(),o=D$(n);return o==null?null:q.createElement(nf,Qx({},o,{className:ht("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return qo(s,!0)}}))},rr=function(t){function e(){return zpe(this,e),qpe(this,e,arguments)}return Hpe(e,t),Upe(e,[{key:"render",value:function(){return q.createElement(Xpe,this.props)}}])}(q.Component);nL(rr,"displayName","YAxis");nL(rr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function j2(t){return Zpe(t)||Jpe(t)||Qpe(t)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function Jpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zpe(t){if(Array.isArray(t))return Jx(t)}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zx=function(e,n,r,i,o){var a=di(e,Mv),s=di(e,Lv),l=[].concat(j2(a),j2(s)),u=di(e,Fv),f="".concat(i,"Id"),c=i[0],p=n;if(l.length&&(p=l.reduce(function(v,w){if(w.props[f]===r&&xo(w.props,"extendDomain")&&Ee(w.props[c])){var S=w.props[c];return[Math.min(v[0],S),Math.max(v[1],S)]}return v},p)),u.length){var y="".concat(c,"1"),b="".concat(c,"2");p=u.reduce(function(v,w){if(w.props[f]===r&&xo(w.props,"extendDomain")&&Ee(w.props[y])&&Ee(w.props[b])){var S=w.props[y],A=w.props[b];return[Math.min(v[0],S,A),Math.max(v[1],S,A)]}return v},p)}return o&&o.length&&(p=o.reduce(function(v,w){return Ee(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},p)),p},iL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,c,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,c||l,p),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var p=0,y=c.length,b=new Array(y);p<y;p++)b[p]=c[p].fn;return b},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,p,y,b){var v=n?n+u:u;if(!this._events[v])return!1;var w=this._events[v],S=arguments.length,A,P;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,c),!0;case 4:return w.fn.call(w.context,f,c,p),!0;case 5:return w.fn.call(w.context,f,c,p,y),!0;case 6:return w.fn.call(w.context,f,c,p,y,b),!0}for(P=1,A=new Array(S-1);P<S;P++)A[P-1]=arguments[P];w.fn.apply(w.context,A)}else{var D=w.length,I;for(P=0;P<D;P++)switch(w[P].once&&this.removeListener(u,w[P].fn,void 0,!0),S){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,f);break;case 3:w[P].fn.call(w[P].context,f,c);break;case 4:w[P].fn.call(w[P].context,f,c,p);break;default:if(!A)for(I=1,A=new Array(S-1);I<S;I++)A[I-1]=arguments[I];w[P].fn.apply(w[P].context,A)}}return!0},s.prototype.on=function(u,f,c){return o(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return o(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,p){var y=n?n+u:u;if(!this._events[y])return this;if(!f)return a(this,y),this;var b=this._events[y];if(b.fn)b.fn===f&&(!p||b.once)&&(!c||b.context===c)&&a(this,y);else{for(var v=0,w=[],S=b.length;v<S;v++)(b[v].fn!==f||p&&!b[v].once||c&&b[v].context!==c)&&w.push(b[v]);w.length?this._events[y]=w.length===1?w[0]:w:a(this,y)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(iL);var eme=iL.exports;const tme=It(eme);var sb=new tme,lb="recharts.syncMouseEvents";function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function ime(t,e,n){return e&&rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ub(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=ome(t,"string");return xd(e)=="symbol"?e:e+""}function ome(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ame=function(){function t(){nme(this,t),ub(this,"activeIndex",0),ub(this,"coordinateList",[]),ub(this,"layout","horizontal")}return ime(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,p=n.mouseHandlerCallback,y=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=o+l+u,p=a+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:c,pageY:p})}}}])}();function sme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function lme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function aL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ln(e,n,r,i),s=Ln(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function ume(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,c=e.angle,p=Ln(s,l,u,c),y=Ln(s,l,f,c);r=p.x,i=p.y,o=y.x,a=y.y}else return aL(e);return[{x:r,y:i},{x:o,y:a}]}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e,n){return e=fme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=hme(t,"string");return wd(e)=="symbol"?e:e+""}function hme(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dme(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,c=t.layout,p=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var b,v=Ku;if(p==="ScatterChart")b=a,v=rce;else if(p==="BarChart")b=lme(c,a,l,f),v=WE;else if(c==="radial"){var w=aL(a),S=w.cx,A=w.cy,P=w.radius,D=w.startAngle,I=w.endAngle;b={cx:S,cy:A,startAngle:D,endAngle:I,innerRadius:P,outerRadius:P},v=a$}else b={points:ume(c,a,l)},v=Ku;var O=Xp(Xp(Xp(Xp({stroke:"#ccc",pointerEvents:"none"},l),b),nt(y,!1)),{},{payload:s,payloadIndex:u,className:ht("recharts-tooltip-cursor",y.className)});return q.isValidElement(y)?q.cloneElement(y,O):q.createElement(v,O)}var pme=["item"],mme=["children","className","width","height","style","compact","title","desc"];function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}function D2(t,e){return vme(t)||yme(t,e)||lL(t,e)||gme()}function gme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vme(t){if(Array.isArray(t))return t}function M2(t,e){if(t==null)return{};var n=bme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uL(r.key),r)}}function wme(t,e,n){return e&&xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eme(t,e,n){return e=dy(e),Sme(t,sL()?Reflect.construct(e,n||[],dy(t).constructor):e.apply(t,n))}function Sme(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(t)}function Tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function Cc(t){return Ome(t)||Ime(t)||lL(t)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(t,e){if(t){if(typeof t=="string")return tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tw(t,e)}}function Ime(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ome(t){if(Array.isArray(t))return tw(t)}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=uL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uL(t){var e=Cme(t,"string");return Oc(e)=="symbol"?e:e+""}function Cme(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kme={xAxis:["bottom","top"],yAxis:["left","right"]},Nme={width:"100%",height:"100%"},cL={x:0,y:0};function Yp(t){return t}var jme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Rme=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return de(de(de({},i),Ln(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return de(de(de({},i),Ln(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return cL},Bv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Cc(s),Cc(u)):s},[]);return a.length>0?a:e&&e.length&&Ee(i)&&Ee(o)?e.slice(i,o+1):[]};function fL(t){return t==="number"?[0,"auto"]:void 0}var nw=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Bv(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var y=c===void 0?s:c;p=dg(y,a.dataKey,i)}else p=c&&c[r]||s[r];return p?[].concat(Cc(l),[r$(u,p)]):l},[])},L2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=jme(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Lae(a,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,p=nw(e,n,f,c),y=Rme(r,s,f,o);return{activeTooltipIndex:f,activeLabel:c,activePayload:p,activeCoordinate:y}}return null},Dme=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,p=e.stackOffset,y=e$(f,o);return r.reduce(function(b,v){var w,S=v.type.defaultProps!==void 0?de(de({},v.type.defaultProps),v.props):v.props,A=S.type,P=S.dataKey,D=S.allowDataOverflow,I=S.allowDuplicatedCategory,O=S.scale,x=S.ticks,T=S.includeHidden,k=S[a];if(b[k])return b;var M=Bv(e.data,{graphicalItems:i.filter(function(be){var Re,Ke=a in be.props?be.props[a]:(Re=be.type.defaultProps)===null||Re===void 0?void 0:Re[a];return Ke===k}),dataStartIndex:l,dataEndIndex:u}),R=M.length,$,L,re;sme(S.domain,D,A)&&($=bx(S.domain,null,D),y&&(A==="number"||O!=="auto")&&(re=hh(M,P,"category")));var ie=fL(A);if(!$||$.length===0){var ce,pe=(ce=S.domain)!==null&&ce!==void 0?ce:ie;if(P){if($=hh(M,P,A),A==="category"&&y){var ne=TK($);I&&ne?(L=$,$=Zg(0,R)):I||($=pO(pe,$,v).reduce(function(be,Re){return be.indexOf(Re)>=0?be:[].concat(Cc(be),[Re])},[]))}else if(A==="category")I?$=$.filter(function(be){return be!==""&&!rt(be)}):$=pO(pe,$,v).reduce(function(be,Re){return be.indexOf(Re)>=0||Re===""||rt(Re)?be:[].concat(Cc(be),[Re])},[]);else if(A==="number"){var ae=Uae(M,i.filter(function(be){var Re,Ke,ut=a in be.props?be.props[a]:(Re=be.type.defaultProps)===null||Re===void 0?void 0:Re[a],dt="hide"in be.props?be.props.hide:(Ke=be.type.defaultProps)===null||Ke===void 0?void 0:Ke.hide;return ut===k&&(T||!dt)}),P,o,f);ae&&($=ae)}y&&(A==="number"||O!=="auto")&&(re=hh(M,P,"category"))}else y?$=Zg(0,R):s&&s[k]&&s[k].hasStack&&A==="number"?$=p==="expand"?[0,1]:n$(s[k].stackGroups,l,u):$=ZM(M,i.filter(function(be){var Re=a in be.props?be.props[a]:be.type.defaultProps[a],Ke="hide"in be.props?be.props.hide:be.type.defaultProps.hide;return Re===k&&(T||!Ke)}),A,f,!0);if(A==="number")$=Zx(c,$,k,o,x),pe&&($=bx(pe,$,D));else if(A==="category"&&pe){var ye=pe,Te=$.every(function(be){return ye.indexOf(be)>=0});Te&&($=ye)}}return de(de({},b),{},ze({},k,de(de({},S),{},{axisType:o,domain:$,categoricalDomain:re,duplicateDomain:L,originalDomain:(w=S.domain)!==null&&w!==void 0?w:ie,isCategorical:y,layout:f})))},{})},Mme=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,p=Bv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=p.length,b=e$(f,o),v=-1;return r.reduce(function(w,S){var A=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,P=A[a],D=fL("number");if(!w[P]){v++;var I;return b?I=Zg(0,y):s&&s[P]&&s[P].hasStack?(I=n$(s[P].stackGroups,l,u),I=Zx(c,I,P,o)):(I=bx(D,ZM(p,r.filter(function(O){var x,T,k=a in O.props?O.props[a]:(x=O.type.defaultProps)===null||x===void 0?void 0:x[a],M="hide"in O.props?O.props.hide:(T=O.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===P&&!M}),"number",f),i.defaultProps.allowDataOverflow),I=Zx(c,I,P,o)),de(de({},w),{},ze({},P,de(de({axisType:o},i.defaultProps),{},{hide:!0,orientation:hi(kme,"".concat(o,".").concat(v%2),null),domain:I,originalDomain:D,isCategorical:b,layout:f})))}return w},{})},$me=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),p=di(f,o),y={};return p&&p.length?y=Dme(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(y=Mme(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),y},Lme=function(e){var n=La(e),r=qo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qg(n,r)}},V2=function(e){var n=e.children,r=e.defaultShowTooltip,i=zr(n,vc),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Vme=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xo(n&&n.type);return r&&r.indexOf("Bar")>=0})},F2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fme=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,p=r.margin||{},y=zr(c,vc),b=zr(c,cl),v=Object.keys(l).reduce(function(I,O){var x=l[O],T=x.orientation;return!x.mirror&&!x.hide?de(de({},I),{},ze({},T,I[T]+x.width)):I},{left:p.left||0,right:p.right||0}),w=Object.keys(a).reduce(function(I,O){var x=a[O],T=x.orientation;return!x.mirror&&!x.hide?de(de({},I),{},ze({},T,hi(I,"".concat(T))+x.height)):I},{top:p.top||0,bottom:p.bottom||0}),S=de(de({},w),v),A=S.bottom;y&&(S.bottom+=y.props.height||vc.defaultProps.height),b&&n&&(S=zae(S,i,r,n));var P=u-S.left-S.right,D=f-S.top-S.bottom;return de(de({brushBottom:A},S),{},{width:Math.max(P,0),height:Math.max(D,0)})},zme=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},nS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,c=e.defaultProps,p=function(S,A){var P=A.graphicalItems,D=A.stackGroups,I=A.offset,O=A.updateId,x=A.dataStartIndex,T=A.dataEndIndex,k=S.barSize,M=S.layout,R=S.barGap,$=S.barCategoryGap,L=S.maxBarSize,re=F2(M),ie=re.numericAxisName,ce=re.cateAxisName,pe=Vme(P),ne=[];return P.forEach(function(ae,ye){var Te=Bv(S.data,{graphicalItems:[ae],dataStartIndex:x,dataEndIndex:T}),be=ae.type.defaultProps!==void 0?de(de({},ae.type.defaultProps),ae.props):ae.props,Re=be.dataKey,Ke=be.maxBarSize,ut=be["".concat(ie,"Id")],dt=be["".concat(ce,"Id")],Pe={},Ge=l.reduce(function(Qe,qt){var Bn=A["".concat(qt.axisType,"Map")],To=be["".concat(qt.axisType,"Id")];Bn&&Bn[To]||qt.axisType==="zAxis"||Il();var Un=Bn[To];return de(de({},Qe),{},ze(ze({},qt.axisType,Un),"".concat(qt.axisType,"Ticks"),qo(Un)))},Pe),oe=Ge[ce],Ve=Ge["".concat(ce,"Ticks")],Fe=D&&D[ut]&&D[ut].hasStack&&tse(ae,D[ut].stackGroups),ue=Xo(ae.type).indexOf("Bar")>=0,ct=qg(oe,Ve),tt=[],gt=pe&&Vae({barSize:k,stackGroups:D,totalSize:zme(Ge,ce)});if(ue){var Et,Jt,sr=rt(Ke)?L:Ke,Ot=(Et=(Jt=qg(oe,Ve,!0))!==null&&Jt!==void 0?Jt:sr)!==null&&Et!==void 0?Et:0;tt=Fae({barGap:R,barCategoryGap:$,bandSize:Ot!==ct?Ot:ct,sizeList:gt[dt],maxBarSize:sr}),Ot!==ct&&(tt=tt.map(function(Qe){return de(de({},Qe),{},{position:de(de({},Qe.position),{},{offset:Qe.position.offset-Ot/2})})}))}var jt=ae&&ae.type&&ae.type.getComposedData;jt&&ne.push({props:de(de({},jt(de(de({},Ge),{},{displayedData:Te,props:S,dataKey:Re,item:ae,bandSize:ct,barPosition:tt,offset:I,stackedData:Fe,layout:M,dataStartIndex:x,dataEndIndex:T}))),{},ze(ze(ze({key:ae.key||"item-".concat(ye)},ie,Ge[ie]),ce,Ge[ce]),"animationId",O)),childIndex:LK(ae,S.children),item:ae})}),ne},y=function(S,A){var P=S.props,D=S.dataStartIndex,I=S.dataEndIndex,O=S.updateId;if(!lP({props:P}))return null;var x=P.children,T=P.layout,k=P.stackOffset,M=P.data,R=P.reverseStackOrder,$=F2(T),L=$.numericAxisName,re=$.cateAxisName,ie=di(x,r),ce=Jae(M,ie,"".concat(L,"Id"),"".concat(re,"Id"),k,R),pe=l.reduce(function(be,Re){var Ke="".concat(Re.axisType,"Map");return de(de({},be),{},ze({},Ke,$me(P,de(de({},Re),{},{graphicalItems:ie,stackGroups:Re.axisType===L&&ce,dataStartIndex:D,dataEndIndex:I}))))},{}),ne=Fme(de(de({},pe),{},{props:P,graphicalItems:ie}),A==null?void 0:A.legendBBox);Object.keys(pe).forEach(function(be){pe[be]=f(P,pe[be],ne,be.replace("Map",""),n)});var ae=pe["".concat(re,"Map")],ye=Lme(ae),Te=p(P,de(de({},pe),{},{dataStartIndex:D,dataEndIndex:I,updateId:O,graphicalItems:ie,stackGroups:ce,offset:ne}));return de(de({formattedGraphicalItems:Te,graphicalItems:ie,offset:ne,stackGroups:ce},ye),pe)},b=function(w){function S(A){var P,D,I;return _me(this,S),I=Eme(this,S,[A]),ze(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(I,"accessibilityManager",new ame),ze(I,"handleLegendBBoxUpdate",function(O){if(O){var x=I.state,T=x.dataStartIndex,k=x.dataEndIndex,M=x.updateId;I.setState(de({legendBBox:O},y({props:I.props,dataStartIndex:T,dataEndIndex:k,updateId:M},de(de({},I.state),{},{legendBBox:O}))))}}),ze(I,"handleReceiveSyncEvent",function(O,x,T){if(I.props.syncId===O){if(T===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(x)}}),ze(I,"handleBrushChange",function(O){var x=O.startIndex,T=O.endIndex;if(x!==I.state.dataStartIndex||T!==I.state.dataEndIndex){var k=I.state.updateId;I.setState(function(){return de({dataStartIndex:x,dataEndIndex:T},y({props:I.props,dataStartIndex:x,dataEndIndex:T,updateId:k},I.state))}),I.triggerSyncEvent({dataStartIndex:x,dataEndIndex:T})}}),ze(I,"handleMouseEnter",function(O){var x=I.getMouseInfo(O);if(x){var T=de(de({},x),{},{isTooltipActive:!0});I.setState(T),I.triggerSyncEvent(T);var k=I.props.onMouseEnter;et(k)&&k(T,O)}}),ze(I,"triggeredAfterMouseMove",function(O){var x=I.getMouseInfo(O),T=x?de(de({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(T),I.triggerSyncEvent(T);var k=I.props.onMouseMove;et(k)&&k(T,O)}),ze(I,"handleItemMouseEnter",function(O){I.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),ze(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),ze(I,"handleMouseMove",function(O){O.persist(),I.throttleTriggeredAfterMouseMove(O)}),ze(I,"handleMouseLeave",function(O){I.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};I.setState(x),I.triggerSyncEvent(x);var T=I.props.onMouseLeave;et(T)&&T(x,O)}),ze(I,"handleOuterEvent",function(O){var x=$K(O),T=hi(I.props,"".concat(x));if(x&&et(T)){var k,M;/.*touch.*/i.test(x)?M=I.getMouseInfo(O.changedTouches[0]):M=I.getMouseInfo(O),T((k=M)!==null&&k!==void 0?k:{},O)}}),ze(I,"handleClick",function(O){var x=I.getMouseInfo(O);if(x){var T=de(de({},x),{},{isTooltipActive:!0});I.setState(T),I.triggerSyncEvent(T);var k=I.props.onClick;et(k)&&k(T,O)}}),ze(I,"handleMouseDown",function(O){var x=I.props.onMouseDown;if(et(x)){var T=I.getMouseInfo(O);x(T,O)}}),ze(I,"handleMouseUp",function(O){var x=I.props.onMouseUp;if(et(x)){var T=I.getMouseInfo(O);x(T,O)}}),ze(I,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),ze(I,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&I.handleMouseDown(O.changedTouches[0])}),ze(I,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&I.handleMouseUp(O.changedTouches[0])}),ze(I,"handleDoubleClick",function(O){var x=I.props.onDoubleClick;if(et(x)){var T=I.getMouseInfo(O);x(T,O)}}),ze(I,"handleContextMenu",function(O){var x=I.props.onContextMenu;if(et(x)){var T=I.getMouseInfo(O);x(T,O)}}),ze(I,"triggerSyncEvent",function(O){I.props.syncId!==void 0&&sb.emit(lb,I.props.syncId,O,I.eventEmitterSymbol)}),ze(I,"applySyncEvent",function(O){var x=I.props,T=x.layout,k=x.syncMethod,M=I.state.updateId,R=O.dataStartIndex,$=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)I.setState(de({dataStartIndex:R,dataEndIndex:$},y({props:I.props,dataStartIndex:R,dataEndIndex:$,updateId:M},I.state)));else if(O.activeTooltipIndex!==void 0){var L=O.chartX,re=O.chartY,ie=O.activeTooltipIndex,ce=I.state,pe=ce.offset,ne=ce.tooltipTicks;if(!pe)return;if(typeof k=="function")ie=k(ne,O);else if(k==="value"){ie=-1;for(var ae=0;ae<ne.length;ae++)if(ne[ae].value===O.activeLabel){ie=ae;break}}var ye=de(de({},pe),{},{x:pe.left,y:pe.top}),Te=Math.min(L,ye.x+ye.width),be=Math.min(re,ye.y+ye.height),Re=ne[ie]&&ne[ie].value,Ke=nw(I.state,I.props.data,ie),ut=ne[ie]?{x:T==="horizontal"?ne[ie].coordinate:Te,y:T==="horizontal"?be:ne[ie].coordinate}:cL;I.setState(de(de({},O),{},{activeLabel:Re,activeCoordinate:ut,activePayload:Ke,activeTooltipIndex:ie}))}else I.setState(O)}),ze(I,"renderCursor",function(O){var x,T=I.state,k=T.isTooltipActive,M=T.activeCoordinate,R=T.activePayload,$=T.offset,L=T.activeTooltipIndex,re=T.tooltipAxisBandSize,ie=I.getTooltipEventType(),ce=(x=O.props.active)!==null&&x!==void 0?x:k,pe=I.props.layout,ne=O.key||"_recharts-cursor";return K.createElement(dme,{key:ne,activeCoordinate:M,activePayload:R,activeTooltipIndex:L,chartName:n,element:O,isActive:ce,layout:pe,offset:$,tooltipAxisBandSize:re,tooltipEventType:ie})}),ze(I,"renderPolarAxis",function(O,x,T){var k=hi(O,"type.axisType"),M=hi(I.state,"".concat(k,"Map")),R=O.type.defaultProps,$=R!==void 0?de(de({},R),O.props):O.props,L=M&&M[$["".concat(k,"Id")]];return q.cloneElement(O,de(de({},L),{},{className:ht(k,L.className),key:O.key||"".concat(x,"-").concat(T),ticks:qo(L,!0)}))}),ze(I,"renderPolarGrid",function(O){var x=O.props,T=x.radialLines,k=x.polarAngles,M=x.polarRadius,R=I.state,$=R.radiusAxisMap,L=R.angleAxisMap,re=La($),ie=La(L),ce=ie.cx,pe=ie.cy,ne=ie.innerRadius,ae=ie.outerRadius;return q.cloneElement(O,{polarAngles:Array.isArray(k)?k:qo(ie,!0).map(function(ye){return ye.coordinate}),polarRadius:Array.isArray(M)?M:qo(re,!0).map(function(ye){return ye.coordinate}),cx:ce,cy:pe,innerRadius:ne,outerRadius:ae,key:O.key||"polar-grid",radialLines:T})}),ze(I,"renderLegend",function(){var O=I.state.formattedGraphicalItems,x=I.props,T=x.children,k=x.width,M=x.height,R=I.props.margin||{},$=k-(R.left||0)-(R.right||0),L=QM({children:T,formattedGraphicalItems:O,legendWidth:$,legendContent:u});if(!L)return null;var re=L.item,ie=M2(L,pme);return q.cloneElement(re,de(de({},ie),{},{chartWidth:k,chartHeight:M,margin:R,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),ze(I,"renderTooltip",function(){var O,x=I.props,T=x.children,k=x.accessibilityLayer,M=zr(T,fn);if(!M)return null;var R=I.state,$=R.isTooltipActive,L=R.activeCoordinate,re=R.activePayload,ie=R.activeLabel,ce=R.offset,pe=(O=M.props.active)!==null&&O!==void 0?O:$;return q.cloneElement(M,{viewBox:de(de({},ce),{},{x:ce.left,y:ce.top}),active:pe,label:ie,payload:pe?re:[],coordinate:L,accessibilityLayer:k})}),ze(I,"renderBrush",function(O){var x=I.props,T=x.margin,k=x.data,M=I.state,R=M.offset,$=M.dataStartIndex,L=M.dataEndIndex,re=M.updateId;return q.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Kp(I.handleBrushChange,O.props.onChange),data:k,x:Ee(O.props.x)?O.props.x:R.left,y:Ee(O.props.y)?O.props.y:R.top+R.height+R.brushBottom-(T.bottom||0),width:Ee(O.props.width)?O.props.width:R.width,startIndex:$,endIndex:L,updateId:"brush-".concat(re)})}),ze(I,"renderReferenceElement",function(O,x,T){if(!O)return null;var k=I,M=k.clipPathId,R=I.state,$=R.xAxisMap,L=R.yAxisMap,re=R.offset,ie=O.type.defaultProps||{},ce=O.props,pe=ce.xAxisId,ne=pe===void 0?ie.xAxisId:pe,ae=ce.yAxisId,ye=ae===void 0?ie.yAxisId:ae;return q.cloneElement(O,{key:O.key||"".concat(x,"-").concat(T),xAxis:$[ne],yAxis:L[ye],viewBox:{x:re.left,y:re.top,width:re.width,height:re.height},clipPathId:M})}),ze(I,"renderActivePoints",function(O){var x=O.item,T=O.activePoint,k=O.basePoint,M=O.childIndex,R=O.isRange,$=[],L=x.props.key,re=x.item.type.defaultProps!==void 0?de(de({},x.item.type.defaultProps),x.item.props):x.item.props,ie=re.activeDot,ce=re.dataKey,pe=de(de({index:M,dataKey:ce,cx:T.x,cy:T.y,r:4,fill:KE(x.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},nt(ie,!1)),pg(ie));return $.push(S.renderActiveDot(ie,pe,"".concat(L,"-activePoint-").concat(M))),k?$.push(S.renderActiveDot(ie,de(de({},pe),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(M))):R&&$.push(null),$}),ze(I,"renderGraphicChild",function(O,x,T){var k=I.filterFormatItem(O,x,T);if(!k)return null;var M=I.getTooltipEventType(),R=I.state,$=R.isTooltipActive,L=R.tooltipAxis,re=R.activeTooltipIndex,ie=R.activeLabel,ce=I.props.children,pe=zr(ce,fn),ne=k.props,ae=ne.points,ye=ne.isRange,Te=ne.baseLine,be=k.item.type.defaultProps!==void 0?de(de({},k.item.type.defaultProps),k.item.props):k.item.props,Re=be.activeDot,Ke=be.hide,ut=be.activeBar,dt=be.activeShape,Pe=!!(!Ke&&$&&pe&&(Re||ut||dt)),Ge={};M!=="axis"&&pe&&pe.props.trigger==="click"?Ge={onClick:Kp(I.handleItemMouseEnter,O.props.onClick)}:M!=="axis"&&(Ge={onMouseLeave:Kp(I.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Kp(I.handleItemMouseEnter,O.props.onMouseEnter)});var oe=q.cloneElement(O,de(de({},k.props),Ge));function Ve(qt){return typeof L.dataKey=="function"?L.dataKey(qt.payload):null}if(Pe)if(re>=0){var Fe,ue;if(L.dataKey&&!L.allowDuplicatedCategory){var ct=typeof L.dataKey=="function"?Ve:"payload.".concat(L.dataKey.toString());Fe=dg(ae,ct,ie),ue=ye&&Te&&dg(Te,ct,ie)}else Fe=ae==null?void 0:ae[re],ue=ye&&Te&&Te[re];if(dt||ut){var tt=O.props.activeIndex!==void 0?O.props.activeIndex:re;return[q.cloneElement(O,de(de(de({},k.props),Ge),{},{activeIndex:tt})),null,null]}if(!rt(Fe))return[oe].concat(Cc(I.renderActivePoints({item:k,activePoint:Fe,basePoint:ue,childIndex:re,isRange:ye})))}else{var gt,Et=(gt=I.getItemByXY(I.state.activeCoordinate))!==null&&gt!==void 0?gt:{graphicalItem:oe},Jt=Et.graphicalItem,sr=Jt.item,Ot=sr===void 0?O:sr,jt=Jt.childIndex,Qe=de(de(de({},k.props),Ge),{},{activeIndex:jt});return[q.cloneElement(Ot,Qe),null,null]}return ye?[oe,null,null]:[oe,null]}),ze(I,"renderCustomized",function(O,x,T){return q.cloneElement(O,de(de({key:"recharts-customized-".concat(T)},I.props),I.state))}),ze(I,"renderMap",{CartesianGrid:{handler:Yp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Yp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Yp},YAxis:{handler:Yp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((P=A.id)!==null&&P!==void 0?P:Xc("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=QD(I.triggeredAfterMouseMove,(D=A.throttleDelay)!==null&&D!==void 0?D:1e3/60),I.state={},I}return Tme(S,w),wme(S,[{key:"componentDidMount",value:function(){var P,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,D=P.children,I=P.data,O=P.height,x=P.layout,T=zr(D,fn);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,R=nw(this.state,I,k,M),$=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+O)/2,re=x==="horizontal",ie=re?{x:$,y:L}:{y:$,x:L},ce=this.state.formattedGraphicalItems.find(function(ne){var ae=ne.item;return ae.type.name==="Scatter"});ce&&(ie=de(de({},ie),ce.props.points[k].tooltipPosition),R=ce.props.points[k].tooltipPayload);var pe={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:ie};this.setState(pe),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var I,O;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(P){R_([zr(P.children,fn)],[zr(this.props.children,fn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=zr(this.props.children,fn);if(P&&typeof P.props.shared=="boolean"){var D=P.props.shared?"axis":"item";return s.indexOf(D)>=0?D:o}return o}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var D=this.container,I=D.getBoundingClientRect(),O=cne(I),x={chartX:Math.round(P.pageX-O.left),chartY:Math.round(P.pageY-O.top)},T=I.width/D.offsetWidth||1,k=this.inRange(x.chartX,x.chartY,T);if(!k)return null;var M=this.state,R=M.xAxisMap,$=M.yAxisMap,L=this.getTooltipEventType(),re=L2(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&R&&$){var ie=La(R).scale,ce=La($).scale,pe=ie&&ie.invert?ie.invert(x.chartX):null,ne=ce&&ce.invert?ce.invert(x.chartY):null;return de(de({},x),{},{xValue:pe,yValue:ne},re)}return re?de(de({},x),re):null}},{key:"inRange",value:function(P,D){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,x=P/I,T=D/I;if(O==="horizontal"||O==="vertical"){var k=this.state.offset,M=x>=k.left&&x<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return M?{x,y:T}:null}var R=this.state,$=R.angleAxisMap,L=R.radiusAxisMap;if($&&L){var re=La($);return yO({x,y:T},re)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,D=this.getTooltipEventType(),I=zr(P,fn),O={};I&&D==="axis"&&(I.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var x=pg(this.props,this.handleOuterEvent);return de(de({},x),O)}},{key:"addListener",value:function(){sb.on(lb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sb.removeListener(lb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,D,I){for(var O=this.state.formattedGraphicalItems,x=0,T=O.length;x<T;x++){var k=O[x];if(k.item===P||k.props.key===P.key||D===Xo(k.item.type)&&I===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,D=this.state.offset,I=D.left,O=D.top,x=D.height,T=D.width;return K.createElement("defs",null,K.createElement("clipPath",{id:P},K.createElement("rect",{x:I,y:O,height:x,width:T})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(D,I){var O=D2(I,2),x=O[0],T=O[1];return de(de({},D),{},ze({},x,T.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(D,I){var O=D2(I,2),x=O[0],T=O[1];return de(de({},D),{},ze({},x,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[P])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(P){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[P])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(P){var D=this.state,I=D.formattedGraphicalItems,O=D.activeItem;if(I&&I.length)for(var x=0,T=I.length;x<T;x++){var k=I[x],M=k.props,R=k.item,$=R.type.defaultProps!==void 0?de(de({},R.type.defaultProps),R.props):R.props,L=Xo(R.type);if(L==="Bar"){var re=(M.data||[]).find(function(ne){return Hue(P,ne)});if(re)return{graphicalItem:k,payload:re}}else if(L==="RadialBar"){var ie=(M.data||[]).find(function(ne){return yO(P,ne)});if(ie)return{graphicalItem:k,payload:ie}}else if(jv(k,O)||Rv(k,O)||gd(k,O)){var ce=Yce({graphicalItem:k,activeTooltipItem:O,itemData:$.data}),pe=$.activeIndex===void 0?ce:$.activeIndex;return{graphicalItem:de(de({},k),{},{childIndex:pe}),payload:gd(k,O)?$.data[ce]:k.props.data[ce]}}}return null}},{key:"render",value:function(){var P=this;if(!lP(this))return null;var D=this.props,I=D.children,O=D.className,x=D.width,T=D.height,k=D.style,M=D.compact,R=D.title,$=D.desc,L=M2(D,mme),re=nt(L,!1);if(M)return K.createElement(m2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(M_,Cu({},re,{width:x,height:T,title:R,desc:$}),this.renderClipPath(),cP(I,this.renderMap)));if(this.props.accessibilityLayer){var ie,ce;re.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,re.role=(ce=this.props.role)!==null&&ce!==void 0?ce:"application",re.onKeyDown=function(ne){P.accessibilityManager.keyboardEvent(ne)},re.onFocus=function(){P.accessibilityManager.focus()}}var pe=this.parseEventsOfWrapper();return K.createElement(m2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Cu({className:ht("recharts-wrapper",O),style:de({position:"relative",cursor:"default",width:x,height:T},k)},pe,{ref:function(ae){P.container=ae}}),K.createElement(M_,Cu({},re,{width:x,height:T,title:R,desc:$,style:Nme}),this.renderClipPath(),cP(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(q.Component);ze(b,"displayName",n),ze(b,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),ze(b,"getDerivedStateFromProps",function(w,S){var A=w.dataKey,P=w.data,D=w.children,I=w.width,O=w.height,x=w.layout,T=w.stackOffset,k=w.margin,M=S.dataStartIndex,R=S.dataEndIndex;if(S.updateId===void 0){var $=V2(w);return de(de(de({},$),{},{updateId:0},y(de(de({props:w},$),{},{updateId:0}),S)),{},{prevDataKey:A,prevData:P,prevWidth:I,prevHeight:O,prevLayout:x,prevStackOffset:T,prevMargin:k,prevChildren:D})}if(A!==S.prevDataKey||P!==S.prevData||I!==S.prevWidth||O!==S.prevHeight||x!==S.prevLayout||T!==S.prevStackOffset||!Bu(k,S.prevMargin)){var L=V2(w),re={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},ie=de(de({},L2(S,P,x)),{},{updateId:S.updateId+1}),ce=de(de(de({},L),re),ie);return de(de(de({},ce),y(de({props:w},ce),S)),{},{prevDataKey:A,prevData:P,prevWidth:I,prevHeight:O,prevLayout:x,prevStackOffset:T,prevMargin:k,prevChildren:D})}if(!R_(D,S.prevChildren)){var pe,ne,ae,ye,Te=zr(D,vc),be=Te&&(pe=(ne=Te.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&pe!==void 0?pe:M,Re=Te&&(ae=(ye=Te.props)===null||ye===void 0?void 0:ye.endIndex)!==null&&ae!==void 0?ae:R,Ke=be!==M||Re!==R,ut=!rt(P),dt=ut&&!Ke?S.updateId:S.updateId+1;return de(de({updateId:dt},y(de(de({props:w},S),{},{updateId:dt,dataStartIndex:be,dataEndIndex:Re}),S)),{},{prevChildren:D,dataStartIndex:be,dataEndIndex:Re})}return null}),ze(b,"renderActiveDot",function(w,S,A){var P;return q.isValidElement(w)?P=q.cloneElement(w,S):et(w)?P=w(S):P=K.createElement(Nv,S),K.createElement(Lt,{className:"recharts-active-dot",key:A},P)});var v=q.forwardRef(function(S,A){return K.createElement(b,Cu({},S,{ref:A}))});return v.displayName=b.displayName,v},Bme=nS({chartName:"LineChart",GraphicalChild:Ac,axisComponents:[{axisType:"xAxis",AxisComp:nr},{axisType:"yAxis",AxisComp:rr}],formatAxisMap:HE}),Ko=nS({chartName:"BarChart",GraphicalChild:hr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nr},{axisType:"yAxis",AxisComp:rr}],formatAxisMap:HE}),Ume=nS({chartName:"AreaChart",GraphicalChild:Ss,axisComponents:[{axisType:"xAxis",AxisComp:nr},{axisType:"yAxis",AxisComp:rr}],formatAxisMap:HE}),hL={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(du,function(){var n=function(d,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,C){_.__proto__=C}||function(_,C){for(var j in C)Object.prototype.hasOwnProperty.call(C,j)&&(_[j]=C[j])})(d,m)},r=function(){return(r=Object.assign||function(d){for(var m,_=1,C=arguments.length;_<C;_++)for(var j in m=arguments[_])Object.prototype.hasOwnProperty.call(m,j)&&(d[j]=m[j]);return d}).apply(this,arguments)};function i(d,m,_){for(var C,j=0,V=m.length;j<V;j++)!C&&j in m||((C=C||Array.prototype.slice.call(m,0,j))[j]=m[j]);return d.concat(C||Array.prototype.slice.call(m))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:du,a=Object.keys,s=Array.isArray;function l(d,m){return typeof m!="object"||a(m).forEach(function(_){d[_]=m[_]}),d}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function c(d,m){return f.call(d,m)}function p(d,m){typeof m=="function"&&(m=m(u(d))),(typeof Reflect>"u"?a:Reflect.ownKeys)(m).forEach(function(_){b(d,_,m[_])})}var y=Object.defineProperty;function b(d,m,_,C){y(d,m,l(_&&c(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},C))}function v(d){return{from:function(m){return d.prototype=Object.create(m.prototype),b(d.prototype,"constructor",d),{extend:p.bind(null,d.prototype)}}}}var w=Object.getOwnPropertyDescriptor,S=[].slice;function A(d,m,_){return S.call(d,m,_)}function P(d,m){return m(d)}function D(d){if(!d)throw new Error("Assertion Failed")}function I(d){o.setImmediate?setImmediate(d):setTimeout(d,0)}function O(d,m){if(typeof m=="string"&&c(d,m))return d[m];if(!m)return d;if(typeof m!="string"){for(var _=[],C=0,j=m.length;C<j;++C){var V=O(d,m[C]);_.push(V)}return _}var z=m.indexOf(".");if(z!==-1){var B=d[m.substr(0,z)];return B==null?void 0:O(B,m.substr(z+1))}}function x(d,m,_){if(d&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof m!="string"&&"length"in m){D(typeof _!="string"&&"length"in _);for(var C=0,j=m.length;C<j;++C)x(d,m[C],_[C])}else{var V,z,B=m.indexOf(".");B!==-1?(V=m.substr(0,B),(z=m.substr(B+1))===""?_===void 0?s(d)&&!isNaN(parseInt(V))?d.splice(V,1):delete d[V]:d[V]=_:x(B=!(B=d[V])||!c(d,V)?d[V]={}:B,z,_)):_===void 0?s(d)&&!isNaN(parseInt(m))?d.splice(m,1):delete d[m]:d[m]=_}}function T(d){var m,_={};for(m in d)c(d,m)&&(_[m]=d[m]);return _}var k=[].concat;function M(d){return k.apply([],d)}var Hi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(M([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(m){return m+d+"Array"})}))).filter(function(d){return o[d]}),R=new Set(Hi.map(function(d){return o[d]})),$=null;function L(d){return $=new WeakMap,d=function m(_){if(!_||typeof _!="object")return _;var C=$.get(_);if(C)return C;if(s(_)){C=[],$.set(_,C);for(var j=0,V=_.length;j<V;++j)C.push(m(_[j]))}else if(R.has(_.constructor))C=_;else{var z,B=u(_);for(z in C=B===Object.prototype?{}:Object.create(B),$.set(_,C),_)c(_,z)&&(C[z]=m(_[z]))}return C}(d),$=null,d}var re={}.toString;function ie(d){return re.call(d).slice(8,-1)}var ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pe=typeof ce=="symbol"?function(d){var m;return d!=null&&(m=d[ce])&&m.apply(d)}:function(){return null};function ne(d,m){return m=d.indexOf(m),0<=m&&d.splice(m,1),0<=m}var ae={};function ye(d){var m,_,C,j;if(arguments.length===1){if(s(d))return d.slice();if(this===ae&&typeof d=="string")return[d];if(j=pe(d)){for(_=[];!(C=j.next()).done;)_.push(C.value);return _}if(d==null)return[d];if(typeof(m=d.length)!="number")return[d];for(_=new Array(m);m--;)_[m]=d[m];return _}for(m=arguments.length,_=new Array(m);m--;)_[m]=arguments[m];return _}var Te=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Un=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ti=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Un),be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Re(d,m){this.name=d,this.message=m}function Ke(d,m){return d+". Errors: "+Object.keys(m).map(function(_){return m[_].toString()}).filter(function(_,C,j){return j.indexOf(_)===C}).join(`
`)}function ut(d,m,_,C){this.failures=m,this.failedKeys=C,this.successCount=_,this.message=Ke(d,m)}function dt(d,m){this.name="BulkError",this.failures=Object.keys(m).map(function(_){return m[_]}),this.failuresByPos=m,this.message=Ke(d,this.failures)}v(Re).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(ut).from(Re),v(dt).from(Re);var Pe=ti.reduce(function(d,m){return d[m]=m+"Error",d},{}),Ge=Re,oe=ti.reduce(function(d,m){var _=m+"Error";function C(j,V){this.name=_,j?typeof j=="string"?(this.message="".concat(j).concat(V?`
 `+V:""),this.inner=V||null):typeof j=="object"&&(this.message="".concat(j.name," ").concat(j.message),this.inner=j):(this.message=be[m]||_,this.inner=null)}return v(C).from(Ge),d[m]=C,d},{});oe.Syntax=SyntaxError,oe.Type=TypeError,oe.Range=RangeError;var Ve=Un.reduce(function(d,m){return d[m+"Error"]=oe[m],d},{}),Fe=ti.reduce(function(d,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(d[m+"Error"]=oe[m]),d},{});function ue(){}function ct(d){return d}function tt(d,m){return d==null||d===ct?m:function(_){return m(d(_))}}function gt(d,m){return function(){d.apply(this,arguments),m.apply(this,arguments)}}function Et(d,m){return d===ue?m:function(){var _=d.apply(this,arguments);_!==void 0&&(arguments[0]=_);var C=this.onsuccess,j=this.onerror;this.onsuccess=null,this.onerror=null;var V=m.apply(this,arguments);return C&&(this.onsuccess=this.onsuccess?gt(C,this.onsuccess):C),j&&(this.onerror=this.onerror?gt(j,this.onerror):j),V!==void 0?V:_}}function Jt(d,m){return d===ue?m:function(){d.apply(this,arguments);var _=this.onsuccess,C=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?gt(_,this.onsuccess):_),C&&(this.onerror=this.onerror?gt(C,this.onerror):C)}}function sr(d,m){return d===ue?m:function(_){var C=d.apply(this,arguments);l(_,C);var j=this.onsuccess,V=this.onerror;return this.onsuccess=null,this.onerror=null,_=m.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?gt(j,this.onsuccess):j),V&&(this.onerror=this.onerror?gt(V,this.onerror):V),C===void 0?_===void 0?void 0:_:l(C,_)}}function Ot(d,m){return d===ue?m:function(){return m.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function jt(d,m){return d===ue?m:function(){var _=d.apply(this,arguments);if(_&&typeof _.then=="function"){for(var C=this,j=arguments.length,V=new Array(j);j--;)V[j]=arguments[j];return _.then(function(){return m.apply(C,V)})}return m.apply(this,arguments)}}Fe.ModifyError=ut,Fe.DexieError=Re,Fe.BulkError=dt;var Qe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qt(d){Qe=d}var Bn={},To=100,Hi=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,u(m),d]}(),Un=Hi[0],ti=Hi[1],Hi=Hi[2],ti=ti&&ti.then,Gi=Un&&Un.constructor,As=!!Hi,Ts=function(d,m){pa.push([d,m]),Ps&&(queueMicrotask(qv),Ps=!1)},of=!0,Ps=!0,Xi=[],Yi=[],Is=ct,Yr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ue,pgp:!1,env:{},finalize:ue},De=Yr,pa=[],Qr=0,Os=[];function Ie(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=De;if(typeof d!="function"){if(d!==Bn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zl(this,this._value))}this._state=null,this._value=null,++m.ref,function _(C,j){try{j(function(V){if(C._state===null){if(V===C)throw new TypeError("A promise cannot be resolved with itself.");var z=C._lib&&jr();V&&typeof V.then=="function"?_(C,function(B,W){V instanceof Ie?V._then(B,W):V.then(B,W)}):(C._state=!0,C._value=V,ma(C)),z&&ga()}},zl.bind(null,C))}catch(V){zl(C,V)}}(this,d)}var Fl={get:function(){var d=De,m=Rr;function _(C,j){var V=this,z=!d.global&&(d!==De||m!==Rr),B=z&&!Jr(),W=new Ie(function(G,Y){Po(V,new Tn(lf(C,d,z,B),lf(j,d,z,B),G,Y,d))});return this._consoleTask&&(W._consoleTask=this._consoleTask),W}return _.prototype=Bn,_},set:function(d){b(this,"then",d&&d.prototype===Bn?Fl:{get:function(){return d},set:Fl.set})}};function Tn(d,m,_,C,j){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof m=="function"?m:null,this.resolve=_,this.reject=C,this.psd=j}function zl(d,m){var _,C;Yi.push(m),d._state===null&&(_=d._lib&&jr(),m=Is(m),d._state=!1,d._value=m,C=d,Xi.some(function(j){return j._value===C._value})||Xi.push(C),ma(d),_&&ga())}function ma(d){var m=d._listeners;d._listeners=[];for(var _=0,C=m.length;_<C;++_)Po(d,m[_]);var j=d._PSD;--j.ref||j.finalize(),Qr===0&&(++Qr,Ts(function(){--Qr==0&&af()},[]))}function Po(d,m){if(d._state!==null){var _=d._state?m.onFulfilled:m.onRejected;if(_===null)return(d._state?m.resolve:m.reject)(d._value);++m.psd.ref,++Qr,Ts(Uv,[_,d,m])}else d._listeners.push(m)}function Uv(d,m,_){try{var C,j=m._value;!m._state&&Yi.length&&(Yi=[]),C=Qe&&m._consoleTask?m._consoleTask.run(function(){return d(j)}):d(j),m._state||Yi.indexOf(j)!==-1||function(V){for(var z=Xi.length;z;)if(Xi[--z]._value===V._value)return Xi.splice(z,1)}(m),_.resolve(C)}catch(V){_.reject(V)}finally{--Qr==0&&af(),--_.psd.ref||_.psd.finalize()}}function qv(){Zr(Yr,function(){jr()&&ga()})}function jr(){var d=of;return Ps=of=!1,d}function ga(){var d,m,_;do for(;0<pa.length;)for(d=pa,pa=[],_=d.length,m=0;m<_;++m){var C=d[m];C[0].apply(null,C[1])}while(0<pa.length);Ps=of=!0}function af(){var d=Xi;Xi=[],d.forEach(function(C){C._PSD.onunhandled.call(null,C._value,C)});for(var m=Os.slice(0),_=m.length;_;)m[--_]()}function Io(d){return new Ie(Bn,!1,d)}function Ct(d,m){var _=De;return function(){var C=jr(),j=De;try{return xi(_,!0),d.apply(this,arguments)}catch(V){m&&m(V)}finally{xi(j,!1),C&&ga()}}}p(Ie.prototype,{then:Fl,_then:function(d,m){Po(this,new Tn(null,null,d,m,De))},catch:function(d){if(arguments.length===1)return this.then(null,d);var m=d,_=arguments[1];return typeof m=="function"?this.then(null,function(C){return(C instanceof m?_:Io)(C)}):this.then(null,function(C){return(C&&C.name===m?_:Io)(C)})},finally:function(d){return this.then(function(m){return Ie.resolve(d()).then(function(){return m})},function(m){return Ie.resolve(d()).then(function(){return Io(m)})})},timeout:function(d,m){var _=this;return d<1/0?new Ie(function(C,j){var V=setTimeout(function(){return j(new oe.Timeout(m))},d);_.then(C,j).finally(clearTimeout.bind(null,V))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Ie.prototype,Symbol.toStringTag,"Dexie.Promise"),Yr.env=Zd(),p(Ie,{all:function(){var d=ye.apply(null,arguments).map(Cs);return new Ie(function(m,_){d.length===0&&m([]);var C=d.length;d.forEach(function(j,V){return Ie.resolve(j).then(function(z){d[V]=z,--C||m(d)},_)})})},resolve:function(d){return d instanceof Ie?d:d&&typeof d.then=="function"?new Ie(function(m,_){d.then(m,_)}):new Ie(Bn,!0,d)},reject:Io,race:function(){var d=ye.apply(null,arguments).map(Cs);return new Ie(function(m,_){d.map(function(C){return Ie.resolve(C).then(m,_)})})},PSD:{get:function(){return De},set:function(d){return De=d}},totalEchoes:{get:function(){return Rr}},newPSD:_i,usePSD:Zr,scheduler:{get:function(){return Ts},set:function(d){Ts=d}},rejectionMapper:{get:function(){return Is},set:function(d){Is=d}},follow:function(d,m){return new Ie(function(_,C){return _i(function(j,V){var z=De;z.unhandleds=[],z.onunhandled=V,z.finalize=gt(function(){var B,W=this;B=function(){W.unhandleds.length===0?j():V(W.unhandleds[0])},Os.push(function G(){B(),Os.splice(Os.indexOf(G),1)}),++Qr,Ts(function(){--Qr==0&&af()},[])},z.finalize),d()},m,_,C)})}}),Gi&&(Gi.allSettled&&b(Ie,"allSettled",function(){var d=ye.apply(null,arguments).map(Cs);return new Ie(function(m){d.length===0&&m([]);var _=d.length,C=new Array(_);d.forEach(function(j,V){return Ie.resolve(j).then(function(z){return C[V]={status:"fulfilled",value:z}},function(z){return C[V]={status:"rejected",reason:z}}).then(function(){return--_||m(C)})})})}),Gi.any&&typeof AggregateError<"u"&&b(Ie,"any",function(){var d=ye.apply(null,arguments).map(Cs);return new Ie(function(m,_){d.length===0&&_(new AggregateError([]));var C=d.length,j=new Array(C);d.forEach(function(V,z){return Ie.resolve(V).then(function(B){return m(B)},function(B){j[z]=B,--C||_(new AggregateError(j))})})})}),Gi.withResolvers&&(Ie.withResolvers=Gi.withResolvers));var nn={awaits:0,echoes:0,id:0},sf=0,Qi=[],Bl=0,Rr=0,Jd=0;function _i(d,m,_,C){var j=De,V=Object.create(j);return V.parent=j,V.ref=0,V.global=!1,V.id=++Jd,Yr.env,V.env=As?{Promise:Ie,PromiseProp:{value:Ie,configurable:!0,writable:!0},all:Ie.all,race:Ie.race,allSettled:Ie.allSettled,any:Ie.any,resolve:Ie.resolve,reject:Ie.reject}:{},m&&l(V,m),++j.ref,V.finalize=function(){--this.parent.ref||this.parent.finalize()},C=Zr(V,d,_,C),V.ref===0&&V.finalize(),C}function Ji(){return nn.id||(nn.id=++sf),++nn.awaits,nn.echoes+=To,nn.id}function Jr(){return!!nn.awaits&&(--nn.awaits==0&&(nn.id=0),nn.echoes=nn.awaits*To,!0)}function Cs(d){return nn.echoes&&d&&d.constructor===Gi?(Ji(),d.then(function(m){return Jr(),m},function(m){return Jr(),kt(m)})):d}function Kv(){var d=Qi[Qi.length-1];Qi.pop(),xi(d,!1)}function xi(d,m){var _,C=De;(m?!nn.echoes||Bl++&&d===De:!Bl||--Bl&&d===De)||queueMicrotask(m?(function(j){++Rr,nn.echoes&&--nn.echoes!=0||(nn.echoes=nn.awaits=nn.id=0),Qi.push(De),xi(j,!0)}).bind(null,d):Kv),d!==De&&(De=d,C===Yr&&(Yr.env=Zd()),As&&(_=Yr.env.Promise,m=d.env,(C.global||d.global)&&(Object.defineProperty(o,"Promise",m.PromiseProp),_.all=m.all,_.race=m.race,_.resolve=m.resolve,_.reject=m.reject,m.allSettled&&(_.allSettled=m.allSettled),m.any&&(_.any=m.any))))}function Zd(){var d=o.Promise;return As?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Zr(d,m,_,C,j){var V=De;try{return xi(d,!0),m(_,C,j)}finally{xi(V,!1)}}function lf(d,m,_,C){return typeof d!="function"?d:function(){var j=De;_&&Ji(),xi(m,!0);try{return d.apply(this,arguments)}finally{xi(j,!1),C&&queueMicrotask(Jr)}}}function ks(d){Promise===Gi&&nn.echoes===0?Bl===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+ti).indexOf("[native code]")===-1&&(Ji=Jr=ue);var kt=Ie.reject,lr="",Dr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ep="String expected.",Oo=[],Ns="__dbnames",Ul="readonly",js="readwrite";function wi(d,m){return d?m?function(){return d.apply(this,arguments)&&m.apply(this,arguments)}:d:m}var uf={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Rs(d){return typeof d!="string"||/\./.test(d)?function(m){return m}:function(m){return m[d]===void 0&&d in m&&delete(m=L(m))[d],m}}function cf(){throw oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(d,m){try{var _=Ei(d),C=Ei(m);if(_!==C)return _==="Array"?1:C==="Array"?-1:_==="binary"?1:C==="binary"?-1:_==="string"?1:C==="string"?-1:_==="Date"?1:C!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return m<d?1:d<m?-1:0;case"binary":return function(j,V){for(var z=j.length,B=V.length,W=z<B?z:B,G=0;G<W;++G)if(j[G]!==V[G])return j[G]<V[G]?-1:1;return z===B?0:z<B?-1:1}(Mr(d),Mr(m));case"Array":return function(j,V){for(var z=j.length,B=V.length,W=z<B?z:B,G=0;G<W;++G){var Y=it(j[G],V[G]);if(Y!==0)return Y}return z===B?0:z<B?-1:1}(d,m)}}catch{}return NaN}function Ei(d){var m=typeof d;return m!="object"?m:ArrayBuffer.isView(d)?"binary":(d=ie(d),d==="ArrayBuffer"?"binary":d)}function Mr(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Zi(d,m,_){var C=d.schema.yProps;return C?(m&&0<_.numFailures&&(m=m.filter(function(j,V){return!_.failures[V]})),Promise.all(C.map(function(j){return j=j.updatesTable,m?d.db.table(j).where("k").anyOf(m).delete():d.db.table(j).clear()})).then(function(){return _})):_}var ya=(St.prototype._trans=function(d,m,_){var C=this._tx||De.trans,j=this.name,V=Qe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function z(G,Y,U){if(!U.schema[j])throw new oe.NotFound("Table "+j+" not part of transaction");return m(U.idbtrans,U)}var B=jr();try{var W=C&&C.db._novip===this.db._novip?C===De.trans?C._promise(d,z,_):_i(function(){return C._promise(d,z,_)},{trans:C,transless:De.transless||De}):function G(Y,U,Z,H){if(Y.idbdb&&(Y._state.openComplete||De.letThrough||Y._vip)){var X=Y._createTransaction(U,Z,Y._dbSchema);try{X.create(),Y._state.PR1398_maxLoop=3}catch(J){return J.name===Pe.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return G(Y,U,Z,H)})):kt(J)}return X._promise(U,function(J,Q){return _i(function(){return De.trans=X,H(J,Q,X)})}).then(function(J){if(U==="readwrite")try{X.idbtrans.commit()}catch{}return U==="readonly"?J:X._completion.then(function(){return J})})}if(Y._state.openComplete)return kt(new oe.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return kt(new oe.DatabaseClosed);Y.open().catch(ue)}return Y._state.dbReadyPromise.then(function(){return G(Y,U,Z,H)})}(this.db,d,[this.name],z);return V&&(W._consoleTask=V,W=W.catch(function(G){return console.trace(G),kt(G)})),W}finally{B&&ga()}},St.prototype.get=function(d,m){var _=this;return d&&d.constructor===Object?this.where(d).first(m):d==null?kt(new oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(C){return _.core.get({trans:C,key:d}).then(function(j){return _.hook.reading.fire(j)})}).then(m)},St.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(s(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var m=a(d);if(m.length===1)return this.where(m[0]).equals(d[m[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function(B){if(B.compound&&m.every(function(G){return 0<=B.keyPath.indexOf(G)})){for(var W=0;W<m.length;++W)if(m.indexOf(B.keyPath[W])===-1)return!1;return!0}return!1}).sort(function(B,W){return B.keyPath.length-W.keyPath.length})[0];if(_&&this.db._maxKey!==lr){var V=_.keyPath.slice(0,m.length);return this.where(V).equals(V.map(function(W){return d[W]}))}!_&&Qe&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var C=this.schema.idxByName;function j(B,W){return it(B,W)===0}var z=m.reduce(function(U,W){var G=U[0],Y=U[1],U=C[W],Z=d[W];return[G||U,G||!U?wi(Y,U&&U.multi?function(H){return H=O(H,W),s(H)&&H.some(function(X){return j(Z,X)})}:function(H){return j(Z,O(H,W))}):Y]},[null,null]),V=z[0],z=z[1];return V?this.where(V.name).equals(d[V.keyPath]).filter(z):_?this.filter(z):this.where(m).equals("")},St.prototype.filter=function(d){return this.toCollection().and(d)},St.prototype.count=function(d){return this.toCollection().count(d)},St.prototype.offset=function(d){return this.toCollection().offset(d)},St.prototype.limit=function(d){return this.toCollection().limit(d)},St.prototype.each=function(d){return this.toCollection().each(d)},St.prototype.toArray=function(d){return this.toCollection().toArray(d)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,s(d)?"[".concat(d.join("+"),"]"):d))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(d){var m,_=this.db,C=this.name;function j(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof cf&&(function(W,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function Y(){this.constructor=W}n(W,G),W.prototype=G===null?Object.create(G):(Y.prototype=G.prototype,new Y)}(j,m=d),Object.defineProperty(j.prototype,"db",{get:function(){return _},enumerable:!1,configurable:!0}),j.prototype.table=function(){return C},d=j);for(var V=new Set,z=d.prototype;z;z=u(z))Object.getOwnPropertyNames(z).forEach(function(W){return V.add(W)});function B(W){if(!W)return W;var G,Y=Object.create(d.prototype);for(G in W)if(!V.has(G))try{Y[G]=W[G]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=B,this.hook("reading",B),d},St.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},St.prototype.add=function(d,m){var _=this,C=this.schema.primKey,j=C.auto,V=C.keyPath,z=d;return V&&j&&(z=Rs(V)(d)),this._trans("readwrite",function(B){return _.core.mutate({trans:B,type:"add",keys:m!=null?[m]:null,values:[z]})}).then(function(B){return B.numFailures?Ie.reject(B.failures[0]):B.lastResult}).then(function(B){if(V)try{x(d,V,B)}catch{}return B})},St.prototype.update=function(d,m){return typeof d!="object"||s(d)?this.where(":id").equals(d).modify(m):(d=O(d,this.schema.primKey.keyPath),d===void 0?kt(new oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(m))},St.prototype.put=function(d,m){var _=this,C=this.schema.primKey,j=C.auto,V=C.keyPath,z=d;return V&&j&&(z=Rs(V)(d)),this._trans("readwrite",function(B){return _.core.mutate({trans:B,type:"put",values:[z],keys:m!=null?[m]:null})}).then(function(B){return B.numFailures?Ie.reject(B.failures[0]):B.lastResult}).then(function(B){if(V)try{x(d,V,B)}catch{}return B})},St.prototype.delete=function(d){var m=this;return this._trans("readwrite",function(_){return m.core.mutate({trans:_,type:"delete",keys:[d]}).then(function(C){return Zi(m,[d],C)}).then(function(C){return C.numFailures?Ie.reject(C.failures[0]):void 0})})},St.prototype.clear=function(){var d=this;return this._trans("readwrite",function(m){return d.core.mutate({trans:m,type:"deleteRange",range:uf}).then(function(_){return Zi(d,null,_)})}).then(function(m){return m.numFailures?Ie.reject(m.failures[0]):void 0})},St.prototype.bulkGet=function(d){var m=this;return this._trans("readonly",function(_){return m.core.getMany({keys:d,trans:_}).then(function(C){return C.map(function(j){return m.hook.reading.fire(j)})})})},St.prototype.bulkAdd=function(d,m,_){var C=this,j=Array.isArray(m)?m:void 0,V=(_=_||(j?void 0:m))?_.allKeys:void 0;return this._trans("readwrite",function(z){var G=C.schema.primKey,B=G.auto,G=G.keyPath;if(G&&j)throw new oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(j&&j.length!==d.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,G=G&&B?d.map(Rs(G)):d;return C.core.mutate({trans:z,type:"add",keys:j,values:G,wantResults:V}).then(function(X){var U=X.numFailures,Z=X.results,H=X.lastResult,X=X.failures;if(U===0)return V?Z:H;throw new dt("".concat(C.name,".bulkAdd(): ").concat(U," of ").concat(W," operations failed"),X)})})},St.prototype.bulkPut=function(d,m,_){var C=this,j=Array.isArray(m)?m:void 0,V=(_=_||(j?void 0:m))?_.allKeys:void 0;return this._trans("readwrite",function(z){var G=C.schema.primKey,B=G.auto,G=G.keyPath;if(G&&j)throw new oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(j&&j.length!==d.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,G=G&&B?d.map(Rs(G)):d;return C.core.mutate({trans:z,type:"put",keys:j,values:G,wantResults:V}).then(function(X){var U=X.numFailures,Z=X.results,H=X.lastResult,X=X.failures;if(U===0)return V?Z:H;throw new dt("".concat(C.name,".bulkPut(): ").concat(U," of ").concat(W," operations failed"),X)})})},St.prototype.bulkUpdate=function(d){var m=this,_=this.core,C=d.map(function(z){return z.key}),j=d.map(function(z){return z.changes}),V=[];return this._trans("readwrite",function(z){return _.getMany({trans:z,keys:C,cache:"clone"}).then(function(B){var W=[],G=[];d.forEach(function(U,Z){var H=U.key,X=U.changes,J=B[Z];if(J){for(var Q=0,ee=Object.keys(X);Q<ee.length;Q++){var le=ee[Q],fe=X[le];if(le===m.schema.primKey.keyPath){if(it(fe,H)!==0)throw new oe.Constraint("Cannot update primary key in bulkUpdate()")}else x(J,le,fe)}V.push(Z),W.push(H),G.push(J)}});var Y=W.length;return _.mutate({trans:z,type:"put",keys:W,values:G,updates:{keys:C,changeSpecs:j}}).then(function(U){var Z=U.numFailures,H=U.failures;if(Z===0)return Y;for(var X=0,J=Object.keys(H);X<J.length;X++){var Q,ee=J[X],le=V[Number(ee)];le!=null&&(Q=H[ee],delete H[ee],H[le]=Q)}throw new dt("".concat(m.name,".bulkUpdate(): ").concat(Z," of ").concat(Y," operations failed"),H)})})})},St.prototype.bulkDelete=function(d){var m=this,_=d.length;return this._trans("readwrite",function(C){return m.core.mutate({trans:C,type:"delete",keys:d}).then(function(j){return Zi(m,d,j)})}).then(function(z){var j=z.numFailures,V=z.lastResult,z=z.failures;if(j===0)return V;throw new dt("".concat(m.name,".bulkDelete(): ").concat(j," of ").concat(_," operations failed"),z)})},St);function St(){}function _t(d){function m(z,B){if(B){for(var W=arguments.length,G=new Array(W-1);--W;)G[W-1]=arguments[W];return _[z].subscribe.apply(null,G),d}if(typeof z=="string")return _[z]}var _={};m.addEventType=V;for(var C=1,j=arguments.length;C<j;++C)V(arguments[C]);return m;function V(z,B,W){if(typeof z!="object"){var G;B=B||Ot;var Y={subscribers:[],fire:W=W||ue,subscribe:function(U){Y.subscribers.indexOf(U)===-1&&(Y.subscribers.push(U),Y.fire=B(Y.fire,U))},unsubscribe:function(U){Y.subscribers=Y.subscribers.filter(function(Z){return Z!==U}),Y.fire=Y.subscribers.reduce(B,W)}};return _[z]=m[z]=Y}a(G=z).forEach(function(U){var Z=G[U];if(s(Z))V(U,G[U][0],G[U][1]);else{if(Z!=="asap")throw new oe.InvalidArgument("Invalid event config");var H=V(U,ct,function(){for(var X=arguments.length,J=new Array(X);X--;)J[X]=arguments[X];H.subscribers.forEach(function(Q){I(function(){Q.apply(null,J)})})})}})}}function eo(d,m){return v(m).from({prototype:d}),m}function ei(d,m){return!(d.filter||d.algorithm||d.or)&&(m?d.justLimit:!d.replayFilter)}function Co(d,m){d.filter=wi(d.filter,m)}function ff(d,m,_){var C=d.replayFilter;d.replayFilter=C?function(){return wi(C(),m())}:m,d.justLimit=_&&!C}function Ds(d,m){if(d.isPrimKey)return m.primaryKey;var _=m.getIndexByKeyPath(d.index);if(!_)throw new oe.Schema("KeyPath "+d.index+" on object store "+m.name+" is not indexed");return _}function tp(d,m,_){var C=Ds(d,m.schema);return m.openCursor({trans:_,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:C,range:d.range}})}function ql(d,m,_,C){var j=d.replayFilter?wi(d.filter,d.replayFilter()):d.filter;if(d.or){var V={},z=function(B,W,G){var Y,U;j&&!j(W,G,function(Z){return W.stop(Z)},function(Z){return W.fail(Z)})||((U=""+(Y=W.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Y)),c(V,U)||(V[U]=!0,m(B,W,G)))};return Promise.all([d.or._iterate(z,_),np(tp(d,C,_),d.algorithm,z,!d.keysOnly&&d.valueMapper)])}return np(tp(d,C,_),wi(d.algorithm,j),m,!d.keysOnly&&d.valueMapper)}function np(d,m,_,C){var j=Ct(C?function(V,z,B){return _(C(V),z,B)}:_);return d.then(function(V){if(V)return V.start(function(){var z=function(){return V.continue()};m&&!m(V,function(B){return z=B},function(B){V.stop(B),z=ue},function(B){V.fail(B),z=ue})||j(V.value,V,function(B){return z=B}),z()})})}var Ms=(va.prototype.execute=function(d){var m=this["@@propmod"];if(m.add!==void 0){var _=m.add;if(s(_))return i(i([],s(d)?d:[],!0),_).sort();if(typeof _=="number")return(Number(d)||0)+_;if(typeof _=="bigint")try{return BigInt(d)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(m.remove!==void 0){var C=m.remove;if(s(C))return s(d)?d.filter(function(j){return!C.includes(j)}).sort():[];if(typeof C=="number")return Number(d)-C;if(typeof C=="bigint")try{return BigInt(d)-C}catch{return BigInt(0)-C}throw new TypeError("Invalid subtrahend ".concat(C))}return _=(_=m.replacePrefix)===null||_===void 0?void 0:_[0],_&&typeof d=="string"&&d.startsWith(_)?m.replacePrefix[1]+d.substring(_.length):d},va);function va(d){this["@@propmod"]=d}var ko=(ft.prototype._read=function(d,m){var _=this._ctx;return _.error?_.table._trans(null,kt.bind(null,_.error)):_.table._trans("readonly",d).then(m)},ft.prototype._write=function(d){var m=this._ctx;return m.error?m.table._trans(null,kt.bind(null,m.error)):m.table._trans("readwrite",d,"locked")},ft.prototype._addAlgorithm=function(d){var m=this._ctx;m.algorithm=wi(m.algorithm,d)},ft.prototype._iterate=function(d,m){return ql(this._ctx,d,m,this._ctx.table.core)},ft.prototype.clone=function(d){var m=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return d&&l(_,d),m._ctx=_,m},ft.prototype.raw=function(){return this._ctx.valueMapper=null,this},ft.prototype.each=function(d){var m=this._ctx;return this._read(function(_){return ql(m,d,_,m.table.core)})},ft.prototype.count=function(d){var m=this;return this._read(function(_){var C=m._ctx,j=C.table.core;if(ei(C,!0))return j.count({trans:_,query:{index:Ds(C,j.schema),range:C.range}}).then(function(z){return Math.min(z,C.limit)});var V=0;return ql(C,function(){return++V,!1},_,j).then(function(){return V})}).then(d)},ft.prototype.sortBy=function(d,m){var _=d.split(".").reverse(),C=_[0],j=_.length-1;function V(W,G){return G?V(W[_[G]],G-1):W[C]}var z=this._ctx.dir==="next"?1:-1;function B(W,G){return it(V(W,j),V(G,j))*z}return this.toArray(function(W){return W.sort(B)}).then(m)},ft.prototype.toArray=function(d){var m=this;return this._read(function(_){var C=m._ctx;if(C.dir==="next"&&ei(C,!0)&&0<C.limit){var j=C.valueMapper,V=Ds(C,C.table.core.schema);return C.table.core.query({trans:_,limit:C.limit,values:!0,query:{index:V,range:C.range}}).then(function(B){return B=B.result,j?B.map(j):B})}var z=[];return ql(C,function(B){return z.push(B)},_,C.table.core).then(function(){return z})},d)},ft.prototype.offset=function(d){var m=this._ctx;return d<=0||(m.offset+=d,ei(m)?ff(m,function(){var _=d;return function(C,j){return _===0||(_===1?--_:j(function(){C.advance(_),_=0}),!1)}}):ff(m,function(){var _=d;return function(){return--_<0}})),this},ft.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),ff(this._ctx,function(){var m=d;return function(_,C,j){return--m<=0&&C(j),0<=m}},!0),this},ft.prototype.until=function(d,m){return Co(this._ctx,function(_,C,j){return!d(_.value)||(C(j),m)}),this},ft.prototype.first=function(d){return this.limit(1).toArray(function(m){return m[0]}).then(d)},ft.prototype.last=function(d){return this.reverse().first(d)},ft.prototype.filter=function(d){var m;return Co(this._ctx,function(_){return d(_.value)}),(m=this._ctx).isMatch=wi(m.isMatch,d),this},ft.prototype.and=function(d){return this.filter(d)},ft.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},ft.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ft.prototype.desc=function(){return this.reverse()},ft.prototype.eachKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(_,C){d(C.key,C)})},ft.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},ft.prototype.eachPrimaryKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(_,C){d(C.primaryKey,C)})},ft.prototype.keys=function(d){var m=this._ctx;m.keysOnly=!m.isMatch;var _=[];return this.each(function(C,j){_.push(j.key)}).then(function(){return _}).then(d)},ft.prototype.primaryKeys=function(d){var m=this._ctx;if(m.dir==="next"&&ei(m,!0)&&0<m.limit)return this._read(function(C){var j=Ds(m,m.table.core.schema);return m.table.core.query({trans:C,values:!1,limit:m.limit,query:{index:j,range:m.range}})}).then(function(C){return C.result}).then(d);m.keysOnly=!m.isMatch;var _=[];return this.each(function(C,j){_.push(j.primaryKey)}).then(function(){return _}).then(d)},ft.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},ft.prototype.firstKey=function(d){return this.limit(1).keys(function(m){return m[0]}).then(d)},ft.prototype.lastKey=function(d){return this.reverse().firstKey(d)},ft.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var m={};return Co(this._ctx,function(j){var C=j.primaryKey.toString(),j=c(m,C);return m[C]=!0,!j}),this},ft.prototype.modify=function(d){var m=this,_=this._ctx;return this._write(function(C){var j,V,z;z=typeof d=="function"?d:(j=a(d),V=j.length,function(ee){for(var le=!1,fe=0;fe<V;++fe){var he=j[fe],ve=d[he],Ae=O(ee,he);ve instanceof Ms?(x(ee,he,ve.execute(Ae)),le=!0):Ae!==ve&&(x(ee,he,ve),le=!0)}return le});var B=_.table.core,U=B.schema.primaryKey,W=U.outbound,G=U.extractKey,Y=200,U=m.db._options.modifyChunkSize;U&&(Y=typeof U=="object"?U[B.name]||U["*"]||200:U);function Z(ee,he){var fe=he.failures,he=he.numFailures;X+=ee-he;for(var ve=0,Ae=a(fe);ve<Ae.length;ve++){var xe=Ae[ve];H.push(fe[xe])}}var H=[],X=0,J=[],Q=d===hf;return m.clone().primaryKeys().then(function(ee){function le(he){var ve=Math.min(Y,ee.length-he),Ae=ee.slice(he,he+ve);return(Q?Promise.resolve([]):B.getMany({trans:C,keys:Ae,cache:"immutable"})).then(function(xe){var we=[],Ce=[],Oe=W?[]:null,ke=Q?Ae:[];if(!Q)for(var Ze=0;Ze<ve;++Ze){var pt=xe[Ze],Xe={value:L(pt),primKey:ee[he+Ze]};z.call(Xe,Xe.value,Xe)!==!1&&(Xe.value==null?ke.push(ee[he+Ze]):W||it(G(pt),G(Xe.value))===0?(Ce.push(Xe.value),W&&Oe.push(ee[he+Ze])):(ke.push(ee[he+Ze]),we.push(Xe.value)))}return Promise.resolve(0<we.length&&B.mutate({trans:C,type:"add",values:we}).then(function(Zt){for(var We in Zt.failures)ke.splice(parseInt(We),1);Z(we.length,Zt)})).then(function(){return(0<Ce.length||fe&&typeof d=="object")&&B.mutate({trans:C,type:"put",keys:Oe,values:Ce,criteria:fe,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<he}).then(function(Zt){return Z(Ce.length,Zt)})}).then(function(){return(0<ke.length||fe&&Q)&&B.mutate({trans:C,type:"delete",keys:ke,criteria:fe,isAdditionalChunk:0<he}).then(function(Zt){return Zi(_.table,ke,Zt)}).then(function(Zt){return Z(ke.length,Zt)})}).then(function(){return ee.length>he+ve&&le(he+Y)})})}var fe=ei(_)&&_.limit===1/0&&(typeof d!="function"||Q)&&{index:_.index,range:_.range};return le(0).then(function(){if(0<H.length)throw new ut("Error modifying one or more objects",H,X,J);return ee.length})})})},ft.prototype.delete=function(){var d=this._ctx,m=d.range;return!ei(d)||d.table.schema.yProps||!d.isPrimKey&&m.type!==3?this.modify(hf):this._write(function(_){var C=d.table.core.schema.primaryKey,j=m;return d.table.core.count({trans:_,query:{index:C,range:j}}).then(function(V){return d.table.core.mutate({trans:_,type:"deleteRange",range:j}).then(function(W){var B=W.failures,W=W.numFailures;if(W)throw new ut("Could not delete some values",Object.keys(B).map(function(G){return B[G]}),V-W);return V-W})})})},ft);function ft(){}var hf=function(d,m){return m.value=null};function rp(d,m){return d<m?-1:d===m?0:1}function ip(d,m){return m<d?-1:d===m?0:1}function qn(d,m,_){return d=d instanceof Si?new d.Collection(d):d,d._ctx.error=new(_||TypeError)(m),d}function $r(d){return new d.Collection(d,function(){return op("")}).limit(0)}function Kl(d,m,_,C){var j,V,z,B,W,G,Y,U=_.length;if(!_.every(function(X){return typeof X=="string"}))return qn(d,ep);function Z(X){j=X==="next"?function(Q){return Q.toUpperCase()}:function(Q){return Q.toLowerCase()},V=X==="next"?function(Q){return Q.toLowerCase()}:function(Q){return Q.toUpperCase()},z=X==="next"?rp:ip;var J=_.map(function(Q){return{lower:V(Q),upper:j(Q)}}).sort(function(Q,ee){return z(Q.lower,ee.lower)});B=J.map(function(Q){return Q.upper}),W=J.map(function(Q){return Q.lower}),Y=(G=X)==="next"?"":C}Z("next"),d=new d.Collection(d,function(){return to(B[0],W[U-1]+C)}),d._ondirectionchange=function(X){Z(X)};var H=0;return d._addAlgorithm(function(X,J,Q){var ee=X.key;if(typeof ee!="string")return!1;var le=V(ee);if(m(le,W,H))return!0;for(var fe=null,he=H;he<U;++he){var ve=function(Ae,xe,we,Ce,Oe,ke){for(var Ze=Math.min(Ae.length,Ce.length),pt=-1,Xe=0;Xe<Ze;++Xe){var Zt=xe[Xe];if(Zt!==Ce[Xe])return Oe(Ae[Xe],we[Xe])<0?Ae.substr(0,Xe)+we[Xe]+we.substr(Xe+1):Oe(Ae[Xe],Ce[Xe])<0?Ae.substr(0,Xe)+Ce[Xe]+we.substr(Xe+1):0<=pt?Ae.substr(0,pt)+xe[pt]+we.substr(pt+1):null;Oe(Ae[Xe],Zt)<0&&(pt=Xe)}return Ze<Ce.length&&ke==="next"?Ae+we.substr(Ae.length):Ze<Ae.length&&ke==="prev"?Ae.substr(0,we.length):pt<0?null:Ae.substr(0,pt)+Ce[pt]+we.substr(pt+1)}(ee,le,B[he],W[he],z,G);ve===null&&fe===null?H=he+1:(fe===null||0<z(fe,ve))&&(fe=ve)}return J(fe!==null?function(){X.continue(fe+Y)}:Q),!1}),d}function to(d,m,_,C){return{type:2,lower:d,upper:m,lowerOpen:_,upperOpen:C}}function op(d){return{type:1,lower:d,upper:d}}var Si=(Object.defineProperty(sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),sn.prototype.between=function(d,m,_,C){_=_!==!1,C=C===!0;try{return 0<this._cmp(d,m)||this._cmp(d,m)===0&&(_||C)&&(!_||!C)?$r(this):new this.Collection(this,function(){return to(d,m,!_,!C)})}catch{return qn(this,Dr)}},sn.prototype.equals=function(d){return d==null?qn(this,Dr):new this.Collection(this,function(){return op(d)})},sn.prototype.above=function(d){return d==null?qn(this,Dr):new this.Collection(this,function(){return to(d,void 0,!0)})},sn.prototype.aboveOrEqual=function(d){return d==null?qn(this,Dr):new this.Collection(this,function(){return to(d,void 0,!1)})},sn.prototype.below=function(d){return d==null?qn(this,Dr):new this.Collection(this,function(){return to(void 0,d,!1,!0)})},sn.prototype.belowOrEqual=function(d){return d==null?qn(this,Dr):new this.Collection(this,function(){return to(void 0,d)})},sn.prototype.startsWith=function(d){return typeof d!="string"?qn(this,ep):this.between(d,d+lr,!0,!0)},sn.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):Kl(this,function(m,_){return m.indexOf(_[0])===0},[d],lr)},sn.prototype.equalsIgnoreCase=function(d){return Kl(this,function(m,_){return m===_[0]},[d],"")},sn.prototype.anyOfIgnoreCase=function(){var d=ye.apply(ae,arguments);return d.length===0?$r(this):Kl(this,function(m,_){return _.indexOf(m)!==-1},d,"")},sn.prototype.startsWithAnyOfIgnoreCase=function(){var d=ye.apply(ae,arguments);return d.length===0?$r(this):Kl(this,function(m,_){return _.some(function(C){return m.indexOf(C)===0})},d,lr)},sn.prototype.anyOf=function(){var d=this,m=ye.apply(ae,arguments),_=this._cmp;try{m.sort(_)}catch{return qn(this,Dr)}if(m.length===0)return $r(this);var C=new this.Collection(this,function(){return to(m[0],m[m.length-1])});C._ondirectionchange=function(V){_=V==="next"?d._ascending:d._descending,m.sort(_)};var j=0;return C._addAlgorithm(function(V,z,B){for(var W=V.key;0<_(W,m[j]);)if(++j===m.length)return z(B),!1;return _(W,m[j])===0||(z(function(){V.continue(m[j])}),!1)}),C},sn.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},sn.prototype.noneOf=function(){var d=ye.apply(ae,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return qn(this,Dr)}var m=d.reduce(function(_,C){return _?_.concat([[_[_.length-1][1],C]]):[[-1/0,C]]},null);return m.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},sn.prototype.inAnyRange=function(ee,m){var _=this,C=this._cmp,j=this._ascending,V=this._descending,z=this._min,B=this._max;if(ee.length===0)return $r(this);if(!ee.every(function(le){return le[0]!==void 0&&le[1]!==void 0&&j(le[0],le[1])<=0}))return qn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oe.InvalidArgument);var W=!m||m.includeLowers!==!1,G=m&&m.includeUppers===!0,Y,U=j;function Z(le,fe){return U(le[0],fe[0])}try{(Y=ee.reduce(function(le,fe){for(var he=0,ve=le.length;he<ve;++he){var Ae=le[he];if(C(fe[0],Ae[1])<0&&0<C(fe[1],Ae[0])){Ae[0]=z(Ae[0],fe[0]),Ae[1]=B(Ae[1],fe[1]);break}}return he===ve&&le.push(fe),le},[])).sort(Z)}catch{return qn(this,Dr)}var H=0,X=G?function(le){return 0<j(le,Y[H][1])}:function(le){return 0<=j(le,Y[H][1])},J=W?function(le){return 0<V(le,Y[H][0])}:function(le){return 0<=V(le,Y[H][0])},Q=X,ee=new this.Collection(this,function(){return to(Y[0][0],Y[Y.length-1][1],!W,!G)});return ee._ondirectionchange=function(le){U=le==="next"?(Q=X,j):(Q=J,V),Y.sort(Z)},ee._addAlgorithm(function(le,fe,he){for(var ve,Ae=le.key;Q(Ae);)if(++H===Y.length)return fe(he),!1;return!X(ve=Ae)&&!J(ve)||(_._cmp(Ae,Y[H][1])===0||_._cmp(Ae,Y[H][0])===0||fe(function(){U===j?le.continue(Y[H][0]):le.continue(Y[H][1])}),!1)}),ee},sn.prototype.startsWithAnyOf=function(){var d=ye.apply(ae,arguments);return d.every(function(m){return typeof m=="string"})?d.length===0?$r(this):this.inAnyRange(d.map(function(m){return[m,m+lr]})):qn(this,"startsWithAnyOf() only works with strings")},sn);function sn(){}function yr(d){return Ct(function(m){return no(m),d(m.target.error),!1})}function no(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var ba="storagemutated",No="x-storagemutated-1",vr=_t(null,ba),ap=(br.prototype._lock=function(){return D(!De.global),++this._reculock,this._reculock!==1||De.global||(De.lockOwnerFor=this),this},br.prototype._unlock=function(){if(D(!De.global),--this._reculock==0)for(De.global||(De.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Zr(d[1],d[0])}catch{}}return this},br.prototype._locked=function(){return this._reculock&&De.lockOwnerFor!==this},br.prototype.create=function(d){var m=this;if(!this.mode)return this;var _=this.db.idbdb,C=this.db._state.dbOpenError;if(D(!this.idbtrans),!d&&!_)switch(C&&C.name){case"DatabaseClosedError":throw new oe.DatabaseClosed(C);case"MissingAPIError":throw new oe.MissingAPI(C.message,C);default:throw new oe.OpenFailed(C)}if(!this.active)throw new oe.TransactionInactive;return D(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ct(function(j){no(j),m._reject(d.error)}),d.onabort=Ct(function(j){no(j),m.active&&m._reject(new oe.Abort(d.error)),m.active=!1,m.on("abort").fire(j)}),d.oncomplete=Ct(function(){m.active=!1,m._resolve(),"mutatedParts"in d&&vr.storagemutated.fire(d.mutatedParts)}),this},br.prototype._promise=function(d,m,_){var C=this;if(d==="readwrite"&&this.mode!=="readwrite")return kt(new oe.ReadOnly("Transaction is readonly"));if(!this.active)return kt(new oe.TransactionInactive);if(this._locked())return new Ie(function(V,z){C._blockedFuncs.push([function(){C._promise(d,m,_).then(V,z)},De])});if(_)return _i(function(){var V=new Ie(function(z,B){C._lock();var W=m(z,B,C);W&&W.then&&W.then(z,B)});return V.finally(function(){return C._unlock()}),V._lib=!0,V});var j=new Ie(function(V,z){var B=m(V,z,C);B&&B.then&&B.then(V,z)});return j._lib=!0,j},br.prototype._root=function(){return this.parent?this.parent._root():this},br.prototype.waitFor=function(d){var m,_=this._root(),C=Ie.resolve(d);_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return C}):(_._waitingFor=C,_._waitingQueue=[],m=_.idbtrans.objectStore(_.storeNames[0]),function V(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(m.get(-1/0).onsuccess=V)}());var j=_._waitingFor;return new Ie(function(V,z){C.then(function(B){return _._waitingQueue.push(Ct(V.bind(null,B)))},function(B){return _._waitingQueue.push(Ct(z.bind(null,B)))}).finally(function(){_._waitingFor===j&&(_._waitingFor=null)})})},br.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oe.Abort))},br.prototype.table=function(d){var m=this._memoizedTables||(this._memoizedTables={});if(c(m,d))return m[d];var _=this.schema[d];if(!_)throw new oe.NotFound("Table "+d+" not part of transaction");return _=new this.db.Table(d,_,this),_.core=this.db.core.table(d),m[d]=_},br);function br(){}function Rt(d,m,_,C,j,V,z,B){return{name:d,keyPath:m,unique:_,multi:C,auto:j,compound:V,src:(_&&!z?"&":"")+(C?"*":"")+(j?"++":"")+sp(m),type:B}}function sp(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function df(d,m,_){return{name:d,primKey:m,indexes:_,mappedClass:null,idxByName:(C=function(j){return[j.name,j]},_.reduce(function(j,V,z){return z=C(V,z),z&&(j[z[0]]=z[1]),j},{}))};var C}var _a=function(d){try{return d.only([[]]),_a=function(){return[[]]},[[]]}catch{return _a=function(){return lr},lr}};function Wl(d){return d==null?function(){}:typeof d=="string"?(m=d).split(".").length===1?function(_){return _[m]}:function(_){return O(_,m)}:function(_){return O(_,d)};var m}function pf(d){return[].slice.call(d)}var Hl=0;function _r(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function lp(d,m,W){function C(Q){if(Q.type===3)return null;if(Q.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var H=Q.lower,X=Q.upper,J=Q.lowerOpen,Q=Q.upperOpen;return H===void 0?X===void 0?null:m.upperBound(X,!!Q):X===void 0?m.lowerBound(H,!!J):m.bound(H,X,!!J,!!Q)}function j(Z){var H,X=Z.name;return{name:X,schema:Z,mutate:function(J){var Q=J.trans,ee=J.type,le=J.keys,fe=J.values,he=J.range;return new Promise(function(ve,Ae){ve=Ct(ve);var xe=Q.objectStore(X),we=xe.keyPath==null,Ce=ee==="put"||ee==="add";if(!Ce&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var Oe,ke=(le||fe||{length:1}).length;if(le&&fe&&le.length!==fe.length)throw new Error("Given keys array must have same length as given values array.");if(ke===0)return ve({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(ur){++Zt,no(ur)}var pt=[],Xe=[],Zt=0;if(ee==="deleteRange"){if(he.type===4)return ve({numFailures:Zt,failures:Xe,results:[],lastResult:void 0});he.type===3?pt.push(Oe=xe.clear()):pt.push(Oe=xe.delete(C(he)))}else{var we=Ce?we?[fe,le]:[fe,null]:[le,null],We=we[0],Kn=we[1];if(Ce)for(var Wn=0;Wn<ke;++Wn)pt.push(Oe=Kn&&Kn[Wn]!==void 0?xe[ee](We[Wn],Kn[Wn]):xe[ee](We[Wn])),Oe.onerror=Ze;else for(Wn=0;Wn<ke;++Wn)pt.push(Oe=xe[ee](We[Wn])),Oe.onerror=Ze}function dp(ur){ur=ur.target.result,pt.forEach(function(Us,Yv){return Us.error!=null&&(Xe[Yv]=Us.error)}),ve({numFailures:Zt,failures:Xe,results:ee==="delete"?le:pt.map(function(Us){return Us.result}),lastResult:ur})}Oe.onerror=function(ur){Ze(ur),dp(ur)},Oe.onsuccess=dp})},getMany:function(J){var Q=J.trans,ee=J.keys;return new Promise(function(le,fe){le=Ct(le);for(var he,ve=Q.objectStore(X),Ae=ee.length,xe=new Array(Ae),we=0,Ce=0,Oe=function(pt){pt=pt.target,xe[pt._pos]=pt.result,++Ce===we&&le(xe)},ke=yr(fe),Ze=0;Ze<Ae;++Ze)ee[Ze]!=null&&((he=ve.get(ee[Ze]))._pos=Ze,he.onsuccess=Oe,he.onerror=ke,++we);we===0&&le(xe)})},get:function(J){var Q=J.trans,ee=J.key;return new Promise(function(le,fe){le=Ct(le);var he=Q.objectStore(X).get(ee);he.onsuccess=function(ve){return le(ve.target.result)},he.onerror=yr(fe)})},query:(H=G,function(J){return new Promise(function(Q,ee){Q=Ct(Q);var le,fe,he,we=J.trans,ve=J.values,Ae=J.limit,Oe=J.query,xe=Ae===1/0?void 0:Ae,Ce=Oe.index,Oe=Oe.range,we=we.objectStore(X),Ce=Ce.isPrimaryKey?we:we.index(Ce.name),Oe=C(Oe);if(Ae===0)return Q({result:[]});H?((xe=ve?Ce.getAll(Oe,xe):Ce.getAllKeys(Oe,xe)).onsuccess=function(ke){return Q({result:ke.target.result})},xe.onerror=yr(ee)):(le=0,fe=!ve&&"openKeyCursor"in Ce?Ce.openKeyCursor(Oe):Ce.openCursor(Oe),he=[],fe.onsuccess=function(ke){var Ze=fe.result;return Ze?(he.push(ve?Ze.value:Ze.primaryKey),++le===Ae?Q({result:he}):void Ze.continue()):Q({result:he})},fe.onerror=yr(ee))})}),openCursor:function(J){var Q=J.trans,ee=J.values,le=J.query,fe=J.reverse,he=J.unique;return new Promise(function(ve,Ae){ve=Ct(ve);var Ce=le.index,xe=le.range,we=Q.objectStore(X),we=Ce.isPrimaryKey?we:we.index(Ce.name),Ce=fe?he?"prevunique":"prev":he?"nextunique":"next",Oe=!ee&&"openKeyCursor"in we?we.openKeyCursor(C(xe),Ce):we.openCursor(C(xe),Ce);Oe.onerror=yr(Ae),Oe.onsuccess=Ct(function(ke){var Ze,pt,Xe,Zt,We=Oe.result;We?(We.___id=++Hl,We.done=!1,Ze=We.continue.bind(We),pt=(pt=We.continuePrimaryKey)&&pt.bind(We),Xe=We.advance.bind(We),Zt=function(){throw new Error("Cursor not stopped")},We.trans=Q,We.stop=We.continue=We.continuePrimaryKey=We.advance=function(){throw new Error("Cursor not started")},We.fail=Ct(Ae),We.next=function(){var Kn=this,Wn=1;return this.start(function(){return Wn--?Kn.continue():Kn.stop()}).then(function(){return Kn})},We.start=function(Kn){function Wn(){if(Oe.result)try{Kn()}catch(ur){We.fail(ur)}else We.done=!0,We.start=function(){throw new Error("Cursor behind last entry")},We.stop()}var dp=new Promise(function(ur,Us){ur=Ct(ur),Oe.onerror=yr(Us),We.fail=Us,We.stop=function(Yv){We.stop=We.continue=We.continuePrimaryKey=We.advance=Zt,ur(Yv)}});return Oe.onsuccess=Ct(function(ur){Oe.onsuccess=Wn,Wn()}),We.continue=Ze,We.continuePrimaryKey=pt,We.advance=Xe,Wn(),dp},ve(We)):ve(null)},Ae)})},count:function(J){var Q=J.query,ee=J.trans,le=Q.index,fe=Q.range;return new Promise(function(he,ve){var Ae=ee.objectStore(X),xe=le.isPrimaryKey?Ae:Ae.index(le.name),Ae=C(fe),xe=Ae?xe.count(Ae):xe.count();xe.onsuccess=Ct(function(we){return he(we.target.result)}),xe.onerror=yr(ve)})}}}var V,z,B,Y=(z=W,B=pf((V=d).objectStoreNames),{schema:{name:V.name,tables:B.map(function(Z){return z.objectStore(Z)}).map(function(Z){var H=Z.keyPath,Q=Z.autoIncrement,X=s(H),J={},Q={name:Z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H==null,compound:X,keyPath:H,autoIncrement:Q,unique:!0,extractKey:Wl(H)},indexes:pf(Z.indexNames).map(function(ee){return Z.index(ee)}).map(function(he){var le=he.name,fe=he.unique,ve=he.multiEntry,he=he.keyPath,ve={name:le,compound:s(he),keyPath:he,unique:fe,multiEntry:ve,extractKey:Wl(he)};return J[_r(he)]=ve}),getIndexByKeyPath:function(ee){return J[_r(ee)]}};return J[":id"]=Q.primaryKey,H!=null&&(J[_r(H)]=Q.primaryKey),Q})},hasGetAll:0<B.length&&"getAll"in z.objectStore(B[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),W=Y.schema,G=Y.hasGetAll,Y=W.tables.map(j),U={};return Y.forEach(function(Z){return U[Z.name]=Z}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(Z){if(!U[Z])throw new Error("Table '".concat(Z,"' not found"));return U[Z]},MIN_KEY:-1/0,MAX_KEY:_a(m),schema:W}}function Wv(d,m,_,C){var j=_.IDBKeyRange;return _.indexedDB,{dbcore:(C=lp(m,j,C),d.dbcore.reduce(function(V,z){return z=z.create,r(r({},V),z(V))},C))}}function ro(d,C){var _=C.db,C=Wv(d._middlewares,_,d._deps,C);d.core=C.dbcore,d.tables.forEach(function(j){var V=j.name;d.core.schema.tables.some(function(z){return z.name===V})&&(j.core=d.core.table(V),d[V]instanceof d.Table&&(d[V].core=j.core))})}function $s(d,m,_,C){_.forEach(function(j){var V=C[j];m.forEach(function(z){var B=function W(G,Y){return w(G,Y)||(G=u(G))&&W(G,Y)}(z,j);(!B||"value"in B&&B.value===void 0)&&(z===d.Transaction.prototype||z instanceof d.Transaction?b(z,j,{get:function(){return this.table(j)},set:function(W){y(this,j,{value:W,writable:!0,configurable:!0,enumerable:!0})}}):z[j]=new d.Table(j,V))})})}function Ls(d,m){m.forEach(function(_){for(var C in _)_[C]instanceof d.Table&&delete _[C]})}function Gl(d,m){return d._cfg.version-m._cfg.version}function up(d,m,_,C){var j=d._dbSchema;_.objectStoreNames.contains("$meta")&&!j.$meta&&(j.$meta=df("$meta",Ql("")[0],[]),d._storeNames.push("$meta"));var V=d._createTransaction("readwrite",d._storeNames,j);V.create(_),V._completion.catch(C);var z=V._reject.bind(V),B=De.transless||De;_i(function(){return De.trans=V,De.transless=B,m!==0?(ro(d,_),G=m,((W=V).storeNames.includes("$meta")?W.table("$meta").get("version").then(function(Y){return Y??G}):Ie.resolve(G)).then(function(Y){return Z=Y,H=V,X=_,J=[],Y=(U=d)._versions,Q=U._dbSchema=Fs(0,U.idbdb,X),(Y=Y.filter(function(ee){return ee._cfg.version>=Z})).length!==0?(Y.forEach(function(ee){J.push(function(){var le=Q,fe=ee._cfg.dbschema;wa(U,le,X),wa(U,fe,X),Q=U._dbSchema=fe;var he=mf(le,fe);he.add.forEach(function(Ce){Yl(X,Ce[0],Ce[1].primKey,Ce[1].indexes)}),he.change.forEach(function(Ce){if(Ce.recreate)throw new oe.Upgrade("Not yet support for changing primary key");var Oe=X.objectStore(Ce.name);Ce.add.forEach(function(ke){return Vs(Oe,ke)}),Ce.change.forEach(function(ke){Oe.deleteIndex(ke.name),Vs(Oe,ke)}),Ce.del.forEach(function(ke){return Oe.deleteIndex(ke)})});var ve=ee._cfg.contentUpgrade;if(ve&&ee._cfg.version>Z){ro(U,X),H._memoizedTables={};var Ae=T(fe);he.del.forEach(function(Ce){Ae[Ce]=le[Ce]}),Ls(U,[U.Transaction.prototype]),$s(U,[U.Transaction.prototype],a(Ae),Ae),H.schema=Ae;var xe,we=Te(ve);return we&&Ji(),he=Ie.follow(function(){var Ce;(xe=ve(H))&&we&&(Ce=Jr.bind(null,null),xe.then(Ce,Ce))}),xe&&typeof xe.then=="function"?Ie.resolve(xe):he.then(function(){return xe})}}),J.push(function(le){var fe,he,ve=ee._cfg.dbschema;fe=ve,he=le,[].slice.call(he.db.objectStoreNames).forEach(function(Ae){return fe[Ae]==null&&he.db.deleteObjectStore(Ae)}),Ls(U,[U.Transaction.prototype]),$s(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),H.schema=U._dbSchema}),J.push(function(le){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===ee._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(fe){return fe!=="$meta"})):le.objectStore("$meta").put(ee._cfg.version,"version"))})}),function ee(){return J.length?Ie.resolve(J.shift()(H.idbtrans)).then(ee):Ie.resolve()}().then(function(){xa(Q,X)})):Ie.resolve();var U,Z,H,X,J,Q}).catch(z)):(a(j).forEach(function(Y){Yl(_,Y,j[Y].primKey,j[Y].indexes)}),ro(d,_),void Ie.follow(function(){return d.on.populate.fire(V)}).catch(z));var W,G})}function Xl(d,m){xa(d._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var _=Fs(0,d.idbdb,m);wa(d,d._dbSchema,m);for(var C=0,j=mf(_,d._dbSchema).change;C<j.length;C++){var V=function(z){if(z.change.length||z.recreate)return console.warn("Unable to patch indexes of table ".concat(z.name," because it has changes on the type of index or primary key.")),{value:void 0};var B=m.objectStore(z.name);z.add.forEach(function(W){Qe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(z.name,".").concat(W.src)),Vs(B,W)})}(j[C]);if(typeof V=="object")return V.value}}function mf(d,m){var _,C={del:[],add:[],change:[]};for(_ in d)m[_]||C.del.push(_);for(_ in m){var j=d[_],V=m[_];if(j){var z={name:_,def:V,recreate:!1,del:[],add:[],change:[]};if(""+(j.primKey.keyPath||"")!=""+(V.primKey.keyPath||"")||j.primKey.auto!==V.primKey.auto)z.recreate=!0,C.change.push(z);else{var B=j.idxByName,W=V.idxByName,G=void 0;for(G in B)W[G]||z.del.push(G);for(G in W){var Y=B[G],U=W[G];Y?Y.src!==U.src&&z.change.push(U):z.add.push(U)}(0<z.del.length||0<z.add.length||0<z.change.length)&&C.change.push(z)}}else C.add.push([_,V])}return C}function Yl(d,m,_,C){var j=d.db.createObjectStore(m,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});return C.forEach(function(V){return Vs(j,V)}),j}function xa(d,m){a(d).forEach(function(_){m.db.objectStoreNames.contains(_)||(Qe&&console.debug("Dexie: Creating missing table",_),Yl(m,_,d[_].primKey,d[_].indexes))})}function Vs(d,m){d.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Fs(d,m,_){var C={};return A(m.objectStoreNames,0).forEach(function(j){for(var V=_.objectStore(j),z=Rt(sp(G=V.keyPath),G||"",!0,!1,!!V.autoIncrement,G&&typeof G!="string",!0),B=[],W=0;W<V.indexNames.length;++W){var Y=V.index(V.indexNames[W]),G=Y.keyPath,Y=Rt(Y.name,G,!!Y.unique,!!Y.multiEntry,!1,G&&typeof G!="string",!1);B.push(Y)}C[j]=df(j,z,B)}),C}function wa(d,m,_){for(var C=_.db.objectStoreNames,j=0;j<C.length;++j){var V=C[j],z=_.objectStore(V);d._hasGetAll="getAll"in z;for(var B=0;B<z.indexNames.length;++B){var W=z.indexNames[B],G=z.index(W).keyPath,Y=typeof G=="string"?G:"["+A(G).join("+")+"]";!m[V]||(G=m[V].idxByName[Y])&&(G.name=W,delete m[V].idxByName[Y],m[V].idxByName[W]=G)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function Ql(d){return d.split(",").map(function(m,_){var V=m.split(":"),C=(j=V[1])===null||j===void 0?void 0:j.trim(),j=(m=V[0].trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(j)?j.match(/^\[(.*)\]$/)[1].split("+"):j;return Rt(j,V||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),s(V),_===0,C)})}var cp=(Ai.prototype._createTableSchema=df,Ai.prototype._parseIndexSyntax=Ql,Ai.prototype._parseStoresSpec=function(d,m){var _=this;a(d).forEach(function(C){if(d[C]!==null){var j=_._parseIndexSyntax(d[C]),V=j.shift();if(!V)throw new oe.Schema("Invalid schema for table "+C+": "+d[C]);if(V.unique=!0,V.multi)throw new oe.Schema("Primary key cannot be multiEntry*");j.forEach(function(z){if(z.auto)throw new oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!z.keyPath)throw new oe.Schema("Index must have a name and cannot be an empty string")}),j=_._createTableSchema(C,V,j),m[C]=j}})},Ai.prototype.stores=function(_){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,_):_;var _=m._versions,C={},j={};return _.forEach(function(V){l(C,V._cfg.storesSource),j=V._cfg.dbschema={},V._parseStoresSpec(C,j)}),m._dbSchema=j,Ls(m,[m._allTables,m,m.Transaction.prototype]),$s(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],a(j),j),m._storeNames=a(j),this},Ai.prototype.upgrade=function(d){return this._cfg.contentUpgrade=jt(this._cfg.contentUpgrade||ue,d),this},Ai);function Ai(){}function Jl(d,m){var _=d._dbNamesDB;return _||(_=d._dbNamesDB=new jo(Ns,{addons:[],indexedDB:d,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function Zl(d){return d&&typeof d.databases=="function"}function Ti(d){return _i(function(){return De.letThrough=!0,d()})}function eu(d){return!("from"in d)}var vn=function(d,m){if(!this){var _=new vn;return d&&"d"in d&&l(_,d),_}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?m:d}:{d:0})};function Ea(d,m,_){var C=it(m,_);if(!isNaN(C)){if(0<C)throw RangeError();if(eu(d))return l(d,{from:m,to:_,d:1});var j=d.l,C=d.r;if(it(_,d.from)<0)return j?Ea(j,m,_):d.l={from:m,to:_,d:1,l:null,r:null},gf(d);if(0<it(m,d.to))return C?Ea(C,m,_):d.r={from:m,to:_,d:1,l:null,r:null},gf(d);it(m,d.from)<0&&(d.from=m,d.l=null,d.d=C?C.d+1:1),0<it(_,d.to)&&(d.to=_,d.r=null,d.d=d.l?d.l.d+1:1),_=!d.r,j&&!d.l&&Sa(d,j),C&&_&&Sa(d,C)}}function Sa(d,m){eu(m)||function _(C,W){var V=W.from,z=W.to,B=W.l,W=W.r;Ea(C,V,z),B&&_(C,B),W&&_(C,W)}(d,m)}function zs(d,m){var _=Pn(m),C=_.next();if(C.done)return!1;for(var j=C.value,V=Pn(d),z=V.next(j.from),B=z.value;!C.done&&!z.done;){if(it(B.from,j.to)<=0&&0<=it(B.to,j.from))return!0;it(j.from,B.from)<0?j=(C=_.next(B.from)).value:B=(z=V.next(j.from)).value}return!1}function Pn(d){var m=eu(d)?null:{s:0,n:d};return{next:function(_){for(var C=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,C)for(;m.n.l&&it(_,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!C||it(_,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function gf(d){var m,_,C=(((m=d.r)===null||m===void 0?void 0:m.d)||0)-(((_=d.l)===null||_===void 0?void 0:_.d)||0),j=1<C?"r":C<-1?"l":"";j&&(m=j=="r"?"l":"r",_=r({},d),C=d[j],d.from=C.from,d.to=C.to,d[j]=C[j],_[j]=C[m],(d[m]=_).d=yf(_)),d.d=yf(d)}function yf(_){var m=_.r,_=_.l;return(m?_?Math.max(m.d,_.d):m.d:_?_.d:0)+1}function Pi(d,m){return a(m).forEach(function(_){d[_]?Sa(d[_],m[_]):d[_]=function C(j){var V,z,B={};for(V in j)c(j,V)&&(z=j[V],B[V]=!z||typeof z!="object"||R.has(z.constructor)?z:C(z));return B}(m[_])}),d}function h(d,m){return d.all||m.all||Object.keys(d).some(function(_){return m[_]&&zs(m[_],d[_])})}p(vn.prototype,((ti={add:function(d){return Sa(this,d),this},addKey:function(d){return Ea(this,d,d),this},addKeys:function(d){var m=this;return d.forEach(function(_){return Ea(m,_,_)}),this},hasKey:function(d){var m=Pn(this).next(d).value;return m&&it(m.from,d)<=0&&0<=it(m.to,d)}})[ce]=function(){return Pn(this)},ti));var E={},N={},F=!1;function te(d){Pi(N,d),F||(F=!0,setTimeout(function(){F=!1,se(N,!(N={}))},0))}function se(d,m){m===void 0&&(m=!1);var _=new Set;if(d.all)for(var C=0,j=Object.values(E);C<j.length;C++)Se(z=j[C],d,_,m);else for(var V in d){var z,B=/^idb\:\/\/(.*)\/(.*)\//.exec(V);B&&(V=B[1],B=B[2],(z=E["idb://".concat(V,"/").concat(B)])&&Se(z,d,_,m))}_.forEach(function(W){return W()})}function Se(d,m,_,C){for(var j=[],V=0,z=Object.entries(d.queries.query);V<z.length;V++){for(var B=z[V],W=B[0],G=[],Y=0,U=B[1];Y<U.length;Y++){var Z=U[Y];h(m,Z.obsSet)?Z.subscribers.forEach(function(Q){return _.add(Q)}):C&&G.push(Z)}C&&j.push([W,G])}if(C)for(var H=0,X=j;H<X.length;H++){var J=X[H],W=J[0],G=J[1];d.queries.query[W]=G}}function Je(d){var m=d._state,_=d._deps.indexedDB;if(m.isBeingOpened||d.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?kt(m.dbOpenError):d});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var C=m.openCanceller,j=Math.round(10*d.verno),V=!1;function z(){if(m.openCanceller!==C)throw new oe.DatabaseClosed("db.open() was cancelled")}function B(){return new Ie(function(Z,H){if(z(),!_)throw new oe.MissingAPI;var X=d.name,J=m.autoSchema||!j?_.open(X):_.open(X,j);if(!J)throw new oe.MissingAPI;J.onerror=yr(H),J.onblocked=Ct(d._fireOnBlocked),J.onupgradeneeded=Ct(function(Q){var ee;Y=J.transaction,m.autoSchema&&!d._options.allowEmptyDB?(J.onerror=no,Y.abort(),J.result.close(),(ee=_.deleteDatabase(X)).onsuccess=ee.onerror=Ct(function(){H(new oe.NoSuchDatabase("Database ".concat(X," doesnt exist")))})):(Y.onerror=yr(H),Q=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,U=Q<1,d.idbdb=J.result,V&&Xl(d,Y),up(d,Q/10,Y,H))},H),J.onsuccess=Ct(function(){Y=null;var Q,ee,le,fe,he,ve=d.idbdb=J.result,Ae=A(ve.objectStoreNames);if(0<Ae.length)try{var xe=ve.transaction((fe=Ae).length===1?fe[0]:fe,"readonly");if(m.autoSchema)ee=ve,le=xe,(Q=d).verno=ee.version/10,le=Q._dbSchema=Fs(0,ee,le),Q._storeNames=A(ee.objectStoreNames,0),$s(Q,[Q._allTables],a(le),le);else if(wa(d,d._dbSchema,xe),((he=mf(Fs(0,(he=d).idbdb,xe),he._dbSchema)).add.length||he.change.some(function(we){return we.add.length||we.change.length}))&&!V)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ve.close(),j=ve.version+1,V=!0,Z(B());ro(d,xe)}catch{}Oo.push(d),ve.onversionchange=Ct(function(we){m.vcFired=!0,d.on("versionchange").fire(we)}),ve.onclose=Ct(function(we){d.on("close").fire(we)}),U&&(he=d._deps,xe=X,ve=he.indexedDB,he=he.IDBKeyRange,Zl(ve)||xe===Ns||Jl(ve,he).put({name:xe}).catch(ue)),Z()},H)}).catch(function(Z){switch(Z==null?void 0:Z.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),B();break;case"VersionError":if(0<j)return j=0,B()}return Ie.reject(Z)})}var W,G=m.dbReadyResolve,Y=null,U=!1;return Ie.race([C,(typeof navigator>"u"?Ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Z){function H(){return indexedDB.databases().finally(Z)}W=setInterval(H,100),H()}).finally(function(){return clearInterval(W)}):Promise.resolve()).then(B)]).then(function(){return z(),m.onReadyBeingFired=[],Ie.resolve(Ti(function(){return d.on.ready.fire(d.vip)})).then(function Z(){if(0<m.onReadyBeingFired.length){var H=m.onReadyBeingFired.reduce(jt,ue);return m.onReadyBeingFired=[],Ie.resolve(Ti(function(){return H(d.vip)})).then(Z)}})}).finally(function(){m.openCanceller===C&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(Z){m.dbOpenError=Z;try{Y&&Y.abort()}catch{}return C===m.openCanceller&&d._close(),kt(Z)}).finally(function(){m.openComplete=!0,G()}).then(function(){var Z;return U&&(Z={},d.tables.forEach(function(H){H.schema.indexes.forEach(function(X){X.name&&(Z["idb://".concat(d.name,"/").concat(H.name,"/").concat(X.name)]=new vn(-1/0,[[[]]]))}),Z["idb://".concat(d.name,"/").concat(H.name,"/")]=Z["idb://".concat(d.name,"/").concat(H.name,"/:dels")]=new vn(-1/0,[[[]]])}),vr(ba).fire(Z),se(Z,!0)),d})}function Ht(d){function m(V){return d.next(V)}var _=j(m),C=j(function(V){return d.throw(V)});function j(V){return function(W){var B=V(W),W=B.value;return B.done?W:W&&typeof W.then=="function"?W.then(_,C):s(W)?Promise.all(W).then(_,C):_(W)}}return j(m)()}function vt(d,m,_){for(var C=s(d)?d.slice():[d],j=0;j<_;++j)C.push(m);return C}var ln={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(m){var _=d.table(m),C=_.schema,j={},V=[];function z(U,Z,H){var X=_r(U),J=j[X]=j[X]||[],Q=U==null?0:typeof U=="string"?1:U.length,ee=0<Z,ee=r(r({},H),{name:ee?"".concat(X,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:ee,keyTail:Z,keyLength:Q,extractKey:Wl(U),unique:!ee&&H.unique});return J.push(ee),ee.isPrimaryKey||V.push(ee),1<Q&&z(Q===2?U[0]:U.slice(0,Q-1),Z+1,H),J.sort(function(le,fe){return le.keyTail-fe.keyTail}),ee}m=z(C.primaryKey.keyPath,0,C.primaryKey),j[":id"]=[m];for(var B=0,W=C.indexes;B<W.length;B++){var G=W[B];z(G.keyPath,0,G)}function Y(U){var Z,H=U.query.index;return H.isVirtual?r(r({},U),{query:{index:H.lowLevelIndex,range:(Z=U.query.range,H=H.keyTail,{type:Z.type===1?2:Z.type,lower:vt(Z.lower,Z.lowerOpen?d.MAX_KEY:d.MIN_KEY,H),lowerOpen:!0,upper:vt(Z.upper,Z.upperOpen?d.MIN_KEY:d.MAX_KEY,H),upperOpen:!0})}}):U}return r(r({},_),{schema:r(r({},C),{primaryKey:m,indexes:V,getIndexByKeyPath:function(U){return(U=j[_r(U)])&&U[0]}}),count:function(U){return _.count(Y(U))},query:function(U){return _.query(Y(U))},openCursor:function(U){var Z=U.query.index,H=Z.keyTail,X=Z.isVirtual,J=Z.keyLength;return X?_.openCursor(Y(U)).then(function(ee){return ee&&Q(ee)}):_.openCursor(U);function Q(ee){return Object.create(ee,{continue:{value:function(le){le!=null?ee.continue(vt(le,U.reverse?d.MAX_KEY:d.MIN_KEY,H)):U.unique?ee.continue(ee.key.slice(0,J).concat(U.reverse?d.MIN_KEY:d.MAX_KEY,H)):ee.continue()}},continuePrimaryKey:{value:function(le,fe){ee.continuePrimaryKey(vt(le,d.MAX_KEY,H),fe)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var le=ee.key;return J===1?le[0]:le.slice(0,J)}},value:{get:function(){return ee.value}}})}}})}})}};function xr(d,m,_,C){return _=_||{},C=C||"",a(d).forEach(function(j){var V,z,B;c(m,j)?(V=d[j],z=m[j],typeof V=="object"&&typeof z=="object"&&V&&z?(B=ie(V))!==ie(z)?_[C+j]=m[j]:B==="Object"?xr(V,z,_,C+j+"."):V!==z&&(_[C+j]=m[j]):V!==z&&(_[C+j]=m[j])):_[C+j]=void 0}),a(m).forEach(function(j){c(d,j)||(_[C+j]=m[j])}),_}function Ii(d,m){return m.type==="delete"?m.keys:m.keys||m.values.map(d.extractKey)}var io={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(m){var _=d.table(m),C=_.schema.primaryKey;return r(r({},_),{mutate:function(j){var V=De.trans,z=V.table(m).hook,B=z.deleting,W=z.creating,G=z.updating;switch(j.type){case"add":if(W.fire===ue)break;return V._promise("readwrite",function(){return Y(j)},!0);case"put":if(W.fire===ue&&G.fire===ue)break;return V._promise("readwrite",function(){return Y(j)},!0);case"delete":if(B.fire===ue)break;return V._promise("readwrite",function(){return Y(j)},!0);case"deleteRange":if(B.fire===ue)break;return V._promise("readwrite",function(){return function U(Z,H,X){return _.query({trans:Z,values:!1,query:{index:C,range:H},limit:X}).then(function(J){var Q=J.result;return Y({type:"delete",keys:Q,trans:Z}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):Q.length<X?{failures:[],numFailures:0,lastResult:void 0}:U(Z,r(r({},H),{lower:Q[Q.length-1],lowerOpen:!0}),X)})})}(j.trans,j.range,1e4)},!0)}return _.mutate(j);function Y(U){var Z,H,X,J=De.trans,Q=U.keys||Ii(C,U);if(!Q)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?r(r({},U),{keys:Q}):r({},U)).type!=="delete"&&(U.values=i([],U.values)),U.keys&&(U.keys=i([],U.keys)),Z=_,X=Q,((H=U).type==="add"?Promise.resolve([]):Z.getMany({trans:H.trans,keys:X,cache:"immutable"})).then(function(ee){var le=Q.map(function(fe,he){var ve,Ae,xe,we=ee[he],Ce={onerror:null,onsuccess:null};return U.type==="delete"?B.fire.call(Ce,fe,we,J):U.type==="add"||we===void 0?(ve=W.fire.call(Ce,fe,U.values[he],J),fe==null&&ve!=null&&(U.keys[he]=fe=ve,C.outbound||x(U.values[he],C.keyPath,fe))):(ve=xr(we,U.values[he]),(Ae=G.fire.call(Ce,ve,fe,we,J))&&(xe=U.values[he],Object.keys(Ae).forEach(function(Oe){c(xe,Oe)?xe[Oe]=Ae[Oe]:x(xe,Oe,Ae[Oe])}))),Ce});return _.mutate(U).then(function(fe){for(var he=fe.failures,ve=fe.results,Ae=fe.numFailures,fe=fe.lastResult,xe=0;xe<Q.length;++xe){var we=(ve||Q)[xe],Ce=le[xe];we==null?Ce.onerror&&Ce.onerror(he[xe]):Ce.onsuccess&&Ce.onsuccess(U.type==="put"&&ee[xe]?U.values[xe]:we)}return{failures:he,results:ve,numFailures:Ae,lastResult:fe}}).catch(function(fe){return le.forEach(function(he){return he.onerror&&he.onerror(fe)}),Promise.reject(fe)})})}}})}})}};function Oi(d,m,_){try{if(!m||m.keys.length<d.length)return null;for(var C=[],j=0,V=0;j<m.keys.length&&V<d.length;++j)it(m.keys[j],d[V])===0&&(C.push(_?L(m.values[j]):m.values[j]),++V);return C.length===d.length?C:null}catch{return null}}var tu={stack:"dbcore",level:-1,create:function(d){return{table:function(m){var _=d.table(m);return r(r({},_),{getMany:function(C){if(!C.cache)return _.getMany(C);var j=Oi(C.keys,C.trans._cache,C.cache==="clone");return j?Ie.resolve(j):_.getMany(C).then(function(V){return C.trans._cache={keys:C.keys,values:C.cache==="clone"?L(V):V},V})},mutate:function(C){return C.type!=="add"&&(C.trans._cache=null),_.mutate(C)}})}}}};function nu(d,m){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function rS(d,m){switch(d){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var yL={stack:"dbcore",level:0,name:"Observability",create:function(d){var m=d.schema.name,_=new vn(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(C,j,V){if(De.subscr&&j!=="readonly")throw new oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(De.querier));return d.transaction(C,j,V)},table:function(C){var j=d.table(C),V=j.schema,z=V.primaryKey,U=V.indexes,B=z.extractKey,W=z.outbound,G=z.autoIncrement&&U.filter(function(H){return H.compound&&H.keyPath.includes(z.keyPath)}),Y=r(r({},j),{mutate:function(H){function X(Oe){return Oe="idb://".concat(m,"/").concat(C,"/").concat(Oe),fe[Oe]||(fe[Oe]=new vn)}var J,Q,ee,le=H.trans,fe=H.mutatedParts||(H.mutatedParts={}),he=X(""),ve=X(":dels"),Ae=H.type,Ce=H.type==="deleteRange"?[H.range]:H.type==="delete"?[H.keys]:H.values.length<50?[Ii(z,H).filter(function(Oe){return Oe}),H.values]:[],xe=Ce[0],we=Ce[1],Ce=H.trans._cache;return s(xe)?(he.addKeys(xe),(Ce=Ae==="delete"||xe.length===we.length?Oi(xe,Ce):null)||ve.addKeys(xe),(Ce||we)&&(J=X,Q=Ce,ee=we,V.indexes.forEach(function(Oe){var ke=J(Oe.name||"");function Ze(Xe){return Xe!=null?Oe.extractKey(Xe):null}function pt(Xe){return Oe.multiEntry&&s(Xe)?Xe.forEach(function(Zt){return ke.addKey(Zt)}):ke.addKey(Xe)}(Q||ee).forEach(function(Xe,Kn){var We=Q&&Ze(Q[Kn]),Kn=ee&&Ze(ee[Kn]);it(We,Kn)!==0&&(We!=null&&pt(We),Kn!=null&&pt(Kn))})}))):xe?(we={from:(we=xe.lower)!==null&&we!==void 0?we:d.MIN_KEY,to:(we=xe.upper)!==null&&we!==void 0?we:d.MAX_KEY},ve.add(we),he.add(we)):(he.add(_),ve.add(_),V.indexes.forEach(function(Oe){return X(Oe.name).add(_)})),j.mutate(H).then(function(Oe){return!xe||H.type!=="add"&&H.type!=="put"||(he.addKeys(Oe.results),G&&G.forEach(function(ke){for(var Ze=H.values.map(function(We){return ke.extractKey(We)}),pt=ke.keyPath.findIndex(function(We){return We===z.keyPath}),Xe=0,Zt=Oe.results.length;Xe<Zt;++Xe)Ze[Xe][pt]=Oe.results[Xe];X(ke.name).addKeys(Ze)})),le.mutatedParts=Pi(le.mutatedParts||{},fe),Oe})}}),U=function(X){var J=X.query,X=J.index,J=J.range;return[X,new vn((X=J.lower)!==null&&X!==void 0?X:d.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:d.MAX_KEY)]},Z={get:function(H){return[z,new vn(H.key)]},getMany:function(H){return[z,new vn().addKeys(H.keys)]},count:U,query:U,openCursor:U};return a(Z).forEach(function(H){Y[H]=function(X){var J=De.subscr,Q=!!J,ee=nu(De,j)&&rS(H,X)?X.obsSet={}:J;if(Q){var le=function(we){return we="idb://".concat(m,"/").concat(C,"/").concat(we),ee[we]||(ee[we]=new vn)},fe=le(""),he=le(":dels"),J=Z[H](X),Q=J[0],J=J[1];if((H==="query"&&Q.isPrimaryKey&&!X.values?he:le(Q.name||"")).add(J),!Q.isPrimaryKey){if(H!=="count"){var ve=H==="query"&&W&&X.values&&j.query(r(r({},X),{values:!1}));return j[H].apply(this,arguments).then(function(we){if(H==="query"){if(W&&X.values)return ve.then(function(Ze){return Ze=Ze.result,fe.addKeys(Ze),we});var Ce=X.values?we.result.map(B):we.result;(X.values?fe:he).addKeys(Ce)}else if(H==="openCursor"){var Oe=we,ke=X.values;return Oe&&Object.create(Oe,{key:{get:function(){return he.addKey(Oe.primaryKey),Oe.key}},primaryKey:{get:function(){var Ze=Oe.primaryKey;return he.addKey(Ze),Ze}},value:{get:function(){return ke&&fe.addKey(Oe.primaryKey),Oe.value}}})}return we})}he.add(_)}}return j[H].apply(this,arguments)}}),Y}})}};function iS(d,m,_){if(_.numFailures===0)return m;if(m.type==="deleteRange")return null;var C=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return _.numFailures===C?null:(m=r({},m),s(m.keys)&&(m.keys=m.keys.filter(function(j,V){return!(V in _.failures)})),"values"in m&&s(m.values)&&(m.values=m.values.filter(function(j,V){return!(V in _.failures)})),m)}function Hv(d,m){return _=d,((C=m).lower===void 0||(C.lowerOpen?0<it(_,C.lower):0<=it(_,C.lower)))&&(d=d,(m=m).upper===void 0||(m.upperOpen?it(d,m.upper)<0:it(d,m.upper)<=0));var _,C}function oS(d,m,Z,C,j,V){if(!Z||Z.length===0)return d;var z=m.query.index,B=z.multiEntry,W=m.query.range,G=C.schema.primaryKey.extractKey,Y=z.extractKey,U=(z.lowLevelIndex||z).extractKey,Z=Z.reduce(function(H,X){var J=H,Q=[];if(X.type==="add"||X.type==="put")for(var ee=new vn,le=X.values.length-1;0<=le;--le){var fe,he=X.values[le],ve=G(he);ee.hasKey(ve)||(fe=Y(he),(B&&s(fe)?fe.some(function(Oe){return Hv(Oe,W)}):Hv(fe,W))&&(ee.addKey(ve),Q.push(he)))}switch(X.type){case"add":var Ae=new vn().addKeys(m.values?H.map(function(ke){return G(ke)}):H),J=H.concat(m.values?Q.filter(function(ke){return ke=G(ke),!Ae.hasKey(ke)&&(Ae.addKey(ke),!0)}):Q.map(function(ke){return G(ke)}).filter(function(ke){return!Ae.hasKey(ke)&&(Ae.addKey(ke),!0)}));break;case"put":var xe=new vn().addKeys(X.values.map(function(ke){return G(ke)}));J=H.filter(function(ke){return!xe.hasKey(m.values?G(ke):ke)}).concat(m.values?Q:Q.map(function(ke){return G(ke)}));break;case"delete":var we=new vn().addKeys(X.keys);J=H.filter(function(ke){return!we.hasKey(m.values?G(ke):ke)});break;case"deleteRange":var Ce=X.range;J=H.filter(function(ke){return!Hv(G(ke),Ce)})}return J},d);return Z===d?d:(Z.sort(function(H,X){return it(U(H),U(X))||it(G(H),G(X))}),m.limit&&m.limit<1/0&&(Z.length>m.limit?Z.length=m.limit:d.length===m.limit&&Z.length<m.limit&&(j.dirty=!0)),V?Object.freeze(Z):Z)}function aS(d,m){return it(d.lower,m.lower)===0&&it(d.upper,m.upper)===0&&!!d.lowerOpen==!!m.lowerOpen&&!!d.upperOpen==!!m.upperOpen}function vL(d,m){return function(_,C,j,V){if(_===void 0)return C!==void 0?-1:0;if(C===void 0)return 1;if((C=it(_,C))===0){if(j&&V)return 0;if(j)return 1;if(V)return-1}return C}(d.lower,m.lower,d.lowerOpen,m.lowerOpen)<=0&&0<=function(_,C,j,V){if(_===void 0)return C!==void 0?1:0;if(C===void 0)return-1;if((C=it(_,C))===0){if(j&&V)return 0;if(j)return-1;if(V)return 1}return C}(d.upper,m.upper,d.upperOpen,m.upperOpen)}function bL(d,m,_,C){d.subscribers.add(_),C.addEventListener("abort",function(){var j,V;d.subscribers.delete(_),d.subscribers.size===0&&(j=d,V=m,setTimeout(function(){j.subscribers.size===0&&ne(V,j)},3e3))})}var _L={stack:"dbcore",level:0,name:"Cache",create:function(d){var m=d.schema.name;return r(r({},d),{transaction:function(_,C,j){var V,z,B=d.transaction(_,C,j);return C==="readwrite"&&(z=(V=new AbortController).signal,j=function(W){return function(){if(V.abort(),C==="readwrite"){for(var G=new Set,Y=0,U=_;Y<U.length;Y++){var Z=U[Y],H=E["idb://".concat(m,"/").concat(Z)];if(H){var X=d.table(Z),J=H.optimisticOps.filter(function(ke){return ke.trans===B});if(B._explicit&&W&&B.mutatedParts)for(var Q=0,ee=Object.values(H.queries.query);Q<ee.length;Q++)for(var le=0,fe=(Ae=ee[Q]).slice();le<fe.length;le++)h((xe=fe[le]).obsSet,B.mutatedParts)&&(ne(Ae,xe),xe.subscribers.forEach(function(ke){return G.add(ke)}));else if(0<J.length){H.optimisticOps=H.optimisticOps.filter(function(ke){return ke.trans!==B});for(var he=0,ve=Object.values(H.queries.query);he<ve.length;he++)for(var Ae,xe,we,Ce=0,Oe=(Ae=ve[he]).slice();Ce<Oe.length;Ce++)(xe=Oe[Ce]).res!=null&&B.mutatedParts&&(W&&!xe.dirty?(we=Object.isFrozen(xe.res),we=oS(xe.res,xe.req,J,X,xe,we),xe.dirty?(ne(Ae,xe),xe.subscribers.forEach(function(ke){return G.add(ke)})):we!==xe.res&&(xe.res=we,xe.promise=Ie.resolve({result:we}))):(xe.dirty&&ne(Ae,xe),xe.subscribers.forEach(function(ke){return G.add(ke)})))}}}G.forEach(function(ke){return ke()})}}},B.addEventListener("abort",j(!1),{signal:z}),B.addEventListener("error",j(!1),{signal:z}),B.addEventListener("complete",j(!0),{signal:z})),B},table:function(_){var C=d.table(_),j=C.schema.primaryKey;return r(r({},C),{mutate:function(V){var z=De.trans;if(j.outbound||z.db._options.cache==="disabled"||z.explicit||z.idbtrans.mode!=="readwrite")return C.mutate(V);var B=E["idb://".concat(m,"/").concat(_)];return B?(z=C.mutate(V),V.type!=="add"&&V.type!=="put"||!(50<=V.values.length||Ii(j,V).some(function(W){return W==null}))?(B.optimisticOps.push(V),V.mutatedParts&&te(V.mutatedParts),z.then(function(W){0<W.numFailures&&(ne(B.optimisticOps,V),(W=iS(0,V,W))&&B.optimisticOps.push(W),V.mutatedParts&&te(V.mutatedParts))}),z.catch(function(){ne(B.optimisticOps,V),V.mutatedParts&&te(V.mutatedParts)})):z.then(function(W){var G=iS(0,r(r({},V),{values:V.values.map(function(Y,U){var Z;return W.failures[U]?Y:(Y=(Z=j.keyPath)!==null&&Z!==void 0&&Z.includes(".")?L(Y):r({},Y),x(Y,j.keyPath,W.results[U]),Y)})}),W);B.optimisticOps.push(G),queueMicrotask(function(){return V.mutatedParts&&te(V.mutatedParts)})}),z):C.mutate(V)},query:function(V){if(!nu(De,C)||!rS("query",V))return C.query(V);var z=((G=De.trans)===null||G===void 0?void 0:G.db._options.cache)==="immutable",U=De,B=U.requery,W=U.signal,G=function(X,J,Q,ee){var le=E["idb://".concat(X,"/").concat(J)];if(!le)return[];if(!(J=le.queries[Q]))return[null,!1,le,null];var fe=J[(ee.query?ee.query.index.name:null)||""];if(!fe)return[null,!1,le,null];switch(Q){case"query":var he=fe.find(function(ve){return ve.req.limit===ee.limit&&ve.req.values===ee.values&&aS(ve.req.query.range,ee.query.range)});return he?[he,!0,le,fe]:[fe.find(function(ve){return("limit"in ve.req?ve.req.limit:1/0)>=ee.limit&&(!ee.values||ve.req.values)&&vL(ve.req.query.range,ee.query.range)}),!1,le,fe];case"count":return he=fe.find(function(ve){return aS(ve.req.query.range,ee.query.range)}),[he,!!he,le,fe]}}(m,_,"query",V),Y=G[0],U=G[1],Z=G[2],H=G[3];return Y&&U?Y.obsSet=V.obsSet:(U=C.query(V).then(function(X){var J=X.result;if(Y&&(Y.res=J),z){for(var Q=0,ee=J.length;Q<ee;++Q)Object.freeze(J[Q]);Object.freeze(J)}else X.result=L(J);return X}).catch(function(X){return H&&Y&&ne(H,Y),Promise.reject(X)}),Y={obsSet:V.obsSet,promise:U,subscribers:new Set,type:"query",req:V,dirty:!1},H?H.push(Y):(H=[Y],(Z=Z||(E["idb://".concat(m,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[V.query.index.name||""]=H)),bL(Y,H,B,W),Y.promise.then(function(X){return{result:oS(X.result,V,Z==null?void 0:Z.optimisticOps,C,Y,z)}})}})}})}};function fp(d,m){return new Proxy(d,{get:function(_,C,j){return C==="db"?m:Reflect.get(_,C,j)}})}var jo=(rn.prototype.version=function(d){if(isNaN(d)||d<.1)throw new oe.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var m=this._versions,_=m.filter(function(C){return C._cfg.version===d})[0];return _||(_=new this.Version(d),m.push(_),m.sort(Gl),_.stores({}),this._state.autoSchema=!1,_)},rn.prototype._whenReady=function(d){var m=this;return this.idbdb&&(this._state.openComplete||De.letThrough||this._vip)?d():new Ie(function(_,C){if(m._state.openComplete)return C(new oe.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void C(new oe.DatabaseClosed);m.open().catch(ue)}m._state.dbReadyPromise.then(_,C)}).then(d)},rn.prototype.use=function(d){var m=d.stack,_=d.create,C=d.level,j=d.name;return j&&this.unuse({stack:m,name:j}),d=this._middlewares[m]||(this._middlewares[m]=[]),d.push({stack:m,create:_,level:C??10,name:j}),d.sort(function(V,z){return V.level-z.level}),this},rn.prototype.unuse=function(d){var m=d.stack,_=d.name,C=d.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(j){return C?j.create!==C:!!_&&j.name!==_})),this},rn.prototype.open=function(){var d=this;return Zr(Yr,function(){return Je(d)})},rn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,m=Oo.indexOf(this);if(0<=m&&Oo.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Ie(function(_){d.dbReadyResolve=_}),d.openCanceller=new Ie(function(_,C){d.cancelOpen=C}))},rn.prototype.close=function(_){var m=(_===void 0?{disableAutoOpen:!0}:_).disableAutoOpen,_=this._state;m?(_.isBeingOpened&&_.cancelOpen(new oe.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new oe.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},rn.prototype.delete=function(d){var m=this;d===void 0&&(d={disableAutoOpen:!0});var _=0<arguments.length&&typeof arguments[0]!="object",C=this._state;return new Ie(function(j,V){function z(){m.close(d);var B=m._deps.indexedDB.deleteDatabase(m.name);B.onsuccess=Ct(function(){var W,G,Y;W=m._deps,G=m.name,Y=W.indexedDB,W=W.IDBKeyRange,Zl(Y)||G===Ns||Jl(Y,W).delete(G).catch(ue),j()}),B.onerror=yr(V),B.onblocked=m._fireOnBlocked}if(_)throw new oe.InvalidArgument("Invalid closeOptions argument to db.delete()");C.isBeingOpened?C.dbReadyPromise.then(z):z()})},rn.prototype.backendDB=function(){return this.idbdb},rn.prototype.isOpen=function(){return this.idbdb!==null},rn.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},rn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},rn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rn.prototype,"tables",{get:function(){var d=this;return a(this._allTables).map(function(m){return d._allTables[m]})},enumerable:!1,configurable:!0}),rn.prototype.transaction=function(){var d=(function(m,_,C){var j=arguments.length;if(j<2)throw new oe.InvalidArgument("Too few arguments");for(var V=new Array(j-1);--j;)V[j-1]=arguments[j];return C=V.pop(),[m,M(V),C]}).apply(this,arguments);return this._transaction.apply(this,d)},rn.prototype._transaction=function(d,m,_){var C=this,j=De.trans;j&&j.db===this&&d.indexOf("!")===-1||(j=null);var V,z,B=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(z=m.map(function(G){if(G=G instanceof C.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),d=="r"||d===Ul)V=Ul;else{if(d!="rw"&&d!=js)throw new oe.InvalidArgument("Invalid transaction mode: "+d);V=js}if(j){if(j.mode===Ul&&V===js){if(!B)throw new oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&z.forEach(function(G){if(j&&j.storeNames.indexOf(G)===-1){if(!B)throw new oe.SubTransaction("Table "+G+" not included in parent transaction.");j=null}}),B&&j&&!j.active&&(j=null)}}catch(G){return j?j._promise(null,function(Y,U){U(G)}):kt(G)}var W=(function G(Y,U,Z,H,X){return Ie.resolve().then(function(){var J=De.transless||De,Q=Y._createTransaction(U,Z,Y._dbSchema,H);if(Q.explicit=!0,J={trans:Q,transless:J},H)Q.idbtrans=H.idbtrans;else try{Q.create(),Q.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(fe){return fe.name===Pe.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return G(Y,U,Z,null,X)})):kt(fe)}var ee,le=Te(X);return le&&Ji(),J=Ie.follow(function(){var fe;(ee=X.call(Q,Q))&&(le?(fe=Jr.bind(null,null),ee.then(fe,fe)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=Ht(ee)))},J),(ee&&typeof ee.then=="function"?Ie.resolve(ee).then(function(fe){return Q.active?fe:kt(new oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return ee})).then(function(fe){return H&&Q._resolve(),Q._completion.then(function(){return fe})}).catch(function(fe){return Q._reject(fe),kt(fe)})})}).bind(null,this,V,z,j,_);return j?j._promise(V,W,"lock"):De.trans?Zr(De.transless,function(){return C._whenReady(W)}):this._whenReady(W)},rn.prototype.table=function(d){if(!c(this._allTables,d))throw new oe.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},rn);function rn(d,m){var _=this;this._middlewares={},this.verno=0;var C=rn.dependencies;this._options=m=r({addons:rn.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},C=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var j,V,z,B,W,G={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ue,dbReadyPromise:null,cancelOpen:ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};G.dbReadyPromise=new Ie(function(U){G.dbReadyResolve=U}),G.openCanceller=new Ie(function(U,Z){G.cancelOpen=Z}),this._state=G,this.name=d,this.on=_t(this,"populate","blocked","versionchange","close",{ready:[jt,ue]}),this.once=function(U,Z){var H=function(){for(var X=[],J=0;J<arguments.length;J++)X[J]=arguments[J];_.on(U).unsubscribe(H),Z.apply(_,X)};return _.on(U,H)},this.on.ready.subscribe=P(this.on.ready.subscribe,function(U){return function(Z,H){rn.vip(function(){var X,J=_._state;J.openComplete?(J.dbOpenError||Ie.resolve().then(Z),H&&U(Z)):J.onReadyBeingFired?(J.onReadyBeingFired.push(Z),H&&U(Z)):(U(Z),X=_,H||U(function Q(){X.on.ready.unsubscribe(Z),X.on.ready.unsubscribe(Q)}))})}}),this.Collection=(j=this,eo(ko.prototype,function(ee,Q){this.db=j;var H=uf,X=null;if(Q)try{H=Q()}catch(le){X=le}var J=ee._ctx,Q=J.table,ee=Q.hook.reading.fire;this._ctx={table:Q,index:J.index,isPrimKey:!J.index||Q.schema.primKey.keyPath&&J.index===Q.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:X,or:J.or,valueMapper:ee!==ct?ee:null}})),this.Table=(V=this,eo(ya.prototype,function(U,Z,H){this.db=V,this._tx=H,this.name=U,this.schema=Z,this.hook=V._allTables[U]?V._allTables[U].hook:_t(null,{creating:[Et,ue],reading:[tt,ct],updating:[sr,ue],deleting:[Jt,ue]})})),this.Transaction=(z=this,eo(ap.prototype,function(U,Z,H,X,J){var Q=this;U!=="readonly"&&Z.forEach(function(ee){ee=(ee=H[ee])===null||ee===void 0?void 0:ee.yProps,ee&&(Z=Z.concat(ee.map(function(le){return le.updatesTable})))}),this.db=z,this.mode=U,this.storeNames=Z,this.schema=H,this.chromeTransactionDurability=X,this.idbtrans=null,this.on=_t(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ie(function(ee,le){Q._resolve=ee,Q._reject=le}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function(ee){var le=Q.active;return Q.active=!1,Q.on.error.fire(ee),Q.parent?Q.parent._reject(ee):le&&Q.idbtrans&&Q.idbtrans.abort(),kt(ee)})})),this.Version=(B=this,eo(cp.prototype,function(U){this.db=B,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(W=this,eo(Si.prototype,function(U,Z,H){if(this.db=W,this._ctx={table:U,index:Z===":id"?null:Z,or:H},this._cmp=this._ascending=it,this._descending=function(X,J){return it(J,X)},this._max=function(X,J){return 0<it(X,J)?X:J},this._min=function(X,J){return it(X,J)<0?X:J},this._IDBKeyRange=W._deps.IDBKeyRange,!this._IDBKeyRange)throw new oe.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(_.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(_.name,"'. Closing db now to resume the delete request.")),_.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(_.name,"') was blocked")):console.warn("Upgrade '".concat(_.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=_a(m.IDBKeyRange),this._createTransaction=function(U,Z,H,X){return new _.Transaction(U,Z,H,_._options.chromeTransactionDurability,X)},this._fireOnBlocked=function(U){_.on("blocked").fire(U),Oo.filter(function(Z){return Z.name===_.name&&Z!==_&&!Z._state.vcFired}).map(function(Z){return Z.on("versionchange").fire(U)})},this.use(tu),this.use(_L),this.use(yL),this.use(ln),this.use(io);var Y=new Proxy(this,{get:function(U,Z,H){if(Z==="_vip")return!0;if(Z==="table")return function(J){return fp(_.table(J),Y)};var X=Reflect.get(U,Z,H);return X instanceof ya?fp(X,Y):Z==="tables"?X.map(function(J){return fp(J,Y)}):Z==="_createTransaction"?function(){return fp(X.apply(this,arguments),Y)}:X}});this.vip=Y,C.forEach(function(U){return U(_)})}var hp,ti=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xL=(Gv.prototype.subscribe=function(d,m,_){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:m,complete:_})},Gv.prototype[ti]=function(){return this},Gv);function Gv(d){this._subscribe=d}try{hp={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{hp={indexedDB:null,IDBKeyRange:null}}function sS(d){var m,_=!1,C=new xL(function(j){var V=Te(d),z,B=!1,W={},G={},Y={get closed(){return B},unsubscribe:function(){B||(B=!0,z&&z.abort(),U&&vr.storagemutated.unsubscribe(H))}};j.start&&j.start(Y);var U=!1,Z=function(){return ks(X)},H=function(J){Pi(W,J),h(G,W)&&Z()},X=function(){var J,Q,ee;!B&&hp.indexedDB&&(W={},J={},z&&z.abort(),z=new AbortController,ee=function(le){var fe=jr();try{V&&Ji();var he=_i(d,le);return he=V?he.finally(Jr):he}finally{fe&&ga()}}(Q={subscr:J,signal:z.signal,requery:Z,querier:d,trans:null}),Promise.resolve(ee).then(function(le){_=!0,m=le,B||Q.signal.aborted||(W={},function(fe){for(var he in fe)if(c(fe,he))return;return 1}(G=J)||U||(vr(ba,H),U=!0),ks(function(){return!B&&j.next&&j.next(le)}))},function(le){_=!1,["DatabaseClosedError","AbortError"].includes(le==null?void 0:le.name)||B||ks(function(){B||j.error&&j.error(le)})}))};return setTimeout(Z,0),Y});return C.hasValue=function(){return _},C.getValue=function(){return m},C}var Bs=jo;function Xv(d){var m=Aa;try{Aa=!0,vr.storagemutated.fire(d),se(d,!0)}finally{Aa=m}}p(Bs,r(r({},Fe),{delete:function(d){return new Bs(d,{addons:[]}).delete()},exists:function(d){return new Bs(d,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return m=Bs.dependencies,_=m.indexedDB,m=m.IDBKeyRange,(Zl(_)?Promise.resolve(_.databases()).then(function(C){return C.map(function(j){return j.name}).filter(function(j){return j!==Ns})}):Jl(_,m).toCollection().primaryKeys()).then(d)}catch{return kt(new oe.MissingAPI)}var m,_},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return De.trans?Zr(De.transless,d):d()},vip:Ti,async:function(d){return function(){try{var m=Ht(d.apply(this,arguments));return m&&typeof m.then=="function"?m:Ie.resolve(m)}catch(_){return kt(_)}}},spawn:function(d,m,_){try{var C=Ht(d.apply(_,m||[]));return C&&typeof C.then=="function"?C:Ie.resolve(C)}catch(j){return kt(j)}},currentTransaction:{get:function(){return De.trans||null}},waitFor:function(d,m){return m=Ie.resolve(typeof d=="function"?Bs.ignoreTransaction(d):d).timeout(m||6e4),De.trans?De.trans.waitFor(m):m},Promise:Ie,debug:{get:function(){return Qe},set:function(d){qt(d)}},derive:v,extend:l,props:p,override:P,Events:_t,on:vr,liveQuery:sS,extendObservabilitySet:Pi,getByKeyPath:O,setByKeyPath:x,delByKeyPath:function(d,m){typeof m=="string"?x(d,m,void 0):"length"in m&&[].map.call(m,function(_){x(d,_,void 0)})},shallowClone:T,deepClone:L,getObjectDiff:xr,cmp:it,asap:I,minKey:-1/0,addons:[],connections:Oo,errnames:Pe,dependencies:hp,cache:E,semVer:"4.2.0",version:"4.2.0".split(".").map(function(d){return parseInt(d)}).reduce(function(d,m,_){return d+m/Math.pow(10,2*_)})})),Bs.maxKey=_a(Bs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(vr(ba,function(d){Aa||(d=new CustomEvent(No,{detail:d}),Aa=!0,dispatchEvent(d),Aa=!1)}),addEventListener(No,function(d){d=d.detail,Aa||Xv(d)}));var ru,Aa=!1,lS=function(){};return typeof BroadcastChannel<"u"&&((lS=function(){(ru=new BroadcastChannel(No)).onmessage=function(d){return d.data&&Xv(d.data)}})(),typeof ru.unref=="function"&&ru.unref(),vr(ba,function(d){Aa||ru.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!jo.disableBfCache&&d.persisted){Qe&&console.debug("Dexie: handling persisted pagehide"),ru!=null&&ru.close();for(var m=0,_=Oo;m<_.length;m++)_[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!jo.disableBfCache&&d.persisted&&(Qe&&console.debug("Dexie: handling persisted pageshow"),lS(),Xv({all:new vn(-1/0,[[]])}))})),Ie.rejectionMapper=function(d,m){return!d||d instanceof Re||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Ve[d.name]?d:(m=new Ve[d.name](m||d.message,d),"stack"in d&&b(m,"stack",{get:function(){return this.inner.stack}}),m)},qt(Qe),r(jo,Object.freeze({__proto__:null,Dexie:jo,liveQuery:sS,Entity:cf,cmp:it,PropModification:Ms,replacePrefix:function(d,m){return new Ms({replacePrefix:[d,m]})},add:function(d){return new Ms({add:d})},remove:function(d){return new Ms({remove:d})},default:jo,RangeSet:vn,mergeRanges:Sa,rangesOverlap:zs}),{default:jo}),jo})})(hL);var qme=hL.exports;const rw=It(qme),z2=Symbol.for("Dexie"),py=globalThis[z2]||(globalThis[z2]=rw);if(rw.semVer!==py.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${rw.semVer} and ${py.semVer}`);const{liveQuery:Tge,mergeRanges:Pge,rangesOverlap:Ige,RangeSet:Oge,cmp:Cge,Entity:kge,PropModification:Nge,replacePrefix:jge,add:Rge,remove:Dge,DexieYProvider:Mge}=py;class Kme extends py{constructor(){super("LactoKeeperDB_v2");vf(this,"animals");vf(this,"fathers");vf(this,"parturitions");vf(this,"weighings");this.version(1).stores({animals:"&id, motherId, fatherId, parturitionId, status",fathers:"&id",parturitions:"++id, goatId, sireId, status, firestoreId",weighings:"++id, goatId, date"})}}const wr=new Kme,dL=q.createContext({animals:[],fathers:[],weighings:[],parturitions:[],isLoading:!0,addWeighing:async()=>{},addParturition:async()=>{},updateWeighing:async()=>{},deleteWeighing:async()=>{},startDryingProcess:async()=>{},setLactationAsDry:async()=>{},fetchData:async()=>{},addFather:async()=>{}}),bi=()=>q.useContext(dL),Wme=({children:t})=>{const{currentUser:e}=OR(),[n,r]=q.useState([]),[i,o]=q.useState([]),[a,s]=q.useState([]),[l,u]=q.useState([]),[f,c]=q.useState(!0),p=q.useCallback(async()=>{try{const[x,T,k,M]=await Promise.all([wr.animals.toArray(),wr.fathers.toArray(),wr.weighings.toArray(),wr.parturitions.toArray()]);r(x),o(T),s(k),u(M)}catch(x){console.error("Error al cargar datos locales:",x)}finally{c(!1)}},[]);q.useEffect(()=>{if(!e){c(!1),Promise.all([wr.animals.clear(),wr.fathers.clear(),wr.weighings.clear(),wr.parturitions.clear()]).then(()=>{r([]),o([]),s([]),u([])});return}const x=L=>r9(Wf(Mo,L),i9("userId","==",e.uid)),T=(L,re)=>c9(x(L),async ie=>{const ce=ie.docs.map(pe=>({...pe.data(),firestoreId:pe.id}));await re.bulkPut(ce),p()},ie=>console.error(`Error sincronizando ${L}:`,ie)),k=T("animals",wr.animals),M=T("fathers",wr.fathers),R=T("parturitions",wr.parturitions),$=T("weighings",wr.weighings);return()=>{k(),M(),R(),$()}},[e,p]);const y=async(x,T)=>{if(!e)throw new Error("Usuario no autenticado");await u9(Wf(Mo,x),{...T,userId:e.uid})},b=async x=>y("weighings",x),v=async x=>y("fathers",x),w=async x=>{if(!e)throw new Error("Usuario no autenticado");const T=TR(Mo),k=Pu(Wf(Mo,"parturitions"));T.set(k,{goatId:x.motherId,parturitionDate:x.parturitionDate,sireId:x.sireId,offspringCount:x.offspring.length,parturitionType:x.parturitionType,status:"activa",userId:e.uid}),x.offspring.forEach(M=>{const R=Pu(Wf(Mo,"animals"));T.set(R,{id:M.id,sex:M.sex,status:M.sex==="Macho"?"Descartado":"Activo",birthDate:x.parturitionDate,motherId:x.motherId,fatherId:x.sireId,birthWeight:parseFloat(M.birthWeight),userId:e.uid})}),await T.commit()},S=async(x,T,k)=>{if(!e)throw new Error("Usuario no autenticado");const M=Pu(Mo,x,T);await s9(M,k)},A=async(x,T)=>{if(!e)throw new Error("Usuario no autenticado");const k=Pu(Mo,x,T);await l9(k)},P=async(x,T)=>S("weighings",x,{kg:T}),D=async x=>A("weighings",x),I=async x=>S("parturitions",x,{status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0]}),O=async x=>S("parturitions",x,{status:"seca"});return g.jsx(dL.Provider,{value:{animals:n,fathers:i,weighings:a,parturitions:l,isLoading:f,addWeighing:b,addParturition:w,updateWeighing:P,deleteWeighing:D,startDryingProcess:I,setLactationAsDry:O,fetchData:p,addFather:v},children:t})},rf=(t,e)=>{const n=new Date(t),r=new Date(e);if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),o=Math.ceil(i/(1e3*60*60*24));return Math.max(0,o)},Hme=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},iw=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebao";return"range"in e[0].payload?g.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[g.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),g.jsxs("p",{className:"font-bold text-base",children:["N de Cabras: ",e[0].value]})]}):g.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[g.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Das en Leche (DEL): ${n}`:`DEL: ${n}`}),g.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Produccin: ${e[0].value.toFixed(2)} Kg`})]})}return null},ir=({isOpen:t,onClose:e,title:n,children:r})=>t?g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in",onClick:e,children:g.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700/80 rounded-2xl shadow-2xl w-full max-w-md m-4 text-white transform transition-all animate-slide-up",onClick:i=>i.stopPropagation(),children:[g.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-zinc-800/80",children:[g.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),g.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:g.jsx(X1,{size:20})})]}),g.jsx("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:r})]})}):null;function B2({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=bi(),[o,a]=q.useState("current"),[s,l]=q.useState(!1),[u,f]=q.useState(!1),c=q.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let p=0;if(n.length>0){const O=n.reduce((x,T)=>T.date>x?T.date:x,n[0].date);p=new Set(n.filter(x=>x.date===O).map(x=>x.goatId)).size}let y=n;if(o==="current"){const O=new Set(r.filter(x=>x.status==="activa").map(x=>x.goatId));y=n.filter(x=>O.has(x.goatId))}const b={};y.forEach(O=>{const x=r.filter(k=>k.goatId===O.goatId&&new Date(O.date)>=new Date(k.parturitionDate)).sort((k,M)=>new Date(M.parturitionDate).getTime()-new Date(k.parturitionDate).getTime())[0];if(!x)return;const T=rf(x.parturitionDate,O.date);b[T]||(b[T]={totalKg:0,count:0}),b[T].totalKg+=O.kg,b[T].count++});const v=Object.entries(b).map(([O,x])=>({del:parseInt(O),kg:x.totalKg/x.count,name:"Promedio Rebao"})).sort((O,x)=>O.del-x.del),w=e.map(O=>{const x=n.filter(k=>k.goatId===O.id);return x.length===0?null:{avg:x.reduce((k,M)=>k+M.kg,0)/x.length}}).filter(Boolean),S=w.length>0?w.reduce((O,x)=>O+x.avg,0)/w.length:0,A=w.length>0?Math.sqrt(w.reduce((O,x)=>O+Math.pow(x.avg-S,2),0)/w.length):0,P=[];if(w.length>0){const O=Math.floor(Math.min(...w.map(T=>T.avg))*4)/4,x=Math.ceil(Math.max(...w.map(T=>T.avg))*4)/4;for(let T=O;T<=x;T+=.25){const k=T,M=T+.25,R=w.filter($=>$.avg>=k&&$.avg<M).length;R>0&&P.push({range:`${k.toFixed(2)}`,count:R})}}const D={distribution:P,mean:S,stdDev:A};return{herdAverage:n.length>0?n.reduce((O,x)=>O+x.kg,0)/n.length:0,activeGoats:p,herdLactationCurve:v,gaussData:D}},[e,n,r,i,o]);return i?g.jsx("div",{className:"text-center p-10",children:g.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebao..."})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[g.jsxs("header",{className:"text-center pt-8 pb-4",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Dashboard"}),g.jsx("p",{className:"text-xl text-zinc-400",children:"Rebao Masparrito"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[g.jsx(Bd,{}),g.jsx("span",{children:"Promedio Global"})]}),g.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[c.herdAverage.toFixed(2)," ",g.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),g.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[g.jsx(U9,{}),g.jsx("span",{children:"Animales en Ordeo"})]}),g.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:c.activeGoats})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[g.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[g.jsx("path",{d:"M12 2v4"}),g.jsx("path",{d:"m16.2 7.8 2.9-2.9"}),g.jsx("path",{d:"M20 12h4"}),g.jsx("path",{d:"m16.2 16.2 2.9 2.9"}),g.jsx("path",{d:"M12 20v4"}),g.jsx("path",{d:"m7.8 16.2-2.9 2.9"}),g.jsx("path",{d:"M4 12H0"}),g.jsx("path",{d:"m7.8 7.8-2.9-2.9"}),g.jsx("circle",{cx:"12",cy:"12",r:"4"})]}),g.jsx("span",{children:"Produccin Promedio"}),g.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:g.jsx(hg,{size:14})})]}),g.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[g.jsx("button",{onClick:()=>a("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${o==="current"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),g.jsx("button",{onClick:()=>a("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${o==="historical"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histrico"})]})]}),g.jsx("div",{className:"w-full h-48",children:g.jsx($i,{children:g.jsxs(Ume,{data:c.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"weatherGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#F59E0B",stopOpacity:.7}),g.jsx("stop",{offset:"60%",stopColor:"#10B981",stopOpacity:.2}),g.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.1})]})}),g.jsx(nr,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),g.jsx(fn,{content:g.jsx(iw,{})}),g.jsx(Ss,{type:"monotone",dataKey:"kg",stroke:"#FBBF24",strokeWidth:2.5,fill:"url(#weatherGradient)"})]})})})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[g.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[g.jsx(NR,{}),g.jsx("span",{children:"Distribucin del Rebao"}),g.jsx("button",{onClick:()=>f(!0),className:"text-zinc-500 hover:text-white transition-colors",children:g.jsx(hg,{size:14})})]})}),g.jsx("div",{className:"w-full h-48",children:g.jsx($i,{children:g.jsxs(Ko,{data:c.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[g.jsx(zv,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),g.jsx(nr,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),g.jsx(fn,{content:g.jsx(iw,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),g.jsx(hr,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"N de Cabras"}),g.jsx(Mv,{x:c.gaussData.mean.toFixed(2),stroke:"#34d399",strokeWidth:2,label:{value:"",fill:"#34d399",position:"insideTopLeft"}})]})})})]})]}),g.jsx(ir,{isOpen:s,onClose:()=>l(!1),title:"Qu es la Curva de Lactancia del Rebao?",children:g.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[g.jsx("p",{children:'Este grfico revela la **"personalidad productiva"** de tu rebao. No es un promedio simple, sino una lnea de tiempo del rendimiento promedio.'}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-white mb-1",children:"Cmo se Calcula?"}),g.jsx("p",{className:"text-sm",children:'Para cada "Da en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese da de su ciclo y calcula el promedio.'}),g.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[g.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su da 50 de lactancia.']})]}),g.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: Cundo ocurre el pico de produccin del rebao? y Qu tan persistente es la lactancia despus del pico?"})]})}),g.jsx(ir,{isOpen:u,onClose:()=>f(!1),title:"Qu es la Distribucin del Rebao?",children:g.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[g.jsx("p",{children:"Este grfico, conocido como Campana de Gauss o distribucin normal, clasifica el rendimiento promedio de cada animal en el rebao."}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media ()"}),g.jsx("p",{className:"text-sm",children:"La lnea verde marcada como **** representa el **promedio de produccin de todo el rebao**. Es el punto de referencia central."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),g.jsx("p",{className:"text-sm",children:"Cada barra muestra cuntos animales caen dentro de un rango especfico de produccin. Una barra alta en el centro (cerca de ) indica que la mayora de tu rebao tiene un rendimiento promedio y consistente."})]}),g.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rpidamente a los animales de lite (extremo derecho) y a los que podran necesitar atencin (extremo izquierdo)."})]})})]})}const Gme=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=q.useState(""),[o,a]=q.useState(""),[s,l]=q.useState(""),{fathers:u}=bi(),f=()=>{l("");const c=r.trim().toUpperCase(),p=o.trim();if(!c||!p){l("Ambos campos son obligatorios.");return}if(u.some(y=>y.id===c)){l("Este ID ya est en uso. Por favor, elige otro.");return}n({id:c,name:p}),i(""),a("")};return g.jsx(ir,{isOpen:t,onClose:e,title:"Aadir Nuevo Padre",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID nico y el nombre del nuevo semental."}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"}),g.jsx("input",{type:"text",value:o,onChange:c=>a(c.target.value),placeholder:"Nombre del Padre (ej. Sansn)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"})]}),s&&g.jsx("p",{className:"text-sm text-red-400",children:s}),g.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[g.jsx("button",{onClick:e,className:"px-4 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500",children:"Cancelar"}),g.jsx("button",{onClick:f,className:"px-4 py-2 bg-brand-amber text-black font-bold rounded-lg hover:bg-yellow-500",children:"Guardar Padre"})]})]})})},U2=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cudruple"},{count:5,name:"Quntuple"}],Xme=({value:t,onChange:e})=>g.jsxs("div",{className:"flex bg-zinc-800/80 rounded-xl p-1 w-full",children:[g.jsx("button",{type:"button",onClick:()=>e("Hembra"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Hembra"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Hembra"}),g.jsx("button",{type:"button",onClick:()=>e("Macho"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Macho"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Macho"})]}),Qp=t=>g.jsx("input",{...t,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),Yme=t=>g.jsx("select",{...t,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none"}),pL=({motherId:t,onSaveSuccess:e,onCancel:n})=>{const{fathers:r,addParturition:i,addFather:o}=bi(),[a,s]=q.useState(t||""),[l,u]=q.useState(new Date().toISOString().split("T")[0]),[f,c]=q.useState(""),[p,y]=q.useState(1),[b,v]=q.useState([]),[w,S]=q.useState(null),[A,P]=q.useState(!1),[D,I]=q.useState(!1);q.useEffect(()=>{v($=>{const L=[...$];for(;L.length<p;)L.push({sex:"Hembra",correlative:"",birthWeight:""});return L.slice(0,p)})},[p]);const O=($,L,re)=>{const ie=[...b];ie[$]={...ie[$],[L]:re},v(ie)},x=async $=>{var re;$.preventDefault(),S(null);const L=b.every(ie=>ie.correlative&&ie.birthWeight);if(!a||!l||!f||!L){S({type:"error",text:"Por favor, completa todos los campos requeridos."});return}try{const ie=r.find(pe=>pe.id===f),ce=b.map(pe=>{const ne=pe.sex==="Macho"?"X":ie.name.charAt(0).toUpperCase();return{...pe,id:`${ne}${pe.correlative}`}});await i({motherId:a.toUpperCase(),parturitionDate:l,sireId:f,parturitionType:(re=U2.find(pe=>pe.count===p))==null?void 0:re.name,offspring:ce}),S({type:"success",text:"Parto y cras registrados con xito."}),setTimeout(()=>{e()},1500)}catch(ie){S({type:"error",text:"Error al registrar el parto."}),console.error(ie)}},T=$=>{const L=r.find(ie=>ie.id===f);return!$.correlative||!L?"ID se genera aqu":`${$.sex==="Macho"?"X":L.name.charAt(0).toUpperCase()}${$.correlative}`},k=async $=>{await o($),c($.id),P(!1)},M=q.useMemo(()=>{var $;return($=r.find(L=>L.id===f))==null?void 0:$.name},[f,r]),R=$=>{c($),I(!1)};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:x,className:"space-y-6",children:[g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[g.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2",children:[g.jsx(K9,{size:20})," Datos del Parto"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Qp,{type:"text",value:a,onChange:$=>s($.target.value),placeholder:"ID de la Madre",required:!0,disabled:!0}),g.jsx(Qp,{type:"date",value:l,onChange:$=>u($.target.value),required:!0}),g.jsxs("div",{className:"relative md:col-span-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>I(!D),className:"w-full flex justify-between items-center text-left bg-zinc-800/80 text-white p-3 rounded-xl",children:[g.jsx("span",{className:M?"text-white":"text-zinc-400",children:M||"Seleccione el Padre"}),g.jsx(S9,{className:`transition-transform ${D?"rotate-180":""}`,size:20})]}),g.jsx("button",{type:"button",onClick:()=>P(!0),className:"h-full aspect-square flex-shrink-0 bg-indigo-600/80 text-white rounded-xl flex items-center justify-center hover:bg-indigo-500","aria-label":"Aadir nuevo padre",children:g.jsx(D9,{size:20})})]}),D&&g.jsx("div",{className:"absolute z-20 top-full mt-2 w-full bg-zinc-800 border border-zinc-700 rounded-xl max-h-48 overflow-y-auto",children:r.map($=>g.jsx("button",{type:"button",onClick:()=>R($.id),className:"w-full text-left p-3 hover:bg-zinc-700",children:$.name},$.id))})]}),g.jsx(Yme,{value:p,onChange:$=>y(Number($.target.value)),required:!0,children:U2.map($=>g.jsxs("option",{value:$.count,children:["Parto ",$.name," (",$.count,")"]},$.count))})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2 ml-1",children:[g.jsx(G1,{size:20})," Registro de Cras"]}),b.map(($,L)=>g.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-800/50 space-y-4",children:[g.jsxs("p",{className:"font-semibold text-brand-amber",children:["Cra ",L+1]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[g.jsx(Xme,{value:$.sex,onChange:re=>O(L,"sex",re)}),g.jsx(Qp,{type:"text",value:$.correlative,onChange:re=>O(L,"correlative",re.target.value),placeholder:"N Correlativo",required:!0}),g.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl h-full flex items-center",children:[g.jsx("span",{className:"text-sm font-semibold text-zinc-400 mr-2",children:"ID:"}),g.jsx("span",{className:"font-mono text-indigo-300 font-bold",children:T($)})]}),g.jsx(Qp,{type:"number",step:"0.1",value:$.birthWeight,onChange:re=>O(L,"birthWeight",re.target.value),placeholder:"Peso al Nacer (Kg)",required:!0})]})]},L))]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{type:"submit",className:"w-full bg-brand-amber text-black font-bold py-3 rounded-xl text-lg",children:"Guardar Registro"}),n&&g.jsx("button",{type:"button",onClick:n,className:"w-full bg-zinc-600 text-white font-bold py-3 rounded-xl text-lg",children:"Cancelar"}),w&&g.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${w.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[w.type==="success"?g.jsx(K1,{size:18}):g.jsx(Ud,{size:18}),g.jsx("span",{children:w.text})]})]})]}),g.jsx(Gme,{isOpen:A,onClose:()=>P(!1),onSave:k})]})},Qme=({onBack:t})=>{const{addWeighing:e,fetchData:n}=bi(),[r,i]=q.useState(""),[o,a]=q.useState(""),[s,l]=q.useState(null),u=async f=>{if(f.preventDefault(),!r||!o){l({type:"error",text:"El ID y los Kg son obligatorios."});return}const c={goatId:r.toUpperCase().trim(),kg:parseFloat(o),date:new Date().toISOString().split("T")[0]};try{await e(c),l({type:"success",text:`Pesaje para ${r.toUpperCase().trim()} aadido.`}),i(""),a(""),await n()}catch(p){l({type:"error",text:"No se pudo guardar el pesaje."}),console.error(p)}setTimeout(()=>l(null),3e3)};return g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[g.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2 mb-4",children:[g.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx(Bc,{size:20})}),g.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Individual"})]}),g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"ID del Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none transition-colors"}),g.jsx("input",{type:"number",step:"0.01",value:o,onChange:f=>a(f.target.value),placeholder:"Produccin en Kg",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none transition-colors"}),g.jsx("button",{type:"submit",className:"w-full bg-brand-amber hover:bg-yellow-500 text-black font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:"Guardar Pesaje"}),s&&g.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${s.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[s.type==="success"?g.jsx(K1,{size:18}):g.jsx(Ud,{size:18}),g.jsx("span",{children:s.text})]})]})]})},Jme=({entry:t,onDelete:e,onRegister:n})=>{const r=t.isUnrecognized;return g.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-black/20"}`,children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[r&&g.jsx(Ud,{className:"text-amber-400 flex-shrink-0",size:18}),g.jsx("span",{className:"font-semibold text-white",children:t.goatId})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[r?g.jsx("button",{onClick:()=>n(t.goatId),className:"text-xs font-semibold bg-amber-500 text-black px-2 py-1 rounded-md hover:bg-amber-400",children:"Registrar Parto"}):g.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),g.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(X1,{size:16})})]})]})},Zme=({onBack:t,onNavigate:e})=>{const{animals:n,fetchData:r}=bi(),[i,o]=q.useState(""),[a,s]=q.useState(""),[l,u]=q.useState([]),[f,c]=q.useState(null),[p,y]=q.useState(new Date().toISOString().split("T")[0]),[b,v]=q.useState({isOpen:!1,motherId:""}),w=q.useRef(null),S=q.useRef(null),A=q.useMemo(()=>new Set(n.map(M=>M.id)),[n]);q.useEffect(()=>{var M;(M=w.current)==null||M.focus()},[]);const P=()=>{var $;if(!i||!a)return;const M=i.toUpperCase().trim(),R={tempId:Date.now(),goatId:M,kg:parseFloat(a),date:p,isUnrecognized:!A.has(M)};u(L=>[R,...L]),o(""),s(""),($=w.current)==null||$.focus()},D=async()=>{c(null);const{currentUser:M}=zh;if(!M){c({type:"error",text:"Error de autenticacin. No se pueden guardar los datos."});return}const R=l.filter($=>$.isUnrecognized).length;if(R>0){c({type:"error",text:`No se puede guardar. Tienes ${R} animal(es) sin registrar.`});return}if(l.length===0){c({type:"error",text:"No hay pesajes en la lista para guardar."});return}try{const $=TR(Mo),L=Wf(Mo,"weighings");l.forEach(re=>{const ie=Pu(L),ce={goatId:re.goatId,kg:re.kg,date:re.date,userId:M.uid};$.set(ie,ce)}),await $.commit(),c({type:"success",text:`${l.length} pesajes guardados y sincronizados con xito.`}),u([]),setTimeout(()=>{e("animals",{selectedDate:p})},1e3)}catch($){c({type:"error",text:"Ocurri un error al guardar en la nube."}),console.error("Error en escritura por lote:",$)}},I=M=>{var R;M.key==="Enter"&&i&&(M.preventDefault(),(R=S.current)==null||R.focus())},O=M=>{M.key==="Enter"&&a&&(M.preventDefault(),P())},x=M=>{u(R=>R.filter($=>$.tempId!==M))},T=M=>{v({isOpen:!0,motherId:M})},k=()=>{u(M=>M.map(R=>R.goatId===b.motherId?{...R,isUnrecognized:!1}:R)),r(),v({isOpen:!1,motherId:""})};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[g.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2",children:[g.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx(Bc,{size:20})}),g.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Rpida"})]}),g.jsxs("div",{className:"space-y-2 pt-2",children:[g.jsxs("label",{htmlFor:"session-date",className:"flex items-center gap-2 text-sm font-semibold text-zinc-400",children:[g.jsx(jR,{size:16}),"Fecha del Pesaje"]}),g.jsx("input",{id:"session-date",type:"date",value:p,onChange:M=>y(M.target.value),className:"w-full bg-black/20 text-white text-lg p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{ref:w,type:"text",value:i,onChange:M=>o(M.target.value),onKeyDown:I,placeholder:"ID Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"}),g.jsx("input",{ref:S,type:"number",step:"0.01",value:a,onChange:M=>s(M.target.value),onKeyDown:O,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"}),g.jsx("button",{onClick:P,disabled:!i||!a,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-indigo-600 text-white rounded-xl flex items-center justify-center transition-all hover:bg-indigo-500 disabled:opacity-40 disabled:cursor-not-allowed",children:g.jsx(W1,{size:24})})]}),g.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2 border-t border-b border-brand-border py-2",children:[l.length===0&&g.jsx("p",{className:"text-center text-zinc-500 text-sm",children:"Los pesajes aadidos aparecern aqu."}),l.map(M=>g.jsx(Jme,{entry:M,onDelete:x,onRegister:T},M.tempId))]}),g.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 bg-brand-amber hover:bg-yellow-500 text-black font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[g.jsx($9,{size:20})," Guardar ",l.length>0?`(${l.length})`:""," Pesajes"]}),f&&g.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${f.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[" ",f.type==="success"?g.jsx(K1,{size:18}):g.jsx(F9,{size:18})," ",g.jsx("span",{children:f.text})," "]})]}),g.jsx(ir,{isOpen:b.isOpen,onClose:()=>v({isOpen:!1,motherId:""}),title:`Registrar Parto para: ${b.motherId}`,children:g.jsx(pL,{motherId:b.motherId,onSaveSuccess:k,onCancel:()=>v({isOpen:!1,motherId:""})})})]})};function ege({onNavigate:t}){const[e,n]=q.useState("options"),r=e==="options"?"options":"form";return g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[g.jsxs("header",{className:"text-center pt-8 pb-4",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Aadir Datos"}),g.jsx("p",{className:"text-xl text-zinc-400",children:"Captura de Produccin"})]}),g.jsxs("div",{children:[e==="options"&&g.jsxs("div",{className:"space-y-4 animate-fade-in",children:[g.jsxs("button",{onClick:()=>n("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-amber-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[g.jsx(k_,{className:"w-12 h-12 mb-2 text-amber-400"}),g.jsx("span",{className:"text-lg font-semibold",children:"Entrada Rpida"}),g.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),g.jsxs("button",{onClick:()=>t("add-parturition"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[g.jsx(P9,{className:"w-12 h-12 mb-2 text-green-400"}),g.jsx("span",{className:"text-lg font-semibold",children:"Registrar Parto"}),g.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Inicia una nueva lactancia"})]}),g.jsxs("button",{onClick:()=>t("ocr"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[g.jsx(L9,{className:"w-12 h-12 mb-2 text-blue-400"}),g.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),g.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]}),g.jsxs("button",{onClick:()=>n("manual"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-gray-500 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[g.jsx(W1,{className:"w-12 h-12 mb-2"}),g.jsx("span",{className:"text-lg font-semibold",children:"Entrada Individual"}),g.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Formulario tradicional"})]})]}),e==="rapid"&&g.jsx(Zme,{onBack:()=>n("options"),onNavigate:t}),e==="manual"&&g.jsx(Qme,{onBack:()=>n("options")})]},r)]})}const tge=t=>{const[e,n]=q.useState([]),[r,i]=q.useState([]),[o,a]=q.useState(!0);return q.useEffect(()=>{if(!t)return;(async()=>{a(!0);try{const[u,f]=await Promise.all([wr.weighings.where("goatId").equals(t).toArray(),wr.parturitions.where("goatId").equals(t).toArray()]);n(u),i(f.sort((c,p)=>new Date(c.parturitionDate).getTime()-new Date(p.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{a(!1)}})()},[t]),{...q.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((c,p)=>{const y=new Date(c.parturitionDate),b=p<r.length-1?new Date(r[p+1].parturitionDate):new Date,v=e.filter(O=>{const x=new Date(O.date);return x>=y&&x<b}),w=v.map(O=>({del:rf(c.parturitionDate,O.date),kg:O.kg})).sort((O,x)=>O.del-x.del),S=v.reduce((O,x)=>O+x.kg,0),A=v.length>0?S/v.length:0,P=w.reduce((O,x)=>x.kg>O.kg?x:O,{kg:0,del:0}),D=w[w.length-1],I=D?D.del:0;return{parturitionDate:c.parturitionDate,weighings:v,lactationCurve:w,averageProduction:A,peakProduction:P,totalDays:I}}),u=r.slice(1).map((c,p)=>{const y=r[p],b=new Date(c.parturitionDate).getTime()-new Date(y.parturitionDate).getTime();return{period:`${y.parturitionDate.substring(0,4)} - ${c.parturitionDate.substring(0,4)}`,days:Math.round(b/(1e3*60*60*24))}}),f=e.sort((c,p)=>new Date(p.date).getTime()-new Date(c.date).getTime())[0];return{allLactations:l,parturitionIntervals:u,lastWeighingDate:(f==null?void 0:f.date)||null}},[e,r]),isLoading:o}},nge=(t,e,n,r)=>{const[i,o]=q.useState([]),[a,s]=q.useState(!1);return q.useEffect(()=>{if(!t||!e.length){o([]);return}(()=>{s(!0);let u=[];if(t==="PRIMIPARAS_HISTORICAL"){const y=n.reduce((b,v)=>(b[v.goatId]=(b[v.goatId]||0)+1,b),{});u=e.filter(b=>y[b.id]===1).map(b=>b.id)}else if(t==="MULTIPARAS_HISTORICAL"){const y=n.reduce((b,v)=>(b[v.goatId]=(b[v.goatId]||0)+1,b),{});u=e.filter(b=>y[b.id]>1).map(b=>b.id)}const f=r.filter(y=>u.includes(y.goatId)),c={};f.forEach(y=>{const b=n.filter(w=>w.goatId===y.goatId&&new Date(y.date)>=new Date(w.parturitionDate)).sort((w,S)=>new Date(S.parturitionDate).getTime()-new Date(w.parturitionDate).getTime())[0];if(!b)return;const v=rf(b.parturitionDate,y.date);c[v]||(c[v]={totalKg:0,count:0}),c[v].totalKg+=y.kg,c[v].count++});const p=Object.entries(c).map(([y,b])=>({del:parseInt(y),kg:b.totalKg/b.count})).sort((y,b)=>y.del-b.del);o(p),s(!1)})()},[t,e,n,r]),{comparativeCurve:i,isLoading:a}},Jp=({active:t,payload:e,label:n,context:r})=>{if(t&&e&&e.length){let i="",o="";switch(r){case"average":i=`Lactancia del ${n}`,o=`Promedio: ${e[0].value.toFixed(2)} Kg`;break;case"peak":i=`Lactancia del ${n}`,o=`Pico: ${e[0].value.toFixed(2)} Kg`;break;case"del":i=`Lactancia del ${n}`,o=`Duracin: ${e[0].value} das`;break;case"interval":i=`Perodo ${n}`,o=`Intervalo: ${e[0].value} das`;break}return g.jsxs("div",{className:"bg-black/60 backdrop-blur-xl p-3 rounded-lg border border-zinc-700 text-white",children:[g.jsx("p",{className:"label text-zinc-400 text-sm font-medium",children:i}),g.jsx("p",{className:"font-semibold text-base",children:o})]})}return null};function rge({animalId:t,onBack:e}){const{animals:n,parturitions:r,weighings:i,startDryingProcess:o,setLactationAsDry:a}=bi(),{allLactations:s,parturitionIntervals:l,lastWeighingDate:u,isLoading:f}=tge(t),[c,p]=q.useState(null),[y,b]=q.useState(null),[v,w]=q.useState(!1),{comparativeCurve:S,isLoading:A}=nge(y,n,r,i),P=q.useMemo(()=>{if(s.length===0)return null;const R=s[s.length-1],$=r.find(L=>L.parturitionDate===R.parturitionDate&&L.goatId===t);return{...R,id:$==null?void 0:$.id,firestoreId:$==null?void 0:$.firestoreId,status:$==null?void 0:$.status}},[s,r,t]),D=q.useMemo(()=>P?rf(P.parturitionDate,new Date().toISOString().split("T")[0]):"N/A",[P]),I=q.useMemo(()=>({average:s.map(R=>({name:new Date(R.parturitionDate).getFullYear().toString(),value:R.averageProduction})),peak:s.map(R=>({name:new Date(R.parturitionDate).getFullYear().toString(),value:R.peakProduction.kg})),del:s.map(R=>({name:new Date(R.parturitionDate).getFullYear().toString(),value:R.totalDays})),interval:l.map(R=>({name:R.period,value:R.days}))}),[s,l]);if(f)return g.jsx("div",{className:"text-center p-10",children:g.jsxs("h1",{className:"text-2xl text-zinc-400",children:["Cargando perfil de ",t,"..."]})});const O=s.length>0?s[s.length-1]:null,x=l.length>0?l[l.length-1].days:0,T=s.length===1,k=()=>{const R=!v;w(R),R||b(null)},M=R=>{b($=>$===R?null:R)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in",children:[g.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[g.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx(Bc,{size:24})}),g.jsxs("div",{className:"text-center flex-grow",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:t}),g.jsx("p",{className:"text-xl text-zinc-400",children:"Perfil de Lactancia"})]}),g.jsx("div",{className:"w-8"})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[g.jsxs("button",{onClick:()=>p("average"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[g.jsx(Bd,{size:14}),g.jsx("span",{children:"Promedio"})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[(O==null?void 0:O.averageProduction.toFixed(2))||"N/A"," ",g.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),g.jsxs("button",{onClick:()=>p("peak"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[g.jsx(H1,{size:14}),g.jsx("span",{children:"Pico Prod."})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[(O==null?void 0:O.peakProduction.kg.toFixed(2))||"N/A"," ",g.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),g.jsxs("button",{onClick:()=>p("del"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[g.jsx(w9,{size:14}),g.jsx("span",{children:"DEL"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:D})]}),g.jsxs("button",{onClick:()=>p("interval"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[g.jsx(M9,{size:14}),g.jsx("span",{children:"Int. Partos"})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[x," ",g.jsx("span",{className:"text-lg text-zinc-400",children:"das"})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[g.jsx(_9,{size:14}),g.jsx("span",{children:"lt. Pesaje"})]}),g.jsx("p",{className:"text-xl font-bold text-white",children:u?new Date(u).toLocaleDateString():"N/A"})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[g.jsxs("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:["Curva de Lactancia Actual (Parto: ",(O==null?void 0:O.parturitionDate)||"N/A",")"]}),g.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[g.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),g.jsx("button",{onClick:k,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:g.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})}),v&&g.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[g.jsx("button",{onClick:()=>M("PRIMIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${y==="PRIMIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${T?"ring-2 ring-amber-400":""}`,children:"vs Primparas"}),g.jsx("button",{onClick:()=>M("MULTIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${y==="MULTIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${T?"":"ring-2 ring-amber-400"}`,children:"vs Multparas"})]})]})]}),g.jsxs("div",{className:"w-full h-56 -ml-4",children:[g.jsx($i,{children:g.jsxs(Bme,{margin:{top:5,right:20,left:-10,bottom:5},children:[g.jsx(zv,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),g.jsx(nr,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(fn,{content:g.jsx(iw,{})}),g.jsx(cl,{verticalAlign:"top",height:36,iconType:"plainline"}),g.jsx(Ac,{type:"monotone",data:O==null?void 0:O.lactationCurve,dataKey:"kg",name:t,stroke:"#FBBF24",strokeWidth:2.5,dot:!1}),y&&!A&&g.jsx(Ac,{type:"monotone",data:S,dataKey:"kg",name:"Promedio del Grupo",stroke:"#34d399",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),A&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:"Calculando comparacin..."})]})]}),(P==null?void 0:P.firestoreId)&&g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[g.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestin de Lactancia Actual"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[P.status==="activa"&&g.jsxs("button",{onClick:()=>o(P.firestoreId),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[g.jsx(W9,{size:20}),g.jsx("span",{children:"Iniciar Proceso de Secado"})]}),P.status==="en-secado"&&g.jsxs("button",{onClick:()=>a(P.firestoreId),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[g.jsx(v9,{size:20}),g.jsx("span",{children:"Declarar Lactancia como Seca"})]}),P.status==="seca"&&g.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:g.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),P.status==="en-secado"&&g.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]}),g.jsx(ir,{isOpen:c==="average",onClose:()=>p(null),title:"Historial de Promedios",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"w-full h-48 -ml-4",children:g.jsx($i,{children:g.jsxs(Ko,{data:I.average,margin:{top:5,right:20,left:-20,bottom:0},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"modalBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#FBBF24",stopOpacity:.8}),g.jsx("stop",{offset:"100%",stopColor:"#FBBF24",stopOpacity:.2})]})}),g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),g.jsx(fn,{content:g.jsx(Jp,{context:"average"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),g.jsx(hr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradient)"})]})})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),g.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(R=>g.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[g.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",R.parturitionDate]}),g.jsxs("span",{className:"text-base font-semibold text-white",children:[R.averageProduction.toFixed(2)," Kg"]})]},R.parturitionDate))})]})]})}),g.jsx(ir,{isOpen:c==="peak",onClose:()=>p(null),title:"Historial de Picos de Produccin",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"w-full h-48 -ml-4",children:g.jsx($i,{children:g.jsxs(Ko,{data:I.peak,margin:{top:5,right:20,left:-20,bottom:0},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"modalBarGradientPeak",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),g.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.2})]})}),g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),g.jsx(fn,{content:g.jsx(Jp,{context:"peak"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),g.jsx(hr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientPeak)"})]})})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),g.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(R=>g.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[g.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",R.parturitionDate]}),g.jsxs("span",{className:"text-base font-semibold text-white",children:[R.peakProduction.kg.toFixed(2)," Kg ",g.jsxs("span",{className:"font-normal text-zinc-400",children:["(Da ",R.peakProduction.del,")"]})]})]},R.parturitionDate))})]})]})}),g.jsx(ir,{isOpen:c==="del",onClose:()=>p(null),title:"Historial de Duracin de Lactancias",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"w-full h-48 -ml-4",children:g.jsx($i,{children:g.jsxs(Ko,{data:I.del,margin:{top:5,right:20,left:-20,bottom:0},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"modalBarGradientDel",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:.8}),g.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.2})]})}),g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),g.jsx(fn,{content:g.jsx(Jp,{context:"del"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),g.jsx(hr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientDel)"})]})})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),g.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(R=>g.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[g.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",R.parturitionDate]}),g.jsxs("span",{className:"text-base font-semibold text-white",children:[R.totalDays," das"]})]},R.parturitionDate))})]})]})}),g.jsx(ir,{isOpen:c==="interval",onClose:()=>p(null),title:"Historial de Intervalos entre Partos",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"w-full h-48 -ml-4",children:g.jsx($i,{children:g.jsxs(Ko,{data:I.interval,margin:{top:5,right:20,left:-20,bottom:0},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"modalBarGradientInt",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:.8}),g.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:.2})]})}),g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),g.jsx(rr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),g.jsx(fn,{content:g.jsx(Jp,{context:"interval"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),g.jsx(hr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientInt)"})]})})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles de Intervalos"}),g.jsx("ul",{className:"space-y-1",children:l.slice().reverse().map(R=>g.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[g.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Perodo ",R.period]}),g.jsxs("span",{className:"text-base font-semibold text-white",children:[R.days," das"]})]},R.period))})]})]})})]})}function ige({onBack:t,motherId:e=""}){return g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in pb-12",children:[g.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[g.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx(Bc,{size:24})}),g.jsxs("div",{className:"text-center flex-grow",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Registrar Parto"}),g.jsx("p",{className:"text-xl text-zinc-400",children:"Y sus cras"})]}),g.jsx("div",{className:"w-8"})]}),g.jsx(pL,{motherId:e,onSaveSuccess:t})]})}const my=(t,e,n,r,i)=>q.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const o=t.reduce((v,w)=>{const S=e.find(k=>k.id===w.goatId);if(!S)return v;const A=r.filter(k=>k.goatId===S.id&&new Date(k.parturitionDate)<=new Date(w.date)).sort((k,M)=>new Date(M.parturitionDate).getTime()-new Date(k.parturitionDate).getTime())[0];if(!A)return v;const P=n.filter(k=>k.goatId===S.id).sort((k,M)=>new Date(M.date).getTime()-new Date(k.date).getTime()),D=rf(A.parturitionDate,w.date),I=i?Hme(w.kg,D):w.kg;let O="single";const x=.15,T=P.findIndex(k=>k.id===w.id);if(T>0){const k=P[T-1],M=w.kg-k.kg;M>x?O="up":M<-x?O="down":O="stable"}return v.push({...S,latestWeighing:w.kg,weighingId:w.id,del:D,score:I,trend:O,date:w.date}),v},[]);if(!o.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=i?"score":"latestWeighing",s=o.reduce((v,w)=>v+w[a],0)/o.length,l=Math.sqrt(o.reduce((v,w)=>v+Math.pow(w[a]-s,2),0)/o.length),u=s-.4*l,f=s+.4*l,c=o.map(v=>{const w=v[a];let S="Promedio";return l>.1&&(w<u?S="Pobre":w>f&&(S="Sobresaliente")),{...v,classification:S}}),p=[{name:"Pobre",count:c.filter(v=>v.classification==="Pobre").length,fill:"#EF4444"},{name:"Promedio",count:c.filter(v=>v.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:c.filter(v=>v.classification==="Sobresaliente").length,fill:"#22C55E"}],y=o.reduce((v,w)=>v+w.latestWeighing,0)/o.length,b=o.reduce((v,w)=>v+w.score,0)/o.length;return{classifiedAnimals:c,distribution:p,mean:y,stdDev:l,weightedMean:b}},[t,e,n,r,i]),oge=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:"text-green-400",down:"text-red-400",stable:"text-zinc-500"};return g.jsxs("div",{className:`flex items-center font-semibold text-sm ${n[t]}`,children:[t==="up"&&g.jsx(q1,{size:16}),t==="down"&&g.jsx(U1,{size:16}),t==="stable"&&g.jsx(R9,{size:16}),e&&g.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},age=(t,e)=>{const[n,r]=q.useState(null),[i,o]=q.useState(0),[a,s]=q.useState(!1),[l,u]=q.useState([]);return q.useEffect(()=>{const f=e.filter(w=>w.goatId===t).sort((w,S)=>new Date(S.date).getTime()-new Date(w.date).getTime());if(f.length<2){r(f.length===1?"single":null),u(f),o(0),s(!1);return}const c=f[0].kg,p=f[1].kg,y=c-p,b=.15;o(y),u([f[0],f[1]]);let v="stable";if(y>b&&(v="up"),y<-b&&(v="down"),r(v),f.length>=3){const w=f[2].kg,S=p-w;y>b&&S>b||y<-b&&S<-b?s(!0):s(!1)}else s(!1)},[t,e]),{trend:n,difference:i,isLongTrend:a,lastTwoWeighings:l}},sge=(t,e)=>{const[n,r]=q.useState(""),i=q.useMemo(()=>n?t.filter(o=>e.some(a=>{const s=o[a];return typeof s=="string"||typeof s=="number"?s.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},lge=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,o]=q.useState(!1),a=q.useRef(null);q.useEffect(()=>{var l;i&&((l=a.current)==null||l.focus())},[i]);const s=()=>{r(""),o(!1)};return g.jsxs("header",{className:"text-center pt-4 pb-4 relative overflow-hidden",children:[g.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[g.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),g.jsx("p",{className:"text-md text-zinc-400",children:e})]}),g.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${i?"translate-y-0":"translate-y-20"}`,children:g.jsx("input",{ref:a,type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),g.jsx("div",{className:"absolute top-4 right-0 pt-1",children:g.jsx("button",{onClick:i?s:()=>o(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?g.jsx(X1,{size:22}):g.jsx(V9,{size:22})})})]})},uge=t=>{const{x:e,y:n,width:r,height:i,value:o,total:a}=t;if(a===0||o===0)return null;const s=(o/a*100).toFixed(0);return g.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${s}%`})},cb=({animal:t,onSelectAnimal:e})=>{var u,f;const{weighings:n}=bi(),{isLongTrend:r,lastTwoWeighings:i,difference:o}=age(t.id,n),[a,s]=q.useState(!1),l=c=>{c.stopPropagation(),t.trend&&t.trend!=="single"&&s(!0)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{onClick:()=>e(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),g.jsxs("p",{className:"text-sm text-zinc-400",children:["DEL: ",t.del," | Score: ",t.score.toFixed(2)," | ",g.jsxs("span",{className:"font-semibold text-amber-400",children:[" Pesaje: ",t.latestWeighing.toFixed(2)," Kg"]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors disabled:cursor-not-allowed",disabled:!t.trend||t.trend==="single",children:g.jsx(oge,{trend:t.trend,isLongTrend:r})}),g.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-red-500/80":t.classification==="Sobresaliente"?"bg-green-500/80":"bg-gray-500/80"}`,children:t.classification}),g.jsx(ev,{className:"text-zinc-600"})]})]}),g.jsx(ir,{isOpen:a,onClose:()=>s(!1),title:`Tendencia de ${t.id}`,children:g.jsxs("div",{className:"text-center text-white space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",i[1]?new Date(i[1].date).toLocaleDateString():"N/A",")"]}),g.jsxs("p",{className:"text-2xl font-semibold",children:[((u=i[1])==null?void 0:u.kg.toFixed(2))||"N/A"," Kg"]})]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm text-zinc-400",children:["ltimo Pesaje (",i[0]?new Date(i[0].date).toLocaleDateString():"N/A",")"]}),g.jsxs("p",{className:"text-2xl font-semibold",children:[((f=i[0])==null?void 0:f.kg.toFixed(2))||"N/A"," Kg"]})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),g.jsxs("p",{className:`text-3xl font-bold ${o>0?"text-green-400":o<0?"text-red-400":"text-zinc-400"}`,children:[o>0?"+":"",o.toFixed(2)," Kg"]})]})]})})]})};function cge({onSelectAnimal:t,selectedDate:e}){const{animals:n,parturitions:r,weighings:i,isLoading:o}=bi(),[a,s]=q.useState(!1),[l,u]=q.useState("all"),[f,c]=q.useState("all"),[p,y]=q.useState("all"),[b,v]=q.useState(null),[w,S]=q.useState("all"),[A,P]=q.useState(!1),[D,I]=q.useState(!1),{weighingsByDate:O,availableDates:x}=q.useMemo(()=>{const Pe={};i.forEach(oe=>{Pe[oe.date]||(Pe[oe.date]=[]),Pe[oe.date].push(oe)});const Ge=Object.keys(Pe).sort((oe,Ve)=>new Date(Ve).getTime()-new Date(oe).getTime());return{weighingsByDate:Pe,availableDates:Ge}},[i]),[T,k]=q.useState(0);q.useEffect(()=>{if(e&&x.length>0){const Pe=x.indexOf(e);Pe!==-1&&k(Pe)}},[e,x]);const M=x[T],R=q.useMemo(()=>{const Pe=O[M]||[],Ge=new Map;return Pe.forEach(oe=>{Ge.set(oe.goatId,oe)}),Array.from(Ge.values())},[M,O]),{classifiedAnimals:$,distribution:L,mean:re,stdDev:ie,weightedMean:ce}=my(R,n,i,r,a),pe=q.useMemo(()=>{if(T+1<x.length){const Pe=x[T+1];return O[Pe]||[]}return[]},[T,x,O]),ne=my(pe,n,i,r,!1),ae=q.useMemo(()=>{const Pe=new Set($.map(Qe=>Qe.id));let Ge=new Set,oe=new Set;const Ve=new Set(ne.classifiedAnimals.map(Qe=>Qe.id));T===x.length-1&&x.length>0?Ge=Pe:(Ge=new Set([...Pe].filter(Qe=>!Ve.has(Qe))),oe=new Set([...Ve].filter(Qe=>!Pe.has(Qe))));const Fe=x.slice(0,3).map(Qe=>{const qt=O[Qe]||[];if(qt.length===0)return{date:Qe,avg:0};const Bn=qt.reduce((To,Un)=>To+Un.kg,0);return{date:new Date(Qe).toLocaleDateString("es-VE",{month:"short",day:"numeric"}),avg:Bn/qt.length}}).reverse();let ue=null,ct=null,tt=0,gt=0,Et=0;if($.length>0){const Qe=$.map(qt=>qt.latestWeighing);tt=Qe.reduce((qt,Bn)=>qt+Bn,0),gt=Math.max(...Qe),Et=Math.min(...Qe),ue=$.find(qt=>qt.latestWeighing===gt)||null,ct=$.find(qt=>qt.latestWeighing===Et)||null}const Jt=re-ie,sr=re+ie,Ot=$.filter(Qe=>Qe.latestWeighing>=Jt&&Qe.latestWeighing<=sr).length,jt=$.length>0?Ot/$.length*100:0;return{trendData:Fe,kpi:{total:tt,max:gt,min:Et},topPerformer:ue,bottomPerformer:ct,consistency:{percentage:jt},newAnimalIds:Ge,exitingAnimalIds:oe}},[$,ne.classifiedAnimals,x,T,O,re,ie]),ye=q.useMemo(()=>{let Pe=[...$];return l!=="all"&&(Pe=Pe.filter(Ge=>Ge.classification===l)),w==="new"&&(Pe=Pe.filter(Ge=>ae.newAnimalIds.has(Ge.id))),f!=="all"&&(Pe=Pe.filter(Ge=>Ge.trend===f)),p!=="all"&&(Pe=Pe.filter(Ge=>{const oe=Ge.del;return p==="first"?oe>0&&oe<=100:p==="second"?oe>100&&oe<=200:p==="third"?oe>200&&oe<270:p==="drying"?oe>=270:!0})),Pe.sort((Ge,oe)=>Ge.id.localeCompare(oe.id))},[$,l,f,p,w,ae.newAnimalIds]),{searchTerm:Te,setSearchTerm:be,filteredItems:Re}=sge(ye,["id"]),Ke=q.useMemo(()=>{const Pe=$.length;if(Pe===0)return{up:0,down:0,new:0,stable:0,total:0};const Ge=$.filter(ue=>ue.trend==="up").length,oe=$.filter(ue=>ue.trend==="down").length,Ve=$.filter(ue=>ue.trend==="stable").length,Fe=$.filter(ue=>ue.trend==="single").length;return{up:Ge/Pe*100,down:oe/Pe*100,stable:Ve/Pe*100,new:Fe/Pe*100,total:Pe}},[$]),ut=()=>{u("all"),c("all"),y("all"),S("all")},dt=Pe=>{if(Pe!=null&&Pe.name){const Ge=Pe.name;u(oe=>oe===Ge?"all":Ge)}};return o?g.jsx("div",{className:"text-center p-10",children:g.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando animales..."})}):g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[g.jsx(lge,{title:"Anlisis de Rebao",subtitle:"Animales en Ordeo",searchTerm:Te,setSearchTerm:be}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[g.jsx("button",{onClick:()=>k(Pe=>Math.min(Pe+1,x.length-1)),disabled:T>=x.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:g.jsx(A9,{})}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-lg font-semibold text-white",children:M?new Date(M).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),g.jsxs("p",{className:"text-sm text-zinc-400",children:[R.length," animales pesados"]})]}),g.jsx("button",{onClick:()=>k(Pe=>Math.max(Pe-1,0)),disabled:T===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:g.jsx(ev,{})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:()=>v("media"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[g.jsx(T9,{size:14}),g.jsx("span",{children:a?"Media Ponderada":"Media de Prod."})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[(a?ce:re).toFixed(2)," ",g.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[g.jsx(z9,{size:14}),g.jsx("span",{children:"Prod. Total"})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[ae.kpi.total.toFixed(2)," ",g.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),g.jsxs("button",{onClick:()=>v("stdDev"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[g.jsx(q9,{size:14}),g.jsx("span",{children:"Consistencia"})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[ie.toFixed(2)," ",g.jsx("span",{className:"text-lg text-zinc-400",children:""})]})]}),g.jsxs("button",{onClick:()=>v("rango"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[g.jsx(H1,{size:14}),g.jsx("span",{children:"Rango Prod."})]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[ae.kpi.min.toFixed(2)," - ",ae.kpi.max.toFixed(2)," ",g.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[g.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(kR,{className:"text-amber-400",size:18}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Anlisis del Da"}),g.jsx("button",{onClick:()=>P(!0),className:"text-zinc-500 hover:text-white",children:g.jsx(hg,{size:14})})]}),g.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[g.jsx(k_,{size:14,className:a?"text-amber-400":"text-zinc-500"}),g.jsx("span",{children:"Ponderado a DEL"}),g.jsx("button",{type:"button",onClick:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),I(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:g.jsx(hg,{size:14})}),g.jsx("input",{type:"checkbox",checked:a,onChange:Pe=>s(Pe.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-amber-500 focus:ring-offset-0"})]})]}),g.jsx("div",{className:"w-full h-48",children:g.jsx($i,{children:g.jsxs(Ko,{data:L,margin:{top:20,right:10,left:-20,bottom:0},children:[g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(rr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(fn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),g.jsxs(hr,{dataKey:"count",onClick:dt,cursor:"pointer",children:[L.map(Pe=>g.jsx(Wd,{fill:Pe.fill,className:`${l!=="all"&&l!==Pe.name?"opacity-30":"opacity-100"} transition-opacity`},Pe.name)),g.jsx(Wr,{dataKey:"count",content:g.jsx(uge,{total:$.length})})]})]})})}),g.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[g.jsxs("span",{children:[" = ",re.toFixed(2)]})," | ",g.jsxs("span",{children:[" = ",ie.toFixed(2)]})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[g.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[g.jsx("button",{onClick:()=>c("all"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${f==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),g.jsxs("button",{onClick:()=>c("up"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${f==="up"?"bg-green-700 text-white":"bg-zinc-800/50 text-green-400"}`,children:[g.jsx(q1,{size:14})," ",g.jsxs("span",{children:[Ke.up.toFixed(0),"%"]})]}),g.jsxs("button",{onClick:()=>c("down"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${f==="down"?"bg-red-700 text-white":"bg-zinc-800/50 text-red-400"}`,children:[g.jsx(U1,{size:14})," ",g.jsxs("span",{children:[Ke.down.toFixed(0),"%"]})]}),g.jsxs("button",{onClick:()=>c("single"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${f==="single"?"bg-blue-700 text-white":"bg-zinc-800/50 text-blue-400"}`,children:[g.jsx(B9,{size:14})," ",g.jsxs("span",{children:[Ke.new.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"text-sm font-medium text-zinc-500",children:[Re.length," / ",$.length]}),g.jsx("button",{onClick:ut,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:g.jsx(C9,{size:16})})]})]}),g.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[g.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),g.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[g.jsx("button",{onClick:()=>y("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),g.jsx("button",{onClick:()=>y("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="first"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),g.jsx("button",{onClick:()=>y("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="second"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),g.jsx("button",{onClick:()=>y("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="third"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),g.jsx("button",{onClick:()=>y("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${p==="drying"?"bg-red-700/80 text-white":"bg-zinc-800/50 text-red-300"}`,children:"A Secado"})]})]}),g.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[g.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("button",{onClick:()=>S(Pe=>Pe==="new"?"all":"new"),disabled:ae.newAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${w==="new"?"bg-green-600 text-white shadow-lg shadow-green-500/20":"bg-zinc-800/50 text-zinc-300"} ${ae.newAnimalIds.size>0&&w!=="new"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[g.jsx(j9,{size:14})," ",g.jsxs("span",{children:["Ingresos (",ae.newAnimalIds.size,")"]})]}),g.jsxs("button",{onClick:()=>alert(`Animales que salieron del ordeo:
${[...ae.exitingAnimalIds].join(`
`)}`),disabled:ae.exitingAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${w==="exiting"?"bg-red-600 text-white shadow-lg shadow-red-500/20":"bg-zinc-800/50 text-zinc-300"} ${ae.exitingAnimalIds.size>0&&w!=="exiting"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[g.jsx(RR,{size:14})," ",g.jsxs("span",{children:["Salidas (",ae.exitingAnimalIds.size,")"]})]})]})]})]}),g.jsx("div",{className:"space-y-2",children:Re.length>0?Re.map(Pe=>g.jsx(cb,{animal:Pe,onSelectAnimal:t},Pe.weighingId||Pe.id)):g.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:g.jsx("p",{className:"text-zinc-400",children:Te?`No se encontraron resultados para "${Te}"`:"No se encontraron animales con los filtros actuales."})})}),g.jsx(ir,{isOpen:b==="media",onClose:()=>v(null),title:"Tendencia de Produccin Promedio",children:g.jsx("div",{className:"w-full h-56 -ml-4",children:g.jsx($i,{width:"100%",height:"100%",children:g.jsxs(Ko,{data:ae.trendData,margin:{top:20,right:20,left:-20,bottom:5},children:[g.jsx(zv,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),g.jsx(nr,{dataKey:"date",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(rr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(fn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"},contentStyle:{backgroundColor:"rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.2)"}}),g.jsx(hr,{dataKey:"avg",name:"Promedio Kg",fill:"#FBBF24",radius:[4,4,0,0],children:g.jsx(Wr,{dataKey:"avg",position:"top",formatter:Pe=>Pe.toFixed(2),fill:"#FFF",fontSize:12})})]})})})}),g.jsx(ir,{isOpen:b==="rango",onClose:()=>v(null),title:"Extremos de Produccin del Da",children:g.jsxs("div",{className:"space-y-4",children:[ae.topPerformer&&g.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[g.jsx("h3",{className:"font-semibold text-green-300 mb-2",children:"Animal Estrella (Produccin Mxima)"}),g.jsx(cb,{animal:ae.topPerformer,onSelectAnimal:()=>{v(null),t(ae.topPerformer.id)}})]}),ae.bottomPerformer&&g.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[g.jsx("h3",{className:"font-semibold text-red-300 mb-2",children:"Animal a Observar (Produccin Mnima)"}),g.jsx(cb,{animal:ae.bottomPerformer,onSelectAnimal:()=>{v(null),t(ae.bottomPerformer.id)}})]})]})}),g.jsx(ir,{isOpen:b==="stdDev",onClose:()=>v(null),title:"Anlisis de Consistencia ()",children:g.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[g.jsx("p",{children:"La Desviacin Estndar () mide qu tan dispersa est la produccin de tu rebao. Un valor **bajo** es ideal, ya que indica un rebao consistente y predecible."}),g.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[g.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebao dentro de 1 de la media"}),g.jsxs("p",{className:"text-4xl font-bold text-amber-400 my-1",children:[ae.consistency.percentage.toFixed(0),"%"]}),g.jsxs("p",{className:"text-sm text-zinc-400",children:["Esto significa que la mayora de tu rebao tiene un rendimiento muy cercano al promedio de ",g.jsxs("span",{className:"font-bold text-white",children:[re.toFixed(2)," Kg"]}),"."]})]}),g.jsx("p",{className:"text-xs text-zinc-500 pt-2 border-t border-zinc-700",children:"En una distribucin normal perfecta, este valor es del 68%. Un valor superior indica una consistencia excepcional."})]})}),g.jsx(ir,{isOpen:A,onClose:()=>P(!1),title:"Qu es el Anlisis del Ordeo?",children:g.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[g.jsx("p",{children:"Este panel clasifica a los animales en ordeo segn su rendimiento, permitindote identificar rpidamente a los individuos de mayor y menor produccin."}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-white mb-1",children:"Clasificacin (Pobre, Promedio, Sobresaliente)"}),g.jsx("p",{className:"text-sm",children:"Se calcula usando la media () y la desviacin estndar () de la produccin. Los animales que se desvan significativamente del promedio se marcan como pobres o sobresalientes."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-white mb-1",children:"Ponderado a DEL"}),g.jsxs("p",{className:"text-sm",children:["Al activar este interruptor (",g.jsx(k_,{size:12,className:"inline-block mb-0.5"}),'), el anlisis se vuelve ms inteligente. Otorga un mayor "score" a los animales que producen bien al inicio de su lactancia, ya que es ms valioso que la misma produccin en una etapa tarda.']})]})]})}),g.jsx(ir,{isOpen:D,onClose:()=>I(!1),title:"Qu es el Score Ponderado?",children:g.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[g.jsx("p",{children:"El Score Ponderado ajusta la produccin de un animal para premiar la **persistencia lechera**, un indicador clave de la calidad gentica y la eficiencia."}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-white mb-1",children:"Frmula Aplicada"}),g.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center",children:"Score = Kg  (1 + ((DEL - 50) / (DEL + 50)))"})]}),g.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"Esto significa que 2 Kg en el da **200** de lactancia obtendrn un score **mucho ms alto** que 2 Kg en el da 40, ayudndote a identificar a tus animales ms eficientes y persistentes."})]})})]})}const fge=t=>q.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,o)=>{const a=o.date.substring(0,7);return i[a]||(i[a]=[]),i[a].push(o),i},{});let r=Object.entries(n).map(([i,o])=>{const a=new Date(`${i}-02T12:00:00Z`),s=a.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=a.getUTCFullYear(),u=o.length,f=o.reduce((c,p)=>c+p.kg,0);return{periodLabel:`${s.charAt(0).toUpperCase()+s.slice(1)} ${l}`,periodId:i,totalKg:f,averageKg:u>0?f/u:0,weighingCount:u,animalCount:new Set(o.map(c=>c.goatId)).size,weighingEvents:new Set(o.map(c=>c.date)).size,weighings:o,newAnimalsWeighings:[]}}).sort((i,o)=>o.periodId.localeCompare(i.periodId));return r=r.map((i,o,a)=>{const s=a[o+1];if(s){const l=s.averageKg?(i.averageKg-s.averageKg)/s.averageKg*100:void 0,u=s.animalCount?(i.animalCount-s.animalCount)/s.animalCount*100:void 0,f=new Set(s.weighings.map(v=>v.goatId)),c=new Set(i.weighings.map(v=>v.goatId)),p=new Set([...c].filter(v=>!f.has(v))),y=i.weighings.filter(v=>p.has(v.goatId)),b=[...f].filter(v=>!c.has(v)).length;return{...i,avgKgChange:l,animalCountChange:u,newAnimalsWeighings:y,previousAnimalCount:s.animalCount,exitingAnimalCount:b}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),xm=({value:t})=>{if(t===void 0||isNaN(t))return null;const e=t>0,n=e?"text-green-400":"text-red-400",r=e?q1:U1;return g.jsxs("span",{className:`flex items-center text-sm font-bold ${n}`,children:[g.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},hge=({stats:t,onClick:e})=>g.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-lg text-white",children:t.periodLabel}),g.jsxs("p",{className:"text-sm text-zinc-400",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(xm,{value:t.avgKgChange}),g.jsx(ev,{className:"text-zinc-600"})]})]}),mL=({weighing:t,onSelectAnimal:e})=>g.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-amber-400/50",children:[g.jsx("div",{className:"flex items-center gap-4",children:g.jsx("div",{children:g.jsxs("p",{className:"font-bold text-base text-white flex items-center gap-2",children:[t.id,g.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-red-500/80":t.classification==="Sobresaliente"?"bg-green-500/80":"bg-gray-500/80"}`,children:t.classification})]})})}),g.jsxs("p",{className:"font-semibold text-lg text-white",children:[t.latestWeighing.toFixed(2)," ",g.jsx("span",{className:"text-base font-medium text-zinc-400",children:"Kg"})]})]}),gL=t=>{const{x:e,y:n,width:r,value:i,total:o}=t;if(o===0||i===0)return null;const a=(i/o*100).toFixed(0);return g.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${a}%`})},dge=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:o,weighings:a,parturitions:s}=bi(),[l,u]=q.useState("all"),f=my((n==null?void 0:n.weighings)||[],o,a,s,!1),c=q.useMemo(()=>l==="all"?f.classifiedAnimals:f.classifiedAnimals.filter(y=>y.classification===l),[f.classifiedAnimals,l]),p=y=>{if(y!=null&&y.name){const b=y.name;u(v=>v===b?"all":b)}};return!t||!n?null:g.jsx(ir,{isOpen:t,onClose:e,title:`Anlisis de Nuevos Ingresos - ${r}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[g.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[g.jsx(Bd,{size:14}),"Promedio"]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[f.mean.toFixed(2),g.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),g.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[g.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[g.jsx(G1,{size:14}),"Animales"]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:f.classifiedAnimals.length})]})]}),g.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:g.jsx("div",{className:"w-full h-48",children:g.jsx($i,{children:g.jsxs(Ko,{data:f.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(rr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(fn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),g.jsxs(hr,{dataKey:"count",onClick:p,cursor:"pointer",children:[f.distribution.map(y=>g.jsx(Wd,{fill:y.fill,className:`${l!=="all"&&l!==y.name?"opacity-30":"opacity-100"}`},y.name)),g.jsx(Wr,{dataKey:"count",content:g.jsx(gL,{total:f.classifiedAnimals.length})})]})]})})})}),g.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:c.sort((y,b)=>b.latestWeighing-y.latestWeighing).map(y=>g.jsx(mL,{weighing:y,onSelectAnimal:i},y.weighingId||y.id))})]})})};function pge({onSelectAnimal:t,selectedPeriod:e,setSelectedPeriod:n}){const{animals:r,weighings:i,parturitions:o,isLoading:a}=bi(),[s,l]=q.useState("monthly"),[u,f]=q.useState(!1),[c,p]=q.useState(null),[y,b]=q.useState("all"),{monthlyData:v}=fge(i),w=my((e==null?void 0:e.weighings)||[],r,i,o,!1),S=q.useMemo(()=>y==="all"?w.classifiedAnimals:w.classifiedAnimals.filter(I=>I.classification===y),[w.classifiedAnimals,y]),A=I=>{if(I!=null&&I.name){const O=I.name;b(x=>x===O?"all":O)}},D={monthly:v,quarterly:[],yearly:[]}[s];return a?g.jsx("div",{className:"text-center p-10",children:g.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):e?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in",children:[g.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[g.jsx("button",{onClick:()=>{n(null),b("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx(Bc,{size:24})}),g.jsxs("div",{className:"text-center flex-grow",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:e.periodLabel}),g.jsx("p",{className:"text-lg text-zinc-400",children:"Anlisis del Perodo"})]}),g.jsx("div",{className:"w-8"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[g.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[g.jsx(Bd,{size:14}),"Promedio / Animal"]}),g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.averageKg.toFixed(2),g.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),g.jsx(xm,{value:e.avgKgChange})]})]}),g.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[g.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[g.jsx(jR,{size:14}),"Eventos de Pesaje"]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:e.weighingEvents})]}),g.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[g.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[g.jsx(G1,{size:14}),"Animales Ordeados"]}),g.jsxs("button",{onClick:()=>f(!0),className:"flex items-baseline gap-2 w-full text-left",children:[g.jsx("p",{className:"text-2xl font-bold text-white",children:e.animalCount}),g.jsx(xm,{value:e.animalCountChange})]})]}),g.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[g.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[g.jsx(H1,{size:14}),"Total Registrado"]}),g.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.totalKg.toFixed(0),g.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[g.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[g.jsx(kR,{className:"text-amber-400",size:18}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribucin del Perodo"})]}),g.jsx("div",{className:"w-full h-48",children:g.jsx($i,{children:g.jsxs(Ko,{data:w.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[g.jsx(nr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(rr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),g.jsx(fn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),g.jsxs(hr,{dataKey:"count",onClick:A,cursor:"pointer",children:[w.distribution.map(I=>g.jsx(Wd,{fill:I.fill,className:`${y!=="all"&&y!==I.name?"opacity-30":"opacity-100"} transition-opacity`},I.name)),g.jsx(Wr,{dataKey:"count",content:g.jsx(gL,{total:w.classifiedAnimals.length})})]})]})})}),g.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[g.jsxs("span",{children:[" = ",w.mean.toFixed(2)," Kg"]})," | ",g.jsxs("span",{children:[" = ",w.stdDev.toFixed(2)]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Perodo (",S.length,")"]}),S.sort((I,O)=>O.latestWeighing-I.latestWeighing).map(I=>g.jsx(mL,{weighing:I,onSelectAnimal:t},I.weighingId||I.id))]})]}),g.jsx(ir,{isOpen:u,onClose:()=>f(!1),title:"Variacin de Animales en Ordeo",children:g.jsxs("div",{className:"text-zinc-300 space-y-4",children:[g.jsxs("div",{children:[g.jsxs("h4",{className:"font-semibold text-white mb-1",children:[e.periodLabel," vs Mes Anterior"]}),g.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenas ",g.jsx("span",{className:"font-bold text-white",children:e.previousAnimalCount})," animales en ordeo. Este mes tienes ",g.jsx("span",{className:"font-bold text-white",children:e.animalCount}),"."]}),g.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.jsxs("p",{children:["El cambio neto es de ",g.jsx("span",{className:"font-bold text-white",children:e.animalCount-e.previousAnimalCount})," animales"]}),g.jsx(xm,{value:e.animalCountChange})]})]}),g.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[e.exitingAnimalCount>0&&g.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeo: ",g.jsx("span",{className:"font-bold text-red-400",children:e.exitingAnimalCount})," animales."]}),e.newAnimalsWeighings.length>0&&g.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",g.jsx("span",{className:"font-bold text-green-400",children:new Set(e.newAnimalsWeighings.map(I=>I.goatId)).size})," animales."]}),e.newAnimalsWeighings.length>0&&g.jsxs("button",{onClick:()=>{p({...e,weighings:e.newAnimalsWeighings}),f(!1)},className:"w-full mt-4 bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500",children:["Analizar los ",new Set(e.newAnimalsWeighings.map(I=>I.goatId)).size," Nuevos Ingresos"]})]})]})}),g.jsx(dge,{isOpen:!!c,onClose:()=>p(null),data:c,periodLabel:e.periodLabel,onSelectAnimal:t})]}):g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[g.jsxs("header",{className:"text-center pt-8 pb-4",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Historial de Produccin"}),g.jsx("p",{className:"text-xl text-zinc-400",children:"La pelcula de tu rebao"})]}),g.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:g.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[g.jsx("button",{onClick:()=>l("monthly"),className:`w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${s==="monthly"?"bg-amber-500 text-black":"text-zinc-300 hover:bg-zinc-700/50"}`,children:"Mensual"}),g.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Trimestral"}),g.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Anual"})]})}),g.jsx("div",{className:"space-y-2",children:(D||[]).map(I=>g.jsx(hge,{stats:I,onClick:()=>n(I)},I.periodId))})]})}const mge=({animal:t,parturition:e,onSelectAnimal:n})=>g.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),g.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),g.jsx(ev,{className:"text-zinc-600"})]});function gge({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=bi(),[o,a]=q.useState(e);q.useEffect(()=>{a(e)},[e]);const s=q.useMemo(()=>{const u=p=>n.find(y=>y.id===p),f=r.filter(p=>p.status==="en-secado").map(p=>({animal:u(p.goatId),parturition:p})).filter(p=>p.animal),c=r.filter(p=>p.status==="seca").map(p=>({animal:u(p.goatId),parturition:p})).filter(p=>p.animal);return{drying:f,dry:c}},[n,r]),l=s[o]||[];return i?g.jsx("div",{className:"text-center p-10",children:g.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[g.jsxs("header",{className:"text-center pt-8 pb-4",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestin de Rebao"}),g.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),g.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:g.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[g.jsxs("button",{onClick:()=>a("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${o==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),g.jsxs("button",{onClick:()=>a("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${o==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),g.jsx("div",{className:"space-y-2",children:l.length>0?l.map(({animal:u,parturition:f})=>g.jsx(mge,{animal:u,parturition:f,onSelectAnimal:t},f.id)):g.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:g.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}const yge=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result.split(",")[1]),r.onerror=i=>n(i)}),vge=({onImageSelect:t})=>{const e=q.useRef(null),n=r=>{var i;(i=r.target.files)!=null&&i[0]&&t(r.target.files[0])};return g.jsxs("div",{className:"space-y-4 animate-fade-in",children:[g.jsx("input",{type:"file",ref:e,accept:"image/*",onChange:n,className:"hidden"}),g.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.setAttribute("capture","environment"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[g.jsx(E9,{className:"w-12 h-12 mb-2 text-blue-400"}),g.jsx("span",{className:"text-lg font-semibold",children:"Tomar Foto"}),g.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Usa la cmara para escanear"})]}),g.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.removeAttribute("capture"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[g.jsx(I9,{className:"w-12 h-12 mb-2 text-green-400"}),g.jsx("span",{className:"text-lg font-semibold",children:"Seleccionar Archivo"}),g.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Elige una foto de tu galera"})]})]})};function bge({onBack:t}){const[e,n]=q.useState("capture"),[r,i]=q.useState(""),[o,a]=q.useState(""),s=async l=>{var u,f;n("loading"),i(""),a("");try{const c=await yge(l),v=await fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyAsHrxI8e8prsvYNvx992YyC26n592GfWk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:c},features:[{type:"TEXT_DETECTION"}]}]})});if(!v.ok){const A=await v.json();throw new Error(A.error.message||"Error en la API de Google Vision.")}const S=(f=(u=(await v.json()).responses[0])==null?void 0:u.fullTextAnnotation)==null?void 0:f.text;if(S)a(S),n("verification");else throw new Error("No se pudo detectar texto en la imagen. Intenta con una foto ms clara.")}catch(c){i(c.message||"Ocurri un error inesperado."),n("error")}};return g.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[g.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[g.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx(Bc,{size:24})}),g.jsxs("div",{className:"text-center flex-grow",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Escanear Cuaderno"}),g.jsx("p",{className:"text-xl text-zinc-400",children:"Digitalizacin Asistida"})]}),g.jsx("div",{className:"w-8"})]}),e==="capture"&&g.jsx(vge,{onImageSelect:s}),e==="loading"&&g.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[g.jsx(N9,{className:"w-12 h-12 text-amber-400 mx-auto animate-spin"}),g.jsx("p",{className:"mt-4 text-zinc-400",children:"Analizando imagen con IA..."})]}),e==="verification"&&g.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider border-b border-brand-border pb-2",children:[g.jsx(O9,{}),g.jsx("span",{children:"Texto Reconocido"})]}),g.jsx("textarea",{readOnly:!0,value:o,className:"w-full h-48 bg-black/20 text-white p-3 rounded-lg border border-zinc-700"}),g.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Funcionalidad de autocompletado de pesajes prximamente."}),g.jsx("button",{onClick:()=>n("capture"),className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Escanear Otra Imagen"})]}),e==="error"&&g.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-6 text-center animate-fade-in",children:[g.jsx(Ud,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),g.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Ocurri un Error"}),g.jsx("p",{className:"text-red-300",children:r}),g.jsx("button",{onClick:()=>n("capture"),className:"mt-6 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Intentar de Nuevo"})]})]})}const _ge=()=>{const{parturitions:t}=bi();return{alertsCount:q.useMemo(()=>{const n=new Date().toISOString().split("T")[0],r=t.filter(o=>o.status!=="activa"?!1:rf(o.parturitionDate,n)>=270).length,i=t.filter(o=>o.status==="en-secado").length;return r+i},[t])}},xge=()=>{const[t,e]=q.useState({name:"dashboard"}),[n,r]=q.useState([]),[i,o]=q.useState(null),{alertsCount:a}=_ge(),s=[{page:{name:"dashboard"},label:"Dashboard",icon:NR},{page:{name:"animals"},label:"Anlisis",icon:k9},{page:{name:"management"},label:"Manejo",icon:b9},{page:{name:"history"},label:"Historial",icon:x9},{page:{name:"add-data"},label:"Aadir",icon:W1}],l=c=>{t.name==="history"&&c.name!=="history"&&o(null),r(p=>[...p,t]),e(c)},u=()=>{const c=n[n.length-1];c?(r(p=>p.slice(0,-1)),e(c)):e({name:"dashboard"})},f=()=>{switch(t.name){case"dashboard":return g.jsx(B2,{onNavigateToAnalysis:()=>l({name:"animals"})});case"animals":return g.jsx(cge,{onSelectAnimal:c=>l({name:"animal-profile",animalId:c})});case"management":return g.jsx(gge,{onSelectAnimal:c=>l({name:"animal-profile",animalId:c})});case"history":return g.jsx(pge,{onSelectAnimal:c=>l({name:"animal-profile",animalId:c}),selectedPeriod:i,setSelectedPeriod:o});case"add-data":return g.jsx(ege,{onNavigate:(c,p)=>l({name:c,...p})});case"add-parturition":return g.jsx(ige,{onBack:u,motherId:t.motherId});case"animal-profile":return g.jsx(rge,{animalId:t.animalId,onBack:u});case"ocr":return g.jsx(bge,{onBack:u});default:return g.jsx(B2,{onNavigateToAnalysis:()=>l({name:"animals"})})}};return g.jsxs("div",{className:"font-sans bg-gray-900 text-gray-200 min-h-screen",children:[g.jsx("div",{className:"p-4 pt-0 pb-24",children:f()}),g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around animate-fade-in",children:[s.map(c=>{let p=!1;return t.name===c.page.name&&(p=!0),t.name==="management"&&c.label==="Manejo"&&(p=!0),t.name==="animals"&&c.label==="Anlisis"&&(p=!0),g.jsxs("button",{onClick:()=>{r([]),e(c.page)},className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${p?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[a>0&&c.label==="Manejo"&&g.jsx("div",{className:"absolute top-2 right-[calc(50%-20px)] w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-black/50"}),g.jsx(c.icon,{}),g.jsx("span",{className:"text-xs font-semibold mt-1",children:c.label})]},c.label)}),g.jsxs("button",{onClick:()=>zh.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[g.jsx(RR,{}),g.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})};function wge(){const{currentUser:t}=OR();return t?g.jsx(xge,{}):g.jsx(H9,{})}fb.createRoot(document.getElementById("root")).render(g.jsx(K.StrictMode,{children:g.jsx(p9,{children:g.jsx(Wme,{children:g.jsx(wge,{})})})}));
